<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>5. How to make a 2D Platformer - CHARACTER - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="5. How to make a 2D Platformer - CHARACTER - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>5. How to make a 2D Platformer - CHARACTER - Unity Tutorial</b></h2><h5 class="post__date">2014-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/m-J5sCRipA0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus hello
everyone and welcome to video number
five in the how to make a 2d platformer
course today we are going to be taking a
look at something really awesome which
is importing and setting up our 2d
character sprite so um today we're going
to be both importing the graphics and
setting up the import settings and we're
also going to be rotating the arm to
always point towards the mouse cursor so
later we can do some cool shooting
mechanics we are not going to be setting
up the animations today that's for a
future video
cool so throughout this video we're
going to be using the 2d assets Bank
which is of course available at brakus
comm so if I just load up the 2d course
here which you can access from the
projects or from the home page then
there's a download button that says
download 2d assets and it's completely
free
it just downloads a zip file so it
should be easy to open and it's ready to
use basically cool so let's get started
with today's video I've already opened
up unity and there's nothing changed
here everything is like before so let's
just start importing so open up the 2d
assets pack open up the 2d platformer
folder and then here we have two new
files and these are cool this cool
astronaut is made by a guy called aramid
and I'm probably gonna pronounce his
last name wrong so it's on the screen
and also you should check out his
facebook page which is in the
description he's a really cool artist so
check him out also to all of you who are
currently working on a character or
would still like to submit something to
the series please go ahead and just send
me over stuff and I might included in
the 2d assets pack still even though I'm
going to be using the astronaut player
for this course other people might
choose another one so it's always great
to have more in here so cool so let's
actually let me just explain we have a
Photoshop file here for those of you
working in Photoshop if there's
something you want to edit here it split
up into different layers and should be
pretty easy to access and then we have a
PNG which we are just going to be using
you can import the Photoshop directly
into unity and it will take care of
everything
but for simplicity's sake and in case
you don't have Photoshop installed we're
just going to be using the PNG so let's
take this and then simply drag it into
unity and release it over the project
pane and now let's select it and change
the sprite mode to multiple and change
the pixels to units - let's try 15 and
then change the filter mode to point hit
apply now we can go into this right
editor and in here we can select the
different sprites we'll do what's called
slicing up the sprite sheet into
multiple sprites I've set up the sprite
sheet to make automatic slicing pretty
easy to do so let's hit up in the left
hand corner and click slice and select
the type automatic and now we are
actually ready to slice this so you can
see it sets it up perfectly by the way
if you see these green circles around
the screen I'm trying out a new piece of
recording software and it likes to do
that for some reason so now we can have
a look at how our sprites are set up so
now we can see that it's actually set up
everything perfectly and if you want to
check this we can go up here in the
right hand corner and change from RGB
mode to alpha mode so now we are just
seeing the Alpha Channel and we can see
that everything is actually selected
just fine
so let's hit back into RGB mode and
let's just select the arm here and let's
first off rename this to arm and let's
change the pivot to left
this way we can simply rotate around
this pivot whenever we want the arm to
rotate awesome you could go ahead and
name each of these sprites I'm just
going to go ahead and rename the
astronaut idle and the astronaut jump
and then I'm going to rename the weapons
this up here is a full wall walk cycle
which we're going to be using when the
character needs to walk around so let's
select the gun here let's select let's
call this machine gun and let's call
this one for pistol I just quickly added
that just so we had a smaller weapon to
work with awesome now let's hit apply
and let's close this window and we are
actually ready to start inputting this
into our scene so let's open this up
simply click the arrow here to open up
the individual sprites and we can select
each one of them and what we want right
now is we want to find the idle one here
the astronaut woops I spelled that
incorrectly let's head back into the
sprite editor as drone odd idle like so
cool so select the astronaut idle and
let's drag this into the scene so simply
click and drag and release and this
looks pretty nice in scale it might be
just a bit too large
I want the play to be pretty small and
then I want to fill up the space with
plenty of explosions so let's actually
go under the import settings here and
change this to let's try 18 and hit
apply and this is much nicer it's just a
bit smaller than the player from before
which is fine for me cool so now that we
have this guy here let's go ahead and
drag him under the player so first
select the player and disable the sprite
so we can get rid of the robot and let's
have the graphics be a separate object
just a child of the player this way we
have more control over the positioning
of the graphics and we can flip them
when we change direction individually so
we don't have to constantly follow the
player so let's just drag the astronaut
idle under the player object and let's
just reset the on position and you can
do this by right-clicking on the
transform and hitting reset position so
that will just zero out the position and
now let's simply drag him down a bit on
the y-axis here and again if you are
dragging something click to drag and
then hold down shift to constrain it to
one axis and that actually doesn't look
too bad let's try and hit play just see
how this functions and it already looks
pretty awesome cool so what we want to
do now is we want to add in our arm and
to do this all we really need to do is
to select our arm and then drag it into
the inspector or I the hierarchy of me
and let's just drag this under our
player object also let's just reset the
position here like so cool now we can
take our arm and we can try and position
it in the center of our player so that
when we rotate it it can rotate the
whole way around without being really
placed this looks pretty nice
and now let's like both the arm and the
astronaut idle and let's change the
sorting layer to player and it's also to
make sure that the arm will always
render on top of the player that's
changed the order in layer two one
actually let's change it to two because
later when we add weapons we might want
them to be below the arm but above the
let's change this to to that that just
make sure that even though they're in
the same sorting layer it will still be
on top cold so what we can do now is we
can place a script on the arm here that
will rotate it towards the mouse cursor
but what we also want to do is to fiddle
around with how the arm is rotated when
we equip weapons and such that's
something we're going to look at later
because right now you can see that the
arm is automatically is automatically
scaled with the character that's not
really something we want so actually
let's just go ahead and change that
first that will make debugging easier
later so let's go ahead and make sure
that the arm is independent of the rest
of the graphics because right now it
scales with them and that's not
something we want we want it to simply
point towards the mouse cursor so in
order to do this all we need to do is we
want to select the player let's find the
platformer character to D script so
let's double click this and this was the
script that we imported in the very
first tutorial also I might want to
mention this you can see right now that
I have a theme on monodevelop which I
just think is a bit more relaxing on the
eye if you want the same cool thing in a
cool theme instead of the black text on
white background you can simply go under
I think it's where are the options it's
tools options and then you can go down
undo a text editor then syntax syntax
highlighting and change to oblivion you
will have to click OK before it updates
so simply change it from default to
oblivion and you can get the same color
scheme cool so first thing we want to do
is we want to establish a connection to
our graphics because instead of changing
the whole player we simply want to
change the Oz to the the graphics down
here
so let's rename this to graphics and
let's simply store these graphics in a
variable and then simply change the
scale of those and start off the scale
of the whole player because right now
when we move all the way down to the
button we can see that we have a
function called flip and what this
function does it is it will flip the
character to always face the direction
it's walking in and it basically does
this by creating a vector3
with the transformed local scale and it
then modifies the x-value of that vector
3 simply flips it by multiplying with
minus 1 and then it feeds it back in but
instead of transformed a local scale we
want the child here being the graphics
dot local scale so in order to do this
let's make a new variable and we're
going to do a public actually let's not
let's just make this private because
we're not going to be assigning it
ourselves you're going to be assigning
it in the awake function so let's just
do transform and let's call this player
graphics and then a semicolon so this
will be a reference to the graphics so
we can change direction then endear
awake function where we are setting up
the references we want to do player
graphics equals transform dot find
child's so the transform class has a
pretty cool function that will allow us
to find the child of an object and this
is better than doing a game object dot
fine because it doesn't have nearly as
many game objects to look through so we
will find the child and research by name
so let's open up some parentheses
here and inside of these two signs we
will type graphics simply type in the
name there and we should actually be
good to go so now let's move what we can
also do actually is we can say that if
our player graphics is equal to null
meaning that that if it couldn't find
oops if it couldn't find the graphics
object we are going to give it a warning
here so we are going to do debug
deadlock our let's do debug deadlock
error let's say let's freak out there is
no graphic graphics objects as a child
of the player
this way later when we get some bugs and
try to change things around
we have clever error images just telling
us what's going wrong cool so now let's
move all the way to the button instead
of doing transformed our local scale
we're going to do player graphics that
local scale and the same down here so
player graphics that local scale now
let's save this out and when we hit a
head back into unity here and hit play
you can see that it's only our graphics
that will change direction the arm will
just point the same way now let's make
the arm point towards the mouse cursor
and in order to do this we're going to
have to do a few calculations let me
just show you the basics of those here
so right now you can see I'll just bring
over the layers panel here also so I can
enable and disable some layers cool so
as you can see here we have a X and a
y-axis
this right here is they are regarding so
that's 0 comma circle and we have a
player who is standing at 1 comma 1 and
then we have the mouse cursor which is
currently at 3 comma 3
so what we need to do is first off we
need to subtract the position of the
player from the position of the mouse
cursor so 3 comma 3 minus 1 comma 1
equals 2 comma 2 so that gets us the
point right here then what we need to do
is we need to use a function called at
10 2 that will go ahead and find a line
that goes from 0 comma 0 up to the point
2 comma 2 and then it will return the
the angle between the x-axis and that
line and that's the angle that we want
to add to our arm so if that makes any
sense
then great if not then I'm going to show
you how to code it right now and you can
just skip over it and it might make more
sense when you see it in code so let's
try this out cool so let's just move
this over and let's open up the
monodevelop oh no we need to add a
script so let's select the arm
let's hit add component new script and
let's call this sorry let's call this
arm rotation so it create an ADD and
let's double click this to open it up in
monodevelop so here we go it's open it
up and what we want to do is it's
actually pretty simple a unity has a
built in function for this called
transform that look at but this will
allow us to get a it will give us more
control the weight in the method we're
going to be using now will give us more
control than transform that look at and
also we it will allow us to constrain
the movement to just one single axis
which is the z axis that's what we're
going to be rotating around cool so in
order to actually do let's this let's
this just remove the start function and
then inside the function update we're
going to be writing
different stuff let's start out by
writing vector3 and it's called this
difference equals camera dot main that
screen to the world point and we are
going to feed it our mouse position so
in point that mouse position
let me just fullscreen this input that
Mouse position and then we're going to
subtract it with transform that position
so this is the first part of everything
we had simply making a vector3 called
difference and this is just going to be
the difference between the position of
our mouse in 3d space and the position
of our character then what we're doing
after is we are normalizing this so we
are taking the difference we are doing
that normalize this is something you can
do to 3d vectors in unity and what this
does is it sounds really complicated but
it's really not and what we are doing is
we are clamping all these values to be
all equal to one so when we take the sum
of the vector meaning that we say X plus
y plus Z we will that will be equal to
one so normalizing means that we still
remain we still keep the same
proportions between the different
numbers but we are just making all of
them smaller so that when they are added
together they will equal one so this
will still give us a the correct point
and it will allow us to give us the
right direction but it's just doing
smaller numbers so here we are
normalizing the vector this means
meaning that all the that the
some of the vector will be will be equal
to one and that's basically it so the
importance of this I'm not going to go
into here and above this we assembly
subtracting the position of the player
from the mouse position cool then next
up we are going to let me just move this
up to a line above let's just go like
this so we can see everything cool and
then in the next line we are going to
tie make a new float and let's call this
a rotation let's just do read Z for
rotation on the z axis and we're going
to equal this to math dot a 10-2 and
then we're going to input the difference
dot y and the difference dot X and we
are going to multiply it by math dot rad
to degree so what we're doing here is we
are finding that we are finding here let
me just get this over here we're finding
this angle so we are making the vector
between at this point so we are finding
the vector that goes from 0 comma 0 and
then up to 2 comma 2 and then we are
finding the angle between the x-axis and
that vector and then we are converting
that angle from radians over to degrees
because they are much easier to deal
with so that's what we are doing here we
are making a variable stored in here we
are finding the angle and here we are
converting it to degrees
cool so let's just comment this out we
assembly find the angle in degrees as
simple as that and then at last we are
simply going to apply this rotation so
we're going to do transform that
rotation equals quaternion
Euler and that means that we will pass
it degrees and not radians and then we
are going to do 0 F comma 0 F comma
rotation set and here we might need to
add on 90 let's just do plus 90 and see
if this works
if it's rotated weirdly maybe pointing
in the opposite direction we need to do
negative 90 this is where you can
correct that if you have some offset
cool so let's save this out and let's
hit back into unity actually let's just
store the offset in a variable that's
just good practice so let's open it up
here let's make a variable and call this
public float let's just do an integer
that should be plenty so public int
rotation offset and we're going to
default this to 90 and then here instead
of 90 we are going to do rotation offset
awesome so now when we head back into
unity we should see a variable here and
we do and when we hit play you can see
that the arm actually follows the cursor
but we have the wrong siding side
pointing towards it so that's why we
have the rotation offset let's try and
just throw this out and then it's
actually working cool so this if again
if you're using the arm I am then just
set that value to 0 but if you're using
some other asset it might be really
useful cool so now we actually have an
arm that will point towards the mouse
cursor so that's really great
we've come a long way already let me
just check the time here so yeah we've
been going for a long time I think we're
just going to conclude with this and
then in the next video we can take a
look at stuff like animations adding
some weapons there's plenty of stuff to
do you can see there's also some already
some weapons inside of the sprite atlas
so they're ready to being applied so
that's going to be really awesome so
thanks for watching and I'll see you in
the next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>