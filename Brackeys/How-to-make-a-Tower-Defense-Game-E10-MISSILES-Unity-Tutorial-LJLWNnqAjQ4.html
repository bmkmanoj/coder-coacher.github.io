<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to make a Tower Defense Game (E10 MISSILES) - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="How to make a Tower Defense Game (E10 MISSILES) - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to make a Tower Defense Game (E10 MISSILES) - Unity Tutorial</b></h2><h5 class="post__date">2016-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LJLWNnqAjQ4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this video is brought to you by our rune
Mela I'm really sorry if I butchered
your name thank you so much for donating
if you want to support brackets yourself
you can go to patreon.com/scishow thanks
for tuning in at brac ease hello and
welcome to this video including a tower
defense game in unity today we are going
to be doing some explosions we are going
to be editing our missile by adding a
texture to it we are going to be
creating a cool particle effect when it
hits something and also we'll be editing
the bullet script to allow for damaging
enemies in a radius instead of just
hitting the target so a really exciting
video today and let's just jump right
into it so you can see that I'm here in
unity and what I want to begin with is
finding our input ports folder and then
our missile launcher if you haven't
watched the previous video where we
imported the missile launcher I
definitely recommend that you go ahead
and do that now or you could just use
your own model for a missile of course
but this missile here that you can see I
have in the scene um is part of on that
missile launcher model so you will have
to import that at least cool so um we
basically want to set this up with a new
material it currently has the default
one so let's right-click under the
missile launching materials folder to
create a new one and let's call this one
missile let's then drag it on top of the
model and let's select our missile
launcher texture and drag that into the
albedo Channel let's bump up the
metallic Ness and bring down the
smoothness to make it fit with the rest
of our scene and basically I want to use
this as our graphics object but not as
our road object and the reason why is
that if we currently select it and make
sure we are set to pivot and local up
here you can see that our blue arrow
meaning our forward axis which is our Z
positive Z
upwards and not forward when it comes in
relation to our missile so basically we
want to rotate our missile so that it
points in the same direction as our Z so
that when we chase a target it will look
the correct way and they're really the
easiest way to do this is just rename
this to something like graphics create
an empty object that we reset the
transform
and let's call this one missile missile
there we go let's take a graphics object
drag it on the missile let's reset the
transform on that and let's just drag it
up here so we can see what's going on
and you will notice it has disappeared
but really it's just really really tiny
so we'll just select our graphics here
and set the scale to 100 by 100 by 100
and that will bring it right back and
then what we can do is we can actually
just rotate it on 90 degrees around the
y-axis and now when we select our
missile you can see that the z-axis and
our missile points in the same direction
so now we can hit an a hit add component
and then add the bullet component and
let's select the speed of something like
30 I want to give the impression that
this missile actually has some mass and
therefore moves a bit slower towards the
target and we'll also get this cool like
Meets eating meat CT seeking
heat-seeking missile effect that looks
kind of impressive and then as the
impact effect will create one ourselves
in a second but let's just use the
bullet impact effect for now so now we
can take this missile drag it down and
under the prefabs folder to make it a
prefab let's remove it from the scene
and then let's select our missile
launcher and drag our missile under the
pilot prefab to replace the bullet with
the missile there we go so now we should
be able to actually test this out and
I'm just going to do that really quickly
by placing the turret down there and you
can see I just passed it here to just
launch the missile if we take a look at
the missile in the scene it's definitely
not pointing towards our enemy and why
is that because it's pointing in the
right direction here as we can see that
is because we actually haven't added
this functionality yet so if we go ahead
and take a look at our missile and then
the bullet script and double-click that
to open it up in visual studio we
currently don't do any rotation on the
object at all so let's go ahead and do
this and it's really easy we want to do
this in the update loop because we don't
want to do it every frame and we want to
do it right beneath the line where we
move the actual missile that means
transform translate what we want to put
here is just transform dot look at so it
will look at whatever target and of
course we will just use our target
variable that is the transform up here
that we set using um or that we set from
the actual missile launcher so the
missile launcher points towards
something and it fires the bullet in our
case a missile and it says your target
is this enemy and it will fly towards
that and now point towards that and if
you hear some noise in the background
that is just my cats being naughty but I
will try and continue here so the next
thing that we want to do let's just see
this working actually let's just see
this in effect here so you can see that
our missile now correctly chases our
enemy so that's cool the next thing that
we want to do is damage the player or
the enemies in a radius so if we go in
here under our bullet script again you
can see that currently if we get within
armed or if we hit the target here we
call a function called hit target and
all that does is instantiate some kind
of effect and then on destroy on the
target game object and destroy the
bullet all I want to do is I want to go
up here and add a new variable and this
is going to be a public float with a
range or radius I think I'm going to
call this the explosion radius and I'm
going to default this to zero and this
way down here we can simply add in an if
statement that's that says if explosion
radius is greater than zero well then we
want something extraordinary to happen
then we want to damage people inner
radius people in our enemies and if not
then we can just go ahead and hit this
single target and I think the way that
we do this is instead of just destroying
the target object or we'll still be
doing that but let's wrap that in a
function because we might do several
things I definitely want to have some
particles whenever our enemies died
because right now it's
just on our hit particles and not any
kind of death effect and that looks kind
of empty and I also want some way of
keeping track of the health of our
enemies and so that is to come but for
now we'll just have a avoid damage here
and it's going to damage a transform and
we'll just call that enemy and then we
can simply put this destroy statement
down here so instead of destroying the
target up here we are going to destroy
enemy dot game object here and then what
we can do is we can say if explosion
radius is greater than zero then we want
to damage several and enemy symbol
actually want to explode and we'll add
that function in a second if not then we
want to damage the target only the
target there we go and no matter matter
what we want to destroy ourselves at the
end so that should actually be it and
now we can create the actual explode
function here so we'll have a void
explode and the way that we are going to
do this is we are going to use physics
dot armed I believe it is overlap sphere
and this is just going to shoot out a
sphere and check for all of the
colliders that is hit by that sphere
that overlaps with that sphere or inside
of that sphere and it's going to do that
from a position and in a radius so our
radius here is our explosion radius and
we can use this to get an array which is
basically just a list of items a fixed a
list of items with a fixed range fixed
range fixed length so we can get an
array of all of the colliders that are
in that sphere so collide array and
we'll call this one our our colliders or
something like hit objects or something
like that and the reason why I'm not
calling this enemies is because we might
also have hit some objects that aren't
our enemies what you can really do here
we don't want position that we want
transform that position transformed up
is that you can add a layer mask to
filter out anything but enemies that are
on a particular layer may be called the
enemy layer or something like that or we
could just use the fact that all of our
enemies if we go under your prefabs here
and select our enemy all of our enemies
are tagged as enemies so now we loop
through on this list here so for each
Collider our Collider in colliders here
for each thing that we have hid we want
to see if that Collider if Li collided
that we've hid dot tack is equal to
enemy so if it the end the thing that we
hit here is tagged as an enemy then we
can go ahead and damage it so then we
can call damage on Collider dot form
there we go so now we will shoot out a
sphere as an explosion we'll see what it
hits we'll look through all of the
things that it hid and check if they are
indeed an enemy and if they are we will
damage them which basically now just
means destroy them cool so that is
basically all the logic that we are
going to need so now if we hit play here
and it's not going to be visible with
the first enemy of course only the
second one when we have multiple enemies
in here so I'm just going to wait a
second here and actually I just are
reminded myself that we haven't changed
the range of our missile launcher so we
have to select our missile launcher
actually we have to select our missile
and we have to add an explosion radius
and you will notice that currently we
don't have any way of viewing this
radius so as we did with our turret and
when we added a range I suggest that we
go down here and go void on draw gizmos
selected and we add in gizmos dot
draughts wire sphere from our current
position transformed up position in
explosion radius and that we make this
arm red or something so gizmos color
equals color dot
there we go so that will just make it
very clear to the user when setting
things in the inspector here how big a
radius the missile actually will explode
in and this is quite a big radius we
might have to bring it down to something
like seven or let's just do eight that
might hit something like at least two or
three enemies so let's apply that let's
go and hit play and now we should see
that if we wait for the first one here
to pass by and put a turret for this
second wave here we should see that they
both explode because they were in that
radius and none of the environment or
anything that gets removed and the one
that was down here didn't get hit so you
can see that this always hits two and
sometimes if you're lucky hits three
enemies which i think is quite good for
balance but you can of course mess
around with this expect especially when
we get the actual damage parameters in
there that we can tweak cool so now
let's add an awesome effect so now is
for the particle playtime that should be
whole whole thing should have like a
jingle that goes particle playtime okay
maybe for the next video let's go and
hit create particle system and let's
reset actually I don't want to begin
with the whole fresh particle system
let's use a bullet impact effect as a
base here so let's duplicate the prefab
called this one the explosion effect now
maybe we should do missile explosion
effect to be more clear about what this
is let's drag it in and now we can see
that this is kind of boring that's first
of all loop this while we're playing
around with it and set the duration to
something like three so that looks
pretty good there and my cat is joining
in again say hi hi so I'll just put him
down so um what we can then go is we can
go under shape here and maybe just bring
up the size of this radius a bit because
we are do want our explosion to be kind
of large and dramatic and then we can go
under emission and definitely bump the
so I think we should go to something
like 30 and my idea with this is that we
add a bunch of debris that goes flying
and that falls on the arm on the ground
and then we add a separate particle
system that is kind of our fire spikes
thing which is also cubes but that
actually has a negative gravity so they
go flying in the air I think that's
going to look fairly cool so let's just
have this be at something like 30 and on
the start size and all that actually is
pretty good but I definitely want to
bump up the speed so let's go between 10
and maybe 15 and maybe between 5 and 15
but I definitely want them to go flying
I actually think that this this looks
pretty good and then I'm going to go
down on the render run I want a disable
receive shadows and cast shadows I don't
think there's any reason for them to
actually do that not when we have this
many in the scene especially because
we're going to be adding a cool light in
a moment that you will see what-what
does and yeah I kind of like that so
let's use that as a base to work off of
and let's now do placate this and we can
maybe we can take the second one and
drag it under as a child and this is
going to be our flames or sparks or
something it's just going to look a bit
different so let's create a new material
for this create material and this is
going to be our missile explosion sparks
flames flames and so let's go onto our
flames object under the renderer and
let's drag our new material under that
and we can now go in and edit this the
color of this here so did that actually
apply I don't think that apply correctly
let's go down here okay so it's actually
selected as the material here but I
think our nested prefabs is messing with
us there we go so now it looks correctly
so we'll nest those in a second um so I
really like the look of that but we'll
definitely have to adjust the color a
bit here so I want to have
something I kind of red-orange really
really bright something like that I
think that looks really cool and then
what we will do is we will have a
negative one gravity modifier so it goes
flying up into the air and we will add
definitely some size to these we'll have
them be between 0.25 and 0.5 to make
them a lot bigger we'll set the start
life time between armed random between
two constants between let's do a point 5
and 1 and let's definitely also add some
speed to these so the start speed is
going to between be between 10 and 25
and I really like the way that this is
going let's actually do 15 and 25 and
it's also set the emission up to 50 I
want that to be a lot of flames and
let's also bring up the size of these so
let's bring up those up 2.25 and 0.5 and
we can maybe even make these a tiny bit
bigger but I think we'll try this out
and see how it goes
that really gives this aggressive feel
to the explosion so we can drag those
under that now and we can try and hit
apply to this prefab here so if we add
simulate that looks cool and then we can
remove the looping and we can remove the
looping on the other one as well hit
apply again and now remove that from the
scene we can go back into a bullet
script here and we just want to make
sure that the effect that we instantiate
has something like 5 seconds and not
only 2 seconds because this effect might
last lasts a little bit longer just in
case you have a different effect than I
do I think that the boundary there was
just a bit too small so that's awesome
and I believe that we have to select our
missile now and hit or drag our missile
explosion effect under the impact effect
slot for that to be applied so now we
can hit play and this will look cool but
maybe a tiny bit empty here so I think
the explosion itself is freakin cool but
I definitely think that we need some
kind of flashing light in there just
some kind of flash effect to make it
feel like an explosion missile and also
if we go under add the missile explosion
effect and select our flames want to go
down and disable collision there's
really no reason to check for collision
when they're just flying up into the air
anyways so all of the other stuff seems
fine but now let's drag this under our
hierarchy and let's just add a quick
point light to this so let's go
right-click and then light point light
and I want the range of this to be
something like I don't know 20 or 25 and
the color to be a bit more orange here
really orange actually and I want the
intensity to be high something like 3 or
4 maybe even 4 actually because this is
a whole explosion thingy and I want to
drag it up a bit there we go in relation
to our flames here we can just see what
that looks like I think that looks
really cool and let's also add some hard
shadows to these so that's not going to
require too much rendering time but it
does definitely add something to the
scene especially have if you have more
enemies in here and now we have
basically two options either we could go
in and create an animation that is going
to quickly fade this out or we could
create a script that does the same thing
maybe that just disables it after a
single frame or something I think we
should just go ahead and add create an
animation that gives us a lot of control
and it's really really easy so let's
have this bi light and let's go on your
animation here hit create and this is
just going to be our explosion light
animation and let's create a whole new
folder for this so go new folder
animation and let's go and save it undo
that and you can see now that it's
created the light controller that
controls what animation we are playing
an explosion light which
is our animation itself and on our light
it has created an animator component
that is the one that takes care of our
playing whatever the controller tells it
and actually going through the explosion
animation so now we have this timeline
here and I just want to add in a tiny
change in intensity so let's go forward
something like I don't know like 0.05
here and let's bring the intensity all
the way down I don't think that's any
reason to go more technical with this
and you can see just how quick of an
effect that is and that is basically all
I want to do however I want to select
our explosion light and disable loop
time so it won't just stand there and
loop and look like a muscle flash it
will just disappear once it's gone
through a single time and we can also
see on the light here that if we double
click that to open up in the animator
this is orange which means that it's the
default animation state and so it will
be played right when the object gets
spawned in so now we can hit apply on
the missile launcher explosion effect
remove it from the scene and we should
be able to hit play and see this in
action so I think that gives a really
really cool effect I think we added the
range which is great so we have the
functionality in place we have a
cool-looking a particle and we even have
a light in there so that is basically
all I wanted to do for this video you
can of course tweak this in any way that
you want to and yeah thanks for watching
I hope you enjoyed it and without
further ado I will see you in the next
one thank you so much to all of the
awesome patreon supporters who donated
in August and a special thanks to our
own Metta Robert Rhodes Calhoun Vixen P
and Andrew K
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>