<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>23. How to make a 2D Platformer - GAME OVER - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="23. How to make a 2D Platformer - GAME OVER - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>23. How to make a 2D Platformer - GAME OVER - Unity Tutorial</b></h2><h5 class="post__date">2015-12-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bSG5m0Q6W4c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus hello and
welcome to video number 23 in the how to
make a 2d platformer course at this
point we have a lot of sub systems
working in our game but we still need to
define when the player loses so we kind
of need to introduce this idea of a game
over state so that's what we are going
to do in this video also if you have any
questions go to farm brackish comm so
let's open up unity as you can see I've
pretty much left the project as is I've
simply
organized the dead bit on I took some
scripts and place them in the scripts
folder and some stuff under the
animation folder as well I also notice
that we have two additive materials this
one is for the muscle flash I'll call
this additive muscle flash and then we
have this additive generic particle one
so I'll call this additive particle and
drag that into the materials folder as
well so I think that's pretty much all
we need to do we might also go ahead and
make an audio folder where we can drag
in the respawn countdown I don't think
we're going to be needing a folder for
physics materials all right so let's
just save that you will also notice that
I have updated my version of unity to
unity 5.3 this introduces a bunch of
cool features one of the most exciting
ones is having multiple scenes or
grouping scenes together so you can see
multiple scenes in the hierarchy here
and load scenes easily and manage scenes
at runtime that's a super cool feature
and that allows you to do a lot of
streaming assets and stuff like that but
that's not something we're going to
cover in this video so basically what I
want to do is give our player a certain
amount of lives because right now when
we die if I play the game here and jump
down the player simply responds and
that's just fine however I want to kind
of introduce a
well bigger penalty for dying and that
for a thing we should have maybe two or
three lives and when we don't have any
more lives we need to kind of start over
and begin back at wave one so in order
to do this I think we should jump into
our GM object here and begin coding this
idea of player lives so let's open this
up in Visual Studio and you can see that
we have this set up so that we have a
instance of our game master and that's
of course a static one so we can access
it through the type and then we have a
bunch of public variables non static
variables let's sit on that instance so
that we can easily integrate it with the
unity inspector but this idea of player
lives is something that I want to sync
across and make very easy to access and
therefore I'm going to make it static so
I'm going to make a public static
integer and actually let's make a
private one and then let's make an
accessor so we'll have a private static
int and this is going to be a player um
I really want to think this through now
so yeah so this is going to be remaining
lives and it's going to start at some
variable I think we're just going to
start it off at three and then we're
going to have a public static integer
and we'll capitalize this and call it
remaining lives and this is simply going
to be a property so if we want to get
the variable remaining lives here we
will simply say get return underscore
remaining lives this way we can only
change the lives remaining inside of the
DM R type or a class but we can get it
by simply referring to the
the variable type so that's pretty
awesome
then what we can do is every time we
call this kill player method you can see
that we currently just destroy the
player object and then we start this
respawn player curve routine on the
instance of the game master object and
before we do this we can simply
decrement the amount of player lives so
we can say player lives four remaining
lives it was here - equals one or you
can just say - - that's up to you I like
to write it this way and then we can
check if underscore remaining lives and
we want to check if this is less than or
equal to zero well then we don't want to
respawn the player then we want to end
the game
so this here is going to be an in else
statement
so we'll just pop that up there and make
a tab and here we're going to call some
kind of end game method and I think we
are going to make this local so we can
set up some references I don't know
whether or not this will be an
enumerator I think we'll just start out
by making a normal method and then later
we can also always add the functionality
so for now it's going to be a public
void and this is going to be end game
there we go
and here you can simply call GM end game
like that and it should be fairly easy
and in here we'll simply make a debug
that large statement saying that simply
saying game over all right so let's try
this out and see if it works
so I'm going to hit play here you can
see the loads in here and I'm going to
jump down three times that was the first
one this is going to be the second one
and third time here it says game over
and notice that we don't hear the
respawn sound and all that so we have
this custom case that we can fill up
with some you is some sound effects all
that so that's great I also kind of want
to have a counter here for how many
lives that we are currently at we could
make this using some heights and that
would be pretty cool but for now let's
just do some text we can always change
this later there's no reason to spend
time on an unnecessary detail at this
point because I think you know how to do
most of this so let's do this under the
UI overlay' maybe and we can make a an
empty in here now we'll just expand on
to the entire screen and we'll call this
player info just in case that we want to
have more than one thing in here and for
now we'll just create a simple text
object that will anchor to the left-hand
corner up here at some point we might
put it on the player himself down here
that might be bad if we're actually I
almost like that better actually let's
do that
I've thought things through now so then
we need some hearts if that needs to be
cool let's do it up here let's save
ourselves the hassle of course you can
just stick it on to the the player info
that it's attached to the player object
and all that there are plenty of
tutorials on doing these health amounts
and that kind of stuff it's basically
just the sprite that you slice I won't
go into it now so here will simply say
lives
and colon and then the amount of lives
and we'll just start that off at 3 and
the fund here should be Lilliput steps
just as all of the others and I've
noticed that some of the funds sometimes
look a bit blurry especially when scaled
up so in order to come and save for this
we can go into the computer pack find
the
footsteps and change this from smooth to
hindered raster and the font size to 32
that should get rid of that bonus you
can see how much sharper it looks now
and that looks fairly decent but we
probably want to move it a bit away from
the corner so it's not stark up there
and I think I want to capitalize all of
these because I like the fund with
capital letters that looks better we can
maybe also bump up the font size to
something like at 20 and make the color
a bit more eco so we could do a black
one with a white outline or maybe the
inverse so we'll quit and create a
shadow here instead of an outline and
just give that a little bit I actually
like that a lot so I think we'll just
stick with that for now and we can
always change it later
we could also color this red because it
is our lives
no that looks actually okay so this is
going to be our text for now and I think
we'll just create a simple script here
that will retrieve lean for about our
amount of lives to here and this is of
course not the most ideal way you could
create some kind of what should we say
action or event that triggers whenever
I'm a certain or the lives change and
then subscribe this to the event and all
that but instead we're just going to
create a simple script because it's not
going to have that much of an over here
so let's just go in here and go undo new
script and let's type lives calendar UI
let's do that and let's also call this
lead lives counter if it wants to update
lives calendar there we go and let's
double click this to open it up in
monodevelop will just read all
everything here or in visual studio I
should say and first off we want to be
using
engine UI and we want to create a let's
do a serialize field and make this a
private text object and we'll simply
call this the lives text and we want to
require that component here require
component type of and then we'll call it
text here and at the beginning we simply
want to let's not make this a serialize
feel that's instead just get it through
the start method here or even Bailey the
awake method delete that comment there
we'll simply set lives text equal to get
component text cool and then in the
update method we can simply find the
remaining lives here so we can simply
say that game master dot remaining lives
that is the amount of lives and we can
simply say that we want lives text to be
equal to that as a string but it will
automatically convert it to a string if
we do this and then remember to put in
lives here and a colon and a space it
doesn't convert well then we just do dot
to string and now it should be happy
okay that's because we want to do dot
text there all right so of course we
could do some checking if the variable
has changed and all that but really it's
not necessary this is not an expensive
call of any sort so we'll just have that
sit there and if we hit play now and
jump down we can see that changes to two
immediately so that's perfect cool so
now that we have that working we can
actually implement some logic for what
happens when the game is over and again
I want to go under our UI overlay and
create an empty object here because I
kind of just want to display a game over
screen
with a quit button or a restart button
and so we'll make a empty object call
this the game over screen or whatever
you want to do here again we want to
fill the screen with this and by the way
to do this I'm holding down alt and then
clicking and then let's make another UI
component here our objective should be a
panel and we want the texture here to be
the white texture and you can go into
the game here and see that if we make
this black and then with a certain
opacity something like that looks pretty
cool that's fine so that's just going to
make sure too that our UI stands out
from the background and we're just going
to call this background and then on top
of this we can make another UI element
and this is going to be a text object
and it's going to look very much the
same to you here so we'll scale this up
we actually want this to be centered I
think I believe but we'll see and we'll
change the font type to Lilliput steps
we'll bump up the font size will also
Center this there and there that looks
pretty cool we want to change this to
game over capital letters we want to
change the color to a red and I think I
want a shadow here that is white
completely white and with an offset of
three three and minus three something
like that and kind of an old-school
rkd look which i think is pretty cool in
here and then we can rename this to game
over text let's make a few buttons here
so we're going to have a UI button and
we definitely want to size this up
there's no reason for it to be so small
something like that looks fine and again
I don't want this soft button
look I don't think I do I actually we
might keep that but I definitely want it
to be a kind of dark maybe even blacken
them with a bit of opacity looks pretty
cool and then the text objects should
again be little bit steps a much bigger
font size and that's just a in a
temporary error if you want to get rid
of that you normally you can just
disable and enable the object there you
go I don't know why it does that but
it's doing been doing it for a long time
and let's just make the text of that
button a white here and we can call this
the quit and we are also going to have a
retry button we're going to say we try
here and that's really all you have to
do I mean this looks kind of okay I
definitely think you should spend more
time than me on this maybe I want these
to be kind of a grey here and then not
transparent
I might actually like that better but I
don't know
we could try adding a red shadow let's
just try this up just for fun let's make
that red completely non transparent
three and negative three
hmm that's not bad we could do a bit
more here so five and negative five
that's actually kind of fun I might
stick with that I don't know we can try
changing these from UI sprites with just
the white texture here to make it square
yeah that's much better and I actually
kind of like the look of this now so
we'll change this from the retry button
to the and this to the quit button and
that should be all and let's just see
how that looks in game you can also see
that the mouse over here still works but
you can of course customize that if you
want it to be
more clear I could be pretty cool with a
scaling effect of some sorts here now
that I've seen this in the game I kind
of want to scale the game over up even
further so let's just give it a tad more
there and I think that will be good so
definitely experiment with this more
than I have here on but I kind of want
to move on with the video so what we
could do now here and what I think we
should do is have some kind of game over
screen managers some kind of object that
sits here and make sure that everything
works as it should and there are a bunch
of ways to do this frankly but I think
we should just add a component and kind
of get coding with this so we'll call
this the game over manager game over
screen we call this the wave UI so we'll
actually call this the game over UI I
think just to stick to our convention
and we'll just topics like that again
reload all and that's fine so this is
going to be using unity engine dot UI
and we're going to have a bunch of stuff
in here first off actually we might not
have that much stuff in here we might
not even need a UI reference we need to
include the UI namespace actually the
first things that we want to create are
some methods that we can call using our
buttons that will either restart the
game or quit the game so we'll make a
public void here called quit and I don't
think it needs to take in the new
arguments which is simply going to call
application dot quit I believe yep and
it's also going to throw a debug that
lock just because it won't quit our
application while we in the editor here
saying application
quit something like that and yeah so
that looks good and then we'll make
another public void and this is going to
be the retry and I think we're simply
going to restart the level here so
application that load level application
downloaded ah level that's not a method
nope
that's a field good this is good
looks like this is obsolete okay so this
is a feature in the new unity I believe
and I think this will work
but it will tell us that there's a newer
way to do it yeah so here during the
engine that application that load level
in this obsolete you seen manager that
loaned scene instead okay so let's try
this out so I haven't actually done this
yet so scene manager like this maybe we
need to include something scene manager
download scene so let's just load up the
documentation here and we'll figure this
out together so go to the script in
reference and hopefully this is already
documented here and let's search for a
scene manager here and we'll see that we
can load a scene
alright so name of the scene to load
scene build index index of the scene so
we can use either one of those and we
have to specify a mode which is looks
like allows you to specify whether or
not to load the scene added Lee
so that will basically allow us to load
scenes onto other scenes or whether or
not the scene that you want to load will
will replace another scene but we just
want to okay so it's under Unity engine
that scene management so if we just do
scene management okay you actually have
to load that in so you sing
the engine that scene management right
it's right there so now we can say scene
manager load scene and we actually don't
need to specify the mode it looks like
and then we can simply say scene manager
downloaded scene no that's not something
we can do
get active scenes get active scene here
I think that's what we need to do so
scene manager scene manager dot get
active scene and that's probably a
method something like that should
hopefully work or not from scene to a
string that returns a scene get scene ad
get the scene at index in the blah blah
blah get seen by name gets seen by PO by
path okay so I'll just quickly research
how to do this and I'll come back in a
second alright so that was really really
easy all we need to do is simply do a
dot here and we have access to both the
build end X or the name so whatever you
want to do here I'm just going to load
by the build index because a an integer
is a very small data type so that's
going to be just fine and now when we
save this it's going to restart the game
here we don't need a debug that log
statement because I I think this will be
pretty clear that it's happening so we
can now see that this warning will
disappear and we can clear this out here
remove all this all right and now all we
need to do is link this up to our
buttons so we can go under the game over
here find the retry button and add an on
click event and we're going to drag in
the game over object here go and do a
game over UI and find the one called
reach
and under the quit button we'll do
exactly the same so add an event game
over your object game over UI class and
find the quit method this time so now if
we try this out and hit play and we
can't want try quitting first and the
quit currently restarts did I miss this
up looks like it so this is actually the
quit button and this is the retry button
and therefore we need to switch these
two so game over you I quit and game
over you I retry so let's try that again
that's kind of important that those
aren't switched in the final game so
let's try quitting you can see it says
application quit and if we try it
restarts the game there so that's
perfect so now that we have all of that
available for us we kind of need some
some kind of transition for this game
over objects and I think that we might
just fade it in but we should definitely
make some kind of animation for this and
in order to do that let's add a
component here let's make it and this a
canvas renderer nope
remove that a canvas group is what I'm
looking for where we can control the
Alpha of all objects simultaneously and
do all kinds of stuff just to have that
there and then we can add an animation
here so we'll hit create on this and
first it will create the animation that
we want to have and this is going to be
the game over fade in or something like
that that's going to be fine say that
and it's automatically going to create a
game over
making name animator so now we can
actually do this animation right here so
the first thing that we want to do we
might try
simply fading this in but actually what
I would really like to do is fading in
the background and having the other
elements kind of pop up pub in from the
sides so I think we should try that
instead so let's just pop out from this
mode and create a canvas group here so
we can control the Alpha and don't need
to mess around with the color in case we
change that later and don't want it to
glitch with the animation here so now we
can go into animation mode again and we
can simply change the Alpha here so it's
going to start off at zero and then go
to one so we'll just make this zero here
and simply switch these two and I don't
know how long we want this animation to
be but we'll see in a second so that
should fade it in over a period of a
second and the second seems just fine
actually
then we have the gameovertext we of
course want to change the position of
this so we can start by simply quickly
moving this back and forth here so
that's going to be our end position it's
going to be there and down here we
simply want to move this out of the
frame so this way it goes like this and
that's going to be just fine we want to
do the same with I two buttons so we can
simply um whoops you can take these two
and just quickly wiggle them there and
the exposition of both of them I believe
should be zero there we go and that's
going to be our end position so we can
drag that over there oops yeah that
looks about right what is this this is
the canvas group alpha I think that's
just fine there
and then here we can take the position
of the two and just drag them down by
holding shift you can drag on only one
axis at the time so there you can see
how that looks
I think that looks pretty cool actually
so let's just make sure that when we are
at this point those look like that and
this one is that F is zero so now we can
go under the curves here select all of
this focus on it and we can right click
and go to flat so that will smooth out
the motion here and I think we now have
a pretty cool fade-in animation so now
we can go under our game over animator
and we can see kind of what triggers
this and I think that we'll just have
this triggered using the entry point
meaning as soon as we enable this object
so we can simply disable it and then as
soon as we want the game to be over we
enable it through code and a very very
simple way to do this is if we go into
our game master object in here we'll
keep a public or a reference to this I'm
going to make this a serialize field
make it private I know I haven't done
this with these variables but this is
better and we'll make this a you can
either do a game of a UI or a transform
just going to make this a transform and
we are going to call this the game over
oh I wonder why and then when we call
the endgame method here and call the
game over a debug deadlock statement all
we need to say is game over UI dot set
active that is a method for it game
objects object here dot set active and
we want to put in true here so I think
that should pretty much do it all we
need to do now is make sure to drag that
in on the slot here
so you can see that says none we drag in
the game over object and apply this and
I think we should try this out so let's
say play let's jump down a few times you
can see our lives decrement every time
here and now when we reach zero it
should pop up with the game over screen
oh and you can see that it loops here
alright so that looks really done let's
quickly stop it from looping and all we
need to do is simply select the game
over fade in and remove the loop time
here that will means that will it will
only play once let's do this again if
you want to test this a bunch of times
of course recommend that you decrease
the amount of lives so don't have to
wait every time but I believe that it
should be working now so it goes to zero
the game over screen comes and you can
see that as soon as the enemies that
don't have a target and we've
disappeared over here in the hierarchy
well then they simply stop chasing so it
looks like the game is frozen but it has
not and therefore we can still do a
bunch of animations and stuff if that's
what you want it to do so that's super
cool a lot of people when they make a
game over screen they simply make it pop
up and then they freeze time in the game
and that's fine for maybe a pause screen
but with the game over you often want to
play some cool sounds have some cool
animations and that gets ruined if you
pass time so I believe this the best way
to do it you can see that we can now
quit it and it says application to quit
or retry and we are back in the game and
it's beginning state so that's basically
all I wanted to cover in this video I
also think it was pretty long but it's
important to have a game over state for
any game or the game won't be
challenging so I felt this was a really
important video and I am already looking
forward to the next one so I'll see you
guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>