<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>8. How to make a 2D Game - Unity 4.3 Tutorial | Coder Coacher - Coaching Coders</title><meta content="8. How to make a 2D Game - Unity 4.3 Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>8. How to make a 2D Game - Unity 4.3 Tutorial</b></h2><h5 class="post__date">2014-03-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0xOcWG4PQdY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus hello
every one number comes the video number
eight in going to d today we're going to
take a look at creating some to UI that
will allow us to restart the game we
will also just fix a couple of bucks we
are actually getting pretty close to
finishing the game up and being able to
export it so not a lot of videos to go
so let's just get started with today's
video
so first up open up unity as always cool
so first we're going to look at a bug
that has been annoying quite a few
people and that is the bowl bowl
sometimes slowing down when colliding
with the top of the players even though
the bounciness is set to one and the
friction to zero the ball can still slow
down at times so I've written some okay
code to fix it it's basically just
patching things up it's not the best
practice but the alternative would be to
ride the ball collision completely from
ground up and I think that's just too
much for this video so today we're just
going to implement the code I came up
with which is a pretty basic set up cool
so first I'll open up the ball control
that javascript file and let me just
zoom in on the text here and then we're
going to make an update function so just
right below the function start create an
function update and open up the brackets
there and in here we will just do var X
well 4x velocity of type float equals
rigidbody 2d where the first R here is
just non capitalized dot velocity
Dex so we're just storing our X velocity
the movement speed on the x axis into a
float variable so we can just reference
it throughout then we're going to say if
this X velocity is smaller than and I'm
going to say 18 here you can go ahead
and change this it's going to depend on
the speed you set the ball off with the
ball speed up here you don't set that
directly you set that using add force
we'd pay which basically means that
instead of changing the velocity
directly down here we use the add force
function so that way if we add the force
of a hundred here it won't actually
travel with that X velocity of 100 so
you're going to have to just figure that
out yourself and I can just quickly show
you a pretty easy way to monitor your
balls velocity and we simply go debug
that lock velocity and then just plus
the X well there so now when we save
this and hit back into unity we get an
error here unknown identifier oops I
missed a D there to D cool so now when
we hit into unity and hit play we can
see in the console that it will output
the velocity of our ball and we can see
here that the ball currently lives
around the 19 or minus 19 when it
switches so I think that 18 will be a
pretty good value to say that if it's
less than 18 we will bump up the
velocity a bit you don't want to do this
constantly because that can mess with
collision and stuff so just leave a bit
of a barrier there that it has to cross
before we change the velocity cool
so now we can do if X well is smaller
than 18 and make 2 and signs X well is
bigger than -18 and last one X well it's
not equal to 0 because it's going to be
equal to 0 when we are resetting the
ball and we don't want it to just fly
out or conflict here when we setting the
ball cold so now inside of this if
statement we are going to write another
if statement where we're going to figure
out if it's traveling to the right or to
the left so now we say if X well is
bigger than 0 open up some brackets and
then in here we are ready to add the
velocity so we just do rigidbody and
here we need to add the velocity
directly to the rigidbody and we can't
just change this value because that
wouldn't actually apply to the rigidbody
so we need to do rigidbody 2d done oops
2d done well that's annoying dot
velocity dot x equals 20 and again
that's just something you're going to
have to play around with else
rigidbody2d dot velocity
x equals minus 20 so we're just going to
boost it in the other direction so
basically what our code does now is it
first off stores are currently X
velocity as a float variable then it
checks if we are traveling between 18
and minus 18 in either to the right or
to the left and it checks if we are
standing still and if we are not
standing still and are between the 18
and minus 18 values it's going to check
whether or not which traveling to the
right or to the left and then apply
velocity in the direction we are
traveling cool so now what we can do is
we can just monitor what it's doing by
adding debug locks so now we can simply
say debug lock velocity before plus X
velocity X well here and then close that
off and then also a debug that lock
saying velocity after plus and then just
rigidbody2d dot velocity that X I'm just
going to do a small B there
cool so basically what will happen now
is we will add the velocity and then it
will say what it was before and but it's
it has now been changed to just so you
can follow along and what it's doing
behind this and behind the scene now we
can clear off the console here and just
to touch test out if this is working we
can select our ball bounce and we can
try to bump down the bounciness a little
bit but right now my inspector is stuck
here so hopefully it will just sometimes
I have some issues while Dropbox is
sinking and it's it's pretty normal
see if we can get it to select there
cool so select our bounciness and simply
change this to something like 0.8 and
now in the console we will be able to
monitor what's going on there
and we can see that it changed to
changes itself actually not what right
now it's set sleep before - the same as
the after that shouldn't be happening
let's just see what's going on here okay
so I figured out what our problem was
the code was actually working but I
forgot to put the debug logs inside of
the if statement here so they were
constantly being cold which they
shouldn't be so now if we just put them
in here and make some space for them
there we should see this working
correctly so now when we hit play clear
off all our console logs here we can see
that the velocity changes from fifteen
point nine to twenty every time it hits
so that will just allow it to that will
just force it to have the right velocity
at all times cool so now that that is
done we can set the bounciness back up
we can clear the console here and if you
don't want the debugging you can simply
just comment those out by selecting them
right-clicking and hit toggle line
comments great so let's save this and
hit back into unity because what we're
going to do now is we're going to add a
reset button and we're going to do this
using a custom skin I've made which I'm
going to show you in a sec let's first
set up the code for the game manager so
select the TM object select the game
manager script and double click it to
open it up in monodevelop now here we're
going to scroll down to the function on
GUI and then we're going to make some
space and we're going to type in if GUI
dot button
and then open up some parentheses and
say new rect and open that up and we are
going to do screen dyed width / 2 -
let's do 121 divided by 2 and the reason
actually let me just show you this
before we go into all this so just do
screened up with / - comma then we're
going to do 35 + comma 121 comma 53 and
these values are all very specific but
that's because I've made a image that
fits these values so I'm going to show
that in a sec then we're going to write
reset with capital letters and we're
going to close it off and then open up
some some brackets there and then we're
going to just leave it empty in here so
now when we save this out I'm just going
to quickly show you why I've selected
exactly those values and the reason why
is that they fit the image of the images
I've made so if we go ahead and close
down unity here and go to the 2d assets
pack which you can get from practice
calm let's open this up we can see that
we now have a new folder called GUI
and if we go into this and then on the
button we have three states of a button
here the normal the hover and depressed
and this all looks really weird because
it's on a white background but if we
just select all of them and drag them
into unity we can set them up so select
all three and then change the texture
type to GUI and hit apply so now what we
can do is we can insert this into our
score skin but first let's just make
sure that they are positioned exactly
how we want them so if you just select
the button normal here we can see that
it's 121 by 53 pixels so if we go into
unit
back into monodevelop we can see that
I've set the width 221 and D height to
53 and then because when we are using
screen dad with remember that it uses
the anchor point in the top-left corner
here so we need to Center this in the
middle of the GUI so we are going to
subtract subtract half of its its width
so we're going to do minus 121 divided
by 2 go so now when we head back into
unity it will position it exactly in the
center and also something I've noticed
is that our fun here is not correctly
centered in or it wasn't before at least
before it says mine said minus 13 I've
just gone ahead and change this to minus
18 that's a bit closer to the exact
center cool so now we can just go ahead
and add in the skin here so this core
skin select that one and then open up
the bottom section and then undo normal
we can select a custom texture and we're
going to do button normal then undo
hover we're going to do a button hover
and then under active we're going to do
button pressed then we're going to
change the text color FRA for the normal
and D hover to being completely blank
the active we're just going to leave
that as is then we're going to change
the font to I would like a real but you
can just mess around with that and the
font size to something like 24 so now
we're actually ready to go ahead and
watch our button in action so now when
we hit play we can see that we have a
button that is correctly centered called
reset and we can press less and it will
switch between the normal hover and
press States correctly cool so now we
just need to add some simple logic in
order for making it reset so we're just
going to do inside of
if statement we're going to do players
score one equals zero
oops let's play score we need player
score and to play your score two equals
zero and then we're going to do a game
object that find to find the bowl and
send a message to make it reset and we
could do the game object are fine here
but that would be pretty taxing because
then it would have to do it every time
we hit the reset button so instead we
can go ahead and make a function where
it will store the ball as a variable so
let's just do function start and then in
here we can store it as a variable so
let's make a varial for variable for it
called var the ball of type transform
and close it off there and then under
the function stat we can do the ball
equals game object dot fine and let's do
game object dot find game object with
tag a let me good going to do ball and
let's just do dot transform and close it
off so we're just setting the ball as
the variable here so now when we save
this let's just go back into unity and
remember to tag the ball correctly so
let's go to tag and change it to add tag
then right ball and then let's just
select it there
awesome now we go back into the code and
under the player score we simply say the
ball dot game objects that sent message
and then we are going to do reset ball
is the name of the function of course
you need to change it
you've coded something else and then
let's close it off so now it will tell
it will in the function start when the
game starts it will store the ball as a
variable as a transform and then it will
go down here when we press the reset
button and it will send a message to the
game object that the reset button
function of the recent bulb function
should be called so now when we go ahead
and maximize and hit play we have a
button that will reset our game so let's
just see if we change the score a bit
here and then hit reset the ball jumps
back into place and the score resets so
that's basically it for this video in
the next one I think we're going to go
ahead and do some exporting but maybe
I'll find something else to do let's see
but the series is pretty much coming to
an to an end soon so thanks for watching
and I'll see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>