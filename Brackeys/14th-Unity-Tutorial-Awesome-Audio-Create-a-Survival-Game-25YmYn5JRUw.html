<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>14th. Unity Tutorial, Awesome Audio - Create a Survival Game | Coder Coacher - Coaching Coders</title><meta content="14th. Unity Tutorial, Awesome Audio - Create a Survival Game - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>14th. Unity Tutorial, Awesome Audio - Create a Survival Game</b></h2><h5 class="post__date">2013-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/25YmYn5JRUw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello one welcome to the 14th video in
our create a survival game series done
by brackets I am the CEO of Bacchus and
today we are going to be taking a look
at another method for making audio and
underlying music for your game so we're
going to apply some smooth fading
between audio sources so let's go ahead
and open up unity this is generally a
better method than what I showed you in
the last tutorial though it does have
its faults and I am going to talk about
them very very soon so first off let's
talk about what we made last time we had
these two audio sounds with a 2d audio
attached to them and a script that
handled all of the switching on and off
so basically once the play insert these
triggers these trigger colliders the
music would stop playing and when he
left them it will stop this didn't give
the effect of smooth fading and it was
not really nice so on let's go ahead and
for now just disable these by selecting
them in the hierarchy and hitting this
checkbox so now we can see they are
grayed out they aren't disabled great um
the reason why I showed you these in the
first place
was so that you can get an understanding
our are of how audio zones works inside
of unity and also it's really great to
know how to make trigger functionality
it's good for making all different kinds
of surprising events or just make making
sure that your game stays alive ok cool
so let's go ahead and clean up from our
last tutorial drag the audio zone script
under the scripts folder and we are
ready to go now hit the game object
create empty
or you can just press control shift and
to make a and empty game object you can
go ahead and right-click and rename this
to audio sound optimized I'm just going
to right up or source or whatever you
want I'm going to write up and then 0 1
so very similar to what we did before
I'm going to 0 up the transform and
place it basically in the center of our
village alright so now I'm going to hit
the add component on the white right
hand side and I go under audio and then
hit the audio source this is gonna again
add the audio source component built
into unity into our game now we want
something to start playing and this is
very similar to the tutorial we did last
time now though now we are going to
start to see some changes so if I double
click our audio folder I have changed
something with these audio files if I
select the friendly music first example
you can see what I've changed the 3d
sound is now enabled this is because I
want these to act as a three-dimensional
sound actually placed in somewhere in
the scene so that unity can take care of
the roll-off or the linear fading for us
so we don't need to do this through
scripting and this is really great for
stuff like background music or at least
if you want to change it based on the
player position then it's really great
for background music it's great for
environmental things stuff like wind
blowing or water splashing from the sea
you get the idea
alright so you can go ahead and check
that 3d sound and hit the apply
keep in mind that if your file is way
too big for games like mine my files is
or are then it could take quite a while
for it to convert but be patient it
should work so now let's go and undo our
audio sound optimized and track and the
for example friendly music drag it in I
guess I'll just select it somehow my
dragon isn't working
oh there we go now it's fixed so we have
differently music and it says this is
the 3d sound exactly how we want it we
want to play on awake to be set to true
and we could go ahead and play around
with some of the 3d sound settings so
right when you add it it should look
like this if we go ahead and expand the
3d sound settings you can see a whole
lot of system or audio settings come up
there are a lot of things that we can
tweak here so if we go ahead and just
hit play right now the piece starts
playing and once we get closer to the
source it gets a lot louder and if we
rotate around you can hear it coming
from different places in the room this
might not be like clear to you but if
you are sitting listening to this with a
headset or or multiple speakers you will
be able to notice this and for the most
part with music you don't quite want it
to move between speakers so we are going
to fix some of these problems now first
of all we want the piece to stay equally
loud throughout our town we don't want
it to decrease in its audio level or
pitch um depending on where we are in
the town so therefore we are going to
change
the minimum distance so let's take the
minimum distance and drag it up and you
can also see this happening inside of
scene view you can also select one of
these stats and drag it inside the scene
view this gives a very nice visual
representation of the minimum distance
before the roll-off begins and that's
what this is all about this is about
creating the roll-off or the fading in
the indy audio whether it whether it's
linear or logarithmic and looking
rhythmic simply means that it has a
curve in its listener whereas if we
change it to linear you can see that it
changes the volume in a straight line
alright so I'm you can have whatever you
want here I'm going to go ahead and
change it to linear just to make this a
little easier to explain and show off
okay so now that we have this set we
could go ahead and change the max
distance so if we change bump down the
max distance quite a bit we should in a
moment start to see the blue sphere and
that is so what this means with the
current settings that we have is that
when inside of this smaller sphere the
music will be equally loud no matter
where we are when we get right outside
it it will start decreasing and until we
hit this outer sphere then it will be
completely gone so if we go ahead and
bump up the max distance quite a bit we
can make the fading a lot slower but if
we leave it here I can just illustrate
so let me go ahead and hit play the
music is very loud
and it stays equally loud no matter
where we are in the inner circle now I
start leaving the inner circle and you
can hear fading until it's completely
disappeared
one thing though and this is the problem
with doing it through the 3d audio
handling in unity this is also why I
showed you the audio sone done through
scripting because yes this has does
indeed have a problem and it can be
quite difficult to hear when especially
because I'm recording this with just one
microphone but whenever we are inside of
our town and we rotate you can hear that
we get this feeling of the audio flying
by really fast and also the the audio is
panning from the left to right speaker
so this is not too great for doing music
it can be wonderful for stuff like a
splashing of the sea but especially with
music you want to keep it equally loud
until you want it to fade away so let's
go ahead and change the Doppler level
and the Doppler level is um well it it
it adjusts the effectiveness of the
Doppler effect and if you don't know the
Doppler effect
it's basically whenever we move a rotate
quickly the sound gets pitched up and
down so the sound gets adjusted and it
can sound really weird when we are
moving quickly or rotating quickly
that's basically the Doppler effect so
this will just change how much the
Doppler effect is going to influence our
sound
and we want that to stay at zero for the
music but we can still hear that it's
not quite gone it does still pan from
one speakers with other and then you
might say well there's a pan level
adjustment why don't we just change that
to zero let's see what happens so I hit
play try to run out of the circle it
should fade away it doesn't the pan
level is not does not just a don't
doesn't just adjust the the panning it
also adjusts how well a unity will
handle 3d sounds in general so this is
how much this audio source is going to
be affected by the 3d sound engine and
that means Luca rhythmic fall-off or
linear roll-off as well so that's quite
a bummer though I have come out up with
a a technique to kind of blur this a
little bit so blow the line and not make
it quite as well bad as it would be
anyways because the pan level can just
ask the linear roll-off in this volume
it can be animated so let's go ahead and
do this so here we have the green line
this is the pan level and I can go ahead
and drag this down a little bit the
x-axis here is the distance from the
center of this audio source so you can
see 0 5 10 this is 0 units 5 units 10
units and so on until we reach the end
or the max distance which is currently
set to 32 so that is how far away we are
and the y-axis is the influence of stuff
like volume pan level
spread and spread I won't be explaining
it's not very necessary for this kind of
audio configuration so let's go ahead
and adjust the pan level depending on
where we are and how far away we are
from the source so if we go ahead and
double click this will create a new
point and you can adjust the curve of
this by using this this point right here
but we are really just going to be
messing around with the position of the
point itself so if we go ahead and drag
this up and place it right about maybe a
little after the fading begins the
downwards fading this will mean that
when the audio starts fading out we want
to be able to hear this so therefore we
want the pan level we want the
effectiveness of the 3d audio engine to
be full but until then we really don't
care about the 3d engine so we are going
to take the other point here and drag it
all the way down and this way we achieve
something like this so when I'm inside
the city I can rotate and jump and run
all I want it won't change the audio at
all but when we start getting out to the
fading it will actually fade away now
this still doesn't change that when
you're in the fading sound you can hear
the audio being weird you can hear the
actual panning but I think it's a pretty
good solution it's definitely better
than the very harsh switching you will
most of the time get with scripting
audio else you have to get into the
distance from the game object and some
volume change
Jing I'm sure you can come up with an
algorithm but for now this will do so
let's go ahead and actually try to
implement something awesome so let's
drag out the max distance to make the
fading a lot smoother and slower and
let's hear how this sounds so right now
we inside the city and I forgot to do
one thing
so hit stop I forgot to adjust the the
pan level also so we have to drag this
back whenever we drag drag the drag drag
the default off back so on adjust this
also and whoops I made a mistake there
so quickly create these keyframes one
more time and let's have a listen how
needs to be a little lower try again
indeed no changes inside of the city and
then the music will slowly and
beautifully start fading away and one
thing I actually like about this panning
is that you can feel the music coming
from the town so if we if we imagine
that our player is coming from over here
from another town or has been in a fight
and we then close up on the village we
can start hearing slowly the music
playing and it let us know that we are
back home now I could change this to
liquor rhythmic roll-off to get quite a
nicer effect and create some more
keyframes on this adjust them to get a
nicer looking curve but this is just
some tweaking and I'm pretty sure you
can do this on your own so that's the
gist of it we could go ahead and
duplicate this audio zone and called its
audio sone optimized to check off the
play on awake
now actually leave that on my bat and
you might also want to set these both to
loop and then we could just drag this
over to another part of the map let's
say over there so if we follow the road
we follow the road we should hear you
the first piece fading out and as soon
as we get down here we should start
hearing the second piece fading in and
this way you can create different
feelings to different parts of your
environment there we go I forgot to
change rich peach piece this this audio
zone will be playing so we can just drag
the enemy territory in here instead and
this should be working so that's
basically it for the audio sound
creation one thing though if you want
the enemy to send out scary sounds or if
you want battle the music like the
frightening kind of music or our stuff
like that to play whenever we're near
the enemy you can simply take the audio
zone with the frightening music and drag
it onto the enemy and position it on him
and therefore it's parented on him so
whenever we get near him we can hear
these this piece of music playing so
that's a cool tip for engaging and also
letting the player know that he's near
something something bad so that's it for
audio thank you for watching and one
more thing before we wrap this up I have
asked a question on Facebook for what
you would like to see in future
tutorials I'm currently working on a
collision mastering collision tutorial
it's going to be really really cool and
I also have a lot of different stuff
the list you can see here I have written
everything down every request I have
gotten but I would like to get some more
feedbacks so if there's something you
want to see or something you want to
vote vote up go ahead and type in
facebook.com slash Brad keys and you can
go ahead and answer the question let me
know what you guys want so thanks for
watching and I'll see you in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>