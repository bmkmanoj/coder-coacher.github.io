<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>4B. How to make a 2D Platformer - Tiling - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="4B. How to make a 2D Platformer - Tiling - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>4B. How to make a 2D Platformer - Tiling - Unity Tutorial</b></h2><h5 class="post__date">2014-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/77zdOaUGguc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus then down
here we are going to check for a whole
bunch a bunch of things and I'm going to
write this out first and then I'm going
to explain it after so let's make the if
statement you're going to do f kin dot
transform that position that X is larger
than or equal to H visible position
right let's do that one first
- offset X and can I get the + symbol
here there and has a right buddy is
equal to false cool so what we're doing
here is we are first off checking if the
position of the camera is bigger than or
equal to the edge where the where the
element is vegetable so we have this is
where we're checking if B is bigger than
or equal to a which is basically the
same as checking for E and B but we are
just inverting it so we're checking if B
is bigger than or equal to a - our
offset so that we don't get weird errors
where we where it doesn't get to
instantiate it before we've it's too
late and then we're also checking if it
already has the right body because if
we've already been there and it's
already instantiated something we don't
want to instantiate something on top of
it so so that's what we're doing here
and then we're going to make an else
statement before we write some logic for
it it's actually going to be an else--if
and this one is going to be pretty
similar this is going to do the same for
the left side so if if that's not the
case we're going to transform the
position dot X is less than or equal to
so this time it's it's less than edge
visible position left plus offset X and
has a left body is equal to false so
here we're doing the exact same
calculation but over here so we are
checking if D has passed C and if we
already have a body there that's
basically what we're doing so in the
first if statement we can we're going to
call a function let's start out by
making the function actually because
this is where we get to instantiate our
body
so let's make a new function right below
the update one we're going to do var it
make new body and then we are going to
take a parameter so I'm not sure I've
shown you parameters in the last video I
think I didn't and what a parameter is
it's basically an a variable that you
can pass over to the function so when we
are calling the function we can say hey
function you should do all of your logic
but you should also remember what this
variable is and this is going to be of a
type int and we're just going to refer
to it as right or left could also call
it direction but this is just easier so
we are going to take in a right or left
and it's basically just going to be a 1
or a negative 1 value and this is
because we want to invert the position
if it's either right or the left body we
need to instantiate yeah so what we're
going to do now is we are going to first
off calculate the new position for our
buddy
so we're going to make a vector3
starting a position we're going to call
this new position we're going to equal
it to a new vector3
open up some parentheses and let's just
put the semicolon there while we added
we're going to write my transform third
position deck so our current position
plus the sprite width and then time it
with our right or left so if right or
left is equal to minus one it's going to
instantiate it on the left side of our
current object and if it's equal to one
it's going to instantiate on the right
side this way we don't need to do an
actual if statement we can just have it
we can just have the computer calculated
and then for the why we're going to do
my transform that position dot why
simple as that and the same for the Z so
my transform that position whoops
soutien dud z and close it off so what
we're doing here is we are calculating
the new position for our new body and up
here we are checking if we can see the
edge of the element and then calling
make new body if we can and let's
actually also just coming out make new
body this is the function a function
that creates a body on the side required
cool so now under the vector3 new
position we are going to write transform
and you actually let me write it out
like this we're going to do instantiate
so this is the actual spawning of a new
body an inside of this instantiate
function it takes three parameters the
first one is a transform with what you
want to instantiate and that's just
going to be basically a clone of what
we've already instantiated so it's going
to be a my transform
it's just a clone of the object then the
next one is the vector three storing the
position so that's just going to be a
new position that's what we've just made
and then a quaternion storing the
rotation so that's just going to be my
transform that rotation that's all we
need and what we want to do is we want
to be able to set the name of this set
the parent of this do different things
with this new object that we're
instantiating with this new body so
we're going to give a story this new
body in the variable we do this by just
putting transform and then the name new
body in front of it and setting it equal
to the instantiation but one thing we
need to do is we need to define a caste
we need to cast this and that means that
we are saying that this instantiating
tenshi ation should be a transform it's
not this is just defining what the new
body variable type is going to be we
also need to define what the
instantiation type is going to be and we
doing this by writing s transform
afterwards some people write it like
this
in parentheses in front just transform
but you know it's personal preference I
just think that for beginners at least
seeing the S in there makes it easier to
understand what we're doing simply
saying that we should instantiate it as
a transform and put it into a new body
variable
cool so let's just comment this out also
for its sake so we are instantiating our
new body and starring him in a variable
then right below this we are going to do
an if statement where we will use our
very scale so if reverse scale is equal
to two so if the object is not terrible
then we want to just do a cool nifty
little trick which is check the new body
local scale so just the scale or the
size of the new body we want to set this
to a new vector3 scales are stored just
like positional values as a vector3 and
we want to set this to new body dot
local scale dot x times minus one so we
want to invert the the X size of our new
body and then comma 1 comma 1 we'd also
do new body that logo scale that Y new
by the local scale that Z but that's not
something we're going to change the red
array actually I changed my mind let's
just future-proof this and do new body
dot local scale dot y come a new body
dot local scale dot Z whenever you don't
do something like this you always
district end up regretting it anyway so
cool so that's going to allow us to
invert the size of our different
mountains with which will mean that they
will perfect the loop because I'm going
to show you this if we just take this
mountains blue and duplicate it and move
it over we can see that the seam here
white tiles look
yeah just plain stupid but if we take
the scale here and invert it right now
it's minus one so if we make this one
you can see that it will almost
seamlessly are repeat and of course you
can see that it's it's tiling here that
it's repeating this way but it's much
better than an ugly seam and when it's
just in the background you rarely notice
so that's a good alternative to making
it Tyler ball which can be a pain cool
so enough script on the D if reversed
scale I'm just going to comment this out
if not tileable let's reverse the X size
of our object to make it to get rid of
ugly seams right below this we are going
to write new body that parent equals my
transform dot parent in a sec we are
going to parent these objects to some
empty game objects because we're going
to have a lot of foreground dirt once
the player progresses and we don't want
this to fill up the hierarchy so we just
want to make sure that if we parent the
first one the rest are also going to be
parented and that's what we're doing
here we're setting the parent of the new
body to the same parent as the current
one then we're going to do an if
statement and I promise you we are done
pretty soon we are getting closer to the
end here I'm pretty sure that's a song
so oh wow we're almost half an hour in
go so let's do this quickly
we're going to do an if statement we are
going to check right or left
if it's bigger than zero then we want to
here we want to do new body dud
getcomponent
of type tiles porno tiling was tiling
and we want to set has a left body to
chew so the reason why we are doing this
is because if we are instantiating a a
body over here
we need that body to realize that it
always ready has a body on its right and
if we instantiate in a body over here we
needed to realize that it already has
one on its left so that's what we're
doing so if right or left is a bigger
than zero that means that we have
instantiated one over here so we need to
tell that new body that it has a left
body there sorry it has a body on its
left and if it's not bigger than series
zero that means that we have
instantiated one to the whoops to the
left of our background and then we need
to say new body that getcomponent tiling
dad has a right body equals true Wow
okay so that was most of our logic now
we just need to fill out the if
statements so in here we want to call
make a new body and we're going to send
over the value one because we want it on
the right and then we're going to set
the has a right body to true in here
we're going to do make a new body and
pass it the value minus one and we're
going to set the has a left body to -
that was it let's see if we have any
errors we actually don't that's amazing
okay so let's try and hit play right now
it's only going to work for the
foreground third let's just go into 2d
mode here and let's let's just split
this view
so we can see everything that's going on
you can see right now that the camera is
really really wide so right when we hit
play it should create some new
foreground dirt for us and we should be
able to see this in the scene view also
it so let's try and hit play at indeed
it has created a lot of new dirt for us
which is just what we wanted and we can
even try this if we take our player here
let's just remove his gravity and let's
bump up his speed so maybe 50 so we can
quickly move over here and see what's
going on oops looks like we have a
platform in our way there so let's try
this again to see if this is working we
can see that it automatically
instantiates new prefabs as we are going
so that's really awesome and for some
reason the platform is currently
following us what's going on here have i
parented the platform yeah okay so I
dragged it in for some reason cool so
now the detailing should be working and
we can go ahead and add this to our
other elements so that lets like both
the background mountains blue and purple
let's drag in the tiling and let's make
sure to select reverse scale because
here we want it to reverse and now those
elements are going to loop also so now
we can just explore an infinite well
then we will never notice that it's
actually only three elements we are
using that was a long run okay cool so
thank you for watching and yeah we still
have a lot of exciting stuff to do so
yeah thanks for watching and I'll see
you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>