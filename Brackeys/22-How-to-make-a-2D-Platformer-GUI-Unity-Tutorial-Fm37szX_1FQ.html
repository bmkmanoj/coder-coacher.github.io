<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>22. How to make a 2D Platformer - GUI - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="22. How to make a 2D Platformer - GUI - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>22. How to make a 2D Platformer - GUI - Unity Tutorial</b></h2><h5 class="post__date">2015-10-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Fm37szX_1FQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you can see that now we've reached the
final point which is doing the actual
programming so let's set add component
and let's create a wave UI
script lets it create an ad and we could
implement this directly into the wave
spawner but I like the idea of keeping
these separate let's double click that
to open it up in Visual Studio and I'm
simply going to removing the using
system that collections namespace and in
there instead we're using unity engine
dart UI and the first thing that we want
to be creating here is a serialized
field because this is going to be
private and we want a reference to the
wave spawner because we and the wave
spawner keeps track of its current state
and the countdown timer and all that and
we want to have access to those so we
need a reference to the wave spawner and
we're just gonna name this spawner
and we also need some kind soory lives
field we also need to have a reference
to our animator so this is going to be
the of type animator and let's just call
this wave animator and in the start
method we can check if these are
actually referenced actually we need
some more so let's just do a serialize
field we need a text objects that stores
our wave countdown text and a serialize
field that stores or a text object that
stores our wave count text or a wave
number text so cool that's all of the
references that we're going to be
needing I think and now in the start
method we can simply add some checks to
make sure that these are actually filled
in so if spawner is equal to null then
we want to throw an error
saying that no spawner referenced and
then we can simply disable the component
and we want to do this for all of the
variables so let's just copy that if
statement a bunch of times and first for
the wave animator wave animator wave
animator then for the with countdown
text and finally the wave count text
cool and then in the update method we
want to have some kind of logic that
will that will kind of do things
depending on what state the wave spawner
is in and therefore we need to have
access to the state of the wave spawner
but with if we go ahead and look at the
wave spawner as is you can see that the
spawn state is currently private we have
this enum that can go between spawning
waiting and Counting and that's stored
in in state but it's private so instead
of just making this public and available
fully available to the script I want to
create a getter for this because I don't
want us to be able to change the spawn
State that's something that the wave
spawner should have full authority over
but I want us to actually access the
spawn State so in order to do this I
simply want to keep that private and
then create a public spawn State and
we'll just name this state with a
capital S and then open up some curly
brackets and create a getter that will
return the state now that's all we need
to do also I want to maybe move this pup
no let's just keep that in here that's
fine
nevermind good so now that we have that
I want to do the same with the wave
countdown because that's also something
that we want access to later when we
change we are changing the
texts so I want to create a public float
wave countdown with a capital W and this
is going to have a header that returns
wave countdown and finally for the next
wave let's just wait with that I think
because I don't remember the index of
this okay let's just create the Gator
now and then we'll change it so far now
we'll simply say that public float or
public integer next wave is going to get
next or return next wave we might need
to do some kind of subtraction here or
addition I don't know so we'll find out
so for now we can then go into wave UI
and we can create a switch statement
that will do different stuff depending
on the state so switch depending on the
spawn state so that means that we can
get the spawner god state and the
different cases that we want to have is
a case case one where spawn at state is
equal to wave spawner dot spawn state
dot counting so we are currently
counting in which case we will do the
following so then we will call some kind
of method that will say that we
accounting so let's make that method and
it's going to be a void and then it's
going to be called update countdown UI
and in here for now we're simply going
to be saying debug that lock counting
and we can then call this method in here
and break because we don't want to
for through to the other layers then
case wave spawner dot spawn state dot
spawning and in here we want to update
the incoming UI and break or maybe we
should call this this spawn in UI yeah
we should probably do that and maybe we
should yeah let's rename this to update
counting UI I think that's better cool
and let's create this method now so
let's just duplicate this rename it to
update spawning UI and this should say
spawning so we're calling different
methods depending on the state and
that's all we are going to do for now
let's just see if that is indeed working
so let's go into unity we have no errors
but we should have a bunch of slots and
let's just fill this in so the animator
is gonna go there the GM object is going
to go there because that has the wave
spawner the wave countdown text is going
to go there and the wave count text is
going to go there cool so now when we
hit play we should see down here that it
says counting counting counting counting
and when we're done it should say
spawning spawning spawning and it does
so that's perfect and now we need to
kind of trigger the animation so inside
our update counting UI we are going to
check if this we are basically we are
only going to trigger the counting
animation once and therefore we need to
check if we've just switched to this
state so we'll do that that by storing
the previous state and comparing it to
the current state so let's create a
private variable and this is going to be
a wave spawner dot spawn state and we
are just going to call this previous
state
and we don't want to default it to
anything and then in the update method
after we do a switch statement we want
to set previous state equal to spawner
down state and then in here we can
simply say that if previous state state
is not equal to spawner dot or if the
previous state is not equal to spawn
state dot counting so wave spawner that
spawn state they're counting so meaning
that we've just switched to this state
well then we want to debug deadlock that
we are counting and we want to do the
same down here but now with the spawning
state and we want to debug deadlock
spawning instead cool so if we were to
save that and state is not a method
there we go we can now hit play and we
should see that the state only shows
once so that's only called once and now
we're spawning so that's only called
once and we can of course go ahead and
kill off these opponents and you can see
that goes back to counting there so
that's super awesome and what we can do
with this is we can trigger the
animation correctly so now we can go in
here and we can say that we want our
wave spawner or our wave animator to
trigger the animation by setting the
bowl with the name and I remember yeah
wave countdown to true cuz we're
currently counting down and we want to
set wave animator dot set bowl
we want to set the wave incoming to
false because we can have multiple
states at once
so we'll just disable that and enable
this and we want to do the same thing
down here but reversed
we'll just duplicate those change the
order change that to true and this to
false perfect so I think that will
trigger the animation correctly and
let's check if it will make handing down
and it goes and says what wave is
currently coming and we can kill off the
opponents here and the system will keep
going even though we are responding and
you can see that that's working so now
all we need to do is simply update the
text so in here we'll simply say
depending no matter if we've just gone
to the state or with if this is not the
first time well we're still going to be
updating the text so we want to say that
wave countdown text dot text equals and
then we want to get the spawner dot and
the it is wave countdown yep and we
can't just set it equal to this first of
all this is a float so it's gonna have
decimal points which is not something we
want to display and also we need to
convert it into a string so first off we
can simply truncate this by converting
it into an integer which means that we
will just get rid of any decimals it's
not going to round it up it's just gonna
delete the decimals and then we can
convert it into a string by assembly and
closing these in some parentheses and
hitting dot to string and calling this
as a method so that will make it into a
string and down here and we don't want
it and we only want to do this once so
we can do it in here we want to set the
wave count text dot text
equal to spawner dud wave next wave
let's close that off and why is this
okay we need to of course convert this
into a string also dot two string let's
save that and now we might see again
that the wave that we responding is off
but you can see that the countdown is
fine and then it says wave zero incoming
and we probably want to increment that
by one that makes most sense to users I
think so now it says wait one incoming
and that's perfect so we simply need to
increase that by one and we can do that
in the return statement or in here but I
sent I think that since this is a get
only will have will increment it by one
in here that makes sense so we'll return
next wave plus one and if we now hit
play and let's do this in full-screen
because I'm fairly certain that this is
going to be working and also let's
simply comment out the debug statement
then there and let's go into unity
maximize on play and hit play and there
we go it's counting down it's saying
that way one is incoming and there the
enemies are and we can go ahead and just
shoot them it's gonna start counting
down again and waving coming so that's
perfect that's exactly what we wanted to
do and one thing that you will notice
here is that the countdown and the text
up here are not following each other and
the reason why is we simply need to go
under the UI overlay
wave UI here and find the wave countdown
text and set the anchor point to the top
here so that will make sure that these
will follow each other I'm fairly
certain at least so let's just check
that that and that that needs to be
right there
and I think that is all and you can see
that now they are following cool so that
was basically all we had to do that
disable that disable that and let's just
enjoy this F final time shall we so
clear the console open up the game in
full screen play and now you can see
that they're in the same place perfect
so that was basically all for this video
I hope you enjoyed it I think our game
is finally starting to come together
here and be playable and now you can go
ahead and play around with tweaking
stats on the different enemies making
some bigger and some smaller enemies so
that they get harder and harder changing
their damage amount and their speed
that's a lot of stuff you can do with
this of course also the hills the mound
so I will definitely I would definitely
recommend that you play around with
these mechanics see what you can get out
of them maybe create multiple enemies
and yeah that's basically all I hope you
enjoyed it and I'll see you in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>