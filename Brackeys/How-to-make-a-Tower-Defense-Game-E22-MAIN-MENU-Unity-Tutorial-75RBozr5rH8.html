<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to make a Tower Defense Game (E22 MAIN MENU) - Unity Tutorial | Coder Coacher - Coaching Coders</title><meta content="How to make a Tower Defense Game (E22 MAIN MENU) - Unity Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to make a Tower Defense Game (E22 MAIN MENU) - Unity Tutorial</b></h2><h5 class="post__date">2016-11-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/75RBozr5rH8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus hello
everyone and welcome to this video in
creating a tower defense game in unity
today we are going to be creating a main
menu for our game a lot of you guys have
asked for this so now we're going to do
it so let me just jump right into unity
here and basically what I wanted to do
was kind of make our menu field 3d so
we'll have some kind of turret as the
main element for our menu and then we'll
place some UI around that turret that is
actually active in the 3d scene so if we
just go ahead and duplicate our main
scene here and rename this to main menu
and actually I want to rename the main
scene to main level instead then we can
double click to open up the main menu
you can see that up here and we can go
ahead and get rid of a lot of this stuff
we pretty much want to delete everything
except for the main camera the
directional light the environment and I
believe that was pretty much it so for
all of the other stuff we'll just go
ahead and hit delete and you can see
that cleans everything out and inside of
our environment in our environment we
want to take a ground plane and move
that out and just delete all of the rest
so now we just have this empty level
with some of the same settings that we
used for our main level then what we can
do is we can kind of find a subject for
our scene so let's go under prefabs and
let's take say the standard turd and use
this by simply dragging it into the
hierarchy and let's reset the transform
on it to Center it on our level here
let's also move it down so I believe
it's negative 0.5 in order to place it
directly on the ground that is correct
and what we can do then is kind of
position this where we want it to be in
our picture so somewhere around here and
then a really really neat trick is you
can take the main camera and you can
snap it to the current view of our scene
by simply selecting it and going to the
scene and hitting ctrl shift F and
that's command shift if if you're on the
Mac and you can see it just snaps over
there and I might want to move it just a
tiny bit to the left here so I'm just
going to do that by middle mouse
and you can see that it now is just
snaps over so this makes it much easier
to position the camera in a cool and
interesting way then moving up the
transform which is up here so next up is
kind of adjusting our skybox here
because that doesn't look too great
right now what we'll do instead is we'll
change this to a solid color and then
we'll have the color be whatever the
ending color out here is and that is
going to ensure that we have a nice
smooth transition from the actual ground
plane here to the skybox it's a very
neat little effect that looks super cool
because it creates this feeling of an
endless empty space but it's so so
simple so we can just choose the color
picker here and choose the color at the
very edge and you can see the effect
that this gives us kind of a funky
really huge environment with pretty much
nothing in it so yeah I really like this
and then of course you can do stuff like
adjust the turret to how you want it you
can take the directional light here and
you can rotate it around if you're not
satisfied with where the sun is shining
and stuff like that but I actually think
that everything is in a pretty nice
place already and that we don't need to
do a lot to change this so next up is
kind of adding some some UI elements to
our scene and also I wanted to throw in
here that we're currently using these
graphics for turrets but I actually have
some plans to maybe switch some of this
stuff out with some more advanced
graphics down the line so that's going
to be really exciting but for now we'll
be using this guy and you can use pretty
much anything for this because what
we're going to do is we're going to take
our standard turret we're going to
remove the church script and we're also
going to kind of break this as a prefab
connection so this is currently still
linked to a prefab down here and we
don't want it to be linked that way
because we want to remove a fire point
we want to get rid of this component and
so we'll just go into object and our
game object and select break prefab
instance and now it's not connected in
any
way and so we can go ahead and delete
the fire point and everything else can
just be left as is so what will then do
is are going arm and I'll place some UI
stuff so let's go ahead and create a new
canvas for this so let's go UI whoops
not particle system UI and then just
text and that's going to create a new
text object in this huge canvas and
let's just make sure that this text
object skills with our canvas and let's
also set the font size to something like
80 let's change the text here to say
play then we can take our font and
change that to Roboto
let's do Roboto medium and let's change
the color to white and we can maybe also
add a bit of a shadow so let's just go
shadow here let's um turn that down a
tiny bit and let's do two and negative
two just to kind of give it a bit of an
outline so yeah all of the other
settings we can pretty much leave us is
except for one thing and that is
currently our canvas this size to the
size of our screen instead we want this
to be well spaced and remember we've
done world space canvases before and the
thing about those is you of course have
to adjust this to kind of fit the size
of our text but we also have to go in
here and adjust the scale because it's
currently huge compared to a standard
turd you can see here just how much we
actually have to zoom out so what we'll
do is go and find a scale here and put
that at say point zero zero four and I
played around with this earlier and
found that this was a value that worked
pretty great so we're just going to at
least begin with that let's put our
position at zero and our Y at zero and
that should place it inside of our
turret so now we can just move this up
and we can simply drag this arm over if
we wanted to stay down here and I think
actually we want one of our elements to
be here maybe the quit button and then
we can have our place it on top of the
turret itself so let's take our play
here now and rotate this by 90 degrees
and let's make sure that it sits pretty
much on top
if I retired which it looks like it does
but it doesn't look too great from this
angle so let's now move it down a bit
and also drag it over to something like
there it just looks nicer over in this
view something like that cold and what
we need to do is of course turn this
into a button so let's just rename the
canvas here to something like top turned
canvas and the text here to play button
and currently this is only a text object
so let's just add a new component button
and the cool thing about adding a button
component to a text object is that unity
will just go ahead and set everything up
for you so right away and this is
another thing we have to do we have to
remove the camera controller on the
camera so it doesn't snap to another
location right away we should be able to
click it and you can see that something
happens so it's already turned into a
button so all we really need to do now
is just adjust some settings we can add
an on click event which we will create
in a second but we can also maybe change
the animation here so currently we're
just tending the color of the object
what I want to do instead is utilize the
fact that in the last video we created a
much nicer hover animation by scaling
the size of our UI so or of a UI element
so let's go and choose animation here
and for navigation we want none and we
could go ahead and auto generate the
animation and then go down into the
animation tab here and edit them to
create our own unique animation or we
could just use the animation that we
created in the last video so let's just
go and hit add component add an animator
and as the controller here we want to
select the button controller that we
previously created and remember the only
special thing about this is that it has
a normal animation which has a scale of
1 1 1 a highlighted animation which has
a scale of 1 point 0 5 and it actually
also animates a tiny bit but you don't
have to put that in there and then we
have the pressed which goes back to 1 1
1 and it's all that this is so now when
we go in and hit play we can see that it
does this nice hover animation and when
we click it
it goes and becomes small very quickly
cool so I believe that's all we really
want to set up for it on this object we
could actually make make it a tiny bit
bigger let's just try and see what
happens
should we just size up this canvas a
tiny bit and maybe increase the size of
our text let's just try it out just for
fun so let's take our text object here
and increase the font size to say a
hundred and actually like that a bit
better because this is our play button
and it's what we want our users to
interact with right away I think it's
okay to make this really really big so
yeah something like that
looks nice over here and that's the
primary focus and then what we can do is
maybe duplicate this top tarred canvas
and we can then rotate this by zero
degrees really so we want to just snap
that back and we can move it over here
and I want this to be a lot smaller and
also want to snap it over within is the
position of zero and I want this to say
quit so this is going to be our barrel
canvas and it's going to just have a
quit button
whoops quit but ton and the font size
here should be something like eighty
actually we should make it less we
should make it all the way down to say
40 almost we don't want people to
interact with this element and we could
put something like a real body lot
Roboto light or even thin in here I
think actually the thin works pretty
well so let's just try that out and it's
not back to 2d here and let's resize our
canvas so we don't have this huge
unnecessary canvas and we can move the
entire thing over so that it sits on top
of the barrel and then of course we'll
have to put quit in here as the text and
I think that already looks pretty decent
I mean we can of course spend some time
getting the positioning and feel of this
exactly right but it should already be
working and you can see that just the
way that we set about play to have this
hardware animation a quit button button
does as well so really the only thing
that's left is kind of hooking up these
buttons to a script that will actually
call or that has some functions that we
can call from the buttons for actually
playing the game which means
transitioning to the main level scene or
quitting which means just calling
applications or quit which will close
down the build so um but actually what I
want to do is also make this feel a bit
more 3d because right now we could have
really just hand-painted this and I
think we should utilize the fact that we
just build a 3d scene for our main menu
in a way that we could do this is by
having the turret here rotate a little
bit to kind of give the impression that
it's aiming back and forth and this will
of course we will have our UI elements
follow the rotation of our target I
think that could look pretty cool also
one thing that I might want to do is
move our camera in a little closer but
actually I kind of like that it's a bit
distant so we'll just keep it this way
for now so let's begin by hooking up our
UI elements and then I'll show you I
will show you how we can do that cool
rotation thing so um in order to kind of
create some of the functionality around
these buttons um what we could do is
just create an empty object and reset
the transform and I'm sorry for the
noise here that's my cat playing around
with my water so um and we'll rename
this to say main menu and I will put
that at the top and we'll just add a
component here that is called main menu
then let's don't click this to open it
up in Visual Studio and I'm just going
to have a sip of water while we do that
cool and um basically what I want to do
is just create two very very simple
public functions in here I want a public
void called our play and a public void
a public void cold um let's say oops
that's another cat stepping on the
keyboard this screen create a should
really lock those out of the room
I'll do these videos they're pretty much
in every single one I think it's a bit
exciting for them so public void I'm
going to call this one quit and
basically what we'll do is just throw a
debug deadlock statement for now so
we'll just say play and we'll say quit
go and then we'll go inside of unity and
we'll find our top turd canvas which sub
play button will add an on click event
so close all this down and then under
the button we'll add an on click event
and we'll reference our main menu go
down under the main menu script and call
play and we'll do the exact same thing
for our barrel cameras so again here on
the button add-on click reference the
menu go into the main menu script and
call quits so now when we have play we
should see in the console here that
ignoring these stupid errors when we
play it says play and when we hit quit
it says quit cool so all we really need
to do now is just add a tiny bit of
functionality so we'll be importing
unity engine scene management in order
to load a new scene and we'll do that by
going scene manager load scene and then
the arm string or the name of that scene
which is going to be main level but
instead of hard-coding this in let's
make this editable inside the inspector
so let's just create a public string
which is going to be our level to load
and we'll set that equal to main level
by default and instead of putting in a
string here we'll put level to load and
in terms of creating out of the
application let's actually put a debug
the lock statement in here saying
something like exiting exiting and then
we'll put an application quit call
that's all we need to do that it's going
to close down the application whether on
Mac or Windows it's going to just exit
out and the reason why I'm putting
exiting in here is because that
actually not visible in the inspectors
so or in the editor when we call
applications are quit in the editor
absolutely nothing happens so it's just
to let ourselves know that we pressed
the quit button cool so now we can just
go in here and we can hit play and we
should see also under the main menu that
we now have a level two load variable
and we can hit quit and it's going to
say exiting and we can hit play and it's
going to transition to the next level
where we can play awesome so that's
really really easy and because we now
have multiple levels in here what we
want to do is go to file build settings
and we want to make sure that we have
our main level added here and then we
also have our main menu and that our
main menu is set up to be before the
main level with a smaller build index
that means that it will be loaded first
so now when we start up the game if we
were to build this we would see a main
the main menu and then we would use that
church hence to transition to our main
level cool so the final thing that I
wanted to do was of course and to have
the turret rotate and also one thing
just before we do that currently when we
hit play it just shifts over immediately
there's no way off a fade when we don't
currently fade or do any kind of nice
transition there if transitions between
scenes is something that you really want
to see just let me know and we'll do a
separate video on that for now I've
actually already created a YouTube video
on fading between scenes that is fairly
general so you should be able to
implement it into this game on your own
so you could search for that on this
channel but if you want me to show how
to do it here I will of course do that
so just let me know so what we can do
then is just simply animate this chart a
bit so we'll find our standard turret
and we will go under the pot to rotate
and this is of course the part that we
rotate so all we need to do in order to
make our UI elements follow that it's
just parent them to that object just
drag them in to make them child's of
that object and now when we rotate that
the UI elements are rotating as well and
you can create a script to control this
you could have enemies go by and this
one follow it that could be pretty fun
what we could just go in here and create
a very simple animation select the
correct object depart to rotate object
hit create go on to the animation and
we'll call this one the third menu armed
atom and all we really want to do here
is have the first keyframe kind of over
here maybe we still want to be able to
see and click on our play button and
then have the next animation which is
going to be like four seconds in be
around say here something around there
and then again after eight seconds we'll
go back to this place there we go so
just copy the initial keyframes and
let's also smooth this out by going and
selecting all of the keyframes and
selecting flat so now when we play woops
play from the beginning here you can see
that we have this nice and slow
aiming animation and it's enough that
you can easily still click on the
buttons but it just adds a bit of fun
and interactivity into a main level or
our main menu and really utilizes the
fact that we are and we have implemented
this menu in 3d so that was pretty much
all I wanted to show you this is the
final result I hope you enjoyed this
video let me know what you want to see
next of course I have some ideas but
still I could use more and yeah thanks
for all of the cad feedback i'm really
enjoying making these videos and without
further ado i will see you in the next
one
thanks to all of the awesome patreon
supporters who donated in october and
especially thanks to sultan l should've
faisal mara phi and james calhoun become
a supporter at patreon.com slash
breakfast</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>