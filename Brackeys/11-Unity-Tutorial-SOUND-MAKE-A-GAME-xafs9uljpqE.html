<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>11. Unity Tutorial, SOUND - MAKE A GAME | Coder Coacher - Coaching Coders</title><meta content="11. Unity Tutorial, SOUND - MAKE A GAME - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Brackeys/">Brackeys</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>11. Unity Tutorial, SOUND - MAKE A GAME</b></h2><h5 class="post__date">2014-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xafs9uljpqE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for tuning in at brakus hello
everyone and welcome to episode 11 and
make a game a cool series on making a
video game in unity so today we're going
to be doing something really awesome
something that some people hate and some
people enjoy the most about game making
and it's adding audio to our game so
you're going to add a bunch of different
sounds and a musical track and what is
really really difficult when adding
audio is making it sound not repetitive
so I'm going to show you some cool tips
and tricks on how to do that and also in
the 2d assets pack available at practice
comm there's now an audio section and so
if we go in here I've gathered some
different sounds that we can use that
you can pick up sound a game over one I
made myself some relaxed music and then
three wooden hits when our ball hits the
hits the ground so if you will just take
a quick listen here the can pick up
looks I need to set the repeat oh here
are we gonna get mad so there's the cone
pick up sound if you heard it enough and
the game over one game over pretty
simple the relaxed music we had that ago
and now some very simple wooden hits so
uh and there are in different strengths
than a pitch up a bit then and yeah so
now that we have these different sounds
also a great weight a great place to get
some free sounds as freesound.org if you
go in here and search for something
let's say relaxed music and and hit
Search here then make sure to check the
Creative Commons 0 on the right hand
side and if you do that you are free to
use the sound for whatever purpose you
want to so you can also use it
commercially so just make sure to press
Creative Commons 0 and and there's a lot
of different sounds
awesome so let's get started as always
I've opened up unity and just before we
go ahead and implement the sounds I've
noticed that whenever our ball dies the
score doesn't reset so to quickly fix
this let's just go on to the game master
objects the GM object and then under the
game master script in here if we double
click that to open it up in monodevelop
we will just make a quick change that
will reset the score whenever the
whenever the scene is loaded so up here
we're just going to make a function
start and inside of this we are going to
write current score equals zero so we
will just reset it and now when we hit
play and fall down this code will reset
this will also reset the score if you
changed levels so to get some more
control over that we are going to write
a separate function in the future cool
so now let's finally go ahead and
implement the audio I feel like I always
just do something completely different
than what I tell you the first like 3
minutes of the video but now we're here
so let's start with the coin let's start
with the coin pickups sound so let's
find our coin here and and let's go
ahead and import the audio so inside of
our - the assets pack let's just import
the entire folder drag it in there and
all of the different audio clips will
import the relaxed music one will take a
bit of time I have compressed the file
to make it a bit smaller but it is still
a rather long music file so it is to be
expected so under the audio now we can
go ahead and select our coin pickup and
we want this to be a well it's it's
completely up to you actually I think
the current pickup sound should not be
3d
so let's just disable that and basically
what it means is that then it will just
two-dimensionally play other than
playing where it factorizes how far you
are from the object and at what speed
you're traveling and and all that
advanced audio stuff so let's just
disable 3d audio and hit apply cool so
now under our coin object we can go
ahead and hit add component and then
audio and we can go ahead and actually
okay so this is where it gets a bit
complicated because there are multiple
ways of handling this the first of which
is to attach the audio on the coin
itself and then just delay the
destruction of the coin so the audio has
finished playing and then you can just
disable the mesh renderer at start so
you won't see it but that's a little too
complicated I think the other way is to
spawn in an object that will have the
audio sit on it and the great thing
about this method is we are already
spawning in an object
remember when we hit play and roll over
our coin you can see the particles and
they destroy after a certain amount of
seconds so why not just put an audio
onto the particle system and make it
play instantly so let's find the
particles the coin effect here let's go
down hit add component audio and then
audio source and under the audio clip we
can now select the coin pick up and then
we just simply remember to check play on
awake and let's maybe just put a take
down the volume a bit here so let's try
and see how the sound and it sounds just
perfect I'm going to bring the volume
down just a tad more because it is
really high pitch the sound and it could
quickly get annoying so that's perfect
and what we can do also is we can make a
script to change the pitch so that it
will vary but I'm going to show you how
to do that with some of the other
effects so you can do that on your own
and the coin here if you want to we're
just going to keep the video short and
and now that I've said that I just know
that this is going to be like half an
hour but okay we'll try so under the
audio we also have the game over and
three wooden hits let's start out with
the game over and I'm going to show you
something cool you can do so under our
let's see that's the game master script
where is that we handle the it's under
the ball health there so double click
ball health and we can see that if we
get below this transform the position we
just restart the level but basically we
want to say game over first because game
over sounds are awesome so let's create
a separate function because we want to
delay the sound or delay the the loading
of the level two the sound has stopped
playing and whenever you do that you
need to be outside of the update
function because you can't delay the
update function it needs to run every
frame so we're going to make a separate
function called restart and let's be
more specific
restart level let's call it that and we
don't need any parameters but let's open
up some brackets and inside of this
we're just going to write audio dot play
like that and then we're going to do and
here you can input a string but we're
just going to leave it empty and it will
play the first audio clip attached and
then we're going to do not another thing
and that's we are going to wait so we're
going to do a yield wait for seconds
like this and inside of here you can
just write a number of seconds or you
can do audio dot length audio clip I
think that is pretty sure it's audio
clip dot length I know let's see here
it's one of these I can't remember
exactly which one audio audio clip or
your importer I'm pretty sure that is
the length length in here hmm this is
weird
length maybe they've removed it I'll
just check up on that so just give me a
second I'll be back okay I'm back so the
solution was pretty obvious
instead of audio clip you go audio clip
dot length so like that so it will
simply wait the length of the audio clip
and then we can do the loading so
application dot load level load level
and then the level one and close it off
so instead of loading the level up here
we are simply going to delete that and
then say restart level so it will call
that function instead and now when we
hit save things should be working but we
of course need to attach some audio to
our ball so let's just go in here and
hit add component audio audio source and
then let's find the audio game over
let's not make it a 3d sound let's also
make this 2d then find our ball again
and select the audio clip game over oops
so game over and let's not set it to
play awake on awake this time because we
we set it to play through a script and
everything else should be just fine so
now when we hit play roll over our ball
and fall down Oh something is wrong here
so I don't know it sounds like it waits
with playing this the clip until it
starts loading the scene so that's weird
let's just see game over there's no
delay there
so let me just wow that's going to be a
lot of pausing in this in this video
I'll just quickly pause the video again
and be back okay so I figure it out what
it is a once again so basically this
line right here says that if we get
below a certain position it will call
the restart level function and it does
so but it does so every frame that we
are in that we are over this value so
this audio dub play gets called every
single frame and so when it does that it
doesn't really have time to play it just
starts over and starts over and starts
over so what we need to do is we need to
make sure that this is only played once
so what we can do is up here we can make
a boolean so we can do health is
restarting here and we can make this
false by default and then we can do here
we can say if is restarting is equal to
false then we want to go ahead and call
the function like this and then in here
we simply set says R is restarting
equals true and then when we have loaded
the level and it will probably do this
automatically but you can go ahead and
say it's restarting is equals false
but I'm pretty sure it will do that on
its own and we can make this a private
variable just so it won't get in a in
our way inspector so now when we play we
will finally see this working game over
and it restarts beautiful and when we do
it again game over great so a really
evil voice saying game over uh yeah so
now let's take care of the wooden hits
and then at final we'll do the music
so the point with the hits here is the
right now when you jump it says nothing
and when you land it says nothing so I
thought I wanted to put some sounds in
here whether you're both wanted on the
jumping and on the landing is up to you
but let's go ahead and have a look at
our ball control script so what we can
do is we can yeah so what we do is we
just double click on our ball control
here and let's simply edit this one so
cool so basically we have three
different sounds we have the hit 1 the
hit 2 and they hit three and three years
excuse me and the reason why we have
three is because it gets really
repetitive if you play the same sound
over and over when it's something that
needs to play as much as every time you
jump and every time you land you don't
want the same sound playing so here's
what you do
so we first off we find the place where
we collide so that's the on collision
stay and and again we have a problem
here because the on collision stay gets
called every time we are on the ground
so again we need to make a boolean that
will make sure we only play the audio
once so let's go here and say play once
we'll just call it that equals are true
just like that and then in the update
function we say here when we collide we
say if play ones is equal to true we
will play the sound sorry in here we can
do a debug block just to quickly test
this out so test and and and so it will
play and then we wanted to disable so we
want to play once equals false but we
also need to set this to true again
so we will do that every time you jump
so in here in our jump function we'll do
play ones equals true and now we should
see our code working we'll check our
console first off we see one test we see
another as soon as we jump okay so we
can see there's a problem here it
registers the on collision stay in here
and that's not really something we want
so what we can do is if we try and move
it down past the rigidbody that might be
enough we might have to put in a little
bit of a delay there just to get it off
the ground let's see if we can if we can
do that play now we need to put in a
delay so again the easiest way to fix
this is just to do a separate function
called play ones true and in here and
this is not really good code but I just
wanted to get it out of the way because
whenever it comes to audio it's a quite
quite loose concept and if you just make
it work it works basically so and that's
what we're going to do now is we are
going to make it work so let's copy that
put it down under the play once function
and right before that we simply do a
wait four seconds and then just
something like 0.1 and now when we hit
play we will see that we jump it into
the air and nothing appears great so
everything is just working like it said
let's see okay we need to call the
function of course so play once true
equals now
just call it here um the reason why I'm
showing you all of this these mistakes
is because I could have easily done this
a million times before I just practiced
it and have the all of the code written
out before but a lot of people have told
me not to do that because then you don't
get to be a part of the problem-solving
process so that once you get to write
your own scripts you don't know how to
solve errors so that's the whole point
of me not having all of this planned out
so that's a really good excuse for being
unprofessional let's move on so now when
we go in here and hit play we will see
hopefully we will see that the game has
frozen okay so unity is acting weird
I can't move so let me just quickly
restart unity it does that from time to
time let's play here and now when we
jump it will say test again so we need
to just delay this a little bit more
let's do zero point we can do zero point
four let's try this out no it still just
calls it okay so that's really weird is
there something wrong with the on
coalition stay let's just try to debug
this debug deadlock test to see when it
gets cold and now we're going to see a
lot of them so I'm just going to
collapse them here now this is working
then that's something long we saw with
our code so if play ones is equal to two
debug that log test and said play ones
equal to false then we down here
whenever we jump
we get the play once and we enable it to
true I don't see what's wrong with this
we can try and increase the delay just a
bit more oh okay I see what's wrong now
so yeah in the wait for second statement
we need to do yield wait four seconds
and it doesn't even throw an error so
okay now things should be finally
working and we don't need to delayed by
that much yes and now it will great so
now it's working so if I uncollapse this
and just get rid of this stupid test
function remove the debug deadlock and
let's change this to 0.2 instead and now
when we hit play and this is amazing it
works great okay cool so yeah what we
can do now is we are going to play
sounds but the problem with unity here
is that we only want to have one source
on each object and and if we look at the
ball right now there's already a source
and that's only room for one audio clip
so what you do is instead of having
multiple audio sources you simply change
out the audio clip and then play that so
we need some variables for the audio
clips and we need a system to change
them out so what we're going to do is
first off in our game master script a
know up all health script here is we
want to take this approach because if we
change out the the audio in the bug
control and then die it will just play
on the hit would sound for now and
that's not really something we want so
let's just make it change it back again
to the game over sound so we're going to
do VAR game over sound and we're going
to make it of type audio clip and that's
all we need so down here where it says
is restarting equals true right below
that or right below
above the audio to play we want to do
audio clip equals audio equals game over
sound perfect so now it will set the
clip to the game over sound and we need
the game over sound not to be empty so
let's just find it here under game over
coal so that was basically it for that
script and that's what we need to do
every time we need to have multiple
sounds on one object so in our bomb
control if we go in here and instead of
our debug log statement we want to play
different sounds so let's just make some
variables for the for the different
sound so let's first off make play play
one private and then we are going to do
hit one of type audio clip hit two of
type audio clip and hit three of type
audio clip o d clip or do clip okay
great
so now that the spelling is in place we
can go down under the on collision State
remove the debug log and in here we want
to make it random which of these it is
going to play so we're just going to
first off do the audio to play so that
we have it there oops and close it off
and right above that now we are going to
do a random dot range so we are going to
say var make a new variable call this
the hit and make it equal to random
range and we're going to go from zero to
four because I'm pretty sure you need to
have one more than what you want so zero
to four
and yeah so close that off and then in
here we're going to say if and this is
where you could make a switch statement
but we're going to get into them they do
so for now I'm just going to do a bunch
of its if statements so if the head is
equal to one
I'm pretty sure this is going to return
zero to three actually so if the hit is
equal to zero then we want to do a audio
that clip equals hit one else if the hit
is equal to one audio clip equals hit
two and then the last one just else
oops
else audio dark clip equals hit three
cool and then it's going to play the
audio so now when we save this out and
head back into unity we of course get an
error so let's see random dot yeah we
meant random dot range like that
cool so now when we hit play we should
see changing whenever we had something
so let's see and it doesn't change well
yeah it does but it changes to nothing
cool so we just need to apply the
different hits so first off hit one hit
two and hit three awesome let's jump hit
three hit three
here three we are getting a lot of hit
threes here that's a hit one and hit
three and if it can get hit three and
hit one game it should also be able to
get a hit too so I yeah that was the
head too so it's completely random which
of these it's it chooses cool so now
that we have that in place we can simply
go ahead and and change the pitch a bit
because the cool thing and this is a
pretty cool tip is that unity can and
can also change the pitch of a clip so
what we can do is if we wanted to sound
a little bit random we can pitch it up
just a tad or pitch it down randomly so
we can do audio pitch and then we can do
a random range equals random range and
if we take a look at the pitch property
here it goes from 1 2 3 or negative 3 so
the default is 1 and it goes to 3 and
negative 3 and we don't want it to be
that much at all but we do want it to be
something like 0.9 come at 1.1 just
subtle pitch changes and it's going to
make it sound pretty cool and yeah so
and then in the bowl health script if
you don't want this to be affected by
pitch again what you do is you simply
say audio dot pitch equals 1 so that
will just stay the same awesome so now
when we jump we can hear different hit
sounds playing at different pitch but
you might notice that the sound sound
the sound sounds pretty far away and the
reason for this is that our wooden hits
are still 3 D sounds and we are not
oriented through our ball sounds doesn't
get a played back through our ball
but in
step through our camera and if you want
this or not is completely up to you
right now our audio listener sits on the
camera so everything that happens over
here sounds pretty far away so what I
would like to do is just try out and
remove the audio listener from the
camera and instead select the ball hit
add component audio and then audio
listener so that now every thing we hear
will be played back from the balls
perspective and now we can hear the
sound much more clear and it will still
be affected by speed and other variables
so that's pretty cool and now everything
we have set up in our scene when we have
stuff like fire or something we will
hear from our balls perspective awesome
at last man this video is already 30
minutes so I'm just going to quickly go
ahead and do the UM and do the music
so you see anyone even watching at this
point if you're watching at this point I
guess you are either some kind of heiko
fan or just really really into unity so
either way I love you and let's continue
so under our audio we want to select the
relaxed music and we want to disable 3d
sound and hit apply so this is just
going to load all over again and it
takes a little while this is the largest
file in our scene and audio files are it
can be can get really big so watch out
with those long clips at least compress
them before use and now in our GM object
let's handle it through the game master
let's just hit add component and then
audio audio source under the audio clip
we're just going to change this to
relaxed music and just hit play on awake
and also loop because I've made this
loop pretty and nicely let's turn down
the volume a bit and now hit play
we can hear some relaxing music play
with playing and you can play around
with the volume to make it fit the rest
of the sounds but that was basically
inter for this video I hope you enjoyed
it and I'll see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>