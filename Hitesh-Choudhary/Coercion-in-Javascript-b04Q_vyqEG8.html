<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coercion in Javascript | Coder Coacher - Coaching Coders</title><meta content="Coercion in Javascript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hitesh-Choudhary/">Hitesh Choudhary</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coercion in Javascript</b></h2><h5 class="post__date">2018-04-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b04Q_vyqEG8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there everyone this year from learn
code online dot in amazing us on website
go ahead check that out so let's get
started and talk about our regular
JavaScript stuff so what is the agender
today people today we want to talk about
coercion in javascript now it's a really
mouthful world and a lot of people don't
know even what coercion is so if
somebody would ask me that what is
coercion in in terms of are it in
context of JavaScript I would be saying
something like this that sometimes
JavaScript want to be really the
smartest guy in the room sometimes it is
but sometime it is not so sometimes
JavaScript's tries to predict and do
some things for you sometime it does it
perfectly sometimes it is not able to do
it so perfectly so you need to be aware
where JavaScript can make a mess and can
do things in terms of predictions and by
the term prediction we are not talking
about anything machine learning or a I
know that's not I know these words are
really over selling these days but it's
not like that so moving on further
sometimes JavaScript tries to become
smart and tries to predict and do some
things for you and we don't want to do
that it is better rather to understand
how JavaScript will be predicting each
and everything and based on that we can
utilize these things in our advantage
here so I know it's a little bit whoa a
really vague thing to understand but
don't worry the code part everything
will become crystal clear so let's just
go ahead and in our advanced folder
let's create a new file and we're gonna
call this as coercion dot J yes dude I
wrote it correctly I believe so so there
we go okay so what I really want to do
in this case I want to print out a few
things on the console look so that you
can understand what are the things that
are going to happen and feel free to
pick them by pausing the videos whenever
you like and then we're going to discuss
a little bit about it so let's just log
these values so what I really want to
log here first is five so obviously you
know this is a string this is not a
number which is gonna get printed okay
now what happens is you might have seen
this example quite a lot this plus five
and five in fact I gave it in my
starting of the sea
but what I really want to give you an
example of this guy so what is going to
happen when I'm gonna get five string -
five this is exactly the place where
JavaScript tries to be a little bit
smart and try to do some things for you
okay so let's just get the answer off it
by running this so I'm gonna just open
this my console I need to save this so
I'm gonna save that and now we're gonna
go see row one advance and we're gonna
run this node coercion yes and notice
you got zero first very point where
JavaScript try to be smart and predicted
that es - operation can only be
performed when you have like both of
them are numbers and predicted it for
you but things actually change
dramatically when you change this to
Plus now here based on the previous
result we are expecting that since
JavaScript was smart enough to detect
that we want an addition operation here
and 5 minus 5 is 0 JavaScript is on
automatically gonna go at do best thing
for us so it should be 10 but when I
saved this and run this file again we
get a 55
so now JavaScript is treating everything
as a string previously it was treating
everything as a number and there is a
drastic difference between the operation
and I didn't change much of the things I
just changed and the operation here plus
2 minus and minus 2 plus that's it this
is exactly your coercion and you'll see
a lot of blogs and books talking about
three types of coercion with the numbers
with the strings and with the boolean
says well which is really powerful one I
use them quite a lot the boolean ones
okay so the whole idea is you should
never allow JavaScript to predict things
for you if you are expecting things into
a format of numbers be sure that it is
in teacher or float or any kind of
numbers as a matter of fact and if you
are expecting the things to be string
and make sure it is string properly
otherwise these things actually generate
errors which are logical error not the
syntactical error so they're gonna just
work fine they and it's really hard to
track these kinds of problems so make
sure you always keep a check of it okay
so let's say what we are having is we
are having a number here so what you can
do is let's just have it some
thing so let's just say we are gonna
have give type this is variable here and
what we're gonna see is we're gonna
check out type off and then we're gonna
say I want to check out a type of five
so let's just log this and just print
out give type save that and now if I run
this it gives me that it is a number yes
it is number so obviously it is being
shown as number so make sure you first
check out using that type of operator
that what kind of things we are dealing
up with okay so in case this is like
your string save that so it's gonna give
you a value that it is a string so you
always get a thing back in the string
format it is it a string or a number or
anything else if you just give something
else like something this save that and
in fact we can just have let's just
delete that so you can just have it like
empty strings or anything like that it's
gonna give you that this is an object
this is a string this is an array it
works for everything fine here so make
sure you you really want to take
advantage of this okay so I'm going to
come in this line for a mirror for a
minute and let's just talk a little bit
more about it okay so this is the first
point that always and always if it is a
string go for string if it is a number
go for numbers okay so there we go now
there is one more thing which you should
know about coercion which is little bit
strange as well so let's just say we
have a Const I'm going to call this as
adder
now what is going to happen when I say
true +5 now this is also a strange
situation so let's just have a log and
adder some of you might have already
guessed but this is really a relatively
new thing for many programmers the true
is considered as one in JavaScript and
this is a literal one it's not just a
true and false it's just a literal one
as well so this can be little bit
although it's a really really rare
situation that you're gonna fell into it
but still I wanted to make clear that
everybody understand it so when I run
this you notice you get a six there and
that is the point where you should be
worried about and similar to this if you
have something like false plus five now
notice what happens now it gives you a
five here so it's a really tricky
situation also let me show you something
like
this we are gonna have something like
five and plus falls some people get
confused so let me just run that here as
well so you get a five so are true is
treated as one and false is being
treated as zero so make sure you
absolutely absolutely are sure about it
if you're adding something like five
plus true I I really have no idea why
anyone would do that but maybe maybe for
your use case you might be having it
okay now comes up another interesting
thing which I use quite a lot in my
courses as well and especially when I'm
teaching something based on firebase or
something or maybe known as well so this
is a common scenario so let me just walk
you through with that so let's just say
we have a variable Const and we are
gonna have login details details there
we go so this is a login detail and
let's just assume in the login details
we are getting some login details in an
array format
maybe that's a JWT token or maybe
something from firebase maybe it's an
object or anything else as a matter of
fact the first object is ID the second
is probably token the third is email so
these are the things which are expected
to be returned from the database in an
array format right now my array is just
blank and here is some logic for getting
details details from DB come on from DB
but somehow that logic actually failed
God failed here totally so now we
actually have no idea that it failed and
we are writing our code based on that so
what we can do actually is let's just
say I'm having a probably a login ID
storing here and that is usually the
first object in the array so I just
predicted that it's gonna be login
details and it's gonna be first object
there okay
first object in the array now I have to
write a logic for login something like
that so I'm gonna be saying if an else
statement here so what I what you
usually do is when we say something like
this is login ID is not equal to
undefined so obviously if it is coming
back and we are able to store it into
login ID that means something is there
otherwise how we are able to do it
okay and we get a login so let's just
lock that and we're gonna say allow user
to log in okay that's the run logic and
the else part we're gonna say something
like this auth failed a pretty simple
example where if we are getting some
login details we are able to get a login
ID then if it is not empty allow the
user to login if it is empty then
obviously the authentication failed so
let me now just comment out all these
consoles so that we can just talk about
it this is actually very interesting
situation here okay so this is our stuff
save that clear up the terminal and just
there we go
so obviously we got auth failed here now
right now here is no surprise here but
the surprise actually comes up when a
lot of time I just use a situation like
this there we go that's at login ID and
when I just run this situation notice
you again got a op fail so this is a
common term you're gonna see that in a
lot of code on the github or Stack
Overflow people just write it like that
if login ID then here so here comes the
interesting part about this coercion
that JavaScript also assume and try to
interpret some of the values as true and
false in these infidels case and
conditions so you should be aware of
that that what are these values which
are predicted as Falls and what are
these values which are predicted as true
for example if instead of this I write
something like this which is an empty
string notice what happens here is you
get an auth failed but if I just even
place a kind of a space there notice now
we get allow user to login so this can
be a little bit tricky one and dangerous
one as well so make sure you understand
these things how these are going to work
so let me just have a login ID again
here and let me just talk about what are
these values values that interpret as
false so these are the one pretty common
one let me just write all of them they
are pretty easy first obviously the
false is being interpreted
Falls you didn't saw that coming but it
is there zero is also considered as
faults okay
just like true is considered as one and
zero is considered as false so you you
got that you saw that already coming and
also apart from that the empty string is
also considered as false you just saw
that when I was having empty string
it's like false if I just put anything
inside that string that is true
okay and this is the important part if
you have anything at all in the string
that is true regardless if it is just a
space or an actual token remember actual
space or an actual token okay
interesting stuff and also apart from
that the two important guys which is
null and your undefined these are also
considered as false apart from that
everything else is considered as true
just to give you a simple example if
instead of this notice this array this
is an empty array so instead of this
login ID if I just say something like
login details
notice there is no login details at all
this is completely empty but what is
going to happen is user was allowed to
login so this is important stuff if I
just get anything like Daddy instead of
this if it would be an empty object come
on like that and I save that and run
that again notice I am allowed to log in
again only the empty strings are
considered as fall so instead of this if
I get something like this and I try to
run that again
notice it says authentication failed
this time okay I hope nobody got
confused because this is considered as
false notice I wrote that just here okay
there we go okay so let me remind you
all these things again let's have a
quick summary coercion is simply a
technique where JavaScript tries to
interpret and do some things for you you
don't want any anytime that somebody is
doing some things for you you always
want your logic to be very precise and
you are all you should always be aware
what is going to come up some of the
examples of coercion are when JavaScript
tries to add a number and string it just
treats them as a string when they try to
subtract them it treats as both of them
as a number but these are wrong cases
this should not happen if you are adding
these things it should either be all
straying
either be all numbers or your use case
okay now the next thing comes up is
something known as when JavaScript
interpret false as 0 and 1 as true or
true as 1 vice versa so there we go
this is the second case that you should
be aware of and the third gate which
third case which is you will be really
really thanking me when you'll be
working on something like firebase or
maybe GWT tokens in node.js or anything
like that that login these all things
really boil up to here so JavaScript
also treat few values as a false
obviously false 0 empty string null and
undefined these are always going to be
interpreted as false values ok apart
from everything else is totally true
whether that's an empty array or maybe
empty object or anything like that so
make sure you are pretty cautious about
it ok so these are my few words of
caution about coercion in JavaScript
which is like the tricky behavior of the
JavaScript as I call them so these are
all important stuff I hope you have
enjoyed this video and have got some
inside details about how JavaScript
performs and how you can use them in the
real world scenario when you're working
on node or react or firebase or anything
like that so that's it for this video I
hope you have enjoyed it if you have
enjoyed it do hit the subscribe on my
channel this is a programming community
amazing channel here and you're gonna
see a lot of stuff here so that's it for
this video and I'm gonna surely catch
you up in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>