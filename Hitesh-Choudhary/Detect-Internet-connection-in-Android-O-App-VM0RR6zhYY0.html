<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Detect Internet connection in Android O App | Coder Coacher - Coaching Coders</title><meta content="Detect Internet connection in Android O App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hitesh-Choudhary/">Hitesh Choudhary</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Detect Internet connection in Android O App</b></h2><h5 class="post__date">2017-08-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VM0RR6zhYY0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey did everyone and welcome to another
exciting video where we're going to talk
about Android and specifically one
problem in the Android now this is
basically a very simple stuff that
everybody can do but I thought of some
of your facing problem and that so I
should face and talk about it so what
we're going to do today now this stuff
is really simple in lots of apps like
specially in the YouTube you might have
seen this kind of a pop-up or a toast
message when it says that if you're on a
Wi-Fi just go smooth and if you are
disconnected from the internet
a toast message comes up that hey your
internet is not connected anymore
so we're going to do almost almost same
age like functionality here and of
course I'm going to give you some
assignments as well along with it and
basically that's it that's what we are
going to do so amazing so amazing stuff
we are going to talk here and your
everyday goal should be to upgrade your
knowledge a little bit and for today's
knowledge upgrade I'm going to be here
so let's get started here so this is the
basic Android project that we have if in
case you are already into the course so
far you already know how to design all
these stuff so I'm going to just silent
my phone it's springing up okay so let's
run this project first of all so that
you can see how this project is working
on this is the bare minimum project that
Android studio gives you and I expect
everybody by now should be able to do so
basic stuff you just basically do a file
new create new project and that's it
that's basically it okay so how we're
going to detect that user is connected
to the internet or not and to do so you
do need just two libraries or two
classes to be included one is the
connection manager which determines
whether the connection is there or not
and the second one is network info these
two classes are important the network
info can be explode a little bit more
and you can find out whether the person
is connected on Wi-Fi or a mobile
network as well but right now our goal
is just to find out whether he is
connected on to an internet connection
or not and that's it so just two classes
again connectivity manager and network
info that's that's all what we have here
okay how we can proceed in here
basically there are three
steps to follow up the first one is to
add a line in your Android manifest file
that's going to be your permission the
second one is to create a function that
uses both of the two classes and the
third one is to use that function sounds
simple yes it is yes it is so what I'm
going to do now is I'm going to move my
face away from the screen so that you
can focus more on the screen and let's
go ahead and do so okay so let's go
ahead and start with the step number one
so first of all go into your manifest
file which is basically India project in
case yours is not looking exactly like
me so go ahead check on this android guy
and your app inside that you'll have a
manifest file and open up your Android
manifest which is going to look like
this and then you're going to add a
permission so we're going to add a
user's permission this is what we need
and the permission name is a simply
permission Android permission dot not
internet this time we need access access
underscore network state okay so
basically this is the permission that we
need and I don't know where my rest of
the stuff of the code is gone so I'm
going to just add them manually no
problem no big deal there
okay make sure yours is also there so
this is the step number one done which
is really easy and quick we can close
this manifest file we don't need it
anymore and next step is to include and
open up your Java folder and your main
activity so this is your main activity I
don't have anything into the import
statement so I'm going to just keep it
closed ok so just outside your override
function this year we're going to create
a new function here and basically we
don't need to pass this function to any
other file so I can just call it as a
private and since this function is going
to return just one true or false I'm
going to call this as boolean and I'm
going to call this as something like am
I connected you can call it anything
it's totally on you there we go
and obviously we need to bump the font a
little bit I think it's it's good enough
okay so this is all what we have and all
need to return something they're going
to tackle down data as well okay and
before I go ahead and do that let me
open up my Android preferences here and
I'm going to go into appearance and
basically not appearance in the editor
colors and fonts obviously and I'm going
to bump my font a little bit up I think
that's a little bit smaller
I think 24 is okay you don't need to do
this you don't need to upgrade your font
or something like that it's completely
okay for you okay so let's go here and
what we're going to do is now we're
going to use all these are kind of four
classes here the first one is going to
be a connection class which is going to
be called as connectivity manager
connect T V T manager there we go and
make sure you hit enter here because
when you hit the enter it adds this
class here and we need this guy here at
the top okay so we're going to create an
object from this class which we can call
as use usually it's called as
connectivity manager so stuff like that
kind of a Java thing okay and then we're
going to call a function office which is
going to be get a system service get
systems service and here you can see you
can pass on things and here we're going
to pass on the things of context so in
the context context and there we go make
sure you hit an enter because this is
also going to add one more line here
which is context and once you have an
access of context then you can ask for
the connectivity service so we're going
to write dot connectivity service there
we go and this is basically the query if
it says hey I want to ask whether the
internet connection is available or not
and this is not going to happy just like
that you have seen that already in the
buttons and everything you need to cause
this as connectivity manager so I'm
going to copy this and how we do the
casting we just put a pair of
parentheses there put data here and add
a space there and that's it that's
basically it we can handle a little bit
room here okay so very very long file
here okay so there we go we have a can
divet emanager so this is the first line
using of the first class that's the
important one
let's close this okay now the next thing
that you need is to ask your your
network info that whether you are into
an active connection or not and that's
basically a step number two so for this
we're going to include one mol file
which is going to be network info
network info yep that guy and make sure
it also adds one more line at the import
which is network info pretty cool and
then we're going to call this as active
network info network info there we go
come on and then we're going to use
connectivity manager again here and
we're going to call this a this guy here
this one okay so I'm going to copy this
and paste it here so connectivity
manager dot and all the functions that
you see here are here like default
proxies and you can get a tons of info
here right now we're just interested in
this guy get active network info okay
and that's basically it you have now got
the information about whether the
network is connected or not okay and
this whole guide this network active
network info is holding all that
information so based on that you can
just pass on the information so we're
going to use a trickery here of
returning that so we're going to simply
ask if active network info is not equals
to null so basically what happens at the
back end is if there is something inside
the active network info that means when
we use obviously when we use the
function of get at a get active network
info it is now if there is no connection
if there is a connection there is
something inside it so if it is not
equals to null and also we're going to
do one more kind of a safety check here
with the ampersand sign and we're going
to use a active network info there is a
method here dot is available is
connected is failover is on roaming so
you can do a pretty lot of information
here so we're going to just check out
for is connected and that's it now it's
going to return true if the both the
states
okay here so if it is connected and also
there is nothing no null inside it then
it's going to return true so basically
we have done our step number two which
is of creating this function the next
thing that you need to do is simply use
this so we're not going to create any
button or something like that I will
just click we'll just justify the user
whether there is a connection or not as
soon as you've runs the files on create
we're going to do it here and we're
going to use simply an if-else kind of a
statement here so we're going to call mi
connected inside the if block here and
we're going to just print out a log
message here so logs make sure you hit
enter there because this log also
imported guy here which is here okay
pretty cool nothing exciting
just plain old stuff okay now we're
going to use a message of true and
there's one more thing I wanted to talk
about let me just drag that or I will
say user is connect it okay there we go
and the thing is that if you're running
this program on Windows you won't be
seeing these tag and messages so don't
write that exactly just use how the
editor is trying to allow you to write
okay don't just copy exactly what I'm
writing here and just put these tags and
everything this is I had noticed
recently that this is kind of a Mac
stuff it doesn't appear on the windows
so don't do that don't just write
exactly what I am writing just make sure
you write as editor is allowing you to
write for example if I just do this
again here something like log and dot I
I don't write these things I just hit
enter then enter again and again and
just my first message is this tag is
automatically being injected I'm not
writing it so let's just call this as
true again and comma and then again I
notice this MSG MSG message is
automatically being written as a hint
for me and not writing it okay so let's
just write that user is connected to
internet or just like that something and
in the else part we're also going to
write that and we are going to copy this
there's no harm in copy and pasting code
user is we're going to write not
connected okay so pretty basic stuff
nothing extraordinary we have done here
we have just learned how we can use the
connectivity manager and network info
classes here and as soon as our app runs
it should be getting some information in
logcat I'm going to change that to make
sure you change that to info and if you
can see that user is connected so yes we
have successfully learned how we can use
these two classes basically connectivity
manager and network info so just onto a
quick summary how we can proceed with
here is pretty simple the step number
one is to open your manifest file and
add a permission to check access network
state the step number two is create a
function that uses two libraries or two
classes basically the connectivity
manager and network info and based on
some trickery we have just find out that
user is connected or not and finally
they're going to have this guy here that
users of this okay pretty good pretty
solid information in just almost under
13 minutes I'm really happy we did it
together so in case you haven't checked
out my complete Android development
course go ahead check it out link is in
the description below so check that out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>