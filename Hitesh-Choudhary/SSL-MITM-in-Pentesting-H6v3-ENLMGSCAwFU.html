<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SSL MITM in Pentesting, H6v3 | Coder Coacher - Coaching Coders</title><meta content="SSL MITM in Pentesting, H6v3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hitesh-Choudhary/">Hitesh Choudhary</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SSL MITM in Pentesting, H6v3</b></h2><h5 class="post__date">2014-02-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ENLMGSCAwFU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is it age and you're watching
pentesting vid backtrack so hope you are
enjoying this backtrack and this back
track is not at all a monster anymore
and we have gone through with the
quieter stuff but one thing is still
missing and that is very essential for
any kind of pen testing that is MIT m
MIT M stands for man-in-the-middle
attack the attack which every hacker
every pen tester every security
researcher must be quite aware about
because in the end many times I have
seen that the things comes roundup with
this attack it's really deep powerful
and you can say the originator of many
kinds of attack and now let us look a
very brief introduction about MIT M
since it's a very on topic and one can
even do a PhD or masters in this but
let's start to this and we will just get
an overview and one more practical stuff
with this attack so on a real case
scenario what happens there is a
computer a which is here which is and a
computer B they just communicate
directly but now what happens in the MIT
M attack let's say this is our scenario
case in which a computer a wants to
connect with computer B usually gets
connect via a third party that is known
as the hacker but sometimes this
scenario may be little different in this
scenario what is happening computer a is
sending two requests to B which is being
intercepted by this hacker grabbing all
the IDS password and whatever it is
traveling and then finally transferring
the same request to the third computer
or the second computer so this is quite
a very simple scenario that we are going
to create in our labs but their
scenarios might be really really
different in other cases like the hacker
might be only interested in monitoring
the data that's why he can only these
arrow can be out here as well and this
hacker might be just monitoring the data
showing that what are going and coming
out here but things can go beyond the
scope and try to search out some more
things about the MIT M it's you can say
D Holy Grail for every attack
now let us try to create the same
scenario one more interesting thing that
I would like to take here is the SSL the
secure socket layer since in the normal
protocol like HTTP the data is being
traveling in a clear text form and to
avoid this kind of situation a new thing
was introduced this is known as the SSL
do some research on the SSL since we are
going to deal up with the SSL also in
this video so SSL is being known for the
things like if whenever you need to
transfer data securely the SSL socket
layer is going to help you although in
many cases it helps but I have seen
quieter vulnerabilities in the SSL
system as well but slits struck to this
let me open up my internet connection
and since this attack is again machine
independent and victim can have any
operating system like XP 7 Windows 8 the
TAC is going to work very much fine so
now try to look at the URL please make
sure that you are watching in the
fullscreen with the high resolution
whenever I type this gmail.com what
happens
you can see it is automatically
transferring me to HTTPS and that's
really the point of concern because it
automatically redirects me to the HTTP
account even though you will try to go
on with the Google and then clicking on
the Gmail it will also redirect you the
same so what is our target for this
video first of all we are we want this
SSL to be removed we want Dock and after
that we want to sniff out the data
whatever is traveling and we want to
write that or we want to see that data
and we will also try that user should be
logged in but that's really a different
case whether the user logged in or not
that's not really the part of concern so
for that let me come back to the
backtrack go to the full screen mode and
let's try to explore the backtrack a
little more I'm not going into the
full-screen mode the cause of a simple
reason I am going to open more prompts
in this that's why I'm not going in it
so I will travel to see Lee slash
pentest slash valve slash SSL strip so
this is the path where you will find D
tool for this setup now how to use this
tool if you'll try to run this simple py
file which is not actually an executable
mode you can run it in the Python then
SSL strip dot py or you can assign
manual permissions like I can change
mode of 755 I like it in this way so I
always change it to the SSL strip dot py
now how to use this tool the problem
arises out here so I will do a fem over
readme and you will notice there are a
few steps to run this tool and our MIT M
as well so here in the fourth step it
says what we are actually going to try
is written out here so first of all we
are trying to make our machine into the
forwarding mode or known as the IP
forwarding mode so whatever the traffic
is coming to us we will
act as a you can say router or virtual
router and then every traffic will be
redirect from us to the original system
also we will set up an IP table
intercept HTTP request so whatever the
traffic is going over the HTTP we are
going to sniff that traffic via the port
number 80 and we will talk about this in
a moment and also there is important
thing we will run the our spoof to
redirect the traffic to our machine so
if you remember from the last video we
have learned how to do SSL and all these
stuff but this our spoof will also help
you that's the reason why I have taken
this video and this SSL strip so let me
zoom it a bit okay so now here comes the
lazy stuff I will copy paste this okay
why I am doing it so I could have
remembered the command and can grab it
out here but I really want you to be you
can say motivated so that you can also
try these kinds of tool so here is our
what we are going to do this files only
contains 0 or 1 0 means it is not in the
IP forwarding stage 1 means it is in the
IP forwarding stage so echo 1 1 will be
e code and will be redirected to this
file very simple so machine is an IP
forwarding stage now we will set the IP
rules let me copy this and paste it here
listen port I will you can mention any
lesson port out here
let's say 10,000 will be fine so now IP
tables rules are being assigned and
being mentioned now here comes the thing
our spoof
copy this paste it out here it asks me
for a variety of things let me talk
about them one by one okay your network
device so what is actually your device
you can simply find it by using the
ifconfig I know my device is eth0 - t
your target IP address and the routers
IP address so let's move back to our
victim machine and try to find out the
IP address and routed as well so it says
I pay config and here is the 1 9 - 1 6 8
5 2 . 141 and the default gateway is 5
2.2
okay so target is 1 9 2 1 6 8 5 2.14 1
and the router IP address or the default
gateway both are almost the same let me
give it that - 1 68.5 2.2 hope I
remember it well
okay so the ah spoofing is being running
continuously let's leave this terminal
as it is now the things comes about
running the SSL strip all the things are
being set up now let us learn how to run
this SSL strip tool you can simply run
it now by giving a dot slash SSL strip
dot py let me assign a - hyphen H to see
the help options so the important
options both are very important but for
the time being I am going to use this
option only you can use any other
options as well go give it a try and I
will give a hyphen W where the file name
hit a logs dot txt you can give any name
to this
okay so SSL strip is running now let me
go back to our victim machine here it is
let me close this session first of all
let me do a ARF - a and we make sure
that things are running okay so here it
is five 2.15 - that is our attacker
machine and let me open up my Internet
let me go to gmail.com you may notice
that at the bottom it says HTTP
gmail.com so now no SSL is running you
can also verify it on PayPal and all
these things but let me warn you strict
to the labs let me login into a fake
account and its password is also this no
I don't want to remember the password
let's check if I am redirected to open
up my account
oops it says an OPA unsupported browser
but anyways I I was logged in and if you
try it on some other browser you will
find that you will definitely get logged
in but now let me move back to this our
attacker machine let me hit a ctrl C
okay do a LS and you can see hit a log
start txt file is being created let me
quickly do a cat over hit H logs dot txt
and let me search for the traffic and it
says email is demo hack one one and its
password s demo hack one one I hope it
is visible
again let me do a cat over at a log
store txt and you can see it's really
sometime hard to analyze this traffic
but here it is the password demo hack
one month quite a beautiful thing out
here so what we have learned so far is
that how we can easily sniff over the
SSL as well try to sniff out the data
where non SSL or to sniff out any kinds
of things lots and lots of other
sniffers are available even Wireshark is
also a quite a good sniffer eater cap
and quite a bunch of other sniffers are
also also available in the market that
you can easily go through with that so
this was all behind this video to get
you a brief idea about the mi TM go to
this link on the Wikipedia that says
Viki slash man-in-the-middle attack
man-in-the-middle attack is ave beyond
topic in the cryptography go through at
least with this Wikipedia link that has
got a really nice demonstration of how
actually this works and try to search
out some things by your own on the
Google as well that's all for this video
hope to see in the next video
thank you so much for watching and let's
enjoy pen testing with backtrack</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>