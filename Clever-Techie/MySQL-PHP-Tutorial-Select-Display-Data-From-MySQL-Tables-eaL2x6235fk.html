<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MySQL PHP Tutorial - Select &amp; Display Data From MySQL Tables | Coder Coacher - Coaching Coders</title><meta content="MySQL PHP Tutorial - Select &amp; Display Data From MySQL Tables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Clever-Techie/">Clever Techie</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MySQL PHP Tutorial - Select &amp; Display Data From MySQL Tables</b></h2><h5 class="post__date">2017-02-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eaL2x6235fk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's going on it's clever
tikki and in this video we're going to
be selecting the my SQL data records
from database and displaying them using
HTML and CSS now I've made it so that
the SQL statement selects random movies
so if I keep refreshing the page here
you can see that ran the movies are
being displayed along with all
information the movie title year rating
the duration all a genres description
and all the other information of this
movie like stars directors both drawers
as well as an IMDB D a rating and a
Metascore so all the movie information
is being displayed and this is a table
where the movie information is being
pulled from along with all the directors
or honors stars and relational tables
now this is the actual database designed
and I'm going to refer to it a couple of
times throughout this video if you guys
don't have any of this data I've
included everything is in the
description of this video you can get
the the SQL to create the database along
with all the tables and you can also get
the data to populate all then with the
data and you can also download the
source code this is the complete source
code for pulling in all the data and
displaying it in a nicely formatted HTML
including the cascading style sheets as
well now I'm not going to be explaining
much of the HTML and cascading style
sheets because this is a PHP tutorial
but I will create another video
explaining exactly how I create CSS for
displaying stuff like that okay let's go
ahead and get started now and create
this script okay so I'm just going to be
going through the code and explaining
what's going on so first of all I'm
including this style CSS next up I'm
connecting to the database you guys
should be familiar with that okay so
next up we are creating
and- qli object by calling the class
with a keyword new and that creates the
MySQL connection now whenever we have an
object and we have an object of the
class - ql we can run methods and
properties on that object
just like you see here we have a class
name and then whenever the class name
has properties and methods we can then
coldest methods and properties on the
object so this is exactly what's going
on with the with a MySQL I object we
call a method Curie on it and if we go
to google and type - qi result methods
and go to the php.net site you can view
the kinds of properties and methods that
this object has and one of the one of
the non that's not the one
- ql line methods - qlae methods and one
of them is of course curie which we're
going to be using a lot and this is
probably the method that's mostly used
to create the SQL statements so this is
what we're doing here and i'm selecting
from the movie stable where years
between 2000 and 2006 and i'm ordering
the results by Rend which means is just
going to get a bunch of random results
of the movies between these years and
it's going to limit them by 20 that
means it's only going to return 20
movies total which is what it's doing
here ok let's go ahead and keep going so
so what's happening here also is
whenever we're on a select erie in PHP
or whenever we do that
using MySQL the the result is returned
as a MySQL result object so this is
where this is why I'm naming this
variable result and if we print out the
result here this is what it looks like I
got a resource
this is my sqli result object which is
what it's what's supposed to happen now
the muscular result object is different
from the - Kyoya object because we've
run a Curie on it and now we can run
different commands on the mysqli result
object so let's check that one - Kara
life results methods and that is going
to give us properties as well as methods
that we can run on the MySQL result now
the one that we're going to be using is
fetch a sock as well as fetch all now
let me go over the fetch as sock so
whenever we have an object variable it
means we can call methods on it and
objects we can also have properties okay
so getting data from the MySQL wire
result objects so so whenever we call
fetch a sock on the MySQL a result
object which is the result that's
returned from the Select Theory the
fetch a sock will get the row-column
data as an associative array and then it
will keep fetching the next row when
called again so let's test it out here
so here I'm just calling the fetch a
sock twice on the result object and then
let's see what happens let's refresh the
page view source okay so this should be
really clear here the fetch of sock gets
one ID and then it gets another one so
these two movies are completely
different and that's how a fetch a sock
works whenever you call it again it's
going to keep bringing new rows and
that's why we can key we can put the
fetch a sock directly inside of the
while loop here and we can store all the
data inside the movie variable
so what it's going to do is going to is
going to fetch all the movies until the
end until null is returned and when the
null is returned while loop fails and
exits so this Curie is going to bring
all of our data rows and we're going to
keep looking through them and that's how
all the movies are being printed out
here um let me see what am i doing okay
so that's how all the movies are being
printed out it fetches the first movie
prints out all the data then it goes to
the next one
next one etc so it keeps looping through
all the movies and returning different
results until the end so I hope the
fetches suck as I hope you guys
understand how that works now because I
was confused when I was learning it
first okay so now that we're storing all
the movie information inside the this
row in fact let's go ahead and print out
one of the movies so you guys can see
what's going on turn our movie die okay
so this is how our array looks like as
you can see it's a single movie and now
we can access all the title year
etcetera from these associative array so
that's what I'm doing here
first of all I'm printing out a movie
title and I'm putting it inside the
inside the header next up is a year
which is printed inside the round
brackets and now then I have a image of
the movie and I already know that the
image is 67 widths by 98 height but the
image is kind of small so I decided to
just multiply it by 1.3 just to make it
a little bit bigger and that's what I'm
doing with these numbers here then of
course we have the SRC tag and I mean
SRC attribute equal to the actual movie
URL which is
which is the CRL here so you can see
that the image URL is in fact the actual
URL to the JPEG of that movie so that's
how that works and then what's happening
here is basically we're printing out the
imbd rating and we're printing out the
meta score but only if they exist so if
you recall the ternary operator if this
is true then print this part if not then
nothing is printed and same goes for the
meta score next up we print out the
certificate so up to this point we've
covered the the image the title the year
the image of the movie I media rating
and meta score next up we have a
certificate which is this guy here okay
so let's go let's get to the certificate
so if the certificate exists then print
it also if the certificate is the
certificate exists we also want to print
the pipe which is going to be this pipe
here right after this certificate next
up we got the runtime so we do exactly
the same thing and just add the mi n at
the end of the runtime which is which
stands for minutes okay so here is where
it gets a little bit more interesting
and this is going to be the meat of this
video because we're going to be
selecting data from the relational
tables first one is going to be your
genre so what we're doing here what
we're doing here with a select statement
select John Rose ID from movie genres
where movies ID equals movie ID is we're
selecting all the movie genre IDs that
are associated with this movie with this
movies ID so the movie ID is the actual
movie that we're looking through right
now and it's going to get all the genres
I
Deas from the movies genre stable and
it's going to return everything again as
a result this I am starting everything
inside the result - next up on to get
all the genres and this time I want to
get all the genres in a nicely formatted
numeric array and we can do that by
using a fetch all function on the result
but look what happens when we do that
you source this is the actual array
that's returned and as you can see it's
a multi-dimensional array which makes it
a little bit difficult to look through
so I found a solution for that and the
solution is to use an array column
function which takes in an array and the
second parameter which is going to
delete the key which is provided here so
it's going to deal with this zero and
this is why I'm specifying zero here and
look what happens when we run that
function on it all of a sudden we get a
really nicely formatted numeric array
with always-on reside ease which are
associated with this movie which is
exactly what we want so so next up we
just create a loop to loop through all
the genres IDs and get the records from
the genres table so now that we have a
less onerous table all the genres IDs we
simply create the loop to to loop
through all those IDs and then we select
and then we create a curie to select all
the genres from the genres table so
select name from genres which is the
genres table and we select the name
which is all we need and of course for
the ID we specify the genres ID now here
what I'm doing is I have you can
actually do you don't have to store this
in a new variable we can just since this
is going to be the result returned here
you can right away call the method on it
and that way it will immediately be your
turn as an associative array so if I
print out the genre here okay you can
see that the genre name is being printed
okay so this should make sense next up
we print the apply before the first
genre and we're just checking if the I
counter is zero because this is the
starting shun run and if it is zero then
it prints out the pipe otherwise it
prints out nothing so in the end we end
up with with this pipe here so it will
only print it in front of the first
genre as you can see no pipes are
printed out after the first one or
before the second one so let's takes
care of those pipes and next up we print
the actual genre we put it inside the
span class blue so the text is blue and
also we want to print the comments after
every years onra unless we're at the end
of the genre so this is exactly what
that's checking it's checking it for at
the end of the genre in fact it's
checking it for not at the end of the
genre if that's true then we want to
print the comma if we're at the end of
the genres then we print then we print
nothing so this is what we end up having
it in the end we have a genre separated
by comma and there's no comma printed at
the end of the last one okay so same
principle goes next up we have
description and the same principle goes
for directors except here I'm I'm
storing directors and I'm storing the
stars and then I'm looping through
directors and stars down here which
makes the code a little bit easier to
read and if I print out the directors
and stars
Yesi what I'm what I have here so for
the directors this is the directors ID
and here all the stars IDs
and again it's formatting them and
returning them as numeric arrays which
are nicely organized so now all we have
to do is look through the directors and
stars
first we look through the directors and
we're doing exactly the same thing as we
did with the genres we're selecting the
directors we're selecting directors from
the directors table using the directors
ID that we have now then we immediately
run the fetch a stock function on the
result to get our directors as a
associative array next up in order to
print out the director as opposed to
directors we simply check if we have
more than one director using account
function and we in fact have more than
one director we just store and letter F
instead of inside the letter inside the
he'll variable F and then we just put
the S at the end of the director here
and if we have more than one director
it's going to print s otherwise it's
going to print nothing so that takes
care of the plural thing and then we
just print the director name and here we
check if we're at the end of the
directors and if we're not at the end
then we want to print the comma just
like we did for generous also if we're
at the end of directors we want to print
the pipe but only if there are stars and
E we already have our stars here because
we're storing them earlier so we just
want to check if stars are more than
zero and if the stars are more than zero
then we just print the pipe the pipe
okay so that's how that's done and that
takes care of the pipes and Commons and
all that good stuff for us okay next we
look through the Stars and this is the
same exact principle we also use the S
to take care of the plural thing if the
stars is more than one then we want to
print S at the end of the stars
otherwise we don't want to print
anything okay so we also do the same
thing with a comma if we're at the end
of
stars would I want to print any comment
and that's how that works so so next up
we have votes and we check it's a votes
exist if it does we want to print the
votes and we also want to use number
format function to format the votes in a
nicely formatted number which is going
to give us a comma-separated number
instead of just just the integer we also
want to print the the grass on our I
mean we want to print a pipe if the
grass exists and since we already check
if the votes exist that means it's not
going to print an empty pipe if the
votes doesn't exist so we're checking if
the votes exist and we checking if the
grass exists and then we're printing
applied between the two so this prints
out the spy between votes and growth
finally we check if the movie grass
exists and if it does we print that out
as well using the number format and
that's it for this video I hope I didn't
confuse you guys too much I'm going to
create another video on how to create
CSS out of this you can go ahead and
play around with us keep refreshing the
page it's going to return random movies
you can also play around with this SQL
statement here which will give you
different results based on all kinds of
parameters that you set to it you guys
found this video useful please like
share and subscribe and I'll see you
next time clever take it out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>