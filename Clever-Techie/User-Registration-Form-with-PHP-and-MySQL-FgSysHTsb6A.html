<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>User Registration Form with PHP and MySQL | Coder Coacher - Coaching Coders</title><meta content="User Registration Form with PHP and MySQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Clever-Techie/">Clever Techie</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>User Registration Form with PHP and MySQL</b></h2><h5 class="post__date">2016-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FgSysHTsb6A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's going on is clever
techie and in this video we're going to
be creating an account registration form
that looks like this along with a
arbitrary image upload we're going to
save all the user information inside of
a MySQL database it's going to look like
this and also we're going to create a
profile welcome page that it's going to
have it's going to display our avatar
along with a username and down here it's
going to display all the users that have
already been registered along with their
usernames and avatars as well okay let's
go ahead and get started let's go to a
code pen dot IO forward slash clever
techy and this is my profile code pen if
you scroll down here you're going to see
this form pen click on it and it's going
to have the HTML and CSS for it so let's
go ahead and copy that into our entire
files so this is NetBeans I've already
created a folder for the form and I'm
going to create a new file I'm going to
create a PHP file called form and I'm
also going to create a cascading
stylesheets file also called form and go
back to the pen copy HTML paste it
inside the form that PHP copy go back to
the pen copy the CSS and paste it inside
the form CSS now I'm going to preview
form that PHP to see what it looks like
and it looks like and just like expected
and now we're pretty much ready to work
with this but before we start coding PHP
let's go ahead and create the actual
database and a user's table and I'm
going to go back to PHP myadmin click
new and create a database called
accounts hit create the database has
been created now for the table instead
of using PHP myadmin I'm actually going
to be using MySQL workbench and it's a
free program that you can download and
for me just makes things a lot faster
and easier so I'm going to go ahead and
connect to the database here and as you
can see here it's showing it accounts
database so i'm going to hit new table
to create a new table and name the table
users
and then I'm going to insert the columns
here so the first one is going to be ID
primary key Auto increment next one is
going to be username which is also going
to be not null and next is email not no
password not no
and finally avatar not no and I'm just
going to increase these character values
to 100 just in case you're going to be
entering some longer values so I'm just
going to set all them to 100 okay so our
table is ready to go hit apply and this
is the SQL for the table and I'm
actually going to include the code to
this file in the description of the
video in case you guys just want to copy
paste this SQL code into your directly
into your MySQL database and hit apply
and code has been executed now I'm going
to go back to PHP my admin' to make sure
the table has been created and yes it
has going to go to structure and all the
fields are there so now we're ready to
work with this database
okay let's go back to NetBeans okay so
this for this form is going to be
submitting it to itself so we're going
to place all the PHP code just above
this form here okay so the first thing
that we want to do is create a session
because we're going to be displaying
some variables on the next page called
welcome dot PHP so we want to create a
session also we're going to be creating
some validation and we're going to be
displaying the session messages on this
page as well so let's actually go ahead
and create this variable now and just
make it empty for now and this is the
div tag that I've created where are we
going to be displaying this message so
let's output it here right away
session message
and right now if I view this form here
nothing is going to be showing up
because the session message is empty and
okay so this form already comes with
some validation rules so if you try to
submit in this form now it's not going
to let you because I've included the
keyword called required here which is a
html5 keyword that allows us to just
specify that and it's going to be
validating all the fields and it's not
going to let you submit the field unless
it's not empty so all these fields are
required so you're going to have you're
going to have to fill them all out in
order for this form to be submitted so
all we have to do now is let's go ahead
and first connect to the MySQL database
and the database is going to be accounts
okay so first of all we want to make
sure that the form is being submitted
and for that we're going to access
server global variable request method
and we're going to make sure it's post
that form is being posted and the form
method is in fact post so when this form
is submitted this if statement is going
to become true so the first validation
that we're going to do is we're going to
make sure that the two passwords are
matching so we're going to say to
pastures a equal to each other and
remember that all the other variables
all the other fields are already not
going to be empty because it's being
violated by html5 so we just want to
make sure the passwords are already not
empty so we want to make sure that
they're equal to each other so let's do
that here by accessing the post global
variable and in case you're wondering
password and confirm password are the
names of these fields here and that's
how we access them by accessing this
input field name from the post variable
okay so now that we are sure that two
passwords are correct let's go ahead and
set all the all the post variables okay
so the first one is going to be user
name and we want to make sure before we
before we set this variable we want to
make sure to use a real escape string
and this just escapes all the special
characters to be able to insert them
inside of MySQL let's go ahead and
create an email variable and do the same
exact thing on that
and password okay so our password we're
going to use a function called md5 to
hash the password for security purposes
okay so the next one is going to be our
path to the image we're also going to be
using this MySQL real escape keep strain
and we're going to be putting the images
inside of a images folder so this is
what we're going to say here and the
images the files are accessed via the
files global variable so so what I'm
going to be accessing here and let's go
ahead and create this folder here as
well new folder images so this is where
all the avatar images are going to be
stored and in case you're wondering
files is another global variable that we
access when the form is submitted
so unlike all the other input fields
files are stored inside this files
global variable so and I'm accessing it
by avatar which is the input field name
of of the avatar image ok so next we
want to make sure that the file type is
in fact image so we're going to match
image
off the files global variable and the
type is specified inside of a type
instead of a type T okay so if you're
wondering let's go ahead and actually
output the files
level array here files and see what
happens now I'm going to fill out the
form go fast select some file okay so
this is what the files array looks like
and as you can see inside of a type key
we have image so it's going to be
matching image and if in fact the image
type is an image then we want to
continue and this is a where the name of
the image looks like lives and so that's
what the array looks like okay so let's
keep going here now that we know that
the image is in fact image we want to go
ahead and copy the image to images
folder for that which is going to use a
copy function and there's also a key
called TMP name which is a temporary
name that's given to the image when it's
uploaded so we're going to specify that
and we're going to copy it over to
avatar avatar path which is a path to
our images folder here along with the
image name okay so now that we completed
all of that we've made sure that the
form has been submitted two passwords
match that the images in fact image
we've have copied the image to the
images folder we're not ready to set all
the rest of the session variables so
let's go ahead and do that
set the username to username and avatar
is another variable that we're going to
be accessing on the welcome page so
we're going to set that one and at this
point we're ready to insert the values
inside of our SQL so let's create the
SQL specify all the column names first
username email password and avatar and
then the values instead insert all the
values here there's four of them and and
this with a semicolon
okay so username email password and
avatar path so all those fields are
going to be inserted inside of a SQL
database and finally we're going to have
if the if the Curie is successful I'm
going to redirect to welcome that PHP
page and done okay let's say if MySQL I
carry SQL equals equals true then we
also want to set the session message to
our successful message registration
success
a dit username to the database okay and
we want to redirect to the welcome page
using header location welcome to PHP and
let's go ahead and create that file now
called welcome dot PHP for now it's
going to be empty let's leave it like
that okay so all this is done except
we're going to create the error messages
for the actual in case things go wrong
okay so for this one we're going to say
else so all it is is going to be a bunch
of else statements so in case the we
fail to add the username to the database
and here we're going to gotta use double
quotes of course okay so in case we fail
to add the user to the database we're
going to say the user could not be added
to the database okay in the case
c/o okay so okay so in case the file is
not being able to in case we're not able
to copy the file we're going to say
session message I'm just going to say
file upload failed okay so here we're
making sure that the file type is in
fact image so if it's not going to say
else session message please only upload
gif jpg PNG or PNG images so these are
just a bunch of error messages so we're
going to be displayed on a form
finally if two passwords don't match and
say else such a session message equals
two passwords do not match okay this is
looking good let's go ahead and test
some of these error messages now by
viewing the forum okay so if I filled
this out now and for the password so I'm
just going to enter not matching
passwords and select an image hit
register and two passwords do not match
that's working and you guys can go ahead
and test all the other ones you can
select some bogus in a file and to make
sure that that's working so it should
all be working now so now let's go ahead
and create the Welcome page where our
user profile is going to be displayed
and here I'm going to include I'm going
to include the form CSS as well and then
start coding a PHP first of all we want
to make sure the session has been
started so we can access those session
variables and then there's going to be
some CSS here
body content this is going to be the
just add this div tags here to make it
look good and next we're going to have
this this alert that is going to be
displaying the session message of the
successful registration so you want to
enter exactly like this and next we want
to display the avatar I'm going to use
an image source tag for that and then
then I'm just going to display the path
to the avatar close the tag here and
also let's put that inside of a span tag
just going to format it nicely close a
span tag here okay I want to put it
inside of codes here just like that oh
yeah has to be outside right there okay
so that looks good okay now let's go
ahead and test this out here let's go
ahead and fill out the form and enter
everything correctly make sure the
passwords are matching choose the image
as a as a avatar picture hit register
fail to open stream
null such file or directory I think
okay so okay so we want to make sure the
folder name is images not the image okay
so let me me do that again
select the image hit register okay so
the registration successful add it
clever take you to the database welcome
and it's not showing the user name so
why not um oh because we haven't
included the user name yet
oh we actually want to display the user
just below the image okay that's what I
wanted to do okay
so class is user and close a span tag
and inside of here we want to include
the session username okay let me refresh
the page okay so let's just what did I
do here after avatar else included
breaking tag okay so okay now that looks
good
registration successful add a climber
take you to the database welcome clever
techie and it's displaying the avatar
image so let's go back to the database
and make sure that the user has been
added under the users table and yes it
has been I've already created two users
so they're in a database okay so now we
want to do here is display all the users
that have been registered on the profile
page and this is what the complete page
should look like with all the records
inside a database
okay so underneath here I'm going to
create all the code to display the users
that have already been registered so
let's go ahead and do that now okay so
first of all we want to connect to the
Deb database again
and connect to select our accounts
database then we want to create SQL to
select username and avatar from the
users table and this is the only fields
that we're going to be working with
because we're only going to be splaying
username and avatar we don't need
anything else and then we're going to
say result MySQL I cure a SQL now the
result is going to be equal to MySQL
result object and we're going to be able
to run special methods on that object
which is I'm going to I'm going to show
you that what I mean in just a little
bit so down here let's create an another
tag called div ID equals registered
close the div tag and then all
registered users going to be down here
and then open up the PHP tag again close
it and here I'm going to create a while
loop that's going to store the results
of the fetch associative inside the row
now what it does here is result is an
object and now we're ready to access
fetch associative method on that object
which is going to which is going to have
all the row information from from that
result and it's going to store
everything inside the row also it's
going to have it's going to be inside
the while loop so it's going to go
through every row that's returned from
this Kure here select username avatar
from users and it's going to go through
all the users that are in the database
which is exactly what we want so if we
print it out the row let's go ahead and
do that right now
let's see what happens here so this is
what the array result of of fetch
associated file looks like so it's it's
getting the user name and avatar
associatively and it's displaying
information which is exactly what we
need so now we're ready to display all
the users and for that we're just going
to create two div tags actually just
want the IV tag and this one's going to
be user list span here we're going to
have the RO user name just going to be
displaying the user name close span tag
BR and then we're going to display the
avatar as well using the image tag and
I've made it so this avatar is going to
be 100 by 100 pixels because just looks
better and that information is inside
the form that CSS hit save and now all
the users that have been registered are
also displaying here so this is done and
let me just show you what it looks like
when we have a bunch of users just going
to access a different database here and
what
oh okay so that makes sense because this
file is not inside that folder okay so
anyway this is complete you can go ahead
and add more users you can play around
with this form a little bit more here
let me just show you one more thing real
quick if I select some bogus file
instead of an image like this PDF file
here fill out all the fields sure the
passwords are matching hit register and
it's going to display this error please
only upload give jpg or PNG images which
is the message of our failed image
upload
okay so we've created this form with a
bunch with some of the validations and
that's how easy it is to create a
account registration form with
validation rules and insert the records
inside of your MySQL database if you
guys found this video useful please
subscribe to the channel like this video
and share it with your friends and I'll
see you next time clever take it out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>