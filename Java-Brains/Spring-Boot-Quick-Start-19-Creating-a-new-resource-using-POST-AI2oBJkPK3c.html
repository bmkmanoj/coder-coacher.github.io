<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Boot Quick Start 19 - Creating a new resource using POST | Coder Coacher - Coaching Coders</title><meta content="Spring Boot Quick Start 19 - Creating a new resource using POST - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Boot Quick Start 19 - Creating a new resource using POST</b></h2><h5 class="post__date">2016-12-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AI2oBJkPK3c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we've implemented to get requests get
api's in the last couple of videos so
let's move on to the post we want to
create new topics and the way to do this
is by making a post request to the slash
topics URL how do we do that I'm going
to create this new method in this game
controller just call this public let me
make this wide for now let's say add
topic now let's say I add the logic here
to add a new topic to that list and now
I want to map this to when there is a
request to slash topics and that happens
to be a post request now how do I do
that I can use the same request mapping
annotation and the URL here is again
slash topics but here is what I want
different I don't want to go to slash
topics for a get request this is already
doing that when there's a get request to
slash topics this is a method that gets
called because get is the default but
now I want the post to map to this not a
get so in order to do this I need to
specify the method itself if I don't
specify the method it's going to do a
get which is not what I want so I need
to specify the method over here so in
order to specify a method if you look at
the properties of this annotation you
see there is this thing called method
and I can use that to specify what the
method should be so in order to specify
a value I can use an enumeration here
which is called a request method
this comes with Spring Framework it's
the package that you just saw and here
this has a bunch of values so you see
here there is a get delete options patch
post what we are interested in the post
so I'm going to choose that and now I
have configured this request mapping to
happen when the request method is a post
but if you notice here I don't have the
value anymore the URL value that it's so
obvious over here I don't have that here
now since I'm having a custom property I
need to add the value property as well
which is again another property here
which takes in a string which is slash
topics so what this line is saying is
map this method to any request that's a
post on slash topics okay
then the post request happens to this
URL this method is going to get executed
this line is saying map any request
which is a get on slash topic so you
don't have a get here because it's the
default but I can also have the same
structure as you see over here I can say
method equals request method that get
value equals lashed up since the same
thing over here this is an expanded way
it's kind of like a shark it for a get
request alright now I'm going to have a
post request made to slash topics and I
said that the post body should contain
the object itself that's being sent the
new topic that's being sent now just by
adding this annotation this method is
going to get called when there is a post
request but now what I need in this
method is to get that post body convert
it into a topic instance and then add
that to the list in the topic service
now how do I do that we'll think about
what you did in this method you passed
an argument that you really wanted from
the request and then you had an
annotation which told spring MVC what
part of the request payload you need to
pick in order to pass to this because
premium is going to execute this it
needs to know what it's passing to this
method argument in order to execute it
and you've given it a pointer it say
okay pick that thing from the request
object and pass it to me is there a way
you can say hey spring MVC get the
request body and pass it to me as a
topic instance well turns out there is a
way you can do that let's assume spring
MVC is smart enough to get the topic
object from the request payload and
convert it into a topic instance all you
need to do is tell spring MVC hey pick
this instance from the request body well
there's an annotation for that which is
at request body with the spring
framework web bind annotation so what
this does is tell spring MVC that your
request payload is going to contain a
JSON representation of this topic
instance and you're asking it to take
that request body and convert it into a
topic instance and pass it to the add
topic then this URL is mapped anyway so
you're gonna get an instance of the
topic that's already for you to add to
the list which is super handy alright
now what I'm going to do is create
probably a method on the topic service
which adds the topic instance right so
I'm gonna say topic service dot add
topic and I'm gonna pass in the topic
that I get from the payload now this
method obviously doesn't exist so I'm
going to create a method on the service
and what this is gonna do is topics dot
add off topic and now we're done now I
can make a post request to slash topics
and I pass in the topic object and it's
going to create a new topic for me let's
test that out now since this is a post
request I need something that I can use
to make REST API cuz I don't wanna use
the browser for making these calls we
did use a browser and just type the URL
in the URL bar because it was a simple
get request but for post you need to be
able to edit the post body what I
recommend is this tool called postman
this is a chrome plugin which lets you
make REST API calls and modify each and
every aspect of your REST API call there
are similar plugins and other browsers
but this is what I'm going to be using
you can go to the chrome app store
search for the postman plug-in and
install it and you're going to get this
UI now in order to make a request will
access the topics request I'm going to
make a get request to slash topics and
I'm going to get back the whole payload
and this is nicely formatted as well
which is
and that I can access one topic by
passing in that parameter with the path
that we get spring or Java you're gonna
get those values now what I want to do
is make a post request so let me go
ahead and restart the server and make a
post request to slash topics and I'm
change the method by changing this value
over here and in the body and then
create a new payload I'm going to have a
draw payload okay so it's a simple topic
object payload I'm going to send that in
the body but before I submit this post
request what I also need to do is go to
the headers section and set a header
called content type of content type is a
standard HTTP header which lets the API
know that what you're sending is a JSON
object because there's no way for it to
know when you send the body it goes as a
string right it's the payload in the
HTTP request you need to somehow tell
the API that this is JSON and not XML or
text plane or whatever so you have to
set this header called content type
whenever you are sending these request
objects in the body of your request so
here it's going to be application slash
JSON so again this is a standard value
for the content type in order to tell
spring MVC that what you're sending is a
JSON string and takes that and converts
it into a topic object if I hit Send
here you see an error so let's see
what's going on
abstract lestrade okay so I have missed
something I'm actually adding a topic
object to arrays dot as this which is
not mutable so I need to create a copy
so when you do it when you get a list
from arrays dot as list the end up with
an immutable array so what I'm going to
do is
new ArrayList off this so that I have a
mutable array list if I just do the
Madiga store as list I cannot add
anything but to move anything from it so
I'm creating a mutable less from this so
let me go ahead and please start the
server and try this again so I'm going
to make the same post request now here I
do not get anything back in the response
but if I were to make a get request to
slash topics now here you can see that
there is a fourth topic that was added
so this is how you make a post request
you map it to the at request mapping
with the post as the method and then the
URL then you can add you can send that
object that spring MVC prepares from the
request body so what we did was passed
that JSON as a request body and spring
MVC was smart enough to convert it to an
actual instance and pass it to the
business service the problem that I did
end up with I'll just quickly cover that
though it's not really related to spring
MVC is that I created my list my hard
coded list of topics by using arrays dot
as list and this arrays dot as list
method creates a non mutable array an
immutable array an immutable list sorry
I cannot add things to the list or
remove things from the list so in order
to be able to edit the list I just
passed it to a new array list
constructor so that I get a copy of that
list but this one is mutable so I can
push things to it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>