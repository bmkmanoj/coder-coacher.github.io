<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSPs and Servlets Tutorial 14 - Using jspInit and InitParams | Coder Coacher - Coaching Coders</title><meta content="JSPs and Servlets Tutorial 14 - Using jspInit and InitParams - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSPs and Servlets Tutorial 14 - Using jspInit and InitParams</b></h2><h5 class="post__date">2011-05-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/g15_vDp0HIg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial in this
tutorial we'll revisit the concept of
initialization parameters that we saw in
the subjects tutorial and we'll see how
it applies to J's peas we learned that
we can initialize parameters on a
servlet to sublet basis by using the web
dot XML or by using annotations and
specifying the parameter name and value
in the init param annotation or the XML
node now we'll have a look at how we do
the same thing in a JSP file it's very
similar but there are a few differences
that we need to note in this tutorial
we'll also do something that we don't do
in a servlet tutorial we're going to
override the init method yes since the
JSP is eventually going to get converted
to a sublet it should have an init
method so now if you have to override
the init method on a servlet you just
overwrite the init and we have two
signatures one is with the sublet config
as a parameter and one is without any
parameters you can just override it in
your servlet class and that will do the
trick
but how would you do that in a JSP so
we'll answer these two questions by
creating a JSP which takes in parameters
and also initializes them in an ordered
in init method so let's get started I
will use the same project but I'll open
a new JSP page I'll create a new page
you JSP file created in the web content
and I will call it init page dot JSP
okay so we have a blank template now
what we're going to do is we will
configure any parameters for this the
use case that I have is that I will have
a default user name and if the user does
not pass any attributes or any
parameters to the request then we show
the default user name but now if you use
a processor value in the requestor
parameter
then we show the you know the value that
the user is past so let's let's
configure the username in it parameter
for this page let me save this so that
we have the file here in order to do
that we need to update the web tour XML
it is similar to a servlet configuration
inside the web dot XML in a sublet
configuration what would we do we would
have a servlet node and inside this of
that node we would have a servlet name
and a servlet class now here I do not
have a servlet class name as such
because I have a JSP and I cannot really
depend on Tomcat giving the proper name
for the subject earlier we saw it was
the JSP name underscore J speak as this
servlet last name but we cannot be sure
about that if you put this in a
different container it might have a
different name so what we do here is we
do not specify this of the class node
instead we specify a node coil JSP file
and this JSP file node will contain the
path to the JSP itself so here it will
be in it page dot JSP so what this is
telling Tomcat is that this is actually
a JSP page and I don't know the servlet
name so I'm just going to provide the
JSP name here and now you Tomcat has to
decide what is the gee you know the what
is a servlet that's generated out of
this JSP and then map this servlet name
to that generated servlet ok so now we
have defined the servlet generally you
know defining the unit param is same as
how we would do it on a sublet so I'll
just say in it
but I'm and here I can give param name
param value sets so I'll just have one
here param name I'll call this default
user and the param value will be default
is the name and there you go we have
defined the sublet
now for every servlet there has to be a
servlet mapping now what would be the
servlet mapping here now let's say I
create let's say create a sublet mapping
node here now I can give this object
name which is same as the sublet name
here but what would be the servlet
mapping what would be the URL pattern
well the URL pattern would be the path
of the JSP itself because whenever the
JSP is accessed we would want this kind
of configuration to happen and we know
that the URL by default is the JSP URL
itself so I'll just say in a page dot
JSP
and say so now what we have done is we
have configured a JSP file as a servlet
and we have given in it param so all we
need is the sublet node in order to
specify our Inlet parameter so now that
we have defined it as a servlet and
given it a name we can configure as many
init patterns as we want so this is how
you would configure and init param for a
JSP now that we have done this here we
will have that inner param available
here in the servlet config and accessing
this value inside our script tag is
fairly simple I'll just open a new
script block here okay since we know
that this is inside a JSP service method
I can access the get sublet config so
I'll just say get servlet config dot now
I have the sublet config object now do
it the way to access Internet param is
to use the git init parameter and I just
pass the string here and it will get the
value that we have defined now what's
the value we have over here we have
default user so I'll pass the same
string and that's it now let me just
print this I do not even need to assign
it to anything
just add some text here the default user
from the sublet config is get servlet
config which gets the config for the
servlet and get in the parameter which
gets this init parameter and of course
the parameter that we are actually
looking for which will fetch the value
for this parameter which is the default
username now let's run this make sure we
get the value right there you go we have
the default username now there's one
more thing that we do as we discussed
before we will try to override the init
method now let's say I want this inside
a session object or inside the you know
the application context object and I
want to do this before we actually run
in the service method I want this value
to be available in the session or in the
servlet context before we actually make
the call to the JSP service so in order
to do that I will have to override the
init method now what is the name of the
init method here we saw that it was JSP
in it let's open up the tomcat source
that's been generated for this JSP
this is the inner page dot Java so you
can see here the reserved underscore JSP
in it which is the method now we can
override this method by implementing a
JSP init method in our JSP page so let's
do that in order to implement a method
of course we saw this earlier we need to
have a definition tag we cannot have a
script block so I will say script and
then exclamation point I will have a
method definition here public word JSP
in it now first let me get the sublet
config and the value again like we did
here
okay so now I'm getting the sublet
config object here and I'm getting the
init parameter offsets of the config
object here so it is I've combined those
two into one statement I am setting it
into the default user string now I can
get the servlet context or the session
by using the corresponding syntax that
we would use inside of inside us you
know inside a servlet so let me get this
of the context here servlet context
context equals get servlet context now
I'm getting this object context from
show that yeah so I am getting this
other context object from this servlet
itself which is the converted JSP class
now I can use this context object in to
set attribute
set attribute now I can pass a string
default user and this string that we
have captured from the sublet config
that should do it
now I will also print the value here
value the servlet context this okay I
will have to get this of the context
here I cannot use the this value because
it's it's coop is restricted to this JSP
unit I'll use the same thing here I will
use the gets of the context dot Gator
attribute and I need to pass the same
attribute that we are sitting here which
is default user save this and run this
well there you go we have the value in
this of that config transferred to the
servlet context and since this is
happening on the init which is the first
method to run when this object is
initialized so we make sure that the
servlet context always has this value it
is the attribute of this default user
has been set
while the servlet object is initialized
so we know for sure that this is
available in any method that we
implement so so this is one thing that
we need to be clear about which is the
difference between us of the config and
us of the context this is something that
confused me a lot when I was learning
and I know it confuses a lot of people
as well the sublet conflict is something
that Tomcat passes to us on the creation
of the sublet object so what it does is
it checks the you know they are init
parameters in the web.xml
and what are the configuration
parameters we have said there Tomcat
bundles them into an object called the
servlet config and it passes it to our
init method and it's available for us in
the servlet as a member variable called
the servlet config
now the servlet context is actually you
know we saw another name for it which is
the application context which is
probably a better name is a scoped
object just like we have a request and a
session it's a scoped object that's
applicable across the application just
like a request is applicable only for a
particular request and the session is
applicable only for a particular user
session so that context object or an
application context object is available
across the application so hope this
difference is clear I will see you in
the next tutorials</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>