<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Struts 2 Tutorial 15 - Using Model Objects | Coder Coacher - Coaching Coders</title><meta content="Struts 2 Tutorial 15 - Using Model Objects - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Struts 2 Tutorial 15 - Using Model Objects</b></h2><h5 class="post__date">2012-10-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ATLP7ZimjVU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial I will talk a little
bit about strut support for model
objects I'm sure we all know what a
model object is that's the aim of the
MVC for those who don't know a model
object is essentially a package of
information that needs to be sent
between different layers in your
application for example from your view
layer to the business service layer or
from the business service layer to the
data layer if you're having a lot of
individual elements of data it would not
make sense to have them as separate
variables take this example of the
tutorial find the service so this has a
method get' best tutorial site that's
called from our view layer and the view
layer passes an argument called the
language so this service looks at the
input language and gives the
corresponding output now here we have
just one input argument let's say there
are like four or five different input
arguments so you have your own set of
preferences for what tutorial site you
need or something like that so let's say
you have like five arguments over here
it's not really practical to have five
input arguments to this method it's
actually very cumbersome to use the you
know to use the business service in that
case so in that case what you would
typically do is bundle all those five
arguments into a common object and then
that would be the input argument so it
would be just one object the input
argument that object would have member
variables for all the data that you need
to pass and then your business service
would look at that object and pull out
all the information it needs so this is
a common practice and you would see you
know lots of instances of model objects
in any you know any java application so
how do you use model objects in your
struts to application now in this
example so far we have not really used
any model objects because you see here
the tutorial finder takes in a string
language just a simple data type and
then here you have login actions not
really calling a business service at all
so what I'll do now is I'll create a
business service for login and also
create a model that that gets passed
from the login
action to the login service so actually
gone ahead and created these two classes
so first of all have created a model
class for user so it's actually the user
information the login action needs to
pass to a login service so I've created
a user object which has the user ID in
the password just these two for now just
for the station purposes we could have
more member variables here depending on
your use case but for this example we're
just using this is doing a login so user
ID in the password should do so we need
to use this user object in our login
action so I'll create a new member
variable called user I'll import my
model class that I've created so now
this is the user that I will pass to a
business service I've actually gone
ahead and created the business service
so this well what we're doing here is
we're just checking the hard-coded
string user ID and password and we are
letting the user in if the user ID is
user ID and the password is password so
I've actually created a similar login
service so this has a method called
verify login and this takes an input
argument of the user this is the user
model object that we've just created and
now the logic is very simple it's just
user dot user ID f-- is equal to user ID
and the user target password is equal to
password then we return true we saying
the verified the user has been verified
and if it's not equal then we return
false which means the user is not
verified so this is the login service
that I'll be using in my login action so
I will create a new instance of the
login service of course this could be
different in a you know in a real world
application would not really create an
instance of a service in your view layer
but since this is registration I'll just
go ahead and create one so I'll have a
login service
okay I've created a new login service
and I will say I'll create an instance
of the user now so I will say user
equals new user this error dot set user
ID and use it at set password so I'm
creating an instance of the login
service I'm creating an instance of the
model object and I'm populating the
values based on what starts populates
based on the input that the user has
made so this user object is now ready
and I can call the method of the login
service so I'll say login so we'll start
verify login of the user so now this is
going to be the condition so I'm not
going to do a check over here instead
I'll just say if the login service
verifies the user then return success as
written login okay so now let's go ahead
and quickly understand
open my browser picks the URL for login
the JSP now if I enter user ID and
password it works fine so it is instead
of validating in the action itself we
are creating a module object and passing
that model object to a separate login
service and then the login service is
doing the validation this file is not a
big deal but then they look at these
three lines of code here should be
creating a new instance of the user we
is populating all the values and then we
are passing it along this does look a
bit cumbersome now we have to member
variables so it's three lines of code so
if it's more you would have to set all
the individual elements off the model
object and then pass it along so this
looks very cumbersome and starch does
provide a couple of ways in which we can
make this a bit easier and we don't have
to do this manually let's take a look at
the first way of doing this now let's
say I do not manually set this thing
I'll remove this off and I'll do the
instantiation over here so what I'm
essentially doing is instead of creating
an instance of the model object when the
execute method calls I'm creating an
instance of the model object when the
login action is being instantiated so we
have the user instantiated always now
what I'll do is in my JSP my login dot
JSP
now here what I'm doing is I'm having a
text field which points to user ID I'm
having a password field which points to
the password so these two are these two
they correspond to these two so they're
the member variables off the log in
action so what I can actually do is
instead of setting to the user ID and
the password member variables of the
login action I can then stretch to set
it instead to the user dot user ID and
the user door password so
remember the user ID and the password
member variables are and the variables
of the user as well so instead of
setting it to these two guys
I can tell stripes to set it to this guy
to the user object off the login action
and the way I do that is very simple I
can just say user dot user ID then user
duck password so what I'm telling starts
to is instead of setting into the user
ID member variable in the password
member variable there is a user member
vehicle and that user member variable is
actually an object which has user ID and
it has the password so go ahead and set
it directly I would set it anyway so I'm
asking you to do it starts - so you go
ahead and insert it so starts - does
this for us so I don't have to say this
now I don't have to actually do the
assignment over here now this is this
looks very very simple
so our execute method is just
instantiating a login service which is
again something we do now we wouldn't
really do that in a real-world
application so what we would have to do
in the execute method is assume that the
user is automatically set and then do a
verify login okay now there's one
problem here though you see the validate
method over here the valid method is
actually checking if the user ID is
blank or if the password is blank and
it's going to return back to the login
page of any of them as blank now since
we are directly setting to the user
object and not to these values these
values will obviously be black all right
so this will obviously show an error now
in order to use the user object here
what I would have to do again just like
we did in the JSP I have to say user
that get user ID and user that get
password so since we are setting it
directly what we need to validate is
also the user where we are actually
setting it so this is another change we
have to make and finally since we're not
using these two member variables the
user ID in the password let me go ahead
and remove that and of course the
corresponding getters and setters and
I'll instead add getters and setters for
the user
okay and if I'm not wrong we don't
really have to initialize its trucks
desert for us so let me try removing
this so essentially it's a member
variable of the action stretch
automatically does the initialization as
well if I'm not wrong so let's try that
on a tester so I have user member
variable with the getters and setters
and in my JSP I'm setting the value
directly to the user and when I come to
the execute or even to the validator I'm
going to assume that the user object has
the member variables just like what we
used to assume with the member variables
are the action itself but it is one
level down now because we are looking at
the member variables off a member
variable of the action all right so
let's save this and let's try running
open my browser now and I'll enter the
URL for the login the JSP again user ID
and password and the ego it works fine
so we are not really creating the model
object and passing it along we are just
asking struts to do it for us and starts
instantiates the object as well as sets
the values because we have added this
into the JSP we have asked starts to
populate the object directly and finally
this yet another way we can do this this
method is it kind of avoids using this
as well now we are adding the user dot
in all your fields that's the you know
the model object dot field name if you
want to avoid that as well there is a
third way and that's called the model
driven actions
okay so we'll implement that now so what
a model driven action does is it tells
struts to that you are actually having a
model object in your action class and
then you ask stretch to to do a few
extra things to support that model
object so the way we have a model driven
action class is by implementing
a model driven interface this is from
comm open Symphony expert - okay so the
model driven interface again as I said
it tells stretch to that your action has
a model object and you would want
stretch - to help you populate that
model object now if you remember the
stretch - framework populates the login
action itself into the value stack and
it exposes the member variables off the
login action to the value stack itself
and that's the reason why you don't have
to say you know earlier with if you had
remove this one okay without the model
object we were using this right we were
using the user ID and the password we
were not saying log in action dot user
ID and login action dot password we the
same user ID and the password and the
way it worked was that the member
variables of the action were the member
variables of the value stack so even if
you assign values to the user ID and the
password it would internally assign the
values to the login action okay so there
is that level of indirection that's
happening the reps is in assigning the
values so what starts to says is hey
since I'm already doing that for you
since I'm already letting you not worry
about the object itself the law action
object itself in assigning the member
variables this is one more level of
indirection okay the action object has
another object inside it and then you
want those member variables to be
assigned well that's fine it just tell
me what's the model object and I'll
again take the member variables of the
model object so then I will take that
onto the value stack okay so not only
does stretch to expose the member
variables of the action as variables
accessible from the value stack it also
says if you have just one log you know a
model object just tell me what the
object is I'll take those variables also
and I'll assign it to the value stack so
as long as it does that I can access the
member variables of the model object
directly by using this user ID and the
password okay so I'll go ahead and do
that so again in order to do that I need
to tell us
- what the mortal object is because say
the art action object has like five
different objects it doesn't want to
take all the member variables of all
those five different objects and
populate it onto the value stack that's
going to be a mess so we're going to
tell starts - hey this is one object
which is my model object just take the
member variables of that object and
expose it as the top level member
variables with a value stack so that I
don't have to do a user dot I can just
access this directly okay and the way to
do that is by implementing a method okay
so now right now since I'm implementing
a model-driven you see the error over
here that's because I'm not implementing
a method so if I add a none implemented
method then you see here there is a get
model method that stretch to expects us
to implement that the get model is
actually the method that gives starts to
the model okay you're telling starts -
hey this is my model object and expose
these methods I expose the member
variables of this object onto the value
stack so all I need to do here is return
my model object which is the user and
that's it now what's going to happen is
starts to looks at the action checks if
it implements model-driven if it
implements model-driven it calls the get
model to get the object whatever object
we are sending it it's fine it just gets
the object looks at the member variables
of the object and exposes those member
variables onto the values to act
directly just like it would hide hide
exposed the member variables of the
action itself okay so now that this
happens we should be able to populate
then the variables off the model object
directly just like we've populate the
member variables of the action object
okay so now let's save this and of
course the JSP as well let's run and see
what happens okay so open my browser
I'll paste the URL now watch what
happens if I try logging
I get a null pointer exception why is
that that's in the validate so
essentially validate skill gets user as
null
that's Pickers C remember we had a new
user earlier we had removed it because
starts to instantiated it for us but in
the case of a model driven we have to
initialize you know a new instance of
the model so I have to say new user and
now this would work dot JSP and they go
we're able to successfully login so this
is yet another way in which we can
implement the model object in our
actions one way we can refine this is
notice we have just a blue minted a
model driven and the get model returns
an object since Java five we can have
generic so I can have a model driven off
user which means that I can directly
return user it's much more readable this
way okay so these are some of the ways
in which we can use model objects there
is yet another way using push tags which
we'll come to in a in a subsequent
tutorial but these are the ways in which
you can typically use model objects and
I hope this was helpful</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>