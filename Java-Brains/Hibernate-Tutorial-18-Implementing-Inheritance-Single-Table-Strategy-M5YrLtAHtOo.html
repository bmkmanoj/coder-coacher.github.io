<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 18 - Implementing Inheritance - Single Table Strategy | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 18 - Implementing Inheritance - Single Table Strategy - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 18 - Implementing Inheritance - Single Table Strategy</b></h2><h5 class="post__date">2011-06-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/M5YrLtAHtOo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now there is one extra column which is
added here called the D type now the D
type tells you what class it is now this
is actually recording the class name now
this is a week the first record that we
saved was vehicle let me see this it is
a direct implementation of a Melissa
direct instance off the base class
vehicle it has just the vehicle ID and
the vehicle name so that is what's
happening here it just has saved the
vehicle ID in the vehicle name it does
not save these values and it calls this
D type as the vehicle then it cannot
have these values as well because these
properties are for the child classes the
base class does not have these two
properties so it will not get saved the
two-wheeler has a steering handle and it
also since it's extending the vehicle it
also has the vehicle ID and the vehicle
name of the parent plus the ceiling
handle so what happen it has done is it
has filled the vehicle ID vehicle name
and the steering handler it does not
have a steering wheel because that's
another child so it just saves these
three values and then of course the D
type is the name of the class which is a
two wheeler same way a four wheeler has
a steering wheel and of course it
inherits the vehicle ID and the vehicle
name because it's actually extending the
vehicle so obviously it has a vehicle ID
vehicle name and of course the steering
wheel and it's been marked as a four
wheeler now this is the default way in
which hibernate Maps inheritance if you
do not give any heritance
mapping information this is the default
that hibernate carries out now this D
type is called as a discriminator now in
order to you know make queries easier
and in order to identify what type of
object you are saving what type of
object individual records are you have
separate column which tells you what
class it is say for example I could have
a two wheeler with null value in this
fearing handler so what would happen is
this would have say a fake evangelize
the bike here right now for this bike
say I do not set the ceiling handle
property now it would just have the ID
and the name now this would be blank
then it would just have the ID in the
name now how can you distinguish this
one car from two by cover do you know
that this is a vehicle and this is a two
wheeler because all the records here
have these these columns so the way to
discriminate between these two records
having been implementations of two
different objects is by using this
discriminator type now this D type
column tells you what classes is so this
is a vehicle class this is a two wheeler
class and this is a four wheeler class
so this is the default way in which
hibernate implements inheritance so this
is of course configurable you can have
multiple strategies to implement and the
way to configure the strategies is by
going to this parent class which is
which is the base class and having an
annotation here called add inheritance
so this is not a mandatory we can import
this so this is not mandatory as we've
seen if we have not given any
inheritance it goes for the single table
strategy so we can of course configure
this as well let me start with the
single table strategy for now and we'll
implement the other strategies later on
so in order to say that this strategy is
a single table strategies what I do is I
fill this property strategy equals and
now as with all the other types we have
an enumeration which provides the value
so I use the enumeration inheritance
type dot now here we have all the
strategies that we have here we have
join single table and table per class
now we are going to go with single table
because this is the
by selecting this I'm not going to
change anything it's still going to have
the same strategy as the default but
let's do this
and we'll change this later select
single table now it's also imported
curtains in the inheritance type for me
now there is this other option that I
can do here I told you about the
discriminator from value here you see
this D type which has the name of the
class and you know it helps us to track
what object it is whether it is an
object of the base vehicle class or the
two wheeler or the four-wheeler now I
can of course configure how this you
know this discriminator is being
generated like I can configure the
column name and I can configure the
values that are being generated for that
by default it's the class name but say I
want to make this something different
then I can do that the way I do it is by
adding this annotation coil at
discriminator column okay now this
discriminative column is again an
annotation then I need to import from
Java extra persistence
now this discriminator column has a few
properties which are configurable first
one is the name and this is the name of
the column itself so I will call this as
the vehicle type and the name of the
column will be vehicle type and then
there is one more option that I can use
which is the discriminator type
this tells hibernate what is the data
type of the value here I will leave this
as discriminator type dot
string but here are a couple of other
ways we can use the discriminator I can
have an integer value instead or I can
have a character value instead so it
will just be one character I can choose
string string is of course the default
we saw the class name was added as the
discriminator and that was a string so I
can choose integer or character also if
required I will choose string for now
okay and now this is my discriminator
configuration now if I run this what
will happen is the column name instead
of this D type it will be vehicle
underscore type which is which is a good
thing because we have vehicle
information here so that's or you can
specify a proper name for the
discriminator call now there is another
thing you can do here say this is a
class name which gets populated now
depending on the class name this value
will get populated let's say I want to
change that so in that case what I can
do is I can go to the child class so
here this is what is the tensor to be
the class and this is the four-wheeler
class right so here I want to have a
different discriminator value for the to
be that class so let's say I wanna have
two discriminator well let me take this
string value so this is this is the
annotation that helps us to configure
the value that you want to set and I can
set a particular value here let me call
this as bike so what's going to happen
is instead of mentioning the class name
as a discriminator for this entity it
would read fedora
by default it would have two wheeler as
a discriminator instead of that it has
the bike as a discriminators that value
the column here that i have defined the
vehicle type is going to have the value
of bike for all objects off the tubular
class that has been persisted the same
way I can have a disc
later type let me have a discriminator
type discriminative value slurry as car
here so all objects off the four-wheeler
class that are persisted will have the
discriminator column value as car so
let's run this one more time okay now
here itself you can see the value of
bike and car are inserted and then you
can see the discriminator calmness
vehicle type so let's verify that once
more by creating the database so here
you go the discriminator column which
was earlier d type has now been changed
to vehicle type and you have the vehicle
bike and car as the discriminator so
these two are configurations which we
have done in the corresponding into the
class of course we can do the
configuration in the base class as well
and then you can change this from
vehicle to anything else you want so
this is the single table strategy so we
have seen one of the strategies that we
can use for inheritance everything is
going to get dumped into a single table
this is fine for simple you know simple
inheritance but let's say you need you
anticipate a lot of querying among
different different types of vehicles
this might lead to a very complicated
query because everything has to be
referred to in a single table so we will
look at another strategy where we can
split this up into multiple tables in
the next tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>