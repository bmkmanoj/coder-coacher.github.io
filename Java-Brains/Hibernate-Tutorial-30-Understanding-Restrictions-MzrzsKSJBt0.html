<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 30 - Understanding Restrictions | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 30 - Understanding Restrictions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 30 - Understanding Restrictions</b></h2><h5 class="post__date">2011-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MzrzsKSJBt0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we had an introduction to the criteria
API in our previous tutorial in this
tutorial we're going to look at it in a
bit more detail this was the example
code that we wrote in our earlier
tutorial I created a criteria by using a
session dot create criteria method and I
passed the entity class as the parameter
after that as an optional step I added
what are called as restrictions
restrictions are ways in which we can
filter the data that's returned by the
criteria list method so that we can
retrieve just the data that we want this
is equivalent to the where clause in a
sequel or a HQ query so this criteria
you know allows us to add as many
restrictions as we want over here and
then once we are done adding all the
restrictions we can do a criteria dot
list to get all the values that I've
here to all the restrictions that we've
added over here now there are different
restrictions that you can you can use
again similar to what a where Clause
does we can have equal restriction we
can have less than greater than and all
that stuff so we're going to have a look
at that in just a minute but before we
start with the different types of
restrictions I'd like to show you one
cool thing about the criteria API this
criteria dot ad that supports chaining
so what I mean by that is the criteria
dot ad actually returns a criteria
object so let's say we have a huge
number of restrictions then all we need
to do is instead of adding it as you
know getting criteria and then doing
criteria dot add every time what I can
do is in the same line I can do a dot
add again and add another criteria and
then I can do our dot add again so I can
continue to keep adding all these
different restrictions and I can you
know I can chain them up so that I don't
have to move around the object every
time so yeah now having said that let's
have a look at some of the restrictions
here now I have restrictions to req of
username I'll also add another
restriction here
which is dot add and restrictions dot
now I want to add a greater than
restriction I want to add a restriction
where I'm you know pulling up all the
records where the user ID is greater
than five again this is something that
we did earlier but let's have a look at
how to do this using the criteria a P I
so I have a restrictions dot again if
you do a control space it is just press
dot you see all the available options
here now there is a GE which stands for
greater than or equal to and then we
have a GT which stands for greater than
so I'm going to use the GT and I'm going
to have the property value as user ID I
want to compare the user ID property and
I want to pull up all the records where
the user ID is greater than five again
this is obviously going to end up with
one record but I'm just adding this
other you know restriction here so that
we know how to you know change the
restriction as well as the other
restriction dot property I mean the
method over here so now if I run this
again it's going to give me user ten
okay now if I remove this previous
restriction I can I can just delete this
now it's going to get me all the records
after record five there you go six to
ten so this is the way in which we can
add any number of restrictions we want
and as far as the restrictions itself
are concerned we have all the different
types of comparators control space you
have like which tells you you know you
can you can do string comparisons you
can have a percent and let's say for
example I use a like here I can say
percent user percent this again works
the same way as
sequel like statements so this if you
add a person in the front it's a wild
card for anything and then after that
any string that ends with the user ten
so this kind of a like operation is
possible and we have less than greater
than equals and the standard comparison
properties so you know just I have a
look at the available properties you
know it's covered most of the things
that you would do in a normal sequel
comparison when it comes to the where
Clause well let me just demonstrate a
couple of them quickly so let me use the
like username and I want to pull up all
the records where the user name contains
user space 0 okay so it excludes user 10
but apart from that all the other
records are included so there is also
this between taken you can get all the
records in between two values so let me
choose say five and
I don't know 50 okay yeah I have to give
give the property name so I want to get
all the user IDs between 5 and 50 so it
takes three parameters the first
parameter is the actual property that
you're comparing and then the second and
the third parameters sets the range
between these two numbers so what is
going to be the result here now I'm
going to have this is going to give me 6
to 10 because we have only 10 records
and then this is going to restrict so to
user 0 so you say 10 is not going to get
displayed so let's test that out
hmm guess I don't have any records with
0i there you go you hey it's just the
number so let me do something else here
I will add one so it's gonna have
written me just user ten yeah use it in
is written so both these criteria are in
place I thought that they were zero one
zero two and so on but since it is just
one two three four that is why the
previous query did not result in any
records so yeah this is this is a
high-level view our water restrictions
are and how we can use all these
different methods in restrictions to add
to your criteria and of course you can
chain them up one after the other and
then you know you end up in one criteria
object with all your criterias added or
and then when you do a criteria dot list
you end up creating the query which you
know which takes all your criteria into
account and then returns the records and
before we wind up this video there's one
more point I'd like to mention here all
these criteria dollar adds they are
actually doing connection so you just
have a and criteria so you have a
restriction of this and restriction of
this so it's it's equivalent to and in
your where clause now what if you want
to do are you want I either this
restriction to work or this restriction
to work so easy fee in any record
satisfies either of these restrictions
then pull up the record so say you have
a requirement like that how do you
manage that in the criteria API so the
way you do this is by using a
restrictions dot
this dump so you you have to add an art
class you want restriction a or
restriction B so in that case what we do
is you have a restrictions dot I so here
what you can do is you can have
criterias inside so I can have two
criterias here okay so what i can do is
i will have restrictions dot public them
into a between okay and one more
restrictions dot between so what i'm
doing here is i'm adding the minimum of
this so what I'm adding here is I'm
adding them or to us in this where
Clause so this will work like this so
it's going to check if any record
satisfies this restriction or if it
satisfies the specific restriction if it
satisfied either of these and it's going
to pull them up and the reason we are
doing orders by default if you keep
adding restrictions to the criteria it's
going to assume it's an and so it's
going to return records only if all the
restrictions are satisfied now if you
need this are kind of restriction then
you do a restriction store are and
inside that you are as many restrictions
as you want now here I will do something
like this I will have a user ID and I
will return all user IDs between zero
and three or if user ID is between seven
and ten so since it's an AR condition
okay it's asking for closing parentheses
yeah that there is one more required
so this one is for the criteria door dad
this one is for the restrictions dot R
and this one is for them it should start
between okay so now what's going to
happen is it's going to return records
which either satisfy this restriction or
this restriction I'm sorry
does this one or this one let's run and
validate that okay it's a case sorry
about that okay yeah so these three
users are the result of the first are
between 1 and 3 and these four are the
result of the second or between 7 and 10
so this is how you add our conditions in
your query and if you're just using an
you don't have to worry about this you
just keep adding a with the dot ad</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>