<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 21 - Component and Stereotype Annotations | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 21 - Component and Stereotype Annotations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 21 - Component and Stereotype Annotations</b></h2><h5 class="post__date">2011-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oTcSW4-_1Ew" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial the past
few tutorials we saw how to do wiring of
beans inside spring by using annotations
we used some auto wiring related
annotations we did auto wiring by name
and by type and we also use some chaser
250 annotations all these annotations
had a common requirement which is that
the bean that's actually getting
injected into needs to be in this spring
excellent so here in the previous
tutorial we had an address source which
injected a point object into my circle
class so whenever a circle object was
getting created by spring a point object
was added as a dependency and then it
was injected into this member variable
through the setter but the thing is that
the point object itself was defined as a
bean in the spring XML so the circle as
well was defined as a you know plain
bean in the spring XML so in this
tutorial we're going to look at an
annotation that declares a class as a
bean so we don't have to even add this
XML tag on the spring XML even this will
go and we can have all these
configurations inside the class itself
using annotations so the way we do this
is we need to tell spring what classes
of hours are going to be beans and what
classes are not notice specifically tell
spring that a particular class needs to
be a bean what we need to do is we need
to add an annotation called add
component ok so here I will import the
component from org Spring Framework dot
stereotype so this defines my circle
class to be a spring bean I do not give
a name and the name is actually the name
of the class but of course in lower case
so what spring does is whenever it sees
a class which has an ADD component then
what it does is this is actually
equivalent to
this no it's actually equivalent to
defining this class as a beam and then
creating a name for it which is actually
the name of the class itself so this
particular definition of the beam inside
the XML can be achieved by using this
add component annotation so since we
have added the add component let's
remove this we don't need to define you
know we don't need to declare the circle
being inside the spring XML
now here let's look at point now this
point is actually defined with three
different names and it's defined in
three different places now if I add an
annotation to a class and this is
actually this problem is that for all
annotations this is the annotation is
part of the class you cannot have
different instances of the beans for the
same class so what I mean by that is if
I add an annotation for the point class
now let me open up the point class here
now whatever the annotation I add over
here it's for a lead to this point class
behaving as one particular type of
spring bean only now in the spring XML I
have defined three different beans from
the same point class it's obvious that
since the you know the annotations are
going to be inside the class itself it's
not possible to have three different
behaviors which result out of an
annotation inside the class itself you
either have to have three different
classes or we need to define the you
know the metadata inside the XML itself
so actually what we're looking at is one
disadvantage of using annotations or you
can call it an advantage of using XML
you can use the same class and then
define different beans with different
metadata and you can achieve that
without having to write multiple classes
but then if you write annotations you're
going to restrict all the beans of that
particular class to have a same behavior
but let's use this component annotation
just for the circle because
we've seen that for the circle class we
don't have multiple pins we just have
one instance of the bean so we're going
to use the add component annotation to
define this circle class as a beam of
name circle so this since we've also
removed the you know the beam definition
inside XML we know for sure that it's
the annotation that's going to get this
circle class registered to spring
container as a B now we have done a gate
beam of circle so since this component
marks this class as a beam of name
circle we should be good enough but then
there is one other thing we need to add
in the spring XML now spring XML needs
to know that you have beans inside your
code that it needs to look for so not
only does it have to look for all the
beans that you've defined here it also
has to look for all the beans inside
your code you know I know it has to look
for annotations so we need to ask spring
to scan through all our classes and then
identify what annotations mark certain
classes as beans so in order to do this
what we do is we add context :
components can so this is the tag that
tells spring that it needs to scan for
components the components being the
beans Matt - add component so there is a
property that I need to enter here this
is the base package so what I need to
tell spring is the base package in which
spring needs to scan for all the classes
for the add component tag now why does
it not scan everything because you know
it's it's more efficient to restrict the
search to a particular set of classes
and it also has some other advantages
we'll have a look at that down the line
but then what we need to do now is we
need to tell spring what is the base
package in which it needs to scan all
the classes for the tags that mark
certain classes is beans so I'll use
this the only package that I have over
here okay
I've given the package name and then
just closes the tag let me disclose it
here itself
okay so again all I've done is I've told
spring that it needs to scan the code
for annotations that the big certain
classes has beens and then in one of
those classes I have marked an add
component which marks this particular
class as a spring beam so I will save
this and now we are all set so now we're
because of this particular tag it's
going to scan all these classes for any
annotations that mark any of these
classes beans it finds one in the circle
sees this as a component so it's going
to register this class as a bean and
then it's going to give it a name called
circle and of course it's going to take
the first letter as lowercase so now
what's going to happen is in my main
method I have a kid bean of circle and
it's going to initialize this bean it's
going to get this bean and then of
course I have a resource inside this
bean which is going to work as earlier
so this resource is going to look for a
bean coiled Center because this is the
name here and it finds a bean with the
name Center so it's going to initialize
it's going to do this assignment and
which will give the bean that we want so
if we run this class now so here you can
see it's going to get a circle bean the
init and destroy are all remnants of our
previous coding which rooted in earlier
tutorials we don't worry about that so
the point here to note is that the
circle bean has been initialized and
then a point has been assigned to the
bean and then we are getting that been
using a get bean and all this is
happening thanks to this annotation
which marks this class as a component
and then this particular tag which tells
spring to scan for those components of
this components can tag searches for a
few other annotations apart from the add
component annotation so these
annotations are actually called as
stereotypes so the concept of
stereotypes is something like this when
you write enterprise applications in
spring you would have some standard
spring beans that perform some standard
rules you would have a data object you
would have a service class you would
have a view you would have a controller
so all these are stereotypical rules
that some spring beans perform in in any
enterprise application so what spring
has done is it has some annotations that
let us define a particular bean as one
of those define a particular bean to do
one of those roles now let's say for
example that this actually happened to
be a service layer class you know this
was actually a service implementation
then what we could actually do is
instead of add component we could have a
add service okay now that's at service
is again from arc Spring Framework Dart
stereotype now if I mark this this is
going to work as well even this is going
to get picked up by this components can
tag and you know if we run this it's
still going to work it's going to
register this as a bean and it's going
to give it a name of circle so nothing
changes you know it's as if you have
added a @ component here but then add
service is going to give spring
additional information that this is
actually a service bean now if this were
a data object I could call this add
repository and then this again is Spring
Framework stereotype so this is a
stereotype that tells spring that this
is actually a data object and now we
have one more which is the add
controller this tells that it's actually
a it's a controller again from
stereotyped controller is again the see
of the MVC so if you have an MVC pattern
implement
for your view then you can mark the
controller objects as ad control and
spring modes that this is actually your
controller the functioning of these tags
at least initially is no different from
an ad component but then I add component
to something generic you know you're
just going to tell spring that hey it's
Ben but if you mark it as an ad service
or at repository or at controller then
you're going to tell spring that you
know you're going to let spring know
that something else you're gonna let
spring know what role the bean is doing
there are many reasons why you'd want to
do that first of all it actually adds a
level of documentation you know you look
at the bean and you know what role the
bean does and then there are a few other
advantages as well we'll look at that
when we when we come to aspect-oriented
programming but for now think of this as
some extra information that you're
giving the spring about what role the
bean does in the whole enterprise
application and then it also acts as a
little bit of documentation that marks
the role of the bean for a human reader
of the class as well</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>