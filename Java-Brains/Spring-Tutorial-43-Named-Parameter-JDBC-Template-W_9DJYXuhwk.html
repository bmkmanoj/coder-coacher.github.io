<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 43 - Named Parameter JDBC Template | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 43 - Named Parameter JDBC Template - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 43 - Named Parameter JDBC Template</b></h2><h5 class="post__date">2011-11-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/W_9DJYXuhwk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so far we have covered the JDBC template
class in considerable detail we have
written a few methods that do both data
fetching as well as writing data into
the database and using these methods
that we have explored over here so it
should be possible to cover all the
scenarios that need to be written when
it comes to interacting with the
database at least most of the common
scenarios should be covered you can
write and you can use any query that
updates or deletes data as well as
inserts of course and you also can
execute queries that fetch data from the
database where JDBC template is just one
of the support classes that's provided
by spring and the reason why you would
want to use something else is because of
some of the limitations of the JDBC
template again you can do all these
operations but one particularly Mattei
ssin of using the JDBC template is that
you can have only these question mark
placeholders in your queries you cannot
have named parameters now what are name
parameters well name parameters are a
way in which you can actually identify
these placeholders that you can put
inside the query and the problem with
these question mark placeholders is that
you will have to move around the you
know the parameter locations in case you
add additional placeholders for example
see I have this query over here which
has just one placeholder one question
mark placeholder and I'm passing one
object array with the first element a
circle ID now let's say there was one
other placeholder that needs to be added
to the query as long as the placeholder
comes after this question mark we are
fine we just hide additional elements to
this object array and it will work fine
but then if the question mark comes
before the placeholder that's already
here then we will have to rearrange the
elements in the object array so the new
element will probably come before this
element which is already there so any
changes to the query as long as adding
or removing these pino these
placeholders are concerned will result
in a change in the order
in which you supply the values for these
placeholders which is a pain if you are
dealing with a particularly long query
so the advantage of using named
placeholders is that you can assign
names for these placeholders and then
you can say when you're substituting the
parameters you can say hey put this
value for this variable name and then it
just goes to the right position
respective of the order wherever the you
know the placeholder is in the query so
this kind of a named placeholder is not
possible to write we're using the JDBC
template UBC tablet accepts only these
kind of a question mark placeholders so
in order to address that there is one
other class which supports named
placeholders and that's called name
parameter JDBC template so let's open
that in the spring and in the JDBC jar
go to this particular package JDBC core
named param so this name param has some
support classes for addressing this
named parameter so here you see a named
parameter JDBC template so this is the
class that we will use and will use this
in place of the existing JDBC template
and in fact the name parameter JDBC
template that you are seeing over here
actually uses the score class the JDBC
template and then adds the same
parameter functionality on top of it so
all the methods that you've seen over
here the JDBC template methods all that
we've learned so far
still applies but then one additional
functionality we can do is use named
parameters instead of these questions
our parameters so let's have a look at
that I'll create a new method over here
see you have the insert circle over here
so I'll just in fact let me just comment
this out we will try to rewrite this
using in parameter so I'll just copy the
first two lines of code over here
okay and now here instead of having
these question marks I will use name
parameters and the way I use name
parameters is by using a colon and then
the variable name so I'll call this ID
and this parameter will call this colon
name so you can have as many parameters
as you want just start the variable name
with a colon and then give the name to
the parameter okay so now I will have to
use the name parameter template over
here and I do that by declaring the name
parameter over here just like I have a
JDBC template declaration I will also
declare a name parameter template of
call this the name parameter JDBC
template and I will import this from the
same package that we have seen okay
now that I've done this I will also have
to initialize this just like I've done
for the JDBC template and normally you
wouldn't be doing both of them in the
same class you know you try to either be
the JDBC template or the name parameter
template just because I'm demonstrating
the functionality this code will have
both so be same as what I have over here
just be a different template that's
getting in July so in this particular do
class I happen to have two JDBC
templates
so as you can see the you know the
initialization is exactly the same it's
just a different class different name
but then everything is this is exactly
the same now the very in which I use
that name parameter to run a circle you
know a query which has named parameters
are slightly different so what I do here
is I use a particular class called
sequel parameter source a sequel
parameter source is an interface for an
object that I can use to pass these
parameter sources as a map let me write
that and it will probably be a bit more
clearer a meter source now a sequel
parameter source I call this named
parameters so this is something that I'm
going to prepare to substitute these
values so this is this will have the
name parameters will have a value for ID
and the value for name and then I will
pass this name parameter to the name
parameter JDBC template so I will create
a new I cannot create a new sequel
parameter source because it's an
interface I can create one of the
implementations of the sequel parameter
source one of them being map so a map
sequel parameter source is an
implementation of the sequel parameter
source and this will store these values
as maps again a sequel parameter source
is the source of values for my named we
you know parameter placeholders and then
I will have to supply a sequel parameter
source when I'm running the query and
the various apply a sequel parameter
sources by creating an instance of the
sequel parameter source since this
happens to be an interface I cannot say
new sequel parameter source I will have
to create one of the implementations of
that interface one of them being map
which provides these values as a map so
I will initialize this
I will say ID is the variable and then I
will pass the ID circle dot gate ID
because they'll have to import both
these classes so now this will
initialize a map sequel parameter source
and it'll assign it to a name parameter
so this would work fine if it was just
one placeholder value say I had only ID
over here just like I have for all the
other queries is this one placeholder so
for this this would work fine it has the
ID placeholder name and then the value
assigned to it so it's a single value
map and this would work fine I have
initialized name parameters but in this
query I have two named placeholders I
have another placeholder coiled name
itself so I need to add this to the map
sequel parameter source so I will do
that by doing a dot add value and then
this has a signature of again param name
and value so I will use name and then
the value thing circle dot get name okay
so now I have a initialized named
parameters a sequel parameter source so
this needs to be passed to my name
parameter JDBC template so let's do that
now so I will say named parameter JDBC
template dot I will use the same method
over here the method that I've use which
is an update so I will use the update
and here you can see there is this
particular signature which takes in
sequel as the first parameter and then
the
sequel parameter source as the second
parameter so we have both of them sequel
is the one that we prepared over here
and then the sequel parameter source is
the one that I prepared over here so
let's use this so the first parameter
being the string sequel second parameter
being the named parameters and this
should do so now I am passing with the
query as well as the parameter
substitution to the name parameter JDBC
template this should do the execution it
actually does the same functionality as
what we have seen over here the JDBC
template dot update but then here we are
using named parameters and States so
that's the only thing that's different
so now let's save and run this to make
sure it does this fine so I will again
come in this out and then uncommon this
so I will create a new row here I'll
call it for fourth circle and then I'm
getting the size here before you run
make sure that your database is running
and here is my database is running a
network server mode so we are all set
let's execute this there you see the
count has become four so we will run one
more insert make sure that is getting
inserted as well now the count should be
five and it is five so this is another
way in which we can run queries again
this is a limitation of the JDBC
template that we've been seeing so far
it can accept only these question mark
placeholders it cannot accept named
placeholders like we have done over here
so if you need to use something like
this you will have to use the named
parameter JDBC template and then of
course you need to supply the named
parameter values with this particular
interface the sequel parameter
source can use one of the
implementations which is the maps equal
parameters which allow us to you know
add all these values using a map
implementation and then once you have
done this all you need to do is pass the
sequel as well as this named parameter
map to the the same methods whatever we
have seen so far we can use the same
corresponding methods of the name
parameter JDBC template now there is one
other template class that I would like
to briefly cover in this tutorial well I
would just like to mention it in fact
because this is something that uses a
lot of the things that we have discussed
so far in both the JDBC template as well
as the name parameter gdb see template
now let's say you want to use a JDBC
template that allows us to do both both
the you know the question mark parameter
substitution as well as the name
parameter substitution in that case it's
actually a bad idea to have put these
templates lying around in your dao class
this is not a good idea you should have
just one JDBC template so in order to do
that in order to have the option of
using both these types of placeholders
you use something called as simple JDBC
template now the simple JDBC template is
new edition and it uses some of the Java
5 features that have been also newly
introduced to spring so you can you know
it has options for some methods
implementing varargs
and auto boxing and things like that so
in order to use that all you need to do
is instead of using either the JDBC
template or the name parameter JDBC
template you use simple JDBC template
import this now this is from JDBC core
simple now this does not have all the
methods that you've seen oh that's
available in the JDBC template are the
name parameters or JDBC template this is
kind of like it you know it brings in
more commonly used methods and features
of both these templates and it's very
likely that this
should suffice for most of the database
interactions that we would write so I'd
encourage you to explore this class and
use that as much as possible</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>