<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>TypeScript Basics 28 - Creating an api request service | Coder Coacher - Coaching Coders</title><meta content="TypeScript Basics 28 - Creating an api request service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>TypeScript Basics 28 - Creating an api request service</b></h2><h5 class="post__date">2018-02-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0OL8DlbGYQg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Gesser api service and this is going to
contain a method which is going to make
that API cop so I'll have get user info
which is going to call the user API and
then I'm gonna have a get clippos which
is going to call the repository API now
the get user in for needs the user
information the user name right so I'm
gonna have a user name be an input
argument to the skit user info method
and this is going to be a string now
what this is gonna do is use the request
library that we've installed earlier in
order to make a call to the user
information so the way to get the
request library is to import star as
request from request you've seen a
similar pattern before but slow - so now
what I can do is do a request dot and
here I get all the methods that I can
make thanks to the type definition that
we've used there is a get over here so
I'm going to call the get and then I
open this
you see it's gonna give me the options I
get type completion I get to know what
the parameters that I need to pass to
the method are so I need to pass in the
URI for sure so what I'm gonna do is
call that API copy this URL
place this here and rather than use this
hard-coded name I'm going to add the
username all right
and then I am going to skip the options
and they don't have any options and then
I need to pass in a callback
so the callback is going to accept a
response which is what happens when the
request is completed I'm going to get
this response back this is of type any I
guess I can skip the options argument
because I believe that if there should
be a signature where you just pass in
the callback that's the second argument
so here's what I'm doing I'm calling
requested get with two arguments the
first argument is the URL that the
request library needs to call the second
argument is a callback function the
callback function has an argument which
is the response so the request library
is going to call this callback function
with the argument which is going to be
the response and this is going to
execute this function passing in the
response that it gets from this API so
here what I'm going to do is just do a
console dot log of response very simple
for now we'll extract this out later but
for now I'm just printing out the
response directly</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>