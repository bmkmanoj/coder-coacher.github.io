<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 05 - More Annotations | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 05 - More Annotations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 05 - More Annotations</b></h2><h5 class="post__date">2011-05-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I8YmYFI5D_E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we're going to look at
a few more annotations this is the model
class that we wrote in our previous
tutorial let me remove all these extra
configurations so that we are left with
just the basics okay so now this model
class has an entity annotation and an ID
annotation and we have two member
variables now we'll look at a few more
annotations here first of all we have an
annotation coiled at table so I will
import the table from Java X dot
persistence
now this add table has property called
name and I can use this to set the table
name now how is this different from what
we saw in our earlier tutorial in our
earlier tutorial we controlled the table
name by using identity and name equals
the new name the weights different is by
you providing a name for that entity you
are providing a new name for the entity
itself but by providing a name for the
table annotation you're just providing
the name for the table which is created
for the entity while the entity name
still remains the default class name
which is user details now when would you
need to know the entity name when would
you need to call the entity name versus
just a table name we will learn about
that when we are writing HPL which is
the hibernate queries where you want to
address the entity name and it wouldn't
be addressing the table name so if you
want the table alone to be having a
different name versus having the name
changed for the entity itself then you
would leave entity annotation as this
and you would change the name only for
the table by using the add table
annotation okay now we saw the ID let me
add a few other
properties here I will need to import
the date from Java dot util now have
declared a few more fields I will
generate getters and setters for them
since they're all private for these
three fields okay
okay know what I'll do is I'll
initialize these values in my main
method and I'll try inserting this let's
see what happens I'll use user ID one
this is first user
let me fill up all the other properties
as well user dot set address said join
date I'll just use the present day just
for testing
what else is left the user the
description okay so now I have filled in
all the values for the new fields that I
have entered so let me just save and run
this let's see what kind of a table
hibernate creates for us okay so it has
created this table and inserted the
values let's have a look at what it's
done again I'll have to do a refresh
because the whole scheme has been
recreated okay the day you see user
details table is what's been created
with five columns if you have a look at
each of these columns user ID has been
created as an integer address has been
created as a VAT cash of 255 description
is our care 255 join date is a timestamp
with our timezone username is again
about care 255 now these are sequel data
types and what hibernate has done is
it's mapped our java data types with
sequel datatypes and it's correct most
of the times you see here you have
address which was a string in our case
that's a bad care to fortify which works
fine description is again evocative
defied date it was a date in our case
and it's converted it to a timestamp so
an ID which was an integer is converted
to an integer so this works fine for
most of the situations but what if you
want to change this you know you need
more control over the data types that
are created so we will look at a few
annotations which helps us configure how
the individual fields are treated the
hibernate so the first
annotation is something called as basic
so let me apply this annotation to the
user name field here we call this ad
basic and I can import basic from Java X
or questions again now what ad basic
does is treat it as a you know as a
field which should be persisted and
apply the hibernate defaults well that's
what's happening
even without the ad basic what happene
did was it treated the field name as
something that needs to be persisted so
it created a column for it and it used
the hibernate defaults to create the
data type in sequel which can map to the
data type of the field that we have
declared now what is the reason we use
ad basic this is actually not required
by using the ad basic what we are doing
is we are just telling hibernate to just
square it as it is we would use ad basic
if you would need to configure a few
other things there are a couple of
properties to the ad basic annotation
one is the fetch and one more is the
optional so these are ways in which you
can configure while still letting
hibernate know that it needs to treat
this field as a default so that's when
it makes sense to use the ad basic but
without those properties using ad basic
is as good as not having any
configuration at all so we will look at
what those other properties are but for
now we'll just leave it as it is so what
we see is that if you do not enter
anything happen it automatically assumes
that the field needs to be saved and it
creates a column for it now what if I
have a property in my class and I do not
want hibernate to save it so there are a
couple of things we can do we can mark
the property itself as a transient
property so if you have any transient or
static properties in your class
hibernate would not automatically
persist it the reason being if you have
a transistor say user name is static so
in that case all the classes will have
you know we'll share the same username
in that case it doesn't make sense to
have a column for the user table because
every value for the username will be the
same that's a default configuration that
hibernate applies for us if you so what
you can do is if you don't want the user
name to get saved in the database just
mark the string as static or transient
another way to do this is if you do not
want to change they use the name string
here but you just want to tell hibernate
what that this needs to be ignored in
that case what you do is you add an
annotation here called add transient so
again I need to import transient this
will ask hibernate to ignore this
username field alone so if we run this
again now you see the name has not been
added to the insert statement because
the name is not actually there in the
columns
there you go there is four columns
username is not one of them so the best
way to ask hibernate to skip adding some
fields by default is to missus market as
transient okay we look at the join date
now look at look at what happen it is
done it's taken the date property the
date datatype and it has mapped it to a
time stamp without time zone so what the
time stamp will do is if you just look
at the data here it has recorded the
entire time stamp it's recorded the year
month date and then of course the are
minute second and milli second so this
will this is it's going for everything
so it has all the data about the
particular time and that's the default
now what if you just don't want to have
the gr of the day just need the date and
this in that case this would not be
required if you don't want heibon need
to save the timestamp itself you just
need however need to save the date so in
that case what you can do is you can add
another annotation on top of the date
declaration and this is called temporal
again I import temporal now this
temporal needs a property say I want to
save only the date I don't want I will
need to save the time as well so in that
case I would use the date so it would
select temporal type to add a temporal
type is an enumeration and it has these
values date time and timestamp now save
this and if I run this it will track
only the date it will not save the
timestamp
I'm gonna save it so here you can see it
saved only the date now if I want to
save only the time and not the date I
would use the temporal type dot time and
of course timestamp is the default if
you do not enter the I temporal
annotation then it saves the end die
time for the for a particular value
which includes the year month date and
the time from our two millisecond okay
we'll have a look at one more annotation
before you wind up this tutorial let's
take the description here description as
let's say in my example here it's it's a
set of nodes for the profile of this
user and let's say I can I can have as
big a description as I want i wanna i
can write pages and pages of description
now that might be a problem if it
crosses this you know default value of
255 so in that case you know i'm going
to end up in an error now hibernate by
default uses this back care of 255 for
all strings and this will work for most
of the cases but let's say i have a
field where i want to use a huge amount
of text and i really don't have control
over how long the text is going to be so
in that case i use the annotation lob
again i will import from java extra
persistence
okay lob basically means that this is a
large object and most databases support
large objects and you can have two types
of large objects in most databases you
can have a character large objects in
which case it's a clobb c lob or you can
have a byte stream which is a large
object in which case it's a blob which
is a B lob now by marking this as a
large object I am telling hibernate to
choose one of these whether it's a
character lob or a byte stream lob
depending on the type now if this law
Banat ation is on top of a string you
know definition then hibernate
automatically assumes that this is
actually
your clog which is a list of characters
and if the slob annotation is for a byte
array then in that case it chooses a
blob but we don't have to worry about
that if you feel that you have a huge
amount of text or a byte stream in that
case you can use this at lob annotation
to tell hibernate to choose the
corresponding data type in the database
so that we are not restricted to the 255
character limit that you would have if
you just chosen a string</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>