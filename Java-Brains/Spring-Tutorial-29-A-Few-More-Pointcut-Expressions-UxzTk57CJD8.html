<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 29 - A Few More Pointcut Expressions | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 29 - A Few More Pointcut Expressions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 29 - A Few More Pointcut Expressions</b></h2><h5 class="post__date">2011-08-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UxzTk57CJD8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to another tutorial on
spring AOP the previous few tutorials we
have written an aspect we have written
some advise methods and we have written
point cuts to configure those advise
methods to run at particular points in
the execution
this tutorial will look at some of the
point cut expressions we covered a few
ways in which we can write point cut
expressions you can I'm going to cover a
few other topics related to how we can
write point cut expressions and we'll
also look at some of the best practices
when it comes to writing point get
expressions in a real world application
we saw the execution point get
expression so you write a point cut
where do you say you want the point cut
to be the execution of a particular
method or a set of methods then what
happens is spring will advise those
methods and then these advise methods
will run before those methods get
executed but there are other ways in
which we can write such point get
expressions depending on the need and
the complexity you can choose one or the
other so execution is just one of them
I'll quickly talk about a few others now
so let's take the example of the circle
class now let's say I have a requirement
that I want to write an advice that
applies to all the methods inside the
circle class so let's say I want this
locking advice to get executed for all
the circle class methods now the way I
can do that is of course by writing a
point cut expression which is something
like this at point cut execution off now
irrespective of whether it's a public or
anything else respective of the return
type and irrespective of the method name
and irrespective of the parameters all
that I need to say is only method of the
circle so for that all it was
see Soko dot star so what I'm saying
this I'm not specifying that it's a
public or protected or whatever I'm not
specifying with its retaining a string
or a boolean no matter whatever is
written type I'm just saying for this
class no matter what the method name is
and no matter what the parameters are
I want a point cut to be created for
that so now I can write this point good
s all circle methods to descriptive name
to kill for this point now I can use
this point cut and I can advise you know
I can configure my logging advice to run
for all the point cuts which have been
defined for this all circle methods well
there's another way we can do this and
that is let me remove this it's by using
a point cut expression called within
within let's just specify a particular
class within which you want this point
cut to apply for all the methods so
let's say I want a point guard to apply
for all the methods within the circle
then what I do is I specify within and I
give the class name again
okay so not whatever what happens is
this point cut will apply to all the
methods within the circle class so no
matter if you have 100 methods here it's
going to apply for all those methods now
what's the advantage of doing something
like this first of all it's more
readable you know if you write an
execution you would think of the point
cut being definition for which execution
that you are concerned about but if
you're writing within it's obvious that
you want this point cut to get executed
for all methods within something so this
is kind of you know documents what
you're trying to do here so this is a
better way to use it if you have some
use case like this and of course the the
other things that we discussed about the
wildcards and all the other concepts
still apply for within now let's say I
want to apply this point cut for all the
methods of all the objects inside my
module package now let's say I have a
few other classes over here and I want
the point cut to apply for all the
classes and all the methods of those
classes inside the model package so in
that case what I can do is I can use o
star over here which means it applies
for all the classes inside the model
package now if I have sub packages over
here now let's say I have another
package inside it and I want this to
apply for the classes inside the sub
package as well then I do a dot dot here
again just like the dot dot inside a
method parameter what the star dot C is
it can be the class add the route
package or it can be sub packages so
it's 0 or more that's what the dot dot
means so this make sure that your point
cut is configured for all the classes
and in the package as well as in the sub
packages so I change this
back to circle so this still applies now
so now this one get us for all the
circle methods so one thing to note here
is that within takes the parameter as
the class or a wildcard that describes
classes whereas execution takes the
parameter as method names are wildcards
that describe method names so here you
see the parameter is a circle or you can
have a dot star but it all means class
names so we use this within classes so
that's the reason why the argument has
to define class names whereas when you
look at execution you're actually
writing about method names so this is a
good distinction to make so save this so
apart from within there are a few other
point get expressions that you can use
I'll just quickly go over some of them
and then you can actually look at the
spring documentation for more details I
would not be going through examples for
each of them they'll just introduce you
to them so that you can look it up in
the documentation so the next pointer
expression that we will talk about is
something called as arcs so arcs stands
for arguments that you want your methods
to have for which you need to apply your
point get expression now the typical
usage for this is let's say you want to
apply a point get expression for all
methods that take circle as a parameter
so in that case you would write the
circle class over here
so again args would take class names or
interfaces as parameters and you can
have multiple arguments over here so
what spring is going to do is it's going
to look for methods that match these
arguments and then if a method matches
all the arguments that you've specified
over here then it's going to catch those
methods and then this point get is going
to apply for that particular method and
there are a couple more target and this
and in order to understand that we need
to understand about proxied objects
comes to UB we haven't covered that in
this tutorial yet so I'm not going to
take those examples here again this is
something that you can refer to once you
have gone through the other tutorial
which talks about stroke support spring
proxied objects when it comes to
aspect-oriented programming okay so now
before I wind up I'd like to tell you
one particular best practice when it
comes to writing point get expressions
it's highly recommended that you use
this best practice whenever possible and
the idea here is to mix and match point
get expressions and combine point get
expressions rather what I mean by
combining point get expressions is
something like this take the example
where I want a point cut for all the
getters of the circle we've already seen
how to do this
okay what we need to do is we need to
specify the you know a point cut
execution and then you specify the class
name dot get star and then that'll catch
all the getters of the circle class but
then say you have already written code
for these kind of point cuts now let's
say you how we already have these two
points one point cut for catching all
the Gators in your code and another
point cut for catching all the methods
inside your circle class so if you have
these two point cuts already then now if
you have to write a pointer to catch all
Gators inside a circle the best way to
do this is by actually combining these
two point cuts when I say combining you
have to write all Gators and all circle
methods so for the logical operations
work and or not at the common operation
switch which we can use in order to
specify these point cut expressions now
let's say I want logging advice to run
for all Gators and all circle methods so
the way to do that is by using something
like this all Gators and all circle
methods
so what we are doing is we are actually
writing individual components of these
point cuts you know these are the pieces
that you're going to put together in
order to specifically configure your
point cuts so this is a very modular way
of writing your point cut expressions
and this is a good practice if you have
a lot of point cuts in your code and
even otherwise it's a good thing to do
you you know write separate point cuts
which are modular and then you combine
them in your point gets depending on
where you want your advice
to be applied so I will save this and
let's try to run this and see what
happens now I'm doing a shape service
don't get circle dot kit name so what
should happen is the logging advice
should run only once because the Gator
this applies only for Gators off the
circle and there's only one Gator of the
circle running however if you look at
the second advice this applies to all
Gators so the second advice should run
twice because you have to get as they
are getting called here one Gator is the
gate circle and another Gator is the
gate name so again we're locking advice
should run only once and then the second
advice should run twice so let's execute
and see what happens the ego second
advice has been executed once the
logging advice once and then the second
advice again and then the actual output
so this locking advice is being called
once because we have restricted it to
get us off the circle so this will not
trigger the logging advice there's only
this will trigger it and that's because
you have done an end and this advice
will be applicable only if both these
point cuts apply so this way you can
actually chain as many points as you
want and even here you have a lot of
flexibility and a lot of ways in which
you can configure your point cuts</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>