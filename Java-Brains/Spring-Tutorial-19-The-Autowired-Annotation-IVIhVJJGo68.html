<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 19 - The Autowired Annotation | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 19 - The Autowired Annotation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 19 - The Autowired Annotation</b></h2><h5 class="post__date">2011-07-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IVIhVJJGo68" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial the
previous tutorial was about introduction
to annotations and we saw a simple
annotation called required which allows
us to specify which dependencies are
actually required
well that that annotation isn't actually
not helping us to do any dependency
wiring in this tutorial we're going to
look at one annotation which helps us
actually wire dependencies the same way
we are doing in the spring XML by
specifying all these properties the
annotation that we're going to talk
about is called Auto wired and what we
do is in order to wire any dependency we
specify the add Auto oil annotation in
order to let spring order wire the
dependency into the required member
variable this is similar to the auto
wiring that we've seen in our earlier
tutorial we sort wire by name liquid or
/ type this auto wiring is actually auto
wiring by type but then if you remember
we saw that auto wearing by type is
sometimes ambiguous it depends on what
beans we have specified and what types
of beans were specified in the string
XML however the add auto wired has a few
other tricks up its sleeve and we can
make it less ambiguous and we can
configure one beans get actually
injected so we'll have a look at that
first let me remove the required
annotation and the required bean post
processor that I've defined over here
I'm just going to comment this out and
save this now what I would normally do
is I would have a property and then
define a dependency for the center
member variable but instead what I'm
going to do is I'm going to have an
annotation provide this dependency so
here on the setter I'm going to use the
annotation at Auto wired and I will
import this again from beans factory
annotation same as earlier
okay so I have the me remove the earlier
import as well and you can save this so
this is all that I need to do in my
class in order to make this auto wired
now in my spring XML what's going to
happen is now again I don't have to
specify a property here because that
dependency wiring information is
specified using this annotation now let
me first remove the other point objects
I'll just leave the point object that I
want the wiring to happen so I will just
comment this out and also come into the
triangle and save this so right now
what's happening is very simple we just
have a circle beam and we have a point
beam and now I have made the point
member variable of the circle beam as
auto wired so it's very straightforward
for spring to know that this is actually
the beam that needs to be auto wired
I've commented pretty much everything
else now again just like our required
annotation automat annotation is also a
post processor so there is a post
processor that we need to define in the
spring XML that's going to look for the
at auto wired annotation in all the
spring beans and it's going to do the
auto wiring and I will have a look at
that post processor here again we go to
the beans jar and in the factory
annotation package here you see auto
wired annotation B post processor so
this is the post processor that's going
to do the work so let let's declare that
inside the comment here I'm going to
call this
Otto wild annotation being
post-processor let me save this okay so
it's simple I just have declared the
Auto viral annotation bean post
processor and in my circle class I have
made this center member variable has
Auto wired and I have supplied a bean in
the XML which matches that type so I
have a point
bean so spring knows that that's what
needs to be Auto wired so when I run
this and I'm doing a get be enough
circle and I'm doing the draw it should
print the point a as 0 0 which is fine
it's working fine now here's a trick now
what happens if I uncomment this now
let's say I make multiple beads off the
same type made available here so I have
three point beans I have point a point B
and Point C and I have made this point
member we rebuilt or divided by type now
what spring gonna do now let me save and
run this so here you can see it's going
to get an exception okay and the
exception is error creating bean with
name circle and injection of auto our
dependencies failed okay so it is not
able to find out which bean needs to be
injected they look at the details of
this a bit later but here's what I'm
going to do now instead of calling this
point a point B and Point C what I'm
going to do is point a is the bean that
I am concerned about
I want this bean to be injected so what
I'm going to do is I'm going to change
the point a bean name to be Center so
let me change this as Center and I will
save this so I'm what I'm doing is the
bean that I want to be Auto bad I'm just
changing the name and I have a few other
beans of the same type but obviously
with different names now let's have a
look at what spring does so if I run
here you can see it's actually pulling
up 0-0 even though there are multiple
beans of the same type so here's what's
happening
Auto Wired annotation first looks for
type and if it finds that there is only
one bean of that type which is the point
type even though the name is different
it's going to autopilot
because it's just one bean now if there
are multiple beans of the same type what
spring is going to do is what the auto
our annotation is going to do is as a
second step it's going to see if there
are any names that match so if I search
for I look for type and it finds
multiple beans of the same type so
that's not going to help now now with
the second thing that's going to do is
it's going to look for the name of the
bean if it matches the name of the
member variable and then if that matches
then it's going to assign that bean and
then it's going to proceed with the
execution so it's actually doing some
intelligent guesswork here not really
guesswork but it's intelligently looking
at multiple things first it's going to
look for type there's just one bean fine
it's for an assignment and if it does
not find the I'm sorry if it finds
multiple beans of the same type then
it's going to look for clues in the bean
name and then if it finds the bean name
I'm just going to assign it now let me
change this back and I will show you one
other way in which we can give clues to
the sort of add annotation to help it
isolate to a particular dependency now
let's say I cannot change the name of
this bean say I'm using this for
multiple multiple other objects and I
cannot change the name let's say the
triangle was also here and I was using
point A obviously I cannot change this
and then have it auto word by name I
would have to define different beans
with different names so that it can auto
wire based on name so there is another
strategy that we can use to solve this
problem okay I have multiple beans of
the same type and I cannot change the
bean name now how do I give tools for
spring to authorize this I can use
something called as a qualifier now I
can use a hat qualifier and I can
specify
qualifier name now what is a qualified a
qualifier is something that I can
mention in the beam definition to say
that this beam is actually a circle
related B okay now how I do that is well
here in the beam definition a user
qualify a tag and then I say value
equals let's say I call the circle
related okay I'm telling I'm qualifying
this beam to be a circle related be okay
and now here I'm going to say qualifier
is circle related okay now I will have
to do the import of this qualifier again
this is from factory annotation now what
spring is going to do is it's going to
check for outer world and it's going to
look at all the beans that belong to the
same type now it finds that if there are
multiple beans of the same type then
it's going to look for name it's going
to see if any of the beans have the name
at center and of the point type it finds
no such P the next thing it's going to
do is it's going to look for the
qualifier it's going to look for any of
those beans which have a qualifier that
matches the qualifier that we have to
find over here which is circle related
it finds that only one bean among these
three has the qualifier circle related
and there you go it finds the bean and
then it assigns it to the center now if
I save this gonna save this as well and
if I run this here you see you get an
XML error this qualifier must be
declared now what's happening is I have
not mentioned all the XML namespaces
over here so so far this was working
fine it was just been but I'm going to
add the XML namespaces the complete list
of XML names
is because it's going to be handy in the
future if you have been following along
you will want to add that in your XML as
well so what you do is go to Spring
Framework and the project's search for
some config dot XML get the annotation
config dot XML I'm going to copy this
beam
Daigo ver here here you can see it has
all the XML namespaces configured and
this is going to come in handy so I'm
going to copy this and paste it over
here and then of course I'll have to
remove the doctype here and say save
so all since all these namespaces are
configured you can use the qualifier
over here and it's also handy because of
a few other XML elements that you're
going to add in the future if you have
been following a lot make sure you make
this change in your spring XML as well
okay so now we are all set to run if you
run this here you can see it's picked up
zero zero again why has it picked up
zero zero because even though there are
multiple beans of the same type there's
only one which has the qualifier and
then that is what I have added over here
as a qualifier so that's what it picks
up so again autopilot is a handy feature
you can wire beans depending on type and
also depending on name because that's
the second guess that it's going to make
if it did find the multiple beans of the
same type it's going to look for a name
and the other clue that we can provide
is the qualifier if you have multiple
beans of the same type again it's going
to look for a beam which has the
qualifier that you have put over here
and then if it finds a beam with the
same qualifier it's going to assign this
so again this is the auto wired
annotation which is behind the scenes
the required annotation I'm sorry the
auto wired annotation beam post
processor that's doing all this work for
us now since we have added the
is namespaces there's actually a tag
which helps us with all these post
processors so here we added the required
beam post processor for the required
annotation we added the order world
annotation B in both processor for the
order word annotation if there is
actually a shortcut which helps us
define all these different post
processors which are all related to
annotations now instead of defining each
and every one of these what I can do is
if you see here you have annotation
config tag over here so this is actually
a shortcut for defining all these
annotation being plus processor attacks
so I can just add this one instead of
adding each and every beam post
processor over here related to
annotations and this is going to take
care of initializing all those being
post processors so now this is going to
work even though we have not defined the
beam post processor there you go
the annotations are working and this is
again a handy shortcut for defining all
the annotation related beam post
processor configuration you don't have
to define all of them one by one just
add this and you're done you can add any
number of annotations tear beans</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>