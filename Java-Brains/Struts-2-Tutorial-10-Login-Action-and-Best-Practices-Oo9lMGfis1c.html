<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Struts 2 Tutorial 10 - Login Action and Best Practices | Coder Coacher - Coaching Coders</title><meta content="Struts 2 Tutorial 10 - Login Action and Best Practices - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Struts 2 Tutorial 10 - Login Action and Best Practices</b></h2><h5 class="post__date">2012-06-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Oo9lMGfis1c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to this tutorial on
stretch 2 we have covered a lot of
topics over the past few tutorials and
if you think about it we now know how to
establish a complete request response
cycle we can take in a request we can
take an input parameters we can write an
action class that handles the requests
we can write the execute method that
handles requests calls business services
or whatever and then when the response
is ready we know how to pass on the
response to the user through a JSP 5 we
know how to redirect in case of
different scenarios so we do have the
basic request response we understood how
to write the basic flow but then there
are a lot of miscellaneous things that
you know that are features of stretch 2
or those are things that you would need
to do in order to write a real-world
application I try to cover a lot of such
miscellaneous items in this tutorial so
it will not only be the items that we
haven't covered so far but there also be
best practices so it will be a
repetition of something that we've done
earlier but then those are the ideal
ways to do it and they're tried and
tested formulas that you can apply to
real-world applications as well so let's
get started I will use I'll take a use
case of a login page so we have a
tutorial finder application we've
already written some code to use actions
what I will do now is I'll have a login
page and I will have a login action
class that's going to check the user ID
and the password and then redirect to
this tutorial finder form so this will
give us a good opportunity to understand
all these best practices and these minor
miscellaneous topics so hopefully we'll
have a good understanding of all those
things when we are done so in order to
create a login page first I will use a
JSP which would be the login JSP and
then when i submit the user ID and the
password i will have a login action that
handles that submission so i'll go ahead
and create a JSP
I'll call this login dot JSP so it'll be
in the web folder I have this login dot
JSP
now in the log in the JSP I'll be having
a text box and there will be two text
boxes ones for the user ID when is the
password and then there will be a submit
button so we've learned in the previous
tutorial that even though you can write
HTML tags for this it's encouraged to
use starts to tag so that's what we're
going to be doing this time so I'll just
pick up this tag Lib from my previous
page and I'll just add it over here ok
so now we have the tag lab and we are
all set to write starts two tags so
again I'm going to copy the form over
here I'll be making a few changes so you
remember this is the stretch form that
we had used in the previous tutorial so
we have a SQL inform and then action
we're going to delete this action and
I'll fill it up later then I have the
action class ready so this is something
we need to get back to now here we
already have a text box and we'll have
to change the label as well as the key
so the key is going to be the property
name of the variable in my action where
I want to store the user ID so let me
call this as user ID for now but then I
need to remember to use the member
variable name user ID when I'm creating
my action class so I will change this as
login ID so this is my label that gets
displayed to the left of the text box I
need to add another text field over here
so I can just look at this and call this
the password okay so this this would
work but then there's one
characteristics of a password text box
typically it's just that what if we
enter in the password text box is is not
visible so you have a separate attribute
in HTML tag to do that with there is
actually starts to equal it as well so
in the case of a password text box what
you do is instead of using this text
field tag what you can do is use a tag
called s : password now the s : password
has a lot of similar properties as the
text field and you can use the label and
the key and for that and for our
practical purposes it behaves like a
text field one major difference is that
when you enter text into the password
text box you don't actually see the
characters which behaves like a typical
password text box so this works fine for
our purpose so now we have a user ID
text box in a password text box and we
have a submit button so this actually
completes our login page so I will save
this and we are actually done so what I
can also do is I can use the the Welcome
file list to add one more of this
actually you can delete the other ones
if you want because they're not really
there so I will change this to login the
JSP so what's going to happen is in when
we run this tutorial finder application
the login dot JSP is the page that will
greet the user so that way it's handy to
have that in the Welcome file list so I
will save this as well and now we have
the first page ready so now the user
enters the user ID enters the password
and then hit submit so what's going to
happen next what's going to happen next
is this is what's going to happen the
action that we add over here is what's
going to get called so we need to have
an action class and we need to have a
starts mapping so let's go ahead and do
that now so in the source I will create
a new action class
Oh God this Login action put this in the
action package and hit finish okay send
my login action as usual I need to have
a public string excute and here I'm
gonna use I'm going to write some code
to evaluate the user ID and password
that's entered now you know that in
order to use the user ID and password
that was sent as a part of the request
we need to have member variables for
user ID and password so I'll do that now
I'll have a private string user ID and a
private string password again remember
that these two should correspond to the
keys over here which they do so we good
here so I'll create the getters and
setters for these two okay so we're done
now I could write some logic here to
evaluate the user ID and the password so
it could be a call to a business service
but in this scenario I'm just going to
statically verify if the user ID and
password are a particular text so I will
have a if get user ID dot equals I'll
have a user ID it's going to be a static
value so as long as the user enters user
ID this check is going to pass all right
and now the password I will have a same
check for the password as well so I'll
have
and get password equals last one so I'm
doing a static check you know as long as
the user ID is this string and the
password is the string I'm going to let
the user in but then if it's anything
else and not going to let the user in so
again as I said this could be a business
service that talks to a database and
verifies the user ID and password but
for our illustration I think this should
suffice so I will actually once I'm here
this is an if condition right so if the
user has entered the right user ID and
password I'm going to return success
okay and if this is not the case
whenever the user ID is not this and the
password is not this I'm going to return
failure okay so this is all that the
execute method needs to do so it's going
to verify the user ID and the password
match in which case it's going to return
one string and then if these already and
password does not match it's going to
return another string so that's all that
this needs to do but what's the benefit
of returning two different strings well
the benefit is I can map each string to
a particular action class or a
particular JSP so the return actually
signifies the you know where the flow is
going to take you to next so a different
return could mean that it's going taking
you to a different Shakespeare a
different action so as far as the
execute method is concerned this is all
that it needs to do so all I need to do
is in the starts XML map success to a
success page or the page which you want
the user to see when a successful login
happens and I need to map failure to an
error page or any paper that you want
the user to see when there is a login
failure it could be the login page again
okay so this is all I am doing
we execute for now and will again visit
this later with a couple of best
practices that that make this code a
little bit better okay so I will save
this one and then go to the start XML
now I need to establish a mapping for
this for this action so I will have a
new package over here I don't want the
login to be in the tutorials namespace
so I will create a new package so I'll
call the package in fact why don't I
just copy this and paste this here so
the namespace is going to be
slash okay I'm not going to add any
namespace over here and then the action
name I can give any name I want over
here a little bit giving the name is
login because this is the login action
that we are right and the class would be
the class that we just wrote so this
would be log in action now there are two
results that we have copy pasted now
let's take a look at the results that we
actually using using success and failure
which is fine so we do have success and
failure but then we need to map this
tube there we want to redirect the user
to so in the case of a success I want
the user to see the search form der JSP
and the search form dot JSP is in oh
it's actually in the root so I don't
have to give any path I can just change
this to search form the JSP and in the
case of a failure I want to redirect the
user back to the login page so this
would be login dot JSP okay
so I'll save this and I'm not going to
do any headed messaging over here and
they can take that up in the next
tutorial but for now I'm just going to
redirect user back to the beginning page
and finally the package has a name and
the name is same as the default over
here because we just copied it every
package needs to however you
name so I'm going to change this name
I'm going to call the packages login as
well didn't just remember that a package
needs to have a unique name so be
affixed at and now I can go ahead and
see the start eczema okay so this
configuration is done now that we have
an action name let's go back to the
login dot JSP and configure the action
value that we had left out over here so
this is a form that posts this value to
login so this result that's required I
don't need to have a dot action that we
had already seen in the previous
tutorial and there's no name space over
here so all I need to do is enter the
action name and then stretch knows what
to do so I will see if this one as well
and now let's try running this project
so I will say run as run on server okay
so it's the black text box again I
really have no idea lights showing up
like this but let me open this up in a
browser and again notice that I don't
have to enter the URL since we had that
entering into the Welcome file list
login dot JSP is automatically rendered
so let me just copy this and open this
in a browser
okay so we have login ID in the password
text box that's generated by struts to
tags so I will have the user ID as the
static value that we expect and password
as password the static value that we
expect as well and when I hit submit
it's going to take you to the to the
search form page okay so let's go back
and enter a wrong user ID and whatever
password doesn't matter I hit submit
it's going to take us back to the login
page
so this is the basic functionality of
the login which is working fine of
course we don't have the error messaging
over here but then
something they will tackle in the
subsequent tutorial okay so now that we
have established this this login page
and functionality let's talk a little
bit about some of the best practices</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>