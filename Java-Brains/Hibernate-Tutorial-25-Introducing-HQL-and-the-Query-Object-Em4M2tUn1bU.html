<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 25 - Introducing HQL and the Query Object | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 25 - Introducing HQL and the Query Object - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 25 - Introducing HQL and the Query Object</b></h2><h5 class="post__date">2011-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Em4M2tUn1bU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial in this
tutorial we are going to be talking
about hql and the query object now in
the previous tutorials we saw how to get
an object from the database given a
primary key and we also learned how
associations are loaded so say for
example I have an object that has a list
of objects as associations then we can
use a simple Gator to get that list of
objects because we already have a handle
of the main object so this is one of the
ways in which we can pull up data in
hibernate there is another way to do it
and this is kind of close to what we
would do in a simple JDBC scenario in a
JDBC connection what we would do is we
would write a sequel query to you know
run you know the sequel queries in the
database and pull up data from the
tables that we need we would write joins
we would write where clauses we would
sort everything would happen in a sequel
query itself and the returning data I
you know as per the query that we have
written we would get the data and then
we would pass it now since - it is doing
all this hibernate also has provided a
method in which we can write queries
directly to access the database the one
way to do it does cause we've already
seen as the in passing the ID and
passing the class name and getting the
object well that's fine but if you want
to get a bulk of objects and you want
more control over the data that we need
we can also use this feature of
hibernate which is which allows us to
write queries and retrieve the data
now the queries that we write is not
sequel okay we do not write the standard
sequel queries we use a separate query
language that's provided by hibernate
and that's called the hql or the
hibernate query language so we need to
write queries in hql now if you're
thinking right now okay great one more
language to learn well let me tell you
it's not actually that bad hql is very
similar to the sequel queries that we
already know why
we already right the difference here is
that when you're writing a sequel query
you would you think about tables you say
okay get me data from this table and you
know the stable join in this table so we
are thinking in terms of tables but in
the case of H cube since you know the
hibernate is an object relational
mapping anyway we do not think of tables
we think about objects so when you say
when you would say in a sequel you know
fetch data from user details table what
we would say in hibernators fetch all
the inner records of this user object so
we don't talk about tables we talk about
classes and objects it doesn't sound
like a big difference but as we write
queries will understand how big of a
change this is from writing sequel
queries so in order to write H skewer we
need to use what's called as a query
object so let's write some queries here
what I've done here is before I started
recording this tutorial I populated the
user details object with some dummy
users I have users one to ten and I can
pull up data from this table by using HQ
so let's get started the starting is the
same we still need a session Factory we
need to we need a configuration object
we need to build a session factory and
we need to open a session now once I am
in a transaction I can use a fetch to
get all the objects that I need so the
first thing I need to do is create what
is called as a query object and I need
to press apply the query that I need to
the query object so what I do is in this
session I do a session dot create quake
now the session dot create query will
return me a query object depending on
the query that I'm trying to run so let
me run this query from
user details
there's no select star you might have
noticed it just starts with a from user
details so this is actually a very basic
hql we'll have a look at how the edge
peel is different later on but note that
there's no select star as you would
write in a normal see quick query you
just say from and the object name again
it's not the table name it's the object
name the object name is I mean the class
name is user user details now once I do
a sell a session dot create query it
returns me a query object so I will need
to capture that query object in a local
variable so I'll say query equals
session dot create query now I need to
import session not create I mean this
query object I'm going to use org dot
hibernate and I'll tell you why I'm
doing this and why I'm not using the JPA
query later on but for now let's go with
the org dot
hibernate dot query so this is the one
that we are trying to use so now that I
have this query object all I need to do
to execute the query is to call a method
of this query object called list so this
is going to return me let's start all
the records of this user details table I
mean it's not really user details table
it's all the records off the table that
is mapped to this user details class so
all I do here is say list users equals
query dot list so the query dot list is
going to return me a list type I'm going
to import a list from Java dot util ok
so at the end of this what I'll do is
I'll just do a system dot
just print out the size just verify we
have all the users okay I delete should
return me ten okay now let me make sure
that this is update okay so let's run
this there you go it's running a select
and it's returning me the list size is
10 so it's pulled up all that you all
the records from this table it's just
doing a select start from user details
but what we are doing is instead of
giving a select star from table name we
are giving a from class name so this is
what hibernate needs to pull up all the
records so this is fine but now let's
say we need a bit more control let's say
we want to write where clauses here say
so there's a way to do that
and what we need to do is we need to say
here wherever we have a from class name
let's say for example I want to pull up
all the users whose ID is greater than 5
ok so what I do is an anomaly in a
sequel query I would say select star
from table name where column name the ID
column name is greater than 5 so just
like instead of a table name we are
using a class name here so the same way
instead of using a column name we use a
property name so what would happen is
let's say where so instead of the column
name here I will mention the name of the
property that is mapped with this
columns which is user ID in this case so
I'll say where user ID is greater than 5
so now let's save and run this so there
you go it returns the value of 5 because
that's all that it pulls up because you
have a where clause here of course you
can try this out and print out the list
of users to make sure you have all the
data properly I'm just not going to do
that in order to save some time so these
are this is the couple of examples of
using hibernate query language so it's
fairly straightforward what I do is I
create a query object and I do a session
dot create query and in the session dot
create query I pass a string which is
the hibernate query language string and
there are three ways in which the hql
and the process of retrieving data using
catch queuing is different from normal
sequel the first difference is that
instead of using a table name you would
use the class name instead of using the
same instead of using a column name
you'd use a field name so instead of the
table names in the column names you're
using the class names and the field
names second difference is you do not
see a select star command here it's
assumed that you're doing a select and
all you have to do is write the query
starting with a from so you say from
class name and of course you can write a
web class where the field name and then
you can filter out based on values and
things like that and then the third
difference is instead of returning a
record set what hibernate does is it
returns a list of the entity objects so
what I get here is you know once I get
the list here list of users is actually
a list of this user detailed objects so
these are three ways in which at least
initially you fill find hql and the
query object different from the way you
would do it where you do things in a
JDBC connection so in the next tutorial
we're going to look at a few more things
you can do by using hql</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>