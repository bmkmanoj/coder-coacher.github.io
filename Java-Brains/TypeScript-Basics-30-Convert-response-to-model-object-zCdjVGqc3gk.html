<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>TypeScript Basics 30 - Convert response to model object | Coder Coacher - Coaching Coders</title><meta content="TypeScript Basics 30 - Convert response to model object - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>TypeScript Basics 30 - Convert response to model object</b></h2><h5 class="post__date">2018-02-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zCdjVGqc3gk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we now have a service class which has a
method which makes REST API calls and
prints something to the console that's
not what we want you want to be able to
create an instance of this user class
all right what we have here is an object
of type ne because the request API
doesn't really know what the structure
of this thing is it's not typing it it's
just giving you any I want to create a
new instance of user based on this
object there are a bunch of different
ways in which you can do this right
there a bunch of different ways in which
you can construct this object the
approach that I'm going to do is to use
a constructor
well it's something that's apt
considering its name isn't it so I'm
going to create a constructor on user
which takes in an object from the rest
API and then initializes itself to a new
user object let's say create a
constructor which takes in the user user
response which is any and it's gonna
initialize itself based on this user
response so what does user response look
like they have a bunch of fields the
feeling names over here which is not
really the same as the user object
property names all right so you have
repo count over here but here the name
of the property is public underscore
repos so the properties don't really
match so you cannot really consider this
user response to be off type user if
they were of the same names then by duck
typing we've learned that you can
consider the object to be of type use of
the properties are clearly not of the
same name so we need to initialize this
alright
so initializing it involves copying over
the properties so this stuff login
equals logon so the property name is
same over here so but
user response stuff login copy this over
a bunch of things okay now let's look at
the other names
this is name and this stuff full name is
user response that name alright so this
is the property within the response
object that github provides us and this
is a property on the class that we have
over here right so I'm just doing the
mapping over here so let's look at the
repo count repo count this public
underscore repos so I'm going to say
public underscore repos and this is on
the object its RICO count followers and
this is follower count
okay now repos we haven't made the
request to get the depose yet so this is
gonna be empty I'm just gonna come in
this out and for now I'm gonna make this
optional by adding a question mark over
here because when we create this object
it's gonna be without the three post
property so this is gonna be optional
for now let's save and in my github API
service rather than printing to the
console the body itself I'm gonna say
let user equals new user object and
we're initializing this user with the
body it's gonna be a capital u here and
of course I need to import is there from
that user so I have now transformed this
object that I get from the response into
a user instance an instance of this user
class and now I'm gonna go ahead and
print this out
and let me run this well if this didn't
quite work maybe what I'm getting back
is a string so what I'm gonna do is JSON
dot parse it let's try this out and if
this works I have a better idea
okay so that did work so what I'm
getting back and the body is a string
which needed to be fast and hard to make
an object so in order to tell the
request library that I don't need string
that I have to then parse to JSON and
give me JSON directly I use this
property called JSON true and I pass
that in the options you see this options
object over here I'm passing JSON color
true and that this the request library
is gonna return me JSON so I don't have
to do this parsing myself all right so
I'm gonna hit save and run this again
and then I get back the object as JSON
so the body is gonna be a JavaScript
object and I don't have to do the first
thing myself
all right so now I have this user object
created over here and is this good
enough well it's technically not good
enough because what I want to do is get
this user object in my main file right
so right now it's in the github API
service which is not really good I want
to get this in the main file in the
extra TS so that I can use that object
to print to the console from my main
file and not from the service and also
make a subsequent requests to the repos
object so the repos API sorry to get the
repository information I don't want to
use this method as this thing that only
prints to the console I want this to be
a generic method that returns somehow
gives back this object and then have the
consumer of this method deal with it and
not have this method itself print to the
console this you have to do that in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>