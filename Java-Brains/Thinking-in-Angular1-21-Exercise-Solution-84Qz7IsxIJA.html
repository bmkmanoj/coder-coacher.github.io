<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Thinking in Angular1 21 - Exercise Solution | Coder Coacher - Coaching Coders</title><meta content="Thinking in Angular1 21 - Exercise Solution - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Thinking in Angular1 21 - Exercise Solution</b></h2><h5 class="post__date">2016-09-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/84Qz7IsxIJA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so let's create the clock app
that's going to tell us the time of the
day when we load the page so I'm going
to start from the scratch like I
mentioned I'm going to create a new
directory called clock app and this is
where all my code is going to go in this
clock app I'm going to create a new file
I'm going to call the file index.html
and this is where my main HTML is going
to go
this has nothing right now but let's
verify that by changing my path so that
I can load that HTML so this is going to
be clock app slash in the extra extremer
let's empty so as we fill in the code
here and refresh the browser here we
should be able to see the code in action
now but then this index.html I'm just
going to put some skeleton HTML code
which is basically HTML open closed with
a head and body all of them are empty
now I am going to add an h1 over here
and say clock app which is going to be
the title and then I'm also going to do
a title in the head you don't actually
have to do this but it's it's a good
thing to do
and now if I were to refresh the page
well here is our clock appreciate
doesn't do anything yet so we need to
create an angular application which has
a controller that gets the current
system time when the page loads and then
displays it in the view right so how do
we go about this we looked at how the
first step to creating an angular
application is to import the angular
script I can do this in a couple of
these I can link it to the CDN R I can
link it to a local file in my file
system I already have the local file
over here so I'm just going to copy this
and paste it into my clock app path so
that it's over here and now I can use
the script tag to link to the angular
script that's in that same location
let's our C equals and then the name of
the file is angular dot j s
close the script tag and now with this I
have and I get a replication but what I
need to do next is to add ng app and
link it to our module by creating an ng
- app over here I'm still going to do
this in the HTML now I have and I get
our application but it's not linked to
any module yet let me create a script
block where I do all the module
initialization I'm going to do this at
the end of the body tag so it's a script
over here and then inside this I'm going
to call the angular the global angular
object and access a method on top of it
called module and then this module
method has two arguments one is the name
of the module clock app and then it's
going to be an empty array right now
hold on to this in a variable called app
collapse this so that we have more real
estate here all right so I have created
an angular module called clock app and
it has this empty array as a second
argument now I have my application over
here next what I'm going to do is use
the controller method on the app on the
module to register a new controller and
what do I want the controller to do I
want the controller to get the current
system time so I'm going to create a
function here which is going to get the
current system time and then let me
implement that a bit later now what I'm
going to do is I'm going to say app dot
controller and then this again takes two
parameters first is the name of the
controller time ctrl and then the second
is the name of the function that you
want to bind it to which is again time
ctrl so this doesn't have to be the same
as this but this has to be the same as
test right here you are referring to the
actual function that you are making as a
controller so that has to match alright
so now I have registered the controller
I have to actually implement the logic
so what's the logic to get the system
date
the date API is basically saying new
date so I can save our current date
equals new date and this is going to
give me the date object in JavaScript
and then I can get the time by using bar
times string equals current date dot two
times string so this is the API in
JavaScript to get the time as a string
so with this now I have a string which
is the current system time okay so we
need to somehow convey this to the view
right so before we do this let's hook
all these things up
I have created an application clock
application I need to link it to ng app
so that angular knows that you are
actually creating this app as the clock
app right so you need this module to be
registered so that whenever you use ng
controller in the application it knows
which module to look for that controller
right so now that it knows that this is
the module then I use the ng-controller
let me do this in a dip so I have a div
and say ng - controller equals and then
I need to give the controller as the
name that I've registered it as not the
name of the function name that I've
registered the controller as so here it
is time ctrl and now I have a div with
ng-controller now I want to display the
current time over here how do I do this
now I have the time string in the
controller I need to somehow display
this in the view can I do something like
this let's say a paragraph ng - bind
equals time string with this work well
this wouldn't work because guess what
happens every time you do any g'vine
angular does a scope dot for the
expression so here you're doing time
string angular is going to do a scope
time string it's going to do it no
matter what you don't you cannot control
it so the best way to show this is you
still got to use ng bind but what you
need to do is you need
to put this time string on the scope you
need to create a property on the scope
called time string so that then angular
does scope dot time string it has the
value for it to use so this thing needs
to be set as a property on the scope now
in order to do that I need to first get
the scope how do I get the scope I do
dependency injection I don't look the
scope up I say hey angular give me the
scope and the way to do this is by using
a special token called dollar scope as a
method argument to my controller when I
do something like this when angular
execute this function because of this
ng-controller angular say ng-controller
time controller time controller is this
function ok now I gotta execute this it
sees this dollar scope so it injects the
scope here so I have the scope available
now what I need to do now is instead of
having it as a variable I need to set it
as a property of the scope so I say
dollar scope dot time string not a war
time string okay so with this I have set
the property of the scope then the
controller executes and now when
ng-controller sees this thing it make
sure this function executes and the
scope has this property now in ng bind
execute it does a scope time string
which you've already set so it should
give us the current time all right so
let's test this out by refreshing the
page well here you see it is printing
the current system time but it's showing
at the top because what I've done here
is I have added it to the head so let me
move this to the body you don't want to
add code in the head all right now I
have this in the body tag below the h1
which is where it should have been all
along now if i refresh but here you see
the current system time and Allah ie
freshness it's changing so it's showing
the current system time in my location
with the timezone it's 11:00 a.m. right
now on a really nice Saturday morning so
that's what's happening when i refresh
the page it continues to update all
right so the thus we have a complete
time slash clock application so I can
have something like the current system
time is and not do an ng bind instead I
can do something like this
current time is and then we can do a
talking string so I'll get a little bit
more descriptive message right so this
was the exercise hopefully doing this
whole thing from the scratch makes
things a little bit simple I hope you
also give it a try if not definitely do
and check the solution if you're stuck</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>