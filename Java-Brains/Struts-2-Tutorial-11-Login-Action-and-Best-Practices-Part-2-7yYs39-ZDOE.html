<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Struts 2 Tutorial 11 - Login Action and Best Practices Part 2 | Coder Coacher - Coaching Coders</title><meta content="Struts 2 Tutorial 11 - Login Action and Best Practices Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Struts 2 Tutorial 11 - Login Action and Best Practices Part 2</b></h2><h5 class="post__date">2012-06-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7yYs39-ZDOE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so now that we have established
this login page and functionality let's
talk a little bit about some of the best
practices best practice one take a look
at these hard-coded strings over here we
have a return success we have a return
failure and of course you can ignore the
hard-coded strings in this line this is
just something that we've added for
illustration I'd be there in a real
application but then these you know
could be there in real application you
want to return a string as a return of
this execute method so they have to be
strings and these are standard strings
you would typically have a success or a
failure to log in or things like that so
it's not really recommended to have
hard-coded strings over here what we
would typically have is like a private
static string equals success and then of
course replace this with that static
string right so this is this standard
Java base fact is not not really related
to starts to any you typically want to
do this we want to avoid hard-coded
strings now this will have to be done
for every action of ours right so almost
every action will need to have at least
one string return time and most of the
times it would be success or failure or
login or error or something like that so
you would have to have this private
string static string in a free action
class so in order to avoid that you can
actually implement an interface actually
starts to provides two solutions one is
it gives us an interface that we can
implement and second thing it gives us a
class that we can extend we can do
either of the two class is a bit more
powerful interface is not really that
powerful but then we can use either of
the two interface was actually a
requirement earlier but then in the
newer versions you don't really have to
implement any interface if you notice
here our login action is actually a POJO
doesn't really implement anything it
doesn't extend anything there's an
informal agreement that your action has
a public string execute because unless
you have this you your action will not
work
but then it's just an informal rule it's
not really an interface that you have to
implement and then implementing
implement this method but then
implementing the interface will give you
the advantage of you know not having to
declare this static take so let me go
ahead and implement the interface this
time implements action the action is
imported from comm open symphony X work
- so again we are not gaining a lot by
implementing action we'll talk about the
class that I told you about that's a bit
more powerful but just for demonstration
I'm going to implement the interface on
this example and then look at the class
in the next tutorial so now that we have
this action we don't have to declare
this just let's take a look at the
action code so this is the public
interface action so here you can see the
static final strings - clarity of
success you have none and actually you
have good comments for each of them
indicating what you could possibly use
those strings for you have an error I
have an input and input is if you have
come to a place after a user submitted a
form and you're not happy with the
submission you want to take the user
back to the forum you redirect to input
login which is actually perfect in our
scenario that you want to redirect the
user to a login page then the user
session is not there or an incorrect
user ID and password was entered
whatever it is this could be used for a
login page redirection and then finally
you have a public string execute which
is the you know the informal contract if
you've been adhering to but then if we
are you know implementing the action if
we do not have that executed get a
compile error not even run time okay so
that is it's as simple as that
implementing action does not really give
us a lot and then again as I said in the
next PB not in the next but then in the
subsequent tutorial I will talk about
the class that we can extend and that's
a bit more powerful okay so now see I
have removed that static value but then
I can still use success now in the case
of a failed login I need to return some
other string so let's take a look at
what is a good fit like we saw login is
a very good fit so that's what I'm going
to use so i will use login so this will
refer to the string okay the only change
that we have to make us login is not a
new string over here so I will have to
use this string in my start XML so it's
no longer failure it is login right so
because success is still success over
here but it was error before now we have
changed to login so it's it's really you
know it's it's not really a hard and
fast rule they can use any string you
want this is one best practice this best
practice will still hold good when we
change this to a class from an action ok
so let's save this that was the first
piss practice now on to the second best
practice now let's open up our struts
start example here so notice we have two
packages we have one package for login
and one package for the default this is
fine because there's a very small
application but if you are working on an
app that has a lot of packages and a lot
of actions this file can get really
messy we'll have a whole lot of package
declarations and you have a whole lot of
actions inside those packages so this
can be a really huge file so it is
actually advised to split this up into
multiple XML files and stretch allows
this by having something called as an
include so you can include one XML file
inside another start XML file so the
main XML 5 has to be called start start
XML so this is your base XML file but
this file can include other XML files so
we will try that in this in this app not
that it's required but just to have you
know illustrate the way in which we can
split up
xml's will take this package out and
we'll have a different xml file for it
so this starts XML is in the source
folder so right at the source folder
I'll create another XML file and I can
call this log in dot XML there's no
restriction as with the name is
concerned but I'm just gonna call this
let's login and this is actually it has
pretty much the same structure so I can
just copy the same thing and paste it
here but then I'll have to remove this
one so what I'm doing here is this is
another stretch XML but then it has a
different name of course and then I've
moved one of the packages from here to
over there so this package is the login
packages in this XML and the default
package is in this XML so all I need to
do to refer to that is writer include
tag all right so the include has one
property called is the file so the file
would be the name of the file so this
name is log in dot XML and that's it so
this is equivalent to having that
declaration over here itself so we're
not gaining anything functionally only
thing is we are splitting this up into
different files so that it's more
manageable so you can in a real world
application have different files that
are included in the main starts XML but
then they contain the package
declarations in the action declarations
that are specific to say a particular
business unit or a particular nature of
work so you can classify it however you
want to just a maintenance feature it
doesn't add anything functionally but it
makes things a bit more organized
okay so this
is the second best practice that I want
to talk about now let's move to the
third best practice so in our
application in our tutorial finder
application we have a find a page we
have this search form JSP page and this
is the page that the user sees after
login in a log in our XML they have
configured for a successful login to
redirect the user to a search form dot
JSP this is fine but then let's say
you're developing a menu system and you
want to link to the search formed or JSP
in your menu you would normally
hyperlink to the road context slash
search mom dot JSP right and say you are
you have to give a URL to the user you
would give this your it would be
something slash search form dot JSP now
this is actually a not recommended this
is again under the place where we can
apply the standard best practice of
having some kind of an alias this is
similar to what we've seen in in the
case of servlets if you don't member in
the case of servlets the user does not
actually enter the subject last name the
user enters what is called as a sublet
name so the servlet name acts as an
alias for the actual class which has
this outlet implemented so it's kind of
like one layer of abstraction so that
the user does not really see the class
name and you can change the class name
later but still retain the same servlet
name so this is somewhat similar so if
you have the JSP name in your in your
URL so you want to change this change
the name of this page is say you want to
change the search form to something is
searched or JSP that would mean that you
would have to go to the user and ask
them to update the URLs or bookmarks
whatever or have a search form dot JSP
that internally redirects so it's it's
kind of a messy solution so you would
want to make these changes transparent
to the user you would not want the user
to find that out so one way to do that
is to have an alias instead of giving
the URL directly as search formed or JSP
have an alias and then the user access
athili as in the new internally redirect
to the actual JSP file so the way we
could do this instructor is to have a
dummy action that redirects to the
search form dot JSP
now what exactly is a dummy action what
I mean by the MEAC
you don't actually have to implement an
action class just to do the three
direction now think about it if you have
to have an alias for a V JSP that would
mean you have to have a corresponding
action for each and every JSP in your
application that doesn't really do
anything else it just in the background
redirects to a JSP file so that is
actually not required because that would
be a huge overhead so we can have dummy
action struts to provides us that now I
will implement one such thing and you'll
understand what I mean by dummy actions
now take this search formed or JSP no I
don't want the you know the JSP to be
linked directly in an external URL we'll
this part is fine this action is fine
but then apart from this action apart
from the login scenario say you want a
bookmark to be made or you want the URL
to be shared you would want to give the
search form dorje so you want to give a
search form door action say and in the
background that is redirected to a such
form dot JSP
now let's implement this search form
direction okay so I will I'll have a
actually I can keep this in the same
package but this package is for login so
I don't want to use the login package
for this what I'll do is I'll have a new
package in this stretch excimer I'll
call this search and it's in the
namespace slash and now I need to define
an action for the search form dot JSP so
I will call this search form ok and the
result would be in any case whether it's
a success or a failure because we're not
really doing anything we want the result
to be such form dot JSP so I can
actually remove the name so this action
is going to redirect to search form
where JSP no matter what ok so now that
that is done
now here's the thing what's going to be
the class right so we have to have an
action class that does the three
direction
now since starts - has this concept of
dummy classes we don't actually have to
implement an action class just to do a
blind redirection if you're not doing
anything we don't have any logic there
we don't really have to implement a
class so I can actually remove this
class attribute okay
so this is actually believe it or not a
valid definition of an action so I am
defining an action called search formed
or action that always redirects to the
result search formed or JSP and it does
not have a backing action class so this
is what qualifies as a dummy action so
starts - by default looks at input URLs
which are such form dot action and then
redirects to such formed or JSP we don't
have to actually implement action
classes so that way it's actually handy
to have that kind of a feature you don't
have to implement action classes for
every JSP you just have to have an
action name declared and then the
redirection configured and starts -
takes care of the rest
okay so these are some best practices
that you should try to implement in your
starts - applications so just to quickly
recap the first best practice was to
implement an interface in your action
are possibly to extend a class which
we'll see later the second best practice
was to try to split your package and
action definitions into different XML
files so that they are logically grouped
together and then the third best
practice was to encapsulate your JSP
links with dummy actions so that the
user sees only the action the user does
not see the JSP and that leaves you free
to change the JSP names later if
required okay so I hope this was helpful
see you in the next tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>