<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scopes and Closures In-depth 06 - IIFE | Coder Coacher - Coaching Coders</title><meta content="Scopes and Closures In-depth 06 - IIFE - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scopes and Closures In-depth 06 - IIFE</b></h2><h5 class="post__date">2016-03-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/q21QSRpNaAQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">as you start writing more and more
JavaScript code and talking to a lot of
other fellow JavaScript developers one
thing that you're going to hear often
time and time again is that global
variables are bad you don't want to
create global variables they are evil
incarnate you don't want to do that and
there is a valid reason why people have
that belief it's because in the browser
environment everything you'd load
executes in a single space or I actually
have a page and that links to like ten
different JavaScript files say each of
those javascript files could contain
code which is written by a completely
different person it could be a library
it could be a fellow teammate was
contributed code to your page now all
those scripts execute in a common space
in that page they all execute now if I
were to load that page in the browser
they all execute together it's one
common namespace and that's where the
problem lies
if one of those scripts uses a global
variable that means that that variable
is available for any of the other
scripts to access or even worse modify
okay so it's available for everybody and
that's where the problem lies you don't
want to create global variables for that
reason the other reason is you don't
wanna pollute the global namespace if
you've created a variable you don't want
that variable to clash with another
global variable that some other library
uses again it's gonna lead to problem of
name clashes and using a variable which
you don't really intend to use and
because of all these reasons you
typically prevent you typically a wide
using global variables now let's say I
have this piece of code which we
actually looked at the exercise let me
revisit revisit that let's have a bar a
equals 10 and a bar B equals 10 and I do
console this log of a plus B if I were
to reload and run this I am going to get
20 no surprise there but now let's say
this is all my JavaScript ass right this
is all I need to do for some reason it's
very important for me to declare these
two variables and print some on the
console I want to do this but I also
don't want to create global variables
right well let's say I'm writing this
code on a page which includes 10 other
libraries who knows what global
variables they're maybe they have a
variable variable called a in which case
we are in trouble right so this when we
one equals ten we might be overriding
the value of care that the library has
you never know right you don't want to
have these as global variables but you
still want to have two variables with
the value 10 add it up and printed on
the console how do you prevent these
from being global we saw that the best
way to prevent these from being global
is to create a function wrap this around
in a function so let me actually do that
here I'm going to create a function call
my function and then I move this line of
code over here now this is this good
enough so this is not good enough like
they've seen if I were to reload and run
this we clear this out first if I reload
and run
nothing gets printed on the console why
because while if created and declared
the function we are not calling it so
that's the next step now I need to
execute a function by calling this and
now if I were to reload and run I'm
going to get the same functionality so
I'm still assigning those two variables
and printing the sum to the console but
now I don't have the global a and a
globe will be well I have solved that
problem actually introduced a new
problem I have removed two Global's from
the global namespace but I've actually
created a new global in the process can
you guess what that is the global here
is my function I have created a function
called my function and now this is a
global function now if somebody else and
some other library has the function
called my function as a global nob again
we have the same problem and we're back
to square one we have created a new
global variable here we don't want to do
that right now in order to avoid this
global variable what we typically do is
is this structure which looks a bit
funny but hopefully it'll make sense as
I explain this now rather than giving
this a giving this function a name
and then executing the function with
that name what I'm going to do is not
give this any ok so this is an anonymous
function now since this does not have a
name
does not pollute the globe the namespace
but not the problem is since this does
not have a name I cannot call this I
cannot execute this this function exists
in this space and then it's gone there's
no way for me to call this function so
the way to call this function while
retaining the fact that it's anonymous
is to call this right away as soon as
it's declared so what I'm going to do is
I'm going to wrap this in parenthesis so
I'm going to say this anonymous function
nameless function executes this right
away okay you see this I'm having the
open/close here I'm saying this function
which does not have a name which is
going to get last as I go outside this
line I don't want this to get last I
want this to get executed right away and
after that I don't care if this function
gets last it doesn't matter I've got
this function executed alright so this
is the structure let me undo this this
structure is exactly the same as this
what we're doing over here but the thing
is we are avoiding this name so rather
than give this function a name and
execute that function what I'm doing is
I'm taking this function let me take
this out cut this an instead of my
function I'm going to paste that
function over here
okay and remove the name and wrap the
function in parenthesis because I have
to this has the exact same result if I
were to clear this and then reload and
run there you go 20 gets printed alright
so this is a common structure we see in
anonymous functions being executed
directly and this actually has a name
this name is called I I F II okay it's
called immediately invoked function
expression this is an anonymous function
expression which also happens to be
immediately invoked
it's a mead invoked right away okay it's
not allocated to a variable it's not
given a name it's an anonymous function
expression that gets immediately invoked
hence the name immediately invoked
function expression or a fee for shard
which is commonly referred to as a fee
okay so this is one way in which you can
execute code that needs to execute it
right away but instead of giving
wrapping that in the function and giving
it a name and then executing it
separately you just execute it in line
within anonymous
and again to summarize the benefits of
disappea now I cannot access a or B over
here if I were to get classes the value
of a or B will give me a runtime error
because this cope is now restricted to
this block I'm not polluting the global
namespace secondly since the function
doesn't have a name me wrapping this up
in a function is not polluting the tube
the namespace with the function name is
Val right it's anonymous and it's also a
wrapper which is perfect for what we
want</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>