<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST Web Services 19 - Implementing POST Method | Coder Coacher - Coaching Coders</title><meta content="REST Web Services 19 - Implementing POST Method - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST Web Services 19 - Implementing POST Method</b></h2><h5 class="post__date">2015-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6HWUrp6buqQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now let's create a post API you want to
be able to create new messages add new
messages and we decided that the REST
API that we're going to use is a post
request to the slash messages collection
URL that the request body containing the
new message in JSON format so that's
what we can implement and implementing a
post method is fairly simple if you
remember we just need to do add post
annotation to a method so I'm going to
import add post from the same standard
package that we've been using and I'm
going to copy over the produces an
addiction as well I'm gonna write a test
method just to see if this works
so this is add message and I'm just
going to done post works okay so this is
mapping the slash messages post method
to the side message method which just
returns post works so I'm going to
switch over to postman
to this URL web api slash messages the
collection URL I'm going to do a post
method so this is the selector where you
can choose the kind of method that you
want to issue and just gonna hit Send
and there you go post works fine which
is great but there are a couple of
things you need to remember when you're
making post requests there are a few
things over here in the U is there's one
set of buttons where you can choose
between form data form your link order
data and raw data so this is the request
body so we're going to use raw right so
we're going to send the JSON in the
request body and I can just type in the
JSON over here and it's going to send it
as a part of the request body when I hit
Send okay the next thing to do you need
to remember is when you do a post
request and you're sending something in
the request body you also have to give
this additional clue about what the
format of that request body is because
if you remember when you get a response
from any REST API if you check the
header stab you see this entry called
content type which it says application
JSON over here but basically any
requests that you make let me do a get
request over here so you can see what
this does
I'm going to do a get request to slash
messages and it gives me a list of
messages right look at the header stab
the content type say is application JSON
which basically means that this response
that is in the body is of JSON format so
whenever you're sending request content
or response content you always need to
make sure that you said the header value
to the right content type so when I'm
doing a post request over here and I
will be entering the JSON with the new
message that I want to create right I'm
creating an ad message so post slash
messages should have the request body
containing the message in JSON so this
message is in JSON but I also need to
tell the API that this is JSON so the
way to do that is to set it in the
headers so click on the headers button
over here it's going to give you an
option to set the header and
key and the value so I said the key s
content-type and then I said the value
as obligation / Jason and it's send I
still get both words because I'm not
really doing anything over here but this
is the right way to send post requests
okay I hope that makes sense
now let's actually implement the message
creation functionality
all right let's switch to our Eclipse
editor okay so now what do I do here to
accept that message and send it to the
service because ideally what I need to
be doing his message service dot hide
message with the new message that needs
to be created but how do I formulate
this how do I get this message from the
request body but that's ridiculously
simple all you need to do is accept a
message after type in the method right
as long as the method argument as this
jersey knows that this is what you are
expecting and it converts this over here
whatever the request body is in JSON to
this message instance okay it's the
opposite of what we've been seeing so
far we've been seeing the message
instance being converted to JSON here
what it does is it does the opposite and
all you have to do is accept that
instance as an argument simple as that
however there's just one other thing you
will have to do just like f produces for
all the methods that produce JSON output
since this is a method that consumes
this or not but you also have to have a
consumes annotation so I'm just going to
annotate this consumes media type dot
application jason import this
so we have method that accepts Jason and
returns Jason and that's all Jersey
needs right it C is okay this method
accepts Jason just going to take this
content convert it into a message
instance and you have a message instance
now all I have to do is return this
because our service returns a message
and of course I'm gonna have to fix this
you need to return a message okay so
leave it or not again this is all needs
and we're done now let's test this out
I'm going to send a JSON and see if this
successfully adds that message so what
I'm going to do is I'm going to just do
a get request to slash messages slash
one so that I get hold off a JSON
structure over here I'll copy this and
now I'm going to do a post do slash
messages I'm going to paste that JSON
over here I'm going to remove the ID
because we don't want to have that ID
added we want the post to create that ID
for us the content type is there in the
header choosing raw body is this JSON
I'm going to say hello world
- so that it's slightly definitely I'm
going to change the date to 15 say and
hit Send there you go if you get the
response back with ID 3 and we've
created a new message let's verify that
by doing a get request to slash messages
well there you go we've got a new
message
we have successfully added a new message
using the post request so that's all
there is to it hopefully it was simple
if you look at the method it's just one
line is just that you have these three
annotations one is a post which maps it
to the method one is a consume
sanitation to say that this method
consumes JSON and one is a produces
annotation to say that this method
produces two so on and all you have to
do is add a method argument in cheese
Jersey does the conversion for you so
there you go one more API created
next tutorial we can add more see you
then and thanks watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>