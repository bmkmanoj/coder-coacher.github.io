<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 06 - Using Constructor Injection | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 06 - Using Constructor Injection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 06 - Using Constructor Injection</b></h2><h5 class="post__date">2011-06-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IOZzxmJVus0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay a quick recap of what we did in our
previous tutorial we instantiated a
triangle object using the springs get
beam method and in the triangle object
we had a member variable called type
which was of type string now we used the
spring configuration we use this
property tag here in order to preset the
value of that member we give them to a
value that we want and spring
automatically and assign the value to
this member variable and when it handed
over the object was so in fact what
we're doing here is kind of a dependency
injection because you see the triangle
object is dependent on this member
variable so you know string is an object
but for all practical purposes you can
almost consider it as a primitive but
but the thing here is that whatever
value this object is dependent on is
being injected into this object so this
is kind of a dependency injection you
can of course inject objects as well so
say for example instead of a string
you had another object that was defined
over here you could inject a complete
object as well we're going to have a
look at that in the next tutorial but in
this tutorial I want to show you one
other way in which we can do this see
here we used a property tag to set the
value now what the property tag is doing
is it's using this setter you have
defined a setter here called set type
and spring is using the setter in order
to initialize the value here so this is
called setter injection there is another
way you can inject by losing this by
constructor can use constructor
injection this is if you have a
constructor in your class which takes in
the parameters for its member variables
you can use that constructor to set the
values instead of using a setter so we
will write a constructor for this class
and now the property tag since its using
the setter in order to set the values we
will have to change this tag in order to
use the constructor instead in order to
set the values so I will create a
constructor here
all this public triangle and now this
constructor will take the type parameter
so define a string and I will assign the
input value that I get type to this
member video so I'll say this dot type
equals height so now what I need to do
is we save this now
I had configured spring to use the
setter by using the property now I need
to tell spring to initialize the object
using this constructor
I want spring to spec pass this value
whatever value have set here equilateral
I want spring to pass this value do this
constructor then it is constructing this
object and the way to do that is to
change the stag instead of using the
property tag i use another dye called
constructor - arc which stands for
constructor argument now the constructor
R does not have a name attribute it just
has a value so here this constructor
takes in just one value so we are
passing that value to the constructor so
now I will save this and in order to
prove the point what I will do is I will
come in doubt this set of okay so now I
will save and run this class again note
that there's no change needed over here
so what I'm changing is a blueprint for
spring to generate the object and the
calling class doesn't really care how
spring generates the object it just
receives the object from spring so now
let's run this and here you can see that
it still sets the value equal actually
even though we have commented out the
setter and even though this the type is
private it does this by
using the constructor using the
constructor argh we have asked spring to
initialize this object and pass in the
value using this constructor so now we
can have as many number of constructors
as we want so let's say for example I
have another another member variable
here I'll call this private integer
height and I'm saving the height of the
triangle I'm going to generate I just
generate getters for this one I'm not
going to generate the setter that's
because I'm going to set it using the
constructor so I just have a get height
so that I can print it out here now let
me save this I'm going to write one more
constructor here which takes in both
these arguments say I have a constructor
here which takes the type as well as the
height and save this dot height equals
height so using this method overloading
I am having two different definitions of
constructors so now in my spring dot XML
if I have only one value in the
constructor
Arg spring is going to call this
constructor it fits and takes in only
just one value but if I have defined two
values here now let's say I use one more
constructor argh here okay now here the
value that I'm going to set let's call
this 20 which is the height so I'm
passing two values now what spring is
going to do is it's it looks for a
constructor which takes in two values
and it finds one over here so it's going
to set the type as well as the height
and then these member variables will
have these two values so let me just
change the draw to print out the height
as well height and then I'll print out
the gate
get height okay so I'm passing
equilateral and join D as the two
parameters so this constructor should
get coiled and the type should be set to
equilateral and the height should be set
to training now if I run this there you
can see it's set an equilateral triangle
and the height has been set to 20 now
note one thing here both these values
I'm defining this inside double quotes
both of them have been defined as string
but spring intelligently converts the
type so here since the second type is of
height it's going to convert this value
into an integer value and then it's
going to do the assignment so this part
is something that spring takes care of
depending on the data type of the
constructor argument it's going to do
the corresponding type conversion so
this is fine but then this leads to one
potential problem see the thing about
all loaded constructors is that the
actual constructor that needs to be run
is evaluated depending on the type of
the values so let's say for example I
have a constructor that takes in a
string and let me define one more
constructor here for the height alone so
I'm gonna have a third constructor this
one takes in an int height and then let
me set the height here the start height
equals height okay so have three
constructors the first one takes a type
string and then it sets the string
member variable the second one takes the
height integer and it sets the height
integer member variable and then the
third one takes in both the string and
the integer the type and the height and
it sets both the member variables now
the question is this
normally when
you're resolving which constructor needs
to be executed what you would say is
okay a depends of the arguments datatype
so you're calling a constructor with the
data type string then you know that this
is the constructor that gets executed so
it's going to call the type constructor
say you're calling a constructor with
the data type int then you know that
this is the constructor that gets
executed because you have defined a
constructor with int note that in the
case of spring that could be a problem
because whether it's a string or an
integer we are specifying both the same
way so we are not having any data type
you know that spring intelligently does
the data type conversion but we are
specifying it as strings for both of
them now let's say I define only this I
defined only this one okay let me remove
this I intend to call this constructor
okay the height constructor now since
both integer parameters as well as
string parameters are represented the
same V there is no way for spring to
know that there it has to pass this
value to this constructor or this
constructor it doesn't know whether to
assign the value to the height or to the
type so we need to provide spring a clue
to let it identify what type this is and
the way to do that is by using this type
property and I say the type this integer
so now what's going to happen as spring
is going to know that the value that I'm
passing here is an int so it's going to
loop for a constructor with a single
argument which takes an integer it's it
knows that this is the one so it's going
to assign the height as 20 so now if I
run this the type is of course null but
then it's assigned the value of 20 to
the right member variable which is the
height in this case so I can change this
to say I wanted I wanted to set a string
so in that case I can say Java dot
lying third-string so since string is an
object I need to give the complete
package name so now what's gonna happen
is let's say at whatever value I set
here it's going to go to the type now
that I won't change this for just
reading the value 20 so in this case
when I run this the type will be the
string value 20 so there you can see the
type has taken the value of 20 the
height is 0 because we have not said the
value so this is one way in which we can
specify the type of the value that you
want to set to the constructor there is
another way to do this you have
something called as an index so let's
say I do not specify the type here I can
specify an index so this is if you want
to resolve between multiple constructors
depending on the order of the parameters
so you can specify an index equals 0 and
an index equals 1 so in this case what's
going to happen is let me change this
back to a equilateral in this case
what's going to happen is it's going to
look for a constructor with two
arguments and it's going to set the
first argument as this one with an index
of 0 and the second argument as this one
with an index of 1 so spaces here that
looks neat ok so I will save this and
now I'll run now what should happen in
this equilateral should be set for the
first parameter and the value of 20
should be set for the second parameter
so the type becomes equilateral and the
height becomes an integer so let me run
this once again and there you go so to
set the values depending on the order
that we have specified so in summary
there are two ways in which we can
inject these properties into our object
this reflects the ways in which you
would initialize an object if you'd use
a new operator and you're not using
spring you would either create the
object using new and then you would set
the value
using the setter are you would pass the
values to a constructor reserved so that
the object gets initialized with the
values for the member variables so
spring provides ways in which we can do
put these options one is using the
setter injection which we had seen
earlier tutorial we'd use a property tag
here and the setter would be called in
order to initialize the value the second
way is by using this constructor arg
tag which makes sure that the values
that we specify is pass to a constructor
when the object is initialized so that
the all the values are actually set in
the object before spring ends over the
object to us</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>