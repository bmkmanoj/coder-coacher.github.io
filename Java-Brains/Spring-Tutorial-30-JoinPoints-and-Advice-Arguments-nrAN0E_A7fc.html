<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 30 - JoinPoints and Advice Arguments | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 30 - JoinPoints and Advice Arguments - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 30 - JoinPoints and Advice Arguments</b></h2><h5 class="post__date">2011-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nrAN0E_A7fc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial our
previous tutorial was about writing
point cat expressions we looked at a few
ways in which we can configure point get
expressions and how to combine different
point get expressions in this tutorial
before we start let me highlight one
problem with this advice over here now I
have a logging advise that prints advise
a screen run and a get method has been
called let me remove this other advice I
don't need that for this tutorial okay
so now have a logging advise that runs
for the Gators of the circle now let's
say I change my mind and then now I want
this advise to run for all the circle
methods now I'll remove this
I'll see logging advice has to run for
all circle methods now what does also
committed Smee that means that it's a
point get that applies over here it is
within all methods of the class circle
now the problem is this now the circle
has one Gator and one setter so no
matter whether the Gator runs or the
setter runs this advice will get
executed now look at what I'm printing
over here I'm printing that a get method
is quad so this message get method
called message will get printed even if
a center is run I wouldn't want that so
how would I modify this logging advice
to print a message depending on which
method actually triggered the advice now
if a gator is run
I wanted the get message to be printed
and now if a setter is run I want the
message to say here sitter has been run
now how would I do that I do that by
actually using what is called as a join
point now this advice method that I've
written over here is an org vise it does
not take any arguments now I can write
an argument over here I can specify an
argument called as a join point
join point is something I need to import
from our gasping Qi Lang now a join
point has information about the actual
method call that triggered this advice
now if I write an advice with a join
point as an argument
spring is automatically going to pass
this information to me spring is going
to put that information inside a join
point object and it's going to pass it
to me I can use a join point object over
here to get information about what was
the method that actually triggered the
call and then of course this is going to
be different for different methods now
when I get it is called this join point
will have information about the Gator if
a setter is coiled in the join point
will have information about the sitter
and if some other method is called for
that method the join point will contain
the necessary information so what is a
join point actually drawing point there
is a Opie terminology and just like
other GOP terminologies is not very
intuitive but once you get a hang of it
it'll it will be very clear now join
point means all the places in your code
where you can apply advice now what do I
mean by that isn't advice applied to
methods yes advice is applied to methods
and as far as spring Europe is concerned
if you're doing a Opie in spring you can
apply advice only to methods and only
methods are joint points and joint
points are only methods so it's a it's
synonymous but then if you're using say
a spec G you can apply advice to a few
other things say in my circle class I
want an advice to run when the name
member Vita bill changes I'm not talking
about just a sitter
even if you change the name member
variable without using the sitter you
would want a joint you would want an
advice to run and that's not possible
using spring yippee but if you're using
a spec J you can actually configure
point cut so that an advice runs for
member variable updates for example so
for such scenarios it makes sense to
have a domino G called join point and
then what it describes but then as far
as spring AOP is concerned join points
me
all possible places in which you can
apply advice and the possible places in
which can apply advice and spring is
just method name so when you think of
joint points you think of methods so so
what does this mean here so joint point
here which is an argument that spring
passes whenever an advice is run
contains information about the method
it's as simple as that so I can use this
joint point object to get information
about the method that triggered this now
let me use that here instead of printing
out a static message what I'll do for
starters is I will just print join point
dot to string join point has a tostring
implementation that just prints out the
method details now let's see what
happens when I and this so here you can
see it's printed out the information
about the join point as a string so this
is the tostring implementation of the
joint point is provided so as you can
see you know that it's a joint point
that's executed on the execution of a
method ethics that returns a string the
method is of the class circle the method
name is get name and does not take any
arguments so there's a very handy thing
one really useful method of the joint
point is the to target so quickly
discuss glad there's a get target sorry
a get target method there's something
that is very handy so what this does is
it gives us the object whose method was
called and that method triggered this
advice so let's say I have a circle
object and I call the method off the
circle object and that triggers this
advice I can actually get a handle to
that circle object itself so I can run
methods on top of it I can make changes
so I have control over that object
itself now I can actually run this it's
going to just give me a to a string of
that object so here you can see it's a
closed string of the object but the
really powerful you
of this is if you get hold of that
object say I call the circle equals and
I'll cast this into a circle join point
get target now I can actually use the
circle cause I have to import this I can
actually use the circle object inside my
advice method so this is the something
that's really handy so there are few
other methods of the join point that you
can use I'm not going to cover that but
you can always look that up
apart from this join point there is one
more important use of advice arguments
and that's something that we're going to
look at next let's say I have a point
cut for all the methods that they can
let's say a string as an argument now
the way I do that is by using the
expression I'll use arc so here let's
say arcs and this has to be within
quotes so I'm looking at string
documents so this point cut expression
is going to apply the advice to all
methods that take a single string
argument so I will write a small advice
here public void just some name to my
advice and I'll just print out something
here let's say method that takes string
arguments as called so just to make sure
this works fine what I'll do is I'll
just call the setter on my on my circles
well this ch3 service dot get get circle
dot get name and sorry
certainly because we are trying to call
the setter here so let's set name and I
will pass a dummy name over here so
sorry for the typo here now let's see if
this calls the advice over there well
yes it does call the advice and then
that advice runs but now what I want to
do here is I actually want to know what
is the argument that's passed now if we
know that it returns it's passing a
string as an argument we know that this
method runs only for methods that take
in a string as an argument now what if I
want to get the value of that string
itself so what I do is I define the name
over here so let's say I call this name
now what I can actually do is I can use
that name as the parameter over here so
we're doing two things here by
specifying this not only are we telling
spring that we need the argument that's
passed to the target method the same
argument needs to be passed to the
advice not only are we telling spring
that we are also telling spring that
this argument is of type string so we're
actually providing the same information
that we provided earlier when we had a
string over here but what we are
actually doing is we are also giving it
a name and then we're using that name in
our method advice so that spring knows
that that value needs to be passed now
that we have this the value over here I
can actually use that in my advice again
I'll just use it to print it out but
then this feature can be used in
multiple ways in order to get the handle
of the argument itself so say you want
to run some pre-processing on your
method so your method takes in a few
parameters and you want to apply some
advise that does some processing before
your actual method runs you can get
ahold of those argument
and you can use that in your advice and
again I'll just use this to print it
over here now let's run we should get
whatever is being passed over here we
are getting the dummy name which is
passed over here now this advice has
that dummy name value passed to the
advice and then I'm print that out over
here let's run and see that in action
whether you can see the value that is
passed this is accessible to the advice
so this is these are some of the more
common ways in which you would use
arguments for your advice methods so
hope this was helpful</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>