<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSPs and Servlets Tutorial 16 Part 3- Using Model object in the MVC Application | Coder Coacher - Coaching Coders</title><meta content="JSPs and Servlets Tutorial 16 Part 3- Using Model object in the MVC Application - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSPs and Servlets Tutorial 16 Part 3- Using Model object in the MVC Application</b></h2><h5 class="post__date">2011-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WxeY-LxMIbE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in a previous tutorial we wrote a login
application to try and implement the MVC
pattern the login application had a
controller servlet we call it the login
servlet and it had a business service we
called it the login service and it had
views the login page and the success
page so the login servlet would take the
user ID and the password from the login
JSP page and pass on the user ID and
password to the login service business
service and the business service would
return a value of true or false
depending on whether it found the
password valid or not
now if the password was found valid in
the business service return the value of
true then the login servlet redirected
the user to a success dot JSP page and
if the result was false in the
authentication then the login servlet
redirected the user to a login page
again now we are going to make a couple
of changes to this application in this
tutorial and we'll learn a couple of
things along the way the first change
that I'm planning to make here is to the
success towards ASP now if you look at
the success tour JSP it just has a login
successful message I would like to have
a more customized message here I would
like to print the user name along with
the login successful message I would
like to have a greeting message it's a
simple message but I just want to
display the user name here and let's
start with this for now now what what
does what does it take to print the user
name here
first of all we do not have the user
data in a database anywhere so we only
go to our business service even our
password authentication was a dummy
method so we will have to implement
another dummy method to actually get the
user name now this is dummy method will
probably take in the user ID as one of
the parameters I think that's your only
parameter we need we'll take the user ID
as a parameter and we will return the
user name I'm planning to use you know
hashmap and initialize some users and
you know when it accepts user ID and the
user ID is one of the initialized users
it'll pull up the corresponding user
name and then return it now what are the
changes I have to make first I need to
implement that method over here I
probably I get username method in the
business service and once I do that in
the login servlet now I make sure that
the login a successful and then after
the login is found successful I will
have to call this method to get the user
name and pass it on to the success to
our JSP why does the login servlet have
to do that because the login servlet is
the controller it's the job of the
controller to call the methods in the
business service and get the results and
the controller's job is also to pass on
the result so that it's available to the
view the successor of JSP in this case
so that'll be the second part of the
problem we're trying to solve here let's
go to the first part which is to
actually implement the method in the
business service and then use the
controller to access that method so I'll
write my method here so this will be a
public string get user name and it will
take the user ID as parameter
now let me initialize some data here so
that we are so that we are able to send
some username so I'll have a constructor
here and in this constructor I'll
initialize a hashmap
I have told this before but let me tell
again this is something that you would
use a database for in a real world
scenario since we are learning MVC I'm
implementing a dummy business service so
I will have a hashmap defined here
okay I have the list of users available
here import this okay just some three
users that I have I've just initialized
here okay now eclipse is throwing these
warnings because I have a gender cache
map let me put the value since we know
both are strings let's add this which is
a good idea anyway
okay so now we have a hash map in place
with three users that I have added in
the constructor now all I need to do is
in this gate username I need to take the
user ID and pull out the value of the
name the actual object inside this hash
map based on the user ID now the user ID
could be one of these three and I just
need to pull up the username for that so
that's a very simple implementation I
just say users dot get the key use the
user ID and this is what I need to
return
so our business service implementation
is ready now we have the list of users
which we have prefilled we have exceeded
data here and I'm just pulling out the
name for the user ID that has been
passed now this is fine but let me make
another change here the reason why I'm
making this change is this now we have a
get username method now let's say we
have a few other details of the user
like maybe the date of birth or you know
the address phone number it could it
could be anything depending on the
application now it is okay to make I
it's okay to have different methods for
pulling out all those data we could have
a get use a phone number and get user
address but the best practice is
actually to have a common method and
return something called as a user object
so we create an object which contains
all this user data and we can have a
common method called the get user
details which takes the user ID and then
returns the user object with those data
pre-populated in it now let me make that
change here so that you know we can see
how that works as well now instead of
pass instead of returning a string here
I will return what is called as a user
object now I need to create this user
object I need to create this class now
let me create the class here again right
click new class
I call this the DTU and I'll explain
what that means in a minute user finish
now this user could have a private
string username private string user ID
and a few other details I'll just leave
only these two for now now the reason
why I'm making this private is that I
wanted to be a proper Java Bean so I
will have getters and setters here so I
will just go to source generate getters
and setters will have getters and
setters for both of them okay now save
this - all I need to do is I need to
import that class here Eclipse helps us
to do that make sure you choose the user
of the package that you've created okay
now I cannot return just this I need to
return the user object so let me create
a user object and I will use the setter
instead of actually using the values I
need to because I have declared the
fields as private set user name as users
dot get off user ID so I am pulling up
this value from the hashmap and I am
passing this to the set user name of the
user object so the user object that we
create here will have the user name set
properly I I will of course also set the
user ID I don't have to do that because
I don't plan to use that later but it's
a good idea to set it anyway set the
user ID as the user ID the one that have
passed here
so now we have the user object ready
with the values filled now I'm ready to
return this now I will return the user
object of course I will have to change
the method name here because it's no
longer a user name let's get user
details okay now again the beauty of
this is say you add a new field to the
user say you want to add a new phone
number or if you already have a phone
number you want to have a work number
and a home number so in that case you
would not have to go and write a new
method here all you need to do is to add
the corresponding value into the user
object here and you don't have to change
the signature the signature would still
be the user object you just have to add
the field in the corresponding user
object and you are done so this is the
advantage of having this kind of an
object that's passed across from the
business service to the controller and
this object is what we called as the
model in our earlier explanation so in
this case this is the business service
method and the module happens to be just
a boolean but in this case this is again
another business service method that
you're going to call from the controller
and the model is actually the object
that we're going to pass and this object
in an you know in a real world scenario
comes from the database now we have the
business service implemented now let's
use that inside the servlet now if the
result is successful now if the
authentication is successful then I need
to get the user details from the
business service so I will call this
method now I'll again use a login
service get user details and I will pass
the user ID now this I need to save with
somewhere so I will create a new user
object here
capture the return value now I need to
import the user class here as well and
yes we are done so now we have you know
the controller calling the business
service and then taking the you know the
return type where is a model here which
is the user object it's capturing this
model inside its own variable and then
now we have this first part of the
problem resolved now this first link is
done now to the second link the
controller has to pass this model to the
view so what's going to happen is in our
success tour JSP we need to get this
user object and we need to print the
user name from this user object now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>