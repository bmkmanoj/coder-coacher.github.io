<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 18 - Introduction to Annotations and the Required Annotation | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 18 - Introduction to Annotations and the Required Annotation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 18 - Introduction to Annotations and the Required Annotation</b></h2><h5 class="post__date">2011-07-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Fs_IoEGSP-A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial the
previous tutorials we've seen how to
configure spring beans using the spring
XML you write all the bean definitions
in your XML and you can define
dependencies between beans and you can
also instantiate new beans by doing a
get bean of a bean that's defined in the
XML in this tutorial we're going to look
at the second way in which we can
configure the spring beans and the
dependency routing this is by using
annotations spring provides support for
annotation based container configuration
and there are quite a few annotations
which cover most of what we need to do
when it comes to configuring beans in
this tutorial we're going to look at one
of them the one of the simplest of them
which is the required annotation so
let's start off with looking at what we
have right now we have a shape object
that we are getting from the spring XML
and then we're doing a shape door drop
and in our spring XML we have defined a
circle to be a bean off glass circle and
a circle is just a class with a single
point and it has a draw method that
prints out that it's actually drawing a
circle so actually what's happening here
is you're drawing a circle by getting
the circle bean and then calling the
draw method of the circle so we will
explore what the required annotation
helps us with in the first place and
then we look at how we can actually
implement it now take a look at this in
the bean I have a property called a
center which is referring to a point a
so I have a point object I have a point
being here and then I'm assigning it to
the center member variable of the circle
class so this has a center and I'm
assigning it to that and then in my draw
method I'm printing out the point itself
so if I run this class as it is right
now I'm going to get a
print statement here and it says the
point is zero zero because that's how
the writing is happening here now what
happens if I remove this property diag
over here now let's say I delete this so
what's going to happen is the beam
definition is here I have a beam coiled
circle but it does not have any
dependency specified in the spring XML
and here this property here this
property center will not be assigned a
value when the drama that is called
obviously it's going to give me a null
pointer exception now let's run this and
see that's what's happening well there
you go you have a null pointer exception
in the draw method as you can see here
now we have a very simple application
here so this is the only line of code
that is using the beam that we getting
so we know that there is a null pointer
exception that's coming out of this but
if you take a real-world application
that has thousands and thousands of
lines of code you might you never know
when you might encounter a run runtime
exception like the null pointer
exception might have an application
deployed and then days down the line you
might encounter a null pointer exception
because one of the dependencies were not
met now let's say you want to validate
that all the dependencies are met out
the required dependencies are met then
you can use the required annotation for
that purpose of let's say in my circle
class I want to let spring know that the
center point over here is required I
need to make sure that there is some
kind of a beam wiring so that Center is
not null when the application runs when
spring is initializing all these beans
I want spring to validate that there is
some bean that gets assigned to this
center member variable so in order to do
that what I do is I configure this class
and tell spring that this is a required
member variable I can do that on the
setter I say that this setter is
required the setter has to be run which
means that some value has to be assigned
to
Center member variable when the beam is
being initialized and if it's not there
then through an exception I don't want
the exception to happen then the
application code is executing and it's
using this member variable and then come
up with a null pointer exception
I want the exception to be thrown when
the application is being initialized
itself so like so that I can catch all
these errors up front so in order to
tell spring that this is a required
dependency I use the annotation at
required now I will import this from our
experience factory annotation okay so
now this tel spring that this is a
required member variable and if this
dependency is not satisfied spring will
not proceed with the execution of the
application it's going to throw an
exception let's save this now in
addition to marking this as required and
this can be any number of classes they
have 100 classes in my application I can
mark all the required member variables
of each of those classes with this
required annotation and that should do
the trick but the only other thing that
I'll have to do is I will have to
declare a bean post processor in the
spring XML Y bean post processor because
it is actually a bean boost processor
that's doing this validation in the
backend so what's happening the spring
has provided us with a bean post
processor that comes out of the box and
that helps us to validate all these
required annotations so what that bean
processor does is when all the beans are
being instantiated it checks for these
required annotations and if it finds a
required annotation that's not met and
then the bean post processor is the one
that's actually throwing an exception
and as we have seen earlier all we need
to do to use a bean post processor is to
define the bean in the spring XML so
let's do that here and I'll have a bean
dag
class equals I need to put the entire
package name and the class name of the
required annotation pin post processor
and the required annotation beam post
processor is actually over here now if
you open the beans jar you have factory
over here factory annotation so you have
this in the arc spring framework beans
factory and addiction package so you see
here you have a required annotation bean
post processor so this is the class that
I will have to mention over here so let
me type the whole thing here org dot
spring framework soy bean start by three
dot annotation dot required annotation
beam post processor and that's it so
this bean post processor has a method
that gets executed on initialization of
each of these beans and that method will
check for the required annotation on all
these on all these classes and then if
it sees a required annotation that's not
met a dependency that's not met then
it's going to throw an exception so we
save this now we are all set if we run
this now we should not get an error in
the shape draw method what should happen
is when the beam is being initialized
itself we need to get the exception
thrown by spring so let's run this again
notice that again I do not have a
dependency for the circle but the circle
is using that Center in the draw method
and I'm doing a shaped or draw earlier
this was the one which gave a null
pointer exception but this time you can
see here the error is coming up in the
bean initialization phase property
Center is required for circle so this is
getting caught much before the code
execution this is getting called while
the beans are being initialized and this
is helpful to make sure that all I
required dependencies are met you can
use this you know in any class where you
want to make sure that the dependencies
are met and you want to catch all these
errors and be inviting much before the
code executes and throws a runtime
exception so that's what's happening
here we have a bean post processor
that's actually checking for annotations
and this is the annotation that's
actually looking for so there are a lot
of other annotations we have looked at
one of the very simple annotations here
there are a lot of annotations that help
us to configure the whole you know
wiring and the dependencies and all this
is happening through being post
processors so this again a first
high-level look we look at how we can
refine this configuration and also look
at some of the other configurations in
the subsequent tutorials</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>