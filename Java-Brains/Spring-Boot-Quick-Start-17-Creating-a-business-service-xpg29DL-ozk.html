<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Boot Quick Start 17 - Creating a business service | Coder Coacher - Coaching Coders</title><meta content="Spring Boot Quick Start 17 - Creating a business service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Boot Quick Start 17 - Creating a business service</b></h2><h5 class="post__date">2016-12-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xpg29DL-ozk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay let's start building the topic
api's we already have a get mapped to
slash topics that we built in unit 1 and
we got this method executed when you did
I get request to slash topics and what
this method does is just creates a new
list and sends it back so you're
creating pretty much a new list for a
read request what I'm going to do in
this tutorial is move this over to a
separate business service so that there
is just one list and then every time
there is a request that comes in that
list itself is sent rather than creating
a new list every time this is not really
a change to the API itself but I'm going
to introduce you to the concept of
business services and spring now how do
you create a business service you start
with a simple Java class so I'm going to
go to the topic package and I'm going to
create a new Java class called topic
service and now I want this to be a
business service now what do I mean by a
business service in spring business
services are typically Singleton's then
the application starts up spring creates
an instance of this service and then it
keeps that in its memory right it
registers that instance and you can have
other classes and other services or
other controllers which depend on this
right it declares a dependency and say
hey spring I need that service and then
spring knows that this is an instance
that it's created and it's going to
inject it to those different classes now
how do i declare that this is a business
service how do I tell spring that this
needs to be a business service I do that
by using an annotation called add
service so this act service is what's
called a stereotyped annotation so if I
import this you can see it's argh Spring
Framework stereotype this is something
that marks this class as a spring
business service and when the
application starts up again like I said
it's going to detect in the class path
all the classes which have this ad
service annotation is going to create an
instance of all those classes it's going
to register it right it's going to make
a note of it and now in any other class
let's say in the topic controller you
want an instance of that so
it's not going to create a new instance
every time like I said it's a singleton
it's needs the instance that spring
created how do you ask spring for that
you ask for it by first creating a
private member variable private topic
service topic service right so I have
this private variable and now I need to
tell spring to inject it because
remember who is initializing this topic
controller class you've written this
class here radio marketers rest
controller now who's saying new topic
controller you're not doing that it's
actually spring which is doing it so
when spring creates an instance of this
class it's also going to look at all the
member variables and see if any of them
has a dependency two topic service and
then it's going to inject that now how
do you declare the dependency you
declare the dependency by another
annotation we just call that Auto wire
now at Auto wire is again spring
annotation which marks this as something
that needs dependency injection now
what's going to happen is these are the
two classes in the class path right
spring is going to look at this and say
okay this is a service creates a new
instance and registers it and now it
says okay this is a rest controller
creates a new instance and when it
creates an instance it sees there is an
auto wire annotation to the topic
service it looks at its registry and
sees if there is an instance of traffic
service that was already created well
it's created from this there's going to
take that instance and inject it to this
so when you write your methods in your
controller you can rest assure that
there is an instance of topic service
that's available for you all right
now what I'm going to do is move this
over to the topic service I'm going to
have a member variable here
I'm going to call it topics and this is
going to be from Java dot util so have a
static initialization block which
initializes topics to be this list and
then what I can do is create a method
here say public which just returns this
list of topics so you have one copy of
the stop eccleston you're not creating a
new one every time and now in my topic
controller I can call that method topic
service dot get all topics alright so
this when the request comes in to slash
topics if it's a get request it's going
to call the service call the method on
that service this method is going to
return this list which is already being
created and again this is initialized
just once so there is only one copy of
this list all right so let's run this
and make sure everything still works
fine so if I were to access localhost
8080 slash to fix I'm gonna get all the
topics like I should but now what's
happened is it's moved over to a service
this is important because we're going to
be making changes to this list and we're
going to be adding topics removing
topics so it's handy to have it as a
separate list in the next tutorial we're
going to be implementing a get request
to an individual topic and then say
topic slash spring and I want to get
just this topic instance will implement
that in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>