<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 1 Services In-Depth 9 - Creating and using Services | Coder Coacher - Coaching Coders</title><meta content="Angular 1 Services In-Depth 9 - Creating and using Services - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 1 Services In-Depth 9 - Creating and using Services</b></h2><h5 class="post__date">2016-10-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ehjNEtbYNpA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">before we wrap up this unit I want to
quickly do some changes and some
housecleaning so that we can leverage
some of the things we've learned in this
unit we're gonna be building a couple of
services and we're gonna be cleaning the
core lab so that we don't have
everything in just one file
the typical best practice is to have a
separate JavaScript file for each
element each entity in your angular
application so for instance we have a
controller the best practices have a
separate JavaScript file file that
controller similarly a service calls for
a separate JavaScript file for the
service so we're gonna be implementing
this as a best practice in this tutorial
and we're gonna move some of this logic
into those files and into those services
I'm gonna start with the app value
service Franks I'm gonna have this it's
just one line I know that's still
there's a value in having that be a
separate service so I'm gonna say this
is the app name dot service GS again
this is a best practice where you have
the name of the file denote what kind of
entity it is right so here it is a
service so I've created a separate file
for it but the name service dart GS so
I'm gonna be if this over here now how
do I get hold up this tab here I was
creating this and I had the app variable
as an object over here it was the
angular module now how do I get hold of
this over here well we can do that using
the alternative syntax to get the module
which is basically observe module
without the second argument now with
this I have the app and I'm setting the
value on top of it and that's all that
this service file does it just gets the
app and sets the value now the other
thing I want to do is wrap this inside
nfe if you're not familiar with it is to
prevent these global variables from
leaking out into the global namespace in
JavaScript scopes are function based so
in order to restrict a variable to a
particular scope rather than have a
bunch of different Global's you create a
temporary function which wraps this up
if you're not familiar with if he at all
I highly recommend you to look at
JavaScript for developers course or in
Java brains or you can look it up on
it's a fairly simple concept ready wrap
something a piece of code in a function
and execute it immediately and the
syntax goes something like this I have a
function which encompasses the code and
then I'm going to execute this function
immediately all right so this is an Fe
now by doing this I have essentially
restricted the scope to this one file so
I'm going to do this for a couple more
services so I did this for the app name
service I'm going to remove the factory
because we don't really need a factory
it just going to retain the service
started up clean this up and take this
out well these two into a separate file
I'm gonna call this app config dot
service j s and this is gonna be inside
NF e 2 and since this is a just a simple
function I'm going to do this in line
rather than have a separate named
function for it all right
now I'm going to take this out and get
the app using the similar approach just
us and then again wrapped us in a fee
which is basically a function around us
and then wrap this function in
parentheses and then execute it and it's
an immediately invoked function
expression that's what if he is
okay we're done with the app.config
service next we're going to remove the
contact controller and make that as a
separate file as well and get rid of the
header and the footer controller they
were like I said just for illustrative
purposes so I'm going to take this cord
controller I'm gonna create a separate
file for this so this is going to be the
contact that controller is just realize
we move it outside the directory needs
to be inside the directory it's this
here this is the whole controller I'm
gonna get the app using the same thing
so essentially what I'm doing is just
putting this up into multiple files but
at the same functionality more or less
and I'm gonna grab this in an Effie as
well
keep this and then a little bit and we
have another controller another entity
in its own file now since all those
things have been removed after Jace is
actually fairly lightweight right all
I'm doing in-app purchases initializing
the module you can have something that's
global over here for the application of
course but more or less it's it's fairly
light and all these different entities
have the corresponding logic I'm going
to go to index dot HTML and remove the
header at the footer again like I said
it's for illustrative purposes so we
don't need that here now what I do need
to do is include all these different
scripts into my HTML because right now
I'm just linking apt RJ yes I'm gonna
have to link all those other files so
I'm going to do that so the first one is
that configure jas up configure service
which is sorry this one is half name dot
service which is just where this contact
that controller that J's
all right now let's see if this works
now refresh the page so we have the view
here and we're able to click to the
controller seems to work fine now here's
one more thing I want to do in the
controller I have this job contacts and
it's this huge list I don't want this
list to be in the controller I want to
take this out and create a separate
service for it and say this is a service
that gets the contact information by
making a REST API call if you haven't
covered the REST API call yet but we'll
get to it
but for now I want this hard-coded list
to exists not in the controller but in a
separate service so I'm going to create
that service here I'm gonna call this
contact data service you'll see contact
data dark service charge is you notice
the convention it's the name of the
service dot serviced rjs copy this over
just to get us started and I'm gonna
call this contact pika SVC and this is
going to be a function that just returns
the list of contacts now let's see this
dot contacts equals and it's going to be
that hard coded list of contacts which
I'm going to pull up from the controller
take this out and add it to the contact
data service now it's the service that
has this data and by nature of us
declaring it as a service what angular
is going to do is execute this function
as a constructor and what the object
that gets returned is gonna have a
property called contacts which has this
initialized list now what I need to do
is access this service in my controller
how do I tell angular to inject that
service I pass an argument and of this
service gets dependency injected and I
can access the contacts property by
doing something like this service dot
property which is this property over
here so now I'm injecting the service
which gets me all the data and I'm using
that data and setting it to the scope of
this controller so I have again broken
it out into a separate file this
hard-coded thing I don't need to do for
now let's refresh and it did not work
why because it's not able to find the
service guess what I missed
I created a new file or JavaScript file
but I forgot to add it to index dot HTML
adding that is important so I'm going to
add this file here this is
contact data dot service start GS with
that let's try this one more time well
it works and it will click on an entry
and see that users information so all
the data is still there is just that
it's getting it from a service rather
than it being in the controller all
right so to summarize what we did in
this video was break out some
functionality into its own files and
wrap them in a Nephi and then referenced
those files in index dot HTML this is
good practice this is something that's
recommended in production level
application the second thing we did was
to take the hard coded data in the
controller and move it to a separate
service and again this was the contact
data at service Sergius which returned
an object that had a property called
contacts which was this hard coded list
and the controller took that list from
that property and assigned it to the
start contacts like we did before but
rather than the list being available
here it's pulling it up from this
injected service all right so with this
we've done enough housecleaning work to
kind of set the stage for the next unit
where we're gonna be looking at REST API
we have this hard-coded list now we're
sure we don't like hard core atlas we
want to get this from an API is we're
gonna be looking at that in the next
unit</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>