<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>TypeScript Basics 29 - Calling service and troubleshooting errors | Coder Coacher - Coaching Coders</title><meta content="TypeScript Basics 29 - Calling service and troubleshooting errors - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>TypeScript Basics 29 - Calling service and troubleshooting errors</b></h2><h5 class="post__date">2018-02-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5hqzQKaHgj8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that I had the service class over
here what I'm going to do is switch over
to index 30s which is my main file and
here I'm going to create an instance of
that service and call the method in
order to create an instance of the
service first I'm going to import the
service and now I can create a new
instance of a class have the service and
I'm going to call the method get user
info and I'm gonna pass in my user ID
and ideally it should make that REST API
call and print something to the console
I do have a feeling that I might not
have all the headers ready so I'm just
gonna test this out and BM start yeah I
do get null back so I'm gonna have to
figure out what the what the error is so
how do to troubleshoot this what I'm
gonna do is use the other signature
where you know in a passing a function
to response start yet I'm just passing
in a response object I can pass in a
couple of other objects which capture
the error and the body so I'm gonna go
ahead and do that error is any response
is any and body is any as well and I'm
gonna print
those three alright run this again
and we get a matter so the body says
request forbidden by administrative
rules please make sure you request has a
user agent header so the github API
requires your requests to have a user
agent header so I need to add that
header to my request when I make the
request so this gets us back to using
the using the options over here so I'm
gonna go ahead and create an options but
the user agent and I'm just gonna make
this have the value of request really
doesn't matter the github API just
expects the request to have this header
over here so I'm gonna pass the options
as the second argument and let me change
this to print the body apparently the
response is null you're gonna just get
the body here and I'm gonna pass on the
error as well
all right and now I get a response so in
essence I was making two mistakes the
first was not passing in the options the
github API expects a request to have
headers so I passed that the second
mistake I was making was in printing out
the OP putting out the output so I was
just accepting one argument in this
function but turns out there is another
signature which takes in three arguments
and it's the third argument which
actually contains the result just the
output it's the body right so but these
two changes now I have the output
printed on the console now we're gonna
enhance this in order to make this more
reusable we don't want to just print
this to the console right we want to
create an object out of it and there we
want to use the classes that we have
created over here before we wind up and
move on to the next thing that we need
to do I want to highlight one thing you
see here the request start get and also
the output function over here they are
all kind of overloaded in the sense that
you have different behaviors happening
for different arguments and that there
was a couple of things that I I faced
over here in this video I wasn't using
the right signature I wasn't using the
right number of arguments and you might
be wondering what how is this possible
because we learn that JavaScript does
not do function overloading right you
don't have an option of creating
different functions with different
arguments and have the right function be
picked depending on the number of
arguments that you pass it's just one
function name right well the thing that
happens with a lot of these libraries
and something you can do in your code as
well even though javascript is not
allowing these different overloaded
functions U as a function author can
support it you can create a function
which examines the number of arguments
that is being passed and then do
different things based on the different
number of arguments and that's what a
lot of these libraries do and that's
what you can do as well so in a way you
as a developer can overcome the
limitation of the language not having
all audit functions right so that's
what's happening over here there is some
intelligent code in the request library
which looks at the number of arguments
and says okay if there are only two
arguments well the second argument
should be a function well if there are
three arguments the second argument
should be the options that I'm going to
use to modify the HTTP requests and the
third argument is going to be a function
so there's code written which does this
alright so the don't mistake this far
somehow JavaScript having overloading
out of the box it doesn't write the
language doesn't support it this is the
leonor the developers have written
around it they've written logic around</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>