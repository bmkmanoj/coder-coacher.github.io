<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java 8 Lambda Basics 22 - The foreach iteration | Coder Coacher - Coaching Coders</title><meta content="Java 8 Lambda Basics 22 - The foreach iteration - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java 8 Lambda Basics 22 - The foreach iteration</b></h2><h5 class="post__date">2016-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tfbmYBcq5CM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">one of the really cool new additions in
the Java 8 specification is the very
mushy loop or collections there are
different ways in which you can loop
over the collection there were a couple
of ways you could do it in Java 7 Java 8
introduces a whole new concept called
streams which let you iterate over
collections in a brand-new way and it
has a lot of advantages the biggest
advantage is you can kind of combine
that with lambdas and have really really
Express your programming I'm going to
give you an example of the looping that
I'm talking about by creating a new
class here I'm going to call it
collection iteration example then do
something I'm going to have a main
method on and here I'm gonna initialize
a simple people collection so this is
one something that we've been using all
along right so let's staff person
objects now how do you loop through this
list there are typically a couple of
standard listed were the first one is
the ever-popular for loop so you have a
for loop and let's say I want to print
this to the console and this is a
system.out.println people that get a 5
so this is going to print that
particular element to the console and
it's going to do this for every element
here this is using the for loop but
there is another way in which you can
loop through which is using the for each
loop that was a newer addition to the
language so the way to do that is to say
far and then person P in people what you
can do is system dot out dot println off
B now both these loops this first one
and the second one are both loops that
iterate over the people collection and
they print each four
I'm just going to run this to make sure
this works and here you see both these
loops result in these people getting
printed now here's a common thing about
both these loops and these are what are
called external iterators what I mean by
an external iterator
you're basically writing code to perform
this iteration imperatively
you're basically telling the compiler
that you want to iterate over this
you're controlling the iteration you're
writing code controlling the iteration
so here you say you're initializing an I
your single kit is very start and then
for each increment you're incrementing
it yourself and you are setting the end
point where the loop should end and
you're specifying what you need to do
for each element now here's the other
example for looping through where things
are a little bit simple you're not
maintaining an index but you are still
telling the compiler to do all these
things you're telling the runtime to do
all these things you're saying okay get
this per people and for each person in
there create a variable called P assign
it to that and then you are using that P
variable in order to perform an action
so these kind of iterations these two
methods are called external iterator in
the sense that you are managing the
iteration process you are controlling
this now what has been introduced in
Java eight is a new way of iterating
called internal iterators what happens
there is you're basically giving the
control to somebody else you're
basically telling the runtime hey I want
to iterate over this people list how the
iteration happens is really up to the
runtime you are not controlling it for
here you're basically saying I need to
start from here I need to end from here
I need to go in that order and even here
you're basically having a particular
order in which this thing executes so
you are controlling the iteration now
there is a third way to do this in Java
eight where you are not controlling the
iteration you're basically telling your
intent to iterate over this you're
basically telling the runtime here I
wanna iterate over this how the
iteration happens is up to the runtime
you
controlling it and the way to do that is
by calling a new method on each of these
collections so this is a new method
that's been introduced in Java 8 so
every collection like the people
collection over here which is a list has
a new method called for each the for
each is a method that takes in one
argument which is a consumer it's an
instance of consumer and it takes in a
person as a generic interface with
person so what you can pass to this is
actually a lambda expression so this is
the new way of executing an iteration
you're basically telling the interpreter
here for each element in this person I
want to execute a particular lambda
expression now how the lambda expression
gets executed for each person is really
up to the runtime you're not said
telling hey I wanna start from the
beginning and finish at the ending you
are not instructing how the loop should
be executed you're not instructing the
order in which it needs to happen you're
basically telling make sure that this
lambda executes for each and every
element in these people how that happens
it's not your concern right you're
basically telling the runtime to do this
now what you can do is pass that lambda
expression here and the runtime is going
to execute their land expression for
each of these elements how it does it
doesn't matter right so this is a new
way of doing things so let me create a
lambda expression which is the
equivalent of the system that order
println
so the lambda expression is going to be
something that takes in one input
argument which is the P that's the
person and then given that input
argument I want to run system dot out
dot println off e so this is the lambda
expression you're passing to the for
each so this is a consumer remember the
for each method takes in a consumer
because it needs to consume each
instance that the loop is going to go
through so whatever you pass through the
4-h is going to get called for each
element in people and then that element
is going to get passed to that lambda
expression so that's the element you're
catching over here now given an element
you want to execute some code which is
your system that ordered printed
P so this should work pretty much the
same as the other iterations if this
here using lambda for each and to
execute this here you see this is also
printing each and every element over
here so I let me change this to a far in
because this is kind of confusing when
you compare it with the far each over
here so this is what we used to refer to
or at least I used to refer to as for
each some people refer to as far in this
is the new for each loop in Java 8 as
you can see this is super crisp and
super easy to read you're basically
saying for each element here executes
this now since this is something that
can be substituted with a method
reference you can see there is an
element here and that element is simply
being pass through so this can be a
method reference going to change this to
system dot out dot println call us right
this will work just as whether ever to
execute this we're going to work just as
well so this is the new for each loop in
java 8 now why is this a big deal and
why am i talking about this in the
course on lambdas but this is a perfect
opportunity for us to use lambdas as you
can see i'm using a method reference
here to pass in a function and that
function is going to get executed for
the for each and again i want to
highlight the difference between these
external iterators and this internal
iterators now the difference in the
advantage of using something like this
is that this makes it very easy for the
processor to run in multiple threads
given that this is something that you
are controlling this is essentially
sequential right you've written all the
steps I starts from 0 I goes all the way
to you know people that size minus 1 and
for each step it is doing this so it is
essentially sequential this is also
sequential but the magic of this is
you're basically saying I don't care
about the order you just have to run
this for each and every element have you
run it is up to you
right so the
makes it possible for this loop to
execute in battle let's say you have to
processor course the runtime might say
okay I'm going to execute the method for
these three elements in the first score
and these two elements in the second
core that is perfectly possible so that
makes it possible to have
multi-threading and parallelism so this
doesn't necessarily execute this
function in parallel but you're
basically using a programming model that
is consistent for other operations which
can be executed in battle and that's the
whole point that whole advantage is
unlocked by this new approach</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>