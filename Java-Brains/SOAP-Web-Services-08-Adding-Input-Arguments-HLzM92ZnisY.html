<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SOAP Web Services 08 - Adding Input Arguments | Coder Coacher - Coaching Coders</title><meta content="SOAP Web Services 08 - Adding Input Arguments - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SOAP Web Services 08 - Adding Input Arguments</b></h2><h5 class="post__date">2013-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HLzM92ZnisY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the previous tutorial we created a
web service called the product catalog
service by annotating this class with
the add web service annotation and this
class had a method called get product
categories which returned a hard-coded
list of categories now I want to make a
few changes to this code the first
change that I want to do is to remove
this logic from this class and put it
into a business service class and I want
to make this web service class make a
call to the business of this class and
then get there get the values instead of
having the code here directly why would
I want to do that the reason is in a
real world application there are
different ways in which you want the
users to use the application right so it
would be an MVC layer so that the users
can use the application in their
browsers as a web application and it
could also be exposed as a web service
so that different other application
skins and soap requests and consume the
same data so the logic that produces the
data is the same but the ways in which
it's consumed could be different so what
you'd want to do is to have a
consolidated business service which
contains all the logic and then the
actual you know the other layer which is
the web service layer will actually make
a call to the business service and if
there is an MVC there the NBC layer also
makes a call to the same business
service so having a separate business
service helps us do that
so I'm going to remove this and put it
into a business service and this class
is going to make a call to the business
service so it's going to be something
like this so I'm going to create a
product service and then that product
service will have a get product
categories and then our web service
class is simply going to make a call to
that service and get the values ok now
let me go ahead and create a business
service called products service so I'm
going to create a new Java class and
create a package called business and
then I'm going to call this
products of a simple and finish right so
this class is going to contain all the
logic and our web service class is just
going to make a call like this to get
the values now in this class I'm going
to add the same method get product
categories which does the same thing fix
the imports here which does the same
thing but then the logic is now in this
class okay and oh here I'm going to
create a new instance of the products of
a simple and then this method is just
going to make a call to that instance
okay so this is exactly the same as what
was happening before but what's
happening now is this logic is now in
the products of a simple class let me
save these two okay
so I will not add a couple more web
service operations to this web service
so one or you know one feature that I
want to add is for people to submit the
category name right so the request will
contain the category name and then the
response will contain the products in
that category so you say give me all the
products with the category books and
then it should return the list of books
and give me all the products with
category movies or music it should
return the list of movies or music so
I'm going to again hard-code some values
over here so I'm going to add three
ArrayList
a list of books a list of music in a
list of movies and I'm going to
initialize it when the class initializes
right so this is the hard-coded way in a
real world application it would probably
read from a database with something like
that so now I'm going to create a
constructor a products of a simple
constructor and here I'm going to
initialize some set of books music and
movies so I'm going to initialize the
book list with three books here I'm
going to initialize the list of music
with three music albums and then I'm
going to initialize a list of movies
with three movies okay and now what I'm
going to do is I'm going to create a
method called get products and it takes
an argument as the categories so I'm
going to have a method like this a get
products wizard
a list of strings and it accepts a
category and I'm going to do a switch
and based on the category itself if it's
books music or movies I'm just returning
the corresponding you know list so I'm
going to if it's books I'm returning a
book list if it's music the musical a
set of movies the movie list and if it's
none of them had it all not okay so this
is a you know a new business service
method I've added and now I want to
expose this business service also as a
web service so all I need to do here is
to create a new method right like we
discussed before every public method in
this class is going to be exposed as a
web service operation so all I need to
do here is to create a method like this
right I return
you know I have a get products which
takes in a category and then all it does
is it just returns the response you know
it just returns the result of the
business service right so this is all I
need to do of course I could call this
as add web method but it's not really
required right any public is always
going to be exposes of head method okay
so let's test this out I'm going to
deploy this on the server let's say run
as run on server and of course verify
that the application is deployed fine
and then I'm going to go to the admin
console
and here to the applications same as
before have test Mart here and if I view
the end point there's still going to be
just one end point but there should be
two operations now if I go to the tester
link now you see our get products
operation is also over here and like I
said if it's an operation that requires
an input the tester page is going to
show us a text box right so if I do a
get product categories it's going to
return books music in movies but let's
say now I want to see all the books
right I just type it here and then make
a call so it's going to return me the
list of books but then what's actually
happening is it's making a soap request
and it's passing the value that I
entered in the text box and then this is
the soap response right so this works
just as we expect going to try music
also and there you go it works as we
expect so this is you know an example of
taking an input input argument you don't
really have to do anything right so it
just knows that this this web service
operation requires an input argument and
how does it know that it knows that
because the method in the class
annotated with that web service takes in
an input argument so it knows that the
web service operation also needs this
input argument so it the tester
automatically provides a text box and
then the visible will automatically have
the values for you know indicating that
this needs an input argument okay so I'm
going to add one more method here I'm
going to create an ADD method this time
right I want to add a value I want to
add a product into this product list
right so let's say I take in two
parameters one parameter is the category
and one parameter is the actual product
name right so I pass in say books and I
given a book name then it should add to
this book list right if I pass in music
as a category and give it a either name
should add to the music list right so
I'm going to implement that here so I
write a method called add product takes
in the category and also the product
name and it returns a boolean which is
like true if it's successful and I'm
going to have the switch again right if
it's books then I add it to the book
list if it's music added to the music
list and if it's movies I add it to the
movie list and then if it's the default
if it's none of those three categories
it just returns false but otherwise it
returns true ok now again back to the
product catalog now I need to write a
method here which uses the business
service so that it's exposed as a web
service and as you can imagine this
method is also pretty straightforward
it just has an ADD product mix in these
two parameters and it just blindly sends
it to the business hours and then takes
the response and returns it back ok so
these three are now the three web
methods of course you can annotate it if
you want let me go ahead and annotate it
anyway but this is not required
ok now let's apply this one more time
run on server okay so this page
indicates that the deployment is
successful I'm going to go back to the
applications view endpoint and I'm going
to go to the tester link directly and if
you notice now there are three
operations there are three different
methods so again I can do a get product
categories and return the categories and
let me get all the books okay it returns
all the books now I'm going to add a
book ok so I'm going to say the category
is books and I want to add let's say a
Java brains book so I click add product
I would returns true so it's actually
added this value now what happens if I
retrieve the books retrieve the books
notice that the Java brains book has
also been added to the list ok now this
tells us something then what does it
tell us it tells us that this
initialization happens only once right
so that's because it's the same instance
of the product catalog which is used for
every call so no matter how many web
service calls you make it's actually
calling methods of the same product
catalog instance because if there were
different instances every time you do an
ADD and then you make a retrieve again
if it for a new instance you would not
see the value that you've added so I
added a Java branes book and then when I
retrieve the list of books it was still
there which means that it's actually
working on the same instance ok so I'm
not going to discuss the lifecycle of
this class at this point of time it's
it's kind of you know a topic for later
but just keep this in the back of your
mind right every web service call you
make is actually working on the same
instance in this case ok so this is kind
of we've we've covered a few methods
here we've
covered a retrieve method we've also
covered a write method right we were
able to make an addition to the existing
list right so we have covered these two
kinds of methods and now at this point
of time you might be wondering if
everything is so simple right if
everything is happening just because of
this one annotation what's the big deal
about web services what else is there to
learn well there are a lot of things
you'll have to learn which are kind of
taken care of by default this is for a
very simplistic scenario this is if if
you're doing something very basic this
would work but then there are a whole
lot of scenarios where just annotating
add web service would not work for web
services so we're going to take a look
at some of these scenarios in the next
tutorial
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>