<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Thinking in Angular1 28 - Watch Me Code The Calculator App | Coder Coacher - Coaching Coders</title><meta content="Thinking in Angular1 28 - Watch Me Code The Calculator App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Thinking in Angular1 28 - Watch Me Code The Calculator App</b></h2><h5 class="post__date">2016-09-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xwvkzinom7Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right let's start building our
calculator up I have created a directory
here called
calculator app and it has the same
structure that we've been looking at so
far we have an index.html which links to
the angularjs script as well as the
abduction
there's really nothing in the body
except for the simple h1 apt rjs is
currently empty
right it's as close to a blank slate as
we want to get for this exercise and I
have this page open in the browser this
index dot HTML and disease you know you
can see this h1 over here now what I'm
going to do is start building an angular
application so I go here and start this
application by creating a module writes
angular dot module and I'm going to call
this calculator app and I have an empty
array as the second argument I'm going
to save this and I go to the index.html
and I say ng - app equals then I give it
the name calculator app alright so now I
have an angular app with an ng app and
angular module the next thing I want to
do is create a div which is going to
contain the view section off the
calculator app so I'm going to do it
just below the h1 I have a div and this
is going to contain all the view
elements or our calculator so what are
the view elements we're going to need
two text boxes with some space in
between for the operations shouldn't
have an input tag over here so there are
two inputs we have a span in between
which is going to contain the space it
doesn't have anything right now but
let's fill that up later so I have two
inputs and I have a span now what I also
need are four buttons so I'm going to
have a paragraph tag here and I'm going
to create those four buttons I'm going
to have text choose operation and then
create four buttons one for each
operation plus minus an asterisk for
multiplication and slash for division
I'm going to close the paragraph time so
let's refresh this page and see this in
action so I have two text boxes there is
some space in between which is not valid
so you don't see anything and I have
four buttons for the four operations
okay I'm also going to create one more
button for the results so I have a
button over here I have an equals so
that when you're done you can press
equals and see the result over here I'm
going to create the result textbox a
little bit later but for now this should
do these are the UI elements and notice
that what we've done here is we've
created the UI elements without having
to worry about the Java Script I mean we
haven't written any JavaScript code yet
except for initializing the app and so
let's do that now we're gonna start with
a controller this div contains all the
UI so this is actually a perfect place
for us to use an NG controller and have
ng-controller equals let me just call it
calculator ctrl and we've learned how to
use the controller as syntax so I'm
going to use the controller as and give
it an alias called ctrl this is probably
going to be the only controller in this
page and you don't really have the
problems of having multiple controllers
and try to figure out which scope is
getting looked up but still even with
just one controller like I mentioned
this is the way to go always make sure
you use the controller s in that all
right so now I have the controller as
syntax over here now I need to create
this controller so I'm going to go to
app touch is honestly app dot controller
and the first argument is the name of
the controller the second argument is
the function
so I'm going to create this function
calculator controller which I'm going to
leave as I'm different now I don't have
to inject the dollar scope because I use
the distance since I'm using the
controller as syntax so I can use the
distance over here to actually get the
scope all right so let's do that next
now that we have a controller what I'm
going to do next is hold on to the user
input there are a bunch of input
elements over here you have text boxes
and you have buttons first let's start
with the text boxes and the user enters
something in these text boxes I want to
save them as properties off the scope
like I need to hold on to them in this
scope now how do I do that you already
know when it comes to text boxes the way
to hold on to them in the scope a scope
properties is by using ng module so I'm
going to create ng module detectives
over here
ng model I'm going to call this input
one and for this ng model three input
two and just for verification what I'm
going to do is I'm going to have a
couple of scriptlets over here input one
and then input to show that I know that
this is working of course I need to make
sure this is inside the controller div
if I put that outside it's not going to
work because just input one and input
two are going to be in the controller
what I'll also need to do is since I'm
using the controller as syntax I need to
have this prefix so I need to pack I
need to say this is ctrl dot input one
ctrl dot input two and then the
expressions are going to be the same I
need to specify the alias every time I
use the scope property all right now
let's make sure this works i refresh the
page and as I type in the numbers they
do show up over here so this is good we
have the user input in those text boxes
captured as
scope properties next what I want to do
is be able to fill in this value between
them depending on what part and I choose
over here right if I click plus I want
plus to show up over here if I click - I
want - to show up over here how do I do
this in angular we don't directly update
the view like we've already discussed we
always operate on the model we always
operate on the scope object and its
properties and then you link the scope
properties to the view and then once the
scope property changes the view gets
updated so rather than have these
buttons trigger some kind of a function
which fetches the span and updates it
what we should I really do is have the
span bound to a scope property like
selected operation and then when these
buttons are clicked you just go and
update that scope property let's do that
now so I'm going to have n ng bind
equals ctrl dot selected operation right
now if I were to refresh the page let's
make sure I've saved this as well right
um if i refresh the page there is really
nothing in selected operation so nothing
shows up but we can populate it how do i
populated aren't clicking of these
buttons I basically need to hook in an
action when these buttons are clicked
let's start with the plus right so when
a plus is clicked I want + to show up
over here so what I'm going to do is for
the plus button I'm going to have an
ng-click event which points to a method
right plus button click for example
right now I need to create this method
in the controller so I'm going to say
this dot plus button clicked is going to
be a function where what I'm going to do
is I'm going to update the property
that's backing this span what's the
property that's back in span it is
selected operation so when I update
selected operation in this method the
button clicked calls this method so if I
were to update this dot selected
operation
equals let's make this Plus right if I
were to update this then what's going to
happen is thanks to this ng bayan this
fan is automatically going to get the
value plus right let's check that now I
click plus you see that that
automatically shows up that's because
when I click the button ng click gets
triggered plus button click gets
triggered and the plus button click
basically calls a function which is
updating the selected operation now I
need to do the same thing for all these
other buttons I could of course have a
minus button click that I have a
starboard and click the / buttons like a
graph for different functions it's
actually easier to just have one
function have these different buttons
pass whatever the character is as a
parameter right let me do that now I'm
going to have this change to just button
clicked right and I accept an argument
which is the button and this start
selected operation is just going to be
the button now in my index dot HTML
rather than say control that plus button
clicked I'm just going to call button
clicked and I'm going to pass as an
argument the plus symbol
all right let's verify that this works
this still works like before because now
this button is actually calling the
button click method that the plus symbol
so plus is being set in the selected
operation scope attribute now I can do
the same thing with other buttons just
changing the button that got clicked
over here now I can have a star and a
slash right so all these different
buttons call the same method but they
just pass in different symbols different
operations and in my method I'm just
taking their operation and assigning it
to selected operation which is then
bound to the span I hope this is making
sense now if i refresh the page and as I
click these different buttons you see
the operation changes
right it's pretty cool okay now I have
three scope properties I have the value
1 the input 1 input 2 and then the
selected operation what I need to do
next is have an event triggered for this
equals button now I enter something
let's say 1 2 3 and then I say 2 now I
have selected the plus if I were to
press the equals button what should
happen is it there should be a function
which takes this value takes this value
and depending on the operator it does
the right operation and displays it over
here
ok so what needs to be displayed over
here there needs to be a result property
again when you have to display something
in the view you need to show a scope
property so you need to set the scope
property somewhere in the function and
then you use an NG binding to display
this over here so let's make sure that
we have that scope property I'm going to
start off let's sing this dot result
value equals 0 I'm going to start with a
0 and then in my index dot HTML I'm
going to have a span which prints that
value ctrl dot result value and this
starts off being a 0 okay let's say I do
a 1 plus 1 and if I were to click equals
what should happen is this equals but
should have an ng-click which calls a
scope property function which basically
takes these three values and prints out
the result which basically updates the
result value so let's do just that so
I'm going to have an ng-click for the
equals button as well and then I'm going
to have a method called compute result
and this is also going to be on the
controller so it's going to be ctrl dot
compute result now compute result also
needs to be a method on this so I'm
going to have the start compute result
is going to be a function
and now what does this function need to
do it needs to get the two inputs which
are input 1 and input 2 and convert them
to numbers because right now there are
text boxes so I can actually enter
anything I want I'm going to assume that
different numbers but essentially what
we are dealing with the string here is I
need to convert them to actual number
data type so I am going to use a
function called bars float for this so
if I were to use this dot input 1 I'm
going to get a string so I'm going to
have a bar number 1 equals bars float
off the start and put 1 so I'm basically
converting the input 1 property of the
scope that's bound to the textbox I'm
using parsefloat to convert it to a
number and I'm holding onto it in the
variable number 1 and I'm going to have
the same thing for number 2 so now I
have basically converted both these
numbers into actual number data type now
all that's left to do is figure out what
the selected operation is and based on
that set the right value so I'm going to
do and if lock over here if selected
operation is a plus then I'm going to
set this dot result value as number 1
plus number 2 well I need to do 3 more
actually so 1 is 4 minus then I'm going
to minus here and of course as I'm
typing this I realize that you could
have also done a case over here for
these three cases star in this space
your
if it's a slash I'm going to slash all
right fairly simple now all I'm doing is
I'm updating the result value without
changing the view but since the view is
already bound to result value it is
going to get automatically updated and
this is my computer result method okay
let's refresh this now I'm going to
choose one plus one and I really hope
this going to show two and it does not
let's see what's going on here control
dot result value I'm going to make sure
I'm setting the right value over here
well this is the problem I have skipped
that this I need to make sure that when
I'm referring to a variable I'm using
the this dot so that was the problem now
I really hope this works after I do this
all right so let's do this one more time
one plus one equals hey there you go
what this works
alright so I'm going to try a couple
more tests let me do a 10-1 shows nine
ten times two shows twenty let's do a
decimals ten point two times two choose
twenty point four all right this seems
to work there's one thing that I haven't
done here which is to do validation now
if I were to enter a is the F for
example and I do this I'm going to get
not a number might say this is fine it
is still showing something and it's not
breaking but if you want to enhance this
you can of course check if whatever
you're entering is actually valid
numbers and you can do that in a couple
of places you can do this on an NG
change off the text box and make sure
every character you're entering is a
decimal are you can do this when the
compute result method is called you make
sure that when you convert the inputs to
floats you get a number which is valid
all right so this is a very very simple
calculator which lets you add or
subtract or you know do any of those
simple mathematical operation
and I hope this was a good introduction
to a full application development with
angular and the kind of thinking that
you have to do again I stress the
importance of thinking differently than
angular when we build applications we
generally tend to think about the view
and how to update the view right in the
case of angular you have to think from
the model onward everything from the
data what's going to be the model that
will drive the view and figure out how
to keep the model up-to-date and then
when you've ayran the model to the
viewcube are in the scope properties to
the view the view automatically gets
updated by angular so you don't have to
do that so this makes development very
very simple as you can see and I hope
you agree this was a calculator exercise
definitely give it a shot and as a
further exercise I definitely recommend
you try out the validation pieces of
this as well</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>