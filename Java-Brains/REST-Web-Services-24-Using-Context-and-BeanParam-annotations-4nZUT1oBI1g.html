<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST Web Services 24 - Using Context and BeanParam annotations | Coder Coacher - Coaching Coders</title><meta content="REST Web Services 24 - Using Context and BeanParam annotations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST Web Services 24 - Using Context and BeanParam annotations</b></h2><h5 class="post__date">2015-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4nZUT1oBI1g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right one more tutorial where I talk
but the parameters and be
resource classes and in the next
tutorial in a more and more API stuff
but this is something that would be
handy when you're working with a lot of
these parameters so here you see all
these annotations to your arguments in
your controller method this can be a bit
tedious if you're accessing let's say 3
matrix params 5 different header params
and 2 kooky params you have a method
which is like a bunch of all these
arguments with a bunch of annotations
it's not going to look really good so
the other challenge here is when you
access something you need to know what
the name is for example for cookie param
right so you want to access the value of
the cookie with the name name so you
need to know beforehand that there is a
cookie with that name what if you don't
know what if you want to get all the
bookies what do you want to get all the
headers and see what to do based on that
to do to do that kind of stuff there is
one more way in which you can access
those parameters and that is using the
context so I'm going to create one more
demo method over here to demonstrate a
way to access these values using the
context I'm going to create one more URL
endpoint which is injecting more slash
context and here I'm going to create
another method we call this get params
using context and just going to return
some test value here again we just read
it on whatever we get so that we can
test thus test this thing out all right
so the way to access the context is by
annotating variable an argument with the
add context the add context can be
annotated two special types of arguments
now these add matrix header cookie this
can be annotated to any primitive value
right and Jersey is doing the conversion
and it's going to assign the value but
the add context is a unique or
annotation and this can be annotated to
only a few special
types so the first special type that I'm
going to talk about is called URI info
and call this URI info of the URI info
is a class from W SRS core the add
context is from the same and you know
from the same package but this is a
special annotation that applies to a few
classes one of them being URI info now
what this does is if you have this
method argument with this annotation
what Jersey does is it says hey this
needs URI info to be injected and it's
going to inject an instance of URI info
URI info true to its name contains a lot
of information about the URI that was
accessed that led to this method being
called so if you look at URI info you
look at some of the methods here you see
there is a method to get the absolute
path there's a method to get the base
URI and a lot more convenient methods
there's a path segment which splits the
segments of the path into a list so you
have all these handy stuff so you see
there is a query parameters over here so
you don't know what query parameter the
access just get this and you get a map
and you can look through the map and see
what are the very parameters that were
sent you also have path parameters over
here you're not sure what are the paths
parameters you can actually look through
and get the path parameters so a lot of
handy stuff what I'm going to do is
access the get absolute path right and
I'm going to convert it to the string so
that I can print it
now I can print the path here and let's
see if we can access the path in the
response okay so I'm going to access the
URL slash inject demo slash context if I
hit Send there you go
I get the complete path so this is a set
of finally methods that you can get just
by using this URI in for instance and
the way to have Jersey prepare this
instance send it to us just by just I'm
treating it with the add context there's
one more context instance that Jersey
can send for us that I want to showcase
here which is the header information so
I can use one more context annotation
except a special class another special
class called HTTP headers HTTP headers
is again from the same core package now
HTTP headers as you can guess gives you
header information just like URI info
gives you the URI information so if you
look at the methods in this instance
well you have get all the accepted media
types you have the cookies you have the
date you have the request header have a
lot of good stuff so I'm going to just
access cookies now this returns I think
a map and I'm just going to convert it
to a string just for the purpose of
demonstration here
and I'm just going to print it out let's
see if this works well there you go look
at the cookies with the name and the
value being hello so this is another
quick way to get the information around
the request if you're not really sure
what you're looking for and if you are
really sure what you're looking for you
just want one particular value I think
an annotation is a great way to do it
now if you want this kind of a way to
access your parameters and you're also
worried that this is going to be a huge
amount of annotations you don't like it
you don't want to use that context just
because you don't like the number of
annotations there's actually a third way
to access these parameters and that's
using something called a beam param
param works is you create a separate
beam which has all these annotations and
then in your resource class you don't
include all these annotations one after
the other right you just say beam
parameter that beam and for jerseys
known as to do is to look at that beam
and see what are the parameters that
you're interested in and if there are
parameters available then it's going to
use it so I'm going to demonstrate that
not with the inject demo resource but
with the message resource and you see
here there is a get messages method
which has three query parameters let's
say I don't like this to us make this
simpler so the way to do this is using
beam param and I'm going to create a
separate class for that and take it from
there so I'm going to create a class
called message
filter beam and I'm going to put this in
a separate packet and then beat now in
this beam class I'm going to use these
values right I'm just going to copy
these with the annotations and I'm going
to create member variables out of them
so it's not the annotations to the
method arguments actually have three
member variables in this class and they
have been annotated with query panel so
I'm going to make them private and I'll
create getters and setters okay so now I
have a filter beam which has these three
parameters and getters and setters right
now what I can do is in the message
resource I don't have to use these
annotations in these things anymore so
what I do is I use this beam param
annotation instead and I except an
instance of the message filter being
now let me import this what Jersey is
going to do is it's going to see okay
this is the filter beam that the user is
looking for so it's going to inspect the
request for all these different things
that the beam is looking for and it's
going to create this instance and send
it to us so now to access the year what
I need to do is filter beam dot get your
I hope this is making sense now to
access the start time the start location
I do filter beam dot get start and the
sighs I do filter beam dot gets eyes and
of course you descend the same thing
okay so this is one way to do this if if
you want to do this if you feel that
this list is getting too unwieldy then
this going to mix it short and sweet so
this is the third way to access your
request parameters in Jersey and Jack
service in the next tutorial we're going
to move on to the next API in our
messenger app comments see you then and
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>