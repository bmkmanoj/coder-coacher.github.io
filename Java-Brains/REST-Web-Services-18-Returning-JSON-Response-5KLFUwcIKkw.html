<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST Web Services 18 - Returning JSON Response | Coder Coacher - Coaching Coders</title><meta content="REST Web Services 18 - Returning JSON Response - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST Web Services 18 - Returning JSON Response</b></h2><h5 class="post__date">2015-05-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5KLFUwcIKkw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">before we build more api's let's spend
some time and look at the rest
content-type so if you look at the
message resource object you see that
what these methods API methods have been
annotated for that producers and the
media type is application XML I didn't
mention in the previous tutorials that
all these api's would be implemented in
JSON format so there is actually a
reason why I chose XML so what do you
have to do to change this to JSON right
now this is XML so what do I have to do
to change this to JSON it should be as
simple as changing this annotation right
now if I were to say media type dot
application JSON should work shouldn't
it let's give that a try I'm going to
change both of them to application JSON
let's wait for the server to read apply
let's try accessing this again we get an
error there is error code 500 let's look
at the error logs and see what's
happening well there's an error which
says message body writer not found far
application Jason you remember there was
a similar error when we try to convert
to XML but here the reason is actually
different think about what does the
conversion I mentioned that it's the
conversion from the message instance to
XML is being done by Jack's B and Jack's
Bikaner comes with Java so there is
really nothing extra that's needed Jerzy
whenever it wants to do the conversion
says hey Jack speak and read this to XML
for me okay problem is there's no such
thing for JSON there's no converter that
comes out of the box in with Java for
Jersey to hand over the responsibility
to so you will have to add the jar that
does this conversion into your
application class path so let's do that
open the file called palm load XML in
the root of your project so this
contains all the dependency like I
mentioned right it contains all the jars
that are included in your libraries you
see there's this maven dependencies
contains a bunch of jars so you add a
dependency over here it shows up in the
jars so what's the dependency you need
to add
scroll down and here you see there is
the section here just commented out
chase uncomment this to get JSON support
and there is this one dependency which
is called Jersey media moxie so this is
the jar which does the conversion so
Moxie is a library for handling JSON
conversions so this project the template
project actually comes with this
dependency but it's commented out so
that people who don't need JSON don't
need to use it so that doesn't get any
easier than this just remove the comment
here and now you should have this added
as a dependency save this and now the
websites workspace is being built if you
expand the maven dependencies you should
see Moxie somewhere over here there you
go that it is alright so now hopefully
the application is read applied let's
try this again flash messages I'm doing
a get again but this time and returning
application Jason
well they go it worked we have JSON
output I'll be talking more about how
this conversion happens in a later
tutorial but the thing you need to keep
in mind is there are these libraries
that you will have to include for
different types of conversions and some
of the classes that are included in
those libraries implement a particular
interface so there is an interface
called message body reader and there's
an interface called message body writer
so what we are looking at is a message
body writer it's a class that converts
from a Java type to something like XML
or JSON types and that was what was
missing and that's why you got a message
body writer editor now adding this
dependency in your palm is going to add
that message body writer implementation
to your class which does the conversion
from message instances to JSON and
that's how the JSON conversion works I
hope that made sense so we're going to
talk more about message body readers and
message body writers later but this was
a quick tutorial to switch from our XML
implementation to JSON and in the future
all our API is are going to implement
JSON so in the next tutorial we can add
more api s-- see you then and thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>