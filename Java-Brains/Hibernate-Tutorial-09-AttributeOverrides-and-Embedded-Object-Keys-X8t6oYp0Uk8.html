<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 09 - AttributeOverrides and Embedded Object Keys | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 09 - AttributeOverrides and Embedded Object Keys - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 09 - AttributeOverrides and Embedded Object Keys</b></h2><h5 class="post__date">2011-05-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X8t6oYp0Uk8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you know there are a few implications of
having embedded objects the first
question now what if I want to configure
the columns of my user details for Java
yes I can do I'd call the mana tation on
top of a field and I can configure each
and every column that I want but if I
have an embedded object say address how
do I configure all the columns of this
address object say address has a city
now I want to call City as City
underscore name say in my user details
table now how can I configure the city
field of this user object here there are
a couple of ways we can do it the first
way is to go to this sub object that you
know the embeddable object and I can
configure the name here itself so I can
have a I can go to the city member
variable here and on top of that I can
do a at column and then port this so
this has the name and I can call this
city and the score name so let me give a
name for all of these we'll just this
pin code okay so now I have the add
column annotation for each of these
fields inside the embeddable object now
what happens is no matter where I am
with this address object it's going to
carry this configuration now have used
this address object inside my user
details class now the user details table
will have these column names that I have
configured inside this embeddable object
now I have another another object say
company object and I want to have a
company
address I have address as a member
variable of that company object then
even the company table would have these
column names so let's just quickly test
that out I will again run this as a java
application it's going to drop
everything and recreate so there you go
your insert query gives you all the
column names so here we have city name
pin code state name street name all
those things are configured in the
embeddable object so it gets carried
over no matter where or where you
actually embed this object it gets
carried over now this is one other
question now say for example I have this
address object here right this is one
member we can build for address object
inside this user details what if I have
this requirement that I need to have a
home address
and an office address so I need to
address objects inside the same class
how would it work so let's say for
example I find again that embedded
private address let me call this home
address and I'll call this office
address okay this is this a fair enough
requirement you can make an embed you
can have any number of instances of an
object inside this model object in that
case how would it work home address yes
it's going to go look it up straight and
a school name city underscore name state
and it's coordinating yes it's going to
create now it goes to office address now
again street underscore name no it
cannot create that because it's already
a column with that name so this is a
problem now how do we solve this we can
solve this by overriding the default
name when you are embedding now and I'm
omitting this home address I don't want
it to take this default Street
underscore name I wanted to have a home
and disco street underscore name say for
example so I can override the column
names here so that it does not take the
default that's the first thing the
second thing is if I have multiple such
objects I can give unique names for each
of those objects so that there is no
conflict and then each of those objects
can have
a set of columns which are to be created
for the saddest object now how do I
actually do the override I use what is
called as that attribute override tack
this attribute override tack again from
Java extra persistence
it helps me configure all the attributes
say reconfigure all the attributes that
have been either configured here or I
can change the default behavior so that
I can make it specific to mining it and
secondly I can make a distinct so that
there is no overlap between different
objects inside this attribute override
so I can give name equals now when I say
name I need to give the name of the
attribute inside this home address that
I am overriding so this tag is for this
whole object now I'm saying I want to
overwrite the way the home address is
embedded now I knew also need to specify
what are the fields that I want to all
right now home address has street name
city name state name pin code if I'm
doing to you know if I'm configuring to
such embedded objects I will obviously
have to overwrite all of those
properties at least for one of these
objects I can leave this as say office
at the second leave it as it is so that
it takes these default values but for
one of these two objects I will have to
override each and every field so first
of all what I do is I specify the field
name this case it's Street so let's
start with Street so the field name is
Street and now what am i overriding I am
overriding the column the column name
has to change
so I say call them
equals now I will have a new calm
annotation so I'm going to create a new
column annotation with the name home
street name now what i'm doing here is
i'm creating am annotating a new column
and i'm saying
override the street property off the
home address that this column name
don't use the default column name use
this home street name as the column name
at the same way I will have to override
the city name state name and pin code as
well so let me just now in order to have
multiple attribute rights
I cannot have you know another at
attribute over right here I will have to
encapsulate all these attribute
overrides inside another annotation call
that attribute overrides so I have a
plural annotation here and all my
individual attribute annotations all the
individual attribute override
annotations have to be inside this
attribute overrides
annotation so I put a comma at the end
of this which means the first override
is done and then I will create two more
overrides
okay now the import to utilize expanders
okay I think I do not have the
parentheses in order then you make this
as one line okay so close one more here
yeah they go now I have these four
attribute overrides because I need to
override all these four attributes so
now it's simple I just do a city and
then I override it with home city name
state is a low write it with home state
name and I think that was pin code yeah
in cold pin code is overrated myth then
good now I can do the same thing even
for the office and call each of them off
the street name office city name but
I'll spare you that let's just save it
as it s and we'll run it so now what
will happen is there will not be an
overlap they all these attributes are
ordered in for the home address instance
so each one of these will have home
street name home city name and so on but
as far as your office address is
concerned the office will take the
configuration in the embeddable object
itself so we don't have to do anything
there of course I'll have to change
these guys here because I I updated the
member variables so I will just generate
getters and setters again
for both okay
yeah then this now in hibernate I'm
going to set home address and create a
new address object could use the same
one but just create a new one so that we
can see how multiple objects can be
embedded and then user dot set office
address as address to okay now when we
save this and run we should get two
columns each for the address well they
can see home city name and city name
home pincode and pin code so pin code
city name are the values that we got
because you know we have specified it
inside the embed object but the home
city name home pin code home
stay-at-home street these are the ones
that we overridden by we were embedding
the address object into the user object
okay
now that this is clear there's one last
thing that I'd like to say we've seen
this done for member variables we have a
member variable as an object now there
is one special case where this user ID
the primary key of the small object
itself can be an embedded object now
let's say I have you know I have an
object which has the first name last
name social security number or you know
login ID or something like that and a
combination of all those is a primary
key I know it's a far-fetched example
but assume that we have a few member
variables which put together forms a
primary key in that case you can have
you know probably a private user name
object and that itself is a primary key
so we will we can use the at embedded
but it would not work with the @id so
let me move the generation if that's the
case we would not have a generated key
now let's say I have this just for
example login name say ok login name is
an object let's assume and this object
has a combination of fields that forms
the primary key in that case yes heidi
has to be there but i cannot use the @
ID annotation and i cannot use the add
embedded annotation instead what i need
to use is the add embedded heidi
so this annotation is for embedded
objects is again from java extra
persistence i'm not going to implement
this but it's it's fairly
straightforward it's same as what we
have for address it's a it's another
object that's embedded here that object
has to have this embeddable of course
but in that in the case where you want
to have that embedded object as a
primary key that case you would have to
use the add embedded ID
so in that case hibernate will treat a
combination of all the member variables
of this object as the primary key and if
there is any repetition in all the
values being the same for two different
records
that's when hibernate says hey you know
it's you know it's it's not allowed the
object itself and the combination of all
the member variables is what has to be
unique and of course even for the
embedded ID annotation I can have
attribute overrides I can define
different columns and say ok this member
variable of this object will have a
different column name so all that kind
of configuration will still be will
still hold good all the attribute
overrides will still hold good but the
only difference is if you are embedding
an object and that object happens to be
the primary key that case you cannot use
the ID annotation and you cannot use the
add embedded annotation instead use the
@ embedded ID annotation</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>