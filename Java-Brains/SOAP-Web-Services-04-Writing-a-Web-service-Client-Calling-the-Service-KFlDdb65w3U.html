<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SOAP Web Services 04 - Writing a Web service Client: Calling the Service | Coder Coacher - Coaching Coders</title><meta content="SOAP Web Services 04 - Writing a Web service Client: Calling the Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SOAP Web Services 04 - Writing a Web service Client: Calling the Service</b></h2><h5 class="post__date">2013-06-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KFlDdb65w3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the previous tutorial we started
writing a java application that takes in
an IP address as an input argument and
it displays the country that the IP
address is in and we decided to use a
web service that does this thing for us
and we just display the results in the
console so essentially our java
application is just calling a web
service and getting the work done and in
the process of writing that code we
looked at the wisdom and we generated
the stubs using WS import and in this
tutorial we're going to learn how to use
those stubs in our code to actually make
a call to the web service so let's do
that now I'm going to use these in my
project so how do I do that
so I'm going to open up eclipse again
and all I need to do is import these
classes to my Eclipse project so if you
look at these classes you can see that
they're in the package net dot web
service X right so that is the package
in which it's generated this is again
customizable in Douglass import but
let's not bother about that now so I'm
going to create a package here call net
dot steps of is X okay so now it's very
simple all I do is drag these classes
into my project into this package so I
choose to copy the files so I have all
the classes included in my project okay
so now we are all set to do this we are
all set to call a method of a class
which is local right instead of the stub
I use the stub that's generated over
here now the question is which one of
these is the stuff we said double yes
import is going to generate the stub for
us and when we ran the Bleus import it
has generated nine classes right there
are nine different classes over here so
which one of these classes are we
supposed to use at the stop in order to
answer the
we need to look at the Vista so if you
remember when we open up the Vista
scroll all the way down remember we saw
this pistol : service write the name of
the service was geoip service and the
service had a board called geoip service
soap okay so we're going to use these
two names to in order to find out what
class we need to use so here you see
these two classes over here geoip
service and GOI peace of a soap so these
two are what we're going to be using
okay so first let's start with geoip
service so now I will create a new
instance of this GIP service so I'll use
the new operator and say GI be service
I'll call it some name is a new GIP
service or have created a new instance
of the service so once you've created an
instance now if you look at the methods
of this IP service you see that it has
something called as get geoip service
soap okay so I'm going to use this to
get an instance of this class right so I
have this started with this class
created it with a new and then I used a
method of this to get an instance of
this okay
so these are the two classes that we are
concerned with so now get GI be service
soap returns an instance of gip service
soap so I will put that into a local
variable
you
this is this is our stop okay so we can
call methods off this stub and actually
make a call to the webisodes okay so now
if you look at this object here it has a
method to get the Geo IP so this happens
to be the actual method so you can
notice here the Javadoc says get your IP
enables you to easily look up countries
by IP address so it's not not that it's
actually not returning just a string
with the country name it's actually
returning an object of Geo IP so I'm
going to call this method I'm going to
pass in the IP address and I'm going to
capture the return type in the object
that it's actually returning okay and
I'm going to import this as this one so
this is actually the class that we are
referring to over here now this should
ideally contain the return type so
basically the country name or any other
information that's actually returned
from the web service will be contained
in this one okay this could be a string
it could be a you know a universal data
type like an integer or things like that
or it could be a custom data type in
which case WS import generates that
custom data type for us and we can use
it in our program right notice that this
is not a basic data type here it's a
custom data type but WS import has
sensed that and it has also generated
that class for us so we can actually use
that and get hold of the return type now
this certain type should contain all the
information we need so if you look at
geo IP dot get you notice here you have
a country name you have a country code
I'm interested in the country name so
I'm going to just print this out
and this is our client we are done so
now I have printed out the country name
for the IP address that we have passed
so just to quickly recap what I'm doing
here is I am creating a new instance of
the service which is the service name in
the visual and I'm creating a soap
object from it which is the board meme
in the Vista and I am calling a method
off that board of that intermediate
object now this method is actually
making a call to the web service so I'm
going to pass the input argument to this
method this does a call to the web
service gets the response and then puts
that response into our custom data type
which is again generated by Lister and
I'm using this custom data type to get
the output this last step might not be
required in some cases again like I said
this could be a generic data type like a
string if this returns a string you
don't really need a custom data type but
I chose this example because you get to
see a custom data return type as well
okay now it's time to run this so what
I'll do is save this and of course pass
in the input argument so I go to run
configuration and in the arguments I
pass in the input argument so let me
just get some random IP address let's do
a check of IP address for google.com
now Google happens to be in this IP
address so I'm going to copy this and
pass that as the input argument to my
program
I hit run and you can see the console
output shows United States so Google
comm is actually hosted on the server in
the US now let's take another example
let's take an example of let's say BBC
comm just I hope is for in United
Kingdom let's verify that just to make
sure we test a few different countries a
base to the IP address for bbc.com and I
run it and yes it shows United Kingdom
so basically this is just a simple test
off of web service using a Java client
so we got the Vista and we generated the
stubs using two obvious import and we
wrote some code to actually use the
stubs that were generated and get the
output of the web service so one thing
that is generally confusing for most
beginners is basically these all these
classes you won't know which class to
use and you know how to start so like I
said these names depend on the service
right you use a different service you
get obviously different set of classes
with different names so basically you
need to either look at the documentation
that comes with the web service most of
the web services do come the
documentation that says hey go ahead and
use these classes in order to generate
inner in order issue calls to the web
service but if you do not have
documentation the best clue is the
Vistal itself you look at the service
name so there should be a class which
corresponds to the service name so
create a new instance of that class and
you use a method of that class to get an
instance off the port so the service
will have a port in the vista so look at
that name in order to get hold of the
actual port and then the service will
have a get poured method and using that
you get the port and you can
call methods on the board to make the
actual web service call so if this is
confusing don't why too much about it
this is just to get our feet wet and you
know do a simple web service call
subsequently in the next few tutorials
we are going to be writing our own web
service right we are going to switch
gears and we're going to go to the other
side we're going to write web services
that can be called by such programs and
we understand a few more details about
what all these things are and how they
work thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>