<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 06 - Retrieving Objects using session.get | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 06 - Retrieving Objects using session.get - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 06 - Retrieving Objects using session.get</b></h2><h5 class="post__date">2011-05-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3FV1yv7fvDQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to this tutorial on
hibernate in a previous two tutorials we
wrote a model object and we saved the
model object in the database using
hibernate EP eyes we did not write any
sequel queries for it we just use the
haben a dpi switch did all the work for
us and we managed to insert when you're
recording to the table by using a model
object and passing it on to hibernate in
this tutorial we're going to learn how
to extract that model object back from
the database to objects in the memory
again we are going to use hibernate api
so we're not going to write any sequel
queries we can of course write sequel
queries happen it does all of that but
you know writing sequel queries directly
defeats the whole point of going with an
ORM - like hibernate in the first place
so we'll try to do that using the
hibernate EP is and we'll we'll try to
fetch the object that we have inserted
so this is this is a code that I have
for a previous tutorial where we created
a user object we populated some values
and then we used the session object from
the session factory of hibernate to save
that user okay after this commit what
I'm going to do is I'm going to write a
session dot close to actually close the
session ideally what would happen is the
session door close would probably be in
a finally block and you would catch any
exceptions here by a cache block which
has a you know probably a transaction
rollback and you finally would have a
session door close but then because of
brevity I'm not doing any error handling
here so I'm just putting the session or
close over here to make sure that the
session has been closed now what I'll do
is I will open a new session and in this
session I'm going to fetch the object
that I have inserted in the previous
session so I have this user object here
now what I will do is I will set user as
null
now let me fetch the user again by
opening a new session now the second
time I don't have to actually create a
new session Factory as I told you before
a session Factory is created only once
per application it does a very expensive
object it takes a lot of resources to
create so it's better to have one object
in your application and then all your
different methods in all your different
classes you use that object itself to
create sessions we look at what are the
ways in which we can do it the ways in
which we can share the session factory
object across different classes and you
know different layers even but for now
we have defined it in the main method
and we're going to use the same object
so what I will do is I will again copy
these two lines so what I need to do now
is I need to have a new session object
and then I need to begin transaction
I'll just paste this here I don't have
to define it this time so here what I
will do is I will use the session object
to actually get the value that we have
saved here now how do I fetch a value
that I have already inserted I do that
by using session dot get now this
session dot get takes two parameters the
first parameter is the class that you
are trying to grid reeve so I'm trying
to retrieve a user object so I need to
mention the class for that user object
so this would be user I'm sorry that's
user details dot class oh I'll come to
the second argument in a minute but look
at what I am doing here normally when
you're when you're fetching data from
the database you would normally specify
a table name and say select star from
the
real stable now here since we are using
a high Q since we're using hibernate
which is an ORM tool we are not going to
be dealing with tables directly instead
all we are going to be dealing with are
objects and classes because we are
looking at it and at an object paradigm
now in order to fetch some values what I
need to do is I need to tell hibernate
what is the model object that I am
trying to retrieve I'm trying to
retrieve objects of this user details
class so the class is what I need to
mention over here so the value that
session dot get retrieves me are objects
of this class okay so now we have
established what is the object that we
need now we need to tell hibernate what
is the data that we need we could have
100 users in this user details table and
you know we wouldn't want to get all of
them so we will have to specify what
exactly is the object that we need and
the best way to specify the object that
we need is by mentioning what is the
primary key the primary key in this case
is one which is the user ID so I need to
pass the user ID 1 as the second
argument to the session or gate so all
I'll do is I'll just pass the value 1
here and we are done now do I have to
mention what the key is as well no I
don't have to do that because hibernate
already knows that the key here is this
user ID because we've annotated it with
at ID so we are all set here we have we
have passed what object we need and what
is the data which is in the object what
is a primary key of that object so it's
going to end up with just one record of
course we only have one record in the
database but even if we have multiple
records it would just pull up the record
with the user ID is 1 and the session
Rod Kate would return that record so
let's capture that I will have a user
equals session or get so so that the
value that it's returning is captured to
this object I can later use this object
to get the
member variables now session dot get has
a return type of object so in order to
put that object into my model I will
have to cast this so the way I cast it
is by specifying class name over here so
that I can assign it to this user object
so now we have the user object so what I
will do is I'll just do a system dot out
dot println let's say user username
retrieved this user dot user name now
this should return me first user which
is username that we have set
so now let's save this let's make sure
that this is set to create at the HTH pm
to DD eldorado so that it creates
everything from the scratch and now I
can run this class so there you go it
has inserted the user details value here
and it is doing a select what is causing
the select select this caused by our get
method over here now it's doing EPS
turning a select and then it's capturing
the values and then it's doing all the
work for us when it comes to you know
converting the values inside the record
set into an actual object and then it's
saving it into the user object now when
I do a system dot out dot println I'm
getting a user name here now I'm getting
the first name from Gator because this
is the code change that we made in a
previous tutorial if you look at this
the Gator has a from Gator value so if I
remove this
save let me run this again there you go
first use it as what comes up so this is
one of the many ways in which we can
fetch data in hibernate there are a lot
of other options we can run what is
called as hibernate query language
queries hql queries and we can also
write sequel queries directly so we look
at all these other options later but for
now we know that this is one of the ways
in which we can get any user object if
we know the primary key we just pass the
class value and the primary key value to
a session or get and it's going to go go
to the right table depending on the
class it's going to go to the right
table and then it's going to do a select
where the primary key is one so we know
for sure that it will just return one
record we can cast that object into our
user model and then we can use it as
required</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>