<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Struts 2 Tutorial 16 - Introducing Interceptors | Coder Coacher - Coaching Coders</title><meta content="Struts 2 Tutorial 16 - Introducing Interceptors - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Struts 2 Tutorial 16 - Introducing Interceptors</b></h2><h5 class="post__date">2013-02-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DjeAqwW_J2U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys and welcome to this tutorial on
struts - I know it's been a while since
I've uploaded any tutorials things have
been crazy busy in the last couple of
months for me I haven't been able to
either create new videos or to respond
to your comments but I'm really grateful
for the fact that you folks have
continued to watch and like the
tutorials continue to spread the word
subscribe and all that good stuff so
thank you for all your support hopefully
I should start getting some more free
time to make new videos I'll also set up
a poll to get your opinion on what
topics and technologies to cover next so
keep an eye on the Java brings Facebook
page where I'll be setting up the poll
shortly okay so let's start with the
topic of today which is interceptors and
starts to so if you look back at all the
things that we have learned in strats -
we've realized that it's much easier to
write an MVC application and starts to
versus without using some kind of an MVC
framework like you know if you're using
just sublets or J's piece there are a
lot of things that strats - does that
kind of L needs a lot of work that we
have we would have to do if you have to
write everything on our own for example
you know we looked at a lot of things
that kind of happen automatically the
out-of-the-box feature so to speak so if
you look at all these automatic features
and struts - some of them are you know
transferring of parameters from your
struts form to your member variables in
the action class and the other thing we
saw was validation we did not really
have to make calls to validation there
was already a validation framework in
place you just had to supply the
validation logic and there are a lot of
stuff which we haven't even covered yet
but all these features just come out of
the box in struts - you don't have to
code each and everything yourself and
hey that's the advantage of using a
framework like starts - but then the
question is who is actually doing all
that right who or what does all the work
we don't really bother about it because
it's taken care of for us but it's a
good thing to understand what's
happening there so that you know we can
we can write our own you know
out-of-the-box features that we use
everywhere
our application so the answer of course
is interceptors if we haven't guessed
already so interceptors are you know
they come with starts to and a lot of
these features the quote-unquote
automatic features are actually
implemented in the framework by using
interceptors so you remember this
picture we actually looked at this in
the very beginning of the series so this
is kind of like a high-level picture of
a stretch to application and here we
have our starts controller the XML that
we write we have our action classes we
have our JSP s and here's a client who's
outside the whole block over here but
the one thing that we have kind of kept
aside so far is this block over here for
interceptors so one thing I had told you
in the you know in the high-level
picture video is that this thing is has
always been there in our application we
haven't really done anything to turn it
off and this has always been there it is
just that we haven't really thought
about it because all these other things
just work out of the box but this is
what we're going to be looking at in
this tutorial so how have you been using
interceptors if we have been using it
all along where have we specified the
interceptors so if we look at our
stretch eczema right this is our
strategic symbol that we've been using
in our example notice that we have a
package over here named default in a
package called search one thing that's
common to both these packages is this X
tense
dial here see here it extends starts
default even this guy extends struts
default so what does extends really mean
over here we know in the java
terminology that you know you extend a
class which means you you get some of
the some of the functionality some of
the logic in the parent class into the
class that you are extending right
that's the concept of inheritance but
here we are not talking about classes we
are talking about a struts package and
we know that the package is not really a
java package so even
we have the name call package it's not
anything related to the Java package so
the same way the extends here has got no
relation with the you know the Java
extends but then they kind of mean the
same what it means is there is already a
package called struts d4 so we have a
package called
default this is our package that we have
written there is this package called
struts default and our package is
actually extending from it so what do
you mean by extent so in the case of
classes we know that the extend means in
the you know inheriting functionality
and inheriting the variables in the
methods but in the case of package here
we are talking about struts
configuration so what we extend here is
actually the configuration so whatever
configuration is in stretch default is
inherited to our default package
configuration so our package
configuration has an action
configuration right so we have this
action tag which configures how this
action is bound to the right J's piece
depending on the return there is some
amount of configuration in the struts
default which we are inheriting which is
not there over here but we are actually
getting it from the struts default so we
have to now take a look at what we are
actually extending you know what is the
configuration that we are getting from
starts default so where do we see the
struts default package so it's actually
bundled in the stretch jar that we have
included in that project so if you look
at our tutorial find a project we have
added the strategy are in our library so
if you open the libraries see here we
have a struts tool library and inside
that we have the struts - core jar so
the configuration is actually inside
this jar when you expand this you see a
starts default or tech symbol in the
root of the jar just open that and if
you don't see the source here make sure
your you have
added the stretch source into your
Eclipse source path I have covered that
in a previous tutorial so once you add
that any any file that you open over
here you should be able to see the
source so you see here the stretch
default or XML this has come in our
struts char and it has a lot of
configuration which is related to how
struts behaves out of the box so there
are a lot of bean tags over here let's
not worry about that but here's what we
are interested in you see here we have a
package declaration package name equals
struts default so this is a package
called starts default and it's been
called an abstract so the abstract is
also a similar terminology which means
that this package cannot exists on its
own it is meant to be extended so inside
this package you see a whole lot of
configuration so you have an element
called result types which has a whole
lot of the cell types you have an
element called interceptors and you have
a whole lot of interceptor declarations
over here you see here there are so many
interceptor declarations and then you
also have something called as an
interceptor stack if you're going to
come to this a little bit later but I
just wanted you to take a look at this
file and see that these are the
interceptors that do all the magic of
starts too so you have interceptors for
every out-of-the-box feature that we
have seen so far and we have an
interceptor coil parents which are
involved with you know transferring the
parameters there are a whole lot of
other stuff which we haven't even looked
at but I just wanted to show you that
this is where all the configuration is
present and our struct XML does not have
to define all of these because it's
already been configured in the default
all we have to do is extend this package
this package starts default we just have
to extend it in our start XML and then
all this configuration is becomes a part
of our package configuration so when we
look at our struts XML here we don't
have any of the you know the struts
functionality related configuration we
just have the configuration that's
specific to our MVC application and then
all the other stuff we just get it by
using the extents so does this mean that
since we are extending the configuration
and making our own configuration is it
possible to override some of the default
features of strats to you bet you can
and that is a whole different topic we
can change the way struts to works in a
whole lot of ways but for now just
consider that this is this something
that's been done to help us not having
to do all the default wiring every time
it's all taken care of in the struts
default and we just extended okay so
next I'm going to talk about three
different concepts that help us
understand the whole architecture of the
interceptors this is going to be a high
level conceptual explanation and then
the next tutorial the next video that
I'm going to upload will cover a lot of
the hands-on thing but I believe that
this concept is important to understand
so we're going to just quickly go over
these three concepts so the first
concept that I want to talk about is
called cross-cutting concerns now
cross-cutting concerns is a very common
commonly used terminology and it's it's
applicable in a lot of different areas
in programming what this actually means
is that say you have you know a consumer
that's accessing three different you
know provider modules so say this this
module needs data from three different
modules and all the three modules have
some common functionality that has to
happen before they do their work so this
common functionality could be something
like logging or it could be something
like you know audit related
functionality something like that which
is not really specific to the module but
this has to be done anyway for this
functionality to go you know to go do
its work later so this kind of a common
functionality is usually called as
cross-cutting functionalities what this
means is this is not really a concern of
the individual modules this is a common
cross-cutting concern and if you have
cross
concerns the normal design that we
follow when we are designing all these
modules is to isolate out the
cross-cutting concern so we actually dig
that out and have it as a separate front
module and then once this doesn't work
then the actual modules do what they're
actually supposed to do so let's say
this is this is laden right so then when
you know a service calls the service say
the logging happens upfront in a
separate module and then these modules
do not really worry about logging they
do their own functionality and now if
you add a fourth module later which also
needs logging it doesn't have to do any
of the logging also because we have
taken this out so this is a there's
actually a very common concept it's
called cross-cutting concerns and you
usually see this in the you know in
programming design where you actually
take out the cross-cutting concern into
its own modules so that the individual
modules are not burdened with doing
logging or auditing or any of you know
those kind of functionalities okay so
that's the first concept the second
concept we not tomcat is a servlet
container I'm sure we all know what a
servlet container means it's it's a
container where you can deploy your
applications which use JSP and servlets
now when you write applications for the
servlet container there are a couple of
components which you normally write your
logic in which are servlets and filters
so servlets are usually the place where
you write your business logic and
filters are the place where you
typically write cross-cutting concerns
say for example logging you know if you
want every sublet to log a message what
you typically do is you wouldn't write
the logging code in the sublet you would
write it as a filter and then configure
the filter to do the logging before the
sublet is called so so what this would
mean is that if you're writing a web
application even if it's an MVC
application and say you have some
cross-cutting concerns the best place to
put those cross-cutting consensus is the
filter all right but the problem is
if we use struts to MVC we cannot really
put cross-cutting concerns in the filter
well it can but it's not really very
clean and the reason for that is if you
remember we have actually configured our
struts to controller as a filter right
in the you know in the first tutorial
where we actually set you know
everything up and we configure a struts
to web application we actually write a
filter in the web.xml so let's open up
our web XML
so you see here we actually have written
a filter which is starts to so the class
the filter class is the struts prepare
an execute filter which is actually a
starts class and we have configured this
filter mapping for all you are so any
URL access we want this filter to get
executed so what this means is we
actually have struts configured over
here as a filter so if you look here
this is where we have configured our
starts controller so we talked about two
things one there is something called
cross-cutting concerns which you would
want to isolate out and the second thing
is in tomcat filters are the way to
write cross-cutting concerns but then we
have struts configured as the filter so
what this actually means this struts
itself is a cross-cutting concern the
struts framework actually acts as a
cross-cutting concern so you have a
filter that intercepts every request and
then struts does its thing it looks at
the configuration and it says ok this is
the request this is where it has to go
to this is the action class that needs
to execute and it completely takes care
of the control so the filter which is
actually supposed to be used as a
cross-cutting concern is actually being
used by struts to as the actual
application framework right so struts to
as a framework itself behaves as a
cross-cutting concern I hope this
concept is clear even if it's not very
clear it's fine I just wanted to put the
seed of the start into your head so that
you can actually see how the struts to
framework is actually leveraging the
concept of filters to do the whole you
know the framework activity so now the
question is if strats too is actually
being used as a filter for cross-cutting
concerns how do you write your own grass
feeding concerns right so the tomcat
container you know the servlet
containers all the specs say hey
we know you need cross-cutting concerns
written separately we don't want to you
know pursuit your business logic with
the cross-cutting concern so I'm giving
you this nice feature of filters which
you can use to write cross-cutting
concerns but then if you use starts to
stretch to is you know it takes it up
you know starts to is configured as a
filter so it takes up the functionality
of the filter now if you're using
stretch too and you need to write
cross-cutting concerns how would you do
it well the answer is of course
interceptors so that's the reason why
struts to has interceptors if you are
writing an application and stretch to
and you want to code all these
cross-cutting concerns the ideal way is
by using interceptors because first of
all using interceptors I believe is a
bit better than using filters because
you have a little bit more a richer
functionality and the second thing is it
kind of integrates so well with stretch
to that it's not really a choice if
you're using stretch to you are into
using interceptors first of all and then
you know it's also easier to write your
own interceptors than mess around with
filters so that's the reason why
interceptors are like a very core
feature of stretch 2 and this is
something that we really going to
explore in the next set of tutorials so
to quickly recap the automatic features
in struts to are actually done by
interceptors they work behind the scenes
we haven't really looked at them as if
yet but that's what does all the work
and how it's actually happening is by
using this struts default we extend the
starts default and that's how all this
interceptor logic gets added to our
configuration if we do not extend starts
default we don't get the configuration
so that's another thing you have to keep
in mind
so the struts default extends is what's
doing all this work and then
interceptors have isolate the common
cross-cutting concerns from individual
you know action classes so that's a good
thing
and in the servlet container filters are
the ones which actually provide the
cross-cutting concerns but since we
configure the struts to framework itself
as a filter we use the help of the
struts - framework for the actual
cross-cutting concerns and the help is
provided by means of inter
so I hope the concept of interceptors in
general is very clear we are going to
look at you know some hands-on and look
at how interceptors actually configure
all this thing in the next tutorial
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>