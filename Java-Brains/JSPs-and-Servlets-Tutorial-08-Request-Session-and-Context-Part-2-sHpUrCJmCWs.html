<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSPs and Servlets Tutorial 08 - Request, Session and Context Part 2 | Coder Coacher - Coaching Coders</title><meta content="JSPs and Servlets Tutorial 08 - Request, Session and Context Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSPs and Servlets Tutorial 08 - Request, Session and Context Part 2</b></h2><h5 class="post__date">2011-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sHpUrCJmCWs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we saw that I should EB is a
stateless protocol which means that data
sent through one URL request will not be
there for another request unless we do
something about it so a request object
is not good enough when it comes to
persisting data across URL axises so in
order to make ourselves that remember
our data what we need to do is we need
to use a different object and the use
case for this is of course logging
screens shopping cards in any other use
case where you would want to have a
memory off the data that's been
submitted by the user already so in
order to have that kind of a feature we
use HTTP session so we had a small
example where we used a session object
to retrieve and store a user name value
so that we just pick the first value
from the request and then save it in the
session so that further requests even if
they do not have the user name we can
pull it up from the session object so
this is a simple overview of how we can
use the request objects and session
objects to persist data user input
across different accesses a session
object is created per user or machine
again we will elaborate this in a bit
more detail shortly this is at a very
high level we need to understand that
for every user accessing the application
on a browser there will be one session
object that's created and provided to us
by Duncan
so objects are available across request
by using this session object so that you
can pass this data across different
requests of course for that same using
and machine so this is perfect for using
you know for use for their previous use
cases that I mentioned before log in
sessions can have the user ID in the
session and then shopping carts can have
the whole shopping cart object itself in
the session and we can pull up the
session object by using the request
object so you just have to
a request I'd get session and then you
would get an object you put that as HTTP
session object and then you're good to
go
but now what if you want more than this
what if we want an object that can be
persisted across different users or
probably even different browsers let me
show you how that works say I have this
servlet that I created earlier now I
have a have a session which has you know
value that I've entered you're looking
into the value again so I'll see name
equals test okay so now I have a session
and the name value of that session I'll
just show this here see we have a saved
user name property and then inside that
in a map to this particular string we
have this user name string so this test
value has been stored in the session but
then as I told you it's only for a
particular user and a particular browser
now if somebody else uses this
application the session value will be
blank for them because a new session is
created it can be as simple as a
different browser itself so let me just
take this URL and open a browser
different from what we have used before
and say I do not pass this parameter now
what is the session object contain the
session object will be null now if I do
not pass a parameter here we can still
see that the session object here still
test test is associated with the session
that's mapped to this particular tab
alone it's not just the user it's also
the browser so this is a tab inside
eclipse which acting as a browser so for
this Eclipse browser alone we have the
test string map to the session but when
I'm using this browser since I have not
added this value I haven't passed this
to the request yet since it's a new
session the session will not have any
values now what if I want to have a
value that you know that is there and
accessible across different users say
some other user tries to access the
servlet now I want this to be available
for that user also so in order to do
that we need to use something other than
a session object so we need it to be a
accessible across the entire application
we needed to be shared across difference
of the ten different users so again it's
not just once of it it should be
accessible across different servlets the
session object will be accessible across
difference.i with sublets but not for
different users so we need this to be
accessible across both servlets and
different users a use case for this
would be some initialization code that
you would want to put so let's say I
have a database application and I do not
want to open a database connection for
every access I want to use you know I
want to have a database connection open
and available across servlets and across
users and that database connection is
used by all servlets to connect to the
database another common example is a
common bulletin board where you would
want to put I mean the use case for that
for this differs depending on the
business but then if you want to have a
common place where a data can be
accessed by all users then you would
want to use something else and that is
the context object so a context object
is again Tomcat implemented we get the
object and the object is provided by
Tomcat for us and there are two ways in
which we get the context object one of
the ways require a little bit more
knowledge into something else so I'm
going to keep that on hold for now and
I'll show you another way to access this
context object it's it's secondly so the
second way is very similar to what we
have used for a session object just like
we have done a request or gate session
of a session object the same way we can
get the context object also from this
request object so let's do that here
request dot get sublet context so the
response type is of that context so I'll
have to declare a variable of
servletcontext okay the import sub the
context here so adding values to the
context is again similar to adding
values to the session so I will have the
same logic flow here if the username is
not blank then I'll along with adding it
to the session I'll add it to the
context also even context has a
setattribute method so I will use the
same set here so I will have a saved
username attribute in the context as
well and I will save this username
string inside the context as well under
the same safety is a name attribute so
let me print this out as well so I'll
say writer dot print and let me just
copy this so I can say the context
parameter
as the username ass again this will be
context so the signature is the same
when it comes to session and context but
the way the behaviors is different so
when the session object has only data
for that particular user alone and that
particular browser alone context
parameter has value for across the
application for different users so there
is only one context bar
web application but there are different
session button there will be one session
parameter per user and per browser so I
can save this and again we need to test
this out with two different browsers to
simulate two different users accessing
this application so I'll first use this
so I haven't entered any user value here
so the request session and context are
all blank now let me try this on a
different browser as well so so we'll
see this as two different users now in
both these for both these users all the
three are blank now let me pass a value
here user 1 has been passed and it goes
into the request object it goes into the
session object and goes into the context
object now if I access over here now if
ax is the same thing here I'm not going
to pass a value so a request object is
obviously null a session object should
still be null because this is a
different session because we have a
different browser here but what about
the context object I told you the
context object is consistent across the
application so there is only one context
object across the application so this
contact context object should have the
value that I have passed in this axis so
let's try accessing this again
so you can see he requests object is
null session object has the value null
and context object has the value user
one of course when I say request object
is Nell I'm not saying that the whole
object itself is not but the user name
attribute of the request object is null
so just want to clarify that so same
thing for the session also the user name
attribute of the session object as well
but the context object remains say here
I will move this value now this
particular session for this browser tab
has a session value set and the context
value set so now if I access this only
the request parameter should be null
let's just that yes then request
parameter is null the session parameter
will be there because we ask this value
in a previous session and the context
parameter of course goes without saying
it's same across the application so this
will still continue to be user one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>