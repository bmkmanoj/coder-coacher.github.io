<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST Web Services 17 - Accessing Path params | Coder Coacher - Coaching Coders</title><meta content="REST Web Services 17 - Accessing Path params - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST Web Services 17 - Accessing Path params</b></h2><h5 class="post__date">2015-04-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/U4tOw0LxQW4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we can implement
getting a single message from the API so
right now we have a slash messages and
if I switch to my postman window try to
do a get request to slash messages and I
get all the messages and what I want to
do is do a individual resource URL so we
talked about the you know the resource
URL for a message to be messages slash
and the message ID so let's say I want
to pick this first message message with
ID 1 I want to do a get request to
message a slash 1 and get that message
alone right so that's what we're going
to do in this tutorial and what we're
going to do is do a get request to slash
messages slash 1 and map that to err
Java method once we map to a Java method
things become fairly simple all I have
to do is call the get message and
passing the ID and it's going to return
the message right so I'm calling a
method off the message service so that's
fairly simple since I have an instance
here but now the question is how do I
map this URL to a method over here I
cannot change this because this is
annotating the whole class thankfully
Jersey allows the Spath annotation to be
made to methods as well so you have one
top level path annotation and you have
method level annotations for subsequent
portion of the path let me explain what
I mean by that let's switch back to
postman now let's say I want to do a an
annotation for a method for a URL like
this let's say I want to map this URL so
it's messages slash test what I could do
is let's create a test method okay
now this has to be a get annotation
write it as a get method doing a get
show annotate it with get as before and
I also do a produces media type
explain now what I could also do is add
a path annotation over here which adds
on to this right so now there is a
messages map to the class I want to say
after messages if there is an extra
element in the path map this method to
it
so after methods there is slash test so
I can do a slash test over here now what
happens is Jersey is going to look for
this route annotation to say okay all
the methods of this class are mad to
slash messages right so this is by
default map to slash messages however if
there is a method which has a path
annotation to the method itself what it
does it takes this and appends it do
this URL so this method is actually
mapped to slash messages slash test and
that's how you map slash messages slash
test now let's save and run this now
this should work server's restarting if
I do a get request I get this value test
because I'm returning plain text so this
is how you map a subsequent path right
so this is the main resource path
anything subsequent to that you think
following that can be mapped by using a
path annotation to do the method itself
right so the path annotation can be map
route to the class and to the method
okay but this is not what we want like
what we want is this an ID now can I do
this well I could but I'm just mapping
the value one so if I do slash one it
works fine I get the value but if I do
too well it doesn't work anymore it gets
a 404 so I cannot really hard code this
right I want to say that I wanted some
Hotel Jersey that this is a variable
piece of the URL it's not a hard coded
piece right slash messages is a hard
coded piece but the /i d is a variable
piece so the v2 tells you
see that portion of the URL is variable
is by using these curly braces so open
closed curly braces and you can give the
variable the name so I'm going to call
this message ID so generally looks at
this and says okay there is a part of
the URL over here which is variable so
no matter what's in this part of the URL
it is going to map to this method so
let's test this out I've saved this now
I'm going to do a messages / - alright
I'm going to wait for the server to
restart okay let's try this again now it
maps to test I do three get rid mr. /
three it again maps to test I can have
you know any random set of values over
here and it is still going to map to
this so that's what available does right
it's going to map anything any variable
element of the URL to this you should
not have a word that this is just one
portion of the URL which is separated by
a slash now if I have to do something
like this right I have another slash
over here that's not going to work
because it says I have one variable
element another variable element there
is nothing that maps to slash messages
slash variable slash another variable
right so this method just maps to slash
messages slash one variable so it's just
one portion of the URL that works okay
so now we have done this now what I want
to do is be able to capture this
variable element so that I can send it
to the message service so what I want to
do here is do a message service dot get
message and I need to pass in this ID
right I need to pass in message ID now
how do I get hold off this message ID so
Jersey has a feature that actually
passes in the value that you are
interested in right so you can pass in
these values as method arguments so
let's I have a string message ID to get
hold off this message ID so what you can
tells your
hey whatever value this is send me that
over here right just them having the
same name will not do you need to give
it an annotation which is but param and
the pad fine I'm Dixon a value which is
message ID okay let me comment this for
now so that if you don't see this error
and I'm gonna import pad pram from the
same package okay so here's what's
happening right so I'm basically telling
Jersey whatever your mapped over here
send it as an argument when this method
is called so when you have in your
writing code over here you can assume
that the message ID is going to have the
right value so the way to do that is to
annotate an argument off the method with
a path param annotation so you're
telling jersey hey there is a parameter
in the path called message ID that
you've mapped to inject that value as a
parameter to this method so that I can
access it in my method so to test this
out let me just do a got path param I'm
going to print this I'm gonna return
whatever was passed right so let's save
and run this and there you see it's
returned platform so whatever I'll add
whatever thing I send over here it's
going to get hold of that so if I do a
slash one I get pad prime 1 so this is
how you get hold of this variable
portion of the URL ok so this is perfect
and what I want to do is send this
parameter to message service dot get
message right and I can actually return
this and this have this return message
right well here's a problem message
service target message expects a long
and
what we have is a string because the URL
is a string now how do you send it to
get message well one thing you could do
is convert that string to a long and
send that over here but thankfully you
don't have to do that Jersey is might
enough to do it for you so all you need
to do is instead of accepting the string
as an argument let's say I accept a long
message ID as an argument
then what Jersey is going to do is it's
going to say okay I have an ID element a
URL element which is a string it starts
off as a string but then it sees a long
member you know the parameter over here
and says okay this method requires a
long so I'm going to try and convert
that to a long and then this message ID
is automatically converted to a long so
that's how you get this as a long you
don't have to do that conversion
yourself now let me change this to
application XML so that we can actually
see the response in XML and believe it
or not this is it this is the method
let's give it a proper name so I'll say
get message so we're getting one message
mapping it to slash message ID now that
message idea has been annotated with a
path farm so this gets that value note
that this variable name can be anything
can be something called ID for instance
doesn't matter make sure you have the
same value over here what actually ties
this part to this is this annotation
right or whatever annotation you're
using over here make sure you say that's
the portion of the URL that you are
interested in in this method argument
let's try this we know that there are a
couple of messages here ID one and two
let's try accessing them so I'm going to
do slash messages slash one it's signed
oh there you go
I get message ID one I'm going to try to
send a good message ID - what happens if
I do three I know that there is no
message with ID three I get null right
and Jersey smart enough to say that is
to afford no content but you're going to
come back to that in a bit so if there
is a valid message it's going to fetch
that and it's going to return this
thanks to a lot of things that Jersey is
doing for us now the tricky
here is since it's doing an automatic
conversion to long there is a good
chance that something that's not long
gets passed and let's say I want to do
some gobbly gook over here I hit Send
there you go I get a 404 not found so it
doesn't work if it's not long so this
works for any data type we have used
long let's say you wonder the string you
already seen how we do it as a string
this could be an indeed or it could be
another primitive data type jersey is
part enough to do that conversion for
you so another thing I want to mention
is that you're not limited to just one
path poem in your whole path you can
have multiple variables and let's say
for example you have ID 1 slash some
other name slash ID too so you can get
ID 1 as a separate per am i d-- 2 as a
separate parameter parameters like this
right and then each one of them could be
its own data type
the other cool thing is that you can
have regular expressions to catch a wide
range of path options right so let's say
you wanna you want to catch all URLs
which start with name something so you
can have a name star regular expression
which catches all those URLs right so
this this is actually pretty powerful
and I'm not going to go into the detail
of all these different combinations I
definitely encourage you to read the
documentation for how can you use these
path params but this is the core concept
behind using these params in your
controller methods so there you go the
second API fully implemented we now have
two AP is now one to get all messages
master slash messages and then to get an
individual message map to slash messages
slash message ID the next tutorial we
can implement another API see you then
and thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>