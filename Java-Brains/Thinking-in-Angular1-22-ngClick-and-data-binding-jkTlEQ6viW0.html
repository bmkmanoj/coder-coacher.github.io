<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Thinking in Angular1 22 - ngClick and data binding | Coder Coacher - Coaching Coders</title><meta content="Thinking in Angular1 22 - ngClick and data binding - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Thinking in Angular1 22 - ngClick and data binding</b></h2><h5 class="post__date">2016-09-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jkTlEQ6viW0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right now I'm going to show you how to
enhance this Clark application but a
little bit of extra functionality what
I'm going to do is create a button here
which lets you refresh because right now
you see what happens it shows the time
when the page loads but then you've got
to click refresh for it to show the
updated time right so we're going to see
how to make this automatically update a
bit later but for now I want to avoid
the click off the refresh button on the
browser what I'm going to do is provide
a refresh button in the HTML you have
the user click on that and have the page
refresh in the sense I'm not doing a
full page browser refresh what I'm doing
is just having some kind of an event in
the page which updates this write this
refresh button would be very different
from this refresh button in that sense
this refresh button is from the browser
it makes a request to this page and gets
the whole page again and runs angular
and all that stuff
but the button that I'm going to have is
not going to refresh the whole page it's
just going to update the time over here
right that's what we're going to do so
before we do this I need to do a little
bit of housecleaning work here I want to
do that now so you see here have an HTML
page which has is the HTML code it also
has this JavaScript code over here this
is not usually recommended what we would
like to do is have the JavaScript code
as a separate javascript file and the
HTML code alone in in the extra - Geum
and then the HTML file links to the
JavaScript file right so that's what we
want to do you see here I have angularjs
is a separate javascript file and then
I'm linking to this what I want to do is
also create an app dot JS file which is
going to contain my application code so
I'm going to go here and create a new
file I'm going to call this app dot GS
and in the ABS our GS I'm going to copy
over all the JavaScript code that we had
over here just gonna move this there and
just paste this in a dot J's and save
this now I don't need a script tag here
what I'm going to do is just after the
script to get angularjs I'm going to add
another script to get AB dot Jas
next pound the window a little bit here
and just going to quickly format AB 'drj
s so simple javascript file that i'm
linking from index dot HTML so that the
JavaScript code doesn't exist in the
HTML right so this is a little bit of a
housecleaning housekeeping step just
cleaning things up a little bit and
making this a little more of the best
practice way of building things now I'm
going to refresh the page make sure it
still works all right so now to add the
update button over here I'm just going
to quickly add the button first and it's
obviously not going to do anything
update time and then close the button
the button is going to show up but it's
obviously not going to do anything
because I haven't hooked it up to
anything yet now what I'm going to do
here you want to have an event handler
so that when the button is clicked an
event is fired and a piece of JavaScript
code executes all right the JavaScript
code is obviously going to do exactly
what this thing did I just going to get
the time and then display it or at least
update it to the scope but I want to
have that linked to the button so the
traditional way of linking JavaScript
events to buttons is by using the on
click method right they can have an on
click equals and then I can have a
update time method over here and then
the JavaScript code is going to execute
that the problem with doing something
like this however is that this is just a
simple java scene that is not angular
aware think about what this update time
function would need to do the first
thing it needs to do is to get the scope
and then change the time string property
on the scope and scope object is a very
angular thing you cannot just write any
arbitrary function to get the scope
object so because of this on-click is
not going to work we have to somehow
tell angular saying hey angular when I
click this button you call this other
function just like we're doing with
ng-controller so turns out angular has a
separate director for it which is called
ng -
click so it's kind of like on click but
this kind of virus in the angular
functionality so by doing something like
this you can access the scope now if I
save this and of course execute this
it's not going to work because update
time this hook to the update time
function which doesn't exist so it's not
going to work you're probably going to
get console errors now the question is
where do i implement this update time
function you remember I told you any
time you use an expression in HTML it's
basically doing a scope dot right so
here you used time string and what an
angular do it did a scope dot time
string so similarly when you use ng
click and bite it to a method angular is
actually doing a scope dot update time
so what you need to do is not just write
a function anywhere you need to create a
property on the scope called update
diamond let's set that as the function
right because angular is actually doing
a scope dot update I'm here so how do
you create a property on the scope well
it's simple we've already done this so
similar to time string I need to do a
dollar scope dot update time and set
this to be a function and right now I'm
just going to do a console log say
button clicked save this now I'm going
to refresh and show the browser console
I click the button you see here that
function is being called which is really
handy all right
now what I want to do here is something
a little bit different I just want to do
a console that log what I want to do is
update the time string so I'm going to
do the exact same thing over here inside
the function when the button is clicked
I'm going to get the current date and
I'm going to do a dollar scope dot time
string equals that 8.2 time string right
now this is
the first step now I have updated the
time string I need to go here and update
this property saying hey angular the
time string is now updated now you go
and update this display well the good
news is you don't actually have to do
that because once you update a property
on the scope angular automatically does
this and that's really really cool let
me show you so refresh the page right
I'm going to click update time button
and what that's going to do is it's
going to call this function and this
function does just one thing it just
gets the current time and updates it to
the scope property called time string
now how do you tell angular that you
need to update this well the good news
is you don't have to angular
automatically detects that the scope
property has changed and it updates the
time let's check it out you see that the
time automatically updates and didn't
have to do anything all I had to do is
update the property on the scope and
wherever you are doing this the double
curly you're even using ng bind the the
display automatically gets affected
right the display automatically updates
that's really really cool
so this is actually the reason why the
directive you saw before was called ng -
bind it is actually binding to a value
when you do ng - bind equals time string
or you do the double curly braces what
you're doing is we are actually binding
this expression or this HTML element to
the property on the scope so when you
need to update the view you don't have
to change anything in the view just have
to update the scope property behind it
and then the view automatically updates
all right so this is how you actually
change the the display right we've
learned a couple of things in this video
one is how to update the display of
dynamic elements well you don't have to
update the view you just update the data
behind it the second thing we learnt was
a new directive called ng click which
lets us hook in different events so this
ng click works for various other
elements like a link or whatever and you
can hook it to a function the third
thing we learned was that the function
on something like ng click needs to be
on the scope because it's an expression
in HTML and like we've learned any
expression in HTML is usually looked up
on the scope so just like it does scoped
our time string there's a scope data
update I'm here so you need to set the
update time as a property on the dollar
scope that you are having angular inject
and then you can add whatever
functionality you want and any changes
to the scope as far as the view is
concerned is going to get automatically
updated by angular</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>