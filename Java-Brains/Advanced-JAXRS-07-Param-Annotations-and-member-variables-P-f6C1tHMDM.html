<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Advanced JAX-RS 07 - Param Annotations and member variables | Coder Coacher - Coaching Coders</title><meta content="Advanced JAX-RS 07 - Param Annotations and member variables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Advanced JAX-RS 07 - Param Annotations and member variables</b></h2><h5 class="post__date">2016-01-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P-f6C1tHMDM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the previous tutorial we learn about
singleton resources versus per request
resources in this tutorial I'm going to
talk about a unique e use of param
annotations and the implications that
singleton lifecycle has on them so in
the first course we talked about
different types of param annotations
there was query parameters path param
header param cookie param they were a
bunch of param and additions which let
us get information about the request
into our resource variables and resource
method arguments right so I'm going to
start off with advanced jax-ur this
project 3 which is again a copy of
project one with just the name changed
now in in here I have my resource now
I'm going to make a few changes to this
resource the first thing I'm going to do
is introduce a path param over here so
I'm going to say but Brahm slash tests
so it's not just slash test Web API
slash test anymore its Web API slash
something slash test ok and I can send
in some query parameters as well so what
I'm going to do is I'm going to create a
bunch of member variables to member
variables in fact so I'm going to create
a path parameter which is a string query
parameter which is another string so
these are two member variables off my
resource class now we talked about
getting the path param and the query
parameters by annotating the arguments
that the write annotations right so you
could do add but param and give it a
param name and then you could have
another add query Prime and access the
query parameter as well right what's
interesting is these annotations
actually apply to member variables as
well right so I can actually do a at
path prompt for the member variable I
need to pass in the parameter name of
course
and here it's
Braham now I can do ad query parameter
and I'm going to send in query as the
curriculum okay let me import pad pram
and query pram
so it's essentially the same as what we
did last time in the previous course we
had method arguments that were annotated
now we have member variables that are
annotated now I can change this to print
out but I am used this pad pram example
putting prime example okay does this
make sense it's exactly the same as what
we did before but we are annotating the
member variables rather than the method
arguments now let me save and run this
now the API is accessed at maybe API
slash some Pat Brown value slash test
question mark query equals clip run
value now here you see you get the path
param value from here and the query
param
come here now think about why this works
this works because this instance is
getting created after you make this
request so there's a new instance per
request so when this request gets to the
server jax-rs creates a new instance
then it creates an instance of my
resource the member variables are all
going to be in centralized two blank
values right but what's going to happen
is when you have these annotations
jax-rs is going to say okay now I have
these values
in the request so it's going to set
those values to the member variables off
the instance of this resource class it's
supposed to handle this right so since
it's since the instance is getting
created after the request it has all
these values to populate right it's
going to populate that and it's
accessible at the method level okay it's
not very different from having those in
the method itself right because this
instance is just for that one request
you're not going to be able to access
this and other methods because it's only
this method gets run then you make a get
request to this part and then the class
gets destroyed right the instance gets
destroyed the reason why you would want
to choose this versus having method
arguments over here as if you're making
a bunch of calls to other methods in
this class which I'll need to access
these member variables if you have them
as method arguments you need to pass
them around to all these different
methods but if you have them at the
class level all the methods of this
class can access it right so that's one
reason why you would want to have member
variables annotated with these param
annotations rather than method arguments
okay so I'm looking at this path but I'm
in query but I'm here but this applies
to all but I'm annotations right all the
different things that you can pick from
a request are accessible at the member
variable level now the interesting thing
is what happens if I make this a
singleton now this instance gets created
before the request right so this could
be request three and it could still be
the same instance that's serving it now
we might have a problem I'm going to
save this and let's see what the error
is
let me expand this and if you scroll
over here you see what the error says it
says validation of the application
resource model has failed so there is a
resource validation that's happening
what is the validation error parameter
this is the path parameter of my
resource cannot be injected to a
singleton
source does that make sense because the
singleton resource gets created before
the request so this injection cannot
happen if the resource is a singleton if
the resource instance were to be created
during the request for the sake of a
request then that injection is possible
because it gets created then but if in
the case of a singleton you cannot have
but that I'm all these param annotations
far member variables you can have it
only for method arguments because the
instance gets created me before the
request comes in okay I hope that made
sense this is an important distinction
to have if you are working with a lot of
singleton resources</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>