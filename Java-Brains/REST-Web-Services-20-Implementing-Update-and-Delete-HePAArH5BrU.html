<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST Web Services 20 - Implementing Update and Delete | Coder Coacher - Coaching Coders</title><meta content="REST Web Services 20 - Implementing Update and Delete - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST Web Services 20 - Implementing Update and Delete</b></h2><h5 class="post__date">2015-05-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HePAArH5BrU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay now let's move on to the two other
men
bending updating and leading we've
discussed update is a put request to
instance you are so basically we want to
update a message with ID to you do a put
request to slash messages / to put the
request body containing the message in
JSON format that way it's very similar
to the post but the post does it to a
collection URL and creates a new
resource the put sends it to an existing
instance URL and it updates that
existing instance so it should actually
be very obvious what you need to do over
here for a put request I'm just going to
do ad put which is the portrait this
method since this two accepts and sends
back JSON I'm going to copy these two or
to this location here and create a
public message 8 message this accepts
message as well and I'm just printed it
on message service dot update message
I'm gonna send the message me import put
so the message conversion happens just
like it happens for post now the
question is what about the path right so
the path is the message ID so I'm going
to just copy over this guy over here so
it's going to be the path which is the
message ID now here's the thing we want
to make sure that the message ID is set
to the message that's being sent we
don't want that mind to set the message
over here right I'll tell you what I
mean by that let me save this and then
switch to postman now let's say I'm this
is message ID 1 right I want to change
this to hello world with an ex-con
action points a right so I could do a
put me copy this do a put it opens up
this thing again
the raw theta and now here I make a
change now if I don't set this there's
really nothing here that sets it right I
mean just any update message so I need
to send what the ID is in two places
over here and over here I don't want to
do this right I want the API to figure
that out
so the VAP I figures it out is by using
this parameter in the path so let's make
DPI smart enough to figure that out so
I'm using the message ID to map to the
slash messages / ID URL let me get that
message ID I'm just going to copy over
this ID over here now I got the ID now
before I send the message to the update
message service I'm going to set that ID
over here so I'm going to do a message
dot set ID and I'm going to pass in the
ID so no matter what the user sends
whether the user sends it or not even if
they send an incorrect ID the ID that
gets updated as always picked up from
the URL so it's a good thing to have and
I encourage you to think about
implementing something like that for put
requests so everything here should look
familiar
you have the path parameter which makes
it takes in the ID from the path over
here and you have the message itself
being picked up from the request body
and the consumes in the producer
sanitation is already familiar to you so
I'm going to set the ID send it update
message and turn it back its death does
it make sure it works I'm going to send
to slash messages slash one the current
value is hello world I'm going to change
it to hello world with an exclamation
point
it's a couple more exclamation points to
show that we're really excited about
this okay so now let's hit Send and
there you see our new message that's
updated
since its id-1 it's going to be tricky
to get it because we are hard coding ID
1 &amp;amp; 2 so let's do this let's create a
new message and then update it so that
we can actually test this out so I'm
going to create a message by doing a
post request to slash messages let's say
this is a test message and let's send
created ID 3 we had one more time
created ID 4 so if I do a get request
2/3 I get ID 3 now I'm going to update
this by doing a put request and I'm
going to paste this remove the ID and
change this updated test message it's
and gets updated now if I do I get over
here I get the updated text message back
ok so this works ok so now let's switch
to our Eclipse ID and do the delete
method as well not even the delete is
done to slash message ID so the way to
do a delete is obviously using the
delete annotation which I import from
the same wrs package the path is the
same produces consume to the same
actually we don't need the consumes
because till it doesn't accept anything
in the request body so I'm going to
remove that ok so I'm going to create a
public wide delete message which takes
in the path parameter being the ID and
it just sends it to the service right it
just does a message service dot remove
message that sends the ID you're not
returning anything here that's reason
why it's avoid I'm going to talk about
other content types that we can use we
discussed no content in unit 1 so we're
going to talk about ways to do that
and the cool thing about Jersey is it
does all those things automatically
which we'll see in a minute so this is
the delete method which takes in an ID
and just remove that message let's save
and run this test this again okay I'm
going to do a post request I think that
was supposed to create a message I'm
going to do a post create a new message
in location 3 now if I do a get it
should return three messages now I'm
going to delete the message by accessing
the messages slash 3 and doing a delete
request here we don't need anything in
the request body I hit Send there's
nothing that's returned there you see
2a4 no content talk about it later but
now let's switch back to our collection
URL to see if the message is gone I'm
going to do a get request here
it's send there you go we just have the
first two the third one is gone so yes
it's working we have a get post put
delete as well as a get for the message
ID or URL so we have all the four
operations of crud for the message ID
URL slash messages last message ID and
you also have a get for the collection
URL which is over here one other tip
that I would like to leave you with is
look at all these consumes and produces
annotations everywhere right so every
method here either produces JSON or both
produces and consumes JSON so if this is
something that you are you know every
method follows you don't have to
annotate the method with the same
annotation every time what you can do is
just take these annotations out and then
I take the whole class you don't have to
do this anymore
sorry I can remove the producers and
consumes annotation in every method here
ok and this is shorter and easier to
read okay so if we have completed some
of the basic functionalities for the
message resource handler we can
focus to the next set of API is in the
next tutorial see you then and thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>