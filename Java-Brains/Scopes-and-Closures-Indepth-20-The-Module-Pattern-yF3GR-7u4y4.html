<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scopes and Closures In-depth 20 - The Module Pattern | Coder Coacher - Coaching Coders</title><meta content="Scopes and Closures In-depth 20 - The Module Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scopes and Closures In-depth 20 - The Module Pattern</b></h2><h5 class="post__date">2016-05-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yF3GR-7u4y4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">another practical use of closures is in
what's called a module pattern in
JavaScript in JavaScript original
concept of private and public methods
you can create functions as properties
of objects and then those functions that
are accessible just like any other
property paying for property on an
object is available anywhere outside the
object you can access it just by using a
reference let's say a creative word
person and let this be an object where I
have first name this is my first name
and last name is my last name okay this
is a person object fairly simple now
let's say I want to create getters and
setters for my first name and last name
properties so I could easily do that by
using a couple of more properties which
are functions let's say I say get first
name which is going to be a function
all right and I'm going to do a gator
for my last name as well I'm not going
to do ceteris because that's going to be
way too tedious to do all of them here
last name returns class Ling alright so
now I have an object here but for
properties first name last name get
first name and get last name now let me
execute this so that there is person
created in the scope of this window now
if I were to type person I'm going to
get this object now in order to use the
Gator I can do a person dot get first
name this is a function so I do open
close it is going to return me the first
name so I have kind of implemented
getters but the concept of Gators is not
just this the concept is not just to
access it using a function the concept
is also to prevent access off the
property itself I don't want to do a
person dot firstly you notice that still
watch because first name is to the
property so you've created a method to
type around the property but now you
also have to prevent access off the
property directly this typically works
in some other languages by using what's
called private and public methods if you
create a function or a method as public
then it is accessible everywhere and if
created as private it's accessible only
inside that class so for instance if I
don't want these these two variables to
be accessible outside I would create
them as private but the in JavaScript
there's no concept of private right it's
all it's all public so this is one use
case where the use of closures actually
help there's a pattern called the module
pattern which basically helps you create
private data and public api's okay so
now I'm going to transform this code so
that I have an object which has
variables which are not accessible
outside but it has methods which work on
those variables and you might be
wondering how closures actually apply
here so the V it works is since
JavaScript does not have a concept of
hiding variables
public-access there's no concept of
private variables the idea is to use
scopes as a way to hide things what's
inside a scope is not accessible outside
right so that's the concept we are going
to use we are going to prevent the
access of first name and last name
anywhere else by enclosing this in a
scope so I'm going to transform this
gold in a couple of steps so that you
know how this works so what I'm going to
do is first thing I'm going to do is
create a function because the only way I
can wrap things in a scope is by
creating a function in JavaScript let's
say I create a function create person
this is a new function over here and now
I have War person moved inside it and
let me get this indentation right all
right now I have a word person inside
and I'm going to return person and now
here I say var person equals create
person and let me call this return value
or return obj and I'm going to return
this okay how is this different from
what we did before it's not a lot
different right so rather than have an
object in line what I'm doing is I'm
calling a function and the function
creates this object and then returns it
right now I have person created over
here up is this any different well
actually it isn't it's exactly the same
thing if I were to reload and run now I
still have person which is the object
and I do person dot get first name still
returns the first name but I can also do
person dot first name and it still works
I haven't hidden the first name of the
last name but here is where I get to use
the scope that encloses it whatever is
inside
this is not accessible outside right now
if I were to do console vlog of person
dot first thing this should not print
the value that's our final goal okay let
me clear this out if I execute this now
it still prints the value this should
not work so the reason it prints the
value is because there is a property on
the object that is being returned and
there is no way to prevent that property
from being accessible outside so what I
want to do is I want to leverage the
scope that is created over here so the
first thing I need to do is clear this
these two properties out because as long
as they're in the object they're always
going to be accessible but no one's have
cleared those properties out this will
not work if I do a get first name the
start first name is going to be
undefined I need to define those
properties somewhere so I choose to
define this not on the object but
instead in the scope of this function
okay so I'm going to create two
variables here so rather than those two
strings B properties on the object
itself they are actually going to be
variables in the scope so I'm going to
save our first name equals
Kaushik and then I have a four so I have
two variables here they are not on the
object but they are variables on the
scope and what I'm going to do is rather
than do this chart first name I'm going
to return this first name property of
the scope variable of the scope sorry
and rather than do this dot last name
I'm going to return this last name
variable of the scope now does person
dot first name work person that first
name is obviously not going to work
because this object is not containing a
property called first-name okay if I
were to run this it would give me
undefined which is fine but not this
person that get first name work what do
you think do you think it would work
well what is gate first Liam do gate
first name is basically a function that
calls that returns the first name
variable but that's this first name
variable
exist when you are doing this well turns
out it does Pickers off closures you see
then this function was created and
assigned to the property over here this
function also had that the whole scope
chain that was created when this
function was created we just stacked
about this in the previous couple of
videos that is the whole point of
closures so what this disco chain that
gets created when this function is
created what is in this code there is a
variable called first-name and there's a
variable called lastname and so then
this object is created on the object our
function objects created as properties
write it this object the return object
this person object has two properties
each of which are function objects and
those function objects have with them
remember that them these two variables
that were available in the scope then
those functions were created and since
they are a part of the closure these two
variables are accessible only by these
two functions that were created okay
it's only these two functions that
remember the first name and the last
name the object itself does not remember
the first name and the last name so the
object does not have properties the
first name and the last name but get
first name and get last name magically
seem to know what these variables are
thanks to closures so if I were do
person that gate first name you are
still going to get the value Kaushik
even though the object itself does not
have the property okay so you can do
setters actually let me do this now so
that it becomes obvious what's going on
here they are since they're created on
the same scope create person I mean two
asset first name which Dixon named and
I'm going to set it on
first name equals name and set last name
is going to say last name equals name so
what I'm doing is what all these four
functions are working on the closure
variable they're not working on the
object properties they're working on
closure variables and since those
closure variables those scope variables
were available in the scope during the
time these functions were created they
remember it okay so I can say a person
that get first name here and then let's
say I do person that said first name
then I call what a fool now if I print
person that get first name again just
when I get changed to fool reload and
run there you go and I do I get the
second time it has changed to foo and
there is no way for me to get that first
name unless I do to get first name
method okay and I can remember that
these two variables are created because
of the execution authors create person
function you do a great person again the
second time it's going to create a new
copy of first name and last name and
that return object that gets created
which is again a new copy whenever the
create person executes it is going to
point to that copy of first name in last
thing that was created then that create
person function was executed okay
hopefully this makes sense this might be
a bit complicated if you're seeing this
for the very first time so I encourage
you to kind of revisit this video you
know another time or play around with us
to see how this works
but what you're essentially doing here
is removing the property from the object
itself because there's no way can make a
property private in JavaScript instead
you are moving those two closure
variables so that the function remembers
them and using the function is the only
way to access those variables
hopefully this made sense this is what's
called the module pattern in JavaScript</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>