<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSPs and Servlets Tutorial 16 Part 4- Using RequestDispatcher in the MVC Application | Coder Coacher - Coaching Coders</title><meta content="JSPs and Servlets Tutorial 16 Part 4- Using RequestDispatcher in the MVC Application - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSPs and Servlets Tutorial 16 Part 4- Using RequestDispatcher in the MVC Application</b></h2><h5 class="post__date">2011-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3ZTxMDDmBqg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now this first link is done now to the
second link the controller has to pass
this model to the view so what's going
to happen is in our successor or JSP we
need to get this user object and we need
to print the user name from this user
object now how do I do that
notice what's happening here we have a
response dot send redirect now in our
earlier tutorial we saw that this is
actually not a typical response as HTML
but instruction to the browser to
actually go make another request to the
successor or JSP so what we are looking
at is to request so the first request
comes to the do post as you know a
submission of this form and then we do
all this work here we get all the user
details and then we do a send redirect
so the browser makes another request for
the successor or JSP now we need to keep
this user object in a scope that will be
available across request so the only two
scopes that we know which you know which
are available across request the session
scope and the application scope of
course we cannot use a request cope in
this case because there are two
different requests now the application
scope will not be valid here because you
know it's used across all the different
users now another user enters a
different user ID and password they
should have their user ID available and
not somebody else
so we cannot save this object in the
application scope so that leaves the
session scope which works out fine
because once the user has logged in in
that particular session we can have this
user object available in the session and
then even if we have you know from the
successor or JSP free redirect to
another JSP or another servlet even that
can access this user object so all I
need to do here is to save this user
object in the session so I will do a
request dot
get session dot set attribute and I will
have the user as a string and the object
that I'll pass is user object this is
the object that we have got now once I
set it to the session and then do a send
redirect to the JSP
now in this JSP this object will be
available in the session so it's just a
matter of getting the value from the
session and then printing out the
username we've already seen how we can
get the object from the session so I'll
open up a script block here I will say
user equals I'm I need to get this value
so I use the session dot get attribute
of user and of course I need to catch
this here because this returns an object
a user is something that we need to
import now the way to import as we've
already seen is by using this page
director LLC import equals let's specify
the package name with the class name the
user okay
now once we have the user object here
then all I need to do is print the hello
message and print out the user dot get
user name
let's save this save the servlet and
let's run this JSP run the login dot JSP
ok now I need to enter one of the users
available here we are not doing any
error error checking you can do that
later but for brevity I have skipped all
the error checking here we need to do a
whole lot of error checking because in
case the user ID is not one of these we
need to handle that appropriately but
let me enter the same value here submit
query well there you go the login dot
JSP has made a call to login service a
login sublet and the login servlet had
got the user object from the login
service and then saved it in the session
now where you know it also redirected to
the successor or JSP and in the
successor JSP we pulled that value from
the session and we are printing out the
user name ok couple of things before we
wind up the user object is in a package
which has the name DTU the DTO here
means data transfer object we use the
word model before so a data transfer
object is actually same as the model so
this object is used to transfer data
between layers we've already seen that
this object is used to transfer data
between the business servers to the
servlet to the JSP and if you have a
data layer it goes from the data layer
to the business servers and then so on
so this is this is a commonly used name
for the model object we can also call
this as a data transfer object secondly
the success toward JSP is actually
pulling out value from the session
because we are doing a response to at
send redirect and it's making a new
request from the browser so what's
happening is the browser is actually
making a second call to success or JSP
after the first call is made let me let
me show you that now say I enter my user
ID and password here and then do a
submit query from here it goes to the
login servlet so that's the first call
and then the login servlet returns a
send redirect and then it makes a second
call to the successor or JSP now because
it's a different call the values in the
request object will be lost the user ID
and password that you enter in the first
call will be lost so that's the reason
why we have to save our results in a
session so that it's available to the
success towards ASP which is the second
call now what if I cannot save this in
the session now not every data can be
saved in the session what if I want to
send the values in the same request and
make this available in the request of
the next call as well what if I want to
persist that a quest object even over
here and have that available in the same
request so now we learn the second way
in which we can take the flow of control
from one subletter JSP to another
servlet or JSP and the way to do that is
when we remove the send redirect here
the way to do this is instead of passing
the instruction to the browser in order
to access a different URL like we're
doing now we need to actually do the
redirect on the server side itself so
the browser does not know this time that
the redirection is actually happening to
another URL or another servlet or JSP
the way we can do this is by using
something called as a request dispatcher
now this request dispatcher object as
available in the request object just
like we put a whole lot of objects from
this request object we can also use the
request dispatcher that's available here
so if we look at the request object dot
you have this method here get request
dispatcher now the get request
dispatcher takes an argument which is
the resource that you are actually
dispatching the control to in our case
it is success dot JSP so I can simply
pass success dot JSP here now let me let
me put this inside a member variable so
I'll define a new request dispatcher
equals request darn get request
dispatcher so now I have this request
dispatcher here I need to import this
this is from July extra tablet now once
I have this dispatcher I can use this
dispatcher to actually transmit the
control to this value that has been
defined in this request or dispatcher so
in order to transmit this control I need
to pass the request and response objects
why do we need to do that we need to do
this because we still consider this as
the same request so I use dispatcher dot
there is a method called forward so this
forward has two arguments it's the
request and the response so now once we
pass the same request in response that
we are getting for this particular do
post now once it dispatcher takes this
request and response and does a forward
to the new resource that we have defined
here once this happens the successor of
JSP will get the same request and
response that this login sublet has got
the advantages of this is one the
browser does not know that this
new requests it is happening on the
server itself the second advantage is
that whatever request attributes and
parameters were passed to this do post
for this login sublet the same thing is
being passed on to the successor
adjacent the same request and the
response and I'm passing this to the new
the success dot JSP resource the success
dot JSP will have access to all the
parameters that are in this request
object since we are doing this I don't
need to set this user inside a session I
can set this inside the request so I
will change this instead of setting this
in this session as I said this inside
the request object dot set attribute and
I'll save the user as an attribute of
the request object now once it's in the
request object and I'm creating a new
dispatcher and I'm dispatching this
request to success to our JSP you know
I'm passing the request and the response
now this request will be available in
the successor of JSP as well so I don't
have to get this from the session what
I'll do instead is I will get this from
the request request out gate attribute
of the user which is what we have which
is what we have saved here we save this
okay just to summarize the change we are
making instead of setting the user
object that we've got from the business
service into the session we are saving
this inside the request object itself
and the reason why we are doing that is
instead of doing a send redirect and
making the client or the browser make a
new request to the Sun you know
successor JSP page we are actually
dispatching it internally in the server
itself so I'm getting a new request
dispatcher for the successor or JSP
which is the resource that we are
passing on the request to and then we
use a dispatcher dot forward and I pass
on the request and response that we have
got so that these become the request and
response for the successor or JSP as
well and in this access dot JSP instead
of getting the user object from the
session I'm getting it from the request
since the request is being shared
between the login sublet and the
successor or JSP now the advantage of
this is now I can get the user ID and
the password that was passed on to the
login dot servlet as well now I am
saving the model alone but if required I
can get the user ID and password because
it is actually a continuation of the
same request let's try this out enter
the username and some password press
submit well the result is the same but
we know what's happening we are actually
passing the same request the only thing
we can notice as different is that we
see in the URL that you know the URL is
still login which is the destination of
the form we do not see a success dot JSP
here because the server has internally
passed on request to the success dot JSP
it is not apparent to the user so this
is the second way in which we can pass
control from a servlet to a servlet or
JSP and this is useful if you don't want
to create a new request and you want to
pass on the request parameters that we
have to the destination servlet or JSP
page</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>