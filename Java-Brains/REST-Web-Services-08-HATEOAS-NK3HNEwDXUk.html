<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST Web Services 08 - HATEOAS | Coder Coacher - Coaching Coders</title><meta content="REST Web Services 08 - HATEOAS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST Web Services 08 - HATEOAS</b></h2><h5 class="post__date">2014-12-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NK3HNEwDXUk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we're going to learn
about haters now that's not a typo
that's actually an acronym H ad e OS
probably in the running for the worst
acronym ever it stands for Hyper media
as the engine of application state I
know
worst acronym ever huh but bear with me
and it'll soon soon understand what this
means so if you remember I mentioned in
the first video in the series that there
is no service definition specification
for STP ice there's no formal document
that really documents the API itself
most REST API is have help pages that
explain what the API you our eyes are
and what the operations are that are
supported I also mentioned in the first
video that the best restful api is don't
even need any documentation and now I'll
explain what I mean by that we visit
websites all the time right so when was
the last time you looked up any
documentation to use a website well
never I hope you don't need any
documentation to visit and use a website
right you just go to the home page and
when you go to the home page you'll find
links to other pages let me click on one
such link you'll get to that page with
more links right you don't need a
documentation or a help guide to know
where to go you just remember the
website address home address and any
other links that you will need to
navigate the site will be provided to
you in the response this is basically
the advantage of using HTTP remember
that HTTP hypertext Transfer Protocol
we've discussed that hypertext is text
that has links to other texts these
links which are called hyperlinks and
what's really handy to navigate your way
through any site write more sites have
these hyperlinks and that's what lets
you go from page to page and that's what
lets you use any website effectively
now let's think about the response we
did on in a REST API what if we
implement the same concept here let's
say you receive a get request from a
client for a message ID right messages
slash a particular message ID we return
that message information in XML or JSON
now what if you could also send links to
the comment resource you arise right and
likes and share resource you arise so
it's basically the server saying hit
line I know you asked for message ID 20
now here's the contents of message ID 20
by the way I'm also throwing in the
collection resource URI for comments
likes and shares for message ID 20 so if
you need a list of all the comments for
message ID 20 that's Q alright to use if
you need a list of shares that's you are
as you use me the list of likes that's
the URI to use oh and by the way this is
the profile resource you arrive for the
author of the message if you need more
details on the author this is the URI to
use right so the web service is
basically being super helpful to the
client by providing all these links in
the response it's similar to hyperlinks
in websites whether the client wants to
use it or not doesn't matter but if they
want it it's there okay so the client
developer just picks up the value after
right URI from the previous response and
make subsequent calls to those you are
eyes and when the subsequent response
comes in that will have further URI so
the client could be interested in right
so if you do this you don't let the
client programmer have no and hard code
these you are eyes in order to interact
with the resources and the application
state so you basically let the hypertext
you send in the response the hypermedia
that is sending the response drive the
clients interaction with the application
state right so you could say that the
hypertext or hypermedia is it sometimes
called being the driver or the engine of
the application state hypermedia
as the engine of application state this
is a tacit 80
oh yes okay does that make sense now
it's still a bad choice for the name I
agree but at least it should make some
sense now by the way I'm not sure what
the official pronunciation of this
acronym is I call it haters you can call
it whatever you want but this is what it
means
okay now let's walk through a scenario
so that this concept becomes clear let's
start with this lash messages collection
URI accessing slash messages should give
you a list of messages in the system
let's say a message your presentation
has the following fields write the
message ID the actual content of the
message the message author who posted
that message and the posted date right
four simple properties a JSON
representation for a sample message
would look something like this let's say
this is a message ID one so it has the
ID value it has the content which is the
body of the message it has the author
who posted it apparently that's me and
the posted date which is when I posted
it now when you access the slash
messages collection URI you basically
get a collection of such message
resources so this is one message
resource so if you access slash messages
you get like a bunch of these message
instances to keep it simple let's say
there are just three messages in the
system right now okay now if you access
slash messages you'd get something like
this right you have three message
representations as a list right because
this is all there is in the system at
this point now that the client has a
list of messages let's say they warned
the details of the first message message
ID one okay they want to know what the
resource URI is let's say they want
update or something like that so they
need to know what the instance resource
URI so that they can make a put request
to that URI we have already design that
URI to be slash messages slash message
ID okay so to get this your I what they
would have to do is they've already got
this response right they've made a coil
to slash messages and they've got this
response what they need to do is take
the message that they're interested in
okay take the ID value they look at the
ID property get the value so Tate they
take that and they appended to the
string slash messages slash okay so they
do a slash messages slash and then they
append that ID value and there they have
the resource URI but this means that the
client will have to know this beforehand
right they need to know to pick up that
ID which is one of the properties
beforehand and they need to know what
Ben did too which is this hard-coded
string as an epi service implementer but
here's a question why not send that
whole uri to the client yourself since
we are sending the message resource
details anyway why not just construct
URI fully and send it to the client
consider a sample response for a single
message like this it's exactly the same
as what we saw before but it has one
extra property it has a property called
HF which contains the link to that
message resource instance okay if this
were to be the kind of response for
every message in slash messages then the
client wouldn't have to do any URI
construction they won't have to
construct URL like we just discussed the
resource URI is one of the properties of
the resource so if you were to design an
API it's such a way that every resource
representation has a property which is
the instance resource URI to itself
think about how convenient it would be
for the client to use right okay so
notice that the name of the link
property is HF this must be familiar
this is exactly how you specify links in
HTML right HF is a property of the a tag
the anchor tag which contains the URL
right this serves a similar purpose here
with this idea we're actually on our way
to implementing some of the hey toes
concepts you're not fully there yet
there's still some more things to learn
let's look at the concept of links and
how we can apply them to resources in
the messenger API we've looked at adding
the resource you are right every
resource right so a profile resource or
a comment resource or well pretty much
any resource could have a href attribute
that has a value of the instance
resource URI of itself but that's not
the only link that you can provide for
instance message resource could also
have links to get all the comments for
that message okay and all the likes and
shares for that message you could even
have links for the client to post a new
comment to that message right if you
extend this could get a bit messy right
now look at this response you have all
these different properties if you do
this the client doesn't need to remember
the URI yes but now they'll have to
remember all the property values for
these you arise property names so that
it gets the right value and you
basically have the same problem there
needs to be a better way to manage these
links and there is you can use the rel
attribute if you've used anchor tags
when writing HTML the a tags when
writing HTML you might have encountered
this rel attribute before it's basically
an attribute that you can add to any
link to specify the relationship between
the current document and the link
document the most common example for rel
stylesheet' links you have seen
stylesheet links and HTML head tags like
this right the H ref here provides the
actual URL being linked and then the rel
attribute describes the relation of that
link to the main document here the
relation is that the link is a
stylesheet of the main document so we
can use the rel attribute to add extra
information in the links in our rest
response here's the original HRF
response
modified with the new rel attribute
edition
okay so you have links as a property
which contains one instance right it's
an array which contains one object which
is the HRF which has the link and then
the rel which is self mine we've
introduced this new property now this is
going to contain all the links that you
want to embed in the response right you
add a rel attribute to make it clear
what that link points to right rail
points to self which indicates that here
the link in the resource is pointing to
itself this could be extended by adding
new links and assigning the right rel
values for each right you could have
assigned the appropriate values so let's
say you want to add a link for getting
all the comments so you could add a
hedge ref which is another element in
this links attribute and the rel could
be comments you want to add the likes
URL could add that as a href and the rel
for that would be likes and shares and
so on you could also have profiles and
then the rel for that would be the
profiles with the author or something
like that if you do this now the client
doesn't have to remember the link
property name right they just have to
find the link with the right rel value
for the resource that they want and then
they just look up that ref for that link
okay a couple of things to note here
while the concept of having you our eyes
in the response to achieve haters is
something that's well understood and
it's mostly agreed upon by all the way
to do this could differ drastically
depending on the implementation right
the format of JSON that I've outlined
here is just one of the multitude of
ways in which you could structure these
links again there's no right or wrong
you can choose to tweak how you want to
present the links in your JSON response
depending on your preference in
depending on your clients ease of use
secondly the rel attribute here is a
part of the HTTP specification so there
are only certain standard values that
are allowed for it there is a link in
the description which lists the
available values and obviously the rel
value here like
and lights are not actually standardized
values but first we'll use it like I
mentioned before the idea is to have an
API that's easy for the clients to use
and it's easy for you to maintain you
don't want to focus too much on getting
things right and going by the book at
least not at the cost of complicating
the API too much okay in summary haterz
there's a way to provide links to
resources in the API response so that
the client doesn't have to deal with the
URI construction and the business flow
they make a request and the next steps
along with the URIs for the next steps
are handed to them in the response when
you write api's you can choose to add
these you arise using the href attribute
they can also provide more information
about the relationship to the link
resource using the rel attribute
I hope the concepts are clear and I'll
see you in the next tutorial thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>