<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSPs and Servlets Tutorial 16 Part 2- Writing an MVC Application | Coder Coacher - Coaching Coders</title><meta content="JSPs and Servlets Tutorial 16 Part 2- Writing an MVC Application - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSPs and Servlets Tutorial 16 Part 2- Writing an MVC Application</b></h2><h5 class="post__date">2011-05-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EOdvmGVdndA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I have the authentication method here
which checks whether the user ID and
password have been at indicated or not
are valid or not now what I need to do
here is from here I need to call this
method because this is a controller the
controller will not be doing the work of
the business service the business
service is interested with
responsibility of doing the earth
indication and the controller just calls
that method of the business service so
let me instantiate an object of the
business service okay I've created an
object here and now of course I'll have
to import that class and now all I need
to do is pass the user ID and the
password these two strings here to this
the method of this service object and
then capture the response now let me
declare a boolean result equals login
service dot authenticate now I will pass
the user ID and the password Eclipse has
prefilled it for us so I'll just leave
it at that
now depending on the value of the result
if it is true or if it is false we will
have to take action accordingly now if
the result is true then we'll have to
redirect to a success message page and
if the result is false we will have to
redirect to a login page which you've
already written now let's pause for a
minute and think this over in our
earlier examples our do post would just
get the request and get the response and
then use the request to get the input
values and then write to the response
object we have never actually redirected
from this piece of code to another
servlet or another JSP so in
so far all our examples have been
standalone service sublets we just get
the request and then deliver the
response so now we need to understand
how to redirect control from this
servlet to another JSP we hit the login
JSP are the success message JSP so
before we learn how to redirect let's
create the success message JSP as well
so i'll again right click new JSP file i
will call this success JSP and i'll
change the title here to success and
then i'll add some text here in
successful and I'll save this ok so now
we have both these jsps login to our JSP
and the successor or JSP ready now how
do we do the actual redirection we do
the redirection by using a method from
the response object the way it works is
if you have content that you need to
send to the response object then use a
response object and then you get a
printwriter
and you print all those values into the
response object but in this case we are
not actually printing content to the
response object instead we will send an
instruction to the response object
saying hey I don't have the content here
but you should redirect to this other
page which will display the content so
basically instead of printing your text
or HTML that gets into the response we
are actually sending instruction to do
an actual redirection so once we pass
this response Tomcat will again convert
that to HTML code and send it to the
user so the users browser knows ok this
is not an actual response I actually
need to look up at another page and then
it does the request for the page that we
will instruct in the response object so
let's pass the instruction depending on
the result
now if result
which means that if it is successful now
if the login is successful what do we
need to do we need to redirect to the
success dot JSP which means we need to
send an instruction to the browser same
redirect to sequester JSP now the way we
do that is by using the response start
response object and we use a method
called send redirect now the send
redirect takes one parameter which is
actually the name of the new resource
where you are actually redirecting the
response now the new resource in this
case is success dodgy ASP so we'll just
pass the JSP name here success dot JSP
and I will add something else here which
Ana I'll explain in a little while I'll
just add a return ok now if the result
is false that means that the
authentication has failed in that case
we will do a response dot redirect again
to the login dot JSP and I'll either
return here as well let me save this and
let's run the login dot JSP again
okay so I'll type some user ID and I'll
type some password say submit query
there you go it's going to success so
JSP now what happens if I leave the
password is blank submit query its back
to the login JSP page so I hope it's the
flow is clear now the log into JSP
actually does the submit and then the
values that you've entered here goes to
the action which is a login and the
login is actually handled by the sublet
because we have defined it over here now
since the since the method is post the
do post method of the servlet is called
and in this - post method we actually
capture the parameters that are being
passed and we instantiate a login
service which is a business service and
in the business service method we have
an authenticate and we pass the user ID
and password that has been sent to us to
this authenticate method
now the authenticate method takes over
and it checks for the just the password
again this is a dummy method just checks
if the password is null are just blank
then it'll return false but if the
password has some characters and it
returns true now once we get the
response we is shown here in the result
boolean and then now if the result is
true then we redirect to success door
JSP and if the result is false then we
redirect to login to a JSP so what have
you implemented so far we've implemented
the controller which is login servlet we
have implemented the business service
which is log in service and we have
implemented the view which is success to
our JSP and login dot JSP now what's the
module here we are not passing a lot of
data around while we are passing is this
boolean from the business service so
actually the model here happens to be
the boolean the result that we are
getting here now we are not using the
boolean in order to
generate the view itself we are using it
to decide what happens to the view
whether we need to go to the success or
back to the login but the success dot
JSP does not use this boolean result so
we will will make some changes to the
code so that we actually get some data
from the business service and we will
use that data inside our view say from
our success to JSP in order to change
how the view gets displayed overall this
is a basic layout of a MVC where we have
the model which is the boolean as the M
V which is the view the successor of JSP
and the login dot JSP and C the
controller which is this login sublet
now before we wind up there is one other
thing we need to learn here we saw this
response dot send redirect is the method
that we use in order to send a response
to a different page at a different
resource so the parameter that we take
here is the actual URL here at successed
or JSP in case it's a servlet then we
need to mention the servlet path that
you know we define for the servlet say
for example I had to I had to defer you
know I was in another servlet and I had
to redirect to this login servlet so
this is the login path so I will have to
send login over here instead of the JSP
name so that's one point the second
point is that a response dot send
redirect cannot be used with a actual
response that is sent you know using our
previous method what I mean by this is
let's say for example you use the
response object and get a printwriter
and once you start writing HTML content
to the response object using that print
writer then somewhere in between you
cannot do a response dot send redirect
it has to be either the HTML content or
a redirect so this this is applicable
both ways now once you do a send
redirect you cannot use a response
object to write any HTML and send it
back to the user well it of course
doesn't make sense because once you are
doing a redirect then the end user is
going to get a redirect instruction on
his browser and then they will the
browser is going to redirect to the URL
that we are going to send here so there
is no point in doing a sent redirect as
well as you know sending text or HTML
using the response object so it has to
be either one or the other
okay well this application is far from
perfect there are a lot of changes that
we can do and the first change that the
first change that we're going to do now
is to take a value from the business
service and then pass it on to the view
and then the view is going to use that
value and render something different</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>