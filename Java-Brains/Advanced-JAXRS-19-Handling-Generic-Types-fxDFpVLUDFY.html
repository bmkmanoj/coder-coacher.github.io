<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Advanced JAX-RS 19 - Handling Generic Types | Coder Coacher - Coaching Coders</title><meta content="Advanced JAX-RS 19 - Handling Generic Types - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Advanced JAX-RS 19 - Handling Generic Types</b></h2><h5 class="post__date">2016-01-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fxDFpVLUDFY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we've seen how you can use
certain signatures of your client API in
order to cast a response to a type you
need right we wanted message so when we
do the get requests to a particular
message we said hey Jax our ask line I
expect the message as a response and
jax-rs was actually smart enough to give
you a message instance he got the
response and it said the right message
instance value and handed it back to you
well this is cool there is one
particular problem we face with generics
that I'm going to talk about now if
you're dealing with a jak source client
which returns a generic type like a list
of messages in this case you're gonna
run into a problem and I'll show you
what that is
alright so I'm gonna create a new class
to showcase this I'm gonna go to new
class and I'm gonna call this generic
demo and this is a standalone class I'm
going to choose main method and click
finish and I'm gonna copy over the code
from the invocation demo I'm gonna make
a call to the same API right I want to
get all the messages by your and I pass
in the year this should give me a list
of messages I'm gonna change this to get
because we don't need an invocation here
we need to make the actual call I don't
need to return this I'm gonna hard code
the year for now and say it's 2015 okay
now if I were to leave this line as is
right with a get without any arguments
what I would get back there's a response
right now if I do a scienter new local
variable I get a response instance but
this is not what I want I'm gonna use
the school feature after Jackson asked
line which gives me the type that I need
and the way to do that is to send in the
type in the get method right now if I
want a message I do a get off message
start class and that's what let's the
jax-rs klein know that i need a message
instance and it's gonna give me
message instance right it's gonna
marshal and give me the message instance
now what do I need to do for a list can
I do a list that class here let me try
that I'm going to type in list start
class from Java util list and now I need
to change little dawn do a list okay now
have a list return back let me print
this out and see what the value is
thanks cute this I get a nasty error
let's look at what the error is well
this is the familiar message party
reader not found header so the problem
that's happening here is it's not able
to convert the value that was returned
from the rest API response into a list
and you see it says it's a generic type
list that it's not able to convert to so
this is a problem when you're dealing
with jax-rs clients that you know make a
call get a response which happens to be
a generic type it could be a list of
messages a set of Commons anything of
that sort of right when you're dealing
with generics you need to do something
special so the way jax-rs solves this
problem is kind of weird but I'll
explain what what's happening here and
how to solve this issue so let me remove
this list dot class this is clearly not
working now if you do a control space
here you see there is this signature
which expects a generic type so what
this means is you need to pass in an
instance of this generic type class okay
so the generic type is something that
comes with jax-rs
so you need to provide an instance of
this generic type now the generic type
class itself is a generic type you see
here there is a t
now when you provide an instance of a
generic type T you need to specify what
that T is right so in this case that
happens to be the genetic type that you
expect right so what is the generate
type we expect that is less stuff
messages so what you need to send is
generic type off list off messages okay
I know this is a bit confusing but go
with me here I'll show you what this
looks like in the end so if I were to
choose this signature what I would have
to do is say generic type and the
generic type of this there is a list of
messages okay but this is not what we
need to send we need to send an instance
of this so what I'm going to do is I'm
going to say a new and I'm gonna create
this in line class let me import these
guys here and now I'm just gonna say
open closed so that this it's an inline
implementation and an instance and I
need to change the response to a list of
message now this is gonna work because
now jax-rs knows that what I'm getting
back is a list of messages now I'm gonna
change this and execute this and there
you go we have a list of messages so
it's a bit convoluted the way this the
way you solve this problem but this is
how you do it
you create an instance off this generic
type class that comes with jax-rs and
the generic type itself happens to be a
generic type and that type is the
generic type that we need which is a
list of messages if this does not make
sense go ahead and watch this video
again hopefully it does after that but
I'm going to leave this code out here
hopefully this code serves as an example
for when you're stuck with generic types
and you're a jax-rs client and you don't
know what to do this is how you do it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>