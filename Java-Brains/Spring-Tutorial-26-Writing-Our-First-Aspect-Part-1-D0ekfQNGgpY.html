<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring Tutorial 26 - Writing Our First Aspect Part 1 | Coder Coacher - Coaching Coders</title><meta content="Spring Tutorial 26 - Writing Our First Aspect Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring Tutorial 26 - Writing Our First Aspect Part 1</b></h2><h5 class="post__date">2011-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/D0ekfQNGgpY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to this tutorial in
this tutorial we're going to write our
first aspect code so in the previous
tutorial we created this spring AOP
project in which we included the spring
library and the aspect G library in
order to find out what are the
dependencies with the spring library
check out the setting up spring tutorial
and in order to check the dependencies
of the aspectj library check out the
setting up AOB tutorial so if you have
these two libraries included in your
project you're all set to start writing
you pee so let me first create a simple
project which will be the basis on which
we will start writing aspects the use
case that I have in mind is you know a
business service let's use the shape
example that we've been using so far so
I want to create a shape service which
will have methods to retrieve some shape
objects be it a circle or a triangle or
any other shape and I'll have a class
with the main method that will get an
instance of this business service using
spring dependency injection and it will
you know call the method in order to get
the actual object so first let me create
a class which will have this main method
and I'll call this as you be mean likely
with the main method okay so here I will
be instantiating the spring application
context so let me create this spring
eczema again I'll call this spring dot
XML click on the source tab the file is
obviously empty so we need to fill in
the required XML structure and once
we've done that we can add the paint
definitions later so if you remember we
have a few namespaces that tell us what
are the you know what are the tags that
we need to use so
what we did in the earlier tutorial was
we took one of the XML files that came
with the spring distribution so we're
going to do the same thing in this
tutorial as well so that it saves some
typing so let me open up the projects
folder okay so I have my Spring
Framework distribution over here so
you'll notice there's a projects folder
so open that here you have a lot of
sample content and you have a lot of
sample spring XML files that we can use
but what I suggest you do is search for
a particular tag and search for files
which have this tag as content so the
tag here is aspectj
- auto proxy we'll look at what this tag
is in a minute but what we're doing here
is we are searching for files which
contain this particular text as picture
- Auto proxy and of course we are
looking at XML files so pick any of the
XML files that you see here I see a
simple conflict tests dot XML let's see
what this contains yes this is a spring
XML it contains the tag EOP hi : aspectj
- auto proxy so this this file will do I
will open this and what I will do first
is I'll copy the header we know the
beans tag and of course I'll include
this aspectj Auto proxy as well we copy
this whole thing and I'll paste it in
the spring XML so essentially what we're
doing is we are copying this this header
beans header of course this is this
pretty simple you can type this in
yourself
context annotation configuration let's
remove this for now let's remove them
both for now so essentially you're just
copying the the beans header tag and
let's close the bean stack and now we
have our basic spring XML template Allah
quickly tell you the reason why we did
this the reason why we search for that
particular tag the reason we did that is
for aspect oriented programming we need
to write some time
which use the AOP namespace what I mean
by opening spaces the tags will be
something like a o P : something else so
in order to use this kind of a o P
namespace we need to have that namespace
included in the beans tag so you see
here you have the namespace declaration
for you P and you see we have the schema
location added as well so this is what
we needed for this tutorial because
we're going to be writing EOP code so if
you pick this beans definition tag from
some other XML in mishio P is not really
used you might not have this particular
namespace in the bean stack so that's a
reason why we looked at xml's which have
a specific AO P tag so that we know for
sure that for that example you would
have the namespace to find the beans tag
so that's that's a good XML to copy this
tag from so now we have the spring XML
with the EOP namespace so we are all set
to write our first beans so in my a o P
main let me first in she ate the spring
application context so I'll say
application context sleepy x equals new
let's say the class path XML application
context so this is the one and I just
need to pass the spring dot XML this is
the XML name now I'll import this
application context so we have an
application context on which we can call
our gate bean methods so now what I will
do is I'll create a service class which
is the shape service and I will create a
couple of shape objects new class so
this will be the
/ I will include it in a package service
call this shape service finish now I
want to create a couple of shape objects
create circle and put it inside a
package module because these are
actually model or DTU classes so I'll
create a circle and I'll also create a
triangle okay so in my circle or
triangle I don't want to add a lot of
movie variables for now I just use one
member vehicle which is the name so the
name of the circle the name of the
triangle so have a private string name
and I'll generate the caterers and
setters okay now I have this I'll use
the same thing for the circle as well
okay let's see if these two now in my
shape service for now let's not use any
interfaces to keep things simple I'll
have private circle and a private
triangle the import then both
and I will generate the Gators and
setters
okay so now I have a shape service that
returns either a circle or triangle
depending on the method that we call I
have a get triangle which will return a
triangle another get circle this will
return a circle
so now let's configure these beans
inside the spring eczema so first I'll
define the to model tags check one tag
for the triangle and let me set the
property name value as triangle name so
this is a simple triangle bean
definition and just initializing a bean
of the class triangle with the name
triangle and then I have set the name
member variable to triangle name so I'll
use something similar for the circle as
well so this will be circle this is
again the circle class and then the
value of the name initializes circle
name so now I have these two model beans
Namal and shade the the service bean so
when I copy this
I'll call this ship service and the
class that it actually refers to service
dot shape service now since I have both
triangle and circle as member variables
so I will apply a quick shortcut I'll do
thee Auto Wash by name so that I don't
have to type the whole dependencies
because actually I need to wire the
triangle to the triangle member variable
of the service and the circle to the
circle member variable of the service
since this names happened to match I'll
just use the auto by by name okay so now
we are done with the spring XML let's
save this so here all I need to do is I
need to get the shape service by using
the get bean so I will say shape service
equals C T X dot get being off shape
service of course I'll have to cast this
one thing we can do is of a semi import
shape service so now a context dot gate
beam gives me an object which I need to
cast to the object that I need to place
it in there is one more way we can do
this the get beam method has another
signature which takes in two arguments
one is the name of the beam the second
thing is the class itself so if I say
shape service dot class what I'm telling
Springer's hey get me this beam but then
this beam is off this particular class
so don't ask me to guess what you cast
it yourself and get me
the beam of this particular class so if
we call this but this method signature
of the kid beam which is the beam name
as well as the class itself the kid beam
method automatically takes care of
casting it for us so we don't have to
add an extra cast over here okay so now
I have the shape service now I'll use
the shape service to get let's say a
circles name so I'll print this out I'll
print the shape service dot get circle
dot get me so it should print out circle
mean save and run this so here you see
circle name is printed so now this is
this is core spring okay we have time
dependency injection and we have set up
a lookup with the get beam and spring is
returning this beam so now we will start
writing an aspect and we will tap into
this execution flow which is you know
the shape service calling the circles
member variable value and printing this
out so we'll use this execution flow to
write our own aspect and the aspect that
we have in mind is a simple logging
aspect so we want a logging message to
be displayed whenever let's say let's
take the circle okay so whenever the get
name of the circle object is called we
need to print a message into the system
control now how do we do that we'll do
that using an aspect</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>