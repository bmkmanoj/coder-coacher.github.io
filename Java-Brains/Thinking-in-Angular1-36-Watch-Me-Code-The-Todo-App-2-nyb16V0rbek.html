<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Thinking in Angular1 36 - Watch Me Code The Todo App 2 | Coder Coacher - Coaching Coders</title><meta content="Thinking in Angular1 36 - Watch Me Code The Todo App 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Thinking in Angular1 36 - Watch Me Code The Todo App 2</b></h2><h5 class="post__date">2016-09-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nyb16V0rbek" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">gonna add an edit button over here which
is gonna let me edit all these different
elements and when I edit an element I
want it to be the one that would be a
text box obviously not so that I can
edit it so let me actually go ahead and
create the text box so in this list
element that I'm actually printing out
the element itself I'm going to add a
text box next to it I'm gonna have an
input type equals text and I'm not going
to bind it to anything at this point I'm
just going to have an input box here
right I'm adding an input inside the
ng-repeat
director so now what's going to happen
is there is going to be as many text
boxes as there are to do all right these
text boxes are not bound to anything I'm
going to add a new element it's going to
get a new text box as well so this does
happen now what I want to do next is
have some kind of an edit button over
here and when I click on it I want this
label to go away
and the text box to remain okay there is
really no way you can change a
particular HTML element to another HTML
element raised I can change this label
to a text box what I can do is hide the
label show the text box and when the
editing is done hide the text box show
the label all right so that's what we
gonna do I'm gonna have an edit button
here when I click on the edit button the
labels are going to go away and the text
box is gonna show up okay so let's
create that edit button and have a
button over here this edit now I can
link this to an ng-click equals trigger
edit mode now what is trigger edit mode
do I'm going to have a flag which is
going to switch between edit mode true
and false so I'm going to go back to the
controller and by default I want this
dot edit mode be false because I want
the text boxes to be hidden by default
and then this dot
trigger edit mode is going to be a
function which is going to set this
start edit mode and negate it so that if
edit mode start are being true it's
going to make it as false and if it's
false it's going to make it as true okay
now by just by doing this I am updating
a flag when this gets clicked I'm not
using the flags let me go ahead and use
this when we go back to index.html and
now I want to selectively show and hide
one versus another so I'm going to have
a span over here instead of an
expression because you cannot have an
ng-show and ng-hide for an expression
that will span and then ng bind equals
to do now with this I have not affected
anything yet still the same but now I'm
going to do an ng-show and ng-hide so
I'm going to say ng show or rather ng
hide if ctrl dot edit mode and the input
tag should be ng show if ctrl tap edit
mode alright I want the span to be
hidden when it it mode is true
I want this input to be shown when edit
mode is true I'm gonna save this refresh
the page of the text boxes are hidden
I'm gonna like look at it there you go
three text boxes click at it again get
the labels okay and this works for new
elements that you add as well alright so
now we can edit but now you've lost the
elements right so there is some to do
already and I click on edit and it's
gone so I want to retain that how do I
retain it well these are text boxes so
all you need is an NG model I'm going to
say ng model equals the element
in the textbox what is that element it
is to do so I'm going to bind this to to
do all right now I'm going to refresh
the page now guess what it gets the same
text that was in the list why because
when I do an entry model is basically
using the variable here it's the to do
as the backing model object for the
textbox so the textbox is going to
contain the value of that variable which
is as we already know it is the to do so
let me update this so I'm going to say
try out more exercises when I click on
the edit there you go it gets updated
because it is binding to that same value
so when you make a change
thanks to ng bind it is to be data
binding and the to do which is an
element on this array wrong script here
is a to do which is an element on this
array this also gets updated so it's
pretty cool now I also want to change
this to are done then it is in an edit
mode because right now it still says
edit so I warned the button start off is
edit and when I click on it changes all
these text boxes but now I want the
button to say done all right now we must
have guessed how to do this I am going
to make a copy of this button it's going
to be done and again I'm going to use
the same ng-show and ng-hide I'm going
to ng-hide I'm going to ng hide the edit
when the edit mode is available and I'm
going to ng show the done button when
the edit mode is available again I want
these to the targa okay refresh the page
have at it a click on it it goes to edit
mode and the button becomes done click
on done now it's back to edit alright as
you can imagine there are multiple HTML
elements in action here but as far as
the user is concerned they don't care
they just looks it just looks like
button is being changed to done and so
all that really matters they want to be
able to click a button and then get out
of it at Port and we are facilitating
that finally I want to build a done
button or a delete button rather on next
to each to do so I want them to be able
to click on a delete next to the to do
and didn't remove that element all right
so I'm going to create a button next to
each element over here again I do that
by adding it inside this ng-repeat
button which says delete now refresh the
page and the button does show up I want
the button to not show up when you're in
an edit mode not really required but I
think it's a good practice to kind of
streamline the user interaction of this
page so I'm going to hide the button
when I did more to store nan so I just
copy this ng-hide put this here so the
button is available only when you're out
of the edit mode when you're editing
you're just editing and when you're
deleting that means that you're out of
the edit mode and you're deleting your
to-do all right now how do I delete it
to do I can click the delete button and
have it bound to an ng-click method
obviously so I'm going to do that now
I'm going to say ng click equals I'm
going to have a ctrl dot delete to do
method now I need to create this method
equal by to abs rjs say this dot the
leap to do is going to be a function
that needs to delete the to do I need to
remove it from this array and as we know
angular is going to take care of
updating the list automatically how do I
remove the element from the array and
more importantly how do I know which
element to remove well I can know this
by passing an argument similar to what
we did for the operations in the
calculator app it was the same method
that was being called by multiple
buttons but the method was doing
different things depending on what was
passed as an argument so what I'm going
to do here is I'm going to pass as an
argument
the to do that needs to be deleted right
if I were to do that then I can just
take the index and then I can remove
that element from this list just by
taking the icing hey remove that index
element from this list so I can do
something like this this start to do
stud splice and here you can see the
hint which says this is something
there's a method on an array that
removes elements from the array all
right so it takes two arguments one does
it start there's a number of elements so
I'm going to have index B where the
element needs to be removed the number
of elements that needs to be removed
this is one so by this I'm removing an
element at the index location so I have
the delete to do method that deletes
what to do at a particular index now how
do I pass the index to the delete to do
method over here but we already learned
that with ng-repeat you get some
variables scope variables out of the box
and one of them is index that is this
dollar index variable so I can just use
the dollar index variable to pass the
current position of the delete to the
dilip to do method so that when the
delete to do method does get called it
knows which to do to remove okay
let's refresh the page one more time and
let's say I delete this there you go it
went away we have learnt angular 1 now
no just kidding alright so I'm going to
refresh the page I'm going to add a
bunch more and now I can delete and
those elements go away right so this is
the delete functionality
now before we wind up there is one other
thing that I want to mention and that is
a strange behavior that you might have
encountered so let's try this let's say
I have ABC as the to do I click on add
now I have ABC over here I'm going to
try adding ABC one more time now click
on add well it doesn't get at it let me
try one more time ABC it still doesn't
it add it if you look at the console you
will see an error
what is it same it is duplicates in a
repeater are not allowed use the track
by expression to specify unique keys
what's happening here is angular is
complaining about duplicate values in an
array that you are using to loop through
with ng-repeat so angular requires that
any array you loop using ng repeat needs
to have unique elements there cannot be
two elements that are equal why it's
really because of how the ng repeat is
being implemented but if you have
duplicate elements in your array ng
repeat will not work so what do you do
about it
you might want to allow duplicates right
so one way to allow duplicates let's do
not have these things be primitives
instead I would be objects now rather
than each element of the array being a
string let's assume you had something
like this you had an object where the
element was theory all right now each
object contains this thing and whenever
you are pushing a new element into the
array you don't just push the string
itself you construct an object where
there is a key called element and then
the value is that string if you were to
do this then if you were to add
duplicate values it would still work
because you're not adding the value
itself to the array you are creating an
object out of it and then assigning that
object as an element in the array so two
strings can be the same values the same
but two objects cannot be the same
because you're constructing them on the
fly so you could potentially have two
objects with the same to do value as a
string but they are considered two
objects and ng-repeat is not going to
have a problem right that's one way to
do it another way to do it is by using
this hint that the error message
provides it's saying you struck by
expression to specify unique keys all
that ng-repeat needs is some kind of a
unique number in order to track which
iteration it's going through so the way
to do this is to use this class called
track by and specify some unique scope
variable for each iteration now we know
that the two
arrey element itself cannot be used
because we might have duplicates but
what is a guaranteed scope element
inside this ng-repeat that you know is
for sure couldn't be unique for each
iteration but we already use one which
is dollar index right dollar index is
something that angular creates and it's
guaranteed to be unique so I'm going to
use that to track by and basically
saying hey angular I know you get
confused when ng-repeat loops through
common elements same elements in the
array so don't look at the elements to
track your loops use the scope property
called Dollar Index which I can
guarantee you is a unique loop element
it's going to be different for each loop
iteration how do we know it's going to
be different because this is something
that I angular manages and angular
promises that it's going to be unique so
the dis track by refresh the page and
this time I'm going to try adding
duplicates and it's fine duplicates are
fine now because the ng-repeat is
tracking each element by a dollar index
which is a unique scope property alright
so with this we have a very rudimentary
to do application we have the ability to
add new to deuce and we have the ability
to edit them as well as delete them we
used the ng-repeat along with a bunch of
other concepts that we've learned so far
in this course in order to build this
app this is not the most advanced of
apps it's actually a very basic app but
hopefully this really kill kind of
illustrate all the concepts and all the
things that we've learned in this course
this is just scratching the surface of
angular there's a lot more learning to
do but I think this course has kind of
given you a start as to how to kind of
tackle the thinking process in angular
again I stress how you need to think
differently in order to build an angular
app and hopefully this course and kind
of understanding that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>