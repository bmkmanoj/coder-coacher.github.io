<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Struts 2 Tutorial 13 - The ActionSupport Class | Coder Coacher - Coaching Coders</title><meta content="Struts 2 Tutorial 13 - The ActionSupport Class - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Struts 2 Tutorial 13 - The ActionSupport Class</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/R6n511ZC50Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome back you remember I
told you that there are different ways
in which you can implement struts to
actions the default way is to have a
simple class that has an execute method
and we've done that that is a class that
does not really implement anything it
does not extend anything it is just a
simple POJO which has an execute method
so it's kind of like an informal
contract because as long as you have an
action class you need to let struts
execute it so start by default looks at
the execute method and when there's an
input request that's the method that the
struts to Framework execute so you can
have an action which is a POJO but as
long as it has an execute method that
should be good so this is one way in
which you can implement struts to
actions the second way is by
implementing an action interface so an
action is a an interface that's provided
in the struts - framework can get
included when you add the charge so this
action interface doesn't really have
much the one thing that it does have is
the execute method which is kind of like
an informal contract here but then if
you're implementing this interface you
have to have the execute method
otherwise you have a compile time error
the other thing that you gain by the
action interface is you get some static
strings that you can use to return value
so you return a success where you return
a failure we return a login depending on
how things go in your execute method so
instead of having hard-coded static
values you can have the static values
that you get by implementing the action
interface so again you don't really gain
a lot so this is not really something
you would see often but then there's a
third way in which you can implement
struts to actions but just by extending
a class called action support so this is
something we're going to look at in this
tutorial you get a little bit more
functionality by doing this rather than
by doing this so this is again another
class that comes with the struts to
framework what we do is instead of
having a plain pojo action class or by
an action class implementing the action
interface what we do is we write an
action
glass that extends this action support
class so they take a look at what is
there in these actions are put class and
what we gain by actually extending this
action support class in our starts to
actions okay so here is my login action
this was earlier implemented as a POJO
and then I change this to implement the
action interface which is the second way
that we just saw so we're going to look
at the third way which is extending the
action support class so let me first do
that here and remove this and extend
this class instead okay so I'm having
the same login action it's extending
this action support class No okay so I
will import action support from comm
open symphony X work to okay so let's
take a look at what this action support
classes now if I control click on this
if you have the attached source you can
see the source if you do not then this
is the way to attach a source what do
you mean by attaching a source it is
just that you tell Eclipse that this is
where your source file is so that it can
open it up directly so I click on change
it at source and I give the path where I
have the source so I click on external
folder and here I go to the stretch
location there's this SRC folder which
contains the source of stretch too so
I'm going to open that and click OK so
now it finds the right source file and
just opens it so here is our action
support class which we are extending in
our login action if you take a look
right away you can see that the action
support in turn implements action so
what we were doing by implementing
action is also done by extending an
action support so we are indirectly
implementing the action there are also a
few other interfaces that it's
implementing
will not get that for now but we'll come
to that in a minute
so the one thing that you should pay
attention to is validate were here so
think about this in our login action
let's say before you authenticate a user
ID and a password let's say you want to
validate whether the user ID and
password is proper or not one sample
validation will be if the user ID is
blank we don't want to proceed with the
authentication you would want to
validate it first and same way for the
password the password is blank you
wouldn't want to go over the
authentication you would want to first
send a message back and say hey the user
ID is blank or the password is blank and
make the user re-enter so how would you
typically do it if you have just one
execute method you would obviously have
an if condition over here where you
validate if the user ID is null or the
password is now return to login that
will just take care of the redirection
but then you would also have to display
messages saying hey the user ID is Nile
or the password is blank or something
like that this is actually made very
simple by using the action support now
notice the action support has a method
called validate now look at the comments
that go above it so it says it's a
default implementation that really
validates nothing subclasses should
override this method to provide
validations so what is a subclass of the
action support over here a does the
login action so what actually we can do
is a login action of any of our actions
that extends action support can have an
implementation of lidat of this validate
method that does the actual validation
so there is a validate method in the
action support that does nothing does
not validate anything that validate
method can be overridden in our action
classes to provide specific validations
that's required for our scenario so in
our login action we can write that
validate and do validation for user ID
and password in our tutorial action we
can override that validate and do a
validation for the language or whatever
inputs that we have so let's try that
out for the user ID and password we will
try to validate that the user ID is not
null and the password is not null well
as NLM in black so I'm going to make
sure that the user has entered something
for the user ID and the password so I
will do that by implementing sorry
overriding this validate method just
copy and paste this here now I can
validate that the user ID and password
is not blank so when I write code in the
validate again just like in the execute
method I can assume that the user ID and
password is filled with the value that
the user has entered so the user has
entered some value in the user ID text
box and some value in the password text
box I can take it for granted that those
values will be assigned to these two
member variables in my action by the
starts to framework so I will do a if
I'll use a string utils
dot is empty of the user ID then I have
to take care of the user ID being null
and of course the same thing for the
password because I could use the Gator
here let me actually do that
I do the get user ID the get password
okay so here inside this if I need to
handle the scenario if the user ID is
blank and in this if I can handle this
scenario whether the password is blank
now how do I do that
I would not only want the control to go
back to the login page I'd also want to
display some kind of an error message
let's look at redirecting the flow of
control and if it were an execute method
how dare you direct the flow of control
I would return the login string and then
that login would be mapped to okay so
that login string would be mapped to
login dot JSP so that is how the flow of
control would go to the login page in
case of an error but is it possible for
me to do that in the validate method no
it's not possible because notice this
the return type is a void the execute
had return type of string and I could
return the string in order to choose the
flow so if I wanted to go to a
particular page I would return the
result string and then that result
string would be mapped to the page that
I've already direct to but in the case
of a validate I cannot do that I cannot
return anything I cannot do it on login
here because the return type is a wide
so how do I redirect to the login page
and then the second question is how do I
display the message so the way it works
in stretch too is it kind of kill two
birds with one stone here so what you do
is you use this particular method
it in the action support called
add field error so the idea is that the
validator is very likely validating the
input fields so you have some fields in
your page and then the user has entered
some values and you're validating the
values that the user has entered so you
can use the add field error method over
here in order to pass an error message
for a particular field name I'll just
implement this so that you can see
what's actually up here so in the case
of the user ID being drunk what I do is
I had a field error and this sad feeler
takes two parameters that we just saw
that is the field name and the error
message so I will add the field name
Bing user ID and the validation message
would be use ready cannot be black and
of course I would add a different feed
letter in case of the password being
blank and that would be of course the
field name password and password your
deep black ok so again what we're doing
is in case of any condition that you
want to catch in your validate what you
can do is you can do add field
error so this is for field specific
error messages so this if condition is
checking if the user ID is blank and if
so it adds a field error for the field
user ID it adds this error message the
user ID cannot be black and of course
the same thing to the password if the
password is blank then you add a field
error for the field password
the error message being with the
password cannot be blank
okay so this is the the messaging part
so we have error messaging in place okay
so now to the second question so how do
we do a redirect since we cannot really
return a string well what's happening in
starts to framework is you don't
actually need to do a redirection what
it does is it checks if there are any
field errors it automatically redirects
to the page where the data was submitted
by the user and the standard convention
and starts to for the the input page
where the user enters the input data is
that you use the string input to denote
the result so what I mean by that is
let's open the login you actually see
that there are two login actions let me
remove this because this would not work
right okay so here I have a login action
that has a result map for success and
result map for login so the default for
an input value for any page so this is
this fine for login but then you could
have a different page where you're
entering some other set of inputs were
you asking the user to enter some set of
inputs and then you're validating you
would use the result input as the
standard so let me do that over here as
well i will define
input is this result name so this is by
default the indicator to stretch to that
this is the input form page so this is
where the user actually enters the data
that was input to this login action so
once you've done this starts to takes
care of the rest
what starts to does is before they
execute this call it calls the validate
but of course before it calls the
validate also it makes sure that these
fields are populated like it will do
before so the user ID goes here and the
password goes here now starts to calls
the validate the validate method
executes there's no really there's not
really any return type so what starts to
does is it checks if this code adds any
field errors to any of the fields okay
so if there are some field errors added
even if there is one field letter that's
added what struts to does is it by
default does not execute the execute
method instead it cuts the flowchart and
instead redirects to the input result so
what is the input result over here it's
the login the JSP so it's going to
automatically redirect to login JSP okay
so let's run this and there's one other
thing that stretched it as well see what
that is okay so here is my login page
login the JSP which will call the login
action upon submit okay so when I enter
some value over here test and test okay
so when I enter the value over here in a
hit submit what's going to happen is
validate is going to get called first
and then it does this validation all
right so let's hit submit now well
there's actually a login error so it
does not go through so let me enter the
right values
user ID password okay so these are the
hard-coded values we had entered in the
previous tutorial okay so you're able to
proceed now here's the thing now if I do
not enter either the login ID all the
password look what happens I'll leave
the password is blank now okay now that
submit notice what happens not only the
starts to redirect back to the login
page it also adds this field level error
message on top of the password field if
you remember this is the spot this
message so we have added a field at a
message for the field password saying
that the password cannot be blank after
validating if the password is blank or
not so stretch to not only does three
direction it also displays the field
error that we have added over here so
the same thing goes for the user ID
let's say the user ID is blank something
with a password and hit submit
say so the user IDs cannot be blank and
then adds that message on top of the
user ID text box and of course it does
that for both if required
so both these messages are coming up
because both of them were validated in
the validate message in the validate
method and then they were filled errors
that were added for both user ID and the
password text box so this is a very
handy way in which you can do validation
this is of course a very basic level of
validation we can do much more advanced
validation which starts to but I hope
this basic level is I hope this is clear
and you can see how helpful it is you do
not have to you know write code to do
all the validation and redirect and
display the messages and all that stuff
you just check the member variables do
your validation and then add field error
messages and stretch to takes care of
the rest it checks the field errors
redirects accordingly and then displays
the field that is on top of the text
boxes or it is not just the text boxes
any control that you want as long as
your control in the JSP is starts to
control
it will work fine now what do I mean by
that I mean that if you have the s :
text field this goes in password so as
long as this is a stretch control its s
:
control starts to knows we have to
display the message in it takes care of
this and of course you there are ways in
which we can format the error messages
also we'll come to that in a subsequent
tutorial but I hope this this part is
clear so this is essentially one of the
advantages of using the action support
class if you extend the action support
class you get one of the features that
you get is the validation and really
what's happening is the action support
is implementing a couple of interfaces
that handles the validation so we have
validated and validation aware so these
are the two interfaces that the action
support is implementing you could
actually implement these two interfaces
and write these methods and not have to
exchange the action support but then
there are all these interfaces that get
added so not only to implement the
action you also implement the action
support and validate validate a build
and all that stuff so this is where it's
handy to just X in the action support
because you have all these interfaces
that are implemented and then just one
class extension is going to give you all
these features so this is a very
introductory look at action support and
one of the features that it provides we
will revisit the validation in a
subsequent tutorial we're going to look
at how this is happening we're going to
look at some behind the scenes flow of
how struts to handles this but for now I
hope these concepts are helpful</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>