<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SOAP Web Services 12 - Schema Types and Binding Styles | Coder Coacher - Coaching Coders</title><meta content="SOAP Web Services 12 - Schema Types and Binding Styles - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SOAP Web Services 12 - Schema Types and Binding Styles</b></h2><h5 class="post__date">2013-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rHJ1v1jsAao" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we're going to look at
one of the important parts of a fizzle
that we haven't paid much attention to
yet it is the types so I am creating a
new class for this tutorial I don't want
to modify the existing product catalog
class so I've created a new class called
sharp info and it's in the same package
arc Kaushik Java brings so this sharp
info is a new class which I want to
create a web service out of and I want
to have a method here which gives sharp
related information so I'm going to have
a method called get sharp info it takes
in a property and returns a value of
that property so let's say I have a
response string here which by default I
utilize with invalid property and I'm
going to check the input property now
and I'm going to check if the input
property is sharp name I'm going to give
the response as the name of the shop
which is test mine and the input
property is since I'm going to give the
response as since 2012 so basically I'm
giving information about the shop
depending on what the request is and
then if it's neither I'm going to return
the response which is invalid property
right so if somebody wants to know the
name of the shop this is passing shop
name to this method and they get the
name of the shop and if they want to
know since when the shop is open they
pass in since as input argument indicate
the value and now this is a simple
Bojo I want to create a web service out
of it so what do I need to do first I
need to annotate with add web service on
top of the class declaration and then
secondly I declare add web method even
though this is optional I'm going to do
it because I want it to be obvious that
this is actually a web method ok and I'm
going to fix the imports and we are done
we have created a new web service
okay now let's publish this
and we'll take a look at the Vista at
the URL for the Vista less sharp in full
service it's basically the name of the
class with the service appended to it we
know that that's the defiled that the
kids generated and the vessel can be
accessed with question mark
let's do okay now if I hit enter here is
the visible that gets generated now I
want you to pay attention to this pipes
section over here so we learned in the
previous tutorial that types is
basically all the data types that are
required for the wisdom now what's the
data type that we have over here we are
taking an input string and we're
returning an input you know an output
string now the types should not really
be very complex now is it now if you
look at the type section there is an
element called xst schema and there is
an import that's happening so it's
actually importing a schema from a
specific location it's importing to a
namespace again the namespace is being
used because we don't have type
conflicts just like we use packages for
Java types we use namespaces for
existing types but then the schema
location that it's importing right so
this is actually a schema that's getting
imported the schema location is this URL
over here you notice there is a separate
URL that's getting imported so actually
the type information is not in this file
at all it's in a different file which is
actually getting imported so let's take
a look at this file what is this file
and what does it contain now if I access
this in a new page you'll notice here
there is a separate schema file then
this file is actually getting imported
in our wisdom now what is the schema
file contain now the schema file
contains an element called get shop info
and then an element called get sharp
info response right so this is similar
to what we've seen earlier there is an
input type and an output type and then
the type itself is defined in more
detail over here okay so this is a type
declaration
so a nexus element is a type declaration
and these two type declarations have
more details over here so let's take a
look at the input type declaration so
input type is get sharp info and the
type is DNS get sharp info now if you
look at the get sharp info you see here
it consists of a sequence type in a
sequence say is there is one element and
the name is arg0
and the type is string the minoccurs is
zero we can take a look at min occurs in
a minute and then let's take a look at
the output response right this is the
output type which is declared over here
and then even this contains a sequence
with just one element the name is
returned and even this is of type string
okay now what does minoccurs mean min
occurs means that this can have 0 or
more occurrences okay so this means that
this could have 0 occurrences of the
input and 0 currencies of the output
might be wondering how is it possible
because you need to have one input and
it definitely returns one string output
so the 0 occurrence is to accommodate
for nulls okay so we can pass in a null
as an input right this is a string and
the string can take a null so that is
why the input occurrences I mean the min
occurrence is 0 but we can change this
to say hey we need at least one string
input and this does return at least one
string output ok so this is a this is
what's happening by default right so the
input type and the output type is very
simple here just taking in a string and
we're returning the string but notice
what GlassFish does it's generated all
this complicated schema and it has
created two types right one type for
input one type for output and the type
actually just contains one element in as
a string right put the input and the
output so this is what gets imported
into our vessel right so this is what is
defined in our types
and the message which is actually
pointer to types is actually referring
to it so see get sharp info and get you
up info response these are the types
that are defined over here ketchup in
foreign ketchup info responds right it
declares the types first of all as two
elements defines those types and then
the message are referring to those types
when they are creating the message right
so this is kind of a you know a
roundabout way to say that we just need
a string as an input and a string as an
output so is there a way to simplify
this well there is a way to simplify
this and that is by overriding what is
happening by default so I'm going to
override one of the defaults by
specifying an annotation called add soap
binding now the add soap binding
annotation takes some parameters but
before we go there notice the soap
binding name is this same as the binding
section here and if it is why are we
talking about this because I you know
we're talking about types here now why
are we configuring the binding section
to configure the types well the way it
works is this binding section is
basically like I said a way to configure
what goes into the web service and what
comes out of the web service right so
this has impact on the type that we have
over here so let's go with this and
we'll see what that impact is in just a
minute so the soap binding has a
parameter called style and the style
takes a value which if you do control
space you can see it's one of these two
values here one is document and one is
RPC so this is these are actually two
possible ways in which you can configure
a web service and document is by default
what we've seen so far in our Vista is
the document style so what I'm going to
do now is I'm going to choose the RPC
style and I'm going to say for this web
service
I need the so binding to be off style
RPC now what does that do we'll take a
look at that I'm going to do a publish
and I'm going to call this URL in a
different tab so that we can compare
what changed well one thing is obvious
we don't have a type section anymore
should notice there was a type section
here right so this was the import that
we saw but we don't have that anymore
what we have there is a message section
which has the types inside it right so
you have a message called get show up
info and a message called get you up
info response right so two messages like
before but what's happening here is the
message has something called as a part
inside it so it's not referring to an
external type like before here there was
an external type defined and the message
was pointing to that instead now what's
happening is the message has the
information inside it right so this is
some say it's kind of a bit cleaner
because you don't have to go to a
different document you don't have to go
to a different xst there's no external
existing here right so there's no types
section so you don't have to go to a
different xst to get the information the
information is all laid out right here
in the message so there is one input
message and one output message the input
message has something called as a part
inside it and an output message has an
output part inside it and then the rest
of the stuff is pretty similar so you
have the message pointing to you know
the input pointing to the message in the
output point into the message so one
other thing which you would notice here
is the binding section has changed like
we had expected because we have after
all configured this will binding for
this now the sew binding says the stylus
RPC now if you notice here the style in
this opening was document like I said
document is the default so here the
default is style document but we have
ordered in it and we have set style door
RPC so I hope the document option makes
sense it's it's basically creating a new
document that's why it's called the
document right so it's creating a new
xst document and it is referring to that
but in the RPC way we just have it
inline and RPC here is kind of you know
probably wrong
for this because RPC brings to mind the
remote procedure calls which were you
know we used earlier in Java this is not
really related to that but resists the
style so it's the way the Styles laid
out is the RPC style but still we are
using web services it's not any way
related to the RPC technology okay so
now we have changed this and you notice
that the part here gives information
about the input in the output right but
now the part has something called as a
name and the name is arc zero for the
input and the name is return for the
output again these are something that's
you know it's happening by default now
how do I change this I don't want my
production Vistal to have something
called R 0 anywhere so the way to change
it is by going over here so there is a
the input argument right so I want this
to have a proper name so the way I give
a proper name in the visit Elizabeth and
the annotation is that param right so I
use at web param and let me fix the
imports the import is Java Java X 2 GW
stored web param now the web / I am
takes in a parameter and I want to
configure the part name so there is
something called as a part name here so
I can give a specific part name that I
want the visitor to show so I can give
something called as a lookup
input right so basically I'm looking
looking up a property so I want the name
to be lookup input and the same way I
can give a name for the response right
so I can give an annotation call at web
this was a parameter so it was per amp
this is a response so it's result so I
say at web result and even this the mean
Portus again from the same package and
again this has something called as a
part name and I will give a specific
name for this lookup output and now if I
publish and again let me take it to a
new tab for access to vista you can see
that the part names have changed so this
is called lookup input and this is
called lookup output so by chance if
somebody happens to read the wisdom if a
human being happens to read the whistle
they'll get to know what the what the
parts are okay so this is a couple of
ways in which we have configured the
soap web services one as we change the
style from document to RPC and then we
change the names of the input and output
parameters now the style is one of the
ways to configure so so binding has a
few other properties so if i do a
control space you have something called
as a parameter style and you have
something called as a use so use
actually takes takes two values again so
you have encoded and literal so literal
means the values that you pass and the
values that get responded are literally
you know in the XML so encoded mix those
values encoded so encoded is not in use
it's not a part of the standard literal
is the only one that's part of a
standard so you don't really use the use
attribute all you do is you can
configure the styles we have two options
for the style one is document and one is
RPC
now since we have two choices we can
choose either document RPC the question
is which one do you use then when do you
use a document and when you use an RPC
and the second question is if RPC is so
easy to read and well laid out why don't
we use this all the time why is RPC not
the default why is document the default
the reason document is the default is it
does serve a you know a good purpose so
let me switch this back to document and
I'll show you what I mean
so I am changing this to document of
course I can just remove this and that
should be fine too because document is a
defiled and I'm going to publish
I'm going to take a look at the document
that's generated so this is this was the
document wisdom because I can refresh it
again to make sure it's fine and I'm
going to access the xst
now if you notice the xst here it's not
just listing the two strings right it's
not just saying input is a string and
output is a string there's also a whole
lot of other details that's here so it's
saying it's a complex type and it has
one string in a sequence and this is
also a complex type which has one string
in a sequence so what extra does this
bring to the table so one extra thing
that it brings to the table is you can
actually validate it right the
frameworks can actually validate if
whatever input is going in is fine so it
makes sure that the minoccurs is 0 you
can change it to 1 let's say you want to
mandate really have a string then you
can actually set it to 1 and if you have
multiple different values if it's a
complex object you can define what the
schema is going to be so essentially the
advantage of having a schema is that you
can actually validate the schema but you
lose that advantage when you are using
RPC so you just saying this is a string
so if it's if it's just one string then
I like in our example just taking in one
string and you're returning one string
we can probably live with RPC but if
it's something more complex it's
actually recommended to use the document
style because that gives us a separate
existing document which can be validated
and your soap request and sub response
will be validated against this schema so
that's better in a way so that would be
one thing to look at when you want to
choose between a document or an RPC
style but that will also explain why
document is the default because you want
the validation feature if you can have
it okay so we looked at input types
specifically in this tutorial we looked
at ways to configure the names and we
looked at we used to configure the style
of the binding which affects the input
types in the next tutorial we're going
to look at a few more customization
options for this web service thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>