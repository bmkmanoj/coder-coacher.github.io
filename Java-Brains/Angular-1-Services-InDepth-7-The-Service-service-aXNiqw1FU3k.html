<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 1 Services In-Depth 7 - The Service service | Coder Coacher - Coaching Coders</title><meta content="Angular 1 Services In-Depth 7 - The Service service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 1 Services In-Depth 7 - The Service service</b></h2><h5 class="post__date">2016-10-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aXNiqw1FU3k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we've looked at a few ways to create
services a few types of services VM
values constants and factories there is
another advanced API call the provider
which I'm not going to be covering in
this course because for 99% of your
usages we're not going to be using
providers and we'll be using these three
constructs now what actually happens
behind the scenes is all these three
constructs the value constant in the
factory actually end up calling the
provider provider is more low level
provides much more fine grained control
but again for the 99% of usage you're
not going to be needing that control so
for the sake of brevity I'm not going to
cover that in this course there is
however one other implementation one
other type of service that you can
implement and I'm going to cover that in
this course to be honest you don't
really need that as well but these
services the value the constant in the
factory you're more or less covered for
a lot of the things that you need to do
however there is another convenience API
that lets you do things a little bit
easily so let me talk about what the
typical use case for something like a
service is most of the times what you
would have is like a factory which is a
name and it has a function this function
usually ends up preparing an object
alright so you have this initialization
of an empty object you populate it with
whatever you need for your business and
then you return that object alright so
this is the typical use case you would
create factories which are basically a
functions that return objects now
JavaScript has a standard construct for
preparing objects like these and these
are called constructors I hope you're
familiar with what JavaScript
constructors are if you're new to it I
definitely recommend you look at the
lessons in the objects and prototypes
course on Java planes that cover
constructors or a lot of detail but
constructors basically are JavaScript
functions which are written for the sole
purpose of constructing objects they are
kind of similar to construct as in other
languages but not exactly they basically
functions with the sole purpose of
returning an object in constructing an
object
so considering that or most of the
factory functions are going to be
returning an object that you're going to
need is that a better way to construct
this object rather than you writing the
function to do it well you can have a
constructor function instead right
rather than have it be a simple function
where you construct the object by
yourself you can create a constructor
function which is typically meant for
constructing objects now let's say I
have a constructor function like this
function appconfig and this is a
function which is called an instructor
mode so what happens when a function is
called in constructor mode the
JavaScript engine adds two lines of code
hypothetically which look like this for
this equals an empty object and at the
end we'll have a return this right so
this is a typical constructor function
when you call a function in constructor
more JavaScript engine injects these two
lines which is kind of similar to this
function right so here you have an empty
object created and then you return it
after populating so the JavaScript
engine is kind of doing it for you
automatically when you call this
function in constructor mode so what you
need to do is just do the exact same
thing you're doing over here but instead
work on the app operator this rather
than value so there were to do this dot
for all these things I'm populating this
object then the JavaScript engine is
going to return to this object at the
end of the function write the weight of
call a function and constructor mode is
to say new and then the function name
okay this is how you call a function in
constructor mode
now since these kind of functions these
constructor functions are built for
constructing objects and since the app
service you know all the different
services that usually deals with objects
well is in a way to call a function in
constructor mode in order to initialize
a service well turns out there is and
that is by a new type of service called
the service service
I know the name of the service type is
service yes I've had to teach this to a
bunch of people I understand how painful
this is but that's the name they've
given it so the way to create this last
type of service if you can be covering
is to say app dot service and I'm going
to call this app data service service
you typically don't want to give this
name you don't want to have two services
in the name I'm just doing this to
distinguish from the factory service
over here typically if you are using
this approach you just say app data SVC
or something like that
now here what I do is I pass in the
function just like a personal function
for the factory right but the very fact
of me using the service API means that
angular is not going to just execute
this function and putting the return
type like it does for the factory it
executes this function in constructor
more in the case of a service so what's
gonna happen when it does call this
function and constructor or these two
lines are going to get added and you're
going to get an object back that is
constructed and that's what's going to
get assigned to this right so this is
pretty much the same as this functional
here my angular is going to call the
function in both cases both in the
factory and in the service the second
argument is a function and angular calls
the function and gets the return type
and assigns it to these things what's
different is the way in which cause
these functions the case of a factory it
just as a simple execution so this would
be something like this angular doing
this okay
open closed however in the case of a
service where angular does is not a
simple function execution it executes
this function in constructor modes it
would be something like this new app
config so when you're building a service
you need to write a function that's
meant to be executed in constructor mode
which means it assumes these two lines
the initialization of this to an MD
object and it returned after this so
your function is basically just putting
in values to the object so all you're
doing is essentially saving two lines of
code and compared to the factory but
well that's that's what you
because service let me make sure this
works as well as I'm going to lies this
to the in the header and I'm going to
set the service service Jack name just
to make sure this still works so i
refresh the page but it didn't work so
let's see what's going on I'm going to
open the console and the error is that
the app named service is not defined and
this is the problem I have this
constructor function which needs to take
the app name services an argument I'm
not passing in that argument using
dependency injection but I'm using it
directly so all I need to do to fix it
is to pass this as an argument and again
like with the factory angular is going
to dependency inject that service into
my constructor function then yeah with
the object is being created and that's
going to make this available so this is
service API in a nutshell it's just
another way to create objects but using
the constructor pattern in JavaScript so
now that you have two powerful ways of
creating these objects one is with
factory and ones but service what are
the criteria that lets you choose which
one to use in a particular situation
then do you use a factory versus a
service I'll talk more about that in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>