<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hibernate Tutorial 28 - Named Queries | Coder Coacher - Coaching Coders</title><meta content="Hibernate Tutorial 28 - Named Queries - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hibernate Tutorial 28 - Named Queries</b></h2><h5 class="post__date">2011-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/o_P-p2b_k6w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we're going to look at
what is called as named queries it's
usually best practice to consolidate all
the application queries in one
particular place and even if you're
using a simple JDBC connection it's
actually good idea to have one common
place where all the queries that you use
in the application are consolidated
because if you want to make any changes
you know where to go and make the change
if the queries are you know everywhere
in the application then it becomes very
hard to maintain now named queries is a
way in which we can consolidate all the
queries in a particular place and it
makes it easy to organize the queries
and it makes it easier to maintain as
well we will have a look at what name
queries our name queries allows you to
write the queries at the entity level so
say for example I have this user details
class here now I can list out all the
common queries that I would use for this
user details entity and I can refer
these queries anywhere in the
application so that makes it a good way
of consolidating all the user related
queries in the user entity class itself
so the way I write name queries is by
using the add named query so this is the
annotation that helps us to write name
queries this I'm writing this below the
entity annotation now I'll import this
from Java X dot persistence and inside
this I will write the name query so this
requires two parameters one is the name
of the query and then the second
parameter is the query itself so I will
give this name as you we need to give
the name here name equals I'll give the
name as user details dot by
Heidi the reason I'm giving this name is
I want the query to be a query where I
can supply an ID and get the user
details object so the query will be from
user details fair user ID equals
question mark
now again I'm having a parameter here I
don't want to fight with the parameter
of course we know that this is a runtime
thing we might get a value in a variable
and you want to substitute that here but
in essence this query gets me the user
object where I am supplying the user ID
and that's reason by the name I'm giving
as user details start by ID again it's a
good practice to have the user details
name here so the entity name dot the
query name is what I'm going to use and
it's a good practice to have the entity
name in front of the named query so that
it's easy to identify what we are trying
to do so say I'm having an address
entity it could be address dot by ID so
that way I can identify what the query
actually does so now that I have defined
this named query here let me save this
now what I will do is in my in my tests
class I'm not going to do a session dot
create query and I'm not going to have a
string here what I will do instead is I
will call another method of the session
object this is called session dot get
named query now the session dot get name
query takes a string argument and this
is actually the name of the query itself
so it's going to be this one
okay so I have got the name query I have
to substitute the parameter because this
name query has a placeholder parameter
note that this can be both ways can be a
position parameter or a named parameter
either either can be used so I will use
query dot set teacher zero and describe
hard-code the value here just to test
that it works fine and pass the IDS to
so it will have to return me use a one
also user to okay let's run this okay
use it was returned perfect there is one
more advantage of using a named query
which is that you know here I have
actually written a hql query so this is
actually a pure HKL query now what I can
do is I can actually write plain sequel
queries native sequel queries and that
can still execute so what I'm doing is
I'm going to write a select star from
table name I'm not going to use hql I'm
not going to talk about classes and
properties I can use native sequel and I
can dry it about table names and column
names and I can execute the query in
order to demonstrate justice what I did
was I have changed the table name here
it's user and score details and the
class name is user details so we'll see
how it works
when I'm creating the table directly of
the way I specify a named native query
is by using annotation called at name
native query now I'll have to import
this from Java X or persistence now
again this annotation takes the
parameters name and query let me give
the meter user details dot let me give a
by name from our query by name this time
so enter the query as now this time it's
a pure native sequel query so I will not
be referring object names I will be
referring the table name I will not be
referring a field names will be
different column names and I will not
start the query with the from I will
have to start with a select star from so
it's the entire sequel query select star
from user underscore details which is
the table in the image not user details
that user name equals just verify that
that's the name of the column yeah name
of column is using okay I will again put
a placeholder for this it works
similarly for a named native query as
well okay so I have to find though the
native query here one additional thing I
can do here is specify the result class
name now why would I want to do that if
it is a named query I'm talking in HQ
language and I know what is the class in
which the list of results is going to be
I'm doing a select from user details the
class name is already available here but
when I'm writing a native sequel query
hibernate will not know what what object
the results need to be in so I can
specify a class name here so that hi
it knows what object to cast the result
as so what I'll do is I'll use this
property result class equals I'll give
the class names which was user details
should be the class name not string okay
so now we have defined this name native
query let's save and again we can use
this native query in our session so what
I'll do is I'll use the same method but
instead of using this named query I'm
going to use this name native query so
just copy this name and fix it here so
the other change that I need to do is
since the parameter is a string in this
case so I'm going to do a query dot set
string look in hard code a value here
just to test save this okay now let's
run this and see what happens there you
go user 10 has come up but note that
this time we have specified the whole
sequel query ourselves we do not rely on
hibernate to generate the query for us
depending on the objects and the
properties that we mentioned we have
directly entered the sequel query itself
and that's what runs so the advantage
here is that say you have a stored
procedure that you need to run you can
you can use this you can use this option
and run the stored procedure but still
it's always recommended to go for the
HKL option because you know the whole
point of using happen it is to go away
from sequel and query and all that
which grill is a good alternative and
you would want to use name NATO query
only when you do not have an option and
you have to run queries directly result
class is optional but if you specify
result class the object that you're
going to get is the object of the class
that you've mentioned here so that's why
this works fine and casting this as a
list of user details and this is a list
of user details because I specify the
result object to be of the user details
type so this is a this is a look at name
queries in my next tutorial we're going
to look at another way to query objects
in hibernate and that's by using the
criteria API</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>