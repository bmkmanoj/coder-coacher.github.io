<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Struts 2 Tutorial 06 - A Tag And A Business Service | Coder Coacher - Coaching Coders</title><meta content="Struts 2 Tutorial 06 - A Tag And A Business Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Java-Brains/">Java Brains</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Struts 2 Tutorial 06 - A Tag And A Business Service</b></h2><h5 class="post__date">2012-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nrYLnbGZ_4E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys and welcome to this tutorial on
strats - in this tutorial we're going to
do a couple of things one is we will add
a business service to our starts -
application and the second thing we're
going to do is we're going to take our
first look at starts - tags so let's get
started I'll start by adding a business
service the previous attempt that we
made to create ad starts to application
was a very simple atom we had a stretch
to XML we had an action class and we had
a JSP both the action class as well as
the JSP were printing out
static hard coded messages so the first
thing that we want to change in this
attempt is we want to change the action
class's static message to instead call a
business service and the business
service is going to return a response
and the action class is going to print
that so we are still not worried about
the JSP you're going to take the action
class we're going to make a call to a
separate class a separate method which
is our business service method and then
our business of his method is going to
return some value and the action class
is going to print that value so here's
my ship's ID this is the project that we
created in our previous tutorials starts
to started I can as well create a new
one I could use the old one but we
haven't done a lot in that so it's just
as easy to create a new one so I'll
create a dynamic web project I call this
tutorial finder so this is an
application that finds tutorials that
you want online so let's click Next
I want to lab dot XML called the web
content it's just web and finish ok so I
have my tutorial finder project over
here I'll go to properties and I will
add the struts libraries as he add
library user library starts to finish
and while we are at the properties we'll
do the deployment assembly
we'll add Java build path increase
configuration so that this gets bundled
into our what okay so now what I'll do
is I'll just quickly copy the struts
start eczema from my previous project
into the SRC folder and we'll use the
same tutorial action so we have a gait
tutorial that calls tutorial action in
the case of a success it goes to success
to JSP in the case of a failure it goes
to failure dot JSP
and in my source i'll create a new class
this tutorial action finish and the only
method that I need to have over here
there's a public string execute now this
method will ideally need to call our
business service so in our earlier
example we were printing a hard coded
message over here instead what would
need to happen is this place would have
a call to a business of this method and
then the business service method would
return a response and you know the
action class can do what it wants with
it so let me create a business of his
class so I'll create it in the source
one create a class I'll call this the
tutorial finder service and I'll keep
this inside the service package a finish
so the tutorial finder service can
declare any any methods that it wants
for this example what I'll do is I'll
declare a method that finds the best
tutorial website and I'll call this get
best tutorial site so the objective of
this method is to return the best
tutorial website available online and it
returns a string which is the name of
the website so ideally there should be
some kind of a complicated analysis
engine here that checks what is the best
tutorial website but for our example
what I'll do is alter done
Jabar planes since we already know okay
so this is the business of ass method
that the action class would call so what
should happen here is in this execute
method I need to call the method off the
business service so the way to do that
is let's gonna save this the way to do
that is of course having an instance of
the tutorial find the service in the
action class in this example what I'll
do is I'll create a new tutorial finder
service I will create an instance using
the new operator but it's not really
recommended first of all it's better to
have an interface and then an
implementation and the action class
would actually call methods of the
interface and not the actual
implementation and this is really an
ideal candidate for using spring
dependency injection so you can have an
interface declared over here as a member
variable and then it gets injected with
the instance of the implementation by
the spring engine so but for this
example I'll just create a new so I'll
say tutorial find a service tutorial
file service equals new to do it find a
service okay so now I have a local
variable which is an instance of the
service so I can use this local variable
to call the method so I can use this get
best tutorial site and I'll get the
result of this business service so I'll
string this tutorial side equals this
method and then I can do a suss out and
I can print the output that we've got
over here
and return success remember whatever we
do in the execute we have to return a
string because things acute expects a
string return type and the string that
we need to return here is actually an
indicated about what JSP the struts
framework means to redirect you to after
this execution so this success is
actually tied to the success returned in
the struts to XML so this success will
lead to success dot JSP so what I'm
saying by return success here is I want
the execution to complete executing this
and then when it returns it needs to
redirect to success our JSP okay so now
we are done with this execute method
let's save this we're returning a
success which expects success our JSP
let's create that JSP so I created in
the web folder is a new other JSP file
call this success JSP I'll create a
title here and a body which says
business service executed save it's
still a hard coded message for now we're
just using the business service for
printing out this is out in the action
class so this is done the last step is
in the web dot XML we need to tell this
application that this is a starts to
application this starts to filter should
take over the flow of control so again
I'm going to use the previous let there
XML for this I have a filter and a
filter mapping I'm just going to copy
this and paste it here so what this is
essentially doing is declaring a
structure to filter and mapping it to
all URL requests so that any requests we
make to the application
starts to is going to take over okay so
now let's save this and we are ready to
run so let's run this let's see run as
run on server I have the server running
already so just restart server it's
going to apply restart and it will use
the default URL which we don't have
anything map to for now so we'll use the
actual URL that we have mapped so that
is the tutorials namespace and the get
tutorial nut goes appended with a dot
actions so let's call that tutorials for
the namespace get tutorial and the dot
action default suffix there you go we
have the Java brains text output and
it's redirected to the JSP it doesn't
look very different from what we've did
earlier but what we are actually doing
differently is instead of a simple hard
coded message we are actually calling a
business service and the business
service can have any number of methods
of reading complexities it could connect
to the database and pull up results and
that's how the action class will get
information about the results itself it
could be a set of a list of records and
this method would probably return a list
of records and the action class would
get hold of that list of records okay so
this is fine but what we are doing is
actually printing out to the logs we are
not really displaying the output over
here this is the last attic message and
since it's a web application we will
need to display the message in the
browser we cannot display than the logs
the user will not be able to see it so
we'll now look at how to actually
display this message the Java brains
message that we have in our action class
we'll look at how to display it in the
JSP this is going to be a first look at
a
speed tags I'm sorry stretch to tags and
there are a lot of things we need to
learn to really master this we will just
look at a simple way of displaying this
and in the next tutorial I'm going to
describe in detail what's happening
behind the scenes okay so now this is
our string right I'm going to remove
this print l and we don't need that if
we're going to print this to the JSP so
we have a string which is initialized
with the output off the business service
now how do I print this string in our
JSP in this JSP right I'll need this
string in this case B of course one way
to do this is to keep that value of the
string in a session and then access that
from the session in the JSP that's how
we would typically do it if we're using
servlets and JSP but that is not really
a good idea when we using struts - and
again I'll talk about why we need to
avoid using all the session and the
request scopes and the objects in a
stretch - application but for now let's
keep that aside and we are not going to
use a session to carry our data from an
action to a JSP with that aside let's
look at how we can transfer this data
the first thing that I will have to do
to move this string not really move to
display that string the JSP is to make
this a member variable because look
what's happening I'm having this as a
local variable so by the time this
closing brace is encountered the string
is gone this is no longer there because
it's it has local scope inside this
public so what I'll need to do first is
to have a member variable of this action
itself it cannot be a local variable
because if it's a local variable it's
there only inside this execute it cannot
go to the JSP in any way so what I'll do
is I'll move this outside I'll have a
member variable and
I'll call this private so that it gives
me it doesn't set us option so I create
the getters and setters for this right
so this is simple a member variable that
has Gator on the sitter okay
so now this is exposed to the outside
world now it's not available only in the
tutorial action it's available in to the
outside world as well so I'll take this
output of the business service and set
it to this variable so I'll say set I'll
call the setter I can I can use the
video as well but setter is always a
good practice so I'm setting the output
of this business service into this
member variable so once the execute
method completes this variable will have
the output of this business service well
this is fine but again we do not know
how to get that value because we do not
really have a handle to this object the
tutorial action object in order to get
this in order to do a get best tutorial
site you would need a tutorial action
object right the one that has the
execute method run we do not have that
over here but I will use a struts to tag
that does the magic behind the scenes
and that can give us this get best
tutorial site the Gator and we'll just
put the tag over here and then we will
look at what is the magic that stretch
to does behind the scenes in the next
tutorial and as you know before using
any tag we need to declare the tag limb
so I'm going to do that over here I have
this copy pasted I'm going to just fix
this here so this is tag lab it declares
a prefix because we need a prefix before
using the tag so
that the JSP engine noise which tied to
call and then the uri is starts to tags
again don't worry about this too much
we're going to discuss this in detail
later but the idea of using this is
since we have a prefix called s I can
use a s : and it's going to give me all
the struts to tags that I can use I'm
going to use a tag called property and
this property tag is used to display
member variables of the action class so
if you have five member variables you
can display all the five using five
property tags and the property tag
expects something called as value which
is the name of the member variable that
you want to print so in this case the
name is bestial site so that would be
the value here and that is it now this
starts to property tag takes care of
getting the value from the action class
it calls the Gator and it gets the value
and it prints it so this is all the
magic that happens behind the scenes you
can just try running this and see what
happens and then we're going to explore
the details of the magic in the next
tutorials so again I'm going to call
this the same one if I call this you see
here the output is actually getting
displayed in the JSP so what's happening
again to recap both though we are making
a call to an action this action is
mapped to a action class call tutorial
action of stretch two takes care of
running the execute of that tutorial
action class and the execute method has
a call to a business service now the
business service returns an output the
output is set to a member variable and
then we return a string which maps to a
JSP now in the JSP we have a tag that
takes the value from the member variable
directly so apart from the fact that we
need to understand how it works we can
obviously see how easy it is to actually
transfer the data from the action class
to the JSP we don't have to worry about
sessions we don't have to worry about
scopes this is a plain Java class in a
Java object it has member variables
which have getters and setters just like
any Java Bean and the JSP has a very
elegant tag that prints the value of a
member variable so this is a really easy
way to wire the action class business
service as well as the JSP so there's a
lot of things that stretch was doing
behind the scenes for us especially when
it comes to this thing we are taking the
value from the action class directly to
the JSP so in the next tutorial we'll
try to understand what's happening here
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>