<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hextris Progressive Web App (PWA) | Coder Coacher - Coaching Coders</title><meta content="Hextris Progressive Web App (PWA) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Love2Dev/">Love2Dev</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hextris Progressive Web App (PWA)</b></h2><h5 class="post__date">2018-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HkgjfDdTBYU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">tetris has been an addictive game for a
long time now and in this video I'm
gonna show you how to do a knockoff
called hex trous and turn it into a
progressive web application
hey guys Chris love the owner of elope
to death and today we're going over the
extras progressive web app that I
recently launched and basically I was
looking around for a tetris application
I could fork and make it progressive
about but I couldn't quite find one but
I found this one kinda in the genre of
Tetris and I thought it was a lot of fun
and very easy to port over now the
gameplay itself is very basic on a phone
you just tapped on the right and left
side of the screen on a desktop you just
hit the right and left arrow keys to
rotate the center hexagon and you try to
match the colors up you want to get to
try to three touching each other to
clear them off and the gameplay is
pretty fun it gets a little faster as
the game progresses so eventually you're
going to run out of space basically in
the game will you'll lose at that point
but so the goal is try to get as many
points as possible and you can see I've
got up to a little over 2,000 points and
it looks like my high score so far on
the phone that's a lot of fun if you
open it up with Chrome for Android you
should get prompted for the Add to Home
screen you can also add it to your
desktop on Windows and I assume the same
on Mac OS using Chrome as well so this
is a fun little game and now we're gonna
go look at the source code and see how I
upgraded it hey guys I hope you've had a
little fun playing with extras by this
point and now I just want to walk
through how the code was added to make
the game a progressive web app now again
this is a fork of an existing github
repository and I thought was a fun
little game what I did have to do is
scrape out some Bitcoin mining malware
the coin base code and a few other
little things like that to kind of clean
up the code to make it something I would
feel comfortable working with but anyway
let's get into the progressive web
application feature set to this and I
just want to point out that I am forking
existing projects I'm not trying to at
this point at least upgrade their code
this particular application while the
game works perfectly fine the code is
not structured
or kind of up to my level of
expectations of code so don't please
don't judge the code itself on me but it
did me about number one criterias it
didn't use a fast-food framework so
anyway alright so we are including a
reference to the web manifest file which
we'll look at here in a moment
gonna have a simple viewport to make it
somewhat responsive and then they
already had all the Open Graph and
Twitter card stuff so I left it in here
now this is a good practice for any
public website to add all this I do need
to make some content on all of these
things because it's quite extensive
these days and as always make sure you
have a favicon reference has a good
practice and if you are interested you
can look up the favicon article on my
blog about that and web performance
alrighty so let's scroll back down to
the bottom here and to do alright ok so
I did add the serviceworker registration
code to this initialization j/s file
that's because it's kind of normally in
my applications I put it like a I call
it a bootstrap piece of JavaScript it's
not related to the CSS framework that's
just because it essentially boots the
application and that's what they're
doing here they call it initialization
so I used that particular file to add my
serviceworker registration code down
here at the bottom and if you looked at
any of the other videos on some of the
other progressive web apps i've been
launching lately it's the same exact
code right here just simple
serviceworker registration that's
because this is a very simple
application and doesn't need a whole lot
of loving so to speak now if we go to
the serviceworker file again the entire
application is a single page and just
has assets that need to get loaded and
I'm going to precache every single asset
for the entire application now the
application will run out of local cache
rather than hitting the server which
means a works
flying or no matter what the network
condition is and will and should load
basically instantly now it's not going
to be like a zero millisecond thing I
mean there's going to be probably a 10
to 30 second millisecond delay so
probably no more than two frame
refreshes before something is visible on
the screen now depend on the phone
device whatever it may be or five frame
refreshes don't don't knock me for that
and what I did was I just scraped out
all of the CSS JavaScript image
references that I could find in the code
and it it uses some PNG s for the Open
Graph pieces but it leans heavily on
SPG's now personally I have not really
used a lot of SPG's my application
simply because I'm not really good at
editing them and I haven't really play
with the editing tools but I do like
seeing the fact that there a lot of
these games in particular are using
SPG's and maybe that's another reason I
don't do a lot of game development like
zero game development so but if you're
not familiar SVG is a scalable vector
graphic and it's just a lot of XML and
the nice thing about them is that they
scale nicely so you don't have to worry
about creating an image array which is
what we do with the responsive images
and so that's pretty cool and it makes
the graphics on the screen now the game
leverages canvas to actually poor to do
the gameplay itself which is what you
really should do for most of these games
is utilize a canvas because it's really
designed well for for these kind of
games in particular so alright now all
this will be pre cached and if you
notice stuff above I had a named set
variable for the pre cached name and
then we just add that array right there
and the at the cash at all function will
go out retrieve all those assets and put
those into cache for us and that's
honestly all you got to do the fetch
event handler is probably the simplest
pattern at all for all the the caching
patterns and that is a cache first with
a network fallback
so it's going to look for the request in
cash if not it's going to try to
retrieve it from the network and return
that response so that's that's really
all there is to this as far as that goes
now if we go to the web manifest file
I've got the name here they're just a
hex rest PWA the short name which will
be displayed below the icon on the home
screens is just hex trous I've got a
large array of icons I didn't run this
through the PWA builder image generator
and it gives me created all the icons
for me and the JSON that I dropped into
here and I like to put all of these
icons under a meta folder the image
generator automatically organized them
by platform for me but I do like to just
put them under here because it keeps
them out of the images folder which I to
me I feel like that should be the
application images not kind of this
extra ceremonial type stuff that's not
about the actual application Arafat
interactions these start URL should be
the home page didn't have a scope to
this one it really is no big deal again
I like the standalone which means we
don't have any browser chrome you know
it's like the address bar except our
things like that that way it looks just
like a native application and again you
want to make sure you have the
background on theme colors that match up
and in everything and that's that's
really all there is to upgrading
something like this to be a progressive
about it you know honestly didn't that
the biggest problem I had was just kind
of scraping out some of the the malware
kind of code and some other things like
that from the application and just
updating like the the Open Graph Twitter
card stuff to reference my stuff from
there stuff that kind of thing I didn't
I spent more time on those kind of
things that I did only actual code
upgrade and as always feel free to clone
or fork the repository that I have it's
free for you to use in reference and if
you've got simple websites or web
applications this can you serve as a
simple blueprint to get those up to a
progressive web app and give you a good
starting foundation now of course if you
have a more complex
application which imagine most of us do
I do highly recommend my progressive
about course progressive about from
beginner to expert and there is a link
in the description below so that you can
save 171 dollars off the regular two
hundred dollar price and get it for $29
right now there's over 21 hours of video
and I've got more slated to add in the
coming days there is a lot of as you can
imagine there's a lot of things that
need to get updated the browsers are
constantly upgrading their developer
tools things like that I've got more
like technical content I need to add to
it so it's gonna be a living course so
don't feel like the 21 hours is all it's
going to ever be it's gonna be a living
course and I will be updating it every
so often to kind of keep up with what's
going on so anyway that's all there is
to it this is a fun game I'm starting to
get addicted to it my wife likes it
hopefully you do too I think this is a
good find out there in a good simple
demonstration of upgrading any website
to list a minimal level progressive web
app and something you can use so as
always if you like the game feel free to
share it with your friends clone the
code code like I said subscribe to the
channel because I got a lot of other
progressive web apps that will be
launching of course a lot of other
resources and tips around progressive
web application just web application
development in general so you don't want
to miss any of that and make sure your
you're there and alerted whenever that
happens alright I appreciate it thanks a
lot guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>