<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Handling the chrome-extension and Service Worker Caching Error | Coder Coacher - Coaching Coders</title><meta content="Handling the chrome-extension and Service Worker Caching Error - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Love2Dev/">Love2Dev</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Handling the chrome-extension and Service Worker Caching Error</b></h2><h5 class="post__date">2017-10-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Vu1ghQTnFA0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Chris with love to death and
today I'm going to give you a little
deep serviceworker debugging advice or a
tip however you want to talk about it
now if you're in chrome and you have an
extension installed and this is not
going to be every extension but you may
possibly see the error that you see on
the screen there which is a type error
request scheme Chrome extension is
unsupported and reference to the line of
them now what is happening is basically
if you look right here I've got this
line that I'm echoing out it says chrome
- extension is the protocol and then a
path to an image and this is coming from
the buffer extension which is something
I used to schedule my social media post
now that's why I say it's not
necessarily every extension because I
have other extensions that are active
right now and I'm not getting the issues
with those but I am with the hover one
and so I don't know necessarily why this
is being triggered per se now if I
recall about a year ago when I first saw
this is this is a known bug and then the
chrome developer tools and I thought
they were gonna fix it because they kind
of indicated they were but they still
haven't and this may be bugging you but
from I believe Jake Archibald posting on
the github the Service Worker github and
that's where I think this was makes
sense since it's a serviceworker thing
is that it's not really going to be a
true error in your serviceworker so
don't worry about your serviceworker
bailing out not installing correctly
whatnot but it's just a quirk in the
developer tools
it's obviously super low priority for
the team because they would have fixed
it because it's been over a year now but
anyway so what I thought I'd do is I
would kind of show you how to get around
this if you think this might be a real
issue I think it might just be a
worthwhile thing to kind of check this
out anyway now what I have done
I have actually extracted my caching
logic into a separate class but that's
another story
but what's going on is when this line
right here this constant this cached
output basically when I'm trying to
cache the response that's where I'm
getting the error thrown and that's
because the cache does not support that
chrome extension protocol type and
that's the problem now so what I have
done is I put a gated it here with a
little check and the thing you need to
do is the easiest thing I found
obviously is just to see if the request
URL contains the chrome - extension in
there because it'll be part of the URL
because it's the protocol and as long as
it isn't which means it's negative one
then go ahead and cash it otherwise just
return the response and what's now that
I've done that I have to do a few little
kinky workarounds here because of the
way I've got the serviceworker set up
with you separate the import script but
that's ok another thing I found - I'll
just go do this real quick there we go
it's here we go I think this will
trigger this hopefully we can see it
yeah now we don't have any issue just
for the fun of it it's good categories
yeah see I've got seen not caching so
it's not caching that image this time
around so hopefully this will help you
out so you don't spend tons of time
trying to troubleshoot this issue
because you're not gonna find much out
there in fact I haven't been able to
find the github issue for a long time so
I thought I'd just post this quick video
and I'll put on a company and blog post
up and the next day or so to try to help
you out so that way you don't pull your
hair out trying to work on service
workers speaking of working on service
workers and progressive web apps we've
got a new course that's about to launch
call no the full title Yotes but it's
going to be
a very encompassing deep dive on
building progressive web apps be sure to
click the link in the description below
to either go directly to the sign up for
the class and you'll receive a massive
discount on it or be sure to register
for our newsletter and get your free
copy of why you want to upgrade to
progressive web app and that way you
won't miss the big announcement so if
you any questions or comments about this
be sure to leave them in the description
below and definitely share this with
your web developer friends so they don't
mess up and pull their hair out trying
to troubleshoot this kind of benign but
annoying error message in their console</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>