<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Introduction to Sonar - An Automated Tool for Website Audits &amp; Checklist | Coder Coacher - Coaching Coders</title><meta content="Introduction to Sonar - An Automated Tool for Website Audits &amp; Checklist - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Love2Dev/">Love2Dev</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Introduction to Sonar - An Automated Tool for Website Audits &amp; Checklist</b></h2><h5 class="post__date">2017-10-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uPJEzd0h-Nk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so if you have were able to watch any of
the Microsoft edge summit videos or were
there in person like myself you were
able to hear about a new tool that the
edge team is releasing it's it's kind of
a new version of an existing tool
they've had this site scanner tool for
about four or five years now I don't
think a lot of people really realizes
there and if you're familiar with
Chrome's lighthouse tool this will look
a little similar or familiar to you but
they released a new tool called sonar
and this is a linting tool which may not
really resonate with everybody out there
but honestly what it is this is a tool
that you can use as part of your
development cycle and your build and
deployment cycle as well and what it's
going to do is it's going to analyze
your site and find common errors in your
site that you need to address so your
site can be the best technically it can
be okay and kind of the difference
between the approach with sonar and the
approach that the chrome lighthouse team
is taking and I use this term lightly
because this is this is kind of the
messaging that the edge team wants to
relay is that sonar is less opinionated
and I've kind of teased out what does
that really mean now the the rules or
the the specs or features that
lighthouse is testing is really
targeting a certain type of application
that they want to see I guess and that's
ideally a progressive web app which you
know I'm 100% for but I do feel that
there are aspects that are missing from
lighthouse that should be tested and I'm
a hundred percent sure that everything
that they're testing is being tested the
way I would want it to be tested if that
makes sense so anyway now so are
is in that same vein I think the
difference from my perspective is that
sonar essentially is a framework that
you can plug your test into and it ships
with some default tests and you've got
the ability to configure what tests to
run and how those tests are run that way
you can really craft your test suite so
to speak or your battery of tests so
that you can get the best results now
this is still early on in fact I know
for a fact the stuff that they showed at
the edge summit a few weeks ago the code
that was that they demoed was literally
done like the day before then this is
this is not like a product but it's a
tool that they're releasing this is a
really awesome tool I don't like the way
it's organized and it's a node module
which means it can run on any platform
pretty much anywhere I don't think the
one huge caveat you've got to have is
you need to have what they call a
connector or really a tool to actually
execute the test in and before I get
into connectors for matters and rules
let's just kind of go through how to
install it now if you're not familiar
with doing a node module installation
via NPM I do highly recommend you just
go out there and learn that part of it
first but most of us are familiar with
us I'm not gonna bother going over that
right now you do need node version eight
which is the latest stable version of
node if you have an updated job I do
encourage you to go do that because you
should always in my opinion stay current
with the tools and platforms and stuff
that you are working with as much as
possible and so you should go out and do
that upgrade Now to install sonar and
it's so Narwhal calm and I heard a
little bit about the name I think they
spent I think they said fifteen or
twenty minutes coming up with a name for
this but they wanted they wanted
something that kind of indicated
reaching out and getting signals from
things and they thought sonar would be a
good thing
course NR is kind of an overused term
and they were like well what's an animal
that uses sonar and they they decided
the nor wall was an animal that uses
sonar hence the logo of a nor wall
that's the like a dolphin with a unicorn
horn whatever anyway so to install it
it's npm install I do recommend what
they're saying here install it globally
so use the dash G switch and this is
something new I don't know what this
engine strict is just yet I'll have to
look at that up but this is what they do
recommend and this sonar wall / sonar to
get the I guess get the the actual piece
of the project that you need now I did
Brehon I had to rebuild my machine after
I left Seattle from ground up so I was
all you know purely clean but I did get
the heads up on this before it was
released and I was able to install it
before I went out to Seattle and I have
some issues getting Python set up
correctly and I think I got it so
correctly this time I'm not totally a
hundred percent sure but I'm wondering
if this engine strict and maybe this
project they cleaned it because I didn't
mention that to them that you had to
make sure your Python was set up exactly
correctly and I don't want to go into
setting up Python because I'm not
totally sure what's going on with that
anyway but anyway there should be there
evidently is a node module and the the
node dependency tree that somehow
depends on Python being there so once
you do that you'll have the package
installed globally now before you
actually go run a test you need to
initialize sonar and to do that you need
to run sonar - - in it and that will
kick off sonar and it will create this
sonar RC file that's essentially just
going to be a JSON file that's going to
define your kind of default settings for
sonar so I'm going to bring up the
command line here we'll just run sonar
in it and it's going to ask what kind of
connector do you want to use again we'll
talk about that here in a minute I wanna
stick with Chrome and what format er do
you want to use and this is how the
reports going to be output to you and
you could look at code frame Jason
stylish or summery
and I just did stylish and I'm not
totally sure I was happy with that one
someone try code frame this time Jason
it's going to give out Jason will look
at this in a second and I'm gonna use
the recommended rules here you could
actually customize this and maybe we'll
do that in the next run okay and then
what browsers are you targeting and this
there's a lot of options there with that
you can see there's a link to the types
of browsers again I'm just going to take
the default which is n minus 1 basically
and honestly for me that's that's that's
the correct one that I recommend doing
as well so I'm just going to take that
okay so the next thing we know we got to
do is we actually got to tell sonar to
run against a site to actually get a
report so what I'm gonna do is I'm gonna
run it against love to dev my site and
let the bleeding commence so you can see
it's popping chrome up here on the
screen it's actually controlling Chrome
from behind the scenes you can see this
all that stuff is scrolling there in the
background it's tell me there's 206
errors because it's actually testing
every single file that's being requested
and all this stuff and I'm right now I'm
trying to get this the sum of the header
stuff set up correctly and this is this
is where I think a lot of developers and
DevOps people are really going to find a
lot of opportunities with their sites
because there's all kinds of
configuration things that really are
best practices that most of us don't
implement and this is a big eye-opener
to me is is all these these headers and
for example I'm running out of AWS cloud
front and unfortunately it includes this
server header in there you cannot take
it out at least I have not figured out
how to take it out yet and that's not
something that's really going to impede
you so much but what it is is it's
giving attackers more knowledge of the
platform you have so that they have a
little better direction on how to
possibly attack you and that's why
that's a bad thing to have
for me mostly it's it looks like header
stuff which is which is fine for me it's
good and that's what they're they're
really repeating it a lot but this is a
real eye-opener to me just to see all
these types of headers and because it's
trying to get on every single file
request that's being loaded into it
we're seeing a lot of duplicates here so
it's not really that bad it's some of
those things if I get it fixed for one
file on my CDN it's gonna fix it for all
of them more or less I could run a
script I probably have to set the
headers and stuff like that for all the
different files but it's really just a
matter of a script so anyway so that's
just running sonar wall and of course
you could if you now put it to Jace and
I could then run it through like a
formatting thing maybe produce an HTML
report I'm looking at doing stuff like
that and the new feature I got other
things on my to-do list they're more
higher priority right now
now you can I like this you can define
your own rules and this is a very
extensible thing they're gonna ship with
a lot of rules and you can fork the
github project this is an completely
open source and it is part of the
JavaScript foundation I believe it's not
technically owned by Microsoft even
though they are essentially funding and
working on it I think it's a pachi to
license I don't not the person who knows
the difference between licenses there's
only FreeBSD means that Facebook can
take over your react sites though until
they just change that license but anyway
so you can fork it over here and this is
actually my this is actually my fork
that I made a sonar wall so if I
actually go back to the original now
fork to because I want to be able to
start playing with it and so here's you
know when your fork could you just get
the same exact things it's just a new
branch so anyway you can go get it and
so there are going to be a set of rules
and then like I said a rule is a test
that your website needs to pass and it's
got a bunch of built-in ones but you can
really create your own and that's one of
the things that I'm going to be doing
I've got like a lot of stuff that
is going to be opinionated for me that I
want to run and definitely won't be part
of anything going to do a pull request
for with the actual core project but I'm
definitely going to be using this I've
been looking at doing something very
similar and so this gives me the the
scaffolding or infrastructure to place
all these rules in here anyway you can
go through and really tweak and
customize all of this stuff which is
really super awesome now a connector
like I says right here is the interface
between the rules and the website your
testing and honestly what that really
means is this is the browser or
something you saw the other the other
option I had was Jay s DOM and that
means it's not gonna run the an instance
of an actual browser it's going to
effectively run inside of a node module
in a headless configuration which may be
what you need but for me I really want
to have something that's going to drive
a real browser now you may be thinking
this is funny that the edge team is
doing this and we launched Chrome that's
the current browser that's available
that's because they're working on
connectors to some of the other ones and
right now because of the way chrome is
or edges designed from an initiative
infrastructure point of view they're
just not capable of doing that without
having to rewrite it in a few months
because changes will be coming down the
pipe that they're supposed to help just
essentially do the webdriver stuff a
little differently I think so stay tuned
for that and I think they're also
working on a Firefox interface as well
but again this is like a really new
project I think a chance to like tackle
all these things all at once they wanted
to build the core infrastructure and
then the for matters this is this is how
the data is going to be presented out so
if we go back through and let's do let's
do an it again and we'll change this up
this time I'll do chest Dom and let's do
let's do summary because I think that'll
do a little thing and what's going to
again actually just go down the path of
not choosing the recommended so here's
all the stuff that we want to check
so personally I do want while houses so
much stuff all right so let's just let's
just make sure we've got the manifest
stuff let's just check for manifest and
I'll do that and that those are those
are good ones to check so we'll just
keep this really short and simple as you
can see there are a ton of little bitty
individual rules this is crazy and yeah
we get them one to use the default cuz I
don't want to deal with that okay so now
we got to run the test again so now
we've got the thing configured and we'll
run the test against the website this
time we probably won't come up with the
that many errors there we go one error
and I don't see the ER oh wait there it
is the Mathis file extension one error
ah because I call it manifest just Jason
and I call it web manifest I can't
remember so yeah I need to under Pro you
to work on that so see there's even one
more thing that I should probably look
at doing and so this is really useful I
hope that this isn't going to encourage
you to go try this out now they are also
working on a web interface where you can
just drop your site in there I don't
know if they've got this public yet or
not they did allude to it and the thing
I know they had a URL but I don't think
it was quite wired up the other day but
there should be a place where you could
just go to a web site plug in your URL
and then you would actually get the
report out and I got a feeling they're
still working on some of the logistics
around that right now so visit so
Narwhal calm that's soo in AR whal comm
and you can start playing with this or
just do the note npm install and start
playing with it from the command line
like I just showed you good right now
that's where it's sitting right now but
you can put it into your build script
node scripts whatever you want and
execute as you need to so it's pretty
cool it's pretty awesome
I would really and
excited about this project and hopefully
by I'm kind of targeting mid-november to
Thanksgiving timeframe actually doing
some cool things with it based on my
current to-do list so any questions
about this feel free to shoot a lot of
me definitely go go over to the github
repository and and talk to those guys
directly probably be a little more
useful and let's say they do you have
the issues on here somewhere yeah there
we go
I never can't find it when I look at
this but you can see they're pretty
active on here responding to issue so
that's pretty cool as well and the guys
are pretty awesome that are kind of
behind this project and some pretty
smart guys so hopefully you get involved
and be able to use this tool make the
web a better place all right guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>