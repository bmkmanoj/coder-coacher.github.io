<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>15 Minute Progressive Web App Upgrade Tutorial | Coder Coacher - Coaching Coders</title><meta content="15 Minute Progressive Web App Upgrade Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Love2Dev/">Love2Dev</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>15 Minute Progressive Web App Upgrade Tutorial</b></h2><h5 class="post__date">2017-07-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yIjSnjd6bsc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">whether you have an existing site or a
brand new site you should be able to
upgrade any existing website regardless
of platform and front-end framework
within about 15 minutes to make it meet
the guidelines to be a minimal
progressive web app in this video I'm
going to show you how in under 15
minutes you can upgrade an existing
website to be a progressive web app hey
guys Chris love the owner of love to DES
and a huge advocate of progressive web
apps now our question that I see I ask
all across different channels that could
be Stack Overflow or blog posts for
comments Facebook Twitter is you know I
know framework X or I know back-end Y
how do I make it a progressive web app
well the real answer is they have
nothing that has nothing to do with
being a progressive web app the minimal
requirements to be a progressive web app
are be served over HTTP include a web
manifest file and that web manifest file
should have a minimal array of icons for
your application and finally you need to
register a service worker and that
service worker needs to have a fetch
event handler and we'll talk about each
one of these in this video and I'm going
to show you how I'm just going to take
the html5 boilerplate project and turn
it into a progressive web app really
quickly when you're done with this video
you should be able to go to your website
project and apply these three principles
and very quickly create a progressive
web app out of your existing website
without having to change anything about
the way your website works now if you
have not heard of the html5 boilerplate
it has been around for several years as
a minimal reference site or page really
for you to start a project now there are
some things that I don't agree with
about the way they've done it and
there's a lot of things that I do agree
with way more than I don't agree with
but I think it's a good place for
anybody to start who's kind of new to
web development because it does include
a lot of the core things that should be
in a website however the default html5
boilerplate project does not have all
the feed pieces for a progressive web
app so what I have done is I forked this
project and you can find it on my github
profile and that's github comm slash do
c lu v under that you can look for html5
boilerplate one and you can find the
source code that i'm going to show you
here in this video feel free to clone it
or just or even fork it for yourself and
modify it as you feel free now we'll
switch over here to chrome now I've made
a couple of changes to the default code
first I've made the background color
orange and also just through one of the
images up here just to give it a little
more visual pop because there's really
no content in this boiler probably
project and I kind of wanted something
to look at now next you're going to
notice that it's being served over
localhost and a port the port here is
arbitrarily chosen to be 15,000 won and
I'm going to show you how I do that here
as well
now as I mentioned the first part of
this video there are three key
components to make a progressive web app
and these are the technical requirements
these aren't what I would call the user
experience requirements the technical
requirements are easy for static
analysis if you will
so the browser tools like lighthouse or
just the heuristics built in the browser
can quickly determine does this meet our
minimal guidelines to be
progressive web up and again those
requirements are be served over HTTP
have a web manifest file and a
registered Service Worker it also goes a
little bit further if you notice
sometimes chrome does not acknowledge a
site to be a progressive web app
therefore it does not launch that at the
home screen experience that you're
really after and that's kind of the key
litmus test I think to determine are you
a progressive web app or not does your
website trigger that Add to Home screen
experience now remember each browser has
a slightly different heuristic model
which means it has slightly different
guidelines to decide does it meet the
progressive web app requirements to keep
the bar fairly low now the web manifest
file should have array a have the icons
array to have a set of icons that it can
use to represent the icon on the home
the application on the home screen the
service worker does need to have a fetch
event handler there's no requirement
that that handler does anything and the
reason is is because these simple static
analysis tools can look for the pattern
to where you're registering that fetch
event handler or check to see if that's
there but they're not going to go into
how complex your logic is to actually
manage caching responses and requests
and that's a good thing at least to get
things rolling now the local host aspect
of it like I said you do need to serve
your website over HTTPS that requirement
is for what we call production or live
domain websites but when you're
developing locally installing a
localhost SSL certificate is kind of a
pain in the rear it can be done and
there are local hosts web servers that
have the capacity to do it however the
people who wrote the spec knew that this
would be a big barrier to entry to
for developers to actually be able to
develop and practice serviceworker
debugging so the serviceworker
requirement actually says or the
specification actually says that if it's
served over localhost they will relax
that requirement for SSL so for a
localhost you don't need the SSL but if
you are deployed anything other than
localhost you will need an SSL
certificate remember this if you are
deploying to a common QA or development
environment as well as your production
environment they will all need SSL
certificates fortunately the barrier to
acquire install those SSL certificates
has drastically come down in recent
years in the past that used to be a very
expensive and very tedious process today
there are many sources of free SSL
certificates and some at Lowe's five or
ten dollars now there are different
types of SSL certificates and I'm not
going to go into that world for this
video because it would get rather long
but just keep those things in mind for
our purposes we're going to be looking
at the localhost so I can contain this
demonstration now personally I like to
use the node connect web server from my
local development and I still launch it
as a grunt task there are plugins and
extensions available for other task
runners like gulp that will also launch
the connect module or you could actually
write your own script or just launch it
from your npm script directly it's up to
you how you want to do that but I
personally like connect now the chrome
team also has a local host web server
available and there are many other
options for example if you're using
Visual Studio it comes with a built-in
localhost web server that will launch if
you hit f5 or ctrl f5 and your web
server is the default project in your
solution yadda yadda yadda but I work
with Visual Studio code which does not
necessarily have that built in so what I
do is I want
connect from one of the command prompts
instead of Visual Studio code and let's
just go look at how that's set up real
quick now I like I said I still launched
it as a grunt process so if we go to our
grunt file it has the configuration for
the connect object or module and I also
define a local host here just so I know
mentally it is a lot of projects I'll
have multiple versions of the actual
code that's going to quote be
distributed and so I want to test it in
those different scenarios first now the
first things I do is I define a port
again this is arbitrary I do tend to
stay up in the high teens of the
thousands so generally my local host
sites are between 10 and 20,000 port you
can go up to support 65,000 something or
whatever
now I'm pointing that to the
distribution folder is where the actual
website is again this is for this html5
boilerplate project you can direct it
how you need to direct it for your
project and just for realistic purposes
I enable keepalive because that is a
performance best practice that's really
all there is to it from there you would
just launch it from the command prompt
as you can see I've already done here I
called Direct Connect and it's launched
this again
launch it however you would like and
just notice when you do launch a web
server from the kacal command prompt
that command terminal is going to be
locked up because that is a process is
going to keep running so that it can
listen for requests so you will need to
open up another terminal if you need to
other command prompt access okay now the
next thing you need to do is you need to
add a manifest file the HTML file bowler
pipe project comes with a manifest file
included but it doesn't necessarily meet
our minimal requirements so I enhanced
it
and let's get that out of the way I gave
it a name in a short name these are used
to describe or represent your
application and your browser platform
whether it be Chrome or Firefox or opera
or very shortly edge will use the name
appropriately based on the size
available to actually display the text
so typically for your smart phone home
screen icon this short name is what will
be used but in the case of say a wide
Windows Live tile I'm pretty sure the
the full name will be used next is an
array of icons you want to make sure
these icons are PNG and the reason is
chrome tends to be fussy if they're if
there's not PNG files available the
actual spec doesn't necessarily state
that they need to be PNG files but based
on what I've seen in Chrome and actually
triggering that at the home screen
turistic highly recommend sticking with
PNG files now I've got quite an array of
different sizes and the way I like to
name my images is to give it a common
name and then also put the height and
width dimensions at the end of it that
way I know just by looking at the name
what the actual dimensions of that
particular image are so I've got quite a
few I go up to 600 by 310 and the reason
why I go up to some of these images is
because they correlate to existing
specifications for Windows Live tile and
I definitely want to be ready for when
edge start shipping service worker and
progressive boy app support later this
year and will surely where we should
have the ability to have those wide
tiles on desktops for sure next the
start URL because a progressive web app
could be add to the home screen from any
page within your site however the user
probably does not want to enter the site
from that page every single time because
they're thinking about in terms of an
application if you think about any
native application you never
open the application from from cold if
you will
deep within the application to wherever
you left off you know the day before two
days before an hour before or whatever
maybe and this is how you can define
definitely define a start a common
starter home page for your progressive
web app launch next how do you want that
application to launch from the home
screen
personally I stick with the standalone
because it makes it look like a native
application and it doesn't force it into
full-screen mode because sometimes you
just don't want full-screen mode on
desktops obviously on phones it's going
to be full screen but the standalone
mode will trigger it to launch without
any browser chrome there are other
options available full screen will
basically the same thing but forces it
to be a full screen down back down to
browser which is just like if they open
it up as a new browser tab so we have
full browser chrome next our colors the
background color should correspond to
your default background color and then
the thin color can correspond to
anything else the way I tend to do this
is I make it the background color the
default background color in the
application and the default font color
of my website now I've actually got
these inversed
from this html5 boilerplate and what I'm
gonna do is I'm going to go change that
real quick the default color in here is
two two two two which is that dark black
kind of color and so I'm gonna do is
almost going to change it up to make it
consistent with that color because the
orange background is just really not
that pleasing oh we gonna screw that up
didn't we okay here we go let's just do
it this way
and we'll take that
and now if I go back now it looks a
little better okay that's interesting we
get that mark there I wonder where that
came from a lot of it uh got something
off of my HTML let's go fix that while
we're here yep there it is there's a
line okay I think that looks a lot
better there we go okay so now our
theming our web manifest file on our
page actually match up and that's that's
really it for a web manifest file there
are other properties that you can add
and define it's up to you if you want to
go that much deeper I'll have more
content available in our progressive web
app course they'll go into all the
different aspects of web manifest file
so if you want to learn more about
building progressive web apps be sure to
register for a progressive web app
course the next requirement is a Service
Worker
now the default HTML file boilerplate
does not have a Service Worker file so I
did add in SW JFS that is kind of a de
facto standard IC used quite often for
naming of Service Worker file you can
name it whatever you'd like but I tend
to stick with swgs because it's nice and
short and here I've got a fetch event
handler now you do not need to be a
master of Service Worker caching what we
do have a course on that as well but you
do need to register an event handler and
you can do that in your Service Worker
file by referencing the self object
which is correlates to the global scope
in your service worker and calling the
add event listener function just like
you would in UI code the event in this
case is fetch and then you want to pass
a hand a callback handler and that
callback handler receives one one
variable and that's going to be an event
object here I've represented it by a
contracted EDT name and what I'm going
to do is I'm just going to log out
that we had a such event that way we can
check our console to see that we're
intercepting all the requests here not
doing anything so the request is just
going to get handed off to the network
and that's just going to be as if we
didn't have a service worker there at
all but so we can meet our minimal NEET
requirements to be a progressive web up
we're going to we're going to register
this otherwise you will get a message
from chrome telling you that the fetch
event handler is not there and that your
application doesn't work offline all
it's doing is check and see if this is
there now there's one more important
piece to the Service Worker puzzle to
get things started and that's actually
registering the Service Worker so to do
so you need to add some code to register
a service worker now I've added it as
the last script here now remember this
will have nothing to do with your UI
thread at all except that it has to be
registered from the UI thread of a web
page
but because all browsers don't support
service workers you should do feature
detection just like you should do for
any feature that you're trying to
actually use that may or may not have
what I would call de facto support
across all the browser platforms now
remember after this fall Safari will be
the only browser that does not support
service workers Internet Explorer
doesn't and it will not but it is also a
deprecated browser as well but because a
lot of people use those browsers you
should always do feature detection and
to do that you just need to see if the
service worker object is a member of the
navigator object and if it is then you
can proceed and register the service
worker and to do that you need to call
the navigator dot service worker dot
register function passing it the path to
your service worker now it is important
that that service worker being the root
of your website and this gets into how
service workers can be scoped and that's
a more advanced topic the Adu cover in
our Service Worker course
is but for here you've got your
serviceworker in the root of your
website and remember everything are
related to service workers is based on
promises so this register function is
going to return a promise if it is
successful then the then handler will
get executed if there is an exception to
catch handler will get executed so
basically if your service worker
registration fails for example you don't
have that fetch event handler then this
message will be logged to your console
if everything is fine then this message
will get logged to our console so we're
not doing anything really fancy we're
just meeting the minimal requirements to
trigger that Add to Home screen
experience as you see hopefully you saw
we came back just a few minutes ago it
doesn't just trigger automatically
sometimes it does wait and then it
triggers for us um you'll have a little
message up here showing from chrome to
head to home screen and I believe we can
actually manually trigger this up there
it is came up for us now there we go so
it came up because it determined that we
met our requirements and the heuristic
model matched up it's going to prompt us
to add it to the home screen again this
is on my desktop
obviously the similar thing would happen
if we did it on phones as well and
that's one of the biggest things we're
after is the phones because those turned
into about 80 to 90 percent of the
actual market these days now as before
we go I always want to I want to walk
through the experience and the developer
tools just to verify some things now we
just looked at the message it's going to
get launched when the serviceworker is
registered you notice it's kind of
buried down here and the reason is
because this isn't the first run of this
particular page so every single time the
pages launch that register process is
going to be triggered but if the
serviceworker is currently controlling
that particular page it's going to
intercept all the requests to the
network and that's why we see all these
requests these logs appear for all those
different requests before we see the
callback for the registration being
successful now this gets into Service
Worker lifecycle concepts again we've
got a a course that deep dives into this
concept and it's a very important
concept for you understand in your path
to Matt mastering service workers so do
highly encourage you to sign up so you
can partake in that course as well now
when I go over to the application tab
we're going to look at the manifest here
and what it's doing is if you have a
valid web manifest it's going to
essentially echo out the parts that it
finds so you can see here is our name
our short name to start URL the colors
when the orientation and display we
didn't set the orientation depends on
the application you may want to set that
to landscape or portrait I generally
make it open that way they can rotate it
and then here it's showing us each one
of the images in the manifest file if
you see an image that is not represented
here basically its 404 that means you
need to go back and look at your
references to your images you may have a
typo or something like that or you may
not have that image and next let's look
at the serviceworker tab here and you
can see we have a successfully
registered serviceworker I'm going to go
into details of all of the stuff here
again we've got more content available
on that but as you can see you should be
able to upgrade any existing website
without changing the integrity of that
website to be a progressive web app with
little to no effort and this should
start you on your journey to be a
full-blown progressive web app so that
you can delight and engage your
customers so that they will engage with
your website at a much higher rate
making your business much more happy and
profitable and that makes you a rock
star developer for your company
yes is Chris love I hope you enjoyed
this video and found it helpful
and hopefully you'll start your journey
to make progressive web apps today
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>