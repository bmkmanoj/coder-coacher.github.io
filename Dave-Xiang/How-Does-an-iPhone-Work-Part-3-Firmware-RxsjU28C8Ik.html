<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How Does an iPhone Work? - Part 3 Firmware | Coder Coacher - Coaching Coders</title><meta content="How Does an iPhone Work? - Part 3 Firmware - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dave-Xiang/">Dave Xiang</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How Does an iPhone Work? - Part 3 Firmware</b></h2><h5 class="post__date">2015-12-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RxsjU28C8Ik" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys we're continuing the
iPhone series today with part three and
we're diving into the world of software
last video we talked about the hardware
inside your iPhone and today we're going
to introduce firmware firmware is the
code that's closest with the hardware
and it's probably the lowest level of
code on the software stack alright let's
do it
remember part two the video we did a
basic overview of the hardware inside
this iPhone there are a lot of SOC s
integrated circuits processors that make
up the hardware guts of this phone
graphics processors application
processors cache memories tons of stuff
remember that hardware needs software to
run or it's probably as useful as this
paperweight I'm sure we've all had to
restart our phones many times before we
see that little Apple even appear
there's a lot of software that's already
executed this is a software that you
really never see and how does it work
ok let's quickly recall one of the basic
tenants of computers and that is that a
processor must execute programs that
exist in RAM when you're on your phone
and you tap into Instagram iOS has to go
into its flash non-volatile memory get
instagram loaded into memory and then
start running it Instagram Facebook and
all those apps you use don't magically
appear near RAM when you start your
phone when you first turn on your phone
when you first hit that power button
your RAM has nothing inside it's empty
just completely empty so what the hell
happens to get your phone going if
there's nothing in ring how does he even
get going how does it boot up alright so
now it's time to introduce a special
type of memory that's not RAM and it's
called wrong R om
robbed or read only memory can maintain
data without electricity
it's non-volatile no changing no
changing ROM memories are usually very
very small much smaller than the 32 gig
flash card you have so this brings us to
firmware what exactly is firmware
firmware is a type of read-only code
that can exist and execute from wrong
memory the majority of programs have to
exist in RAM to be run by the processor
but there's a little bit of special
memories wrong being one of those
special memories that the processor are
gonna execute some special code
you can't just log into the App Store
log into your iCloud account and update
your firmware it's not that easy what we
have to realize is that the firmware
that shifts with this phone comes
hand-in-hand with the hardware that come
at the same time remember when I told
you guys that if your software is busted
you can just download an update and fix
a bug but if your hardware is messed up
you're screwed
firmware is pretty much on the same
level as that hardware if your firmware
is busted has a lot of bugs it's screwed
you're screwed the whole system is
firmware is kind of like a really hard
software it's not soft at all that's why
it's firm it's really firm if Apple
ordered 1 million hardware components to
power their new iPhone tents and that
hardware has embed firmware they might
have to remanufacture or recreate all of
them it would be crazy if you guys use
pcs a lot you don't have smartphones you
probably see the bios start up when you
turn on your computer and that's another
type of firmware so what's the purpose
of this thing what does it do why is it
important you guys probably already
guessed it at this point but one of
firmwares basic jobs is to power up the
system and perform any basic
configurations the code that we write
for firmware must be kept as simple
and bug free as possible we actually
don't want to spend much time executing
firmware code because you can't update
it if something's wrong you're really
screwed we need to spend as little time
as possible inside that code and make
sure it's really simple and very well
tested okay so let's just do a basic
walkthrough of your phone and it's off
and we're gonna press the power button
the first thing that the firmware
probably does when you press power on
your iPhone is to perform some basic
configurations so that it can
communicate with your flash memory your
flash memory is where all the goodies
are stored it's where iOS is stored is
where all your apps are stored is where
all your silly videos are stored it
starts in flash memory is empty right
now or Ram is empty right now excuse me
pretty much the first thing we have to
do is begin a communication with flash
memory extract bits of software out of
there and start executing that and get
out of firmware so we're gonna load some
code from flash memory right but where
exactly do we move it to processors can
actually execute code that doesn't
necessarily have to be in RAM like we
just talked about just now processors
can execute little bits of code in raw
memory
besides ROM there's also a lot of other
cool different types of memories that
exist in your system there's little bits
of shared memory that different
processors can execute
there's layers of cache memories that
you can even execute code from Ram is
the biggest area where you can execute
code it's the largest space but there's
also much smaller highly specific areas
where you can execute code from that
doesn't have to be Ram cache is ROM code
shared memories special types of
hardware so the firmware is first job is
to copy some real software from flash
memory into one of those special
locations so the processor can execute
it we want to get into real software
when we power on our phone the first
thing that firmware probably does is
copy a very simple boo
program from flash into a place where
the CPU can execute it alright so I just
said a funny word bootloader what does
that mean exactly
first thing to know about a bootloader
is that its actual software meaning that
it's soft and you can update it easily
it's not it's not firm this bootloader
usually does much fancier things it
initializes and powers on all the
hardware it loads iOS once iOS is ready
the bootloader can transition into iOS
and then you see that little Apple icon
embedded developers are the people that
write this type of code I spent two
years at Qualcomm as an embedded
developer and actually wrote a bunch of
firmware and device drivers while I was
there that was my first job out of
school and it was pretty crazy because
we shared the same timelines as hardware
did when the hardware would have to be
ready our firmware code would have to be
ready we were on a totally different
timeline than the rest of the software
because firmware is on the bottom of the
stack it's not really sexy and it's not
really something you can show off to
your friends you can't be like hey man
check out this cool firmware everone
they would just be like alright guys
closing out the video soon I just wanted
to end with a couple cool interesting
facts about firmware you can actually
rewrite bits rewrite actual specific
pieces of memory to make updates to your
firmware this is not your simple code
recompile download this is actually
updating like 100 special assembly
instructions to update your firmware
it's really difficult and it's limited
all right so remember that our phone has
many different SOC Ehsan it and many
different types of processors all doing
different things
each one of those processors could
actually run a little bit of his own
firmware to get booted up and configured
we just kind of talked through firmware
from the perspective of one processor
but we didn't even touch how firmware
can operate across many processors
across the whole system different
processors each implementing different
is a's different architectures powered
firmware operate across so many
different things all right guys that's
the video and hope you enjoyed it
firmware is really the software you
never see that gets executed before you
even see that little Apple icon on your
phone even though it's not sexy it's
still really really really important in
another essential part of the software
spec alright guys hope you enjoy the
video and appreciate this little bit of
special code that a lot of embedded
developers around the world write
everyday if you have any questions just
leave me a question here and please
subscribe to my channel for more videos
and I'll be continuing this series all
right take care and I will see you guys
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>