<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Whole Stack | Coder Coacher - Coaching Coders</title><meta content="The Whole Stack - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dave-Xiang/">Dave Xiang</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Whole Stack</b></h2><h5 class="post__date">2016-11-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MCiUwO8QQ8E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on guys hope everyone's
doing really well I say that every week
but I really mean it so this video is
gonna be real long just upfront I was
writing down a couple thoughts and notes
about this and it turned into a lot more
than I expected
but it's going to be long and actually
this is a video that's a follow-up to
this other one I did over here about how
much you should know so please just go
check that out if you haven't and come
back here
alright so whole point of this video is
I want to kind of talk about a journey
or like the whole stack of technology
for one particular use case the example
I want to use in this video is going to
be revolving around cell phones because
that's what I'm most comfortable with
but actually all these steps you can
probably translate them to other areas
like developing a new console developing
a new PC or just developing anything
really new so we're going to use cell
phones as the example in this video I
wrote down ten ten important points that
I want to talk over from really
low-level hardware stuff all the way to
application programming so I want to
cover kind of the whole stack and that's
gonna be this video all right let's do
it
phones right you hear about it in the
news all the time every single year
Apple has these crazy announcements
where they announce new phones every
single year like iPhone 6 6 s 7 7 s 8
you know the pattern goes on and is very
consistent which is good right so every
single year consumers can expect a new
phone every single new phone that you
get in the store
Apple has actually been working on that
for probably a couple years already
right it's actually just a huge huge
pipeline every time we get something new
there's already a newer thing in the
works right and what we're getting
people have been working on that for a
while at the core of a new phone at the
core of like the iPhone 7 it's always
gonna be a hardware change right that's
the core that's what Spurs it all right
a core hardware change if you are just
doing software changes that doesn't need
new phones right software is just
you coded up you test it you release it
and you download an update
that's software changes but every time a
new phone comes out or any time anything
new comes out at the core it's always
new hardware right so we're gonna go
through ten steps and let's get into
step number one
all right so step number one we're gonna
start this ten step kind of journey
thing but obviously I'm leaving out a
lot of details so please go digging if
none of these steps or some of these
steps don't make any sense but at the
very start of everything we're gonna
start with brand new hardware so let's
just take a couple Hardware examples
first right there's hardware designers
designing specialized components inside
our phones right really specialized
things doing math detecting motion
specialized components are all designed
by Hardware people and there's other
more system level hardware guys that put
all that stuff together right but it's
always always iterating just like
software just not as fast just for
example sake let's say the new hardware
in this new phone coming out it's going
to be a brand new processor right we
decided to up the processor maybe the
memory stays the same but we also
upgrade the graphics processor and we
add maybe a new motion detector so some
hardware components get upgraded but it
doesn't have to be all of them so let's
just take the CPU central processing
unit as an example first remember that
every single CPU is designed and
implemented for a specific specification
or ISA remember that acronym so remember
there's one is a maybe it's x86 but you
could have many different
implementations for that so Pentium 1
Pentium 2 Pentium 3 4 or 5 6 they're all
implementing the same specification
they're just doing it better alright
step number 2 is going to be hardware
software emulated testing and what does
that mean
so every time the hardware updates the
software also has to update a little bit
as well right you can't just update
update all the hardware and have the
software be the same right it's just not
gonna work so how do you actually test
out new hardware before it physically
comes out
right you can't just it's not like
software you change a line of code right
you actually get you have to get
something manufactured so that's really
difficult and how do you test that so
there's actually two main ways at least
two main ways that I know of how you
test on new hardware before the hardware
actually comes out all right two ways
that I know of but there's probably many
more the first way is that there's
actually people that create software
that emulates hardware alright so before
you have the big hardware system that
actually comes back from the factory
there's actually programs big programs
that emulate how the hardware would
behave so people actually work on that
software and hardware designers also
contribute to that software so you can
kind of mimic what the hardware would do
if you did certain things alright so
it's kind of like using software to
mimic new hardware besides using kind of
a simulated software type of thing you
can actually use this thing called an
FPGA so I think this stands for field
programmable gate array and what sounds
complicated but what that pretty much is
is a piece of hardware actually real
physical piece of hardware that you can
customize to do different things right
so just think of it as a very
customizable piece of hardware so what
hardware designers do is that before the
hardware can't physically be really
built somewhere in Asia they can program
all this stuff and put it on to an FPGA
for testing this is actually really good
because this is much closer to real
hardware than simulated software is it's
like a physical thing and they can
actually get really big so that's the
second way of kind of customizing
Hardware to mimic what's really gonna
happen but in the end this is kind of
emulated testing that has to happen
before you get the real thing back but
you have to do it right you can't just
like oh my designs are good let me just
give it to Taiwan and expect it to work
when you get back to you right there's a
lot of testing that goes into hardware
as well as software before it's even
fabricated okay so step number three
step number three is going to be
actually getting this Hardware created
so
most companies that you know of Apple or
Qualcomm they're not actually
manufacturing companies all right they
just dude the design of all this
hardware all these cool new processors
they design it they get this huge plan
together specification what it's
supposed to look like how supposed to
behave but they just do the specs but
once that's all done they send it to
Taiwan to get it actually fabricated or
manufactured so there's like huge huge
labs over there and like people are
wearing you know crazy jumpsuits with no
static electricity that you might see in
the movies or something but most
companies that you know if they just
design it and then they send an order up
to Taiwan and Taiwan is gonna take that
order fulfill it and you can imagine how
many chips they have to manufacture
right if we're making a new iPhone 6
that's a lot of new things to be built
so someone else gets the order builds it
all usually in batches and then they
send it back to Apple when it's ready
all right so that's kind of step three
in a nutshell is that we're gonna get
this Hardware finally created step
number four now it's starting to get a
little crazy but this is when the real
hardware comes back and kind of the real
testing and verification can begin this
is going to be actually a really big
milestone right for a long time you've
been testing in these emulated hardware
environments finally the chip or they
can actually call it taping out but once
you physically get the real thing back
you have the real thing now right you
don't need some weird simulation you can
actually test the real thing and this is
when things start getting a little crazy
so worst-case scenario it's it doesn't
work it's a brick and you have to get it
remanufactured and it cost your company
millions of dollars worst-case scenario
but that probably happens very rarely if
you tested it well so I think you guys
would be surprised that often when these
things come back there there's hardware
bugs in here people always think that
all the bugs are in software but
actually there's also a lot of hardware
bugs and things can still kind of work
even if there's Hardware bugs so we got
this hardware back from Asia somewhere
we finally got it back everyone
had this huge party if it actually works
and everybody's going to be really sad
if it doesn't work but this is when the
real verification starts and this is
called Hardware verification pretty
simple it's exactly what it sounds like
but the people that do this job they're
not really software engineers they're
kind of they're more hardware but
they're just intimately familiar with
how the hardware is specked out and how
it's supposed to work and they write a
bunch of scripts pretty much testing
scripts which they write these scripts
and they just test the hardware for all
the edge cases like just pounds it with
tests and all this is really doing is
that you have to verify that that the
hardware behaves like it should behave
also remember that when these things
come back they're really complicated
right it's not just one processor we're
talking about many different processors
like quad core application processor
graphics processor motion processor
modem all that hardware has to be
verified and there's people to do that
at this stage in the game the hardware
verification people might work really
closely with the hardware designers if
things don't really work out to spec but
by this point the hardware designers are
already working on the next big thing
right by the time the real chip comes
back and you have it in your hand you
just have to verify it and it should
work but the people designing the
hardware they're already doing the next
generation thing all right so it's
always this huge pipeline all right so
things are getting a little crazy now so
we're almost halfway done but this is
going to be step number five and this is
going to be the first step where
software starts coming into the picture
all right so software low level software
always comes first
when these new hardware stuff comes out
right so while the hardware verification
team is verifying all this hardware and
making sure it's working low level
software starts coming in slowly into
the picture to start actually writing
code for this new stuff like firmware
boot loaders really low-level device
drivers these things start coming into
the picture at this step eventually the
hardware verification people will be
like all right check
it's good too though the hardware works
but there's kind of like this parallel
overlapping period where hardware
verification is verifying the hardware
and slowly as you're getting more
confident that it's good to go software
comes into the picture software at this
really low level actually works really
closely with the hardware verification
team right because in the end the
hardware guys are verifying some kind of
hardware behavior and the software guys
they're trying to make a driver for it
this happened to me a couple times but
when I was writing like a new feature
maybe I was writing an updated device
driver for this new hardware that was
coming out but it wasn't working as
expected like it wasn't doing what I
thought it should be doing from whatever
big manual that I was reading when that
happened I would often go to the
hardware verification person that that
actually verified that feature already
and one of his big scripts so I'll just
be like oh yeah you tested that feature
already right can I just see your script
and how you did that and pretty much
what I was doing is I was taking chunks
of that person script and I was wrapping
it up in a device driver with some
interfaces right so you can kind of see
how that interaction works low-level
software let's keep going up all right
we're on step number six but this is
going to be higher level software so we
got the hardware back it was verified it
physically works the electricity runs
like it should run low-level software
has also been written and it's doing its
job now it's time for higher-level
software to be put on you can imagine
when these phones boot up for the first
time low level software is the first
thing that happens right this is like
your BIOS or the bootloader low-level
software does all the initializations
first and then it loads the operating
system operating system loads different
applications but we slowly get into
higher-level
software so let's talk about that a
little bit who's doing all this stuff
right you might be asking yourself to
somebody do all these things well
actually it could sometimes be yes one
company like the apples they can do
everything in this list pretty much
besides fabrication but also
smaller companies can do bits and pieces
of different things right you could have
like companies that just specialized in
hardware design and that's all they do
so big companies can kind of do the
whole thing like Apple controls this
whole stack which is why their Apple but
that's kind of the rare case if you're a
smaller company you're probably just
doing one or two levels in this stack
let's just talk about Apple real quick
right Apple probably does almost every
single step it probably does every
single step in this process besides the
raw manufacturing of the chips right
that has to go to some special lab in
Asia but Apple almost does everything
inside its own company so they actually
get different components from various
people but they put it all together
right Apple might design their own
processor but they might get the screen
from somewhere else the touch sensor
from somewhere else and then they take
it all and they put it all together into
a form factor which is your iPhone so
just one point I wanted to throw in the
mix and all this is that when you hear
all these steps that we're talking about
right now
sometimes one company is doing all of
them sometimes different companies do
different parts of it but you know it's
all different alright so everything
we're describing is potentially a very
special expertise of some company or a
different company all right step number
seven step number six was high level
software step number seven I just have
it labeled here as more software so
let's it's just more software let's keep
talking about it so as you get higher in
the stack right now we're almost at high
level software but as you get more and
more into software you have to do more
and more customizations think about if a
company makes a brand new hardware chip
right it would really really suck if
that one Hardware chip worked just on
one platform right so Qualcomm makes
this spanking-new
modem right they make this new cool
modem chip but the if it only worked in
an iPhone it would defeat the whole
purpose right that modem chip has to
work in an iPhone it's got to work in a
Windows Phone it's got working the
BlackBerry phone it's got to work in the
Android phone so you
have to customize it very much right and
sticking some hardware into different
platforms like that does require a
significant amount of software
customizations so you design and
fabricate and test the hardware really
well and all the low-level software
works really well but once you get into
higher-level software you have to make
sure it still works on a variety of
different platforms right so when I was
working at Qualcomm there's so many
different product lines right Windows
Phones they're gone now but we had to do
windows phones Android phones different
Android phones as a whole Beast Apple
and different so many different
companies right but every single
environment every single potential
software environment right blackberry is
really different from Windows but every
single software environment required
special custom things to make the
hardware work this is where the number
of people start expanding right at
higher level software levels there's
just so many more applications and
customizations that it starts to kind of
fan out a lot all right so let's just
keep going up and now we're at step
number eight and I'm I called the step
optimizations but here's what I mean all
right so we just talked about how
everything is fanning out to different
types of software up here but let's just
take one example so let's just take us
as an example all right iOS is Apple's
software that sits on Apple's hardware
as well as other people's hardware but
what makes iOS
I guess particularly special is that
it's heavily optimized for its own
hardware so step 8 the step around
currently that I'm calling optimizations
but the more fancy word for this step is
called platform dependent optimizations
and this is what it means
so just take Apple for example right
they own the whole stack they literally
owned hardware design all the way up so
when you own the whole stack like this
which is pretty cool but that also
allows you the luxury of making really
cool optimization techniques and your
stuff right the Apple people developing
the iOS software then that they can
actually write custom stuff that they
know is going to perform
well on Apple hardware right Apple
software on Apple hardware it's gonna
work well you can imagine that the same
people writing Android for example right
think of all the different hardware that
Android means right just the operating
system of Android there's so many
varieties of it and it's supposed to run
on so many different pieces of hardware
right which is gonna make it a little
crazy companies like Apple when they
control everything it's actually a
little nice for them because they know
exactly how the hardware works they know
exactly what instructions are gonna make
that hardware super super fast and
they're gonna write their software for
that all right guys we're on step number
9 I think we can make it this is much
longer than I'm used to so I think my
voice is starting to get a little thing
might throw its kitty a little dry but
anyways push through and we're on step
number nine and this one's gonna be
developer ecosystem so if I OS was just
at vanilla iOS it wouldn't be that good
right many of the reasons the top reason
is you use your smartphones is that you
can get applications from various
developers right your friend can make an
app and you can download it right so
another really good thing at this level
from step 8
Apple was like optimizing their
operating system making it super good
but as step number nine we have to
develop an ecosystem for third-party
developers so at this level what Apple
kind of does is they just create a
development platform ecosystem it's like
the same word but they just provide
libraries so people like you and me can
access cool things on the phone right
they'll give you special libraries to
get use the camera use the GPS use
motion sensors right and all those cool
libraries you can pick and choose and
create really fun applications so this
ecosystem Apple it's not just apple
right like Windows has it Android has it
I'm just using Apple as a consistent
example but once they develop their
software at a reasonable level they
start they need help from other people
to make that software a much better user
experience and they develop cool
libraries they write good documentation
they make tutorials and after they do
that
all these developers come in and
contribute their apps alright and that's
a really cool part alright guys this is
it
step number ten last step in this whole
sequence to this whole journey but step
ten I'm sure you guys know where we're
at right now but we're at application
software so apple has just created this
cool mobile developing ecosystem for us
the last level of this whole thing is
application software development and
it's when you and me we just go we read
a tutorial and we make an app I did
Apple iOS development for about a year
and a half or so I thought it was really
fun it's a little it's definitely a
little different way of thinking but one
thing that I liked about that in
particular was that Apple's
documentation was actually probably the
best most thorough documentation I've
ever read and actually really appreciate
that and I'm sure if you're a developer
you always appreciate documentation so
that's one real big plus that I had one
big con is that you don't have so much
freedom you have to do everything the
Apple way I mean they think what's the
best way but you know sometimes it can
feel a little restricting but overall
this whole level this whole ecosystem
was provided by Apple right and you can
see all the cool things that happen from
that ecosystem right Instagram snapchat
all this stuff were possible because
Apple created this whole platform for
everyone alright guys so that was the
last step I'm keeping this list up here
but step number 10 is application
development right if you go back up or
back down the stack I guess if you
remember step number one we started at
hardware design and now we're at
application development so we went
through a lot and even though it's still
like a very bird's-eye view of the whole
process I think you have a better maybe
a better grasp of what the journey was
kind of like alright I think in the
other video I just mentioned it and one
sentence so now I was spending like 30
minutes on it
alright guys that's the end of the video
I'm personally wiped out that was a lot
more talking than I'm used to doing but
I think every single point we talked
about here was actually really important
we went through a lot but I
kept a lot of things this was still a
high-level type of talk but that was a
lot to go through and that's just one
example of kind of the whole stack
alright so I hope you like the video
hopefully made you more curious I'm
really tired right now but next week
I'll probably do something a little
shorter but please like the video leave
me a comment ask me a question any
questions probably email me
I can't sometimes I try to respond to
the comments but it doesn't lend me like
the forum on youtubes are this messed up
sometimes so just email me happy to
answer any questions and have a great
rest of the day all right take care</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>