<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Instruction Level Parallelism (ILP) | Coder Coacher - Coaching Coders</title><meta content="Instruction Level Parallelism (ILP) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Dave-Xiang/">Dave Xiang</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Instruction Level Parallelism (ILP)</b></h2><h5 class="post__date">2016-03-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BWmljynuhYo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you know what's going on guys hope
everyone's doing well today we're going
to talk through a pretty complicated
topic called instruction level
parallelism for the rest of the video I
think I'm going to say ILP because it's
really hard for me to say parallelism so
ILP okay ILP is a pretty advanced topic
and it's usually out of scope for 99% of
developers out there and it's one of
those magical things that we just have
to accept and it's always happening for
us instruction level parallelism is a
technique on the compilers and on the
hardware level so it's one of those
collaborative techniques kind of like
virtual memory where it takes some
software power as well as hardware power
and we're going to talk through ILP in
this video before watching this video if
you haven't checked out my two CPU or
processor videos I would highly
recommend just going over there and
checking out those videos right now a
lot of the things I talked about in
those videos are I'm assuming you
understand those before you watch this
all right if you're ready to learn a
little bit about ILP or instruction
level parallelism let's just get started
all right so for the duration in this
video we're going to use the CPU to a
chef analogy to explain this concept
remember a CPU is like a chef working in
the kitchen if you give a chef four arms
or six arms it's equivalent to beefing
up and giving a CPU bigger and better
Hardware if you put two chefs in the
kitchen
that's equivalent to dual-core if you
put four chefs in the kitchen that's
equivalent to quad-core today we're
going to start with just one chef
working in the kitchen and he's going to
be making a salad recipe this salad that
we're going to be making is a pretty
simple salad it just has tomatoes and
lettuce so it doesn't taste very good
but two things have to happen before we
get this salad ready we have to cut the
tomatoes and we have to cut the lettuce
all right to make this salad we're going
to need a recipe remember that the chef
he's a beast he can do a ton of things
but he can only actually execute
whatever is on the recipe remember the
recipe is
our software and the chef is our
hardware and the chef is going to
execute this tomato lettuce salad recipe
today so let's get started with this we
have one chef in our kitchen right now
normal chef he only has two arms and
he's going to start making this salad
recipe first thing he's going to do is
going to cut the tomatoes which takes 10
minutes and then he's going to cut the
lettuce which takes another 10 minutes
so altogether the salad is going to take
20 minutes to make
okay so 20 minutes making a salad we're
going to beef up the chef by giving him
some more hardware we're going to
actually give the chef two more arms so
he has four arms now forearm chef now
with forearms the chef is going to be
able to cut and do more things at the
same time two arms can cut the lettuce
and the two other arms can cut the
tomatoes so altogether the salads going
to take half the time right ten minutes
to cut both things and the salads going
to be done in half the time ten minutes
so what exactly did we do here well the
concept is pretty simple we pretty much
beefed up the chef or gave the chef more
hardware just like giving a CPU more
hardware and we could complete the tax
more efficiently
now remember beefing up the chef is not
the only way to make your computer
system or processing power more
efficient what if we kept the chef with
only two arms but we actually put two
chefs in the kitchen so we have a dual
core kitchen with two chefs and each
having two arms now if we had two chefs
each with two arms one could cut the
tomatoes one could cut the lettuce it
would still complete in ten minutes
right the moral of this story is that
there are many ways to make your
processor more efficient you could
either beef up the processor give it
better hardware just like giving an arm
to a chef or you could actually
duplicate the processors and introduce
multi-core which is just sticking more
chefs in the kitchen all in all whatever
technique you use multi-core new
hardware you're just making your
processing power more efficient okay
let's just go back to our example we
have a chef in the kitchen and he has
four arms right and it took him ten
minutes to make this salad because he
could do the lettuce chopping and the
tomato chopping at the same time
remember that this chef he's a beast he
has four arms but he always has to
follow the recipe and it's very likely
that the recipe could be a really shitty
recipe remember that this recipe is the
software and software as you all know
there can be some shitty software and
there can be some good software we're
going to get a new recipe for this salad
and it's going to save this first cut
the tomatoes with two of your arms but
don't use the other two arms right now
after you're done cutting those tomatoes
now you can cut the lettuce with two
arms but this whole time there's two of
my arms that weren't even utilized so
what just happened here I got a really
crappy recipe right even though I have
four arms I was only utilizing two of
them at any point in time so I had to
cut the tomatoes first and then I had to
cut the lettuce and the recipe still
took me 20 minutes remember that this
recipe is the software and the chef is
the hardware if the chef gets a crappy
crappy recipe there really isn't
anything he can do about it no amount of
beefed up hardware four five six ten
arms is going to make up for really
crappy software if we get a crappy
recipe that tells us the first cut the
tomatoes and wait and then cut the
lettuce without utilizing all our
hardware then things are going to take a
lot longer right this is kind of where
the intuition behind instruction level
parallelism comes in it takes the
collaboration of hardware and software
together to make things as efficient as
possible the first part of the
collaboration the hardware part the
hardware has to physically have the
capabilities to support some kind of
parallelism right in our first use case
when the processor only had two arms or
sorry when the chef only had two arms he
could really physically only do one
thing at one time okay so that's the
first thing we have to remember for ILP
to even be possible we need the
appropriate hardware to even make that
parallelism possible
and secondly on the software side
remember we always need good recipes
that utilize our hardware if we have
forearms but the recipe is only telling
us that we can use two arms at a time
we're not going to be really efficient
we need some good recipes and good
software to enable this type of parallel
work lucky for you developers though
that almost every single piece of
machine code that a CPU executes it's
already translated into crazy low-level
machine code that we never have to worry
about a compiler already optimizes the
crap out of it unless you're designing a
compiler or maybe you're designing a
system that generates raw machine code
you probably don't have to worry about
ILP okay so imagine you're the recipe
writer for this salad recipe you
actually wrote the program that creates
this tomato and lettuce salad this
recipe is so simple that when you wrote
it did you even were you even aware that
it was going to be executed in parallel
this is kind of the magic or secret
sauce behind ILP it's just happening
under the hood for you when we're
writing our software we don't really
know what or what can't be run in
parallel we trust that the compiler is
going to do a really good job and the
hardware is going to be utilized we just
trust it and it usually happens pretty
well all right guys that's some more
magic for you hope you liked the video
if you have any questions just post a
comment down here drop me a like please
subscribe if you haven't subscribed
already and as always have a great week
and have yes just have a great week I
don't know all right guys later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>