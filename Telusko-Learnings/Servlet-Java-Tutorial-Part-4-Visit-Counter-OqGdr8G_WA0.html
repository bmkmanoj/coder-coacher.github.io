<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Servlet Java Tutorial Part 4 Visit Counter | Coder Coacher - Coaching Coders</title><meta content="Servlet Java Tutorial Part 4 Visit Counter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Servlet Java Tutorial Part 4 Visit Counter</b></h2><h5 class="post__date">2015-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OqGdr8G_WA0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back in this video will write a
code for a servlet so as we see in the
last video we have talked about the
theory of sublet in this video we'll
just go beyond that we'll write a code
in which I will demonstrate the way do
servlet execute to demonstrate that I
will write a code just to count the the
count the number of visit a user visit
to that page which means I would like to
servlet which will count the visit you
know the number of visits the client is
coming that that web page so for that I
what I will do is I will create a new
web page so we'll say a new servlet
because I went to count so I have to
make a dynamic page and I will name this
tablet as counter or we say visit
counter okay and see click on next now
there is something called as web dot XML
file so what is the web.xml file so this
file is your deployment descriptor so
any servlet which you add on your web
page or on your website or your web app
that entry should be there in web.xml
example if let's say sign sends the
request is client sends a request to
your website so it will first go to web
Diceman file just to find the page you
are the servlet so I will click on
finish again I will go through the
Vectrex one file once again let's click
on finish
so once you click on finish you will be
getting a servlet of well prepared
servlet what we'll do is first let's
have a look at this web decimal file so
when I was applying request for a visit
counter name or patent all of you URL it
will call this speed which is visit or
visit account visit counter ok which is
this servlet and this saw that I am
getting lots of code what we'll do is
we'll select all and say Dilek we'll
write a sport code from scratch
ok in order to solve it as we have seen
in the last video or the last video
which is in second tutorial we have to
create a class and we'll name this class
as visit counter you have to make sure
your plan is public
now since we want to make it as sublet
we have the right extents as should it
be solve it however it is like let's fix
the input so ctrl shift I which will fix
all the inputs and then now whenever you
walk with sublet basically subject walls
with different methods the first method
is in it the second method is service
and the third method is destroyed now we
have already seen the second video
instead of working with service we can
work with either to Kate or to post but
just to make it simple with this time
we'll go for service method so let's say
I have I have a method which is public
void service I don't want to use in it
so we'll go type you go for HTTP service
method which which has two parameter one
is ship is object request william the
object is request and then we have one
more which is HTTP servlet this forms
and we'll say this is response object
now once you've got these two object
what i will do is i will declare a
variable int i which will maintain the
counter initially the value of i will be
0 and then i will print with say out dot
println will say the value i want to
bring the value of i but unfortunately
we don't have an object of out so for
that I have to create object of print
writer which which helps with a bit of
the client page I will say print
roided-out response dot getwriter so
gate writer is responsible to give you
object of train to item for this way to
fix the input so we say control shift I
just to fix the input and it might throw
an error so this get writer is a catch
it will throw our exception it might an
exception so we have to handle this
exception so what we'll do is we'll just
use slow and with slow IO exception well
and that's it that's what we want to do
right and now I feel on this file since
we are running this file for the first
time it will take some time because this
is not deployed on top cap so it will go
in two steps it will deploy the app on
Tomcat and then will run so let me run
this file okay you can see if I go to
the console if I see the window it says
the app is getting deployed on Tomcat
server
sometimes my Tomcat server either you
can use Tomcat or you can use the off
switch because if you work with NetBeans
you get GlassFish by default okay so I
am using Tomcat here we go the number of
pounds it says is zero okay that's V
okay so this is my first visit right
Michelle okay the count is zero if I say
refresh again the count is zero we
wanted to increase the count right from
zero to one
now what's happening here is every time
you request for a page okay every time
you request for a page it will call a
method bonus service so first time I
made a request for a page it will call
this method service it will go here it
will declare variable a as casino and
that's the problem that's where we are
getting the column as the initial value
was 0 so we are going to make it 1 if we
just make it one out if you say refresh
so you can see the count is 1 but again
if you refresh this is your second visit
third visit and if I even if I say enter
every time I run this it shows as the
visit as 1 it's because we every time
you refresh a page it will call service
method which simply means it will
declare a new variable every time it
will be our new variable I and the value
of I will be 1 and then it will create
object of rent right if it doesn't
matter
and then we'll print the value of I
which is 1 so every time you run this it
will give you a value of 1 what we want
now when you visit for the first time in
which it should give the value as 1 but
next time it should give the value of
the value as 2 so what we can do is I'll
take it
for that what we want we'll do is every
time I will say I plus plus so if one
after my first visit it will go for I
plus present within second right that's
what we are expecting you and identifies
a difference it says one because the
problem is every time you call this page
it says it will acquire a new variable
how about if I light this variable
outside
good oh yeah if I light this outside so
what happens now is if I just save and
if I said refresh so for the first time
it says 1 refresh it says to the first
it says 3 right so if it not visible for
you let me just get the fish
so every time I refers this page or if I
just enter this page it will increase
the count okay why it's happening is
because when declaring that variable
outside so this section here which is
outside a service method is called as a
section which is called as declaration
section duration section now why is for
declaration because it is a section when
you declare variables and objects now
why this what is important is because
when you learn JSP in future so there
will be a term per declaration scope so
declaration tag okay so we have to use
the chrétien there also so this this
part here called declaration cool now
let's say I don't want to define this
variable here the initial value will be
let's say is 0 but for the first time
when I come here what I want is I just
want to say public boy in it's a sublet
supports one more method which is
follows in it and I will initialize the
value as 1 okay now what happens is if i
refresh okay so you can see when I
reference these pages again one is
because the initial value was 0 as well
as you run this application for the
first time of a deployment if you save
it again if I deploy it oh it's not
deployed just at this file again okay
and if I run this so I can see the
answer is 1 right even if you define the
value as 0 here first it will call a
method which is in it which will assign
a value 1 to the I and I it will jump to
service ok because since you are running
for the first time it will go to edit
and then service in service I am
printing the value and saying I plus
plus what happens if i refresh if I
reverse the page since this servlet is
already there in the container it will
not call this book edit method once
again it will directly jump to
service methods in which the value of is
still - okay it will not realize the
variable because we are not going for in
it so if i refresh so I can see the
count is increasing okay
so point to remember when you're solved
it goes to the Container for the first
time it will call in it and then it will
call service but if you sum it is there
in the container it will directly call a
method service not in it well that's it
from this video and the next part we'll
talk about my advanced topic like this
in management and cookies so do do
subscribe and if you like this video -
thumbs up thank you so much for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>