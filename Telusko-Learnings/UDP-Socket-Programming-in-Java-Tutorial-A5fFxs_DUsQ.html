<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>UDP Socket Programming in Java Tutorial | Coder Coacher - Coaching Coders</title><meta content="UDP Socket Programming in Java Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>UDP Socket Programming in Java Tutorial</b></h2><h5 class="post__date">2016-09-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A5fFxs_DUsQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome back aliens this will have
been ready from fiscal earnings and in
this video we'll will try to learn how
to work with UDP sockets so we'll be
doing the socket programming but not
with TCP this time we'll work on UDP so
in fact I have my earlier videos which
in which I have showed you how to work
with sockets using TCP and this will
work with UDP oh the steps are almost
same you have to create a socket you
have to send data to the server and then
so will do something for you you will
get the response so what we'll do is
from a client machine we'll send some
number to this server and so we will try
to calculate the square of it okay so we
don't want any fancy operation here is
just that we need some simple operation
the main thing is that we need to
understand how to send data from a
client machine to the server machine
using UDP and then how to get it
responds so what we'll do is we have a
package here already create a project
and a package let me get a class here
and we'll name this class as UDP its UDP
client ok so we can have any class that
that's ok so we can say we the main
function here and what else now to work
with UDP what we need is now since in
TCP first we create the connection and
then we send data right so in TCP let me
repeat the same sentence when anticipate
the connection and then we send data so
when you send data you do not have to
mention to which server you want to send
data because you already have a
connection but in UDP you don't have a
connection so every packet should know
where it is going right so if you talk
about TCP it's a connection full
protocol and UDP is a connectionless
protocol so UDP UDP we don't know the
your packet don't know where to go so a
packet your packet need to be mention
you have any in your packet you have to
mention that or you have to mention the
IP address and the port number since we
don't have a connection but of course we
need a socket there right so we cannot
use normal socket here to work with UDP
we require a special socket call his
Datagram socket so when in a Datagram
socket and we say this is so we have to
input the packet
for this and package is imported so it's
a D as equal to new Datagram socket ok
so just have to get a socket knowing to
mention any IP address because socket
will not know which server you want to
connect with it is your packet which
knows about it it may happen that
yourself your data on socket may throw
an exception let's say let's hand let's
say it throws exception ok now what next
to send a data first you need to take
the input from the user so we'll do one
thing before that let's create a value
we'll say a I mean I equal to 8 again we
can take the into from the user we can
write scanner class and all those stuff
just to make it simple I am using my own
data for that matter okay now once you
got this data you want to send this data
to a server right and when you want to
send you a to the server we need to use
something called as data gram packet
because they return packet is something
using which you can send the data so
you're eight you want to send this a to
the Datagram packet so we'll names this
diagram packet as DP equal to new
Datagram packet now whenever you want to
create a Datagram package for sending
data you need to mention for parameters
okay so let me write this for parameter
C oh that's weird
okay so the first parameter was second
third fourth so the first parameter you
have to mention is the data which you
want to send the second parameter is the
data length the third parameter you have
to mention is the IP address and the
poor and the fourth parameter you have
to mention as a port number so this one
let us tell you the first one so the
first parameter is you will mention the
data so I will say a hold on but the
problem is it will accept the data in a
in a byte format okay so when it's au it
will accept only in byte format what it
what exactly it means so yeah it will
accept you are byte byte array format
not exactly bite bite bite bite added so
you have to convert this I which is into
a table into byte array how can I do
that so we'll say byte how to do that
bit tricky but you have to say byte
arrays will say byte
they must be equal to the problem is you
cannot convert I into array of bytes so
you have to first convert your by into
string so when you say I plus a double
quotes is a string right and then we can
say dot get bytes because get bytes is a
method which belongs to string object so
now when you say I plus string it will
give you a string then you are saying
get buys it will give you the it will
give you eight in a bytes format okay
and then you can send that data here so
we have to send B then you have to send
the B dot length mean that means these
the length of the bytes that's the thing
you need here and we are getting in
either because I made a mistake okay
that's weird
okay ah and what else
okay so we have to pass two more
parameters the next parameter is the IP
address and next parameter is the port
number to make the IP address what we'll
do is we'll use the advantage of I on it
I mean we'll use a class for us
I knit address will say AI equal to I
net address dot get bites are not get
bytes get localhost address now once you
got the local address we can pass that
our AI here because the server and the
client are on the same machine will say
I a and then we have to mention the port
number so we'll use any available port
number which is I will use nine nine
nine nine so of course on the server
side we need a socket which accepts this
nine nine nine thing now once you go to
data with Sandy data we'll say D s dot
send that's how you send a data input in
in this and this will pass DP so DP is a
packet you want to send so you are
sending this packet DP of to the socket
now once you send the data of course we
are we have send a data right and let's
say on the server side we have the data
we are processing it and we are doing
all the stuff after processing you yes
sir we'll send you the response right so
you have to also accept it now how do
you accept the data so again you for to
accepting the data we require a new data
ramp packet for accepting it and we are
assuming that so
send you a data so we'll say
datagrampacket
will say dp1 which will accept the data
for you will say Datagram packet again
now when you accept data we can use we
can use one more bite added which will
which will be helpful for accepting data
will say byte array will say b1 equal to
now since this B data came from I but
this B one okay let me just write it
here itself but this b1 data will be
coming from is we don't have data right
now right so we'll simply create an
array of bytes and the size of it will
make it as 1 0 for just before using it
and we can pass that byte here so we can
say a byte and we'll say B dot length so
while receiving it you don't have to
mention the port number it's just while
you sending it you have to mention the
port number okay so that seems good and
now what next now once you have to
specify this now we can directly receive
the packet so we can say D is dot
receive and we can receive the data into
DP 1 so the in DP 1 you go to the data
and let's print the data now how do you
print it we can say string STR equal to
new string and we can write DP 1 dot get
data that's how you can fetch data from
the user now once you've got the data
let's print it on the system we'll say
system dot out dot println and we say
STR I mean result is and let's print STR
and that's it
your client side is done so once you
like once you run this code your client
sign will work but the missing part is a
server-side because we have not written
this our part yet
so what we'll do is let me just verify
my this thing is working I mean the
recording is working let me open sublime
it's working ok so let me create a one
more code for the server will
right-click here Wilson you with a class
will say UDP UDP server so that was
declined and let's create a client now
also one now for server we require
public static
avoid Maine which accepts string
arguments okay now once you've got it
server what you need on server side
first of all when you send the data from
the client side you need a server using
which you can accept the data so for
that you need the required data Graham
socket which using which you can accept
data will say D s equal to Datagram
socket so while they're accepting data
it is compositing for you to you to
mention the port number here because
when a client says the data goes to the
port number you have to mention the port
number there and we have this it may -
an exception we will say those because
your client will send data to this port
number right so that port number should
be working so that's why you have to
mention the port number here now once
you mention the port number I will try
to accept the data from the user now
from the client so for accepting digital
we require Datagram packet so remember
to send to to use a socket we use data
comm socket and to receive the data with
required packets or to send a list of
the data we require the packets so I
said this is DP equal to new Datagram
package now while you sitting it you
have to just have to mention the byte
array again because when you work with
data gram packet you require a byte
array so it's a byte array we'll say
this is v1 because of course we need to
send it we required me to there will
stand okay we say new a byte by
specifying the size width:1024 okay and
let's receive that data in b1 here and
this is B 1 dot length okay now once you
create the packet using which you can if
you can receive the data I mean we got
the packet lets you see that this is the
data in the packet so we'll say D s dots
receive and we can mention D P there so
in your D P now you will have your
database coming from client but I want
to fetch the data from it right so we
have to create a string in which you can
fetch the data will say new string and
in bracket you can mention DP dot get
data so using gate data you can fetch
the data from the client and now it is
there inside your string but hold on I
want to perform an operation right I
want to perform a square
operation here so for that we require
int numb so this int will be coming from
STR now how do you face data from sts I
have to say integer dot parseint if you
pass STR here so it will take your
string it will convert that into a
number so it will if you receive 8 in in
string format you will get a number
format there now once you got the number
just have to say int result which will
have the multiplication I am in the
square of number once we got the result
now I want to send this data back to the
client
but hold on how do you send data to
client again that's a tricky part now ok
so to do that what we'll do is we
require one more Datagram packet which
will send the data to the client side
will say Datagram packet
dp1 equal to new Datagram packet by the
while sending data you have to mention
you have to mention the port number also
right but I don't know the port number
here
no ok which port number it will be using
so what I can do is I can okay we have
to first you have to mention the we have
to mention four things we also mention I
have to mention the iPad or side so
we'll say I net address I a equal to I
net address dot get localhost address we
got the IP address but we are still
figure it out how to get the port number
so what will do is will first send you
data first will say ok for that I need
an array that's a different thing
I need a byte array we'll say this is
byte at a b2 now this data come data
will be coming from this also it's a
result plus spring because we have to
first convert that into string and we'll
say get bytes now I have to send that V
2 here and then we have just mentioned B
2 dot length that will be poor length
then you have to mention the IP address
so while receiving you do not have to
mention anything but I mean you have to
mention really bite at the end the
length but while sending you have to
mention byte adder you have to send the
length you have to also mention the IP
address which is I a and you have to
mention the port number so the port
number will use the same port number for
the saving so the port number which we
have used for receiving will use the
same thing with a DP dot gate
put so get poet will give you the saving
port number so we'll use the same port
number and at the end we can simply say
D s dot with you the same socket and
we'll say send you have to send D P one
now so we have received NTP and we are
sending into DP one this is that simple
so from the client side you are sending
you are creating a socket ok first let's
run this code I doubt it in what work
will let's run this so is what learning
now there is no issue so I is running
oh I've learned the client first that's
that's wrong first you have to learn the
server right so I'd like run the server
or not this one from the jar application
you can see your server is running here
and let's run the client let's run the
client here and you can see client gives
you an error it says number form an
exception for H that's weird okay it's
not able to convert that eight maybe
because I'm the way I am sending that
data here is 2 okay
where is that thing okay I guess it is
also appending this string okay this is
not working so what we'll do is we'll
use spring dot value off if you pass I
it will give you the integer value I
think this should work I hope that is
the issue let me just close this and
other normally comes right we should not
feel about errors and let's run this
code run as java application that is
your server which is running now that's
your only client run as java application
Oh
again it is giving you an error other is
for it is not able to convert the data
from DP it should write because ok I
guess I have to mention the
deeply dot get length is that the
problem I don't think so
everything seems good here oh I guess I
did adding the extra space there let me
remove this space so we can say dot trim
I guess there is something wrong with
this space that happens let's run this
over again run the server and run the
client here we go we got the answer as
num s 6 right ah that's weird
multiplication cannot be sex what it is
doing there I guess we have to mention
the length also
there is some issue with the operations
nothing else because it normally works I
don't know why smart working here
Don as job application and run as java
application hey one meeting six there
something wrong with the data I'm
getting the result STR here
when I'm sending it how I'm sending it I
am using this okay let me just reuse
string dot value of result dot get bytes
let's meet on this again given point
these are just coming as six
let me just debug the application let's
let's check what is coming from the
server side I mean what is coming from
the client side to the server let's
let's print this data first here because
before converting that number into
string will say STR plus STR so that
we'll know what exactly the client is
sending to the server and you can see
client is sending the client window that
is your so you know twenty saw sign so
we're sending eight you can see server
is receiving eight so there is no issue
on the server side and when you find the
multiplication of edge which is let's
bring the num here I doubt there's
something wrong with maybe there's
something wrong wrong with the dumb
while conversion let's say num plus num
run and run let's verify this server
it's here num is also eight there is
nothing wrong with the num then
multiplication should be right of course
it is nothing wrong with the
multiplication okay then it should be 64
okay it's not printing the last four
part so 8 into 8 is 64 then the client
side is not printing the last part that
means client is not able to receive the
whole complete data okay let me say get
length so let me print everything and
now I think it should work or still not
working because because what is the
issue we don't land everything is proper
here because we are getting the bytes we
are getting the port number they are
sending the package
let's change the operation if I change
the number let me just check if I
changing the number the main thing is we
should be able to send the data from the
client and server I the main is not the
operation we are getting for it is not
working for multiple data there's some
issue with the conversion here and when
it should be the problem maybe I'm not
sending the proper data or the length or
something in that way am i receiving the
right length oh that is the mistake when
we say length it should be b1 right we
have searched everything and the problem
was there viewed right if I change the
data now to H and if I run this and if I
run this finally we got 64 there was
something so because you can see right
it's one mistake it is leading to
everything everything is going wrong so
that's how you work with the UDP and
that's it from this video I hope you
enjoyed it with bugs and the thanks
since I have not run this code before
that was I that that was the one mistake
I did
so that's it from this video thanks so
much for watching and do subscribe for
other videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>