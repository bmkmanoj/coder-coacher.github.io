<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>13.2 Multithreading in Java Practical | Coder Coacher - Coaching Coders</title><meta content="13.2 Multithreading in Java Practical - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>13.2 Multithreading in Java Practical</b></h2><h5 class="post__date">2016-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xj1uYKa8rIw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so once we have seen the theory of
threads let's see the practical
implementation of it now as you know
that in by default in your code you have
one thread B's main thread right so we
we do have a main thread by default so
all this execution is done by main
thread right so if you write any
statement here so if you light system
dot out dot println and if you print
let's say good so even this will be
printed by your main thread so
everything you do in your code all the
execution is done by main thread
okay that's your one through it right
and let's say if you have a class and
that class is calculator if you create
the object of a calculator if you try to
call all the functions all the methods
that methods will be called by DAC main
thread so by default we just have one
thread okay now what we'll do in this
code is let I want to I want to do
something like I want to do I want to
print five five times and I want to
print hello five times and that's my
typical example which I take every time
so let's say we have this high here we
have we have high class and we also have
hello class okay so we have two classes
here we have plus high and class hello
in this class hi we have a method which
is public void show and in this show I
will I will use a for loop because I
want to print high five times okay so I
will says for loop int I equal to 1 I
less than equal to 5 and I plus plus and
here I will print I will print hi ok and
let me copy the same code in hello and
here will print five times hello
so we are printing five times hi and
five times hello here okay and to call
those methods we have to create object
why that's the only way to call method
zero so we'll say new hi
we'll say hello
Oh Bridget - equal to new hello so we
got this two objects so we have we have
show method here we have show method
here and then we are creating the object
let's call those methods will say obj
one dot show and with the obj two dots
show okay and so if I run this code will
be going over output we got five times
hi and we got five times hello right it
is it is running because we are calling
obj one dot show when you call this so
your main thread will go to this show
and it will execute the complete method
it will execute this for loops it will
acute this for loop and then you will be
executing this hi statement five times
the same thing once it is done your obd2
will call show that means it will call
this method it will print hello five
times right and now what our does I mean
the output I want is I want to I want to
see it is printing I want to see hi
should be printed and then because if I
run this code it's so instant we can be
getting all the output why I want to see
one one thing executing so I want to I
want to print higher then I want to take
some pause and then I will print hi so
there should be a positive at least half
a second okay now how to achieve that
pause now since by default everything is
everything is executed by thread we can
actually make your thread wait for some
time or you will you can suspend your
thread so how do we suspend our thread
is we can use thread dot sleep so it's a
method which we use to suspend our
thread so we can say 3 dot sleep and we
can specify some time here
so when you say try dots leave 500 it is
it means 500 milliseconds which is
approximately half a second because 1000
milliseconds is once again now the
problem is it is a it may throw an
exception so this is a checked exception
so it is we should handle the exception
so we can use try catch here let's write
try catch on one line itself I can we
right brackets and multiple lines what I
will prefer here to write it one line
because I know there will not be any
result because of this why to based
multiple lines so we have this one line
let me just copy this and let's do the
same thing for hello now if we run this
code what will happen is your thread
will wait for half a second so you can
say it is it is trending it is waiting
for half a second I just printing this
one waiting for office again but in this
waiting for half a second so you can see
it is it is waiting for some time so
that is half a second okay if you
increase the increase this time it will
wait for some more time there okay so we
are getting the output and after some
waiting some time right now
if I if I make it one if I make it
thousand it will it will wait for one
complete second why differ on this code
now so you can see just printing higher
then waiting for once again printing
high reading or one second is printing
so it took it took five seconds to print
all highs it tooks five it took five
seconds to print all header right
so when you know that your this loop
will take four this method will take
five seconds this method will be
executed after five seconds right I mean
just imagine we are not doing we are not
doing any sleep method here it is
internally we are doing some programming
we are doing some stuff which will take
five seconds so in that scenario your
other your other method has to wait for
five seconds right and that doesn't look
good because if your one toy one method
is busy executing something and the
other other methods are waiting for the
first method what exactly we should be
doing is if one method is executing on
one code of your processor say since we
have multiple processes in our machine
if one thread is busy work I mean is if
one method is busy on one code this
method can be executed parallely right I
mean there is no dependency on these two
methods why there is no dependency of on
of hello on high so we can execute them
parallely okay now how to execute them
badly so when you when you say we want
to execute them finally that means the
output we expecting is something like
this we should be getting high the
we should be getting hello then we
should be getting higher then we should
be getting hello so we want hi and hello
alternate so that way you can do that is
by making this classes as creds now how
do you make a thread so it is very easy
you just have to say your class will
exchange thread so if you do this your
class will exchange thread both the in
both is in audio if we do this what will
happen is if I if I learn this code okay
it is not running parallel it's because
just Spock just by saying exchange
thread it will not make a thread right
you have to do something that something
is whenever you create a thread you have
to start this thread because now this
this high is not a normal class it's a
thread now right because every time you
extend with thread your class also
becomes thread so this object here also
becomes awkward so what we'll do is
we'll say obj1 obj2 art can you see that
we got a new method now start and it
belongs to our class thread here can you
see that okay
so we'll say obj one dot start and then
we say obj to dot start okay it should
work now and if you want this code oh my
card it is still not working in parallel
the problem is when you say start
internally so every time you say start
internally thread execute a method that
is run method so whenever you venom is
whenever you say start internally in
thread we we always call a run method
which means instead of calling show we
should be causing run because start
always calls run it it seems bit
confused it be simply difficult
initially but don't worry once we
complete the for example he will get the
gist of it so when you say when you say
when you call start it will call run
method here and if you want this code
now you see that we got hi hello hi
hello hi hello in parallel so the way we
do that is we we have to say obj one dot
start and then the start will call brand
session of calling show we
to call run so whatever logic you are
writing here that should be a part of
run method okay so one is the internal
method of threader so whenever you put a
thread it is your responsibility to
override this one method okay now but
hold on this these are these a small
issue here the issue is you can see we
got hi hello regard hi hello but
unfortunately we are getting hello first
why not hi it's because what is
happening is when you say obj1 dot start
I mean we are starting both the thread
is the same time okay there's a dis a
difference of one milliseconds maybe so
what is happening is when you are when
your thread goes for the execution so
let's say your thread want to execute
high or print high your CPU is only 1
right so CPU will say okay are you want
to print high just print it so just
printing high then hello goes and say I
want to print hello it says ok hello you
also print then high goes and then high
says I went to play and hello says I
want to print but server between but
they both are reaching at the same time
ok so let's say we have two cools and
they both are reaching to this scheduler
so we have in your OS you have something
called as scheduler so both the threads
reaches to the schedule at the same time
and now both the thread says I want to
execute I want to get executed now as
scheduled say say hold on oh I cannot
execute both at the same time so I have
to choose between you there are multiple
criteria is based on which your
scheduler will pick up one one thread so
criteria like the 12 priority a criteria
like the less time so a a thread which
less which will take less time will be
executed first so they are different
different properties based on which it
will select but in this scenario both
the threads hi and hello they have they
don't have any priorities I mean they
have a default priority or they they
have the same time of execution so at
this point of time your scheduler will
take will go for a random order so it
will choose any any thread at random and
that's why somewhere
it will print hello because it is going
for some random stuff now if you don't
want to don't want to get - what you can
do is from star itself we can have a
delay of some second between this two
threads so that they will not match it
up if you add a delay of 10 milliseconds
what will happen is I will execute and
after 10 mins against Allah will execute
so they will not be any clash between
this tool and if you can see this we got
the output as hi hello hi hello hi hello
so that's how we can achieve a working
of threads okay so that is that's the
that's the example of thread in the next
video we'll talk about how to do the
same stuff with the help of our
interface because we have used a thread
class here can I use our interface here
so that we'll see because what I mean
why we need an interface that is because
let's say I have a holiday of a class
well as a and this class hi want to
extend a class a and unfortunately in
Java we cannot achieve multiple
inheritance why D cannot because you
cannot say class hi extends a and thread
both so for that we need to use some
interface and how to do that that we'll
see in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>