<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Singleton Design Pattern using Double Checked Locking Part 4 | Coder Coacher - Coaching Coders</title><meta content="Singleton Design Pattern using Double Checked Locking Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Singleton Design Pattern using Double Checked Locking Part 4</b></h2><h5 class="post__date">2015-05-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yvwIZzur-lw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the last video we have seen how to
use how to create a singleton design
patent even if you are working with
multiple threads so we have discussed we
can use something called a synchronized
here to create that instance to get only
one instance there is one more way if
you have two threads what we can do is
we can add a delay between two thirds so
how to add delay we can say thread
toward sleep will make it sleep for 10
milliseconds and we'll say - I can just
- under the exception exception okay and
now even if even if you have we are not
using the sync a nice block here so if I
run this you can say on vika getting
only one instance is because when you
say t1 dot start it will call get
instance where you will get the object
and then after 10 milliseconds it will
call it will create this object which is
start with it we call this start which
will again call the get instance but
this time your object is initialized so
it will not create a new object okay
that's one way but waiting for 10
minutes second is Westhoff time right so
what we can do is we can use a concept
here called as double check locking now
how to use double check locking is
double check means we will check the
object as null two times one simply and
second one inside this synchronized
block so what it will do is it will just
say synchronized it will be synchronized
with the class so let's say it is ABC
dot class and what we can do is so once
we are checking so once we are checking
here and then after synchronized also
will we'll have one more check so I will
say if obj equal to equal to null so
this is one of this is one more way of
checking it so what we are doing here is
if this is the first time execution so
it will it will give it true and then it
will apply synchronized and then it will
again check and then it will read the
object so for the second time it will it
will come in to think it will come in to
synchronize and it will say okay now so
this d-block is synchronized so it will
not create a new object okay so I should
have applying a synchronized here which
will consume lots of resources we are
just applying synchronized while
creating the object okay so instead of
wasting your 100 milliseconds we can
based on the maybe five to six minutes
econds or in that format if you have
basically it will go for five to six X
of the time okay so this type of object
singleton pattern is called as double
check locking singleton pattern and now
if I run this you can see we are getting
output as instance created so every time
I fire on this it will say on the
instance created yeah so so we have seen
multiple ways of achieving singleton
pattern the first wave was do not just
normal eager so it was it was eager type
then we have second we have lazy type
then we have seen how to achieve using
synchronized block when you have
multiple threads then we have seen what
is double checked locking now is it the
only way to create it now we have one
more way so from Java 1.5 we have one
more way of creating a singleton pattern
that pattern is thread safe it consumes
less amount of resources and it has
multiple features when you talk about
thread safety okay and that pattern is
something called as using enum so how to
create a singleton pattern using in them
that we'll see in the next part of the
tutorial so if you are locked if you
like if you have liked my videos so do
click on thumbs up and do comment and
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>