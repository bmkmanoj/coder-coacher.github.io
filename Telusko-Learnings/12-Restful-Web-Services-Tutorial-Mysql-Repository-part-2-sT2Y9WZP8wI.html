<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#12 Restful Web Services Tutorial | Mysql Repository part 2 | Coder Coacher - Coaching Coders</title><meta content="#12 Restful Web Services Tutorial | Mysql Repository part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#12 Restful Web Services Tutorial | Mysql Repository part 2</b></h2><h5 class="post__date">2017-06-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sT2Y9WZP8wI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's go ahead so what we have done is
we have simply created this constructor
where you have assign these two things
right we have loaded the driver and then
they got the connection object the next
thing would be when I say I want to
fetch all the elements this is not what
I want to return I don't want to return
something which is not defined right so
let's create a list of values now so I
will say a list of aliens and I will
name this as aliens and that's what I
want to return here so I will say add a
list and we'll say added least again if
we can use this hibernate framework here
this will make our work very easy right
but then since we are not using that
let's use normal JDBC and if you know
how do you fetch values of course we
have to fire a query some is a string
SQL where I will fire the query and the
query would be it's very simple so this
is the next star from alien and okay
once we do the adlets why this query now
the way you can do that is by creating a
statement object so we'll say statement
s T equal to con dot create statement
okay now once you got a statement object
let's import the student object or
statement interface what's wrong with
this so statement from Java to SQL and
we got an error now it says it might
show an exception so again we have to
use a try and catch block here so I said
this will be included in the try block
and it will be getting over inside the
catch block so let's assign then let's
say exception e exception e and let's
print error whatever error you will be
getting there let's print that here so
we'll say e okay now once we got the
statement object it's time to execute it
so we'll say st dot execute query now as
you know whenever you execute a query it
will return you or is all set so what I
will do is I will say result set I will
say R is equal to s T dot execute query
and we have to input this package yes
which is from Java to SQL now once you
got result set we we have to run a while
because we don't have one object right
we'll be having multiple objects so it's
the artist dot next so it depends upon
how many values you have it will iterate
to all the values and every time you get
a value let's get in an object will say
agent a equal to new alien and we set
the values so we say a dot set in ID and
this would be coming from the from the
database so we'll say certain in ID will
say RS the get ID for this is from the
first column with the a dot set name it
will be second column RS dot get string
visit two will say a dot set points
which is RS dot get int it will be from
three right so we got this object and we
have assigned the value now we will
assign this value in on these so it's
the aliens dot add and let's pass a so
doesn't matter how many rows you have if
we have 50 rows it will add your 50
aliens and once we do that you will get
all the aliens now this is what this is
how you fetch the values right maybe you
want to fetch only one value now so in
this scenario I don't want to return all
the values I want to return to one value
I can we can do the same thing but this
time we will not return
aliens my means multiple Indians
returned only one alien right so for
that we can even fetch this we can copy
this code and let's paste it here again
we can call it as code reuse that's what
we are doing here right so we'll say
instead of having Selleck star or
instead of L we have to say setting star
where the ID is equal to whatever idea
you have defined here maybe if your ID
is 1 0 1 it will fetch 1 0 1 right okay
so same thing the only thing is we don't
have to use a while loop here we have to
use a if because we will not be running
a loop here because we don't have I mean
when you run this quote it will return
only one value so let's say if utters
dot next we'll set all this ok we'll
create an object and will not add it
will return the same object and we're on
the same object of course we have to
create it outside somewhere here so that
we can actually return it and at the end
we'll study turn return a right that's
the only change you have to do right so
we have created this we have
I be squirty and you will get a results
set we just have to fetch you have to
say artist next and then you can fetch
your values and you can return that
particular object it's that simple
right and now you have to create right
so for create again we can use the same
stuff we can just paste it not this one
we can just copy this code in fact the
cache block as well okay just to him
just to make it fast and just copying
all this thing you can you can do your
stuff there okay so the query is okay
now when you say when you create a new
thing we have to create a string SQL
equals we have to mention a query here
we say create or not does not create but
we have to say insert insert into alien
we say values now personalized for
values we have to specify each and every
value right now instead of using a
normal statement I'll be using up the
patch statement here so that I can use
question marks which is placeholder in
this case and instead of saying
statement let me go for prepared
statement and this would be prepare
statement right let me import the
package for this it is imported from
Java to SQL package anything else yeah
so we have to pass the query here itself
we don't pass the query inside execute
query we pass the query here itself and
we don't say execute query when you
insert we only say st dot execute update
where is that execute update right so we
have to execute update and we don't
actually use if-else here because we are
not fetching data we are inserting data
right between is my values such as the
st dot set and the first question mark
will be replaced by a1 dot get ID st dot
set string the second question mark will
replace by a1 dot get name and st dot
set int the third question mark will be
replaced by a1 dot get points that's how
you assign the values and that's how you
insert data now you think it will work
let's try let's try this
finally we arrange something which will
be saving
into database right and this would be
exciting let's go back here and let's
restart my server I guess it is done or
do you know okay let me just yeah so I
guess this one is done let me just go
back to my postman just to verify this
working and here I will say I want to
fetch all the values first of all if I
send a request you can see we are
getting blank because of course we don't
have anything in database let's insert
some data
so is it post and I will go to body and
I will say if I want to send a request
for alien and the value is 1 0 1 2 no I
mean 1 0 1 harsh 40 and if I click on
send this will it worked but then is it
inserting data in your database let's
verify now that two ways of verifying it
the first way is you can go to MySQL
workbench and you can verify there you
can see $6 million can see that we have
our data here and there is one more way
of verifying it let's go back to my
postman and let's send a get request for
all the aliens and you got your alien
likewise you can search some more data
just verify it let's let's say alien and
I want to send a post request and also
send the boys don't want to send a body
so we say hush
I mean service and Naveen and let's add
it as 70 right click on send now we got
79 Dominion database let's go for 3 and
let's say this is a party and let's say
this is okay
let's live number 60 and send let's
verify how can you verify that since the
next are from I mean let's fetch all the
values of database we will send a get
request and send you can see we got all
the data here again you can send a post
you can send adjacent equals to as well
you will get your data back so finally
we are working with database and worst
and the subsequent tutorials will see
how to update it and delete it so all
the things are coming so if you want to
enjoy all those videos just make sure
that you subscribe the channel
so that's it thank you so much for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>