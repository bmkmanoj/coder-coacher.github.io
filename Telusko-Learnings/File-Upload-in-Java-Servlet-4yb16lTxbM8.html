<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>File Upload in Java Servlet | Coder Coacher - Coaching Coders</title><meta content="File Upload in Java Servlet - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>File Upload in Java Servlet</b></h2><h5 class="post__date">2016-09-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4yb16lTxbM8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome back aliens this is not been
ready from those colored things and in
this video we'll see how to upload of
how to upload files on the website so
let's say if you are make if you're
making a website in Java so we'll be
using servlet JSP for the server
technologies right so in this video
we'll see how to upload multiple files
on the server okay so it will be useful
for your website when you're where you
want to upload multiple files maybe you
want to upload a photo maybe multiple
photos so let's see how to do that so of
course when you when you say you want to
build a website you need a project right
so what we'll do is we'll start with the
project and we'll send new and we'll go
to others now of course we can make a
simple application I mean we can make a
simple web application or in this in
this video we'll be using a mavin mavin
project again you can go for simple
application you can go for you know you
can simply search for dynamic webpage or
dynamic web project so you can go with
this and the thing is in this project
will be needing a a jar file so now why
we need a jar file to upload a file on
the server so Apache provides you a jar
file allowed to do that okay so you have
to you have to make a project and then
you have to download the jar file from
the website or from the Google another
instead of that what I will do is I will
create a mavin project because when you
make a mavin project it is easier to
maintain your libraries right so I'll be
going from avid project is not that
difficult you can choose either dynamic
logic or maven project so we'll select
next and we'll send next now here
whenever you work with mavin you have to
select the type of project you are
working with the archetype I will select
Marvin archetype web app okay we'll send
next now if you don't know how to work
with mavin if you want to learn about
this again on my channel I have a map in
video so you can just search for mavin
tutorial on telesco learnings you will
get that I will create I will make a
group ID which is a package name we'll
say calm touch telesco and we'll make an
artifact ID as file demo or file upload
demo so my project name is file upload
demo and we'll
I finish now once you click on finish
you will get a project on the left-hand
side you can see we got our project here
which is file upload demo and in this
thing the first thing we need is desirey
right of course when you work with file
upload you need a library which is a
batch a common file upload so there are
multiple ways you can do that you can
download the java prompt from Google's
you can just go to google and search for
in fact let's do that let's let me show
you how how that works and to go to
Google and search for common file what
is the spelling of common so it is
common file upload its upload so if you
can search for this ok this is the this
is the library you need ok we downloaded
jar files from here ok in fact they also
have a code for you that's great so you
can download our file from here but I
will not be using this common file
upload jar file from Apache I'll be
using from maven so I will say so how to
do that just double click on the palm
file which is project object project
object model file and you can see
there's a option of dependencies here
and you can say umm ready add and search
for I hope it would work here otherwise
we have different way so search for
common file upload it should take it up
if your net is walking there is
something wrong here indexing is
disabled that's viewed Commons you know
that not this one file upload that's my
project not this one ok this is not
working here the what what we can do is
we can go to palm to XML file and here
we can add the dependency now you can
get this dependency from mavin itself so
you can just go to my website so you can
see mavin repository for common file
upload so when you search for common
file upload on Google it will give you
mavin option also you can download any
version I will play 41.3 which is the
stable version and you can just copy
this file in fact you can also download
Azure file from mavin I prefer mavin in
fact lots of industry people they prefer
mavin project and let's paste it here
when you say save
you can see it is somewhere in the Java
resources there should be libraries and
there should be my own dependencies and
you got your file there can you see that
we got Commons file upload and Commons
dot IO our comments - are you so we got
these two libraries now once you got
this now what next now once you got it
all file let's create a web page from
where you can upload the files okay so
let me just go to okay let me get up a
page so we'll say right-click I should
already get our web page here do we have
a web page well okay we already got our
index page there's one more issue with
the project it is see whenever you
create rjz page or solid page we need
something called as a tomcat server
right again Tomcat or J boss whatever is
preferable let me assign our Tomcat
server here how to do that how to assign
a tomcat server I click on the project
and say properties there should be
something all the servers here you see
that go or one time is the option target
one time so you have to search for
target one time and select apache tomcat
8.0 if you don't have that then you have
download Tom can you have to click on
new and then you have to select the
particular version you want to work with
Apache then specify the version and
click on download it will download from
the internet but since I already have a
positive cat here we can also use JBoss
but I have a patch a lightweight click
on OK and you can see all the errors are
gone because it was searching for the
Tomcat and we caught Tomcat now what
else I need here so once we got this
page so once we got this page let's
create the page I'm in the grid let's
create the required page here so in the
body tag what I will do is I will create
a form tag okay let me because I want to
upload a file right so when you want to
send something on the server we need to
create a form tag and inform will say
action this action will call something
called as upload
URL let's upload and the type of method
we'll be using is post because you want
to send data to the server and and this
let's create input type so very normally
when you create input type
to send text we use input type text
right but since we are to work with
files so we have to say we have to
specify input type file
now when you say input type file it will
give you a option of select I mean you
can browse your files here using type
file we can also mention name we'll say
file itself and that's it that's your
input file type and we also need to send
data to server so we'll say submit
button
so that's submit I guess that's it
that's what what touch what we need
let's right click and let's see if we
are getting this we are getting
something which we need we'll say run on
server I will select Tomcat next I will
click on let me remove the old project
from here let me just go with the new
project and when I say finish you can
see it will run and it will run on this
server which is Tomcat and we got the
output here so you can see that we got a
page which says hello world is giving me
option of choose files now why we
getting option of this choose file is
because we are writing a file here right
so when you say type file it will give
you option of choose file and if you can
you can choose the files from here you
can select any file I already have Java
they want a Java file if I click on open
you can see it says terminal Java I can
if I say submit oh there's a hello
because we have not created this our
side yet but I need one more thing here
when I say choose file I want choose
files it should it should have it should
select multiple files here and for that
what we'll do is we'll simply say
multiple so multiple is attribute using
which you can achieve multiple files so
you can see we are having choose file if
i refresh this page record option of
choose files and if I select this I can
actually select multiple files now can I
do that let me select multiple files to
happen to have multiple files here so we
got this one and this one if I click on
open so you can see it says two files
okay that's it that's on the client side
about this one little issue here when
you send data when you send files on the
server you have to also mention the
encoding type okay so when you say in
files we have to mention the encoding
type and inside encoding type you have
to mention I'm sending a multi-part
document which is monkey but
to say multi-part document answer
multi-part and form data so this is this
type of data you want to pass its
multi-part from data okay so now once
you click on submit it will call this
URL which is upload and on that upload
sublet you will be sending all these
files so client-side plant clients are
done let's work on this our side now and
on the server side we'll be getting a
servlet
so we'll right-click we'll send new and
do we have option of servlet here yes we
have a servlet and let me mention a
package name as calm dot telesco itself
and the class name I will say is file
upload okay so we called file upload
which exchange I should you be served it
anything else here nothing so that's my
URL mapping next do we need any method
here will only need one method which is
do post I don't need to get look lik on
finish now you can see whence we say
that we get all this extra files we
don't need extra things here I like to
clip my good my you know sob let clean I
don't need extra things here do that
just remove extra thing right I'm not a
big fan of I think early bucket after
the method name again we have two types
of people in the world right one who
puts curly brackets after the method and
one who puts
Bo below the method definition okay so
once we have done that let's see our web
toe XML file is it mapping properly or
not let me just go to source so mapping
is done there is no problem there
mapping if it is not done automatically
in your machine you can type it manually
you can just see this code here and you
can type it manually by pausing the
video but since it is done on the Mike's
and it is done on mice on my application
and I click continue this obvious side
now what will happen when you send all
this files so let's say if a second
three files now this three files when
you click on submit it will call this
file upload servlet right and on this on
this side we have to first check how do
we check that is it so see whenever you
send data it sent it gets inside this
request object right any any data for
that matter so when you said when you
send data like let's say you want to add
two numbers so those two numbers can I
mean you will get those data
this request object so in fact your
files will be also coming in this
request object now how do you verify
that you're getting actual files so we
can say if ok we'll do that
you know those stuff checking stuff
later we can also do that later so let's
say if I am sending multiple files to to
fetch those multiple files I will fetch
those data and we'll put that data in a
least least of I mean collection of
files right so when you say you're
sending multiple files we'll be saying
list and the deed the type of data you
will be getting is something called as
file item now file item is a inbuilt
class inside your common folder Apache
Commons it's not working here
give me a we're going to input that
manually it should work let me expand
the library which we have downloaded it
is common file upload so it should be
somewhere inside disk from not wrong so
if I expand this well it's not that here
expand this one ok can you see that file
items so we need to import this package
it is not getting imported automatically
so we have to do it manually some time
it happens you know sometimes your
Eclipse doesn't support what you want to
do so you have to do it manually say ok
watch it dot Apache a dot Commons dot
file upload and inside this file upload
we have this file which is file time
file item right and now you can see
there is no other negatives not giving
any other before and now we say our data
will be coming in you can go we can use
any any names I will say file I mean
list of file items so every file will be
called as file item and we have that
written list of that with a new now how
do you fetch values so for sure our data
is inside request object right so this
is the object request object in which
you have all your data but need to fetch
it we cannot directly use in that way
right we cannot say request it will give
you all the data so the the way you can
fetch it is with the help of object of
request or subject
file upload so before that we have to
create object of servlet file upload now
the awesome thing is Servat file upload
also comes from Apache I mean these
Commons file of Commons file upload
library so you can see the importance of
this file I mean this jar file okay so
I'm going to do this upload part you
need to use common file upload and we
need to create object of this first
we'll say SF for file upload equal to
new subject file upload so we say sublet
my my machine is not working so fast
today
sorry file upload and we'll say
semicolon now this subject file upload
in this you have to pass the object we
have to pass the object of disk file
item factory so this file item factory
does the constructor we have to pass
item factory yes so we have to pass the
object here now once you got the object
of SF okay so once we got the object of
servlet file upload which is required to
pass your request so we will say SF dot
so in this we already have a method
called as pass the question to see that
we got past the quest and request so
what this passed request will do is it
will return you so if we see the
Declaration of passed the quest which is
inside sublet file upload again how to
check the documentation I normally have
this habit of checking a documentation
of everything so if you if you want to
check the documentation just click on
pass the quest it will give a
documentation which accepts the request
object it will give you the list of file
items and that's what we want right
that's what we wanted and we got that so
we got least offer items now once you
got that what next now what we'll do is
once we got the list of item we can run
a for loop right we can run a for loop
to fetch each item so we'll say file
item I hope your family about the and
ask father if you are not just go to my
channel again and search for and ask for
loop so I'm using I'm using this
multiple multiple files and will fetch
one one file so it will first fetch the
I mean it will first it will fetch the
first item and it will be inside item
class or item object and let's let's
write it item service
simply say it has item dot now how do
you how do you write the item on the
server side will say item dot right and
inside this you have to mention the file
lane now which file them I'm talking
about I'm talking about the file we have
just mentioned the file object you'll
save file and inside this you have to
specify the path where you want to store
the data ah ok good question away well I
well I want to store data so I want to
show the data inside my where's our
project is my project that's my project
area this is this is where I want to
upload the file and how will I get to
this part so I will go to CMD that's the
best way I mean the terminal if you are
working with Windows you can go with
command prompt since I am working with
let me just say clear ok so now I'm here
in this command prompt I will say
come on documents and I'm inside my
project which is file or not to get into
my workspace with steady scope and
inside that I have to search for a
project which is file upload and if I
say LS now you can see we got this three
files so this is this is the place I
want to upload the file so I will get
the working directory this is the path I
want to upload so copy go back to the
project and simply say this is the path
I want to upload my file path slash
that's the path plus I want to specify
the name of the file and how can you
fetch the name of the file which your
user is uploading will say item dot get
name this should work even if not
working will do the debugging part and I
guess that's it if you can do that your
file will be uploaded on server so take
one one file and put all your files on
the server it should work and once we
have done that let's print a message how
do you print a message now that's weird
we'll say this once thought
let me print the message on server
itself we'll say file uploaded again
we'll do that how to upload that how to
print that date on this on the client
side and we'll I guess it everything is
everything should work now if I run this
code on the Tomcat server like we don't
need to do them they say solid running
history is all day running statewide
anyway so I'm running this part and now
it is talking asking for the files hopes
so it will work like me select multiple
files here let me just upload first
Friday which is damnit Java upload
submit Oh which is giving you an error
it is not able to find the upload part
that's weird we are saying upload or
which would be saying me to change that
in the XML file right because I'm saying
upload and in XML the mapping is done
with something else let me check what's
the mapping here oh mapping is done with
file upload I have to say upload okay so
now let's meet just let me just restart
my server I will say where's my syllable
it's here this is Tomcat the start
ok there's always some type of errors
which is coming on the way let's refresh
it let me select Java again demo dot
Java and if I say open submit oh now we
got one more error it says class not
found exception it is not able to find
file upload that's weird it is there
it's here and it's here let me just
verify once what is the issue again go
back to the XML file I guess there's
something wrong with web.xml file here
mmm
everything seems good there is nothing
wrong let me remove this extra power
this comm dot to the school is it the
package name which we are working with
okay so the problem is we are putting
that into the source folder right it
should not be inside resource whether it
should be job folder let me get one more
folder here sometime this is what
happens when you work with mavin
sometime so need to move this into Java
so it should be inside Java and you can
see it is giving me some errors now let
me input the package for list okay
because we need to also input the
package for this right and it is giving
me an better because if it is it may
throw an exception is that the issue yes
it is it was right to an exception let's
write everything inside or I can so we
so try and catch and say exception e and
let me just print the exception here
okay now let me just format this format
this thing just to make it look better
and formatting is done I think
everything is done now let's refresh
choose Java file it's here and say
summit and we got one more error we are
always getting some sort of headers let
me just I think we have to restore the
server it's not able to find that again
they can just restart it once again
okay refresh choose define always define
our number Java submit and you can see
we have done that if there's no errors
now because anyway we are not getting a
text because we're not printing and
stuff let me just go to the console it
says file uploader let's verify let me
just code my project you can see we got
demo dot Java so we are able to upload a
demo dot Java file
let me just upload let me just run this
once again by uploading more files and
let me remove this d'amato Java for for
now I want to upload more files now did
it let me choose more files we choose
this one AWS dot PDF will choose JSP
we'll choose camera Java the amount of
JSP and display contact dip we are
putting file files submit it will take
some time of course and you can see we
got this five files and that's how you
can upload the files on the server side
simple so it's that simple to work with
this this file upload again you can do
some validation part and I think we can
do that if you if you want the
validation part and this how to check if
the file is uploaded properly or not and
how to yeah the evaluation part let me
know in the comment section if you want
the validation part I will do that in
the next video if you want that's it
that's it from this video let me know if
you have any queries signing off thanks
for subscribing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>