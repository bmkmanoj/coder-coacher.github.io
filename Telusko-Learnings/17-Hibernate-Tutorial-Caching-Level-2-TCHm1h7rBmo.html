<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#17 Hibernate Tutorial | Caching Level 2 | Coder Coacher - Coaching Coders</title><meta content="#17 Hibernate Tutorial | Caching Level 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#17 Hibernate Tutorial | Caching Level 2</b></h2><h5 class="post__date">2017-01-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TCHm1h7rBmo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome back aliens this is I've
already composed for learnings and now
let's continue for the second level
caching so the first engine arts video
if you have talked about the level one
caches right and before that we have
talked about the theater of it in this
video we'll talk about the second level
caching so let's start with it so if I
go to Abdur Java and then we have
returned two sessions right this is your
first session this is your second
session and we know that first of all
session on first of all caches works
only for that other session now since we
are changing changing this session that
means it is not able to find the data
into cache in the first of all caching
so we have to implement a second level
cache now how do we do that now we have
to follow certain steps okay the first
one is you have to download the jar
files or you have to add a dependency
for each cache now how to do that just
go to hibernate dot and on on this file
go to p om document files because this
is where you mention your dependencies
so if I go to P window XML file you can
see I don't have any dependency for eh
cache so the go dependencies are the
second add and research for e H cache so
again we can go to my own repository and
we can find it but otherwise we can do
it from here as well so it is e H cash
from nice dot SF that's the domain name
okay this one we have to select e next
dot F F dot e H cash and you can go for
the latest version note on click on ok
you got one one dependents you have to
add one more for the integration of high
one a tiny in cash for that will search
for hibernate - e H cash and you can see
what this one here click on that as
click on ok now once you have done that
go to view and XML file make sure you
have those do two things here you can
see because these two dependencies click
on save and once you do that you can see
in Mebane dependencies it was getting
added one as the eh cashing urge not
stitched discuss building so it is
getting downloaded from the internet
which will take up course with which
ones X sometime
so once you have done with that once you
have got got a dependency the next thing
you have to mention is you have to go to
your hibernate dot CFG XML file and you
have to mention which I mean you have to
set two properties first by mentioning
that you are using second level cache it
because if you don't mention that in
your in your hybrid XML file it will not
get downloaded or it will not enabled to
animal charging as you said one no
property will say property it's feeling
some time to go into background okay so
I think I should pause my video for time
being because it is getting downloaded
and okay so I've got my dependencies
that you can see we call hibernate eh
cachet I got e H cache right and if I go
back to the PM files because of this two
point two entries here we got those
dependencies right now I will go to
hibernate and I will set two properties
first one is you have to set hibernate
dot so you can see if I say control
space we got an option of cache and
inside this cache
this is there should be an option called
as cache dot use second level caching by
default this isn't this is false
let's add it true because we have to use
to the second level cache a are we done
with it let's try this isn't going to go
to my app and let's fire this for you
once again because we have done two
things and you can see still it is going
for two just going for two coiling that
means we have not done with it we have
to provide one more thing now whenever
you use second level cache you have to
also specify which provider you are
working with because we have different
providers wise we have eh cache we have
swan cache and all the stuff since we
are working with th cache we have to
mention the property which is hibernate
dot cash dot so in hibernate for point
from 4.0 3.3 we have to use instead of
using provider class before that is to
use provider class but now we have to
use region factor because if you go to
of certain that size that they still use
provided lands because they are using
hibernate three since we are losing
hibernate for we have to use region
factory underscore class in this you
have to mention the class name now which
closet is soft aside or a hyper neck of
over G dot hibernate we an opening
position so we'll type the complete
stuff so we say cachet or then you have
to say e H cash in fact we can we can
copy that you have to just go to
hibernate cash it should be here
if expand this you can see this is the
class I want to use so I can copy this I
can say copy qualified name and we can
paste it here show of typing that stuff
we can paste it when that work let's
remove this extra class at the end which
we don't need so this is this is e
properties have to set two properties
one as the second level cache a enables
and second as you have to specify the
readings bike rename now from where you
will get defect to name you have to go
to - each cache which is all hibernate
eh cash transfers you have to expand the
first one and you will find your clouds
in there now once you got that let's go
to an app and say is one it should work
now and it's not working it says what it
sees hibernate or no class definition
found for which clause okay let's try
okay it's not able to find the
definition made any mistake here so that
oh we don't have to specify for watching
you can simply say hibernate already
over here who are watching here and what
else is remaining there ok let's try
once again if this class not found
for class name class for intimidation
let me just change the washing table is
it there wasn't issue let's try oh I'm
using the hibernate it's my hybrid
version frequency I'm using the hybrid
version 4.1 point and the version which
is we are using here is different you
have to make sure that what they both
are see right and I have a garage
dependency is I got it and if I run this
code now it should work let's try and it
worked but again the problem is we got
again we got to query now what's wrong
we have we have specified in the we have
body dependencies we have specified that
we want to use hibernate but the problem
is not all classes or not all entities
are allowed to get catched you have to
spec you have to explicitly specify that
you are using the cache for that you
have to use one annotation called as
cashable so you have to ask me to have
an annotation colors cashable second
this concept of cache has multiple you
know multiple strategies one is
read-only one is non one is read/write
so what is those strategies are so
witness tried to change your studies you
have to take a shit because fighting for
it is none if you say usage by I mean
what way we are using that suits a cache
a concurrency strategy that's how you
specify the strategy then dot and you
can see it's an enum where you can
specify different strategies here we
have none which means by default is done
it will not use any cache a concept you
can specify a non strict read/write you
can specify we don't literally means it
will only work for reading god for
writing so if you if you don't update
your update your database with only is
best but if you think that you normally
update your database it's best best to
go with with right let's use read-only
here and that's it I think we are good
to go let's go to app and run and you
can see we got only one select wedding
now since even if you have two different
sessions it is finding only one quarter
because they both these sessions are
getting shared with the second level
cache it okay
let me repeat what we have done you have
to first update your pH cash dependents
these two dependencies one is eh gasps
they can run in cybernet years cash you
have to make sure that your hibernate
version is how many hibernate and cache
version is same as the hybrid version
you're working with next you have to
update your hibernate or 50 files are
matching these two things which is your
new second level cache tree and
region-specific class and on your entity
you have to mention two annotations one
is cacheable which is which will allow
it to get cached and second to specify
the strategy which you want which you
are using you can do that the DL pop ad
sketchy add cache annotation so that's
that's how we use this thing in fact we
can do one more thing here let's see if
I go to app and if I specify let's say
if I don't do if I don't use this if I
use a query now how can we achieve
caching using query in fact what we'll
do is we'll do that in the next video so
that's it thank you so much for watching
and do subscribe for these for the video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>