<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Singleton Design Pattern using Synchronized getInstance Part 3 | Coder Coacher - Coaching Coders</title><meta content="Singleton Design Pattern using Synchronized getInstance Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Singleton Design Pattern using Synchronized getInstance Part 3</b></h2><h5 class="post__date">2015-05-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wRMNQH5tgKw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the earlier part what we have done
is we have created this two instance or
two objects orbiting of each one and
they were execute they were executing
sequentially because we have only one
thread right it is main trade but what
if if I just run this when this once
again let me move this video but I here
just to reduce the number of lines and
now if I done this you can see it says
instance created on your points but what
if if I run this with red so let me
create two threads when you straight t1
and in this let me say let me create
this renewable object the neighbor and
this renewable object what it will do is
it will have a method which is public
void run okay and in this let me just
cut and paste it here and I will write
it tastes same statement same thread
toys and paste it here so we can have
the same name object which is obj obj
but you have to change the thread name
so now we have to touch t1 and t2 and
both are creating the same object or
same that what I find the same get
instance method and let me start both of
it at the same time so ethnicity when
dot start and t2 Dodge start so this is
how we create threads right and we are
calling start so now this t1 will try to
create the get in - Paul get instance it
sensitivity the first time it says it
says ok instance created and it will
print and then if you create the object
it will call instance created when you
got the second get instance it will
check ok so
objects are object is already created so
it will not create the new object it
will die actually use the same reference
but let me run this now and run this it
says
instance created two times and there is
a problem now you are using a singleton
design pattern and you are getting two
instance how it's possible it is
possible because we are calling both the
threat are same
time so what they are doing is they are
executing this method at the same time
both entering this section at the same
time and both days okay so object values
null I let me create the object and both
are creating the object now question
arises how to stop this so let me run
this again so every time you run it will
get it will execute will create two
instance so one of the way to stop this
is how about if I make this method
synchronized so it simply means if one
thread is entering this section of get
instance this second thread need to wait
so that the first thread will create the
instance and the object here will be
initialized so that the second trend
when it enters it will give this this
condition false and twist it on the same
object and now if it on this you can see
it says instance created only once so
even if you run this five to ten times
it will give the same output which is
instance created it's because your it's
because this block here is synchronized
right so we have solved the problem of
threads also what hold on don't you
think making your method synchronized
maybe this method get instance might be
doing lots of work if you have a huge
amount of work need to be done by this
get instance it will decrease your
performance by a factor of 100 so let's
say if your system is working with a
speed of X this synchronized method will
reduce your speed and it will take a
time of hundred X so just imagine if you
if you if this execution takes only one
millisecond making it synchronized will
take hundred milliseconds and that's the
issue with the synchronized method then
question arise how to solve this so to
solve this problem what we can do is we
can just remove the synchronized block
here okay and there is a concept we can
implement here there is something called
as double checked locking
so what is double check locking is you
can stop using synchronized method what
we can do is we can use synchronized
locks
so using synchronized blog you can
achieve this single time design pattern
even with threads now how to use this
double check locking that we'll see in
the next part of the tutorial so thank
you so much for watching this video and
do subscribe for other videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>