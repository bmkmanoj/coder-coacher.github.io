<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SQL Tutorial  9 SubQuery | Coder Coacher - Coaching Coders</title><meta content="SQL Tutorial  9 SubQuery - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SQL Tutorial  9 SubQuery</b></h2><h5 class="post__date">2016-01-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hD-LT4mtv0Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello so from last two tutorials you are
using this different data sets but we
haven't actually used the table
Department we were working only on the
employee table this tutorial we are
going to introduce a sub-query and will
essentially utilize the information from
both the tables so let's get started
with it first question how many
employees work in department number ten
we have already done this type of
question so answer will be select count
of star from EMP where DPT I know is
equals to Department number is 10 okay
so there are two employees that work in
department number ten will go for the
next question how many employees work in
Mumbai so Mumbai for Mumbai the
department number is ten so this
question is essentially the same as the
previous one but in previous question we
were given with that how many employees
work in department number ten so the
query was fair enough very simple but
this time we want to introduce first we
need to find what is the department
number for location Mumbai and then for
that department how many employees are
working so first if we see select hello
see sorry DPT
you know from DPT where loc is equals to
mumbai sorry it's work air so okay so
yes so what we need to actually do in
this question is that we need to first
figure out the department number from
the provided location and then that
department number that is the answer of
this query should be that is department
number ten should be included in a where
clause of the previous query that is for
department number ten so instead of 10
over here what we can do is we can
specify this entire query
so the question is still same so we need
to get the count of employees who work
in Mumbai so inner queries will first
calculate the department number for
location Mumbai and then for that
department number the outer query will
get the total number of count so this is
a simple example of sub query yes we get
the same result okay so we'll go for the
next question in which department name
not number does employ a a work so what
we need to find what is the department
name for employee a so now if we see
over here in EMP table for employee a
the department number is 10 and the
department over 10 that belongs to sales
department so our query result should
give the answer at sales so sub query
will include one inner query and one
outer query outer query will be
something which result will be displayed
to the user and inner query will be used
only for a conditional purpose the
result of this query will not be shown
to the user so this time around I need
to display information from department
table so the query will be select the
name from de PT where department number
is equals to we know where here is the
value is 10 but we can't substitute
directly 10 what we need to get is the
department number of employee AAA so
this part will be again replaced by a
sub query
select DPT I know from DPT we're sorry
from here beep where he name is equals
to a a okay so we get the answer
properly next question what is the
average salary of employee in HR
department so the query will be somewhat
related to this answer only we need to
get the average salary so instead of
count star
we'll have AVG of cell from employee for
employee work in HR department so the
employee work in HR department for them
the department number is 20 and the
bracelet is 12,000 funded so where
department number and in place of place
of condition on location we have the
name is equals to HR okay so for these
questions we have done these three
answers and we have executed them
properly now I want to make a statement
all these answers are wrong okay I want
you to pause a video for a second and
just think why this query can be wrong
because we have executed but still they
are wrong okay so we'll start discussing
it now if we discuss this question that
we wanted that how many employees work
in Mumbai so we got the department
number for the employee work in Mumbai
we got Department number is 10
we'll do one thing we will just update
one record update be apt set LOC is
equals to movie where DP TN is equals to
20 so what I have done over here is
Department number 20 we will also now
have a location of Mumbai so now this
time around when we execute this query
the department number that will be
returned will be a more than one value
because when we say location is equal
soon be actually seen aru there need not
be the case that there can be only one
department in one city in one location
we can have multiple departments so this
time this query will give me wrong
answer because a single row sub query
returns more than one room so whenever
we are not sure about whether the inner
query or the sub query will return more
than one record or not instead of using
equal to plus equal to operator what we
need to use is in yes for this the count
is four now because in Mumbai there are
10 and 20 so for 10 and 20 there are
total for employees present similarly
for all other questions we have to
specify in so generally in sub query we
specify equal to operator only when we
are 100% sure that the inner query will
always return one record if not then
what we specify is a in operator instead
of equal to okay before ending this
tutorial I want you to try out these two
questions that is question number 5 &amp;amp; 6
and if you have any queries or any
doubts regarding these two questions
then you can inbox in the comment
section of this video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>