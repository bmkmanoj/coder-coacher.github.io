<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Singleton Design Pattern using Lazy Instantiation Part 2 | Coder Coacher - Coaching Coders</title><meta content="Singleton Design Pattern using Lazy Instantiation Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Telusko-Learnings/">Telusko Learnings</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Singleton Design Pattern using Lazy Instantiation Part 2</b></h2><h5 class="post__date">2015-05-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CYMoiJ8d1Us" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello guys this is urban ready in this
video we'll continue the part of
singleton design pattern so in the
earlier video we have talked about how
to create a single turn class in which
you can create only one object of that
class which simply means is at any point
or at any moment you will be having only
one instance of the class so to achieve
that just to summarize we have to create
a static object and then we have to
create a private constructor so that we
cannot you know you cannot create the
object explicitly and then in order to
get that instance we have to use this
static method which is get instance now
if you if you observe this so let me let
me find some problem with this example
now since this object here this obj is
static which simply means this static
object will be created and it will be on
memory when the class is loaded so it
becomes your global variable so even if
you are not using this object it will be
dead in the memory so that's the one of
the drawback you know if you have if you
have if this object consume lots of
resources so if this object is bulky you
know it's vestige of your memory it's
wastage of your processing power so this
part there's this type of object
creation in singleton is called as
eagerly instance creation is because
even if you are not using it it will be
created what if I want to make it lazy
so by default it is eager I want to make
it lazy now how to make it lazy so we
what we can do is we can create this
instance at the time of the calling of
get instance so what I mean by that is
if I call if I let's say if I create
object of ABC let me say in size ABC obj
and I will say ABC dot get instance at
this moment I should get I should create
this object and I will get it it should
not create this object earlier so what
we can do is we can just declare this
object here and then we can just come
here and we can say
obj equal to new ABC okay and then we
can simply say done obj right so by
using this concept we are making this
lazy about hold on when I say get
instance it will create a new instance I
it will return the object that means if
I repeat this line here so I'm creating
two object now that means it will call
this get instance twice that simply mean
it will create two object and we have
lost the concept of singleton here so
what we can do is we can just verify so
before creating the object what we can
do is we can verify we can say obj equal
to equal to null so using this we are
verifying that is it the first time
we are calling this or is it the first
time we are getting the instance if you
are obj is null that means we have not
created this object earlier and that
means we can just we're doing this obj
once let me let me show you the proof so
if I say in the private constructor I
will say a instance created okay so I
will be writing this instance created in
private constructor and I let me just
remove this if condition just to prove
my point and now if we run this you can
see we are getting instance created two
times but now if I use that if condition
if I am checking with this
and if I run this you can see it is it
says instance create instance created so
that means oh if you want to achieve
this in lazy format we have to use this
this concept here so we have to create
that instance when you're calling this
get instance method okay so the earlier
tutorial we have talked about ego and
this we have talked about lazy so is it
enough is it working now I will say no
there is one problem see by default we
have only one thread right so this mean
is one thread that means it will execute
this thing sequentially one by one so it
will first execute this get instance and
then it will execute this get instance
at the first point when you when you are
executing this instance this is the
first time you are calling yet instance
that means the obj will be null and
since obj is null it will create your
instance and then when you call this get
instance already we have this object
which is initialized so it will not
execute the if part it will die great on
the object but what if if I use a thread
concept and if I create two threads one
working with obj and second working with
obj one the problem is both the thread
might enter this block at the same time
so both will call this obj equal to null
and for both the values it will say yeah
the object of the value of the object is
null and both the both the threads will
execute this statement that means this
will be executed twice and that means we
are getting two instance let me prove my
point with this what I will do is I will
just look this point in the next part of
the tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>