<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Qt Tutorials For Beginners 22 - QFile | Coder Coacher - Coaching Coders</title><meta content="Qt Tutorials For Beginners 22 - QFile - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Qt Tutorials For Beginners 22 - QFile</b></h2><h5 class="post__date">2016-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tY6nW3Wm3NE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello guys welcome to the next video on
cutie tutorial for beginners in this
video we will learn how to use queue
file class in QT the queue file class
provides an interface for reading from
and writing to files so let's see how we
can use the search feature in QT and you
know get the help about queue file so
just search for queue file here and here
you will be seeing some result and the
result which says queue file class just
click that option which is this one
right and in here you can see it's the
same definition which I told you which
is the queue file class provides an
interface from for reading from and
writing to files right so let's see how
we can use queue file in QT so I've
created this blank project and I'm going
to go to my main window dot UI file and
in here what I am going to do is I will
take a plain text so search for plain
text add it and in addition I'm going to
take some push buttons so I'm going to
take two push buttons one for reading
and one for writing to the file right
and I will change the text of this
button first of all to write first
button and the second is to read okay
and then I will just provide this
horizontal layout to the buttons so I
will just click this button and then I
will just provide this and this so I
will select them and provide the
vertical layout to them okay and then I
will click on this main window and then
I will choose a vertical layout for them
so layout vertically
okay so in this way whenever you
no stretch your window it will resize
accordingly okay now first of all what
I'm going to do is I'm going to try to
write to the file create a file and
write to the file so I will right click
on this right button and then I will go
to slot and I will just choose clicked
and click OK here and first of all in
order to use cue file you just need to
add or include cue file first of all
right so just include cue file class
include and then just write cue file
okay
and in addition we are going to use a
class called cue text stream so we need
to add this also so just use include
just right cue text stream okay so you
just need to include these two files now
in order to write to a file first of all
we need to create an object of cue file
so just write cue file here and then it
should be cue file and then you can give
the name to your file object for example
file and then in here in the constructor
it takes 1 argument which is the
location of your file and the name of
your file right so you can just give
some name to your file for example my
file dot txt and it will create this
file in the build folder of your project
right otherwise if you want to specify
some specific location for example I
want to create this file inside my
project folder so I can right-click on
any file of my project show in Explorer
and then I can copy the path of this
project and then paste it here
in front of this file name and then I
will just replace these back slashes by
forward slashes right so this will
create this file in the project folder
or
my project right now in the next line
what I'm going to do is here what we
need to do is we need to open the file
first of all right so we need to check
if the file is open or not
so you just need to use if cognition and
then just right file dot open just use
this function called open and it will
return you the boolean value so if the
file is not open then you cannot work
with the file right so first of all in
this condition we are checking if the
file is open or not and this takes two
arguments one is what type of operation
we need to use so we just write a queue
file and then we will just say write
only because we are writing here right
so just write write only okay and then
we need to provide one more flag which
is Q file and this F should be capital
and then we want to create our text
files just write text here okay and then
in the F condition if this is not true
if the file is not open we can show some
error so let's add a queue message box
here so include for example Q message
box and then we can show some message
here if the file is not open so for
example some info or for example warning
and then just provide the arguments of
the message second argument is the title
and
the third argument is the message for
example file not open okay so this is
for checking if the file is open or not
now once the file is open now we need to
you know create some object of queue
text stream in order to write inside the
file so let's create a queue queue text
stream so just write Q text stream and
then create an object of it for example
out and then it will take one argument
which is in the reference to your file
object right so just give and file
something like this okay and then you
can use this out object and write in it
using these angle bracket like you do in
C out or Q debug if you have used Q
debug right and then it takes the Q
string object here okay so what I'm
going to do is I'm going to just below
this object I'm going to create a Q
string variable which is something like
this Q string and then I will say for
example text okay and then I will take
the text from my plain added you can see
we have this plain added right so I will
take the text from the plain add it and
then transfer it to my file so I will
just write UI and then I will search for
plain text added which we have added dot
to plain text okay and this will give
you the plain text which you enter into
the text view here and it will convert
it to the string which you can pass here
as our text to the file right and after
you have
the operation on the file you need to
flush the file so you just need to write
file dot flush like this and flush what
it will do it will flush all the stream
which is inside this out
it's like flush operation you do with
for example flushing your toilet or
something like this it's the same flush
right and then once you have done
writing and flushing then you can close
your file something like this okay so
this is how you can write to the file
now let's see how we can read from a
file so I will go to my main window dot
UI file and this time I will select this
read button and then go to slot and then
click OK and in here I will write the
code to read from the file so the first
thing we need to do here is for example
what I will do is I will just copy this
code from here ok and paste it here so
first thing is to create an object which
we are already doing and let's say we
want to read the same file which we have
you know created and we have written
some content inside the file so we need
to read for example my dot file dot txt
after writing into it so that's why I
will not change this path here right now
in the second line here in the read case
we have provided this flag called write
only but in the case of reading we just
need to write read only here so just
write read only ok and the next flag
will remain the same which is the text
file we need to read the text file and
the warning will remain the same here
right now here we are reading from the
file so instead of out the variable name
should be in because we are reading the
file right
in what we are reading the file for
example you want to take this file
content into a queue string variable
which is text here
so instead of this code which was taking
the text from the plain text we will
just take this in variable which is this
one and then we will just read all the
content from int using this read all
function okay now in the next step what
we need to do is instead of this we need
to set some text into the plain text
what we have read right so we will just
use UI to set this text to the plain
text dot plain text add it then just
write set plain text for example so you
can just write this function and then
just pass this text to this plain text
editor here right and while you are
reading a file you don't need to flush
it because there is nothing to flush we
are reading the file in case of writing
you need to use flush and in case of
reading you don't need to use blush but
in both the cases you need to close the
file once you have done your operation
with the file okay so this is the simple
code for reading and writing to and from
file so let's run our app and let's see
what happens when our app runs and if it
once successfully or not and by the
meantime what I will do here also is I
will just right click on my one of the
file of my project and I will just say
show in Explorer so we can see the file
being created at runtime right so this
is my project folder and this is my
project and we want to write something
right so what I will do is I will just
copy this function itself and
I will just write here I will paste it
here this function itself okay and then
I will press this right button and once
I press this right button you can see
this file is created here right my file
dot txt and when I open this file that
has the same content of the function
which I have written okay so this is how
you can write to a file now I will
delete everything from here and then I
will just press this read button and
hopefully it will show this function in
this plain text once again so I will
just click this read and you can see
once this button is press
you know this file content is shown in
the plain text add it here okay so this
is how you can use Q file to read and
write to a file I hope you've enjoyed
this video please welcome and subscribe
and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>