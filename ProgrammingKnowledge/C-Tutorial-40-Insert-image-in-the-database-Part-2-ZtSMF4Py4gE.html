<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Tutorial 40:  Insert image in the database Part 2 | Coder Coacher - Coaching Coders</title><meta content="C# Tutorial 40:  Insert image in the database Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Tutorial 40:  Insert image in the database Part 2</b></h2><h5 class="post__date">2013-04-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZtSMF4Py4gE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">issue to see
location of
chosen files so I read in this text box
I will change its name so text box image
but here
and then I will just copy this variable
of text box and paste it here in your
Open File dialog so the just a will
click it we have seen how to write the
code for this load image go there go
inside this if condition where you have
added new picture box lot location and
in between this like this dot text is
equal to this string so because later on
we are going to use this paths that
that's why I'm copying this path into
this text box also so once again
for example username and password and
when I choose some image it will copy
the path of that image also in this text
box so we will use this path later
now once again go to this Save button
and in on the top before you have
declared your connection on the top of
your code just right we will write some
code but before that we need to import
some files so just go above where you're
all using files are there and we will
include our new using system dot IO ok
close so import this import and now just
go to your save file and in here we will
write the code
so in here write this code these old
lines we need to write so what are these
lines first is a byte array which we
will need to hold the picture of our
chosen path so just declare byte and
array give it any variable name in my
guess image bTW for image byte is equal
to null and then declare file stream app
as stream is equal to new file stream
and in the first place right the path of
the file so write this dot your text box
name which contains a path which is this
text box and then dot text and after
that comma file mode dot open comma file
access dot read so write this and then
in the next line write binary reader BR
is equal to new my binary reader and
copy this where you will find stream
variable and paste it here
and in the next line just copy this
variable based here is equal to BR which
is this variable dot read bytes and in
the bracket int bracket and this file
stream variable dot length so write
these four lines to hold the image and
read the bytes
okay now below is the connection code
and the in here we are passing the query
for inserting the dot I into the
database so in the sixth video I have
shown you how to write a query to insert
the data into the database so here we
have insert into data dot
data which is this is the database name
dot table name and in the bracket these
are the column names of the which are
there in the database so employee ID
name surname age gender and date of
birth and now we are going to include
one more column there so go to project
and here we are going to add image
column okay so here right image and then
space values and in the bracket we have
passed the values of this Eid from this
name from this textbox surname from this
so this you all know from previous code
so just go add the last of this bracket
and we are going to include one more
data which is contained by our picture
box or which whose path we have copied
in the image byte variable okay so where
I gave a comma before this bracket
closes and we are going to include one
more parameter so after the comma write
this at the rate I am gee this is the
variable name for the image we are going
to pass and in place of this parameter
so for now write this at the rate IMG
and we
going to pass a parameter in place of
this image okay so like this and then
when you see in the code we have already
written the code for saving the data so
this is the command connection command
and this is the SQL V the MySQL vida so
go there and here after this corn
database which is this variable not open
here we are going to write some code so
in here we will write this line of code
okay so from the sixth video you know
what are these commands and codes so
just copy your this MySQL connection
variable corn database and paste it here
dot parameters dot add and in the
bracket write new MySQL parameter and in
the bracket right at the rate IMG which
you have written above and comma this
image bTW which is this byte array
variable okay and this I am G at the
rate I am G we have written here in our
query so this is the same at the rate I
am gene we are I am writing here
okay so just after your connection is
open just pass this variable and all the
food will remain same okay so we have
written this code for converting our
image into binary and we have added this
image into one more column
image into our query and this we have
added in the query and last and we have
added this line of code and now let's
try and run the code so username and
password and for example I select an
image which is a PNG image this image
and path is already there and if you see
in the database I have till now twelve
entries here so now I'm going to add the
thirteenth entry Jack saw any sorry this
is the 13 entry first of all and then
and I mean surname age he is a male is a
date of birth
somewhere in 70s okay and I will press
this Save button and my data is saved
including this image so because this
path we have passed in our image byte
variable so it will convert this image
into byte and our data is saved now so
let's check it in the database so right
now we have 12 and we are when we are
going to refresh this database you will
be able to see the 13th entry so refresh
and you can see the 13th entry and this
is more interesting to us in the image
column there is a blob variable added
this blob variable on this blob data
contains our image so if you see blob
here you know that this is having your
image so in this way you can save the
image into the database in the next
video I will show you how to retrieve
that image from the database and show it
once again into the picture box so stay
tuned and please rate comment and
subscribe and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>