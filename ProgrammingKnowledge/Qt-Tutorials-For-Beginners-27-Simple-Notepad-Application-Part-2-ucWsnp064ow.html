<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Qt Tutorials For Beginners 27 - Simple Notepad Application Part - 2 | Coder Coacher - Coaching Coders</title><meta content="Qt Tutorials For Beginners 27 - Simple Notepad Application Part - 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Qt Tutorials For Beginners 27 - Simple Notepad Application Part - 2</b></h2><h5 class="post__date">2016-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ucWsnp064ow" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello guys welcome to the next video on
cutie tutorial for beginners in the last
video we have seen how we can create a
simple notepad in QT and we have
provided these toolbar icons and menu
items to our notepad right and we have
implemented the code for cut copy paste
redo and undo now today we will try to
complete the rest of the code for new
open save and save as buttons so let's
get started so in the last video I have
provided the trigger for each of these
actions right so let's just you know go
to these trigger actions and then write
some code there so first of all I will
go to my header file which is main
window dot H file and in here I will
declare a string variable which will be
a cue string and I will name it as a
file name and this file name we will use
to just save the part of the file okay
you can just say here file path which
will be more clear
okay so just declare this variable in
the private access modifier here which
is file path which is a cue string
variable now we are going to go to our
main window dot CPP file and first of
all we will go to the code for the new
button ok so this is our new button
which is this one right so we will write
the code for that which will be little
bit simple so I will just call the
variable which I have declared which is
file path and I will just set it to
empty string right so whenever somebody
creates a new or whenever somebody
clicks this new button this file path
will
be resected and we want to clear the
text I did also so we can just write UI
and then text add it and we can just set
text to empty string right so you can
just write like this so we are basically
here doing the resetting of the text
edit and this global variable which is
file path now let's go to the Open
button triggered function which is for
opening the new file right now if you
have followed my cue file video and cue
file dialogue video then it will be
really simple to you know understand
this code which I am writing so what we
need to do is first of all we need to
open a cue file dialogue here so I will
just write cue file dialogue but first
of all I need to include the header for
this right so I will just include header
for cue file dialogues just right cue
file we also need cue file so I will
just add this also right so cue file and
then I will include our cue file
dialogue and we also need to include one
more header file which is cue text
stream so just write Q text stream and
we are done including the header so we
can write the code here right so first
of all in here we will declare a cue
string variable which we will use to
save the file name using the cue file
dialog so just write the cue string cue
file name is equal to Q file dialogue
then call a static method which is get
open file name and we will just provide
two variables here first is the parent
and second is
the caption or title for this so for
example open the file right and rest of
the rest of the argument
I'm not going to provide right so if you
want to provide the default location
third argument will be for the default
location and the fourth argument will be
for the filters but I hope you know how
to do this I've shown you in the
previous video how to use cue file
dialogue so now we have the filename
using the cue file dialog and then what
we are going to do here is we will
declare object of cue file here and we
will just pass this file name here which
we got from the cue file dialog right
and now we will just provide our if
condition and we will check if this file
so just write not and then write file
dot open so we will check if the file is
open or not and then we will provide
some flags here first will be a cue file
read-only so just write read-only and
the second flag will be the text file so
we want to read our text file right so
just right cue file and then just call
text here right so these are the two
flags and if the file is not open then
we don't want to work with the file so
we want to just show some message right
so we can add one more include here for
a cue message so just include this cue
message box had a class and then we will
just add a cue message box and third is
the warning message so I will just say
file not open okay so I will show this
message and then I will return right
because if the file is not
we don't want to work with the file and
because this function is void returning
void so we can just write return and
then from here the program will not go
further right and if the file is open
then we want to perform some code so we
can just write Q text stream so just
write text stream and then give the
variable name and then give the
reference to the file and then we can
work with this stream so just write Q
string here and we will name it as text
and whatever is there in the stream we
will pass to this string so just write
in dot read all okay and once we have
the string we can set it to our text add
it so just write UI text add it and then
just write set text and we will just
pass this text to our here to our added
text okay and once you are done with the
code you can just close the file so just
write file dot close okay so this is how
you can read the file now for writing or
saving the file what you can do here is
you can just copy all the code and now
we will go to the same trigger button
right so this is same and we also need
to write some code for save as right so
first we will write the code for save
okay so what I'm going to do is I'm
going to copy and paste the same code
and I will just change this code a
little so just copy the code you have
written here and paste it here and the
save triggered right and this time
instead of you
get open file dialog we will just call a
method called get save file dialog okay
so just write get save file name and
then the argument will be the same and
then it will ask you to provide the file
name and then you will have the file
name here and then we can save the file
right so in the case of writing the file
we just need to provide the flag which
is right only and the second flag will
be the same right and then instead of
queue stream in we want to provide for
example this argument will be out and
instead of getting the you know in
stream or text from the stream we want
to get the text from the text add it
right so just write a text call to plain
text okay which will give you the text
of the text add it okay and then at the
last we can take our out variable from
here and then we can just passed our
text to this variable out okay which is
like this okay and then at the end we
just need to flush the file first of all
and then close the file so first flush
it and then close it as we have seen in
the previous videos and I think here
this code will be for the save as I just
wrote little bit not wrong but I should
have written this code for save as and
for save we just need to get the global
variable and pass it here right so what
we are going to do here is once in the
open function whenever we are opening
the file we need to just take this
finally and pass it to our global
cable which is file name right so in the
open go to open here and then just use
file path is equal to filename right so
it will be saved
globally right and then take your file
path from here and then we will provide
it in the save function right so instead
of calling the file stream we can just
provide directly the path of the file
which we want to save right because it's
already open ok and in save as we want
to give the user the ability to use this
file a dialog okay so that's why we want
to use this kind of code so save as and
then the file name will be new and then
it can be saved okay
and in here we want to just give the
file name again so file path is equal to
file name okay so let's run the code and
let's see if it works or not so I'm
going to just run the code and now it's
running so what I'm going to do first of
all I will first of all create some file
so I will just add some random text here
or let me do one thing I will just copy
this code from here and I will paste it
here okay and then I want to save it so
first of all I am going to save this
file and I will click this button which
says save as right so I will just click
this button which will give me the file
dialog and this is the location where my
binary of my project is right so I will
just give the name of my file for
example my file dot txt and I will just
save it okay and then for example I just
want to clear this file so I will just
click new button
and then for example I want to open the
same fight so I will go here to open the
file to click this button open and then
I will just choose my file which I have
created which is my file and click open
which will open my file like this okay
and now for example I want to you know
give some comments here so I will just
provide some comment and I want to save
it so I will just click this same but
which will save my file right and now I
want to just clean it or I will just say
new and I will open the file once again
and you can see my comment is already
there because I have saved this comment
right and then I can undo or redo
whenever I add something for example
this I want to undo I can do it or redo
I can do it
or other functionality we have already
seen cut copy paste right now the last
thing here is to give the about you know
button yeah so it's really easy you may
know what to do here so I will just go
to about button and in here I will just
call a queue message box so just right
queue message box and then call about
button and in here it will take 3
argument as always first will be the
text or or the parent so just right this
second argument will be the text right
so let's create some text or a message
so for example I will just write Q
string and
I will just say about text okay and then
I can create some text so what I will do
here is for example I will just add some
text so
you
so this text I'm going to pass here so
this will be shown in the about button
right I think I should have provided the
title also here right so it will be
correct so for example about notepad ok
so this can be our about button so I'm
going to run the code and let's see if
it works or not so I will just click
this about button and it will give me
this kind of about message I forgot to
give this line breaks here so let's
provide these line breaks so it will
look a little bit nicer and let's run
the code once again and let's see what
happens once again and now the message
looks little bit leaner ok so in this
way you can create this notepad I will
say this notepad is not entirely perfect
you can use your imagination to add some
more functionality to this notepad and
it's not also bug free so just search
for the bugs if you can find any bugs
you can just comment and I will try to
you know remove that bugs so I hope you
understood this concept and I hope you
enjoyed this video please rate comment
subscribe and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>