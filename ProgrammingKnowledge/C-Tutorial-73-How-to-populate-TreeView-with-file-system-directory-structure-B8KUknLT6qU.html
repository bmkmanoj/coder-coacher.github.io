<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Tutorial 73: How to populate TreeView with file system directory structure | Coder Coacher - Coaching Coders</title><meta content="C# Tutorial 73: How to populate TreeView with file system directory structure - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Tutorial 73: How to populate TreeView with file system directory structure</b></h2><h5 class="post__date">2013-06-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B8KUknLT6qU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello guys welcome once again in the
last video I have shown you how to use
tree view with your c-sharp application
and I have shown you how to add nodes so
when I click this button it adds node
and sub nodes and how to remove nodes so
for example I select these two nodes and
I want to remove them I select them and
I press this and the nodes are removed
in this video I will show you how to
show directory structure which is
present in your computer in your tree
view so for example I have a folder in
my in my computer and I want to show
that folder in this tree view structure
so how can I show that I will show you
today so let's get started I will take a
button to add the directory structure of
a folder and I will change its text as
show folder so I have changed the text
of my button show folder and now I
double click it and in here I will write
the code for opening the folder
structure but but before that I will
make some method to call into this
button click event okay so first of all
go at the top and if you do not have
this using sorry
using system dot IO if you don't have
this namespace thus just add this at the
top of your code and now we are ready to
write our function so just below your
button click event for the directory
structure open just make a new function
called this function so write private
static tree node and give it the
function name in my case create
directory node and in this I'm passing
the directory info variable so the
variable name is directory info ok and
in here I will write the code so make
this function first and in here in
between first of all we will return this
directory node this one so I will write
return and return this ok
not this but okay we will return later
so first of all what we will do is we
will declare a ver variable which is
called directory nodes so right where
directory node is equal to new tree node
and in the bracket pass this directory
info variable dot name okay now in the
next line we will write for each loop
like this so right for each and in the
bracket right where directory in
directory info which is this variable
dot get directory bracket and bracket
closed and inside the for each loop
right directory node which is this
variable dot nodes dot add and in the
bracket right
create directory node which is this
function itself okay so the same name as
this and then in the argument just pass
directory which is this where variable
okay and bracket and bracket close now
we will make one more for each loop so
write this for each loop after this for
each loop so right for each and in the
bracket pass var file in directory info
once again this variable dot get files
and in in the for each loop pass this
directory node dot nodes dot add new
tree node and inside this pass this pile
variable dot names okay
so just remember this and this are the
same name and now we will return this
directory notes right return not here
but here this was here by mistake
I deleted it just copy this variable and
return at the bottom okay so we made
this function called create directory
node we will make one more function just
above this function to give the path and
tree view name so just give your
function a name like this private void
list directory so this will list the
directory in your tree view and pass
here the tree view so it will take a
tree view name and it will take the path
of the directory okay so after this just
close this function and inside this
function we will pass first of all we
will clear our tree view so right tree
view which is this variable dot nodes
dot clear okay now in the second line
write this line so declare of our
variable and name it as root directory
info is equal to new directory info and
pass this path variable inside this
directory info function okay and in the
next line write this so copy this tree
view variable here dot nodes dot add and
the bracket Pass directory create
directory node which is this function
okay so we created this function earlier
just copy this function and paste it
here
and inside this argument for this
function we will pass this directory
info root directory info variable which
takes the path of the directory okay so
we made two function one is create
directory node which is like this and
the other function which is list
directory which is like this
now in your button here we will call
this list directory function okay so
just copy this list directory paste it
here and inside this bracket we will
pass the name of the treeview so our
tree view name is tree view one just go
to the property and copy the name and
once again go here and as the argument
for this list directory past this tree
v1 name comma we will pass the path of
the directory we want to show okay so
for example I have one directory called
HTML CSS so I will copy the directory
path and I will pass it here okay and I
will give double slashes instead of
single here as a path so I have given
the name of my dryer directory structure
and I have given the path whose
directory structure I want to show now
when I run the program and when I click
this button it should show me the
directory structure so I will click it
it shows me the folder the same folder
which I have here HTML CSS right and
this also has HTML CSS and when I click
this plus sign
it shows me all the file which is inside
this folder so first is audio and video
file so this is audio and video file
with HTML second is box model CSS dot
avi this is box model CSS dot avi so all
the files which are present in the same
folder will be represented here in your
tree view ok suppose it contain my tree
view also contains a folder let's create
a folder new folder inside my this HTML
dot C folder new and for example I have
I insert some new file inside this fold
of my SQL file for example and now when
i refresh this once again and I can see
this new folder inside my HTML folder
CSS folder and inside this I have this
MySQL PNG which I have created so you
can show any folder or folder structure
inside your tree view like this in the
next video I will show you how to open
these files by selecting and clicking
these files
so whatever directory structure you have
when you click select this file it will
open directly from this trees view
structure so stay tuned and please rate
come in to subscribe and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>