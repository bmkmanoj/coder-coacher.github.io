<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node.js Tutorial for Beginners 22 - Node.js template engine EJS in Express | Coder Coacher - Coaching Coders</title><meta content="Node.js Tutorial for Beginners 22 - Node.js template engine EJS in Express - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node.js Tutorial for Beginners 22 - Node.js template engine EJS in Express</b></h2><h5 class="post__date">2017-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EYKjBJDPvEU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to the next video on
node.js tutorial for beginners and in
this video we will talk about templating
engines so so far what we have learned
is how we can pass these kind of
parameters to the client using Express
jeaious so before starting templating
engines I wanted to show you how we can
you know transfer or show the HTML file
on the browser using Express jeaious so
let's get started with that and then we
will start with the templating engines
so I have these two files about dot HTML
and HTML or index dot HTML right so
these two HTML files I have so what I'm
going to do is in the root route what I
want to do is I want to send the index
dot HTML file right so the way you do it
is you take this reply argument and then
call a method called send file ok so
just call a method called send file and
then the name of the file which you want
to send so because we are in the current
directory so I am going to take the
their name plus the file name so the
file name I want to send is index dot
HTML right in the same way you can just
send the contact dot HTML or above dot
HTML which we have here right so here I
want to send about dot HTML and I'm
going to save my code and my node Mon is
already running so I don't need to rerun
it once again and I'm going to open my
browser and I'm going to refresh this
and it says this doesn't exist yeah I
forgot to give the forward slash here so
I just need to give forward slash and
once again I will save and I will
refresh the page once again and now it
says home page and let's call the about
page also so just write about that says
about page so this is how you can send
any file to the browser using the send
file method right now this is how you
can send the static files but for
example you want to send some parameters
with the HTML file or you want to inject
some parameter in your HTML file then
what will you do so for that we use the
templating engines and there are many
engines which you can use with Express
GS
for example Jade or jazz or some other
engines like underscore or toffee
but what we are going to use is the
templating engine called ejs or embedded
j/s so let's get started with ejs so
what I'm going to do is first of all I'm
going to open the website on which we
can find more documentation on ejs or
embedded GS so just open this website
which is called embedded JS comm whose
short form is ejs right and when you
scroll down you will see how you can use
this EGS with your HTML and how you can
embed the parameters in your HTML text
or file right so for that first of all
we need to add a package ejs in our
project so ejs is a node package so I'm
going to first of all install egx
package using NPM so let me clear the
terminal and I will just write NPM
install and I will just give the flag
save also so it will be added to our
package dot JSON file also and then just
write EJ s ok and then press Enter
which is going to add this package to
our project and once it's done you will
be able to see this Aegis is added to
your package dot Jason and you will also
see EGS is added to your node modules
also right so I'm going to just close
this and close the HTML files and now
the way you you know add this EGS or to
use this EGS we need to add the view
engine property of you need to set the
view engine property to your express app
so you take this app variable and then
call a method called set and then we
will set a property which is called view
in
so just your single goat and just right
view engine and the next property is the
name of the engine so in this case we
are using ejs right so the property name
is new engine and the value is ejs okay
now we can use ejs in our project now by
default when Express sees that the
engine View engine is EGS it looks in
the directory called view ok by default
it's going to look in a directory called
view for the ejs files so we are going
to make a directory called view so just
create a directory and name it as view
and inside this directory all our you
know EGS files will go right so what we
want is for example in the last video we
have created this route for students and
whenever some ID is you know passed for
the student then his name is returned to
the for example client or to the browser
right so we are going to take the same
route but this time what we are going to
do is we are going to you know transfer
this data to the HTML file and inject in
this parameter to the HTML file and then
present it to the client for example
okay so what I'm going to do is I'm
going to just create a new file inside
my view folder so this is my blue folder
and I'm going to create a student file
because this is a students route so I'm
going to create a students dot ajs file
okay
so it's not going to be a HTML file but
it's going to be a ejs file right but
the content which you will give inside
this EGS file will be the same as
your normal HTML file have so for
example I'm going to just copy this code
from my his index dot HTML which doesn't
have much it just have the body of HTML
page and the main h1 tag right so I'm
just going to copy and then in the
student dot e JS file I'm going to just
paste this code right now the way EJ's
work is we need to go to index dot GS
and instead of using this kind of code
reply or re P dot sin instead of this
what we are going to do is we are going
to just write re p dot render ok so here
we are going to use re P dot render and
then it takes two parameters so the
first parameter here will be the name of
your view file so in this case or view
file name is students right you can see
here students dot ejs so we can just
pass the view filename which is student
and the extension you don't need to give
it here okay just the name of the file
and the second parameter it takes is the
object now this object is a key value
pair so the first is the key for example
we want to send the student name so I'm
going to just name the key as name
itself because it's a student name right
and the value for it is the value which
we have here so in the last video we had
this kind of you know small object and
this has the key value pair so for
example we requested student 1 then it's
going to give us the result by returning
its name students name right so this is
how you can get
student name by ID so I'm going to pass
it here okay and then we don't need this
thing here because you are already
sending our you know parameter using
this random method and to the student
file now the way you add this name of
parameter to your ejs file is so i'm
going to go to h1 tag here and if you
have seen inside in the embedded J Escom
you do it something like this so you
take this angle bracket start your angle
bracket then this mod sine then equals
and then the parameter name and then and
with mod and then closing angle bracket
so I can just copy this from here and I
will do the same here so in your h1 tag
or any tag for example it's a paragraph
tag or at its any other h2 tag or other
tags you can do the same so just use a
tag and inside your tag just start angle
bracket mod equals and then the
parameter names or parameter name is
name itself right so we want to pass in
our Aegis file this parameter name right
so that's why I have written name here
okay and then I'm going to just say ever
everything and I'm going to rerun my app
so I'm going to just use node Hmong dot
index dot J's
and then I'm going to go to my browser
and in here I am going to ask for the
students file because here we have the
students dot EJ s right and we will give
the student route here and then the ID
of the student so idea of the student
for example I want to give one here
right and then press Enter it gives me
some errors which I'm going to see what
the error is
so the error which I can see here is it
says fail to look up you students in
views directory and I named my directory
as view not views so this is the error
you will see if you do anything wrong
and by the message it looks like my
directory name view is wrong we need to
name it as views okay so my directory
name views must be I'm going to rename
it as muse
instead of view okay and then I'm going
to refresh my page once again and
hopefully this time I can see this
message mark because student ID one is
for mark right so we can just add it our
student or EJ's file for example you
have requested the student name name and
then you give the student name and for
for example I want to add the ID also I
want to show the ID on my student HTML
file also so I will just add the
parameter tag here and I will say ID and
then the colon and then I will use the
same method like this here and here I
will just rename it as ID and I need to
pass this ID parameter from here right
so let's go to the index dot JS file and
then here in the second element in the
JSON you can just add ID and then just
pass this ID there so the ID will be
request dot parens dot ID right so just
give colon here and then pass your ID
here okay so first element of the JSON
or object is name and second element of
the JSON object is ID right in the same
way you can add multiple object in
your second parameters right so just
save your code and then rerun it once
again so I'm going to just ask for the
student 1 once again and now it says you
have requested the student named mark
and the ID is one for example I will
just add two here and press Enter
this time I have Tom and then the ID is
two and once again for example for three
then the Jeong name and ID is three here
okay so this is just the starting for
the templating engine in the future
videos we will see some more concepts on
ejs so stay tuned and please welcome and
subscribe and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>