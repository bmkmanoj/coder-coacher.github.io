<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node.js Tutorial for Beginners 11 - Basics of Streams - Readable Stream | Coder Coacher - Coaching Coders</title><meta content="Node.js Tutorial for Beginners 11 - Basics of Streams - Readable Stream - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node.js Tutorial for Beginners 11 - Basics of Streams - Readable Stream</b></h2><h5 class="post__date">2016-12-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aIfhhTFOUAo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello guys welcome to the next video on
node.js tutorial for beginners in this
video I'm going to show you how we can
use streams in node.js specifically we
will talk about readable stream in this
video and in the next video we will talk
about writable stream in node.js so
let's get started so first of all what
are streams
streams are UNIX pipe that lets you read
data from a source and write data to a
destination right so for example you
want to read a data from a very big file
or from a source which has lots and lots
of data and because you are running a
server you don't want to block your
server right so if you want to read this
file you may want to or you would like
to read this file in chunks or you know
smaller portions and once this portion
is read you want or you can do something
right and streams allows us to do the
same so streams allows us for example we
want to read a big file streams allows
us to read this file chunk by chunk and
it will also give the information that
this chunk is red and if whole file is
read or not or we can do many you know
events from this data right so let's see
how we can use streams specifically
readable streams right so to use streams
we will use the FS module module and we
have already seen how we can include
this module in node.js just use var FS
is equal to require FS now we will
create a variable called for example
readable stream is equal to FS dot
create read stream
and this takes achievement which is the
name of the source so for example I have
this file whose name is file dot txt and
it's as relatively big data so it has
around the 500 200 lines of data I just
copied a random data from some source
and for example I want to read this data
right now this file name here we will
give as argument so just give file dot
txt because it's in the same a directory
you can see here and now we can use this
variable read stream let's name it we
the stream instead of readable stream
okay so this read stream we can use to
listen for some event so basically
whenever you use create read stream it
inherits from event emitter and we have
already seen how to use event emitters
in the previous videos so it inherits
from amend event emitter so we can call
the method which are present in event
emitter class also so we can you know
trigger on event or emit method using
this read stream now there is a
predefined the event in create read
stream which is called beta okay and
which allows us to read our file in
chunks so just write read stream and
then we will just write on which we are
inheriting from MN event emitter and we
will listen for the event called beta
and then we will just create an
anonymous function here and this
anonymous function will read chunk of
data so just write chunk and then we
will just close our function okay so in
this variable whenever this event is
triggered then this chunk will contain
some chunk of data from this file right
this chunk variable will be full and
then we will you know use this chunk of
data from this file okay so for example
what I want to do is I want to just
console.log this data so I will just
write console.log chunk here okay and
one chunk of data is read so we can just
give a line kind of console.log here so
we know that this is one chunk okay
after this line right so let's see how
it works so I'm going to just open the
terminal and run my app and you can see
there are few chunks which are read from
this file okay so you can see my first
of all this line is you know printed on
the terminal
because of this console.log and then we
have the chunk of data and then again
this line again and this chunk of data
so it's reading the data in chunks and
when all the file is read then we have
the output but this is not familiar
because this is reading in hacks right
we haven't defined what type of hard
data we are reading so you can see in
the file dot txt we have normal you know
normal text and it's reading in hex data
right so how we can tell this function
or method to read in readable
text you can guess I think you can just
right here
the type the second argument is utf-8
for example and then just save it and
then we will run it again and now you
can see it's reading in the normal text
so you can see this line and then just
chunk of data which is red and once
again we will see when we will go a
little bit up so this is the next line
and whenever you will go up you will see
these this kind of line so now we are
reading the normal text but in chunks
again right so this event data will
allow us to read the file for example in
chunks right and whenever one chunk is
read you can do some logical you know
stop with this chunk of data right now
there is one another event called end so
you know that you have completed reading
the file so instead of data whenever you
use end and let's instead of this
console.log we just say and end here
okay and let's read the file again or
execute the program again and once this
data is read this line is printed which
is due to this triggering of event
called
end event okay so once the file is read
completely this event will be triggered
and then this line will be printed or
whatever code you will write here will
be printed so for example I will create
a variable here called add data right
and what I want to do is I want to store
all the you know text of the file in
this variable and once my data is
red or once my file is red I want to
print the content of this data so
instead of this what I can do here is I
can just write data plus equals chunk
something like this so what it's going
to do is it's going to concatenate this
chunk into this data variable right and
once all the pile is read I want to
print it so I will just do console.log
here and I will print this data variable
so this essentially will contain all the
file content okay and let's just comment
this code out because we don't need it
and let's run the program again so
program is running so this time once the
you know data is wet then it's printed
using this console.log because we are
not you know printing using this we have
already commented out right so this time
it this line is printing this text all
the text okay and once the text is
printed this line of code will execute
and it will print and here which is
happening here okay so this is how
basically you can use readable streams
in node.js right now there are many
options related to read stream and write
streams so for example one of the option
we have set here instead of setting the
encoding from the second argument there
is a special method which you can use to
set this encoding which is the set
encoding so instead of this you can even
do this also and
we'll run fine okay so let's run the
code again and it's going to run it you
know normally okay so just go to the
node.js documentation on its website and
you will find many useful functions and
methods there which you can use in your
code according to your requirement this
is just the introduction to you know
streams and specifically the readable
streams so I hope you have enjoyed this
video please rate comment and subscribe
and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>