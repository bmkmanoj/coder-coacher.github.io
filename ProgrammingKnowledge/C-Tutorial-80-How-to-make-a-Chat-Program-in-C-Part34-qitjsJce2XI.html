<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Tutorial 80: How to make a Chat Program in C# Part-3/4 | Coder Coacher - Coaching Coders</title><meta content="C# Tutorial 80: How to make a Chat Program in C# Part-3/4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Tutorial 80: How to make a Chat Program in C# Part-3/4</b></h2><h5 class="post__date">2013-06-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qitjsJce2XI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so just go outside your if loop or not a
loop but if condition and just outside
your if condition we will declare one
more bite array variable like this which
is like a buffer so declare byte array
buffer is equal to new bite and square
bracket and give the size of your byte
array and just below this what we will
do is we will write this code which is a
little bit longer so right socket dot
begin receive from and inside make a
bracket and we will pass some argument
in this begin receive from bracket first
is the buffer variable this is a byte
array comma 0 comma buffer dot length
comma socket legs dot none comma r EF EP
remote which we have declared above here
EP remote and point variable after this
EP remote comma new async callback and
in the bracket pass message callback
comma buffer once again the buffer
variable ok so I made this function and
let me make it visible so just make this
function for the callback message
callback and you can copy this method by
pausing if
you want okay now we will call this
method in the connection or start button
action perform so go to your form once
again and just select this start button
and double click it and in here we will
write our code for calling the message
or function we have made message
callback function so first of all in
this button click event we will make a
try of catch block
once again like this so try catch and
just show a message for showing the
exception and inside this try block we
will write the code so first of all we
will write the code for binding the
message which is like this so write ap
local which is our end point variable
right above this is EP local end point
variable is equal to new IP end point
and in the bracket we will pass some
argument so first argument is the IP
address dot parse and in the bracket
take the IP address from your local IP
textbox which is the name of this
textbox right so copy the name of this
textbox and paste it there here dot txt
comma convert dot to int32 text local
port dot txt so now first we are taking
the IP address from the textbox comma
now we are taking the port
named from our client one port text box
will copy the name of this text box and
then right here convert dot to int32 and
in the bracket write the name of your
text box which is text local port dot
txt so what this will do is it will
convert whatever port number you will
enter in your port text box into the int
form which will be recognized by the C
shop application so write this and then
in the next line we will just bind this
EP local so just write like this so
write SC k dot bind and inside the
bracket just pass this EP local where
you will hear okay now in the next line
I will connect my local IP with the
remote IP right so I will write this so
just copy this EP remote variable which
I have declared above like this EP local
variable is equal to new IP endpoint
same as this and we are passing this
time the remote textbox name so copy the
name of this textbox line to IP text box
and paste it here dot txt IP address dot
pass bracket and the textbox name dot
txt and the second is the IP of port
number of your line - so convert dot -
in 32 and inside this bracket pass text
friend port which is the port of client
- dot txt okay
and in the next line I just
this socket variable dot connect and
past this remote ep remote variable here
okay so I have done this and in the next
line I will start listening to the ports
so I will declare this byte buffer once
again right byte square bracket buffer
is equal to new byte and give the size
of your buffer and just below this I
will write this code so right socket dot
bacon receive from which is like the
same as we have used here in the message
callback method so if you want you can
just copy this line of code from there
and paste it here so socket dot begin
receive from and in the bracket we will
pass this buffer variable comma 0 comma
buffer dot length comma socket flags dot
none so no socket flags comma r EF EP
remote which is the endpoint variable so
if you remote comma new async callback
and inside this bracket what you need to
do is just copy the name of your
function callback function this is the
callback function just copy the name of
your message callback function and paste
it here okay comma the buffer name so
this is the buffer okay so now once we
are beginning the
receiving the port messages what we need
to do is we need to change the status of
our button right so one we must click
this start button and it knows that our
IP is are connected or we are connected
to our second line then it should show
some message that we are connected so we
will write the code for that so what we
are going to is just go to the form
click your button start button copy the
name of this button in my case its
button one but you can change it also
just copy this button name and paste it
here just below your socket begin
receive form dot enabled is equal is
equal to true okay
no actually we need to disable the
button one when the connection is
established so we write false right so
take the name of your Start button dot
enabled false so it will make this
button disabled and we want to set the
text to this button as connected also so
so just copy this button name once again
dot text is equal to
connected so what this will do is it
will show the message that are put</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>