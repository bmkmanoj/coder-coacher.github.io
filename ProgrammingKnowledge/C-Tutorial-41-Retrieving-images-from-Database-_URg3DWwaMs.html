<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Tutorial 41:  Retrieving images from Database | Coder Coacher - Coaching Coders</title><meta content="C# Tutorial 41:  Retrieving images from Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Tutorial 41:  Retrieving images from Database</b></h2><h5 class="post__date">2013-04-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_URg3DWwaMs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello guys welcome once again in the
last video I have shown you how to
insert an image into your MySQL database
so you choose an image and you give some
data here and whatever data is you enter
anything and that data when you click
Save it will be saved into your database
okay including this image now I want to
retrieve this image from my database so
this image when I look into the database
is saved in the form of blob variable so
now I want to retrieve back that image
into my picture box once again so here
so this I will do with the help of the
combo box
so if you have seen the video number
eleven in that with you I have shown you
when you select any value from the combo
box how to retrieve other data in this
text box so for example I choose any
data any name from the database it shows
the respect and value respective values
here so for that if you want you can go
to the video number 11 and see the code
from there because I'm using the same
code to retrieve the image also because
these four
things I'm already I'm already
retrieving from the database with the
help of this combo box so I will add the
code for retrieving the image this time
so just I will select this combo box and
double click it and this code I have
shown you in the video number eleven
okay so in this video I will show you
how to add the code for retrieving the
image also so this code has a query
string in which we are passing select
star from database dot e data where name
is equal to whatever you selecting the
combo box okay so if you don't know this
code just you can copy it from here also
or see the video number eleven and right
now we are taking our employee ID name
surname and age and we are passing it
into this text boxes okay and now we
will add the code for the image so we
are going to add the code but before
that we need to import one more
namespace no I don't think we need to
add most in space just go to this tombow
box double click it and
below this code which we have written
previously write this code for
retrieving the image
okay so right byte array your variable
image
I am Gigi in my case is equal to byte
array once again and my reader which is
this MySQL reader we have defined if you
see the video number 11 then you come to
know what is it what is it so write that
and in the square bracket this is the
name of your column image so this is
this column name which is image okay and
then in the next line write if image is
equal to null so because in the database
more previous values are null that's why
we are defining this condition so if
image is equal to null then picture that
image is equal to null so it will place
in the picture box nothing so this is
the name of your picture box which is
your this picture box and dot image is
equal to null else in the bracket right
memory stream MS stream and stream is
equal to new memory stream and pass this
image byte variable in this memory
stream and then write the name of the
picture box dot image is equal to system
dot drawing dot image dot from string
and in here right I am a stream which is
your this variable so write this code in
addition to the
code you you have written in the video
number 11 I think which is for the combo
box okay and now let's try and run the
program so username and password and
right now my picture box is empty and
this are also empty so for example I
select the name let's see that appears
first so I will select first the
employee ID one which has no images okay
no image variables so what happens so I
selected and it shows me unable to cast
type system dot database null to system
bite ok so it's showing some error
because our database is null but when
you select employee ID 13 which has some
image in the database so for example
Jack employee ID 13 I will select this
one so it will show the picture which it
contains ok so for example employee ID
14 also contains some picture so it
shows different picture once again 13 it
shows different picture 14 different
picture so if the database contains the
picture then it will show the picture
otherwise when you select the value
which have no picture another picture
then it will show this message ok
so in this way you can retrieve your
image from the database
to your picture box once again so I hope
you have enjoyed this video please rate
comment and subscribe and bye for now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>