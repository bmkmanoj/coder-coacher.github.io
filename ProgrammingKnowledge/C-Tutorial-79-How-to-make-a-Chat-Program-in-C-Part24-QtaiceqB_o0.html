<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Tutorial 79: How to make a Chat Program in C# Part-2/4 | Coder Coacher - Coaching Coders</title><meta content="C# Tutorial 79: How to make a Chat Program in C# Part-2/4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ProgrammingKnowledge/">ProgrammingKnowledge</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Tutorial 79: How to make a Chat Program in C# Part-2/4</b></h2><h5 class="post__date">2013-06-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QtaiceqB_o0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the textboxes right and inside this
function declare
IP host entry variable and name it as
host and just copy this host variable
here is equal to D and s dot guest host
entry and inside the bracket write DNS
dot get hostname break it and break it
closed so this method I think I have
shown you when I have shown you how to
get the IPS of your computer so if you
don't know then go to the previous
videos and you can always see the IP
address tutorial so just write this and
then just below this we will declare for
each loop so write like this for each IP
address and name it name your IP address
as IP in host which is this variable dot
address list and inside your for each
loop we will give a condition so what
condition we will give this if condition
we are going to give so right inside
your for each loop right if IP which is
this variable IP address variable dot
address family equal to address family
dot internetwork then we are going to
return something what we are going to
return the IP address so this will take
your local IP address or your network IP
address of your computer and it will
return in the form of string otherwise
it will return
the IP like this so this is also the
local IP so if it don't have anything to
return it will return this IP address
which is your local host ok so just make
this some method like this and if you
want you can just pause the video and
copy it and now we are going to set this
into our text boxes so just go to this
client one IP text box and copy its name
which is text loop local IP go to your
code once again and wherever you have
declared these socket is equal to new
socket inside your public forum one
method where you're initialized
component method is also there inside
this function you write the name of your
textbox for IP dot text is equal to just
copy this get local IP function name
paste it here and close it ok so what it
will do is it will set the local IP into
your text box right in the same way just
select this line to IP a IP text box
name and copy it once again go to your
code and just below your client 1 IP
address just paste it there dot txt and
just copy this and paste it here so
because I am using this application on
one
computer it in client 1 and line 2 will
have the same ip address that's why I'm
giving this IP addresses ok now when I
run the program it said automatically
the local IP or the IP address into my
both client 1 and line 2 text boxes
that's what I wanted
okay so I don't need to find out my IP
address and then type it here now what I
will do is I will declare a new method
for call back function so just below
your get IP method you can make it here
and I name it as private void message
call back and in the bracket give this I
asynchronous async result and give it a
variable name and now function closed ok
and inside this function I will make
first a try-catch block so inside this
message callback function you have given
this I async result and give it a
variable name and now the try-catch
block so like this make a try and a
catch block and Richard give message box
to give the exception ok and in this try
block we will write the code so first of
all we will declare a int variable like
this so write int size is equal to SC K
which is our socket variable dot
and receive from and inside these
brackets we pass two arguments one is
this async result variable copy this and
paste it here comma r EF EP remote which
is our endpoint variable okay
so like this and then we will write a
condition for this size so I will
declare the F condition and close the
bracket like this so this if condition
will check if there is information on
our network or not okay so if size is
greater than zero then what we will do
is we will get the data so I will
declare a byte array like this byte and
then square bracket and give it a
variable name in my case received data
is equal to new byte and give the size
of the bytes and then I will get the
data so copy this variable here is equal
to bracket byte square brackets and then
just copy this a result here dot async
state okay
now after this receiving the data I will
convert these bytes into strings okay
so just below your receive data code
just write this so write ascii encoding
and give it a variable name en coding in
my case is equal to new ascii encoding
bracket and bracket closed and declare a
string variable called receive mercy
is equal to en coding which is this
variable dot gets string and bracket
inside this bracket we will pass our
receive message byte array here so copy
this and paste it here so this will
convert our received bite into the
string message right and now what is
left is the displaying of message so
whatever we received we converted into
string and now we will display the
message into the list box so what I will
do is I will go to my form I will just
select this list box which will contain
our message and I will just copy the
name of this list box from here copy it
go to the code once again and just below
this string receive message variable
paste it here dot items dot add and in
the bracket bracket closed we will pass
this message okay like this and if you
want to shows that somebody is sending
the message then you can just add here
the name of the person I am I will name
it as friend for example okay so it will
first so friend or the name whatever you
enter here then the message okay now
after this method
so just go outside your if loop or not a
loop but if condition and just outside
if condition we will declare one more
bite array variable like this which is
like a buffer</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>