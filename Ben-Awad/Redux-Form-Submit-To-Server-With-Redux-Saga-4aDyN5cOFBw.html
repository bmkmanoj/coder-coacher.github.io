<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Redux Form Submit To Server With Redux Saga | Coder Coacher - Coaching Coders</title><meta content="Redux Form Submit To Server With Redux Saga - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Redux Form Submit To Server With Redux Saga</b></h2><h5 class="post__date">2017-03-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4aDyN5cOFBw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome back in today's
video I want to show you how to sub
redock saga with Redux form so right now
I have a Redux form set up on the right
here and I just have ritika saga the
documentation here and I'll walk you to
to setup react saga and show you how to
integrate that and with our Redux form
so if you don't have a Redux form you
don't know how to set that up I'll put
links then description below on how to
set this up if you're unfamiliar how to
get to this point but if you know how to
make retic form and you just want to
know how to set redux alga this is the
video for you so the first thing I'm
going to do is actually just set up
Redux saga so if I actually just get out
of here I can do a arn add Redux saga
which I've already done so I'm not going
to do that or I can do NPM install and
save Redux Agra and I will save it for
me then the next thing I want to do once
I have it installed go over here to my
store this is where where you create
your Redux store now I believe I already
have I do have my Madoka saga set up but
if you do not have your setup what
you're going to do is you want to import
creates audio middleware from redux alga
and then you want to import basically
you're going to have a route saga where
all your sagas are going to come from I
have my in a folder called sagas slash
sauces and I called it my saga we're
going to be making this next so for now
if you want if you already have sagas
you can import them here or we're going
to make them in a second I just open up
nerd tree I'll show you guys as you can
see I'm in the store folder right now
and then sagas sagas that's where I'm
keeping my saga code so that's what I'm
importing and then I'm creating saga
milla where which we then pass to the
store when we create the store and you
can see I'm doing apply middleware
the saga middleware and make sure you
import apply I'm gonna wear from redux
okay and then lastly you just need to
run on your saga middleware on your
actual sagas
so that will basically start listening
for whenever you dispatch actions for
your saris if you're not familiar with
how react saga works we'll get more into
how it does in a second so once you have
this setup you can go ahead and hop into
the sagas sagas folder and this is
basically where the all the saga stuff
is going to be put in so if I scroll up
to the top here I can see and they did
just do a little change the API since
I've worked with this before so you can
see you can now import take every from
redux saga FX okay so switch that up so
here is our route right here this is
going to be listening to what sagas to
like listen for so you notice an example
they just have one saga that they're
listening for and that's fine we're only
going at once ah graphic example today
but I like to set it up like this and
use fork because what happens if I have
to to sagas 5:01 against saga to and you
can listen for both sagas and basically
what sagas are is they listen for an
action kind of like Redux and reducers
um and whenever they get an action they
basically call a function so for this
example that they have right here
whenever someone dispatches or component
dispatches user fetch requested it's
going to call this fetch user right here
and X user is going to call this API and
then return the result and this yield
function just means it's going to wait
for it to call it and then it's going to
show the result back and pass it as an
action will see basically the return
data so I just have mine set up a little
differently where I'm forking that way I
can do multiple sagas this is basically
more generic way to do it so I'm going
to create a saga this is going to call
submit to saga and I'm going to listen
for a request submit and then right here
and then recall this will be call submit
and right here this will be our submit
to server so we're going to that same
function that we created before
now this we're going to call coal cement
I'm going to grab the action and we're
going to call submit to server and we're
just going to passion action dot data so
we're going to take some data up here
and then we'll worry about the rest of
this um in a second so I'm just going to
open up a new tree house working in the
my form I'm going to copy that I'm going
to come back to my sagas paste it in
here so I'm going to make this I'm going
to it's fine if it's an async function
so I'm gonna do a sync I'm just going to
do the same thing I did before so I have
a server running and if you have right
here you're going to want to put the URL
to your server this is my server this is
the endpoint I want to commit my data to
and then I'm doing a post request and
the data I'm just passing as JSON data
and then we respond to back with so this
response JSON when we return this it's
going to return to this result right
here and then I kinda want to do a
little error checking if Russell thought
errors and I want to do one thing else
there's no errors do another thing so
maybe this one I say request
six s full and then for this one maybe I
say request sales and now I can maybe
pass in I don't think we really need to
pass anything if the request is
successful we're fine we're good but
when it fails let's say we return result
errors okay so what's going to happen is
every time a component dispatches the
action and requests submit we're going
to oh before I explain this make sure we
use this name matches the name here so
every time an action dispatched request
event it's going to call this function
right here this function is going to
make call the async action or async
function that we create right here and
notice how call we don't actually we
pass the function as a parameter and we
also pass in the parameter for this
function so submit to server and this
action dot data is going to be passed as
a parameter to submit the server and
then we're getting the result of this
call here and then we're saying is there
an error if there is we're going to
basically dispatch an action here a
request failed if it was not the request
it was successful so now what I want to
do is I'm just going to we won't worry
about reducers for now component on my
form okay so we don't need this here
what we'd like to do now and we don't we
don't want to do this either we're not
doing this stuff anymore
now we do
call that action this dot props thought
what we really want to do is like
dispatch an action something like this
and then request submit and then data is
equal to first name last name and email
so this is all we'd like to do we can
scrunch that for a little bit because
we're going to be doing the coding for a
little bit so this is what we would like
to do we'd like to dispatch this action
so we can submit the form right but the
problem is is currently we need to set
up actions so this can actually work
because we can't just dispatch from here
we want to set up is we want to set up
and dispatch action in our props so we
can call a function called maybe submit
and then we pass a first name last name
and email something like that and then
we'll call to action for us now because
we are doing our form like this still
being the props and so we can grab it
right here comma submit and now what we
call submit what we really want to do
say fields we call this fields comma
submit now we're changing this to a
lambda function along with the fields to
submit we also want to pass in submit
this is should submit action just so
it's clear submit action so now it's
grabbing this function from the props
it's passing it to this submit function
so now we can come up here
and say submit action and now we do not
do this dog props up submit how we
actually need to create this function
called submit action now to do this we
have to set up some stuff where you
basically want to do this where we map
dispatch to prop and this allows us to
add a function to the prop which we're
going to call show or not show submit
action and then this allows us to
dispatch an action and then our read of
saga can pick it up so the way I like to
do this and this is a new way I've been
making things as make a folder called my
form and then I will move the my form
component underneath the my form node
not renamed I want to rename it there
tribute oops
components move my form I want to move
this so I'm just moving this component
inside the speak this folder my form
and then I create index dot JSP is will
be the one that we import now and I want
to just have all this code so now my
index what it's going to do is I now I'm
going to create a actions a local
actions that we're going to import so
action is so under my my form folder I'm
creating a oops I'll rename it to
actions give an actions file it's empty
right now but we'll change that in a
minute so we're getting binding action
creators from redux we can connect from
react redux and then we're getting the
actions from this action studios right
here which we are going to add a minute
and then we have my form which we can
import from my form right now we don't
need this lad this in a second and we
don't need that we can just export be
for now into the main life so notice
what we're doing here is we're actually
wrapping the my form component with
connect and this is actually what we'll
import now we'll import this index
folder instead of importing the actual
my form component so if I go to home
right now when I do dot slash my form
notice how that's referencing this
folder this is the same as saying my
form slash index so we're importing my
form slash index automatically so really
grabbing this which connects map
dispatch props and the map the states
prompt to our form now if I create
actions I can do expert Const submit
action and we want to have data and what
it's going to return is type
Qwest submit and then the data so now
what that's going to do is this submit
action here is going to be passed to our
props and so I can grab it from the
props and our my form component right
here I can pass it to our submit
function which calls it here and we can
just wrap this awesome
so we're not quite done in because if
you notice we're not actually passing
anything in our sagas we're basically
just making a redox call right now we're
just dispatching an action we're not
actually doing anything with our redox
form yet but we just connected a bunch
of stuff so let's make sure it's all
working so if I come back over here when
I submit the form what I should see is
just a result printed here and okay so
we have syntax a Realty unexpected token
so area and because I think I just need
to restart the server
let that refresh
sure is damn sweet old time okay so
module actions not found so let's go fix
that so Aaron index this should be dot
slash regenerated one-time not defined I
actually have no idea what this is
possibly one of something is wrong with
one of my sagas oh yes you do not use
star on this anymore I forgot about that
those when you really called change to
redux saga can solve it so there's
something else I'm going wrong to
regenerator is not defined I'm actually
not quite sure what a regenerator is
uncaught reference so I'm just going to
try I'm curious what the problem is so
I'm just going to debug this real quick
could it be this needs to be see if our
one of our things is not matching out so
they do function star for their my saga
which takes the latest that's what we're
doing
I guess maybe for now since we're don't
have multiple let's just see if I export
default this saga itself instead of
working and if that helps okay doesn't
so it's not a problem to fork something
else
so take every passing in our action and
then our function call us um it let's
see if our imports are correct cake
latest from redux saga effects may be
curative for for a second nope
I'm very curious with the problem is
okay guys I'm just going to go ahead and
continue debugging this what I'll do is
I'll I figure out what the problem is is
if you don't want to know what the
externality here watch me debug which is
fine is I'll just post a little link in
the description below to the video I'll
make another video after this that shows
just the solution and it finishes up
this video but if you're interested in
seeing you debug this I'll continue
debugging it so what online try next
the first thing to do is just google
this air
so it looks like it's not liking that
I'm using a weight async maybe we're
using a weight async before this is
coming from a saga right yeah
we're not using road pack
I'm going to try doing is just like yarn
remove Redux saga I'm just going to try
reinstalling it
I'm curious event on to the latest
version because I should be I shouldn't
have to do this
okay
now what I guess let's just see if that
fixes no I don't think up the six okay
well when I try is I want to see if it
is the async function that's messing
things up
so let's get rid of async function
and instead just have a little fun
turning thinner
okay so it doesn't like I'm passing it
an async function
we'll just do redux saga async/await
call async
you
do function here maybe
and it's not showing us any async
functions so maybe we can't do this I
thought I've done this before just
curious
submit to server that causes the problem
so knowing that causes the problem I'm
going to get rid of this away is the
reserved word so you can't use weight
unless you have an async but then begin
air if we do async what happens if I do
this
now that's definitely natural work
actually oh yeah what if I do that okay
still doesn't like it
what if I yield submit the server I
actually don't know if you can do that
let's see so that's a way to do it
no okay I'm just going to look up the
syntax of how this works so I figured
out what the problem was
it doesn't like them using an async
function I've used async functions with
redux Agha before so I'm just going to
go look up the syntax I used and then
I'll make a video showing you guys how I
did it
so thank you guys for watching I'm sorry
that if you take a little bit of a
detour because this isn't working
and all finishes up in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>