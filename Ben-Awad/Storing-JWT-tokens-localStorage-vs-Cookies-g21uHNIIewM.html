<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Storing JWT tokens localStorage vs. Cookies | Coder Coacher - Coaching Coders</title><meta content="Storing JWT tokens localStorage vs. Cookies - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Storing JWT tokens localStorage vs. Cookies</b></h2><h5 class="post__date">2017-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/g21uHNIIewM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I've been having a lot of
discussions in the comment section about
where the best place to store a chubby
JWT token which is the JSON web token
and I kinda wanna talk about kind of
what I've been learning and what the
what I have been doing which is local
storage and what accountant route next
which is cookies kind of go over the
pros and cons of each and why you might
pick one over the other so what I have
done in past is actually used local
storage and one of the reasons I really
like local storage was I was able to
access the JWT token and react so the
cool thing about JWT tokens is they have
a payload so it which is just an object
and you can store stuff in it so like I
could store whether the user is an admin
or maybe their ID you know which could
be like one and anything I wanted in the
token and so I could use that and
basically render routes differently
depending on what the token had and
react and so this allowed me to do is I
could just check the token for example
whether they're authenticated or whether
they're an admin so let's say they try
to go to the route admin panel an admin
panel we only want admins to access so
this user is admin is false so if they
were to go to this route without even
having to ask the server whether they're
an admin I read no because the token
says false and I don't even have to hit
the server I can just tell him sorry
you're not an admin but if they had
admin true then I'd go ahead and let
them access the server right they'd hit
the server the server would verify that
they actually are an admin and it's good
to go but as you can see in the case
where the admins false it just saves a
request or you don't have to hit the
server so I really like that same thing
for authenticating and you know
basically you can do some checks and put
some values in this to save you to do
save you from doing requests to the
server so I really like that and that's
what really drew me a local storage and
why I've been using it but one of the
cons of local storage is you can
actually modify
view anything that is stored in local
storage so let me show you that real
quick so here I have just localhost 3000
and this is basically where I've been
developing some applications so if I go
to application and local storage right
here I can see there's a refresh token
in a token and I can actually copy this
if I wanted to or I could delete it if I
wanted to you can save it and it's gone
right
or I could paste in the token I just got
I could add stuff to the end of it if I
wanted to save it so like I have full
access of what's being stored here
there's nothing preventing me from using
it so what can happen that leads to a
one clients can just mess up their own
token they're just goofing around
messing stuff up which is not ideal - it
opens up an attack vector so someone
mentioned this and I agreed this this is
a very possible scenario is let's say
you just leave your computer open and
someone comes over to your laptop they
can just come over here look at your
application your local storage and
basically get the token here and when
they get the token what they can do is
they can go back to their computer they
can paste the token and their local
storage and now they're basically logged
in as you which is not good so just like
there's nothing stopping people from
coming and opening this and viewing it
so let's say I was on a friend's
computer anything like that I could just
go and look up what their token their
JWT token is it's basically I can then
access their account so that's not great
right now not everyone's gonna just
leave their computer open to let people
come and do that but note that's your so
with you know it gives you this nice Pro
local storage but it also gives you that
you know vulnerability so with all
security stuff you can I have to pick
how much flexibility and optimization do
you want versus security and you kinda
have to pick per application how secure
you want to be and what you care about
and what you don't care about so that
leads us to cookies now you'll notice
it's pretty much the inverse
of the pros and cons are inverted from
local storage here the user cannot view
and modify the token well they can view
it but they can't modify it so like I
can come over here to my cookies I don't
think I have any hit thing here for a
local storage or my cookies I mean so
you can view the cookie here but I
actually can't change the value and I
just said an hhp value and I make it
secure and it's good to go and then that
way I can't
for example paste in someone else's
token into my cookie but because I can't
modify it or not because I can't modify
it but one of the cons of cookies is
they cannot access it through JavaScript
so I cannot do any of these things that
I was talking about right here that's a
no-go
when using cookies so you would always
have to make a request to the server no
matter what so I want to kind of try out
doing cookies next just because it is a
little bit more secure and I'm sure
there's lots of other pros and cons to
cookies and local storage that I don't
even know about but these are just some
of the things that I have been seeing
and I kind of want to try out cookies
cuz they seem to be more secure and
locked down than local storages and you
can still make a good application using
cookies so why not try to make it a
little bit more secure so yes so that's
what I would recommend if you're making
any application look at what is
important for your application and how
much you're willing I'm much security
you're willing to play with a willing to
because you know not everything has to
be iron down lock down there's less
critical applications and maybe this is
important to you right here with local
storage making less requests but I will
be trying cookies out next and tomorrow
I'll be releasing a video with kind of
like a few different methods I'm
thinking about implementing with cookies
just like my authentication strategy
with that so stay tuned if you're
interested in seeing how I'm gonna be
cookies so thanks for watching guys and
I'll see you in the next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>