<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Changing our Default Redux State | Coder Coacher - Coaching Coders</title><meta content="Changing our Default Redux State - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Changing our Default Redux State</b></h2><h5 class="post__date">2018-01-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OLjLB0sUvs8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys we're gonna start actually
getting our redux door to emulate this
calculator like we have here now what
I'm thinking is storing the numbers that
you see right up here in an array and
then as we type the numbers we're just
gonna be changing the array now there's
one other piece of state that we need to
hold in here and that is the state of
what happens when we press one of these
numbers I've been playing around with it
it looks like there's three different
states so the first one is what I call
appending which you just saw me do so as
I'm clicking these numbers the numbers
append to whatever you see right here
alright so the next state that I saw was
when you hit enter it it has a replace
affect so instead of appending on like
if I push 7 it's not gonna add a 7 here
it's actually just going to replace that
entire number and then the third state I
found was and you multiply any of these
on the side here and then you push 7
it's not gonna replace it or append it
but it's going to push it up so I push a
7 and it pushes up in the stack so what
we're gonna try to do today is emulate
this behavior right here that we're
seeing we're going to store the numbers
in our array and then we're gonna keep
the state of what should happen when I
press one of these numbers and then
we're gonna get enter and these two try
to get that working ok so first thing is
changing our modules our state over here
the default state is no longer just
gonna be this it's gonna be a object cuz
I want to hold two things first the
stack which is just going to be an array
and then the second is the input state
so by a fault I'm gonna say the input
state is gonna be actually I'm going to
say the default is replace so I'm gonna
say
in put state can either be append
replace or push are the three different
states it can take and the reason why
I'm saying replace is if we refresh when
I hit seven
notice how seven replaces zero there so
that's why I'm gonna say it replaces the
default one so I'm gonna try to get this
to actually display over here so we can
get this starting to mimic it so instead
of current number here we're really
gonna be grabbing like the current state
of the calculator so I'm gonna read name
down here where we connected and we
named our state which is getting passed
to our props and I'm just gonna call
this calculator state and then I'm going
to actually expand our calculator State
so our calculator state now has a stack
in an input state so I'm gonna grab the
stack and input state here and we're
gonna do stuff depending eventually we
can add a styling to make the styling
look different depending on what the
input state is similar to how their
calculator works so here I'm gonna
display stack 0 or just the number 0 and
I'm gonna do this three times and this
is gonna go up the stack so so maybe
position 1 and this is gonna be position
2 so now our stack is empty by default
so all these are gonna be undefined so
this syntax if you've never seen it
before how it works is you either
display or you take of this number but
if it's undefined null false then it
goes to this number so this is going to
evaluate to undefined so undefined or 0
is 0 and that's what's gonna happen here
in here but when we add numbers to the
stack 5 or 0 is gonna be 5 it's gonna
display 5 here okay so now we're
displaying the first 3 positions that
our stack here so now when I press these
numbers I would like to first replace
this 0 with a number and I'm just going
to
on press move that to all our numbers
real quick so we can now actually press
all of them oops so put that five four
three two and one
and zero as well we might do the point
differently than everything else so I'm
gonna come back to that okay so we have
this we now need to just change how this
is working here so first time that this
is working so now we need to return a
new state so we want to keep the default
state and what we're doing is an if
statement which we're gonna assume the
first one's gonna be replaced and then
we're gonna add that statement to our
case later so what we want to do is we
wanted to keep our stack right so stack
is gonna be state dot stack but then we
want to grab the first number in our
stack or not we don't even keep the
first number in our stack we actually
just replace it so it's gonna be state
dot stack dot slice 1 and then here we
grab whatever the payload is and I want
this to be
I'm trying to think if I want to keep
this as a string or keep it as an
integer and I think I'm gonna have
whatever is in the stack assume it is a
string just for the purposes of
appending on to it okay so what I'm
doing here is I am the stop dot dot
syntax I am keeping the current state so
that's when I spread this I put the
stack in the input state and then I'm
replacing what the current state is so
I'm assuming the input state is replaced
I'm gonna do an if statement in a second
but what this should do is I should just
replace the first value in our stack
with whatever I type so hopefully when I
push nine eight cool we just see it
replacing what I have there so now what
should happen is as soon as I hit a
number and we're in the replaced state
input state should it become append we
should move to a new input State and
there's really no longer a reason to do
dot dot state since we're replacing both
of our state values so now I'm gonna hit
nine now we still get the same effect
because we don't do anything different
whether we're in append or a place so
now let's add an if statement so if
input state actually I guess that's just
start our default so state that input
state is equal to append we're gonna do
something else if state that input state
is equal to replace so under the replace
condition we know we're gonna do this
and then under the append condition copy
that
we're gonna just take what the first
value of the stack is and append the
value on to it so we're gonna say state
dot stack grab the first one and I'm
gonna say or 0 and that's just in case
it's undefined ever and we're going to
add payload to it and okay this is we
can do the same thing here where we
slice the rest on okay also I didn't
explain the dot dot dot in the array so
if you haven't seen that similar to the
dot dot dot and objects what that does
is it's gonna take this array and expand
it so if I have two arrays here a which
it has one value and B which has two if
I say C is equal to dot a and dot dot B
then C is really equal to 1 comma 2 so
see how it takes the values in here and
takes the values in here and puts it and
there can be more than one value right I
could have 1 3 and then that's how that
would occur so what we're doing is we're
taking slice takes this is this slice 1
that takes the first value off so we're
taking the first value off the stack but
we're keeping the rest and then the
first value what we're doing is we're
just adding the payload to it and if
it's 0 or undefined we add a 0 to it
otherwise if it's replace we grab the
rest of the stack and then our first
value is whatever replacing and then we
change that and expected a break
statement before default okay I want to
break here there you go
and all right let's try it out so first
one I should replace the nine now when I
press eight it should be nine eight
awesome so that works now so next what I
want to do is get this inter button
working so when I push enter what I'd
like to happen is same thing that
happens here so I hit enter it should
take whatever values here push it here
and then move us to the replace state
where I can do this if I want to okay so
we're gonna create a new action export
const enter takes no parameters we're
just gonna say type enter and now we're
gonna create a constant type for this
enter unexpected token
Oh should be a comma area so now in our
main je s over here we added another
action so we're gonna bind this action
so we can call it in our component so
I'm gonna say enter and I want to call
it something different because we're
going to be importing it from our
modules and then down here we're going
to be I'll say let's call it inter
interaction
so now here I can grab interaction and
then on press I'm gonna say interaction
so the interaction is going to be called
whenever I push enter now so now we just
need to change our state now so I'm
gonna add a new case whenever inter
occurs what we're gonna do is we're
gonna return and we're gonna say the
input state is now we go to replace and
our stack is going to be state dot stack
0 and if it's undefined we'll just do a
0 and we're gonna do dot dot dot state
dot stack there we go so when we push
enter we keep the current stack and
we're just appending to the front the
first value or the 0 so let's watch it
here so for example let's refresh this
if I do 5 enter 6 5 it should look like
this so let's make sure ours is the same
thing so 5 enter 6 5 pops up so cool and
we can keep pushing that up right so
that's the cool thing about stack
calculator is it just keeps going up
and okay I think this is good this is
what I wanted to occur we now have the
functionality that I like and maybe we
can do like a little different styling
on this so we know what state were in
whether we're appending replacing or
pushing on I think I'll look at some
different colors and we'll add some
different colors to the next one in the
next video what we'll do is we will get
the division multiplication subtraction
and + working so we can actually do some
operations on the stuff here but let's</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>