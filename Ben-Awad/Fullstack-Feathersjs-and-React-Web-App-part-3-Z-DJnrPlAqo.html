<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fullstack Feathersjs and React Web App - part 3 | Coder Coacher - Coaching Coders</title><meta content="Fullstack Feathersjs and React Web App - part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fullstack Feathersjs and React Web App - part 3</b></h2><h5 class="post__date">2016-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z-DJnrPlAqo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay guys welcome back so I left you
last time with an ugly screen because
Samantha Q I was being funky but the
reason for that was I actually forgot to
add this little link in here so if you
go to your client and you just look at
instead of going to the source folder
going to public and index if you had
this style sheet right here it will
actually add in the semantic UI CSS that
was needed we're just missing the CSS
for it this link right here at it and
it'll look like this now we got our link
going we got our cards with the two
items we had in there and now what I
kinda want to do is show you a slight
problem that there is right now so if I
add some more items to this they will
get out of order so for example I'm just
gonna post using postman again I'm gonna
create a recipe let's make sure I have
the server start up for the backend so
get out of this okay so the server is
running for the client and the server is
running for the backend
excellent so I'm just gonna post the
recipes I'm gonna cut your recipe called
a send it Kuras be called be
your SP called si
and then D
and now if we go back I'm gonna see
refresh the page we should see them
added now this is kind of weird
we added D last but D is right here they
seem to be added in no particular order
at all and what I would like to happen
is have the newest item newest recipe
added first so we actually need to do
today is create a created at in the kind
of follow the timestamp of when they're
created so we're gonna do this in the
server and then we can sort it on the
client-side so we go back and we open up
our back-end and we can go ahead we can
shut down the server for now and the
first thing we're going to do is we want
to generate a hook
so feathers generate now what this does
is it's gonna go and go through the
dialog can help us set up a hook and
what a hook does is you can create
before accra hook weren't created before
hook and this is run before the item is
added to the database so we're gonna
call it process this is going to be
before hook and we're going to be using
this for the recipe service and we want
to do it on create so that's perfect and
then that's it we're gonna exit out of
that and then we're just gonna go to
services
sorry source services our recipe and
then hooks and then you should see a
process j/s file that was generated for
us open that up and what we're going to
do is we're just going to add
in a timestamp of when the object is
created so the hook dot data this is the
data that has passed so hooked up data
would have the name the ingredients the
directions in it and we want to add a
little thing called like created that
and then add the date to it now we don't
want to add it in the client we could
because I'm going to do this for every
single one so it's easier just to put it
in the server right here so we can do we
can do hook data and then we're gonna do
object sign and then an empty object and
then hook data and then a new object and
what this does is basically combining
this hook data with another object which
is gonna be created at and then we're
just gonna create a new date dot get
time that's it
so what this does right here and we can
get rid of that we don't really need it
what this does is it's creating a new
object and just keeping all the
attributes hooked up date ahead and just
adding a created at property to it so
now it's gonna just add the time and
allow us to sort it so that's awesome I
mean every other's comments don't need
those okay so now if we restart our
server so NPM start in our back-end I'm
just going to go ahead and do a new
recipe add that and you'll notice
there's a new field here created at and
if we actually just open up the data
folder and then recipes you'll notice
there's this created at field whereas
all the rest of these did not have that
so we're now able to sort by this field
so I'm gonna just go ahead and get rid
of shut down the server first I'm gonna
go just these this is just a file we can
change so I'm going to go ahead and
delete the data because we want to just
have new objects with the create app
property and those didn't have it so get
rid of that and can restart the server
I'm just gonna add a few more recipes so
your recipe a
be
and now if we come back over here we
should see the recipes your SP ba but
they're not sorted yet so to sort them
we're gonna go back to our client I'm
just gonna go to source so I'm back in
the client folder where our react stuff
is so I'm gonna go to source services
API and then notice how we're using git
instead of get we're just going to use
find
so and when you use fine do you have to
make it query and in our query what we'd
like to do is sort what we would like to
sort by well the create that date and
then you just tell it whether you want
to be ascending or descending and if you
do a negative one what that will do is
I'll give us the most recent we added
which is what we want and if we just
save that refresh the page hopefully we
should see well looks like we have a
little bit of air oh I just need to get
rid of add an extra little
curly brace
there we are like that
i refresh we have be a new recipe now if
we go ahead and add a new recipe newest
hopefully we should see it first and it
is awesome so now we're sorting all the
recipes by the new newest li added
that's exactly what we want next thing
we'd like to do is instead of posting
every time we want to add a recipe using
postman I would like just to have a form
it also likes some nice images on these
cards so in the next video I'll be
showing you how to create a form submit
that to our API make a post request just
like a postman adding it to the database
and then showing some images and some
cards here so thank you guys for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>