<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to add Redux Saga to Create React App | Coder Coacher - Coaching Coders</title><meta content="How to add Redux Saga to Create React App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to add Redux Saga to Create React App</b></h2><h5 class="post__date">2017-08-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Bq_Hkj-G-4c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">have many requests for Redux Olga and I
can't remember if I've done a tutorial
where I walked through adding it to a
create react app from scratch someone to
go ahead and do that again and show you
guys how I like to set up the love Redux
saga so for this we're going to need to
download redux and react redux right
here I have a react app is just the
basic what when you just run the command
line tool and so I'm going to pop over
here to terminal this is my project
here's all the stuff having it and I'm
just going to go ahead and say yar your
duck saga and react that's all we're
going to need it get rid of some stuff I
don't need index logo don't need test I
don't need app does cssm don't need it's
so first thing we need to set up to set
up Redux Agha so we're going to create a
storage a on here we're going to import
create store from and we're going to
import create a Middle Earth from Redux
saga and if as an example we're going to
just follow along with theirs so this is
where they creating the Redux tour we're
going to crease it in here so actually
I'm just going on so create store apply
middleware go where for Redux that's why
we're applying it here
my sagas this is we're going to put our
saga so we can go ahead and called sagas
j/s and then you have reducers go ahead
and create that reducers and then we
have actions and actually what I'm going
to do is I'm going to make a folder
called and then I'm going to create an
index file and those in there so gear to
that back here to the store so we're
going to put reducers in this folder
render whenever our saw goes for redux
Agha makes and we basically create our
store at it
so we're applying our middleware here
and then we're just run on here I'll go
ahead and keep the comic this looks
pretty good we have a reducers in our
Saugus just being at to our store
now this store we need to add to our
index over here this index here we're
just rendering the same except I'm gonna
get rid of app that CSS since I got rid
of the end I went up app I'll go I so
giving this and I'm going to make this a
default a pure function so I want to
wrap my whole application to be able to
use docs now to do that you need to use
the provider is coming from react Redux
an asset is the Redux store that we're
going to use so your imports store from
store and then we're going to put our
provider here you store and then we put
in the rest of our application as as
children to this tag so our whole
application go here so anything we want
provide Redux with it should go in
between these two tags I don't know
let's create a new full file here this
we'll call it home got GIS which is kind
of like our home screen I suppose so
let's go ahead and run component and I'm
an import home from home for now let's
just put a hello world import react from
react explore default alright alright so
we are fully adding it into so now home
has access to it
but we don't actually have any oceans
and no sagas as of that so get up so
here we're just going to import an
reducers from
and export default and then we're going
to call combined reducers a object and
here's where we put all our reducers and
that we want so let's create one reducer
we'll call it folce s and export default
and so this is there so my index here
I'm going to import world hello to the
lower cases let's call it hello world so
rename this as well and then I'm just
going to pass what you need to fill out
our reducer reducers take two parameters
which I'm going to set as blank and then
here this is the action and in that and
grab the type of it here we can actually
put a reducer usually output where you
say type and we'll say get in for each
case now we've got any actions so we
don't know what to put here I think I'm
just going to say create a hello world
I'm so export hello world and what we're
going to do is just say type yeah and
then type we're going to put is cons
hello world it's or actions like this
where you put the types as it that way I
can use it here and I can also do sir
over here now I can import from up one
actions
and I could say hello and now for the
case I can say hello world we all said
bug return state and here I'm just going
to turn hello world okay so our reducer
here all it's doing is here actually you
know is we're going to request hello
world and then we're going to receive
hello world so this is a little thing up
with Redux saga and I'll see how I like
to call my action so we're going to
request and then we're going to receive
it and you this will makes when we get
into the sagas and makes more sense when
we actually you in the I which will be
next video so okay so request hello and
this is going to be receive hello world
and then he the text that we'd like to
supply suppose so alright a hello world
here grab the text out of this and
return so this is going to be your
receive hello notice how in our reducer
we're not going to request we're only
going so we have our action here we can
call our hello world but nothing is
going to happen when we when we call
receive our reducer over here it's going
to get caught I put text into our state
but we are not calling this in Ihram and
the reason for that is we're going to
actually call it from it so coming over
here back to redux saga i'm just going
to copy their sagas JSO copies is in the
sagas and set we're going to set one up
here i'm going to export default and
here we want to we're not going to do
any api is this video but we're going to
import a request color from so how redux
all go works is you tell it what to
listen for
whenever the action is called so down
here when we say just
we're saying wait till this act called
and when it is call this function and
I'm going to say request hello world and
here and there I like to use okay so
there's take latest and take reference
between these two is and it probably
explains it in this cut if I fire two
sagas at the same time some to you know
will call the function twice if we're
saying alt once because they're run at
the same time that comment is supposed
let's get rid of this one though here
take latest we want to call hallo world
so we'll call home now
you know maybe here we would do is we
would call the API see what we get see
we get it back with that so we'll just
put API call here do API call and then
we can put the type here which is
receive hello world which let's import
that here receive one so yield put what
this does is actually option that way
Redux gets it so hello world I'm going
to put text will say hello world from
redux alga going to be like a little
chain right so and we won't worry about
I don't worry about the catch for now
we'll do the same thing if we we
shouldn't error out though but notice
how it's like a little chain recall is
my saga when we call request hallo world
this is going to call this and then when
this is done what it's going to do is
it's going to call receipt to our
reducer here and it's going to update
the state here and it stays updated we
can update our component get our home
component working before I do I wanted
to start this server up and make sure
everything there's no errors or ever
missing anything is to push the code
over here
the next thing didn't rent our home
component we're going to connect this to
the rio douro using connect that way we
can get the data and actually resolve
hallo world from source reducers
world that's right here wait why can it
module not fat dot slash hello world
from source reducers oh just spelled it
wrong world there you go
refresh cannot resolve home from book a
source home app others should be dot
slash dot slash our stuff all online
okay so home so next looks connect so
this is going to be the pattern that
you'll notice for pretty much all I'll
do when we want to run a saga on a
component we an API but most time of
using API so class home and react
component so what you'll do component
will mouth I'm you can use component did
mount at site mountains will probably
use this instead because it's better a
reason for that was the component will
mount you do know we're going to mount
the so render return your function is
going to be called once no much data on
component did mount or fetch data on
component so this better put on
component didn't mount in case you ever
use what's it called server-side
rendering because there will be no
component amount so this is better to
more of a catch-all and I'll do it here
me you might save a few microseconds of
Capone tuile mountains that's called
before this though so something to think
we're going to go ahead and use this
though that's fine for us
yeah let's go ahead and import a necked
from react redux and i'm an import bind
action creators from redux this function
here just makes it easy to add dispatch
to this so i'm going to export connect
and there's two functions we path maps
state two props which takes we're going
to go ahead and say what props we would
like so the prop like to see is hello
world
and that's full world
and tag in here pronounced just so it
does complain okay the second one is map
actions so if this is called I think
it's map actions to state
oh no map I have state the props and map
dispatch so we get a dispatch and then
here's where we pass in any actions we
want so map dispatch two props so we get
the dispatch function and what we're
going to do is call bind action creators
now normally what you would have to do
is call dispatch on but using this you
don't have to so we pass dispatch as a
parameter and we pass any action we want
so I'm quest tell the world
so request hold from reactor outer utter
from actions oh by the way guys just
thought of something actions here we
made a receive hello world but we're
next in a saga so we should use that
instead of just so receive hello world
I'm going to say yield put receive hello
world this and by the way those two are
equivalent so these two statements are
equivalent right here action that does
it for us cool come back we're getting
this request hello world here so now
what's going to happen is we're going to
repeal a world or whenever we request
hello world what's going to happens it's
going to call their state which this
thing gets updated right and so app
state the props and map dispatch on home
and now I'm going to call this stop
props dot request hello this function
will automatically get dispatched
because we're creators and its inner
props because we connected it right here
good to note this should be an object so
we could give this and then connect is
putting in our props we also have hello
world so I can say
this top prop stuff if we did make any
errors what will happen is when the
component will map it just say pop there
and say hello world from Buick saga so
okay could not find a store in either
context or props either rap the provider
or exclusively past store as a prop in
our app here we're calling provider
which we pass store to could not find
either the context or the props either
rap with a provider or we're using
retire so the documentation for it this
is the documentation for setting other
purchased past the store end which is
what we did
we're not exporting the store correctly
which were not so you so export defaults
and we so let's see give an action hello
we're producer returned undefined okay
so find so let's come over to our L
world and see what's going on so state
we return stay here
given action hello world to ignore
actually must explicitly returned given
the action hollow world producer who
wrote return undefined so this should be
received hello world interaction here
yeah we're requesting so let's go we're
saying receive or passing this in and
this all looks good I have no idea why
that's happening if I come to my store
my reducer I setting this text equal to
null somewhere so I can set a default
value we're just spinning here
sending infinitely calling itself so
opening I think it's the saga here well
I know it is no I thought for okay
surfers the hello world was dispatching
something else
so request I actually don't even know
it's going just fine
so request hello world right we're
listening or see hello world these are
different waiting forever look it won't
even let me open up chrome tool let's
see if there's anything here if I
restart the serum so we obviously did
something way WAY wrong actions here
okay in our home what are we calling
we're calling room this looks good to me
I actually have no idea what I'm doing
wrong it gets probably something really
small let's see so when this happening
what I want to do is put some console
logs and see what's getting called I'm
going to say console that log hello
world saga dis fat you're not going to
yield anything now we're not going to do
anything here we should only be
requesting oh my gosh that's why that's
why because I was being so silly
alright we should be good now this
should be request here and this should
these strings need to match what we have
here well they don't need to match but
they need to be different close that
because it's spinning hello from redux
I'll go pops up excellent
so everything is working and notice if
we go to our home nothing shows up that
this is what's controlling that and
calling that chain effect in this pops
here so in the next video I'm going to
show you how to do this and I'll show
you how to call an API and render the on
the screen but basically I hope you can
see kind of how it would work
is we're going to make a request and
it's going to enter saga here we're
going to yield it kind of and what we're
going to do is we're just going to let
us finish it when the API call is
finished we pass the data and it updates
and then we're all good so yeah put this
for you guys let me know if you have any
trouble setting this up and the comments
below and I'm happy to help I'll put
this template this little code here on
github if you want to check it out I
recommend use as a template and then
changing stuff up to your liking so yeah
thanks for next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>