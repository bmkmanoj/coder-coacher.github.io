<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native Tutorial - Silent Auction App Part 7 | Coder Coacher - Coaching Coders</title><meta content="React Native Tutorial - Silent Auction App Part 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native Tutorial - Silent Auction App Part 7</b></h2><h5 class="post__date">2017-04-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/H9dAAzu7dBY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome back in this
video we're going to be creating the
signup page for creating users in the
app so we have our routes and we're
gonna create a new one now the one we're
gonna be creating is going to be sign up
and it's lower case it dot and we're
gonna eventually make this into a
component that is connected to redux
tours so let's go ahead and do that now
next is okay
so this is our signup page right here
you grab an index and a view um and
we're gonna create a new route or new
scene it's gonna be called signup and
the component is signup okay and we can
just put this above I believe it's
called initial and I'll render it and I
forgot to start my emulator so let's
just go ahead and start then the
background okay so we got our signup
page connected with our app and it
should go to the signup page first and
if I come over here to view now this in
Dec when we and import signup we're
going to really be importing this index
page what does index page is going to be
doing is we're gonna be using react
Redux and we're gonna connect the
application just like this so I'm just
going to copy this taking this from the
documentation of react Redux this allows
us to access the redux tour within our
react application in a react component
so oops just popped up over here and go
back don't need that so import connect
from react Redux and then the spine
action creators so whenever we
we should keep that then whenever we add
basically something to the state and we
want to use in our application or in our
application but our component or sign up
component will come here and put it here
right now we don't really need anything
but we're just gonna set this up for now
so we can use that later and right here
again if there's any actions we need to
add we have the actions here and now we
import bu from view and then here we
just grab that so any actions and any
props that we want to pass to our
component that we get from redux we're
gonna add both of those and that's what
these guys are doing and we're
connecting those and allowing our view
component right here get access to that
okay so we have that you come over here
and we're gonna be making a signup page
that looks a lot like this so I'm just
gonna copy this this is from native base
I'm gonna save it now let's see it
finish it did let's refresh this and we
can just see if we can see that get
rendered and we can see all right so we
see two input boxes no button so Oh
looks like they don't have a button huh
they did so they have a button this
example but then they didn't show it
okay that's okay air input box we're
gonna be using this later but okay what
do we need now a button full button so
we want to do like primary let's do the
primary one
tab it over and we say sign up refresh
that and we need to import button and we
also you import text actually we should
get text from here oops and I'm just
gonna make this into a peer component so
export default
all right the spacing is a little bit
off because these I think four spaces do
that's okay all right so this looks good
for the sign up it needs to be some
spacing here let's add that why not
let's out of that right now bring that
over that over one okay and we need to
have one more when we're creating we
also need to have an email and right
here you can say styles and we can say
margin top ten and we can do the same
thing here with our button and we should
add full to the end here
all right let's see if that adds a
little bit spacing there
Stiles did you mean style yet so styles
to style now refresh that and we have a
little bit of space let's add a little
bit more so let's have 50 try 50 here
too interesting this goes full-length
those don't because it's last does that
why there we go that looks kind of weird
doesn't it serious look like that to a
form
yeah there's a like that
to the last all right so we need a make
the button not I want to make it curved
like this and we got that okay so let's
go to our button this looks about how
that looks but they just have the margin
maybe at 20 there and then their button
they add rounded button not that right
much rounded button theme rounded icon
button size block that's what we want
it's called block full block see how
that looks
nope maybe this this full looks like
it's overriding the block all right that
looks better now styles dot in before I
have no idea what that's doing I assume
it's giving it some padding on the side
here walk disabled
button block that's what we want we just
don't want it to be container content we
have container content too so let's add
a new style here that'll be margin all
around actually margin 50 is gonna be
too much yeah large and right 20 margin
left 20 all right that looks very
similar to the picture now we go back to
form yeah let's make it 10 no refresh
that and all right I'm happy with it so
now we want to be able to say my user
name is Bob Bob here whatever and we can
sign up so to do that what we're gonna
do is we're gonna do we're gonna use
redux form this is a nice library that
makes forms really easily so I'm just
gonna follow the implementation guide
here so I'm gonna need to add it to my
reducers but before I do let's go to our
application and just add it so I'm use
yarn to install it Redux form and just
let that run in the background okay now
I'm going to come on over here to my
root reducer and we're gonna add this
and now we don't need Bob anymore we can
say form is equal to form reducer okay
and then step two is to import Redux
form in our form so come up here and
import and then
here we go so I'm going to say Const
this will be sign up so you will export
default don't need this stuff don't eat
this stuff and we will sign up and our
form will be called sign up okay so that
hooks up Redux form we can now use these
field components so what we'll do here
is I'll say field and I think what I
want to do is actually because when
they're getting errors when coming back
over here you have a custom field one
I'm looking for one that uh here we go
submit validation I believe has it I'm
looking for an example where he has it
broken out like this okay this is what
we want so we can copy that constant
your field so we can grab the type that
they pass end and then placeholder and
then we're going to render that so here
we're gonna say field name is gonna be
username type see actually we don't need
type we just need something to
distinguish between password fields
we'll do that in a second though so the
name and then just placeholder is equal
to u username so then I can get rid of
you and then up here what I'm gonna do
is just gonna copy that paste it here
and then our placeholder is whatever we
use we pass in as a parameter so then we
refresh that see if it shows up okay and
if it looks the same this allows us to
add the functionality that we want okay
expected a string for the component so
we just forgot to pass the component in
here component render field so now I can
refresh this and cool and I can type and
stuff it looks okay
so now I can copy and paste this for
each component so now this will be email
and we have password down here so the
only thing that's not working or that we
need to make more modular is notice now
when I type the password it shows it so
we just need to come over here to our
native base component and if we go to
text it should tell us how to make text
not text input a password actually right
here I don't think they even I don't
think they're even telling it so a react
native password input because we want to
hide the text so we need some way of
doing that and that's going to be Oh an
auto capitalized we want to get rid of
so drop that to in your line auto
capitalized I believe it's none excuse
me
so none they'll get rid of
capitalization
Kappa Tau Kappa Tau there we go
and I'm just looking for keyboard type
that's not very important on change text
we're going to need to do that
maybe I
I missed it should be like okay here we
go secure text entry and this is going
to be true and just to set a true value
you don't set to true you can just add
it there so on change
so in react me if it's slightly
different from regular react I believe
there's an FAQ but let's see if they
have it and that this form instead of
doing on change they use on change text
whereas an input for the web just uses
on change so we actually need to
basically change this here we go yes it
does most of the cosign there a minor
difference okay and this is what I was
talking about so we need to copy that
so now we can map that on change then we
can do dot dot dot rest input okey-dokey
so that basically adds all the other
props so now let's make sure the
password looks okay Oh equal to secure
text entry and we can pass that in as a
prop secure text entry so now on the
password here I can say secure text
entry all right you're under thanks bye
did token 10 go line 10 I think I just
need to do that all right so now I can
say Bob Bob at Bob and then my password
is all blank app ok cool so now we can
all those values are working nicely and
now we have this error field let's go
ahead and do that while we're at it so
whenever there's some air ok so its
input group iOS close circle icon trying
to see if there's a different way to do
it we this is the only way they do it we
don't have to add that I guess we can
just do an error can I add the error to
this input error I just want to see if
this will show up red now it doesn't do
I need to do an input group I guess so
I guess let's copy this and see if this
works
cut that over both and we don't need
that okay now I can remove air from that
let's refresh adult icon this is getting
quite long so let's drop this to a new
line okay now we can put icon there
okie dokie
so now air is equal to touched and air
so if the field has been touched and
there's an air then there's an air and
we only display the red X if that's true
as well so we're gonna say touched and
air so now when are you refresh there
should not be any red lines and there is
it very nice okay
let's drop this to a new line now we're
gonna some work on submitting this so I
believe it's on press and then on press
we're gonna say and I'll submit and this
is something that Redux for and passes
to you so it's something we get from the
props handles submit and then we can
call our submit function which I'll call
on submit so we have our on submit
function here on submit and it's going
to go ahead and pass in all our fields
and our fields where username email and
password so what I'll do is I'll check
if they're empty so let air is equal
this and then let is air equal false and
then if username trim is equal to an
empty string then we'll say errors that
username is equal to acquired and then
we'll do that all the way down and we'll
check for email and we'll check for
password
just a layer checking and we'll say is
there is equal to true and then we'll do
a check right here
if is err else will submit form so throw
the air back we go back to Redux form
they have some error handling believe is
that validation submission air so we
need to import that and then down here
we throw a new submission air throw new
submission error I pass in errors just
to show you that this is working now if
we leave one of these fields blank then
it should give us an heir oops
undefined it's not an object so if they
don't specify a field that comes in
undefined so we just set default values
as empty string so we don't get that
error so refresh say username Bob say we
don't leave those we try to sign up and
it says hey you can't leave these blank
and it looks like we got a warning field
prop type invalid prompt type error of
type string supplied to input group
expected boolean an input group created
by Oh
so it's not liking it because I'm not
passing in a boolean basically I mean I
can do this
true/false let's see if it likes that
better yep it likes that better okay
I'll keep that for now that I get rid of
the warning it should be the same thing
okay so now what should happen when we
submit the form let me submit the form
we'd like to make a request to the
server so anytime we're doing that we're
talking about doing redux saga so let's
get into that so what we're going to do
is let's create some actions that they
can call and for this I want to use
Redux actions this is a library for
making actions and it just helps for
basically not doing duplicate code so
install this library yarn and and then
we can add some actions so we'll import
that and we'll say cons requests sign-up
is equal to request signup and then
we'll say Const and we're exporting all
of these and then the action will be
request signup is equal to create action
passing in request sign up and now we're
going to create a saga
import from actions we're going to
listen for requests sign up and we're
gonna take latest not take every the
difference is if you send another
request like if I double click the
button it will only send once and that's
what we want so this is going to be
signup saga and it's gonna call sign up
call sign up and we're actually gonna
create a new file called sign up from
API so we're gonna create a new local
file called API that we are actually
gonna create the sign up request so so
we're listening for the sign up saga and
when you do we call this and we're gonna
call we're going to pass an action not
payload what we're going to call this
sign up and then what we're going to
listen to for is an air and response if
there's an air and we're not going to
transition to the next page if there is
we're going to transition to a new page
and also to throw the error back to
Redux saga we can come over here to
action creators like let's say we try
creating and the user name has already
been used any type of error what we can
do is we can start and stop some it so
import start submit stop submit
from Redux form so when we call sign up
what we want to do is we're going to say
yield put start submit and I'll just be
an empty oh we need to put the form that
we're submitting that's going to be sign
up okay so we started a submit to the
server and we need to tell our rejects
form that we're doing the submit and
then at the very end what we're gonna do
is we are going to stop some it for this
and then we're gonna pass the response
back to our form and if if we get an
error or whatever and then if we don't
get an error
we're gonna change page and well yet
we'll implement that later so puts stop
submit so then we also need to create
our sign up so API GS
so here what we're gonna do is we're
gonna import some stuff from we're gonna
go up one we're gonna import from this
index file here so index and we're gonna
get users so let's create users so
export console users is equal to rest
app dot service users because what we're
doing actually yeah yeah cuz if we're
creating a new user and then we're gonna
create we're gonna create an async
function for this so Facebook networking
react they have some nice syntax we're
gonna be using the await syntax that's
really nice I'll show you it here it is
using this async functions alright so
we're gonna wait users create payload
that we get from here
and this is gonna be sign up so we're
gonna pass in the username password all
that stuff here and then we're going to
send it we're gonna wait for the
response that we're gonna get the
response and then we're gonna return it
and then if there's an error we can
print the error and we can return here
we can just return a wait response JSON
and it might already come back as JSON
this might throw an air
walsim we might really have to play with
that a little bit here though we're
gonna return air dot errors and sure we
can console what that is and errors that
errors is something from feathers j/s I
believe have the wrong thing here but
we're printing it out we can fix this
later if we get an air okie-dokie so
we're all ready to accept an action now
oh no we're not because we need to just
listen for that saga so now we do import
that would be signup saga from that's
user slash Saugus
and now we fork signup saga okay so now
we're listening for it now in our sign
up index file we're going to do is we
want to call that action do start to
sign up so we're going to say import
request sign up from we're going to go
up one directory to directories two
modules user actions and then we're
going to pass that to the props request
sign up so now when I come here come
down to the bottom I can now grab
request sign up and I can pass it in
here on submit field and then request
MIT request sign up so field request
sign up and now we can accept two
parameters up here this will be our
request
sign up now we could say request sign up
passing in the username password and
email okay so everything is connected
I'm just gonna open up a new window
refresh that when we run this it should
create a user but we might have some
errors so what I'm going to do is I'm
just going to say start logging for this
so I know we have an arrow we'll look at
that in a second diana is printers
tutorials okay
so react native log iOS so now we can
see what we're getting from and I also
want to in our sagas before I forget
console dot log respond
okay now let's see what our air we're
getting unable to resolve module user
slash logger oh I forgot the dot slash
okie dokie
so now my user name be Bob Bob - and
sign up
I shouldn't may not have been defined
might have an undefined type property
have you misspelled it constant okay not
sure what that means create an action or
quest sign up
of course sign up sagas oh here we
should be putting real quest sign up
actions may actions may have I have an
undefined type property creat action let
me just make sure I have the syntax
right I guess from Redux actions here we
go
Const increment yeah this looks good
I think it might have just been that old
Sita
hey still something's wrong with my my
thing so request sign up for more sagas
we're grabbing it
I'm assuming it's coming from here or
quest sign up from user actions request
sign up
request sign-up is equal to create
action this looks good
urgh iving oops request sign-up request
signup a quest sign oh you know what
there could be would I just open it's
fine okay
hey I'm thinking the air might not might
be with this with this start submit and
the stops in it so let's check the Redux
form start submit stops in it you'll put
comment those out I'll just see if
that's what's causing it or if it's my
actual other action I messed up sign up
view well seven oops
there we go
okay so it's not that I might have
misspelled a type this is really weird
I'm doing something silly create action
quest sign up
and our payload console dot log is it
even making it to this action I wonder
let's see yeah I'll just start putting
print statements to see where this error
is coming from okay have you misspelled
an action ok so we don't even get here
it's actually only calling request
signup quest signup ah here we go I just
had should be getting a request sign up
from up here and I accidentally passed
it as a prop there okay now do you run
that I can go back to my sagas okay good
we didn't change anything
a a uncaught at check call argument
function is undefined
okay I think it's probably has something
to do with this and then we call handle
cement let me make sure react saga its
handle submit
yep so handle submit so what you pass
and on press for handling and submit
which we grab from up here and on submit
we call with our field and request so
what is this console that air uncaught
at check argument F and it's not defined
all right I'm guessing it has to do
something with our saga so console that
log hello I think it has something to do
with our or sign up if I would have to
guess up yes I do I do I know it is
we're not exporting X for Claire we go
now refresh a ok page not found that's
fine okay so we're getting a feathers
air up slash users slash slash oops so
this is because in my index here put a
slash at the end of host now sign up
which but also JSON is not a function
response I drew some response okay as I
was expecting
response a JSON isn't a thing we just
returned we actually literally just
returned this our call from create
so refresh run validation error okay
validation error errors and we now we
want to get the first value message path
okay so path is username okay so we want
to do is when we get an error we don't
return errors we return an object and
whatever it's called and then air and
the thing that goes here is error errors
getting the first one dot path so what
path was going to be it's going to be
username and a username must be unique
so this is gonna say username here and
we're just passing air that's fine we
would want to put better error messages
but this is okay for now
again the validation error okay so it
looks like the we're having an air with
property name but when I try is if this
just works if I have a good one
so Tom at Tom Tom and that should create
a user let's check that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>