<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>LoL Python Bot | Coder Coacher - Coaching Coders</title><meta content="LoL Python Bot - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>LoL Python Bot</b></h2><h5 class="post__date">2015-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lXhpaaKUTkc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome guys
I have another video today where I want
to show you this Python program that I
just made to help one of my apps so I
have a league of Legends app that looks
like this this is one of the pages on it
and what it does is what I call the
featured player page and this takes a
leap for those of you that know
legalized is the video game it's what
this page does is it displays a really
good player and it talks about some of
the stats and whatnot about the player
and to pick this player I've been doing
it manually I should be doing it
manually but I'm really lazy and I don't
want to be picking a new feature person
to feature every single week so what I
did is I've made a robot to pick it for
me and so now that I mean it lists a
little python robot which will go and
pick a featured player for me so I don't
have to do it and I can have it update
as fast or as slow as I want now and I
don't have to worry about even worrying
about this at all so I'm going to show
you guys how I made this robot to help
League of Legends app so it's a Python
robot and this is what it looks like
right here and I'm going to be putting
all this code on github so you guys can
see it I'm just gonna do a quick
run-through of how it works so you guys
can get a feel because sometimes it's a
little hard because this is a pretty big
file but it's a lot simpler than it
makes it look and what someone walks
through their own code I think it makes
a lot more sense so that's what I was
going to go ahead and do for you right
now so at the top here I have some
imports these are just some libraries
I'm going to be using I'm going to be
using the request library and then I'm
going to use a shuffle and time and then
right here it is the API key now I'm
Picone github so I don't want to put my
actual API key because then people could
use it but right here this is like your
API key to access the League of Legends
server so how my Apple
I have to access the collection server
to actually find these good players and
to do that I needed API key that they
have given me and so you just put in
your API key here and that's how that
works
the next thing is this region these are
kind of like my global variables right
here um region is the other global
variable and what region is doing is
basically what region I want to get
right now I have it on na but there's a
lot of different people all over the
world that play League of Legends I
could get players from Asia from Europe
if I wanted to just by changing this
region I have it all it will
automatically change so I have some
functions up here but we'll get to those
in a second the code starts down here so
the first thing I'm doing is its first
line right here and it I'm calling this
request get and then I have this URL
right here and then I'm returning and
holding in an object right here and this
is a request object and so this string
right here this is the string to the URL
this is accessing basically a webpage
and it's returning basically some data
to me that I can work with and this is
what this looks like
now if we come back over here when I
make this request this is whether it
returns a list of JSON this is what's
called JSON and basically it's a good
way of holding data and what this is
doing is I'm making a call to legal I
didn't server I'm saying
tell me give me challenge all the
players that aren't Challenger and
Challenger is basically the best players
and League of Legends so I want to get
the basically a bunch of players that
are really good and so what it returns
is this list of JSON this is what this
request objects looking like right now
and as you can see this is like so this
is the name of the
group this is a challenger and this is
just the type and then right here it
shows all the different players so each
one of these is a player right here
right here and what I can do is I can
actually just look inside one of these
and it gives me information on the
player for example gives me their ID
gives me their team name or the name of
the player in this case the vision
they're in points wins losses and some
other stuff so what I can do is I can
grab this name of this player and look
up some more information on it to send
it to my block because I not only need
to send my bot error my app a player to
use but I also need to send the items
they're using in the room so we'll get
to that in just a second so what my app
does is the first checks if I correctly
access that URL which is why I do this
task code 200 this means that I was able
to access the internet okay and their
API and their servers are up and if
that's not I just send a little message
could not connect allowing myself to
know that there was a problem connecting
to it so the next thing I'm doing is
like I said just turning this into a
turning that into JSON so it's returned
in a JSON form but to make it into a
JSON object after call this dot JSON and
then what I want to do is I want to put
all the different players that I could
possibly you know put on the app I want
to put get all the possible ones so what
I'm doing is I'm going through every one
of these entries and taking the name of
that person so that's what this for loop
is doing right here so I have an empty
list and then I'm looping through the
length of the entries so this is a right
here you see all right here this tchau
underscore j this is challenge or JSON
that's just my little abbreviation
that's this object right here and then
we're doing entries what that does is it
returns this little array right here
with all this data and what we're doing
is I'm getting the length and I'm
looping through each one and each time I
loop I want to add the player name which
is what's going right here into the
list so this line right here is getting
the name of the player and um
incrementing right here I
so each loop it adds another player to
the list and then after this for loops
finished I have every single player in
this list the name of them and then the
next thing that does is I do the shuffle
command and what this does it just
randomized is to listen the reason for
that is so every time I run this it's it
doesn't return the same person to make
sure it's ran but basically so I'm not
getting beta basically so my app doesn't
show the same person very frequently the
next thing I'm doing is I'm looping
through each person and I'm calling this
beach requirement loop function and the
reason for that is there's some
requirements that I want each player to
the player to meet to be able to show it
on my app I'm not just showing any
player there's a few things that want
for example I want them I want them to
play a game with six items that way I
can do a full item build for people look
at and I also want to make sure that
they have a good rune page that I can
take that's what that function is doing
and we'll get to that in just a second
and then once I find a good player I'm
just breaking I'm done with this because
this function will handle actually
updating the app and then right here you
see this time not sleep so my app
accesses the League of Legends servers
and they only let you do like a sermon
on quests in ten seconds
and computers away faster than 10
seconds they you know the execute code
way faster than that so I have to put
this dot sleep what it does it just
basically it turns the computer off for
20 seconds hi buck - script and then it
comes back and it will keep running the
for loop and the reason for that is just
so I'm able to access the API because if
you access the API too many times too
fast it will kick you out and you don't
want that so let's look at this meet
requirements API they're not API
function so this is it right now just
the pram or
a summoner name that I want to check the
requirements for and the first thing I'm
doing is I'm doing another request to
the server and right here as you can see
what I'm looking up is the summoner by
name and what I'm doing right here is I
want to get the ID of the sumner now I
just realized looking at now that they
give me the ID right here when I was
first making so the next thing I did is
I mean a request to this API right here
which gives me their ID so how that
works is I put in this thing and then in
this URL if you go to the League of
Legends developer page they give you all
these URLs to figure out which pages to
go to and I'll link that in the video
below on which URL to go to so I'm
getting the Sumner's basically ID and
again I'm checking to see if I was able
to connect ok and if not I'm putting out
a statement just saying I could not
connect when getting their ID and I'm
just doing a little debug statement
right here where I'm doing IDE dot text
one that doesn't just prints out what
was returned if I did not get JSON okay
and again I'm doing the same thing I did
before turn this into a JSON object then
what I need to do is I need to take this
sum name and I need to do I need to
strip it and I mean by that is take a
look see this proof of payments guy see
how there's no capitalization no spaces
no nothing um if we come back over here
this is what his name looks like this is
what the key is for the JSON so I need
to basically strip everything and to do
that I just turn it to lowercase
then I'm encoding it and what that what
this does is it just gets rid of any
like apostrophes or brackets or weird
things that be in there that shouldn't
be the next thing I'm getting rid of all
space
and what I'm doing is I'm actually just
grabbing that ID right here so I'm doing
the JSON I'm using the Summoner as the
first key and I'm getting I'm being the
ID so I'm using a summoner or this is
the first key and then I'm using an ID
and less returned is this number right
here all right so then the next thing is
I have the summoners ID and like I said
I want to check to make sure these guys
have the number of items I want and good
rooms so what I'm going to do is I want
to look at their match history so the
next thing I'm going to do I'm making a
request to match history page this is
another access to the server and I'm
looking at the recent games and again
checking to make sure I connect okay so
if we look at if we look at what's being
returned this is what the match history
page looks like so it's just a bunch of
matches that they've played and then
right here it tells me the match ID
region they're in but that stuff's not
as important or really looking for is
stuff right here so this these stats for
each game because each one of these
matches is a game and I want to look at
the stats right here tells me the items
they use this game so I want to get off
the items and I also want to get the
rune set that you so if we just move
that and it tells me the ranch right
here so I call this function right here
get some nur info and what this is doing
I'm just passing in this JSON object
what I'm doing right here is on
basically getting all information I want
from here and storing it in three or
four lists
I want the so there's many different
games and there could be several games
that fit the criteria that I'm looking
for so I'm storing each one in a list so
I'm storing all the possible champions
that I could choose from all the
possible items all the possible
summoners and all the possible rooms
because there's ten games that the match
history shows so more than one can
likely work and basically
the next thing I'm not show you
dysfunction is I get the thing I want to
show you next is this if not return
false um this potential champions if
this is empty I was not able to find
anything that matches the criteria and
so I'm just returning false right now
whenever I return false we come back
down here what I'll do is I'll wait 20
seconds and I'll loop again I mean
requirements will feed in another chant
at the end to the function and we'll
just run through the same thing again
all right so now let me show you what my
get sumner info does alright so first
thing it does is it has four lists at
the top so these are the ones that we're
gonna be populating and what we're gonna
do is we're gonna loop through every
single game and for every single game
the first thing I want to check is to
see if they have six items because it's
my first requirement I want to make sure
that they have six items in the thing to
look at and you'll see right here it's
showing items right here now what I want
to check for is to make sure there's no
item that's is 0 because if there's an
item that says 0 that means they even
get an item that game and I want to have
someone that has all six items so right
here I'm checking and one of you guys
say I only want to check for yeah I want
to check for all six items so what I'm
doing is I'm doing stat stock yet and
I'm putting in this and if I was unable
to find this item or the item is equal
to zero
then I'm gonna call this continue and
what this continue does is it just loops
again and it goes to the next game in
match history because we do not want
this match because it does not meet the
criteria but if it does all of these are
not zero then we're going to the next
thing
next we're doing is we're looking at the
rune page for the runes that's right
here I'm looking at these runes that I'm
saying I want a rune page that has four
or more runes in it or less than eight
and that's just how
I how many rooms my after to hold on the
page so right here you can see this
guy's has four so this is working
perfectly
that's all this check is doing right
here checking to make sure that the rune
page is less than this thing is less
than if this is greater than eight then
I want to continue and if it's less than
four I want to continue and what could
again continue go into the next match
because this match does not meet
requirements but let's say it has all
the items all the rooms then this is a
guy that I want to use for my app and
then the next thing I'll do is I'm just
gonna add right here I'm just adding the
champion that they use that game the six
items they use that game and then I'm
adding the runes that they use that game
and that's what this code is doing right
here and I'm also adding the summoner
spells and this is just some information
I want on the user so those are the four
things and so what's gonna be there's
gonna be multiple matches that are gonna
return runes that work and items that
are work so then I'm gonna have a long
list of different rooms and different
which will call it items that will work
and so there will be multiple champions
and stuff so that's why they it's
returning lists and so the next thing
that we're doing is to decide which
which build or which a champion I want
to choose from what I'm gonna be doing
is making another request to the API or
the League of Legends server and this
time I'm going to look at the rank stats
well this is returning is this page
right here this is basically telling me
how much experience do they have on the
champion how many kills deaths wins all
that stuff and that's how I'm gonna
decide I wanted to pick the game the
champion if they're the most comfortable
with and I want to show that game that
they played so though that's what I'm
first of course checking to make sure we
connected okay that I'm getting
that's what then I'm calling this get
most wins champion and I'm passing in
the JSON object right here and then I'm
also passing in the all the champions to
choose from so let's go up to the get
most wins champion all right so what
this is doing is it's gonna be looping
through the data right here and it's
also gonna be looping through the the
items in the champions and it's checking
if see this ID here this is an ID for a
champion so what it's doing is its
checking if this ID is in the potential
champions didn't see how many wins they
get right here total sessions 1 and pick
the 1 champion with the highest sessions
win because that shows me that they have
the most experience with the champion
the one with the most wins and that
champion is the champion that I want to
choose or are that's the one I want to
put on my app so that's what this date
is doing right here what's doing is it's
right here the first thing that's doing
is looping through all the different
champions right here in the list and
it's just storing the champion IDs and
the number of wins that they have and
then below here I'm then checking it
right here what this is doing is this is
getting the champion and telling me how
many ID when's it has and I'm just
saying if that has more wins than the
highest wins right now then that has the
highest wins and that has the highest
champion ID and I'm just looping through
basically every single option and
picking the champion that has the most
wins so that's basically how that's work
so after we've decided which champion
has the most wins that position I'm just
getting that position which I just do
the dot index of function right here
it'll tell me the position I wish that
champion was inside my list and now
position correlates with the itembuild
the summoner spells and the rune list
the champion used that game so that's
what's going on right here when I'm
using this walk for each one okay so I
have a now that I have a rune list a
champion items and summoner spells next
thing I want to do is get the name of
the champion right now I have it in an
ID I actually want the name of the
champion and so what I can do is I can
do another Internet call and that's what
this get champion name does it's doing
another ap8 API call and I'll show you
what that looks like in just second
again checking this task code if it's
not working we're using an error and
basically I'm just grabbing the name and
that's what this is doing right here and
if we take a look this is what's
returned let's say we want to look up
the ID 4000 would pop up is this jhana
we just get the key or the name and that
will give us the name of the champion so
that's what this get Champion name is
doing and after I get the champion name
the next thing I want to do is see I can
also get this champion or the item build
names cuz right now all the items are in
IDs for now I didn't do that but if you
see this little commented out I actually
wrote it but I decided not to do it
that's what this code is doing right
here it is getting all the names of the
items so if you want to get the names of
the items instead of just ion IDs you
can call this get item names instead of
doing you could do right here you could
also do item build name equal to and
then the name of that function get item
names and then just pass in item build
and what that will give you is this will
be now names instead of IDs but either
way it works
okay so then again spell I have some nur
spells that are IDs in for those I'm
fine leaving these items as IDs but I
want these summoners as names as well so
that's what this gets sumner spell name
is doing it's doing two calls to the
server each for the two different
summoners and it's just returning and
telling me what the name is that's right
here and what will return is this JSON
I'm just getting the name and it'll give
me this string and that's what I'm
returning in this function okay then the
last thing I'm doing is I'm doing this
change text file calling this function
and I'm passing in all the data that I
just got
and then I'm returning true so how my
app works is it reads a file off the
internet right now I'm I just changed it
to use Dropbox so it reads a file off my
Dropbox account which is basically just
a text file that is formatted in a way
that I could tell each piece of data and
I'll show you what that looks like in
just a second and so what I'm doing with
this change to text file function is I'm
changing the file in my Dropbox in the
Dropbox file upload change the Dropbox
file that's in the cloud and then it
allows my app to see the changes that
I've made so when I run this app what
it'll do is it will actually update well
I've run this project or this Python
script it will update my app as well so
let's look at the text file so that's
right up here so I'm taking all this
information and right here all I'm doing
is I'm putting it in a format that is
how my app wants to read it and then
this print text I'm just printing that
to show that looks like and then right
here's the file to my Dropbox file
alright I don't have it right here but
you can put it whatever five we want you
want to do a text file and I'll write
the data to it and just closing the file
and that's it that's all the program
does so I want to run the
for you guys to show you basically how
this works so this is the program I'm
just gonna run it takes a couple seconds
basically to do all those calls to the
network but when that's done this is
what it looks like so this is the name
of the player this is the region this is
the champion they play their two
summoner spells and then these are the
six different items that they used and
right here are the runes that they use
and with this data my I send this to my
app and my app will be able to update
the page and just run this one more time
for you guys
it prints out a different person every
time with a different thing this guy's
fallen bandit he's doing Cassiopeia and
that's how the program works so it does
this all for me and I have it run so it
runs every day at 1:00 p.m. that way I
don't have to bother with updating it
manually I just have my program and it's
thought this is pretty cool so I want to
show this with you if you guys have any
questions about how this works let me
know I'd be happy to answer I'm gonna
put this code on github so you're gonna
check it out I'll leave in link to the
description below with how to get on
github and also linked to the League of
Legends API page it's gonna check that
out so thanks for watching guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>