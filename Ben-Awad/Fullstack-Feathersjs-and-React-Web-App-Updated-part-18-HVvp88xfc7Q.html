<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fullstack Feathersjs and React Web App Updated - part 18 | Coder Coacher - Coaching Coders</title><meta content="Fullstack Feathersjs and React Web App Updated - part 18 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fullstack Feathersjs and React Web App Updated - part 18</b></h2><h5 class="post__date">2017-05-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HVvp88xfc7Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright welcome back guys so I went
through and I changed the whole
organization of everything so now I'm
just going to go in and brute force go
through each heir figure out what's
there is happening and then fix it and
make everything work so I just started
up the server deck start this and first
thing I'm getting is module not found
recipe card and I recipes so let's go to
my recipes looks like we're fetching
first office here doing that in the
constructor content will mount so let's
change that put that there
don't need that and then we should be
getting this from where we should be
getting this from out of the component
it's right components ok so ok now we
get no error here next you can check
console should be stuck and there's not
so nothing is rendering so we have we
should have a card group so if we're
going to react it'll show me what I
waiting for route to load ok that's kind
of interesting not sure what that's
about I don't know if it's route so we
should actually we should be going to
home this home component should be
mounting so what I like to do maybe it
doesn't like what I think I'll do is
instead of using index route first you
use regular route
put the path double-quotes see you if
that changes anything here I don't think
the server refresh okay here we go
cannot read properly listen up undefined
and sink Jess sink history store ok so
that's interesting
possibly history is undefined here so
export contest er II that's fine
history oops here store render route
provides so what we can do this console
dot log store and make sure that's
defined has been defeated here please
update your code effects okay so who
knows what the heck is causing this
instead of doing routes here what I'll
do is I'll turn h1 say hello so let's
see if that is rendering okay so that
won't even render so just the so that
means something is wrong with our store
so let's fix that so we're getting the
rear reducer and the route saga here so
that means there could be something
wrong with our modules our index module
here because the combined reducers
reduce your route saga could be
something wrong with our route saga
to test this what I'm going to do is I'm
just not going to apply it and see if we
work so it must mount
so comment that out and let's see if hi
shows up if hi shows up then we know
it's not our saga so it looks like it's
just our root reducer something's messed
up because let me see a condyle that guy
- yep
don't you path just look at the root
producer so we're combining the reducer
so we're getting root reducer from react
router Redux router reducer routing that
looks good I wonder if it's some of
these messing up so what I'll do is I
will comment those out okay alright
possibly routing causing the problem
here
unexpected routing state to be available
as either state dot routing or a custom
expression ensure you have added this
not sure what that is about but we need
a reducer here I'll just do dummy
reducer which is Bob state and default
state is that why is that read though Oh
must be spaced okay expected routing
state to be provided as either
oops so our store here sink is that the
problem alright so that is the problem
that we're getting so something is wrong
with browser history inter store route
to reducer and oh you know what you know
it probably is probably react routers
using different terminology now so we're
actually just going to go to react
router go to their Docs and we're going
to update this that's probably what it
is so let's see how they add it to redux
so we're doing the web version and redux
integration we're going to part of the
ecosystem so before after react router
dom which we're not using
we need to do it like this then this is
kind of different currency there's
another example because we don't
this looks like it's connecting this
looks like something else this is not
how I want to connect the reducer or
with redux yeah this is what I want to
do so we apply the middleware router
reducer so react router Redux so here
react router redux we get the router
reducer so uncomment that we call it
rowdy oh we call it router huh I wonder
if router routing was causing the
problem we call it router passing the
route reducer which we get from here or
the router reducer putting our combined
reducer then we create the store
middleware do we need a drought or
middleware may be provider provide the
store create history I don't see the
sync thing that I was doing maybe I
don't have to do the sync
ah so okay so let's let's update our
stuff so store over here let's not do
the sync stuff will do connected router
connected router
huh that's what this history is doing
connected router instead of a router I
soon connected router and then we get
rid of router here looks good no I think
we no longer have to sync with the store
we can run that what's our store looking
like sync with history no longer need
browser history no longer read we will
be putting that back shortly
all right hello is rendering now to add
the saga middleware back now what we
know that was not what was causing the
problem let that refresh here make sure
it still says hello awesome you come
back to our index our module index first
uncommon all the loops uncomment those
let refresh make sure it still looks
good and then if that does look good
we'll put routes back here okay that
looks good routes back okay now off is
not a function index I'm assuming that's
going to be author acquired here so
that's going to be dink maybe this guy
was causing a problem I'm going to see
me check off if user has own property
I'm curious what's causing the auth
react composite component goes home on
home you action we shouldn't we should
be rendering home and to make sure we
are
okay so we should be trying to render
this guy right here so I'm going to
console.log home let's make sure we're
going to that okay so we don't even make
it to that component yet so it could be
a problem with a router right here could
be this connected router causing
problems possibly and based on here so
what I will try is is to comment out all
those so now the only thing we're
showing is the home rail can be property
route of undefined
what is undefined you
do I need that inductor out back
possibly because I was not was causing
it okay interesting Oh from our home so
here we will export default home looks
good recipe list
should we get firm recipe card export
default recipe card export default both
of those look like they're good so I
wonder where this is coming from
expected a string or clasp check render
method of stateless component you like
v4 out to explore your components files
to find check your code so view you were
getting from here maybe it's coming from
recipe list looks like it just hat is
having trouble getting home for some
reason so home which we're getting from
this home folder here component home
we're grabbing it from index connecting
M that looks fine view
could it be the routes itself maybe this
whole route so the test this what I'm
going to do is instead of doing routes
here I'm going to import home from
routes home I'm just going to try
rendering a home here okay requests
recent recipes is not a function so home
requests recent recipes requests recent
recipes so let's see what we're supposed
to call that's going to be in our recipe
actions request request recent recipes
also spelled something wrong request
recent recipes oops
request reason recipes Equestria recipes
so we can do now is we can console dot
log stop props so let's see what the
props I looking like and the props are
we're only getting recipes so for
whatever reason this is not working
request huh see I did user there that
should be recipe that's problem just a
typo there now if we refresh okay now
we're able to call it home is being
called that looks good
so that tells me there is a problem with
this right here this has a problem
because notice how that was able to
render but as soon as I change this
throughout we now have a problem we get
area we were getting before and before
we deal with that let me just we don't
need to print the props out we don't
burn home or worry about this junk after
we try rendering the route so now now
we're going to play with Ralph and see
what's wrong with this thing so it's
almost like this is not getting returned
even though this looks right unless
they're doing something silly and it's
not hitting me this looks right
connected router looks right this video
is getting quite long also so I think
I'm going to stop here and figure out
what is wrong with this router and the
next video that's what Vic's so see you
guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>