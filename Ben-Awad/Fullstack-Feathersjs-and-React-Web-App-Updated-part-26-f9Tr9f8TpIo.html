<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fullstack Feathersjs and React Web App Updated - part 26 | Coder Coacher - Coaching Coders</title><meta content="Fullstack Feathersjs and React Web App Updated - part 26 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fullstack Feathersjs and React Web App Updated - part 26</b></h2><h5 class="post__date">2017-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/f9Tr9f8TpIo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome back so in this
video I want to just go through the
application make sure everything is
working because we are pretty much done
with adding the functionality and
reorganizing things to get to basically
be the same thing it was before so if
you look on different ones looks like
that's working just fine and it renders
now on you can add recipes and I'll show
up ABC and if I come to the home page I
see hello here I go to Tim I see my
hello here so cool so that's like it's
good um
logout notice how it stays on this stage
so that's something we want to redirect
them after they log out to the main page
so that's in easy fix if we go to the
nav bar here you know to logout and just
add uh link and we're just going to go
to the home page after we're done
and then there's another problem that I
noticed two problems actually all this
reload so notice how we implement this
next thing I do
Tim Tim notice how it doesn't take me to
the profile page even though it should
have that's one problem we'll address
but now if I log out okay it took me
here but I should actually do this
online the other page to see if it
redirects correctly so we're on profiles
now I log out cool redirects me
correctly but notice how if I'm on log
then 10 10 um it shows my ID here but if
i refresh the page notice how we're not
doing any type of request to see if the
user is logged in on the homepage
because we're not doing that on we're
not showing anything here so when I
click this I click this there sorry not
that address key for example we're
logged in it just doesn't show it on
this main page because we're not
fetching the user so we're going to fix
those two errors too so I'm thinking
with the nav bar for example when I here
it looks like I'm grabbing the user it's
just on the home page basically we want
to do auth I'm going to copy all I'm
going to paste it just rename it and do
get user and all this does is it's going
to request off and it's not going to
redirect after log login
so it will actually do nothing on the
redirect and we will always show the
user or sorry the component so we don't
need to get the user actually in here
all right cool now we can do ad get user
um oops and one of our routes just
around home
so that we get user get user I guess we
should underscore this or sorry not
capitalize it because it is not a just a
function Oh unexpected token so if we go
back to get user you can call this a
user there too so now if i refresh it
shows Tim here cool so then the last
thing that we want to fix is the next I
notice how we actually should have the
next should have been working if I go
into a login page notice how we are
using the location query but actually
what I found out is and the new version
of react router they actually removed
query you have to actually do it
yourself so fall out we're basically
going to follow the Stack Overflow
recommends we're going to install this
query string library then what we do is
we parse this and then what we can do is
we can get for example foo for us it's
going to be next
so coming over here I'm going to yarn
add query string and then import query
string from query string and we're going
to do props location dot search on new
URL search parse oh you can also use if
you want something native up I mean why
don't we use native if it has
functionality my bad guys I thought we
could just use library but I'm going to
yarn remove query string we actually
don't need anymore
assuming this does work so here we go so
grams the search will be this type probs
dot location dot search and then we want
to get next
and now let's consult to make sure next
looks good see what we're getting from
that ok I expect your console cannot
read a clear scoped variable what's
happening here trailing space over there
and I'm assuming it doesn't know where
that's defined ok so if I come back here
I'll log out but now I try to access for
example recipes add some now when I log
in here I should be taken to that page
and I'm going to preserve the log here
so when I log in we can see what next is
equal to and up looks like it parsed it
correctly cool but let's make sure it
also works if I just want to login and
there is no next and cool that is
working quite nicely now so that is it
for the upgrade guys now I am not done
though the library or not what I really
the project is still there's some things
I'm going to fix up but we're done with
the functionality but then actually what
I'm going to be doing is again getting
these to look better I'm going to get
the on clicks for these instead of using
links same for these here and also I'm
going to link the whole project and just
make sure everything is looking good so
nothing is really necessary from this
point on it's me just basically cleaning
up the code if you want to see that
that's going to be happening in the next
video and also convert everything to
peer functions this is basically
cleaning up the code and I think I'm
going to clean up the actions too
because there's a crapload of actions
and they're poorly named from what I did
earlier and I want to rename them in a
more consistent manner and show you guys
how I like to do that so I'm just going
to clean up basically the whole project
now I reorganize it in the way I like it
so now I'm just going to basically go
through and clean it so now we have that
same functionality with the new upgraded
libraries so yep that's it for this
video and that's what we're doing the
next one I'll see you guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>