<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React GraphQL with Apollo part 5 | Coder Coacher - Coaching Coders</title><meta content="React GraphQL with Apollo part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React GraphQL with Apollo part 5</b></h2><h5 class="post__date">2017-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nY-UjMczkjM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome back in this
video we're going to be working on the
sign up page because we would like to
create secret burritos before we can
actually do that we need to log in
before we even login we need to be able
to create users so let's go ahead and go
into the sign up component and start
working on that so for this we're just
going to create a very basic form button
and form component from symantec you I
um we're import browser history that way
we can redirect them after they sign up
rach router and import graph ql so let
us make our request and because there's
only one there's only one mutation that
we're going to do here we don't need to
use a compose function graph you'll tag
okay what we do need to put export
default down here again page all right
now let's go into our render function so
we're going to be creating a form with a
non submit go to handle submit close the
form and then our farm going to put a
field close the field create a label
just be the email or the user name if
they wish Lincoln input name is equal to
user name on change
if you're going to be using forms in a
real application i recommend redux ones
i think this is small application we're
just going to do it this way you got
target value and i need to actually
create a constructor now and add tab
this over add a state so just loves
state the username and placeholder i'm
calling a username and email it doesn't
really matter and we can close it off
here so i will come back up here and
create the state so constructor props
super props this top state is equal to
user name and also password and this by
handle submit is equal to this handles
and a top find and handle submit or
about fat function after we finish
filling out our component okay so we got
the input for our email you just copy
this field and do basically the same
thing for password okay i should change
your name password I'm very changing
password field and our state password
here please older password and we're
going to set the type the password so it
hides what they type close the fuel off
and as a bottom while the button that
allows us to submit
sign up but all right so that is our
form see if it rendered awesome it won't
actually do anything yet when we click
Submit and what we like to do is we'd
like to do is to sign up with a graph ql
mutation so mutation sign up email with
whatever the email is and password
whatever password they pass in so you
can copy that and we can create a
mutation down here comes sign up
mutation and we're going to paste that
it now this does not work just how the
box because we would like to put in what
we basically want to use sign up as a
variable so whatever you know whether
the input into the form we would like to
put into our mutation here so what we
have to do is we need mutation there of
course is allow variable and now to do
variables you have to start with a
dollar sign and in the name of your
variable and then the type so we need to
create two password and email string
oops and then inside here we can then do
dollar sign email dollar sign email and
dollar sign password the password
so now we can actually when we actually
create our mutation below here or create
the prop for a mutation will pass and
variables that will go here and here so
calm sign up is equal to graph ql sign
up mutation comma good prop props and
then i want to do it like this you tape
just like the other one and then in here
this again whatever name you put right
here i'm using a sign up this will be in
your prop and for this one we want to
actually pass in a username or an email
and password and then we're going to
mutate and when we mutate now we need to
pass and the variables so variables
email call a password and notice how the
name here matches the name and our
mutation that's very important so they
line up and then after our mutation we
can got then and then rip remote
ignoring the results and then we browser
history dot push and we go into the
login page where you can then log in now
this was an actual application you want
to not of course not ignore the return
from the server see if you actually put
a valid username password and check that
sort of thing but this is fine for
demonstration purposes okay so now we
just need to call it on our component
so we wrap it like that and now we can
access the props so if we actually can
do something for our handle submit here
we can say this stop props dot sign up
and call that mutation passing in a this
data user name and this spot state
password you got prevent default and
this dot set state and then we'll just
reset the form and password okay so that
is working quite nicely so now I'm going
to come back over here looks like i have
a syntax error foots going on here found
name string respected colon looks like i
have a syntax error here mutation email
over my password so make sure you use
coal in here now if we come back over
here okay it renders nicely i'm going to
use bob for my email bob for my password
we're going to sign up login it looks
like everything works we can go back to
our interactive query right here and
actually check if it worked by logging
in now email i gave this bob pass where
I gave was also thought we run that and
notice it gives us a token so we
successfully created a user named box
alright so the sign up page is all done
next we want to implement logging in the
login page which we'll do in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>