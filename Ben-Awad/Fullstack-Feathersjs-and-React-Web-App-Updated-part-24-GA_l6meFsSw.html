<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fullstack Feathersjs and React Web App Updated - part 24 | Coder Coacher - Coaching Coders</title><meta content="Fullstack Feathersjs and React Web App Updated - part 24 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fullstack Feathersjs and React Web App Updated - part 24</b></h2><h5 class="post__date">2017-06-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GA_l6meFsSw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome back so in our
original react mini monkey we were
sorting by the created at date and
currently we don't have that field and
so that's something we actually need to
change in our database and on a database
our server so to do that we're going to
do feathers generate hook and this
little I'm going to call this add
created at this will be a before hook
for recipes and that's going to when we
create it
so then source hooks starting to hook
services recipes now actually it is
hooks add a create just look different
than I thought was going to and this is
going to be very simple it will just be
hooked
dot data equal to hook data or do object
op sign what this does is is just copies
basically data and adds a new attribute
to it and actually what am i doing I'm
going to fancy for no reason dot created
at is equal to new date and that's it to
start server back up now when I create
an object with this we should see that
so call it r1 it's going to have the
same image here a1 a2 stuff submit and
consul and looks like we're just not
oh we're not transitioning to the next
page where you bet that miss I get um
and we see owner ID and create it at and
now we can sort by that but so our one
should become before that so what we can
do is in our home page here we can add a
query and the query it's going to be the
same thing it's going to be this and I
guess I think I just can add spaces
oh it doesn't need to be quoted cool
space maybe yeah so now I'm thinking yep
and now our one you'll notice is before
a perfect so that's being sorted
so remember address piece that should be
going to the next page so add recipe
this guy so we're going to create a
redirect function and we're going to do
this top prompts dot history dot push
and we will push I guess after we're
done we want to go to the actual single
page so we're going to view and pass in
the idea here we want to go to at this /
view / passing the ID and of course
we'll up data here again and oops / view
ID let's make sure / view it was / for
you all right so that looks good now I
actually need to get that to work so
that'll be where would that be
request address P will be in saga and
I'll be right here so after we're done
adding the recipe it can redirect so
payload we need to expand we get
redirect we get data we'll pass the data
into our function and then will redirect
response
got ID and I think their ID is
underscored and I want to make sure I'm
just returning it here so this will be
your recipe yeah okay so if I go to the
API and I yep create on returning
awesome so now we should go to that view
page and single recipe this guy right
here and the one requesting is of this
ID so now we can do a query just like we
did with the other one so oops other way
if I come down here this is the query
I'd want to do fetch my recipes which
area query and I can just write it out
query oops
so we want the ID to match the ID and we
want to limit it to one okay and then
request recipe will then go to not the
user saga but this this will be fetch
recipe call recipe and I think I am I
handling in the reducer
yep I'm handling the reducer that's your
a converting it over okay so if I click
on this I'll push is not defined we'll
worry about that in a second first let's
make sure this redirects now give our
name our two
ABC submit and we submit and now we go
to this page but we have a problem
can I read press PID of undefined recipe
capital ID where we doing recipe capital
ID Oh should be passing recipe there to
add recipe succeeded and risk p6o recipe
fetch done I have some really bad name
we're going to fix the naming fetch
recipe done pitch recipe done okay
that's we'll pass back to the reducer I
write in recipe RS PID right here
oh so this is params we're not getting
I'm assuming because I need to do the
same thing in the index here with the
render so render props but the dot props
all right now refresh let's see if this
page looks good okay rest PID is still
undefined so let's go to come back here
come back to the single view
oh this should be on component will
mount that's not the main problem
that's one of the problems though it
won't actually cause a problem but and
do console dot log is stop props let's
see what the props are on this puppy
because we you basically want to be able
to get this ID so it's no longer params
location path name match match params
okay you put match first we go
now this can reset loading so when do we
stop showing loading if has own property
name I guess we can just see the
property of here loading react see must
be crispy up it's empty
okay so cur SP is not being filled so a
reducer cur SP is get recipe fetch done
API that's what that's doing saga call
fetch recipe recipe fetch requested when
it is recipe fetch requested recipe what
am i requesting I'm in calling request
recipe request recipe recipe fetch
requested recipe fetch requested yep
calls this here
so let's do console that log here and
then let's see what the recipe returned
is it might it might have to do like a
dot data on it or something I'm thinking
so it's an object tip and I just need to
do data so recipe data there we go um
same thing I notice that it was empty
though so that could be a problem limit
to one but we're not finding anything
okay let's go back here so we're doing
ID this uh props recipe ID and now
console.log to make sure this dog props
that matched up Rams recipe ID let's see
what the value of that is should expect
it to be that and it is so that's very
weird that the find is not working and
fine as we're hearing for the other one
so it's literally just the underscore ID
I thought I'm pretty sure it's
underscore ID this the ID field I don't
think this will fix it it doesn't fix it
but if I go here I can find it right so
like this 590 I expect his ID to equal
that so if I go here recipes we get 597
see yep 7c underscore ID so
we're querying and we're trying to find
one that's equal to if we're not able to
interesting I'm wondering if something's
being typed and wrong possibly let's fix
this link real quick so card espy card
on click yeah let's do a link for now I
hope that doesn't make it look too ugly
then we'll come and fix it later because
it's harder to get browser history now
it's hard to get that to work how we
want it to and to pass we have to like
pass it down through the props or
something which I might end up doing but
here we go so / view / dollar sign
underscore ID and this is all read why
is it all red Oh
because needs of your app like that and
then link area and now we don't need
oddly unterminated
what does it mean by that okay so it
mess up the rendering a little bit but
if I click takes me here okay I'll shut
out the key prop key I yeah all right so
this is not fixing it all so we should
set the key as the ID here all right so
yeah I'm not sure why the find is not
working so I'm going to end it here
figure out why the find is broken in the
next video we will get this working so
thank you guys for watching and I'll see
in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>