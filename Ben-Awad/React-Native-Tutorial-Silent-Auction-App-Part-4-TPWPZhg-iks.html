<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native Tutorial - Silent Auction App Part 4 | Coder Coacher - Coaching Coders</title><meta content="React Native Tutorial - Silent Auction App Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native Tutorial - Silent Auction App Part 4</b></h2><h5 class="post__date">2017-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TPWPZhg-iks" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys in this video we're going
to be adding a new hook that way we
prevent users from under bidding or
doing a bit that's lower than the
current price so also the current price
is twenty dollars right now we can
currently go set the current price to
Ted we don't want to do that so the
mechanism we're going to use to stop
this from happening is whatever number
they put here we're going to go fetch
the current price and we're just going
to add the current price here to the
value so you're always above what the
current auction price is so we're going
to do feathers generate hook dad this
new hook that we're in it create I call
it place bid is we're going to be a
before hook and it's going to be on the
auction service and this happens when we
patch so I'm going to come over here to
our project and i'm going to replace bed
so now what I'm going to do because i'm
going to say hook tapped up service and
i may get the auction service and now
what I want to do is I want to get the
auction that we're going to be updating
so if I could hook the ID hook the ID
maps to the ID value of the oxygen that
we're updating so that I'll get us the
auction and then all you want to do is
grab its current price so comp price is
equal to auction data values and then
current price and now oops missed all
that we want to parse float because it
comes back believe it comes back as a
string and we want to do some edition
with it and so now we're going to modify
our hook data that current price is
equal to price plus
parsefloat hook data current price so
host data that current price is the
price that they pass in that would be
like the ten dollars here and then the
price that we're grabbing is like this
value here so we're adding those two
together so if someone made a post
request or pat request and they did that
we would then make it thirty dollars and
then we return hook so I'm going to
start that and see if that works and
p.m. start okay so I get the option
currently twenty dollars so then if I
update it with ten dollars we should
expect it to bump 30 and can every
proper you get about defined so let's
see ms index here and we get up I've
defined and this should be auctioned not
auction because the service is plural so
let's throw that again and awesome the
current price is now thirty dollars so
now let's say you here's another thing I
could call this problem say I did for
negative forty five dollars right now
the negative current price so we don't
want that so one way we can go about
doing that and we can place that logic
here as we can say we only want to
update the bid is greater than zero so
we can either throw an error if we want
to or we can pretend it's zero and I
think for for now so if they place a
negative one we could just say their
current we could just say they take the
current price but it makes more sense to
throw an error I think yeah
so to throw an air could just grab that
feather chef air they have a special way
of how they like to throw errors so if
we come back over here we can do x i'm
going to copy this remove this over here
we're just going to your comp arish
require feathers earth and air we'd like
to throw is this seems good bad request
validation errors so we're going to do
this before we even do that part of our
hook where we add it so now we're going
to say if we're going to parsefloat
again hook dot data current price so
that will night fest in is less than say
because 0 doesn't work either I'll say
less than 0 well that's just fine we'll
check it like this is less than or equal
to 0 we'll throw this air
throw new airs too bad request and valid
current price actually we're fine same
parameters I guess because we say
current price here has to be greater or
equal to 0 okay so now we should throw
an air just over here let's see what we
did wrong on visiting initializer and
cons there we go need to put an equal
sign ok so the server starts up now so
now I should get an error when I patch
this and we do awesome so now when I do
1313 again it was every time I bid the
price goes up ok very nice so now we can
place bids and I think that's pretty
much is we're going to stop working on
the back end I think it's at a pretty
good place where it's all begin log in
Korea users create auctions update
options I think our back-end is just
about complete we might make some
changes as we start the app but in the
next video we're going to start setting
up our app and use this server and if
you have trouble following at all
through this because I no feathers yes
chemical will weird at first all the
code will be put on github if you look
in the description below have a link to
the github so you can look at what the
code is and you can see if your stickers
if yours is it not working so thank you
guys for watching and start making the
map in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>