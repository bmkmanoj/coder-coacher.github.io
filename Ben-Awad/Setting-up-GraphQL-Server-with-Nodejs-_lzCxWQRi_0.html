<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setting up GraphQL Server with Node.js | Coder Coacher - Coaching Coders</title><meta content="Setting up GraphQL Server with Node.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setting up GraphQL Server with Node.js</b></h2><h5 class="post__date">2017-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_lzCxWQRi_0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys we're gonna be starting our
server for our slack clone and we're
gonna be using Apollo server express
which allows us to use graph QL and
Express to create a server we're also
going to be using Babel this allows us
to get some really nice JavaScript
syntax that is new like import or a sink
and a weight and then we're also gonna
set up yes lint this is an optional
thing you don't have to add this tears
if you don't want to but I like having
my code making sure it's proper and
following good standard and I prefer
Airbnb and then we're also gonna set up
no demon now no demon let's see whenever
you make a change in your code it
automatically will restart the server so
it's faster in development so we're
gonna set all those stuff up right now
so we're gonna start with Babel I'm
gonna hop on over to the command line
and just say make directory and I'm
gonna create a slack clone server folder
so I'm a CD into that and initialize an
NPM project and I accept all the
defaults with the - y command there so
now I'm gonna go ahead and install Babel
so I'm gonna say
yarn add and these are dev dependencies
and you notice I've done this before so
I have he's highlighted so we're gonna
get no demon babel CLI new demons i was
just talking to you about and the babel
CLI will allow us to do the syntax and
then we're picking the two things that
we want so babel preset in and babel
preset stage 3 gives us two different
chunks of JavaScript syntax this guy
will gave us a sink a sink and a weight
and I believe it also has the object
spread syntax and this gives us import
as well so we'll install those and then
what we're gonna do is set up Babel and
then eslint
now this is not required you could set
up your code without it
I'm gonna go ahead and open up this
folder in Visual Studio code you can use
any text editor you like babbles not
required but I prefer coding JavaScript
with the newer syntax so I'm gonna go
ahead and create an index table GS
folder this is gonna be our file I mean
and this is we're gonna be the start of
our server and I'm also going to create
a babel RC folder so this is the
configuration for babel and we'll put
presets and here I list all the ones
that I'd like to use so in stage 3 and
then we're good and then in my package
JSON I'm gonna create a script so I'm
gonna create a start script so whenever
I run NPM start it's gonna call this
command for me we're gonna call node
demon which we just installed and we're
gonna execute babel node so what that
means is we're gonna call the babel node
command whenever whenever no demon
restarts it calls babel node and then we
want to call the index j s file and
that's it so we have babel setup and no
demon so whenever I make changes in my
editor it'll go ahead and restart the
server and I'm gonna be getting the
syntax that I want to use with Babel
node so now in here I can use import
from as opposed to require ok so let's
set up yes let next so if you don't have
s linked globally like me so I can just
run es lint on it if you don't have that
you can go ahead and say npm i - g and
say yes lint and i think it's excellent
or maybe it yes let's see l i can't
remember but once you have that
installed you're gonna run es linen it
and then go ahead install i like to use
a popular style guide and an airbnb and
there's gonna be no react for this
application and I'll take a Java Script
for the format now because Airbnb is
having basically dependency problems
that don't match up you have to run
one more command to get this set up and
working because not the right versions
of those get installed so here is this
page and I'll link this page in
description below are the different
commands you need to run I'm gonna go
ahead and run this one because I'm on
links or I'm on OS X and so when this is
done I'm gonna run that command here so
go ahead and run bash I'm on using fish
fish shell so I need to use bash here in
front and I'll go ahead and install it
yes lint and then I'll have whenever I
typing stuff out
yes lint I have configured with my
editor so I can see when I'm doing stuff
wrong and making sure I'm following the
Airbnb style guide so I'm gonna bring my
co-editor next to Chrome over here
because we're gonna be grabbing stuff
from Apollo data so now that we have all
the tooling set up we can go ahead and
start our server so I am in index j 8
now and I'm just gonna go ahead and copy
this so this is the starting code for
Express and I'm gonna run this on port
8080 so I'm gonna go ahead and get rid
of that variable and type 8080 here and
let's go ahead and say constants Ted of
our and I'm gonna save that and so we
just added three things here Express
body parser and Palo Server Express so
let's go ahead and install those and
these are regular dependencies so yarn
add Apollo Express was a Apollo server
express yep Apollo Server Express
express and embody parser so now we have
those dependencies and here's what it
looks like you'll notice we are missing
some things though I do not have a
schema so that's the next thing we need
to add if I come on over here we can see
there's documentation on setting up a
schema I'm gonna go ahead and right
click over here and create a schema yes
and also resolvers there's always such
yes so schema is a graph QL thing this
is where you define all your types and
whatnot so I'm gonna say type query and
I'm just gonna say hi and we're gonna
return a string and then enter my
resolvers over here I'm gonna empower
export default an object and my resolver
should match my schema so my schema here
I have a query and then I have higher so
I should have an object here that says
query and then I should have high here
and now here this should be a function
that accepts some arguments which will
be parent args context and an info
I don't not going to use any of those in
here and I'm just gonna say hi back and
we're gonna go ahead and save that
and now if we start up the server if we
didn't make any problems we should be
able to just run this but we won't be
able to do anything right because we
haven't added graphical which we'll talk
about in a second so I'm gonna say we'll
say yarn start the startup no daemon and
now you'll notice what it says is it's
watching star dot star okay we need to
also install graph QL so whenever you
notice how I made an error right here I
can go ahead and install so if I just
click ctrl and then tilde it opens up a
little terminal shell here and I can say
yarn
to graph QL and when this package gets
fetched and downloaded this will
actually automatically restart we can
see it yep see Alice's restarting do two
changes and then here it just says it
doesn't recognize my schema and that's
because I forgot to import it so import
schema from schema and we can call this
type deaths and we can import because
what we're gonna be using is graph tools
oh we haven't we haven't installed that
yet either so we need to make our schema
executable so again I can open up my
thing here and do yarn add graph QL
tools and then we can let that run and
then I'm gonna import resolvers from dot
slash resolvers and then we can copy
this paste it here and then we don't
need to be side by side anymore so this
is what we have we're grabbing our
schema and resolvers which we just
created from these two here then we're
making it executable which just
basically combines them together and
then we're creating this one endpoint
graph QL and we're handling that here
and now you'll notice how it has my
graph QL schema here we want to pass in
our schema that we just created so just
like that and now we should see all the
errors go away and this sometimes
happens with no daemon where you'll get
listen something's already listening on
that port
I just restart it and sometimes I
actually have something else you hang on
that port so we can go ahead and just
change this to 80 81 if you get that
that means either you have something
else running on that port or no daemon
sometimes it gets messed up okay
so this looks like it's running okay now
now I want to test out and make sure my
graph QL is all wired up and actually
make sure that it has started up and
everything so what I can do is I can
create another route which is called
graphical express so I can go ahead and
copy this and we're gonna call this an I
instead of that and I don't think we
need body parser and we say graphical
Express and then here we say endpoint
URL which is gonna be slash graph QL so
we're basically just telling graphical
what our graph QL endpoint is which is
should be the same thing here so we
could do is say Const graph QL endpoint
is equal to slash graphic you L this is
just a good practice in case we ever
change what our endpoints gonna be that
we don't have to change it here so graph
QL endpoint and now we can go ahead and
run that graph QL if we made no errors
and see it so I'm gonna go to 8081
and we should go to slash graphical and
you'll notice we get this little window
here which means it worked and I can see
my documentation I could see my little
high and I can run high here and we get
high back so awesome everything is set
up and working so that is it for this
video in the next video what we setting
up is Postgres sequel and starting to
create some of the models for our slack
clone so thank you guys for watching and
the link in description below we'll have
the code for this video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>