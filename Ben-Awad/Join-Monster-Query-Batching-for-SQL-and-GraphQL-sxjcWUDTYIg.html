<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Join Monster - Query Batching for SQL and GraphQL | Coder Coacher - Coaching Coders</title><meta content="Join Monster - Query Batching for SQL and GraphQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Join Monster - Query Batching for SQL and GraphQL</b></h2><h5 class="post__date">2017-07-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sxjcWUDTYIg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I want to show you join monster
this is a library that someone in a
youtube comment actually pointed out to
me to say go check this out and I saw up
for the first time maybe a week ago and
I just absolutely loved it so I'm going
to make a quick video telling you what
this is just bringing some awareness to
it because I think it's a really cool
library that helps a lot graph QL so
it's called join monster what this does
the batches request for you now this is
specific to graph QL and what it does is
takes a graph QL query like so and then
turns into sequel and not only when it
turns into sequel it'll combine
statements into one so instead of
fetching all the posts in each post
selecting comments having multiple
sequel queries it does it all in one by
using joins and whatnot so it can be and
then it just returned to data so here's
the whole readme
I recommend coming and checking this out
and reading more about what I'm going to
do is they have this quick demo if you
go to an example repo you can check it
out here I recommend coming to check
this out and playing with it for
yourself and here's the big thing it
only selects the fields that you need
from the query this is big so here I am
here I'm going to select a user and I'm
just going to ask for the ID and and it
is required
let me see users scrap the users they're
real and here it will show you access
equal that it's executing so he knows
how I only want the ID so the sequel
here it's only getting the ID but then
if I want more stuff
num legs I have no idea what that is I'm
you know notice how the sequel query
expands and this can be more advanced
too so for example if here we want to
get a different type it'll actually add
a joint so if we go to use it with you
may be comments
so if we do comments here and get the ID
now notice that the sequel query has
become a left join for comments and
grabs those and it grabs ID but it only
does that if I'm asking good idea right
there for comments I will do the joint
so it's super powerful it's not wasting
usage of with your sequel query so it's
super sweet and that's pretty much all
there is to it now I wanted to show you
kind of what the code looks like to like
get this configuration code so I have a
schema right here of a application that
I'm working on and right here I have a
suggestion and board these are two types
the board here has suggestions and these
are two different tables so my models
here a tradition and a board so in my
resolver I have something called
all boards where I get all the boards
and you can see this is all the code for
the resolver on looing is to kalonzo
monster and it's during sequel and I
take the sequel and I execute it now to
like tell join monster how to do this I
create this joint monster metadata so it
Maps the query fields directly over to
sequel unless you tell it otherwise for
example suggestions we need to do an
inner join so to tell it whenever we get
suggestions from board to do join you
have you see right here I'm doing sequel
join and then I'm saying the board ID
and the suggestion table or the board
table and the discussion table to like
match these up and do the join next oh
that's all I have to do to configure
this and then suggestion here you give
the unique key and now but that allows
me to do is here is what it looks like I
can go ahead and run this and if I come
over here to terminal you can see it
scroll to the bottom I'm doing the left
joint on suggestions but if I get rid of
suggestions I'm now not know long
we join so only here's the code for it
no joint so you I'm only doing it for
the fields that I need this is big big
stuff and I'm actually using a pile of
data so my example here looks a little
bit different then you'll see the joy
monster by default they're using this
graph QL the default graph QL package
but if you just do Google join monster
Apollo data there's actually a issue
about it and you'll find that there is
this joy monster graph QL tool adapter
that I use and this allows me to use it
with Apollo data so I am using this with
my new projects now because this is just
big saves a lot of time for the database
it's quicker to actually get stuff up
and running it not only makes queries
run faster but they're more efficient
this is huge i am welding the library so
far so i highly recommend you come check
it out i am going to give a more
detailed example of how to add this to
your project in a future video i'm going
to walk you through setting this up as
you can see how i have it here and give
more examples on how you would go about
doing that because i think this is a
very cool library highly recommend
checking it out so that's it for this
video guys thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>