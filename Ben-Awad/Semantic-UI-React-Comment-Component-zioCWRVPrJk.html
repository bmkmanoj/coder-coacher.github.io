<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Semantic UI React Comment Component | Coder Coacher - Coaching Coders</title><meta content="Semantic UI React Comment Component - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Semantic UI React Comment Component</b></h2><h5 class="post__date">2017-11-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zioCWRVPrJk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys we're gonna work on fetching
our messages and then displaying them as
comments so the first thing we're gonna
do is actually get our query working so
that's on our back-end over here we have
a messages query now for this we just
want to return the messages for that
channel which is pass this as an
argument so here's the channel ID so
we're gonna use that to fetch so we're
going to say models dot find all and
here we are gonna pass in our channel ID
which is an argument so channel ID and
we're going to say if we look at our
message over here we can see that it has
a one-to-many relationship with channels
and we actually just used the name
channel ID for a foreign key so we can
just search for channel ID and then I'm
gonna make this overall query and we
don't have to do anything really with
the user here we do need to make sure
the user is locked in though because
they shouldn't be seeing this screen if
they're not and actually the same thing
with create message so similar how we
did
oops our team I mean did requires off
we're gonna do that over here you're
probably seeing how handy it is to just
be able to add this around our functions
now so create resolver
and now we have off for that route oops
what'd I do wrong oh should go around
here area and same thing for this
function so choirs off create resolver
and put it down here awesome now we're
not finished yet because if we look at
our messages schema you notice how we
have one a channel but we're not gonna
use that channel right now so we're not
gonna worry about fetching that but also
a user so we actually need to fetch the
user as a separate statement kind of how
if we look at our teams see how we did a
separate team down here and then we
showed how to fetch the channels we can
copy that we're basically gonna do the
exact same thing with messages so here
paste that in so this time the type is a
message and what we want is a user now
you want the names to match up so
message that is the name of our type and
then here is user so we're gonna do user
here you know if with our team we did
lowercase channels so while we use the
type for this one here we do the name of
the property or the field so here we hit
an ID for our this is ID of our message
and we should have a relationship
between the user and the message to be
able to find the user so for us if we
look at all to see messages see how we
set this up so we have a user ID so
really we care about the user ID here so
I want to grab that from our message
and then we want to do a user and we
only need to find one right so we're
gonna say find one or the ID and this is
equal to user ID perfect so this should
fetch stuff let's see what happens and I
don't see anything here so I wonder if
we're getting there
nothing and we are so fine oh here we
need two models dot message there we go
and now we can see if we're getting any
other errors and looks like it started
up okay so we can do a refresh here
nothing's showing up here let's see on
our back-end another error cannot return
null for non knowable field message
created at so I'm thinking created at is
just underscored right now
so I'll show you what I mean by that so
this is an async function so I could say
cons messages is equal to a weight we're
just going to cost a lot log the
messages and then we're gonna return
messages
and why are we getting four oh because I
have an extra parentheses thank you
there we go there are so now we can see
what is inside our messages so let's run
this again so on our front end here
we're expecting the field to create a
tap with a camel case but if we come
over here let's see what the values look
like these should be raw values I put R
all is true Zuber all is true up here as
well they still look like objects notice
how created that didn't get changed for
us so this is kind of annoying but I
don't think we're using created at
anywhere else so I'm just gonna do a
quick map over our messages and just
change the naming conflict that we have
or you know what let's not change the
naming conflict in their schema let's do
it there so instead of having to map
over them and my message is schema I'm
gonna say create it has an underscore
this is like a bad tradition right
because everywhere else we're using
camel case but this saves us from having
to map here which would be annoying you
could choose to map over and change the
name of all of them but I think I'm just
going to try this and see if this works
so underscore app so let's see if we get
any problems with our server server seem
to built okay did a refresh and we fetch
everything okay so that looks fine I'm
gonna revert this back to the way it was
and return my thing will Auto format it
for me
I believe yep there we go and all I
wanted to do was make this into an arrow
function that returned this and not have
curly braces so now that works again
because we changed it to underscores and
we saw our message here so awesome and
let's see so we have an idea of one text
we said hi we can see our user name
perfect so now instead of just showing
the JSON data here I now want to grab
this comment card or this comment
component and use that so I'm gonna
import this from semantic UI so this is
gonna be yep it's gonna be right here
that we're gonna be using this stuff in
our message container you really only
care about the comment here and this is
gonna wrap messages it's gonna wrap all
around this and then we're gonna use a
comic group so comment doctor OOP and
we'll wrap our comments now here we're
gonna map through and create our
comments so i'ma say messages dot map
and for every message we will create a
comment so if we copy this we can see
this is how we create a comment now for
us we don't have a avatar so I'm just
gonna get rid of that here the author I
can put m dot user dot username metadata
for now we will show MDOT create it out
and then the text will do m dot text and
now when you're mapping through you
always have to put a key so the key will
do here is message and then we'll put in
that ID so it's unique and I'm actually
gonna put this at the front so ID -
message and I don't won't probably have
a reply we'll work on later let's take a
look at what this looks like okay that
looks okay I suppose it looks a lot
nicer over here when it has a little
blue icon here how's the lavatory at the
avatars oh look look how they nested
comments like that that's kind of cool
so I put a comment inside of a comment
to create like this little thread so
here are our messages I'm just going to
add a little bit of padding so it looks
nice so in our messages just to get off
the side I say padding left is 20 pixels
and padding right is 20 pixels and maybe
we'll do it slack does and we'll just
create a little avatar for you if you
don't have one but let's create another
message hello for very fresh all right
we can see here's hollow 4 it's at the
very bottom so that's good we're sorting
this correctly but it's good to make
sure to actually order this how we want
to so I'm gonna say order this is how
you order things and seek wise so you
and your fine doll you can pass as a
parameter or a prop order and then you
say what you want to order so for us
we're gonna order by created at okay so
come over here real quick we're gonna
say order we're gonna say created at and
we're gonna say ascending I actually
don't know if we wanted ascending or
descending
that's something left to play with I'm
not sure what it is considered ascending
and what's considered ascending four
times okay so we destroyed something Oh
for whatever reason you have to wrap
this with another array there we go okay
load it up okay nope something else I
did was wrong
column message does not exist okay so it
looks like graph to use the underscore
version here okay
so it looks good and it looks like it's
sorted it in the right order
perfect alright so the next thing that
we're gonna be working on is setting up
subscriptions making this thing
scrollable so if I have a lot of
messages like ABCD efg if i refresh this
notice how I have to scroll the whole
screen and when I scroll the whole
screen I don't see the teams anymore so
what we're gonna do is make a scroll
panel here we're also gonna make this
flow at the bottom and flow upward right
now you can see how it's kind of
floating from top to bottom we want to
flow from bottom to top and then we're
gonna start doing subscriptions because
right now when I type a message it
doesn't pop up here right away I have to
refresh the screen so the whole world
can't see my message until they refresh
so lot subscriptions so they don't have
to do that so that's it for this video
guys thanks for watching and as always
the code is
bond github
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>