<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vim Macros | Coder Coacher - Coaching Coders</title><meta content="Vim Macros - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vim Macros</b></h2><h5 class="post__date">2017-09-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3lmsPScLHb0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I want to talk about the macros
these are a super cool and really
powerful thing that you can do in them
now this allows you to pretty much
record any keystrokes or any combination
of things you're doing and then play it
back so I'm gonna first show you how it
works and then like kind of a real
example that I did the other day that I
thought was pretty neat so first how it
works is you start recording yourself
using the cue command so I type key
while I'm in normal mode and then I type
a letter so this is what the letter that
I want to save the macker to usually I
just do W and then as you can see at the
bottom here it says recording at W and
so what it's doing now is anything I
type it's recording and it can do it
again so I can say hi my name is Ben and
then I can drop to a new line and that
could be my recording so then I could
play it again and I can play it again
and if I wanted to I could have that
play ten times so I do ten and then I
just have it play and I'll just go and
run now and then it'll actually run
instantly I believe this is Visual
Studio code so it has I'm using the vim
extension so it's not perfect as you can
see you can kind of see it doing it and
I forgot to mention to finish recording
you at cue and then if I want to play
back my macro I do at and then the
keystroke that I saved it to so I saved
it to W okay so you kind of see what's
possible with this but literally I can
do anything
you saw let me just type a sentence
it'll record anything so I'm gonna
record another thing to the letter E so
what I want to do is I want to uppercase
the first letter and then I want to go
to the end of the sentence and add my
last name and then I'd like to go to the
next line and start over again okay so
I'm gonna record that and play it back
and now I can do this for the whole list
right and just have it go and do that so
that's pretty cool and as you can see I
did it 20 times so at the end
mess things up but you get the idea it's
really powerful you can do any good
recording of yourself doing it so I want
to show you example that came up the
other day when I was recording a video
so I wanted to have a big long list of
books and here's the title of the books
right here and basically just make a
JSON object of it so here is what the
data looks like that I just I pretty
much just looked on Google to find a
list of book names and I wanted to turn
this data into this nicely formatted and
JSON as you can see there's a lot wrong
one I need to go and add curly braces
and title and I need to add quotation
marks and I also need to get rid of this
the author name because I don't want
that so one way to do this is to write a
program to come and clean this up and
parse this all up but the way I ended up
doing it is actually writing a vim macro
so I'll show you guys how it worked so I
started my macro and what you do is I'm
recording right now as you can see the
macro so I started by searching for by
so I'm searching for the word by in the
sentence and then I delete that once I
delete that I add quotation marks and
I'm going to add ending and starting and
I'm gonna say title put a space there
jump to the end add it in d1 and put a
comma then after that I'm gonna drop to
the next line delete that extra space
and then you notice we're starting here
and that's perfect because that's where
we started up here so I go ahead and in
my macro so I can run this again BAM so
notice how it just took that and it made
it formatted all nicely so it remembered
what I did there and just ran it again
so this should be danger bang sign let's
make sure it's doing it right it is cool
so now let's see I have five line five
two line three
so there is 328 lines here and divide
that by 2 because there's a nexus space
there's 164 if this might be off by 1 or
so what I can do is I can say 164 times
I'd like to run my macro so if formats
all of these so now I can go ahead and
run my macro and you'll notice it'll go
ahead and run it for always
now unfortunately I'm using the
extension for visual Co code so it's
slow you'll notice it's slowly going
through all of these if you were using
them it would probably be much faster so
you have to sit and let churn for a
minute which is unfortunate but that's a
pretty cool thing you can do and this is
pretty much limitless any combination
you can do with them recording it so
it's really nice for formatting your
code and refactoring in different ways
and as you can see we're just churning
through going through all of them until
we get to the bottom we might run a
couple extra times nope
looks like we're one short I can go
ahead and run it one more time but
you'll notice we chopped off that so I
can go ahead and bam and then we've
formatted that whole thing and bam
pretty if I will add some spaces for us
so this looks nice as well so if you
haven't tried out them macros I highly
recommend giving them a shot
they're super powerful super cool and
you can do lots of different things with
them that's it for this video guys I'll
see you in the next one
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>