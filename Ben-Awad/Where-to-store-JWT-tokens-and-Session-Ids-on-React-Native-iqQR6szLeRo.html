<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Where to store JWT tokens and Session Ids on React Native | Coder Coacher - Coaching Coders</title><meta content="Where to store JWT tokens and Session Ids on React Native - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Where to store JWT tokens and Session Ids on React Native</b></h2><h5 class="post__date">2018-03-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iqQR6szLeRo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I want to talk about where to
store JWT or session IDs and react
native now a wasp is a really good
resource for all things security and I
was following their guide for how to do
it for websites and they recommend
storing JWT tokens and session IDs and
cookies and they have some few settings
they recommend with doing this but they
don't mention anything about apps or
react native and so I was really trying
to think about how did he go about doing
it in the best way and what I've usually
done in the past is use something like a
sink storage to store this and it's
really easy to store things you just do
set item and get item it's asynchronous
and then it works for both iOS and
Android and react native and underneath
the hood implementation is different but
it works and it persists so that's
there's two important parts about
storing these JWT tokens and session IDs
one you need to make sure where you
store it will persist when the user
comes back to the application or the
website and two gonna make sure it's
secure and so no one else can get your
token because if someone can get your
token or their session ID they can
basically act like they are you and make
requests on your behalf and that's where
a sink storage might fall short
it does not encrypt its data now just
because it doesn't encrypt it I'm not
sure if other apps can access a sink
storage I'm not quite sure and I always
wondered about this and I wondered if
there's a better place to store these
things than a sink storage and I
stumbled upon this option that looks
really good the other day so this is
something that x-bow has but basically
expo takes advantage of it you can also
use it without expo but it's called
secure store and again it's implemented
differently for Android and iOS so
of iOS that uses keychain services and
with Android they use the keystore
system but what it does is notice it
encrypts well the data that you send in
which will keep it hopefully secure in
case any app actually is able to hack in
and see what the value is in the store
itself I don't know if that's possible
and maybe secure store is overkill for
this type of thing because we're just
storing a session ID but I think this is
a better place to store it than a sink
storage just from a security point of
view from getting hacked now with this
set when I'm sitting up my graph QL
server to handle sessions I'm gonna set
it up in a way so it can take tokens
that are stored in secure storage and
handle tokens that are being stored in
cookies so both react native application
and a website can use the same server so
with the website sending cookies is
automatic you don't have to do anything
and the cookies automatically in the
header and it's easy to read that in but
with and it doesn't require any extra
work at all the cookies automatically
sent I don't need to change any of my
JavaScript code but when I'm doing the
react native app what I'll need to do is
fetch the item or the token from secure
store or the ID whatever I'm storing or
choose the store and send that decrypt
it I don't know if we have to decrypt it
or if it's Auto decrypted for us but
send the decrypted or unencrypted just
plain text version of the token to our
server well if it is encrypted we can
even decrypt it on our servers and
that's the other thing we could always
encrypt or decrypt it ourselves but this
is I think better but yeah so we're
gonna be sending it in the header so in
a react native application we're gonna
have to ourselves manually add it to the
header on every single request now
Apollo makes this very easy listening
graph
you'll request and adding a token to the
header so we're gonna use that and
utilize that so it'll be very nice to
store and update tokens with this but
yeah so that's the plan with react
native and where to send the tokens and
we're gonna send it up in the header
every time we make a request that's it
for this video guys thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>