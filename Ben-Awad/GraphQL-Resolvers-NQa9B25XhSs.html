<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GraphQL Resolvers | Coder Coacher - Coaching Coders</title><meta content="GraphQL Resolvers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GraphQL Resolvers</b></h2><h5 class="post__date">2018-03-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NQa9B25XhSs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so I want to go over how graph
QL resolvers work and to help me out I'm
gonna be using Apollo launchpad and I
cleaned it up on the left a little bit
so there's no comments and here is where
we're going to be changing the code and
over here we can now query and see what
the results are as we change stuff so at
the top here this is the schema called
type deaths and then right here here's
the resolvers now the goal of the
resolvers are to get the data the user's
query or to fill the mutations that
users request so here we have a very
basic schema with a type of query and
inside of that it has one property
called hello which expects a string or
returns a string so now in our resolvers
we can have our query and inside of that
we have hello and then this is our
resolver function right here
and the goal of this function is to
return a string back because that's what
we expect and that's what they're gonna
be asking for back so now it's gonna
give us a few things in our parameters
we're gonna go over what root is in a
little bit arguments are any arguments
that are specified in our schema so
right here we have none this is it just
can be an empty object and then contacts
is something coming from the server and
this is just kind of extra things you
might need to use it your resolver so
right now we're returning hello world so
that's why when you query hello you see
an object called whole world back now
there's also this extra junk about
extensions don't worry about that that's
just a Paulo Launchpad adding that it
doesn't really have any meaning with
this okay so let's look at an argument
so if I wanted to I could pass an
argument put the parentheses and say the
name of the argument so the name I'm
actually gonna call it name and then the
type
which MSA is a string so now my
arguments I can get access to the name
that they use so I could pass it in for
example the name is Bob so in my
resolver I'm not doing anything with
this argument right now right so if I
were to run this I still get hello world
back so if I want to utilize this
argument I have it access to it in arcs
so what I could do is the same color
world I could say I've done name and now
I'm going to take this argument here and
pass it and that's what's going to get
returned so now I can change this and
I'm gonna get different stuff back now
usually you want to return more than
just a string and also I should mention
before that notice how we have a string
type back if I tried passing anything
else it would get mad so like if I ever
tried returning an array it says string
cannot be represented so it doesn't like
that so make sure you return a string
back you need to return the exact type
that it's expecting but a lot of times
you can do more than just returning a
string so we're gonna create another
type called person and I'm gonna give
him a name and it's gonna be a string
we're gonna create a new thing here
called get person and that's gonna
return a person so now that we have a
new guy on query we need to add it here
a new resolver for it so get person and
again we get root of parks context and
now here we need to return a person so
what is the type of person well it's an
object right and then it has a name
which is a string so in the same
and we can say his name is Bob so now if
we run this and instead of getting hello
we were to get a person and grab the
name and we get bought back and we get
get person which returns us an object
with named Bob so notice how that
matches up here and also notice how the
type query the shape of this matches the
shape here that's important so the same
keys you see here you see there okay so
you might want to now nest objects
that's pretty common
you could add as many fregula fields as
you want here but you might create
another type called pet and I'm gonna
give it the pet two fields so I'm gonna
say is the pet a dog which is gonna be a
boolean and I'm also gonna specify this
sound the pet makes so this is going to
be a string and I'm gonna add this field
to person so I'm gonna say pet is pet
now if I query like this nothing changes
because I didn't ask for it pet but I
can now ask for a pet and I can select
what fields I want from the pet so I'd
like to see if it's a dog and I'd like
to see what sound
now we're gonna request this and we're
gonna get null right because if we look
at what we're returning from our get
person resolver there's no pet in here
and that's fine because we said it can
be no but if I wanted to get data from
this I could say Peck and I could say
its dog is true and the sound the dog
makes is bark so now my request returns
this object back like that but an
interesting thing about resolvers is
you'll only get the data you query so
what I mean by that is if I get rid of
the word sound and I request this we
only see is dog true inside of pet we
don't see the sound any
even though we're returning the sound
from our resolver right here so it
doesn't matter that we returned extra
fields in our resolver it's gonna go
ahead and graph queue automatically just
picks out the fields that it needs based
on what the person queries so like if I
wanted to I don't even have to query the
pet at all I could just grab the name
and this whole pet field is gonna be
ignored when that so that's kind of
interesting
so another thing is I might not want to
just resolve so like notice how this
whole object is getting returned so
we'll go back to fetching our pet and is
dog and sound
notice how get person resolves the whole
thing the whole object all in one but
you don't have to do that you can
actually do it in parts so how you would
do that is I can actually add another
resolver so I can add a resolver so we
have a resolver for query we can have a
resolver for person if we want we can't
resolve her for pet so I'm gonna create
a resolver for pet and so one of the
fields I could add was for example sound
Orica dad is dog so I'm gonna say sound
when I say root args context
and here I'm gonna return mu and this is
where it gets kind of interesting so
notice how the sound is moved now even
though I said the sound is bark down
here and this is what's getting returned
so how graph QL works is it'll first try
to resolve this person and so it's gonna
come over here and it's going to get all
the fields from here and then it's gonna
go to the pet resolver so it moves
inward so it tries to get all this data
in one blow which it does but it still
goes to the inside resolver of pet and
then the resolver of sound so here's the
resolver for sound inside of pet and it
can return mu and this will actually
override sound itself and now this is
where root becomes a thing you can use
and we also no longer have to provide
sound here if we don't want to right so
now we could just say is dog and then we
can return the sound right there so now
we have sound of move still coming out
and then we can also use the fields that
we have right here to determine this
field so what I mean by that is the root
of pet has what the value of is dog is
and the value of sound is from the upper
object so what does this mean for us
well I can do root is dog and if it's a
dog I can say bark otherwise I can say
Moo so here I specified that is dog is
true so the value of this is gonna be
true and so it's gonna be bark if I
change this to false it's now gonna
return mu because it is not a dog so
it's able to access this field up here
and get person so whatever I return from
get person and actually uses down here
and this is universal so if I were to
add a second get person
so get person to and we can copy this
you can paste this and I could say and
we can request both of these okay so we
can see right now that the exact same
object right but if I say is dog is true
here it's now gonna say bark down here
for get person to and it just uses this
right here to request it so now if I
wanted to I could hard code it we have
it like in this little check but I could
hard code it and now both values no
matter what is here it's gonna get it
and sometimes you might not even have is
dog right so like I might just be like
this and this is gonna cause a problem
because we expect to have the pet and
okay so we just end up returning null
for the pet because we weren't able to
get his dog filled so if I wanted I
could specify that here
so I could say return route dot is dock
or if they don't specify whether there
is a dog
I can just say false so now our pet our
pet still returns no I was hoping it
wouldn't I guess because we didn't pass
anything here
Australia passing an empty object in so
now we get his dog is false and sab is
moose so now it root is gonna be empty
because that's what we're passing in
here but for example if I have this
that's true this is gonna go to bark
because we check whether it's defined
and if it's not what you just say false
and I think we might even be able to
return this just this because it'll
assume it'll turn it cast it into the
right type so we can check if that works
and if it looks like it just returns an
OL from that so it's good that we are
using or false so yeah so this is just
like a quick little introduction to how
resolvers work and how you can kind of
stack them and resolve little bits and
pieces at different times
I really recommend playing around with
this and then just kind of seeing all
the different things this is something
graph QL does by default you didn't have
to configure stuff in any way it
automatically just like chain works in a
chain moves down and resolves inner
types and enter objects like this so it
takes a little while to get used to what
I want to do in the next video tomorrow
is go over how you might do a more
complex example with right now I just
kind of hard-coded all this data like
this right what would this look like if
I was for example doing a more real-life
example with fetching from an API and
getting data from that because that's
going to be a really common case that
you're gonna be using this with that so
that's it for this video let me know if
you guys have any
it's about this or graph Euler solvers
highly recommend just doing what I just
did right here is going in and playing
with the different types and seeing what
the return values are and it kind of
just gets you used to how this stuff
works and I'll put a link to this
launchpad in the description below if
you want to run this and see the code
for it so that's it for this video guys
thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>