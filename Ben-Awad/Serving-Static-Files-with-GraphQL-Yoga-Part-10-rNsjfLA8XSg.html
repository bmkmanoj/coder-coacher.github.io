<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Serving Static Files with GraphQL Yoga - Part 10 | Coder Coacher - Coaching Coders</title><meta content="Serving Static Files with GraphQL Yoga - Part 10 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Serving Static Files with GraphQL Yoga - Part 10</b></h2><h5 class="post__date">2018-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rNsjfLA8XSg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys we want to display our images
for our products and our app so how are
we gonna do that well right now we have
these images saved in a folder called
images and we can actually have our
server serve these images so we can just
create an end point where we can access
the images so how do we do this with
graph QL yoga well underneath graph QL
yoga they actually use Express and it's
very easy and Express and I've done this
before you just serve static files like
this you say app dot use and then you
specify the directory you would like to
display images from so for us we don't
have direct access to Express because
we're using graphical yoga but they do
allow it so if you look at the bottom of
the readme they talked about how you can
customize graph QL yoga in one of the
ways is hey if you want to add any
middleware or in our case add static
images serve them so we can do dot
Express and we have access to things so
working copy this and we're gonna do the
same thing
now we're gonna cert use this one
because we want to do it at slash images
okay so this is our index type script
this is where we create our server we're
gonna put it here so instead of app
we're gonna say server dot Express
that'll give us access to the Express
instance and then here we're going to do
slash images and then for us we're gonna
get images all right because that's the
name my folder here now you'll notice
how they use Express and I tried using
server dot Express but that doesn't work
so what I ended up doing is have to
actually install Express just so I can
do Express thoughts static images so
let's do that so yarn add Express and
oddly enough similar as
when we install Shore IV I could not get
it to work with the regular import I
need to do Express is equal to require
Express if I use them port syntax for
whatever reason it is undefined
I'm assuming this has something to do
with typescript if any of you guys are
familiar with typescript and why I have
to use this syntax over this is there
something I need to do when I install it
to be able to be able to do use the
syntax for it not sure what's going on
there why don't we go ahead and NPM
start this our images are now being
served from our server and how it works
is we go to the endpoint hoops so in our
images if I were to go to local clothes
4000 slash images slash test there would
be a picture there or slash whatever
these so that's how you know what
endpoint to go to to get their image so
in our products at JSO ver here we can
take advantage of that so now instead of
just adding the picture URL we need to
specify a location and the location of
our server is localhost 3000 and then we
don't need anything else because that
has this has the location of the
specific route this will give us where
the image is located if we just need to
tell it the server and actually I think
it's on 4000 not 3000 and notice how no
images show up that's because we don't
have a height or width so if you can
just say add a style height of 50 width
of 50 we should get images showing up
now and we don't I think I just need a
slash right here there we go so we see
our two images from the products that we
created nice so now what I want to do
for the rest of this video is just get
these styled nicely because now we're
good with displaying images no matter
how many images we add to our server our
server is going to be able to handle it
in retreat
the images and then when we upload new
ones we're gonna grab it from them just
fuller so we're good we don't need to
make any other changes with that now I'm
making a pretty bad mistake right now
and that is using style and line like
this this is very bad to do and to avoid
this that's why react native has a style
sheet and we can create that styles is
equal to style sheet create and in here
we can put our styles so we can say text
and actually we don't even need this
anymore
it's a little text here but here we can
say images and we can specify we want a
height of 50 and a width of 50 so we
need to put all our styles and I think
I'm breaking this in a few other places
use this style sheet instead of this
because I'm creating a new object every
time so it is not very good for
performance so images so you'll notice
it looks the same I just moved this guy
up we're probably gonna have to fix the
spacing on that at a later time so now
let's get these flowing better I think
what I want is to have the picture here
and these guys on the right over here so
to do that I'm gonna say style
and we're going to say styles thought
row so I'm going to create a row
container up here so rows style and then
to do this we're gonna use display flex
and what I want is this to be in one
container and these two and the other
and I actually don't even know if you
need to say display flex anymore you
might not even need that and react
native so our image is gonna be the left
side and these guys are gonna be on the
right side so I'm gonna reorder these
and this I'm going to say style and this
is gonna be the right side so I'll say
styles not right and this will be the
image is fine so on the right we are
just gonna say flex one and I want these
guys to be side by side instead of this
so I think what I need to do is say flex
direction and say column I don't know if
it's column
I think it's called by default I was
expecting the road to be the default so
I was surprised I was that's why I think
it might be column but looks like rows
what we want this looks nice now so
maybe we add some spacing on the sides
and just overall margin so maybe a
margin of and just to space things out a
little bit there we go and let's add
some spacing between those two so this
guy I can say margin left
is equal to
and then we can make these a lot bigger
that way they're actually visible so why
don't we create two styles this will be
the name so style is that name and this
will be the price and by the way guys
I'm pretty bad at styling so feel free
to style this any way you like I just
want to make these look more like rows
than they are now
so here we have name and price styling
so I gets font size is let's make it 20
I do the same thing here for now see
what that looks like
alright that looks much better or way
more visible we can put a dollar sign in
front of this price so to do that I'm
gonna do a dollar sign and then we're
gonna treat this like a string there we
go so I did string template and in front
of it I had a dollar sign so now we can
see the price of this let's make that I
think we can make the image a little bit
bigger so let's make it like 200 I don't
know if that's too big yeah it's too big
let's make it 100 see what that looks
like alright I think that's a decent
size now I think we can have these flush
right so to make it flush right we can
say flex or I think it's a line items so
we want a line items and I'll say write
it might be able to justify content if
this doesn't work supplied expected one
of okay so it didn't work so let's try I
don't know if I just not displaying flex
display flex because align items should
work here okay let's try to justify
content sly content instead oh it's I
just shouldn't be it should be flex and
okay so I just wasn't supposed to
specify right so go back to the line
items might be the correct thing I
didn't read the air well enough all
right so we have that on the right and I
think we can make these bigger
we'll make this 40 in this one for 30
and let's add a margin right of 30 to
give this a little bit of padding oops I
mean margin right so on the right side
all right there you go and I think this
is good enough at least it looks more
like a row you can tell and so right now
there is a bug that I want to fix in the
next video but I'm gonna demonstrate to
you right now what it looks like it's
not really a bug but it's something that
we want to fix so when you create a new
product so product three for example and
this is gonna be whatever price and we
can select our image and when we do add
product it's not going to show up so we
haven't added that image let's add that
one there you know choose so when I add
this I notice how it's not here and the
reason for that is Apollo pulls from the
cache automatically so it cached these
two results and when we added a product
what we need to do is we need to update
the cache so Apollo knows about it but
if we were to refresh totally the item
would be there because it doesn't pull
from cache it's not stored there we do
see our item there so in the next video
we'll be fixing that by updating the
cache and just continue working and
filling out this page it's cooler a
little scroll working that's it thanks
for watching guys
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>