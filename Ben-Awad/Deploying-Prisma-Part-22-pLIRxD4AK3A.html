<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Deploying Prisma - Part 22 | Coder Coacher - Coaching Coders</title><meta content="Deploying Prisma - Part 22 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Deploying Prisma - Part 22</b></h2><h5 class="post__date">2018-02-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pLIRxD4AK3A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys first things first I wanted to
show you subscriptions actually working
so here I have the Android emulator on
the left and the iOS emulator on the
right and now when I push any kind of
price on the right side or the left side
it'll update an other person's app
without doing anything so this is me
clicking on wall and you notice wall
pops up over here by 5 and we can do the
same thing over here so click on it
thumps up and any of these work so that
confirms that subscriptions are
correctly working so real quick when I
want to show you guys is how I was able
to run Android and iOS at the same time
I'm gonna go ahead and close these
emulators so they don't just destroy my
computer so what I did is I created a
host and I checked whether we were
running iOS or Android and if we were
using iOS I set localhost otherwise I
used this IP address that way I could
access my server from Android so this is
how I would recommend doing it that way
you can have the same code run both on
your iOS and Android emulators so that's
how I got that to work just checking
operating system and that's how you can
do it ok and then of course I just like
in my Apollo I used hosts everywhere
instead of using localhost I just
grabbed that and that's also good for if
you want to get into production which is
actually what I want to talk about today
so how are we gonna deploy how do you
deploy a Prisma cluster ok so I wanted
to show you guys how to actually deploy
Prisma to a server but I was running
into a nasty little bug that someone
else has encountered as well and already
has an issue on Prisma it's still open
so hopefully it'll solve that but
instead of actually showing you cuz
we're having trouble what I wanted to do
is kind of talk about how I would go
about it because Prisma documentation
has some pretty good points but it
doesn't an interesting manner that I
want to talk about so there's really two
things to deploy right your server and
then the cluster and the cluster
includes the my sequel database and the
prison
the server and then your server is the
graphical yoga server you set up and
what they have guides on is how to
deploy it to Zeke now and apex up in
some other places this is where you're
deploying your actual graph QL yoga
server whereas over here you have how to
deploy the cluster and they're deploying
the cluster to digitalocean for examples
one of them and to me this felt a little
bit odd I don't know why you would want
to deploy it at two different places
unless you know size you need to scale
up and you need multiple machines to
handle the load but I think for a lot of
cases you can put both the server and
the cluster in the same location so the
salute I would recommend so after
following I would follow this guide
right here the digitalocean manual or
the anything where you're setting up
your own VPS you know this or with the
digitalocean docker machine but with
this one basically what you do is you
install docker and node on the VPS and
by the way this would work for or Leno
any virtual machine but basically
install docker you install node and then
you install Prisma and then you start a
Prisma like you would regularly do with
Prisma local start now they talk about
how to go ahead and like open Prisma up
to the server or like so anyone can
access it but instead what I would do is
just run your node application on here
as well so do Prisma local start so it's
low it's running locally on localhost
and then with your graphical yoga server
I would start that up as well and they
would talk to each other locally and
then I would expose the graphical yoga
server and that's what I would recommend
doing with that so have them run both
servers seems like a better choice at
least at first so that's it for this
video guys and this brings the series to
a close I'm gonna do a formal conclusion
tomorrow and kind of just talk about my
thoughts about Prisma
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>