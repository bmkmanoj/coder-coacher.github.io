<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding an Android To Do List App - Part 3.5 | Coder Coacher - Coaching Coders</title><meta content="Coding an Android To Do List App - Part 3.5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding an Android To Do List App - Part 3.5</b></h2><h5 class="post__date">2015-05-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tz5Vz9IXADw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome I'm back with
another video and I'm gonna be working
on my to-do list a little bit more
because I kind of forgot about this but
I switch computers in the middle of it
and I lost a video in that process in
that video I actually got the database
set up for making for holding all the
data in the database so I'm coming back
and showing you guys how I did that
so I actually still have the code on my
old computer so I just upload that here
and gonna be working on it right now and
showing you how I added the database to
this app you know I totally forgot about
this that's I should have made this
video earlier but thank you to the user
Cato D he reminded me about it so that's
why I'm making this video today so thank
you guys for reminding me and let's get
right into it so to setup the database
I'm literally going to be using this
Ocala
tutorial and I'll leave a link in the
description below but it's this to do
list very similar to what I'm doing and
when I first started off doing this just
copying the whole thing and then I can
make I edit it to fit what I want the
specific customizations that I want for
my app so I'm just gonna copy literally
exactly what it has in here and then
make changes to it later in the video
okay so let's jump right in and that's
what the app looks like that we're sort
of going to be making it look a little
different but that's the idea so he says
the first thing we want to do is create
a table so go into our app and we'll
just go into databases and we just want
to make a
a filename to do table and we're gonna
call ours note table because that's what
its holder we're gonna create a new Java
class note table then we're just gonna
copy this stuff and paste it in here now
for our particular app right now all we
have to save is a description
so we or what you know ours isn't called
description it's called get rid of
coloman get rid of this category all we
have is just a list of items we're just
holding items right now we only need one
data table and so we can get rid of
these three and just keep one of them
get rid of these two and change this to
column items and the reason why I'm just
saying this is like general syntax and
not syntax naming conventions for
databases you put column in front of a
column variable and so this is a column
so we're claiming that there okay so our
table it's we're fine calling it a to do
table that's fine so this is creating
the table and right here this is just a
print statement that we can that's fine
we just need to put in name of our class
he called his to do table we just need
to change our table cuz that's what we
call ours okay so now our note table is
looking pretty good and we can just come
down here to this now we're creating a
to-do helper
basically helps me it just makes I
believe it makes the database itself
we're just gonna copy this we're gonna
actually just copy in here and note
we're just gonna call ours note database
helper database over paste this in here
and then we're just going to extend
database helper or no sorry its sequel
Lite open helper that's we're extending
it will click so - okay it just need to
import and now it's good
so our database name we call it to do
table right yep this is to do table good
valid best clear return type required
see all right we do this is the
constructor so we just need to change it
to this and then we just need to change
this to no table because that's how what
we named our class okay so now we have
all the database stuff setup you need to
make a content provider now this is
basically where all the magic happens
copy this and we can get rid of a data
source and note database helper you must
delete those wait no we don't it did he
call his sequel I'd help erase one check
what did he call his class
to do database helper so it's a sequel
I'd help right yeah
okay these two we hear it up following
problems okay that's fine
anyway please okay so our database is
good now we're going to create a
provider so it's just making our package
providers and we're just gonna put it
right in here so let's see he calls his
my to do content provider we'll just
cause ours note content provider and
then right in here we're just going to
paste our information and then we need
to extend octave provider again and this
is all read right now she needs to auto
import and then we also need to change a
couple things in here so this just needs
to take second import so we call ours
Note 2 database helper so we need to
change that and then the authority we
need to change change this just to my
package name which is column dot example
dot bin Awad dot yeah dot no dot to do
list old maybe see should say what my
package is right here so bin Awad Comte
ought to do
all right um pass space path to do
that's fine that's fine rest of this
right here is okay we can change this
notes we could but I think to do is
actually fine we can leave it like that
and then you need to just change this to
note database helper right here we just
need to change this to notes table and
if you wanted to you could just keep
everything the same and copy his whole
example if you don't want to add the
stuff that I'm adding okay so we're just
going in and changing the names of our
tables just copy this
and right here you can get rid of these
two or all these three we don't have any
of these all we have is a note table
column items and right here this
available this is this is saying what
columns that you want to grab from the
database so we're grabbing the items
column and the note table column all
right we're all set for our content
provider that one's looking good okay
and then when you need to update our
manifest file our she put his he might
just new check you may be putting this
in a content provider folder okay yeah
he does create a package content
provider
let me just rename mine content provider
provider
and we also want to change it up here
just wanna put do list dot content
provider alrighty so we made that that's
looking good okay now we need to update
our manifest file so our application
requires several resources up where may
30 source in a second so we will just
copy this and he mentions placing it
after the activity so we have two
activities here placing it all the way
down here and again we just want to
change the names to ours so right here
we have a dot content provider and then
the name of ours is note content
provider and then right here this
changes to calm down example she is
example not like calm
dot example dot log was that let me see
what I called it in my provider we do
not copy this already now we need to add
some layout resources because he uses a
ListView which for now we will add that
as well but later on we will change it
to card views so our application Marcel
resources well let's make this menu
actually we don't need to worry about a
menu fuse gooing skip that part
user will select the priority it's a
to-do list for priorities bla bla bla
don't worry about that part we don't
need to add that in ours we he has items
in the action bar and we don't need
those
alright so this is his he's defining
three layouts one will be a display row
okay so this is just a row and the to-do
list
so let's go into our layout I'll just
call this new note row and then for this
one we're just gonna have a textview I
don't even have to worry about copying
his stuff they're just going to go on
get textview wrap wrap now we'll just
call the IDE item text row easier oh oh
just call i don't text that's why it's
got off a bad name but i can leave a
anything better right now alright then
we need a ListView so if we go into our
main activity or not I mean activity
main layout for our main activity we're
just gonna get rid of this card view
and we are gonna get help this view
graph rap actually that we want yeah
actually I wanted this to match parent
so we want this to just fill a whole
screen but right now we're gonna have it
below this button right here so we're
gonna add just do like that and the ID
we will give it note list it should be
good for now all right created a to do
edit this Leo display we don't need this
we should have it you should have this
setup
let me check what our activity looks
like right now so we have a list view
here I did this one looks fine too
all right activities change the coding
every activity alright so this is the to
do overview so we're gonna be changing
and close these down for now you're done
looking at the XML done at the table
we're done with the database stuff now
we're just messing with the activities
okay so we want to focus on the main
activity right now and we're just going
to be adding all this stuff right here
so let's see if there's anything that I
actually need to save in here
nope isn't okay so we need to just get
rid of all this and paste in this and we
need to grab these extensions and we
don't have to worry about extending the
list activity because we're just gonna
have a list for you and we're going to
copy this and okay
so you get rid of this all do we need to
it's not gonna be here anymore we're all
so simple cursor adapter this should
come in in a second set the content view
this is going to be layout main sister
main layout let me sort of called it at
could be mean
don't worry about this for now register
for context menu dory about that
we just need to import class and we'll
just do this one we get an air we can
import the other one I can't remember
which one it is I guess let's import
that okay you can get rid of this on key
options menu we don't really want any
items in our menu right
all right so this is the going to do our
activity ours is called no activity
on item click listener you will
again just changing into our stuff right
now he has a ListView activities we need
to just modify this we near this create
to do by the way I'll modify this to
working for just a list view so right
here he wants he's just getting the
summary we want to grab note able we
want to grab the items okay our label we
just come into row item we can see we
called this item text and then for the
layout I called it no set list adapter
comment this out because we need to do
this book we're gonna do this for our
list view again we don't want a menu get
rid of that and create loader we don't
want to load actually this is like this
we do want a little piece so we're just
again changing to our stuff our the name
of our table import this and then
changing it to provider Laurent and we
should be good here alright so now we
need to fill the list view that we have
so we're just gonna make a list view
object call em notes and I think em
notice Bo
why isn't like always a capital T I
think they're and then we're just going
to an instantiate it right here and I
don't call it items list view let's make
sure I'm calling the right thing call it
no list all righty
and then we're going to call fill data
which is right here and we're gonna
create this adapter and we just want to
add set the dafter for our LLC right
here so M list view dot set adapter and
we're setting this adapter right here
then on the load good good good the only
other thing is we need to set a
onclicklistener
for this so we're just gonna do it right
here and notes list view dot set on
click listener and
and where's my copy this
sorry we need to actually call this this
is something different we're gonna set
set on item click Lister
because we need to get the position
which is right here and we're gonna copy
this paste it here so the intent cannot
okay
so right now we're inside a a Class A
inter class so we need to call put main
active Game four of this there we go
okay and we're done with this class or
method I mean and let's just make sure
this looks good okay all right so this
is looking pretty nice now we just need
to fix our note activity so we're
getting some red stuff and we will work
on that right now so this is what he has
for his and looks like does he change
this manifest file at the end no it's
all clear okay so this is our last step
and hopefully it should be working
so how do I want to go about doing this
I think it's fine just start copying
stuff maybe that's okay so we have a
list view and edit text let's get rid of
this red stuff right now start cutting
some stuff out of here here of this grid
of this
it's fine keeping that for now alright
go ahead and copy this part this is the
confirm button okay this is how he's
saving the data he has a confirm button
don't worry about adding that right now
I end up never adding the confirm button
I just have it automatically save it
okay we need to grab this variable up
here give her this no thing we do not
need to do a note and right now I think
we're just going to use this simple rate
after to make this work all right
bundle is this saved instant state you
need to add this method and then we just
need to change this to a content
provider and all the errors went away
then we're gonna grab this full data
all right so again see this projection
thing it's gonna grab the tables that we
want and for ours we just want to grab
we don't wanna grab any of these we just
want to get to the item so no table da
to call Islands oops all right so we can
get rid of these and I'm just gonna make
a string and we're gonna call this items
and what this is this is grabbing the
string that we're storing in the
database table and then we want to grab
this call now and our app we're doing a
list of items but we're gonna store it
in the database as a string I'm not sure
if I cover this or not but we're storing
it as a a JSON array and then turning
that into a string and then storing that
in the database and then we have to
unpack that and so it's gonna be a
string but it's a string representation
of an array okay looks like there's an
air up here yeah okay we can get rid of
this adapter things we don't need this
anymore
okay so this right here we we need to
set up a arrayadapter before you can fix
those things so let's keep adding a few
more classes though all right so we're
just gonna put this on safe instance
state what this is doing is or this
method what this method is doing
automated and these this is a method
we're gonna call ad
let's just put to do not to do no to
provider what this on safes instance
state is doing is when someone flips the
phone sideways or gets out of the app it
saves the data in the database that way
when someone comes back we can load it
from that and give me one set on pause
happens this method is called when the
phone is like if you push the home
button or let me show you so let's say
we have an app up like this and we push
the back button see the on pause method
would be called and there we're calling
the safe state which saves our
information to the database so we don't
lose it so we're and grab the safe state
and then we're good
so again we only have one railing Angra
have one thing we're just gonna save the
items so before I change all this stuff
and the save state I need to set up the
ListView to work what I mean by that is
any just make an adapter in an ArrayList
so when I actually want to call a list
give me a list of strings and this is
just gonna be our M items list and then
we also need adapter so array adapter
call it m array adapter and then right
here we're just gonna initialize it so M
items list is equal to a new ArrayList
and then M array adapter is equal to an
array tap then gonna need the contacts
and then eat what does it need next just
context it needs the layout resource
passing in my check what this guy does
well he doesn't have a thing for here I
think what I want to do is do our dot
layout dot we're gonna do like a simple
I forgive let's call it simple something
for the layout you see simple array with
array adapter simplest item there we go
that's what it is I just forget how you
do it okay there it is so this is just a
premade layout that they've made for you
member jannettek passing this list
there's a premade list item that Android
makes for you and it just is just an XML
layout of how the ListView should work
and look okay now that we have our
adapter we need to actually set it so
we're gonna get our ListView I'm just
gonna set the adapter and passing in the
array adapter now if we come down here
we can now fix this so for size we're
gonna use em items list items add and
then the adapter is an array dr. cool
then right here we're just going to
create a string this is going to be s
items which stands for a string
representation of the items or just
going to create a new JSON array and
we're just gonna pass in a array which
is our um items list and we're just
gonna say call to strength so what this
is doing is we're passing in the
returning the
arraylist into a JSON ray then we're
doing this JSON array into a string and
now we want to save this string into the
database and right here we can check if
the um I've owned this list is empty
that's true we don't have to save
anything to the database again we only
need to put one value and that value
this is the column that we're saving so
this is going to be our item column
there's a table column items then right
here we're just gonna put the items of
the string and this puts into the
database then right here I'm just going
to change to note content provider and
that's looking quite good okay now what
we do need to do is change the field
data so right now we just have little
data we're getting this the items we
then need to actually add these items to
the ArrayList and then um notify that
the adapter has changed so it'll show up
in our list so right now this is a
string we need to turn this to a JSON or
a object all right just call this JSON
rain it's equal to new JSON all right
and then we get passed in items and we
just need to wrap this in a try-catch
statement and passing this and as a
constructor or a parameter what this
does is it automatically turns this
string into a JSON array now we're just
going to or it
X equal to 0 is less than JSON array dot
sorry we actually don't do this here
well we got that we want to leave that
you want to put it right here
and we're just gonna get the link I
think yes length and then we're going to
do is we're gonna add each item in this
JSON array to our ArrayList so we're
just going to say items list dot add
merchant call JSON array it never change
get the I and this is evening us an air
right now because it returns an object
and we just cast into extreme then after
we add all these items to the alert this
we need to notify the adapter that stuff
has changed that's a all right after it
up the five days have changed all right
now I think this should be pretty good
and I want to test it out I think it
should be working but before we test
this out you have to actually install um
this to-do list app because whenever you
make a change to a database a database
in Android if you changed the tables or
anything like that you have to actually
uninstall it and reinstall it because
databases are funny like that and I
don't know exactly what why you have to
do it but every time you change database
you need to uninstall reinstall the app
because otherwise it will not work
because it does not update the tables
once they're built
the only other thing I need to do so
just gonna say no I think it's okay to
run oh okay that's what I was gonna say
so I thought I thought of something I
needed to change but I forgot I was
gonna say but I just remembered so this
button I'm not sure if it has a 2x2 node
activity I think I got rid of two note
activity yeah I got rid of two note
activity so we need to add that back so
there's gonna be a public void to note
and because it's an arm on click
listener for button we have to pass in a
view and all we're going to do is this
intent we're just gonna do this
and you come over here there's special
thing that we're doing to tell the
activity that it's a new it's not here
it's done here that it's a new item yeah
it's in here somewhere
I thought I had to put an extra or
something that looks like I don't have
to alrighty so we're just gonna change
this to our activity alright let's give
this a run and see what happens I have
no idea if this is gonna work or not I
hope it does but it's been so long that
I can't remember exactly the exactly
what I did to fix it but I'm pretty sure
this is really close I just want to make
sure it works with all the other code I
have to fix a couple small things but
could also just work
we'll see what grade I'll finish
building first and check this out use
the same device and whispers okay
okay we'll make a note I don't I don't
want oh you know what we need to fix
something on the homepage I just
remember something too and we'll see
that in a minute so if we push back oh I
mean that looks pretty good but let's
get out so we're seeing it here clicking
experience back in now let's close this
down and let's get out of here let's go
to the recent things let's rid of these
this is closing down the recent apps so
now we're gonna launch relaunch the app
and see if it saves it all right really
cool guys so as you can see right here
it has our item1 item2 and it's saved in
the database if we click on items they
pop back up here and we can add some
more items and yeah
it's been pretty nice and that's where
do you place that's how you set up the
database and that's pretty much all
there is to it and as to thank you guys
for watching I hope this is helpful if
you have any more questions about
setting up a database for this let me
know I can help you guys out so yeah
thanks for watching I'll see you next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>