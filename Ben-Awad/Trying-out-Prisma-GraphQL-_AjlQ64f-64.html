<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Trying out Prisma GraphQL | Coder Coacher - Coaching Coders</title><meta content="Trying out Prisma GraphQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Trying out Prisma GraphQL</b></h2><h5 class="post__date">2018-01-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_AjlQ64f-64" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys today I started to look at
Prisma which is a new library but people
who make graph cool and it just came out
maybe a week or two weeks ago and what
it's supposed to do is turn your
database into a graph heal API so I
wanted to see what this means and what
it's like to get this set up and
actually running and create an API with
it so first thing I did was come over
here to command-line and just install
this thing with NPM I and thought globe
really liked this install Prisma now I
know some of you were probably wondering
hey Ben how come you're not installing
this as a local dependency and using MPX
and actually I tried that first and it
doesn't work as expected so here is
hello this is just like a little NPM
package I just major project it has
nothing inside of it right now
and I had installed Prisma and I tried
doing Prisma an it dot so this is what
you run to initialize a prism a project
and it gives you two options you can
either choose doing a database only or
let's say you want to do some JavaScript
with it you can use graph QL server now
I tried both of these out but I tried
doing this kid first and it says sorry
your folder must be empty so I was like
ok fair enough
so then the only way to do it is to
install it globally so I have an install
globally and I ran it first on my hello
to over here and I chose the database
choice so I said hey don't do a database
and then it's like okay would you like
to deploy this locally or to the cloud
and I just picked locally for now which
it looks like you need to have docker
installed which I did have it installed
already and if we say docker container
LS we can actually see I have a my
sequel instance running and Prisma
running as well so this actually runs in
docker and if you didn't know Prisma
only works on my sequel right now but
they're planning to do other databases
later but if we take a look at this
there's two files here that they give
you right off the bat I
haven't touched a single thing here this
looks normal this is like a graph QL
type and this is looks a little
different right but this is part of the
language basically and so instead of
basically creating a database so with
post graph QL which if you haven't heard
of it
similar idea but just with post Aerith
yeah post sequel Postgres equal I mean
you actually create the database and
then it creates the graph QL for you
with this one you create this graph QL
scheme I like thing and then it creates
the database from this and you don't
even have to have my sequel installed
because it runs inside docker Dockers
the only thing you need to have
installed and some settings are in here
where Prisma so here's holo - these are
just some like this is like I thought it
was like a package of JSON for Prisma
just some config stuff and auth is off
by default which we'll talk about in a
second so if you do click the deploy
locally and you have docker installed
it'll go ahead and spin up an instance
in at a location here's location told me
and it has such a nice graphical this is
graphical but their own version which I
think the call graph kill playground
I knew this existed but I forgot about
it and I forgot I think you can run this
with any graph QL project I should just
start using this over graphical because
it's just way better it looks way nicer
you can do tabbing which is really nice
you can add tokens to the header and
stuff and I like how this expands
outward like this like the OL thinks so
I should start using this more so that
was the first thing I really like this a
little editor for graph graphical and
here it did the same thing that post
graph QL did I created all this stuff
worse but notice how it's a little much
cleaner so we can create a user if you
wanted to do
occation so create user and data and I'm
like alright what do I need to put in my
data so I just come over here to my
Doc's I see data it says I need to pass
in a user create input and I'm like what
the heck is that I can see the arguments
right here and I need to pass in a name
alright so name hello and we'll call Bob
so create that and the schemas in the
way but we see he's here so now I can
query my users and I'm like alright I'll
to grab the ID in the name run it we see
this so cool
alright so create all its stuff and as
you saw it has update delete absurd nice
lots of different things I like that
they also have batch batching I don't
know if this was also a thing that they
had and the other one interestingly
enough they don't have batch create user
but you can delete multiple users and
update many users which is very nice I'm
surprised there's not a update or create
many users at once too but maybe that's
included in this I don't know so pretty
nice and this is pretty much very
similar to what post graph QL did and
seems nice but again you can't really
use this for anything except for like
maybe some prototyping or a quick
project because all you really have
access to is these two files right this
data model
you know I've control the server all I
can really touch to modify this is this
this file and this other config over
here so it's gonna be kind of hard to do
anything with this but it's nice for
prototyping right but luckily as you saw
there's not there's more than one option
the other option which actually have
opened in Visual Studio code right now
which is over here this is the other
option is it actually gives you some
boilerplate for setting up a server and
there's a lot of stuff going on here
that I was just trying to wrap my head
and I'll kind of talk about what I think
everything is doing at least right now
so there's database source and at first
I actually thought this was AI was can
really confused actually what prisoner
was actually doing but we'll talk about
what I think it Prisma is in a second so
here it sets up a Prisma server i'm in
this index file and we have some
resolvers here and query so basically
this is where their graph QL mutations
and queries the resolvers are at and
you'll notice they're running the CTX DB
query stuff this is from Prisma this is
how they're running there's things and I
believe this is not auto-generated I
believe this is just the boilerplate
that they gave us if we want to add for
example another query we can just add on
to it and actually like this I like that
I have access to resolvers like this I
can actually see what's going on it just
makes a lot of sense like that and then
they set up a server they're using their
own graph QL yoga which is basically it
builds on top of Apollo server and adds
some features on to that which I have no
problem with it makes it a little easier
notice how like I can just pass the type
deaths in there like this pretty nice
and it just reads in a doc graph QL file
so that's pretty cool I'm totally cool
with having that and then you'll see
this is where they're passing in their
context right so this is where we might
use for example sequel eyes we're
passing in a new Prisma object instead
and then we use Prisma and then we tell
at the end point here localhost 4 6 6
hello dev all that stuff so this looks
exactly like a sequel eyes object and
what I I think Prisma is literally just
sequel eyes or it's pretty just a norm
but it's specific to graph QL and like
you'd write stuff in graph QL so let me
show you what I mean so like this is
this is our you know our sequel eyes
thingy where we initialize it
the differences it's - it's just trying
to do a lot more things so secret this
is for authentication which I'm actually
not quite sure yet
how that works but we're passing it the
generated Prisma graph QL so it knows
all of your graph QL stuff all your
types and things the end point where
your database is at one on your database
actually I don't know what this end
point is for I don't know why we're
passing this in the end point of the
Prisma database service this I mean okay
so this is hollow 3 this is pointed at
what this thing is 4 6 6
yep it's pointed out the same thing so
that I assume this is the graph QL
endpoint I don't know why we do that
here I guess maybe that's where our
database is that - not quite sure don't
know what's going on here with the
Prisma thingy there I'm still quite new
to this though but we have our resolvers
here and now this is database folder
over here is just like our models but
instead of doing the models in
JavaScript they do the models in graph
QL so here's my type and do posts and
now whenever I make changes it looks
like it automatically migrates the
database for you to match what this this
little typing is now oh there's some
things like this is a pro and a con so I
like for development Auto migration like
if I just add another field here I don't
know Bob which is a string and then it
just adds that for me that's cool and
stuff but sometimes Auto migrations
don't work the way you want them to and
it's nice to have power over what your
database looks like and being able to
migrate the database yourself so its
pros and cons like in production I would
rather migrate the database myself then
have this auto do it but for development
that's super nice I like that it auto
migrates when we make changes but yeah
this is our model instead of using Java
Script we just type it and graph
well and then notice how this post we
can use over here in our schema so we
make the schema here this is where we
write all our queries and room you
tations but all our types we put in the
database because these are not gonna be
models right and then our scheme over
here we write this I believe and notice
we just use post here not sure why this
is commented out the other thing I was
kinda weirded out by not weirded out but
I thought was interesting I'm just
having use require syntax here and then
they use the newer import syntax there
so I don't know why they have just
commented out like this and I'm assuming
this doesn't even work I'm because it
doesn't look like babble is what they
give you with this boilerplate and node
version is not high enough to do imports
yet I don't think I don't think node
supports it yet
but anyway you write all your so we
would still make our own schema like
this this is not auto-generated what's
auto-generated is this thingy over here
which is a a few extra things right so
given that we have this post model it
then generates this stuff right here and
so what I'm not sure about see look he
gives us a whole bunch of extra stuff so
I don't know if this is also combined
with look at these things so I didn't I
don't have anything I don't have create
post and all the other stuff but in this
Prisma graph QL I have more stuff and I
have this opening an endpoint but I
guess there's authentication on so I'm
not I don't have access it to it yet so
I need to figure out how to create
myself a token for this or at least
remove my token cuz it looks like my
token is messing things up I don't see
things and header but I guess I have
something in local storage probably
messing this up so I can't even actually
see so there's a way to gate it which is
pretty cool but I can't even see the
schema that's that was created at least
from this javascript version but I'll
try to figure that out but this is the
generated stuff it even tells us don't
touch this stuff and it's generated from
I believe this so I think what happens
is you make changes to this
then you're like hey Prisma generate
this for me
and then we can then create I believe
these are our own custom mutations on
top of the default ones that they give
us
so they Auto generate some stuff for you
and then you can mix in your own things
is what it looks like I'm not quite sure
I'm gonna try to get this running and
then I'll tell you guys tomorrow so
tomorrow what I will look at is getting
this actually running what they give us
at least with a JavaScript version and
then also there's a full stack react
version let's see what that's what's
that's about the only thing I kind of
and it's off put to me is how they just
like Auto do stuff and docker for you
so the two things right now that I'm
like kind of not liking but the rest I'm
liking one is Auto migrates so bad for
production unless I could also I could
be wrong on all these things these are
just my initial impressions for trying
it out for a little bit
looks like they seed some data for you
that's nice the other thing is the
docker it seems we're that they just
auto deploy this to docker for you now I
guess I don't even have to worry about
that I can just run npm start and it
starts up the server okay with that I
need to see if this actually works with
if I have my own my sequel database I
don't like that they are trying just
like run on my sequel database on their
own with docker I would rather than just
say hey we're sequel eyes you set up
your own my sequel database and then I
can point it to it and I can run docker
if I want to but I guess I don't know
why they're trying to do that I don't
know if they're trying to make it easier
on people or what but yeah it struck me
as very similar to sequel eyes at least
with what it looked like here all right
so like they created all this stuff for
me to query the database and things and
create and then I set up my model like
sequel eyes
it looks like they're just
auto-generating graph QL as well for us
so that's the thing that's a big plus it
makes this better than sequel Ison
personally I don't like sequel eyes that
much so I'd be happy using this over
sequel eyes but yeah we'll dig in deeper
tomorrow this is just my initial
looking's at it and I want to spend more
time with it because it has good
potential to be something good but
that's it for this video guys
thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>