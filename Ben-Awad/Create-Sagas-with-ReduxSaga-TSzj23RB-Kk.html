<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create Sagas with Redux-Saga | Coder Coacher - Coaching Coders</title><meta content="Create Sagas with Redux-Saga - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create Sagas with Redux-Saga</b></h2><h5 class="post__date">2016-12-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TSzj23RB-Kk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys in this video we're going
to be looking at setting up the
functions for the sockets so to do that
we're going to be going into the actions
and then action creators so this is just
an empty file right now and we're just
going to start creating some functions
so the first one that we want to create
is a created item and we're passing it
an item and this is setting up a action
for reducers so we need to have a type
and we're gonna call it created item and
we're just gonna pass item in and then
the code is almost the same for each one
for updated item we're just gonna change
the name to updated I am and down here
for removed item removed okay so we have
these three functions created updated
and removed item so these are all socket
functions that are gonna be listening
and when I sock it is gets new data it's
gonna call this function but we would
also like to just call the API ourselves
to create new items and to update items
these are only listening for changes we
want to actually be able to create items
I'm and delete and update items so we're
gonna create three more functions that
are gonna be actions to dispatch those
commands so let's create a create item
to create an item we'll just pass in the
item that we'd like to be created and
will create have the type
create create item and just pass the
item in okay and very similar for the
later two as well slightly different
this time
so for update item we need to pass in
the ID of the item that we'd like to
update and then the new data that's
gonna overwrite the item so update item
I see in the ID and new data and then
for our last one remove item we just
need to pass in the item of the ID that
we would like to be removed so remove I
guys see an ID we don't actually need
anything else okay and there's actually
one last function I wanted to add as
well and this is just for showing all
the items when the page is first loaded
so find all items and all that does is
final items so type find all items and
that doesn't need anything else like
it's just gonna find all the items as
name parameters or anything so these are
actions those are all set up nice and
good our socket functions we're gonna
set up with reducers but it makes more
sense to set up our restful and just
real quick I want to point out these are
the socket socket actions right here and
then over here these are our restful
actions these four up here so these
these guys right here we're gonna have
to create sagas using redux saga these
allows us to do a Singh
goodness API calls whereas this these
three up here will go straight into
reducers if that doesn't make sense just
follow along we will be making more
sense in a second so there's a folder
called sagas we're gonna go into that
and open this file called sagas now what
this is this is a library that allows
you to make basically asynchronous calls
to a server and then once it gets to the
result it allows you to dispatch an
action and it goes to the reducer and
reduces and updates the state of our
application so what we would like to do
is call our feathers API so we call
feathers API and then after that we get
the result of whatever is calling that
and once we get the result we dispatch
an action once we dispatch an action we
have a reducer which reduces it reduce
action and then this updates the state
and then our UI changes and you'll see
new to-do items pop up okay so to do
this we're gonna have to create some
functions so this uses a different
syntax slightly different syntax you'll
see a function star and we're gonna
create one for each one of our restful
actions so first one going to call find
all saga and this is going to pass app
two functions service and action it's
going to generate results it's going to
call a function called find all items
which we have not created yet and we're
gonna pass in the service to that and
then we're gonna yield and then we're
gonna put then we're gonna pass in the
type
find all items done in the past in the
result ok so what's happening right here
and actually we don't even need this
because of how our sockets are gonna be
working so normally what happens is what
you will do is you will call the API and
that's what this is doing right here we
have not created this all items find all
items yet that we'll be doing in the
next video but we'll be calling a
function which will actually do the API
call and then once we get the result we
will go ahead and we will update the UI
because we're doing sockets the sockets
will automatically update the UI so we
don't even need to like listen for a
result back all we do is we just call
and then we're done that's it for that
and then to actually when do we do when
do we call find all saga well when you
create our function which is kind of act
kind of is the listener so find all saga
and I want to change this name to find
all items and check all this find all
saga and then call pass in as a printer
service and this is what's going to
listen for the action which we already
created find all items so every time the
action final items is called we like to
call final items and pass in service as
a parameter and then down here we just
need to fork off the find all saga okay
and now we need to do this four more
times this is a lot of boilerplate if
you want to go to github and then just
copy this that might be a good option
because they're going to be very similar
each one so find all we also have a
create item saga we have
update item saga and we have remove
items saga I'm just gonna copy this and
haze paste so create item call create
item and this will call create item and
we'll pass in a service and we also need
to pass in action item which is that
actual item that we will be creating and
then instead of find all saga we will do
create item saga and we'll be listening
for the create item action and we just
need to make sure we call this guy right
there okay so that's our create now we
need to do our update update call update
item and then we're gonna call update
item and we pass in the service the ID
action to ID and action dot new data and
then update item saga and this is gonna
be listening for update item and then
right here we do call update item
service that's good and then our last
one is going to be call remove item
we're gonna call remove item and then
we're gonna pass in just be ID action
that ID and then right here we're going
to change this to remove item saga we're
gonna be listening for remove item and
then we're gonna call remove item
okay that was a lot of typing but we
created our four functions right there
in the next video we're going to be
creating four more functions that is
that actually called the API right here
this is just listening into some Redux
boilerplate for redux saga in the next
video we'll actually create the API for
the four functions create item update
item remove item and find all items and
we're getting this from service API so
in the next video we'll be creating the
service API full this file with all our
functions to call the API</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>