<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>One Way to Split up a GraphQL Schema | Coder Coacher - Coaching Coders</title><meta content="One Way to Split up a GraphQL Schema - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>One Way to Split up a GraphQL Schema</b></h2><h5 class="post__date">2017-08-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4XmQi80nFes" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I want to go over one way you
can split up your graph QL schemas there
doesn't seem to be like a great way to
do this I don't see any like standard
out there that everyone's using so I'm
going to show you one way you can
possibly do this using what we already
have and not adding any extra libraries
so right now this is what there's just a
little scheme I have right here and I
want to split up into separate files
because as this thing gets nice and big
this schema dodgiest could get giant I
could have a billion mutations a billion
queries and it's gonna be really hard to
see what's what so rather than putting
everything here I want to split up
between files now one way we can do this
is because this is just a string this is
just like whatever we want to go here we
could do string interpolation add it in
here and put it what we want there in
other files so we could put the type
board type suggestion and other files
and then do something like suggestion
right and then just grab that from a
different file so that's basically the
technique we're gonna take so I'm gonna
create here a folder called schema and
I'm put schema jeaious inside of it I'm
gonna rename this to index because this
is gonna be kind of our root schema if
you will inside this so one I might want
to do is suggestion
so suggestion is and here what I want to
do is I want to export three things when
I export Const types as a string
export const queries export connotations
and then what I'm gonna do so you can
cool screen these cool so what I'm gonna
do is I'm actually just gonna take my
suggestion that's a type so I'm gonna
put that over here and we can add to my
colons there's nothing other types I
want from that queries about user
suggestions I can bring over user boards
about some suggestions and search
suggestions and this one too
so all for that you should come over
here because they have to do with
suggestions so I have a bunch of queries
with suggestions nothing else I really
want to add over here create books
here's create suggestion so we can add
that mutation over here create author
alright looks good so then what I can do
is them just do import star so the first
thing I could do is I don't even have to
do a fancy way I could just say import
types queries and mutations from
suggestion right so we're just getting
these strings here and then I could just
add them here so types queries and then
mutations and that would work because it
would just basically add the string over
here it's the same as it was before but
what if we have multiple fire files it
would be cumbersome to just keep doing
types queries and mutations like adding
the strings over and do like one per
like we could have a like if I want to
split boards off into a separate file we
could have multiple of these right and
so just to simplify this what you can do
this doesn't simplify it a bunch but a
little bit so like I said let's say you
create a board is let's bring that over
here
so we can copy the layout and it's
important to keep the names the same for
what I'm about to do just so we it makes
it easier to add it to our schema over
here so let's give her the type copy
that paste it here
and we have users author
all right user boards we can bring it
over it that can be one query and
mutations creep board but as you can see
you can bring over whatever you want so
create it looks good so now what I want
to do is now that I have to I don't want
import twice like that so what I thought
would be like kind of fast way to do it
is just import all of them as suggestion
and import all as board from board I'm
not sure if I should make this uppercase
or not I think it's it's preference and
then when I can do so both of these are
objects right now that have these values
so what you can do is check for each one
you can just do like loop over and
create three lists so now we can create
a Const types Const queries
consultations so we have three arrays
actually they should really be now
that's fine
types queries and mutations and then
what we're gonna do is bring out loop
through each one of these things right
so make another list is called schemas
and in this we're gonna have the
suggestion
in the board and then we're going to say
schemas for each and then for each
schema what we want to do is we want to
do a type stop push s types and then
queries and the mutations so we're
looping through each one of these
schemas adding the types to the type of
way queries to the queries and mutations
and the only thing we have to do over
here since this is an array of strings
is to do dot join and maybe a newline is
appropriate here so we can do that here
as well
and bam now before I continue let's make
sure this is working so over here I have
graphical this was a query that was
running before let's see if it still
runs and it does compiles ok so as you
can see this is just one way to do to
break up the schema and now let me show
you what it would be like if we were to
add another one so let's say we want to
do non suggestion I mean you're a
suggestion board let's say book for
example book J s we can copy or this
stuff here we can bring our type
definition over here and we can come
over to our query here's all our book
queries another mutation create book at
author 2 book maybe you want to group
book and authors together you know you
can make it whatever you want but the
mutations are queries together wherever
and bam ok so we have this file now so
right I just made a new schema called
book so now that you have this setup
setup whenever you create a new schema
all you do is do this
so you import it book and you add book
to the schemas
and that's it it's all ready to
automatically add it in and you're good
to go and we can see run the queries
still builds and runs okay so that's it
for this video guys let me know how you
guys actually build push your schemas
together combine them if there's a
better way this is just kind of one that
I thought of that'd be kind of a simple
set up and you're keeping all of them in
strings still so it works with Apollo
server nicely and it's it's pretty easy
to set up and do now you're not going to
be doing type mutations type queries for
each one you're just kind of gonna put
the queries here and the mutations here
so that might be a little weird there
might be a better way to go about doing
this but I couldn't find anything that
was like a good standard and so this is
just one way that you might want to try
it in the future so thanks for watching
guys and I'll see in the next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>