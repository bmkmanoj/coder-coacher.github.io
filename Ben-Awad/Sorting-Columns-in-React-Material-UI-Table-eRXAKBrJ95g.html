<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sorting Columns in React Material UI Table | Coder Coacher - Coaching Coders</title><meta content="Sorting Columns in React Material UI Table - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sorting Columns in React Material UI Table</b></h2><h5 class="post__date">2017-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eRXAKBrJ95g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys thank you so much for your
suggestions on the slack clone I'm gonna
let people catch up in this series and
let them vote on what they want to see
in the next week we'll start
implementing the features you guys want
now I got another suggestion about how
to do material UI tables and that was
sorting so usually you were able to
select these user name last name first
name columns headers and it all sort
ascending and if I click it again it'll
sort of descending so that's what I'm
gonna be showing you guys how to do
today now you might notice I'm on a
Windows computer that's why things might
look slightly different but luckily
Visual Studio code works on Windows as
well so it'll look fairly similar okay
let's jump into things so the first
difference you might see is I just
pasted it in some data here so I don't
have to keep typing out random stuff
that's the only difference is I just
have a bunch of JSON data filled in my
initial State okay so how are we going
to sort these headers over here this is
in our table so we want to add an
on-click to these column headers so we
want something like this where I can on
click and I'm gonna make just DISA div
right here div and on click I want to
call some kind of sort function handle
sort and I'm just gonna pass X stop drop
so a handle sort so we need to pass in a
handle sort function and I'm just gonna
pass in the name of the column that we
want to sort which is called X prop and
we should handle it and our app dot J's
how this is going to get sorted so I'm
gonna give that a save come over here
and create a handle sort function so
here is gonna be the column name that we
want to sort
and we're just gonna pass that in here
so handle sort it's gonna be this light
handle sort now how do you want to do
this because whenever we've this column
name we want to sort on that column and
we need to know what we sorted on last
because if it's ascending we want to
flip it to descending now this could be
a pretty daunting task if it wasn't for
low - if you haven't heard of low - this
is a lovely utility library that has a
lot of great functionality that I really
like and one of the things they have is
order by this is exactly what they want
so we have a list of objects here and we
want to tell them to order by a
particular column so here they're
ordering by user and age and then you
say whether you want ascending or
descending so that's perfect
so we're gonna be using this and I'm
just going to open up my terminal here
and terminate that and do NPM install
low - now I'm doing M p.m. because I
have installed yarn yet on this computer
but you can also use yarn if you want to
okay so now I really just want to store
up here in my state the column to sort
and by default would be an empty string
and the sort direction so by default I
could be ascending for example and we
could put descending if you want - I
think that worked better for our
algorithm and all right let's add a
comma there so here all I really wanted
to do is set this set state
and I'm first going to grab the state so
what we want to do is we want to say
column to sort is gonna be equal to our
column name that we passed in and then
direction sort direction this is going
to be the opposite of what's here if we
already have the column here otherwise
it's gonna be ascending so we're gonna
say state column to sort if that's equal
to column name then we want to invert it
otherwise we want to say ascending now
how are we going to invert it so this is
gonna be another ternary operator I
suppose so if state dot column to sort
you don't actually let's just create an
invert map up here so I'm gonna just say
Const invert direction so ascending
it's descending and descending will be
ascending so now if I pass it in here
we'll just flip it around so coming back
now I don't have to do ternary inside
ternary I'll just say invert direct I
didn't call it direction in very
direction there we go so I call it
invert direction up here nope direction
there we go
okay so let's just go over the code one
more time so we're setting the column
that we want to sort equals the column
passed in and then our sort Direction
here we're first checking if we already
have sorted on this column before or if
it was the most recent sort if it was we
switched the direction otherwise we sort
it ascending Lee okay that looks pretty
good so now we need to actually sort the
data so we and we installed lo - okay so
I'm gonna just do NPM starts and my
server starts up again and then at the
top here I'm going to import and I'm
gonna do border by from lo - slash order
by so I'm just importing this exact
function so it's smaller to import than
importing the whole lo - package okay
so now coming back down here just in my
data right here I'm gonna say order by
pass this data and now I need to tell it
the column which is in this dot state
dot column to sort and this dot state
column or sort direction so we can just
pass those exact our state exactly in
here like that
and flow - we'll handle sorting this
data on this column in this direction
now let's see this in action okay
and I just misspelled it there we go
and cool so let's click on that now we
see all our a is here I can invert this
and looks like our inversions not
working we're getting an error over
let's make sure it was descending yep
all right so let's see what's going
wrong with our code so I'm just going to
console dot log this thoughts state
column to sort and this dot state column
a sort direction so maybe our sort
Direction is not getting flipped like we
think it is let's see all right yeah
it's going undefined so invert oh this
should be sort direction I just used the
wrong thing so I was passing in the name
instead of the direction all right now
let's see yeah now she can come up at
the top I can sort these guys B's s's
each column seems to be working nicely
cool so that is how you sort these guys
now a lot of you may be wondering how
can I add like a little icon up here
usually they'll have like a little arrow
that point up or down so I'll go ahead
and show you guys how to do that as well
so we're just going to use a icon from
material UI and I thought this arrow
dropdown looked pretty good or this
drop down or maybe these these keyboards
you pretty much use any icon you want
will use these and so this is under
navigation and so we're just gonna come
over here to our table this is a purely
aesthetic thing and we're gonna install
down arrow and port this from navigation
and that's arrow drop down so arrow -
drop - down and up arrow I assume is
drop up yep arrow drop up so down up
okay so here we want to pass in now to
our function
what column we're sorting on so column
sort it's equal to this dot column to
sort that way we can show over here
column to sort and we also need to pass
in the direction so we can show which
direction the arrow should be so sort
direction is equal to this dot state dot
sort direction and we'll grab those
props here so sort direction and column
to sort and then our header right here
what we want to do is we're just going
to show the name right here and let's
drop down we want to conditionally show
our icons so if column to sort is equal
to our name
so X top crop then we know we want to
show something otherwise we're gonna
show null I'm not sure why it what it
doesn't like oh cuz we have two of these
so we're gonna display an array here I
think do a comma does that work and
maybe I just need to do it like that I
don't know how we display this and that
here why don't we just do a span tag
there yeah
all right now looks like the air is
their way so okay so column to sort if
it is equal to our prop we need to know
if we need we now know we need to show
some sort of icon so here we're gonna do
another ternary operator and we're gonna
say sort direction if it's equal to
ascending then we want to show our
ascending icon which I guess is was it
up arrow up arrow could be our ascending
and down arrow can here descending you
can just do this whatever way you want
to and let's see if that looks correct
so by default we see nothing I mean that
did not work so here what I'm gonna do
is I'm just gonna console dot log column
to sort and X prop to see what we're
doing wrong and if I do an or it'll also
evaluate this conditional okay so always
undefined looks like I just call them to
sort past it and wrong call them the
sort yep it should be state there we go
all right cool so now we see a little
arrow pop up so we can get rid of this
console.log now
oops and I need to go back confirm the
arrow was only popping up here right
cool
so now if I sort over here notice how it
goes away there go down up so that's
awesome so now we have this like on that
represents as we're doing it now I'm
sure some of you are cringing right now
because this is off-center so let's fix
that real quick and that's just a quick
style change so honored give we're just
gonna say display and we're gonna say
flex and we're to say justify Content
Center and we're gonna say aligned items
Center and sure enough now our arrow is
much more aligned with that guy so cool
but I did just like mess up this thingy
I think it was our justify:center yep
okay cool
now it lines up better here I'm used to
centering it in the center so now with
Hawaiian items that'll make sure these
two line up but we still are above the
correct rows so cool says that for this
video guys I hope this was helpful for
creating a sortable list of our table
and I'll push this code on the github if
you're gonna check it out and that's all
for this guy's
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>