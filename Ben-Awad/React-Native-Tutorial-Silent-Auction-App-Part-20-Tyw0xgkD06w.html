<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native Tutorial - Silent Auction App Part 20 | Coder Coacher - Coaching Coders</title><meta content="React Native Tutorial - Silent Auction App Part 20 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native Tutorial - Silent Auction App Part 20</b></h2><h5 class="post__date">2017-05-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Tyw0xgkD06w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys when I left you last we
did not have a time or date pickers so
we're going to fix that right now and
add it right here so come over here on
the small library it looks like you'll
do it we want and it looks pretty nice
here you can see the demo of it it
switches for Android and iOS so we're
just going to copy that and we're going
to come to a project do yarn add and rml
library and then notice how this is
working is has a state here and then
basically a button that toggles whether
it's off or on and that's kind of how
we're going to do it too but notice how
we are in a peer so we actually cannot
basically we can't do that we need to
create a basically little component here
which I guess we can making components
which we will call date picker which we
can then use inside of that and then our
date picker is basically going to copy
and paste is so copy that but instead we
really would like a button and we'll
just see what whirring air is wrong
unexpected dangling underscore okay just
releasing out of this course so let's
remove these underscores because they're
really not necessary okay
now render is getting an aerial to a
year we'll call this component date
picker
expected space Oh rook so now we have
this little function we're going to use
this is we're not we're not down with
this but we're going to leave it for now
and then in our view auction what we're
going to do on review action our auction
form that we're going to come down here
we're going to import date picker from
go up one go up to component D picker
and we can copy that
I'll get last here the name of this
field is going to be date don't need a
placeholder don't need bat and then
there's going to be date field we need
to make a new one of these copy that
through B date field
then keep that keep that we don't need
that don't need that
alright and then the only thing we're
really putting here is we're going to
call it a picker and then on date change
we're going to pass it a new date and
recall on change and we set that date
okay so the date field what it does is
it renders a date picker which is what
we're going to make and then we need to
actually add this prop or passing in a
prop on date change which we basically
need to do here which is a callback that
we're going to call a date picker and
then pass the date so it can then do
stuff all right this looks pretty good I
don't think we're going to need to
really worry about errors so get that
off for now so now we just need to work
on what this date picker actually looks
like and come here and copy some native
base styles what we want is that button
I think I think that's actually maybe
that's all we want the button come down
here copy this button
your button will go here and a date
picker will go inside of here maybe in
time carryover button then we have a
date picker that's all needs to be in a
view let's fix this all up you don't
need text along is that sure you need
yeah we don't like that we get tech is
text from native base let's see yes we
do
there we are that's looking good now
it's 6:00 why that log on Ares here so
that should be lining up there push
those all over and why we get an error
here unexpected intention oh it just
need to be over a little bit more no
okay no does that I don't know why this
is messed up no it's okay it doesn't
like it
why isn't like this convention expected
intention of six space characters but
found eight I mean we can just I think I
think my editor is like picking up how
the spacing is on something else on how
it was before
okay that looks good can move this over
we don't need I don't think we need any
style ya know cuz we do block is fine
and then when we press the button we
press this button is what's going to
toggle the visibility of this and I
don't know why that that should be over
a little bit
okay so sure okay this looks pretty good
we'll be on press we'll call a show
daytime picker
just call out and we don't need text oh
yes we do
text here is going to be select date all
right let's see what that looks like so
open up or form in a forum and we're
getting there
so there's something wrong here let's
try opening this the end okay so we have
something definitely wrong up when this
happens
let's make sure okay the library
installed correctly what happens I just
like to basically get rid of stuff so
remove that so now all we have is a
button
okay still an air time date field day
picker hopefully that's the right path
crushed create option we wouldn't want
to do go and change how the route works
and just make this be initial route so
we'll go there first we're loading
uncaught okay that's not great that's
not going to help us debug I thought it
might
okay so date picker take time picker is
it because we're not exporting nope
we're exporting I don't need that I mean
okay so the problem is this date
field is messed up when I remove that
right it does work all right
unexpected token okay so the problem is
with a date picker so the first thing I
want to do is now all we're going to
return is text whoa
okay you can comment all this stuff out
all right refresh all right hello
renders okay
now i'm going to uncomment that refresh
still works and so I like to just like
keep doing these things until basically
something works I slowly add it and then
I can see what is causing the problem so
now we'll just render the day time
picker yep and that looks like it's the
problem oh we just need to add what
confirm is
on confirm on cancel okay so we just
need to notice how I was complaining
about those they're just add those two
functions alright awesome so looks like
it's there now I switch these to what
they should be this should be should be
handled date picked and on cancel
we actually don't really want to do
anything do we I guess you want to hide
it
this hide date/time picker this will be
this on confirm date or we can just call
handle date pick pretty fresh and that's
where a problem is right here and so
being easy fix
half the date in like that that all was
nope you're still doing a problem so on
confirm we call a handled date picker
which calls hide which triggers it
okay it's having a problem with this
handle date picked like this was working
fine
all right it's on cancel maybe it is
like on cancel one yep looks like it's
on cancel all right so we want to do
nothing on cancel cool okay so those on
cancels throwing us an error for some
reason so handle date picked all right
cool so on cancel just going repeatedly
called now we can uncomment this okay so
for a reason manager is not uncommon
tain't and we can change put you here
all right refresh and we still it an air
have a goodbye remove common tactile
okay that guy's not calling it doesn't
like okay we're going to remove the on
press of the button maybe okay so for
whatever reason the button was being
infinitely clicked there's something so
and okay
refresh okay we're now good eight
rendered that was a very odd I'm not
sure why it was happening at all so
we're going to start slow because stuff
seems to be crapping out click now and I
click this button you see clicked here
awesome
so what we really like to do is say
those thoughts set state and say is a
time picker visible true and we're
sub visibility is visible so okay go one
step at a time make sure that doesn't
mess anything up and it did why is it
causing a problem just adding an on
press to this button is just messing it
up I'm curious as if it's because it's
inside of a redux farm field this this
thing is neither being called
two very odd and what we might do is
just get the date picker values
separately okay so the button is just
being spammed clicked or something me
doesn't like I on I honestly don't know
what what it's having a problem with
let's try saying the visibility okay now
if i refresh okay doesn't cause any
problems
i wonder if it doesn't like the view but
if we did a content reading grab content
from native base say goodbye to view
okay
refresh make sure it doesn't mess
anything up
awesome it doesn't
alright come back and let's try a doing
and on press again because we need
beyond press here and it will just put a
dummy value okay cool I think if me
maybe you just need to have content
there um so on press we want to just
call this dot show daytime picker
refresh yes it worked and and then on
cancel called this hide okay look like
the problem of I use using view instead
of content which was literally exploding
the app
all right good pick it day to confirm
the date has been picked very nice very
nice um
the spacing looks very olives on this we
can worry about that later I guess okay
so how do I toggle between whether it's
a time and whether it's a date
display calendar by default it's a
calendar I want to do it for both iOS
and Android though oh I'm blind
oh there's a boat daytime huh
that would be amazing so let's see what
this looks like this might be the
perfect combination of what we wanted
yes this is exactly what we wanted and
it brings us back a day time all right
that is exactly exactly aligned alright
so now to continue on with this I would
like to show the date here so we will
show this in the string will create a
state called selected date is equal to
an empty string and I'll say select a
date this top state that selected date
if it exists then we'll show it else
will show select a date and cool shows
that and then here what we can say is we
can do you can hide the date picker and
set state and then select a date is
equal to date
um so just spacing to refresh that so
that when I select a date confirm
objects are not valid so basically we
just need to convert this to your string
click my date awesome we need you'd like
to format this so JavaScript
date format and so you're going to find
the formatter
it is
doesn't show how to fun in it it just
says what it takes
see it's a stack over folks help us out
okay we can do kit date looks like and
I'll give us the day get month get full
year okay do a get date gives us it's
alright yeah okay gives us one so this
should give us two like gives us the day
okay Jews I guess we could use moment
for this let me just use moment so
moment je s is what we used for the
format dates on the other side so I
guess we can just format it here as well
and the other this is actually exactly
what we want to happen this is exactly
actually what we'd like it to look like
cool copy that and then we just pass in
our date object and we just need an
important moment click the date confirm
any first 2017 for 37 27 p.m. very night
so now the only other thing I really
want to do is we can call our callback
on date change this stop props on date
change and then we can pass in our date
so Const M date is equal to a moment
date so for a database we're going to
need this an ISO format so I'm thinking
we just format it for ourselves right
here so see if there's an ISO format
moment format ISO
huh format with no parameter so by
default awesome to actually just this
okay so we're calling this props on date
change and we're passing in format
that's going to go to this function
right here you notice how we call an on
change what this is doing is this allows
us to basically update the Redux form so
now here date you can just do this
exactly do date data is required then
here in console dot log date so now when
I submit something with a date so an
Apple select date then submit and notice
how we have this nice date object here
of what we selected awesome so the only
thing I really want to do is add some
spacing here so this doesn't look super
awful and then I think we're pretty much
crazy like just send this off to the
server so just copy the e margin we did
there margin top so I think margin top
you want to just give it like maybe a
ten margin right margin left in as well
what that looks like it looks pretty
good I don't know why
tl there's a little extra space here but
not space here I wonder if it's because
I'm using item last it's adding
something odd no it's not
so we can keep that I guess go back to I
wonder if its content adding this weird
spacing I don't know why the spacing is
there I don't like it I guess we can
just say margin right or sorry not right
left and not add a margin on the left
because for whatever reason there's
already looks like one yep
no oh looks like there's like a default
one looks like it might be like 15
though and then we can also do strip out
a margin on the bottom yeah doing margin
bottom 10 - how that looks absolutely
reduce it all right I think we'll leave
it as that
so our former we can quite nice pick a
date and we can see it print out we
submit we can see it print out awesome
all right so I'm going to leave this for
now and then in the next video what
we'll do is I don't like the comma in
the next video we will actually swimming
hit the submit button will submit it and
save it to the server</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>