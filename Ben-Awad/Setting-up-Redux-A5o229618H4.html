<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setting up Redux | Coder Coacher - Coaching Coders</title><meta content="Setting up Redux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setting up Redux</b></h2><h5 class="post__date">2018-01-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A5o229618H4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys we're gonna be setting up Redux
so when we click our buttons and our app
we're gonna be managing the state and
keeping track of what buttons have been
pressed with Redux so before we get into
installing Redux and setting it up I
want to make a quick change to our
buttons here the first is the background
color of the buttons I want to make them
F 2 F 2 instead of FA just so they show
up a little bit nicer with the white
borders and then also right now we're
using a view as the background but we
want to make these clickable so or
pressable so instead of using a view
component we're gonna use a touchable
opacity component it sounds kind of
weird all that is is a view component
that can be touched so touchable opacity
and you'll notice no visual change over
here when we add this light refresh but
when I click it notice how we get that
nice little fade on there so now we can
actually pass a on press to this so
we're gonna pass as a prop on press to
our button now if you've done react
before you're probably used to on click
on react native it's on press is the
function so on presses call it whatever
one of these is pressed so for example
on press would be called there so now in
our app dot JSON specify what we'd like
to see when a button is pressed ok so we
have that set up we can start standing
up redox so first thing is to install
react Redux and also Redux so this is
the library and then react Redux helps
us use Redux and react to fire event
because you can also use redux and
angular view and other libraries ok make
sure to npm install that i reran this so
I'm not gonna run it right now when you
have that installed what we're going to
do is get it set up so now to set this
up usually create a store and then you
wrap your app right here and let's call
a provider tag
and then after you wrap them provider
tag you can connect components to the
Redux store we have a small problem if
we want to add a provider tag to our app
we can't connect our app because the
provider component is not around it now
this might not make sense but what we're
going to do is create a new we're gonna
rename app dot J s to main GS and we're
gonna create an app dot GS and well app
jess is gonna do we're gonna import main
from dot slash main and here we're just
gonna export default a function and what
our function is going to be is our main
app so if we don't do anything this
should your import react import react
from react so all I did was create a new
file called app dot GS and that calls my
main dot j s right so we should see the
exact same thing over here the reason
why I'm doing it like this is we can now
initialize Redux in here so now I can
say import create store from Redux and
import provider from react Redux so we
want to wrap this thing with a provider
tag and provider just gives us access to
the Redux store so that's why I wanted
to wrap this main with this provider and
I couldn't really do that if I just had
one app so this provider what it does is
we're gonna create a store so Const
store it's gonna be equal to create
store we're gonna go over how to create
the store we're gonna have to pass a
parameter but you pass the store in here
and this is gonna be your redux tour so
a Redux tour here we don't have a
function so it's you know we'll fix that
in a second I just want to explain what
this provider thing is doing so when we
set up our store we're gonna pass it to
a provider and then any components
inside of the provider now have access
to the Redux store so my main dot J's
can access the Redux store and the way I
do that is by importing connect from
react redux so this is a special
component it's called a higher-order
component and what I can do is I can
wrap my app this guy right here
I can say connect and we're gonna pass
some parameters to connect which we're
gonna get to but when we pass some
parameters to connect we actually are
gonna get passed as properties to our
props to our app the value of the Redux
store and then we can actually render
what's going on the store here and this
will make more sense as we fill this
stuff out so let's get started with that
so let's create our store now how to
create store works is there's more
parameters you can pass in with rolling
we're gonna keep this very simple and
the only one we're gonna pass is our
main reducer so I'm gonna create a file
called reducer dot j/s and we're an
import we don't need to import anything
I'm just gonna export default we're
gonna have one function that's gonna be
our big reducer and in our main no we
don't need to just touch our main on our
app we're going to import reducer from
dot slash music we're in a pass in
reducer here so there's these things
called reducers in Redux and it all
reducer is is a function so we're
importing reducer from dot slash reducer
so that's this guy right here and he is
going to be a function so this is a
special function though how it works is
it takes with current state
and in action and then it's going to
return the new state based on what the
action is so action is a special
disguise is special because he is of the
type is a type which is some const son
constant usually and then he's gonna
have a payload which is an object with
like data in it so we're gonna change
the state in a different ways depending
on what the type is and we actually
create these actions which i'll show you
and we'll get to in a little bit so
we're gonna create a switch statement
and we're gonna say action type and
we're gonna do different stuff depending
on what the type is so for example the
type could be bob and maybe we return an
empty array like that and doesn't like
it oh I need a use case case default
return state there we go
so here is what hey reducer looks like
let's get this let's get this rendering
right now so I'm gonna get rid of
connect on app right now cuz we're gonna
fit in a second and state there needs to
have a be a default state for us our
default state is going to be an empty
string I'm gonna be changing this later
but this is just gonna show you how
Redux is working I'll just say state
there too
let's see if this loads now or if we
have any heirs okay so our default state
is an empty string and to just
demonstrate to you guys how Redux is
working since we have it set up now I
want to click this button and I want to
see the numbers appear here so the way
we're gonna do that is we're gonna
create an action
and you know what I can just create I'm
gonna create it in this file so I'm just
gonna call this okay I'm gonna call this
file like action reducers maybe just
like modules and I'm gonna say export
Const reducer and then up here I'm gonna
add my actions so now in my app KS we're
gonna add curly braces and we're gonna
get this from module modules so now my
module folder will have a reducer in it
but it's also going to have actions area
so I'm going to export Const what do we
want to call this a type number maybe
type you know press number will say
press no keep it short okay so what
press num is this is going to be in
action and I press num can take some
variables here so baby the the number
right and so I'm gonna just call this
the payload it's gonna be the number and
the type I'm gonna create a Const press
num is equal to press num so type is
called press num and then the case here
is for case
press num okay so now when I call this
press num action what happens is I take
a number and I'm returning an object
with the type press num and the payload
is gonna be whatever this number is so
now whenever I get to this case press
num here what I'm gonna do is I'm going
to take the current state and I can I
can deconstruct this action right
because we know it's gonna have to type
in a payload so now our payload is gonna
be whatever number was pressed so here
I'm gonna say state and then we're just
gonna add on to the state whatever the
payload is whatever the number is
because our state is just a string so
I'm basically adding to this string this
looks pretty weird we could put we could
also just say returns state plus payload
to write I'm just using string template
there these should do the same thing I
believe we'll put this because it's a
little simpler okay so now I need to
call this action whenever I press a
button and I need to show the state show
the state here in our app so to show the
state I'm going to use connect
so Kinect has two parameters the first
is called map it takes two functions as
parameters it might take more I'm not
sure actually but I've only really ever
used the first two so the first one says
it takes the state and you map state to
props and the reason for this is if I
want to call this something else like
for example I can call this current
number and it's not happy with me state
is not defined but never used and we're
just gonna return current number it's
gonna be a state there we go so now
can't find variable current reload cool
so now in our props over here we're
gonna have current number passed in and
so now I can render current number here
turn over all right so notice how the
current number we see nothing here and
that's because our state is nothing so
if I were to add a zero here we should
see our default state as zero and this
is 12 you should see 12 there because
what's happening is in our app over here
I'm grabbing the current state right
because that's state and then all we're
doing is we're saying what we want to
call the state I'm calling the state
current number and we can manipulate
this in any way we want to so I'm
calling a current number and then I'm
grabbing the current number in my app
and the reason why this is in the props
is because I'm using this connect right
here okay so I grab that here and
because we haven't done anything haven't
shown anything we're just grabbing the
default State that's why it's important
to show a default state now we'll just
set the default state to zero and so now
when I click a button what I'd like to
see is I want this action to be called
and I want this operation to occur we
take the current state which is zero and
then we add whatever payload we at
call of press number to it so the way we
do this is we're gonna in main so we
added an on press to this button here so
really I want to say on press and when
on press occurs I would like to call
this action press num so what we're
gonna do is we're gonna import press num
from dot slash modules and it just mat
me because this so you might be thinking
oh we can just you know type in here
press num right but this won't do
anything all right
nothing's changing and the reason for
that is all press num returns is an
empty object or not an empty object but
an object with type and payload so you
can't just import the action here and
call it so this is just a function and
we call them actions I don't know if I
explained that earlier but just a
function here you can't just call it
what needs to happen is you need to
dispatch so there's jargon that they use
in redux called dispatching and what
that means is you take this function and
the return value of it you pass to the
modules over here so I want to dispatch
this action so this is passed to our
reducer so to dispatch it that's our
second parameter to connect this is
called we given a dispatch function and
I like to use a special function that
Redux gives us called bind action
Creators Redux
bind action creators and I like to call
that hereby in action creators
dispatch is the second parameter so what
does this guy do so what this guy does
is this function takes an object of all
your actions so the action I would like
to bind is this guy right here press num
and what I'm doing is I am adding
dispatch to it so when I call this
function now the one that I passed to
the props and I need to rename this guy
so I'm gonna call this press num with
dispatch for example so this is gonna be
passed as a prop now press num with
dispatch and we can put it right here
press num with dispatch so because we
use this binding action creators
function and we passed in our dispatch
function here we can add as many actions
as we want in this but we're binding
this press num right with dispatch so
now when I press nine it should call
that action and it doesn't bummer I mean
I just didn't hasn't reload yet I was
thinking this was gonna work but what
should happens when I press this number
should call our reducer and we should
see state plus the payload updating okay
cool we do
only problem is payload seems to be not
what we think it is
Oh on press we just need to change our
button so on press really what we want
to do is when on press is called is
passed the text right
yeah I think that I think it should work
now so we call the function they give us
passing the text they give us we could
also do this over here I suppose yeah
either way would work well let's say
that nine okay cool
so now it does work so as I click nine
what's happening is this action is
getting called and it's saying type
press num payload in it's getting passed
to our reducer our reducer takes the
current state which is 0 at the
beginning but grows right so at the
beginning it's gonna be zero but then as
I press 9 the payload or the state
increases because we hit this case and
we're gonna return the state which is
going to be 0 plus a 9 attached to it
then the next date is going to be a 0
and a 9 in like this is the current
state right so I can just to keep
attaching nines to it so now what we're
gonna do is just add this to our couple
buttons here
so now 9 8 we can click any of these
guys and we see as we're clicking the
buttons our state updates so this is
just a quick overview of how a Redux is
working if you've never used it before
maybe that confused to you more but take
a look at the code the basic jargon to
be recognized yourself is this function
that controls what value is seen here is
called a reducer and this guy is
involved in touching the state now
important thing about this I forgot to
mention is you cannot mutate the state
if you've never heard of mutating that
means changing or basically you don't
want to say
here we want to return a new value for
it right we don't want to say state is
equal to 92 and then return state that's
not what you want to do you want to
create a new value of that's what we're
doing here
make sure it's immutable yeah so to
expand on this we're gonna be adding
more actions we're gonna be changing how
our default state is and then we're
gonna be incorporating these on presses
and do anything right now with those
guys but we're gonna be incorporating
more of these buttons doing different
stuff when buttons are clicked based on
what our current state is for this video
guys I hope this was helpful with Redux
and then in the next one we'll continue
on and actually start adding and doing
more stuff with this thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>