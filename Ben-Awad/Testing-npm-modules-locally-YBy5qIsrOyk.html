<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Testing npm modules locally | Coder Coacher - Coaching Coders</title><meta content="Testing npm modules locally - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Testing npm modules locally</b></h2><h5 class="post__date">2018-03-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YBy5qIsrOyk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so I made some changes to my
component Bokashi and I wanted to test
them out and make sure they were working
so to do so I wanted to create a
separate project and poured it in and
then use it so that's what I have right
here and I want to talk about what the
different options are to getting a local
NPM package and using it in a project
because I've been doing something very
bad and that is publishing this to NPM
and then just installing it as a regular
package and really I should test it
before I publish it to MPN because I
could have thrown a bug in there or made
it crash or something so it's good to
test this beforehand so how do you test
this beforehand how do you test a local
MPM module right well one option is and
this is what my directory structure
looks like so I have this is the source
code for Picacho right here and then app
KS is in this folder called demo and
demo is basically a whole nother NPM
package that is just a demo of it so
option number one is to just install a
local package with NPM or with yarn so I
can do yarn and just do dot dot oops
I'm ready and pikake so assume we're in
demo so yarn dot add dot so like instead
of a package I'm now specifying right
here this is what I want and we'll do
dot dot slash just specify that it's a
local package not just dot dot that
doesn't work okay so notice it's
installing this package and if we go
into package JSON we will see it pop up
here in a second now this is a fine way
of doing it but there is one downside so
it will go ahead and install the package
and add it to package a JSON it'll be at
node modules but if you made changes to
the code over here in the library it
will not update you'll have to run
add the package again whenever you make
changes so that can be kind of annoying
so yarn and NPM have this thing called
linking that you can do so I'm just well
this thing is loading what you can do is
in the original package so pick a cheese
the package I would like to install so
you can do yarn link and this will go
ahead and get it ready for linking and
you can see I've already linked it so
you can do yon link or MPN link either
one and then in the package over here
I'm in pikake CD ditto so then the
package over here what I would do is
yarn link Vacanti and now what will
happen is whenever I make a change in
this project it'll go ahead and
automatically change it and demo because
it now linked the module and if we run
NPM link it'll actually show us the
directory that it adds it to so we can
see that it sets up a symlink so
whatever changes are made
it'll be changed in node modules as well
terminated okay so something got messed
up maybe because I have I rated yarn
link on it it doesn't like it but yarn
link is enough to do it okay so why
didn't I do either those methods with
this cuz I didn't actually end up doing
those so here's what it looks like in
package.json you have a dot dot slash
when you add a local package like that
so those methods work most of the time
and I've never had any problems with
them until now when I was trying to do
expo for whatever reason Expo does not
like symlinks and adding the package
with a dot dot slash in it so I just
would crash every single time so what I
ended up having to do is the terrible
thing is right here Lib this is what I
published MPM I just copied it inside of
demo
and then in my apt yes I do dot slash
lib slash bukkake to get to work and
then in my package.json I had to install
short hash because that was one of the
dependencies so this is not a great way
to do it at all
definitely wouldn't recommend doing this
but this is like my last-ditch effort
because I couldn't get MPM linking or
just doing yarn add this directory
something with react native and expo
just didn't like it at all but it will
go ahead and work for react projects
just fine I've done it before
but this did not like so install the
short hash added the project the dist of
it here and then just go ahead and using
it here but I did go ahead and test the
project and it does work here the three
different methods now that we can do it
so this is a total drop-in replacement
for image here's the source this is us
using URI
here's us requiring a local square image
and then down here this is handling
multiple images and caching them all so
yeah that's it for this video guys I
just want to talk about a few ways you
can work with local NPM modules and then
worst case scenario you can copy it over
like this but this is not a recommended
at all but at least allows me to test it
before I publish it to NPM and so
there's no errors when you guys use the
package or anyone else uses the package
yep that's it for this video guys thanks
for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>