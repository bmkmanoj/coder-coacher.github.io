<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding Search to a React Material UI Table | Coder Coacher - Coaching Coders</title><meta content="Adding Search to a React Material UI Table - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding Search to a React Material UI Table</b></h2><h5 class="post__date">2017-12-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SX_IL7LqSxM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I got a request to extend this
material UI table for searching so what
we're gonna do in this video is add a
little search box right here and a
drop-down so in the drop-down I can
select whether I want to search by first
name last name user name or email and I
type in the box and then it will filter
down and search the items in this table
now to help us out with this we are
gonna be using the Select field from
material UI so if you don't know what
that looks like it's really nice just
come over here and you can click
whatever you want so we're gonna be
using that so I'm gonna copy this and if
you don't remember this is my metier UI
form and I'll link the code in the
description below if you want to follow
along with this so we're gonna copy the
text field here and add it to our app
over here and we're also gonna add the
Select field so I copied the select from
the material UI example and it looks
like I copied the import statement so
let's add those first so I'm importing
select field and menu item and let's
copy the select field here and I'm going
to add it here okay
now our texts and stuff is gonna be
different so we're gonna say select a
column and the value of this we're gonna
have to add to our state and we'll all
change these guys in a second first I
want to get our Star Tech Center menu
items correct so we're actually want to
use the same thing we are using right
here so first name last name username
email so the value is gonna be for
example first name and then our primary
text it's gonna be what we actually want
to display so value is not actually
displayed here and we can actually get
rid of that so last name this is only
used for our purposes so last name so
when for example on change is called
it'll pass us the value so here we will
have email you know and we don't need a
fifth one it will have password okay so
our select field looks nice we just need
to change our on changed and our value
if we come back to the example over here
it tells us how the handle change can
work so let's copy that and place it
here so I can come up here to my state
and we have a lot of junk in our state
now so let's add it to the bottom of our
state here so I'm gonna say query and
it's going to be an empty query at first
and then here I'm going to say column to
query and at first it's just going to be
an empty string or you know what we can
by default query first name
and make sure we do a comma there so now
down here the set state I'm going to set
column to query is equal to value so
value here so whenever a menu item is
selected the value that we pass here so
if I for example select password it's
gonna give us password with a lowercase
P to our value here and then to our
column to query we're gonna set that and
then the value here this dot state dot
column to query is what we're going to
show here so let's look at that and see
if that looks nice so I can select a
column so for example email or password
or last name so cool so now I want to
add to the side of this a text field so
I can actually type a query for this so
I'm gonna come and copy it what we did
for the form here so grab a text field
and paste that here and so I'm gonna
come up to the top copy the import for
the text field because I don't think we
have it in our app GS and we don't all
right so this guy so Air text we don't
really need the value is gonna be this
dot state query and then the name of
this we don't have to worry about hint
text we can say query floating text
query you can set this to whatever you
like I'm just gonna say query and then
on change we're gonna say this dot sets
state and we're gonna update the query
so I'm gonna say eat target value so
every time the user types on change is
gonna get called we're going to update
the state grabbing the current value and
the input and set that to our query so I
can be like hey guys
and so our state will reflect that now
the only thing left to do is actually
filter so down here in our table we're
passing this data in and if you remember
last time we have this little guy that
we can sort by our order by so the only
thing we're gonna do is before that we
are going to filter so we're going to
say this dot state dot query and we're
gonna do a ternary operator because if
we don't have a query we don't want to
filter
so this thoughts state data and we're
gonna filter so notice what this does is
if we have a query then we're gonna
filter otherwise we just returned this
dot state data now to filter this we're
gonna say X so X and here we're gonna
get the property that we want to filter
by so that's gonna be this dot state dot
column to query and we're gonna say
includes this dot state query we just
want to say state here and let's give
that a save so what this is doing is in
our column the query this might be first
name last name email so we're selecting
that from this column and we're saying
if this includes it then we're gonna
filter this out and I believe we want a
not is it not so with filter I believe I
always forget how this works
I believe if it meets the condition that
it's filtered out so if this is included
we want to keep it so I believe we do a
not in front of this includes now if
you've never seen includes before what
that does is it just a string it checks
if this query is a substring inside of
this string here which is exactly what
we want so for example first-name
let's type tan alright so I did the
opposite way we actually don't want to
not here give out a save so we see tan
there so tan
we noticed that filtered out now there's
one small problem with this and I would
like to see tan
you know ignoring the case right because
no one's gonna actually capitalize this
correctly so the way we can do that is
we can just say dot to lowercase on our
X here and then in our query we can also
say dot to lowercase now we don't want
to say dot to lowercase every time we
filter so what we can do is in our on
change when we set the value we can set
to dot lowercase to lowercase here the
only small problem with that is if the
users types capital Q okay I was
thinking it would lower case that the
value cuz we're setting column oops this
is on a select field I did that in the
wrong place I think what we're gonna do
is just set it up here so in our under
function I'm gonna say Kant's lower case
query is equal to this dot state query
dot two lower case so we'll do this at
the top that way we're not doing this
inside the filter statement which runs
every single time so instead of using
this thought state query we're gonna use
lower case query so when we lower case
the x value and lower case the query we
now can check just based on the
characters that they have so here's a D
and let's check this against other
fields here for example username and I
forgot about that field and I was new
being up we don't actually want to sort
by password we'd rather sort by it
user name so let's move that up you use
name there we go
so I just swapped out one of my menu
items so now I can say user name and
let's search for in bane so MB and we
can get in vain in eighth so cool so
that is how you can search and filter
out items in your table so again just to
conclude this what we did is we added a
select field here to narrow down which
column we wanted to sort by now this is
not needed at all if we wanted to get
rid of that what we could do is we could
view a bunch of four statements right so
X dot username contains the query or X
dot email includes the query and if any
of those are true we filter it out okay
so that's one way to do it but again we
filtered it down and then whatever we
type it updates in our state and then
that reflects and our render function
down here and we filter out the data
that we're going to pass to our table
and we get rid of all the ones that
don't match our query includes all right
and this allows us to as we type instant
feedback right because as I type a
letter the state is updated our table is
rearend 'red with it filtered correctly
so very nice and we can check email to
if we want to we could just get hey
maybe I just want or emails or maybe I
want calm or in maybe I want government
right so pretty cool so that's how I
would add filtering to a tape like this
again this is a very simple linear
search that you can add now this is kind
of annoying me that these are off
centers so I'm gonna try to format these
real quick and see if I can get that to
work but my CSS skills are not great so
this is a experiment on the fly see if
we can get this to work so I'm gonna
create a div around it
and tell them to flex so flex one and
see if that centers for us feel like it
might alright it did not so usually when
this happens what I like to do is just
inspect this and see why this is
happening so now that we're flexing all
right so this guy is actually alright so
I think what's happening is this guy's
just a little bit taller than this guy
so what I can do on this is add a style
and say margin-top Auto and I think what
it'll do is I'll push it down and these
two should meet up now
dang it didn't work I don't think an
added let's see if I added the style so
we have that inside of that we have this
guy and this guy and margin-top did not
work oh I want to display huh
okay that's what I did wrong I did not
wanna flex one I meant to say display
flex and now we might not even need the
margin top here alright okay cool so now
they line up but now they're not in the
center so maybe I don't know how we get
those the center actually because we
want them right here
maybe I say a line items center justify
it
items justified item center okay
I don't know maybe margin Auto I think
with that I would have to yeah
wrap it with a div on the outside so I
want this guy style.display flex and I
want this guy to say margin Auto and I
think that'll work for us yes cool so
what I did there is I have this guy
display flex and he flexes across the
whole side and then the div and the
inside I want him to display flex as
well and I don't want him to flex one
and flex the whole thing I just want him
to Center so I did margin Auto and I
have these two so there we go they now
line up my last little thing is a little
spacing maybe around them so margin left
maybe a 1 a.m. or something just to get
this guy off cool so a little styling at
the end there which has nothing to do
with how you would add filtering I just
wanted this to line up nicely with now
we do that's it for this video guys
thanks for watching I hope that helped
on how to do searching and filtering on</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>