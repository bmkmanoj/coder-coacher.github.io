<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React 16.3 Forward Refs | Coder Coacher - Coaching Coders</title><meta content="React 16.3 Forward Refs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React 16.3 Forward Refs</b></h2><h5 class="post__date">2018-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/p7OCG_osB0E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so react 16.3 just came out and
I wanted to go over some of the features
and I'm gonna just break it up and today
I'm going to be going over the
forwarding of Refs
and the new Refs API so if you're not
familiar with what a ref is it's handy
to give you access to a Dom node so for
example this is pretty much where I use
it for the most if I have an input field
like this we can see it right here
you'll notice my cursor is currently not
in it right but I have to click in to
get it so what you can do is you can
focus it so if I create a ref right now
how it works is you get a callback and
this gives you reference to this guy
right here so X right now is actually an
input element and I can called off focus
on it and now what you'll notice is when
this renders and we have to actually
check so X sometimes it will return null
so you just have to make sure X is
actually there and we'll save this and
now you'll notice my cursor is in there
automatically if you refresh it's
focused on there so this is really handy
so what is actually new so this is the
old way for you to do it so it's a
callback like this and the callbacks
kind of annoying an even older way to do
this is to actually set the ref as a
string that's like hey like that but
that's no longer a thing they prefer
this manner right here with the callback
and they even created a new version
where you do react create ref that acts
kind of like the string so we're gonna
look at this but before we look at that
to bring a look at forwarding refs so
what is up with forwarding refs well
let's say I don't have my input right
here but I create a new module called
my input and the reason why you might do
this is let's say you want to have a
custom styling or something so you put
it over here and you just exploit
default this function and then in here
you have your input right and then maybe
you have some props and then whatever
props you want to pass you like put all
the props on input here right so if we
come over here I would like to pass this
ref in to my input and it does but if I
now change this to my input and let's
import it okay so notice how it's not
focusing and the reason for that is ref
is actually not getting passed here it's
not getting passed to input you would
think it would be but what I have
reference to is actually be my input
component I don't have reference to this
guy right here
which is kind of annoying so what I
would do in the past is just reference
it by a different name so I would say
like my ref and then to be able to pass
it to this input I would just be
structure my props like this and I would
grab my ref off of it and then just pass
the ref in like that so I would say in
my wrath
and now you have the reference to this
input tag right here now this is how I
would handle it in the past but now they
react gave you a new way to do this you
don't even have to worry about doing
this not really sure if this is just a
better way of doing it but we can keep
ref here and this is where we use the
forwarding up references so we use this
function called react dot forward ref
oops and then inside of that is going to
be a function that takes props and a
reference so it's basically the same
thing as we had before and I don't know
if this is just like a convenience
function so now I can have this whole
thing wrapped and so now I have props as
my first and now I have my wrap and I
can pass my ref in and you'll notice
it's now focused and here let's we can
close this you can see all the code I
don't really know that if this is like
just better than what I was doing before
with I pass in the my reference and then
I put my reference here and that's what
I used to do or if this was just
supposed to be something to make it
faster do that or what I'm not sure what
the underlying thing but they have it
now so it's an official thing they
support so the last thing that I want to
look at is this so passing in the
reference like this so you would follow
along just how they do that like this so
we would create a reference and you have
to be using a class not a function like
this you you just use a reference
callback like this if you were using
that so we're gonna turn app into a
class and we're going to say extends
react component and we're just gonna
render and so they actually add it in
the constructor here what I've also seen
and what I kind of prefer to do is like
not even worry about putting this and
the constructor at all so just like
putting it right here in the static oops
not static but just kind of floating in
the class so now this is a class
property a text input and it's now a
react reference and all we have to do is
just pass it in here and now as you guys
saw in that little example component did
mount we now have access to it here and
we could say this dot text input dot
current and we could call it dock focus
on it so it looks like you just and
let's let's make sure it works we have
an unexpected token I forgot to just
close my render function there we go
and sure enough it focuses just as that
so notice the text input matches up here
and then we put the word dock focus to
get ears on focus but current I wasn't
really sure why they did that but I have
a little note here that says accessing
the current to get the current Dom node
I'm not sure why you don't just do this
dot text input and then dot focus I'm
guessing because current might be null
or something possibly but this is kind
of similar if you've used the string
before in the past but honestly I don't
use ref alot
I only thing I've really used it in the
past is for focusing an input field and
then maybe like scrolling being able to
scroll programmatically but now you have
a few other tools and
sixteen or sixteen point three to help
you out with this most of the time I
usually use the callback but this is
actually pretty nice because callbacks
can kind of be annoying as you had to
see depending on what you're doing so
now you have a couple options so both
are good use whatever is easiest in the
situation you're in so that's it for
this video guys I'll be hitting up new
features and looking at them and
explaining my thoughts very soon
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>