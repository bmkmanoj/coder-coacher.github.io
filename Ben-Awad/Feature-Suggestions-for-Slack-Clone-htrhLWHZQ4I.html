<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Feature Suggestions for Slack Clone | Coder Coacher - Coaching Coders</title><meta content="Feature Suggestions for Slack Clone - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Feature Suggestions for Slack Clone</b></h2><h5 class="post__date">2017-11-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/htrhLWHZQ4I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the last video we had a little
problem with our subscriptions so we're
authenticating with a token and a
refresh token which we pass to our
connection params well it's happening is
our connection params are only getting
round once and so if we login after
connection params have already been run
we get a problem so here I am just
printing the connection params when we
connect and these tokens are the ones
getting passed to our server when we do
a WebSocket connection which is what we
do when we do subscriptions so it's
using these tokens to authenticate so if
these tokens aren't the right ones
we can't authenticate so let me show you
this in action so if I click on
application and I just remove my both my
tokens so I'm just a random user and I
refresh
notice how the tokens are both set to
null so when I sign in with Bob
they shouldn't be no anymore and they're
not if I come over here to application
but notice how that does not get run
again so it passes the null tokens to
the server and we get not authenticated
now I tried some different things out
but I couldn't figure out how to like
well I couldn't figure out how they get
to work with Apollo because what we
wanted to do is have either some
middleware or something where we pass
the tokens to our website connection but
I couldn't get it to work so I think I'm
just gonna leave it like this for now
it's sad that this cannot authenticate
what you have to do is now just refresh
and it will work the other way for sure
you can get this to work is by passing
the token and the Refresh token as
arguments to our subscription but we'd
have to do that here and here and if we
add any other subscriptions we'd have to
do that for that too so it doesn't scale
very well it's really annoying so I
don't really want to implement that
right now I kind of want to see if I can
figure this out and we'll see how that
goes
now there's one quick thing I also
wanted to mention and that is remember
how we were doing transactions with our
team so we have a mutation over here and
where are we doing transaction here we
are we're actually doing transactions
wrong and this is my fault I actually
messed up these transactions I was under
the impression that because these guys
these three functions are wrapped in
this transaction function that they
would all be run in a transaction
automatically but that is wrong so
there's actually a transaction parameter
that gets passed to this function that
we're supposed to pass to each one of
these guys to tell it which transaction
it's a part of and just an option at the
end here so we just passed in
transaction like that and we passed it
and that guy as well and him as well so
they all have the same transaction that
they're running in which makes sense
right because we need to tell these
three statements that they're all
running in a transaction in which
transaction they're running in so now
our transaction actually works correctly
so that's good and that's all I wanted
to talk about coding wise in this now we
could be adding features on forever with
slack so I kind of wanted to take a
quick stop and check in with you guys
and see how it's going what features you
guys would like to see here are a few
that I just wrote down and that I've
seen you guys comment about and have
sent me emails about of functions you'd
like to see or features you'd like to
see I'm not going to go through each one
of these what I'll do is I'll post this
in the description below and if you
could just comment on this video and say
which one you'd like to see and then I
will whatever gets the most popular up
votes I'll pick that one and pick those
features and implement them and just go
from there so just a couple of them I
recently just picked up using docker and
I really liked it so we could deploy
this guy to pretty much we can deploy
this guy using docker I'll show you guys
how
set that up if you want if anyone's
interested in doctor if not we can still
just add any other features you guys
want to see there's a lot of stuff we
could do with this and anything that's
not on the list to that you'd like to
see feel free to leave comment below I
might have missed it or there's other
stuff you'd like to see so yeah that's
the plan for the future of this I'm just
going to start like I'm gonna kind of
stop developing general stuff and just
go straight with what you guys want to
see so that's it for this video guys
I'll push up the code for this where we
just add the transaction and yeah let me
know make sure to up vote and comment
would you like to see in the future
videos for a slack and if not we can
move on to the next project so thank you
guys for watching and I'll see in the
next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>