<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Typescript Types for GraphQL Resolvers | Coder Coacher - Coaching Coders</title><meta content="Typescript Types for GraphQL Resolvers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Typescript Types for GraphQL Resolvers</b></h2><h5 class="post__date">2018-03-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PPwcRKB3F4c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so in my last few videos I was
setting up Apollo cogent which allowed
me to get easily the typescript types
for my front-end with react and it made
it very easy to set up the types for
them and what I wanted to do is also set
this up on the back end so my resolvers
also had this so I would know the type
of my arguments and I could easily know
what I can and cannot do with them and
so the first thing I was looking at to
help me out with this was something
called graph QL prepare so this is
something that comes with the graph QL
CLI that's the thing over here so I
tried setting this up in my project and
it did not work how I think or I thought
it would work so the first thing I did
is I did graph QL on it and it created
this little dot graph QL config file and
I picked the EA mo configuration so it
looks like this and I added this bit at
the end here the prepare bindings
this is the setting you need to do to
set up for graph QL prepare and by the
way I was trying this out on my
typescript boilerplate server that I
have set up and so I also by the way
installed the graph QL CLI and we can
take a look you just do NPM install
graph kill CLI and then generate this
file I did graph QL on it and then I
manually added this right here and you
can see I tried running graph QL prepare
like this on the command line and got no
luck with it but if you put the settings
in this in the doc config file it seems
to work better so I also moved my schema
over to a doc graph QL file instead of
just writing it in a string so I just
copy and pasted the schema and so I
wanted to basically have graph QL
prepare create the types that I needed
from this so after I set those two
things up I was able to run
graph QL prepare without any arguments
and it would go ahead and create some
stuff so the two key arguments that I'm
passing in are the schema path and
that's - the schema and then the output
is the folder here generated Prisma and
it took me a little figure this out
the reason it's called Prisma here is
because I actually copied this from the
default Prisma configuration and here's
the generator so I want typescript
bindings and binding instead of Prisma
if we take a look at the prepare over
here we can see there's a couple other
options we can choose JavaScript or
Prisma we don't care about prism us
we're just gonna be using a regular
graph QL server so I pick type scripts
and some using types group okay so here
is what it generated and it doesn't
actually seem to be all that useful at
least I'm not sure how to add it so I
didn't even bother it looks like I have
to install graphical binding to get to
work as well and here's really the main
export down here is this thing called a
binding class and it has a query and the
mutations in it but you can see it does
go ahead and create all the types but
and we have this now schema but I'm not
really sure how to use this and this
could be because I'm new to typescript
so let me know if you guys know how to
apply the types that it creates but I
wasn't really sure how to basically set
the types for this so here are all my
resolvers right here and the other thing
is a lot of times when you're doing this
you split up your resolvers into both
multiple files right so it assumes that
all the queries are in this object
called query but I might have hello and
a different file than user and users
because a lot of times you split up
where you put your resolvers so because
of those two things I kind of tried to
look for
different solution other than this
graphic you'll prepare and I also looked
took a look before I quit on it too I
also took a look at graphical binding
and see if that could be useful since
that seems to be the thing that's using
for maybe they had an example here's the
example they show and notice how here's
this binding object and then they do new
binding at the bottom and what they
passed that is the schema right so
here's your schema and that's where you
pass in your resolvers and your type
deaths and then after that you can now
with this new binding object it has all
the types in there but it creates it
based on the type deaths and the
resolvers it looks like in this case
also it looks like you could probably
pass in the types hero types that we
just created as well but notice it
doesn't really help creating the
resolvers themselves and I want
something working at the types for the
resolvers so the next thing I looked at
was this package called gql - typescript
and this I had a lot more success with
so let me show you guys that so I'm just
gonna go to a different branch and I'm
gonna be putting both these branches and
all this code on github if you want to
check out any of this stuff but I kept
this same schema graph QL and it doesn't
really need this doc graphical config
file or anything else all you have to do
to get this working is to install it
with NPM install and then you just run
clear this out gql - typescript and then
you point it at the file you want so in
our case scheme about graph QL now the
default is it just prints it to the
console like this so you can you there
pipe it to a file or there's a - I think
it's - Oh yep - oh is the output and you
specify the output file so the file I
wanted to output it to was the schema
that typescript and this looked a lot
more promising and the reason for that
is it just split everything up into its
individual parts so now I can just grab
the arguments and use those if
want to so here's how I ended up using
these types so if we take a look at
index up type scrip now and by the way
if you haven't used namespace before
this is actually my first time using
declare namespace I haven't seen this
before I didn't create these but this is
the default they add a namespace like
this they don't export anything so you
do dot gql in front of everything but
now I can do hello on query arguments
and this will have the arguments that is
expected on the hello query or the user
query and I can just type every single
one now this is a little bit more work
right because I'm having to type each
one it would be kind of nice for me to
be able to just do an overarching type
up here or something but I'm not sure if
that's feasible or how to actually do
that and I actually noticed we had a
little bug we caught one of the types
right here where we're passing null when
we we really can't pass a null so that
was a nice little catch it found but
yeah so now I'm just typing each one
like that and I actually don't need to
pass any for this parameter get rid of
that and the reason for that is because
I had that resolver map and now someone
suggested trying out this eye resolver
so this is a type that comes from graph
Kiel yoga and I like that that they gave
us a type but I gave it a try and I
resolvers and it didn't seem to work
very well with it didn't like me adding
these types here the gql types so I just
went ahead and left it with resolver map
because that seemed to work good but
anyway guys let me know if you guys have
done this before if you have any ideas
about how to get the types working and
with graph QL and typescript because
this seems like a thing that should be
pretty easy to do
because you you can you know what the
types are gonna be for the arguments
based on the schema because you specify
them right here but so far I'm liking
this option the best just passing in the
types like this but if there's a better
way do let me know I am pretty new at
typescript so there probably is a better
way to do this than to at every function
pass and the arguments but I think this
is better than how graph QL prepared
does it at least I think it's more
useful but yeah let me know in the
comments below if you guys have any
ideas that's it for this video guys
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>