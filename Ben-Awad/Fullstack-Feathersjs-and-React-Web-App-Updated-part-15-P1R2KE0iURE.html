<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fullstack Feathersjs and React Web App Updated - part 15 | Coder Coacher - Coaching Coders</title><meta content="Fullstack Feathersjs and React Web App Updated - part 15 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fullstack Feathersjs and React Web App Updated - part 15</b></h2><h5 class="post__date">2017-05-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P1R2KE0iURE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys welcome back in this video
we're going to continue and we're going
to be working on the API and the
reducers for the recipe so I'm going to
start with the API and it's going to be
based on the services one and again I'm
just going to copy that and paste it and
then fix everything because that seems
to be kind of easiest and just remove
the things I don't need um yeah so we're
going to import we don't eat app I don't
think we just need a recipes service
from index so that's just fell right
here and let's actually add that up we
rated at that that's this thing now
let's just do all our stuff alright now
we're just going to go through this and
fix it so here live an async function
and here what we'll do is we'll do the
try catch air and then if there's an
error will return an empty list
console.log air also will do is will
return a weight and then recipes about
find payload so what we're going to be
doing is actually just passing in this
query here as a parameter to this that
way you don't even have to I could make
this as generic as possible so I can
actually change this to for example find
recipes and now it's this generic thing
that should be recipes service service
so now if I go back to my saw goes
instead of calling get recent recipes
and then also this one here
fetch recipe which is then just another
fine operation and here's another fine
operation so fetch recipe fetch my
recipe really we only need one called
so fetch my recipe we don't need petrol
so you don't need your recent recipes
all you use find recipes and then we
call that in multiple places find so
fetch recent recipes will do find
recipes pass in the payload which we'll
put here and same thing here find
recipes and then each one will do a
different query so it's unique to that
to one so oops interests piece so that
uses a lot of code now and now we don't
have that problem and then this should
be getting from the local API now that
actually all we needed and also create
okay that's not bad at all so actually
there's not a lot going on here so
create recipe export async function and
then here this will just be payload and
then
okay we're authenticating and then we're
creating I don't know if we actually
need to authenticate like this because
it should pass and the stuff will see am
i doing a weight authenticate and then
do it I'm gonna if we get a not
authenticated then we can change this
but I'm going to just remove that
indication for now so what we'll do is
we'll just return also notice how she
shorter these functions are now that we
for example go out to create this
service we just do recipes service and
it should be grabbing that here why is
it auto completing that's weird because
there's an air it doesn't like it anyway
create an payload alright so ducted so
now we're all actually all done with our
API now we're going to reducer so it
looks like there's multiple reducers we
had here we had krispies my recipes and
recipes so let's do in one at a time and
only saw a goes pink think we just need
a shire we do nope need the reducers
here go okay
so we'll create cur user or sorry cur
recipe so it'll be fetch recipe done so
that's as P fetch done and do we create
that action recipe fetch done we good
and then here instead of combining the
actions because each action is going to
be a little bit different
will do recipe fetch done and then here
what we'll do is click you're doing
actions dot length SP okay got so we
checking the length of it if it returns
an empty array we just okay so we can
actually do the same thing here so
unpack the payload and the payload is
actually going to be the recipe so we
can do payload dot length if it exists
then we can do payload
at zero else we can return empty object
and notice how it knows what type to
listen for because we're passing in that
function that we created okay
so your recipe is done I'll degree need
to be combining any actions now my
recipes do the same thing so I export
Const my recipes that's going to be
listening for the my recipe touch done
I'm not Auto completing still check we
my recipe my recipe fetch done my recipe
fetch done my recipe fetch done ever I
didn't know if it was recipes because we
have my recipes here that's kind of a
weird naming thing that I did and I'm
actually just returning payload here
okay and then the default this is what
the and explain this foot so you have
this part here and then that's they'll
basically the logic and then here you
just what you have is a default one so
the default for example for this is um
just an empty array alright so hope we
found that here now last one is recipes
so recipes is basically just this thing
but we're just listening for a different
action here oops so that's going to be
recent recipes six
see it and recipes here and recent ESPYs
succeeded yep and then we're good so now
we're done with our reducers now we just
want to add our reducers to the route
reducer so here we have our user stuff
there I can pour it cur recipe my
recipes and recipes and we can get this
from the recipe slash reducers and then
we can do the same thing we can import
recipe sagas from recipe slash Saugus so
now it makes it really easy to add these
here we can just copy this and now we do
recipe sagas and now our recipes I'll be
forked and be listening for now here
what I'll do is I'm going to add Coeur
SP my recipes and recipes cool now
that's all added and now our recipe
module and user module are done so now
that we have this like nice little
module place where we have everything
what we can actually do now is we delete
reducers yep
we delete actions and we were do eat
sagas we're delete services so all that
junk is gone now we have this nice split
up and organized in our modules so
that's that's how that's broken up and
we actually I might have forgotten to
implement slightly parts of it but my
plan is with this is to just go ahead
and restructure everything and start
testing and going back and fixing things
so we might have to go back and look at
some of the stuff I deleted but saved
and get silver should be fine and change
it
for the most part modules is good oops
modules is good and so all our redux
saga Redux stuff is done now we're
really just going to be messing next
with the components and the routes and
getting that all working so that's it
for this video and that's what's going
to be coming up in the future in the
next video we'll be doing that so thank
you guys for watching and I'll see you
soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>