<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native Tutorial - Silent Auction App Part 24 | Coder Coacher - Coaching Coders</title><meta content="React Native Tutorial - Silent Auction App Part 24 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native Tutorial - Silent Auction App Part 24</b></h2><h5 class="post__date">2017-05-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/strnkHcsUWw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys so when I left you last
there's a small bug in the auction forum
so we're going to work with that right
now
so when I try submitting form notice how
it has the fields from a previous forum
there it should be clearing every time
now Redux forum which is a reason Chris
should automatically do that for us so
I'm really surprised that the values are
here and notice how right here select
date is fine so I'm not sure what's
going on here it should automatically
reset those values for us whenever the
component is unmounted which we can
check with component will amount to make
sure it actually is getting unmounted it
should read up it should reset for us
Redux warm does that for us so what
we're going to do is we're going to add
this method to our form print it out and
see if it actually is unmounting like it
should be but notice how we have a pure
function here for the auction class and
we actually can't make it a unpure
function because for whatever reason I
cannot get a non pure Redux form to
render so I basically have to wrap it
with something so we have that this Here
I am going to switch this out and I'm
actually curious I just had I thought
and what the problem could be but before
we continue I'm curious if there's a
value field so the act native text and
put so okay so what I'm thinking is this
input field here it should be getting
the value of it should be set with value
and actually just kidding rest of inputs
should do that okay never mind I was
thinking I forgot to set the value field
here with value and that was a reason
why but rest input should add that for
us so that's not it
go back to the next thing so this
auction forum I'm basically going to
create a new route here which is a copy
of this copy paste this is going to be
auction form page or we should say scene
I guess we should say wrapper I don't
know the best thing I guess we'll just
call page go in our index here open up
this one we're not dealing with this guy
right now I don't need any of that okay
so that in the index of our route will
call this auction form page auction form
page
auction form page auction form page so
everything is auction form page now
we're going to be grabbing this and also
I think in our epic we had one of our
sagas nope not in our sagas it was a
button here area auction form page okay
so now I want to move the auction form
itself into just a component peer
competitor this is a pure component move
it up here so I'm going to not rename it
create a new file called I'm actually
just going to move you up here and
rename you auction form and now auction
form basically going to be the exact
same thing oh and this path changes now
it's in the same folder as date picker
it's going to be the exact same thing
but it's not going to have a container
or content I'm just going to perform
all right no container no content okay
and then basically this guy right here
and we don't need that so our auction
form page now it doesn't need any of
this
all he needs it's the date picker not
the date picker he just needs the
auction form and he just needs to go up
to go into components and get the
auction form and now he doesn't need any
of these fields because all he is
dealing with is this
now we can just actually delete all that
okay so we're going to export default
okay a class here called auction form
page which extends react component and
it's going to render and here we're
going to have a container and we're
going to have content and then inside of
content we're just going to have our
auction form and the only thing we need
to pass in here is there's one prop but
it was called request right here request
create auction quests create option
which we're getting from this stop crops
that are going this create auction from
the props from this index right here
which we're grabbing passing it here and
we just need to pass it to our function
there and it's just telling us this
should be pure which it should be but we
just need to add component we'll unmount
console.log unmounted option one pick
affected this to be used by class method
component low unknown okay not sure what
that's about
so clear that and let's log back native
log LS alright so now we can refresh no
area so far open up the form let's
auction off a cat select the date going
to turn submit okay now let's see if
unmount was called alright and that
looks like it's the problem did i stall
this wrong yeah I did shoot should be
complete a little amount alright bye bye
guys just misspelled it it is a
lowercase and refresh now we can auction
off an hour cat this little only sell
for dollar yeah so it's actually for my
eight three dollars and time any sense
okay now let's see if that's been
mounted and it's not okay so for
whatever reason I guess um we're
changing pages using the actions and I
guess that is not
unmount the component so that is not
clearing so it clears one that's
unmounting so it's not amounting so it's
not clearing so the way we can go about
doing this is with the reset so this is
an action here so there's some action
creators that Redux form gives us we can
basically manually reset the form using
this so it's kind of a lot of pain to go
switch this back to a pure function
because we really need it just as a pure
function I mean I'll go ahead and turn
it back to this at least so we're going
to keep this as a pure function now
because we know that was not the thing
that was messing it up basically we have
this extra Raptor for oxygen form page I
think that's fine and now how we're
going to reset the form is by actually
doing in one of our sagas so it's going
to be in our auctions bottle so when we
create when we create an auction we know
after that we're going to move to the
view options page and we know we're done
with the form so right here is actually
where we'd like to reset so we really
like to do yield put reset and an
auction form and I'm thinking that
should reset it for us and we just need
to import be set from redux form alright
now we can give a try so now
oops and problem is I made this a pure
function and I just forgot to get rid of
this oops
since I doing this stop props the props
are passed in as a function here there
is a parameter here so we can just grab
what we need from that like that okay
now this will be let's do it just a baja
water bottle
we're at full function off we're out of
water bottle will be water about one
fill it for $10.50 do this on Friday
submit so notice how we move back over
here okay now hit the plus interesting
it's still there so reset did not work
all right so this we're going to require
somewhere to take two boards man I was
expecting it just the reset to work so
let's go into the auction form then
actually see what is going on here so
basically the value of input
is being set so value is equal to value
so what I'm going to do is I mean I want
to do some console logging to figure out
what's going on console the log value I
did spell a name right right ah create
auction all right guys
back up back up so I thought I had just
you know crazy things were happening but
notice how I named my form create
options notice in my saga here I'm
resetting this thing does not create
auction the names do need to match up
that was our problem all right now I'm
assuming I was going to work let's see
if that was the thing I was just causing
it yep and that was it all right cool so
my suspicion was right so it was we just
had to reset this ourselves because it
was not being reset because the
component was not being unmounted and
usually when you switch pages it is
unmounted so I'm guessing just the way
that react router flux works it was not
being unmounted so all right cool so
we're clearing the fix that bug but now
I will clear this that's it for this
video and the next one will be adding a
button right here so let's go back to
the page in case we no longer want to
fill out a form so thank you guys for
watching and I'll see you next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>