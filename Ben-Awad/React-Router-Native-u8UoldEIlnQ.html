<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Router Native | Coder Coacher - Coaching Coders</title><meta content="React Router Native - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Router Native</b></h2><h5 class="post__date">2017-10-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/u8UoldEIlnQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys when I'm building web
applications I really enjoy using react
router and they also have react native
version and I just tried it out the
other day and it's really sweet because
it's almost the exact same as the web
version with a few slight differences
but all the times you can kind of just
transfer over your knowledge from the
web to the react native version so I
actually didn't really even need to
learn anything to pick up and use the
react native version and I kind of want
to take a quick deep dive into an
application I just made using how the
routing worked for it with native cuz so
I did a few interesting things I wanted
to show you guys so real quick this is
the application I'm talking about I made
this this past weekend at a hackathon
and as you can see one navigation piece
is up here with this little back button
and also I'm you can see I'm switching
between pages here right so I'll just go
through how the heck did I get this
navigation working and how do I have a
back button here and do I have a back
button here and how do I get to work
across these things so here's the code
for it this is an XJS has basically all
the routes and this is like the
configuration of the whole application
so up here at the top the main bits are
that we're importing our native base
this is for styling and you can see
there's some things I'm not using here's
actually in grabbing from react route
and you can see the name of the
components are the exact same you could
be grabbing this from Dom as well but
we're using a router instead of browser
router so that's different but routes
which are the same this stuff is for
graph QL you don't have to worry about
it and then here I'm actually using I'm
grabbing this thing called create
history from history slash create memory
history the reason I'm doing this is to
actually get the back button to work
because I want to have a reference to
this history down here as you're gonna
see I call history go back and history
I'm grabbing from right here and I'm
grabbing all the components right here
as well
so this is all the components in my
application just grab them in here and
then putting them into routes so the
reason why I'm creating the history here
normally you don't need to do this react
router will handle the history for you
you don't even see it is because I
wanted a reference to the history in
this I didn't want to create a route I
wanted to have history right here
so normally how you would be able to
access history is if I pass in my home
component because it's a route I could
access it and see it but you'll notice
how I wanted it call history right here
which is in this page so to do that I
wanted to have make the history up here
and you'll notice what's happening is
and we can close these is just some
craft QL stuff what you'll notice is
with the history stuff it's a passing
history into the router so it actually
knows to use this history object and so
when I make it when I call a history go
back here it's actually going to use the
same history object that the router is
using so they're in sync and I notice
how I'm doing this doc go back and
that's how this guy works so I'm telling
it to go back to the previous one and
I'll explain more about how that is
actually working in a second but you'll
notice how there's a lot of actual just
react native code mixed in with the
routes so here you couldn't see I have
containers headers this is this little
thing at the top here I can see it
across different pages so that way it's
on this page and on this page we can see
that there and the routes here I'm doing
a little switch so we only pick one of
these routes you'll notice how I'm like
kind of nesting the routes a little bit
so I'm doing a switch I either want to
grab the home page or I want to grab a
different page now if I grab the home
page I don't want this little container
that's why I set it up like this so the
home page you'll notice doesn't have
this little top back button thingy but
my rest of the pages I do want them to
have that
so that's what's going on there because
if I go click on guess click on one of
these you'll notice the back button
stays there the whole time and the
reason for that is because this
container right here we're wrapping this
and we have the header here and the
header is gonna be here no matter from
the guest page shelter page any of these
pages we're gonna have it right here you
notice I thought this was kind of
interesting we use the path like this is
a URL even though this is react router
and there's no paths so you'll notice I
kind of used too weird
I used camel case here and also
capitalized this the only reason for
this is so it would match the component
name so it was easy to remember I'm
actually not sure what the best practice
is to name paths for react router since
no one's actually gonna see this like
the users but that's kind of interesting
so basically we switch we grab either
the home component or we grab a
component or a route here so this path
slash catches everything else and then
we want to grab and we were gonna wrap
it in the container and then we do
another switch here to pick the last
route between these guys to put our
container in so let's I want to just
like show you what's happening when I
click these two buttons so this home
component is right here passed down in
the props is a history that's what this
guy here and I can call history dot push
and you can see there's a lot of ESL and
errors here but you can see how when we
press the button we are calling history
dot push and we're going to slash guest
register or slash donut register and we
can see that name matches up here just
like you would in the web version so for
guest register
I actually got rid of this page because
um I didn't really want this page to run
I just want to kind of use it as an
intermediate stage to set the guest ID
this is kind of like register create
your account page but I ended up not
willing to show it so whenever this
component mounted I kind of wanted to
just push to the next page so what I did
but here's the thing
here's a little air that was having so
when I click on guess it would take me
to this page and I can actually just
show you guys so if I get rid of this
replace I'm just gonna go ahead and save
and you should refresh here so I click
on guess and I hit the back button you
notice how it keeps taking me back here
why is it doing that well notice how
when this guest register component will
mount I'm jumping to shelters so this
page is the shelter's page and what
happened when I click this button is I
actually go to guest register so I go to
this page which then navigates the
shelter's so our stack looks like this
so our history stack has slash home and
then I'm going to slash guest register
and let's capitalize this and then I'm
going to slash shelters right so when I
click on this push right here I'm
actually gonna be going to the shelter's
page so when I hit the back button I
just get rid of shelters and I come back
to this guest pit register page whenever
this component mounts we push back to
the shelter page and so when I hit the
back button again I just keep kind of
like juggling between these so on this
page I go back to guest register which
then when that mounts it hits me back
here so what I have to do is whenever
this component mounts is I have to get
rid of this entry so what's gonna happen
is here's the stack we have slash home
which we of course started at then we
come here right in this page so we have
guest register in the stack too and what
I call this top props that history dot
replace what we do is we actually
replace our last entry which is this guy
with a slash which is the same thing as
the home route and actually we can get
rid of this right because I don't
actually have a home route here you
notice I just have this which maps to
home so this will actually replace this
guy we get rid of it so now our only two
things in the stack
a slash in shelters that way when I push
the back button so we save it instead of
taking us back to guest register it
takes us back all the way here so we
click that takes us back there so I had
to do this little hack where I replace
the last entry to push but you'll notice
how dot push if you used the web version
all these things work on the react
native version as well
the only difference I did in the react
native version was having to create this
history and that's because I wanted to
have this back button across all these
routes and I had to use the memory
history because they don't actually have
it's not a web browser so you would not
use create memory history for the web
used a different one if you wanted to
create history and so this was the other
the last cool thing is just having this
container around that way I only have to
create this once right and it's on all
my pages and this back button just works
no matter where I am it just goes back
in the history so the navigation was
really nice I do want to try out some
different react native navigations
though I was really happy with how this
one performed react trout are native
worked very nicely I don't really have
any complaints about it at all actually
I also want to try out react navigation
I've heard that one's really good and I
haven't tried it out yet and I have
tried react native router flux but I
think I like this one a little better
because I'm used to how it is on the web
and this one's really nice so that's it
for this video guys this code for this
is up on github if you want to check out
how this works in depth the code is
really messy because it was written at a
hackathon but you can kind of see how
react native navigation can work with
this library so thanks for watching guys
and I'll see in the next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>