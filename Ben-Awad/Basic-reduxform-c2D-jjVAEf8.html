<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Basic redux-form | Coder Coacher - Coaching Coders</title><meta content="Basic redux-form - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Basic redux-form</b></h2><h5 class="post__date">2017-01-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c2D-jjVAEf8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys in this video we're going
to start using Redux forms so have the
director you have open for your project
and the first thing we're going to do is
we're just going to go into source and
then we're gonna go into reducers and
then index on the first step is sitting
up the form is to import the reducer for
it so we're going to do import reducer
as form reducer freed up storm and we're
just gonna add it to this combined
reducer now what this is doing right
here is making sure when we add things
to the form start typing in new inputs
to like an import we're pushing a button
that the actions are called
appropriately and the UI changes so
that's what that's doing right here it
changes the state so the that's all you
need to do for the reducers the next
thing you this is an optional step we
won't be needing it for this tutorial
but it's helpful to know about if you go
to components and then app you can
actually map the form to a just like
this state form you can map the form to
the props in case you ever need to use
any of its attributes in this case we
won't be needing to but if you need to
get more data from this form there's a
good way to do it okay so now let's
actually get into making our phone our
form so in components we're gonna create
a form called simple form this is just
gonna be a and you know what I'm just
gonna copy um so we're not the right
boilerplate and it's simple form dot yes
so in a text editor open up a file
called simple form and this
in our components folder and so we're
just gonna call this simple form and
we'll be changing this in a little bit
I'm sure you're this for now and then
our imports the first thing we want to
import is some things from redux form
filled Redux form and Submission air and
then some UI components from semantic UI
okay now we're just gonna go into the
render function now in the render
function we're going to be making a form
and when we submit the form we'll create
a function will create a little dummy
function right now called submit so on
submit we want to call submit but Redux
form is a little funny how it works you
actually need to get a function from the
props called handle submit like this and
you call handle submit on the on your
submit function so I call our we call
our submit so we're just passing this
dot submit and then we're also want to
use this inside of submit so we need to
bind doc this if we didn't want to use
the keyword this here we do but if we
didn't we won't don't have to put the
dot dot dot dot bind to this okay so
that's gonna be called when we submit
our form we're gonna have one field
which is an input field it's gonna be
getting the location we'll call it
location the name is important what you
call your field because you'll be using
this too
you get heirs and retrieve different
data that's associated to this field and
then component this is what it actually
looks like so this is a function we're
gonna have to set up so location and put
then for now we're just gonna return a
div passing location input this and we
close off our field and then just so it
looks there's a little spacing I'm gonna
create a line break tag this is very
optional and then just lazy because I
don't want to get into CSS and then at
the bottom then create a button that we
can use to submit when I make it fluid
so it goes across the whole screen it's
gonna be submit okay I'm just close off
our form okay so that is the bare bones
of our form right now it's doesn't do
anything when we submit it and it's
weird need to add an input to that so it
actually can get input but it's a basic
form and to actually get this displaying
on the screen we have to do something
special we have to do export P fault and
then we call a function called redux
form and then at the end here we call
simple form and simple form this
correlates to the name of our class so
you put the whatever you named the class
here and then perform and now you want
to give it a unique keyword this will be
what you use to identify which form
you're talking about when you do form
related functions I'm just gonna call it
simple form it's not that important what
you call it you just need to know it for
later with different functions for
example if you want to reset the form
and clear all the fields you would to
use this keyword to do that to refer to
this form it's kind of like a tag or
nickname for it
okay so let's fill in our location input
so location input is kind of funny Redux
form gives us a lot of information
passed as parameters it passes us a
whole object of information the first is
input second is meta and this is a
object itself with touched and air and
then some custom things which we won't
be using the only thing you really need
to focus on up here is touched and air
these are really the only things you'll
be using touched means you've typed into
the form and you've submitted it before
air tells you if there's any air is
going on so when there's an error we'd
like to show a little message so first
we want to know if there's an error so
has there been an air and to check if
there's been an air the user has to
touch the form and air is not undefined
and if that is true that means there's
an air in our form and when there's an
air in our form so we'll just do has air
we would like to display a message to
the user telling them that there's an
air so message there's an error message
better air and then the content of our
message will be whatever the air is and
we'll be filling out what the different
errors are when we get into Redux saga
this is our message and that's only
going to show up when we have
err what about when we don't have an
error we'd like to just show the input
so that's gonna be input bar and this
also we want to show red if it's an
error and we can just do that by doing
this
so whenever has error is true this input
will be red and then we're gonna make it
fluid and we just give it a placeholder
location dot and then dot dot dot input
dot dot custom these are just things
that straight from the redux forms
tutorial you'll see these these are just
things that redux form needs to make
sure everything works and knows that
this is your input all right now our
input bar is looking nice the other
thing we want to do is actually validate
when we get an air one air is when they
put in a bad location right and then we
send it back that one will do in redux
saga but the second error can happen
when they enter nothing or they just
have like a blank line so for that we're
gonna be creating a function called
validate and passing values what values
is is the value of the inputs so for
example we will be passed a object that
looks like this and then whatever you
know obspec text whatever is they they
type in this input bar up here whatever
they type in this input bar that we
created will be passed in as Vout into
this values and be you text so what we
want to do is check if if it's empty so
we're gonna create errors which is an
object will pass back and return if we
find any errors and we're gonna check if
the values and you know what
we can get the location just like this
this will make it a little faster but
off do values dot we just say location
now you would want to use values if you
have more than one form input but right
now we only have one so we don't have to
worry about that so if location is
undefined or location dot trim is empty
then airs dot location is equal to
location required and then we're just
going to return heirs okey-dokey
so this is looking good
our validate is looking nice it checks
whether a location is full or not the
only thing we have left is submit but
before we get into submit I just want to
make sure that we don't have any errors
and our I want to check if our validate
that we just wrote is working correctly
so in a separate tab just run NPM start
to start the server I already have mine
started in order to stab so I'm not
gonna do that and then you're just gonna
come over to localhost and run the page
oops forgot forgot we actually need to
add our form so before we actually go
and check it we're just gonna go into
home and we're going to import simple
form from simple form and instead of
home stuff we're gonna show simple form
all right up the page refresh now we can
see our errors unexpected token
I'm not entirely sure if we go back to
simple form I'm not entirely sure it
looks like you might not be able to do
this type of syntax right here I was
thinking you could but you might not be
able to so I'm just gonna do values put
values here and then I'm gonna come down
here to say Kant's location and get that
from values and it should be happy for
me okay um yeah if you guys didn't cash
out sorry I should slow down a little
bit I'm in simple form
I had a syntax error I was trying to do
an object right here the object I think
that was invalid syntax I'm not sure if
there's a better way to do that haven't
done it too much I thought that would
work would and so another way you could
do it just have values and then expand
values right here also this is
equivalent to the same location is equal
to values table location for those of
you that are not too familiar with the
new syntax okay so notice how we have no
error here perfect but as soon as we
touch this thing
again start typing you notice we still
don't have an error maybe if we do like
submit and then we start and then we
have it empty nope we're not getting
anything we should be getting an error
around here so you can get console
argument is not valid channel or a valid
pattern all right
oh we don't worry about that that's
something with saga I wonder if that's
causing a problem so I'm just gonna go
into I saw a real quick sagas sagas and
I'm just gonna comment this out it looks
like it's having a problem it's gonna
comment all this out
so I just went in there and commented at
all the saga stuff because it looks like
there's a little bug in it I'll fix that
when you guys before you guys or watch
this video so don't worry about needing
to do that and let's try out this
location okay so I type that there good
hit enter and nothing still okay so this
is not as working as expected so let's
see why so usually when this happens
what I like to do is I just like to put
in some console log statements and see
where I'm off so if I come into simple
form so either location input is not
being called or something is wrong with
submit oh I know I validates not being
called for validate we just made this
function validate here but we actually
didn't hook it up anywhere to actually
hook it up and for it to start being run
we just pass it in to our Redux form
okay save that now let's give it a try
so if I just typed there good hit submit
notice when I tried to submit gives me a
location required because they did that
and then when I do that all right now
when you clear it out if I just try
adding space it still gives us that
perfect that's looking nice alright so
the last thing I wanna do in this video
is just get our submit button working
now for a submit button we're gonna be
past two things values and dispatch
again since we only have one and I like
to just break this out and get the
location a second parameter and by the
way values this is coming straight from
our input right here so whatever the
user types in it goes here also notice
the name is location this is matching
our field location that's important so
in here what we'd like to do
is we would like to when they submit a
location we want to go get the weather
for them now to get whether that's an
API call to Yahoo and that is we have to
make a request and that takes time so we
cannot immediately give them an answer
to whether the submission has a location
that's good so we have to do is we have
to return a promise promise has two
parameters or passing in a function for
that reject resolve and reject and then
inside of here what we're gonna do is
dispatch an action to go do an API call
so what dispatch does is we're gonna
pass in some parameters to our object
we're going to create some basically
properties for object gonna call its
fetch whether it's set the type and then
pass in location resolved and reject now
what this is doing is dispatch
if you're not familiar with it it's what
redux does is to dispatch you can call
dispatch on an object and this goes to
redux and allows you to then update the
state using reducers so this information
is going to be sent to redux and it can
then act on this data that we're giving
it so what's going to happen is this
data is going to be sent to redux saga
and then redux saga can make an API call
based on this and tell us whether it was
successful finding us the weather if
it's not a little throwback an error and
what we're gonna do is we're gonna catch
it I'm just gonna catch that air and
then and then catch that should be
wrapped in a its own function so when we
get an error we're just gonna throw a
new submission air passing in air now
when we get a submission air when we
throw this new submission air what's
going to happen
is it's gonna populate this airfield
here it's gonna tell us you got a
submission error and it's gonna say
whatever we threw in our submission
error it's going to print to the content
so it's gonna tell us what went wrong
okay so this is looking good we have our
form all done so just to recap what we
have built is we have a render function
that shows the form the form is super
basic it is one field which is just an
input you type you can type text into
the input and whenever it is empty it
should validate and throw an air as long
as they have submitted the button before
have submitted a location that's what
this touch does right here otherwise you
can just type in names and then once
you've typed in the name of the location
when I get weather for you push enter
our submit button will be called once a
submit button is clicked or they hit
enter
they're gonna pass in the data from what
they entered we're gonna get the
location once we get that location we're
gonna dispatch an action to our reducers
and then redux Agha which we'll do in
the next video we'll create which will
actually do the API call in will be Pat
which is what we're passing this data to
we ran past this three duck saga and
then it's going to make the API call so
I'll see you in the next video when we
setup redux saga</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>