<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding an Android To Do List App - Part 3 | Coder Coacher - Coaching Coders</title><meta content="Coding an Android To Do List App - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding an Android To Do List App - Part 3</b></h2><h5 class="post__date">2015-03-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/d3ZCbdd2cGw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">guys hotel we're gonna be going over the
database today and finishing that off so
let's get right into it it's the wrong
thing okay so I just want to finish up
my note class so make sure this looks
right and basically our note class if
you guys remember it's basically just a
ArrayList with AI D and this is the ID
it is in the database alright cool so
let's go over to our node activity and
then just make this note work so instead
of an ArrayList called M items we're
gonna have a note called M note and then
we're gonna say and now equal to a new
note when we create the view why is it
like
okay it's because there's multiple notes
alright so we made our new note and
right here it is say no dot get
arraylist you know get path or a list in
here and then just down here we're gonna
say no dot size note add so just do
public void just add these methods size
get so sighs let's do that one this is
your train int size return marie list
oops get an array list dot size and then
dot add four taking in a string so
public string add
item add that on to the ArrayList so our
a list dot add i and this should be this
should be Boyd okay so no activity
should be working nice now let's go back
to our data source and what's okay so we
have our I'm pretty sure the create
notes um is working pretty good I mean I
create no it's put notes create notes is
when we are grabbing a note from me we
should really be passing in a
i d-- so let's take a look
we're just going to pass in along id4
create notes how we're gonna do it is
we're gonna begin the transaction then
we to query a database you use a cursor
cursor cursor equal to like database dot
query and we're gonna say we're gonna
get the table that we want to query
which is notes equal helper dot table
this is not actually we want to do is do
the class that's a static variable so
notes see quite helper dot table okay
and then we also want to grab what which
column we want to get and call me want
to get is the note in column and then we
want to get ok so the next there's a lot
of different queries so let's just look
at this this the white database query
and look at what the different ones are
ok so the next one is selection
arguments then screwed by and string
having and then order by and string
limit okay so I'm just gonna go into
Stack Overflow actual understanding
Google using a sequel I'd database
because I'm not too familiar with using
this cursor object to retrieve from the
data
so we're just gonna go seek polite
database Android and I remember reading
a right here by boo boo gala I'm not
sure if it's a pronounce it but anyway
from this guy he got a pretty good one
that I read a while ago and so what
we're doing what we're trying to do
right now is we've already added our
note to database the next thing we want
to do is we're gonna retrieve it from
the database so that's what we've all
look at so all right so we made a
database helper already and then all
right cool cool cool
and create comment this is oh yeah this
is basically what we want to do right
here oops so new content values you know
put answer ID all right so I'm gonna use
this code for my
just gonna copy this we're just gonna
refactor it so it works for ours
and let's honestly just get rid of this
this is looks pretty wrong for what I
had before
okay so content values and the values
dot put sequel a helper
so our sequel a helper is called notes
sequel a helper and then our column is
notes column column note list and then
we want to so why is he putting a
comment
cursor to
so when you think about how I want to do
this
mmm I need to make this all columns
and all columns we're just gonna grab
the ID and then thing in the list
it's trying to figure out how this code
is working for this how he's making it
work
so he's putting okay so is entering oh
this is different than what we want to
do so when he's creating this note what
he's doing is he's putting it in the
database okay okay okay okay okay well
okay I see what he's doing so what he is
doing is instead of putting a put note
which is what we have what are you
seeing as many does create note called
out what it's doing is it's putting the
ArrayList in the database and it's
returning the ArrayList back so this is
how you would create create an ArrayList
or create a note object you'll be doing
into this notes datasource
if this is kind of confusing it's really
confusing to me too but you'll see how
this is working in just a second so
we're gonna change this to an ArrayList
rayless strings ArrayList and that's
where a pass here ray list gonna pass in
our database and notes helper and then
our table know learner passed value and
then right here we're just going to pass
in our database data database dot query
and then my sequel Lite helper and put
my ways they're 20
and then we're gonna get the table
bring it all Kong's then we're just
gonna get the call ID no it's sequel I
help her and we have to do what we did
down there then we're just gonna be
returning note the new note and then
returning new note actually you should
be just using this note object
and then we actually need to turn it
into a string that's how we're storing
it in the database so note dot get
ArrayList and then input dot string is
little opt-in register all right sweet
and then we just need to make this
cursor dot to comment for our specific
thing so he takes it right here so what
he's doing is this cursor to comment is
just adding the ID to the object so we
can beat that to we're returning a note
cursor to note this is gonna be a new
note I'm just note set ID we're just
going to set like that and we're gonna
set the comment
note dots set okay I have not
so let's look at how he's doing again
well he's not passing in a notice
passing a comment okay I see what's
going on
okay so
so when we initially make this note
there's not gonna be anything in the
ArrayList and then as they add on to it
I think that's fine the trait note is
just gonna be empty like this and this
is what our create note looks like and
cursor to note and we're just gonna
return note hey we're just gonna make it
like this so right now we're basically
storing an empty array list and the oh
oh well you need to make sure about is
okay this is pretty much pointless on
what this is doing
hmm I'm not sure how I want to get how I
want to work this I guess to create the
note I want to pass in its passing
ArrayList string
and then this ArrayList we will okay
then down here we need to have in our
note we need to make a so in his crate
comment no yeah cursor to comment
he sets the comment okay he just sets
the comment so we can do that to them in
our note we need having a set set rate
list we already have a sinner writers
okay no dot set ArrayList is equal to
cursor dot gets string one is that right
yeah
and then this string we need to okay so
right now this is a JSON array so we
need to do new JSON okay so we want to
convert this back to an ArrayList so
we're gonna say new ArrayList and when
you turn this into a JSON right so JSON
array dot anything it's a new JSON array
we'll get in here dot 2 so basically
right now we have we're storing a string
in the database and what we want to do
is we want to turn that string back into
a ray list so I'm just gonna look how to
convert mean close this we don't do this
gave to me tabs up right now okay
how to convert let's see what the
problem is I'll just see if this works
we just doesn't even like okay we have -
oh it has an unhandled exception that's
all we gonna wrap then a try block
I mean I'll care about this
okay so we need it okay so we needed how
to convert and JSON array into a
ArrayList and we need to go do book
census period
okay so how is the doing it okay that's
pretty simple
okay so okay new JSON array JSON array
and then there for I know we're just
gonna loop through the JSON array and
then add each element that looks like
the best way I didn't know if there's a
built-in method already or if we'd have
to do that rayless okay and then this
rail is just add and then we're gonna
add JSON array docket and then we're
gonna just to strength does that look
right yep
cool then we're just gonna return a
realist
then we're returning note cool cursor
tune it looks like it's working pretty
good now so let's look at the other
methods that he's using
so he uses this to get all the comments
do I want to do that weekend we can't
wait on doing that something can add
later we can worry about delete - what
we want now is do an update this he
doesn't show I do an update one bummer
yeah he's not showing how to update it
because our ArrayList is constantly
going to update I mean we can just I
mean just try it what I we have right
now for the update notes and see if that
works
and I'm just gonna pass in here
string that value of and they're just
going to do get our note update note to
pass this in
wait we should not be our update news is
messed up we don't need any of this oh
yes we do because we're updating it all
right know if dot get ArrayList and then
we're putting it good then we're just
going to say note dot get ID and maybe
this works
okay I think this is set up pretty well
so we have an update we have a create
and then we have yeah I don't think this
we can just comp we don't the commas out
I'm just I don't think we can add the
delete stuff let's just okay let's go
ahead and try this and see if it works
so great note
so how is this cousin my note here I am
making an ArrayList
you know how to do that you can just
even empty okay so we need to set up
this data source in this activity so how
are we gonna do that I've done this one
time before and so in the oncreate well
we aren't we need to make a got remember
variable so notes data source just notes
data source like the prefix my variables
with M it uh a lot of the Google does it
for remember variables that's what the M
stands for and I've just kind of
followed that and so that's why you see
me doing that here okay so we're gonna
create a new one so notes data source is
equal to a new notes data source when
you just pass in the context and then
next we want to open up the database dot
open and then what we can do is say note
is equal to instead of doing is that
doing new note we're gonna be saying
create note so M notes datasource dot
create note and then right here we're
just going to
hmm there's a flaw with this trick we
said I set this up wrong I think there's
something off my create note because how
am I getting the note to when I create
the note if it's well I'm getting it
right away I'm passing in a new array I
sing a new ArrayList my yeah it
overwrites it and there's no ArrayList
this is tough
let's go look at his example some more
I messed this up I'm pretty sure so
let's look at his activity so he creates
a new data source
he opens database and he gets all
comments ok
creating a comment
he's deleting comments that's okay yeah
we all see need to do this copy that
real quick we want to call make sure to
close the database that's very important
you messed up up make sure we're back in
the activity
all right so we're closing a data source
so we need to have a get all comments
kind of thing
hello Warcraft thanks for watching okay
so I want to I need to have a way if if
we come into your I need to have a way
so if I have not already if I don't have
if this is a brand new note that they
have okay so what I can do is okay I
know what I can do so what we can do is
from my main activity we need to just
set an intent flag
I think it's flag no it's an extra and
we're just gonna add source and we're
gonna put new note then we're gonna say
right here if get intent dot get extras
passing and and source
is equal to
new note we wanted to create a brand new
ArrayList otherwise this crap I'm
sending this up all wrong I think no
I'll see why does like this
all right so I think will that work I
think I get or does get extra
so
when I save a note okay yeah that's what
we'll do
all right so I'm changing my mind a
little bit our how our app is working
it's working a little differently than
the example or walk that we were looking
at so this create node is not gonna
really work for us we want to do with
just a putt note this putt note is gonna
work out the best for us so what we're
gonna do is just pass get rid of this
actually we could use that later I'm not
gonna get rid of it yet this putt notes
it's gonna be a putt note we're just
gonna pass in a note I'm just say no
talk it ArrayList
okay so we're this is inserting it into
the table
and shoot so okay so we insert into the
table in what we want to do is we want
to give that note a ID and
so alright so when they put a note for
the first time we're creating a new ID
for them let's copy how this is working
because this is how we want to do it
no dot get ArrayList
all right so we're getting the arraylist
passing it making it we're putting it
into the database then we're inserting
or storing the insert ID and then with
that insert ID we're clearing the table
so that he's just create okay so this is
how he's getting the ID
and
okay so this is okay so I just didn't
think about this for a moment how am I
gonna want to set this up so if they if
someone is this is the first time
they're ever making a note they're gonna
what they're gonna do is they're gonna
click a new note and I'm not going to
load anything from the database because
it's a new note now if they are clicking
I already made note what's going to come
up is an array list of all the stuff
that they have and
and then I'm just thinking about how I
want to store it and then recall it so
let me look at how I did it over in my
other app that I made let's take a look
at this data source this I was only ever
storing one thing at a time so this is a
bad example I'm just gonna I'm just
gonna close this project for now I think
she don't think that can help us okay so
I'm giving them a custom ID I'm giving
it a custom ID that way we can update it
later not update it is that right though
he's not showing how he updates just
search this
okay so this is how he's updating it
right here this looks like a fancier
tutorial this looks like a little
different than his comment example okay
you must implement the methods query
insert update delete get type this is
something else
okay he's alright
headache databases are the worst okay so
let's just read through his code again
you don't make sense to me so what is he
doing forget all Collins
so he's grabbing every single comment
that he has in the list or in the
database and just putting in a list
okay so he he doesn't have he doesn't
have any method for basically fetching
out so once we add a certain note to the
database we then have to be able to get
the note back by its ID so we need to
somehow store the ID with with it is
that right
because okay so we're gonna loop so let
me draw this in paint we're gonna have
let's say we have two notes note 1 and
Note 2 and they're singing our database
and let's say we're on I treat I'm
creating a new I'm not creating a new
note I click I'll say I'm on my new page
and I click an existing note and in my
code I want to get the ArrayList from
the database I have to tell the database
whether I want to get one or if I want
to get to so how do I know whether I
want to get one or I want to get to I
need some house tour
all right let's go back to look at this
zoom out database database model okay we
made that user interface test database
act
okay if you notice for his database
example
he does not need to get a specific
comment and the app at least doesn't
look like it he's just getting all of
them it's not right so comment field
let's do it after comment yes save
thanks you comment to the database I
could be wrong though running the new
apps country what is content provider I
feel there is a private to the
application which it creates if you want
to share any with other applications you
could use all right we don't wanna do
this at all we're not sharing data with
other stuff right now we can skip this
tutorial CP is another one purpose of a
loader class
I don't we may want to implement this
later but not right now I don't think
this looks exactly like how we wanted
this looks so much of what we're going
to do in our app okay I need to read
this tutorial this one looks very
similar to what I want to make so okay
how is he doing it all right don't want
to add this on upgrade thing yeah I
think this is probably a good idea to
add this is just a log drop table if
exists you know I don't think I actually
want to add this up great good so this
is helper it was this one this is a
class II mean this is his helper we
split those up and his content per Rider
final entities used for the URI matcher
see this is a little bit and when I see
a little bit more wow this looks really
complicated all right let's begin to
this okay so there's this database used
for a URI matcher to do is equal to ten
2ds IDs 20 string Authority d dot o gala
okay base path URI content base contours
of our cursor their path URI matcher s
you're not sure no match on create we're
gonna query
using SQLite builder check with the
Korres request acknowledged
I insist
alright this is getting quite complex
for the being this database set up so
I'm gonna go ahead and call it a night
early I'm gonna do some research between
my next video and I'll check out how
that stuff works and I'll implement it
into the database and get this thing
running next probably tomorrow so thanks
skip for watching today and gonna call
it a night</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>