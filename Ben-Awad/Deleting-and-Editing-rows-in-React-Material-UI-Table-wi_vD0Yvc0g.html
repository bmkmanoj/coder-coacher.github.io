<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Deleting and Editing rows in React Material UI Table | Coder Coacher - Coaching Coders</title><meta content="Deleting and Editing rows in React Material UI Table - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Deleting and Editing rows in React Material UI Table</b></h2><h5 class="post__date">2017-11-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wi_vD0Yvc0g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys I made this little project a
little while ago where I made a material
you I form and then you would submit the
form and it would insert into the table
down below now I got a request to show
you guys how to edit and delete rows
from this so real quick let me demo what
the functionality it has so here's me
just typing random stuff in and then I
can hit submit and it comes down here so
what we're gonna be adding today to this
is a little icon here to edit and
another icon here to delete the rows
that we don't care about now if you want
to get this code it's up here on github
and I'm gonna be starting from this code
right here we'll get to the text fields
in a little bit the first let's add two
icons here and here so if we come over
here to material UI they have a nice
little set of SVG icons that we're gonna
be using and the way it works is we just
tell them the path the icon we want and
we show them here so if we come over
here to material icons these are the
icons that we can use so I'm just going
to search for an edit one because that's
what we'd like to use we scroll down
here there's a nice one at the bottom
and the way this works is notice the
category image in the name edit we're
gonna be using that import so I'm gonna
copy this and I'm gonna come over here
so here's the code I'm in Visual Studio
code right now and then I have a PS open
which is our main file which renders the
form and table component if I come over
here into my table component this is
where we're gonna be adding the bulk of
our stuff so I want to add two icons to
my table the first is an edit icon and
remember how I said that it was in the
image category and then right here the
name of it is called edit so you need to
remember that because that's how you
import it
and then I wanna grab one more icon and
I want to make a trash can icon or a
delete icon so I'm just gonna search for
that and we get this nice trash can and
that's from action so action delete okay
so now I'm gonna add these two icons in
and let me name this a different icon so
trash icon and we're gonna come down
here so here's our little row right here
so rendering all our columns and we just
want to render a edit icon as well and a
trash can item now the way this works is
we need to wrap it in a table row column
so table row column and we're gonna wrap
both of them in it and we just need to
make sure to close the tags okay so
because we added two more table rows we
need to add two more headers here you
can put the word edit if you want to I'm
just gonna leave them blank so table
header column and paste that in okay so
now let's just make sure that our icons
render okay when we create so I'll paste
that in
and we see our two icons here perfect so
now what I want to do is be able to
click on this and click on this and be
able to delete and edit now when I click
on this you'll notice this little
checkbox thing comes up and that's kind
of annoying we don't really want that we
just want to be able to click on icons
so we can get rid of that by coming over
here and there is a property on the
table row called selectable and we're
just going to say false instead we are
gonna add on click handlers to our icons
so on click one and on click two so
whenever we click the trashcan icon
we'd like to handle remove so we want to
remove that row from the table and we
just need to say which index we want to
remove so we're gonna pass an eye which
the index in our data and so this is a
function we need to pass in here so we
can use it so handle remove we're gonna
make this function in a minute and then
for editing icons whenever we click on
it what we want to do is start editing
the rail and how I think we're gonna
handle this is instead of just rendering
text will actually render text fields
here so we need to know which row we're
editing so I'm gonna say start editing
and I'm gonna pass the index of what
we're gonna start editing so we need to
create a function called start editing
which we're gonna pass in here and call
and just tell it we want to start
editing this rail now we need to keep
track of which Rober editing so I'm
going to say edit ID X so this is gonna
be the row or currently editing and then
what we want to do is I'm gonna create
this into a regular function
so we're gonna return we'll use curly
braces because what I want to do is up
sit up here say Kant's currently editing
is equal to edit I DX triple equals I so
we'll be implementing these things but
what edit ID X will stand for is the
index that we're editing so if we're
currently on that index we know we're
editing this row so we need to setup it
will turn area operator here saying
currently editing and if we're currently
editing this we don't want to display
just the name we want to display a text
field so tax fields otherwise we want to
display just the text so for the text
field that's when we want to come over
here to material UI and I'm just gonna
come over here to text fields and we're
gonna add one in oh there we go so come
over here we're gonna grab that import
and paste it in here now for a text
field I think we just need to give it a
name looks like they give it an ID I'm
just gonna give it a name name and the
name of it is gonna be whatever the prop
is so if it's for example name or
username or email whatever that's gonna
be and then we need to handle the change
so on change whenever we're typing we
need to actually change the data in our
state so we need to create a function
called handle change and I'm gonna pass
that handle change function into our on
change over here so hand a little change
give this a save so it reformatted stuff
that's okay and then our value right
here so we need to set the value of our
text field the value of it is going to
be the
same text that we would display here so
X dot y dot prop okay
so now how this is working is we're
gonna start editing and we're gonna show
this thing here otherwise when we finish
editing we want to show just the text so
what I want to do is have like a stop
editing button here so I want to find
another icon and I'm gonna see if we can
just get like a check mark yep let's use
this navigation check that looks pretty
good so a navigation check this is gonna
be a check icon and vacationed check so
instead of showing the edit icon if
we're already editing will show the
check mark so we're gonna say currently
editing if we are then we're gonna show
the check icon otherwise we'll show our
edit icon and here we want to stop
editing right so we're gonna say stop
editing and so that's a function we have
to pass in here as well stop editing
okay cool so and we need a comma there
so these four functions and props we
need to pass into this row so right here
when we're creating our row we want to
pass them in paces in and then these
were all gonna get from our props up
here so I'm gonna say comma paste those
in as well
so now in our app we need to pass in a
handle remove start editing stop editing
handle change and then edit IDX
all these things so let's head over to
our app and then we're gonna pass it to
our table and we're just gonna go one at
a time
okay so handle remove we're gonna call
this this handle remove and then our
handle remove function up here we're
gonna say and I'll remove and remember
how we're passing the index of which one
we'd like to remove so have I right here
and we're gonna say this set state and
all we're gonna do is we're gonna remove
this index from our data now to this set
state we can actually pass in a function
like this grabbing our current state and
then I can say data is equal to state
data and then we're gonna say filter and
we're gonna be looking at X comma I and
as long as I is not equal to and I'm
gonna call this J because we have a name
conflict long it's not equal to I we're
good alright so if you've ever seen and
let me just comment this stuff down here
below so this can save in auto format
doesn't like the comments
let's just pass an emptyness for now and
then we're gonna fill these guys in
okay and we have our curly braces yep
this looks good so what is happening
here so first if you haven't seen state
arrow function you've probably this
looks kind of unfamiliar this is
equivalent to doing this just returning
oops
just passing this guy a object and then
using this dot state so this probably
looks more familiar the reason why you
use the function here above is just so
it is local and we're not basically
using the global this right here to
access it we're using in our function in
case things change or whatnot and so all
we're saying is we're filtering out
we're looking so the first thing this is
gonna be each row instead of calling
this X we could call this rel and the
second field to filter is the index so
we're just making sure that index
doesn't match this so what filter does
if it says if it this condition does not
match it keeps it in if it does match it
throws it out all right sorry I think I
said that backwards so what we're doing
is if I if these match then we throw it
out otherwise we keep it basically we're
filtering out right we're filtering
where this guy is equal to this guy and
the way we say that is we want to keep
everything that's not equal all right
and I don't know why we're getting red
lines here unexpected token because I'm
not yeah I think I'm using one too many
yeah parentheses there we go
so the next thing is start editing so
for this I want to add a edit ID X in
our state so we know which one we are
editing so I'm going to say negative one
for now and let's do a comma neck and
I'm gonna pass that into this dot state
ID X so currently we're not editing
anything that's why we have a negative
one so to start editing we're gonna
create a function here called start
editing and remember how we're passing
in I here so the index and we're just
gonna pass that in so this set state
we're gonna set edit ID X equal to I and
then here we'll pass that in so this dot
start editing so to start editing we
just set the ID X equal to whatever we
want I to be which we pass in and then
handle change is a little bit more
complicated so we'll do that one last
let's do stop editing real quick because
that one's really easy this dot stop
editing create a function for it up here
stop editing and we're just gonna say
this dot sets state edit ID X is equal
to negative one so that means we just
stopped editing alright now let's do
handle change this one's a little bit
more complicated so
let's come back over to our table real
quick handle change is a little bit more
complicated than just passing in like
this so on change gives us an event
handler back so we know our event
handler tells us what the new text that
we should update the state with but we
don't know the index of the row and we
don't know inside of the row whether
we're updating the username or the email
or the password so we're gonna pass in
wide up prop that'll tell us what field
we're changing and then at the end we're
gonna pass in I so we know which index
were in so we know which one update so
then our app over here our handle change
we'll pass it in here this dot handle
change we're gonna have an event
listener here here we're gonna have the
name prop name and then here we're gonna
have or we should say she give this a
better name let's call this name that's
the name of the field of the row that
we're changing and here is gonna be the
index so we're gonna do this dot set
state and like I was doing before we're
gonna use this state function because we
want to use our current data and I'm
just gonna get the value out of Y target
so value is equal to
oops value is equal to what we just
typed into the text field and we're
gonna say data here I'm going to say
state data and we're gonna do a mapping
so we're gonna take each row and the
current index which is J and we're going
to say J is equal to I so when it's
equal we have to change this row
otherwise we just return the current
rail
so if this is the current row that we're
changing because we know that because
it's equal to I that we're getting here
we're gonna return a new object we're
gonna return everything row has and then
we're gonna say whatever the value of
name is so name could be username email
we set that to our new value and give
that a save
so we're mapping over our data whenever
we hit the row that we've just changed
we're gonna keep all the values that are
there and overwrite the one value that
we pass in with name its setting its
value okay let's see this in action see
if we have any errors doesn't look like
ringing errors I'm gonna say put in some
data here and hit submit
so we see our stuff here so now when I
hit this pencil remember edit mode will
turn on you know we'll pass in the row
we want to edit and we should get text
fields so click on that we hit our text
fields that pop up and then here it can
start typing and I'll know what field
we're changing based on the passing the
first name last name and in the index of
the row then we can hit this button to
save it
notice it saves in the changes let's try
this with a couple other rows make sure
this doesn't work for just one
okay so let's try editing this guy
change the email give that a plus now
we're not doing any validation on this
anymore so for example if I got rid of
the @ sign they could do that and now
let's hit the trashcan and we remove
rows so cool so that is how you add edit
and delete features to the rows of our
table I hope that was helpful and let me
know if you had any trouble implementing
this I'm gonna put this code on github
so you can check it out and make sure
your code matches if you have trouble
getting the setup it does get quite
complicated with this handle change and
passing in all the stuff to our table
there's a lot going on here but as you
can see it's a pretty cool result cool
addition to this if you wanted to add
more is to actually validate whenever
they edit and throw an error if they
validate incorrectly if they do bad like
we remove the @ sign so that's it for
this video guys thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>