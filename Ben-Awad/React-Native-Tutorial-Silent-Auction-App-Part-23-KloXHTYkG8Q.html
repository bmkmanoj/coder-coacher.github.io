<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Native Tutorial - Silent Auction App Part 23 | Coder Coacher - Coaching Coders</title><meta content="React Native Tutorial - Silent Auction App Part 23 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Native Tutorial - Silent Auction App Part 23</b></h2><h5 class="post__date">2017-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KloXHTYkG8Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys welcome back so we have
is this nice little bar at the top you
know lets us do filter through the bids
now I'd also like to sort them so I'm
thinking is putting a little picker here
and then you can click on and I'll do
different stuff and native base actually
is a component for this now before
though I show you that and how that's
working this is kind of mashing at the
top here I want to see if I can add some
margin top so you don't get this problem
so I'm going to go into the view here
where we have our segment and I'm just
going to do style and I'm just going to
say tickets right there are Jim top
going to give it 10 see if that does the
trick in almost I think it needs a
little bit more maybe a 15 and awesome
okay so now let's get into the picker of
sake mount so native base has a
component this is what it looks like we
put our items in here that they can
select from and you can see what it
looks like looks a little bit different
Android and iOS so that's we're going to
use and I'm just going to basically
smack this at the top of the page
underneath segment soon here
however picker so the tabs guy over
and now we're just an import picker and
item from native base okay and now we
have an air prop should not use bind
and we'll put key one
don't throw thio s header and okay so I
just put some equal values here and what
does it like up into something these
double quotes and was like about this
and the digits just sold it off oh yeah
it should be indented like that okay all
right we have a figure at the top here
that was a very slow transition and then
we can pick a different one and okay the
value there doesn't change we have to
actually change it ourselves
so what I'm thinking is we have four
values the first one should definitely
be like we want to we want the first one
to be the most the least expiration date
like time left it's about to expire
expiring soon maybe this is a bad name
you can think of a better label for us
it can they really named off top my head
but basically um expiring soon expiring
later I need to come up with better
names in this we'll leave that for now
though and then also by the amount so
highest amount
lowest highest solo stood high stood or
call it least time left most time left
over key values here we'll say L time
left and time left
we'll call this one H bid and this one L
did and so for this what I want to
create is kind of how we did segment so
I'm just going to copy this and I'm
going to paste it I'm going to call you
picker and we're going to do it exactly
like that so first in our index four
modules you can import a new guys we can
be picker and add that to our other
reducers now let's actually do this so
change and you change selected change
picked for a picker make sense so here
we'll have change pick change picked
okay so that's the action that we'll
call when we want to change the pick and
then in our reducer here we'll do change
pick that should be with a K there we go
and then here change pick and then that
this can look the exact same
and then here instead of open our
default is going to be least tie left
I believe that's what we call it right
we don't need this page least time
laughs cool so now we have this action
that we can call called change pick and
now we just want to add that to our
index here and I'll change pick and this
is actually coming from a different one
change pick this is coming from the
picker module so now change pick is in
our props and we can now call it from
our function over here so when the value
is changed we set the value here um
change pick passing NV and also we can
change the value of the pair we can get
the actual value of the picker from the
state here so through this top prop
stock ticker okay so now if i refresh
and i use the picker it should change
names here cuz it's now in a Redux store
no we're do surprise to the key picker
no DUSU provided for the key
we'll just picker okay I'm assuming it
isn't like this even though we added it
here picker Oh got the name picker here
okay sir area close that close that goes
back with that okay
a least time left we could change it
everyone what if there's a way to speed
up the time of that super slow okay
so now we see that here but notice how
it doesn't sort it any differently and
that's because we just didn't add
basically any logic here so now what
we're going to do is we're going to add
sorting and we're just going to clean up
how we do this because this is was a
little bit sloppy this was basically one
way to do it so it's faster but then
we're kind of duplicating code so well
after we filter we want to sort because
filter removes element so that'll be a
little bit faster and instead of sorting
and then filtering so we're going to put
that code and we're going to put it in
our cos here and then this is what I was
talking about in the other video where
we can use lo dashes sort by so now we
can sort by a key and that's exactly
what we're going to do here so we're
going to pass our auctions and then
we're going to sort by for example a
expiration date or time left or for
example the cost of the item current
price okay so we're getting auctions
here and then then we can check this
stop drop stop segment and we can modify
this auctions if this is equal to
complete and will say auctions is equal
to this nice filter command that we
created and we don't want our remember
map actually returns gsx so we're going
to do that later elsif here we're just
filtering the stock props I'm going to
want to do this this top prop segment
every time so we can get this segment
here notice how we have this and we have
this
that's fine we're going to get a little
air from yes lint because this should be
segments should be comped here but for
the sake of grabbing both auctions and
segments from the prop we'll go ahead
and do it that way
so now as your segment is equal to open
will say auctions is equal to we'll do
our filter and then we don't need to do
anything if notice how we don't do any
filtering on this last one if it's both
so in that case you'll need anything you
notice how is lint doesn't like it
because segment is never reassigned so
it should be caught but I don't really
want to do this because then we're
pulling it twice right and maybe maybe
you guys know it since doing this twice
so one way to get around the air is to
do it like this but then on expanding
props twice I'm thinking it's more
efficient to just do it like that I'm
not sure let me know in the comments
below if you know whether which one's
better to do I want to do it like this
for now so we're filtering and now we're
going to sort now we need to know how we
should sort and how we sort is the value
this picker value and it's going to be
the value here and that's how we're
going to sort so I'll grab the picker
and then if picker is equal to means
time left we'll sort it one way else s
picker is equal to most time left
okay I was kind of sloppy to do it this
will be highest bid also picker is equal
to the lowest bit so those are the ways
we're going to sort here and okay just
empty the way we're going to sort is
with the sort by function and we're
going to pass in auctions and then for
time left we're going to do the time
left field and if we come over here I'm
just trying to see if there's a way to
reverse it
sort by creates array of ascending order
with method Chrome's a stable sorts of
preserves there's no state um it does
not so I guess I'm gonna have to reverse
this just like that and then when you
when you chain things and low - there's
a chain thing you can do and I'm not
sure if that speeds it up so lowest time
left let's see if this does work oh well
you're having a problem so let's see
what that is we're having some errors
here but I just wanted to see if this
would Oh down here
this shouldn't be the problem anymore
and we should be able we're going to
simplify this so we can just do auctions
map on the only thing we added was this
stuff here there you know so if we're
still getting error it's one of those
things okay and again to figure it out
I'm just going to comment okay so
something wrong with the filtering I'm
assuming it's the open okay so the open
this filter is causing it to crash
auctions at a time left my equal Oh
should not be mapping there okay okay so
yes so I wanted to check if time left if
elite if I was working I go to both we
should and so the most part it looks
like it is
without a new one I guess so this I'm
going to pick tomorrow all right
that's at the top now if I pick one that
is Thursday that should be below it oh
look at that guy's up there just lag
okay as I found there all right looks
like it's sorting it correctly at least
the least time left and notice that
little bug the a here is staying so we
are not resetting the form so we need to
fix that but we'll do that in another
video I want to finish this up so then
here we're going to reverse to get the
most time left and then to the highest
bid here we're going to look at current
price and it'll be the reverse because
it's in ascending order and I'm real I
think our sorting you should be working
so now if I do most time left we see
that it looks good I feel like it's
applying a little bit now if I do sort
by highest bid we see 17 12 and then one
good
and now if we do lowest bid we see 117
ooh okay so I'm not working I'm curious
if it's oops get that out of the way I'm
curious if this is because these are
strings so the way I want to solve that
is I want to turn them into floats I'm
thinking the best way to do that is just
in the auction producer the auction
reducer here while we're doing AB moment
you could just say current price is
equal to and price and make it a float
oh yeah
FLOTUS oh how do you it's not you know
you don't cath like that JavaScript it's
parsefloat area so now if I do lowest
bid I would expect it to be ordered
correctly
I don't know why it little alcohol
difficult is for minstrel okay we're
still having a problem so I don't think
the parse that that's the problem
uh-huh there we go I was using time left
instead of current price there
Wow it takes like three clicks the truck
to do this and then I keep triggering
this on the bright side though that did
work this does look good let me know no
though on your computers if you are
having the same problem I don't know if
it's lagged because there's a lot of
items in the list and sorting or if it's
something else see if i refresh and it's
still actually refresh was instant oh
you know what I wonder if it's just this
I think it's this little selector thing
is just being super slow see how it's
still pulling down I think I have to
wait for it to fully go all the way down
and then yeah that's what it was until I
can actually scroll okay that's weird
this is kind of janky if you want to use
something else maybe go ahead and do
that maybe this is just how I OS is
working could be the emulator
unless sure looks quite janky though
either way our code is correct and it's
now working nicely there's one other
thing I forgot to do got to mention is
which doesn't really work very well with
pagination because we're sorting
everything on the client side so what
we're going to do is we're going to say
forget about that and notice how we're
asking for 20 here we're going to remove
that so now the server we're just
getting the default number back and
since we're just was just a small app
and we don't expect to be that many
auctions we're going to head over here
to this server and we're actually just
going to turn basically paging off so I
haven't actually tried this before but I
believe this get paginate object is if I
just do an empty one instead it should
remove paging now notice this is in the
auction service function of the server
now if I reset the server we should
still get the same results on the client
but now when we're fetching data it
should set the whole thing up
crash ugly broke humping auctions find I
don't know if I just didn't restart it
or what no such as a bunch of requests
to find ok maybe it doesn't like empty
object but now every time we find the
auctions it's going to fetch all the
auctions okay so it doesn't like the
empty object so we can do default we'll
say a thousand and our max is a thousand
and I'll expect to be there to be more
that Oh refresh there okay
so that's good this looks nice now
awesome now if I sort that say maybe the
highest bid uh yeah it's actually this
this thing I just have to wait for it to
go all the way down all the way up it's
not lag so yeah okay so it's sorting
nicely notice how I won't let me click
any of this until it's look how it looks
slowly going up after wait for all then
one click it works okay I just have to
be more patient with it all right so
that's it for this video um
and next video what I kind of do is fix
this little bug we have with the forum
and also add like a little back button
here so I can if I like hey I know I'm
going to create a auction you can get
out of this page so that's it and I'll
see you guys in the next</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>