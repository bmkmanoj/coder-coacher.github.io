<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setting up GraphQL server and Create React App | Coder Coacher - Coaching Coders</title><meta content="Setting up GraphQL server and Create React App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setting up GraphQL server and Create React App</b></h2><h5 class="post__date">2017-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6VVVWqOGGig" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">see if we are get our Trello up let's
see what's going on okay cool we're
working alright let's get started start
the recording alright let's get started
okay so what I want to do is kind of
make a Trello ish so I have right now
this Trello board with like suggestions
for videos and like kind of my like what
I what I would like to do what I'd like
to create some ideas ideas people have
had that when I see get created and I've
just kind of put all that stuff here but
there's something I don't like about
this one is the whole voting thing does
not work very well for example I'd like
it to Auto sort by votes but I have to
that something I have to do it's like
come here vote notice how it's at the
very bottom even though I'd like it to
be like right here so it's not Auto
sorting and like there's a just like a
lot of different things that like be
cool to do that I can't because I don't
own this site so basically gonna make a
suggestion board maybe it's gonna look
kind of like trouble it's not really
gonna be Trello but that's what I'm
gonna make I'm gonna call it baklava the
repo is gonna be here I'm gonna add this
to the description for the stream and
for youtube series can follow along see
what's going on with it
and yeah let's just get started with
this so I have right now an application
that I'm going to go based off of this
and that is this guy so if I go to
repositories we can see this template so
I'm gonna start off with this template
this is going to be the back end
let's start with the back end today
maybe we'll get to the front end I first
want to let's create a readme yeah let's
go ahead and create read me so I'm gonna
just copy this and I actually want to
let's make a folder for this first balk
there we go and now what I can do is we
can paste that in so we're gonna create
a readme and then push it up to github
so now we should see that here cool
so the first thing I want to do is just
like start with the back end in the
models that we're gonna create so this
is the template that basically has the
graph QL stuff that I want to use I did
a bunch of different stuff with this but
I want to start with I think data loader
is the one at one cuz I don't want to
OAuth I don't need next yes I just your
user actually I'm gonna go ahead and get
next yes login is the one I want
actually when you clone when you clone
it doesn't even give you the one you
want so actually I'm going to I like to
start off I'm going to remove baklava
actually get cloned this and I'm gonna
call baklava and we're gonna go into it
I'm gonna remove dot git and then what I
want to do is grab this so I'm going to
add this as the remote repository here
and way we can grab git remote add
origin not getting that git remote
and origin there we go so we added that
as a remote repository I also want to
open this project up and just like cut
out a lot of the code that I don't need
because I know I don't want to do
Facebook go off at least at first but
actually well tech I could see myself
wanting Facebook o auth later so I'm
actually not gonna cut anything out for
now I was for a second I was just gonna
cut out something like garbage I didn't
need but like I actually kinda keep this
because I actually want to keep it off
so let's get check out and go to branch
14 oh we had we needed to switch
branches first so I told you I wanted to
start from the 14th one right I'm have
to reclone this and redo it I forgot to
switch branches when you clone a
repository at first I didn't called
baklava git clone bah bah bah there we
go so now we can get check out and the
14th branch all right cool no if we see
in code now we should see a lot more
stuff and we do cool so for this I want
to get rid of the dot git and the readme
we're gonna add our own and that's when
we do get remote add origin so we're
adding a remote repository which is this
one and then I'm gonna push the code up
first I could do get an it alright so we
have that I'm gonna pull you always want
to pull first so you don't break
anything
get pull origin master and coolly readme
here commit
let's actually get checkout branch let's
actually start this first live stream
set set up we'll just call this setup so
this is the first live stream I'm going
to create a new branch called setup
that's for me to do all the setup for
this
so get at all get commit grab template
so the first thing I did was grab it
spelled template wrong that's fine
git push origin set up alright so we
have this I think all set up and I just
want to make sure I have es lint set up
nicely too we're extending air BnB base
plugins and port yep so it seems fine
and now we should see all our code here
- all our stuff by going this up cool
and we do so now a master here so we
write out readme of what we want this to
be this is right a quick quick readme
and we can add this Slayer so this is
going to be a Trello like web app like
Trello or suggestions
we commit we actually need to grab this
from master and push it and sell their
branch to get check out master get pull
origin master git merge yep get checkout
get merge master all right now both
branches are at the same level push them
both up all right now let's create our
model so I already have some sort of
model here's our user right now this is
a decent user model Waga username I'll
have an admin feature which an admin
it'll pretty much just be me basically
or maybe it'll be someone else associate
the boards you can create suggestions
it's fine local I need that that's it's
all well and good well explored to here
is our database stuff so should probably
create a new user and stuff the database
so let's look how to do that always
forget create user
okay let's create a roll create user
stackoverflow usually has some better
answers there you go so I'm going to go
into P sequel and create user I first
want to create database baklava and then
we also want to create a baklava admin
with password celery all right and then
we want to grant all privileges to our
guy
so grant all privileges on our database
which we want it to be baklava and then
we said baklava underscore our admin all
right so that is all setup so now we
want to change it here to reflect so
baklava is the name of the database
baklava admin and then celery is our
password okay now I just want to get the
schema and the resolvers in order and
once those are pretty good place I think
I'm gonna get started on the front end
subscription is fine I think schema
mutation date login you know what I
don't even know what I want in the back
end yet I think I'm just gonna start
creating the front end and as I'm doing
the front end when things pop up I need
I'm just gonna add to the back end
alright so you need already commit
message where we just change we just
added set of DB credential
all right so I'm gonna open up a new tab
and I turn here and then do create react
this is what should I call my client
should we call it filo dough
I can't I don't want us both feel oh
let's do rose water so I'm gonna call my
front-end rose water actually we'll just
call my the front in Rose that's fine
okay so we have that creating this is
gonna be our front and I'm gonna do it
and react gonna use create react app
because I love it and we're gonna set up
the first thing we're gonna set this guy
up with is react router and we don't
want to do server-side rendering its
regular react router and then we also
what's the other thing we want to set up
Paolo client definitely we don't need
this bye
and we can close our back-end at least
for now
oops when I do em p.m. start to actually
make sure that boots up okay probably
should done this first it looks like
we're good looks like it's pink super
slow to set up this and our app crashed
oh and that's because I didn't ever run
yard or MPN to install the dependencies
for this but now we are so that's good
okay so we need react router and Apollo
client back router is gonna be able to
navigate different pages and Apollo
client is what's gonna allow us to make
graph QL connections let's go to web
client downloading here downloading here
I figure you might just be like killing
my computer a little bit with all these
downloads
okay so Apollo client we're gonna
install you actually don't need an
install graph QL tag anymore this is an
old readme we'll go to their
documentation that's more up-to-date got
a quick start nice they use create react
up so do we
yep and we're gonna do yarn add react
router Tom alright looks like we're
getting closer to done how's our yarn
doing see this is what I love yarn look
how much faster yarn is even though NPM
five is doing like very similar thing to
yarn now I feel like yarn is still
faster on my computer so I'm not sure if
they're just doing something different
like not just things this example they
might be in slow more libraries with
create react app just in general that's
something I've noticed alright start
this guy up let's see if he works
if he does then we can just leave it for
a little bit connect him later and
actually okay you saw this this drunk
spit out here that means it started up
in it these are the queries that it
makes on a database I'm gonna open up
another tab because we can already see D
into the directory that it's just
installing the NPM packages for rows and
I'm gonna say code I and I also need to
create a github repo for the front-end
so let's create that real quick call it
roads and create everything is booting
up when that is done we're gonna do yarn
at react router DOM and also Apollo
client and look it's all done cool we
have yarn installing those we can go
ahead and do NPM start here and no we
can't because we're not actually inside
of baklava IRA me not baklava
Rose do NPM start and not sure what's
going on Visual Studio code here
create the repository over using react
so we'll grab that and we can just copy
this uh-oh
baklava is on the same port yeah we're
fine running it on this I should just
change the port that baklava is on
yeah let's do that real quick so I'm
just gonna open in to them real quick so
let's do it
index I'm gonna run this on port 30 30
that way this guy can be on any port
looks like I'm missing something that's
fine all right start up baklava can't
resolve you slant loader I also want to
set up your slant so let's do a slant in
it real quick I am a big fan of Airbnb
and setup with JavaScript it's gonna
install all these plugins it's gonna
install them at the wrong level so we
have to reinstall them if we go to es
lint Airbnb it will actually tell us how
we can fix it they have a nice little
script for OSX that auto because all of
them here's our palo client i'm gonna
get this set up with getting started
yeah setup in options we're just gonna
point out our graphical server that we
have up its up and running nicely that's
installing those ab dividual studio code
ever start up it didn't I'm gonna close
it reopen it all right so eslint Airbnb
whenever the es Lantern it is done we'll
see okay I'm just gonna let this guy sit
here for a second got that loading we
can close we won't we might need react
routers something like that open and
close this I'm gonna have to I want to
set this up on the github page in a
second all right so here after I can use
this script right here to set
yes lent Airbnb so when that's done
running I'm gonna rerun it with this
because yes lent an it installs actually
the wrong versions of each one and I
redid a rat reactor Paulo
actually I installed the wrong one I'm
pretty sure I installed Apollo client
which is not what we want
I want it react Apollo yeah somebody
yarn remove Paulo client and do yarn add
reactor Paulo okay we're still
installing the es lint stuff as its
installed cool so now we want to run
this this will actually fix the what
version we are of each one of those you
cellent packages cuz we're you got the
wrong one
Apollo clients getting removed and then
we're going to install the right one and
then what we're gonna do is in our code
we can set up Apollo client and we'll be
able to connect so I'm gonna do yarn add
react Apollo we got this going cool
looks like that broke why is that
missing right access maybe it's because
I have yarn open running at the same
time that's probably what it is so I'm
gonna let that finish before I start
okay they did visual CEO code pop up
cool now we can start setting up react
router and whatnot I'm gonna first get
rid of some of the things they don't
need so app tests don't care about index
that's CSS I don't care about index
Egeus is fine
Abdo GS I don't care about AB dot CSS I
don't care about logo I don't care about
and lastly register service workers I
don't care
well I'm not trying to make the
progressive web app here okay so with
that said we can remove those three and
everything's read right now because es
lint was install at the wrong version
which it's gonna get fixed see his yarn
done it is so I can rerun that so here
what I like to do is I like to create a
routes folder and inside of that create
an index route next J s that's where all
my react router stuff's going to go and
then here I'm actually gonna create an
app and we're gonna wrap it with the
Apollo provider and I'm gonna try not to
use um what's it called
we should not close it like that I'm
gonna try not to use Redux for this and
see if we can get that get everything
working without it so now I'm gonna
import this index route here so routes
from dot slash routes and then that is
going to be what's rendered here and
then we can import Apollo provider from
react
Apollo alright let's see how our
downloads going it's on its way and when
that set up all the red will go away I'm
gonna wait on setting up Apollo client
first I want to set up react router and
get a page up so we can make sure
everything's all good to go so let's
import these guys can do this in our
index
and I'm also gonna use a switch switch
let's make sure only one is getting run
which is important only one route
whichever one matches so Emporium react
and then here we're gonna export default
and then this is we're gonna put all our
routes we're gonna have a browser router
and then inside of that we're gonna have
a switch and then inside switch we can
have all our routes so routes paths
this will be our indexed route and we
want it to be exact and we're gonna say
render and there's no props that I want
to pass to it for now so I'm just gonna
render a home component
okay cannot read file we'll fix on a
second home dot J s import react from
react export defaults Oh
so let's get everything wired up get rid
of all these errors and see if we can
see that so we got that that and then
our index page here it looks like
yes lint was successful now cool nothing
else is running here so now to get that
working after close that reopen it and
now we should see yeaa slant working
properly and that will let us do
everything we want to and if we come
over here I think I setup the router
correctly I might have to add a div
somewhere if something doesn't work I
think everything is looking good all the
query errors or anything
let's do NPM start and see it if we
start up okay next thing I want to do if
this does start up is get a material
design setup with this because that's
the UI framework I want to use with this
okay so feel till it plugin flow type
you sent plug-in reference we're not
even using excellent not sure why that
is missing usually when the stuff is
missing like that if you just do a yarn
or NPM install it'll go ahead and grab
it so we can see that fixes it for us
looks like we're installing some
dependencies so that's good
where is code that like have visual Co
code in between those two I'm gonna add
some stuff to our es lint RC I'm going
to use the Jas extension not the JSX but
yes lint doesn't like that
react / gsx filename extension so to get
rid of that little warning what we can
do
say rules and actually rules I think is
an array no it's not it's an object
because you have to say whether or not
you want them so that was react / JSX
filename extension and we don't want it
so we put a zero expression expected so
just want to comedy not sure this is
there an error here nope looks okay now
it's still popping up
maybe if we save yes go6 JSX - file name
- extension file name - extension hope
we added it I don't think I have to
restart it we'll see you in a second now
that yarn is done I can do NPM in start
and see if this will build hopefully it
had installed that plug-in for us if not
we'll just actually add it so you have
yes Lintz detecting anything else we
need to change you'll notice I'm using
yes lint and prettier together extension
for this feel notice how everything just
reformatted itself it does of that by
default so the missing a semicolon
I think Visual Studio code is just
lagging a little bit maybe okay we
definitely got rid of react / yes thanks
- Melanie react - GSX - filename
well we got rid of it it's still there
brochure is undefined I'll get rid of
that you'll notice it didn't recognize
document we need to set document as a
global I think it's just Global's like
this so window is one you can usually do
we're gonna do document so if we put the
zero there should get rid of it I kind
of want to restart my Visual Studio code
and see if that'll fix it let's see what
this is doing Const app we can just pass
it in like that I believe since this is
not really a component that should fix
it oh we need to pass it a client will
do that in a second I want to make sure
home renders and we have react router
setup
I only know react router works for sure
we can get Apollo client cool react
router is working for sure so let's pop
back over here and get Apollo client
setup so to get apollo client setup we
can close you and close you rigging
around this
all right so here you specify where your
graph QL server is for me it is at
localhost 3030
that's the server we just set up our
client here then we can pass client
equal to client all right so now we can
do graph QL things Paulo provider Apollo
provider we just need to add it to our
import here see what's going on with
that's some more red lines that's
annoying okay we're all good let's see
what I'm not going to worry about those
for now I think we're doing fine okay so
we have a graph QL set up the next thing
I wanted to do was to you I I'm gonna
close react router so there's two things
we have to install to get until you I
set up so ye installation we have to
install this oh yarn add react tap event
and then material UI and then what we
can do if we go to usage and actually we
need to copy this and we can add that to
our index here and I'm gonna get rid of
the comment we don't really need the
comment
is we're actually going to do a provider
similar to how we add a pollo provider
that just wraps everything all right so
you theme provider and put that on the
outside cool so now in our components in
our home component for example we can
use reactor or material UI components so
if I go to components here go text field
I can see I can add these so what I
think I'm gonna do is create a signup
page next and when it doesn't recognize
stuff oops it's just because we had a
typo but sometimes it can be sometimes
it can be because you need to restart
the server because you added some
packages search keywords to learn more
about the error okay let that go text
fields what we're gonna add so that's
gonna be on put code back in the middle
so create a register out and that's
going to be can I have that here slash
register and here we're gonna show the
register out
so then I register we're going to import
the act from the act and then here I'm
gonna do class react no yeah actually we
want to make it a class but we we don't
call it reactive and call register I was
trying to bait what they want to do peer
function but there's gonna be a form on
this page and I just want to use a
regular react form so we're gonna do it
like this and then not from extends
react component and then we're have a
state I'm gonna have a username a email
and the password and then we're gonna
have a render function and that's we're
gonna put our text field and stuff so
that's gonna be we're gonna open this up
grab that did not copy that there we go
so return and I'm just going to render
one text field and make sure it shows up
so we can copy you and
they're just broke and that's because we
you have two adjacent JSX tags just like
it says so you have to wrap it with a
div and what that meant is we have a
break tag in a text field and you need
to surround it all by a div okay so now
here we have slash register oops we
should see our application or our
material UI and we don't we see home
still so that makes me wonder if I in
our out Perez sure up and make sure to
actually get register alright refresh
and protects for default so in our
register here we need to do export to
defaults cool and we see our field and
it looks nice and pretty because it's
material UI so we have hint text here
let's make this a form not a div because
we ran out form stuff in here and text
I'm going to say username username name
is going to be equal to a username and
we're gonna copy and paste this two
times because we also want an email
field
and then a password field
capitalize both those type we want to
make password that way that when you're
typing it didn't and then we want to say
there's two other things value they're
going to be equal to this that's taped
username and that one's going to be
email that one's going to be password
email password and then here I'm going
to do on change
Dewey dot this dot on change passing an
E maybe that's how we're gonna update
this state we're gonna create an on
change function this dot on change is
equal to e I'm going to this lot set
state I'm gonna say either target dot
value will eat out target value and
value is not value that should be name
there and the name here it matches up
with the name here and that will update
to state here so let's see these guys in
action
typing works okay awesome and I just
want to add break tags in between each
ones so we can have some space and then
I'm gonna add a button at the bottom so
if I go back to material you I can grab
a button
Riis button and at the bottom here we
can then add that button I like to look
at the primary button and grab that
primary is gonna be true so here's
another way of saying true is just
sticking out the end like that label is
gonna say submit and then on click
there's gonna be this dot on submit and
then create on submit function then here
for now what I'm gonna do is I'm just
going to say console dot log this state
and I'm gonna make this actually gonna
be fields that way it's easy to grab if
I want to add more things to the state
which we will be later so then here will
be fields and this will be this dot
state dot fields so we're keeping
whatever the field was before and then
adding this on to it and then we need to
make sure to change this the fields here
and on our password so now if I type
some stuff in our form and I hit the
button we should see a console log
user named Bob Bob Bob hit submit cool
we see everything here all right so I
think this is a nice little stopping
point I was gonna go longer but I'm
actually feeling kind of tired so what I
want to do is I want to just add this to
github real quick and then quit here
okay just telling us our local network
state so okay so get rose we didn't even
make something get in it it am i doing
LS see if there's a readme already
remove the readme because I know the
readme oops I know the readme was
associated to create react app so go
ahead and have that push up and get
status get check out we're gonna branch
over and create this is gonna be set up
so there's gonna be a set up for the
first one get and get commit set up
create react app with react router react
Apollo and material UI so that's some
pretty good stuff right let's pretty
decent amount I've setup I would say
let's go ahead and push that and if i
refresh i should see the code pop up
here you never go to setup cool and why
not let's get check out master get merge
get oh there's no other get unable to
create file exists get status o node
modules I think I forgot to get ignore
that no it it did not add it that's
really good
for whatever reason the master out has
nothing in it oh that's fine well I mean
it's not fine we need to get birch then
get ignore all right we're having a
little bit of get get fun so get ignore
that get that get commit ignore node
modules get merge one set up merge
conflict that's fine so we got a
conflict because I change what was in
the dot gig nor we're just going to take
exactly what was here before and then
get status get commit we're gonna add
all I'm gonna edge get status cool git
push origin master I'm gonna get check
out our setup get merged master so
everything is on the same and then push
up setup alright cool so we have
everything up on github as to me active
changes only a subset okay it looks like
this crack visual CEO code crapped up
because no modules to many will close
that alright that is it for this stream
I'm gonna put all this stuff
both of these github repositories in the
description below so you guys can see
them if you want to check it out and
link everything up yeah that's it for
now thanks for watching guys I'll see
you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>