<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Super Simple GraphQL Server in Flask with Graphene | Coder Coacher - Coaching Coders</title><meta content="Build a Super Simple GraphQL Server in Flask with Graphene - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Super Simple GraphQL Server in Flask with Graphene</b></h2><h5 class="post__date">2017-08-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oQc7DC3srNM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys so I've been doing some live
coding lately and you guys seem to be
enjoying it and also I've been leaving
some debugging in my videos and I
thought I'm going to try something new
today and see how you guys like this I'm
just going to show you how I go about
learning something trying something out
and all the debugging and errors that
will come about with setting it up so
I've been doing a lot of graph QL stuff
I've been doing it pretty much all and
JavaScript but I also really enjoy
Python and I know you can build a graph
QL server I assume graph QL I know has a
library graph being is what it's called
for Python so I went to check it out see
if I get a server up and running and how
I go about doing it I've never looked at
graphing before it's my first time I got
the just to read me up right here and I
have the QuickStart right here and I'm
just going to see how how long how far
it takes to get this set up on my
computer and just try it out so yeah so
without further ado I'm going to go
ahead and get started and try adding
this in so I'm just going to go through
the QuickStart which is right here and
see if I can get this guy set up so the
first thing I recommend is installing
graphing with pip now I already have
tips on my computer and I have Python
3.8 3.6 you can find out on the CD major
graph in quick start all right so I'm
gonna do python flush I was going to say
/b I also did different commands with it
and it just okay I guess - B is not how
you do it I dunno if you just type
Python as what I'm tell us I are 2.7
here I much prefer Python 3 which I
think I found there okay so I have
Python 3 3.6 and now I'm going to do tip
3 install graphing um and it looks like
this is how they build scheme
we're going to create a simple schema
with one field hello
alright so the class is query so this
looks like instead of an object you make
classes hello and then you're resolved
below all right and then query we just
do schema to execute I just look simple
enough so let's try this out so in this
folder I'm going to go ahead and open
visual studio code and I'm going to
create a new file called mink Pui and
what I usually start coding Python what
I like to do is just say create a main
function and then I like to say if name
equal to main and the reason for this is
if you import this package or this main
file it won't go ahead and run this code
if I were to just like put code here
instead doing it like this will only
call this main function if we actually
execute this file instead of importing
it so okay so we got that and I'm going
to come over here copy this create our
schema here so in main I'm going to go
ahead and put this at the top and I can
go ahead and create my class here and
then schema yep this is five open schema
in main are we going to save this
reformats
kind of interesting listing doctrine
unable to import this is I have pilot
dogs we're going to see lots of little
warnings like this and whatnot I
actually don't like pilot that much I
find these they borrow a lot and I don't
tend to write all the comments and a lot
of them are talk about Colin I actually
don't know how to like turn settings off
in a pilot I should probably learn how
to do that anyway let's get this running
so it looks like graphing string the
name of the argument
looks like we're giving it a type again
oh no we're not we're saying the name
is of type string and in the default
value is stranger so I guess I'm
assuming I could add more here and do
like name and like age I could do like
graphing integer but we'll try this in a
second before we start experimenting
let's just get the basic setup running
and making sure that works and look at
that they're using Python 2 right here
shameful go ahead and success attack for
them and now hopefully when we print
this I don't know what we see hello plus
whatever args we give it we're executing
hello not give me an argument
the default is stranger so it should say
hello stranger to us so Python 3 main
and it prints hello stranger to us cool
so we got our first crack Jo query
running right here that's pretty needy
what I'd like to do is set up like maybe
like flask server if you haven't heard
of flask um it's kind of like Express
for Python there's also Django but I
don't think we need change I think flask
will be sufficient so don't need
something big I want to do is experiment
will click with us so I'm gonna try
adding an age say graphing the argument
and I'm assuming it's graphing it I
don't know if it's integer and I'm
guessing it's integer we'll see if we
get it wrong default value we don't have
to set a default value for all of them
right so what I can do here is args and
what I can do is say hello and then I'm
going to put their name here so I'm
going to get rid of this I'm gonna do
format format this is Python through
syntax to like add strings into yours
like a string template we'll say hello
you are years old and then format I can
say args name an Arg H and now for hello
I'm going to do if we get default
already suffered the name but we don't
for the age we need a specify an age
here then they say age of 13 so I'm
going to run this query and hopefully we
see hello stranger you are 13 years old
how to run that graphene has no
attribute integer let's try it in this
is a word we can go to the documentation
see you for sure
there we go hello stranger you are 13
years old now we could also add the name
property here so what I always got
xscape that well actually I should put
actions of my name table there we go
by the way my name is not bald and about
13 and bam let's see what else we can do
with this we'll go to the next page I'm
ready so enum scalar scalars with one of
those lists about oh it's a sign about
actual data type list okay object type
schema mutations
um so mutations look like they work
similarly staticmethod
mutate class input this looks like I'm
curious why I put static method here um
didn't do it here I don't know why
mutations are considered static methods
doesn't look like it says here either
looking at this it's creating a person
object person so grass mean that there
must be more code than what they're
showing here because graphene dot field
lam the person wasn't make any sense
but the person okay are the output
fields of the mutation wins resolved
okay and put attributes or arguments
oh here we go here's our person alright
so they have a person which is an object
type string int so this is a mutation
that takes what these two parameter know
and I guess the input is what it takes
so it takes a name and then it outputs a
person looks like and okay this is
interesting syntax
alright this makes sense to me now what
I want to see is if we can get this guy
on a server like flask executing a query
middleware resolve arguments example
using with graphing true to a mill where
looks like I'm just ignore all right so
before I just Google how does it work
I'm just going to like try getting flask
to work with this so I'm going to import
flask now I for sure do not have the
syntax memorize for flash so we're going
to go to just the homepage of flask and
this is all I really want all right we
are gonna our hull over out here we'll
put graphene at the top as well so this
query is what I'd like to execute so
sort of query right here we don't need a
main now that we're a flask server I'm
not going to worry about doing mingle
setup the schema here need to set the
schema down here and then schema is a
global which we can access in two routes
now okay don't with you guys okay so now
what I'd like to take is an argument
which is just the query and then we're
going to go ahead and return
schema and I don't even remember how we
did it query so I should put that back
okay execute so here with us so and I
just want to return schema execute and
then we're executing this on whatever
query we get so we have to pass it like
a wrap parameter so this should be a
host request so let's go ahead and go to
Doc's going to give us how you a poster
course was flask er never heard of
foster you're juicing faster is chores
initiate blogging application okay so
this is where they go to the application
let's see okay let's go to documentation
overview we don't need to see I just
want to go to create a database the view
function so do they have any close
requests they do and doesn't look like
they're getting anything from your body
which is what we'd like to do but that's
okay so really the only this is actually
not even that helpful
only thing we can take from it is that
we're going to do methods and then post
and then I want to get the body of the
request I do know that I think there is
like a request thing here let's go back
to Docs are you going to access things
from so forward QuickStart a minimum
allocation whether the server do
accessing request data that's what we
want what we care about we want method
so it looks like we can import requests
here so it's actually not a parameter
like I thought it was that's how most do
it but I guess class is doing it like
this and then we want to get requests
dot
well yeah formal work more one is like
request dot body or something if they
have a body nope we don't get anything
we also need to like turn our thing into
JSON actually after we do that since
I've dumped or after we do the execute
to do JSON dump it dump this guy um so
I'm just going to do a quick print the
what request the body is that might not
even exist so before that I think what
was it form we could pass in form search
reform as at the top other than admin
application okay we lost our place oh
here it is requesting so request dot
form go ahead and print both of these is
our post request this looks good
so I'm going to try doing that now
unable to import fine so go ahead and
run my application start off start this
up and eight around this app icon three
and the server didn't even start let's
go to a min that's at the top they said
with the mid eyes on a dresser say flask
run I mean I haven't done flask and
actually forever guys I should just I
need a total important stuff actually
flask run let's try it
oh but you have to tell it what the
thing is so export Alaska mine is called
matey UI and now you can you flash grown
and alright so coming here we should get
nothing cool but if I do postman give
you some post requests so let's hold
screen this guy and when this guy is
unloading what we'll try doing is making
a post to here and then seeing what's
the capo
Auggie's for that well I mean it's print
in this so we're going to go to you and
we don't get any of this junk um I'm
going to say query that query is going
to be hello laughing in age of 99 so go
ahead and run that good internal errors
what we expected and a mutable
dictionary here it looks like there's
nothing called body right it has no so
cool little trick and - guys if you
don't know I should just google this but
let's see if we can figure out from here
if you don't know what all the well
we'll just return hi you don't want all
the possible like things that you can
call on an object you can do terror on
it and it'll tell you so then I can get
all the properties of it and like things
I can call and look at so under flask
auto restart if there's a way to get to
do that because that would be really
nice because that's usually have
JavaScript applications work alright hi
here you'll see what shows here
that is a bunch let's see what freaking
just quickly I think data is what we
want
print request data and we'll just say
that three run it and from that hello
and bam we found what we wanted guys
nice so I'm just going to do data is
going to be json dot loads and then
we're just going to execute data query
and python you can't do it like that you
do it like this
cool and now let's what happens so go
ahead run our query nothing and that's
because I didn't restart it other thing
I should make this a real rack you'll in
point guys
slash you're a hero oh gosh grass you go
ahead and run that and that's good lease
I really need to look up after this
after I'm done with this I'll look up
how to actually run this thing have it
restart automatically because I'd be
super nice right internal error we were
so close I thought we had it done
executions the tank execution results is
not JSON serialized oh I guess okay so
when we execute this we then have to
turn it into JSON so let's go back relay
testing it graph no it's going to be in
getting started it was what we had here
we need to call result dot data dot date
I believe and then I think it's going to
give us a dictionary back and of course
come back research service and run it
and then we get a response JSON hello
it's hello stranger year 99
a little nice guys I think that we got
to work well type 12 we get 12 years old
and if I change my query to named John
and of course we're not to escape this
because it's JSON we get hello John
you're 12 years old
not bad I think we're gonna wrap I'm
gonna wrap of the video here this is
what I wanted to accomplish in this
video it will serve up that run to crack
ul this is definitely not how you should
be running graph QL as flask by the way
um just right off the bat like you
should not be taking like this there's a
definitely gonna be a better way I know
because one how do you know whether it's
going to be I guess we're just executing
it here like we're not handling
mutations queries all the different
things errors a library should do that
for you so we need something like a palo
server write that for your python so I'm
going to look into that see what's
available and maybe I'll do another
video on this you doing it you know with
an actual actual setup you want so this
is it's pretty interesting how you can
get crack ul like this is not a bad
setup if you just want a super simple
graphic you'll set up great if you just
want something super simple this will
run really nicely it's super simple
that's nice so yeah that's it for this
video guys let me know if you like this
style I might do more of them or just
kind of like trying something out I'll
go ahead and I mean this code so short
I'm not gonna put it on github you guys
can just like put here if you guys
really want octopus on github leave me a
comment I'm just going to leave it down
for now because it's just so small but
yeah that's it for this thanks for
watching guys I'll see in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>