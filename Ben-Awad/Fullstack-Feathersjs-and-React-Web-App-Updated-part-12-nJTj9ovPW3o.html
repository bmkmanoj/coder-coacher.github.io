<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fullstack Feathersjs and React Web App Updated - part 12 | Coder Coacher - Coaching Coders</title><meta content="Fullstack Feathersjs and React Web App Updated - part 12 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fullstack Feathersjs and React Web App Updated - part 12</b></h2><h5 class="post__date">2017-05-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nJTj9ovPW3o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys so I created react mini
among a about five months ago and since
then it's gotten a little outdated some
packages have changed slowed I want to
go through and do right now is just go
through and upgrade upgrade everything
I'm just going to go through I've
changed the way I kind of like to do
things now when you're creating your
react app so I'm just going to go
through and upgrade the whole entire
thing so the first thing I'm going to do
to start this off is to use this MPM
package called NPM check updates and
this will just basically update all my
NPM packages so I just basically did a
fresh clone of the repository on github
and I'm starting from there so I
installed it using that and now if I run
NC you I can see the packages that are
out of date so these are the packages
they're out of date I can update it with
this youth fly it looks like and then I
can do the NC you - a to do the other
dependencies and if I do an see you
again all of them are good okay the next
thing I want to set up our is yarn all
right guess I already had yarn here so I
guess it'll just install some timeline I
thought I didn't have yarn setup looks
like it is I'll adjust a yarn install
all these dependencies that I need um
and then the next thing is setting up es
light as well want the project on and
just make sure it's all cleaned up and
I'm going to be using Babel yes length
so we get all the newest features and
I'm just going to be using the excellent
that I use for the silent auction app
because I like that configuration so I'm
just going to open this in our window so
while I was running I can do you Slynt
and we're just going to knit and we're
knees a popular style guide I'm going to
use air B&amp;amp;B do you use react yes
um and we'll do it in a JSON file now
localization not found okay looks like
it's installing it for me it's
installing okay this is finished so we
have our new modules if we ever know
modules now okay so we need these
libraries it looks like for us lint so
laying those um and then we also need to
do add value Slynt as well yarn add
value slit and then we should be good
for that and then when that's finished
over to visual studio code I'll be using
for this I just have the project open
here
I'm going to go into the package of JSON
file first and scripts when I create a
new script called lint and that just
calls es lint on the source and then I'm
going to call another one yes let fix
and then that's going to run source and
then it's going to fix them so if you're
not too familiar with the eslint what it
does is it actually checks your
JavaScript and sees if it's correct and
proper manner now there's different you
know proper you know formatting styling
guides I chose the Airbnb you want you
can choose a different one so when I run
this it's going to run es lint on source
it's basically going to just get all my
source code and tell me if there's any
problems with it with the formatting
style according to the Airbnb guide but
you can also do is a lot of the changes
can be automatically done by computer I
forgot that a semicolon or something
I'll automatically do that for me
so I can run the - fix flag so those two
are doing so see if it happened well
unexpected err that's usually okay I get
that in yarn sometimes looks like this
is okay - um I think everything is all
okay so we're just going to run lint
we run lint here it'll tell us if
there's a problem if something was
installed so can find module re s all do
is do yarn
Aria and I'll just kind of do this a
couple times until they have all the
packages so we can lump this guy
sometimes I forget which ones we need it
looks like miss Lynd config has
incorrect period of fancy playin react
just a warning I think we should be fine
with this if this does cause a problem
we can just directly install this I
think it we just it once it once this
one because yeah okay this is incorrect
appear dependency but once that is done
loading we will let the project and then
we can get started because after I lent
it there's similar things like we can
kill this turn port in here that is
something else okay so we have a lot of
files in here
alright so that's done let's let this
again and cool so it looks like the
eslint worked huh we have 300 problems
now notice when I do fix like notice how
I'm missing a semicolon some places when
I do this fix now should remove all of
those problems and it is look we're down
to only 100 problems that's much nicer
alright so we did the initial lint will
still see errors and stuff here okay so
we're just gonna I'm just rate into this
and I'm just going to basically be
ripping this apart and putting this in
all kinds of different places okay so
now what I like to do is one notice how
all the components are like in this
component section here but some of these
components are hourly components they're
more of pages so I want to split up
what's the component what's a page so
like for example this page you know is
what's going to be rendered by react
router but like I think this is a
component you have this is a component
this is not something that react router
renders
I kind of want to split that up so I
don't need that doing that so to do this
what I'm going to do is I'm going to
create a new not new file a new folder
called routes and routes is going to
house all the pages basically so now
instead of having everything in my index
here what happens is I'll have a routes
and we can move this stuff copy you and
we'll put in a route here so export to
you fault and we'll come back to this
because that's sloppy we're also not
going to be authenticating like this
anymore
um the reason why this is not great is
because we're authenticating on every
page and maybe some pages don't need
authentication we should be
authenticating on a page-by-page basis
instead of just wrapping the whole
project and authenticate document is not
defined okay so now we have routes here
so routes is going to be something
import routes from routes so we're going
to import on this file right here and
that's going we're going to put all our
routes and then we're going to put them
right here and notice how I don't do
slash index here you do not need to do
slash index you can just do it like that
these are the same thing
so that's not a mistake so okay so a lot
of this stuff we can move over to the
other thing also notice how my imports
little sloppy here so notice you should
have all your imports that are coming
from modules at the top and then all
your relative ones so all of these are
relative all the relative ones should be
below it because notice how they're
coming from a path
okay so store that's fine so the only
thing I really need on this page is
store and routes require good
authentication is not needed off good
not needed lied those two the other page
you can copy all this junk
alright so removing everything over here
so react router react react Redux we
need react router is going to be in the
other will be over here and we need to
import react from react and our routes
come back over here go6 and a lot of
file with extensions j/s okay we'll fix
that in a second definition for rule
it's not found I don't even know what
that is okay so first thing is oh so I
told you how you're going to copy over
this so let's go ahead and do that and I
think that'll remove a lot of this stuff
but also we can actually abide by
camelcase and okay should be good um so
just these sometimes it gets mad about
global variables because it doesn't know
where they're coming from so that's what
these are doing and here's just some
general rules so I don't worry about it
prop types I should probably go in and
add because that's a good one so I'll
take this off and that's something we'll
add later file name extension that's
fine label has 40 out we don't need that
okay so I'm not sure what's going on
here definition for rule Ally image has
alt okay I'm not sure I think this is
just a bug maybe if I reopen this nope
there's no image tag here but it's
talking about image tagging excellent
not sure what that's about I'm just
going to leave it okay so this is this
is not really a router anymore this is
really just our app okay so we have an
app here does that that looks good um
routes so instead of putting these and
components what's going to happen is
skip this all over about too many times
actually it should be I think I'm using
two spaces over here yeah
so it's use two spaces that using spaces
two spaces okay all right so now all the
components all the write all the pages
are going to be sitting in the same
folder as routes so I can just do this
like that and okay history so we're no
longer going to have like this over
we're no longer going to have like a
route that's wrapping everything we
don't really need that we're going to do
basically in a different way now um
everything else is fine the next route
route router we're using save that
import same thing image has alt that's
weird history which we get from the
store um so we're going to change how
what's happening in the store as well
the store should just be exporting this
export default store yeah and also like
okay so notice how our export defaulting
store here we don't really need to do
cons store we just export default
oh just kidding because we use it in
history here up okay I changed my mind I
actually see what I was doing there
what's going to say if we weren't using
store anywhere but notice how we're
using store here so we actually have to
do like that we're exporting default
that's good and history so we need we
want the we're syncing with browser
history I see um then I'm exporting
history okay I think instead what I'll
do is they'll make the store like that
so now I can just do import history from
OPA file store and then the source here
Ralph or store should be wrapped in a
tie like this okay that looks good
our routes page is looking pretty good
now we can import require authentication
from above folder components slash I'm
going to call it off get off okay this
looks pretty good at the bottom of the
page now okay I just need to add a piece
of space okay so let's move this store
junk so now instead of having like in
actions and reducers folder different
parts of the app we're going to have
different actions different reducers so
like to split that up and create a
modules folder and in the module folders
they'll be an index file
and this index file is where I set up
the route reducer the route saga so
let's move that code over so this is
currently the route reducer it's getting
all these different things so you can
combine I can just copy this over for
now move it to modules okay you can do
the same thing for sagas so this route
saga is what I'm particularly talking
about is now in modules so this is
actually going to be a super chunky and
also the app here so Const host we don't
need that here saga run okay so that's
going to come here as well from the
store we're going to set our feathers
left there you don't need this here we
also don't need to pass the app here
we're going to do it a different way
copy this and then ports the top
interesting I don't know why this is at
the top of all the files off to
investigate that later default State
just be that and then now instead of
importing from reducers we're going to
be importing the route reducer in the
route saga from modules don't need that
don't need that
to fold states unaided saga mill where I
will now be running route saga
and the rest of this looks very good
ok think we're done with this page now
let's clean up what a route module looks
like because this is kind of not clean
at all ok so for each like for example
for our application will basically have
a food not food that a recipe module and
a user module the user module will be
like authentication logging and creating
users and the food or the recipe module
we'll be dealing with recipes creating
recipes that sort of thing so what's the
best way to clean this up so we have
combined reducers here I actually think
I want to come back to this this modules
I'm going to leave it like this for now
I kind of want to fill out what the
modules look like so make sense how this
worked so actually don't want to do that
first so I'm trying to side what I
should do that first or if I should do
routes you know we're in modules let's
just flush out modules so this is going
to be user should be user your users
stay user so now user will have three or
four files I think it'll be actions and
it'll be all the actions that will be
called for a user the sagas that are
related to a user the reducers that are
related to a user and also any calls
that we need to make to the server will
put an API so instead of having like
services API will now put it in its
individual thing
ok so clear this clear that's clear this
so for example
let's start with awk actions and also
we're going to we're going to switch
over to using this as well yoke's
actions I like using this better than
just regular actions now it just makes
it simpler so we can add this to our
project yarn and redux actions and I'll
show you guys how to use this this makes
it much simpler to actions so what we're
going to do is we're going to basically
move over all our actions instead of
having a global action creator we're
going to break them out here so I think
what I'll do is actually so I don't want
to make these videos too long because we
actually have a lot to upgrade here I
think what I'll do is I'll pause here
and also pick up from this for the next
video so we're about to do the auctions
and I just installed Redux actions which
will start implementing so the next
video we'll pick off from here and
continue upgrading this so I'll see you
guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>