<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Connect Server to React GraphQL Starter Kit | Coder Coacher - Coaching Coders</title><meta content="Connect Server to React GraphQL Starter Kit - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Connect Server to React GraphQL Starter Kit</b></h2><h5 class="post__date">2017-06-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TU-jZTpCig4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys in this video I'm going
to be doing some more stuff with react
QL so I set up a server recently that is
a graphical endpoint I'm going to hook
it up to a QL and see if we can actually
get my own custom graphic ul stuff
showing up here so before we get started
I just want to show you what I have set
up so as you can see I have this webpage
up right now so if I pop up open the
terminal I have two things set up one
I'll just control see this I have my
graph QL server template up when I'm in
the nesting branch so that's the latest
that I've done this just has the code
and some graphic you must set up so we
can actually create some stuff and then
I'm just running NPM start to start that
guy up so we have a graph QL server
running and then and over here I have
the react QL front-end running this is
running on localhost 8080 so I have both
those up and then over here in Visual
Studio code I have the code for this guy
for react QL now if you don't have
either these things and you like to
follow along I'll put a link in the
description below for this guy the
server if you want to get cloning you
can and then react QL I actually have it
done any thinks it's not github yet I
just have the basically when you run
react QL and get it set up just like
starter so if you don't know what react
ul is we don't know how to install it
I'll link you to my earlier is you in
description below so you can get this
set up okay but if you're here and
you're ready to see what's next let's go
ahead and get started so the first thing
is I want to start getting data from
this server which is running on
localhost 3000 so we're just going to
copy this and we're going to come over
here and change I think it was going to
sig one of these can say yep config and
then project and then this is the end
point to the graph QL server so I'm
gonna paste mine in mine is that
localhost 3000 and put
graph QL so save that now our my queries
are going to be different here so I'm
assuming there's going to be an error
now if I come back to this yep see how
the server no longer says that and let's
see if I come and inspect this camp we
see some errors from graph QL and it
looks like you might have to add a
course header to be server to let this
work walk to see because it says request
does not pass access control because
we're going over and actually let's do
that now
so to get rid of this error I think we
have to add cores to the server so I'm
going to pop back over here and I'm
going to say code to open this project
up in Visual Studio code and I already
know what we need to do to get this
working I'm going to do yarn add cores
this will allow us to want the cores of
the project to be so I'm just going to
go into the index folder and we're going
to import cores from cores and then I'm
just going to say app dot use cores and
we're going to let everyone end right
now that's what the star does support is
for restricting access if you can access
your server and if you do a star it says
everyone can access my server ok so now
I'm going p.m. start and make sure
everything goes ok and it does and just
to make sure come back over here refresh
and see we should get a new air-cool bad
request is exactly what we want to get
because we have a different schema so
I'm going to close this we're done with
this and no click let's just do I guess
we're in a different branch also fix
this later I should go to a new branch
of this so actually let's just do that
right now
so kids status I had just made these new
changes I'm going to get check out
branch and this will be
react QL get status we should still see
them here cool get at all git commit add
cores and we will push it up so you guys
can see this all right so now this
should be on github
now I do NPM start and our servers up
and I'm just going to put this over here
now I can come back over here so these
are the two queries that they're writing
all messages and messages this is a
fragment we can actually just delete
this we don't need to worry about that
and here we can do a new query so let's
just do a basic query so let's get user
let's say Advent and let's just get its
name its username oops
alright so this is a query that we want
to execute so my copy this paste it in
here and get rid of this other stuff and
I'm going to do get user that's the name
of this now okay so we create this new
query get user and now we'd like to
execute that so if I go back to the app
I think it was around here yeah so this
all messages is executing scratch ql
thingy so if we just we're going to
search for it here we go
so instead of all messages we're going
to say get user and get user here all
right now we're going to come down here
and now here I'm going to say get user
and graph QL message that's fine we're
gonna have a new message though so the
data this is going to be get user here
and it's not going to return an array it
should be returning I think it
get user should be an object I think
shape and inside the shape there should
be one called username which is a string
so crop types dot string I think that's
it here they had it you did that yep is
required okay so if you're not exactly
sure what's going on right here
we're just saying what the expected JSON
return when you go to the graph QL
server so we go to the griot graph QL
server we expect the return at least of
the get user query to look something
like this we should get an object back
that has a data object in it and inside
the data object there should be a get
user object inside get user
there should be a username this user
name should be a string like Bob or
something and for us it's going to be
admin so to tell reacts that's what we
expect we say data and shape is how you
do an object so we expect there to be an
object date or data and then shape and
inside of shape you say what what each
property is supposed to be so get user
get users also in objects we use shape
and then the user name which is a string
okay so now in our data here we're going
to get the username which we're going to
check if data dot get user is there and
then we get data dot get user username
and then is loading is fine and then
username we could put here we'll say
your name what's it my user name is and
we could put message back
okay I have no idea this is going to
work let's see if it does pop back over
here and awesome guys we get the admin
up and running so we're correctly
getting running that query that we have
set up here so we can see that's what we
expected get admin when we search admin
so nice there's one last thing I want to
show you guys and that's going to be it
for this video and that's the Apollo
react or dev tool so I recommend pretty
much all you guys getting this I have
some junk in here right now from an old
one
but what this does is let me see yep
this is what I expected this is a nice
tool I don't know if it's on Firefox but
it's on Chrome and it allows you to run
the queries that you're getting so this
get user thing I can run and graph qø
here and I can see what I would have
gotten and I can also you know it's just
like a little graph iql grammar
graphical shell here that you can just
type type things and test out the server
responds real quick without me having to
go over here type stuff out I can just
do it real quick here and it's tracked
the queries that actually happen so
notice there's two queries that happen
I'm not sure what this three one is
looks like we ran it twice for some
reason but it tracks the queries that
are happening see know which ones and
you can actually see the store which
I'll talk more about in a future video
how this store works and how you can use
this to your advantage
but yeah that's it for this video guys
we got admin to pop up here so we
successfully connected react ql to our
own graph QL server so that's awesome so
if you guys have any questions or have
any trouble setting this up on your own
please let me know in the comments well
and I'd be happy to help you guys out
and I'll see you guys in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>