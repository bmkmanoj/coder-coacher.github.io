<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fetching data from an API using Redux Saga | Coder Coacher - Coaching Coders</title><meta content="Fetching data from an API using Redux Saga - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fetching data from an API using Redux Saga</b></h2><h5 class="post__date">2017-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jQ4YD7Ip6T4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up guys so I'm going to show you
data from an API using redox saga in W
Redux state and then show that on the
screen update your components this I am
going to be using the random user API
this is you can go to this URL yourself
and you'll be able to get this data now
if you don't know how to set up Redux
saga of a video showing you how to
create react app that'll look so let's
jump right into this so I'm sorry and
here's my project that I advocate I'll
go with so what I want to do is I would
like to create I'm going to replace this
hollow world saga with a sada
so and my actions here I want to just
switch this up and replace hello where I
need so request API so same thing here
so this is why my name and then to
receive it I'm going to say with API
data and then request is when it and
receive is what I'm going to call on my
called
my saga over here so here is going to be
data that we were going to reversing I'm
going to pass the data here and that's
just going to get rendered so I receive
API data so in our saga here instead of
for my API this is going to be receive
API fake latest I'm gonna listen for
whatever we want API data I'll receive
API data actually not the action we
don't want to call it here we're going
to call this function here so API data
so if you call this get API data so what
we're going to do here is actually
here's our action we don't have any
parameters but we could pass parameters
to and then we would have that
interaction here could get any
parameters and I'm going to get so
there's going to be data back so what
I'm going to do is I'm going to create
call API from API
so let's create that here and this is
where we're going to act fetch and then
we're going to say fetch data little
yield call in your saga and you pass you
pass any parameters you want this is not
going to need any parameters anything
you want fetch data needs to do its
thing with the data and then we're in
our call receive API data and I'm going
to put data in create a new action I'm
just going to actually a console err if
we can err but you might want to I don't
know if and you try to login by doing a
fetch to the database to your API and
they don't log in successfully you can
show an error message all game but for
now we're just console log so we just
need to implement fetch data here so
that way we act and then we can call
this so enter in this guy right here
we're going to export such data oops
and this is just a function that can
return the data so I'm going to create
this in async connection and we're just
going to use fetch in here so we're
going to say Const response is equal to
a wait fetch so we'll get the response
from this and then we're just going to
return a response to Jace I think it's
to JSON and underscore if we can err we
know but to do is to wrap this in a
try-catch and if there is an error
right so two days on we want to wait as
well we'll say data is equal to a weight
and then we return data all right we're
waiting the data and then we're just
passing it back to our saga which just
puts it with the receive API so
introducer here this up I'm going to
call this data data data let's change
this to be called data open this up so
now instead of receive hello we're gonna
say receive a PN text here is going to
be data and all we're going to do is
type the data back to the state and
we're going to replace this data yep it
looks pretty good so home here we are
going to put that here and then our
state is going to be data so here we're
going to request API data and have
access to it right so we stop what the
call props data and then we can you know
this is the JSON object here we can do
whatever you want so I'm going to pull
out the results here the first result
and then I'm going to grab gender name
email it let's show some put these
side-by-side so you can see what we're
working with all right so I'm going to
do dat results I'm going to get the
first one so we grab this app this is if
you wanted to and then actually not it's
way better to just Mack this let's just
map this so props data dot results stop
and then I'm going to create here by
still so I'm going to call this a person
function takes X I and returns some HTML
so I'm going to pass in person here will
do it div the key is going to be I'm
going to get the key here so ID value so
X dot ID value for the key add a key
like that then to use the index here
permits and all right so let's why not
we can show the gender here select
gender and you know this is just
displaying it we can show it everyone
and also good to note that when we call
dot results this is going to be null the
Reese so well actually okay a lot but
we'll flips fit explain how that works
so Excel gender will call it we don't
care well sure why not let shows last
name to you could go and just show
whatever you want let's just show do an
image tag to with the source being X dot
ID sorry now ID being X dot picture dot
let's do medium alright so hopefully
that will show but alright so what I was
saying is that reformat before it's
going to render once without here's my
cell goes okay so it's going to render
once now I actually want to show this if
you render once without the data so
without the data the state is an empty F
so this is going to render with an empty
object so when we call here dot results
that's going to be null and then when we
call dot mention so one way to handle
this is this a or empty object or you
can say can't results default value is
this because it's I think this looks a
little cleaner
oh I'm just going to do it like this but
you either one of these would work the
results here all right let's keep going
to go ahead and close that and all right
let's see this guy in action
all right I have a syntax here here
export it cost function alright anything
else
per so in my home you do so this stuff
does person is inside the class so and
in air let's see what's going on receive
API refined to
nor in action you must excuse but ok so
Donna is not a thing I had a feeling it
wasn't I think it's I don't think it's
like that I think it's like this if I
are lowercase J if that doesn't work all
right I think this is well just google
it really that didn't work either
screw googling it looks first do
response it took the stuff that I want
to figure it out it won't cook a little
bit we'll do it
proto okay it's just JSON so refresh not
so get rid of that and when you refresh
it'll do D poll because it's every time
you do an API call it's in a person all
right we're done with this video guide
this is the basic setup this is how you
should structure proof of your saw goes
so you have a request and receive read
saga this is how I like to structure you
don't have to do it this way but a
request intercedes saga you could have
also a failed version of receive
creating to these and we're going to
request from our component so here's us
calling request it's going to go to our
saw we're going to listen for that right
here and then we're going to function
and here we're going to call our API and
do our fetch this is going to be
asynchronous whenever it return you know
we're going to wait for it and when it
returns an action and this action is
going to go to the state come this is
going to get called to return the data
and then our components call T data on
the screen so actually the first time
this renders is a blank screen and then
this show up so let me show you guys
because you know this is component did
mount data so this is asynchronous so
nothing is showed at first put a results
results so if it's zero so if it's will
show that otherwise will show an h1 that
says loading loading dot dot dot so
that's one way we could do it and you
can show loading indicator so now for
split sec
maybe you can see that loading pops up
there so while it's loading and then we
get from the API faster the API this
slower you see that loading dot anyway
that's it for this video guys that's the
basics of redux saga it's actually not
too complicated so watching guys and
i'll see you guys in next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>