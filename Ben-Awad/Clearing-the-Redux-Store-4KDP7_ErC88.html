<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Clearing the Redux Store | Coder Coacher - Coaching Coders</title><meta content="Clearing the Redux Store - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ben-Awad/">Ben Awad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Clearing the Redux Store</b></h2><h5 class="post__date">2018-01-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4KDP7_ErC88" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we're gonna finish out our
buttons at the top here clear swap and I
actually want to add a little hidden
feature that only you guys or maybe some
users will find if they stumble upon it
and that's if you click here it'll turn
the number negative or positive so let's
start with that and I noticed I have
this little break statement here that we
no longer need since we're not using
this statement so I'm gonna get rid of
that from our modules and let's start
with clear so clear is actually really
easy the trick to this is to create a
initial state variable an initial state
and then copy whatever initial state
you're already using so this is our
initial state and then use that as a
variable here initial state and then
we're gonna create an action and our
actions just going to return the initial
state so const clear clear and we don't
need any parameters for this one clear
and we'll add that to our button over
here so clear on press is gonna call the
clear action which we're gonna get from
our props and I'm doing this backwards
this time which we're gonna get from our
connection down here to your action
which we get from clear which we get
from our modules
okay so I think that will work now clear
actions called we press clear which we
get from our modules and we're adding
dispatch to it at the bottom so now over
here we're gonna just say case clear and
all we do is return initial state so
very easy so H enter a lob off clear and
we're back to our initial values so nice
now this is not gonna clear this is a
global clear right we're not just
clearing this one right here it's
everything's getting cleared let's do
swap next so swap and again we don't
need to know any kind of params we're
just used to state that we have swap
and we can write what our producer
should do with a swap now we can do this
first I actually don't know if we change
what the input state is let's see what
they do here so if I have two and a five
and I swap them and now I push a nine
okay so it's it's gonna be the push so
we're gonna make the input state push
and our stack is now going to be state
dot stack grabbing the first value and
state dot stack the first value dot the
dot state that stack and we slice off
first two values okay so we take these
two values and we're just swapping them
back and forth so position one is now
the first position zero is now the
second and then we cut them off and
replace the rest of the stack now we're
gonna get a little bug if they swap when
there's no values here but I'm totally
fine with that
um again the user should shooting
themselves in the foot is fine with me
so yeah let's get that working with our
button now so let's import swap and swap
action it's going to be swap
and now our on dress will call swap
action okay so look if they swap we're
just gonna be adding undefined and
notice how this we could add if
statement in there and it might do that
later but let's just see what the swap
seven swapped them and swap them back
and forth can pal them swap add swap
okay so it just swap zero okay divided
not a number cool looks like a swaps
working good so the last thing I want to
do is I want to click this to make it
negative or basically toggle whether
it's positive or naval negative so
export Const we'll call it toggle
negative and here we do need to know
like the position of it because what I
would like to do is to not only be able
to touch this one but to be able touch
that one so I'm going to say type toggle
native and this is gonna be the payload
is just gonna be the the index of the
one that we want to toggle and so let's
create that so action toggle negative
and then case for toggle negative so
here we're gonna return and with this
we're not gonna change then put state at
least I don't think yeah they don't
either so we don't touch input state so
input state is just equal to state die
input state and then our stack is gonna
be equal to date dot stack and here's
how I like to do this I'm gonna do a map
over this and I'm gonna look for X and I
so how I'm gonna do this is I know my
payload is the position that I want to
change so I'm gonna look for the payload
is equal to I so in map they'll give you
the index so I know when payload is
equal to I this is the guy I want to
change and how I want to change is to
add just a negative sign in front of him
or toggle him and kill the negative sign
so really I want to just toggle right
here okay to function toggle I'll say
change I really want to call this toggle
negative and call the function here I
don't know what I want to call this
thing we're gonna call this switch
positive switch negative I don't even
know what to call this will call switch
native I can't think of a good name and
so I'm gonna call this switch negative
call that function here so switch
negative passing in X otherwise we just
keep the value how it is in the stack we
don't have to change it so now I can
call this function and instead of making
these this is kind of interesting
because right now they're text values
that we're giving padding around so
we're gonna have to do some styling
changes so I'm gonna come back to that
actually and finish with the switch
negative here
so X so if X dot includes so if he
already hat you know we're not gonna say
includes starts with so if he starts
with a negative sign we're gonna return
X dot slice and we're just gonna slice
off the first value otherwise we're
gonna return X with a negative sign in
front of it okay
and we went white screen of death there
let's see here I have my okay it was
just building out I thought it crashed
so I want to make these touchable
opacities like these over here
I don't think let's see if I can do on
press so on press for text I don't think
you can I could be wrong so I'm gonna
say toggle native action I'm going to
call that here and here we're gonna have
to say toggle native action passing in 0
as our index and so where's toggle
native action so toggle Native we're
getting from our modules and action
we're getting here so table native
action is all native so now let's click
this yeah I wasn't thinking that text
had a non press so now how we're gonna
have to do this is to do a touchable
opacity around it and give that the on
press
oops area but because of that we're
gonna have to change the style cuz the
background style needs to be well you
know what that looks fine actually
and notice that nothing happens there
that's because sweet that's because we
had a zero which is expected so now we
can just wrap each one of these with a
touchable pasady and so we just need to
change the indexes once to this one zero
so let's get back to save let it refresh
so now I have eight and two here and
let's say I want to add these can make
it negative add we get a negative six
now
so we're gonna add these skin to get ten
I can make it positive let's make sure
the top guy works so let's add him Adam
again we get ten nice so I think that
all works for swap add six clear cool
that's kind of cool I thought we might
maybe needed to change the background
color and stuff to get it to match
because we're saying the background
color for that but it wraps it really
nicely so we didn't have to do that we
get a nice little click on it too so
that's it for this video guys were
pretty much almost done with our
calculator at least version 1 the very
basic of all our buttons that we wanted
right here we have everything
theoretically working we have probably
some bugs in here that we need to fix
but other than that it's looking pretty
good well that's it for this video guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>