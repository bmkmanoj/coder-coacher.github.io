<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Write Pythonic Code for Better Data Science (webcast) | Coder Coacher - Coaching Coders</title><meta content="Write Pythonic Code for Better Data Science (webcast) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Data-School/">Data School</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Write Pythonic Code for Better Data Science (webcast)</b></h2><h5 class="post__date">2016-11-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EihDgHxWiKk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right hello everyone good good to
see so many people here this is super
super super exciting welcome and before
I introduce our special guest which many
of you will already know already we just
want to confirm that you can see us and
hear us so if you can hear me just
actually post where you are in the world
so what city you're in you're in your
dorm room whatever just know what what
city so we got Dayton Pittsburgh New
York Portugal Paris up late maybe not
that late New York Texas San Fran London
Cambridge India San Fran chair let's
welcome everyone Toronto London Delaware
haven't seen anyone in Australia yet so
I guess no one in Australia wanted to
stay up till whatever time it is in the
morning Croatia New Jersey New York
Brookline great great welcome everyone
this is really cool I'll mention right
now that if you run into a technical
problem during the webcast meaning you
can't see us you can't hear us
it's probably you not us it could be but
um the best first step is to restart
your browser and the next step if that
doesn't work is to try a different
browser and chrome and firefox will tend
to work best so if you know i will try
if someone starts posting that they're
having a technical issue i'll try to
remind them but that's the bottom line
try restarting your browser okay so
while we are doing introductions which
will start in just a minute
feel free to look right below the screen
there's a big orange button and if you
have a question go ahead and click that
button write your
a question there and there's also
another little tab that says pulse and
it'd be great if you want to just fill
out the poll so we can learn a little
bit more about the audience here today
but um anyway that's enough little intro
it's really great to have you here I'll
introduce myself and then our special
guest so my name is kevin markham and
i'm the founder of data school and my
goal is simply to help you launch your
data science career so I have I teach
data science using Python
I have blog posts and videos and that's
how people tend to consume the data
school content I have an online course
and then yeah and I've been trying to do
these webcasts I've done a few because
people really seem to enjoy them and
this live interaction is a lot of fun
for us so anyway I am enough of me I'm
really excited to introduce our special
guest you he is the man behind the mic
his name is Michael Kennedy and you
probably know him as the founder and the
host of talk Python to me the number one
Python podcast what you might not know
is that he just launched the second
Python podcast and he also teaches
online courses about Python he is a
Python expert much better than me and
he's a great teacher and so I'm thrilled
to have him with us today to talk about
Python code so welcome Michael thank you
Kevin hello everyone is really great to
be here I'm I'm super excited to share
all these techniques and little tips
with you so it's gonna be fun Kevin cool
awesome it is going to be a good one
thank you for joining us and can you
just maybe talk a little bit about
yourself for those of you who don't
don't know you and you know what you're
working on these days yeah these days
you know kind of like your mission with
teaching people data science mine is to
share the stories of
I thought community and to help people
become better at Python so through my
podcasts my to now Python bites and talk
Python to me I'm I'm talking with lots
of the industry experts for your
audience
certainly I cover a lot of data science
it's a broad set of topics but I'm
really proud of some of the data science
ones I've done you know look inside
Netflix behind the scenes the Large
Hadron Collider with astronomy lately
things like that so I think there's a
lot for data science there as well but
if you check out the podcast of course
you'll get like the broad spectrum I
think one of the things that's amazing
about Python is it's so broadly
applicable and and it's cool to see
stories and what people are doing with
it cool awesome awesome now today we are
talking about pythonic code right
pythonic code for better data science
and for those who don't know maybe you
can explain like briefly what it means
for Cote to be pythonic and why we care
sure it's interesting this this concept
of Python code all programming languages
have what you can think of as idioms or
ways in which community of that that
programming language or that technology
group has decided this is the way that
you should write you know solve these
types of problems right in some
languages it's kind of wide open there's
more sort of whatever comes to mind do
that but that's some reason or other
Python the Python community very much
values you're doing it the right way
doing it the Python way and I think
that's because the language while it's
really simple to learn has some really
deep and powerful features and when
people come from other languages that
don't have those features they just drag
along you know whatever they knew to do
whatever how they implement this
algorithm or this library like yeah we
got to do this like I don't know in
Python you don't actually do that
there's like two lines of code and
you're done you don't like
reimplementation
and so there's a lot of times where
people are coming to this language and
they're they're bringing their old ways
of working and so pythonic code is the
the most natural way to work on a
particular problem or solution or
algorithm in python and that usually is
not just makes you look good but it's
also important because the interpreter
is geared toward solving problems that
way right so god animal efficients
then some other algorithm you might come
up with
so more efficient more readable more
consistent and it's not it's it's not a
generic concept like like something
you'd learn in a computer science class
it is specific to the Python language
the futures of life of them yeah okay
sure and some of the things you might
learn about right like dictionaries play
a super important role in Python okay
and maybe you learn about dictionaries
or hashmaps in computer science but the
way they're used in Python there's
certain things that are special or
unique or you know idiomatic not in the
synonym cool very good good stuff so in
a little in just a few moments Michael
get is gonna share a screen and we're
going to walk through some lessons but I
want to do two things number one I want
to just briefly about why I think like
pythonic code matters for data science
and then we'll take a look at the polls
as well and learn a bit a little bit
more about the audience here today about
everyone that's joined us before we get
started so I have four reasons why I
think pythonic code matters for data
science if you're because right now you
might be thinking wait a minute
Michael's not going to be teaching a
psychic learn and I may get the
impression from like day to school if
you're familiar with my work that all
you need to do is master pandas and
scikit-learn and your set but yes those
libraries are important but just because
you've you get good at those libraries
doesn't mean you don't need to know the
basics of Python really well
in fact those libraries expect and
depend upon you understanding how to
write pipe basic Python code
you aren't like just because you know
those libraries doesn't mean you will
never to need to use a lambda function
or use a dictionary or a list or a list
comprehension like those libraries
expect you to be able to do things and
not only that better yet you can weave
those together right like you can bring
the different libraries and different
steps you're doing in things like pandas
and flow it to the next part yeah right
yep because if you only knew how to do
things using a given library you're
stuck if you can't figure out how to do
it in that library so it gives you more
flexibility as Michael was saying
pythonic code is more performant it's
going to run faster and sometimes not
always the efficiency of your code in
data science matters and as well like
pythonic code is absolutely more
readable and part of the data science
workflow is communication so if you are
not able to communicate your thoughts
well through clean readable code it's
going to disadvantage you as a data
scientist so um that's kind of my
thought any anything else to add on why
pythonic code is important for days I
think that's totally right I think one
final thought maybe is if you're looking
to get a job and many people taking our
classes are like looking to get into a
career or you know further their career
and I think knowing all of these little
tips and tricks makes you feel much more
experienced and knowledgeable about
Python then if you you start to do
something wait a minute why aren't you
doing it's like this sort of built in a
way that looks weird right you can make
yourself feel much more part of the
community or appear to be deeper
knowledgeable about it if you just know
these tricks
absolutely absolutely techniques not
really techniques
great so let's I'm just gonna take a
quick look right below the screen and
click on polls
and see who we have here today gosh
there oh just hit 800 people which is
amazing experience level with the Python
programming language it looks like oh
people are still voting right now about
two-thirds are intermediate about 1/3
are beginner and a very few advanced
than a very few with no experience all
of you are welcome so we're glad to have
you Michael tried to kind of tune is
lesson towards the beginner /
intermediate though it'll get more
advanced as we go are you interested in
data science 0 votes for not really I'm
shocked I thought there's someone who
just is like not interested but 200
votes for definitely and 36 votes for a
little bit which is fine no two people
voted not really and then have you
listened to Michael's podcast talk
Python to me Oh the majority said or at
least the plurality said I listened
every week we've got some not yet and
we've got some I've heard a few episodes
I know when I discovered the podcast a
little while ago maybe six laughs
sometime the last year I did a binge
listen session and mostly caught off and
now I'm just on the newer episodes but
anyway everyone thank you for this
really pursued cool so we don't want to
keep people too long without getting
into some good content the format is
basically Michael's gonna go ahead and
share his screen you can go ahead and
share a Michael and I'll pull it up here
I'll be he'll be teaching we'll be
looking at his screen I will be yeah and
it should be right there
so we're gonna be watching his screen
he's gonna be talking and teaching I'll
be watching the chat if you have a
question about what he's talking about
at the moment and at the very end he's
going to be doing a series of short
lessons
we're gonna go about an hour for the
lessons and then spend some more time
answering your questions kind of all the
questions you've posted below the screen
so that's it let me um I'll stop talking
we all actually are here to hear Michael
teach so I will stop chattering but yeah
let me go ahead and focus your screen
Michael and that way but we'll be able
to see it much better and yeah all right
all right everybody are you ready to
write some code I hope so
because that's what we're doing so I'll
show you a couple of slides I'll try to
point out a few things along the way
using sort of concepts slides but for
the most part we're gonna be writing
some kook today I think that's the way
people learn to cut but I think that's
the best way to communicate it so that's
what we're up to now I saw a question
somebody just asked is your gonna be a a
Python notebook how long there's not a
Python notebook but there is a github
repo and if you just go to get about
calm slash Mike C Kennedy it should be
like number one repo right now cuz I
just created it and whatnot so I think
it'll be in the top of the repositories
but we'll put the link in in the show
notes maybe Kevin could throw it in
while while we're talking it sounds good
all right so what have dinner cover well
we're gonna start at the beginning with
some simpler stuff but as we go down
it's gonna get more and more advanced
more complicated more nuanced alright so
we're gonna start with a few fundamental
things like string formatting right so
simple stuff but really important we're
gonna talk about dictionaries and
merging dictionaries it turns out that
dictionaries are everywhere in Python
and being able to combine data
efficiently possibly as part of some
kind of generator expression rather than
imperative ly through like a set of
loops where you're adding things is
really cool just want to talk about that
and we'll see that Python 3 5 has some
pretty neat features for doing this like
I said in a single line in an expression
we're going to look at tuples tuple
assignments to go unpacking in a couple
of algorithmic techniques that are
improved when you leverage tuples so one
of them about I'm going to ignore your
return value we'll see how to pose make
this better and also we're gonna talk
about error handling
so basically exception handling and sort
of the pythonic way of managing and
working with errors book from a creating
api's as well as consuming them we'll
talk about lambda expressions and inline
methods and that'll lead us to things
like generators and generator methods
now yield and generators so the yield
keyword get from keyword those two plus
the concept generator methods and
generator expressions are super
important for data science anytime that
you are taking a large quantity of data
and you want to flow it maybe with a
transformation or a filtering to another
step and then do some more work and flow
it to another step and create these
pipelines of data flows yield and
generators are extremely valuable in
terms of performance there so building
on this idea of yield will see that we
could create in-line generators what
about generate your expressions and then
maybe these are great because maybe
we'll cover these if we have time we'll
see if we have time we'll talk about
using dictionaries prefer for
performance so by far the most common
data structure people leverage whenever
you're working with a set of things is
list so the list class but it turns out
for certain types of data lookup I guess
where you need to go back and find data
in your in-memory collections
dictionaries aren't sanely they're doing
that so I have an example that's like
you know thirty thousand times better
performance if we use dictionaries than
if we list so that's pretty cool then
also there's a technique when you're
holding lots and lots of memory lots of
items in memory and they're not simple
they're complex types
like maybe custom objects or something
like that
leveraging this slots keyword like
basically adding one line of code to
your classes can make them several times
more efficient in terms of memory so if
you've got a load like a million items
of something and you run it out of
memory this might be the trick
we'll see so who decides what's my
thought anko we Kevin and I spoke a
little bit about what why it's important
to write Python code but who decides
what's pythonic and what isn't right if
I write some take an algorithm like I
thought I could not who do I ask well on
one one group of people we can ask is
the Python developer community and
here's an example from Stack Overflow
here's somebody coming from Java it says
well here's how I might try to loop
across something you know I'm gonna
create some kind of inner jump I'm gonna
increment it and and then I'm gonna
index into that and so on it and Python
we don't do that if that would be a very
non I thought you need to do and so the
community decides the Python core
developers also contribute here right if
you open up Python and type import this
you give a list of nineteen money
something like that goals or rules that
the Python developers try to live by
things like readability counts simple is
better than complex error should never
pass silently and so on right so this is
cool and if you know you want to refer
to this sometimes it's it's helpful to
guide your thinking by the way another
great thing to type is import
anti-gravity but that's not really my
sonic exactly
also there's Pep eight so pep in Python
stands for Python enhancement proposal
right there and we're up into the
hundreds or thousands depending on which
area you're focused on Pep eight came
right at the beginning and this is the
style guide for Python so Pepe tells you
how you should lay out your code how
many of the lines of whitespace you
should use you should you
but in whitespace by the comma and the
old function parameters and things like
that and this is written by Guido van
Rossum Nick Nick Owen and some of the
guys you know cuido created Python so he
should have a say in this but what we're
gonna look at is actually beyond a page
I think these are not just the basic
formatting rules but the actual
algorithms and whatnot that they go
beyond okay so let's start with string
formatting and like I said we're gonna
write in code so let's get PowerPoint
out of here and over here let's go over
here and see what's going on and we're
gonna clone this so I want to take you
all just you know from scratch so here's
the repo so we're gonna clone this and
it's good my desktop and we're gonna
grab it over here let's just make a new
folder called code for example this into
pie chart so you guys can use whatever
editor you want there's no real thing
that says do you gonna use this one or
that one right but I like I like pie
charm so we're gonna use this and that's
just a moment the other thing I think is
pretty important these days as the
number packages grow and the
dependencies on projects grow is to have
a dedicated environment for your Python
code so let's do that while we're at it
as well look over here and we'll use
Python threes virtual environments to
create a new environment here takes just
a moment and I go into the bin just you
tell a charm
that's where we like to run our code
so let's do you really quick let's set
that as the source roots yeah let's go
to our project here and set the default
interpreter I could have had all set up
for you but I kind of wanted to you know
really start from scratch and just say
look this this is what we're doing
everyone so over here so yeah look we'll
give it just a second so we've got a
fresh clean Python environment anything
we might install will be going from
there so the first thing we want to look
at is formatting strings so I'm gonna
call this one strings now you don't want
to name your files with numbers at
starters that's why it's thinking of
something to put in front because if
there's a number at the beginning the
file you can't import it as a module
into another file it's really not
obvious that that's the limitation but
that that happens so we're gonna come
down here and let's just say we want to
have a couple variables really simple
stuff my name is Michael my age you know
what I am and suppose I just want to
print out like hello hello whatever your
name is
so we could say like this right that you
are this years old right now my car
Marty knows we're up to no good but
let's go ahead and run this anyway so if
I try to run this you'll see you cannot
convert integers to strings so that's
sort of unfortunate so maybe you know I
gave her that and it's at the bottom
there's a little green thing whenever
I'm views of their like - okay - Lauren
I hit ctrl command B and so I do a lot
of hotkeys but I set up my editor to
show you what the hotkeys are and then
you can't see them
even if you were here nice and you
probably wouldn't see them so we could
do something like this but this is
highly highly non pythonic right this is
let's let's go here to say hey Michael
there were some folks in chat that were
requesting bigger font size if possible
no problem we've got really big farm
tomita mode how about we do okay so we
can fix this of course we can fix this
but you know that we could do code like
this we could have a percent s and I
know this can be a percent be the sort
of string format style and we could seem
like people the name and the age not yet
so hello Michael you're 43 and this is
OK notice there's a little squiggly
right here that's pycharm saying there's
a pep 8 violation you said commando l
and it'll fix that so there's no problem
here this is not bad but what I would
propose which there's a couple of new
tricks that are coming in a new version
Python as well as the old one so if we
get to say curly curly like this no we
can use or format here and first item
goods in the first curly the second item
goes here and you know suppose this was
really big you could actually put a
comma and you'll even do columns oh yeah
I'll show you the space in a second
though you can just do it like this
right if you would like to being the
order so we could say something like
this like you are really how many years
old don't so and you don't want to order
don't necessarily have to repeat the
order you can even keep the elements
here of course you can actually just
name the locations yeah you're 42
thousand years old I go right yeah and
now I can put a colon comma here even
get commas separators you know and
depending on your locale you know that's
probably a dot and like German something
like that okay but this is all pretty
cool you probably seen this I might have
seen this oh well actually let's see one
question from the audience in one
comment one comment was some folks are
it they have a hard time seeing the
green on the screen so the gray is it
possible to change the color scheme I
don't know if ya see and while you're
doing that I'm gonna see if shutting off
are your camera in my camera from the
livestream helps with the performance
because it's lags at times for me so let
me you do your thing and I'll I think I
can turn off I think I if I unfocus
myself let's see I think I can turn off
my video and I will turn off it looks
like your videos off already
and let's see if that helps mom
alright let me focus back and let me
just focus back alright so
yeah that's it who okay sure
love it awesome alright so suppose you
got a dictionary right and we got this
dictionary and it looks at the end it
just has the name Michael age you know
whatever right so we can actually
couldn't say print let me do this little
bit here you have a dictionary you can
actually put the keys here like I could
say name age I think I put the separator
we'll find out that's in the dictionary
like so oh you can come in here you can
we'll talk about I guess want to talk
about this later but you can turn a
dictionary to set a keyword arguments
using star star right you've probably
seen star star in functions like kW args
meaning you can pass in arbitrary key
word ru and say get convert it into a
dictionary well this as we'll see you
later in another section the reverse
take a dictionary and turn it and do
keyword arguments so basically keyword
arguments can be named here and I can
put back my Khan I'm pretty sure yeah
and finally this is not something we can
do yet
but this is this is like the best three
six they said beta 4 released speak last
week very recently and so beta 4 is
coming and if you have a string and you
put f4 format in front you can this and
drop all this stuff I tell so let me
just put it here like this and see for a
minute right whenever you have a
variable you can just say curly that
variable name and long as it's a format
string it's going to automatically
stringify that right here so this is a
brand new feature coming in Python 3 6
not yet out but any day now awesome
really cool um let's see
there's a question just they just wanted
to get some clarification on
which was the least pythonic and the
most pythonic like what's your
recommendation yeah yes sir
this is least pythonic where your
plussing it together and you're
explicitly converting the string this is
popular in the older versions of Python
but it doesn't it doesn't have to be
like so this is kind of a knowing that
you've didn't know the datatypes right
like I got to know that that's a number
right where's over here yes you say
curling it's whatever it is it just
gives you it's string representation
right so this is a little more popular
in Python too but this format down here
also works in Python 2 in the latest
Senate version so I would say these and
I guess it's called string interpolation
probably the string interpolation but
it's just not there yet so got it you'll
be where even if you can get python 36
and your machine
maybe you're deploying to like a boon to
16 and it doesn't yet have Python 36 you
know something like that right so you
you want to think about like the whole
chain whether your codes gonna rip
awesome awesome okay all right so
starting here let's come back alright so
I showed you a couple of nice techniques
what kind of came over just for time now
merging dictionaries this one is it's
important because you've you get data
from different sources and let's just
switch back to my charm can add another
little app that we'll play with try to
keep these separated for it
set it around okay so suppose you have
some dictionaries let me just copy this
over really quick because I don't want
you make you guys wait for me typing in
so let's suppose we've got so here's a
web example but you know they could come
in from anywhere right like in the web
you know maybe you've gone to a URL and
the URL is like slash products / - slash
fast ABS
like that right sorry 271 and so maybe
this data maps over here into a
dictionary into these two pieces now you
could have on the end ID equals one and
render fast equals true
all right so maybe the query string maps
to some other part of data and then you
submitting a form to that URL that has
an email and a name and that's also
additional data how do you take these
three dictionaries and put them into one
thing where you can ask the question
what is the ID
what is the name and not have to like
check all of these pieces so we could
have and I guess the least be something
like this we could literally loop over
each one of there so we can say for K in
route emerged K its we could just build
this up like that we could do this we
could do this last one post yeah we
probably want to think about the order
maybe the creation is most you could
mess with that the most so we'd like it
have the least precedence so if it goes
first like the query string has an ID
and the round has an ID if we do the
query then the route the routes ID will
take precedence right it was just
override it so this should work
we can print out the merged thing and
see what we get if we run it you can see
the ID from the route 1 because it was
last we got our email title name
everything was merged together
beautifully but this is not very
pythonic this is like if you came from
Java or some other language you might do
this so another way to do it we just
reset our merged we can use this
function here's update we can say merge
update from query or the same and route
we could print out our merch again and
we doing that we should see exactly the
same thing but there's something worth
pointing out here notice that my printed
output at the bottom is not the same
right and this can be really annoying
when you're building like JSON documents
order or somehow you're saving this to a
file having this order change is you
know sub sub optimal well in Python 36
they're rewriting the way dictionaries
work to be up to 20% more memory
efficient and to be ordered by default
so in the next version of Python these
orders will be the same but right now
they're just they're not okay alright
and finally so this I would say this is
pythonic if you're using the mid version
of Python I knew I mean 3.5 there's even
a there's a cooler trick here so I can
just say that's merged equals so
remember the star star to convert
dictionaries of keywords what we can do
the same thing in Python 35 to create
dictionaries out of sets of dictionaries
acting the same maybe the order will
change
same
all right so what's what's nice about
this last one that's lying 26 here as
later well maybe just add a little bit
but I could I could write code like this
I could say it's equal and I could say
key comma value these generator
expressions for example for let's just
say okay n and then take this and put it
right here so instead of having a
separate loop or a separate function
that actually does the merge we can make
this part of our expression right and
that's really important because it lets
us use it in other places that are
themselves expressions yeah very cool
very cool cool so that and that the last
part you showed is only in 3 5 and above
not available in Python - yeah exactly
and I'd actually written some code and
it was it was worth this is beautiful I
deployed it out to my my servers I'm
like oh yeah they're running three
Stephen in the chat asked what's is
there a name for the star star thing and
I think you would mention it oh I'm sure
that there is nico says it's all DC
splat this apply to spider perfect yeah
yeah I mean no I I don't know I am sorry
I'm sure there's a name but off the top
my head I can't remember it all right
let's keep going
whoops companies plain text that's one
option or create a new Python file in 3d
so let me just flip over our slides and
see what the next topic is bollocks I'm
okay pupils all right so pupils are
super important in data science they
represent groups of bound data that's
very sort of the lightest weight
possible way in which you can in store
sets of heterogeneous data right so the
idea is I could have a tuple and what's
interesting is you'll see tuples written
like this I could have like one suppose
this is like a measurement
1.2 I'm free lives like XY coordinates
and then you have like a temperature
like 87 and then any if this is your
confidence or accuracy level of
confidence in the measurement being
right right so we can get this thing and
this is actually a cute ball and then
you clip suppose run the right thing so
you see this is the tuple it looks like
so we could access like the third item
in any way you would for an array say
like 2 and so on what's interesting is
you also don't even have to have the
parentheses almonds that defined the two
ball okay so that's let the two ball
it's pretty pretty basic but suppose you
want to store these values like suppose
you've been given this tuple and now you
want to like it's the X and wine and
whatnot
so you can actually reverse this you can
say X comma Y comma T comma C and you
could print Y and so you can do what's
called tuple unpacking here to take
these four values and put them over
there now a lot of times you maybe you
don't care about the temperature or
accuracy maybe you just care about let's
say the X Y and a and the pythonic way
to say I don't care about this thing
underscore you put in underscore and you
see that in function you'll see that
mark the places to say if I'd if I admit
it it's gonna crash that's bad too many
arguments on hacked do you mean to have
like a place right but the way to say
there's a place but I don't care about
it is underscore and you can have this
repeated like all you want like we could
do
so what's what's the use of this right
so you'll see this tuple of backing
applying a lot of places so if I have
like a set of numbers you know just
randomly guessing them they don't really
mean anything here so if I have these
numbers I want to say for X and and I
want to loop over this maybe I want to
say what the second third and fourth
element is all right so it's easy for me
to print out the elements here it gives
R elements but if I want to also get the
index obviously we have the enumerate
but you can put over here and what that
does is it turns every element into a
tuple that is its index plus locate
value all right so now if I print this
out you'll see there's index comma of
the value but you don't want like this
you don't say X 1 0 accent 1 you want to
say I want the index in the Val now you
can print out the index and the value
they will do something like this now you
can work with the indexes so this is a
really nice place where tuples are great
if you're gonna write a function you
won't swap X and Y is tuple unpacking
like this to unpack these values so I'll
write x and y right before and after
obviously to show you swap them so
people in packing is great for that and
we'll come back to this as well later
cool Veeam and to clarify on enumerate
that allows you like if you care about
the position of something in n that
allows you to access it without in kind
of a very concise way absolutely so
there is no this doesn't exist and for
people who coming to places
you know in America for loop at all yes
and so this this is your miracle version
normal your Python says look you don't
need it but unless you do need it here's
how you get it this is the most pythonic
way to get it cuz you could do like a
range and then say n of index but that
would be wrong don't do that you know
and enumerate one thing I want to
mention is that there's there's
something very much like this in pandas
with pandas dataframes so data frames
have a method called it arose and you
can do something like for index comma
row in data frame name dot it arose and
you it's basically the same thing you
can you can get the index as well as the
content of a row and I actually use that
all the time too if I'm saying like this
was I was working on something earlier
today and it was we needed to check for
whether some piece of text in one pandas
column was in a piece of text in another
pandas column and just a nice concise
way to do that is with it arose which is
basically the same thing as enumerate so
this kind of pattern is is used in other
libraries as well yeah absolutely
if you're working with the Panda stuff
use it arose but this lets you to do
similar stuff even when you don't up in
yes yeah there's a question about it can
we use this as like a temporal I'm
pretty sure that that just is a variable
I could print out underscore it is it is
point eight it just happens to be we're
assigning to it twice and we're but the
linters knew that underscore means
something special like I don't care
about this it's sort of what it's
telling everyone yes okay well we're
talking about tuples and I not to get
too far off track but there was a
question from someone in chat about
named tuples versus dictionaries is
there a concise way you can explain
when you might use a dictionary versus I
named tuple yes sir no problem so first
of all name two bolts we'll see named
tuples in a little bit let me just pull
up an example so just for time sake so
we don't have to here this is a how you
create a new table named doubles and
it's it's basically exactly the same way
like if you just focus on this part that
would create a tuple but instead we're
calling this measurement thing where we
said the first thing and then the tuple
is gonna be then an X and a wider than a
value and the class name or tightening
is measurement and so this this sort of
upgrades the tuple to allow you to
access the values by ID so I could say
like you know if I could say
measurements of 0 dot you all right and
so that's really quick for looking up
these things but with dictionaries
what's what's more common there's sort
of two classes of dictionaries one class
is you know I could make this a
dictionary and that's when we played
with over here I guess we could look at
that and that's the dictionary where
we've gone an ID and it has a value we
have a title and has a value and that's
so on
but another really common and it's more
common in the data science world would
be to say I've got a dictionary and I
want to be able to look up like say some
measurement by iid right so the key
would be ID and the value would be like
the full measurement yeah and so like
the first part would be like 271 and
then 1 or whatever right in that world
dictionaries are insanely fast to look
up like almost zero point zero
milliseconds no matter how large your
dictionary is where is the alternative
couldn't be a tuple alternative would be
something like a list and
that's just crazy slow relatively
speaking yeah but these I guess one more
comment is like these I can't say like
route dot ID yeah here man same with a
regular cheap one okay cool alright so
the next thing that we're going to talk
about is return values actually ignoring
or Trevor I so using return values to
signal errors and skip because I want to
make sure we spend more time on code
less time on slides so let me just grab
this little bit here code they suppose
we have a class that's download service
and we're going to do this but one way
that we could create API to a consume
API it would be like this like we could
check conditions whether or not they're
good or bad so let's use pycharm to
start adding these functions and they're
just not going to do anything right so
this C down here we could the function
but we might want to check right we
might say okay what we're gonna do is
we're gonna write code and we're gonna
verify all the conditions are ready and
this I all the program it's called look
before you leap it's very common in like
C C++ languages where if you do
something and things aren't set up
correctly it might be a like a seg fault
and your app just goes poof it goes away
ah where'd it go you know but that's not
like that right like not usually anyway
it it usually will tell you that this
error and it's much more common to throw
some kind of exception and say hey
there's this this problem so this style
is really non pythonic so people don't
expect this to have a return value
necessarily they're not necessary gonna
call this check that si is ready they're
just gonna call it download file and see
what happens right so instead of writing
code like this you want to write code
that is more the it's easier to ask for
forgiveness than permission right right
but here's what you would write you
would just say try do this thing except
over the air type I didn't work
something like that and then you would
whenever you're either consuming api's
or especially writing creating api's
think about it's easier to ask for
prefer permission than for forgiveness
so this is the pythonic style because
even if you check all these things there
might be something down at like the
socket layer that's still good or an
exception so you still need the try
except block so why just start with it
cuz you might for you might not get to
all the conditions that you should have
come up with and if you just put it in a
try except you'll know that you miss
something when something yeah yeah
exactly you'll be able to catch anyway
then you just you maybe you want to have
different air conditions so you have
different accept blocks and specific in
most general that doesn't mean there's
not time for you might want to check
because when I tell the user no you
can't do this action or whatever but in
principle your API should look like that
it's easier asked for forgiveness this
time and you can have multiple accept
blocks oh yeah sure yeah we could say
like this like socket exception see all
right the error could be sorry
Oh Network write it something like that
do you handle them in different ways I
don't know if that's a real exception
it's not a real exception buddy you know
there you grab some kind of socket error
type it's probably sake there
so something like giant very cool yeah I
like using this style for for like
building data cleaning scripts because
often with like data cleaning which is
for those who aren't familiar so if
you've done some kind of real data
science you'll know that the data you're
you're usually working with it's rarely
completely clean meaning it doesn't it's
already structured and exactly the way
you need it and so often you'll go
through this cleaning process you'll
hopefully be documenting all your steps
from taking the raw data and translating
it to the clean data and you know
hopefully you'll have documented that
perfectly but you still and you put it
in a script and you run it once a day
for you know the new web log data you're
pulling down or whatever you're doing
and then somehow the format changes and
your script starts failing and so this
is where it's super useful especially
for like a cleaning script something
like that even if it works today to
build in some air handling so that when
it stops working you can at least more
easily debug it so that's where I tend
to use code like this yeah absolutely
cool all right ready for the next one
absolutely let's do it
all right so the next one is this lambis
concept and for some reason it doesn't
want to let me really type here oh this
little guy a little kick I know what's
going on maybe something else is going
on my computer doesn't want to let me
type but we'll be back let's be fair
game
so the idea of these lambda expressions
are there's a lot of times we want to
write function we want to pass functions
around and Python it's great because
functions are first class citizens in
the language right I mean that it's like
there's an instance of a type that is
the function and all sorts of things
like that right it's it's just like any
other object in the language it can be
arguments and so on
so let's let's suppose via this silly
but instructive little function here
filter numbers right what we could do is
we could pass in a test here and we
could also pass it in or really just go
over a set of numbers and it's gonna
filter out or filter in numbers into
some set so maybe we could say I'd like
to get all the even numbers or the odd
numbers or the Fibonacci numbers or some
complex rule right like numbers is just
something I'm picking because they're
simple so we'll say for and in range of
let's say 100 let's say 15 and here we
could just say if the test applied then
we somehow want to earn this so I guess
we got out for now so we've gotta be a
bit yet hang on to this editor here and
like when we're done we'll just say
return data so let's get in here and
we'll do a quick test will say equals
filtered numbers now what we could do is
you could write a function called even
and we could pass it by say in the name
of it here but really the only point of
this is to actually do the test right
here and this you'll see a lot in data
science you can weave it in as parts of
larger expressions and comprehension and
so on so here I could say something like
this I could say lambda given a number
and let's call it X just so it's about
the same as about it return now
X let's say mod Q equal equals variable
even on the left so the idea is you say
here the function here are its arguments
there could be none there could be
multiple this one just has one and then
it generates an expression which is an
implicit return value so when we call
test its gonna pass in X it'll mod to it
see if it's even and return back so if
we could just print evens its we should
see even numbers right so that's pretty
sweet
we can also use this in other places
like let's suppose this time it's y 8
minus 1 I fan let's say minus 100 oh one
thing that we might want to do is we
might want to have this data sorted so
he can print out like this we could sort
a place or we can print out our data
sorted but what if you don't want it
sorted Louis the highest what if these
are rich types and you want to sort by
some element in that type what if you
want sorted by absolute value right we
want to know like I would like it sorted
by closest 0 and then farthest from 0 so
we come in here and we can actually pass
and a key which is really a function
that selects the key that's used to sort
you know an item yeah and of course this
can be lambda we can go sort by the
absolute value of this now we're sorting
eye distance from 0 not just the default
sort so these little lambdas are super
important all over the place awesome
awesome and d and so you wouldn't think
of X's like the name of the land of cos
lambdas don't have a name is that right
now they're they're totally about him ok
my name got it got it yeah I love I love
using
lambda functions in I actually use it a
lot in pandas when when working with
datasets because you know you've got
something really simple that often it's
when I want to apply so there's a
there's a series method in pandas called
apply where you want to apply a function
to every element in that series and it's
often something that there's no built-in
function for so you just write a quick a
quick land of function and you can do it
in one line of code and it's nice and
clean and and readable so I like lambdas
a lot yeah absolutely use them all the
time totally think that's a good use all
right the next one is going to be it's a
super important for data science so
let's go over here so a lot of times you
need to work with large amounts of data
one item at a time and sometimes you
don't know how much data you're going to
actually process you might have a set
that's got a hundred thousand items but
you're gonna go and look until some
criteria is met then you're stopped
something like that so generators let
you pay the computational price only so
much in that you've needed those
individual items right so you don't
actually have to generate the whole set
load it all into memory and then look at
it you can look at the first item in a
second if you only look at a 300,000
you've only actually spent the
computational time and energy to compute
the three now whatever I think I'm
hitting some hockey or something that is
freaking out my editor not maybe it's to
do with a screen sharing I don't know
but anyway we're back okay so let me
write a quick function here and you guys
might recognize this I'll write it sort
of first how I would traditionally so
we'll say beta or numbers or whatever
and we will have
and current equal value some magic and
we'll say wow next last a thousand and
next current equals current common next
we just make sure I did that really
quick I did that right really quick yeah
that looks right yeah yep yep okay so
there's a couple of problems with this
one what if I needed the 1000th and
fifth one maybe I could pass this in
it's a limit no that's right maybe I
don't know it's a consumer of this set
and or how much I should be processing
mm-hmm furthermore this is an infinite
set and if I just go you know what let's
just do this while true I ruin this I'm
not going to because he knows what havoc
it'll reduce I'm either gonna run out of
time or memory right now I'm gonna run
out of time
I'm sorry memory really quickly right
because I'm gonna blow up that list
really really quick but what we can do
is we can come over here and turn this
into a generator and generators are both
simpler and more efficient in the way
they work is you basically tell the
function or method here's one of the
elements of the collection I'm looking
for here's the next one here's the next
one here's the next one in pythons job
will be to turn this into a state
machine that can continue those steps so
I'll show you what I mean so what we do
is we say yield next we're not storing
it forever
over here say for F and fib this is
gonna be an infinite sequence which is
kind of Awesome but we don't want to
review this forever so if after is
greater than a thousand thousand I wanna
break I
so it up to us decide when we've had
enough otherwise I guess you know print
out F and let's do this with a new line
it's a separator to hope it's a line
ready all right look at that
because generated an infinite sequence
like instantly you know it
it didn't take forever either time or in
memory to give me that infinite set but
I was able to do whenever I want
as I process so really I only paid to
compute whenever is that like 15 or
however many numbers that is that's how
much computational time okay so let's
look at that in the debugger because if
you seen it before it's like oh yeah of
course but if you haven't it's like
mind-bending so come down here and we're
stopped so let's just start stepping
into this so we're gonna step in and
like any function call it goes to the
first line that starts writing is okay
cool and notice how cool by German is
showing you the position the values as
you go alright so step and now we yield
the first one and we're back F is 1 and
I want to print out one and now when we
step back in look we don't step back
into rerunning the function we step back
into where we left off with the data
where it was left off mmm now it's one I
was wondering what now we're down here
we're processing two now we're back
there now it's 2 and 1 now we're down
here and it's 3 so there's like this
give-and-take between these generators
awesome in real really go away so this
is this is great because you can process
huge amounts of data one at a time and
you only ever have one in memory and you
only pay to compute as many as you
iterate through them so it's good for
infinite sequences obviously but it's
also really good for just when you have
a lot of data and you don't want to load
it all up and then process it moreover
we can even change ease together so I
could say def even even set
sequence hey and I could say any and in
sequence if and to zero this is really
cheesy but let's let's do one I'll call
this odds because there's way more odd
so I can come over here and I could say
I want the evens into one generator can
consume another generator can consume
another and the steps are just the same
right we just step from one to the next
to the next there's like a pull like
this loop poles on odds and odds will go
until ever it finds an odd one and then
it will pull well it pulls on sequence
to get one maybe it's odd maybe it's not
it'll continue to pull on it until it
finds one right that'll force us to
generate one maybe two to skip it on
even one and it gives it back and there
so there's like this give and take all
the way down the chain I think this is
one of the more significant like things
to take away from this this presentation
awesome all right I think I'm just about
out of time but let me let me throw in I
know we had a couple of advance folks
let me throw in one advanced topic great
yep your call and then we will just
folks know well what we'll do after this
this one is we'll look through all the
questions below we'll start and we'll
see how many questions we can answer in
on the order of 20 or 30 minutes so I'll
just mention right now that while while
Michaels getting set up if you've I have
seen all your questions and some of them
I didn't want to kind of you know I
wanted to hit a number of topics so I
didn't I didn't ask all of your
questions but if you've been typing
questions in the chat and have not and I
didn't bring it up feel free to scroll
below the screen click the orange button
post your question there and then that
way we'll have a chance to take a look
at it in just a bit and as well if you
even if you
don't have questions you can upvote
questions so that we can start with the
most popular ones so again there's an
orange button just below the screen
where you can ask questions so yeah I
see some questions maybe we should come
back to you but let's go ahead and
finish absolutely absolutely
all right cool so check this out so
here's this app running I did a search
for Python and it's using 207 Meg's of
memory ok and it took one about one
second to do whatever it did I'll show
you what it did but we're gonna do
different variations and you'll see the
different memory pressure and the
different time trade-offs alright so
what we're gonna do is we're gonna look
at this thing called slots slots and
Python now this is a almost non pythonic
thing and that you're like hacking the
basic wave which python works but if you
look at this you know we probably
shouldn't be making special cases
because there should be like a single
way to do things
although practicality beats purity so if
it means you can solve your problem
versus you can't solve your problem I
would say that you know using this
feature is well worth it so let's see
what this is about
up here we've got some data these are
called immutable things this is a named
tuple we're also going to work with
unnamed tuples we have a standard class
so this is like any class in Python you
create the class that has four values
which is called a Maitre D' doesn't
matter what they're called although
interestingly the name so the longer the
name of the variables the more memory it
will take I guess I could hear my
keyboard anyway the screen sharing is
conflicting with this one second
I won't change the name but basically
the names get stored in dictionaries and
so it has to store the keys the keys are
the names the variables so the longer
the names of the variables the more
expensive it's going to be we could take
this exactly the exact same class here
we could just put this one-line dunder
SWOTs equals the names of the variables
that are allowed this like locks down
the shape of the class like later we
could add another variable could say
self dot e equals a thing this one down
here because the slots it doesn't
contain an e we can't say self dot e
okay it's the only difference otherwise
it's exactly the same as any other class
that you create certain now the question
becomes how much memory does it take to
hold a tuple versus a named tuple versus
our class and does it slots thing make
any difference whatsoever in terms of
memory or performance all right you
ready right now Kevin I am ready to find
out so in the new version of Python not
yet I could write this like so and
that's gonna be pretty awesome in Python
3 6 so I would know it's clearly a
million cool 3 5 I have to count that's
a million we have some data and we're
gonna randomly generate one of each type
a tuple a named tuple a regular class
and a slot backed class awesome so and
then we're just going to ask like how
much memory time did it take to like
count the items or something and count
some property of the items in there all
right so the first one I already ran
yeah well just write again it doesn't
take long you see it takes just about a
second and that's again the memory
that's up here commit a few seconds to
refresh is about two point two hundred
eight megabytes so that's tuples so
let's go down here and say you know no
pupils let's do this with a named tuple
like what's the effect of doing a named
tuple versus a regular to block 208
megabytes
now we have it three seconds so more
computationally expensive to create them
but in memory just a hair more okay not
much more let me make sure that this
stops
we know that I don't really want it to
run out of memory okay all right so it
took a little more but a little more
time but about the same memory if we use
this with a standard class and like I
said if the names longer this would be
more it'd be about identical to the name
chip one time it's slightly faster I
think that's just random random noise in
the system look at the memory almost
double Wow okay so you might model your
stuff with a class mic I said let me try
see you this make any difference it's no
I guess not
I guess anyway it's still it's way more
than you want it to be right so so we
can like I said we can have literally
this one line of code which makes our
class like frozen the structure of our
class frozen and then the question will
be well is it any better than custom
classes because having a custom class
with behaviors tied to your data and
validation this is cool right I mean we
don't really want to give that up let's
run this and see what we get and survey
says less memory the models Strait
tuples not just nature wills well the
cheapest possible thing you can do
including considering tuples and is this
would you say this is pythonic anti
pythonic or neither I really think it it
depends on how you apply it if you just
go around like every class you create
you just got I like less memory so
everything's got it under slots on it
that's not pythonic but when you get
into a situation where you've got a
gigabyte of stuff loaded in memory and
you can take it down by 500 Meg's
yeah I added under slots and one or two
items it's really interesting I think
that is worth it whoops that's not what
I wanted I want this I want to show you
guys one quick picture and then we'll
we'll wrap it up and go to questions so
this this is the picture if you look
here's a link tech accom slave RAM
apparent I've been invited some of the
Facebook vine slots okay so this was
this is like a like a hotels.com type
place this was what their web servers
look like in memory usage they added
dunder slots to one class this is what
their deployment became after that one
while had change Wow I think if you can
if you can achieve that kind of change
with one line it's by thumbing it might
like I don't know we could debate this
all day I guess but I think this this
this is worth a thousand words right
here and one lot of good very cool
yeah should we wrap it up and move on to
some questions
yes let's I have a final two final
thoughts yes please one export code get
the source code everything you saw me do
you can I'm gonna check that in as soon
as I stop talking so I'm gonna push that
to github Michael S is an empty repo for
about another minute also if you like
what you saw here you want to go deeper
Kevin and Dave school I have a bunch of
cool to sort of take these ideas and
apply them to pandas and the other data
science libraries and psych it and so on
and I have my talk Python training I
have a pythonic code course that some of
these are taken straight from it we
talked about 752 such examples in the
course there's a lot of stuff to get and
learn as well as other courses that I
think are worthwhile and of course the
podcast people can check that out it's
it's got a lot of data science stories I
kind of mentioned a few at the beginning
very cool let me pull our faces back up
so that they can look at our beautiful
faces while we answer some questions and
let's see I'm going to turn my camera
back on here and I think let's see
I think that'll do it it'll just take a
second it's laggy on my system right now
there we go all right right and my
camera yeah I gotta turn mine on as well
and I will go ahead and close your
screen wait before you close it okay
point out not being left to commit
everything's I'll get it okay awesome
awesome cool well yeah I'll close your
screen share just to oh there we go
perfect don't worry Michael we'll be
back in a second his systems just
refreshing when he stopped the screen
share all right while he's coming back
let me someone asked in chat is this the
same as the Explorer pythonic pythonic
code course like a seasoned developer
and yes this is some of the content from
that course okay
Michael is back in a second my bad guys
and it actually closed the window with
no warning sorry about that no worries
alright let us check out some questions
so we'll just start at the top and see
how far we get in you know say 20
minutes so first question from Harsha is
what are some of the best ways to read
medium to large files say 25 to 30 gigs
in size to analyze in pandas are there
better ways to read the files apart
using apart from using the chunk chunk
option so I've got some thoughts on this
note pandas so when reading a file
there's this this option called chunk
size which basically allows you to read
files piece by piece but the problem the
real problem is that the data frame
you're building it's still all going to
be in memory at
so if you have a gigantic file and you
don't have enough RAM to hold that using
the chunk size option doesn't actually
help as far as I can as far as I can
think but there are a couple strategies
worth considering you can change the
data type of any kind of categorical
columns to be the type category and that
will significantly reduce the memory
footprint of those columns there's you
could only read in the columns you're
interested in that's probably the
easiest solution is if you have a file
with 50 columns and you're only planning
to use ten of them then you might as
well only read in those ten and you can
specify this in like read CSV or read
table and the other thing is you could
just keep just a random sample of the
rows you can tell pandas I only want the
first 10,000 rows or you could read it
in with chunk size and then just only
keep a random sample and then that way
you're getting a random sample from the
data frame without using up all your
memory so those are a couple ideas yeah
so that that's kind of a strategy I
would use feel free I don't know if you
have anything additional well the only
thought that comes to mind is what are
you doing you know with it once you've
loaded if you're like looking for the
average of us something or you're you're
trying to pick a few of the largest
items out right you possibly could do
those piecewise and then combine the
data later instead of like trying to
load it all at once and then and spit it
out right mhm
cool well let's let's move on to the
next one here let's see Harvey asked
what tools can we use to better verify
and visualize our models to ensure
they're working properly okay so I
assume he's talking he
actually one of my former data school
students and so I'm sure he's talking
about like a machine learning model and
how to evaluate them how to visualize
them um the models themselves rather
than the data and I saw a talk at I
think it was at PyCon there was if you
search for a talk called something like
visual Diagnostics for more informed
machine learning that was there was a
talk on someone who's building a tool to
help with model evaluation visually I'm
not terribly familiar with with like
what the implementation is but this is
not that's like a problem that people
are trying to solve your models will
that you build today will degrade in
performance over time so if your real
concern is like how do I verify my
models gonna work you know you can
obviously test it on out-of-sample data
but how can you verify in the future
that it continues to work as performance
degrades I think the general idea is you
know maybe you could set a threshold
accuracy today is at 80% and you're
gonna check that once accuracy drops
below 70%
you're gonna retrain your model and
possibly even rebuild it from scratch
and retune it but I don't know if that
that is exactly what he was looking for
but um yeah there's there's a ton you
can you can try but there's not like
kind of a best practice solution for how
to visualize a model and how to make
sure it's working
Kevin I threw that visual low I did a
machine-learning talk into jab perfect
perfect thank you all right let's see
Vishal when we talk about Big Data SPARC
is a good ecosystem for real-time
analysis and it also includes machine
learning libraries so we're we required
to learn
kit as well so what he's asking is
basically so spark is a is a ecosystem
for tools for for big data I I haven't
used it personally have you ever you
spark Michael you familiar no I've
looked at a little bit - that's a little
like Hadoop for distributed computation
yeah so um spark has built in machine
learning through something called ml Lib
and he's asking do I need to learn ml
live ants I could learn why don't I just
learn ml lib and then I can do I can
solve big data and small data problems
and I think the issue you'll run into is
that using ml live is going to be slower
because it's built for distributed
computing and it's not it's not nearly
as it's not as mature a product as I
could learn so scikit-learn you're gonna
be able to work faster and iterate
faster and it's probably I mean to me
it's certainly worth your time to learn
scikit-learn if you are working on
smaller medium-sized data but um you
know using a big data tool just for
small data seems like overkill to me so
alright let's let's jump a little down
the list a little less data sciency
questions and then we'll jump back up
let's see there's a question from n he
asks or he or she asks what are some
best practices in using lists and
dictionaries for efficient and readable
code what do you think Michael how do
you what are kind of your I think it's
yeah yeah yeah so I think the most
important thing here is is for efficient
you you want to use the right data model
for data structure for what you're
trying to achieve so if what you're
trying to achieve is you're gonna put a
bunch of items with some kind of key
and then the actual item into either a
list just by putting the items there or
key and my item into a dictionary if
your goal is to go back and look those
up like I've got a thousand measurements
that I need to get measurement 74 or
whatever something like that
dictionaries are like a thousand times
faster or more right any time you you
have like a primary key type thing and
you want to go find it you can group it
that's unique and you don't find it by
that dictionaries mm-hmm but if you want
ordered access then unless right so I
think I don't know what I would say
really about clarity mm-hmm you know I
showed the example of merging
dictionaries there's certain things you
can do with listen things you can do
with dictionaries like I'm thinking of
slicing to get a subset of a list rather
than like doing some kind of loop and
gathering it but I wouldn't say there's
a lot of things around readable code but
I would certainly say the the right data
structure for the right use case because
lookups by random value or like you know
unordered value where you don't know the
where it's located you need to search
the list it's just got it cool cool I'm
gonna take the one let's see right below
that how can we better utilize
co-routines to stream and process data
into machine learning models and someone
earlier in the chat had asked about
co-routines so i wanted to to grab this
one just to mention quickly now first
I'm gonna let Michael take this one
because I actually don't even know what
a Co routine is but topically their
yield the yield yield return okay Oh got
it
so streaming data streaming models
basically the concept and machine
learning is generally you have a fixed
set of training data you read in the
data and train your model on that and as
new data comes in you can make
predictions but your model isn't getting
updated but the concept of streaming is
is to update the model as new data
points come in so your models actually
learning as new data points come in as
to exactly how to implement that I I
guess I don't have any real comments on
that I yeah I don't know if there's
anything else to say on that Michael on
Cobra teens yeah I don't know I I do
think the co-routines are super
important when you have like a pipeline
of data I'm gonna take this thing I'm
gonna take a bunch of this data in okay
and then I'm going to apply some for a
transform or filtering okay generate new
data from it
and then I'm gonna even feed that onto
this a bit like if you're doing like
these steps you can either like load up
all the data in a memory apply all the
changes at each step or you can start to
get both immediate responses if it's
some kind of interactive thing as well
as way more efficient processing if you
sort of chain those co-routines or
generators like I was showing got it got
it got it
okay we'll we'll go with shorter answers
because there are a ton of questions so
we'll see how many we can fly through
I'll go back to the top I don't want to
cheat the folks who voted let's see the
top question here what are the
python-based deep learning libraries you
recommend and what are some of the pros
and cons I'm no expert
caris has been super popular lately and
the reason is because it's API and for
those of you don't know an API is just
what are the commands you use to access
that library so the API is very my
understanding is it's similar to
scikit-learn and so it provides like a
nice entry point to to deep learning so
my short answer is if I was gonna start
working on it right now and learning it
myself I would start with care ass or
Kerris I'm not sure how you pronounce it
because it provides a nice entry point
that is similar to something I'm already
familiar with
so let's see
next question yeah and remember oh let's
see Oh the top voted changed let's see
here 12 votes here one second
whoops open another window by accident
here alright as a software developer
with little data science inch experience
but lots of interest I often wonder what
skills I'm missing to start a career as
a data scientist with Python does data
school help identify and bridge all
these knowledge gaps cool um so actually
I created a landing page on my website
called it's called how to launch your
data science career and I don't know if
if you might might keep my keyboards
acting pretty slow Michael if you um can
you paste that link into into the chat
here's the here's one for the talk
Python one will I do yeah yeah that'll
work great yep exactly
so oh I think it only click a little but
that page has my recommendations for how
to launch I mean that's what it's about
how to launch your data science career
so check that out I have a lot of
resources there I wouldn't say it will
fill in all your knowledge gaps but it
will fill in some of them and I'll be
working on more courses next year that
will kind of cover more of the entire
data science of work flow
all right let's I'm gonna go to number
two for a second here what's the value
of Angela asks what's the value of
object-oriented programming to the data
science pipeline I usually split my
often use tasks into dot py modules and
import them into my Jupiter notebooks
but I don't make them object oriented
should I and why what's your thought on
like the value of object
oriented programming in general Michael
well I think it's an interesting
question and Python because you don't
have to use object-oriented programming
right like you can just write in
functions and like primary data
structures like tuples and whatnot so I
think it depends on on what you're
trying to model alright I feel like
modeling model these certain types of
problems works really well with objects
and sometimes if you just want to take
in a bunch of numbers and apply some
computations and find some kind of you
know character about exert rate about it
like maybe you don't need objects at all
so I think it depends on how interesting
though the underlying data is okay you
know how much validation do you want to
bake into the data objects themselves
okay and things like that because that's
easy to do in classes hard to do in you
know arrays or data frames and things
like that right got it got it got it all
right next one let's see Marcus asks
I'll try to summarize it's a long I
often use pandas to process my data in
the beginning I used to paterno book to
split my tasks and plot interim results
Jupiter is a great tool but runs lack of
performance and convenience because it
runs in the browser my question is how
can I improve my pipeline to be more
productive change my tooling my notebook
structure my thought on Jupiter is that
it is a great tool for exploration I
don't know if so you could arguably say
it's it lacks convenience because you
have to open up your browser for it um
performance wise I think it's gonna be
the same as running a Python shell or an
IDE Python shell but if you're basically
saying you don't want to do the whole
workflow in a jupiter notebook which I
totally hear two ideas I have one is you
can take notebooks and at the command
line there's a tool called env can
and convert the notebook to pythons to a
Python script so look up and be convert
and that'll help you at least copy like
without having the copy/paste code
that'll help you and then there are some
IV es for that are kind of data science
specifically CRO do and spider are very
similar to our studio so if that's the
setup you like you know that might be
useful but I know Michael you like
pycharm a lot I I do like my term a lot
as a developer I think they have some
data science and ipython support and
it's not not it's not a huge okay also
you know if you're on Windows Python
tools for Visual Studio has some pretty
meets some oh really okay you mentioned
spider if you install anaconda anaconda
a distribution that comes with spider
pre-configured as well cool cool very
cool all right we'll just keep blowing
through questions as fast as we can okay
so this is from toks ads or however you
pronounce it essentially he's asking I
want to change my career in the Python
direction how would I best go about it
most companies look for senior roles
full stack Python and so on I'm gonna
defer to you on this one Michael how
does how does a developer who who's
newer to Python switch to a career in
Python sure it I think I think of some
what that answer depends on where you
want to go do you want to go into data
science do you want to go into a big
company where you manage a bunch of
servers doing Deb off DevOps type stuff
do you want to be a web developer so
you're gonna need a pic like I'm gonna
go like North by Northwest I want to go
that general direction and then I think
then then you can be a little more
specific so if you're gonna become like
a web developer you need to be you need
to know a web framework I'd pick you
know one of the popular ones pyramid
flask Django
need-to-know databases you need to know
a little bit of JavaScript mm-hmm
and basic Python programming if you go
to data science you know look at the
list that we just posted from Kevin that
has a bunch of things that have nothing
to do with web then tell you what you
need to know and so it's a little bit
hard to answer to say you know go do
these seven lonely seven basic topics
and you'll be there cuz it really
depends on which direction you go but I
wouldn't be I wouldn't be too
discouraged I would say you know if
you're coming from another programming
environment like you know some if you're
already a programmer that that is a
solid foot in the door I did I didn't
talk Python I did two episodes number 39
and 41 like two hours where I
interviewed people who just got their
first Python job whether they were
coming from exist other languages like
Java or something or coming well totally
from scratch and then I also interviewed
all the hires like the people that do
hiring a PayPal and Netflix and some
other companies like what did they look
for when people come in their door so
that's also probably worth listening to
cool perfect if you feel free to post
links to those shows that sure let's see
all right I'm wondering how this one
let's see this one sorry my system is
running really slow so yeah I had the
same problem when I was typing it's like
it was uh yeah think I'm really dragging
I felt bad with why my fumbling but you
know it's it's still learning stuff yeah
yep yep so Richard asks I wonder I'm
wondering how to make products such as
apps based on Python for example I want
to create an app to do machine learning
using scikit-learn is that possible well
I know I have no expertise on creating
apps but I think Michael has a course
called Python for a hunch of a nurse but
uh like what do you cover in that course
yeah so that course teaches you how to
build some kind of web app that you have
a business around so right teaches you
see Kawakami database programming really
quick the basics of
Python CSS and design bootstrap web
freight web frameworks but then also
like how do you accept credit cards how
do you securely store and manage user
accounts how do you send email how do
you manage mailing lists like all the
stuff around your business yeah yeah so
that's that's what that's about and cool
it's not focused on like native apps
right like but it's really about having
some kind of a web app as your business
like if you were like fresh books or
something but you probably could adapt
it for you know back in service
that's web-based cool so that I mean
certainly that would be a great way to
learn how to build Python apps for the
web in general um to more directly
answer your question how you might
integrate machine learning you can so in
scikit-learn there's something kind of
you can do something like pickling but
it's called job Lib and essentially you
can train a machine learning model and
you can use job live to save it to disk
then you can upload it to your web
server and your your website code can
essentially read the trained model and
then as data comes in it can make
predictions so it's actually I don't
know if I'd want to call it trivial but
relatively simple if your model you just
train it once and upload it you can
essentially build in scikit-learn to
your web app with very little problem
it's actually gonna be the web app part
that's the hardest the harder part at
least for someone like me without a lot
of web skills but cool let's see
vishal asks how to use zip and enumerate
efficiently in python and when or where
to use them what do you what do you
think are some use cases Michael
well I think you can do like interesting
grouping and sort of pre-processing a
data so like something I was looking at
that let me actually
here's an interesting combo this is just
using range but you just as well could
use a enumerate of a set they just use
range to keep a super simple example so
I put that into the little chat window
cool so you can do things like take a
set and break it into like groups of ten
that contain both the index and the
original set plus if item things like
that cool maybe the pre-processing
reorganize your data before you send it
down the pipe nice nice and we saw a
numeral is probably written before the
the lesson so we saw enumerate during
one of the lessons today so we'll we'll
leave it at that
let's see how all right next one from
Kieran actually another one of my data
school students how to do debugging code
in a pythonic way is there such a thing
as pythonic debugging we're marking
Nanak I'm not really sure that there is
but I what I would say is if you write
your code in a pythonic way that usually
makes it cleaner easier to read easier
to follow so it makes debugging easier
but you know it really comes down to
your tools there's a couple tools that I
have like some of the IDs push button
debugging like you saw me step through
in PyCharm tools for Python tools for
Visual Studio as well as Visual Studio
code with the Python plugin those both
have like really good debuggers I think
wing IDE has extra bugger people tell me
that's why actually why they choose it
over pycharm capabilities so there's
some neat options got it
let's see maybe I'll start scanning down
because we still got a lot and I want to
make sure to pick out some that are
different than ones we've talked about
already actually I like this one also
from here and um can you talk about you
can you talk about unit testing the
Python code is it a good practice to
have one test for each module and how to
do integration testing using multi
modules there's a couple questions they
yeah so I would say I would say starting
out look at PI test
knocking test it's got a little more
features it's a little bit cleaner
there's talks which is really
interesting at eox a package that will
let you run your test on multiple
versions of the framework of Python so
like - 7 + 3 + 3 6 mm-hmm so if you're
doing deployments are different like
you're right in a library people might
use in different places is it good to
have a one test for each module I I
don't think the answer to that is yes I
think the answer is at least one but you
really want to structure your test so
you're testing the main user behaviors
right so if your write some data science
library the main behavior is I'm going
to load up system data then I'm gonna
call these functions on it then I'm
gonna save this back to a file like you
want to test that workflow yeah that
that might mean single test spanned
multiple modules and that might mean you
know multiple tests to actually verify a
particular thing also with unit testing
it's super important to test the happy
path and the sad path path is like winds
thing works you say the thing works the
south is you actually handle all the air
conditions in a way that makes sense
like you don't have it off by one bug if
you like you know put the length of
something in and sit at the length minus
one if things like that like the air
handling is is there and in place and so
on
cool cool I have another question -
someone asked in the chat Daniel asked
will the few topics be on dub which
weren't covered so though the lessons
you had to skip for time let me let me
let me say let me just give you a
different link really quick okay so
because I I could put them there but
this is gonna be better
oh you're the the repository for the
entire new higher course yeah got it got
it so the entire course has if
the two pythonic items and they are all
in this repository which i just posted
cool cool
let's see then one more unit test and
comment oh sure sure sure please just
one of the problems people run into is
they think they need to test everything
right and my comment maybe made you
think that as well potentially I came
across that way but then that leads to
well we wrote unit tests for every
little bit of this library and any time
we make a change we have to maintain a
thousand unit tests and I'm not gonna
have time to write all the tests anyway
so I'm just not gonna write any mm-hmm
if you can aim your tests at like the
20% most essential part of your app or
your library or whatever that's way
better than having no tests got it and
and you know I personally think like a
hundred percent code coverage of
everything unless it's like a library
someone's using if it's an app 100% code
coverage is like way beyond marginal
returns but there is some kernel of
behavior that this is why people pay you
or this is why people download and use
your thing that's broken that's really
bad test that cool cool let's see I like
this question from Simon I know Python
to seven but I'm fairly new to Python 3
which features does Python free boast
how many what is it boast that could
potentially make data handling and
processing even more efficient concise
and fun now that's a big ask what what
do you think of the top Python 3 top
reasons I know you're a big Python 3 guy
I love pride about 3 so I'm trying to
think what the the one big boast is
there's a bunch of small ones right like
Python 36 has at least 20 features that
are coming so for example working with
dictionaries is 20 to 25 percent more
efficient from just by them 3 5 in terms
of memory
right things like so there's things like
that where there's like performance
improvements I think the language is a
little cleaner all right so that's also
nice but if I had to pick one thing I'm
like I bet you could find a way to use
this that's really interesting is the
the async well and I really when I said
curtains there's actually a couple of
the possibilities not just the yield
stuff but the async and a weight stuff
the async IO stuff that allows you to do
basically add parallelism to your Python
code anytime you're doing network bound
network blocking type of things that
could turn out to be really valuable mmm
right and that is dramatically easier in
Python 3
all right cool let's see I saw another
one I really liked in here oh so here's
something whoops sorry
the screen was just scrolling so here
mikolaj I think he asked what about the
func tools and itertools modules is
using them considered pythonic I think
so I think you know one of the things
that you hear over and over again when
people are talking about pythonic code
is working with collections iteration
work when two loops you know we didn't
get to list comprehensions and just
writer expressions but obviously those
fall into that category and itertools
just take that to another level you know
just add more capabilities there there's
even packages called more itertools and
I think there's like even more better
tools it's like a package name there's a
lot of there's a lot of other tools and
I do think that that's important cool um
let's see this one's from Justin and
Michael you know we're almost at the so
the way crowdcast worked is it will just
cut us off exactly at two hours but
we're almost at two so if you have ten
more minutes we'll just keep answering
questions what do you think
he could tell they kick us out like
let's just close down the bar okay buddy
I see one of the questions out there I
really quickly yeah is there any classes
or tutorials or videos to help people
learn PyCharm one of the things I'm
thinking of creating as maybe even as a
free course is a PyCharm course but
until I that's like a ways out like a
couple months minimum
so bread is excited awesome one of the
things you can do in the short term is
pycharm has like a 8 step getting
started video playlist on YouTube or
whatever and I just threw that up so
cool yeah I'm glad to hear you guys are
excited about that maybe I will do it
because I think you know knowing the
hotkeys knowing how to use it like you
can just be way more efficient but it
looks like a big hulking beast like how
do you get started with right so yeah I
mean watching what going through your
courses Michael like seeing how like
there's definitely things in pycharm
that look like magic that it's doing way
more work than I thought any editor
would do so yeah definitely seems like a
tool worth worth learning alright cool
cool one I liked from Justin what is the
best way to down download large files
from an API or website and save them in
a database inserting data row by row
takes a long time um databases not are
not my strong suit what like is when
you're building a database from say a
stream of data how do you insert row by
row or what's the most efficient way
Michael I suppose it depends a little
bit on how much data you have and how
you're acquiring it okay where you're
waiting you know
um you can certainly do backed up dates
so like unless I knew more about it I
would probably go and do something like
use the request library to start
downloading data off the API okay
and then as you stream over that data
become I don't know it depends how it
comes back does it come back took a huge
JSON document or is it like
something that then you start making
multiple requests back I don't know but
you know use requests get the data and
then do a bulk insert like maybe you
know Jude likes Ibaka me has support for
bulk insert so maybe bash it up like get
25 items bulk insert 25 items bulk
insert because the round trip to the
database especially if the if it's
farther away can be problematic it can
be slow and a lot of the ORM so when you
do inserts like if you like added a
thing and you hit save that would
basically begin transaction do the work
and commit the transaction that could
also add a lot of overhead if you like
to a million transactions like if you
could do a thousand transactions or
fewer right now Dre book do bulk answers
got it
cool cool I like that tip I'll I'll uh
feel free if you have particular
questions that you are really interested
in feel free to to grab it I'd rather
the question about whether this will be
recorded I'm on YouTube oh yeah
yeah so it's definitely being recorded
and actually at this URL like the same
page you are on right now you will be
able to come back and watch it
immediately after it finishes within
like 60 seconds I'll probably be putting
it on YouTube tomorrow and you'll be
able to watch it that way as well
alright let's see I have a quick one
yeah please
so Jeff asks are there examples well and
I just moved around I think yeah are
there examples of really well-written
Python a code that are accessible to
intermediate level programmers can you
point us I would say check out some of
the popular frameworks and things that
are out there right like on one hand you
can drop into something like Django or
pyramid and it might be too much there's
too many little edge cases they're
juggling to make it worth like setting
the code I'm not sure that's true but it
may be true but like some of the smaller
ones some of the stuff that Kenneth
writes is doing like requests and
records mm-hmm
those are really well respected I hear
over and over again that people love the
Apr well we're studying cool cool
all right quest by twaimz downloaded
seven million times a month seven
million a month yeah wow that is amazing
so I'm certainly used let's see the I
just went back to the top of the list
and it was from John Donna I'm using
Pizza numpy for my day-to-day work but
my room is not sufficient because pandas
will load all the data in the room how
did you joins for two huge data frames
if I use the chunks functionality I
don't think that the chunks
functionality the chunk size
functionality only happens at time of
file reading so once the data frame is
in memory it's there and it's just it's
an it's a tool frame in working with
in-memory data and there's certainly
people working on solutions like bleh
there are solutions that will do in
memory but try to compress things but
really like pandas is fundamentally
built as an in-memory tool so I don't
think chunk size will get around the
prop of you know your RAM isn't enough
for your I the the data frame that you
have yeah there ways you can process
part of it throw that frame way and
right I don't know if that's true it may
not be true but yeah I mean you can so
you could you could certainly do that
manually you can't tell pandas hey
here's I want you to throw away
something once you're done with it like
it just doesn't it just it just doesn't
kind of work like that unfortunately um
let's see
vishal asked what are some general
things to look for while optimizing code
you know answer is the bottleneck I
think there's some interesting thing to
learn about Python and performance hi
one function calls are more expensive
than you maybe
used to with other other languages right
like so and C++ if I call the function
maybe that functions even inlined if
it's not virtual as if I didn't even
call it Python the the function calls
themselves can be expensive so you can
you know I would say write your code as
if everything is fast right but then I
can look at the things that are actually
slow with profiling
first of all profile measure don't guess
right that's the most important is like
throw your code in a profiler I have I
did this example I use this example a
lot I worked at this company where we
did I tracking data right eyes like not
not Apple we couldn't figure out like
we'd measure it 200 times it's 200 times
a second so 250 Hertz we would have
readings coming off of this the state
and we created this thing that would it
turns out the pupil diameter over time
when you factor out the effects of light
relate to Howard you're thinking and
engaged cognizant right so the
algorithms to apply that are like
wavelet decomposition and other like
insane transforms it's not just like oh
it's there's width so their thing you
know it's like really hard to finesse
that out so I worked on the system and
we had to move a bunch code from MATLAB
over to another language and it was like
seven thousand lines of code doing
wavelet stuff and all sorts of things
and it had to run in less than four
milliseconds because in order to do 250
Hertz real-time sure it's gotta be four
milliseconds you know I mean it bashed
up but it still had to be fast right and
then we ran it and it was too slow oh
god we're done like I can't like I can
optimize 7,000 lines a wavelet
decomposition just can't and we threw it
into a profiler and there was a place
where using the list instead of a
dictionary and like 80 percent of the
time was actually in the list
manipulation studies would show a
dictionary in our code ran five times as
fast I would have never thought that one
line or two lines with the list part was
actually the slow part do all the scary
math and so measure for
but you know using the built-in
structures leveraging things like numpy
and and the other parts that haven't
implemented the hotspots of their
computation implemented in C that's very
important in the data science world yeah
cool cool good tips very nice let's see
we've got about three minutes left so we
have to be selective here
I saw let's see our oh how about okay
please well what about our num num by
arrays faster than lists you wanna take
that sure sure yes so if you are doing
numerical computation so numpy so the
main limitation of a numpy array and an
umpire array can be any number of
dimensions so you can have a 2d or even
a 3-d or Isom 40 numpy array but
everything in the array must be of the
same object type but as long as it meets
that condition numpy is highly optimized
for tons of different numerical
computations and pandas relies heavily
on top of I in fact the underlying
underlying a data frame is one or more
numpy arrays and in scikit-learn it also
relies on numpy so numpy is fast but it
doesn't have the same flexibility as a
list but yeah so don't bother putting
like five numbers in a numpy array just
because it'll be faster but when you
have a real like meaningful size of data
numpy is the way to go for computation a
list is just not even close to optimized
for computation it's just the most
convenient and flexible data structure
right even within Python there are like
byte arrays and other more tight
structures cool let's see we have one
minute before we kicked
all right well this is we should
probably not try to fit in another
question so any final any final wrap-up
any final calls to action Michael yeah
absolutely you know thank you for coming
I really appreciate it hopefully you
guys enjoyed this I've really enjoyed
the Q&amp;amp;A after the feedback you guys gave
us if you want to learn data science
check out Kevin's data school if you
want to learn some straight at Python
come check out my stuff at talk my
thought about a film and of course
listen to the podcast awesome any I want
to give a preview of an upcoming podcast
episode yeah there's some there's really
interesting ones I guess the one to hit
in the next ten seconds if we're gonna
last that long is we have the top ten
data science stories of 2016 and they're
really entertaining a good cool very
cool
I very cool all right
well Michael thank you so much for
coming and doing these lessons really
really appreciate it and I'm a you know
big fan of the show and really enjoyed
checking out your courses so and I
definitely encourage folks to check them
out if they are not already and of
course data school dot io / talk Python
for my page to launch your data science
career so thank you again everyone yep
thanks really fun cool
see you later Michael all right bye
everyone thanks for coming by Kevin</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>