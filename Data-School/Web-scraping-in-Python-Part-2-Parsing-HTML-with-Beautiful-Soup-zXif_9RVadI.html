<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web scraping in Python (Part 2): Parsing HTML with Beautiful Soup | Coder Coacher - Coaching Coders</title><meta content="Web scraping in Python (Part 2): Parsing HTML with Beautiful Soup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Data-School/">Data School</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web scraping in Python (Part 2): Parsing HTML with Beautiful Soup</b></h2><h5 class="post__date">2017-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zXif_9RVadI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to part two of web
scraping with Python this is a four part
introductory tutorial in which you'll
use web scraping to build a data set
from a New York Times article about
President Trump if you'd like to follow
along at home you can download this
jupiter notebook from github and there's
a link to it in the description below in
part 1 of this tutorial you learn the
basics of web scraping in HTML and we
examined the New York Times article to
look for patterns in the formatting in
this video we'll take advantage of those
patterns to start building our data set
we'll read the article into Python and
then use the beautifulsoup
library to parse the HTML so the first
thing we need to do is to read the HTML
for this article into Python which we'll
do using the requests library if you
don't have it you can pip install
requests from the command line the code
here fetches our web page from the URL
and stores the result in a response
object called our that response object
has a text attribute which contains the
same HTML code we saw when viewing this
source from our web browser and you can
see
that matches the first few lines of our
HTML next we're going to parse the HTML
using the beautifulsoup
4 library which is a popular Python
library for web scraping if you don't
have it you can pip install
beautifulsoup
4 from the command line this code parses
the HTML stored in our text into a
special object called soup that the
beautiful soup library understands
in other words beautiful soup is reading
the HTML and making sense of its
structure note that HTML parser is the
parser included with the Python standard
library though other parsers can be used
by beautiful soup the Python code so far
is the standard code I use with every
web scraping project now we're going to
start taking advantage of the patterns
we noticed in the article formatting to
build our data set let's take another
look at the article and compare it with
the HTML so here's the article
and we'll search for Iraq once again to
see the HTML take a moment and examine a
few of the records
here's the first record
and here's the second record you might
have noticed that each of the records
has the following format span class
equals short desk strong date close
strong lie span class equals short truth
a href equals URL the explanation close
a close span close span in other words
there's an outer span tag and then
nested within it is a strong tag plus
another span tag which itself contains
an a tag all of these tags affect the
formatting of the text and because the
New York Times wants each record to
appear in a consistent way in your web
browser we know that each record will be
tagged in a consistent way in the HTML
this is the pattern that allows us to
build our data set so let's ask
beautifulsoup to find all of the records
this code searches the soup object for
all span tags with the attribute class
equals short desc
we're searching for this right here
which precedes every record it returns a
special beautifulsoup object called a
result set containing the search results
now results acts like a Python list so
we can check its length there are a
hundred and sixteen results
which seems reasonable given the length
of the article
if this number did not seem reasonable
we would examine the HTML further to
determine if our assumptions about the
patterns in the HTML were incorrect we
can also slice the results object like a
list in order to examine the first three
results you can see that the pattern I
described is reflected in each of the
first three results now we'll also check
that the last result in the object
matches the last record in the article
so here's the last record in the article
about the FBI person and then here is
that same matching record
so we've now collected all 116 of the
records but we still need to separate
each record into its four components the
date the lie the explanation and the URL
in order to give the dataset some
structure and that is what we will be
doing in the next video if you have a
question or a tip please let me know in
the comment section below and click
Subscribe if you like this video thank
you so much for joining me and I will
see you again soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>