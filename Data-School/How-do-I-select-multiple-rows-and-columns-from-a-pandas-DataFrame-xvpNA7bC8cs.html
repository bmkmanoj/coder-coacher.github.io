<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How do I select multiple rows and columns from a pandas DataFrame? | Coder Coacher - Coaching Coders</title><meta content="How do I select multiple rows and columns from a pandas DataFrame? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Data-School/">Data School</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How do I select multiple rows and columns from a pandas DataFrame?</b></h2><h5 class="post__date">2016-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xvpNA7bC8cs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome back to my Q&amp;amp;A video
series about the pandas library in
Python and the question for today comes
from a YouTube commenter who asks can
you make a video dedicated in pointing
out the differences between lok i lok
and IX okay great questions so Lok I Lok
and IX are different data frame methods
for selecting rows and columns and
they're very flexible and powerful so
it's important to understand all three
of them so let's jump right in and out
and use an example data set to explore
these methods so we'll import pandas as
PD and then we're going to use a data
set of UFO reported sightings
so we'll say UFO equals PD read CSV and
then bit dot Lee slash UFO reports okay
you can always follow along with this at
home that's a public data set okay so if
you wanted to look at the first few rows
the your natural inclination might be to
use the head method so if we want to see
the first three rows UFO dot head three
and that will show us those first three
rows okay but there are lots of other
ways to do this and Lok is one of them
and it's a lot more powerful and
flexible so let's try it out okay so um
Lok is because of the data frame method
you say UFO dot Lok and Lok is for
filtering rows and selecting columns by
label and by label I mean for rows I
mean the index for columns I mean the
column names okay that's the label soloq
is for selecting things by label okay so
you don't use parenthesis you use a
bracket and the format of the Lok
Command is what rows do I want
, what columns do I want okay so if I
want row zero and all columns I say this
UFO dot look bracket 0 comma colon so
the colon means all columns so row 0 all
columns we run that and we actually get
a backup pandas series which is just
showing us this first row of the data
frame so row 0 meaning this one all
columns okay now what if I wanted
multiple multiple rows okay I could say
UFO dot Lok and what rows do I want
let's say I want rows 0 1 &amp;amp; 2 I could
actually just pass a list 0 comma 1
comma 2 and then outside of those
brackets comma colon so which rows do I
want 0 1 2 which columns do I want all
of them okay
and here we go now ah if you there's
actually a more efficient way because we
want this continuous block of rows okay
I could say you can actually just use
UFO dot Lok Lin 2 comma colon so which
rows do I want 0 through 2 and I want
all columns so I run that get the same
thing okay so this is what you would use
when you're when you want a block of
them together but you can use the list
format you know I could have put 0 comma
1 comma 3 and gotten those rows okay now
you'll notice that when I use this
notation its inclusive on both sides
it's 0 1 &amp;amp; 2 it does not exclude the two
like it would with rain
change okay so that's really important
to remember that Lok is inclusive on
both sides when you use this notation
okay now I will mention I'm not going to
recommend you do this but I will mention
that sometimes you'll see code like this
and you'll think wait a minute I thought
it was Rose comma columns and that's
true but it turns out if you leave off
the you know comma colon pandas just
assumes it and it will return the same
result now I'm going to ask you or
recommend that you don't do that because
as the Python philosophy is explicit is
better than implicit so even though this
might look a little nicer just do a
favor for the person reading your code
and show them okay I want these rows I
want all columns okay now that's for
doing a row selection
what about column selection it's just
like you might expect okay so we're
going to say UFO dot Lok and first we're
going to start with all rows column City
okay and we get back the city series
okay all rows what column City and as
before if we wanted multiple columns we
could do something like this I could say
I want city and state so which rows all
of them which columns city and state and
we get that now we get to eat a frame
with two columns or I can instead
specify it as a range
I want city through state all rows city
through state so City colors reported
shape reported state okay so arm you can
of course combine these two in terms of
row selection and column selection so if
I want rows
zero through two and columns city
through state I can do it that way okay
so very flexible and I'd ask you real
quick what's another way we could do
this this exact same thing without using
the loke method think about that for a
second pause the video if you need but
if you remember back to previous videos
you could accomplish the same thing with
UFO dot head three and then dot drop
time axis equals one okay so same thing
totally different kind of workflow um
the point here is there are always lots
of ways to do the same thing in pandas
and it comes down to what methods you
feel most comfortable with and you know
the best I'll just say that dot lok is
super powerful and flexible so okay um
there are there is another use for lok
that's useful to know and it's it's
using lok with boolean conditions okay
so previously i've said that if you want
to select all rows where for instance
city equals oakland you would do this
UFO bracket UFO dot city equals equals
oakland and you probably remember this
from a previous video where city is
oakland okay however you can do the same
thing with lok and it's even a bit more
flexible so I could say UFO dot Lok and
then what do we need to tell it what
rows do I want
well the rows in which UFO dot city
equals Oakland
what columns do I want all of them okay
so that produces the same results it's
just a bit more explicit now you'll see
a lot of code mine included that does it
like this
but you should be aware of this and in
fact it's again more flexible because
you could specify oh I just want the
state column okay you just get the state
now you might be thinking wait a minute
I don't need dot Lok to do that I can
just add on dot state at the end here
and you're right
however there's actually a subtle
difference in how this code and this
code executes this is known as chained
indexing and it will cause problems
under certain scenarios I'll mention it
in a future video but this will not
cause problems so if you're doing a
boolean selection of rows and then a
selection of columns this accomplishes
it in one internal operation whereas
this takes two operations and because of
that this is safer for your code
executing in the way you want and as I
said I'll talk about that more in a
future video okay so that's it for lok
let's talk a little bit about i'll oak
alright so i'll oak i lock is for
filtering rows and selecting columns by
integer position that's what the I
stands for is integer position so I can
say you fo dot i'll oak and it's just
like before what rows do I want what
columns do I want so if I said I want
all rows and I want columns in position
0 and 3 I will get the city and state
columns because that's position 0 that's
position 3 the data frame ok as before I
can also use a range
and let's say I say 0 : 4 okay you might
not have expected this
but you'll notice it shows you the
columns and let's just remind you of the
columns you know for our columns it
shows you the columns in positions 0 1 2
&amp;amp; 3
okay so with I Lok it is exclusive of
the second number inclusive of the first
number okay this is um just like if we
do range 0 to 4 it comes out with 0 1 2
3 same thing so when you're using I Lok
it's exclusive of this one okay whereas
with dot Lok it's inclusive on both
sides okay really important to remember
okay so let me show you one more example
of I'll oak and UFO I'll oak 0 colon 3
comma everything so I want rows 0 1 &amp;amp; 2
&amp;amp; all columns okay so it did not include
Row 3 alright so that's a big difference
between Lok and I look so Lok for labels
I Lok for integer position Lok when you
do ranges it's inclusive on both sides I
low inclusive on the start and exclusive
of the stop okay alright I'm going to
tree a couple shortcuts that I don't
recommend using but I want you to be
aware of them because you'll see them in
a lot of code online okay you might even
see them in my code occasionally okay
so one of them is if you've learned
before how to select multiple columns
you've probably
we seen this UFO bracket bracket city
comma state okay
and that isn't is one way to select two
columns and basically the inner brackets
represent a list so this is a list of
strings if you pass a list of strings to
the outer brackets it knows you want to
select columns but that's a lot of logic
to remember what I recommend instead is
just to use Lok and say which rows all
of them which columns do I want city and
state okay so this is what I recommend
because it's very explicit about what
you want
similarly um you're often going to see
this which I find confusing which is UFO
bracket 0 colon 2 there's no dot Lok
there's no I look it's just 0 colon 2
and you might think is that referring to
Rose is that referring to columns are
those labels are those integer positions
I don't know and when you run it you'll
see it's actually referring to Rose and
it's referring to them by integer
position but you'd have to memorize that
logic and anything where the logic is
not totally clear um you want to stay
away from it you're better off if you
wanted to do this you could do dot I Lok
this is much better because you know
okay position 0 through 2 inclusive
exclusive and then all columns okay now
let's move to I X and what is IX it
allows you to mix labels and integers
when uh when doing selection so it's
kind of like a blend between Lok and I
Lok okay so to demonstrate this one I'm
going to pull in another data set the
drinks data set we've seen many times so
drinks equals P dot
CSV bit-bit ly ly / drinks by country
and index call equals country you can
actually set the index when you're
reading in the file okay so if we look
at the head here's what we've got okay
so here's our index and here are our
five columns okay so let's say I want to
select this cell right here okay
so you can actually do selection by
label and position and mix it up so if I
say drinks dot I X I can say Albania
which is a label it is the label of this
row commas zero and there's no zero
label here zero refers to the position
of the column and we get 89 okay now we
could also do drinks dot IX and we could
say 1 comma beer servings and in this
case the 1 refers to the position of the
row and beer servings is the label other
words IX has to figure out whether
you're referring to a position or a
label okay it has to guess so if you
want to use IX you have to remember
their logic okay now let's do one more
with IX drinks IX and we'll say Albania
through Andorra and we'll say 0 colon -
okay so we get Albania through Andorra
that's label selection and 0 colon - and
it only shows us two columns now why is
that because the logic of IX is as
follows if you have a string index which
is what we have right here okay and you
use numbers those numbers are treated as
positions positions if you remember from
I'll oak it's inclusive of position 0
and exclusive of position - okay so you
have to remember that logic now here's
one more example of IX and this is a
confusing one drinks IX 0 colon - 0 :
- actually instead of using for drinks
let's actually do UFO that's what I
meant to do okay so isn't this funny I
said 0 through 2 and it gave me three
rows 0 through 2 and it gave me two
columns well I already said we already
knew is going to give us two columns
because we saw that up here you have a
string index meaning the dot columns and
you give it numbers it will do it by
position if you have an integer index
and you give it numbers it will treat it
as labels and when using labels it is
inclusive on both sides okay now if
you're at this point confused you're not
alone chi IX is has been around for a
while it's very common in sample code on
the internet but I generally don't
recommend it because you have to keep
track of the intricate logic of IX
okay IX was invented in pandas before
Logan I Lok that's why lots of people
got used to using IX but I only
recommend using IX if you have
- if Lok is not meeting your needs and
I'll oak is not meeting your needs and
you need to mix positions and labels in
the same call then use IX otherwise use
Lok or I Lok okay and it gets especially
confusing when you have an integer index
that doesn't start at zero and it
doesn't have sequential numbers which is
allowed it could be ID numbers or
something like that then you're really
getting it confused about what to expect
and you never want to write code that
you can't even remember how it is going
to work okay so usually and I end with a
bonus there's no bonus today instead I
have a couple announcements first
announcement is because of some upcoming
travel namely I'm getting married soon
I'm going to be doing releasing videos
only on Tuesdays not on Tuesdays and
Thursdays for a while probably for June
and July okay so just one video per week
second thing is if you've never looked
in the description below each video
check it out I have links to
documentation that's relevant I have
links to resources that might be helpful
to you there's a link to the github
repository where all this code is stored
so the code from every single one of
these videos there's about 19 videos
already and the code is in there in this
github repository well commented in and
I PI Chthon notebook so you can use that
as a reference so there's a link below
check that out and the final
announcement for today is in case you
did not know I have an email newsletter
if you like these videos do me a favor
go scroll down into the description find
the link that says newsletter click on
that and go ahead and join my newsletter
list and I'll be sending you lots of
great content on data signs okay so I'd
love to have you part of the data school
community alright that is it for today
thanks for sticking with me and I hope
to see you again
soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>