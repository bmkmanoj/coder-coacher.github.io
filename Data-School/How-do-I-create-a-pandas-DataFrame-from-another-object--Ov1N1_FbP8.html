<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How do I create a pandas DataFrame from another object? | Coder Coacher - Coaching Coders</title><meta content="How do I create a pandas DataFrame from another object? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Data-School/">Data School</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How do I create a pandas DataFrame from another object?</b></h2><h5 class="post__date">2016-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-Ov1N1_FbP8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome back to my Q&amp;amp;A video
series about the pandas library in
Python and the question for today comes
from an email i received from Clemens
who writes how do you create a data
frame from scratch
ie without reading data from a file this
is handy when you want to create some
toy data to play around with there are
several different ways to construct a
data frame and I find it confusing to
pick the best method I frequently need
to construct a data frame with specific
columns in a specific order okay this is
a great question and I'm going to show
you a handful of different ways to
create some data frames okay so we'll
start by importing pandas and the first
way we're gonna do it is by using a
dictionary we're gonna create a data
frame from a dictionary so we're gonna
say PD dot data frame and that is known
as the data frame constructor and we
pass the constructor on a dictionary and
here's the dictionary I'm gonna pass so
the key is ID the values are a list of
100 101 102 , and then the other key is
color and then the values are red blue
and red okay so dictionaries are key
value pairs this is the Python
dictionary structure and what you'll see
is that the keys ID and color these
strings became the column names and the
values became the values in those series
in order okay so you'll notice that the
columns did not show up in the same
order in which I wrote them and that's
because the dictionary is an unordered
data structure and however you can
actually specify
the ordering of columns if you need them
in a specific order
like Clemens had asked about okay so if
you want to do that you just need to use
the columns argument okay so the first
argument to the data frame constructor
is the data the second argument you'll
use here is columns equal and you
actually just say the names in the order
you want them so I'm gonna say ID color
okay
and when I do that you'll see that it's
now exactly in the order I specified
okay another thing you'll note is that
the data frame constructor if you don't
tell it in index it will just use the
default index which is integers starting
at 0 okay but let's say you have an
index and you want to specify the index
you can't actually do that as well very
simple just say index equals and again
I'm gonna pass it a list of strings and
you know if the index were integers you
could pass up a list of integers but I'm
just gonna say a B and C okay and we'll
run that and you can see that that
worked so our rows are now labeled with
the index of a B and C okay so this is
the really this probably the most common
way to create a data frame for playing
around with I'm gonna save this as DF
and we're going to use it again later in
the video okay so what if your data is
in a different shape and here's what I
mean
let's say if we do to PD that data frame
and we pass it a list of Lists okay so
I'm gonna pass it a list of three lists
okay
and I'm gonna say 100 comrade 101 comma
blue and 102 comma red okay all right so
when I pass it a list of lists the inner
lists each of the inner lists gets
treated as a row and the rows get
stacked on top of one another so you can
see the difference when I pass a
dictionary the key became the column
name and the value sorry the value
became the series of values whereas if
you want to do the same thing by passing
a list of lists you write out what's in
each row okay and they just get stacked
on top of one another like that okay now
you'll notice of course that it used not
only the default index but the default
columns of 0 &amp;amp; 1 so just like before I
can specify the columns when I was doing
it up here it was because I wanted to
specify the order in this case I'm
specifying the columns just so that they
can exist
okay so ID and color okay so here is the
same data frame as I created up here
kind of just constructed in a different
way all right so sometimes you don't
have a dictionary or a list of lists you
have an umpire array and you want to
convert an umpire array to a data frame
so let's see how we do that first I need
one so I'm gonna create one so we'll
import numpy as NP and then what we want
to do is take advantage of some random
number functionality to create an array
and I'm gonna say ARR and restore it
equals NP dot random dot Rand and
there's a lot of random number
functionality I'll link to some
documentation in the description below
where you can read about it but I'm
gonna say 4 comma 2 and let's go ahead
and print it out and what it does is
creates a four by two numpy array
meaning four rows by two columns a four
by two numpy array of random numbers
between 0 &amp;amp; 1
okay the uniform distribution okay so
we've got an array and let's say that I
want to turn this into a data frame how
do I do it you're probably not surprised
that I'm just going to pass it to the
data frame constructor so PD data frame
a arr and it's not you know by default
it's not gonna have any column names so
I will go ahead and just add those just
like before and we'll just call them one
and two okay so that's how you convert a
number right to a data frame okay
at this point you're probably wondering
well when I when I create toy data sets
I need to create a larger data frame how
can I do that and without like typing
out a huge amount of text and I'm gonna
show you how to do that so we're gonna
take advantage of some more numpy
functionality there are lots of ways you
can do this but our goal is to create a
data frame of ten rows and two columns
and the columns are student IDs and some
test scores okay so I'm going to use the
data frame constructor once again and
I'm gonna pass it a dictionary and my
first key will be student these are
student IDs and instead of passing a
list I'm gonna use the NPA range
function which stands for array range
it's very similar to pythons range
function except a range outputs a numpy
array doesn't really matter in this case
and I'm gonna say I want student IDs
from 100 to 110
by one and just like range it's
inclusive of the first exclusive of the
second and this is the step the step
value so step by one okay so that's the
first column I'm gonna create and the
second is gonna be called test and these
are the test scores and for this I'm
gonna say NP dot random dot R and int
int okay
so I want random integers and I want
random integers between 60 and 101
inclusive of 60 exclusive of 101 meaning
it will not select 101 it will only go
up to 100 and I want ten of them it's
not by ten it's ten of them okay so
let's go ahead and run that and this is
our data frame so you'll see that
student and task became the column names
use the default index and then the
student column is 100 through 109 by
ones and the test scores are random
integers between 60 and 100 at the
maximum okay so just ten random integers
as I said I'll link to the documentation
for these in the description below and
you can read more about these and other
random number functionality that might
be useful when creating these data
frames now I'll say one more thing about
this the data frame construction which
is that for any time you are creating a
data frame you can actually chain it
together with a dot set index if you
have one of the columns that you want to
set as the index so I'm just gonna say
student run that and now student is my
index and test is one of the columns or
the only column okay so as always we are
going to end with a bonus and the bonus
is how do do I create a new series
and attach it to an existing data frame
okay
so let's use the series constructor PD
dot series and I'll just type it out and
then we'll see the result I'm gonna say
round square I'm just passing a list and
I'm gonna say index equals a list C
comma B and name equals the string shape
okay and I'm gonna save it as s and then
print it out okay so this is the series
we've created you'll see that the first
thing I pass it becomes the values of
the series the index obviously becomes
the index of the series they're really
the identifier for the rows of the
series or the elements of the series and
the third thing is a name and it's not
obvious why I needed to do this but
you'll see in a moment but it's it's the
identifier of the series okay so this is
a series I've created now before I
attach it to the existing data frame
let's review what that looks like so
this is DF so you've got ID and color
ABC okay now what I'm gonna do to
combine them to combine the data frame
in the series is to concatenate them so
I'm going to say PD concat a top-level
function and I pass it a list of objects
to concatenate I'll just say DF comma
ass and then I want to concatenate side
by side so that's axis equals 1 whereas
if I wanted to concatenate rows it would
be access equals 0 okay so there are
three things I want you to notice about
this ok so the first thing is that the
name of the series right here became the
column name when it
added to the dataframe okay the second
thing I want you to notice is that it
was the series was aligned to the data
frame by the index okay so you notice C
is round be a square so C round B square
so it aligned them it didn't just drop
them in in the order I passed it it
aligned them okay the third thing is
obviously that a says n a n not a number
which means it's a missing value so
pandas is saying well this shape series
you added it didn't tell me what the
shape of a is so I'm gonna identify it
as a missing value okay so if you want
to know more about the index and
alignment I've got two videos about the
index which I will link to in the
description below so that's it for today
thank you so much for joining me as
always please click Subscribe if you'd
like to see more videos like this I'd
love to hear from you so feel free to
leave me a comment or a question below
um or check out my website and you can
email me at status Coolio um but that's
it so thank you again and I hope to see
you again soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>