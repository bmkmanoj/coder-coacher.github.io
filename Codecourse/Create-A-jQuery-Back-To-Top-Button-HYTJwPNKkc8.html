<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create A jQuery Back To Top Button | Coder Coacher - Coaching Coders</title><meta content="Create A jQuery Back To Top Button - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create A jQuery Back To Top Button</b></h2><h5 class="post__date">2014-10-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HYTJwPNKkc8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we're now going to build a
jQuery back to top button and you can
see at the moment I've got quite a bit
of content on this page just dummy
content when I go ahead and scroll down
you can see this little button at the
bottom appear and that appears you know
you can gauge this of when you want it
to appear but it's appearing pretty much
when a user would want to go ahead and
and go back to the top so this is
obviously starred with CSS and we're all
we're doing is positioning it with CSS
and then showing it at a certain point
we're not not inserting this with jQuery
but when we are scrolled down and we hit
back to top here you can see that goes
ahead and animates us back to the top of
the page so it will scroll back to the
top of the page and because we have
checks in place when we're scrolling
within our browser window
this will automatically disappear when
we get back to the top so this is really
easy to implement and you can see here
we get a nice animated effect when we
scroll up so let's go ahead and build
this out now so the first thing that we
really want to do is go ahead and style
this button up and then what we'll do is
we'll bring jQuery in and then we'll
attach the appropriate event handlers so
when we scroll it appears when we click
it we're forwarded back up to the top of
the page so let's go ahead and build an
anchor here with a class of back to top
what we're then going to do is just add
in a hash to this it's not linking
anywhere so we'll just include a hash
for here and then for the text in here
we're going to save back to top so this
is semantically correct we have an
anchor here rather than actually some
kind of div element or something like
that so let's start this up at the
moment on the page you can see it just
looks like this not great at all
so we need to create a new folder for
our CSS files and you probably already
have a stylesheet in your application
already in which case just add it in and
in here I'm just going to call this
global dot CSS I'm just going to pretend
that all of my styles are in here so
what we want to do then is obviously
target our back to top button and we can
start applying the styles we need here
so the first thing we need
change the positioning that's going to
be a fixed position this means that we
can use the top autumn left or right
properties and CSS to position this
somewhere on the page and because it's
fixed it will not scroll with the rest
of the page it'll always stay within the
position you give it in the butte the
viewport so i'm going to say i want this
to be 20 pixels from the bottom and i
want this to be 20 pixels from the right
so as you can imagine that then goes
down to here so while we're at it let's
just add some content to the page just
so we can see how this element interacts
with the rest of the content so I'm
going to create say a hundred paragraph
tags and within these let's put some
lorem ipsum and again I'm using Emmet to
generate this so quite a lot of content
on the page here so you can see that the
link at the bottom right hand corner now
is staying in its exact position so what
we need to do now is just add a few more
styles just to make this look a little
bit nicer so I'm going to set a
background color for this and I'll
choose something like cornflower blue
and we'll give this 20 pixels padding
and we'll set the foreground color here
to white just so we can see it a little
bit better on that text on that
background color so we've now got our
button that was fairly straightforward
what we now need to do is by default
hide it we don't want this to be visible
by default so we're going to put a
display of none on there and when we
refresh that obviously goes so a user
can scroll up and down as normal and
that won't be in the way for the whole
time that they're looking at the content
so now what we want to do is apply the
jQuery snippet here to control this so
I'm going to pull in jQuery from Google
hosted libraries you can download jQuery
and host it on your own server but for
now this is a lot easier so over on
Google hosted libraries then I'm going
to pull in the jQuery 2 point 1 point 1
and I'm just going to paste that into a
ass source attribute of a script tag so
now what I'm going to do is I'm going to
put in a custom JavaScript file this
might be something that houses all of
your JavaScript and I'm going to store
this in a JavaScript directory and I'm
going
call it global Jas so we're following a
little bit of a pattern here so I'm
going to create a new folder called Jas
and inside here create a global Jas file
like so and in here we can write all of
our JavaScript rather than doing it in
line on the page so the first thing we
do then is wait to the Don's loaded so
we use the document object here and we
use the ready method we have a callback
function in here that will run when
everything's ready to be manipulated so
what I want to do then is grab this
element here just so I can access it
depending on whether it's clicked or if
we want to do something with it when we
scroll so I'm going to create a variable
just here called ett fallback to top and
then I'm going to use a jQuery selector
to select that by its class so that's
obviously back to top so now we have
that element ready to go we can do what
we want with it so we need to attach an
event handler now to the window object
and what's going to happen is the event
handler is going to be for scrolling
when the user Scrolls anywhere on the
page so up or down this event handler we
fired so an event we fired here so let's
go ahead and do that now and we'll take
this sir one step at a time
so window and we use on to attach an
event handler and this is on scroll and
then once a user has scrolled somewhere
we have this callback function within
here so let's say for example I just do
a console log on scrolled for example
just output the string scrolled you can
see if I just bring up my console so in
developer tools here and you can access
this from this menu if if you want when
I scroll now you can see that that
string is being output constantly so
we're getting a lot of output on this
string so from this then inside of here
we can grab the position that the user
is at on the page and then go ahead and
actually scroll so what we want to do is
we want to grab the window so we can
detect the height and the position the
users up from the top so I'm just going
to create a variable called
self and then reference this which is
this here so now I want to determine the
height because I've stored self up here
it's really easy I can just say self dot
height and then I can also get the
position scroll from the top so I'm
going to call this top and I'm going to
say self dot scroll top so let's play
around with these just so you can see
what's being out but if we do height you
can be fairly sure that that's going to
remain the same so two six eight here if
I pull this down a bit you'll see that
that value changes so we're grabbing
dynamically the height of the window
we're also grabbing this top value here
and this is obviously going to change as
we scroll so you can see that that's the
position that we're currently scrolling
from the top so that's really useful
because now what we can do is detect
when or
decide when we want to show the button
so you can play around with this and
depending on when you want it to display
you can show it but if we do an if
statement here we can actually check if
the top is greater than the height so
I'm saying when this scrolled value is
greater than the entire height of the
window I then want to show the button
but we don't want to show the button
unless it's already invisible unless
it's already visible so we using another
if statement and I'm going to say if not
button or BTT for back to top is so we
can use this handy is method and then we
can say visible so if it's not visible
we then want to show it so we say ett
not show now if the top is not greater
than the height so we use our else here
we want to hide it easy now obviously
what you can do is you can use something
like fade in or any other jQuery
animations but for now I'm just going to
hide it and show it you can play around
with this so now what's going to happen
is when we refresh and we scroll you can
see that it shows and the movie come
back up that else then kicks in too
and makes it disappear so we've now got
the basic functionality of our back to
top button and in actual fact if you do
click this because we've got the anchor
the href attribute on our anchor set to
a hash this will actually redirect the
user up to the top of the page so really
now this is fine if if this is
acceptable to you you can go ahead and
use this solution but we're going to add
a little bit more in here just to
animate the scrolling to the top of the
page so we need to attach an event
handler to the button itself so we're
going to say BTT dot on much like we did
with the scrolling on the window but
this time it's on a click so on a click
what we want to do we want to scroll to
the top but we need to use the animate
method and then pass the scroll to top
property through to this object and that
probably sounds a little bit more
complicated than it is we need to target
the HTML and the body here and we're
going to apply the animate method to
this so we can pass in an object with
our animation properties in this case I
want the scroll top position to be at 0
that just means take me to the top of
the page and animate this at the same
time now the second argument of this
method is the speed in which you want
this to happen and this can be a string
like slow or something like that but in
this case I'll just pass 500
milliseconds in half a second now what
we also want to do we'll see little
problem with this in a moment if we just
refresh we'll get the effect that we're
after if you look very carefully let's
scroll down to here watch what happens
when I actually click this button you'll
see it flash a little bit like that and
what's actually happening here is we are
not preventing the default behavior of
this button when we click it and the
default behavior of the button is to
push us right to the top of the page
because we have that hash as an anchor
as the href so what we want to do now is
inside of our callback we can pass an
event argument and we can prevent the
default behavior of this button when
it's clicked so all we need to do is say
e dot prevent default so use the prevent
default method and that's going to
stop the default behavior when we click
it and like I said the default behavior
is to jump to the top of the page so
this will still work because we've
explicitly defined that we want an
animation to scroll us to the top but
now when we click it notice that it's
very smooth we don't get that button
flicker or anything like that it just
Scrolls nicely to the top of the page so
that's the entire effect completed but
just a little word of warning if you are
pulling in jQuery just to do something
like this it's probably a good idea to
evaluate whether you need to pull in
jQuery for such simple effects if you
are already using jQuery in your page
for lots of things this is absolutely
fine because you've already pulled in
the library to be able to do that so
with that in mind we built a back to top
button animates when we click it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>