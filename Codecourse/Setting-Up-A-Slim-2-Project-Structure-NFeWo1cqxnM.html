<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setting Up A Slim 2 Project Structure | Coder Coacher - Coaching Coders</title><meta content="Setting Up A Slim 2 Project Structure - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setting Up A Slim 2 Project Structure</b></h2><h5 class="post__date">2015-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NFeWo1cqxnM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I'm gonna talk about how
to nicely structure a slim to
application when you're learning slim
and you're looking at how slim works
it's often really tempting to just put
everything in one file but all of your
roots in one file and not really give
your application a nice structure
something that you can easily maintain
as it grows so we're gonna be starting
at the very base where we've just
required in everything we need to get
going and by this I mean slim itself
obviously I'm including slim views if
you've not used slim views I'd highly
recommend it and I'm gonna be using
tweak with this so that's just my
templating so we haven't got much in
here but we're gonna go through the very
basic structure and and see how we can
keep everything really nice and tidy so
the first thing that I do when I start a
project is inside of the root directory
in this case the root directory for me
it's just called structure that's just
the name of the folder I'm keeping my
project in I'll go ahead and I'll create
an app directory so this is where all of
my application files will live and you
can see I've got this open in my browser
just here the next thing I'll do is I'll
create a public folder this is where the
user will land within the application so
let's just refresh the page and we'll
click into public this is where your
users route will be so this is where
they'll hit on your domain when they you
know accessing your server so inside of
public then we're going to have an index
file so this is going to be index dot
PHP this is where the application is
going to start we're not going to
include everything in here so we're not
going to create a new instance of slim
in here and all that stuff we're gonna
leave that up to the start file in here
what we're going to do is require in
that start file and then run the
application and that just keeps
everything again nice and tidy so let's
create this start file then where we're
going to actually
start our application out that's done
and within the app directory so I'm just
gonna call that start PHP and in here
then we are going to do things like star
sessions we're gonna go ahead and
require in vendor autoload so our
composer autoloader and we're going to
create a new slim application pretty
straightforward so inside of the index
file then we want to require this file
in so we want to require app start dot
PHP and then we want to say app run
simple as that so now we have our app up
and running obviously we get a 404 not
found because we don't have a root just
in place yet but over in start then
we're going to start introducing our
twig templating and then obviously
throughout this we'll start looking at
where we place our views where we place
our roots and things like that so inside
of here then we're gonna pass to view or
assigned to view a new slim views tweak
object I'm gonna go ahead and say view
equals app view so we can go ahead and
do whatever we need to our views and for
this I'm going to set a template
directory and that's going to be app
views so you've probably already guessed
inside of the app folder we're gonna
have a folder called views where we're
going to keep all of our views and just
finally because I'm using slim views I
want to set my parser extensions and
this is just slim views
I might tweak extension obviously if you
easy using smarty that's a little bit
different so we haven't got any roots
yet ordinarily we would just go ahead
and say something like app get and just
echo something out that would usually
just live in one file somewhere but this
is a little bit inefficient we want to
break this up so alongside views inside
of our app folder we're gonna have a
routes directory so let's say we have a
route that deals with just our home page
let's call this home dot PHP and let's
say we had something else so a new
folder will create something called
posts and in there let's say create a
file called new dot PHP so this is like
a new post or something like that so the
reason I have this public directory is
just so we can separate everything
within the public directory from our
application that's really important
inside of the public directory you'll
have things like your CSS folder your
JavaScript folder fonts files and things
like that everything everything will go
in here and obviously what we also want
to do is deal with our htaccess file
which is going to allow us to include
routes other than just forward slash
here so let's just create our HT access
file in here and we'll go ahead and
populate that with the standard HT
access which you can find on the slim
documentation so now this has allowed us
to include loss for the routes let's
just go ahead and tidy ourselves up here
and we'll start creating our first
routes here so because you're gonna have
a lot of different routes you're gonna
want to have one route file which
includes all of your routes so what I
tend to do is with within the app
directory I create a new file called
route PHP and this allows me to just
require in all of the routes I need
so in this case I'm going to require in
roots we have home dot PHP and I'm gonna
also include in roots posts new dot PHP
so that's my two roots I currently have
and then inside of star what we can do
is require in that routes file we just
created so let's create a home root then
so we're gonna say app get and we're
gonna say welcome to the home page and
we'll see as we expect this home page
here and then obviously inside of posts
new what I tend to do is define both the
get and the post or / or delete whatever
kind of methods you're including inside
of this one file just so they're all in
one file you can separate them if you
like that will probably with in terms of
your files get a little bit too messy so
here I'm gonna say posts new so render
view and then down here when we post
that data
we'll say something like data posted so
here then we can go to post it's new and
we see that render view text that we
just saw
so we've now broken up our route into
all of these different directories and
files so it keeps it nice and tidy you
can go them straight over here into here
and you're not gonna happy Cottard in
here with a lot of code so for the views
then I tend to mimic the same structure
as my routes so I'll have home DUP here
should be directly within here that
needs to be a file
I've home DUP here should be in there
like so and then I'll have posts and
I'll have a new file in here called new
and that's just update this to home
template so what we can do now then is
app render remember we already set
inside of start our template directory
which is app views so for the home root
all we need to do is say home dot PHP
and when we go back to this we see an
error because what we haven't done is
use that app within there and we can do
that in here too so we see our home
template and then obviously in here what
we can do then is say posts new dot PHP
because remember we have to find our
template directory
so if we say post new we see that so
that's all pretty much it
just to recap over this the user hits
the public directory they have this far
required in so we have start required in
then we run the app and then we have our
start file within our app directory
which then goes ahead and do does
everything you need to do here so we've
obviously pulled in composers autoloader
we've Creighton you slim up with twig
we've gone ahead and set some view
testings like our templates directory
and our parser extensions which allows
us to use functions like URL for then
we've required in our actual routes file
so just one file in here safe having
lots of different files in here and that
file requires in all of our different
routes which are then separated in
tonight's directories depending on what
we're doing so home posts new you can
have a show file in here or whatever and
then under our views directory we pretty
much mimic this same structure just to
keep things nice and symmetrical and
tidy so we have home template and we
have our new template so finally what
about any other files that we create in
our application so maybe middleware any
models that we might be using in our
application what I do is I under app
create a new folder with my sort of
vendor name so for example code course
and then inside of here what I can do is
I can create all the directories I need
as per my application of structure so if
I have models or middleware I can go
ahead and include these so for example
let's create a user model let's call
this user dot PHP I'm gonna namespace
this on the code course models and the
class is called user you could perhaps
use eloquent with slim works really
nicely and once we've created that we
are going to have trouble loading this
in unless we use something like PSR for
Auto loading so what I'm going to do is
inside of composers like JSON I'm gonna
go ahead and choose how I want to auto
load which is what I want to auto load
and that's gonna be here sell for auto
loading under the code course namespace
and we're also loading from app code
course so if we now just pull up a
terminal window I'm just within the root
directory here with my composer file is
I'm going to dump the auto loader
passing the optimized flag
going to generate the autoload file so
we're now working with psr-4 within here
so for example on my home page here on
my home route if I wanted to say user
equals new user I could go ahead and use
code course models use that up here so
it's nice and tidy and we shouldn't see
an error there so we can even just test
this out by maybe adding a property on
here and then over to here we could say
like that and there we go so that is a
brief overview of how I tend to layout
my slim to application just to keep
things nice and tidy we're set
separating the public directory from our
app directory entirely and then within
our app directory we're setting it at
separating out our routes and matching
them with views just to keep them in
sync we have our start file which we
concluded include anything really that
just basically bootstraps our
application and then finally we have a
PSR for also loaded directory basically
containing any of the other files that
we need as part of our application so
that is it a quick look at a nice
project structure with slim to</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>