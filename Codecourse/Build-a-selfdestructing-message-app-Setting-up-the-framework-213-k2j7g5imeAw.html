<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a self-destructing message app: Setting up the framework (2/13) | Coder Coacher - Coaching Coders</title><meta content="Build a self-destructing message app: Setting up the framework (2/13) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a self-destructing message app: Setting up the framework (2/13)</b></h2><h5 class="post__date">2015-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k2j7g5imeAw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the first step then is to set up our
base framework and as we've already
mentioned we're going to be using slim
so slim is a very light framework and
it's very easy to work with if you've
never worked with a framework before
don't let this put you off we're going
to be installing it setting up a very
basic project structure and we'll be
ready to start writing some code so if
you head over to the slim github page
we're not going to be using version 2
we're actually going to be using version
3 which at the time of recording is a
release candidate so if we just scroll
down here we can see that we can install
this using composer now if you're not
work with composure before you can grab
this from get composure to org you just
need to follow the download instructions
and once you have it downloaded you can
either run it globally like this or if
you've downloaded the PHA our file you
can run it using PHP so you just run PHP
composer dot P har and then any of the
commands that we're going to be working
with and you'll need that file within
the directory that you're working on as
well so if you don't already have a
terminal up and running make sure you
have one open and you're within the
directory that we're working in we just
have an empty directory here at the
moment so let's go ahead and install
slim then we know that we do this with
composer we just run this command here
so this is the vendor name this is the
package name and then this is the
version so we just paste this into here
and we wait for her to download now that
that's downloaded if we just head over
to the directory we're working in you
can see that we've got a composer file
this just lists our dependencies and we
have this vendor folder which contains
all of our dependencies we can load all
of these in with this auto load file so
a good project structure always
separates public assets from its private
assets and by that I mean we're going to
create a public folder in which our web
directory will point towards a user will
land there and that will contain things
like our index dot PHP file which will
start up our application and it will
also contain things like the CS
javascript images anything like that so
let's create this folder now we're not
going to do too much in here at the
moment but we know that we can point
ourselves towards this so over in our
browser if we just hit enter on here we
go over to public so this is the
directory we're going to be working with
so now we're going to create a folder
for our private assets which is app this
is going to contain our bootstrap file
it's going to contain our roots and
we're going to be creating a couple of
other folders along the way as well for
things like our views and also our
configuration as well and remember
because we're pointing to the public
directory no one can even browse these
files so now let's create a bootstrap
file this is going to be a PHP file
within this app directory and all this
is going to do is require in our
composure dependencies so let's require
these in all we do is go back into
vendor and we pull in autoload PHP and
in here we're going to set slim up and
then inside of an index file in public
we're going to run the app if this
doesn't make too much sense at the
moment it will become very clear soon so
over an hour bootstrap file then we want
to create a new app instance so we're
gonna assign slim app to this app
variable just here so now inside of our
public directory we're going to create
an index file to index dot PHP and we're
going to require in that bootstrap file
and then we're going to run our app this
might seem a little bit silly but what's
happening here is the user land inside
of public we require in everything in
bootstrap this basically boots up our
application adds things to the container
which we're going to be getting to a bit
later and then we run our app finally
nothing else will go in this file so
it's nice and tidy so now inside of
bootstrap we have our appt instance
let's create our first
just so we can test that this works and
then we're going to look at an issue
with any other route names whereby we
need an HT Access file which will route
route all requests to our index dot PHP
file so inside of app I'm going to
create a new file and this is root PHP
and what we can do now is require this
in here within our bootstrap file and
now we can create any route to be one
inside of here so let's create an
example one we're going to say app get
forward slash that will just be as the
user lands on public then have our
closure here we have a request response
and any arguments from within the URL
we'll look at these a bit later so I'm
just going to echo out home and now when
we head over to here we see home because
we're on the /url which is picked up by
this route now if we were to say /home
and we head over to /home you can see we
get not found that's because it's
looking for a home directory what we
want to do is create an HT Access file
which will route anything after this URL
into index dot PHP and that will then
get picked up when we run out app
because obviously in our roots far we're
defining roots in bootstrap we're
loading slim up and we're including our
roots now if you're using a web server
other than Apache this will be a little
bit different you'll need to set up your
engine X config but you can find out how
to do this on the slim documentation so
I'm going to create a new file in public
assuming we're running Apache which I
currently am we're going to create an HT
Access file so inside of here you're
going to want to place this code just
here so all this is really doing is
turning our rewrite engine on and it's
routing all requests through to index
top PHP so we'll route /home to index
dot PHP remember inside of index we're
requiring in bootstrap that will then
create in your app instant
we can define our roots in here which
we've done here and then we'll run the
app so now if we head over to here you
see that it works in exactly the same
way so this might seem a little bit
confusing and you might be thinking well
why are we separating out all these
files what is going on well this is
going to set us up nicely to be able to
just create our roots in here under any
URL that we need and everything will
just work we don't need to keep setting
up this application structure it's just
there for us now we can write any code
within here for each of the URLs and of
course at some point we will be posting
to a root in which case we can pick that
up just as easily so now we've done this
we're going to go a little bit further
and we're going to setup configuration
because what we're going to be doing
along the way is inside of our bootstrap
file we're going to be adding items to
slims container now that might be a new
concept it's essentially just adding
things in that we can then use within
routes like our database connection or
using views or flashing messages to be
displayed to the user so let's go over
to the next video where we're going to
look at setting up configuration</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>