<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Social Network with PHP: User profiles (14/37) | Coder Coacher - Coaching Coders</title><meta content="Social Network with PHP: User profiles (14/37) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Social Network with PHP: User profiles (14/37)</b></h2><h5 class="post__date">2015-08-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BS-a08TC25w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now we'll create the users profile
controller and the view which will set
us up so we can output a list of users
friends eventually we can output the
user statuses and anything else you want
to add to the users profile but for now
we'll just be creating the base of this
adding in the user block that we created
a couple of videos ago and we will also
hook up our navigation because at the
moment when I click on this here it
doesn't do anything and we'll also hook
up these when I click on these they
didn't do anything so this will be for
any user will be able to see their
profile now so we obviously need to
create a controller for this so we're
going to create a profile controller
just in here and we can again copy this
over from something like the search
controller we can just tidy up what we
don't need let's paste this in will
obviously need our user model in there
we don't need our database facade in
there either and we do need our request
eventually we're going to need this for
when we update our profile so let's
change the name of the controller to
profile controller let's get rid of this
method here which we don't need okay so
what we're gonna implement now is get
profile she's just going to show a
user's profile and we need to pass in a
username to this within our route and
we'll look at how this works in a moment
so let's just do a dying dump on
username so if we head over to our
routes file then let's go and add user
profile as a comment here and the route
here is going to be will see a get
request to this page and it's going to
be forward slash user and then we have
this username placeholder in there which
will obviously be the user's name we
have our array as usual and which I'm
just going to literally copy and paste
this just to save time you can do the
same we're going to change this to
profile controller and this will be get
profile and then obviously for here
we're just going to say
like profile dot index okay so now that
we've got this we can actually start to
hook up our use a block that we created
earlier
so under user partials user block we can
go and update this so the way that we
work with routes with placeholders in is
we define the route as normal so we say
route profile dot index and then as a
second argument we pass in the name of
that placeholder and then we give the
value so we know because a user exists
in here we can just say user username
this will just allow us to passing the
user name not the full name because
obviously that changes so we want
something that will be consistent so now
that we've done that not only if we
finished our user block but we can now
actually click through onto the users
profile so if I clicked our Gera you can
see that that will go through - okay so
I think we have out of course we updated
the href for the profile picture and we
didn't do that for the actual text so
let's paste that in there and it's
refresh so we can now click on the
profile picture that goes through to
dáil
we can click on the text as well and
that's the same for Billy so we've got
the actual route sorted now we just need
to do the View for the users profile so
under the profile controller then we
want to obviously return a view here so
we're going to say return view profile
dot index but before we do that let's
just check if the user exists we need to
obviously grab the user anyway so we may
as well get this over and done with now
we're gonna say user where username
equals that username we've passed in I'm
gonna grab the first result we're gonna
check here if that's null and if so
we're going to abort with the 404 status
code so what that means is when I hit
normal page like that obviously we get
this error because we don't have our
view but if I was uploaded rubbish in
here you can see that we get sorry the
page you are looking for cannot be found
and that threads are not found HTTP
exception will be implementing a custom
404 later on so now to sort out our
route out our view rather profile to
index it doesn't exist at the moment so
let's create that now so under views
then we want to create a new folder
called profile and then in here we'll
create a new file and we'll call this
index blade PHP and again as part of the
course downloads you can go ahead and
download the mark-up for this it looks
like this we won't paste that in just
yet what we will do is will steal the
template structure from the home page
again paste that in and then we can get
rid of this content you can go ahead and
paste in the mark-up from the course
download or of course you could write
this out and tidy up to you so this
section here is a five column width
column which contains the user
information and statuses and this will
be the friends and Friends requests we'd
actually have any information in this
view at the moment this is going to work
but we can't see anything we don't have
any user pass to this view so what we
need to do from here is we need to say
with user user and I'm gonna pull this
down because later on we're gonna have
be sending through quite a bit of data
to here so we now have that user and we
can go ahead and start to output what we
need now remember our user block deals
with this user variable so all we need
to do is inside of here just go ahead
and include that user block so it's user
dot partials dot user block and I'm just
gonna do a horizontal line there you can
obviously
whatever you want so now we have Billy's
profile information there with a line
underneath you can see that that's the
column for our statuses and then here
will be our friends from requesting like
that so now that we've done that we have
created a user profile we can search for
another user and go ahead and click on
their profile as well and we're in a
good position to go ahead and start to
add more to this page
lastly I'm just going to update this
link in the navigation here to my own
profile so if we go over to our
templates partials navigation and you
can see here we've got our user name
here with the href of hash we'll change
this to route profile dot index and
again remember we passed an array here
we'll choose the username and in this
case because it's the currently
authenticated user what we need to do is
say auth user username like that so we
can refresh now you can click on this
and I can see my own profile</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>