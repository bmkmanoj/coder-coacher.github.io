<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel To Do List App: Marking Tasks (Part 6/9) | Coder Coacher - Coaching Coders</title><meta content="Laravel To Do List App: Marking Tasks (Part 6/9) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel To Do List App: Marking Tasks (Part 6/9)</b></h2><h5 class="post__date">2014-04-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wtnGE7HW0io" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so last time we created this list here
now what we need to do is allow the user
to mark this task as done or undone
simply by clicking the checkbox now this
going to be difficult because we don't
have a submit button so how are we going
to say when the user clicks this button
submit the phone automatically well
we're going to use JavaScript here we're
not going to it be using jQuery because
there is no reason for us to go through
the hassle of installing that for such a
small task when we can just as easily
use breaking the JavaScript so we do
this with the on click event so when a
user clicks this checkbox and executes
what ever is inside these quotes so if
we say alert refresh click there we go
it gets in a lot so what we're going to
say is this the farm but submit so it's
going to submit the form encasing this
input field so let's refresh and check
this out
perfect now what we need to do is add
the route so let's go to our routes file
we're going to say route post array uses
um controller at post index and we're
also going to apply the cross-site
request forgery filter just like we did
here so we can close this now and we
need to create this method public
function post index
now what we're going to do here is we're
going to say item equals and forget item
actually ID
yep it's ID ID equals implicit ID and
we're just going to echo out this ID to
make sure everything is working so let's
refresh submit perfect forget the idea
of one we're going to hit this and we
get a blank page so what's going on here
well this is default behavior with my
browser it doesn't pass this to PHP
because it's already unchecked so we
also need to add a hidden input field go
type equals hidden and we're just going
to copy this and take this and just do
this you know so now if we try this
again here this ID one perfect ID to
awesome
so now we need to actually mark this as
done so we're going to say item equals
item find our fail ID so this is our
model here this item Trust it's the
model that we created last time we're
accessing to find a fail method which is
a which is a method provided by eloquent
and we're passing in the ID that we just
retrieved from the input so now what we
need to do is add some sort of way to
mark this as done so we're going to add
a method in here we're going to say
public function mark we're going to say
done equals this done false true so what
this is saying is if this done is done
and market is false if it isn't done
then we market is true so we've got that
stored in a variable now we need to
update it in the database so
this still equals done and the same and
we can actually shorten this down by
saying this here and we can delete this
and clean up so we're going to say item
done sorry what was it
item Mac and then we're going to read
that redirect to the home page so let's
test this out let's go back here back
perfect perfect now there is actually an
issue here for example if we have two
users here and the login logs in as
their user but there is an item for
another user then the user can easily
just inspect element and change the ID
of this here so we need to fix that we
need to add conditional here to say if
this item belongs to the current logged
in user then mark it so we're going to
say here if the item equals if item
owner ID equals user ID then mark it and
we need to define user ID now so user ID
equals off the user ID so let's just
make sure that we didn't break anything
perfect everything still works fine</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>