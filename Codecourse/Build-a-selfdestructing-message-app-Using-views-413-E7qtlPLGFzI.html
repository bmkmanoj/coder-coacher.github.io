<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a self-destructing message app: Using views (4/13) | Coder Coacher - Coaching Coders</title><meta content="Build a self-destructing message app: Using views (4/13) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a self-destructing message app: Using views (4/13)</b></h2><h5 class="post__date">2015-11-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E7qtlPLGFzI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">when it comes to writing the code are
inside of each of our route to do what
we want we don't really want to be
outputting HTML content from these
routes what we want to do is we want to
hand this off to our view which will
separate all of the logic we write from
those views and this is a common
practice and it keeps everything nice
and tidy and we can pass data through to
them to be shown so to do this we can
install a slim extension called slim
views and this will use twig so if we
open up our terminal and we require this
into our project it's called slim so
it's under the slim vendor namespace and
it's called twig view let's install this
and then we'll look at working with it
so now that's done you can see that as
well as pulling down that extension it's
also pulled down twig that's the
language that we're going to be working
with so we're going to do a similar
thing that we did without config and
we're going to add this to the container
so we can render views from within our
roots so to do this we just say
container view again we have our
function just here with our container in
there in its current state and here we
need to instantiate a twig loader and to
do this we just say new slim views twig
so the loader will allow us to load in a
directory that we want to pull out views
from so in the main directory let's
create a folder called resources and
then inside of here let's create a
folder called views and this is where
we're going to click keep all of our
views so all we do is inside of here
pass in resources views so now we're
going to add an extension on this will
allow us to do things like generate URLs
to routes from within our views and
other things as well so we're going to
save you add extension
and we say a new slim views twig
extension and within this we pass two
arguments I'm going to pull this down
the first is the slim Rooter this will
allow us to have access to generating
them URLs from our roots and if that
doesn't make sense at the moment it will
do much later on and now we want to pull
in our base URL remember our base URL is
stored in our config just here so we
know how to access our config within our
container we've already done it with
router and all we need to do is say C
config get URL that's it so we passed
through the router item in our container
and we've passed through the current URL
of our project finally from this we just
return that view loader we created up
there and now we have the ability to
render views so we need to actually test
this out so under views I'm going to
create a new file and I'm going to call
this home twig you can give it whatever
extension you like it doesn't really
matter so I'm going to say home view and
now rather than echo anything out from
within this route we're going to
actually render the view and to do this
we say this and then view remember under
our container it has the name view so we
do exactly the same thing as we did
without config and now we use the render
method to render out of view we pass in
our response which remember we pulled
from here and then we just give the name
of the view remember we pass the
resources views into here so it knows to
look within this folder so it's just
home quick simple as that and now if we
check this out on our browser we have a
slight error so that's head over to
bootstrap PHP online 17 and that's
because I added an extra comma just
they're fixing that up when we refresh
we see that we've now rendered a view
so within our roots all of our logic can
go here then at the end of that we just
render our view we can pass data through
to our view if we want within an array
but we'll look at doing that a little
bit later when we need to</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>