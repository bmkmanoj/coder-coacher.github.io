<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Object Oriented Programming (OOP): Build a Calculator (12/13) | Coder Coacher - Coaching Coders</title><meta content="PHP Object Oriented Programming (OOP): Build a Calculator (12/13) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Object Oriented Programming (OOP): Build a Calculator (12/13)</b></h2><h5 class="post__date">2014-06-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lNWArvc-uN0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">without look at creating a calculator as
an example application and you can see
here this is basically how things work
we have a main calculator class which we
instantiate and I've called this C what
we can then do is rather than using
methods like add or subtract divide
multiply we're actually creating what
watch instantiating what we want to do
so a new adder and this is a separate
class in itself as you can see here and
what we're then doing once we've set the
operation eg adding dividing subtracting
you can store these up here in variables
if you wanted what we're then doing is
we're using the calculate method passing
in an unlimited amount of numbers and
then we are using get result to output
the result to us so in this case we're
doing 20 and 30 but the new adder which
is 50 divided by 2 which is 25
subtracting 5 which is 20 in and
multiplying by 5 which gives us a
hundred and we look at the result in the
browser you can see that we get 100 so
we'll be creating this learning a few
other things that we've learnt so far so
let's go ahead and start writing this
out from scratch so the first thing that
we want to create is a calculator class
itself so I have an empty folder here
inside of the main directory called
classes let's create a new file in here
and we will call this calculator PHP so
let's define this class here and we need
to know what we're storing here in my
case I want to store two properties one
is result one is the current operation
because what we're going to be doing is
using that set operation method that we
saw on the index page to actually set
which operation we want so let's store
what we want to in properties here one
it's going to be result so this is going
to store the result as it goes on so
remember we're only instantiating the
calculator class once and we're sort of
appending if you like or keeping a track
record of the result in this result so
we can do as many operations as we want
so we also want to store the operation
and the operation is going to
set using the set operation method so
let's quickly create that now now this
one's a little bit more tricky because
we want to pass in an operation here and
we also want to obviously set this
operation now this operation is going to
be an object an instantiated object a
new adder a new subtractor and you
divider or new motor multiplier so we
can set this within here so this
operation equals operations are
assigning this passed into that
operation up here but we need to type
int this now we can't really type hint
it because remember on index when a
moment ago we saw that we can pass in a
new adder and you multiply etcetera so
we can't say multiplier because that
then would mean that we'd have to have
multiple classes to type in each one
what we're going to do is we're going to
code this to an interface and we're
going to call this operator interface
because each of the operators needs to
implement one method and that's run and
that gives in a number and then it gives
in the current results so it can do
something with it so let's not try and
make this too complicated but we want to
do this in the best way as possible in
the easiest way that we can extend this
so let's start to create perhaps an
adder simple enough so I'm going to call
this adder so the purpose of this class
is just to add numbers we're separating
the purpose of each class here so I'm
going to call this added up PHP
obviously the calculator you know does
have a purpose to add and subtract but
it doesn't it's not necessarily its sole
purpose so we pass this off to our adder
now inside of the adder we're going to
have a function called run and this is
the only other method called run this is
the only method that we're going to have
and this is going to take a number and
the current result so we can return the
result plus the number so let's say we
started at zero which makes sense when
we instead
she ate the calculator and we add a
number we're adding to zero where we're
adding on to the number zero so the
current result would be zero which is
this here so before we go any further
inside of the index page let's just
start to require in everything that we
need
so let's require in classes calculator
dot PHP and let's also require in adder
and what we'll do is we'll go ahead and
create a new class and we'll do maybe a
subtractor just so we can then start to
write out this interface so subtract a
dot PHP and this is going to be a class
called subtractor cool so we obviously
want our run method in here and that's
going to take in remember a number that
we're subtracting and a result so this
time what we're going to get is we'll
get to return result this time minus the
number so for example we use the adder
to add 10 maybe that will give us 0 add
10 which is 10 and then we'll maybe
subtract 5 10 minus 5 will be 5 so let's
start to put this all together as I said
we'll go ahead and require in the
subtractor and now we'll look at the
interface the interface is important as
I mentioned because what we want to do
here is type in this and we can type
into an interface so let's create a new
class in here and we will call this
operator interface so let's say
interface operator interface and this
needs to any class that uses this
interface needs to implement a run
method and that run method needs to have
a number and the result as we've seen in
two
of the adder and the subtractor so let's
now implement this operator interface
and we'll do the same for the subtractor
so that implements the operator
interface and we'll do this for the
multiplication and the division as well
so we've now got this let's just check
that everything's work and will
instantiate well the first thing to
probably do is require in the interface
of classes operator interface so let's
create or instantiate a new calculator
we don't need any brackets text we're
not passing anything into it and we will
say maybe set operation so let's say C
set operation biggest operation yeah and
we all create a new adder in there so
let's just check that this works first
of all ok looks like everything's
working so if we inside over here just
do a void UMP on the operator that's
passed in or the operation that's passed
in we should see an instance of adder
perfect so in this case then we now want
to type int to operate interface because
each of these extend or implement the
operating interface we can say operator
interface there so now what's going to
happen is that works but if we pass in
maybe add maybe if the develop that's
using this code gets confused and thinks
it's a string now what's going to happen
if they do something like this is when
we refresh it says must implement the
interface operator interface and then a
quick look through the documents or the
code you'll see oh okay I need to
implement I need to use this as a as an
adder or subtractor so let's say new
adder here so let's try and actually add
something to nothing which is in this
case it's going to be fairly straight
forward so what we want to do is we want
to say calculate I mean this can be
called anything you want calculate it's
probably not the best method name but
I'm going to say I want to calculate 10
and 50 so I want to add 10 and then I
want to add 50 so how are we going to
deal with this do we have to say
something like number one and so on we
don't need to do this we can use func
get args which is a function in PHP that
will basically return all the arguments
passed through or parameters or whatever
whatever you want to call them through
to a method or function so let's do a
quick print our on func get args just to
see what this looks like and let's do a
refresh here so you can see here that
we've now got an array and we've got a V
in there the first element 10 and the
second element 50 so we can loop through
these perform the operation so we need
here is a for each loop so I'm going to
say for each func get args as number you
might want to do some additional
checking here maybe if there is actually
anything with in front get args but you
know you can add them in as you please
and do whatever you want so what we're
going to do now is we're going to set
the result so I'm going to say this
result remember the result that we're
storing within the calculator object
that's making use of these that passed
in so how do we do this then well we
stored the operator inside of this here
so we can access this with here so let's
say this operator now we know operation
isn't it now we know that each operation
so an adder or subtractor whatever
implements the run method so all we need
to do now is pass in the number which is
within this loop and the current result
which we know it's this result up here
so let's quickly implement a
yet result method which will return this
result so all we need to do here is say
return this result and that's it so
let's check this out we refresh here
nothing happens so you can assume that
there's no errors back on the index page
net let's now do an echo see yet result
so let's check this out we should get 60
and we do so now we've done this the
beauty of this is that because we've
already created the subtraction
functionality separate we don't have to
modify the calculator class at all
because it's not dependent on the fact
that it needs to implement some kind of
subtraction method or something like
that so we can literally just copy and
paste this and say new subtractor so
from 60 will maybe take 30 so here we
should have 60 and then subtracting 30
we should just end up with 30 so there
we are so now if we want to implement a
new operation we can just create a new
class here so I'm going to call this
multiplier and remember this needs to
implement the operator interface and
let's just save this quickly before we
go any further so it's multi-layered PHP
and we'll create our public method run
and this needs to take in a number and
the result so in this case we know how
to multiply so all we need to do is
return the result multiplied by the
number that we pass in and that's it as
long as I've not done anything wrong
this should be fine we obviously haven't
included this if you're using auto
loading this will be a lot easier and
we'll look at this next so let's go
ahead and implement or include rather
our multiplier and then let's just work
we'll type this out so set operation
you multiplier so remember this is
dependency injection we're not
instantiating this within the calculator
itself
we're just injecting it in as a
dependency so we're now we can say see
calculate now let's maybe times this by
five there we go we get 150
so let's lastly look at creating our
divider implements the operator
interface you can see the benefit of
this really because all we're doing is
we're just creating new classes and
including them in we don't need to
adjust the calculator itself so we'll
call this divided up the HP will
implement the method that's written out
in operator interface and that's number
results and as you expect you do return
salt divided by the number we pass in
let's include this in here
and let's do something here so maybe we
could divide this by 2 oops there we go
so we get 75 perfect so we know that
that's correct and that's it really
we've created a few classes that all do
their own thing they're all responsible
for one thing we've created a calculator
to handle this passing in the operations
a dependency injection calculating this
using whatever arguments are passed
through so we could subtract 30 and then
we subtract 50 and that will give us an
entirely different result all together
and that's it really
and we've obviously implemented a yet
result method to grab the result from
the calculator and all of these
different dependencies are written to an
operator interface</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>