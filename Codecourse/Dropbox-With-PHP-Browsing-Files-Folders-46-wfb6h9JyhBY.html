<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dropbox With PHP: Browsing Files &amp; Folders (4/6) | Coder Coacher - Coaching Coders</title><meta content="Dropbox With PHP: Browsing Files &amp; Folders (4/6) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dropbox With PHP: Browsing Files &amp; Folders (4/6)</b></h2><h5 class="post__date">2014-11-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wfb6h9JyhBY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so you might be wondering well I can
upload and download files but how do I
actually browse the directory or a
directory to find out what's inside of
it and obviously that's really important
you need to know what files are actually
exist in the users Dropbox account if
you want to pull them down and this
might be useful for if you're creating
some kind of application that allows you
to manage the files within either the
app directory or a subdirectory in order
to actually list them and download them
upload them and keep them in sync so for
that we have a couple of methods that we
can use on the client again and this is
obviously really really straightforward
so what we're gonna do then is we're
gonna access another method if we head
over to client here and there's a couple
of methods we can use get metadata
passing in a path or we can use get
metadata with children passing in a path
so let's look at the actual metadata and
then we'll look at the metadata with
children so if we were to do a print our
that might make things look a little bit
better on client get metadata and then
we pass in say just this directory so
just the code posts directory here and
why don't we just put some pre
formatting tags around this or
preserving formatting tags around this
just so it looks a little bit nicer so
if i refresh now you will see a list of
the world this is the misc data for that
actual folder so this is the path it
tells us if it's a directory it gives us
the icon the route and things like that
and the bytes so at the moment this is
pretty you know straightforward because
it's just a folder it's not that
interesting but if we use get metadata
with children you can actually recurse
through what's returned from this and
find out which files are in there so
this again is pretty straightforward we
have an array with again the the
metadata for that for that actual path
then we have contents and that contains
another array with keys based on all of
the different files and folders that are
in there so in this case then we have an
array with a
revision history ID we have weather a
thumb exists the path of it which is
pretty straightforward if it's a
directory in this case it's not so we're
not painting anything it'll just be like
a false value or something we've got the
size of it
the mimetype etc etc etc so you know
it's just very straightforward so if for
example in our sublime text here we were
to just create a new folder maybe inside
the code course directory or even create
a new file so I'll just put tests here
this is obviously going to sync up to
Dropbox so the next time our application
makes a request for the metadata with
children on this path this will update
so if i refresh now that's now giving me
two entries the second key now you can
see that icon is a folder we know this
is a folder it says is dir one so we
know this is and it gives us information
about this as well so again if we were
to create a file within this test
directory as maybe call this test dot
txt and just say hello and then go ahead
and refresh again you'll notice that it
doesn't give us that information so what
we would need to do is send a request to
this folder if it is a directory and
grab the information from that as well I
don't think there's another way to grab
a directory with children and then them
subfolders children it's probably a case
of if you were to create work ring some
kind of file browser you would have to
go ahead and have the user click on this
directory and then again make another
request for the directory with children
but that's pretty straightforward
we now know how we can actually browse
the user's direct folder here and of
course we could change this to test if
we wanted to which would then give us
the following result so that gives us
the test path here again with the
information and then it shows that test
fault file inside so this is all pretty
straightforward we can access what we
need from
and there we go so that's how we browse
users files from their Dropbox shared
folder</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>