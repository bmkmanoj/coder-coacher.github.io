<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: jQuery: Check if a username is available without refreshing | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: jQuery: Check if a username is available without refreshing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: jQuery: Check if a username is available without refreshing</b></h2><h5 class="post__date">2010-07-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8wUu7pWBygY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we're going to be
creating a username checker and that
checks the username is available as it's
being typed into a form field so as you
can see here I've got a form field here
with user name and the field that we're
going to type a username into then what
we've got here is a status message which
is going to tell us to be the choose a
username if the username is still too
short so we're going to have some checks
on that to check if it's too short or
not and then it's going to tell us if
the username is available or unavailable
now what I've done is I've set up a
database just called my database I've
got a table called users which you would
usually find this sort of content inside
a user's table I've got the username
that's already registered which is PHP
academy' a password and some other
information now the only field that
we're going to be focusing on in this
tutorial is the username field because
we're going to automatically match up
what's typed in here to this value here
or the value in however many rows you
have in your database and we're going to
tell we're going to match this up and
tell the user if the user name is
available or not so the first thing I'm
going to do is come over here and type
in start typing a username now Stefan
wants to type a three-character username
that's PHP you can see it's told me that
it's too short now in this example the
minimum amount is three so you have to
have more than three characters in your
username for it to be accepted so if I
now type Alex we've been given a message
saying available this is because the
username Alex doesn't exist in how
database at the moment so now what I'm
going to do is I'm going to type in PHP
academy' you can see it's already told
me that it's available but as we get to
the point where we type PHP academy' it
tells us that the username is not
available
because it already exists and inside
this table okay so that's basically how
it works and we can start writing the
code now okay so just a quick note
before we start typing
anything out this tutorial is being
created for example purposes only so to
incorporate this into your own actual
form where you're typing out all data
obviously this is only taking into
account the username you'll obviously
have to make some changes now what we're
using is index dot PHP and check PHP
index dot PHP is going to be out
interface so the form the username field
everything like that and then check dot
PHP is going to be cooled by jQuery and
it's going to automatically check
returned the data and then display it
back in index dot PHP so the first thing
we want to do is set up our HTML tags
and then our head tags head is where
we're going to include the jQuery file
and also the body tags which are good
we're going to include all of our own
body information in so the form itself
so the first thing we want to do is
include jQuery now you can download
jQuery
from jQuery comm and all you need to do
is put it in the same put the file in
the same folder and that you're working
with and this will just allow us to call
the check PHP without refreshing the
page so type equals text slash
JavaScript and what we're going to do
here is we're going and say the source
is jQuery Jes that's just um how I've
saved my jQuery file and then we're
gonna end the script there so we don't
need anything in between here this is
just including this script so we can use
it in the rest of our page
now we also need to set up another
another script area for us to enter the
rest of our code that we're going to be
using our JavaScript code and we're
going to be using calling jQuery in this
because we've already included it we can
call it straight in here as well okay so
to set up our form I'm just basically
going to set of perform with the name of
form so we can keep it nice and simple
we can end our form there okay so inside
here we want to username label and then
we're going to break down and we're
going to say input type equals text so
we're entering text data let's just go
back to our browser and check that out
for now okay so we can see we've got
user name and then where we're going to
type our information in and obviously
nothing works at the moment and we're
going to give this an ID and I'm going
to call this user name underscore input
and then I'm going to give this a name
so I'm going to say user name the reason
I'm calling this user name input is just
a distinguish between this and the idea
of this and the name of this and then
what we're going to do is we're going to
enclose the in fact what we're going to
do is sorry come down here and we're
going to create a new div and this is
going to have the ID of feedback so we
can address this and then put some
feedback inside there now nothing needs
to go in here right now and because what
we're going to do is we're going to use
jQuery to put data into this feedback
and that data is going to come from
check dot PHP so as you can see at the
moment if I leave this in here at the
moment you can see that we actually get
that data out inside that div now the
first thing that I'm going to do is put
this further up so it's just underneath
the form field and to do that we're
going to use some CSS so we're going to
type style equals style type equals
text /c SS and end that style tag and
inside we're going to use hash and then
feed back this hash identifies this as a
div so we're formatting this div and all
I'm going to do is say line - height and
then naught
px so basically now when we refresh this
this has gone further up so it's just a
bit of styling just to make everything
look a bit nicer
so we've styled this div here we can
take out this text and now what I'm
going to do is I'm going to come up and
I'm going to start writing my jQuery now
what we first of all need to do is
create a sort of like a document and
area where we could rather we're going
to call when the document is ready we're
going to start a function so as soon as
the document is ready we're typing
dollar sign and then document in
brackets and then we're going to type
ready and then again in brackets we're
going to type the function and then to
brackets there and then what we're going
to do is we're going to open up a curly
bracket going to come down and end that
curly bracket so we've still got this
and this here is where they started and
then we're using a line Terminator which
is a semicolon to end that so basically
what we've got here let's align this up
so we can see it better is we're saying
when the document is ready start a
function and then we're going to
everything in here is going to be when
the document is actually ready so the
first thing we need to do is we need to
load check PHP up here into the document
or into the feedback div rather down
here and we're going to do this by
dollar sign and then in brackets we're
gonna have hash feedback and member hash
to identify it's a div I'm going to say
dot load and then in brackets we're
going to say check
HP and then we're going to say dot show
to make sure this is shown to the user
we don't need this because we haven't
originally hidden the div but we're just
using show and just I'm going to show
you to show you a function really so if
this is successful then the contents of
check PHP up here which is nothing at
the moment should be put directly into
the feedback div so we'll give that a go
or just enter some dummy data into here
cool tell me data and then we'll open up
our browser I'm going to refresh here
and you can see that it says dummy data
now nowhere on our index dot PHP do we
have dummy data so basically what we've
essentially done is included the
contents of check PHP into our div using
jQuery and the reason this is useful is
we can on the fly we can check for this
user name and put the results from check
dot PHP which is going to check our
username straight back into the feedback
div without refreshing so I'm going to
take away this and what we're going to
do now is we're using the key up method
and this is going to allow us to say
when a key is pressed or when a key
comes up so it's Preston then when it
comes up we're going to create a new
function and to do this we're going to
use dollar again and this time we're
saying hash user name underscore input
now remember what we did here is what we
wrote here so we've identified this as
user name underscore input and that is
the input field itself so this is the
user input field itself and what we can
do is we can then say what we want to do
and with this method so we're using key
up and then function again like we did
up here I'm going to open up a curly
bracket come down a closer and then pop
a line terminator on here
so basically when we have a key up event
inside here we're going to execute or
rather put forward some results so for
now what I'm going to do for testing
purposes is I'm going to say dollar hash
feedback dot append and then we're just
going to choose something to append with
so I'm going to choose the character I
then remember to terminate that with a
line terminator so let me just run
through this we've run the we've sorry
the document is ready we've loaded check
PHP into the feedback div then what
we're doing is we're checking the user
name input which is here which is this
set input type and when a key up happens
we're going to run a function which is
sort of like empty at the moment and
we're going to append the character a to
the feedback div so let's check this
nothing's displayed at the moment
because there's nothing inside I'll
check PHP file but like I said before
for testing purposes when we type
something whatever it may be and I'm
even pressing backspace and it's
appending an a so we can type absolutely
anything and you can see that as we do
this we're appending an a onto this and
or rather into this feedback div so
obviously this function is useless to us
we don't need this but what we are going
to do is we're going to run a post and
we're going to post data to check dot
PHP to allow us to check and then feed
us back the results and like you've seen
here we've appended A's in here instead
of appending A's we're going to feed
back the results from our check PHP file
so to do this we're going to say dollar
dot post and this is going to allow us
to post data to a specific file
contained within here and obviously this
is going to be checked off PHP because
we're using PHP code inside that to
check our username and I'm going to have
a comma remember inside the rounded
brackets
and then we're going to have an opening
closing curly brackets I'm going to put
put forward our post data so I'm going
to call this username now this is the
method this is the variable that we're
going to be passing to check dot PHP and
now after the colon we need the value of
this and if you we come back down again
remember we've called our form form so
we're going to use form value of
username so basically to do this we just
write form dot user name value and
that's going to wrap the value of the
text field called user name inside the
form called form so it's pretty simple
the next thing we want to do is under
the curly bracket we need another comma
and we're going to come down I'm going
to type function and this time inside
the rounded brackets we're going to type
the result and this is going to put
forward the result that comes from check
PHP okay so after this we need more more
curly brackets and then we're going to
end that there so this in itself is the
post the post function within jQuery and
what we're doing now is we need to echo
out the results from feedback or rather
put in to the day of the results from
feedback so hash feedback and then it's
dot HTML now what this does is it just
basically changes the whole structure of
the div and puts in the code we want so
this is going to be result remember up
here this is what has been returned and
I'm a-saying dot show so what can we do
this with this now how can we test this
now the best way to think about this is
we've put forward the username into
check dot PHP and we're going to grab
the username inside check PHP and later
perform some checks on it but first what
I want to do is I want to display what
the user has exactly typed as they're
typing it so because we're grabbing the
result from
checked our PHP and we're like putting
it out into the feedback div we can
simply open up some PHP tags and the way
this username variable here works is
exactly the same as you would use the
post inside PHP so all we need to do is
we need to say username equals dollar
underscore post username and this value
here this set variable name here
username is what matches this here so
regardless of what I've called this here
this is what we're looking at and this
is how we're paying it forward to this
file so I can simply do here is in front
of username I can echo it out so what's
going to happen is as we have a key up
we're going to run this function here
I'm going to post what we've typed into
the forum to check dot PHP using this
variable and then the result of what
comes out from check dot PHP ie we've
echoed out what the user has typed in is
going to be displayed in feedback using
the HTML and then we're obviously using
this HTML part here to put in the result
which is hit so it seems complicated but
if you have a look at it you'll
eventually understand how all this works
together so let's give this a try will
refresh and as I start typing you can
see the everything is being echoed out
rather that's my surname so everything
that we type in and everything that we
backspace it's just mimicking it at the
moment okay so you can see eventually
what we're going to do is we're going to
inside out check dot PHP file we're
going to check this against some values
in the database and as it's being typed
as each character is being typed it can
perform that check
so inside check dot PHP we'll get rid of
this because we don't to echo this out
to the user at the moment
the first thing that we want to do is
connect to our database now if we look
up here I've got my database called my
database and I've got a table called
users and then inside this table called
users I've got this value here with PHP
academy' as the username so as I as I'm
running through this you can incorporate
this into your own database that might
already exist so obviously your database
is going to look a lot different from
mine this is just the example data in
here and there's no login or register
function included in this this is just a
database I've created for what the
tutorial purposes so obviously like I
said before the username field is the
one the only one that we're going to be
dealing with so I've just put this in to
make it look a bit more real more
realistic so if we come back to our
check PHP we're going to connect to our
database so it's localhost root and I
have a password on this and then we're
going to select the database the
database is called my database which is
shown here and then what we need to do
is grab the user name so that's the next
thing we need to do and we need to
incorporate some security in this to
ensure we'll help prevent against my SQL
injection or SQL injection rather so
we're going to use my MySQL real escape
string and that's included inside some
curly brackets the posted username so
everything works and well let's just
test that
yeah nothing's happening which it
shouldn't do because we haven't echoed
anything out now the next thing we need
to do is we need to run the SQL query to
select our username from the database
and we need to check if it actually
exists so what we're doing now is we're
I'm going to create a variable check and
this is my SQL query and then the query
goes something like this is select
username from users so it's selecting
the username field from the table users
like I've got just here this is the
table and this is the field name and
then we're saying where username equals
username so this is a unique SQL query
so we're only selecting the record
whether user name equals user name which
is unique in itself anyway because we're
not letting users register the username
a user name if it already exists so
we've performed this query now what we
need to do is find out the amount of
rows that have been returned so I'm
going to say check numbers equals MySQL
num rows this is going to tell us how
many rows have been returned from this
query and is either in this case going
to be 1 or 0 because as we type it's
either going to match PHP academy' or
it's not going to match PHP academy' and
it may be the user name maybe Alex in
which case we're going to return a zip 0
rows because the username doesn't exist
or if we do type PHP academy' we're
going to return one row because we've
selected this row where the username
equals PHP academy' and this is check
so we're taking this here put it into
here and getting the number of rows now
what we can do is echo out the number of
rows just for testing purposes as we go
along
so let's refresh this page okay so it
says zero at the moment I'm going to
type Alex still zero so presumably
there's been no rows returned which
means this username is available now if
I go ahead and type PHP academy' this
changes to one so we've returned one row
so now you can see how easy it's going
to be for us to use an if statement to
check if the number of rows is one then
we can echo out to the user story this
user names not available if we have a
return value of zero we're going to say
this username is available because no
rows have been returned with that
username so let's get rid of echo now
before we do the checking of whether the
username is available or not what we
want to do is we want to check if the
username has been typed in um and if the
username is of a high enough character
amount for us to proceed so you can add
your own checks in here and as you like
but for now what I'm going to do is I'm
going to say if username equals equals
none so if it doesn't equal anything
really then we're going to echo out
choose a username
so we can test this right now let's
refresh says choose a username as soon
as I start typing something that
disappears so you can see that it's
automatically checking that without
refreshing it and then we're going to
say else if an STR Len which is a
function within PHP and it stands for
string length and we're going to check
the string length of username and we're
going to say if this is smaller than
three echo to short we can just say to
short without an explanation mark so we
can check this now we can run this code
press f5 to refresh al e o
so equal to three so if it's smaller
than or equal to three our minimum is
three let's refresh and try that again
so it's al e that's too short as soon as
I type X in nothing happens which means
that we're not returning the to shore
error message let's go back again okay
so now what we're going to do is I'm
going to say else I'm going to open up a
block just to make this simpler to be
easier to read and we're going to say if
check none rows equals zero now remember
zero is returned if the username is
available because we haven't returned
any rows where this condition is met
here so we're going to type echo
available
then else if check none rose equals
equals 1 then we can echo out not
available
ok so that's pretty much it for inside
here let's go back to our run page and
refresh ok so I'm going to type in what
it's giving us the message choose a
username first of all I'm going to start
typing say it's too short and then as we
press X it says available username Alex
is available so I can type anything in
and it will say available now if we
start type in PHP academy' so we see
this is available as it stands as soon
as we get to PHP academy' it says not
available ok so that's how you would
automatically check whether a username
is available without refreshing the page
using jQuery so if you enjoyed this
tutorial and you haven't already
subscribed to my channel please do it'd
be a great help and I hope this was a
great help to me so thank you very much
see you in another tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>