<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel Eloquent Relationships: One To Many (1/6) | Coder Coacher - Coaching Coders</title><meta content="Laravel Eloquent Relationships: One To Many (1/6) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel Eloquent Relationships: One To Many (1/6)</b></h2><h5 class="post__date">2014-08-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xIBST5vVq84" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now in this video we're going to be
looking at the belongs to relationship
so if I just go into my database I have
a I have a Lera file installation setup
here I haven't touched it at all all of
them is create a database so here my
database I have an articles table and a
user's table both very generic now here
if we have looked at our articles table
you'll see that it contains a user ID
column and this is referencing the ID of
the user who posted the article so in
this case the ad called hello world has
a user ID of 1 which means Terry hosted
the article because he's the guy is the
user her list with the ID of 1 now in
this case this hello article posted by
the user with an ID of 2 was posted by
Alex so the point of this video is to
demonstrate the belongs to relationship
so what I'm going to do is create an
article model so save it as article the
PHP we're going to say PHP class add
call extends eloquent very basic stuff
and that's all we need there so in our
in our default route what I'm going to
do is I'm just going to echo add call
all and if we open this up in a browser
we're going to see a JSON output of our
articles now instead of doing this I'm
going to create an article view so I'd
call that blade up PHP and what I'm
going to do here is I'm going to store
all articles in a variable and then what
I'm going to do is return view make add
calls with articles articles and I
actually just notice that I named this
wrong
so let's rename it to add calls so in
here what I'm going to do is I'm going
to keep things very basic I'm not going
to use any lame
else or anything like that so all I'm
going to do is I'm going to say for each
ad cause as article I'm going to say h1
ad call title I think that's what I
called it yep
and then I'm going to say in a paragraph
tag article body so back in a browser
hit refresh and there we go we get our
very ugly looking at a list so what I
want to do now is I want to next to the
header tag here or the article title I
want to say something like hosted by
like the dot and that's going to look
like that so how do we go about doing
this
well what we could do is add a method to
our article class called a it poster
username and here what we're going to do
is return a user where user ID so user
where ID equals this user ID and then
we're going to return first and then
we're going to return the user name so
what we can do now is say at call it
poster user name and this should work
perfectly or not are we we named that
field name okay that works fine except
it's not exactly very practical in a in
a large application you're going to have
tons of these little methods that you're
going to need to add all over the place
so instead what we're going to do is use
a eloquent relationship so we're going
to rename this to user or we could call
it post I'm going to keep it simple and
call it user for now and instead of
returning that silly query we're going
to return this belongs to and then we're
going to provide the name of the mod
for the users table which in this case
is user so hit refresh and we get we
didn't change the method in our view so
what we're going to do instead is return
at court user now the observant viewers
amongst you will have notice that we're
actually referencing a property here
where we defined a function in our model
laravel uses something called magic
methods to make things a bit easier for
ourselves which we'll go into a bit
later in the series
but for now to make things easier on
yourself you can reference the property
of the same name as the method so if we
go to our browser and hit refresh you're
going to see this this full JSON array
or object of our user and obviously we
don't want that instead what we want to
do is reference the name so we can do
that by simply adding on name hit
refresh and there you have it that is
how to use the belongs to relationship</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>