<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Security: Error Reporting | Coder Coacher - Coaching Coders</title><meta content="PHP Security: Error Reporting - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Security: Error Reporting</b></h2><h5 class="post__date">2015-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sLX5ZU40MBI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">displaying errors is a natural part of
development if something goes wrong when
you're working on a project you really
want to know what the error is you don't
just want to see a blank screen so
typically when you're developing you
have display errors in your PHP
configuration file turned on now that's
absolutely fine because locally
developing you need to see these errors
so you can debug without them it's
pretty much useless you're just like I
said to see a blank screen now the
problem arises is when you have this
enabled in production by production I
mean when your project is live and real
people are using it and you might not
think an error being displayed is much
of a problem but now we're going to see
why it is so I have open in my text
editor my PHP dot ini file so my PHP
configuration file and if you go ahead
and open yours and display fur or search
for display errors you can see here that
we have display errors on so the PHP
configuration file actually gives you
advice on this so for production
websites you're strongly encouraged to
turn this feature off and use error
logging instead so if you did need to
detect whether there are any errors you
can actually log errors to your server
where obviously no one can access them
and then you can go through and look
look at them if you need to so we're
gonna look now at the dangers of keeping
display errors on at the moment I'm
locally developing but really in
production this should never be the case
if you're installing PHP yourself or if
you have a host that's kind of sloppy
and they do have this on by default then
you are in real trouble so over to this
file here then which I haven't have open
in my browser we have a connection to
MySQL we're just using PDO and we're
connecting to 127.0.0.1 which is just my
local IP I'm entering my username here
my password which at the moment I just
root and root so obviously at the moment
this is all working you can refresh the
page everything's going right
but if for some reason we had a date a
host that didn't exist so cats for
example that's not a valid host name YP
then we see the following error that
let's just change this to something that
will load a bit quicker okay so we can
see here we get a warning PDO s
basically throwing an exception but we
have an uncaught exception we're not
catching this PDO exception and here we
get some information and there are two
things here that are kind of key to
attackers to use against you the first
one is the file path at the moment I'm
just serving these fast from I'm just
using MAMP locally to do this but we can
see the full file path here including
the file name which isn't as bad but we
have the back path all the way to the
root and that's read dangerous because
this will allow your attackers to try
and force an error and then kind of work
out the directory structure of your
project which isn't good the second one
and probably the most vital is the fact
that here we're actually displaying our
username and our password so now anyone
that knows your hostname say if you have
MySQL installed on the same server which
is likely they can then just log
directly into your database so this is
really important and obviously this is
just one example out of hundreds you
wouldn't normally miss type your host
but it is certainly possible however
with any error reporting regardless of
its if it's kind of or if you think it's
used useless to an attacker it probably
isn't so how do we actually overcome
this well let me just leave this to a
actually the first one is just to make
sure display errors is off if you do
make a change to your PHP configuration
file you'll need to restart your web
server where that's Apache or nginx so
you make sure you actually restart these
settings will then be taken into effect
you can keep log errors on that's
probably useful if you are wanting to
just go in and see if there have been
any errors but once you've turned
displayers
off you won't see any of these errors
now if for some reason display Evers is
on and you can't turn it off there's
another solution so let's just open up
our browser and make sure we're still
getting this error now you can use the
ini set' function and you can actually
set one of these options so let's head
over to here so we're gonna turn display
errors off now that's going to change
your runtime configuration so you won't
see that same error there we go we've
got rid of it that's a very simple way
of doing things you could also use error
reporting 0 that's going to go ahead and
turn our reporting off so if we just
uncommon I and I set we see here that we
get no errors as well so either way if
for some odd reason you can't change
your PHP configuration and displayers
is on by default then you can use either
of these or both in conjunction when
you're on a production environment so
you could just have these somewhere in
your project if it's a very basic
project you're not using a framework and
you could comment these out during local
developments you do see errors and you
can go ahead and apply them when you're
pushing your project to production so
that's an overview on error reporting
and how important it is it's always
turned off when anyone but yourself is
accessing your project</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>