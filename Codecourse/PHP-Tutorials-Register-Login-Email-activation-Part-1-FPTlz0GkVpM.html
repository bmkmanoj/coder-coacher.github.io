<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Register &amp; Login: Email activation (Part 1) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Register &amp; Login: Email activation (Part 1) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Register &amp; Login: Email activation (Part 1)</b></h2><h5 class="post__date">2009-03-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FPTlz0GkVpM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay now this is a bit of a tutorial off
the top of my head this is going to be
registering a user from my previous
login and register tutorial and this is
going to be hard to send out an email
validation script or any sorry a
validation email using a script and
using obviously a PHP script and
basically what this is going to do is
the account will remain until the user
responds to the email and clicks a link
contained within the email and this link
will redirect one of our pages and this
is going to activate the users account
now excuse me as a few things we need to
do to prepare for this tutorial
presuming that you followed my log in
register tutorial so far if you haven't
I suggest you do otherwise
following this shouldn't be too much of
a problem if your horrid already have a
script quite similar to this I was from
sure you well now when we have come
through all the phases of jacking so the
password length etc etc we come to
insert into the users value what we need
is we need to insert a random value in
which the user doesn't know that we sent
this code when they register okay so we
have all our standard information put in
there we've got our ID for name username
password and day and on here we're going
to append some of the information like
the random they generated number I'm
also going to have another field and
this is going to be whether the user has
activated their account or not so this
is going to be a boolean value saying
one or zero one for yes the user has
activated and zero for no the user
hasn't but we're not gonna put these in
yet and we firstly need to load up PHP
my admin so just do that now
Karrie that's loading up okay so we've
got phpMyAdmin up and our table I
believe it's PHP login sorry our
database is PHP login and our table is
users okay so at the moment what we've
got is our ID name username password and
date like I mentioned we're going to
need to edit some of this to take into
account the fact we're firstly having a
random digit that needs to be generated
unchecked and secondly whether the user
has registered or not so I'm gonna see
it say here add two fields at the end of
the table and after ID at the end of the
table and I'm just gonna click go okay
so now we can edit these fields here
we've got the field name and the type
and the first field I'm gonna have is
the let's call it random okay and the
other one is activated okay so the
random number is obviously gonna be an
INT
feel free to change this to a bar chart
and include characters in your random
sort of string in fact I'm just going to
pull this random for now I'm gonna keep
it as a varchar' and it's just say
length of 20 we'll say no more than that
and activated I'm gonna set as a ball
and this is either 1 or 0 now this is
really important by default you need it
as 0 I mean the user hasn't activated
their account the process like for
explain is a random number is generated
it's gonna be stored in here and inside
this field and activated is
automatically going to be set to 0
they're going to be sent an email with a
URL and that's going to be to a separate
page that we're gonna create soon and
this random number will be fed in there
by a get header and then what happen is
if the get header that they provide is
the same as this what we're gonna do is
we're gonna change this actor raises
here to a one meaning that they'll be
able to access the website and what we
also need to change is the login process
to check that this is set to one for the
users to try to log on so we can go down
and click Save and there we have our
user table users has been altered
successfully okay so if we go back to
browse you can see that my account at
the moment is not activated and to
change this I'm going to come in here
and open my login script here and I'm
just going to come and see my query and
that is select star from users where
username equals a username and here what
we're doing is we're getting our
username and password and we're checking
our username and password here but what
I want to do first is I want to come in
here and I want to say activated equals
dollar row like with the structure we've
kept and that's going to be activated
and now I'm going to do immediately here
I'm just gonna say if activated equals
equals now you can use equals equals
false this is perfectly acceptable or
you could say equals equals zero it's
entirely up to you I'm gonna be using
equals equals zero for now just to show
the actual sort of pure value of this
and then we're just going to say died
here and we're gonna say your account is
not yet active please check your email
okay and when we finish this tutorial it
will be up to you to say create a H ref
in here
just to say and send the email again or
something like that but after this
tutorial you should be pretty
comfortable with them the way this will
work so you should be able to do this
and then after this we could just say
exhale something like that so what I'm
gonna do is I'm gonna try and log in
with my data and let's see here we've
got user name equals Alex password plus
ABC I think this is md5 encrypted and so
what I'm gonna do is I'm just gonna
pause the video and change this to an
md5 encrypted value okay so I've changed
that to an encrypted value and if you
don't know why I've done this basically
because when we log in we're checking an
unencrypted password that were
encrypting against an encrypted password
in the database to see if they match
this is just for security but if you
follow the tutorials you'll understand
that means okay so to login now with my
username and password that is Alex as my
username and ABC as my password by
clicking login I say it says your
account is not yet active please check
your email if for example we have
activated I'm just gonna cheat here and
modify this value in the database to 1 I
can click go we can see here that if we
try and log in again
oh sorry what what I don't know why I
use this exit command here okay so
scrapping the exit command we're just
killing the page if this is true because
I didn't do a block round this if I was
to use the exit by the way I would need
to use my block that's obviously that's
probably obvious to some people I was
quite tired so Alex and ABC login and I
mean because the value in the database
has now been set to 1 what I'm gonna
just do is I'm going to change this back
to 0 and I am going to now in the second
part of this tutorial show you how to
after the use of registers send out an
email with a random activation code and
then match it back to the the user when
they try not betray their account so
I'll see you in a bit in the next
tutorial thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>