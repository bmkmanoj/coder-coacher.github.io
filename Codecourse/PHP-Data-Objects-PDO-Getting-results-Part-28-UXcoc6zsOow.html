<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Data Objects (PDO): Getting results (Part 2/8) | Coder Coacher - Coaching Coders</title><meta content="PHP Data Objects (PDO): Getting results (Part 2/8) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Data Objects (PDO): Getting results (Part 2/8)</b></h2><h5 class="post__date">2014-01-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UXcoc6zsOow" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so what we're going to do now is
look at performing a standard query on
our database and this will simply
involve passing an SQL string and
retrieving a result set looping through
iterating through that result set and
just outputting them to the page so
we're not going to deal with anything
special like SQL injection here that
would all have to be done manually here
but we'll speak about that in a moment
so basically inside of our database we
need data to work with so I've created
two example posts here you can see that
we've got two two people have posted
essentially name here and message here
with a posted date here as well so we've
got two records in total now that we can
work with and this is within the
guestbook table remember so we need to
make sure that we select everything from
the guestbook table if we want to
actually output that so this is going to
be just a standard query we're going to
query the database and loop through the
result set so the first thing that we
want to do is perhaps create a variable
called query and we need to use the
handler now that we created earlier
because this is our sort of constant
connection to our database that we need
to use so I'm going to say handler and
then use the query method here and a
string inside of here I want to go ahead
and place my SQL query so if I want to
select all fields from this particular
database with no limits I want to
basically just get all of the data I'm
going to say select star so meaning
select all of the fields from guestbook
and that's it so all that's going to do
is return me the two records that we've
got in here and it will return the ID
name message and post it so what happens
now well I want to go ahead and iterate
through this so once I've done my query
I need to go ahead and fetch the results
from this query so I'll put this in a
while loop and you might may have seen
this before if you've worked with MySQL
I extension or even the older MySQL
extension so I'm going to say while our
equals
so after row equals query fetch
and that's it so now what's going to
happen is for each result we're going to
loop through and iterate over each of
these results so in here I can go ahead
and echo something like our sorry our
message and then perhaps just append a
line break onto the end of it so well
that's going to do is it's going to loop
through each record and then output the
message field of each of them records so
in my browser now see you've got test
post and then another post so test post
another post so that's as simple as it
gets in terms of querying
sort of bugs down a query to the
database looping through fetching
results and then outputting the message
now there are plenty of other ways we
can actually retrieve data we don't have
to get it in this sort of array format
so if we for example just took this out
of the while loop and just did this you
can see that if we go ahead and do a
print are on our you'll see only one
result back because we need to iterate
iterate through to be able to actually
get this you can see that by default we
have an associative and the numerator a
returned in fact it might be easier if
we go ahead and just wrap this in
pretexts so you can see we've got an
associative and a numeric array and
being returned this is basically a
combination of an associative keys and
numeric keys so the ID at field 0 is 1
the name field 1 is Alex the message at
field 2 is tests basic set 4 etc so this
is how it's returned by default in the
next video we're going to look at
actually choosing how we want this data
to actually be returned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>