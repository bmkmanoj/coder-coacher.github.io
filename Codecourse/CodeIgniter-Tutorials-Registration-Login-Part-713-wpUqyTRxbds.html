<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CodeIgniter Tutorials: Registration &amp; Login (Part 7/13) | Coder Coacher - Coaching Coders</title><meta content="CodeIgniter Tutorials: Registration &amp; Login (Part 7/13) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CodeIgniter Tutorials: Registration &amp; Login (Part 7/13)</b></h2><h5 class="post__date">2012-08-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wpUqyTRxbds" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys my name is Steven and welcome to
video number seven in my new series
where I'm building a login registration
system using CodeIgniter now in this
video what I'm going to be talking about
is sessions last video I said it we were
going to log in right after the write in
the callback right after I validated
whether or not they can log in but after
thinking about it I think that's
actually a bad idea what would be a much
better idea is to do it right after we
check if the form validation runs which
means there's no errors rather than only
checking this one error so um this is
definitely the right way to do it now
that I think about it so before we
actually start using sessions we have to
auto load it and remember that problem
we had before was asking us for
encryption keys well we'll just try and
get that again will auto load the
session database a session library and
refresh our website and we have a
problem
so error was encountered in order to use
the session class you are required to
set an encryption key for your config
file now I'll actually try and navigate
back to the main login page and yes okay
now we're still getting this error the
reason for this is is we actually need
to go into our config file open it up
and then scroll pretty far down config
in the config folder of course all the
way down to where you'll see Krypton key
okay if you use the encryption class or
the session class you must set an
encryption key now this is because one
of secure one of coordinators really
good security features which is it
doesn't use just regular PHP sessions or
it does but it encrypts all the keys and
all the values and it's really really
secure that way but the only way that it
can do that is if we specify an
encryption key and it won't generate one
for us
so what we actually have to do is go
online or it can be any string I think
it can be up to 50 characters of just
like blob of Aloha but of course this
isn't very secure it's only letters it's
easily crackable you know this is
essentially the final front and probably
by far one of the hardest things to
to crack with PHP sessions so what we'll
do is I've actually found a website
called random keygen calm and it
actually has CodeIgniter encryption keys
right on here and you'll see if you
refresh the page
these are randomly generated so nobody
else will have will have the same
encryption key as you so what I'll do is
I'll just copy one of these and paste it
why ok cool and then just paste it in
the encryption key right here and that
will get rid of that error for us
now obviously mine you know what mine is
and I won't know what yours is and in
fact nobody will know what your what
yours is the fact the thing is actually
if you're planning on going so
unprofessional with this encryption key
you should keep that extremely private
and not let anyone else see it because
that way if they had the encryption key
then they could crack all the sessions
all the session data in your on your
website which is a huge security risk so
keep this safe
or come up with some really cool name or
encryption key that you've thought of
which I don't recommend I recommend that
you actually get a random keygen
randomly generated key but you know I'm
sure there's other websites that will do
this for you too ok so now we refresh
this our error is gone and we can now
use the session class so why don't we
actually set our session data after the
form validation has been run really good
and we'll go this session we go set
underscore user data and this receives
an array and instead of actually typing
an array into this field I'm actually
just going to pass in data and then
create a data array array it's not a
function what are you doing Stephen cool
I'll say email
this input host so essentially whatever
they typed in for their email so I'm
actually storing their email address in
the session data and then we can
actually go will say is logged in
that's a nice quick way to check if
they're logged in and then we'll set
this to 1 or 1 so it's not a string cool
now essentially what this is going to do
is it's going to set all of this user
data ending and make these session
variables or whatever so I'll just do it
and show you what it show you what I
mean one more thing I also want to do is
so I can show you that the session data
is in the members view I'm actually
going to open up some PHP tags and echo
out everything that's in the sessions
and there's a special function look that
we use in sessions called called all lot
I'm actually looking at the yes all user
data okay so we'll go we're going to
echo out some pre tags so we can so it
looks cool
I mean and by cool I mean I mean more
organized and like session data should
we're going to echo this session all
underscore user data and we're going to
try and log in again and see what
happens
so we'll go hello welcome calm Casarez
password there and we're getting an
array oh right and that's because we
want to print our it instead of echo it
refresh and there's our assess our
session data you can see the session ID
which is randomly generated every time
you create a new session you can see my
RP address holy crap that sucks
should I blow that out yeah I should
damn it okay cool
probably gonna blare that out so you
hopefully won't be able to see this haha
okay and then you can see like my
browser my current version you can also
see the email that I said now I actually
set this I said the hello the email key
in the session data to be hello welcome
comm and my is logged in is equal to 1
or true this is really cool cuz now that
I'm logged in you know like I can check
this stuff right so I can go to like see
my my members controller on my main
controller hold on it means members
function on my main controller and
before actually load the members view I
can check to see if they logged in so I
can go if this so this session user data
is logged in and obviously this will be
one for nothing
so if it's true then I'll load the
members view else how about I redirect
you to a restricted page so main slash
restricted cool so you can't even access
this page and then I'll just quickly
create a little function called
restricted and send you to it the
restricted view says now ah
definitely didn't spell it right wrist
Rick get that looks much better then
that'll load the restrictive you cool so
let's check it out
now I'm still here which is good
excellent
I will go back and now I'm actually oh
why don't we create also a log out you
know we'll just do in the next video
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>