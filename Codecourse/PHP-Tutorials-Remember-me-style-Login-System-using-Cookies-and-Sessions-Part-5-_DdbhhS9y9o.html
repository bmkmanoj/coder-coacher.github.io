<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 5) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 5) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 5)</b></h2><h5 class="post__date">2009-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_DdbhhS9y9o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right then so previously I left you with
this blanked user area page the command
has been successful and we have been
successfully logged in yet we don't know
whether the session has been set
correctly yet we don't know if we've
come across any errors or anything we've
just been redirected to our user area
page via this header but we don't know
if these have successfully worked and
that's where our functions dot PHP page
comes in again this time what we're
going to be doing is we're going to be
creating a function that lets us check
whether the user is logged in so I'm
going to call this a login check
function and if you're not familiar with
functions what they are what they do
what parameters are even though we're
not using parameters in this instance
then I do have a tutorial on this in my
basics playlist so go check that out but
we're going to start creating the
function we're going to use the word
function and I'm gonna call this logged
in and then two brackets at the end and
then a curly block for our code to go
inside now I've got no parameters inside
here nothing's being passed so this is
really more like a procedure than a
function okay so inside our function
what we're gonna be doing is we're gonna
create an if statement so yeah and then
we're going to be creating a block at
the end of that with the code to go in
there if this condition is true so this
this if statement is going to check is
set which means is some has has this
been set and we're checking if the
session remember using that in this in
the last part has been set so if the
session username has been set or is set
so we're going to use the same function
again dollar underscore cookie so it's
identical to session even though when
we're setting our session and cookie
we're using completely different methods
to do it we're using exactly the same
array for this
and that is going to be username now
these dollars dollar sign underscore
session and dollar sign underscore
cookie are actually arrays
username is just one of the elements of
the array so if you can think about it
like that then you're pretty much have
the hang of why we're using square
brackets and why we're calling them
exactly the same but setting them
differently okay so we've got is set the
session is set the cookie so are they
both set sorry are either of them set
because remember we're either setting a
session or we're either setting a cookie
so this is basically going to tell us
you know if if I if either of them have
been set if we wanted to check if both
of them are set which we don't actually
have in this instance then we're going
to use an and operator otherwise we're
using the or operator okay so if this is
true we're going to use a variable
called logged in and that is going to
equal true
now this alone is going to be pretty
hard to work with unless we return a
value because we're going to use the
logged in function inside an if
statement so we need some value to be
returned and we do this by typing return
and then the value we want to return so
again this is just a logged in boolean
I've just made up it's a variable but
with a boolean type and we've got true
here so we're returning the value of
true if this equals true otherwise we're
not returning a value therefore that
would be automatically false okay
so and this is pretty much done now this
function and what we're going to do is
we're going to come back to our user
area dot PHP page and in fact what would
just do is just quickly run this
function stop PHP page just to check
that we don't how many errors yet
everything there's looking fine we've
got no errors through there I'm going to
go to the login page
okay so here's our login now what we're
going to be doing with this page as well
is setting it so if the user has already
logged in we're going to redirect them
to the user area in fact yeah we're
going to do that first because that's
going to allow us to know if this cookie
or session has been set in so we've
included our functions dot PHP ensure
this is at the top all the time
underneath here I'm going to create an
if statement now this is surprisingly
simple this is the simplicity of
functions once you've created a function
it's so easy to use our functions called
logged in remember so what I'm going to
do is I'm going to say if logged in
header location user area dot PHP now
the reason for this is if we have if the
user has logged in they're no longer the
need to use the login dot PHP page
unless they've logged out in which case
our session or our cookie won't be
present so we're basically saying if
logged in and this basically reads
to a human if logged in is true so if
the user is logged in it's the same as
writing if logged in equals equal to
true remember we're returning the value
of true if we are logged in so you can
write it like this if you want but I
just always prefer to write if logged in
so much quicker and in my opinion it
looks neater so if we are logged in
we're going to go to user area dot PHP
remember like I said using some sort of
security knowledge we're going to type
exit the exit function after that to
kill the script okay so let's try and
come back here and we can refresh this
so I'm going to press ENTER and there we
are we've been redirected to our user
area page now if we were logged out ie
if a cookie or a session hadn't been set
we would have access to the login dot
PHP page like if I press back in my
browser now I basically can't go back to
the login dot PHP page every time I do
go back it
if a cookie or a session have been set
and we know now that one has been set
because using the function I've already
declared in function stop PHP we're
being redirected back because we're
using that inside an if statement so it
all ties in together you've just got to
know where to include things and where
to place your if statements and it's
just strategic positioning really and
secure positioning as well so your users
can't find ways around it okay so now we
can work on the user area and this is
going to be ridiculously simple all I'm
basically going to do is create some PHP
tags for now and I'm going to say you're
logged in underneath this I'm gonna do a
paragraph break and I'm gonna create I
I'm going to create a hyperlink in HTML
to logout dot PHP which we're going to
code up a bit later that's going to log
the user out and inside our PHP we're
going to include our functions PHP
because we're going to need a few parts
from that and we're basically going to
say if exclamation mark which means if
not logged in so if this has been
returned as false you can write this as
if logged in equals equals false
it doesn't matter it's like I mentioned
before you can write it either way I
just prefer this it looks neater and in
my opinion and it's quicker to code and
we're gonna say head
location login.php
and again we're gonna write our exit
command underneath that so basically all
this is doing is if the user tries to
attack or attempts to access the user
area dot PHP when they're not logged in
we're going to redirect them back to the
login page really really really simple
the reason it's simple is because we
already have our function here which
could we've created our functions dot
PHP just remember to include this page
in order to have access to this function
name okay so now we can test this out
and come to our user area dot PHP and
that's letting us in because we are
logged in in the next part of the
tutorial what we can do is we can code
our logout page and then we're going to
try and access the user area dot PHP
when we are logged out so in the next
part we are going to code that up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>