<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Authentication: User Profile (24/30) | Coder Coacher - Coaching Coders</title><meta content="PHP Authentication: User Profile (24/30) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Authentication: User Profile (24/30)</b></h2><h5 class="post__date">2015-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XSHYGLdySW0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now we want the users to be able to view
their own profile by doing this we can
output any information about them on
that page and then in the next part
we're gonna look at listing all of the
users that are currently registered and
then you can click on their names and
find out about them as well so the first
thing we want to do then is just add
this to the navigation so let's kind of
use templates partials and navigation if
the user is signed in we want to show
this link if they're not we obviously
can't view their profile so let's create
a link here just put hash for now and
we'll say your profile so now if the
user is authenticated they see this link
that they can click through to view
their profile and the way that we want
this to work
is we want this to link to something
like you forward slash and then the name
of the user obviously this isn't found
at the moment but that's what we're
going to be doing so let's create the
route for this
so under routes we'll create a new
folder called user and then under this
will create a new file called profile
PHP so for this we're gonna have again
obviously and we're going to say you
forward slash and then use the name now
this can be anything at all it really
doesn't matter what you have in this URL
it's entirely preference so we're going
to use app because we're sending a value
here through the URL we want to pull
that user name in there and then we can
just echo that username out for now
so let's add this to our routes file so
let's pull this down and say routes user
profile and let's never go over to this
again so remember using the username
tabi so we're gonna say you tabby and we
see tabby output on here so we can use
this value within our route to look up
that particular user if they've not if
they're not found so if we can't find a
user we can show a 404 page otherwise we
can render a review and show their
profile so we're going to say user
equals app user
where the username equals that username
we just sent through and we're going to
grab the first record now this will be
null if that can't be found so we can
say if not user app not found and we
will by the way been looking at custom
404 pages a bit later on so we'll be
finding out how we can do that so let's
check out this again we see nothing but
if we have a user that doesn't exist so
Alex for example we see a 404 so now
what we want to do is we want to render
a view and pass that user object into
that view so we can output anything we
want about the user and use all of the
methods on our user model so we just say
app render user profile PHP and to that
view which we haven't created yet by the
way or pass the user model okay so let's
create the view then and then we can see
what else we can do here so under views
we want to go and create a new folder
called user and then we want to create a
new view and we'll call this profile dot
PHP so user profile so tabby is user
that can be found so we're showing the
view and in it's in this view as usual
we just want to take the basic template
structure and paste it in there okay so
in the title what we're gonna do is
actually going to show the user's name
rather than show like right profile or
something like that we actually want to
output the user's full name or use the
name so we can do this we can just say
user get full name or user name easy and
let's go ahead and refresh you can see
their website tabby and at the moment
obviously we're just showing home here
don't confuse that with the actual
homepage this will be the profile
details displayed
here so what do we want to output about
the user
well let's create an h2 and let's put
the output the users actual user name
and then down here we can output their
avatar so we can use the same method
that we use on our navigation yet avatar
URL so what we need to do here is say
get avatar URL and we can pass in a size
here of 30 you can obviously change this
and in here what would do is we'll say
profile picture for user dot yep
full name or user name so now we have
the following tabby in header and then
we have the user's profile down there
cool so now we're going to do some other
things we're just going to output
everything that we currently have about
the user I'm just going to do this in a
in a DL then we're gonna have some DTS
and Deedee's it's a little bit messy but
you'll want to style this how you want
and the first thing we're going to check
for is if the user has a full name so
remember we have that yet full name
we're just going to code course user
models we have that yet full name method
which if we don't have a full name we
just output null so we're going to say
if user dot gets full name and if we are
going to have a DT element and say full
name then we have a DD here user dot get
full name so at the moment that's not
gonna output anything the user doesn't
have a full name but when we get to
updating the users profile this will
have a full name in so we'll just enter
their name in there and we show the full
name so next thing then is just going to
be
the users email address so we're gonna
say user dot email and that's it so we
now have a user profile showing the full
name if it's available showing just the
user name up here the users profile here
and their email and obviously when you
get to the end of this series and you
want to expand on this system you can
add as much information here as you want
about about your user and just lastly
what we want to do is update the link in
the navigation to go through to this
page so for that particular users
profile so what we want to do then is
open up our templates partials
navigation and we can go ahead and
update this here now you'll probably
have noticed we didn't give this route a
name so we need to do that now we'll
call this user dot profile since we're
going to have other user related pages
as well like listing all of the users
and we'll update our user profile root
to have a name of user dot profile so
the question is really how do we from
this pass in the user because at the
moment all that's going to happen we
just go back to the home page so when we
click your profile we just get you and
then we just see that user name value
there that we expect to be filled with a
value so the way that we do this then is
we pass an object in to here with the
name of the place holder and then the
value of that particular placeholder so
in this case it's orth because we know
author holds the user that's currently
authenticated and then it's their user
name and when we go over here and click
your profile we go through to our
profile and there we go done</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>