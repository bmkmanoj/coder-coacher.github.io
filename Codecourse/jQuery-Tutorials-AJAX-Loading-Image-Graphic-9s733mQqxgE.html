<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorials: AJAX Loading Image Graphic | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorials: AJAX Loading Image Graphic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorials: AJAX Loading Image Graphic</b></h2><h5 class="post__date">2012-09-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9s733mQqxgE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Alex from PHP academy' and
welcome to this tutorial on creating a
Ajax loading graphic when Ajax and
content into a container now I'm going
to show you how this works the M result
first basically what we've got on the
page here is a link that's going to load
some Ajax content or Ajax some content
into this container so you can see hit
load file to load a file into this
container now this is going to be a PHP
file but don't worry if you're not from
a PHP background or if you're not a jack
Singh a PHP file in this will work for
anything that takes a significant amount
of time to load I'm just going to be
using PHP because we can use the sleep
function to pause this script as an
example so we'll take a look at that a
bit later
so load file when we hit it what's going
to happen is we get this faded effect
and this loading graphic here and then
the content will change so this content
has been loaded by an ajax request so
this is how everything is going to work
in this tutorial what we're going to be
doing is obviously writing the
JavaScript that's going to handle this
ajax request and we're also going to be
creating a class a loader class that's
going to actually display this effect on
the screen essentially we're going to
have the background from that container
as that little spinner graphic so that's
the example let's go ahead and start to
write some code okay so we're over to
our text editor you can see I've already
got some markup here don't worry about
that I'll go through everything and
explain how everything is going to
interact but the first thing probably to
do is take a look at our directory
structure and the kind of files that
we're going to be using so indexed up
here index.html is going to be the
father we're viewing in our browser and
we've got four folders here now the
folders bear some significance depending
on what you're doing but first of all
we've got this JavaScript folder with
the primary JavaScript file in we've
also got images which has this spinner
graphic here which we're going to be
using obviously we've got a CSS file
called stars dot CSS within our CSS
directory and within an AJAX directory
we've got the father where Ajax in two
which is delay dot PHP and we'll take a
look at that and how that is going to
work to sort of create some kind of
significance to this example in a moment
okay so the markup on index dot HTML
we've got just a
with load file as the text which we've
already seen and we've got a class
called load so we're going to be a
pending and event handler to this to
actually Ajax the content in now you may
already know how to Ajax content in but
we're going to start from scratch just
so we can see a method of doing this and
this is going to be an isolated example
so it will just load content into this
one container if you've got multiple
places that your Ajax enter you might
need to obviously change this around and
obviously down here we've got our
container which just contains the
default text at the moment and when we
load in we're going to replace the
content with whatever coming out from
our PHP file importantly we've got our
stylesheet links at the top here and
then we've got our scripts at the bottom
so this one is just loading jQuery in
because we're using the jQuery library
and the ajax method that's available and
then we have this primary JS file which
we've just looked at in our directory
structure so let's go ahead and start to
look at how we would write this code now
the first thing to do probably is create
this loader class that's going to allow
us to create that nice effect over the
container so you'll see here that at the
moment this isn't working because
there's no JavaScript content I've
blanked all the the documents so let's
go ahead and create this container now
what's going to happen is when we click
load file before we send the ajax
request we're going to be inserting an
element into here using jquery so this
element is going to have a class of
loader now we don't need to put any
content within here because we're going
to handle that in these styles so if we
go over to stars dot CSS you can see
we've got our container class here we've
got the width and the height set the
border some padding and a margin at the
top and we've also got position:relative
this is because we're going to be
placing an absolutely positioned element
within this container
so this basically here is these styles
so our loader class here is going to be
the first of all the opacity change
we're going to set an RGB a background
to this I'm also going to then have the
background as this spinner so don't
worry about this we're going to be
previewing this as we go along
you see that in my markup I've already
created this so we can now start to
preview stuff and obviously we've got
this spinner graphic here so we can
incorporate that as well so for the
loader we need a position of absolute
and also going to set this to the top
and the left's are the very top and the
very left and we're going to create
width of a hundred percent and a height
of a hundred percent basically so it
fills the entire container so at the
moment nothing shows up because we
haven't set any backgrounds or anything
like that what we're going to do is I'm
going to say background and we're first
of all going to create this faded effect
so I'm going to use the RGB a in CSS and
we're going to set this to white and
we'll have 0.8 here so that's the
opacity so now when i refresh you see
that this has faded the container if I
inspect this is now filled with this
loaded element so this is the main
container and this is the lower element
filling up a hundred percent of the
height a hundred percent of the width
now in addition to this we need the
spinner
so what we can actually do is because
I've used the background shorthand
property I can go in and add a URL here
or a background image so in this case it
will be - because we're going back a
directory into our images directory so
images and this will be spinner dot gif
now let's go ahead and preview this wow
that looks nice but this isn't how we
want it to work so what we need to do is
we need to position this and also set a
no-repeat on so now repeat this will
just mean that only one instance of it
will be shown like so but now we need it
in the very very center so what we're
going to do is we're just going to add
50% and this is the same as doing 50%
50% so 50% we'll just place it in the
very center of the container so just
like that by creating a class for that
element that we're going to later inject
when we do our Ajax request that's
basically filled up that entire space
hidden well set the opacity essentially
for the back back in content or the
background content and then we've added
this spinner so now what we can do is
now that we're satisfied with how that's
looking we can go ahead and get rid of
this
because we're not going to include that
initially okay so now we're going to go
ahead and over to our primary j/s file
and we are going to actually write the
JavaScript for this so let's go over to
our browser and just refresh so we can
get rid of that brilliant so now what
I'm going to do is I'm going to create a
sort of object rez now this might be an
object globally in your JavaScript files
but otherwise you know I'm just using
this as an example and like I said it's
an isolated example so I'm going to
create an object called res and within
here I'm going to create the element
that's going to represent this load of
graphic so what I need to do is I'm
going to say loader and I'm going to
create a JavaScript object object and in
here we're going to set a class of
loader so what this is done is its
created a div element so with a starting
div tag and an ending div tag and we
have a class of loader applied to this
and what we're also going to do is we're
going to cache the container selector so
you know good practice make sure we've
got a comma just after here so container
is going to select our container so this
will be selecting this entire container
here so let's go ahead and just close
this we don't need this and we'll speak
about this PHP file in just a moment so
down here we want to set an event
handler for this load and this load
button essentially all this link so
let's go ahead and do that I'm going to
say a dot load and we're going to use
the on method and we're going to say on
click and perform this callback so what
this is going to do is for now let's
just say alert one so we can see how
that's handled just for anyone that's
unsure so load file and we get an event
handler return this this block of code
perfect so we're obviously not going to
be alerting one but we're going to be
using the ajax method available from the
jquery library so we're going to Ajax
and we're going to specify the files
that we're using
or the file that we're using so in this
case it's going to be Ajax forward slash
delay PHP now that's the father we've
got here so I'll briefly explain what
this is now I've put asleep on this of
three seconds simply so we can delay the
execution of this PHP fart and we can
actually see the Ajax loader in progress
or we can see it loading for three
seconds and then we're echoing out this
content so this is the content that's
going to be placed into the container
now like I said you might not be working
with a PHP file you might be working
with a large XML file or something like
that and then you might be processing
that within jQuery but this is just an
example because it's really really easy
to do so we know what delayed up PHP
looks like so we'll go ahead and get rid
of that the next thing we're going to do
is we're going to define functions based
on what's going to happen within this
Ajax request so you might have seen
stuff like success so when this has been
successfully Ajax - we will perform
actions here but we're going to include
one called before send so very
straightforwardly named before send is
going to do something before this is
sent so for example alert one and then
here we can say alert - so when I click
this we're going to perform this Ajax to
this file before this is sent we're
going to alert one and then on success
we're going to alert - so you'll see the
delay we'll get this alert up when we
click OK we'll get a three-second delay
and then we'll alert - so let's go ahead
and check this out so refresh one we
wait a few seconds and then we get two
up so that's essentially the delay that
we've created in our PHP file the
three-second delay so let's go ahead and
get rid of these alerts cool so before
we send this we want to incorporate the
loader so we want the loader to initiate
exactly as we click that button and
before the Ajax request is sent so we're
going to access our res object and we're
going to say res container which is this
container here dot append and we want to
append res dot loader
so we're pending the
give that we've created so now what's
going to happen is when we refresh and
click load file we've appended this div
to here and it will load load load load
load and you know nothing's really
happening at the moment because on
success we're not doing anything so on
success what we want to do is go ahead
and remove this loader so res dot
container dot find res da-da-da remove
so let me go ahead and explain this a
bit again we're accessing this cached
selector up here with finding the loader
that we created in there or we appended
to that earlier and then we're removing
that element so now what we're going to
see instead of the one alert and then
the two alert we're going to click it is
going to load for about three seconds
and then it will remove it okay so
that's essentially the meat of
everything that we're doing the only
thing we can do now is sort of
demonstrate the fact that the data might
be pulled in so within success we have
this data that we can access so data in
here as a parameter will pull in the
data from this file so in this case what
we can do is we can just say res
container dot HTML so use the HTML
method and then pop basically the data
that comes back from this file into the
container and then it removes the loader
so let's go ahead and check this out
when we go ahead and click load file
wait we wait about three seconds and
there we go the container oh the overlay
is removed and then the data has been
pulled into there so obviously in your
application you might be doing something
a lot different to this you might be
returning the HTML or using the HTML
method to put the data in there that's
absolutely fine but you might be doing a
lot of other processing in here so you
could have some processing going on here
if you wanted anything that you're doing
but the overall idea of this is that
we've now quickly and easily created a
loading effect as we Ajax to a file so
that's basically how we create a nice
overlay when we're Ajax into larger
files that might take a while to load</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>