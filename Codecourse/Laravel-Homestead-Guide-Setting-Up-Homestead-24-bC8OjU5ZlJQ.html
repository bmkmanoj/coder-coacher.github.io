<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel Homestead Guide: Setting Up Homestead (2/4) | Coder Coacher - Coaching Coders</title><meta content="Laravel Homestead Guide: Setting Up Homestead (2/4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel Homestead Guide: Setting Up Homestead (2/4)</b></h2><h5 class="post__date">2015-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bC8OjU5ZlJQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so now we're ready to get started
working with laravel homestead and get a
plane laravel installation up and
running but what exactly is homestead
homestead is just a vagrant box which
essentially means a predefined system
with everything you need already
installed on it basically just lets you
get started with development so the
homestead box contains a bun to PHP hip
hop virtual machine nginx MySQL Postgres
node which comes with Bower grunt and
gulp Redis memcached and Beanstalk so
this is pretty much everything you'll
need just to work with laravel and the
other applications as well you don't
have to use homestead for laravel so
let's get started and install laravel
homestead now you'll need to bring up
your terminal and you want to make sure
that vagrant is properly installed by
running vagrant and then giving the V
option and you'll see the version number
just there now we're going to install
the homestead box now I already have the
official documentation for laravel
homestead open so I can just follow this
along so if we just scroll down you can
see all of the bundled software just
there and if we go to the first step so
we need to install the homestead vagrant
box so this will add the laravel
homestead box to vagrant so I'm going to
go ahead and paste this command in and
this will obviously take a little while
depending on your internet connection
and but go ahead and install it bear
with it pause the video and once it's
done you can return back but before this
we're given a choice if we want to use
VirtualBox or VMware I prefer VirtualBox
and in this case we're just using
VirtualBox I'm going to enter one so
that's going to go and download that
we'll give that a minute to download or
quite while to download depending on
internet connection and we can carry on
from there
so once homestead has been added to your
vagrant installation you'll need to
create a directory that will serve as
your home
home and this is where you'll come to
manage your local websites change
settings more importantly start up your
virtual machine so you can actually
access your web server and any of the
other services you need to so I've
created a directory within my home
directory called web that said the
directory I'm currently on just here you
can call this anything you like but I
tend to call it something like web or WW
this is my personal one that I use and
web is for the purpose of this video so
I'm going to open up a new tab here
you can see I'm already within this web
directory just here and what we now need
to do is clone down the homestead
repository and this contains all of our
starter files and this allow us to
manage our websites the different
domains that we want to create for our
local projects and if this doesn't make
too much sense so you think this
probably is unnecessary we'll see how
this works in just a moment so this is
contained within the laravel
documentation under cloning the
homestead repository so I'm just going
to copy this and paste it into my
terminal just here so this will have
created a folder called homestead and
you can see that just here and let's go
over to this directory and see what we
have inside so you can see here that
we've got things like composure
composure JSON file we've got a vagrant
file here and a few other things which
aren't massively important you can go
ahead and dig into them if you want to
find out more about what they are what
we need to do though is initialize
homestead what this is going to do is
create a homestead Yama file where we'll
be able to configure all of our sites so
I'm on OS X I just need to run bash in
it dot SH which is this script just here
in it SH and hit enter and we see
homestead initialized so we're now done
installing homestead and we can start to
configure our sites and still our eval
and do whatever we need to do and just
get
development but we need to open up our
homestead yeah more file before we can
actually get started because we need to
configure our sites and where we want
these to point to and at this point it's
important to know if you're not aware of
what a of what vagrant is doing vagrant
will between your virtual machine and
your local machine sink files so we can
actually go into our virtual machine on
the command line but what we're going to
be doing is eventually editing files
within our text editor and that will
sync it to our virtual machine which
we'll be able to elbow to access within
our web browser so again this will
become a lot clearer a little bit later
on so our homestead yeah more files been
initialized but where does this live but
it actually lives within a directory in
our home directory so let's just go back
over to our home directory and it's
within dot homestead so if I list this
directory out you can see that we've got
homestead llaman just in here so just to
make things a little bit easier to edit
because this is the file that we're
going to need to edit remember I've
opened this up in my text editor so this
is where we're going to spend most of
our time when we're setting up our site
once we have set up our sites we don't
need to worry about anything else
obviously this is a long process but
once you are done you'll be good to go
and just get on with what you need to do
so the first important part of this file
is the SSH key section this authorized
section just here in this key section
just here so if you don't have an SSH
key setup you're going to need to
generate one using the following command
so let's just head over to here it's SSH
key gen and it's RSA and then here you
can just provide your email address so
in my case it would be Alex a co cost
comm and that will go ahead and generate
a key for you in my case I already have
a just a general key here and you may do
two IDRs a pub and this is the private
key just here so the reason we use
public and private keys is but
we'll have SSH access to our server or
our local or our virtual machines we can
SSH into it which is really important
because you will need to do things on
the command line particularly if you're
working with laravel you're going to
need to use things like artists on the
command line as well as install anything
else you need or just generally poke
around so we're now going to come to the
interesting part which is configuring
our folders and our site now the folders
section allows us to specify which
folders we want to keep in sync with our
virtual machine so remember we're
creating files now local machine they're
being synced to our virtual machine
which has our our webserver installed
and all of our other services and then
we can just see them in the browser so
basically this area of the configuration
lets us keep this very quickly in sync
with our virtual machine now I'm going
to pull over my web directory into my
text editor here just so I can create
within here any folders which will
represent sites that I want to to use or
develop on these are going to be folders
for different projects so inside of web
I'm going to create a new folder called
sites this is where all of my projects
are going to live you can call this
projects if you want and in here I'm
going to create a new folder called test
this is our test project so this is our
first project that we're going to be
putting onto our virtual machine and
using with homestead this won't contain
a laravel installation just yet it will
just give us a really good idea about
how syncing and site mapping works as
well as setting up our domain before we
get started with actually installing
laravel with homestead so in our test
directory we're going to create a new
file and I'm just going to call this
index dot PHP and let's just say echo it
works change these two singles like so
so once we have finished with this we'll
be able to head over to our browser we'd
be able to go over to a specific domain
so in our case it'll probably be
something like test app and we'll be
able to see the
next it works then we can go on with
installing laravel so to actually sync
our sites directory which is going to
contain all of our projects so any other
projects you want to create you want to
put inside of this sites directory we
need to map a specific directory here so
we want to map home directory web sites
to home vagrant sites so we're taking
everything within this sites folder here
and we're putting it within our virtual
machine under home vagrant and site
that's going to take care of the mapping
when we update any of our sites now we
come down to this sites section so at
the moment you can see we've got an
example one in here homestead app we're
going to call our new project test app
and this is going to be the domain that
we access through our browser so we need
to map this to a specific directory here
and in our case it's home vagrant sites
test so home vagrant get rid of this
sites test like that so this is going to
when we hit test our app map to this
directory so there are a few other
settings within this homestead yeah mall
file which you can go ahead and use if
you really want you can change shell add
databases but we're just going to leave
this as homestead just for now you can
go ahead and add more here or change
this default name so obviously you can
see from this we are keeping in sync
this sites directory we can have
multiple sites here which we'll look at
later but essentially it'll just look
exactly the same like that but with
different domains and mapping to
different directories but we're now
ready to actually launch our virtual
machine which we don't have running at
the moment we use vagrant to do that
remember I said we have vagrant there to
easily manage our virtual machines so
what we want to do now is come over to
our main homestead directory where our
vagrant file lives and this is where
we're going to boot up our machine so
we're going to use the comma
on vagrant up to actually bring our
machine up and this is a vagrant command
that will create or start up your
virtual machine in this case we're
creating it since we haven't started it
up until now and you'll need to run this
command from this directory every time
you restart your computer or turn your
computer off and on and it sometimes
takes quite a while but let's go ahead
and run this command and see what
happens so this would have taken a
little bit longer for you I happen to
just cut this short so you didn't have
to wait around but if this hasn't
finished for you just yet go ahead and
pause the video and wait till you get to
the point where the command finishes now
once you are at the point where
everything is finished we're going to
actually scroll back up and just take a
look at what happened at the very start
of this process you might have seen it
as you are watching the command run and
this is the forwarding of pause and
that's really important to know so we
know where to connect to so for port 80
which is our web server this has been
forwarded to port 8000 now what does
this mean for us
well port 80 is the port that's running
on the virtual machine so that will be
Engine X running at port 80 however for
us accessing our actual virtual machine
from our local machine this will be at
port 8000 now it's the same for things
like MySQL which you might recognize 3
306 as the default MySQL port this is
forwarded to 3 3 0 6 0 or rather 3 3 0 6
0 is forwarded to 3 3 0 6 and we have
things like SSH as well normally web and
MySQL the only ones you're going to be
really that interested in but we also
have at HTTPS here as well so now that
we know what port we're running on and
we know that we have tests or APIs our
domain what we can actually do is go
ahead and access test dot app on port
8000 now this isn't actually going to
work so in a minute we'll see
problem connecting well this will
probably actually take a while but
either way it's not letting us through
now the reason for this is because we
need to add test app and any other sites
we add to our hosts file on our machine
so we know where we're pointing test our
app to so we can do this within the
terminal so I'm going to open a new
window I'm going to head back over to my
home directory you don't need to do this
but I'm going to edit my hosts file
within my Etsy directory so I'm going to
use vim for this I'm going to say sudo
vim Etsy host and just go ahead and
enter my password and here is our host
file so I've got a few other things just
in here but I'm going to add to this so
I'm going to add a new line from or
pointing to one one to seven or dot one
and we have test dot app so I'm going to
exit I'm going to save this out and
that's now in my hosts file and if we
head back over to here we see it works
so this is now connecting to our virtual
machine on port 80 because remember
we're forwarding port 8000 to port 80
and that's it so how do we go ahead and
just edit our project well here I'm
obviously working locally I'm within my
site's file within my test project so
let me just add something here this is
amazing now just save this file out but
because we're mapping web the web
directory within my home directory and
sites to home vagrant sites and test our
app is point into sites test this is
mapping this directory all syncing this
directory as I make changes so because
I've changed this connects into my
virtual machine now it's just
automatically updated and this is very
quick it's super fast it's ER this is
what vagrant does best I guess so we
have now successfully installed
everything we need to have our virtual
machines up and running we know that we
can edit our homestead yeah more file
we hopefully understand what all this
means but what we're now going to do is
install laravel and then go on to look
at some of the day-to-day things we'll
need to know when we're working with
homestead so in the next part we'll head
over to the laravel documentation check
out how to install our eval and we'll do
that on our virtual machine under a new
site</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>