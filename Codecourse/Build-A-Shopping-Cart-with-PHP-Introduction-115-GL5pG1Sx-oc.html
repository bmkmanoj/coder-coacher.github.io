<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build A Shopping Cart with PHP: Introduction (1/15) | Coder Coacher - Coaching Coders</title><meta content="Build A Shopping Cart with PHP: Introduction (1/15) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build A Shopping Cart with PHP: Introduction (1/15)</b></h2><h5 class="post__date">2016-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GL5pG1Sx-oc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to this series on building a
shopping car with PHP we're going to
take this video to take a look at the
entire checkout flow from adding an item
to changing and updating quantities
deleting items we're going to take a
look in the database as well a little
bit about what's going on and of course
we're going to make a payment and we're
doing that with Braintree integration so
let's start out just by taking a look at
these products and we'll go ahead and
look in the database and see what kind
of things we have available here so this
is just the homepage and it's a list of
the products we have of course you can
replace these product images with
whatever else you want let's just look
in the database and you can see here
that we've obviously got a title we have
a slug to just uniquely identify each
one and we obviously have a description
you can see all that over here and then
we have a price which is really
important we have an image to represent
each one we have a stock level as well
which we'll adjust when we check out so
we'll see that happening in a bit and of
course we have a created and update to
that date so let's just start to add
some products in and see what happens
then you'll notice that we have as well
low or out of stock indicators so this
one here happens to be the Dow in stock
and of course we can't add more to our
car than is actually in stock and we can
protect against that so let's just add a
couple of items to our car this is our
cart view we'll just come back to this
in a minute so let's go over and add one
of these and why don't we go and add one
of these as well so they're all pretty
low in stock but of course it's up to
you to adjust the stock levels so here
we can go and actually update the
quantity based on how many we actually
have in stock so in this case we only
have two in stock and you can see here
the price updates to reflect these these
are 6 pounds each and they are coming up
at 12 because I've selected two of them
and of course what we can do is we can
remove them as well so if we wanted to
remove this item we just go ahead and
update that so pretty straightforward
and on the right here we have a cart
summary so we have a subtotal we have a
shipping cost and then we have a total
so this is the amount that the customer
will actually pay and of course if
you've already noticed up in the
right-hand corner here we have a
a little icon to get back to our car a
little text to get back to our car and
this will also tell us how many items we
have in our car okay so now once we're
ready to checkout once the user is ready
to checkout we come over to the order
page and you can see here that we've got
payments loaded down here with Braintree
we're just going to go and fill out our
details and then we're going to take a
look in the database so let's just go
over and enter some information here so
we'll enter a name and an email address
what this part will do will actually
create a customer with an address
attached to that customer so when they
check out again we're not storing their
information over and over again and of
course we'll see this happen so we're
going to enter a address so one course
place and we'll just literally make this
up so come down here and enter this
details and of course now we have the
option to either pay by card PayPal or
anything else that you integrate with
Braintree so if you want to integrate
maybe Bitcoin or anything else you can
go ahead and do that afterwards we're
just chosen here to use PayPal or our
card so with the PayPal integration then
we just see the following pop-up and of
course at the moment we're using a
sandbox we're not actually making real
payments in development you're going to
use Braintree sandbox and we're going to
cover that in the next video but for now
what we can do is just proceed with the
sandbox payment and this goes ahead and
gives us our PayPal which is obviously
just a fake account layer now we can
also change our payment methods so we
can go and add a new payment method here
so we can switch back over to card so
let's just going into a test card within
Braintree and a test expiry and c/bb and
it's just going into a postal code as
well and then we go ahead and add this
and there we go so we're now using a
visa ending in for two so now that we've
got all this information in here as long
as we don't mess anything up in here we
do have validation on here as well and
of course this UI drop in Braintree does
actually validate the details we're
entering as well we can go ahead and
place our order so we'll be charged
3450 so I actually have my Braintree
sandbox up here that we can test on
today I haven't taken any payment so
we'll see this increase to 30
450 in just a moment so let's place the
order and wait for this to go through
and there we go so really quick really
straightforward and we now have an order
confirmation page so you can see here
that we have two of these items here we
have the shipping and the order total so
you're the total here doesn't actually
include the shipping so I'll correct
that before we start working on it so
now that we've done that that is the
whole checkout process in the shopping
cart from start to finish let's just
check Braintree out and we can either do
this on the dashboard which will give us
a nice overview of the payments that
we've taken over time so over 30 days
you can see here that we have actually
taken that payment and of course if we
go over to our transactions tab we can
see a better view of this so we can
basically filter this down but of course
at the moment we're in this month by
default so we can just hit search and
you can see here that we do in fact have
a payment here for 34 pound 50 and we
can click in here just a few more
information either way we know the
payment is coming through to our sandbox
with Braintree so now that we've done
this you can notice we have this long
order ID here we're going to be creating
that so the user can refer back to it
what you might want to do is after
you're finished with the series you
might want to integrate email so you can
actually email the user very
straightforward since we're going to be
using the slim three framework we have
videos on how to do that
so you can email the user with this and
you can go ahead and link them back up
to their order and of course it shows
the items here they can click through an
order more if they want so the other
interesting thing is what's happened
here if you keep an eye on the stock
levels we've got five ten to four and
one they will have actually reduced to
an hour for 1004 and one so this item
here Blake espresso is actually now out
of stock so no one can order this
anymore until we increase the quantity
of our stock so why don't we just finish
this off by taking a look around the
database and seeing what kind of things
have been created so the first thing is
the customer as you can see here this
just contains my name and my email
address and of course I have now a
customer ID over in addresses you can
see that my address has been stored as
well and we don't have a direct link
between the customer and the
but what we do have is an orders table
if you look across here you can see that
we've got that hash that we spoke about
earlier we have a order total and of
course that's plus the shipping and then
we have an address ID whether it's been
actually paid for or not because when we
actually click through to our order form
we will wait for it to be paid and then
we have a customer ID as well so really
helpful to seal this information in here
and of course you can add a lot more or
create any more advanced relationships
if you want to now what we also don't
have in here is the products that the
user has ordered how will we know what
to ship to the user
well of course over in order products
this is a table that relates an order to
a particular product and then of course
includes the quantity as well so what
you can do is if you were to build some
kind of admin panel for this you can go
through and actually see which products
have been ordered as part of an order so
of course also we have a payment table
what's going to happen here is it's
going to relate to an order ID and it's
going to give you the Braintree
transaction ID so when we finally get
around to integrating Braintree you will
see that from the response we get back
we'll have a transaction ID and we're
going to store that there just so we can
easily refer over on Braintree if we
need to find more information about a
transaction or anything like that so you
can see here that once we do a search
this one here
matches up to this transaction here now
if for any reason the payment fails
perhaps the users card is declined
obviously this won't happen and we will
have failed set to 1 so we'll know
whether their payment has actually
failed so that is pretty much it from
what you've seen you can very easily
build onto this we're going to be using
slim three as our base framework we're
going to be setting everything up really
nicely so if you do want to add to this
in the future it's going to be really
simple to do I want to give a huge shout
out to our friends at Braintree payments
by next year maybe even next week there
could be a whole new way to pay maybe it
will be the next Bitcoin the next tab
will pay or maybe even both fortunately
Braintree full-stack payment platform is
easily adaptable to whatever the future
holds
so you can easily add
to accept anything from pounds to pay
power to the next big innovation from
any device with a really simple
integration and when that new payment
method comes out all you have to do is
update a few lines of code no late
nights no complicated recoding no stress
about staying ahead of the curve
Braintree payments is here to help you
can learn more at Braintree payments
comm / Co course</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>