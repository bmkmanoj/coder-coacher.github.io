<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Creating a Blog (Part 6/11) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Creating a Blog (Part 6/11) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Creating a Blog (Part 6/11)</b></h2><h5 class="post__date">2011-05-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mGgivSfH6Uo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay turns out that this was incredibly
easy to fix all we need to do is make
sure that this if not is set which is
very logical because if we did have an
ID that we specified and we would
redirect back to index dot PHP without
doing anything that just doesn't make
sense so now when we try to delete test
for PHP we get redirected to category
list and we see that test is no longer
there all right so let's start adding
posts here we have a simple form we have
a title contents which is of course the
post itself and category and the first
thing we are going to do is populate
this so in here we are going to use the
gets categories name spell it rights get
to Gauri's function again in a for each
loop as category and we're going to do
this trade of that option value equals
something and close that here we simply
display the name and in here we're going
to display the ID so we are not storing
the category name in the posts table but
the category ID as you can see
right here so let's save this and then
when we go to add both Doc PHP we see
here that we get the list of categories
and when we let me just open up Firebug
and when we go to this we have our
select for mayor and the values are 1 &amp;amp;
2 respectively so that works fine what
I'm going to do next is say in here in
the title input field if is set both
title so if the form was already
submitted with this title but some
errors were thrown
so it wasn't processed yet we still get
the title in the input field again so
the user does not need to type it all
out again so we do echo post title and
we do the same for the contents except
of course with contents oops
contents and now when we refresh this
and we put something in there and we add
it we see that this remains in the input
fields all right now to start actually
doing something interesting with PHP
first we need to check if all these
three fields were submitted which is
done using is set we're going to say
post title
but also post contents and post category
this is a pretty neat feature of the
ASET function you don't need to call it
three times you can just specify a long
list of values all right so s with the
category we are going to trim whitespace
from the front and end of the input
fields with the exception of category so
title equals trim post title and content
equals trim post contents let's tap that
in a bit good now we need to check if
these actually have a value so if empty
title and if empty contents and of
course going to define an errors array
in here we're going to say if no title
was actually submitted add this error to
the errors array and the error can be
anything you want I'll just go with you
need to supply a title pretty simple and
we do the same thing for the contents
you need to supply some text all right
next up is check if the supplied
category here actually exists it's
possible to fake this data if you try
hard enough so we do need to apply this
check
however the way the category exists
function currently works is to specify a
category name however we cannot get this
very easily so what we need to do is
modify the category exists function and
what we're gonna do is we're going to
give it two parameters the field and the
value we're going to protect both do it
the same for value my sequel real escape
with the string of value and we're going
to change the query to select count 1
from field that's wrong of course
categories where field is equal to a
specific value so what we can do now is
in here we can say where ID is equal to
post category and of course this needs
to be not however remember that we also
use this in add category to PHP so we
need to change this and here we're going
to select the name field and the post
age category name alright so continuing
we need to specify an error message here
which will be that category does not
exist alright final check the length of
the title cannot be longer than 255
characters so errors equals the title
cannot be longer than 255 characters I'm
quickly going to display these errors
here so here we open up a PHP block and
we say if is set errors and not empty
errors remember if the form gets
submitted we automatically get the
errors array but so long as we do not
get any errors it will be empty and
that's why we use this what we're going
to do here is we're going to echo an
unordered list we're going to open it
and we're going to close them and in
between we do implode this is a very
useful function I love it and we say end
of list list and errors what this does
is it outputs an unordered list with a
list item and then for every single
element in the errors array it outputs
the error closes it off starts a new one
out puts another error and so on until
there are no more errors where it
displays this last endless and and UL
tags so I'll show you that this words in
the next part so see you there</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>