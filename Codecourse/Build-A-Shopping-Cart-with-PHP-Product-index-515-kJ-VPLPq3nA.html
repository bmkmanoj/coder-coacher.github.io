<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build A Shopping Cart with PHP: Product index (5/15) | Coder Coacher - Coaching Coders</title><meta content="Build A Shopping Cart with PHP: Product index (5/15) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build A Shopping Cart with PHP: Product index (5/15)</b></h2><h5 class="post__date">2016-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kJ-VPLPq3nA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now we're going to use bootstrap to pull
together a very basic layout or a
template for our application this will
be again a little bit more setup but
once we've got that done we won't need
to touch it again so we'll start by just
pulling in bootstrap and we will create
our navigation at the top which is
probably the most code we'll write in
terms of our templating and then what we
will do is eventually build up our
product index page which is really
straightforward because we already have
eloquent set up we can just pass them
products to our index view or a home
view and then we can just list them out
within a nice box so we will start by
just pulling bootstrap into our project
so we're gonna go and download bootstrap
here just head over to get bootstrap
calm and we'll pull this in from the
content delivery network so we need the
CSS and we also need the JavaScript as
well
so let's go and just pull in our CSS
here now what we're going to do is we're
going to create a kind of template
inside of here so inside of our views
let's create a templates folder and then
inside of this we will create a new file
just called app dot twig this will
represent our basic template layout so
we'll have a basic document structure
here and of course at the top we just
want to pull our Styles in now we also
want to pull in our scripts now this
will assist with the responsive
navigation we'll see this in action in
just a moment so if we just head back
over to here and pull in the JavaScript
for bootstrap and then we will up the
top here just pull in jQuery so if you
just head over to CD andreas comm and
search for jQuery we can just very
easily pull this in from here and we're
going to be pulling in 2.2 dot 3 so you
want to pull in the minified version of
this so let's paste this just up here
and of course this needs to go within
script tags so let's just pull this into
here and there we go we're pretty much
done so let's figure out on navigation
first and then we'll look at our main
content so we're going to be creating
this within a partial
it makes a lot more sense to do this
just so we can keep it nice and separate
so inside of templates let's create a
partials directory and then within this
let's create a navigation partial that
we can include in there so navigation
dot twig we will pull over the markup
now I already have the mark-up ready for
this because it's going to be really
boring to type everything out but what I
recommend you do is just pause the video
go ahead and copy all of this down what
you could also do is pull this over from
the bootstrap documentation and tidy it
up if you're familiar with bootstrap but
either way you're going to want this in
here and we'll start adding stuff to it
later so just to explain all this is
doing here is we have a nav bar element
inside of here we have a fluid container
this is going to be responsive we have a
header just here and then over on this
side we have our cart text now this is
going to be a link eventually through to
our cart page and in here we will
signify how many items are in the user
shopping cart so once you have all of
this copied down you can go ahead and
we'll continue to include this in so
over in app dot Twigg then we want to
pull this in just here really
straightforward to do with Twigg all we
do is say include and then we give the
name of what we want to include or at
least the path of what we want to
include it so that's within templates
partials and it's navigation dot TWIC so
now if we just head over to our page
obviously we're not going to see
anything because we're not using this
template so how on earth do we do this
well remember we have our home twig file
now inside of here we have some content
and we'll deal with the content in just
a moment but for now we just want to as
part of this extend our base template if
you were a twig before this will be
really straightforward
so it's templates app dot twig so now
that we have that done let's refresh and
you can see that we now have that
template in action but what about
getting our content in this area here
well this is slightly different and for
this we use blocks so we define a block
out like the following so we say block
content so this is the name of the block
you can call that whatever
you want and then down here we just want
to end that block so in here we'll go
the content so here I'm gonna say
product index now at the moment we won't
see anything the reason being is we're
not taking the content of placing it
anywhere in our base template so to do
this all we need to do is down here
we're going to use bootstraps contain a
class this will just nicely Center
everything so if I just type in
something here you can see that the
content is placed nicely in the middle
directly under the header and all we
need to do is replace this with the
content that we're taking from each page
that we're using this template on so we
just say block content and then here we
just say and block and now there is our
product index this is just a nice way to
keep everything really separate we don't
have to requiring the kind of header
part of this and the first part of this
every time it gets a little bit messy so
we now have our base template set up
let's just take a look at the
responsiveness of this so when we pull
this in you can see that we get this
drop down that's why we pulled in the
JavaScript for bootstrap in the first
place just so we could have that
functionality in there so we now have
our template set up and we have our
product internet showing here now what
we need to do is actually pass our
products down to our home dot twig view
and we do that of course from our home
controller we've seen this working
already but how do we actually pass
these down well what we do is as a third
argument to this render method we want
to pass a key called products and
obviously what we want to pass down is
that list of products that we grab from
our database and using twig this is
going to be really nice to iterate
through them and output them on the page
so just to test this out let's in here
say product dot or we could just say raw
we'll just see what this looks like
so when we refresh you can see that we
now have an array of different objects
and this is just all of our product
information so with that said we now
need to loop through each of these
products and output them
so to do this we are just going to
create a for loop with twig you just say
for we're gonna say index and product so
index is just the pointer in product so
we this now represents the actual
product and then down here we go and end
that for so inside of here then we want
to actually output each of the products
but we want to do this within a grid so
bootstraps grid system will take a row
just here and inside of here we want to
create a six column for a small layout
and a four column for a medium layout if
you're not too familiar with grid
systems I'd go ahead and look through
the bootstrap documentation so here we
have a medium for column and we're gonna
have this on a small layout as a six
column and we'll see this in action in
just a moment so now what we can do is
just write tests in here and you'll see
that it looks like this so this is kind
of familiar we'll see a product here
product here a product here and a
product here but what we really want to
do is just break this grid here and
start a new row if we actually end up
with three items we want to start a new
row and we weren't getting it getting a
mess so to do this it's pretty
straightforward underneath this we want
to create an if statement so if the
index that's from here and we can take
get rid of that dollar sign if the index
plus one has zero left over so we're
gonna do a modulus of three if that has
zero left over it means we're at the
third item or the sixth item or the
ninth item then we can well will end
this if statement first of all so we
just say end if just there then we want
to end the row like so and then we want
to start a new row so let's just run
this through let's just say product
refresh now it doesn't look too much
different but if we go and inspect this
you can see or maybe inspecting isn't
the best idea let's just do a view page
source you can see here that we've got a
row
we've got a product here product here
product here
then we end that row with the third
product or the last product on that line
then we start a new row so that's just
basically what that does so now we want
to actually output the product but we're
not going to do this in here because we
might want to reuse that product so
we're going to create over in our views
a product folder and then inside of here
we're going to have a partials folder
and inside of here we want the actual
item so we're just going to call this
item twig that means we can reuse it
wherever we want now inside of this we
want to create a thumbnail class so
let's do this now and this will be the
product because obviously we have a big
image for this and just here we have an
anchor so this will be able to link
through to that product so for now we'll
just set that as a hash you have an
image in here with a source which we
need to fill in in a moment and we'll
have an alt as well so we'll fill that
in in a moment as well now down here we
have a caption and inside of here we
have an h4 then we have an anchor again
because we're going to link through to
the product so the product tight will be
in here so we'll just write this in
there for now and then just underneath
this we want a paragraph with a
description so this will be the
description so if we include this item
from our home dot twig file so let's do
an include just in here so we say
include product partials item now what
we need to do is pass through that
particular product so remember here
we're looping through each product so we
just say with product product so we're
giving this a key and this is what we're
passing through and that's important
because we need to pick this up within
here so now if we refresh it looks like
we can't find that so let's just have a
look here oh of course we need item dot
twig there we go so now we have the
following perfect so the only thing
we're missing is an image but of course
when we hook this up to the data that we
actually have available we'll see all of
these come through so we can forget this
page now because we've done everything
that we need to do we need to focus on
our item so for the product title this
is really easy
remember we now have this product
variable within our view we can just say
product title that gives us the
following and then we have a product
description so in here we just say
product description and that will give
us through the description for each one
so now we want to update the image so
again this is pretty straightforward we
have that image in there so in here we
just say product dot image and then for
the title or for the alt rather what we
can do is say product dot title image
like that whatever you want to do and
there we go we now have a list of our
items on the index page the only thing
that we haven't done is hook these up to
the product detail page which we're
going to be doing in the next part but
as part of the next part we'll be
creating the product controller which
will mean we'll be able to set a name
for our controller and then we or each
of our routes rather and then we can
link through to them like that but
either way what we've done is we've set
up all of our templating we have our
responsiveness here as well so you can
see that we now have this will set up
and when we pull it right the way down
you can see that this still looks okay
so of course once you finish with this
you can improve on the design it's
really up to you we're just using
bootstrap to hurry things along and make
it a little bit quicker but at least we
have some kind of structure here that we
can start to click on now just before we
go anywhere the last thing I want to do
is just head over to my apt wig template
and there's always not a lot of padding
at the bottom at all so all I'm going to
do is just up here say style and I'm
gonna say body padding bottom 60 pixels
that'll just help us out along the way
but of course what you want to do is
create a separate style sheet for any
additional styles that you want and that
just helps to space things out a little
bit at the bottom there so that's it
that's how product index page done our
templates and setup and we can move on
to create the product detail page
a big shout out to our friends at
Braintree payments for supporting code
course mobile development can be complex
but integrating payments no longer has
to be with elegant code and clear
documentation to help you out your
business can accept nearly any type of
payment on any device with one simple
integration with Braintree Braintree
simple flexible SDKs make your job and
payments easier you can learn more at
brain tree payments comm slash code
course</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>