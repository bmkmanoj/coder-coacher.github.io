<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel Tasklist (Beginner): Database and model (2/7) | Coder Coacher - Coaching Coders</title><meta content="Laravel Tasklist (Beginner): Database and model (2/7) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel Tasklist (Beginner): Database and model (2/7)</b></h2><h5 class="post__date">2016-06-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lnlQZvQsNTw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the first step is to install laravel now
I'm using something called alar for
Homestead you can find more about this
in the laravel documentation or we have
a course on how to set all this up if
you just head over to the co course
website so I'm going to pull up my
terminal and I'm gonna create a laravel
project and I'm gonna call this fresher
now I already have this set up in this
domain here which you'll find out more
about when you start to work with
laravel homestead but what we're gonna
do is wait for this to install and then
we should have a laravel installation
we're ready to go so now that this has
finished we can go and refresh here and
we should see the default welcome page
great so I'm gonna pull up my database
manager just here I'm using MySQL and
I'm using sequel Pro it really doesn't
matter what you're using to manage your
database the important thing to know is
that we're not creating our database
tables ourselves we're using something
called migrations and that's what we're
gonna deal with in this part so I
currently have no tables at all we're
gonna create a tasks table but we're not
gonna do this from our management
software we're purely gonna use this
just to look at what we have so if we
head over to the laravel source code
then under the database folder we have a
folder called migrations so we have two
by default these are to create the users
table and the password resets table and
that's because laravel ships with the
ability to very quickly create
authentication but for the purpose of
this video we're not doing that so I'm
going to delete these two migrations so
now we want to create a new migration
now we're not gonna create a farm
manually again this is all made very
simple for us on the command line so I'm
going to go into the directory that I am
working in and I'm going to use artisan
which is Lara vales command-line
interface or CLI so to make a migration
then we use the make command and then
migration and then we create the name of
the migration now if you're not sure
about some commands you can just run PHP
artisan on its own and it will give you
a list of all of the commands that you
can run specifically making things this
a job a lot easier when you're building
something because you don't have to
write too much code or at least too much
boilerplate code you can focus on your
actual application so let's run PHP
artisan make migration now the
convention for this is something like
create tasks table you can technically
call these anything you like but we
gonna stick with the convention here now
what we can also do is pass in this
create option and we can give the name
of the table this will create even more
boilerplate code for us so let's run
this and wait for that to finish and you
can see that has created a migration so
the purpose of this migration then is to
define out what columns we want and then
when we are done we can execute this or
run this and this will create all of our
database schema for us it's a lot nicer
than having to do this manually and the
reason for that is that what you can do
is roll back a migration so imagine you
have a project and you create a new
table of course when you put this on a
production server you're gonna have to
create your database schema again and
again with this you run one command and
it will migrate all of your database
changes over now we'll look at how we do
that in just a moment but let's focus on
the kind of things that we want here now
you'll notice that we have two here for
us already
now increment is the primary key of this
table so usually when you create a table
you're probably used to seeing a ID just
here which is an integer and it's auto
increment so it will increment for every
record we create but obviously because
we're not doing this manually we have a
very convenient shortcut and that is
just this here now time stamps will
create two columns this will create a
created at so it looks like this and an
updated at column now these are filled
when a record is created and when this
record is updated the updated at column
will be changed so we don't need to
worry too much about them for now cuz
we're not going to be dealing with them
but it's important to know what's going
on there so let's just create a column
then so we only need one in this case
and this is a string so you use the
string method and
passed in here named so this is the name
of the column so now we also have down
just here this will be what happens when
we roll back our migration so the
opposite of our up is our down that's
all you need to know so if you were
adding a column you would remove it here
if you're creating a table you drop it
here or delete it now before we run this
migration it's important that we change
over our database settings so our
configuration by default is within this
DMV far this is just environment
variables that are put into our
application that we can use we won't go
too much into these just yet but we'll
of course cover them elsewhere on code
course so these are our database
credentials now for me the database here
is called fresher so I'm going to switch
this over and my username and password
is homestead and secret because I'm
using larval homestead but of course if
you were using some kind of local
database this might be root and root for
example so now that I've changed that
over I can come over to my terminal and
run PHP artisan migrate this will run
all of migrations if I'd created two
more this would run them as well and you
can see that we have first of all a
migration table created successfully and
then we have that specific migration
that we created and that's been run so
if we head over to our database you can
see that we have these two tables
migrations will keep track of the
migrations that you run and of course
this is the migration that we created so
we have a name created at an update to
that simple as that so that's how
database created but what we also want
to create is a model which will
represent the data in our tasks table so
you may have come across models before
but within laravel we use something
called eloquent and we'll dive into this
a bit later when we start to create our
tasks so our models are usually kept
within this root directory you can
create any models folder if you want but
we're gonna keep things nice and simple
now by default we have a user model
which we're not using at the moment
because we don't have a user's table
remember we deleted their migrations but
let's generate a new model
our tasks so to do this we use artisan
make model and then we give the singular
version of what we've created so in this
case it will be task if it was messages
it would be message etc so let's create
that and you can see that that's being
created just here now this is actually
all we need for this to work what we can
now do elsewhere in our code is
something like task create we can pass
in some data so for example the name
like so learn laravel and that would
create a record in the database for us
so we'll deal with that a bit later but
we now have our task model and if this
doesn't make too much sense just yet it
will make more sense later when we start
to actually create our tasks so now that
we've done that we need to set up route
because what we need to do is be able to
create the interface to be able to
create tasks so let's go over and start
to look at routes and views in the next
part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>