<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Social Network with PHP: Profile pictures (13/37) | Coder Coacher - Coaching Coders</title><meta content="Social Network with PHP: Profile pictures (13/37) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Social Network with PHP: Profile pictures (13/37)</b></h2><h5 class="post__date">2015-08-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CNcFjMD6b3o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">before we go any further we're going to
implement our avatar URL and this is
going to allow us to fill in these that
we did in the last part so we're going
to be using Gravatar to pull in a user's
avatar this is a popular service which
allows you to sign in upload and then
you can have your avatar across lots of
different sites and lots of websites use
Gravatar so it's a really easy solution
but also effective because lots of
people use it so how do we output a
user's avatar within this source within
our user block remember this is going to
be used elsewhere on the site as well so
it's all reusable well what we actually
need to do is head over to our user
model to implement a method for this and
this is going to be get avatar URL the
reason we've kept it is get Avatar URL
instead of get Gravatar URL so we can
change this later on if we want and then
it will just reflect wherever we've
added the avatar image so how do we use
Gravatar then well if we hope go over to
this how to use Gravatar section you can
see we've got a creating the hash
section now what we do is we md5 hash
the users email address and that will
give us the hash that we can append to
the URL so if we go over to Gravatar
image requests you can see here that
we've got HTTP gravatar.com avatar and
then the hash at the end here and we're
going to be using HTTP as well so all
I'm going to do is copy this URL just
here I'm going to go over to my method
and I'm gonna return a string and I'm
just gonna return that but I'm gonna get
rid of this I'm going to change this to
HTTPS and in here all we need to do is
an md5 hash of the users avatar or the
user's email rather so we just say this
email it's as simple as that so if we
head over to our user block I'm going to
update this so the source here we
already have each user object in here so
we're gonna say user get avatar URL
and then when we head back over to
Chatty and we refresh we see these
avatars just here now there's a couple
of things we're gonna adjust here
because first of all we have this
default blue with the Gravatar logo and
it's also rather big so we're going to
change this to be a little bit smaller
so let's do that now if we head over to
our user method user model again we can
pass a few options to our Gravitar URL
we can set a default so this is d and
I'm gonna do mm which is mystery-man
this is just a silhouette of a person so
it just allows us to display it in a
nicer way rather than the Gravatar logo
and then what we can also do is add on a
size now obviously you could customize
this if you wanted to pass through a
size property into this method that's
absolutely fine but I'm just gonna hard
code this in for now and I'll let you
decide what you want to do with that so
now we have a nice small avatar so that
is how quick and easy we can set up an
avatar for a user and remember because
we're using this user block elsewhere
this will just be reflected everywhere
we output it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>