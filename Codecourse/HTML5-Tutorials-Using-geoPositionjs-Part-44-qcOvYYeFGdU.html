<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>HTML5 Tutorials: Using geoPosition.js (Part 4/4) | Coder Coacher - Coaching Coders</title><meta content="HTML5 Tutorials: Using geoPosition.js (Part 4/4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>HTML5 Tutorials: Using geoPosition.js (Part 4/4)</b></h2><h5 class="post__date">2013-03-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qcOvYYeFGdU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so in this part of the series we're
going to look at using Jia position j/s
to actually detect the user's location
whatever device that they're using or
browser that they're using so we're even
gonna detect their location in
unsupported browsers now the syntax is
fairly similar well it's pretty much
similar
we just have slightly less options that
we can use so this is a perfect fullback
as well as just using it on its own it
depends on how advanced that you need to
get with this so for example they're
using an older browser and you just want
to detect their location quickly easily
once we can use this as a fallback
otherwise we can use native support so
what we gonna do now is we're going to
get rid of a lot of our codes we're
gonna sort of start again almost so
let's get rid of these two callback
functions here and we're gonna have to
sort of rewrite them in a minute but it
helps to do this from from scratch using
geo position yes we're going to keep
this this on click event handler for our
get location anchor and that's going to
do something slightly different here so
gonna get rid of this as well
we'll keep return false in there though
so what we want to do now is we want to
load in geo position J s so whether
he'll we're going to get this from we
are going to go over to the github
resource for this I'm going to download
the geo position J s so let's click on
that so let's go ahead and grab the raw
code for this let's copy this and let's
go ahead and paste this into a file here
like that and let's go ahead and save
this in a GIS folder and it's fair to
say that as geo position is perfect
that's close that and let's load this in
so script the script source J s geo
position is so perfect now to get
started with this we need to do
something slightly differently we need
to check for initialization so we need
an if statement here let's go ahead and
pop this
let's see now let's pop this in here so
here so if now we've already loaded the
Geo position not library but the the
code if you like so we're going to say
if geo position dot in it then we want
to do something and in this case we're
going to use the get current position
method and we're going to have a success
callback and we're gonna have an error
callback but we're using the G position
code so geo position position dot get
current position so exactly like we did
before we have a success callback and an
error callback so the error callback is
very limited the success callback pretty
much gives us what the native support
gives us so we can grab the coordinates
absolutely fine so let's just say
success error and we need to go ahead
and create these functions so I'm going
to say var success equals function and
I'm gonna save our error equals function
again I'm using i'm not using global
variables because i'm creating them
within this callback function so
everything will be local to this
function here but you know you might
want to set this up slightly differently
so in here we have again this pause
argument which we can take the latitude
and longitude from which is perfect for
the error we don't really do much all we
can really do is just say geolocation
not support it or something like that so
that's all we can really really do that
one which is a shame that you know it
doesn't really matter you see that there
or not so for the pause we do exactly
the same things let's save our lat
equals pause chords dot latitude and
let's do a comma and and say long equals
pause chords dot long it chewed and
we'll do exactly the same as we did
before we'll say chords equals
lapped Plus long and let's go ahead and
pop a comma in between them perfect so
let's just straighten this out a little
bit for now let's just go ahead and
alert out the chords just so we know it
works and then you can go ahead and pop
this into the map or whatever you're
doing with it so let's go ahead and test
this out so I'm going to hit enter make
sure we've got no errors in the console
- the unsafe for JavaScript attempt
errors is click get location and there
we go so we've now used the geolocation
J's library to actually retrieve this
information so as we did before let's
pop over to Internet Explorer and hit
refresh and click get location and
nothing happens let's try this again
there we go perfect so we've now
returned our coordinates as normal but
in Internet Explorer 7 so you can go
ahead if you've got a Blackberry or
something like that try this in the back
because BlackBerry has its own native
geolocation library or API so that's how
you would doing a blackberry but you'd
have to then have lots of different you
know training you know if this device is
this do this if it's this do this you
can either try for native support then
try to use this Geo positioned Reyes
library or API or whatever or you can
just use the Geo position depending on
what kind of support you need and the
kind of advanced support you need but
essentially that's it we've you know in
this series looked at the basic usage
slightly more advanced usage there are
other aspects to this as well which you
can go ahead and research now you've got
the fundamental understanding and then
we've detected support using moderniser
and now we have provided a fallback or
something that you can just use on its
own which is the Geo position dot JSON
library so that's basically it for geo
position and detecting users locations</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>