<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Authentication: Dependencies (2/30) | Coder Coacher - Coaching Coders</title><meta content="PHP Authentication: Dependencies (2/30) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Authentication: Dependencies (2/30)</b></h2><h5 class="post__date">2015-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4N1ufhv4kzQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the first step that we're going to take
to get our authentication system up and
running is to install dependencies that
we need for our project
and we're going to do this via composer
which is a dependency manager for PHP
don't worry if you've not used composer
before I'm gonna go through the steps to
install it and then these are the
dependencies just here that we're gonna
require for our project and we're gonna
go through each one of these and I'm
gonna tell you exactly why that we need
them and this will help us later on
because it means that we don't have to
jump back to composer and install
everything normally within a project
what you would do is install them as you
needed them but in this case we know
exactly what we need so we're going to
install them all in one go so before you
get started really you want to have a
directory in your webserver that you're
going to have your project within so
mine's just called authentication but of
course feel free to call it whatever you
want so let's get composer downloaded so
we can use it within our project this is
very straightforward if you head over to
get composer org and hit the download
button we have two commands here that we
can run the first one is if you have
curl installed on your system and the
second one is if you don't have curl
installed you obviously will need the
PHP installed so I'm guessing you
already do so that shouldn't be too much
for a problem so I actually do have curl
installed so I'm going to use this first
command but you can use the second if
you don't and all we're going to do is
within this main directory within a
command prompt or a terminal we're just
going to paste that command in so once I
run that that's going to download
composer and we can use this to install
our dependencies so let's open up this
directory and see what we have we have a
composer dot PHP our file and this is a
PHP application compiled into a single
file and all this means is that we can
run this on the command line using PHP
and that's how composer is installed so
let's now take a look at the first
dependency that we're going to be
installing and that is the slim
framework and we're installing version 2
so this is what our authentic
patience system is going to be based on
and don't worry too much if you've not
worked with a framework before Slim is a
very basic in the way that we lay out
different routes for our application and
really once you get into it it isn't
gonna be much trouble at all we're not
going to be using too many different
helper functions we're gonna be writing
pretty much just standard PHP so don't
worry too much about that so how do we
pull slim into our application well
let's just clear the screen here I'm
still within this authentication
directory to run composer we run PHP
composer tha are like that so you can
see here we get a list of the commands
that we have but what we want to do is
we want to use the require command so we
so PHP composer dot PHP PHA are require
and then we choose the name of the
package the name of the slim package is
slim forward slash slim so when I hit
enter all that's going to do is it's
going to require that into my project
and we'll see that a composer file has
been created to handle these project
handle these some dependencies and it
will also downloaded the slim files as
well so back over to our text editor we
can see we've got a composer dot JSON
file included and we've also got a
composer lock file included we're not
gonna talk with too much about that
composer lock far but the JSON file is
basically a list of all the requirements
and we will be updating this a bit later
on when we auto load our own files into
our project now the vendor directory
contains composers base files here but
it also contains Slim which I've just
downloaded so we have that dependency
just in there so let's move on to the
next dependency that we need to install
and that is slim views now slim views
essentially allows us to use either
smartie or twig as our template engine
usually when you're writing PHP code
you're just you know output whatever you
need to do in the markup and just echo
variables or loop through with PHP
standard templating which is just a an
opening and a closing PHP tag and then
something like for
or if an end if an end for each but
we're gonna be using twig for this so
what we want to do is require in slim
views with composure so let's do that
first of all so we're going to clear
this PHP compose it up P har require
slim fuse and we'll wait for that to
download and because we're going to be
using twig we also need to install twig
so we can go ahead and do this as well
so we're going to run this but I'm going
to choose twig twig like that and that
is pretty much it so we have slim views
which is the way that we use twig within
slim and then we have twig and don't
worry if you've not worked with twig
before it's pretty straightforward and
you will get the hang of it it's much
nicer than just outputting sort of
standard PHP within your view files so
we've handled both of them the next
thing that we're going to be doing is
installing PHP mailer so this is the way
that we're going to be sending email
within our project we're gonna be
hooking this up with SMTP so we need an
email service with SMTP that we can
connect to and send emails which is
pretty much all all mail services so you
shouldn't have too much for a problem
you can of course at the end of this
series switch PHP mailer out for some
other email sending service you might be
using something like send grid or mail
gun but we'll stick with this for now
just because it's fairly straightforward
and we don't really need to setup any
other configuration outside of our
project so let's install this then so
that's PHP mailer slash PHP mailer
pretty straightforward and once that's
downloaded there we go so the next thing
we're gonna install is this config
package now slim two does have the
ability to define config but we're going
to be doing this in a slightly different
way we're going to have to
different files within our project one
is going to be a development
configuration and one is going to be a
production configuration and we can
create other configurations as well if
we need to but the reason for this is we
want a really nice way to create a
development configuration file we want
an array in there with all of our
different configuration options so our
database our SMTP settings for our email
session name settings hashing settings
for security but unfortunately slim
tooth configuration doesn't quite allow
us to do this as nicely as we might want
so we're gonna be using this package so
let's require this in and we'll look at
that much later when we look at actually
configuration so let's install this then
so PHP can post it up here har require
Hasan Khan config that should download
ok so the next then is our database
support and we are borrowing laravel x'
database component and the reason we're
doing this is because this makes a
really nice way to work with models it
works it gives us a really nice way to
just work with the database in general
so we're taking this it's perfectly
acceptable to use this outside of
laravel in fact it's been set up so it
is easy to use outside of laravel so we
have the usage instructions here but we
will be going through this exactly how
we set this up so let's require this
into our project then so it is under
illuminate database so once that's
downloaded so we can move on to the next
so the next big thing is validation so
validation is typically really difficult
to do within PHP and there are so many
validation libraries but this is one
that I created really out of the
frustration of not being able to
customize the way that you set up your
validation for example throughout this
series we're going to be looking at
validating things like whether a user
name or an email already exists in our
database now really traditionally that
would be really difficult
so for example you would have to create
a query to select everything from your
database or select the record from your
database where an email matches the
email that the user supplies when
they're registering and then you have to
say some sorry that email is already new
she can't register with that the same
with the username etc so this violin
package basically just allows you to
easily do that by creating your own
validation class and we'll be looking at
exactly how we do that so let's pull
this down so it's Alex Garrett's file in
that pulls down cool ok so last but not
least we have random lip which is a
library for generating random numbers
and strings you might be thinking well
why are we pulling this in surely we can
do this ourselves well we're going to be
focusing on security within this series
so for example when we create the
Remember Me functionality we need a
secure way to store a cookie that
identifies the user that's to be
remembered and then we can look them up
and authenticate them so they can be
remembered within our application but
randomly generating strings is a very
tricky thing to do well so we're going
to be using random Lib to do that for us
and this doesn't just apply to things
like remember me functionality it also
applies to resetting your password and
it also applies to things like
activating your account so we send a
unique random string through to an email
and then that'll identify the user and
all of this will be hashed in our
database now random Lib isn't going to
be used for hashing it's just going to
be used for generating random numbers
we're going to be using sha-256 to hash
these random numbers or strings that we
generate and for passwords we're going
to be using the password hashing API so
this only generates random strings for
us so let's pull this into our project
so
and there we go wait that's download
okay so that is finished now that is all
of our dependencies installed if you
take a look inside of your vendor
directory you can see we have quite a
few dependencies in here
some of which are dependencies of the
dependencies so it will have installed
more packages than you specified and
you'll also notice that under your
composer JSON file we have all of our
dependencies just here now because we've
been installing these dependencies
through the command line in a really
easy way the versioning here isn't quite
right so what I'm gonna do is I'm gonna
slightly modify these and explain why
I'm doing so so for slim we have a
tilled here and then 2.0 that means the
next significant release so tilled is
next significant release you can read
about this on the composer documentation
if you're interested so for slim views
we're gonna change this to 0.1 but start
that means that if 0.1 dot four or five
or six is released then we get them when
we update our project dependencies so
for twig we're gonna do a next
significant release and we're gonna do
that on 1.0 for PHP mailer we're going
to do five point two for the config
we're gonna use 0.8 dot star so again if
this is updated but doesn't go past
eight that'll be updated for us for our
database we're gonna have next
significant release on five and for
violin we're gonna say two dot star for
random Lib we're gonna just sing next
significant release 1.1 so now that
we've updated these what we're gonna
need to do is inside of our terminal
we're just going to run composer dot
phor update to make sure everything is
ok so there we go we have nothing to
install that update so really all of
this all this is doing is just making
sure that we're pulling in the right
versions
what we don't want to do is pull in
versions of slim like this that means
that when version 3 is available and you
host your project somewhere and you run
compose it install to install your
dependencies you're going to break your
application so in this state here we're
looking good so what happens when you do
eventually go live with your application
and you need to install these
dependencies or you just don't have your
vendor folder available well when you
upload your project the files you're not
going to upload our vendor so we can
delete this folder just now we're not
going to have I guess we would have
composed that lock if we'd already
installed our dependencies but let's
remove it for now so we just have
composer dot JSON and composer dot PHR
to actually install these dependencies
but what do we do now well all we need
to do is run within this directory
composer dot PHP our install and that
will install all of our projects
dependencies for us that means when you
port this code around you don't have to
port around all of these vendor files
because that's going to be a bit of a
waste to to move them around with your
project so this is why we are doing this
and we're pulling these in to just help
us build this authentication system in
the best way that we possibly can
without having to write all of our own
code for example security concerns like
generating random numbers or strings
validation which gets really really
annoying all the hard works done here
for us database support we can just use
this to connect to our database
configuration is always annoying so
we've got that all sorted sending email
this one is debatable you can send email
really however you want but PHP mail is
a good way to do this it's quite a solid
code base and then naturally we just
have our framework files here so really
we're not using too many unnecessary
dependencies we're just using things to
help us along we're still going to be
writing all of our own code so now that
we've done that we are ready to move on
to the next part of the video which is
actually setting up the framework so
we're ready to start coding</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>