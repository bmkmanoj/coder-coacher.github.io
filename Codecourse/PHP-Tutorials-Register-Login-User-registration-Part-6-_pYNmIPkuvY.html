<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Register &amp; Login: User registration (Part 6) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Register &amp; Login: User registration (Part 6) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Register &amp; Login: User registration (Part 6)</b></h2><h5 class="post__date">2009-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_pYNmIPkuvY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone this is more of an update
tutorial it's not a full-length video
basically what I'm going to be doing is
in my register script someone pointed
out to me that I need some kind of check
to note if the user has been registered
or not the user name that they specify
let me just take you back to our form
which is here where you're going to type
it your full name you're going to choose
a username and a password and I've had
these values in here before so let's
just get rid of them for now but
basically what we want is when we're
choosing a username if Sarah was
registering the username Alex
inside our database we can see here that
a username already exists with Alex so
what we're doing is which going to check
the existence of a username already if
the user name does exist if the username
does exist we're not going to let the
user register because we don't a double
username as it stands at the moment if I
was to register here
that's just like a password in and
choose a username the username Alex is
already in the database let's just
change this for for name sake and I
click register and I've been
successfully registered and if we look
inside our database we can see that we
have two usernames with Alex now this
causes problems when logging in the
first occurrence of the name so this one
here will be logged in this one will be
ignored so this this person really in
hindsight will never be able to log into
the database so what we need to do let's
just delete this you do need to create
some kind of check to see if the
username already exists now this is
incredibly easy there are more than one
method of this there are there is more
than one method of doing it but I'm
going to go for the simplest probably
and it's really effective so this is
going to work the first thing I want to
do is take my my date my code to open my
database rather connect to my database
and selecting my database I want to take
this up to just where the submit button
is checked so what we've got is we just
connecting to the database inside here
and then under here I can start my code
to check my username now bear in mind
you can put your check anywhere for
simplicity I'm just going to shove it in
here and I'm gonna kill the rest of the
script if the user name has already been
found you can put it anywhere a bear in
mind if you are using a full-length page
and it is your website the dive function
is going to cut off the rest of the code
so I don't recommend using this I
recommend encasing what the checks that
you already have inside an if statement
and not really to kill the script but
you will get the general idea of it here
and how to work what we're trying to do
so let me get on with it what we need
what we need to do is we need to set up
a query that specifies taking a record
with a with a particular username so I'm
gonna set up my name check query here
I'm gonna give it a name check the
variable name name check and this is
going to be my SQL query I'm gonna
select let's say username for simplicity
this is not going to select all the bits
of data like with the Gator for use in
Asterix it's gonna take more time so I'm
selecting username from users since
that's our table name down here and I'm
gonna say where username is equal to and
if we look up here the user name the
person submits to the form is in the
variable name username so we can just
come down here and type in username now
as it stands if I were to say choose the
name Alex this would select every record
in the database that has the name Alex
as we can see there's one at the moment
now if I was to specify in this case
with this only one record if I were to
specify the username as Dale for example
no records will be returned
so therefore the username wouldn't exist
if no records are returned so we need a
function to check how many records are
returned and you can do this I'm going
to create a count variable and it is
MySQL num rows and it just returns the
amount of records or rows rather that
contain within your query which we have
called name check so let's just test
this I'm going to echo out count and
then I'm just going to kill the script
so the rest of it doesn't execute and
I'm going to return to register and I'm
going to type my full-name as Alex full
name there choose a username I'm going
to choose dial in here and for the
password I am just well at the moment
the password isn't going to be checks
we've killed the script so if I just put
that in there for the sake of it and
click register we can see that we've got
a value of not returned because Dale
isn't actually in the database with
regards to the username however refers
to change this to Alex and that would be
with a small a because well in fact I
think we've got no script tags the way
to deal with case sensitivity as well so
this is another pointer here's when
we're taking the username into account
what we're going to do is we're going to
say an STR to lower so STR to lower so
just to make sure we're always comparing
to lowercase
and what we're going to do here is we
are going to let me just find it click
register and we can see the value of one
is returned
so really the check that we're looking
for here the if statement is if this
variable that we recurring out at the
moment is not equal to zero then we need
to tell the user that the username is
already registered so here what we can
do is create a simple if statement and
our block and we can say if our count
doesn't equal zero meaning there is a
record present under this condition
where the username is already specified
then we can just kill the script and
just say username already taken or
whatever you want to put so coming back
here to refresh we can choose Alex and
let me say I'm typing a password and
click register you can see that we've
got a username already taken error if I
was to type dial and let's choose a new
name all together and a password and
click register we can see that this has
been successfully registered into our
database because the username doesn't
exist so I'm going to leave it at that I
don't to go on to much more but there
you can see we've had our registered
user in and add in your STR to lower
function this is a really useful thing
to use to keep everything simple or you
could just use a STR to lower function
to do it if statement however to keep it
simple I recommend you convert or use
names to lowercase just for simplicity
and you'd need to incorporate in that
that into your login script as well
you need to convert what the users typed
into the login box to lowercase but I'll
leave that up to you to mess around with
it's really up to you to find out your
errors check them out but if you do need
any help please feel free to email me
make sure you do subscribe and I look
forward to making another tutorial soon
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>