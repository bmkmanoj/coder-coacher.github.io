<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a JavaScript breakout game with Phaser: Adding score text (3/14) | Coder Coacher - Coaching Coders</title><meta content="Build a JavaScript breakout game with Phaser: Adding score text (3/14) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a JavaScript breakout game with Phaser: Adding score text (3/14)</b></h2><h5 class="post__date">2017-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yB90NEUzZFE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so here's where we get into the ins and
outs of phaser how to draw text onto the
screen it's important to note at this
point I haven't actually mentioned this
this is actually a canvas element now
I'm gonna go ahead and open up my
console anyway because I want to see if
there are any errors along the way any
warnings along the way but if you'll
notice over on here you'll actually just
see a canvas this is pretty much how
phaser works what it's doing is doing
all the work behind the scenes using all
the helper methods that it has available
and it's drawing this onto an html5
canvas so if we head over to the console
again just keep this open while we are
developing let's get this text up on the
top of the screen now the first thing I
want to do is over in States or pretty
much wherever you want to be honest I'm
gonna create Global's folder this is
gonna hold all of the kind of global
information about our game and by that I
mean the score how many lives we have
and the points that we've accumulated
along the way so I'm going to go ahead
and create an index jeaious file in here
and I'm gonna export an object from this
file if you're fairly new to es6 this is
exactly what we're working with here you
might want to check out the es6 course
that we have if you're struggling with
any of the syntax inside of here so just
a pre warning okay so we know that the
score by default is going to be 0 we
know that the level by default is going
to be 1 and we know that the lives by
default is gonna be 3 and of course we
can adjust this any time that we need so
now how about Global's how do we add
these to our game well inside of our
boot file just here what we could do is
add a create method which is part of
phaser and then we could initialize our
global variables this just this tends to
be what I do if I'm building out a
little game so I'm gonna go ahead and
call a method called init global
variables we're gonna go ahead and
create this method in here and notice
that we're using a kind of class syntax
here all this is his syntax sugar around
JavaScript object oriented nature so all
we're doing is basically craying an
object here using this kind of syntax
and that is possible due to webpack so
how do we initialize our global
variables well we're gonna go ahead and
refer to this game which we're going to
be doing a lot throughout the course and
we're gonna set a global property to the
Global's that we've just
created and imported from the father
we've just created it's the first thing
I want to do is go ahead and import
Global's from we will want to go into
the Global's directory and we're going
to go ahead and plug that out from index
but what we want to do is clone the
Global's so they're fresh every single
time because we're going to be modifying
these and we're kind of pulling them in
from a default area we want to go ahead
and clone these Global's so for example
when we finish the game we want to get a
fresh version of them now to achieve
this I used lodash and I use the clone
method so if we just go ahead and head
over to here you'll notice that this
will go ahead and create a shallow clone
of the value that you give it of course
we only have a single level to the
object that we're exporting but you can
also use clone deep as well so let's go
ahead and install low - what we're going
to have to do is just come out of the
web pack watching and we're going to go
ahead and do an npm install on low - and
we're gonna save that to our development
dependencies or our normal dependencies
okay so now that's done let's go ahead
and do an NPM run dev once again let's
come over to our text editor and what
we're going to do is use clone once
we've closed this off to wrap that in
Global's now if we go ahead and import
clone from lodash at the top so let's go
ahead and pull this in that's going to
go ahead and clone that object set it to
our Global's
our game global property and we're
pretty much done so the reason that
we've done this is because once we've
booted the game up over in the actual
game itself which we have nothing in at
the moment once this is created we can
go ahead and draw that text to the top
so that's pretty much what we're gonna
do now now just to give you an idea of
this if I do a console lock on this game
global like so you'll notice just to
make sure that we spell that correctly
global if I come over and give this a
refresh if we see our Global's so we can
increment these we can decrement them of
course will be decrementing the lives
increment in the level and increment in
the score and that will keep up to date
as we redraw to the page okay so how do
we go ahead and do this then well the
first thing is I'm just gonna call a
mess method in here called
our text just to keep things nice and
tidy so we don't do everything inside of
create so let's create this setup text
method just inside of here and let's go
for the basics just at the moment let's
go ahead and say this game add text and
inside of here we give an X offset of Y
offset the text that we want any
properties associated with that text so
for example the font size the fill color
and all that kind of stuff how we align
it on the page and then we go ahead and
position it so let's go ahead and just
say 1 1 and let's say hello just to kind
of get a feel for this and let's go
ahead and give an object in here with a
font so let's say 18 pixels Arial and
it's go ahead and add a fill in here of
black because of course we want dark
text on a white background and we're
gonna say bounds a line horizontal I'm
gonna align this particular position so
let's say Center what we can then do is
set text bounds now this is gonna get a
little bit messy we are going to be
refactoring this in just a minute we're
gonna use a 0 and 0 for x and y and
we're gonna reference the game world and
the width of it and that's going to go
ahead and center align this for us so if
we just go ahead and give this a refresh
notice that we see the word hello just
up there so it's really that easy and of
course with the x and y offset we can
change this so for example if it wasn't
the center would probably say 0 20 and
that's gonna go ahead and pull that down
into the middle for us so that's pretty
much how we add text pretty
straightforward this does get a little
bit of time to get used to if you're new
to this kind of thing but let's go ahead
and just get rid of this and just cut it
and let's think of a nicer way that we
can do this and the way that I usually
do this is I have a create text method
and you could add this and a helper and
import it if you wanted to all we're
gonna do is return exactly what we've
just got rid of I'm gonna go ahead and
pull this down just so it's a little bit
easier to read I prefer to do this just
so we don't get in the way so let's go
ahead and pull this all down just so we
can see exactly what we're doing and
that's pretty much it so let's pull that
down as well and let's go ahead and pull
this in so now that we have this method
we want to take in an offset at an x
offset we want to take in a wire offset
we want to take in the alignment of this
which can be left
centre-right etc and the text of course
that we want to show so we need to do
now is just go ahead and replace these
in so a line let's replace this with X
offset let's replace this with y offset
and let's go ahead and replace in of
course pretty importantly the text that
we want to output so we now have a
little helper method that we can use to
create text and under set up text which
remember we're calling inside of create
when the game is created we can go ahead
and create this so for example I could
say this create text 2020 and I could
say left so this is going to be the
global game score and inside of here I
could say score is X for example so
let's come over and you can see that we
have our score nicely placed over there
for us now of course we want to pull
from the game Global's so we're gonna go
ahead and save this game global score
like so and that's going to go ahead and
give us that value that we imported by
default now we can duplicate this down
we can do the same thing for the center
so I'm going to say zero for the X
offset and 20 for the Y so it stays in
the same position on the y axis and this
is going to be in the center and we're
gonna say how many lives that a user has
and of course we're gonna pull from our
lives so we end up with the following
okay so third and last but not least we
need the level so this is going to be
aligned right and we're gonna say level
is and you guessed it the global level
and once that connected browsersync
message goes you can see that we have
that here now this isn't aligned quite
properly because of course we've just
duplicated this down so we're gonna say
minus 20 on the x axis so that just
pulls it over very slightly and once
again when when that message goes you
can see that we now have our score lives
and level ready to go so now that we've
done this we have our score lives and
level and once we're into the game and
we start updating these values we'll see
them repaint it to the canvas and of
course we can check these and do certain
things based on the lives and the level
so there we go we've created our text
let's move on and look at generating of
the bricks that we're going to be
destroying</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>