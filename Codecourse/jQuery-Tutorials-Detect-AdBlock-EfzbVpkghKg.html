<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorials: Detect AdBlock | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorials: Detect AdBlock - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorials: Detect AdBlock</b></h2><h5 class="post__date">2012-05-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EfzbVpkghKg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Alex from PHP Academy and in
this video I'm going to show you how to
detect adblock and whether a user is
using adblock on your web web web page
now we're going to be doing this using
javascript and we'll use the jQuery
library just because it's going to be a
lot quicker to access elements and
things like that okay so what do we need
to do first well I'm going to first of
all demonstrate implementing a google
adsense advert onto a page showing it
enabling adblock which i have down here
at the moment disabled then we're going
to go ahead and enable adblock and watch
the advert disappear then we're going to
do a little bit of Investigation then
we'll go ahead and write the code and
there's not a lot of co2 right at all so
what if I got here to start with well
I've got a basic document outline a
title which is irrelevant here a
container here with a class of advert
now the container that you wrap the
advert in is extremely important if
you're just pasting adsense code onto
your page without containing it this
method is not going to work because
we're going to be doing a bit of
detective work with this clutter the
element that's surrounding it so in this
case it's a div I've given to the class
of advert in case we need to style it we
can't give this a height that's really
important as well but I'll address this
all in a moment when we when we actually
look at this you can see I've included
the jQuery JavaScript library and i also
have a global javascript file as well
which at the moment has nothing in we're
going to be writing the code in here to
actually detect whether adblock has
blocked in the adverse or not okay so
probably the first thing we should go
ahead and do is paste some adsense code
in here which I will have blurred out
cuz I'm not sure about the terms of use
for ads and so this will just protect my
information so let's go ahead and save
this and run this here as well run this
entire browser so you can see that an
adverse appeared again this will be
blurred out just I'm not sure about the
terms of use but let's go ahead and
enable
blocks I'm going to click on this here
and you can't see the menu that's
appeared but I'm going to go ahead and
uncheck disabled refresh adblocks
enabled you can see this is red and the
advert has disappeared so what we need
to do is do a bit of Investigation why
this has happened and how we can detect
this so I'm going to go ahead and spec
the page go over to body and pull up
HTML and styles now here nothing's been
hidden if things are hidden then these
will sort of be grayed out in this
inspector here but what's actually
happened as its prevented the JavaScript
files from you know properly loading
anything in usually this would most
likely be an iframe in here if it's an
external advert so what do we do well
our div that surrounds our advert has a
height of 0 now at the moment now what
happens if we enable add blocks I'm
going to go up sorry disable adblock the
advert appears that's going to head and
inspect the page again and let's take a
look at this advert here now now this
advert you can see that the white area
on the page at the moment with a little
divot or advert thing coming down from
it you can see it now has a greater
height before it didn't have a height
because the advert had disappeared I
blog was blocking the advert the div
surrounding it was you know 0 in height
there was nothing in there so we can
actually use this to detect if adblock
has removed any of our adverts so that
brings me back to the point of the class
or sorry the element that surrounds your
advert you first of all need an element
surrounding your advert second of all
you cannot give it a specific height if
you give it a specific height the height
will always be that the point here is
that when the advert disappears the
element collapses to a height of 0 so
that's important so now that we've done
this let's go ahead and start to write
some code so I'm going to return to my
browser and I'm going
to actually now I'll keep adblock
disabled for now so inside of global jjs
we're going to write some some codes and
javascript jquery library code and we're
going to alert out the height of this
element so let's go ahead and just we'll
just sort of makeshift do this for now
and then we'll do a condition in just a
moment so I'm going to go ahead and
create a selector and I'm going to sell
it in fact I should probably do this on
one line I'm going to use a global
variable ignore that for now so far
let's just say height is equal to and
what do we want to select well we want
to select dot adverts now you can
obviously make this more specific you
might have different sized adverts you
need to bear that in mind as well so
selecting adver height so using the
height method i'm going to go ahead and
alert height so we can now have a look
at what this brings up so i'm going to
go ahead and refresh we've got to 85
which it you know sounds about right
this sell an advert with the height of
280 so the extra five pixels we can just
assume comes from google something like
that so now i'm going to go ahead and
uncheck disabled so I've enabled and now
when i refresh we get zero so now it
really makes sense to say that if the
height of this element is 0 there's no
advert there and therefore it should
well the advert should have displayed
there for the height should be shouldn't
be 0 so now we can go ahead and write
out if statement so I'm going to go
ahead and I'm going to get rid of this
and I'm going to say if surround this
here and then create my block so if the
height is equal to 0 we have detected
adblock simple simple as that so alert
your escape that run in adblock right so
obviously i don't recommend annoying
your users if they had if they have
adblock enabled that's obviously their
choice but what i would recommend is
perhaps sending a friendly message to
them on the page not an alert dialog
because that's really annoying and this
will just run for every page that they
access if this is a global javascript
file but in this case what you can do is
maybe just show another element that you
know has a little message for them or
something like that anyway let's go
ahead and refresh here we'll go ahead
and disable adblock first and there we
go the user isn't running out block but
I am running our block bits disabled and
therefore this alert dialog isn't coming
up so now if I go ahead and enable it
and refresh it says you're running out
block right so there we go we've
detected successfully whether the user
is running at block or not for our page
and as I said don't you know pull up an
alert dialog use this responsibly and go
ahead and maybe you know include some
kind of part of your site that you
politely notify them that you know it
would be nice if they removed adblock so
you could earn some advert revenue if
you work hard on your website so there
we go that's how to detect the presence
of adblock using three lines of jQuery
or JavaScript</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>