<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a JavaScript breakout game with Phaser: Handling the next level (11/14) | Coder Coacher - Coaching Coders</title><meta content="Build a JavaScript breakout game with Phaser: Handling the next level (11/14) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a JavaScript breakout game with Phaser: Handling the next level (11/14)</b></h2><h5 class="post__date">2017-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rwCouVlxY7w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we already know that the usual progress
to the next level once they've destroyed
all of the bricks so the first thing
that we need to work out is how do we
count how many bricks are still living
well this is actually pretty simple with
in phaser what we can do is save this
bricks which remember is our bricks
group and we can say count living that's
going to go ahead and give us the count
of our living bricks now if I just go
ahead and look this out notice that what
we'll get if we just head over to the
browser we can see that we've got 74 73
72 and so on and so forth
so what we can do with this is use it to
our advantage and go ahead and check if
we have no living bricks so we can say
is this or if we do have living bricks
we can say greater than zero well in
that case we want to return down here we
want to increment the level so you can
switch up the if statements depending on
your coding style but now what I want to
do is just say this game global level
and I want to set that to plus equal one
so go ahead and increment that by one or
you can do plus plus if you want to and
we're going to go ahead and like we did
earlier our score text we're gonna set
the level text text to level and then
the level that we've just incremented so
let's grab this pop that in here and
that's going to work now we have a
couple of other things that we need to
do down here have a think about what
that might be but in the meantime we can
go ahead and test that the level
increments when we've destroyed all of
the bricks now I don't expect you to
watch me destroy all of these before we
get to the next level so what we're
going to do is just come up to where we
generate our bricks here and I'm gonna
set rows and columns to one of course
what that's gonna do is give us one row
and one column eg one brick so if I go
ahead and release this and get rid of
that notice that the level does
increment but what's happened here well
we're not regenerating the bricks and
we're not placing the ball back on the
paddle ready for the next level now I
mentioned earlier that the reason we
extracted out the hooked ball on paddle
method is so we can set that to true and
go ahead and reset the position of the
ball so what we can do is once we have
destroyed all of them bricks just down
here we can go ahead and say this
put ball on paddle that's gonna solve
that issue so if we just go over give
this a refresh and destroy this brick
that's gonna put that ball back on the
paddle in the state that we need it
because we have that global ball on
paddle variable set to true that's going
ahead and sticking to the paddle as we
set up earlier but we haven't
regenerated bricks so what we do is just
say this generate bricks and we pass in
the bricks group that we previously
created so now despite the fact we only
have one brick if I go ahead and destroy
that the ball is back on the paddle the
scores incremented the level was
incremented and we can carry on doing
this for however many levels that we
have so there we go in the next part
we're gonna look at handling the lost
ball so eg at the moment when I go ahead
and click on this and I move my paddle
that's gonna go ahead and bounce
straight off the bottom we can't detect
if the ball has been lost
so let's handle that in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>