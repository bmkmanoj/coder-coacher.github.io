<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sign In With Twitter: Dependancies, Directories &amp; Files (3/5) | Coder Coacher - Coaching Coders</title><meta content="Sign In With Twitter: Dependancies, Directories &amp; Files (3/5) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sign In With Twitter: Dependancies, Directories &amp; Files (3/5)</b></h2><h5 class="post__date">2014-05-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UFkvVP4CiGU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so there's a dependency that we
need to install before we can actually
build our wrapper class to bring all
this functionality together and I had a
search through all of the different
libraries the PHP libraries for the
Twitter API and this one really jumped
out it's extremely easy to use really
easy to get started with there are
plenty examples on the github repo as
well in the readme so we're gonna
install this using composer so under
packages we've got the requirement here
we're going to place this into composer
file if you've not used composer before
it's basically a dependency manager for
PHP go ahead and download it and then
make sure you have a terminal window
open or a command prompt open in the
directory that we're working in so let's
go ahead and under Twitter orth which is
completely empty we're going to be doing
everything from scratch here let's
create a new file and we will call this
composer JSON this is basically just a
JSON object here and we're gonna have a
require property this is going to
basically have this in here so what
we're gonna do is we're gonna run
composer install under this directory
that's gonna find that composer JSON
file it's going to install that
dependency for us so now that's
installed back to our directory here you
can see that we've got this vendor
folder and we've also got a composer to
lock file that's been generated but what
we're interested in here is the autoload
file now what the auto load file does is
it loads in all of our dependencies from
composer so if you did have other
dependencies in your application these
will be loaded into so let's get rid of
these two and let's start to build up
the directory structure of our of our
application I'm gonna create a folder
called app and this is gonna store my
classes and it's also gonna store my
initialization file which I'm going to
create now so I'm just going to call
this init dot PHP and we can include
this from the index file the callback
file and any other files the
have that need this functionality now
the first thing that we want to do is
start sessions because we are going to
need to make use of storing tokens
within sessions so that's really
important and the second thing I want to
do is requiring the auto load from
composer that's basically going to
include in code bird so we've done that
and we can assume that this is going to
work so I'm going to include vendor auto
load PHP okay so we're also going to
include the classes that we have later
on but let's setup code bird so we need
to set our consumer key that's basically
just our public and our private keys and
then we need to create a new instance of
code bird a code bird uses the singleton
pattern and it is named spaced under
code bird so we need to access it by its
name space so it's code bird slash code
bird and then we have a static method
here called set consumer key so this
takes two parameters here which is our
public and our private key so here's our
API key and then we want to put our API
secret in there as well
so let's grab both of these and put them
into here and that's done so we've done
that we've set the keys and hopefully
now we can get access to our application
we created earlier now I'm going to
create this variable here which we're
going to inject later on into our own
Twitter or class so this is basically
going to be an instance of code bird and
again like I said we're using the
singleton pattern here so this is just
going to be under the code bird
namespace code bird get instance and
that's it
so we've now got this client let's just
do a var dump on this client just to
make sure things are working and to test
this out let's create a new file inside
of here and this is inside of our route
remember and call that index dot PHP and
in fact while we're at it let's create
our callback file as well so that's
going to be called
PHP so under index let's do a require
once and let's require app in it PHP and
Colton that should be it and we'll do
that same for callback as well and we'll
be including our other classes in here
later so app in PHP perfect so now if we
have over to here there we are we've got
our object our code bird object dumped
out for us so we know that that's
working okay so instead of doing that
let's get rid of that all we need to do
in here later it include our DB class
and Twitter
orthe class in fact let's do that now
just set everything up so we've got
everything where we need it so let's
create a new folder in here called
classes this really depends on how your
application is structured it might be
structured completely different we're
gonna have a DB class we're gonna use
this later
- basically query the database and
insert a record we can get rid of that
for now and inside of classes let's also
create our main Twitter orth class so
I'm going to call this Twitter or PHP
okay cool so that's going to be our
Twitter auth class now on the index dot
PHP let's require these both in so it's
gonna be app classes DB dot PHP and it's
going to be app classes Twitter or PHP
okay so let's just make sure they're
included and there we are we don't see
any errors so we're pretty much set up
now we're going to go on next to look at
actually creating our Twitter auth class
generating our URL that's going to put
us through to Twitter and dealing with
tokens and things like that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>