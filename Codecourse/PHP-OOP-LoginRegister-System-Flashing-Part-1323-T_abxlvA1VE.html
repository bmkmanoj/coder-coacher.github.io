<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP OOP Login/Register System: Flashing (Part 13/23) | Coder Coacher - Coaching Coders</title><meta content="PHP OOP Login/Register System: Flashing (Part 13/23) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP OOP Login/Register System: Flashing (Part 13/23)</b></h2><h5 class="post__date">2013-10-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/T_abxlvA1VE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're now going to add the ability to
flash data with a session so we're going
to be finishing off our session class
that we've already looked at when we
looked across site request forgery
protection and we're going to be
creating this flash method now this is a
concept that might be new to some people
but essentially flashing data is the
ability to put very very simply flash a
message to someone and then the next
time they refresh it isn't available
anymore
and that's essentially what we would
tend to use this functionality for so
we're going to bake this into our
register dot PHP code and we're going to
we're going to bake this in here
basically and then an output message
here just as an example but we can do
this after redirects as well so we'll
check we'll see how it makes sense here
and then we'll use that later on I want
to register a user has been successfully
registered so let's go ahead and start
to build a method and it can get a
little confusing it can't seem like you
know why why does this functionality
exist but we'll see and we'll see a live
example of actually how this works so
we're going to say public static
function so we'll create a public method
called flash and we want to say a name
for the flash data and the contents of
the flash data as well we're going to
set that to null initially or it could
in fact just be an empty string to be
honest though you make more sense so the
first thing we're going to do is check
if the session exists so we're going to
say if self exists name if the session
does exist we want to set the the value
that we return to the session data that
we've set return it and also delete it
so that basically means we're creating a
message giving us ourselves the ability
to show it on the screen or output it to
our page and then delete it so the next
time user refreshes the message goes
because if for example a user registers
you want to redirect them to a home page
and say you've been successfully
registered you don't want them then to
refresh the page
and have that message appear again it's
unprofessional it doesn't really matter
it doesn't affect the functionality of
your application but in terms of the
usability doesn't look great so we now
say we want to store the session in this
variable so we say self get remember
using self with the scope resolution
operator because this is these are
static methods and we're going to say
self get name to the name of the session
what we're then going to do is we're
going to say self delete name so we
delete the session and then we would
turn the session so it's straightforward
now otherwise we want to actually set
the data so we're going to say self put
name string so we're using the put
method that we created before to put a
specific value in a specific name if
you're still not following don't worry
we can they now use this and this is the
method complete but you'll now see why
this is so useful so if a user does
successfully register we're going to say
session flash we'll say success you
registered successfully so that's the
the root the reason we're using it with
flashing a message called success and
we're saying you registered successfully
now let's go ahead and just temporarily
use the header header function to
redirect ourselves to index.php and on
index.php let's go ahead and open that
up I'm going to create a small check
just to say if session has success echo
session flash success now what this is
going to do is and you can do this a
little better and if you want rather
than having to have another if statement
here you could in fact we could we could
remove the need for this all together to
be honest and we could just say echo
session flash success
because we could just return an empty
string from our our our thing here so we
could just say return nothing otherwise
so an empty string otherwise the only
reason you might want to do this if
statement is you might want to inject
additional markup around this a little
message or something like that so I
think we'll keep it like this for now
and we'll just get rid of this return so
if the if session has success then we
want to echo the flash message success
once this is run remember in session
here we're going to be removing it so
we're going to be returning it anyway
but we're also going to be removing it
to the next time it won't run it will it
will run but none of these will be true
so nothing will happen so let's go ahead
and check this out let's go to our
register page register blah blah blah we
get all that areas let me just go ahead
and put my data in so Alex alright okay
so now I'm going to register and if this
is all gone well we're going to be
redirected to index dot PHP and we're
then going to be presented with the
message that we've defined in our code
in here the next time we refresh index
dot PHP that message will disappear
because we delete the flash session so
if we click register ah
now of course username already exists
and it's actually them so register okay
fine session I'll sorry I'm saying
session has and it's session exists
lovely so let's go back to register dot
PHP and we'll say username Ashley
password password and I'll just Alex
Garret
so if I click register Wow okay
nothing's happened so let's see what
could have happened here and it's
returned session so returning the
session self get name exists name let's
just check session
let's just try this once more there we
go okay I'm not sure I didn't work
before but okay so now what we've done
is we've registered we've we've
redirected to index.php and we have
output this flash session message now
what's going to happen is when we
refresh because the sessions been
deleted it won't be it won't be shown
the next time so that's basically where
we're at with flashing this flash method
basically just a flash a message
so flashing a message to the user
deleting the session therefore it's not
done you don't have to call it flash
it's just basically a common way to
describe this kind of functionality but
with the end of that that basically
means that our session class is complete</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>