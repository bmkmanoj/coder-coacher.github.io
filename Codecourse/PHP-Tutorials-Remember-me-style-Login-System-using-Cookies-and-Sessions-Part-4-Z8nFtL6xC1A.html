<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 4) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 4)</b></h2><h5 class="post__date">2009-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z8nFtL6xC1A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so like I said in last part we're
gonna come down to here and what we're
basically going to be doing is we're
gonna be comparing or rather checking
this login okay variable to determine
whether the login was successful or not
and obviously we're using an if
statement so I'm going to say if login
okay
equals equals remember we're making a
comparison equals true then we can
execute oh I forgot the start of the
block execute a block of code here
otherwise we're gonna say else died
incorrect user name password combination
okay so if this makes sense we're going
to say if md5 passed what if the md5
encrypted password equals the already
encrypted password in the database ie
does it match then the login okay
variable is true otherwise the login
okay variable is false and then we're
coming down and saying if the login okay
is true so if it has been set to true
therefore this would be true then we can
execute a block of code this just makes
it a lot easier and a lot neater to to
work with okay now we need to bring up
an yet another if statement and this is
going to be if remember me which
remember if we scroll up is the posted
checkbox' value if remember me equals
equals on remember I said that the value
returned is going to be on then we're
going to set a cookie so what I'm going
to do for now is just put the function
there blank of anything and then down
here I'm gonna say else yes remember me
equals equals nothing so if it is equal
to nothing like I said in I think in the
second part of the tutorial
if the remember me or the check box
rather called remember me has not been
selected it just returns a blank value
then we're gonna set a cookie
so dollar underscore oh sorry set a
session
variable and that's going to be equal to
something I mean what we'll do is we'll
work with the session first and we're
going to call this session username
again if you're not sure about sessions
I do have to do a tutorial on it that
pretty much explains the mount this is
going to be equal to username so the
session username is going to be equal to
the value of the username that they've
typed in so we can refer to the username
later on if you're building sort of like
a website through this and later on in
the tutorials we're going to in this
tutorial we're going to referring to the
username session we've called it
username this is for things like the is
set function so we can say stuff like is
set session username and that means are
they logged in has this line here being
processed and this been set now you
might have noticed that I've done a mess
mistake here luckily I've spotted it
I've done a comparison operator I need
to assign this is an assignment operator
which is a singly course
so we're assigning the session value or
the session ya session value is username
now and we're gonna set a cookie if the
remember meek was on and so the this
cookie is going to be called username
that's the first parameter that we're
bringing up the second parameter is the
value so this would be a value it can be
a string value an integer value whatever
you like but obviously we're gonna be
using username so this and this are
completely identical now apart from the
fact that this is a session and this is
a cookie so a cookie doesn't expire to
the certain at certain time and a
session expires when the user's browser
is closed so we're gonna set the
expiration time and this is going to be
time so the current time but then we're
going to add on 7200 seconds which is 48
hours you can use like a Google
converter or obviously your own
mathematical
you know like a calculator or something
to calculate the amount of days you want
this set you might only choose to have
24 hours so you just have this value but
yeah this basically sets whatever you
set this to it expires after that
specific time and obviously this is the
time at the moment so this is in the
future
okay so we've set the cookie now and set
the session depending now the only
problem we've got is with sessions we
always need to use the session start
function at the top of a page and what's
better to use at the top of a page is
our function stop PHP so I'm going to
come into functions dot PHP I'm gonna
just comment this out and I'm gonna say
session start
and that's basically gonna start our
session so our so this command will
actually work without this here this
command won't work and won't store this
value inside this session variable oh
okay okay then so the next thing to do
is to redirect the user once they have
successfully logged in remember you need
to do this within this if login equals
true box block sorry otherwise outside
we're gonna redirect them even if they
even if they haven't entered the correct
credit n chose so we're gonna use the
header command I'm gonna set the
location to user area dot PHP so it
redirects them straight to the user area
page here that I've created and then
underneath this we're going to say exit
the reason I do say we're going to use
this command is like I mentioned before
some browsers are modified not to take
into account header information and
header redirects so this exit script
will ensure that the user definitely
can't proceed through this script if
they have to say what headers in one way
or another header redirects okay so this
pretty much should work now let's go in
and test it and just going to refresh
this page
okay so I'm gonna type Alex and I'm
gonna take a completely wrong password
and click login
okay we've got an error message
incorrect news name password combination
I'm ignoring the room that remember me
part from now cuz we're going to test
this a bit later on now I'm going to
type the you know my actual password
it's one two three
remember when we press the login button
this is going to be encrypted to md5
which will look something like that and
then the md5 this which is encrypted to
md5 is going to be converted to this md5
hash which is already encrypted so we
know comparing the same value and then
it should say well that's equal that
must be the same password so proceed
with the login so now I click login and
I am redirected obviously to nothing at
the moment but you can see up in my
address bar we have been redirected to
user area dot PHP now we don't actually
know whether the cookie or session have
been set successfully yet and that's
what we're going to do in the next part
of the tutorial we're going to use this
user area to check whether the user has
been logged in via cookies or via a
session so check out the next part and
you'll learn how to do that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>