<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel URL Shortener: Migrations (Part 3/4) | Coder Coacher - Coaching Coders</title><meta content="Laravel URL Shortener: Migrations (Part 3/4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel URL Shortener: Migrations (Part 3/4)</b></h2><h5 class="post__date">2014-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HWHlwW33Du0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so for the start of our back-end
functionality will be creating laravel
migrations in case we need to move out
database schema elsewhere so you can see
inside of my MySQL Monitor I've used a
database called short and we have show
tables returning an empty sets there are
no tables in here at all
now inside of here you're gonna need to
go into app dot PHP in turn to bug true
this just helps if you're going to come
across the errors you can actually see
the stack trace there and you'll also
want to change your MySQL or whichever
database solution you're using
credentials here I've changed mine to
root root and short which is the
database I'm using so we don't need
these anymore so inside of our MySQL
monitor we have no tables let's create
some migrations so inside of the URL
short folder I'm gonna run PHP and
artisan and I'm gonna say migrate make
and this migration will create our table
that's going to be called links so I'm
just gonna say create underscore links
underscore table once that's done and we
head over to database here migrations
you'll see that migration created and
you can see our class name is creating
its table much like the name we gave it
in here so the migration will use the
schema functionality in Nara veil so
we're gonna create a table here called
links now we have a call back which is
going to contain the argument T or table
whatever you want to call it and we can
now start to build up our schema so I
want an auto incrementing ID field so I
say T increments and I call this field
ID I want to store a URL obviously so
this is going to be string URL and
that's going to be a maximum of two five
five we're also going to store a string
which is going to be the code and I'll
just give this 12 characters and we also
want to store the created app and update
it out
Bates or timestamps or eight-time fields
so we use the timestamps functionality
here so inside of down we just want to
do the opposite so in schema we want to
drop a links table so let's try running
this migration and then we'll head back
over to our MySQL monitor and check that
these have worked so we say PHP artisan
migrate and there we are we've migrated
successfully so let's run the show
tables command again and you see that
we've got two tables here migrations is
obviously the table that keeps track of
migrations and links is the one that
we've just built using that migration we
created so let's describe the links
table and you can see that everything is
exactly as we expected so we're now
happy we can roll this back to test it
so if we just do a PHP artisan migrate
rollback and we check this that's great
the links table doesn't exist that's
what it expected let's run the migration
again and that brings that back so we
know that our migrations work now so we
can go on to build the rest of our
functionality</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>