<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP OOP Login/Register System: Database (Part 2/23) | Coder Coacher - Coaching Coders</title><meta content="PHP OOP Login/Register System: Database (Part 2/23) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP OOP Login/Register System: Database (Part 2/23)</b></h2><h5 class="post__date">2013-10-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l_AA5-t5xNw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the first thing that we're going to do
is actually go ahead and set up our
database structure just so while we're
building our system we know that we can
work with the database insert records
read from the database so we need three
tables here the first one is a user's
table the second one is a groups table
and the third is a sessions table which
will store session data of people that
have asked to be remembered to to be
signed in so the first thing we're going
to do is create the users table this has
seven columns so let's go ahead and
create this now the first column here is
ID and that's going to be an integer and
this is going to be auto increment so
every time a user registers this will
increment or every time a record is
inserted rather this will be incremented
we also then have a username a password
assault which we'll explain a bit later
a name the date that they joined and the
group that this user is in which by
default will be set to one we'll handle
that in our code so the user name is
going to be a varchar
so variable characters and we're going
to set a max of that length of that 20
so in our code when we validate we're
going to make sure that the username
never exceeds 20 characters now the
password is going to be a hash a one-way
hash so we're going to put that 64
that's the link that we're going to be
generating out and the salt is going to
be a 32 character have a salt as well so
the name is going to be a bit larger 50
characters just to allow for larger
names again in our code we'll make sure
that that never exceeds 50 joined is
going to be date/time so date time there
which obviously includes the date and
the time and the group is going to be an
integer that will just be whatever
corresponds to the ID of the groups
table so let's go ahead and create this
there we go we've done so let's take a
look at the structure that's the
structure we've got everything that we
need so let's go on to creating another
table and this is going to be the
group's table this is significant
significantly smaller so that will be
three columns
the first one's going to be an ID sick
one is going to be name and then the
last one is going to be Commission's so
the idea again is going to auto
increment and that's going to be the
primary key the name here we'll just say
20 because this will just be the name of
the user for example standard user or
administrator and the permissions is
going to be text now the reason we're
doing this is this is going to be a JSON
object or JSON string if you like of
different permissions as specific user
can have so ministry will have an admin
property of one but again we'll go into
this a bit later on so that's our table
sense of that and let's go ahead and
create the last table that we need and
that is the user's session table and
again this is going to have three
columns so this is to hold session
hashes of people that have asked to be
remembered it when they're logging in so
again we'll go into this later but
basically this is just going to store a
hash which corresponds to a user ID and
if these match if the cookie hash
matches in the database then the user
will be logged in so we're going to have
an ID a user ID to determine which user
it is and a hash as well and this hash
is going to be 50 characters user ID is
an integer and again this will be an
auto increment so there we are we've got
our three tables that we need let's go
ahead and just fill in some group data
while we're here so I'm going to create
a standard user and I'm going to put no
permission so there's no need to define
any permissions for this this is just
going to literally be a standard user
and let's go ahead insert another one
and I'm going to say administrator now
in here we're going to create a JSON
string and we're going to say admin one
now the reason we're doing this is we're
going to check based on permissions and
this is the permission identifier so
we'll look at this later on when we
build our user class so that's basically
it for our database we've created
through the three tables that we need to
make everything work and later on we'll
be interacting with these tables very
very
heavily so we'll you know we'll be
looking at these as we go so that's
three tables that we need and we filled
in the data for groups and later on when
we start allowing users to register or
be able to insert some data into those</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>