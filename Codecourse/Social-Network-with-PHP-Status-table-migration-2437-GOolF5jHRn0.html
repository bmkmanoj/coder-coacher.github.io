<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Social Network with PHP: Status table migration (24/37) | Coder Coacher - Coaching Coders</title><meta content="Social Network with PHP: Status table migration (24/37) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Social Network with PHP: Status table migration (24/37)</b></h2><h5 class="post__date">2015-08-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GOolF5jHRn0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's create our statuses table
migration so we can migrate this and
create our table within our database and
this is going to handle status replies
as well we're not going to have a
separate table for this so we're gonna
have a parent ID because the status
technically is the same it contains the
same things a body a timestamp an ID and
we can just relate them two together but
we'll look at how we do that later when
we look at replying to statuses so let's
head over to our command prompt and
generate a new migration so we say PHP
artisan make migration and this is
create statuses table so once that's
done you can head over to this here and
start to build up our schema so we're
gonna say schema create the table is
statuses and as we've seen a couple of
times before we have our table in here
so we're gonna have an incrementing
column called ID that's increments where
all of us are gonna have a user ID
because a status will always belong to a
user
so integer user ID we're going to have a
parent ID which is going to be four
replies we'll look at that later and
that's going to be nullable because a
status isn't always going to have a
parent ID because it might just be one
status not a reply to a status and then
we have our body text and finally we
have our time stamps and once again for
the down method we want to remove this
table if we roll back so we just drop
the statuses table so let's run this
migration so PHP artists and migrate and
that will create our table for us let's
head over to our database and just make
sure that it all looks good it's over at
our structure and everything is looking
good here so that is our migration
created next we're going to look at how
we
can using the form that we see when were
signed in actually create a status</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>