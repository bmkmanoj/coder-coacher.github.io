<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Calculating Page Load Time (Script Execution) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Calculating Page Load Time (Script Execution) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Calculating Page Load Time (Script Execution)</b></h2><h5 class="post__date">2012-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ki1TyDLQ_jM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Alex from PHP academy' and in
this tutorial I'm gonna talk you through
adding a couple of short snippets to a
page to give the page load time so this
is extremely useful if you're developing
want to cut down the page load time of
your scripts obviously it's extremely
important to ensure you've got a low the
lowest low time load time possible you
know for a variety of different reasons
we won't go into them but obviously
apart from being beneficial to your
users it's beneficial for you know
search engine optimization ensuring all
of your pages are you know as fast as
they possibly can be so if you are
performing you know say lots of database
queries lots of calculations calling
lots of different functions or you know
anything like that you're you know gonna
be increasing the page load time and
there's almost always a better way of
doing things so in this example we're
not really going to be doing anything
interesting we're just going to be you
know performing a few calculations and
then displaying the load time of the
page in a way that makes sense to us we
don't want to display as its naturally
displayed with lots and lots of you know
well it's a it's a large number anyway
okay so the first thing we want to do is
establish when the script starts to load
so we're going to go ahead and create a
variable called start and this is gonna
be able to micro time we're going to use
the micro time function now by default
micro time returns a string so if we
were to go ahead and echo out start you
can see that we get this as a string and
what we don't want well it doesn't look
like a string that is what we want to do
is we want to choose true to return
integer instead or a float instead
rather
so when we echo out star we can actually
start to perform some kind of
mathematical operation on this okay so
here we've got it as we need it we want
to you know store that in to start do
what we want to do in our page and then
we want to calculate an endtime and
subtract this end time or subtract the
start time from the end time so I'm
going to create a new variable called
end and this is going to be micro time
and again true because we want it as a
float to be able to perform the
following operation which is minus start
and it really is as simple as that if I
go ahead now and echo out end you can
see that we get this result here now it
looks a bit dodgy the reason being is
that we need to format this number okay
so we're gonna make it a bit more
user-friendly and we're going to say
this page loaded in and then we're gonna
say and seconds okay so at the moment it
looks something like this which is
obviously not very friendly you know
we've got an extremely large number here
but we're not we don't really need so
what we want to do is we want to use the
number format function so it's the
number underscore the format and then we
want to enclose this equation in here
I'm going to place these in brackets as
well just to tidy everything up and I'm
gonna choose two decimal places so we'll
have two decimal places of two decimal
places after so you can see here is no
point in normal seconds now you might be
wondering why is the page time not going
Norton or seconds well not actually
really doing anything in the page that's
worthy of any you know page loading time
so what we want to do as I'm going to go
ahead I'm gonna create a for loop
probably the best example to use in this
case because it's going to run through a
loop of something so it's gradually
going to build up some time I'm going to
create my initial variable as X my
initialize that
X the condition is going to be 1 X is
less than or greater to 1 million and
then I'm gonna say X plus plus so that's
the incremental stage of this for loop
where I'm incrementing the X variable
okay so now what I'm gonna do is I'm
going to create another variable up here
and that's going to be Y which is gonna
be equal to 0 and inside I'm gonna
assign X to Y okay so x equals y that's
sorry y equals x now when we refresh
here you can see that we've started to
gain some page load time only about
point zero nine and point one of a
second okay so not really a lot now what
happens if I go ahead and say Y tie
sorry x equals which is y equals y times
P I for example which is obviously PI
when i refresh you can see we've got a
significantly larger load time that's
sort of almost doubled that now I could
go ahead and do is say Y x equals PI and
we could even put some brackets around
that times two okay so in this case
we're gonna get a much larger load time
we've got you know half a second now so
you can see that if you place this piece
of code here which grabs the micro time
in float float format so you can you
know do this subtraction down here at
the very very top of your page so before
you do anything before you connect to
your database before you load any
settings before you do anything and then
at the very very very end of your page
after you've done everything you have
this end variable which subtracts the
start from the time at which your page
has completely finished executing then
you can display out in a user-friendly
way by saying number format and by to
the amount of seconds it took for your
page to load
now obviously you don't have to display
this to your user but even for your own
purpose it's a lot better
if it's displayed like this another
really good tip is if you let's say
every time your page loads insert a
record into a database table with the
page load time and perhaps the page that
this happened on as well if you have a
header and footer that you include
include on lots of additional pages or
lots of duplicate pages it's a really
good idea to you know gauge what kind of
page load time you're getting on each
page and then you can perform some SQL
queries and see which of your pages are
performing you know less well or slower
than others and it's you know gives you
a really good position to go in and
start creating your pages fiddling
around with them and making them a bit
faster so that's how you calculate the
page execution time in PHP</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>