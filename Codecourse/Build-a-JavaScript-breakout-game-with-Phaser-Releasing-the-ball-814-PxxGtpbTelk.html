<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a JavaScript breakout game with Phaser: Releasing the ball (8/14) | Coder Coacher - Coaching Coders</title><meta content="Build a JavaScript breakout game with Phaser: Releasing the ball (8/14) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a JavaScript breakout game with Phaser: Releasing the ball (8/14)</b></h2><h5 class="post__date">2017-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PxxGtpbTelk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we're now at the point where we want
to be able to click on the screen and
have the ball be released this might
sound like it's gonna be pretty
difficult but phaser is actually doing a
lot of the work behind the scenes for us
so if we come over to our game jsf aisle
let's go up to when we first of all
start to kind of initialize anything so
this is just up here after we've set
everything up now what we're gonna do is
a similar thing that we did inside of
our panel we're gonna say this game
input but we're gonna set an event
handler on on down which basically means
when we click what we then do is we call
a method in this case I'm going to call
this release ball and we pass reference
to the current game into here so let's
go ahead and create the release ball
method and we'll see what happens when
we go ahead and click so we're in our
game I click and we see sure enough test
console.log now now how are we gonna
release the ball that is the question
well let's first of all just say this
ball on paddle equals false and just see
what happens
let's give this a refresh and click
notice that this goes ahead and unsticks
that's the first thing that we need to
do because of course once we've gone
ahead and release the ball we don't need
to stick to the paddle or it's just not
going to move anywhere now that's the
first step but now what we need to do is
control the velocity on the X and y-axis
of the ball now you can go ahead and
play around with this to increase how
fast it moves but I'm gonna go ahead and
say this ball body velocity and I'm
gonna set on the x-axis if I let's start
with the y-axis just so we can see this
working to minus 300 so what we can now
do is go ahead and click to release the
ball you can see that's going to go and
fire up it's going to bounce on all
edges of the world it's not gonna
interact with a paddle yet so if you
notice if this goes down it's not
interacting the paddle of course it's
not interacting with any of the bricks
as well but we have a good star now if I
go ahead and duplicate this and set the
velocity on the x-axis I can set this to
something like minus 20 you could bump
it up as high as minus a hundred if you
wanted to all this is gonna do is it's
gonna give it a little bit of variation
so when I click this is now going a very
slight angle on the X ax
of course - x-axis is going to the
left-hand side so that's something you
can add if you don't this to just bounce
straight up just to add a little bit
variation and of course you could
generate a random number there as well
if you wanted to okay so the other only
other thing that we want to do in this
part now that we've got this ball going
is when I go ahead and click again
notice that this is just resetting that
velocity and it's going ahead and
pushing it back up again now we don't
want that to happen because people could
obviously use this to cheat so what we
want to do is inside of release Bowl we
want a little check in here to see if
the board isn't on the paddle we don't
want to release the ball that's as
simple as saying this ball on paddle
checking if it's false and going ahead
and returning so now if I go ahead and
give this a refresh and I click I can't
re click to increase the velocity on the
x-axis to push that back upwards so that
is pretty much it we now have a ball
that's going ahead and floating around
the world remember that the reason that
this works is ball Jas has collide world
bound and check well balanced it to true
if I go ahead and get rid of this notice
what happens I'm gonna go ahead and
click and we'll see that this will
literally just go up and pretty much
just disappear so that's why we added
that earlier and of course we set the
body bounce as well so if I get rid of
this notice that when I click that's
gonna go ahead and just stick like that
so there we go if I go ahead and
uncommon that we now have a ball that
can move around and we are going to move
on to the next part where we can look at
collision detection without paddle and
our bricks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>