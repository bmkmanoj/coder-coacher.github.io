<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create Your Own Notice Boxes: JavaScript (2/2) | Coder Coacher - Coaching Coders</title><meta content="Create Your Own Notice Boxes: JavaScript (2/2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create Your Own Notice Boxes: JavaScript (2/2)</b></h2><h5 class="post__date">2015-03-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/e0-HkAGWLeQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now that we have our alert boxes
styled we're now going to handle the
JavaScript to actually close this I'm
going to be doing this a little bit
differently we're going to be using
jQuery yes but we're going to be using
CSS transitions to fade these out when a
user clicks on the close button so the
first thing we need to do then is pull
jquery into our project so i'm going to
use google hosted libraries if you just
google for that we're going to pull in
jquery version two dot one dot three so
we can copy and paste this link directly
into our project so if we go to the
bottom of the page here let's create a
script tag with a source attribute and
just paste that in so now when we
refresh we have jquery loaded into our
page ready to go so inside of this jas
directory i'm going to create a new file
and i'm going to call this alert dot j s
or you can call it alert jquery jas
whatever you want to do so we've got
this javascript file we can start
writing our very small plugin would be
doing this step by step and testing
along the way so what we need here is a
function which is going to when it's run
its going to pass in jquery this is the
essentials of building a jquery plugin
and in here we give our jquery dollar
sign so now what we're going to do is
attach our plug-in to jquery's function
scope so i'm going to say dollar for
jquery the FN for function alert equals
function like so so all this is going to
do is any element that we attach this
plug-in to or run this plug-in on is
going to do something so we can just
console.log something here so what i'm
going to do is load this in so i'm going
to say script source GIS jquery what was
it alert Jes and down here I'm just
going to do this in line but obviously
you would want this in a separate
javascript file we'll just keep this on
the page to avoid having to create
another file just for now
so what are we targeting or we are
targeting any element with the alert
class and i'm going to apply our plug-in
to that now so now what's going to
happen is when we refresh we see
something output you notice we only see
this output once what we need to do is
we need to target each element that's
created because otherwise we're not
targeting all three we're only targeting
the first element here so we can see
this evidently by saying console dot log
this dot attribute class and that will
give us alert that's only targeting the
First Alert not these two here so what
we need to do then is we need to return
this dot each so for each element that
we are targeting with this plug-in we
run this callback so now I can console
log this dot attribute class and what
we'll see is all three so that means
that we're targeting all three of these
we're running whatever's within this
function on all three so as a little
shortcut what I'm going to do is I'm
going to define a variable called self
and that's going to reference this just
so we don't have to keep doing this over
and over again so what we need to do now
is we need to target this close element
here here and here within each of these
so I'm going to say self dot on click we
want to target the closed class and then
once that close button is clicked we
want to do something so we're going to
say console.log closed just so we can
see that this is working so when I hit X
here we get closed X here we get closed
again this to just means that it's been
out but twice and we click again and we
get three
and we now know this is working we can
do something in here which closes these
elements now what you could do is just
do self dot remove if you wanted to all
that would do is just remove that
element so this works just as normal so
it's perfectly fine to do that if you
want to but what we're going to be doing
is we're going to be adding a closed
class to the actual alert here so we'll
end up with this now the reason that we
do this is so we can use CSS transitions
rather than using jQuery animation we're
going to rely on CSS to transition this
and then it'd be nice and smooth so
inside of our CSS file we need to define
how this transition is going to happen
so what we want to do then is the alert
it's going to have a default opacity of
one we don't really need to define the
opacity here as one because it will
already be an opacity of one what we
need to do though is when this close
class is applied we want to reduce this
opacity to something like point three
well it will be 0 but you can see how
this affects it so let's get rid of that
and here we're going to say alert close
now with this class attached to our
alert class or this class alongside of
our alert class we want the opacity to
be zero so what we can do is from our
JavaScript we can say self dot add class
close so now what's going to happen is
when we click this what we've done is
we've added this class here you can see
that class has been added but now we
have Anna pacity of zero the only
problem with this is that because we
have an opacity of zero the element
still actually exists on the page so
it's still you know giving us that
spacing that that element is it is
giving on the page so what we need to do
is we need to detect when the transition
has finished then remove it from the
page because we don't need it anymore if
the users dismissed it so what we want
to do is won't say self we need to end
attached
handler now the event handlers here are
transition end we also have support for
web kit as well transition end this is
the that's a capital e this is the
default event handler this is the fault
event sorry that's thrown and then we
have Oh opera transition end like so so
if any of them are called or fired sorry
we're going to console.log transition
finished so what that's going to do is
when we click this pay attention to the
console just down here when I click this
and doesn't look like thats work so
let's just check this and of course we
actually forgot to add the transition
which is really important so what we're
going to do then is I should have
noticed that we're going to actually add
the transition just in here so I'm I'm
in chrome you're going to want to hit go
ahead and look up the vendor prefixes
that you require for transitions so in
my case I'm going to say WebKit
transition we're going to transition on
the opacity we're going to have this
last for say one second we can change
this to like point two seconds if we
want and then we're going to say ease in
so I'm going to duplicate this down I'm
going to add the standard prefix go
ahead and like I said check these and
make sure that you're using the vendor
prefixes that are required and let's
take a look at this now when I hit this
you can see that actually fades out now
and because the transition end and
WebKit transition end or i/o transition
end has been fired we now get this
transition finished message just here
but we still haven't solved our problem
all we're doing is logging in the
console that the transition is finished
what we now want to do is say self dot
remove now the whole reason that we do
this is because if we remove this up
here for example so if we were to take
this move it here
we'll just comment this out and the
element will be removed before it's had
a chance to actually transition so the
reason that we put it down here once the
transition is finished is because we
have that nice transition out and then
we can go ahead and remove the element
because we know that the transition is
finished so if I hit this now you can
see it fades out then removed fades out
and removes fades out and removes and
there we go so with very little effort
we've built the styles for the alert
boxes that fit any container look nice
you can change the colors depending on
the different styles that you want for
each alert box and we've gone ahead and
built very simple jquery plugin to
handle closing the element with CSS
transitions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>