<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Social Network with PHP: Likes table migration (31/37) | Coder Coacher - Coaching Coders</title><meta content="Social Network with PHP: Likes table migration (31/37) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Social Network with PHP: Likes table migration (31/37)</b></h2><h5 class="post__date">2015-08-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/diyfvU36iNA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're now moving on to give the ability
for users to like things and I say
things because we're gonna set this up
in a way where we can't just like
statuses we can like anything we're not
actually gonna be including that now but
we're gonna set it up so if later on you
want to be able to like a photo if you
wanted to be able to like a user's
profile or anything we're gonna make
this really easy with polymorphic
relationships so the first thing we're
gonna do is actually create the users
either likable migration so we'll head
over to our terminal as usual and just
start to create this migration so we're
on PHP artisan make migration create
likeable table and we'll just happen Ian
therefore likable the reason we say
likable is because it's a polymorphic
relationship and we're assuming anything
can be likable if we set it up in that
way and that's why we don't call it
likes or something like that so let's go
ahead and create that migration and
we'll go ahead and fill this out now so
it's close everything off that we don't
need and over in our database folder
under migrations once again we have this
likable migration and we'll go ahead and
fill this out now so again with our
schema builder we're gonna create our
likable table have our table there and
we can say increments ID so this is
going to obviously relate to a user so
we're gonna have an integer field with
the user ID now this is slightly
different if you've not looked at
polymorphic relationships with laravel
before what we have here is we have a
likable ID and I like all type and I'll
explain what these are in just a moment
so likable ID and a likable type which
is going to be a string and I'm gonna
include my timestamps on here as usual
so let's just add them in there so a
likable ID is an ID of anything within
any model that can be liked so it gives
you the flexibility
if later on we implemented a photo
stable and we wanted to like photo one
the likeable ID would be one and the
likeable I'd like will type would be
chatty forward slash models for such
photo as our model so it gives us the
flexibility to like anything we're not
just tying it down to statuses which is
really important and we could really do
that with commenting as well or whatever
so it's you know polymorphic
relationships are flexible so for our
down method we're going to drop our
likeable table let's run this migration
so PHP artisan migrate and as always
we'll head over to our database and just
check that that is all good so over in
likable we have got a likeable ID a
likeable type and everything looks good
so now that we've done that in the next
part we're going to setup our like model
and then we'll look at how we have these
polymorphic relationships between our
statuses and our like</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>