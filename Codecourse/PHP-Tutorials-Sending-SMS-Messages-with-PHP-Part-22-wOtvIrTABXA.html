<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Sending SMS Messages with PHP (Part 2/2) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Sending SMS Messages with PHP (Part 2/2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Sending SMS Messages with PHP (Part 2/2)</b></h2><h5 class="post__date">2012-06-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wOtvIrTABXA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so welcome back to the second part
of sending an SMS message with PHP now
in this part we are going to take the
array that we've created with all the
data from source SMS in and we're going
to actually go ahead and send a message
with this so what we need to do is we
need to actually access the source SMS
API and to do this we need to create a
query string from the array that we've
created in our in our PHP page here so
we've got this fields array that we we
already know that we've created and what
we need to do is so the first thing
we're going to do is go ahead and
convert this to a query string I'm going
to do this using the HTTP build query
function so let's just go ahead and test
it out first of all so the function is
HTTP build query and we pass through an
array and then there's a variety of
other ways you can use this function
just you know head over to the PHP
manual and check that out now when I go
ahead and refresh this you'll see that
we have something slightly different and
here we've got from equals Alex then
we've got an ampersand to specify the
next variable and its value so that's 2
and then my number and then the message
and so on and so forth and all the all
the details that we have here let me
just go ahead and change this back to
one I've been doing some testing between
the two video parts and that's why
you'll also notice that we are my it's
just open here you'll see that I have
sent for now so worth all worthwhile
pointing that out okay so what we can
actually do now is we can say fields
string is equal to the result of this
function which is that query string I'm
going to go ahead and get rid of this
now because I was going to do it a
slightly different way and that was
looping through each element and then
URL encoding it's using the URL encode
function in PHP and building up the
query string that way but this function
is you know quite neat
and you know it works on one line okay
so what we're going to do now is we're
going to connect via cut or you know yet
via curl and actually send this data to
this page here okay so we need to
connect to curl set a few options so set
the URL the amount of fields that we're
sending the field data itself and then
actually execute this and this will send
all this deep this data to the URL at
the top of the script so the first thing
we want to do is set up a handle or a
handler for curl and this is just using
the curl init function so it's
initializing curl okay so now what we're
going to do is we're going to set few
options the first one being the URL that
we want to send to so we're going to be
using the curl set opt function a few
times over and this uses the handle that
we've just specified up here and then we
pass through the options so the URL
comma and the URL which is just the URL
variable up here I'm going to to placate
this down three times because we're
going to be setting three different
things the second one is post now listen
is this isn't actually the post data
it's rather the count of the of the
fields we have a final option post field
which is the fields themselves now we
know this it's the field string that we
generated just a moment ago
however this one's the count now we
could just say 1 2 3 4 5 6 7 8 and pop 8
in there but it's much better just to do
count and then fields so count will
count the amount of elements within an
array okay so now that we've set all of
these options we need to actually go
ahead and execute this so I'm going to
create a variable called result and I'm
going to store the result of curl of x
seck so execute and then the handle for
the curl initialization which is CH and
then I'm going to go ahead and close the
connection and you probably guessed
specifying the CH in there now if
everything's worked here
we should be able to actually send a
message so I have my phone with me
obviously you're not going to be able to
see the result of this I'm just going to
have to check it comes through properly
and then I consume well know that the
code is correct and we've done
everything correctly so let's go ahead
and run this let's go ahead and open up
our browser and hit enter and there we
go so the reason that this is showing is
you have probably heard that vibration
then is because we have sources in five
sets of one if we had source info set to
zero nothing happens so if we go ahead
and do this again
in fact I'll explain this quickly first
so we've got just a confirmation message
the message itself the number that's
being sent to how it's being from and
our credit count as well so relatively
straightforward stuff here yet again so
if I was to set this to zero go ahead
and refresh you'll hear the vibrate in
just a moment there we go so that's a
text to my phone basically and that's
pretty much it so in this tutorial we
have essentially well it's I mean it
this is extremely straightforward and
source SMS have made this ridiculously
straightforward just by specifying these
different options we can build up this
query using the HTTP build query
function in PHP you know open a basic
curl connection and send this data here
or use curl to send this data here and
obviously if you were sending this data
this you know sort of retrieving a
number from a database or you know form
or something like that it's extremely
easy to just you know place any
variables in here and this will be sent
along with a query so specifying which
numbers things to be sent to from you
know things like that and obviously the
message as well so that is how to very
easily send SMS messages with PHP</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>