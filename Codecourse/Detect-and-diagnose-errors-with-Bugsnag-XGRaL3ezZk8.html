<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Detect and diagnose errors with Bugsnag | Coder Coacher - Coaching Coders</title><meta content="Detect and diagnose errors with Bugsnag - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Detect and diagnose errors with Bugsnag</b></h2><h5 class="post__date">2015-09-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XGRaL3ezZk8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">at some point or another you've probably
had an error occur in your application
either locally or in production where
your users are actually using it so what
we're gonna look at in this video is
using a service called bug snack and as
you can see here this will detect and
diagnose crashes in your applications
and we're gonna be looking specifically
at PHP but if you're not a PHP developer
you can watch this follow along and
integrate it into any of the languages
that they support so the other question
is why would we actually do this why
would we sign up for a service write
more code in order to just see errors
that we're getting well if you think
about this when you you know build an
application you test it you launch it
there's always going to be some kind of
error something will happen at some
point and what we want to do here is
make it as easy as possible to see the
errors that are happening so we can jump
in and we can fix them and bugs nag is a
brilliant service that allows you to do
that
so what we're going to be doing then is
we're going to be logging in you'll need
to sign up beforehand we're going to be
creating a new project we're gonna
integrate it in and we're gonna look at
a couple of ways that we can actually
send errors to bugs nag either
automatically or manually and then our
lives will become a lot easier and this
is the kind of product that once you
have integrated it you won't be able to
live without so let's jump over sign-in
and we'll create a new project ready to
go so once you're signed in you're going
to want to hit create a new project and
once you're at this screen you can
obviously give your project a name and
you can choose the language so I'm
working with PHP obviously if you're
working with a framework like laravel
within PHP there's a specific package
for that but we just can look at vanilla
PHP for now I'm going to go ahead and
continue and we'll get some setup
instructions so at the moment you can
see I have my browser window open here
inside of this application all I have is
an index dot PHP file that's requiring
in this other file we're going to load
in our composer packages and we're going
to in
- a bug snag and set any other options
we need to so the first step then would
be to require in the bug snag PHP
library so within my terminal I'm just
gonna paste this in there all put in
version two and now that that's finished
we can head over to our bootstrap and we
can require in our composer auto loader
you're not too sure what composer is go
ahead over to get composer or follow the
download instructions and you'll be able
to use commands like this to require
this into your project so if we go and
refresh on here we should see nothing
and we can get going with testing this
so on this page then you can see that we
configure bug snag with that API kids
literally as simple as that and this
will be your API case this is specific
to your project you don't know give it
to anyone else let anyone see it so we
can go ahead and we can pull this in now
we have a potential connection to bug
snack we're not actually sending any
errors to bug snack just now but we will
do when we set these error handlers and
what this will do is when we receive a
PHP error that would normally see on the
screen this will actually trigger error
handler an exception handler whether
it's a normal error within a PHP
application like a syntax error or it's
actually an exception that you're
throwing we'll look at an example of
doing that in a moment
so I'm literally going to copy these and
I'm just gonna paste them into here I'm
just gonna change these over to single
quotes as well so we're now ready to go
so we now have everything set up let's
try and trigger an error you'll actually
see that if we go back to our dashboard
now we see we're waiting to receive an
error from your app so we can either run
this line of code here which will send a
test error or we can just trigger an
error ourselves so we're gonna look at
one example of seeing an error occur so
for example if you were to throw a
normal exception this will work so you
could build this into whatever you're
building in your application so for
example user not found let's go and run
this
we'll see what we get so inside of our
project now you can see we have an
exception we have one occurrence one
user and we see an exception here this
is the type we see the URL as well so we
know exactly which URL it was on and
your user not found which was our custom
exception message and we can actually
see this within our code as well so we
know the exact line that this was thrown
on depending on the kind of error this
will be either very useful or not so
useful so we can see things like the
request which is kind of useful if
you're looking at any data that has been
sent through that may have triggered
that error so you can see if you're
submitting a form which data user
submitted has caused that error
we've got host information I'm just
running larvae or homestead locally we
have user information we're gonna look
at this in a bit more detail in a moment
you can see here it's just giving me my
IP address and we have a host of other
things as well you can obviously go
ahead and play around with this so just
to look at a kind of custom exception so
for example if we had user not found
exception and we extend the original
except the base exception class in PHP
and we were to throw a new user not
found exception we'll see a very similar
thing so if we go back to our errors
here you can see this time we have a
type of user not found exception
she's obviously a little bit more
helpful so what happens if a specific
user triggers an error and we need to
look into their account to find out why
that error was caused and this could be
for any reason at all so what I'm going
to do is I'm just going to leave this
here and insert on my bootstrap file I'm
actually going to go ahead and set the
user that I want to be associated with a
current session that will give us
specific information about that user
which we can then go into our database
find out if any data has caused a
specific error so all we need to do is
say bug snag set user and inside of here
we
an array with any properties we won so
for example for a locked-in user there
could be user ID of one and obviously
here you'd want to wrap this in an if
statement to check if the user is
actually signed in you don't set a use
that isn't signed in we could obviously
give that email really just any kind of
useful information just here so here
I've just set a user with an ID of one
and just given them an email address so
when I trigger another error now you can
see that we have three occurrences now
and we can actually go from the previous
errors all the way to the newest so the
oldest to the newest and you can see for
this latest error we have an email of
Billy at Koko's comm and we have an ID
of one so we can track that particular
user down and as I mentioned we can
navigate to any previous errors as well
so we can look at different users that
have have triggered the same error and
this also works for external packages as
well so for example if you were trying
to connect to MySQL and it failed that
would obviously throw an exception or it
might just for a warning it depends on
how you set it up but that would then be
logged here too so you could potentially
see if there there any difficulties
connecting to a server really the limit
here is endless and you can do whatever
you want so now what we're going to do
is look at triggering a manual error so
this might be useful in exceptional
circumstances where you want to trigger
very specific error with a lots of
details so what we're going to do here
is we're going to say bug snag and the
method is notify error and we have
several properties in here we can
actually find these under the bug snag
folder just here under source and we can
go over to client
let's look up that notify error method
so here we have a name a message an
array for metadata which is just
different
well basically metadata with properties
and values and the severity as well so
we can actually set a severity it's also
worth noting at this point that when you
do receive an error with bug snag it
will send you an email as well which is
extremely useful because
obviously if you're out and about and
some kind of error happens you might
want to see it address it quickly and
get it fixed up so let's go just go
ahead and look at doing this so we've
got a name and a message that's pretty
simple say user not found and the
message user not found in fact let's
change this to something like user not
found so for the properties then we
could say well we want to give very
specific details about the user that
wasn't found so what we could do is just
say username and then write your user
name in there obviously this is a very
simple example but in real life you'd
have more interesting data in here and
then we have a severity which can be
fatal error warning or info so obviously
something that info is very low priority
or warnings just like oh you know
something can't be found in this case it
would be used not found error would be
an actual error so something that's gone
horribly wrong which is affecting the
way that your users to use your
application and then fatal as you can
imagine is extremely serious so for
example we could just say warning here
and you can see at the moment these
severity are on reds this is just an
error let's go ahead and trigger this
and we'll just see what we get so now we
have a user not found exception or not
an exception but this is the type we
have a message here we have additional
properties as well so if we look under
custom we can see we've got user name of
Dale and of course we can see the user
that this was requested from as well and
all of the other information too and you
can see the line in the application
that's been generated so you know
wherever this is wherever you're
throwing this error you'll be able to
see this so there is a lot more that you
can do with bug snag in terms of
managing your dashboard area there's a
few things that you can do so just go
ahead and look around but really just
setting bug snag up like this where we
can set a user so we know who's causing
the error what they're doing we are
overriding pH P's normal error handling
and exception handling and we're going
ahead and we've looked at how we do a
custom notification
and also when we throw an exception as
well or just see normal errors so that
is bug snag it's extremely useful once
your application is in production and
you need to keep an eye on any crashes
or errors that you see</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>