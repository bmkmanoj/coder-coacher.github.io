<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Register &amp; Login (Part 21): More Account Permissions | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Register &amp; Login (Part 21): More Account Permissions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Register &amp; Login (Part 21): More Account Permissions</b></h2><h5 class="post__date">2012-05-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/U7futvzivRo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so really this is just a quick
update on the function that we created
to determine the access rights for a
user so as it stands we have if we go
over to index dot PHP I gave the example
if is underscore admin and then we pass
in a user ID that's equal to true echo
admin now we can actually change this is
admin function to be a lot more flexible
let's just say we had two different
levels of users powers so let's say we
have one two I'm going to go ahead and
I'm going to change Billy's account to
be type two okay so what I'm going to do
is I'm going to say we could change this
to is or no also has access so I'm going
to say user ID and then I'm going to say
type now what do I do with this well has
access now allows us to pass in a user
ID and specify a type so we can choose a
type anywhere we want let's go ahead and
just escape sorry rather cast this type
to an integer let's tidy this up a bit
and what we can actually do is we can
now go ahead and just pass this through
to the query there so now what I can do
is I can modify this here let's just go
and modify this admin protect function
first because we've used is admin which
now doesn't exist we have this has
access so I'm going to say if has access
user ID and one perfect so we this is
this is basically protecting us against
well is saying are you an admin on the
index page let's go ahead and do the
same thing
and then we'll see how you can put this
to use so that is fine that works okay
we're in admin so we can go ahead and
access admin dot PHP
however Billy is type 2 so let's log out
and login ah there we go we've got an
undefined variable there ahem that's
because this is just an example so we
can safely ignore that for now that's
just cause we're not logged in by the
way so this session user ID doesn't
exist okay so let's go ahead and login
this Billy and we've got no admin
message here and we're also not allowed
to access admin dot PHP which is fine
so let's go ahead and experiment with
this if has access session user ID
equals one if that's equal to true echo
admin otherwise if and this isn't
something you should do on a page
necessarily here you would check the
users logged in first blah blah blah if
has access session user ID and then - is
equal to true we could say echo
moderator or something I don't know just
depending so now what's going to happen
is we're going to get this moderator
here so in short that is how we can
differentiate between different users
and obviously when we go and had an
access admin dot PHP it doesn't let us
but we could go ahead and create a
function that protects against
moderators so there we go is a you know
just a little update there to change
that function to make it a bit more
flexible</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>