<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 3) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 3) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: 'Remember me' style Login System using Cookies and Sessions (Part 3)</b></h2><h5 class="post__date">2009-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ivVXH3w8YxA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right so now that we've got the overall
skeleton of what we're doing we need to
go inside this if statement here once
the username password has been have been
validated as being entered and we're
gonna create our login query now as you
may know or probably do now we can't use
the MySQL query function without
connecting to a database first because
otherwise the PHP script when it's
running is not going to know what it's
connected to
and what database is selected so we're
going to use our functions PHP script to
manage that I'm going to include this
function stop PHP script in every page
we use except logout dot PHP so the
first function we're going to do and in
fact will do the connect to database and
spell out right connect to database okay
so the first thing we're gonna do is say
MySQL connect and I'm sure you've done
this a million times before
if not I'll explain the first parameter
is the host and I'm running on the local
server on my computer away from the
world pretty much firewalled so I'm just
using localhost and the reason I said
it's firewalled is because I have a root
account which is at a full account and I
have no password the next stage is to
select a database and we use this MySQL
underscore select underscore DB
obviously database stands for or DB
stands for database and if you go back
if we go back to our browser you can see
that that's just could remember me so
we're gonna type rin and me in that okay
so this is pretty much done you can add
a bit of extra functionality and say or
Die at the end of that so if that
doesn't process correctly the script
will be killed basically from the head
up because we're including this at the
top of our script so yeah that's
basically connected to our database I do
know for a fact this is right if you
don't know your database details you'll
be able to find them through either your
host provider or on your local server
which is probably going to look
something Oh
so our login dot PHP page since we're
selecting a database here when you're
going to need to include this function
stock PHP page so just save that out I'm
going to come up to the top I'm going to
say include functions dot PHP the reason
I've call it functions dot PHP is
because we're going to be including a
few more functions in here bit later on
but for now what we're gonna do is I'm
gonna set a variable called login my xql
query I think someone must once asked me
why I was setting this as a variable and
not just saying MySQL query the reason
being is and once we've issued our query
I'm gonna need this login this login
variable to refer back to the results of
the query in order to extract data from
the database so it's important that you
do put it into a query using a single
equals symbol just so you can refer back
to the data that this query does
actually retrieve okay so this is
basically gonna select star from an our
table name this means grab all data star
means all everything so we're selecting
everything from users that's our table
name some people do get confused and say
remember me remember that's her database
name not our table name we're selecting
from the table users like for example if
I had another table here I'd be able to
then say it was called ID no pictures I
could say select star from and I could
change this to pictures but obviously
we're using users because this is a
login script ok so select star from
users where username equals and then in
single quotes remember if we're using
double quotes we're gonna create an
error because we're basically beginning
putting you know confusing the script
this will be our end and this will be
our start which is not the case so we're
using single quotes and basically the
variable username which is the that
which is the username the user has typed
in through our posted form okay so this
basically is the end of our query now
the reason being is this is for security
reasons we're then going to go on a loop
through the database and
for the correct password against this
result the reason this is a bit more
secure than saying where username equals
user name and password and password
equals password is because this whole
query here is susceptible to SQL
injection I mean this query is
susceptible to SQL injection but the way
we're going to do it is that if even if
SQL injection does happen in here the
password from this result is still not
going to be you know retrieved so we're
not gonna then the user isn't going to
fake this as a successful query they're
not going to be able to fake it
successfully the reason why is we're
using a while loop I'm gonna open up a
block here using curly brackets and
we're gonna say while row equals mysql
fetch associative which means
associative right a sock is associative
and this lets us have I'm sure you know
for my other tutorials specific column
names in the database we can refer to
each column so we're gonna be referring
to the password column and comparing it
to this past posted password if you
follow along you'll get the idea if you
haven't used while loops go and watch my
while loops tutorial and watch some of
my other tutorials and I explained this
in a lot more detail this this - tores
sort of like an update for people that
want the remember me style okay so and
we're basically this brings up my point
earlier we're going to be using this a
variable here inside here because we're
creating an array from all the data that
was fetched from this query and then
inside this loop we're gonna check for
the correct password so what we're gonna
do is first of all set a variable called
DB underscore password obviously this
can be anything of your choice just
don't call it password because that
means we're resetting this variable
that's been posted and remember we need
to compare with this so I'm calling this
DB password instead of password and
that's going to equal row and then we're
using square brackets as
is an array room we've said row is equal
to this array created from this login
from this query if that makes sense so
row password and the reason this is
working is because we're selecting from
the users where the username in my case
equals Alex so what it does is is zips
in the database and says whether user
name equals Alex oh I found whether user
name equals Alex there it is
and then we're retrieving the password
through this here because this row here
is an array of ID username and password
and we're referring to them by their
column names and instead of in a normal
array you'd say 0 1 and then 2 so if
this is a bit too confusing for you if
you're not following this just go back
and read my or watch my tutorials on a
raise and the other login tutorials and
you're sort of get the gist of things ok
so we've got our DB DB password our
database password and now we're going to
use an if statement to compare it to the
password that's been posted so I'm gonna
say if password equals equals DB
password then execute some code yeah I
think well yeah we we're only going to
run one line of code underneath it so we
don't need the blocks what we're gonna
do is we're gonna say if the password
does equal the database password then
we're gonna say login okay equals true
now this isn't a variable that I've set
I've just completely made this up out of
thin air and this is basically gonna
Terman determine later on if our login
was okay or not so otherwise if the
password doesn't match we're gonna say
login ok equals false so this is a
boolean data type now which means it's
true or false 0 or 1 and that's
basically gonna we're going to be able
to use that later on and say if the
login ok does equal true when we can
process a certain amount of code the
only thing I've left out here which you
may have noticed
have nots is that our password here is
not encrypted what we do need to do is
use the md5 function to encrypt our
password that we've typed in to compare
it to the already encrypted password in
the database see we can't decrypt MD md5
passwords but we can encrypt something
we've typed to compare it to an
encrypted value already so that's
basically that okay so in the next part
just down here we're going to see if the
login okay variable here the boolean
login okay variable is true or false and
then set the cookie or session
information from there depending on
whether the user has selected remember
me or not so that will be in the next
part as we're running out of time so
I'll see you guys in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>