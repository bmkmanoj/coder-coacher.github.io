<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Arrays are everything: Sorting arrays | Coder Coacher - Coaching Coders</title><meta content="Arrays are everything: Sorting arrays - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Arrays are everything: Sorting arrays</b></h2><h5 class="post__date">2016-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/57y5maglayQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so PHP has a lot of sorting functions
and what you're looking at here are the
list of them functions now we're going
to be covering each one of these but we
will skip past a few because once you've
dealt with one type then the rest just
are obvious but we will of course be
talking about each one so let's go
through them and just talk about what
they actually do and then we'll get and
start to go through them so sort will
literally just sort an array simple as
that and that involves either a
numerical array a string array and
anything else
now our sorts will do exactly the same
but it will sort this in the reverse
order and that's the same for any other
functions you see with an R in there as
well
so a sort will sort an array but it will
keep the indexes of that array in place
so when we actually sort of write it
will create an entire new array and it
will give fresh indexes so we'll talk
about this in a minute but that's
exactly what this does and the AR sort
will do the same but in reverse order
maintaining the index place now K sort
will sort by a key so whereas these
functions here will sort by the values
this will sort by the keys that a
particular array has and of course chaos
or will do the same but in Reverse
now Nats or is slightly more interesting
this will sort by a natural order
algorithm and that means that if you
have something that would be sorted
normally by sort but doesn't quite make
sense and we'll take a look at a very
good example of this later
then this is the function that you'll
need and we also have you sort which is
again slightly more complex slightly
more interesting this will allow you to
sort by a defined function so we use a
function to actually choose how we want
to sort something very specifically and
of course we have UK sort which does the
same as you sort but it will allow you
to sort by keys with a user-defined
function now array multi sort is a
little bit more complicated yet and we
will be dealing with that later so we'll
go through how we use that later we
won't talk about that just now so the
first thing we'll focus on then is
sort and our sort so let's create a
simple array as always just to
demonstrate these things and we'll start
with strings so let's create some names
in here that we can go ahead and sort
and we will call at the sort function on
this now again this will modify the
array so it will modify this array here
and then when we do a var dump on this
it will go ahead and sort these so we'll
see how this looks in the browser
and there we go so obviously you
wouldn't guess that a would come before
B and then D would come after B so this
is basically sorted by string now if you
had numbers in here again this will work
in exactly the same way so let's enter
some numbers in here and we will see how
these are sorted so let's sort these
numbers instead like so and there we go
so we get one eleven thirteen twenty and
fifty now of course you'll have guessed
if you use our sort this will just do it
in the reverse order for you and that
will work exactly the same for the names
as well so it will sort them in a
reverse order so this is probably the
most simple sorting function very very
straightforward it will just sort but of
course the downside to this is it
doesn't give you as much control as you
would like so now we're going to look at
a sort and a are sort if you have an
array that has keys that you want to
maintain this will maintain them for you
so what do I mean by that well let's
create another names array and in here
we will give a key of a string and we'll
give a value so let's say that these are
ages of these people so we'll go ahead
and create another one and a couple more
as well just so we have plenty to play
around with like so great so now let's
run this through a sort and see what we
get so let's do a var dump our names in
actual fact let's run this through sort
first of all and we'll see what happens
so you can see here that what we
actually do is we lose the keys so these
have now in turned into numerical key
and we only have the values left whereas
we might actually need these keys in
here so simply using a source on this
will just maintain them keys and we can
now use this array as normal so you may
run into trouble if you do use sort and
you forget about a sort then you'll end
up with an array that's completely
different to the one that you started
out with now of course a sort will just
do exactly the same in reverse order bar
more interestingly let's take a look at
something that doesn't have like string
keys so if we create some numbers here
again so we have say 50 2013 11 and 1
and we run this through sort numbers and
go ahead and do a var dump on that
you'll notice that the key order is
essentially just reset so it starts from
0 1 2 3 4 where in reality if we look at
say a number like 50 this should have
the index of 0 because it's the first
element of the array so by running this
on an array that doesn't have predefined
indexes you can see that we carry on
maintaining the order
so if numerical indexes are important to
you and you are sorting these you want
to go ahead and use a sort or AR sort
and that will maintain them key indexes
for you
now if kind of following on from this
you actually want to sort by the key and
not the value then you're gonna want to
use K sort so if we do a case or here on
names obviously it's not going to order
this by the value instead it will go and
it will order it
by the key so you can see here that
we're staying with Alex
Ashley Billy and Dale and these values
don't really matter they're not the ones
being sorted and of course as always we
have a reverse version of it so again if
you just want to sort by the keys
whether they're numerical or strings or
whatever then you can go ahead and use K
sort for that now we're gonna go into
something a lot more interesting and
that is natural sorting so let's start
out with something like a list of files
we've already covered files in this
series but let's say we have
something like image 12 dot PNG we have
say image 10 dot PNG and we'll just
create a few more so say image - image 1
now this is taken directly from the PHP
manual so if you do want to read more
about this please go over to the manual
and check it out
but what's essentially going to happen
here if we do a sort on files we do a
var dump on files what would you expect
to see well I would expect to see 1 2
then 10 and then 12 because that would
be to me the natural order of them
however in reality what we actually get
is image 1 then 10 then 12 then 2 the
reason being is that 2 here is greater
than 1 so it's sorting in a kind of odd
way based on the format of what we're
trying to sort so to get around this
there is a function called NAT sort
which will allow us to naturally sort
things even though that's not really how
a kind of default sorting algorithm
would work so this works really nicely
and there's a few edge cases where you
might need this this is like I said an
example taken from the PHP manual I've
never you needed to use this but that's
not to say that it wouldn't come up and
if you were trying to sort this yourself
this would probably save you a lot of
trouble so the next thing we're gonna go
on to do is look at something a little
bit more advanced and that is you sort
and UK sort now we're not going to look
at UK sort because this is just exactly
the same as you sort but sorting by keys
so we're gonna focus on purely the
values but of course as always if you
need to sort by a key you can go ahead
and use that in place of it so we are
going to essentially recreate the sort
method the default sort method using you
sort and by that I mean we're going to
implement our own checks to determine
where to place something in an order now
this sounds a lot more complicated than
it is but it does require a little bit
of knowledge
as to how all of this works so let's
start with something really simple like
numbers so let's say 4 10 152 and 89 now
to you sort you pass in what you want to
saw obviously and then you have a call
back now into this we will pass in two
numbers at a time so two numbers at a
time will be passed in and the way that
we do this is inside of here we either
return a zero to keep them in the place
we return a one to basically move the
second down the list I'm sorry what we
return one to move something up a list
or we return -1 to move it down the list
so that might seem complicated but let's
start to think about this start to
slowly implement it so before we do
anything let's var dump on numbers just
so we can keep an eye on this in the
browser at the moment they're just in
the order that I defined so inside of
here then let's think about how this
would work now if a number is the same
we want to keep it in the same place so
if we had for example 4 + 4 then we want
to keep these in their place there's no
need to switch 4 to here or this value
to here so in that case what we would do
is create an if statement in here to say
well if first is equal to second then we
want to return 0 so that will
essentially do nothing now gets to the
part where we want to check if a number
is greater than another number then we
want to move it up the list if it's less
than the number we want to move it down
the list so in this case what we would
do is we'd say well is 4 greater than 10
or is 10 greater than 4 in that case
move it up if this was before this floor
so let's just do the if statement and
then we'll see how this works in actual
fact let's just preview this first of
all so let's refresh you can see here
that these two are now next to each
other because the way that this is
searched through it's gone ahead and
basically compare these two they're
stayed in exactly the same place so we
still have the same order so now if that
first value that we receive is greater
than the second
value then we want to move it up the
list in this case we are creating an
ascending order otherwise we want to
return -1 because if first is less than
second we want to move it down the list
and now we end up with an ordered list
so this kind of stuff sometimes does
take a little bit of time to get your
head around but if you play around with
it then it should make sense in good
time so we can actually tidy this line
up here using a ternary so what I would
do is just comment this out so we can
refer to it and down here I would return
first greater than second so exactly the
comparison that we put inside of our if
statement and then we return 1 in that
case like so otherwise we return minus 1
so that's just the equivalent of what
we've done here just in one line so like
so works exactly the same way
now of course rather than doing this you
would just use the sort function but
that doesn't mean to say that this is
not helpful in terms of sorting things
and we're going to look at a very good
example of this in just a moment now
with the introduction of PHP 7 we can
actually reduce this down even more I
don't wanna go on too much about this
particular example but we can actually
use something called the spaceship
operator or the combined comparision
operator to actually reduce this down
even more the way this works is let's
just kind of deviate from this a minute
the spaceship operator looks like this
so it's a less than sign an equal sign
and then a greater than sign now what
this will do is if we just say get rid
of this and get rid of this as well and
we echo the result of one using the
spaceship operator and one what would we
expect to see well we get a 0 now that's
exactly the equivalent of what we did in
this if statement just here if this is
the same as this then we want to the
result to be 0 now if we have say 1 &amp;amp; 2
what would we expect this to be well it
comes up at minus 1 because
this is less than this now if we just
reverse this so if we put a 2 there and
a 1 there we end up with 1 so
essentially all this operator is doing
is replicating this and this is very
useful for sorting if you find yourself
in a position where you need to sort
things then this is very helpful so
let's just get rid of this we'll bring
back our var dump will uncomment this
and we will go and use the spaceship
operator in here to make this even
easier so we just replace this with the
first and the second variables and we
end up with exactly the same result so
once again you wouldn't do this unless
you had some more complex logic in here
but of course that's a possibility
otherwise though no need to do this just
use the sort function that we've already
covered so using what we've learned here
let's look at a real life example and
this is quite a good example so let's
get rid of everything actually and we're
going to start out with a list of users
now let's say on some kind of forum you
had reputation and you had posts so a
user can earn reputation by maybe
getting a comment upvoted or whatever
and they can earn posts by obviously
posting so let's create some just
example users in here and what we're
going to do is order them by a combined
score so maybe we want to add the
reputation to the amount of posts we
have and rank them in the forum based on
their contribution so in this case then
we would have a reputation so let's say
for Alex it's 50 and then we have posts
here as 200 and we can just fill in the
rest of these so let's say we have Dale
let's say we have Billy and we want
quite a few in here just so we can play
around with this and let's start to
change these over so let's say we have a
300 reputation on Dale and 150 posts and
we have two on the reputation for Billy
and five posts and then here we have one
and six now the reason I've chosen these
two numbers is that six add one is seven
and five add two is seven so technically
these two use
have exactly the same kind of combined
score now the reason I'm doing that is
we want to judge whether Billy or Ashley
should be higher up the list now that's
important because we can use either the
reputation or the posts to determine if
they should be pushed up or down the
list so let's get on with this and we'll
see this working so we obviously use you
sort we pass those users in and then we
create our callback just here we have
our first and our second value that's
passed in and now we can start to
compare these so the first one is going
to be score 1 we're basically going to
add together the reputation of the first
value so reputation and we're going to
add on the posts sorry the value posts
and then we have our second score this
is the second person we want to compare
against so this will be second in fact
this should be first sorry there we go
second so we have the first person that
we're comparing against the second
person and then as this loops we'll
compare each person so now all that we
need to do is return whether the score
is greater than the second person's
score we want to return -1 otherwise we
want to return 1 so let's just see what
this looks like and then we'll play
around with it and improve on this so
I'm going to do a var dump on users and
you can see here that Dale is in the top
because she has 300 reputation and 150
posts alex is in the second place
because he has 200 plus 50 that's 250
and then obviously actually I'm billiard
on the bottoms they have much lower
scores now at this point I want to take
reputation as a kind of better value so
I want to say well these two are the
same but because Billy has a higher
reputation I want to put him further up
the list so we can add to this and we
can compare if the two scores are equal
so if score one is equal to
- then we want to check if the
reputation is greater than the other
person's reputation so we say if the
first reputation is greater than the
second reputation then we want to return
zero otherwise we want to return one
so just to recap if the two scores are
equal we run this block if the
reputation of the first person is higher
then we want to return zero to keep them
in the same place otherwise we want to
return one now what's going to happen is
Billy jumps up to the top because we
have a high reputation there now you can
shorten this down even more so if you
wanted to get rid of this you can do a
return and in here you can do a ternary
so you can say first reputation greater
than second reputation then you want to
return a zero otherwise you want to
return the one so it just kind of cuts
the code down a little bit and of course
we get exactly the same result so this
is pretty short in comparison to how you
may normally do this the other option
would be to create a new array do a for
each loop on this lots of if statements
checking things ordering things and it
would just get very confusing but with a
very simple function here we can do that
very quickly and of course if you wanted
to reuse this you can detach your
function and you could say sort by score
create a sort by score function like so
paste this into here go ahead and get
rid of this because we don't need that
and take in here the first value and the
second value to compare and then of
course we get exactly the same result so
you could put this somewhere and of
course reuse it so hopefully that is a
relevant and useful example and
hopefully this makes sense now again if
these things don't make sense just play
around with them there's no harm in just
playing around returning things spending
a bit of time just working out how these
work so now that
we have covered you sort and we know
what UK sort does it will do exactly the
same but it was sort by the key of an
array so if you did want to do that
we're not going to cover that because
we've already covered a lot of this
already but UK sort will do the same
with the keys of an array so now we're
going to look at array multi sort so out
of the box this works pretty much the
same as sort so let's just define out
some things that we can go ahead and
sort so let's say 50 2013 1101 and we'll
go and pass the numbers into that and do
a var dump on their numbers and we will
see that we get an ordered list much
like we would have with sort now what we
can also do is pass in the order to this
so if you didn't want to use sort or our
sort you can go ahead and choose the
order that you want to sort these in
during this case in descending order we
start with 50 and end with 1 now what we
can also do is cast values to actually
sort them now these flags will for each
item cast it to a particular value and
then we can go and sort properly based
on the type so if we just head over to
the PHP manual you can see here that
these are the sort flags now we have
sort regular which will be the default
we've got a sort numeric string locale
string natural and flag case so we're
gonna be covering numerous and string
we're also going to be covering natural
but of course feel free to play around
with these depending on your needs we
don't to go into this in too much detail
so sort numeric will like I said cast
items to a number before they're sorted
now in this case it doesn't matter
because they are already numbers we get
exactly the same result
now if these were strings or if we did
have a string in here notice that this
still works but of course in this
example it doesn't make too much sense
now if I were to put a 100 before this
notice that that gets bumped to the top
and that's because earlier remember when
we looked at casting to an integer so if
we cast 100
ALX to an integer we end up with the
value 100 so this is how this is working
whereas if we change this over to a
string you can see that this works a
little bit differently because we have a
1 then we potentially have an A here
which is what for whatever reason less
than 11 but you get the general idea so
let's just remove this and see what it
does
oh they go it just bumps out to the top
so really it's about deciding what's
best and of course it's highly unlikely
that you're going to be sorting an array
with different types anyway okay so what
we can also do is natural sorting so if
we just pull over the kind of file
example we looked at earlier we can go
ahead and sort these in natural order so
if we head over to the manual you can
see we can sort by natural just there go
ahead and pop that in there go ahead and
output the files and you will see we get
the following results so of course we're
doing descending at the moment if we
change this back to ascending we get a
natural sorted order so you might be
thinking then well what's the point in
array multi sort if we're just doing the
same thing well I think this gives you a
lot more flexibility rather than
choosing the different functions you can
actually set these depending on your
needs so rather than saying if this is
the case then use this function all you
need to do is pass in a value here based
on what you're sorting it just gives you
that added flexibility so lastly array
multi-store will actually allow you to
sort multiple arrays side by side so
what do i mean by this
well let's create two new arrays and
we'll see how these looks so we've got
Alex dial say tabby and Ashley and we
also have some numbers now it's
important to note that these need to
have the same amount of items so in this
case we need say one two three and four
so now if we do an array multi sort on
names and numbers what this will do is
it will sort this item but it will keep
these in the same order so I've never
been in a situation where I've needed
two sort two arrays side-by-side but if
that is you and if you are then of
course this is going to be really useful
so if we do a var dump on names and we
also do a var dump on numbers just so we
can see these side-by-side you end up
with the following so you end up with
Alex Ashley Downton Abbey which makes
sense in a string and then in here you
end up with the corresponding values to
each one so we've got one here
corresponding to Alex which is right so
one and Alex you've got Dale at this key
here which corresponds to two dial and
two and then the same for tabby and
Ashley so this like I said I've never
actually needed to use this but if it's
something that's going to be useful for
you and I'm sure it's incredibly useful
then it's there for you to use without
getting into too much trouble
so for sorting arrays that is pretty
much here of course if you need any more
advice on this you just head over to the
PHP manual and there is a time of
information on all of the functions that
we've covered in this particular part
otherwise that's it you should now be
comfortable sorting arrays in PHP</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>