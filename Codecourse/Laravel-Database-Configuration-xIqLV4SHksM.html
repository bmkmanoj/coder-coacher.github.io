<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Laravel: Database Configuration | Coder Coacher - Coaching Coders</title><meta content="Laravel: Database Configuration - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Laravel: Database Configuration</b></h2><h5 class="post__date">2014-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xIqLV4SHksM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">sometimes it's useful for settings in
your application to be stored within
your database and we're gonna be looking
at that within laravel in this video so
if you take a look inside of your
laravel config directory you've got
various files here that have settings
for like services and things like that
but what we want is we want to create a
dynamic file here that will basically
give you a list of settings based on
your configuration from your database so
the first thing we're going to do is
just go ahead and set up a migration
I'll just assume you've already added
your database settings in here and
you're connected up to your database and
we're gonna be done going through this
from start to finish and you can
integrate this into your application as
it currently stands so let's go ahead
and create a migration here and let's
create a table called
settings okay so if we just head over to
that file and let's now create this
settings table so add an incrementing ID
here just so we can index this and then
we will also have a string here and this
is gonna be the key we'll make this
about 50 characters long you can
obviously increase this or decrease it
depending on your needs I'm also gonna
have a value this could be a text value
I'm just gonna set this as a 200 just
here and obviously down here we can go
ahead and we can drop the settings table
under the down method so let's go ahead
and just run that migration cool so
we've now got this table in here let's
just give that a refresh and there we go
so under settings now what we can
actually do is we can add some rows in
here so I'm just going to enter a row
here something we might need to change
in the future so we enter a key here and
a value so the goal of this video really
is inside of our routes file we want to
be able to say something like echo
config depth and in here we want say
something like settings dot price of
fish for example
the moment this would have to be
hard-coded in one of our settings files
here so we can create a new file here
and I'm just gonna call this settings so
settings dot PHP and then in here what
we would normally do is just return an
array so I'd return an array saying
something like price of fish and then
I'd set this to a particular value and
then in here we actually get that value
out we want this to come from the
database however so this is really
really straightforward under models I'm
gonna go and create a new model and I'm
going to name this setting as we're
gonna be using eloquent so we'll call
this setting and we'll extend
eloquent that's obviously just gonna
bring us all the functionality that
eloquent does so now we have the ability
to actually do something like let's just
test this here let's do a print our on
setting yet and I guess we'll just wrap
that in pre tax like so so now we've got
this and we've got the key here and the
value this is coming from the database
so now what we can actually do is rather
than output it here which is useless
inside about settings file that we
created
now the probably em shorter ways to do
this but let's just do this slowly so we
understand so I'm gonna create an empty
array called settings then I'm gonna use
a for each loop to go through all of the
settings that we've just output and I've
shown you inside the inside of the home
page so I'm gonna say for each setting
yet and setting now obviously on setting
we can access the key and the value so
what we can do is append that the
settings are right so I'm going to say
settings and setting keys or set the key
here and then we'll set that equal to
the setting value so now what we have we
can actually do a print our within this
configuration file so we can say
settings and just kill the page there
you can see that we have the following
so we've now got this settings array
very very straightforward we now just
return that settings array and then we
go so now what's actually happening is
this setting inside of here
is coming from our database and that is
how straightforward it is to create
database driven configuration within
laravel</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>