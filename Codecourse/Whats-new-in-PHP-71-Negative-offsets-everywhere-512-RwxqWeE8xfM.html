<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What's new in PHP 7.1: Negative offsets everywhere (5/12) | Coder Coacher - Coaching Coders</title><meta content="What's new in PHP 7.1: Negative offsets everywhere (5/12) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What's new in PHP 7.1: Negative offsets everywhere (5/12)</b></h2><h5 class="post__date">2016-11-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RwxqWeE8xfM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the next thing that we're going to
cover is a general change to any PHP
function or any kind of operation that
allows you to provide an offset now by
this I mean let's say we had some kind
of string in here and we were saying the
weather is sunny let's say we wanted to
check this string for the keyword sunny
and then report back let's say that it's
good weather obviously this is a really
silly example we would use something
like str pots we would check the
position of the occurrence that we're
looking for so in here we have our
haystack we have our needle which is
what we're looking for and then here
optionally we have an offset so by this
offset we mean that we can start at the
start we can start from character one we
can start for character 20 it's entirely
up to you what you pass in here now the
only problem is let's just go ahead and
output good weather so we can see that
this works I over in the browser there
we go now the only problem is if for
example we wanted to search from
character 10 let's go ahead and do that
we know that it works if we wanted to
search from character 20 we know this is
probably not going to work sits come
over the point where we're searching
from so if you count from this side
onwards then we would be past this value
here so it wouldn't find it now
previously what we couldn't do is use a
negative offset and this applies to any
PHP function that requires an officer
basically you can now use negative
offsets which is really good so for
example let's just pull this over into
PHP 7 and check that it doesn't work if
I was to do minus 20 here we know that
from here minus 20 we're looking around
kind of this area here we know that we
would find it because we'd be searching
from around here upwards so let's go
ahead and check this out in PHP 7 and
notice that we get an offset not
contained in string we just go ahead and
reduce this slightly to maybe 15 we see
the following so it's just not really
working at all let's go ahead and change
that again no just not working
whatsoever so let's go ahead and pull
the same example over as I said to
here and now search for same minus 15
that's going back 15 characters and then
searching from that point onwards let's
go ahead check it out in PHP 7.1 and you
can see it works now we're not going to
stop there i'm going to show you another
example and again this might be
something that you've not come across
with in PHP we're going to go ahead and
search or at least give a string here
that we want to pluck a particular
character out of now what we can
actually do is use a kind of array tight
access ER at a particular position so
essentially now we're saying we want to
pluck out the first character so if we
go over and give that a refresh we get a
and likewise if we were to say four or
three rather because obviously this is
zero indexed we would get X now what
happens if in say PHP seven or earlier
we wanted to go ahead and pull out the
last character of here what we would
have to do in this case is do something
like str lenor mb str len on the name
minus 1 because we know it's zero
indexed and this would give us the same
result as passing in 3 but wouldn't it
be more convenient if we could pass in
minus 1 and that would then obviously
pull this and in this case it doesn't
work so uninitialized string offset
minus 1 so over to PHP 71 where we can
actually do this so let's go ahead and
pull this same example over give that a
refresh and we get X and like I said if
you wanted to grab them at last to you
can do that as well or two back you
could do that as well so that is just a
general update to negative offsets
obviously the PHP manual be updated so
if you have any functions that you are
using or you're going to use then this
should be documented in there as well
but basically that's really helpful any
function or anything like this that
takes a officer will now allow a
negative offset simple as that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>