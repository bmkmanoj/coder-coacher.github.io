<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CodeIgniter Tutorials: Registration &amp; Login (Part 11/13) | Coder Coacher - Coaching Coders</title><meta content="CodeIgniter Tutorials: Registration &amp; Login (Part 11/13) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CodeIgniter Tutorials: Registration &amp; Login (Part 11/13)</b></h2><h5 class="post__date">2012-08-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/daBDFXilM5A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys my name is Steven welcome to
video number 11 in the series where I'm
creating a login registration system
using codeigniter in this video what
I'll be showing you is I'm gonna be
creating a model that will add some of
this signup information to a temporary
database as well as their you their
unique hash key okay so let's let's go
go right ahead and do that so so we've
sent the email to the user the next
thing we want to do is add them to the
temp users database and we're gonna do
that in the model in our users model or
model underscore users so we actually
have to load that model so right after
we load the library for the email we'll
load the model for model underscore
users next is I just put this up here
and then we'll add them add them here so
I'm called this model underscore users
and we'll create a function in there
called add temp underscore user and
we'll pass in the key or the key that we
created here now I guess thinking about
it we could have this function actually
return true or false depending on
whether or not it was succeeded and then
we could send that email based on
whether or not it was succeeded so
instead of just calling the function and
hoping that it worked with no uh with no
response from the email from the
function will actually go if if this
returns true then send the email
else we could just go with this else
echo user was not added to database for
problem adding to database database
awesome now let's go ahead and actually
create that function in the model so go
into our models folder click on models
underscore user and start writing this
new function public function add I'm
just a temp underscore users now this is
receiving the jaqui that's specific key
so yeah the first thing that I want to
do netting this temp users is ID I think
basically the only thing is I just want
to insert this the post data into the
temp users database which reminds me
actually if I go into our temp users our
temp users table on our database we're
only storing ID key and email I actually
forgot I need to add the password as
well because we don't we want to
actually save that so when they actually
go ahead and validate their signup that
they can that they don't we still know
if their password is so we'll just
create another what I did there was I'm
going to create it after email I it
doesn't have to be right after email
that doesn't matter but the important
thing is that we actually create another
field add one field so we'll go ahead
and do that I'm just gonna just be
password and 255 characters save it and
they're now in the temp users database
we have four fields instead of three one
of them is the password so let's go
ahead and add their temporary date their
temporary data into the into that data
into that table so we'll create a data
array
okay bye data area I mean an array named
data and we'll say email that'll be
equal to this input post and then email
so whatever they entered is that you
know notice how we're not how we're only
passing the key we're not actually
passing like the email and the password
as well um this is really good practice
to do especially in models and things
like that it just it's good practice to
try and keep your parameters down when
you're creating functions things like
that just makes it feel simpler it makes
your code a lot cleaner
the next thing we want to do is the
password field that we just created and
that'll be equal to you guessed and your
password post password perfect and then
the last thing is their key so the key
will be equal to G okay okay so next
thing we want to do is logo this
DB insert and this receives two
parameters one is the table so in this
case it's temp underscore users and the
second will be the array containing all
the actual specific data that we're
going to be inserting into the into the
table then we can go look up query let's
go to this and then we can check see if
query and return true and else
return false ok so basically if the
query succeeds it's going to return true
and if it fails if it had a problem
inserting data it's going to return
false which is great because that's
feedback that we can use in our
controller which is exactly how we
design this so if it returns true MIT
which means if it's succeeded then it'll
try and send email and if the email
succeeded then it'll echo this message
that says the email has been sent and
they'll actually get the email otherwise
you'll get error messages for it not
being able to send the email and not
being able to add to add to the temp
users database so let's try this out one
more time we'll go to we'll just go back
I'll refresh this page PHP login tut @
gmail.com password password sign up the
email has been sent so if if we're
getting this message that means that
we've successfully validated that we
have added an entry to the temp users so
let's go ahead and check that actually
excellent we've got email password and
the key now there's a problem here we're
actually storing this password as a raw
password on the in the temp users
database I actually want to encrypt that
so what I'm gonna do isn't back in the
model I will I'll just md5 hash this
right here and we'll try one more time
see see how it works I'll just delete
this for now good go back refresh the
page PHP login touch gmail.com password
password good go back to the temp users
database view it and now you can see
we're encrypting the word password as
well as they have this unique key and an
email their email address which we can
draw from once they
register which we'll do in the next
video so thanks for watching in the next
video we're going to actually build this
register function sure you hear like we
got a couple more emails so we can
confirm our account click on this link
and now this register user function is
being passed a key which actually
corresponds with the key that was added
to the database here and you can see
like we can grab that key in the
register function and then look for look
for that entry in the database and I'll
show you how to do that in the next
video
so thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>