<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What's new in PHP 7.1: Nullable types (2/12) | Coder Coacher - Coaching Coders</title><meta content="What's new in PHP 7.1: Nullable types (2/12) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What's new in PHP 7.1: Nullable types (2/12)</b></h2><h5 class="post__date">2016-11-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/w9b8_50Bk2w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the first thing we're going to talk
about our nullable return types I'm also
gonna look at nullable parameters that
we may pass into a function or method
now what I'm gonna do is leave a link to
the PHP RFC inside of the course links
so you can go ahead and check any of
these out along the way if you get stuck
with anything but let's go ahead and
look at this by the way I also have open
this PHP seven file just here this is
just so we can compare anything that we
want to to PHP seven we're not going to
need this for this part but now we're
gonna go ahead and look at this so
hopefully you've also followed the
course and PHP seven that we have but
basically if you didn't already know and
I'm just gonna create a user model here
what we can do is when we're accepting
something into a function or sorry
returning something from a function so
for example let's say we had a getter
for a particular users name what we can
also do here is define what we expect to
be returned now if I go ahead and return
say Alex here and I go ahead and you up
a new user so I'm going to go ahead and
create a new user and let's go ahead and
echo out use a get name let's just check
this out in the browser and we should
see over here the following so that
makes sense however if for example I was
expecting an integer to be returned from
this you can see that we get a return
value of user get name must be live the
type integer
so it basically type printing what we
expect back now more interestingly what
we can actually do now within PHP seven
one is actually defined that this
returns but ten chily and null value and
we do that using the question mark so it
doesn't really matter how you format
these I've seen it written like this
with the colon here directly against
these parentheses but I prefer to do
this just here with spaces in between so
what we can now do them if we just
compare this two with a no question mark
if for example the user didn't have a
name so let's say we had some kind of
public property just up here and we were
explicitly setting this and then
returning the name like so now we know
that this value is set but it's
currently null so if I was to for
examples
a user name and then set this just in
here we would expect this to work we
expect to string back and we just get
the result that we saw before now what
happens if I don't set the name well in
this case we see must be of the type
string but there may be an instance
where we have a null value here and we
may say well that's fine we would just
check this elsewhere well in this case
now what we can do is just add that
question mark in and this just works as
normal so we may wish to wrap a check
around this to see if we actually wanted
to output the user's name so that's
really cool because the type printing
here for the return value is super
useful but now we can also check if it's
null so just an idea here let's go ahead
and get rid of this on fact we'll keep
the user model just in here but we will
get rid of this and we will go ahead and
set the ID let's also create a class of
post and I'm going to show you now what
happens when we maybe pass a parameter
in that we want to type in now I love
checking things as I'm passing them in
and type in ting them to specific models
or interfaces now in this case let's say
we have a post here with an ID of 5 and
we had a user ID attached to this of 50
now obviously this would come from your
database or something like that
but inside of this post model we might
have something like owned by user and I
do this a lot and what I would do is I
would say well what I want to pass in is
going to be a user and in here I would
return user ID so I'd be checking if the
ID equals the user ID of this particular
post so I would say this user ID so it's
basically just checking if a user that
we passed in owns this particular post
simple as that so let's go ahead and you
up a new post and we will see newing up
a new user as well so let's go ahead and
create that new user just in there and
let's also give this user explicitly an
ID of 50 just so we don't have to set it
but just imagine this comes from your
database and this comes from your
database so what we would do then is if
we do a var dump on post owned by user
we know that when we pass this in we are
expecting a user model simple as that
the only problem comes is when maybe
user is null and you want to check if
this is null maybe the user isn't signed
in maybe you also want to allow null to
be passed into this as well so let's go
ahead and refresh here and we get a true
value let me just increase the size of
that so we know that this post is owned
by this user if we were to say something
like user ID equals say 1 we know that
we get a false because it's not owned by
that user but what happens if the user
is null like I just said maybe they're
not signed in well in this case we see
argument one pass to post owned by user
must be an instance abuser but null is
given so what you would actually have to
do in this case if you were checking if
a post was owned by usually you would
have to use an if statement outside of
here now there's nothing wrong with that
but what we can actually do is take the
similar concept to checking the return
value in type hinting the return value
and we can add a question mark just
before this user what this means is that
we want the user instant passed in
however we're also now accepting a null
value into here so this works as normal
bar if for example the user was null
we're also accepting that in now this is
going to break of course what you would
have to do is inside of here add in a
check to say maybe well does this user
that has been passed in equal null if it
does we know that the post couldn't
possibly belong to that user because
maybe they're not signed in so we're
just going to explicitly return false
before we do that check based on an
actual user so we get the following we
get false so that kind of makes sense to
me and I really like this because it
allows you to be a little bit more
flexible with checks inside of methods
without having to do this outside
anywhere so we can just call this method
now we know that we're expecting in the
user but we also know this could
potentially be null and we can clearly
see the check here as well so I really
like this I think it's really really
helpful and that's just one of the
things that kind of extends on from what
we already had within PHP 7</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>