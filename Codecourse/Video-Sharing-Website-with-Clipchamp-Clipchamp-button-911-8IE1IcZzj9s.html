<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Video Sharing Website with Clipchamp: Clipchamp button (9/11) | Coder Coacher - Coaching Coders</title><meta content="Video Sharing Website with Clipchamp: Clipchamp button (9/11) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Video Sharing Website with Clipchamp: Clipchamp button (9/11)</b></h2><h5 class="post__date">2016-03-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8IE1IcZzj9s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's work on the initial upload
screen and we'll implement the clip
champ button which will allow us to
actually upload this video to Amazon s3
so we've already looked at uploading
with Amazon s3 and I have my bucket my
folder just open here just so I can make
sure that the videos are being uploaded
we're going to handle the storing of the
source now database a bit later so
there's a few things we need to do but
we're going to start on the index dot
PHP file remember I said we're going to
be creating our roots just down here
cause feel free to separate them out
into different files just to tidy things
up so of course what we're going to have
here is this one our home page so we
have our normal closure just here with
our request our response and any
arguments so this is as simple as just
returning a view so let's return this
view remember we have view attached to
our container here and then here we're
going to render out I'm going to pass
through our response and we're going to
choose the name of the view so let's
just go back to this here you can see
here that I have this setup to pull from
app views so why don't we just create
that view in here this is our home view
so I'm going to call it home twig and
let's just write home in there so we
know it works so now I just right in
here home twig and we're done so now we
see home great so we know that we have
our template so on home we can actually
extend this template and then place the
content in to here where we have this
main block so for this then all we do is
we have our extends then we choose the
file name in this case it's templates
app twig we have our block here which is
called main and we do down here is just
end that block so here now we should see
something looking slightly different and
we've already come across the error but
this is fine so the reason this is
happening is over an hour appt
play we have here a link to path for
home and this is the actual logo that we
can click on to go back to the home page
at any time so we need to set a name for
our route so we do is set the name here
to home pretty straightforward and this
works so you can see we've got our logo
here we can click it and we have that
content in there okay so just to finish
off the just base template of this then
we want a row in here we want a column
of six or six columns rather but we also
want to offset this so we're going to
say column offset by three and inside of
here we want a panel again this is just
bootstrap classes that we're using and
we also want a panel default so if you
want to head over to the bootstrap
documentation you'll find all of this in
here so now we want to inside of here
say panel body this is just again
bootstrap classes and this is where our
button will go so now have a fairly
nice-lookin home page that we can land
on let's start to get out clip champ
button setup so to do this I'm going to
use an anchor I'm going to give this an
ID we can set the hrf to hash we have an
ID here or video upload that's what will
target with javascript in order for the
clip champ button to render here and
we'll also give this a class video
upload button because we have some
styles attached to this and in here will
say upload a video we won't see this
text but it helps just to have it there
anyway so let's just take a little peek
at the video upload button styles so
let's scroll down you can see we're
displaying that button as a block and
we're aligning it centrally so this will
just appear in the center and of course
now we just need to work on actually
attaching this with JavaScript so we're
going to create our javascript file over
here and this is going to be called app
KS remember over an hour appt template
we load this in down here so now we just
see this we haven't got our clip champ
button but we want to go ahead and do
that now so let's go and just first
of all check if we have an element on
the page called video upload and we can
do that by using the length property
after we've grabbed that with jquery and
this just helps because if we don't have
it on there we don't want to try and
attach a clip champ button to an element
that doesn't exist so inside of here
then as we've seen before we want to say
video upload dot clip champ and then
inside of here all of our options so
let's just run through these just so
they're a little bit clearer remember we
have a label here in this case it's
going to be upload a video we have a
size in our case this is the button
sighs so we can just say medium we have
a title so we're going to say get your
video uploaded we have a preset here of
mobile we have a format here as well and
we're going to go for mp4 they have a
resolution and we'll say 480p
compression we're going to set too high
and now we can specify what inputs we
want to accept so in our case we want to
go full out and accept both file and
also the camera as well makes sense to
use both of these okay so next we're
going to move on to the output now we've
already seen this i'm using amazon s3
and let's define our s3 settings just in
here this is an object we have a bucket
which in my case is video upload code
course calm and the folder that we want
upload to is called videos so let's also
just up here before we forget set some
limits for the camera so for example we
might want a limit of 60 here okay so
after this then we're just going to
enable a couple of additional things or
rather just one additional thing I think
and that is that we don't want it to say
thank you are
we've uploaded because we want to head
straight over to the video so we're
going to disable the thank you okay so
apart from this we also need out on
upload complete call back so let's go
and just quickly do this but we're not
actually going to implement anything
here at all so on upload complete we
have a callback just here and we have
the details about the video and what we
can do is just console.log them here
just so we can see them what we're going
to do later is use an AJAX request here
to send this through and once that's
been successful we're going to redirect
the user to their video page which they
can go ahead and share okay so assuming
we've done everything correctly here we
should now see out clip champ button so
if we click on this we get out clip
champ screen up we can go and drag a
video / or of course record from our
webcam as well and once we're happy with
this we can go and submit it so we'll
head over to s3 and check that this has
been uploaded and that looks okay so if
we go over here and just give this a
refresh you can see that that video is
actually there and if we bring up how
console we should see an object just
here and of course we have a file name
and we also have a key now this is the
important part this is the location to
the video on amazon s3 so we have all
the information we need so we can send
that through to the back end we can save
that in the database really easily once
we do that we'll generate a hash will
return the hash and will redirect the
user to the right URL so if you've got
this far you're good to go move on to
the next part where we're looking
actually storing this in the database</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>