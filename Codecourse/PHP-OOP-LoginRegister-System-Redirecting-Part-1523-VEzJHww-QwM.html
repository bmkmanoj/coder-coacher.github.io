<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP OOP Login/Register System: Redirecting (Part 15/23) | Coder Coacher - Coaching Coders</title><meta content="PHP OOP Login/Register System: Redirecting (Part 15/23) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP OOP Login/Register System: Redirecting (Part 15/23)</b></h2><h5 class="post__date">2013-10-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VEzJHww-QwM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so what we're going to do now is
abstract the ability to redirect to user
with the the standard header function in
PHP but also going to build in a little
extra functionality as well and this is
going to be redirecting to a 404 error
to actually generate a real 404 error
and then include a custom 404 message
now we're eventually going to use this
in the profile functionality if it uses
profile doesn't exist but we'll build
this functionality in and create an
example so we can see how this will end
up looking and the main thing we want to
do here is remove the need to use the
header function and pass this string
like this into this function so let's go
ahead and define how we want to redirect
the way that we want to redirect is we
want to basically just say redirect to
somewhere in this case I'm just going to
say index dot PHP so we're defining the
file or the path that we want to
redirect to this can be anywhere even be
an external page Google comm or
something like that so now what we're
going to do is actually start to build a
redirect class it's not too tricky at
all
there's a little bit more functionality
than you would normally you know that
you think but we only have one static
method in here so we have a public
static function too and this has a
location and by default that's not so
we're going to in here check if the
location has been defined if it has
let's just go ahead and header location
to the location and will then exit okay
that's it we'll introduce an additional
check in here in a moment but let's just
check whether this works or not by
registering another user so I'm going to
choose a username into password and
enter a name here and register and we've
been direct redirected to index dot PHP
as we've seen previously
so we've abstracted that and that just
makes it a little bit easier the
functionality that we've created just
looks
a bit nicer redirect to index dot PHP
sort of read like a sentence now in here
we're going to give the ability to pass
in a error so 404 for example and we're
going to include a template which we can
find in here
so includes errors 404 which we have
open include a template to be displayed
as a 404 error so we're dealing now with
custom 404 messages so what we're going
to do is this doesn't make sense but for
now if a user registered successfully
we're going to redirect to an error page
let's go ahead and modify our redirect
functionality so instead of redirecting
to 404 dot PHP we're basically just
going to keep out on the same page so
we're going to stay on the register dot
PHP page we're going to set the HTTP
headers to 404 not found we're going to
include the error file and exit so if is
numeric so making use of the PHP is
numeric function so if is numeric
location because if we're direct
redirect into a path this is never going
to be numeric and we then have a case
for a for and break we could add a
default in here but let's ignore that
for now so case 404 oops sorry
we obviously need to switch and we're
going to switch the location so case 404
what do we want to do here well if if
we've been defined with 404 and the
reason again that we're doing this is
you might for example decide to include
other error codes in here as well but
for for a for what we want to do is we
want to set using the header function
and we want to set an HTTP 1.0 for a for
not found error
then what we want to do is include a
custom template which will be includes
errors 404 PHP and we'll exit okay
simple as that so now what we're going
to expect is when we register a user and
we're going to redirect to a 404 but
actually redirecting anywhere we're just
forcing an error here so if we go back
to register dot PHP and we register a
new a new user so we've got a few users
in here already and let's just say
password password and Sheba all right so
when we register now okay include oh
sorry includes so let's just change that
includes areas for for perfect let's
just refresh there
so we've already registered this now so
let's go ahead and register a new user
so register so that's now redirected to
register dot PHP but we've actually
generated a 404 error so that's
generating a 404 error in the browser so
what we need to do now in here is
generate also a minute oops that page
can't be found okay so you could do this
with errors as well if there's some kind
of error you could generate a 502 or you
know whatever you want to do really in
terms of your application and let's
again just say Bill password password
and Bill Garrett register oops that page
can't be found so we can use this later
on we don't need to use it in this
instance in fact all we need to do is
read redirect to index dot PHP but we've
now built that class so we can we can
make use of this at some other points so
if your users profile can't be found we
can redirect to a 404 error so that's
how we direct class all built and ready
to go</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>