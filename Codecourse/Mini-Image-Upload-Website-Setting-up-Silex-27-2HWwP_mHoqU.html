<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mini Image Upload Website: Setting up Silex (2/7) | Coder Coacher - Coaching Coders</title><meta content="Mini Image Upload Website: Setting up Silex (2/7) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mini Image Upload Website: Setting up Silex (2/7)</b></h2><h5 class="post__date">2016-06-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2HWwP_mHoqU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now to start things off we are literally
starting completely from scratch and the
first thing that we want to do is get
our framework set up so we're going to
be installing Silex we're going to be
using version 1.3 and if we head over to
the download section this will give us
instructions of how to download this now
we're going to be using a few
dependencies installed a via composer if
you don't have composer installed you're
gonna need to head over to get composer
org and follow the downloads and
instructions there but we use them for
most of our courses you should be good
okay so let's pull this into our project
I'm currently within the directory that
I have just opened in my browser and
this is completely empty at the moment
so let's pull this in but let's choose
version 1.3 for this and we'll wait for
this to download so now that this is
done obviously we have our vendor folder
without dependencies in and we have our
composer dot JSON file now we want to
think about the directory structure here
because we obviously have views which
we're going to be showing to the user
we're gonna have a public directory
which will store our CSS file and out in
next our PHP file to boot up our
application and we'll also have our
general vendor app folder so let's just
start with our app folder we'll be
creating a few more files in here like
models now providers but for now we'll
leave this empty we want to create our
views folder which will store all of our
views again we'll get to creating a view
in just a moment to test things out and
we want to create a public directory
this is the public facing directory so
inside of here we'll need a CSS
directory for our stylesheet and we'll
be doing that later as we get to
building this up and of course inside of
public we want an index dot PHP file so
when we land on this this is the first
thing that we see so we also need an HT
access farm this is really important
because of the way that we're gonna be
set up routing we want everything to be
rooted in the right
place if you're using something other
than Apache you'll need to go ahead and
use specific configuration for example
if you're using nginx but you should be
good if you are using Apache just to go
ahead and copy this and I'll leave a
link in the course download for this if
you don't to type it out either way all
this is going to do is it's going to
redirect all of the routing to index.php
to be picked up by Silex so inside of
index.php then obviously the first thing
we want to do is require in our vendor
auto load dot PHP file so let's do this
now just so we are set up and ready to
go we want to go back a directory into
vendor and the file we want to load in
is also load dot PHP so now within here
we have all of our dependencies loaded
in and we can just start to use them so
to boot up our Silex app then we just
want to create a variable for this and
we want to say new Silex
application and that's here so we can
test this out by just doing a var dump
on App just to make sure that everything
looks good and if we head over to our
browser just here give this a refresh
and head over to public we can see that
this is being dumped out perfect so now
we can set up our first route within
Silex if you've worked with other micro
frameworks like slim this will be very
similar and should make complete sense
but really the first thing I want to do
is set debug on just because if I make
any mistakes this will go ahead and give
me a stack trace of the errors but of
course make sure this is off in
production so now we can create our
first route and this is going to be for
the home page and inside of here we just
have our closure we can go ahead and use
app in case we need that and we are
actually going to be needing this a
little bit later and what we can do in
here just to test this out is return
home and now the last thing we want to
do it out here is just go ahead and run
our app pretty straightforward and now
on the home page we see home great
so now that we have our first root setup
we need to think about our Auto loading
now we're going to be Auto loading from
this directory we're going to be
creating one model and we're going to be
creating one service provider and of
course if you expand on this you want
Auto loading setup here so to do this
obviously we modify our composer to JSON
file and we want to choose the standard
of Auto loading now in this case it is
psr-4
and we want to choose a vendor namespace
now i've decided to call this awesome
image so i'm gonna set this to AI and
i'm going to add a backslash and then
escape this backslash and then what i
want to load these from the app
directory so essentially if you're not
too short psr-4 namespacing years we
have a course on this so you can go
ahead and follow it either way what
we're doing here is we're just loading
by a name space anything within this
directory and we'll see how this works
when we create our first model we'll be
doing that in the next part so now that
we have our composer that JSON file
updated we just want to run composer
dump auto load and we can pass in the
optimized flag and that will just set
all that up for us so the only thing
that's left to do just so we are well on
our way to get this started is to create
our first view now of course we don't
just create a lot of different views we
want to create a folder in here for our
templates so we're only gonna have one
template here this is just gonna
represent our general application if
you've worked with slim before you'll
understand the kind of concept of
templating and I'm just gonna call this
app twig and inside of here I'm just
going to create a basic document layout
and I can give this a title so something
like awesome image so within the body
then this is where our content needs to
go and we can create this within a div
with a class of container and we can
style this out later
to whatever we want now inside of here
we have our block and we can give this
whatever name we want so I'm just going
to call it main and then here we just
end that block so now any new template
that we create we can extend this
template and place any Content just in
here so let's just create a home twig
file so at home dot twig and we can
extend that base template so extends and
we just provide the path to this which
is templates app dot twig like so and
just down here we can create our block
so our block main and we want to just
end our block just here and we can write
home just in there now we've obviously
set up our templates but we don't
actually have a way to render these so
from index dot PHP from within this we
want to render out that view and
eventually we'll be passing down all of
the images that we've gone ahead and
uploaded so we first of all need to
install twig so we can do this with
composer
so let's compose a require twig twig and
wait for this to download and now we
want to use Sai Lexus service provider
to give twig functionality to our
application and this is really
straightforward to do because Silex
comes with a service provider we just
want to register a new Silex
provider twig service provider and then
we want to pass some options in now the
only option that we really need is the
path to our templates and of course we
use dir we're going to go back a
directory into views because this is
where all of our templates are stored so
now what we can do is within here rather
than just return a string we can
actually return or rather render a view
now we know that the view we want to
render is home for this route so we say
return app we access twig because that's
now within our application and then we
use the render method to render a
particular view now in our case that's
home twig so we can now head over here
give this a refresh and now we see
exactly the same thing but you may have
noticed the title has changed
and that's because we are now placing
home which remember is over in our home
little twig far into our base template
just here great so we've now essentially
just set up our framework really quick
and easy setup there's of course a few
more things that we're going to need to
add in here like in the next part when
we start to look out database and we're
gonna be looking at setting up our
database connecting and also our image
model so let's jump over and do that one
now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>