<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Basics: Callback Functions (with Twitter example) | Coder Coacher - Coaching Coders</title><meta content="jQuery Basics: Callback Functions (with Twitter example) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Basics: Callback Functions (with Twitter example)</b></h2><h5 class="post__date">2011-07-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VI9LI4DiJ8E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Alex from PHP academy' in
this tutorial we're going to be looking
at jQuery callback functions now
callback functions in general sound
pretty boring and don't really sound
like there could be much fun but in fact
callback functions are the absolute must
when you're creating something that
requires a response from an event you
can do it other ways but this callback
functions are probably the best and
easiest way to do this now in our J funk
J's file I've blanked this from the last
tutorial if you watch the last tutorial
and in index dot PHP I'm just gonna
carry on and write something in here now
you'll notice that I've got rid of the
script which references out J funk J s
file and the reason for that is that we
need to add it in a different place on
our page when we use callback functions
we need to ensure that the processing is
done after the elements have been
rendered on the page so let's just go
ahead and copy this and paste that down
there and we'll make reference to our J
funk J s but this time we're going to
just put it down here okay the last
thing after our body or rather just
before our closing body tag now in this
tutorial we're going to be creating
something like a Twitter input field
where you would enter a tweet which has
to be a maximum of 140 characters you
can't go beyond the 140 characters so
you need some way to validate what the
user has typed and give them immediate
response you'll notice that on Twitter
when you're typing a tweet if you do use
Twitter you get a constant feedback of
how many characters you have left so
let's go ahead and create our form and
make sure that looks ok and then we can
go ahead and create the callback
function okay so let's go ahead and
create a simple input field
I'm gonna have the type obviously as
text because we want the user to be able
to type I'm also going to set the size
to 50 and then I'm gonna set a max
length and the max link is going to be
140
now obviously the max length attribute
on the input field on the input element
doesn't solve the problem of processing
in the back end so if you were to do
this and you were to incorporate jQuery
as we're going to do in this tutorial
you'll notice that you will need to
process the length in the background as
well just to ensure that the user can't
submit anything because you don't your
user to submit something having modified
the form we're also going to give this
an ID and I'm gonna call it tweet box
and this is what we're going to be
referencing later now I'm not going to
be adding an on-click event to this
because or and on something on key up or
anything like that
just for the simple reason that we're
going to be doing it using a callback
function and we're gonna check
constantly if this value has changed so
let's go over to J funkiest in fact
we'll preview this first just to make
sure it looks okay yeah it does okay so
the user can type in data now the first
thing we want to do in J funk is we want
to define a variable that's the maximum
characters allowed so let's go ahead and
say tweet underscore Max and that's
going to equal 140 okay now down here
I'm gonna create a dollar sign we're not
actually creating a function for this
because we're not using an HTML on click
event or an on key up or onkeydown event
but I'm actually gonna reference the
tweet box so tweaked underscore box and
I'm this time I'm gonna say dot key down
and then I'm gonna do two brackets and
end that
so essentially what we've done now is
we've created an event handler which is
going to handle code inside of here when
we have key down but we need to provide
it with a callback event and we do this
by creating a function definition inside
of our
eventhandler service ain't function what
I'm then going to do is just outline the
block that we need to enter our code in
so here is where everything is going to
go once the user has pressed a key down
on this specific element that we have
referenced so I'm going to pull that
down bit and just pull that in so now we
can start writing our code inside of
here now just as an example I'm gonna
say alert hello so what's going to
happen now is when the tweet box has a
key down we're gonna execute if you like
this block in this function okay so
let's go back and press f5 I'm going to
click in here and I'm going to type a
you can see that immediately I have a
dialog box come up say hello
and this is going to happen every time I
type something in so now you can see
that every time I've typed a character
we've had a callback
I've even just pressed backspace and
it's even alerted me so every time we
have a key pressed or key down inside
this tweet box remember that's this here
then we actually do everything inside
this function so we can make use of this
by actually keeping track of how many
characters the user has typed
subtracting the tweet or subtracting
this from the tweet the maximum tweet
amount and then relaying it back to the
user so let's go ahead and test this out
we need to first of all get the amount
of characters that the users currently
typed so I'm going to create a new
variable and this is going to be called
tweet length and that's gonna equal to
dollar remember we use dollar when we're
referencing a specific element and this
is hash tweet underscore box and that's
dot Val and then brackets
now this gives us the value that the
user is currently typing in so the value
of the text that's currently in the box
so if we go ahead and let's go back to
our page and create the area that we're
actually gonna just display our feedback
to the user so we're going to come down
just below this and I'm gonna say div ID
equals and the div and we're gonna say
tweet feedback now we've created a new
div which we're not going to be typing
anything into we're gonna let our event
handler handle what to put into that and
the idea of this is tweet feedback so we
can reference this here so now let's say
a dollar sign and then in here I'm gonna
say hash tweet feed back dot HTML this
is another new function that I've
introduced you've seen the Val function
which you have we haven't seen before
and the HTML function which we haven't
seen before and in here I can simply put
tweet underscore at length now this
variable is pointless and pointlessly
named in this example because it's just
going to return what's the what the
users typed we're gonna add something
just on to the end of here in a moment
to actually get the length but just for
now this is just going to show us how
we've got the length the value of what's
been typed so if we refresh I can all
that because that was from the previous
page if I click in here and I start to
type something you can see that it
hasn't completely worked at the moment
I'll explain why in a moment
but it is relaying the infant bird well
everything that we're typing in now I'm
using the key down and I'm actually
going to change this to key up and
you'll see the difference that this
makes so a b c you can see it's relayed
the information properly this is just
because of the way that the handler
handles things so ABC even when i
backspace that's classed as a key up
because I've pressed the key and then
I've released the key so now we're just
relaying the data that's coming back to
us so now if we add something on to here
we'll be able to relay the length and
that's just docked
thank okay there's no brackets involved
in this because this is not jQuery this
is not a jQuery function okay I'm going
to refresh and start typing something
and you can see that this value is now
updating with how many characters is
currently in well the length of the text
that's currently inside here and this
does include spaces okay so if we were
to type hello there how are you it's
actually counting the amount of
characters inside of here okay so let's
get rid of that you can see that we've
got this problem with it being zero in
this case it doesn't matter because
we're constantly relaying a number back
to the user but in other cases you might
want to just create an if statement to
check if the value is zero okay so we're
going to get rid of this because we
don't actually want that at the moment
but now what we want is to create a new
variable called tweet left and this is
going to be the amount of characters
left in fact let's call that sha left
make things simpler so the characters
left is going to be tweet underscore max
minus tweet underscore length so now we
have the amount of characters that the
user has left to type and you've
probably already guessed we're just
going to say dollar and then in here
we're going to reference our tweet
feedback div I'm going to say dot HTML
inside of here I can just type some text
so you have let's just put a 0 in there
for a moment until we can substitute in
this char left variable you have 0
characters remaining okay so in here we
can cut off that and we can add on the
rest of the string so it's a almost
concatenation really so I'm gonna say
you have space something characters
remaining remember the space in there as
well I'm gonna say char underscore left
so now what's going to happen is when we
type you'll see that as we type
it tells us how many characters we have
remaining and we can delete characters
which will increase this amount back to
140 we can type whatever we want really
okay so as well as learning how to
create something like Twitter uses we've
also looked at this callback function
here based on this event handler here so
we included this cool callback function
to take into account the length of the
current tweet using this jquery function
here and then just taking the length of
that value there we've then calculated
the characters left and we fed them back
using dot HTML which is essentially just
putting data into this div here and
another interesting thing to notice is
let's just refresh the page if we start
typing something here when we go to view
our page source you'll notice that the
div contents is empty and this is just
the way that is processed on the page by
jQuery we don't actually have the data
relay back to us in HTML that's just
something to point out in case you're
trying to debug and view the source but
jQuery doesn't actually have an effect
of actually modifying the HTML document
so this essentially here is just
feedback from jQuery so now you've liked
to do that you've learned what callback
functions are this is a really useful
way forward to creating something
dynamic where you're feeding back
something to users as they're typing
something so I highly suggest that you
play around with this kind of
functionality and you'll probably find
that it ties in to most things that
you'd want to actually create with
regards to feeding back information from
users but the main 12 relaying
information to users but the main thing
to note is this callback function in
here based on this event handler</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>