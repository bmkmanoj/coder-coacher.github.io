<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Authentication: List All Users (25/30) | Coder Coacher - Coaching Coders</title><meta content="PHP Authentication: List All Users (25/30) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Authentication: List All Users (25/30)</b></h2><h5 class="post__date">2015-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dOJetM8zGzI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we're now going to show a list
of all the users that are currently
registered on our site and for this I'm
going to need to add another user to our
users table because we only have one at
the moment
so let me log out and register a new
account quickly so that's done and what
I'm gonna do is just activate myself
from the database like so so we now have
two users now the view all users page is
going to be public so all we need to do
is add it to our navigation just down
here so we're gonna create an anchor
here I'm gonna say URL for we're gonna
give this a name so we're gonna say user
dot all and in here we can just say all
users so let's create this root then so
we can actually start to output
something so under user in routes we're
going to create a new file and I'm going
to call this all PHP so in here we're
gonna say app get users you can
obviously call this anything you want
we're gonna use app as usual I'm gonna
give this root a name of user Dole so to
grab all users then we're going to grab
all users that are currently active
because we don't want to show inactive
users
they haven't activated their account so
we're gonna say users equals app user
we're active is true so only active
users and this time we used yet because
we're pulling back more than one result
so now we want to render our view which
we again haven't created and that's
gonna be under user or and it's going to
be called all dot PHP and much like with
the user profile we're just going to
send through all of the users to this
now this is going to be
arrey it's gonna be a collection
basically of all of the users so we can
iterate over these and we can go ahead
and output whatever you want about each
of these users so let's create that view
then so under our views user folder
we're going to create a new file called
all dot PHP will again borrow the
structure from home dot PHP or any other
file and we're gonna say all users for
the title and in here all users and
let's go back and update in fact noe
updates our navigation so we don't need
to add that we now have of course we
need to add we're getting an error again
we need to add this to our routes far
here
so that's user Oh PHP and there we go so
we got all users which comes to our all
users page so now all we need to work on
is the actual view so let's close all of
these other files off and what do we
need to do well we need to maybe give a
title and do whatever you want the first
thing we need to check is if the users
array is empty so to do this we say if
users is empty otherwise
we want to do something else so if the
users is empty we can say no registered
users we're not actually going to see
this message but you can go around
playing with it and remove these records
from your database otherwise we want to
say for user in users this is slightly
different syntax than you would have
seen in normal PHP and here we end a
four so now we're looping through each
user so I'm gonna create a div with the
class of user
there's no Styles attached to this but
it you know just gives you an idea of
what you could do what then going to do
is create a link to their profile with
their username in here so user dot user
name I'm going to create a link to their
profile we've already created this page
so URL for user profile and then here we
passed the username use that dot user
name so we now have the following so two
users tab E and Alexander we can click
through to each of their profiles cool
so the next thing we're going to do then
is we are going to check if they have a
full name or not so we're going to say
if user dot get full name
and that if and if they do have a full
name we can go ahead and output that in
brackets so we just have that surround
in brackets so user dot gets full name
okay so let's refresh and there we go we
know that we set a full name for Tab E
but Alexandre currently doesn't have a
full name so it's not being output but
now we have a list of users within our
application</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>