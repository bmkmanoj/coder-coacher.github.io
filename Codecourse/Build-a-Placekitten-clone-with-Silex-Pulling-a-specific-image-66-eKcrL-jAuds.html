<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build a Placekitten clone with Silex: Pulling a specific image (6/6) | Coder Coacher - Coaching Coders</title><meta content="Build a Placekitten clone with Silex: Pulling a specific image (6/6) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build a Placekitten clone with Silex: Pulling a specific image (6/6)</b></h2><h5 class="post__date">2017-02-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eKcrL-jAuds" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright then so if I want to use a
specific image by its ID I need to go
out to pass into the query string and I
must have that image returned to me at
the size that I gave but we also need to
think about caching as well so we're
going to need to update and leave it in
here as well so we have all of our
images inside of cash images we can go
ahead and remove these if we need to the
first thing I want to do is update this
to go ahead and adjust my query based on
that query string that we pass in so the
best way to do this because we need to
kind of modify the query we want to kind
of keep the same thing we don't to
repeat this line of code within an if
statement what I like to do is take them
like claws and then inject that into the
query and then of course we need to use
prepared statements for this because
we're passing something from the query
string directly into our queries we need
to think about security here as well so
what we're going to do is using the
request that we have inside of here we
can actually say get image and that will
give us that value that we use in the
query string so if we just kill the page
here and go ahead and just die and
dumped on Klaus I'll just kill the page
on Klaus give that refresh we see five
so we have that value now that we can
use to check now I'm going to do a
ternary here to check if that is a value
because this will be null otherwise and
then i'm going to say where ID equals
and then a question mark that i can
later bind in so we're checking if that
exists the clause will be a specific ID
which pull out one image only now
otherwise we basically just want to
order by rand and then limit to one so
we can go ahead and get rid of this and
pop that in there and then really simply
into here we can just place our claws so
it can put that in there and now
depending on whether that's been passed
into the query string we now have either
where ID equals one or two or three up
to 10 which will always return us one
image or we're ordering by random and
we're limiting buy one now of course at
the moment we're not actually passing
the ID of the image in so we need to do
this within an array as the second
argument and this is just the value that
we want to bind in or the
values we want to find him in order if
we had more than one and of course we
know where that comes from it comes from
request and we say get image like so now
it doesn't matter if you're ordering by
Rand limiting by one and we're passing
this in as well so we do have this past
in even if we don't have something in
but to be honest it doesn't really
matter too much it's not going to affect
the way it works so now that we've done
this we know that this is going to give
us back a specific image if I just go
ahead and refresh here I don't think
this is actually image 5 so even if we
change this over notice that we're still
getting the same item back so what we
really need to go ahead and do is update
our cash so this takes this into account
now by this I mean that we're going to
add on to hear the image that we're
potentially requesting so we're going to
say request get image and now of course
that's not going to exist in the cash so
now what we can do is for a specific
with a specific height and a specific
image we can grab this and go ahead and
cash it based on that as well so this is
just making it a little bit more unique
now what we can do them is come over
here and say well I want image 1 and
there we go we have image 1 we can
change the width and height / and of
course that will still bring us back
image 1 but of course it will cash it at
this at this specific width and at this
Pacific Heights we can go ahead and
change this as well if we want to we
could do the same width and height for
image to that would cash that 500 x 500
we can adjust that and still get image 2
so now we pretty much have the caching
in place but we have more flexibility to
pull out a specific image if we want to
and there we go that is how we update
this to specify the image that we want
to see but it's still cash it for that
width and for that high so we speed up
our responses</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>