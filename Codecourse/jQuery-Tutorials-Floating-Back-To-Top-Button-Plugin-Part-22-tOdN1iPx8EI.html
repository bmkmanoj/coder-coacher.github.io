<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery Tutorials: Floating Back To Top Button Plugin (Part 2/2) | Coder Coacher - Coaching Coders</title><meta content="jQuery Tutorials: Floating Back To Top Button Plugin (Part 2/2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery Tutorials: Floating Back To Top Button Plugin (Part 2/2)</b></h2><h5 class="post__date">2012-01-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tOdN1iPx8EI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so in the second part of this
tutorial we're going to be going ahead
and creating the actual plug-in code now
although we're creating a jquery plugin
which might seem relatively difficult to
do is actually extremely easy as long as
you know some javascript and you're
familiar with jquery it shouldn't be
that difficult whatsoever so what we're
going to do is we're going to create the
standard notation for creating a jquery
plugin then we're going to go ahead and
fill in the gaps allow the user to
specify some options and then we're
actually going to make this thing work
so to create a plug-in we're going to
start with two rounded brackets this is
how I always remember it inside we're
going to create a function and inside
the dollar which is obviously what the
notation that jQuery uses and then we're
going to create a opening curly bracket
and then a closing curly bracket down
here and then in brackets outside of
this we're just going to say jquery and
including a line terminator semicolon
now inside we need to create the name of
our plug-in so we're going to say dollar
sign FN which means function and then
we're going to say back the tube top I'm
just going to call it back to top now
this is going to be equal to a function
and then the brackets and then an
opening curly and a closing curly so as
long as you remember this notation this
is all you need to start to create a
plug-in and this is all we need to do in
terms of actually telling jQuery that
this is a plug-in when we initialize it
on our index dot HTML page ok so inside
of here the only thing left to do now is
supply options because we're actually
allowing the user to pass options
through to our plug-in now we'll go over
to index dot HTML and we're actually try
and initialize this plug-in I might
actually pass well we won't pass
anything through it just yet but we'll
stay alert and then we'll say
working so as long as we initialize this
plugin we should have an alert saying
working so let's just go ahead and say a
hash back to top remember applying the
plug in to this element here which is
back to top so dot back to top okay and
inside here we're going to specify our
options a bit later so let's just leave
that blank for now okay so let's go over
to our browser and refresh and you see
that we get this alert saying working so
now that we know this is working let's
make sure that the user can pass through
options to our plugin so the options we
want as we've said before are the
position that the back to top appears at
and the speed okay so let's go ahead and
and sort of set this up inside of here
now one thing I'm going to do is I'm
going to re restore the this object
inside of a variable and the reason for
this is going to I'm going to be
creating some well I'm going to be using
funk code inside of functions inside of
this plug-in and therefore I just want
to sort of re restore this usually take
this dot something but I'm going to save
our this underscore equals this and then
I can now use this variable here inside
save function like
this for example otherwise it would
extremely easy to do I'm not sure if
this is best practice but this is how I
always work in terms of plugins it just
means it keeps the code a lot shorter as
well okay so let's go ahead and alert
out the settings that we passed through
to make sure these are working we're
going to create a variable called
settings and this is going to be equal
to an extension of our options so I'm
going to create some curly brackets here
and then I'm going to save options so
we're extending our options and we're
going to set some defaults here so the
first one we want is position and this
is going to be by default equal to a
thousand comma down a new line and then
we're going to have speed and by default
this is going to be equal to 500 so if
under here we were going to say alert
out settings and this by the way is now
an array so settings position when we go
over to our browser and refresh you see
we get a thousand alerted out and that
would be the same for this speed as well
so we know that this is working but we
now want to sort of past these through
so I'm just going to add a space and
then settings speed and let's go ahead
and pass through some values of our own
so I'm going to say position two
thousand and speed 100 so now we should
have an alert saying two thousand a
space and then 100 so let's refresh and
that's worked so now that we know that
we can pass through settings into our
into our page a plug-in sorry we can you
know really we can sort of use these
essentially okay so let's go ahead and
pop these settings in two variables so I
just
comment in here settings and I'll save
our position equals settings position
now this isn't entirely necessary but
just means i can use a shorthand version
of this instead of having to write this
all the time and it also puts them into
a variable so they can be you know say
if you wanted to add a thousand to that
for any reason etc etc then position
would be dynamically updated so we're
just really the best practice to do this
so settings speed okay so now that we've
got our two settings we want to go ahead
and align this this or widget in the
middle of our page now to do this we
need to work out the width of the
document and then we need to place it
half of that length and then we need to
subtract the overall width of the
element here divided by two so half of
the overall element so it might sound
complicated but if you're only good at
maths which I'm not then it will be
extremely easy to work out so I'm going
to say this CSS and inside here i'm
going to say left which means that
obviously we've we've fixed the position
so we can use left to offset from the
left so if we would stay left 100 that
would be a hundred pixels from the left
you can see that would just change now
so we can dynamically update this okay
so what we want to do is we want to use
our selector and say document dot with /
to now you'll see that that will place
that in almost the center but now again
like I said we want to have this get
half of this value and then subtract
that we place it directly in the center
so we want to minus this with / to okay
so relatively straightforward and now we
get that positioned
so I've done something wrong it's just
double check oh yeah sorry this dots
with and it's refresh and you can see
that's in the center now and it follows
us down as before okay so we want to
hide this back to top element now so
let's just go ahead and quickly open up
our CSS file and we'll say back to top
display none okay so now when we refresh
our page that will be invisible now we
can use jQuery to show this when we're a
particular way down our page so to do
this we use our document selector and we
say scroll so this isn't of this is an
event handler so when the user Scrolls
down the document is essentially or up
or down the document is essentially what
this means and then we want to carry out
everything within this function here so
first of all want to determine the
scroll position so far scroll pods
equals and we want to say window using
our window selected I'll scroll top so
this will return a value of where we're
at on our page so there's not really any
easy way of sort of displaying this to
us but we could sort alert to this value
and try and quickly scroll down and have
this at our value so when we scroll down
it says 20 and 0 5590 blah blah blah so
it's gonna bit crazy but yeah let's just
try and get rid of that lets bit
annoying
okay right okay so we've got rid of that
so that probably wasn't a good idea
however we have determined the scroll
position now what we want to do is we
want to go ahead and check if it's
greater than or equal to the position
that the user-supplied so for example if
they supply position in here if the
position that we currently scroll down
out is greater than or equal to say a
thousand then we want to show our back
to the top link at the top so we want an
if-else statement so if something
otherwise something else so if scroll
position is greater than or equal to
position when position here is the
variable that we created earlier so we
want to show if it's that else this
underscore oh no well we want to
essentially hide so okay to show this
what we want to do is room so this dot
played in remember giving it a speed of
fading in so we can just literally say
speed and then for the complete opposite
we can say this stop fade-out planning
in brackets speed it's just popping
under school there okay so now that
we've done that this is actually going
to work it's not however going to
function properly when we click on it so
let's just go ahead and refresh we're
scrolling up and down here it doesn't
really make a difference but all the
while we're doing this we're having that
value changed so when for example we
scroll down two thousand that will fade
in when we're less than a thousand that
will fade out so we now have this
display functionality working when we
hover over we have our nice mouse
pointer however when we click it nothing
happens now to do this we're going to
use jquery to handle the click as well
so we're going to say this on
score click and then we're going to
perform everything within this function
here and obviously we want to scroll to
the top and that's extremely easy we
just use a window selector and we say
scroll top and then in here 0 which
means 0 pixels from the top now you
notice that we've got a value being
returned from this however in here we're
supplying a parameter and we're actually
setting a value so we can set this to
100 and that would mean that we push the
user to the hut to the position 100
pixels from the top but obviously we
want 0 so let's go ahead and check this
if you just keep an eye on the scroll
bar on the right hand side when we
scroll down and click on this you see
that we're redirected back to the top of
the page and because we've performed a
scroll action and our position is less
than a thousand our little widget will
automatically fade out so when we click
on that it nicely fades out when the
user is back to the top so that's
essentially how we go ahead and create a
jquery plugin to create a nice little
back to the top widget which can be
placed on your page which will give a
nice fixed position link if you've got a
lot of scrolling content</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>