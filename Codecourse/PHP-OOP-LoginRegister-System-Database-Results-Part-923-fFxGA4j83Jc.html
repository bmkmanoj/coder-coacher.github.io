<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP OOP Login/Register System: Database Results (Part 9/23) | Coder Coacher - Coaching Coders</title><meta content="PHP OOP Login/Register System: Database Results (Part 9/23) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP OOP Login/Register System: Database Results (Part 9/23)</b></h2><h5 class="post__date">2013-10-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fFxGA4j83Jc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're now going to focus on retrieving
results from our database at the moment
all we're really doing is checking
whether the last query returned anything
or not we don't actually have a way as
of yet to return the results what we're
also going to do is introduce a method
that allows us to return only the first
result because if we were to say query
we're a specific user was concerned like
this we're checking in the users
database a table sorry where the
username is equal to zero to Alex we
only really want to return the first
result now the results set will return
us an object or a list of an array of of
objects basically so we only want to get
the first one let's go ahead and
introduce these methods then they're
very very straightforward in the first
one the first method will will make a
lot of sense hopefully as well let's go
ahead and create these down here then so
we need a public function called results
and that's basically just going to
return this results so remember as part
of these methods here that we've created
and as part of this that we've created
we're not actually storing any results
in here we're doing that within our main
query method which is setting the
results here to the the results at the
fetch 'el method and we're retrieving
the results as an object so all that's
going to do is return the results now so
what we can do is if if this query has
returned some results we can use for
each to say user results as user and
making an echo username and we could
just append a line break on just for the
sacred example so here then oops
and just check what's happened here oh
there we go sorry we would say user
username my mistake so in that case then
we're just returning Alex we've only got
one record in our database let's go
ahead and just put another user in just
for the sake of it again all of this
will be hashed eventually we just
testing this out for now join date was
to the group to one so refreshing oh
well obviously we're only going to get
one result here now but let's go ahead
and change this to let's say what we
could just do a standard query I guess
on this and so we can just say query
select star from users that's a good
point really and perhaps our our trip to
get method and now our action method
should take into the account that we
only want to retrieve all records from
users but that could be easier mended
for our purposes we're probably not
going to need to do that you might need
to do that if you want to just output a
list of all the users on on the site or
something like that but once you've
understood how that works it shouldn't
be too hard to change so now we have
Alex and Billy output know what happens
if we only want to get the first result
in that case if we revert back to the or
the get method we don't want to have to
loop through if we only know that we're
going to get one user record it's
pointless there's no need to loop
through a set of results now of course
what we could do is we could say echo
user results and depending on what
version of PHP you're using you can or
basically just use the pick out what you
want from directly after the return of
the function so we could just say this
username nut would work we would just
get the user Alex out because that's the
first and only record now there's no
real need to do this though we'd better
would be a lot better to put it inside a
method here so we could say public
function first which would return the
first result and we can just say return
this results zero or even better we
could say return this
results zero like that so we're making
use of this method inside of here so now
what we can do is instead of doing that
we can echo user first username perfect
so now that will just echo out Alex so
that's how we would retrieve results
from our our database using our database
wrapper either through looping through a
result of many or just picking the first
result if we know there's ever only
going to be one result</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>