<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Generating PDF files with PHP: Setting up (3/7) | Coder Coacher - Coaching Coders</title><meta content="Generating PDF files with PHP: Setting up (3/7) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Generating PDF files with PHP: Setting up (3/7)</b></h2><h5 class="post__date">2015-10-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/phPmO6W5Y6k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now we're gonna be starting to build the
class but we also need to focus on the
directory structure and what each of
these directories on the Left mean so
you can download all of these files and
directories from the course download for
this series and we're gonna run through
them now just so we know exactly what
we're looking at so the first thing then
is an index dot PHP file that's just
what I'm in with in my browser at the
moment and all this is doing is it's
requiring in app bootstrap dot PHP and
that file at the moment is empty that's
why we're going to be pulling in our
composer dependencies and anything else
that we may need to do it's a very very
basic structure here we also have this
bin or binary directory and this is
where our phantom j/s download is going
to go so once you have these files and
you've downloaded phantom j/s you can
see i've got it here in my downloads
folder I'm essentially just going to go
ahead and put it inside of this binary
directory and then we can use it to
execute that command to take a snapshot
of the web page now we also have an
empty directory which is storage this is
going to be where we save all of our
temporary snapshots before we show them
or present them to a user respond to
that request and the user will download
that PDF file and then what we'll do is
just delete that temporary file now we
also have this views directory this just
contains a basic page we're linking in
bootstrap here
bootstrap styles which is a front-end
framework and we have just various
content in here just dummy content you
can see here that we've got these
replace me pieces of text and that's
where we're going to be injecting the
variables in so now that we've done this
let's now start to load in the class
that we're going to be building inside
of this app directory now I'm going to
be using Perce off for auto loading but
if you don't want to do that you can
just build the class on its own and we
can go ahead and just require it in but
I would recommend doing this since you
have composer already this makes things
a lot easier so let's create a new
folder inside of app called code course
you
call this whatever you like this is
basically just your top level vendor
namespace and inside of here I'm going
to create a new folder called CAPTCHA
and inside of here is going to be our
class so let's start to define our class
now so I'm going to call this CAPTCHA
dot PHP and what we need to do is
namespace this because we up here self
or autoloading
so I'm gonna namespace this under code
course and capture and the class name is
capture of course you can choose any
name you want it really doesn't matter
and you can place these anywhere you
want as well so let's just test this out
by returning the text test from this
test method and on index what we're
gonna be doing then is actually trying
to use the class and then we can just
get on with building this so inside of
my terminal I'm currently within this
PDF directory so all I want to do is
dump my composer autoloader which will
allow us to just create any new files we
need to which we will be doing later and
then that will automatically require
everything in for us but first of all we
need to compose a file so let's go ahead
and in the root directory we're gonna
create composer JSON and inside of here
we're gonna choose what we want to auto
load in if you're new to Auto loading
just go ahead and follow along this will
make sense once we get up and running so
we have the outer is auto load and then
we want to pierce our for auto load we
give the vendor name space with a
forward of it with a backslash we need
to escape that backslash to be end up
with two and that's basically the folder
here this this kind of top-level name so
whatever you call this folder you're
going to call this so next is the
location of this folder which is just
app code course that's it so we are now
loading in files wants to be dumped our
auto loader so whether you downloaded a
composer as a PHP our file this depends
I have composed it installed globally
but if you don't you just need to run
PHP composer pH AR and then the commands
that I'm gonna write in a moment so I'm
going to say composer dump auto load and
then when I pass in the optimized flag
what that's going to do is create this
vendor folder eventually all of our
dependencies will end up here but for
now we have this auto load file and now
what this means is any file within this
kind of directory structure as long as
it's properly named spaced will be
loaded into our project so under our app
bootstrap file we're going to require in
vendor auto load PHP now if we go to our
index dot PHP file and we open up our
browser nothing's gone wrong so that's a
good sign but now what we're going to do
is we're going to instantiate this
capture class just to make sure
everything's working so all we need to
do then is say capture equals new
capture now because this is namespace we
need to give the full path to this you
can either do this here like this so
code course capture capture or you can
use a u statement so we could go ahead
and do that up there but really in this
case let's just leave it like this so
now we can test this out by saying echo
capture test and remember we have this
test method in here we should now see
test on here perfect so now that's done
we have got to grips with the directory
structure we have phantom j/s in here
for whichever operating system that
we're working on and we now have this
capture class where we can start to
implement all the functionality we need
to generate our our PDF files now
there's one more thing we need to do and
that's utilized twig because what we're
gonna be doing is within this class we
need to actually render the page out and
then take a snapshot of it so let's
focus on setting up twig in the next
part and then we can get on with
building all of this</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>