<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Register &amp; Login (Part 15): User Settings (Part 1) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Register &amp; Login (Part 15): User Settings (Part 1) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Register &amp; Login (Part 15): User Settings (Part 1)</b></h2><h5 class="post__date">2012-05-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/S0fDNu82K9A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we're back again and this time
we're going to be creating the page that
allows the user to change their details
that associated with their account so
anything that they've registered with we
are going to allow them to change well
not everything in this example we're
going to be allowing the user to update
the first name last name or email
address now obviously here within your
system you have you may have different
requirements so you may have additional
fields this will basically go through
updating fields in a way that you know
if you need to add any more fields to
this then it's going to make it it's not
going to make it difficult so
essentially what we're doing here is
we're updating our database so we're
going to correct go ahead and the first
step is to create another page we're
then going to create a fear form that's
going to hold all this data and we're
going to pull in the data that's
currently associated with this logged in
user and then we're going to submit the
form as we usually would we're going to
go through the ever error checking or
the form validation spits out any areas
of their R&amp;amp;E and if everything is okay
then we are going to update the users
details and then tell them everything
went okay so it's more or less the same
process as we did with a register page
and we're going to be using a lot of of
the concepts from the register page and
some chunks of code it's not always good
to validate code but this is a really
great way to go back and go over what
we've already done if anyone didn't
quite understand and you know and it
also gives you the opportunity to look
at doing things in a slightly different
way which will see with inside the the
function that we're going to use to
update users details so the first thing
we need to do is go ahead and create a
new page so I've got this logged in up
here HP widget open which is what you
see here and I'm going to be adding a
new menu item to this I might may as
well go ahead and do it now so I'm going
to create the menu item settings I guess
they're not necessarily settings that
it's more like profile information
but you know this is going to be a
general place where we're going to have
any any kinds of settings we've
obviously already got changed password
here which is a page in its own right
okay so that's added this here we
obviously don't have this page at the
moment so we need to go ahead and create
that so let's go ahead and open up a
page that we already have that we know
needs to have a user access or needs to
have logged in user to be able to access
and that's change password so remember
we've got includes of core protecting
the page including the header let's go
ahead and just copy all of this and be
lazy paste it all over here and save
this out as settings dot PHP and let's
go ahead and get rid of the bits we
don't need for now but we this and all
of this so we've ended up with including
our core file we were protecting the
page against people that aren't logged
in because obviously there's no point
updating settings if you're not logged
in or information if you're not logged
in and we're including the header and
footer so let's go ahead and refresh
click here nothing we've got our
template but we have got any content
which is to be expected because we
haven't placed anything in here so let's
go ahead and just start to quickly build
this form up and then we'll go on to the
PHP side of things and you know actually
going through and validating this data
so we're going to be allowing the user
to update the first name last name and
email address so let's go ahead and
create a form so the action is good
going to be blank we're going to be
passing the data to this page processing
on this page the method is going to be
post we need an unordered list here and
obviously our list items inside so in
here are the first ones first name just
put a little asterisk Asterix there to
show that that's required in fact I yep
oops just going to close that page
that's going open that up again settings
yeah we'll leave the asterisks in there
let's go ahead and create the field here
so type equals text the name for this
we're just going to keep with the same
name convention so remember we have
first underscore name for name let's
just go over here to our database we've
got first underscore name last
underscore name email so we're going to
keep the same names as that we as we did
in the initial registration process so
that looks about it for that one let's
just preview what that looks like at the
moment brilliant let's just go ahead
give it give this a header up here I
haven't done that yet
so I'm just going to call this page
settings up of it there we go okay so
we've got the first name in there let's
go let's just go ahead and duplicate
this obviously not entirely cuz we need
to modify this so last name and then
here will be email I'm going to get rid
of these asterixis because they're
annoying so here will be last name and
this will be email and it's just refresh
perfect and last list item will be the
submit button so input type equals
submit and I'm going to give this a
value that obviously corresponds to the
action which is going to be update so
now we have the ability to enter first
last name and email address what we
actually need to do is because the users
already logged in they will have a first
name they will have a last name stored
well they may not do but you know that
was an optional field and with email
address they'll have an email address
obviously because they've gone through
the activation process so what we need
to do is inject this data into these
form fields so it displays here there's
no good leaving this blank we were
updating our settings we're not adding
any settings so what we need to do here
is we need to say value equals something
so in here what we can do is we can
actually utilize if we go over to core
and in it remember here we
grabbed all of this user data so it
basically specified the fields that we
wanted to grab and that returned it into
this user data array here so we've got
we've got first name last name and email
so we can use them within our settings
page
so I'm going to open PHP tags and close
them within here I'm going to echo user
data because it's an array I use square
brackets to access each element and in
here I'm going to say first underscore
name we'll go ahead and copy and paste
this it's going to be a lot quicker this
way and this is obviously last name and
then email is just email so now what's
going to happen when i refresh is that
places all of the data that's you know
commonly associated with me within these
fields and therefore what I can do is go
ahead and and change this data and then
you know pass it through to this update
process that we're going to create and
then these fields will be updated and
then obviously they'll change again to
reflect the current data so we've done
that now now what we need to go ahead
and do is actually start to validate
this information so basically what I'm
going to do is I'm going to be I'm given
the ability to go ahead and type another
name in which is actually my name this
time click update and this this this
page just refreshed then so quickly you
didn't see it but the page refreshed but
that will then take us through to a
confirmation message to to let us know
that it's everything that's gone okay so
up here within where we are inside PHP
inside of PHP tag we need to go ahead
and start to validate this so what I'm
going to do is just close any lot of
files that I don't need open in it dot
PHP I don't need open and I'm going to
go ahead and open up register now the
reason I'm opening up registers because
register uses some aspects and we can
look at this and how everything's laid
out to actually process this
successfully so the first thing we do is
check if any post if the post data
that from this form the array that's
been sent by this form or process it is
due to be processed it's not empty so we
need to say if dollar underscore up
sorry if empty the underscore post
within that is equal to false that means
that we have some data so we can go
ahead and start to process here now here
we've got this when we create the
registration script we have this
required fields array which is going to
be useful to us now we have all of the
fields you know are required in actual
fact I'm going to go ahead and put these
asterisks is in because it's going to
make a lot more sense to the user oh and
last name is not required so we're going
to do exactly the same thing here but
I'm just going to go ahead and copy and
paste what I've already done here I will
quickly run over it just so for anyone
that didn't understand this it's going
to be a lot easier for you so first name
and email are required now last names
not required so what happens here then
well we define this array and place the
elements within it and then we loop
through all of the posted data so we
loop through the first loop will be the
first name last name then email now if
it's empty
and it's in this array then that's a
problem so we set an error and remember
this errors array is something that we
defined it out in its top PHP file and
it just holds any areas that we might
come across so we loop through the data
and basically check that anything that's
required is actually required and then
we go on down here to do some more
validation and that will be in the next
part of the video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>