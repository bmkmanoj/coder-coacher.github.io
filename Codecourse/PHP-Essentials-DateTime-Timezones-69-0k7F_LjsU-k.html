<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Essentials: DateTime: Timezones (6/9) | Coder Coacher - Coaching Coders</title><meta content="PHP Essentials: DateTime: Timezones (6/9) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Essentials: DateTime: Timezones (6/9)</b></h2><h5 class="post__date">2016-09-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0k7F_LjsU-k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if you've ever tried to work with time
zones or really struggled to work with
time zones then I'm not surprised these
are or can be very difficult things to
work with and of course they can cause a
lot of problems if you don't get this
right so what we're going to look at is
how we can set time zones and just talk
a little bit about them in terms of date
time now we know that when we create a
new datetime instance by default we have
a time zone in here we have a time zone
type and we have the time zone now by
default this is UTC now my advice would
be if you are building an application
don't necessarily unless it's very
critical allow your users to choose
their own time zones there's usually not
much point in doing this if you're all
in one time zone regardless of whether
you where you are in the world generally
this just works fine if you are using
say post times like two days ago this
can just work really well but if you do
want to change the time zone maybe just
keep one time zone or whatever then
we'll go ahead and show you how to do
this now so let's start by just setting
the time zone specifically on a new date
time instant so this is just for one
instant this won't globally change the
time zone but it will do for one
instance so to do this we use the set
time zone method on any date time
instance we have now into this you would
think that we would just be able to pass
a time zone that isn't the case we need
to use a new class called date.timezone
we create a new instance of this passing
in the time zone that we want to use so
in this case we would say new date time
zone and into this we pass the full time
zone now you can find these on the PHP
manual but for now I'm just going to say
Europe London like so so now that we've
done this and we go ahead and do a VAR
dump on date this time zone will now be
different so go ahead and refresh and
there we go we have Europe London set
just on there now of course this can be
a little bit tricky if you are working
with multiple instances and you need to
switch around the time zone this can be
really annoying so we can actually
shorten this line down if we just go
ahead and comment this out grab this and
we'll do this down here so we can see
the difference we can actually
immediately pass this in now what we can
do is for the first argument we can go
ahead and just say now this will just
give us the current date and time as
we've already seen and then what we can
do is say new date.timezone going and
just passing in the time zone that we
need to use and that is as simple as it
gets it exactly the same result so here
this is really useful because if you did
want to pass a specific date in here as
we've already seen either by a normally
structured day or some more human
readable version then this will work
really well for you now if you do need
to find a list of time zones as I've
already mentioned you can find them on
the manual or what we can do is we can
use date time zone which we've just
passed into that and we can say list
identify us like so and we can go ahead
and just do a VAR dump directly on this
and we'll see what we get so let's go
ahead and do that and you can see you
get a long list of them all there so if
you wanted to you could go ahead and use
that static list identifies method in
some kind of form if you wanted the user
to choose their time zone from a list
now you have all of the time zones you
can go ahead and store that in the
database for that particular user and
then apply that to any new time datetime
instances you actually create now
there's one problem here and that is
that when we go ahead if we just go back
a little bit and set a time zone surely
we don't want to do this for every new
datetime instance we create that would
be really annoying what you would have
to do in this case is do something like
user time zone and you just really
wouldn't want to do that for every new
datetime instance so what you could do
is set a default timezone for your
entire application so we're obviously
working on one page here but if you have
some kind of bootstrap file that boots
everything up for you what you would
want to do is you would want to use the
date default timezone set function
within PHP and inside of here we just
pass in
an identifier so let's say you did have
a value up here that was stored maybe in
your user and you were grabbing that
from the database you would go ahead and
grab a value back like Europe London you
may have this in the database table and
a separate table and have a relationship
either way what you could then do is go
ahead and pass this directly in so
obviously this only needs to be run once
you don't need to do it on every page as
long as you require in some kind of
bootstrap far if you're working with the
framework perfect you can just put this
in some kind of bootstrap file so now
when we go ahead and create a new
datetime instance we obviously don't
need to keep passing that date time in
we have a default timezone set for every
new instance we create nice as simple as
it gets so there's not really much else
that we need to do here we know how to
set time zones we've previously looked
at how we actually extract the time zone
for a specific date time instance which
you won't usually need to do but if you
do you already know how to do that from
a few videos back and there we go
working with time zones incredibly
simple with date time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>