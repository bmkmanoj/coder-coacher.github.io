<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Social Network with PHP: Refactor: hasLikeStatus method (35/37) | Coder Coacher - Coaching Coders</title><meta content="Social Network with PHP: Refactor: hasLikeStatus method (35/37) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Social Network with PHP: Refactor: hasLikeStatus method (35/37)</b></h2><h5 class="post__date">2015-08-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/scfkMMwdCA8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're now going to refactor the has
light status method because this is
pretty long at the moment so it's good
to go back and just revise what we've
done so if we head over to our browser
and we've already liked this status we
know that we're returned we're using
that method and it does work but it
could be improved so if we just head
over to our status controller and come
down to the point where we're actually
using this let's just die and dump and
just say has already liked this will
just give us a better idea of if we've
already liked something just so we know
that the refactored has like status
method is going to work so i'm actually
going to get rid of all of this and
we'll do something slightly different
this is going to be a lot shorter and
we're going to use this statuses likes
to check if the current user object ID
is in there and that may not make sense
but you'll see exactly what I mean in a
minute so we're going to say status
which is the status that's passed in
we're gonna grab the likes we don't even
need to call that as a method and then
we're gonna say we're and we're gonna
say we're user ID equals this ID
remember this refers to the current
object so the current user and then from
this what we can actually do is grab the
count we can cast that to a boolean and
this line now has exactly the same
effect as what we did before is just a
lot shorter and doesn't require a lot of
updating if we change our models around
or anything like that so we can check
that this still works if we head over to
our database what we can actually do
here is we can head over to our likes
and I can just remove this like here
head over to my browser I can like this
again and you see that works when I
click it another time we see has already
liked so let's head over to our status
controller get rid of this die dump and
we've now successfully refactored this
has like status method just a one-line a
very simple code</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>