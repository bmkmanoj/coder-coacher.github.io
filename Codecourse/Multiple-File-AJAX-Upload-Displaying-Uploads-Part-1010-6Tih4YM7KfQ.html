<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Multiple File AJAX Upload: Displaying Uploads (Part 10/10) | Coder Coacher - Coaching Coders</title><meta content="Multiple File AJAX Upload: Displaying Uploads (Part 10/10) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Multiple File AJAX Upload: Displaying Uploads (Part 10/10)</b></h2><h5 class="post__date">2014-04-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6Tih4YM7KfQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we've now got our upload process sorted
via the upload method that we've seen
here now we're gonna focus on actually
putting something in this finished
callback to allow us to display what
files have been uploaded successfully
and having this is entirely optional but
remember we do get this data back that
gives us the successful and the erage
files via what we our output in PHP here
let's focus on now actually you know
creating something useful in here to
display to the user so we want to go
ahead and say uploads is document dot
get element by ID uploads now this is
the container we created earlier which
is going to store the uploaded file
links that we get back from our request
we also want to go ahead and store the
succeeded by creating an element and
that's a div and the failed we want to
create and have them look for as well
that's also going to be a div so now
that we have these we can go ahead and
create content within these and apply
them to that container we also have an
anchor that we need to create for each
element that we have successful we want
to create a span for each element that
wasn't successful
that's just Indian these these are
simply just variables and we have an X
up here we need to loop at some points
we need to just store these it's best
practice to go ahead and declare all
your variables at the top so we want to
now reset all the initial values of the
upload in fail sections so we now want
to check if the failed length of what's
been returned is positive and then we
say failed the inner HTML is a paragraph
and we all say unfortunately the
following failed
now we always want to set the uploads in
a text to nothing an upload stop inner
text is basically this we get rid of
this and again if we have failed files
we want to set the failed element that
we created up here to this in fact we
need to get rid of had a comma okay so
now we want to do a for loop on all of
the successful files and we also want to
do a for loop on all of a failed files
so let's do a for loop here we start X
off at 0 and we want to say while X is
less than later dot succeeded dot length
and we want to say X is X plus 1 so for
each of these we want to apply something
to the anchor element that we created up
here and that's going to be creating
another element which is an anchor now
we want to go ahead and add some
properties to this but let's do a
console.log on anchor first of all just
to see what this looks like so I'm gonna
upload 3 valid files remember we're
allowing mp4 let's upload them and check
out the console and we see now we've got
three empty anchors output let's keep
the console log here alive just so we
can monitor this as we go we're gonna
create an href and we're gonna say
uploads forward slash I'm gonna append
data dot succeed it X remember that's
the position that we're currently
answered 0 1 2 3 and we're gonna say dot
file remember dot file is what we return
in our JSON response also going to set
the inner text of the anchor to the name
of the file so again we say data dot
succeeded X dot name so we said the H
ref to the file location that we
generate in PHP and
and then we set the inner text and I'm
also gonna set the target it's a blank
just so this opens in a new window
obviously all of this is completely
optional and up to you now when we go
ahead and upload three files let's just
refresh the page and choose three more
files we will actually get in our
console the elements like this we can
check that they look okay before we
start to output them to the page you'll
also notice that the initial text has
gone like we spoke about so we can start
to output these down here so you've got
a target of blank we've got the href
here with the actual file location where
this has been uploaded and we have the
name in here so everything's fine we can
start to pop them onto the succeeded
element all the div that we created in
this case it succeeded tend child anchor
so what this will do is it'll append it
to the succeeded div that we created up
here and we need to actually append that
down here to upload so uploads dot
append child succeeded so we are
creating a succeeded element without
filling this with anchors and then we're
applying that to uploads that we've got
by ID up here which is this container so
we're just building up this markup but
using javascript basically so now what
we should get is when we upload to say
three files when we upload them once
that's finished we should see them
appear there let's go ahead and finish
off now by doing another for loop again
setting X to zero
making sure X is less than failed dot
sorry data dot failed length and we want
to increment X so for each of these we
now want to create a span which remember
we store started to store up here this
span we not storing anchors for this
because there's no need if a file hasn't
been uploaded we don't need to actually
link anywhere so we're gonna create an
a span element and we're gonna say span
dot in a text is dated failed at
position X and the name sitting exactly
the same as whipping with the anchor
really but all we're doing is just not
including the target or the href this
time we append child and we append this
to failed we append the spans failed so
as you may have guessed down here we do
uploads that append child what we upload
failed as well so if something has
failed will get failed set to inner HTML
and this is actually going to show that
message and then also show others so
let's check this out by going ahead and
choosing far that shouldn't be uploaded
and there we are so we have your files
that have successfully uploaded we have
this because the failed length was
greater than 0 and then we have these
been out output as well so the reason
that we've created this callback here is
because you can literally do whatever
you want with data you could you know
alert this out if you really want to do
not that it's a good idea but you know
you have the control now to do what you
want with what's been passed back by PHP
in this case though we've just created
this by outputting it we click this and
it goes straight through to the file you
can do whatever you want</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>