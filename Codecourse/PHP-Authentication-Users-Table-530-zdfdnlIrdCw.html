<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Authentication: Users Table (5/30) | Coder Coacher - Coaching Coders</title><meta content="PHP Authentication: Users Table (5/30) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Authentication: Users Table (5/30)</b></h2><h5 class="post__date">2015-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zdfdnlIrdCw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we obviously need a database to store
our user information when they register
and we update their details and stuff
like that so we need to now create the
users database table so it doesn't
matter what you're using to manage your
database I'm using sequel Pro but you
can use something like PHP myadmin if
you feel more comfortable with that or
if you have some other software you want
to use that's fine so I have a database
called site remember we set that in the
configuration just here but you can
obviously call it whatever you want as
long as it matches up to your
configuration so let's get creating this
users table then so I'm going to create
a new table called users now sequel Pro
creates the ID field for me but I'm
going to run along what this involves
just in case your software doesn't so we
have a field called ID we have a type of
int and a length of 11 which you can
reduce if you want 11 is quite long for
this purpose but again totally up to you
this is unsigned so it's greater than 0
it's not a negative number and it's a
primary key of the table and we also
have an auto increment on it which is
really important all that means is when
we create a new record the idea of each
record will increase and therefore it
will give each user a unique ID so the
other fields that we need to create then
let's go through them now we have a
username which is a varchar' it's up to
you which length you choose when you
validate you're going to want to make
sure that the user name isn't greater
than a certain amount but for this
purpose I'm going to choose 20 so this
is a default of null we aren't allowing
null on this but really this doesn't
matter too much because everything's
going to be controlled within our
application but it's entirely up to you
whether you choose to allow null we
shouldn't allow null though because the
user name should always be filled we
have a first name which is also a VAR
char and we can set this to say 50 and
we are going to allow null on this
because when we create this user first
of all they're not going to have a first
name
unless you're registering them with a
first name and we also have a last name
as well which is exactly the same will
set this to 50 as well and allow null on
that
so the password then is going to be a
varchar' it's going to be 255 because
we'll be generating a hash with the PHP
password hashing API and we don't allow
null on this either because that's
required now we have active which is
going to be a boolean which basically
translates to a tiny integer with a
length of 1 and we are not going to
allow null on this we also have an
active hash now the active hashes of our
char of 255 and we are gonna allow null
on this because we are going to be
nulling it once the user has activated
their account we don't need to activate
their account twice so this is just
going to be the hash that sent them by
email well not the actual hash we're
gonna send an identify to them which
will be hashed in the database for
security and then they can go ahead and
activate their account and that will be
removed we also have a recover hash as
well that's going to be a var chart of
255 and again we're gonna allow null all
this is going to be as the hashed
version of the identifier that we send
to them when they want to recover their
password so now we have out remember
identifier that's going to be a voucher
charge 255 and basically the remember
identifier is the identifier that we
give to a user when they select remember
me so we generate this for them but we
also have a remember token and this just
enforces the security of when they want
to be remembered because remember when
we remember me when we remember a user
we're essentially setting a cookie which
could be then attempted to brute force
and then someone would be logged in
someone else's account so we have two
layers of security here now we also have
a created Act which is a timestamp and
we have an updated at which is a
timestamp so created app isn't gonna be
null because when we click when we
register them we're gonna automatically
add a created out date so we now have
all of the fields that we need the
reason that we have created out an
updated out is because we're going to be
using eloquent models within our
database package that we pulled down
earlier and this would basically just
when you create a new user is going to
update the Creator that date and time
and when we update anything it will
update the updated out as well
so that is all of the fields that we
need inside of our table feel free to
change this around if you understand
this face design enough to make good
informed decisions on updating this but
at the moment we just have all of the
fields that we need with the appropriate
types and the appropriate lengths here
so now that we've got our database
tables created we want to actually add
database support and then we'll look at
actually later on how we hook this into
our application</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>