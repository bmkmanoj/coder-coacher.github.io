<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Creating a Blog (Part 7/11) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Creating a Blog (Part 7/11) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Creating a Blog (Part 7/11)</b></h2><h5 class="post__date">2011-05-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oLvFGiCuHTs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so i showed you how to implement
this code here now let me show you that
it works with these errors so as you see
now we do not have a title we do not
have contents let's submit it and here
we see that we get those two errors that
we expected to have and when we go into
Firebug again and we check we have the
UL we have it closed and we have our
list tags opened and closed very useful
technique I just recommend using its
whenever possible also we can move this
here and say else if because if it's
empty anyway if it's not empty know if
it's empty it means it doesn't have a
string length meaning it's pointless to
check for it anyway I hope that makes
sense I think you can understand why
this is slightly better by understanding
that posting an empty fields results in
a string with a character length of 0 or
string length of 0 anyway let's continue
with this ad postal PHP file if we do
not have any errors so if empty errors
then we can add the post of course this
is another function we still need to add
now as you see it takes three parameters
title equals
my sequel real escape string yep we
always need to do this content same
story contents and category is an
integer so we can just cast it to an
integer then tab it in nicely there we
go now all we need to do is do my sequel
query insert into posts sets title or
cat ID equal to category title equal to
title contents equal to contents and
finally remember we also have a date
posted field that's going to be equal to
now there's a now function is incredibly
useful what it does is it takes the
current date and time and whoops well
that's messed up there we go it takes
the current date and time and stores
them in this format day month year and
then hours minutes seconds so we're
going to use this now is in my opinion
one of the most useful functions in my
sequel definitely recommend using it you
don't need to but it's great so let's
finish that and
of course we need to put site all
contents and post category in here and
now when we submit the title first post
and awesome boasts yay we're just going
to post it to the uncategorised category
and we get undefined variable ID on line
6 and of course this needs to be
category when you go to posts we see
that it did both but because of this on
the font variable this gets ID here is 0
so we're going to change that to one
manually now let's add another post
second post just as awesome post to
uncategorized as well and there we have
our posts so this also works now however
we're not quite done we need to add a
few more things here we're going to
redirect the user to the post they just
posted and that will be on index dot PHP
ID equals some ID however how are we
going to get that ID we don't ever
actually specify a post ID anywhere in
this script luckily there is a very
useful function for this and it's called
my sequel insert ID and this basically
just takes if I'm correct the value that
was last put into a
primary field just think of it as this
we have an ID field we just inserted a
post into it with an ID too so in this
case ID is equal to 2 it's pretty simple
so we're going to redirect them to index
dot PHP ID equals on D and then we will
kill the script so let's see if that
works third post isn't it awesome and we
see we get redirected to index dot PHP
ID equals 3 which happens to be the last
insert is ID so this is a slightly
shorter part in this series in the next
parts we are going to start creating the
index page which will simply be a list
of all posts that were added to the
database so see you in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>