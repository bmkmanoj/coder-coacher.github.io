<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Authentication: Adding Database Support (6/30) | Coder Coacher - Coaching Coders</title><meta content="PHP Authentication: Adding Database Support (6/30) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Authentication: Adding Database Support (6/30)</b></h2><h5 class="post__date">2015-05-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qWD14nlKsew" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so now that our database table for
our users is created we want to actually
be able to connect to our database now
if you've never used eloquent before and
never pulled it out of laravel to use
this might be slightly confusing but
don't worry later on in the series when
we start to create our user model and
start to do anything that we need with
that database this should become a lot
clearer so what we need to do then is
inside of app I'm going to create a new
file which is going to store setting up
eloquent so I'm going to call this
database dot PHP and we're going to
require this file in to our bootstrap
file now you don't have to create a new
file for this you could include it in
here but it just keeps it a little bit
separate so it's a little bit easier to
work with so the way that Lara vales
database component works is it uses
capsule which basically is a an easy way
of being able to use it outside of your
application it help outside of laravel
it helps you use it any way you want so
this is namespaced so we're going to
import this namespace first of all and
laravel components are under the name of
illuminate so that's the vendor
namespace then it's under database
Capshaw and manager but we don't want to
use the name manager so what we can
actually do is name this capsule if we
want so we're naming manager as capsule
so now we want to say capsule equals a
new capsule instance and now we need to
add our database connection and remember
all of these database connection
settings are coming from our
configuration so we can start to use the
configuration that we've created now so
what we do to do this say capsule add
connection we pass in an array here of
all of the different things that we need
to provide so inside of here let's
define these so it's the driver and I'm
just going to set these two empty
strings for now we'll pop over our
configuration in a minute we have a host
we have
the database name which we already know
we have our username and our password we
have our character encoding our
collation and the prefix if we want to
use one we know all of these settings
exist here we know how to access our
config remember it's from app config yet
so we say app config yet and then we
choose the keys and this is DB driver so
we say DB driver and I'm just going to
copy and paste these into here just to
save a little bit of time and this is DB
host for the database it's DB dots let's
just check what we call that name the
username and password here so we just
say DB dot username and DB dot password
and the child set collation and prefix
so let's just say DB char set collation
and prefix and now what we need to do is
actually boot eloquent so we can use it
with our models don't worry if you don't
understand that we'll be looking at in a
minute when we crown our user model so
boots eloquent and that is it
we now have a potential connection to
our database as long as we have all our
settings defined and we hook this up to
our models we now are able to access our
users table that we created a minute ago
so then in the next video we're gonna
actually look at creating the user model
and then we're going to auto load that
into our project so we can use the user
model anywhere we want to be the fetch a
particular user create a new user update
users details etc etc so let's jump over
to the next video and do that now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>