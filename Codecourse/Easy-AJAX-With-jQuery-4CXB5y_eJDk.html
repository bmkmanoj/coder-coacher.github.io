<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Easy AJAX With jQuery | Coder Coacher - Coaching Coders</title><meta content="Easy AJAX With jQuery - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Easy AJAX With jQuery</b></h2><h5 class="post__date">2014-09-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4CXB5y_eJDk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're going to look at the
basics of Ajax requests using jQuery so
what we're going to be doing here is we
have a small form that allows you to
choose a username so imagine this is
some kind of signup form for your
website a user can enter their username
just here and then they can hit submit
that's going to go through to a fake
page this isn't ill obviously you can
see it's not found but imagine that
would be your signup form now in terms
of the Ajax part of this we're going to
be creating the ability to check for
username is available we're not actually
going to be doing this on the backend
with PHP just in case you're not a PHP
developer but what we are going to be
doing is covering how we correctly Ajax
to a specific file to then return a JSON
string which contains whether the
username is available or not that does
sound a little bit complicated and if
that does throw you off don't worry it's
a lot easier than it sounds and you can
then go ahead and on the backend do what
you need to do to output this so if we
click check username is available here
you can see that we get this sorry that
username is not available we get a
little notice under here we're doing
obviously all of this with no refresh
because we're using Ajax and if we were
to go into the backend this is
essentially what's happening at the
moment it's just encoding this array in
PHP so essentially what we're going to
end up with it's something like the
following
but with JSON so it will look like the
following available true or available
false obviously these would be double
quotes that's what we can we're going to
output so whatever back in language
you're working on as long as you can
encode a array or something to create a
JSON string output then this is fine so
if we change this to true let's say we
make a connection to our database here
check that user name and we check that
again you can see now it says that
username is available so we'll be
building this with jQuery we're going to
get stuck in and write the mark-up that
we need for this form and just explain
how we're naming everything and then
we'll go on and we'll actually create
our JavaScript to be able to send a
request to the server and give us a
message back
so the only files that were actually
starting with here is index.html which
just has an html5 layout here and just a
title nothing special at all and then we
have a folder called check and then
inside this we have news named PHP and
that's what we just saw a moment ago so
go ahead and create the functionality to
output this otherwise if you are working
with PHP and you just want to test this
in terms of the front end just do
exactly this and that will just give you
your little JSON string so we can
actually preview this from here by
saying check username dot PHP and what
we're going to be doing is passing a
username like the following so I could
say username Alex and that's going to
give me this JSON string here over front
in formatter but essentially that's what
you're going to see so that's what we're
going to be doing to easily pick this up
within jQuery because JSON naturally
works with JavaScript really well so
inside of the body then we're going to
create a form this is going to go
through to a fake page sign up at PHP
and the method here is just going to be
post we're not actually going to be
submitting this form because we don't
need to in fact let me just turn
autocomplete off as well so we don't see
previous user names and let's create a
label now and we're going to say this is
for username choose a username so this
is going to be out our label and then
here we're going to have an input type
with text and we give this a name use
the name that's just what's going to be
submitted through to the server again
we're not going to be using this and
we'll give this an ID so the label
matches up now we're also going to give
this a class of username - target and
we're going to prefix everything that we
want to do with this username checking
with username - and this is the target
where we can extract the value to send
through within the Ajax request to be
able to check on the server so down here
I'm going to create an anchor and this
is just going to have a hash as the href
and the class for this is going to be
username - check so this is the button
that the user is going to click to check
if that particular username is available
too
check username will just say now down
here we're going to have a div with the
clasp of username feedback sorry
feedback and this is where we're going
to inject the text to say that username
is available or that username isn't
available or if we have some kind of
server error or something goes wrong we
can say sorry we can't check at this
time the user should be able to still
submit the form and then it check do
another check on the backend this is
just a sort of nicety in the front-end
so then i'm going to have an input type
of submit here and for the value we can
just say sign up or something so
checking out our form here we get our
label as mentioned I can click on that
type of user name in I can hit check
username and I can also sign up as well
I've also open my developer console here
if you if you don't know how to open
this you can just right click anywhere
on the page and hit inspect element or
you can get it from your settings bar up
here but this is going to allow us to
check out the network tab so when we do
make an AJAX request we can filter down
for xhr here and this will give us
everything that's sent in terms of
requests so this is really useful to
check out take you in your debugging
things or you just want to understand
how this works so now we've pretty much
done here but we want to include jQuery
I wouldn't recommend including jQuery
for this kind of functionality normally
unless you're using it elsewhere on the
page but if you are trying to learn
jQuery or you really just need a quick
simple solution to be able to do this it
may be a best option but do be aware
that including jQuery obviously does
have an impact on load time on your page
if it's not entirely necessary I'm using
Google hosted libraries to grab my
version of jQuery just because it served
a little bit quicker from Google CDN and
also it means that it's highly likely
that this is cached for other users if
other sites have used this link as well
so we're going to paste that in there
and because we're on local I'm going to
get rid of this which is basically an
HTTP slash HTTP protocol and I'm just
going to use HTTP here
and then down here I'm going to create
another script opening closing tag and
I'm going to point to a JavaScript file
that we're going to write all of our
code in and created that yet so I'm
going to create a new folder within this
main directory called J s and then
within that I'm going to create a file
called main is so we'll will write all
of our code in here just to keep it
separate from this page so let's link
that in main j s so to test this if you
are new to JavaScript we can just do a
console log hello and on our page here
we should see that console logged out
here this is the console if you can't
see this you can hit this button here to
open and close it or you can use this
tab here but I want my element inspector
or network open and the console so I've
used this so we know that our JavaScript
file is linked in so what we can now do
is start to think about how this is
going to work so when we click use name
check which is that check username link
next to the input we want to take this
value here from this input type of text
that has a class username target so we
know what we can pick that with
JavaScript and then we want to place a
message inside of user feedback
so it's clicking on this grabbing this
value sending it through to the server
and feeding back to the user here fairly
straightforward so for the JavaScript
then we first want a and event handler
for our username check link so in jQuery
we select things like this and we say
username check like that and we use the
on method to choose a event in this case
it's click and then we have a callback
which is essentially an anonymous
function so that's this part here so
inside here now we can actually do
another console log you clicked and this
will a console log when we click this
check username you can see that this
little circle here with account shows
how many times this message has been
output so what we can now do is start to
store some of the things that we need
and that is the target so the actual
value that we want to bring out of that
use name here and we also want to store
that store the feedback selector so we
can add text to that
so let's create a variable here called
target and to that we'll assign user
name target so now what we're going to
do is chain on the feedback selector so
user name feedback you don't have to do
this you can remove this comma here and
replace with a semicolon and you can use
another var that is preferred sometimes
but I'm just going to chain this on like
so now down here what we can do is we
can start our Ajax request so look at
the basics of our Ajax request and how
we set everything up then we'll start to
create some functions that will help us
along the way so things like changing
the feedback tick so we don't have to
keep using feedback text the text method
which we'll see later so to do an ajax
request we use the jquery dollar and we
say ajax it's the ajax method that we're
using inside of here we pass an object
and this contains things like the URL
that we want to send the request to so
in this case it's check forward slash
username dot PHP then down here we need
to specify the type so the type in this
case is going to be yet obviously we can
have get post another HTTP types but in
this case we just want to get so
essentially the URL that we're going to
be sending this to will look like the
following
check username dot PHP use name equals
Alex so that's how our URL it's going to
look for I our Ajax request so we now
need to send some data through to this
page because what's the use of hitting
this page if we don't have a username to
send through to it and look up in our
database so we use this data and another
object here we give the property name so
user name I'm just going to call this
and then I'm going to choose the value
from this target so remember that's our
input and jQuery gives us a method
called Val so we can do target dot Val
and this will basically be Alex or Billy
or whatever I type into there so we need
to well we don't need to
we can define which datatype we're
expecting back from this username dot
PHP file and I'm going to explicitly
define this just so it's a little bit
clearer and we already know we're
expecting JSON back now we have two
callbacks here one is success so we add
another closure here and then down here
we have an error so we had have another
closure and basically what this means is
that when we hit this file if there's an
error for any reason say this generates
a an error maybe a 4 a 4 or a 502 or
something this will hit this error here
there's plenty of options we can use but
in this case we're just going to say
sorry can't check at this moment so down
here let's just test this out so console
dot log error and up here let's do a
console log but this time I'm not going
to log success I'm going to from this
argument here this will be the data
that's contained with within here so it
will output obviously our JSON so in
here i can say data so let's take a look
and see what happens here and we'll take
a look within Chrome and see how this
works in the network tab so I'm going to
type in Alex here and I'm going to hit
check username you can see we've already
got console log back an object which is
what we expected we know that we have
JSON coming through and this looks like
it's been passed
now when you parse JSON you basically
take it and you'll turn it into a
JavaScript object so in this case we
have an object in JavaScript with a
property called available and a value
true this can obviously be true or false
and if you're under your network tab
you'll see that you get the get request
to use name dot PHP parsing username
equals Alex in the query string which we
expect it's between a get request and
when we click on this we can see that we
have the response here as well you can
check the headers out and things like
that but it's been essentially the
response is the raw response so this is
the string that's generated by PHP and
the preview here is actually the object
itself so you can see that that has been
parsed there so now that we know that we
have this we can start to do a little
bit more inside of this success callback
and the first thing we really want to do
is check if this available property is
there because if it's not there then we
can't check if it's true or false so
this isn't strictly necessary but I'm
going to do a little if statement in
here and I'm going to say if data
available doesn't equal undefined that
basically means is it defined so this is
defined now otherwise we want to error
and here we also want to do a similar
error and this is just going to be a
could not check at this time error so up
here I am just going to define a couple
of functions there are better ways to
structure application but since this is
just a tutorial we're going to create
some some functions just loosely up here
so the first thing I want to do is
define a function to change the feedback
text so change feedback text so what
that will do is it will use feedback the
selector that we have up here will use
the text method to change the text in
here now where do we get that text from
well it will be from an argument within
this function so that could just be text
and we could just put that in there so
now what's going to happen is if we use
this we can pass in a string here and
I'll change the text within our little
box down here that we can't yet see so
that's not the point what we want to do
is if there's an error here or here we
want to change the feedback text but
because we're doing the same thing here
we want to create another function for
this just so we can reuse it so I'm
going to create a function saying could
not check and inside of here we want to
change the feedback text so we can use
that change feedback text function that
we've created here and in here I'm going
to say could not check at this time
that's not going to stop the user
sending a request via submitting the
form and because the check on that side
of things should work but if for example
like I said it's some kind of error
along the way this will alert the user
so in here or sorry in here this means
that the basic available is not defined
so we're going to say could not check
and down here we're going to say could
not check as well so just so we don't
duplicate this line so let's check this
out at the moment nothing's happening
because we aren't seeing any errors but
let's for example say inside of username
dot PHP this wasn't available so we're
just using an empty array here in PHP
and JSON encoding that when I hit check
username it says could not check at this
time because that property isn't
available likewise if I was to just type
loaded rubbish here that would generate
an error in PHP and therefore when we
hit check username we get the same error
so we've covered both of them bases now
let's focus on what happens when this is
available so if this property here is
available we know that we have a true or
a false value true meaning that the
username exists or sorry is a doesn't
exist and can be used and false meaning
that we can't use that username so all
we do is another if statement fairly
straightforward we say if data dot
available available equals true we're
using the triple equals here for type
checking as well then we want to change
the feedback text to say that username
is available and we already have a
function for that up here so we don't
have to repeat this line of code so
change feedback text to say that
username is available now otherwise so
we do an else here we want to do pretty
much what we did here this time we want
to say sorry that username is not
available so now let's click or let's
type something pick check username that
username is available obviously we're
not doing any dynamic checking we've
just hard-coded this value but you can
do this on the back end and then when we
type in Alex there we get the error
because I've just changed that to false
now remember that if you are using the
back end file to check the database
you're going to need that username that
sent
through this username equals Alex here
and obviously remember if I change that
that value just updates the second
request contains username is Billy
so just a quick one in PHP how can we
get this well we can actually use the
get super global so I'm going to say I'm
just going to say here username and I'm
going to output exactly what the user
typed in so what we do here is we say
get username probably not a good idea to
actually do this because you're going to
need to escape things obviously when
you're putting into your database make
sure that you are escaping everything
you can just to prevent SQL injection
and now if we just take a look at the
requests hit check username we click on
this we can hit response and you can see
here that that has been passed through
so if you do actually need to make well
you are going to need to make this
dynamic so you can use get username if
you're sending it through as a post
request you'd use dollar underscore post
and that would mean you changing this
type here to post I mean there's no
reason to use post get it's absolutely
fine so that is how we use very very
simple jQuery to go ahead and Ajax to a
file bring us back some JSON data
depending on which back-end language
that you're using and then we check
through it and we accordingly give a
little message to the user there</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>