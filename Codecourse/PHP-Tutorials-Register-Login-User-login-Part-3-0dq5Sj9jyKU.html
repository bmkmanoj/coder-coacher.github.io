<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Register &amp; Login: User login (Part 3) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Register &amp; Login: User login (Part 3) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Register &amp; Login: User login (Part 3)</b></h2><h5 class="post__date">2009-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0dq5Sj9jyKU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and welcome back to part three of our
user login tutorial okay what we're
going to do now is we're going to create
a session in which the user can enter a
page and they're allowed to be inside
this page as long as they have
successfully logged in now to start any
session at all you're going to need a
function at the top which is start
session I believe it's start session not
session start
let's just give that a quick test right
okay so it must be session start always
confuses me its session stop okay so
refresh resend and urine and we've
started a session basically and this
lets us add a session variable so you're
in what I'm going to do after this is
I'm going to say and click here to enter
the secret the member page okay and this
is going to be a link to a page called
member dot PHP okay so let's just recap
as long as we reset we send the right
data we're going to say click here to
into a member page which we haven't
created yet and we're also going to
start
bear in mind we've just created our
session start that's very important
we're going to create a session and to
do this it's similar to most other it's
called well the weighted the way to the
correct syntax sorry is a dollar sign
underscore and session and then in the
brackets like this square brackets we're
going to give it a session name so I'm
going to say user name and that's going
to be equal to our user name
okay or if you like dbusername' because
that's more a direct value from the
database okay so we have our session set
if we echo out our session in any page
now as long as the user is in their
browser in that browser that you've
logged in with this will be set as a
session so to prove this I'm going to
create a new page it's going to be the
member to PHP page I'm going to save
this as member dot PHP I think it was
member not members yeah and in here I'm
going to say echo and I'm going to echo
these and that is the username session
okay in fact I'm going to concatenate on
the star welcome and on the end just to
be a bit more expressive a exclamation
mark so this should as long as we've
logged in here and run this command here
setting our session in our browser to
our username on any other page you
create if this was any other page along
here if you'd created any page and you
use this as long as it's been set it
will work just to let you know you are
also going to need this function inside
here as well so you're going to need
sessions start in every page that you
call or declare a session so let's
restart and let's go back to the main
page okay so I'm going to login with my
details
that's Alex on ABC log in you're in
click here to enter a member page now I
assume now that there's no error I have
successfully created my session if I
click here welcome our and we've gone
thing so so go back and see what we've
done wrong do you be username so this
two username
and I'm not using a comparison here so I
have put double equals which was wrong
with me okay so now this should work
let's go back to our index page and
let's log in again as we did before
login okay you're in click here to enter
the member page click here welcome Alex
now what I'm going to do is I am going
to go back to our login page now most
people would think all that data has
been lost now if I go back to our member
page that's member dot PHP press Enter
is still saying Alex in some
circumstances if I close off my browser
and I reopen my browser and I go
localhost and PHP academy' and go back
to my page that's the login session and
back to my member page I'm still logged
in okay so my user is logged in if they
close their browser they're still going
to be logged in when they enter back
this is a very useful function if you're
doing this kind of logging in a lot of
websites you use this to keep you logged
in but now what I want to do is I want
to create a logout page now to logout
we're all we're going to need to do is
create a separate page and let's just
save this as logout dot PHP and what we
need to do is we need to and our session
here so what we're going to do is we
first of all before we destroy a session
we need to start it so session start
ok and then we're going to need to say I
believe that's the right command yet
session start and we are going to need
to say session destroy
helps s Troy destroy ok and that will
basically be it if we run this page here
that would destroy our session and we I
could say here as
friendly error message you've been
logged out click here to return ok and
I'm going to create this is a link back
to our index dot PHP page ok now I'm
going to test this again let's say aah
in here we're going to need to create
let's say a break there and I'm going to
create a link to say log out it's
important that we link the user up to
our logout dot PHP page otherwise the
internet how to logout
okay so we'll refresh this and I can see
I've got logout the logout page click on
this you've been logged down click here
to return so I assume now I've been
logged down let's try an go back to our
member page dot PHP and we've got no
variable here now you don't want the
user to have access to this page because
they haven't been logged in in the first
place so what we're going to say here is
we're going to say session start and I'm
going to say if session and the session
name ok then I'm going to I'm going to
want to echo out my data to say welcome
else I'm going to want to die no I'm not
going to want to die but the page is
going to want to die and I want to say
and you must be logged in ok so
basically we're saying if this session
exists ie if it has been created by
using a correct username and password
we're going to say we're going to echo
out our friendly message to say welcome
otherwise kill the page and say you must
be logged in so this is as far as we're
going to go with this but I'm just going
to take you through it at the moment I'm
not logged in and if I do login I'm in
there's my member page I can log out I
returned to here now the bit we've just
created member dot PHP press enter and
you must be logged in ok so if we want
to login
and for example say I'm going to log in
here but I'm not going to click here to
go I'm just going to afford myself and
bit of PHP my session has been paired
and I've been allowed access okay so
that's it for that this is the last part
this tutorial if you've got any
questions and this is quite complicated
I'm more than happy to help so thanks
for watching and see you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>