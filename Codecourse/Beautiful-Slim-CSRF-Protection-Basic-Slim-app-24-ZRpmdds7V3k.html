<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beautiful Slim CSRF Protection: Basic Slim app (2/4) | Coder Coacher - Coaching Coders</title><meta content="Beautiful Slim CSRF Protection: Basic Slim app (2/4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beautiful Slim CSRF Protection: Basic Slim app (2/4)</b></h2><h5 class="post__date">2017-02-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZRpmdds7V3k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">time to set up a simple slim application
if you already know what you're doing
with slim feel free to skip this part if
you want to download the code for what
I'm about to do you'll find that as
always in the course downloads so let's
get started then I have just have an
empty directory here and I'm gonna do a
composer require on slim slim as always
and just wait for this to finish and now
that's done what I usually do is go
ahead and create a public folder in this
case I'm not going to just cuz it's a
little bit more setup so I'm gonna go
ahead and just create an index.php file
in the root here but of course it's
always a good idea to have a public
directory where he can keep knowingly
your index file but all of your compiled
CSS and JavaScript as well so just
inside of here then obviously we need to
require in vendor autoload just so all
of our composer dependencies are in
there and ready to go and we can create
a new slim app instance so slim app and
just for the purpose of this I'm going
to as I usually do just turn on error
reporting just in case we see any
problems we'll see the errors in the
stack trace so within here within this
array we're just gonna say display error
details and we're gonna turn this on
there we go so now let's just grab out
our container so I'm gonna say container
and this is gonna be app get container
we're gonna need that later and then
finally we will run our app now for any
other URIs we need to make sure that we
have an HT access file in here or if
using nginx you'll need to set this up
you can find all of this information on
the slim documentation what I'm just
going to do for now though is copy and
paste exactly what is on the slim
documentation if you do need to find any
more information you can find that just
over here in the web service section
okay so now that we've done this then
let's just head straight over to the
index here and we get a page not found
which is absolutely fine because we
don't have any routes set up so before
we do anything else I want to set up
views so again we're just going to head
straight over to the slim documentation
we're going to come all the way down
here to the add-on section under
templates and we want to install slim
Twigg view because we need to
be able to work with views and this is
really fundamental as well it's the way
that we're gonna be setting this up
because we're gonna be creating an
extension for our cross-site request
forgery helper function so now that
that's installed we just need to bind
this into the container so register it
and we can do that simply pretty mess li
but we're only messing around here by
just pasting this in here so what we
need to do now is just go ahead and
create some kind of views folder I'm
gonna create this under a resources
folder and I'm gonna then create a views
folder here and in here why don't we
just create a simple view so I'm gonna
call this home dot twig and we can go
ahead and just write home in here just
to test things out so really importantly
when we do register this now container
we need to point to our resources views
folder so we just go ahead and do that
and for the cache I'm just gonna disable
it for the purpose of this video but you
can of course create a cache directory
just to speed things up a bit okay so
what we're gonna do now is just very
quickly return a template within a very
simple route here and then we'll go
ahead and move on so in here we get our
request our response and our args if we
need them and here we're just gonna
return this view render passing in our
response and of course pointing to that
home.look twig file so now on the home
page we should see that home template
rendered perfect
okay so last thing before we move on
we're going to be storing everything
inside of an app directory just here so
what I want to do is make sure that this
is Auto loaded so over in composers or
JSON let's just set up Auto loading so
we're gonna auto load using psr-4 like
so and we are going to in here give out
vendor name space of app and we're going
to point to the app directory so one
thing to do
composer dump auto load and we're done
so that is our simple slim application
setup like I said if you are new to slim
if you're having any problems with
setting things like this up head
straight over to the course download
section
this lesson and you can go ahead and
download all of this code as you see
here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>