<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Authentication with Slim 3: Signing the user up (10/29) | Coder Coacher - Coaching Coders</title><meta content="Authentication with Slim 3: Signing the user up (10/29) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Authentication with Slim 3: Signing the user up (10/29)</b></h2><h5 class="post__date">2016-04-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/weHDN1dgGAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now we actually want to handle the
post sign-up so let's go ahead and add
our request in here and our response and
let's just make sure all of our data is
coming through first of all so I'm just
gonna do a var dump on request get
params so this method will just give you
all of the data that's been submitted so
if I hit sign up you can see we've got
email name and password so we know we've
got these coming through and of course
we can put these straight into the
database so now what we can do is I'm
just going to go and turn off
autocomplete here as well so we'll set
autocomplete to off and we can actually
start to insert this now so how do we
insert this into our database well we
already know that we have set up our
model so we can just very easily use
that user model to create this so first
thing I will just want to pull this into
my controller
so it's app models user so in here then
we can say user create we can pass this
data in so we know the email so that's
requests and now we use to get params
before but now we can use get per am and
we can pass the name of the field that
we want to pull in so we've got email
let's do the same with name as it's
requests get to per am name and of
course we now need to take the password
as well but this is slightly different
because we need to hash it so let's just
pass this in as it is and then we'll
wrap this with the password hash
function so it's password so now we're
going to use the PHP password hashing
API to deal with this and all we need to
do is use the password hash function we
wrap that in there
the first argument to this function is
the data that you want to hash the
second is the algorithm you want to use
so we're just going to use password
default and you can also supply
additional options as well like the cost
this is just the amount of processing
time
that it takes or uses to actually
generate the hash so you can increase
this if you want more power for the
hashing algorithm but I'm just gonna
leave this out as the defaults if you
set this to high things start to get a
little bit slow so now that we've done
that let's just assign this to a
variable because we're gonna elite need
that a little bit later now all we're
gonna do though is we're gonna redirect
back to the home page so we'll deal with
things like flash messaging later but
now all we're interested in is
redirecting back to the home page and
having that data in our database table
so we actually need to redirect back to
the home page so we need a name on this
route we currently don't have one so
we're going to do exactly what we did
with the signup we're just going to call
that home pretty straightforward so now
we can return and remember we use
response to respond to the request and
here we can say with redirect and all we
do here is we passed the URL so in this
case we need to actually build the URL
up from that named route and this is
really straightforward remember we do
this Rueter we can access our container
so accessing Rueter on our container and
here we just say path for home so using
path for here it's pretty much the same
as doing that within your views so we
use that just here this is just a helper
method that uses our router so we're
doing exactly the same thing but we're
just responding to this and that will
subsequently redirect us off so let's
just check we have nothing in our
database we don't and we'll go over and
we will sign up let's enter our email
address we'll enter a name and we'll
enter a password hit sign up
we're redirected home that's good we
didn't see any errors so when we refresh
we see that data in there so we've got
our name and our email that's pretty
obvious but we've also got a hashed
password in there we've got a created
out date set which I mentioned earlier
that's all to do with eloquent and we
also have an updated at date set as well
so now we've pretty much registered a
user we just need to tie this up later
with things like validation and fly
a message to tell the user that they've
registered either way that's all done</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>