<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Social Network with PHP: User profile statuses (29/37) | Coder Coacher - Coaching Coders</title><meta content="Social Network with PHP: User profile statuses (29/37) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Social Network with PHP: User profile statuses (29/37)</b></h2><h5 class="post__date">2015-08-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DScAyFC0-bM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">on our user profile page we are going to
list all of our statuses that we've
currently posted and what we're going to
do is include the reply box on here if
we're friends with a person who were
viewing the profile so if that makes
sense we'll we'll see how this works in
a moment it's just a nice way to see
just only my statuses and then my
friends can reply to them rather than
having to do it on their timeline
amongst all the noise of other users so
this is going to involve a little bit of
code repetition and you can go ahead and
challenge yourself to break these up
into partials and see how reusable you
can make things but for now just so you
can quickly get it on here we're gonna
be copying and pasting a lot of the
logic and a lot of the markup from the
Timeline view so first of all over on
our profile controller what we actually
need to do is pull in all of this users
pro this statuses so under here it will
create a statuses variable and we'll say
user statuses that's our relationship
that gives us all our statuses we don't
want to include replies we just want our
own statuses not what we've replied to
and we're going to grab all of them and
you can paginate these if you want I'll
let you decide so we're also going to
send through the statuses to the view as
well so that will be the statuses we
just pulled in and what we're also gonna
do is pass in a auth user is friend
variable you can make that a little bit
shorter if you want and all this is
gonna do is be a true or false value is
that is the user that's currently
viewing this profile our friend and we
already have the method in this now user
object so we just say is friends with
that user so now what we can do is over
on our our in dealt not on our timeline
index on our profile index page here or
around here we can output our statuses
so our statuses will go here so what I'm
gonna do is referencing my Timeline view
I'm going to go ahead and see just here
I'm gonna copy this if statement we're
gonna remove you know some of this
if we just go down to here copy and
paste all of this onto here and we'll
just tidy up we'll make sure that's
indented properly as well so remember we
are passing through we can close this
off now we're passing through statuses
so we're saying if statuses count is
nothing there's nothing in and then we
need kind of like a more better
signifier like Alex hasn't posted
anything yet so we can say ex hasn't
posted anything yet we can obviously
substitute this with the current user's
profile so user and that is get first
name or user name so otherwise we want
to loop through all of the statuses that
we have we are going to show the replies
as well and then at the end we're going
to show the form only if the user is
friends with that user and we can get
rid of these pagination links because
we're not paginating this just yet
so for each statuses as status let's
just go and run this and see what we get
so we get oh we've got a syntax area
there that's probably on the profile
controller and let's just have a look
here just check where that is on profile
control line 23 of course we don't have
this it's not an array so this fix these
two up like that and let's see what we
get well we actually now get the status
that I have so we can see that on my
timeline there a nice or hi everyone if
I was over on Billy's account and I
replied to this my name is billy for
example just so we know what status
we're talking about you'll see that over
now on my individual profile we have
that reply there so everything works as
normal we've just left she copied and
pasted this but if we are signed in as a
user that isn't our friend so for
example died oh let's go ahead and sign
out of Billy's account and sign in as
Dale's account go ahead and type in the
password we'll go and find Alex here
there we go so we can see this reply and
we basically if we send a reply
through this isn't going to work because
Dale isn't Alex's friend so we want to
get rid of this so remember over in
profile controller orth user is friend
we have this variable so what we want to
do is for this form that we can reply to
we just want to say if orth use it is
friend and bring the dollar sign and
then we can go ahead and end that if
statement there
pull that in and then we go ahead and
refresh and that goes because obviously
this is my own profile so we can modify
this if we go over to our index page if
orth user is friend or or user ID equals
the status ID then we can show the form
because I can reply to my own posts so
just write great reply to that and there
we go
so now if I was signed in as Billy so if
I go and sign in as Billy
it's my password and head over to Alex's
profile I can go ahead and say whatever
reply to that and there we are we're
done so we're now showing this on my own
profile page once again if I go over to
a user that I'm not friends with I can
see the status but I can't reply to it
I'm gonna have to add dad as a friend to
do that so there is a quite a bit of
code repetition here so like I said
challenge yourself to kind of break this
up we're repeating our user avatar and
all that kind of stuff
again and again and again and also for
these replies as well so you could break
all these up and just include them as
requires and you'd have some nice
reusable templates</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>