<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Authentication with Slim 3: Updating the user's password (27/29) | Coder Coacher - Coaching Coders</title><meta content="Authentication with Slim 3: Updating the user's password (27/29) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Authentication with Slim 3: Updating the user's password (27/29)</b></h2><h5 class="post__date">2016-04-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ocwLgNYRTZg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now for changing the password we want to
take a slightly different approach we're
going to create a method on our user
model now traditionally what we might do
here is say something like this or user
and now that we're working with an
eloquent model we can use something like
update we can use password like this and
do what we want so what we're going to
do is instead say something like this or
user set password and what we could even
do is create this or do this on our
signup process as well so we can insert
the record into the database and then
set the password will not do that I'll
let you decide if that makes sense for
you but for now all we want to do is set
the password to the new password we know
that the validation has passed we know
that the old password is correct so now
we just call a method on the user model
so let's head over to our user model and
let's create this method so set
passwords and of course into this we
want to take a new password so now all
we have to do is this update password
and of course now we need to hash the
new password as well that's really
important obviously don't want a story
in plain text so you use the password
hash function we passed in the plain
text password we pass in the algorithm
we want to use which is password default
and we are done so that's it now we just
call that here set password we passed
the new password in so it's request get
/ am and the new password is named
password we flash a message which we've
already done and we redirect the user so
we'll flash a message first it's this
flash add message and we'll store this
under info that makes more sense your
password was changed and then we'll
redirect so return response with
redirect
for Mao Reuter we won the path for let's
just say home it could be anything so
now that we've got this all together we
can test it out so again I'm going to
enter my current password I'm gonna
enter my new password hit change looks
like it worked so I'm gonna sign out I'm
gonna sign in with my new password
actually let me sign in with my old
password didn't work sign in with my new
password works perfectly easy as that
and we now have a method on our user
model that we can use again and again if
we want without duplicating any code</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>