<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CodeIgniter Tutorials: Basic Website - Form Validation Library (Part 7/8) | Coder Coacher - Coaching Coders</title><meta content="CodeIgniter Tutorials: Basic Website - Form Validation Library (Part 7/8) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CodeIgniter Tutorials: Basic Website - Form Validation Library (Part 7/8)</b></h2><h5 class="post__date">2012-03-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HM34GseKAAs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys my name is Steven and welcome to
video number 18 in my new series called
introduction to Kodiak matter what I'll
be showing you guys in this video is a
will be taking the form that we built
last video and we will be running it
through the form validation library I'll
show you guys the ins and outs a couple
of the different functions and the tools
in the form validation library so yeah
let's get started last video we made
this beautiful form in this pretty
awesome form and it submits to the send
email function in our site controller
take a look at that let's clean some of
this up that's cool we'll need the site
controller and the contact view and
that's what it yes okay so first thing
we want to do is we actually want to
load the form validation library so what
we'll do is in the contact controller we
will nope we have that that send email
function so we can actually create that
now and then we'll load that library
this load
form validation form underscore
validation okay
the next thing I want to do is we
actually want to take a look at some of
these values so we can start validating
them so the the name and ID of the nate
of the full name text field and our
contact page right here is full name so
I'm just gonna copy that okay there we
go and we'll actually start some setting
some rules and well this may seem a
little bit confusing at first but we'll
I'll finish it off and it'll make
perfect sense I promise you this form
validation set underscore rules is one
of the functions of this library now
this receives three parameters the first
is the actual name or ID that's
submitted of the text field the second
is the user readable value so full name
so you know when we look ahead
this will be the what's actually
outputting when it does a when you have
an error for example let's say the full
name field is empty it'll say the full
name field must must not be empty or
something like that and then the third
parameter is the there are all the
conditions that need to be met so in
this case we're just gonna put required
in here for now and we'll save this and
I guess now we can just copy this line
twice this one was email address
and this one was message and of course
for this we want to change to email
address
jeez and this one message perfect okay
now if you're used to doing form
validation you'll notice like if these
conditions are met then what you know
like of course this is going to lead to
an if-then statement so we'll go if and
this is also a new function that you'll
learn this form validation run exactly
equal to false then we'll do this so if
it failed we're going to load this view
again this whole content the whole
contact view all over again and I'll
show you how we actually echo those
validation errors how we do that is we
actually go into the view after we load
this view again and before we open the
form will echo validation errors there's
another function of the form validation
library basically the way this works is
if you load this this library and the
controller and then eventually call the
view you can actually use all the
functions of the library in the view
itself which is what we're doing here so
now if we go and refresh this page we'll
check and see if we have any ears no we
don't what if we try and submit the form
now we click send we're actually getting
like it does this all for us like how
awesome is that the full name field is
required the email address field is
required the message field is required
before we get too much further though
why don't we complete that if-then
because now we're gonna have an else
statement saying so if it's false then
it'll run then it'll do this and it'll
echo it all the all the error so if the
user can then compensate for that but if
it's successful then I'm actually going
to do another trick instead of calling
another view we're just going to pass in
a value to that view
called like the message it'll be the
email successfully being sent and then
we'll load this view again and pass that
variable array into it
and now for you because all these are
just required we'll fill it fill that up
with garbage data ascend email address
field is required that could have been
because I named it wrong yeah it
probably is we'll take a look at this
yes it's just email so we can copy this
go back into our yeah so the name for
emails on email address it's just email
paste that in there save it and then so
we've got data again and look at that it
actually is passing in that value but
we're not echoing it out so it's passing
in the data array but uh yeah so if we
go into content contact the the view we
can actually echo this out like here so
just echo weird I call it message yet
message
because like that now if we refresh this
email has successfully been sent so that
when when everything is validated
successfully and everything comes up
positive it's passing this message into
the view however because now that we
have now that this view is expecting the
variable of this message we just need to
pass in the data array into every time
we load the contact view which is only
here and here so what I'll do is
basically take this whole thing and
we'll just pass in you know just have
nothing in it so this is kind of a trick
but what it does is it prevents us from
eating another page for saying that
you're an entire another view that says
the email has been sent or whatever
instead we're just passing in value so
it's it's a much more efficient way to
do it so now if we actually go to the
contact page we don't have any errors
whereas if we weren't passing in this
data array that's the wrong one we would
have an error saying that message has
been on message is undefined so we'll
just undo that back in there save it
good to go
okay and I believe yes we also need to
pass in the array when the validation
fails
okay excellent next step is I'll show
you guys some of some more of these
conditions that need to be met for the
email there's a valid underscore email
so what that'll do is it'll take the
string that is sent from the contact
form so if we fill itself with garbage
data again press send even though
they're all full the email address has
to be valid so it would have to be at
something.com or dot something something
at something dot something is all it is
so now if we send this leave me the
email has been sent
so we're validating successfully again
and this valid email condition is is
right another one is alpha and we'll put
this on the full name field because
they're not gonna have numbers in their
name they better not otherwise that's
weird
they're not gonna basically all this
means is if it is a capital case or
capital letter or a lowercase letter and
again we can test this by going numbers
underscores stuff so this is actually
gonna give us a a couple of these the
email address and the full name may only
contain alphabetical characters which is
cool so that's working one more I guess
another thing I want to show you a boat
this is notice how every time I do it
these values become blank again I'm
gonna show you how to set these values
so it will actually stay and we'll do
that like this right now the value in
our arrays that were passing into this
form input helper is a the form helper
it's just that to blink and that's a
problem what we can actually do is
there's a function in the form
validation library called set value
and in this we just say which of these
names we actually want it to be so in
this case this is for the full name
field we just put set value full name
and so whatever we typed into into the
input field a full name that'll show up
next time so we'll try this so you can
actually see that what we typed in when
we submitted the form is actually being
repopulated in that field so they don't
have to type it every time they get an
error and we'll do the same thing for
for the other two fields as well of
course this one will be email and this
one will be message and that's me copy
and pasting opens like too fast
give you a second to read that and okay
now if we refresh this go back or we'll
just go back to the contact page try it
again from start pick my name is Steven
my email address is even at PHP academy'
dot board and the message hello Steven
the email has been sent
okay so now we have a fairly complex oh
yeah one more thing cross-site scripting
this fit the title of this video is
security cross-site scripting is a one
of the biggest problems that I've had in
some of my online applications people
can do cross it use scripts from other
websites on my site through these input
fields and this is actually really
simple to prevent with codeigniter which
is you just attach another condition
plug XSS underscore clean and we'll
actually do that to all of them and
sorry I didn't explain this little thing
right here that's the bar it's like when
you put a forward slash it's like shift
forward slash on a PC keyboard I'm not
actually sure what it is on a Mac but uh
hopefully you know I think it's called
bar is all it's called you just separate
the conditions in this third parameter
with those okay um and this xs/s clean
condition will actually prevent anyone
from doing cross-site scripting in those
input fields and it's actually just that
simple I think that's actually it for
the form validation library in the next
video you can obviously see that if the
form validation runs then it's echoing
out a message of the email has been
successfully sent but we're not actually
sending any emails which is kind of
funny in the next video I'll be showing
us that you the email library so we'll
actually be working all in here it'll be
fun
so yeah thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>