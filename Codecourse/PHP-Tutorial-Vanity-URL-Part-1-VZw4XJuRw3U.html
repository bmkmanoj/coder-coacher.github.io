<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorial: Vanity URL (Part 1) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorial: Vanity URL (Part 1) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorial: Vanity URL (Part 1)</b></h2><h5 class="post__date">2010-09-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VZw4XJuRw3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this tutorial we're going to be
looking at how to integrate a vanity URL
system into your existing website as
long as you have a user database
somewhere where you store files about
your users now I've opened up PHP
myadmin
and I've called the database vanity so
I'm just gonna click on this and you'll
see that I've just only got one table
obviously this is for tutorial purposes
we've got a table called users now
inside this table we've got records of
users now in your table inside your
database you may have obviously more
fields things like that but for now I've
just got two records and I've got for
the first one Alex London and in the
description of say what I'm doing or
about me or something like that so this
is what you really need all you need is
to be able to store a user name inside
your existing table or in your database
so as long as your database looks
something like this and you have a user
name for your red your registered users
which I presume you already would have
then this tutorial hopefully will be a
success to you now what we're also doing
is we're also using an HT Access file so
a dot htaccess file and this is going to
allow us to automatically recognize a a
username that appended to the end of a
website address that would usually be
associated with a folder so I'm doing
forward slash Alex when I could when I
am when I type forward slash Alex at the
end of this and you see I get Alex's
profile up here so there's not a folder
called Alex and but htaccess file is
actually handling this for us and it's
telling us to look for this and it's
telling us to transfer this data here so
Alex to our PHP file which is profile
dot PHP and it's handling it this way
now this is what the htaccess file looks
like
now I constructed this from looking
around on Google I don't know how to do
it myself I'm not an expert on htaccess
or anything that you can use inside them
but this is the this is the HTF access
document I am using this is how I've
written it and like I said it's been
constructed from me googling around
having a look at how to do specific
things and then putting it all together
now there are some there's one important
aspect of this and this is the address
just here okay so I'll just highlight
that now you can see that this has got
several elements it's got obviously the
website address I'm using a local host
and on a local server and then it's
obviously got all these folder names
here and then the last folder name is
vanity URL now the reason I'm doing this
is obviously I keep my tutorials in
these folders but you're welcome to you
something like local host forward to
that profile PHP or in fact your site
name here and then forward slash profile
PHP and then your your name the name of
your user will be appended onto site com
but for now what I'm doing is the user
name of my user is being appended on to
the end of this long address here since
the vanity URL folder is myself root
directory for this tutorial if that
makes sense otherwise just follow what
I've just told you inside the HT access
document now like I said I don't have
much knowledge of the HT access document
I've created here so what I urge you to
do is just pause the video for a moment
copy this down as well as you can and
obviously this part here is variable
this is what you want to change to
include this with your own website and
URL and all you're going to need to do
is keep this part the same so it's
profile PHP and we've got a question
mark so we're passings and get data and
the get data is the variable name is you
and this is going to equal dollar sign
one so this dollar sign one needs to say
the same this profile dot PHP file needs
to say the same I mean you can change
the profile PHP and section if you'd
like the filename if you like but
obviously the rest of it
is variable depending on your website
address and obviously the folders you
are using or folders you're not using
like I just explained you can have it
straight from your own website your out
and then the root directory okay so if
you take a moment to copy that down and
what we'll do is we'll move on to the
connect dot PHP file and in fact I'll
give you a demonstration of the script
first and show you how it works okay so
we're going to go ahead to the
demonstration of the script like I said
it works through the username at the end
of the at the end of the the web address
or the folders that you've put this in
in my case vanity URL folder so I've got
Alex and this is what my profile and
then I can just type in for example Jade
and then it comes up with this Jade's
profile here okay so basically that's
the demonstration of the tutorial we're
gonna start coding oh and sorry the
index dot PHP file which have created
here is nothing about home I mean this
is obviously the index dot PHP file that
you're going to be using I've just used
this and so as I access and this we've
got something just to see at the start
of it okay so we're gonna get on with
the coding now okay so the first file we
want to create and if you haven't
already connected you to your database I
presume you already have but we need to
connect to our database so we're gonna
open up PHP tags as we normally would
we're using the MySQL connect function I
first of all connecting to localhost
then what I'm doing is I'm using the
username root and I don't currently have
a password set but this is where your
password would usually go okay so the
next thing is to select the database so
we're using MySQL select DB and we're
selecting the database vanity and like I
showed you before this database is here
so we've selected this database here
and that's basically it for the the
connect dot PHP file now inside the
profile dot PHP file this is where the
data from using the HT access document
which hopefully you've already copied
down and changed this part of it this is
where it'll go so we've got profile PHP
and we've got profile up here should be
here
and like I said before we're using a get
variable could you and this is going to
transfer and this is going to equal what
we've appended to the end of the web
address so the first thing we want to do
is we're going to be using redirect so
we're going to be using OB underscore
start this just ensures that we don't
have any errors when we're using our
redirects so I can just say here handle
re ok so now what we're going to do is
we're going to include our connect dot
PHP file obviously what this is going to
do is just include this for us so we can
connect to our database successfully so
we'll go ahead and test this out
okay so we'll not return with any errors
and usually we would be you can append
and things like or Die MySQL error on at
the end and what this will do is this
will give you an exact reference of the
MySQL error that's returned if we can't
connect and if now I'm just keeping this
blank ok so the next thing we're going
to do is check if this variable has been
set so if this get variable has been set
I'm going to use an if statement so we
can use if and then some rounded bracket
so in standard brackets I mean using the
is set command and the standard notation
for a get variable or a post variable
obviously we're using get here is dollar
underscore get and the reason the square
parenthesis so square brackets and we've
got two inverted commas inside there so
two single quotation marks ok so inside
here obviously we're going to be putting
you because this is the get variable
name that we've specified here
and then we're gonna open up some curly
brackets and we're gonna come along to
set a more user-friendly and easy
accessible variable for this get
variable here so I'm just simply going
to call it user name and that's gonna
equal MySQL under real escape underscore
string and then we're gonna pop dollar
underscore get you inside there so
basically what we're doing is we're just
popping this inside a variable username
we're using the MySQL real escape string
function to provide some SQL injection
prevention and later on what we're gonna
do or in Amin actually what we're going
to do is we're going to provide even
more SQL protection by checking if it's
alphanumeric and this means that you can
have letters of the alphabet or you can
have numbers so with them an SQL
injection you typically find things out
of this scope so this also helps to and
project protect against SQL injection as
well and to do this we're going to open
up another if statement so we're using a
nested if statement inside this if
statement here and this is gonna be C
type underscore out none so obviously
our long stands for alpha numeric and
we're in closing in rounded brackets
username so the first thing we're doing
is we're checking if the username is
alpha noumic if it is alphanumeric we're
going to come down and open up a new
block and inside here we're gonna then
go ahead to check if the username exists
so to do this we're gonna execute a
MySQL query or run a MySQL query and I'm
gonna put this into a variable called
data so we've got MySQL underscore query
you may or may not be familiar with this
command hopefully you are hopefully you
are and the query is going to be select
username
, location comma description from users
so this is our table name these are the
fields that we're using rather than
using star to select all the data
including the ID which we don't really
need to use in this case we're just
selecting the data that we need to speed
things up a bit and to get a nice visual
of what we are selecting so we know what
we're selecting from users where
username this is the field name equals
and then in inverted commas here single
quotation marks dollar underscore
username so we're selecting the data
that we need from the table users so the
table is here we're selecting user name
location and description from this and
we're using a condition so where
username equals in the username variable
the username variable is the username
that's been appended to the end of the
web address like we got from here from
here sorry and then we added it into a
easily readable and variable name okay
so the next thing we want to do is come
down and we want to check the number of
rows that have been returned now we want
to check that they're equal to one if
they are equal to one it means that a
username has been returned on by this
condition and it means that it does
exist so we're going to use if MySQL num
rows
data and data is our query that we've
just already run here this is why we've
stored it in a variable and we're going
to say if this is equal to one okay and
then we're gonna come down and we're
going to open up yes again a new block
and basically what this is going to do
inside here is we're gonna grab the data
so we can display it to the user okay so
this is the first part of the tutorial
in the second part we're gonna be doing
exactly what I've just explained and
we're gonna be grabbing this data from
the database and displaying it
okay so join me in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>