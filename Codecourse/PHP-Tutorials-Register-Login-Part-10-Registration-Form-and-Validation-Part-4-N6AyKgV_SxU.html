<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PHP Tutorials: Register &amp; Login (Part 10): Registration Form and Validation (Part 4) | Coder Coacher - Coaching Coders</title><meta content="PHP Tutorials: Register &amp; Login (Part 10): Registration Form and Validation (Part 4) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PHP Tutorials: Register &amp; Login (Part 10): Registration Form and Validation (Part 4)</b></h2><h5 class="post__date">2012-05-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/N6AyKgV_SxU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so welcome back we've got a couple
more conditional statements before we
start to validate this this code or
validate the user input sorry and the
first one I want to do is I want to
check if this is a valid email address
or a valid email email address has been
provided then I'm going to go ahead and
quickly write a function called email
underscore exists much like the user
exists so it basically interesting to
copy and paste it's just a copy and
paste job and then we're going to give
give a user you know it some more
feedback we're going to be making use of
our output errors function that we
created in order to actually display
these errors to the user so very very
quickly we'll finish off this this
validation part of the registration
process so I'm going to check if the
users email address that they entered is
valid so I'm going to say if filter
underscore var sum using the filter VAR
function essentially this takes a string
and then how you want to validate this
particular input in this case we want to
input the email address and the second
parameter is a constant here which is
filter validate email essentially
passing that through I'm just saying
validate this as a valid email address
now a valid email address is probably
not what you think we could get away
with typing something like Alex at
Internet dot I don't know AAA for
example as a domain extension while this
isn't a valid domain extension it might
not even be a host that's online it's
essentially just checking the way that
this string is formed it's just a quick
way of than doing a regular expression
as we did up here but let's go ahead and
do this anyway it should be enough
really to get get us started so
so we want to append to our errors array
and we'll just say a valid email address
is required okay done so the next thing
we want to do is check whether the email
exists so if email exists is equal to
true we obviously want to pass through
the email address we're going to do
exactly the same as we did here with the
the username in fact I'm just going to
substitute that with email I'm going to
say sorry the email is already in use so
I'm just saying you know the same thing
as I did before so we've obviously used
the email exists function but we haven't
written the email exists function yet so
we then use this dot PHP and I'm going
to use this function I'm going to define
this function within here I'm going to
copy and paste this userexists function
and I'm going to go ahead and obviously
change the name of it to email exists
and instead of taking the user name
we're taking email we want to sanitize
the email and write that back to an
email called variable and we obviously
need to change our query as well instead
of selecting the count of user ID from
users where the username equals user
name we want to say select account where
email equals email because if a users
already used an email address it's very
unlikely that we want a user to use that
same email address again so in this case
it will return true if any user within
our database table has that email
address that the user is trying to
register with otherwise it will return
false much like we did just with the
username itself so let's go ahead and
fill out a form again and waste more
time and we'll see what happens here
let's go ahead and fill out properly so
we avoid all of our errors I'm going to
say Alex
in fact this is quite interesting if I
use say all capitals how is that going
to render or how is that going to output
with checking that that user exists now
let's go ahead and test this and it into
all other valid data so password pass
word first name and email address just
go ahead and get rid of these example
here P Academy to org register sorry the
username Alex is already taken a valid
email address is required which I'm not
sure why that's happened let's just go
ahead and check because if filter bar o
equals equals false
we always seen this check that against a
value so if it returns false then that
means the the email address is fault is
invalid so that's got rid of that and
sorry the email
Alex appear Academy dog is already in
use so we know that that works but we
also know that sorry the username Alex
is already taken so while passing it
through to our MySQL query that we are
not checking for specifically uppercase
or lowercase and we're just checking the
you know the literal value of this
string so now let's go ahead and fill it
out properly with a new username and
some new user data I'm going to say
Billy password password password again
Billy Garrett and we'll just say Billy
at PHP academy' dog click register and
hopefully no errors it says the username
Billy is already taken that's because I
inserted it earlier let me go ahead and
just delete that value so yep so let's
go ahead and refresh the page and
resubmit that data and we've got no
errors in our error array and that's
really good news because we've now you
know gone through this this process and
validated the data taking into account
things like the username blah blah blah
so what do we want to do now well now
we're going to go ahead and actually
output the errors
within our registration form so the user
can you know see any errors that they
have any any errors that you know
resulting in the validation of this form
so in the next part we'll go ahead and
and output these errors</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>