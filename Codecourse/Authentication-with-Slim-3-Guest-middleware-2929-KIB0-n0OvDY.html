<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Authentication with Slim 3: Guest middleware (29/29) | Coder Coacher - Coaching Coders</title><meta content="Authentication with Slim 3: Guest middleware (29/29) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codecourse/">Codecourse</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Authentication with Slim 3: Guest middleware (29/29)</b></h2><h5 class="post__date">2016-04-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KIB0-n0OvDY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so if you haven't tried this already the
guests Middleware work in pretty much
the same way we're just kind of doing a
reverse of what we've just done so let's
grab our off middleware we'll copy this
over so at least we have the rest of our
kind of boilerplate code and we'll
create our guest middleware so this will
be you have to be a guest or either not
authenticated rather to access it so
let's change over the name to guest
middleware and of course here we need to
do something completely different and
this is checking if the user is signed
in now if they are signed in they're
obviously trying to access something
like sign up or sign in which they don't
need to so we can just redirect them off
just without a message so we just do the
reverse and check if they are
authenticated so if this container off
check and then if not we just want to
redirect them so response with redirect
and we will grab our Reuter generate our
path just for our home page of course
feel free to update this if you want and
add a flash message so we have our guest
middleware now we just need to create
another group so up here obviously our
home is excluded because anyone can
access that whether they're
authenticated or not we just have a
group we have no Euro Reich so that
doesn't make sense and we want to place
all of these inside so we don't want
them to access sign up or sign in when
they are authenticated so we have our
guest middleware as normal just here
guess middleware we want to go and add
that middleware to new guest middleware
pass in our container and we're done
simple as that
we now have two areas we can enter any
more routes or create any more routes
and they'll be protected so let's test
this out then let's go and sign in with
a real account like so and again we need
to update
this there we go let's just try and sign
in again and my password I changed
earlier there we go so now we shouldn't
be able to access things like sign in
and we're not we just redirected back
and of course you can test sign up as
well and we're redirected back so that
is it we have protected against the
routes that we've created for different
states of our user whether they're
signed in or not signed in</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>