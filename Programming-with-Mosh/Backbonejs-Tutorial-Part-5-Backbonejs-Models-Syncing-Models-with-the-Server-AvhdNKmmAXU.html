<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Backbone.js Tutorial Part 5 - Backbone.js Models: Syncing Models with the Server | Coder Coacher - Coaching Coders</title><meta content="Backbone.js Tutorial Part 5 - Backbone.js Models: Syncing Models with the Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Programming-with-Mosh/">Programming with Mosh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Backbone.js Tutorial Part 5 - Backbone.js Models: Syncing Models with the Server</b></h2><h5 class="post__date">2014-10-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AvhdNKmmAXU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">as often but not always use models that
are synchronized with a persistent store
using restful api on the server
bankable models provide an abstraction
over the low-level API communication
which results in a cleaner and simpler
code for example instead of you manually
making HX calls to the server to fetch
the data you simply call the fetch
method on your model the model would
then take care of making an ajax call to
get the data
Backman modelled support three
operations to work for the persistent
store fetch to get the model from the
server save to insert or update the
model and destroy to delete the model
depending on the method you call back
one will issue a get post put or delete
HTTP request for example fetch always
issues a get request save depending on
the state of the object makes a post or
a put request if the object is new it
sends a post request otherwise it sends
a put request
how does back one know if the object is
new or not well if it's been fetched
from the server before and assumes that
it's an existing object otherwise it
assumes that it's a new object until
it's saved to the server and finally
destroy always results in a delete
request
now you may wonder how back one knows
the URL of the API backbone relies on
the URL root property of your models to
construct the URL to the corresponding
end point if you don't specify the URL
root and call one of the operations to
sync with the server you'll get an error
that the URL is not defined
so in this example we are telling
backbone that all our songs are located
at forward slash API slash songs on the
server so if our website is hosted at
example.com that will translate to
example.com slash API slash songs
now let's look at some specific examples
in this line I'm showing how we can
fetch a model from the server so we are
instantiating a song object with the
idea one and color the fetch method
which resolves in an HTTP GET to slash
API slash songs / 1
here is another one in this example we
construct a Sun object we fetch it from
the server then we update the title
property and find it call the save
method in this case because the object
has been fetched from the server before
it's an existent object and as a result
backbone will issue a put request to
slash API is like songs / one
here is another one here we are
instantiating a new song object setting
its property and calling the save which
will result in a post request to the
songs collection
and finally here is another example
where we destroy a model in which case a
delete request is sent to slash API a
song / one
note that by convention bank one assumes
your models have an attribute called ID
which is used for uniquely identifying
them if you use a different convention
you can use the ID attribute to tell
backbone which property of your model is
used as the identifier in this example
we are telling backbone that some ID
should be used as the ID attribute
now that all these methods are
asynchronous and accept as success and
error callback the syntax is a little
bit tricky and I have noticed many
developers get stuck with this and think
there is a bug in background so let me
clarify this fetch and destroy are the
easy ones you supply the callback
functions as you see in this slide
the safe method however is a little bit
different with the save method our
callback functions are wrapped with an
object that is the second argument to
the save method not the first one the
first argument is a hash of the
attributes you would like to change it's
kind of a shortcut that lets you pass
the attributes here and save them to the
server it's similar to setting them
using the set method and then calling
the save method so I personally always
set values using the set method and then
call the save method with an empty
object as the first argument or you can
also pass a null object note that if you
accidentally forget to pass the first
argument your success and error
callbacks won't be executed upon return
from the server so that's the tricky
part
okay at this point you should have a
good understanding of models and how to
work with them before proceeding to the
next section make sure to take the mini
project that I've included at the end of
this section if you have any questions
feel free to post them in the
discussions area I'm here to help you
thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>