<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Module Wrapper Function | Coder Coacher - Coaching Coders</title><meta content="Module Wrapper Function - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Programming-with-Mosh/">Programming with Mosh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Module Wrapper Function</b></h2><h5 class="post__date">2018-02-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WlWdbtJoCLQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now you know the variables and
functions we define in a module are
scoped to that module they're private
and not visible from the outside but you
might be wondering how node does this so
let me show you on the very first line
of the logger jeaious module I'm going
to create a syntactical error so define
a variable X and set it to nothing like
this so make sure to write this code on
the very first line in other words if
you have a line break here and do this
on a second line you're not going to see
what I'm gonna show you now so put this
back on the first line here we have a
syntactical error now back in the
terminal let's run the application again
okay we got unexpected token semicolon
right but look above this line you see
this function declaration so this
function has a few parameters exports
require module file name and surname so
let me copy this code here
now basically what happens under the
hood is that note does not execute this
code directly it wraps it inside of a
function and that's the function you saw
so at runtime our code is going to be
converted to something like this so we
have this function declaration here is
the body of that function now for now
I'm gonna remove this error here so this
is our code and then we have the end of
this function now the actual code is
slightly more complicated than this but
we don't want to get distracted with
that complexity if you're a more
advanced JavaScript developer you
probably know this is an immediately
invoked function expression or if you if
you don't know that don't worry that's
not really the scope of note what I want
you to take away here is that note does
not execute our code directly it always
wraps the code inside each module and
something like this inside of a function
now look at these arguments to this
function so you have seen the required
function I told you that this required
function appears to be global but
actually it's not global in fact it's
local to each module so in every module
requiring is one of the arguments that
is passed to this function we call this
function the module wrapper function ok
so you have seen the required function
you have also seen module that is what
we're using here so we have module that
exports we also have exports which is a
shortcut to module dot export so if you
want to add a function to module that
exports object you can either write
module that exports dot log equals log
or you can write exports that log equals
log but you cannot reset this export
like what we did earlier in other words
you cannot write export equals block
because this export is a reference to
module and exports
change that reference okay so these are
the first three arguments we also have
filename and Durning which represent the
name of this file and the pass so let's
have a quick look at this argument on
the top I'm gonna do a console that log
of underline underline file name and
also
underline underline Durning now you're
not going to have this function this
module wrapper function this was purely
for demonstration so I'm gonna revert
the code back to what we had before
okay so now we don't have any errors in
this module let's go back to the
terminal and run this program so node
app GS so here on the first line we have
file name which is the complete path to
that file that is larger than a s and on
the second line we have the path to the
directory that contains an module so now
you have a basic idea about node modules
and how they work you know how to create
them how to load them but node itself
comes with a bunch of useful modules
that we can use in a lot of applications
and that's what we're going to look at
in the next lecture
hi guys it's mash here thank you for
watching my node tutorial I just wanted
to let you know that this video you've
been watching is part of my complete
note course where you will learn
everything about node from the basic to
the advanced topics if you're serious
about learning node I highly recommend
you to enroll in my node course because
this is much faster than jumping from
one tutorial to another it saves you
time plus you're going to get a lot of
exercises that will prepare you for the
real world and also at the end of the
course you'll receive a certificate of
completion that you can provide your
current or future employer so if you
want to enroll click on the link in the
video description I hope to see you in
the course</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>