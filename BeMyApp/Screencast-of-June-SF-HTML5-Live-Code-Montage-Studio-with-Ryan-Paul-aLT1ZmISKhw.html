<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Screencast of June SF HTML5 Live Code - Montage Studio with Ryan Paul | Coder Coacher - Coaching Coders</title><meta content="Screencast of June SF HTML5 Live Code - Montage Studio with Ryan Paul - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/BeMyApp/">BeMyApp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Screencast of June SF HTML5 Live Code - Montage Studio with Ryan Paul</b></h2><h5 class="post__date">2014-06-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aLT1ZmISKhw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so today we're ready talking
about building front-end web
applications with montage studio i'm
ryan paul i work for montage studio any
developer relations and my twitter
handle there is seg fault you want to
look me up and ask questions later and
feel free to do so so montage studio we
have fun an authoring environment and
JavaScript development framework that
goes with it a core part of our
philosophy is this idea of
interchangeable parts back in 1801
there's a there's a fellow named Eli
Whitney's an inventor he's probably best
known as a creator of the cotton gin but
he was also a weapons manufacturer and
one of the things that he contributed to
the science of weapons manufacturing
this idea of interchangeable parts he
had a contract with US Congress to build
weapons for the military and they were
paying him a great deal of money for
this you know this idea that he would be
advancing the state of the art and so
they call on him to do a demo to show
them what he'd been working on and what
he did is he took a bunch of rifles that
he manufactured and right there in front
of Congress he disassembled them put all
of the like parts together in baskets
then he proceeded to reassemble to
assemble new rifles from parts in the
individual baskets and this is kind of
unprecedent nobody nobody had really
done that before there's a lot of
speculation that it could be done there
are a lot of people before him who
thought that it would be practical but
he was really the first to be able to do
it at manufacturing scale and it was a
big deal it was one of the milestones
that that led to the Industrial
Revolution United States so many years
later 1968 there's a fellow named Doug
McElroy who wanted to take this idea of
mass production and component orient
architecture and bring it to software he
wanted to create mass produced software
components and he gave a presentation to
NATO to their their science group and he
presented this idea that if you can if
you can create this component
architecture you can make it so that
individual developers can assemble
applications by composing them from from
individual units of functionality and
what Doug McCullough I went on to invent
was UNIX piping which is probably one of
the most you know elegant expressions of
that idea but a long time has passed you
know since since Doug McGill where I
gave that presentation NATO and we've
learned a lot about software development
and but you know about modularity about
encapsulation we have a very clear
understanding today of how you can how
you can improve modularity and code
reuse so you know what we wanted to do
at montage to do is try to put some of
that knowledge to work we want to create
you know component oriented architecture
for application development allow you to
assemble applications by composing
individual units of functionality so
montages is our framework it's a it's a
front-end web development framework in
some ways it's you know it's
superficially similar to say angularjs
or ember j/s in a sense that you know it
is a JavaScript MVC framework you know
for building single page applications
but it also does a lot more we have we
have a you know fairly sophisticated set
of front end components that go with it
user interface controls and a very rich
binding system and other things so
montage just it's best suited for use in
modern browsers we support the latest
and greatest you want to use it older
versions by e you might have some
trouble the framework is open-source
tribute under bsd license and it's all
developed in the open on github so in
montage is the core unit of
functionality is a component you know
I'll kind of show you a little bit you
know what that looks like in our visual
authoring environment but a component
you know in its simplest form is
basically a folder with the dot real
extension
and in that folder you have HTML content
you have your JavaScript code and you
have your CSS a component I mean it's
basically just standards-based web
content but the unique element is that
JSON declaration you can see in the
middle there um and what we've what
we've done you know unlike a member or
angular we don't want to have any
application specific logic in your
markup so we have this declarative JSON
based structure that you use to define
the the contents and behavior of your
component and in that JSON declaration
you basically have all of your data
bindings and you have the like it's
basically like a serialization of an
object graph of all of the the
JavaScript objects that are in your
component that are instantiating so we
have a component called called a flow
that allows you to basically display
elements in 3d space along a curve I'll
show you what that looks like a little
bit it's hard to understand without
seeing it but what you're looking at
here is the JSON representation of this
of this flow component you know in your
in your component declaration this is
what it would look like and you can see
that there's a lot of complex JSON but
the you know the the basic idea is that
you have this path and the path has what
we call knots which are points in 3d
space you know with XYZ coordinates and
then we flow all of the elements through
through that path along the longest
point now you might wonder like what
would that look like if you were to
visualize it you know on top of this
JSON representation and what it would
look like you know as a whole lot like a
path in a vector art application you'd
have handles you'd be able to drag the
path around and then you would have you
know that that triangle looks like a
camera like the over use blender or 3d
authoring app you have a camera it's
like a perspective on that path um so
you know that what we've done here we
have this JSON representation of you
know these higher level components and
objects then we've created a visual
authoring tool that allows you to
manipulate the the JSON as
so here we've got a big word homo icon
icity and the underlying idea here is
that your your code your application
logic is basically data it's mutable it
can be manipulated and parsed and
generated as data and that's what our
montage is component declaration is it's
basically your application logic but in
the form of data that you can manipulate
programmatically so that's that's kind
of a weird concept but I'm going to show
you a little bit what that looks like
and I think that it'll be a lot clearer
when we set out to build this visual
authoring environment for for composing
your montage this application we kind of
wanted to go back to the drawing board
there's you know what developers use a
lot of tools you command line tools you
use preprocessors we use text editors
but there's not a lot of like visual
authoring like the same way that you get
in native application development and
the reason why is there's a bit of a
stigma against those kinds of tools and
web development and if you go back to
the early days of visual web authoring
it's kind of easy to understand why
there was this whole generation of
WYSIWYG HTML authoring tools that
basically looked like word processors
they were terrible absolutely terrible
news they produced awful code and the
whole paradigm was just not practical so
what we wanted out of our visual
authoring tool was a way to exploit this
concept of your application logic as
data and we want to be able to let you
manipulate it as such so what I'm going
to show you next is actually what that
looks like we have a visual authoring
tool that's on the web it's a montage
studio com and it runs entirely in the
browser and this is this is basically it
so I'll show you now this is a very
simple application if I'm to refresh
Oh
this'll work yeah so this is a a
wordpress client basically using the new
wordpress json api to pull in hope from
a wordpress blog and this is the flow
component i was telling you about you
see the the tiles that are kind of
floating in 3d space along the path when
you click one of the tiles this is an
application built with montage using
that flow component and what it looks
like when you're editing the flow
component roll open the editor and see
that just like you get the vector vector
tanya and each side by side when you go
and edit that Pat watch you see the
application changing in real time we've
created a visual editor all it's doing
is manipulating the JSON representation
under the hood
sense so whenever you whenever you save
a change it'll propagate over we use web
sockets so that the preview which is a
live running version of the application
will reflect the the latest changes you
made yeah so that certain some parts
that are more lives than others as
you'll see like this you can see we're
changing actively in real time and I
mean you can do some cool things here
I'll show you like when you change the
camera so you can tilt if I do down here
here we go let's manipulate the camera
you can see that you can get I mean it
is basically moving stuff around in 3d
space here we're using 3d CSS transforms
and it's all encapsulated in the logic
of the component of that flow component
and still hopefully live here you can
scroll it and let's see if that
animation works at the angle yeah not so
well but you get the idea there yeah so
when you have this when you have this
life this live preview of your
application open um you can actually
take that URL in the URL bar and you can
you can load it as many browser windows
you want even on other devices it's all
working over the web so if you were to
load that URL on an iPad you could
actually see it changing on the iPad as
being edited give another question hmm
no this is not WebGL is actually just 3d
CSS transforms yeah we have some other
stuff that we do with WebGL but in this
case yeah it's just 3d CSS and which is
cool because like these are just HTML
elements you know that were that we're
running along this path that we've
created and that's I mean that's kind of
this kind of like an extreme example of
what you can do with the with montage
its architecture you know because again
like all of the logic to do this is
encapsulated fully encapsulated in the
component so so you get you get a lot of
power and flexibility and you can take
conventional web content and other
montage components and you know apply
these trends have it apply these
transforms to it so that gives you an
idea you know
you know where you can go in the most
the most extreme most extreme case here
and I'll show you again what that looks
like in the editor so this is a flow
editor but this what you see here is
multi studio on the left-hand side these
are the the resources or assets that are
part of your project you have each of
your components that those da trio files
there and each one on the inside as CSS
HTML Javascript that you could that you
could edit but when you open the real
itself in the editor you get this this
visual interface and each component
that's instantiated in or each control
that's part of the point since
instantiating the application is
represented by a block in that left hand
left hand side there okay like here's an
individual post from that that WordPress
demo and you know here's the flow itself
yeah and here's a here's a card like one
of the cards inside the flow so you can
see that when I want to move my cursor
over the components and at that
component declaration pain that
highlights HTML you know equivalent HTML
element on the other side this is
basically representation of the DOM and
individual components that are visual
are attached to dom elements they're
also non visual components like if you
look at the top here we have this
wordpress connector component which is
responsible for pulling in the data from
the wordpress blog but a visual
component like say that card has you
know an equivalent HTML element that
it's attached to so you know what you're
looking at here is on the left hand side
this left-hand pane is the visual
representation of the JSON component
declaration and on the right it's a
visual representation of declarative
HTML Dom so you know we've given you an
ability to manipulate these visually but
it's just data under the hood so like
you can you can move your Dom notes
around whatever and you can modify the
properties of the element like here on
our WordPress connector it exposes this
host property
which is the the URL that it's pulling a
wordpress data from and then you know
some other some other attributes there
that customize what data was sucking in
so when you have a component that
exposes properties it you can visually
edit them in the authoring environment
itself and in some cases like the flow
component which is very specialized
control we have custom editors allow you
to manipulate it in a more specialized
way so that I mean that's a basic layout
you know how how montar studio fits
together I want to build an application
here so that you can see like from the
ground up so that you can see what that
process looks like in a more
step-by-step kind of way um so I don't
know if anybody wants to follow along or
I guess it might be but um if you go to
Mont our studio com we've got the join
our beta link in the top top side so if
you fill out the form and submit it'll
give you an email that will let you into
the beta and you can start working with
the tool today so yeah so this is this
is the main landing page of the tool
everything gets stored in github so when
you create a project in montage studio
it's actually going to persist directly
to your github account so you can login
with github and it'll use your your
github credentials as the you know your
your access to the environment so I'm
going to create a new project call it
montage studio location meetup demo I'm
going to create what it's doing here is
talking to github and it's taking a
template for a project and it's
basically just populating and bringing
in dependencies so there are a few cool
things that we do here the dependency
management we actually use NPM which is
a node package manager for all of our
front end
Nancy management so if you have a like
JavaScript library that you want to use
your project that's an MPN it's really
easy to add to your montage project I'll
show you that in a second here when it
finishes for the purposes of this demo
I'm going to show you how to make a
location search tool it'll basically use
the Google Places API and allow you to
search for like a restaurant or
something in the local area based on
your GPS coordinates so you know you see
the package.json in the in the tree on
the far left-hand side here the
package.json is like sort of like the
manifest for your application you put
you name and version and other
information about it and also in the
middle here you see our dependencies
digit is our UI framework it's just a
set of controls that we provide like
user interface controls like buttons and
sliders that we provide we have two
digit is a user interface framework
that's optimized for touch we also have
one called Mac that's better suited for
desktop use in this case I'm just going
to use digit then montage itself is not
a dependency that's our core framework
now in this application we're going to
be retrieving data from the web using
the Google Places API and so we're going
to we're going to use that too and
that's not an NPM so in order to add
that or first going to have to go into
our index index here the next I HTML
file and add the JavaScript reference so
here we're just pulling in the Google
Places library that's all that's all
that wine is doing we're safe we're
going to use that later to start with
we're going to create a new component
let's call it our location
okay so narrow inside its Stan she ate
it on the side there and we're going to
use that to build out our search but you
know first I kind of let's let's start
with more basic Dragut component out you
can see um you see the Run button the
top of the resource pain on the side if
you hit that Run button it should create
a preview okay here we go so now we have
a live running a version of the
application which obviously has nothing
in it yet I kind of wanted to show you
like a little bit of the you know live
live real-time development functionality
I'm going to start by taking a button
and just drag it out into our component
declaration you see how the button
appeared just spontaneously appeared
there and running version of the
application a lot of the interaction
like I showed you the real time changes
with flow earlier but a lot of
interaction with this development
environment you'll see your change and
propagate live into the the preview so
now we've got that button let's let's
wire it up make it do something in when
you have a component the components have
properties bindings and listeners the
properties you'll see in this property
inspector on the side here you can see
we have like an enabled property and we
have a label so if we wanted to change
the label change it to say click me or
something and you can see that that that
change propagated into the the preview
now a listener is what you use if you
want to be able to you know have some
kind of event handling on and on a
component so in this case you want to be
able to capture a click event and have
something happen when the user clicks a
button so next to listeners right there
in the component declaration when you
click the plus button we're going to
create a new actionlistener and we're
going to attach it to the owner that at
owner is just a reference to the parent
component basically
so we're going to define that listener
and now that that listener is defined
we're going to implement it if you
expand your main dot real and you open
your JavaScript you can create the
handler we have kind of a standard
formula that we use for per event
handler names handle button action
basically the word handle then the name
of the component which in this case is
button and then the name of the event
which in this case is action so we've
got handle button action we're going to
define a function and you know just keep
things simple well we'll have it display
some text at the console okay so now
let's go back to our preview expand the
console so we can see it we click the
button and then we get the text hello
world so now we've got a button we've
got it responding new evacs all right so
that's I mean that's very basic here
that's step one let's expand this out a
little bit and we want to be able to
take advantage of the you know rich
component architecture we get in a
montage app so I'm gonna kill that
button in the main real I'm going to put
it in our locate I'm going to start
working in our location real which is a
you know another component that we
created so let's start with say a text
field then a button and now let's let's
create a binding we want to have a
property that we expose let's call it a
place where e so we're defining a
property on the location component we've
given it a name and now we're signing at
a type when when you define a property
on the component you can specify a type
value that gets saved as metadata and
that type metadata is what the property
inspector uses to present you with a
appropriate editor so I'll show you what
that means in a second let's let's take
that component and let's add it to the
main real so you can see here in
can pull it pallet here on the far side
that we bought got a component pallet
with all of our available components and
when we created that location real it
added it to the component palette so now
we can we can use it like any of the
other components like buttons whatever
so we can take that location component
and just add it to our main component
right there in the component declaration
just drag and drop it in and that
location component it contains the
button and a search box that we just
that we just created so all the stuff
that's encapsulated in location dot real
when you add that location component to
the main real it's bringing all of those
elements in okay so now what we're going
to do we're going to take this place
query property that we've created and
we're going to attach it to the text
field so we do that we use a binding so
data binding is basically allow you to
connect a property from one object to
another or from one component to another
so if you're pulling pulling in data or
whatever you want to display it your
user interface you typically do that
with bindings you also use bindings to
to make it so that your user interface
controls are attached to properties on
your components so in this case we have
this place query property that we've
created on the component we want to
attach it to that search box so we're
going to take the value which is the you
know that the actual contents of the
text field and we're going to attach it
to that place query property on the the
parent component you can see that our
tool here is doing some auto completion
so that it knows that we have that place
boy component and it's going to suggest
it for our binding we're going to make
that a two-way binding which means that
it's bi-directional when you change it
one place that will change another so
now we have to find that binding let me
show you what that did so when you
select the location component that
you've dragged out into the the main
real you see how you have that place
query text input in the in the the
inspector we've taken that that property
that we've exposed from our from our
component and we've made us that you can
edit it when you select that component
wherever it's used
and whenever you change that so let's
say I type something in here because of
the two-way bindings that value will
appear in the text box because we've
found that property to the text field
that making sense everybody so far
anybody have questions good okay so you
can see that the way that that we allow
you to expose you know properties you
can use it to expose internal
functionality of your of your components
and make it so that there it's easy to
edit externally in a really simple clean
way and if we were to go into that
location real and then change the type
like let's say we want to our place
quarry thing let's say was something
else wanted to be a boolean if you were
to go and edit it see how it became a
checkbox we're using that type metadata
to to control how how you know the
editor is presented in that the property
owner so this is a text field so we'll
put that back to string okay so now our
next step we want to start playing
around with location stuff that this
tool is going to be location search and
it's going to use your current GPS
coordinates as the the basis for
basically showing things around you so
for starters here we want to be able to
pull in your gps location we're going to
open up that javascript file in the
location real and what we're going to do
is i have a function that gets evaluated
when the component is fully loaded I've
got the full text here type it all out
okay template did load that method
basically what it what it is is it gets
called when the component itself
finishes loading as I said so this will
happen automatically when the
application is running you know let's
kill that for now what were what we're
doing in here is using browser
geolocation API to get the current
position and then we're going to set the
your latitude and longitude on
properties of the component so let's
actually add those properties now
add a see latitude and longitude let's
make those numbers so now we have
latitude and longitude properties on the
component and when the component loads
it's going to attempt to get your
current position it's going to assign
those properties so now so that we can
actually see that the values are being
loaded let's add some text fields that
are just some plain text labels that are
going to show it show the values so
let's create a text label just basically
a P tag and then we're going to use
we're going to use bindings to to make
them show latitude and longitude so here
let's make this text lat well set will
use bindings we're going to set the
value of this label to the value of
owner dot latitude and we're going to
take the other one we're going to make
it value owner dogs longitude okay so
when those values pull in it should show
it here we go okay so when you use
geolocation API is it'll prompt you to
ask you if you want to allow the browser
to grab your computer's location so
we're going to hit allow okay then let's
see should show the location text fields
there assuming the GPS is working there
we go so now we have latitude and
longitude and you can see that because
the the properties are bound the the
values appeared in those text boxes as
soon as the properties worse as soon as
those values were assigned to the
properties on the components so you know
now we've got basic location awareness
the next step is to bring in the Google
Places API and use that to to do
location search based on that latitude
and longitude court
so in our JavaScript we're going to add
another function this one's a bit longer
and let's replace that so we've got
there ok so in our template did load
function words we're creating this
property called place service that
basically just loads to Google Places
API there's this kind of weird thing the
Google Places API does they require you
to provide attribution for the service
in your application you need to show the
user that the data is coming from google
places they require you to do that with
an image so I'm going to add an image to
the application and we'll set the source
property that image to the is basically
a google logo so that the user can see
that the data is coming from google see
if that shows actor ok and you have to
pass that image element into the places
API when you instantiate it so what
we're doing here is we're reaching into
the component declaration we're getting
that image component and then we're
getting HTML element that's associated
with it we're providing that is the
parameter when we instantiate the places
service because what Google requires you
to do ok so now we have our handle
button action when you click that search
button what it's going to do is get your
location it's going to take that
latitude and longitude property that
we've already populated when the
template load or when the component
loaded and we're going to we're going to
create a google maps latitude longitude
object with that ok then we're going to
create the properties for our request
we're going to do a search within a
certain radius and we're going to use
the the value of the text field we're
going to do a location search and we're
going to look for things of type
restaurant so we're going to find a
restaurant within this this radius that
matches the the query value so in you
know what I did here using template
objects text field value I'm
to the component declaration getting
that that the value out of the search
box but we can actually simplify that
because um we have a binding between
that text text field and the place query
property so we can actually just use
that place query property directly we're
going to do this dot place query okay so
now this is going to do a when you click
that button it's going to do request to
to Google Places API it's going to take
the results and it's going to assign it
to a result property on the component so
let's let's just make a results property
which is going to be an array of objects
and keep things simple for starters
let's dump it out a console so we can
see make sure that it's all working okay
so here's our our box wait for it to get
the location get the location yeah okay
so it's got the location now we're going
to do is search let's do a search for
sushi open the console so you can see
the results which will hopefully work
why not I forgot to put the listener on
the button so we deleted out of the
button yeah so the button needs the
listener the action listener let's try
that again
wait for it to get the location there we
go okay so now you can see that we got
back a bunch of objects and each of
these objects returned by the Google
Places API gives you certain certain
data gives you the name of the place you
know this is a sushi and sake bar then
it gives you the vicinity which is
basically an address so we want to be
able to display those in our application
rather than just echoing out console
right so now we're going to create we're
going to add some components the
application that will it will show those
values so whenever you have repeating
elements you use a component we call
repetition anything nested inside a
repetition component will repeat x
number of times you know based on the
what we're what we're assigning to it so
we're going to bind the repetition to
that array that gets returned from this
query so we're going to take our results
array and we're going to bind that to
the repetition we're going to take
repetitions content property and attach
it to owner dot results okay what this
will do is it may be able to make it so
that the the components that are nested
inside the reputation will repeat once
for every item in the array so now that
we've done that lets out a text label
and we're going to attach it to the
repetition so the value is repetition
duration the object dot name so we have
that name property on the object we're
going to bind that so basically we're
binding to the the value of the current
iteration of that repetition and we're
going to take the name properly
let's attach that we're going to do this
again there we go so now you see we've
got a list of all the restaurants very
simple it repeated it once for each
object now this gets kind of fun if you
were to do another query like let's say
pizza what it's doing under the hood is
it's fetching another set of results
from the Google Places API and it's
taking this JSON blob that it got back
and it's just assigning it to that
results property because we're already
bound to that result property the
changes will automatically be reflected
in the user interface so our binding
system is pretty cool you can bind
directly to JavaScript objects you don't
need to tear apart to return data and
wrap the fields that you want to observe
basically it's all observable so we can
take we can take that array that we
retrieved directly from the API and just
a science the property and bind to it
and everything will be handled if you
were to if you were to like
programmatically reach into that array
like in your JavaScript code you go to
that results property and you were to
pick an index and you were to change the
name you would see that change reflected
automatically it would just show up
because we're bound to it we're
observing the changes that does that
make sense so far everybody have any
questions No ok yeah yeah we have
documentation on the website and several
tutorials that show more yeah yeah and
the code there is also the code for this
on github like so if you wanted to like
fork this project and open it in montage
studio you can do that i'll i'll show
you guys the address for that at the end
so you can actually open it in montage
to do yourself and edit it and play with
the the values of the code yeah so okay
so now that we've got the the name of
the restaurant let's add the address to
let's change the see what we want to do
here let's change it so it's not a ul so
if you want to edit the HTML you can
actually you can get in here you can see
this is the JSON represents the
component declaration it's basically the
text equivalent of what you're seeing
here in this column and that's that's a
special like montage serialization
section of the HTML file but at the
bottom you can see here we just have
regular old HTML markup and you see we
have these data montage ID attributes
those attributes associate an HTML
element with an object in the component
declaration so if you look at our
location not real you can see that we
have you know a as a specific HTML
element you know like the text field is
associated with that input and that you
know that's all that that attribute does
it creates that association that's
that's effectively how that association
is defined so now in this HTML we can we
can tweak the markup however we want so
like for example for our repetition I'm
going to make it a div instead of a ul
and then I'm going to make the that text
field a P tag instead of an li tag so we
can have another one here so yeah I can
zoom in oh yeah that's a good idea thank
you there we go is that can everybody
see that great okay yeah so you can see
the data montage hid and then you can
see the the serialization here you can
see like our bindings to find in that
serialization but this is really like
the essence of montage jas we define all
of our logic all of our bindings in this
J declarative JSON format and because
it's JSON and it's programmatically it's
possible to programmatically manipulate
it we can give you a really nice visual
way of editing it so instead of having
to type all of this JSON you have you
have this visual representation instead
looks like this right
so now you saw what we what we change we
made those change the markup it's
reflected here we come into a divot if
he tags reflected in our visual
representation of the Dom let's add
another text field and this one we're
going to bind to that vicinity property
remember we have the address that
vicinity property we're going to use
that so we're going to take the value of
this this text label we're going to
attach it to repetition the current
iteration and then the object at that
current iteration and then the vicinity
property okay so now we do sushi OOP
need to get the location first there we
go now let's do it there we go so now we
have the name and we have the address
for each of the each of the items that
list so I mean this isn't very pretty
obviously it's kind of ugly but you know
the with montage is you can style your
application with conventional CSS just
like any normal HTML application so you
saw i just opened the CSS file in the
real and that's that's where you would
set styling so I mean let's say we want
to take and put a class on that dip like
okay class a place now we've got a CSS
class on it we can apply our styling
let's say place is actually really cool
you should see what this looks like if I
apply it
okay so watch what happens here when we
only add styling background color green
you see it applies to CSS instantly
let's add some padding and a 10 pixel
margin yeah so did I put it on the yeah
so the we basically just applied some
styling the whole list you see that the
CSS changes get propagated in real time
so that's that's a lot of fun that's one
of the nicer things that we've got there
so you can apply styling it's really
easy it's just normal CSS and you can
make it look however you want you know
like any other web contact so you know
now that I've gotten to the you know
basically showing you the functional
nuts and bolts of how you build this
step by step I kind of want to show you
like next step you know if you were to
take this and expand on and build a full
application with more elaborate styling
what it would look like so this is a
application I built a full stack
JavaScript application uses sales j/s on
the back end and it uses monton sjs on
the front end and it's an application to
help groups of people decide where to
eat together basically you know people
propose places and then vote on where
they want to eat so i called it nominate
and it's a pretty simple app but
actually took me longer to come up with
the name than it did to build it but so
i'll show you now you can create a poll
and then we're going to add a place to
the pole and this is the same location
search basically that i showed you how
to build let's do sushi what we get so
now we're showing you all of the
locations this is really the same the
same underlying stuff with our component
architecture you can you can take this
unit of functionality of you created
this place searched and embed it in any
montage application and then wrap stuff
around it reach into it access those
properties and work with it however you
want so what you see here are tiles
represent the places that came up in our
search we have a plus button in the tile
that you can click to add it to to our
whole so let's let's add a place the
pole let's do a few of them okay here we
go oh okay so we've got some places in
our poll and now you can vote and it'll
track your vote and if you change your
vote it'll change where the number is so
if you have multiple people in this
application it'll tally the votes and
it'll do all of this in real time the
application itself uses web sockets
based API so you can have multiple
people in their voting and you'll see
the numbers increase you might notice
that the tile for voting looks a whole
lot like the tile for adding a place
right so what I did was are you made a
component I made it a tile component
that has that address and that name
property bound and all you have to do is
pass it a object with the with the with
the properties with the like the name
and the vicinity properties and it will
display it now you may notice that the
tile looks a little different in the
poll of you versus the Abdul it has a
different button in montage is that we
have a like a template replacement
mechanism so you can create a component
and then you can take bits and pieces
that component and say that you can
replace those elements in India had a
higher level the place where that
component is consumed so in the poll
view you can see i guess my just added
votes these leather vote appear but yeah
huh okay yeah so that in the poll view
we added a vote button but in the search
we added a plus button and it's the same
component it just has that slot where
you can you can nest an object then
it'll automatically fill it in so you
know we have some neat tricks like that
we do with the component architecture to
get you a lot of encapsulation and code
reuse and make it so that you can tailor
your components the individual context
in which is being used so I mean it's a
pretty simple app but there's some fun
things going on with data bindings when
I was showing you step-by-step how to
build that location search the bindings
were all really simple we were just
taking properties and exposing them to
the control right but our data binding
system once you do a whole lot more you
could actually
and ice data within some really
compelling ways like you can take an
array you can find the largest value in
an array or you can take you can take a
like a hash table and you can filter it
and then you can pull out like the key
or the value or both and expose them so
you can do a lot of really cool like
data structure manipulation directly in
the binding system so i'm going to show
you like what that looks like for this
specific application just what the
bindings look like so you can get a
sense of that on the back end of this
application like i said its sales j/s
it's just like an API back end so let me
show you what the API exposes like what
the JSON looks like see if I do that
right yep okay so here you can see we
have we have our places that we've added
to the pole and then we have we have
this array of votes and each vote is
another record in that array and when
when you look at the you can see like
the user so like an anonymous user
versus a user who's logged in and you
can see the place ID that goes with that
vote okay so in what the application is
doing when when it displays the numbers
next to each of those next to each of
those tiles it's basically pulling in
that data and and slicing it down so
i'll show you at the binding looks like
um see if i go to my github repo i can
get fast that way nominate
you want be data binding ok so the vote
results we take the we take and populate
that votes property on the component
with the the data that we pulled from
the API so it's like that array that I
showed you ok then we're using this
group map method which will basically
group the votes by place by the place
property so it'll take that the place
property and it'll group them so like
say you had a lot more votes than this
this can you only have two votes and say
you had like ten votes or whatever and
four of them were for place with the ID
38 you would have the key 38 and then
you have an array of all of the votes
that go with it and you know it would do
that for each you know for each place so
you can actually like completely change
the struck the way that this data
structure is organized in the binding
that's what that group map does so once
you've got it grouped and we've attached
that grouping to this vote results
property in order to find the winner the
one with the most votes all we have to
do is go through that hash table and
look at the value of each the array of
fruit that's attached to each one to
each of those keys we find the longest
array because that's the one with the
most votes right so we actually can do
that directly in the data bindings we
use dot entries to take the hash table
apart and once you take in the hash
table apart dot one is going to be the
value in dot 0 is going to be the key so
we use dot max to find the largest we
find the one with the largest value
largest array you know with or we take a
link we find one with a large length on
that array and then once we've done that
we take dot zero which is the key the
place ID so now in vote winner we have
the place ID of the place with the most
votes and we didn't need to do any
JavaScript at all to do that we actually
just torn apart with the bindings and
put it back together to get the values
that wine and the pool the coolest thing
about this is as all reactive so if you
were to change the vote if you were to
say pull the server pull down a new
instance of that array assign it to the
property or if you were to append in a
vote record to that array it would just
automatically recompute all of it you
would get new values it would it would
take a look at how the array has changed
and it will propagate the values and it
would give you the new the new updated
values so now once we've got the winner
and we've got this map with the you know
with the the places and the votes to
show it in the tile what we do we reach
in to vote results and we get the array
that's associated with place ID for the
current tile see like we've got place ID
here we're taking the place ID for the
current iteration each of those tiles is
an item in that repetition so we're
taking the instance you know from the
current iteration we're taking its place
ID and we're reaching into that hash
table that we created with the results
to get the array that goes with that key
and then we just get the length and
that's how we compute the number that
goes next to each tile now we also want
to highlight the winner so that the one
with the most votes gets colored orange
and what we do there we have a CSS class
called winner and we've used bindings to
conditionally apply that CSS class so in
the case where the vote winner which we
computed above you know in that previous
binding is equal to the ID the place ID
of the current tile then we're going to
apply that winter class and that's what
makes it Orange you have that winter
class do anything you want orange is
what it does in this case so I mean you
can see the binding system is incredibly
powerful you can do a lot with it you
know with very little code there's
there's really not very much code in
this application you know there's this
voting application and because of the
the reactivity you know because we're
using data bindings and we can update
everything instantly you know gives us a
lot of power we're using WebSockets so
that you know when a new voting record
is added to the current poll it
automatically gets sent out to all
attached clients
everybody who's viewing it in a browser
we just depend that to the array and
then everything recompute so that's
that's the nomination that kind of gives
you an idea you know where you can go
and what you can do with the data
binding system so I shown you that I've
shown you the the word press demo and
I'm showing you how to build an
application i'm going to show you one
more thing real quick you know another
demo that we have one of the things that
we really like about our component
system is that pretty much anything in
the page can be wrapped with a component
I'm you can you can manipulate anything
and one of our favorite demos what we've
done is making so you can manipulate the
contents of a WebGL scene using data
bindings so this is our eco homes down
marlin and to build this eco homes down
whether the way that it works internally
we have a scene that was created in like
my our 3d studio max or some 3d
authoring tools they created like the
whole scene and that authoring tool and
exported it then we took that scene and
we converted it to a JSON based format
called GL TF GL TF is being standardized
by Chronos which the same group behind
OpenGL and WebGL and it's basically like
you know a runtime data format for 3d
assets and it's great for WebGL so we
can load that JSON data and render our
3d scene we have a montage component
that renders the 3d scene and then we
can make it to that you can attach a
component to individual elements of you
seen by their ID and once you've done
that you can programmatically manipulate
them so we made so you can use CSS to do
transforms on individual items in a
WebGL scene and then use data bindings
to apply or remove those transforms so
i'll show you like a simple example of
that in our kitchen uh let's say we want
to add an appliance we didn't click
these radio buttons and it's changing
the 3d scene it's basically applying
like
you know I hide you know hide class to
the ones we want to hide and show you
know showing the ones we want to show so
it's it's manipulating scene with data
bindings and that that's all it is is
data onto the hood these radio buttons
are bound using those binding
expressions to the elements in 3d scene
so we also have you know count laundry
we can toggle a washer and a dryer or we
can also manipulate a like the material
we use on a surface so let's see if that
works here right yep so we can change
the the material used for the countertop
by by toggling the radio buttons okay
and we have a few others like a
staircase two should work the same way
and we have windows where you can you
can adjust it's kind of hard to see on
this display but you can adjust the
strength of the tint on the windows by
dragging the slider and got let's see
the smart thermostat we can not this
one's fun see if it works is it it
should change that should change the the
scene know if it is yep I don't know
maybe we updated the channel but yeah it
would change like color of the room the
floor the room based on that the
thermostat but yeah so I mean you can do
all kinds of stuff with data bindings
and again it's all just montage we're
using WebGL but we're extracting in a
way we have a component that loads your
your g LT f 3d scene we have components
that attach to individual items based on
their ID in the 3d scene then we have
bindings to apply transformation so you
have a question
yes so GL TF is basically just a format
it's like it's very similar to colada
it's almost like a JSON version of
colada so it's like a format for for
data so i don't know if anybody hears
familiar with colada but when you're
when you're working with the 3d
authoring tool like Meyer 3d studio max
they have a format called colada that's
an industry standard that's used for
data interchange between authoring
applications so if you save it in colada
you can import it into another
application right so the problem with
colada is a very heavy xml-based format
and we we kind of needed something
that's lighter that's that that map's
more directly to what what the the 3d
objects gonna look like in in in actual
runtime usage so you convert them to
glti and it is basically just a data
format it's a JSON representation of the
3d data of the like the 3d model and
then we load it so you don't have to
have browser support for it or anything
hmm well Apple added WebGL and iOS 8 so
it's coming yeah so WebGL is actually
becoming ubiquitous enough that you
could start using this stuff and
actually reach an audience which is
exciting but yeah so I mean this is the
kind of thing that you can that you can
do with it and you know like 3d
programming is so hard I've messed
around with three j/s before which is a
you know like pretty low-level library
for manipulating 3d elements in WebGL
and it's difficult to get stuff with
them and I can make a 3d cube that spins
around or something but that you know
anything non-trivial with 3jx you really
have to be a graphics programmer and we
kind of wanted to get away from that so
with our components you really don't
have to have any specialized 3d
knowledge to put the stuff into use so
even I can build stuff with it you have
another question
I imagine they clobber each other if you
try to use them in the same scene but
yeah yeah it's a standard yeah so I mean
you could at least we use the same 3d
assets yeah it solves the problem yeah
we're pretty excited about that I'm wait
at WWDC Apple had a whole session about
WebGL where they are talking about how
developers can take advantage of it now
that it's available in Safari and they
actually showed this demo they showed
two of our demos to their developer
audience WWDC so we're very proud of
that but I think I mean 3gs serves a
purpose there are a lot of a lot of
cases where you need to be able to have
that level that low level control over
the 3d scene programmatically but for a
lot of cases where you just want to
incorporate 3d content into your
application your web application you
know you really shouldn't have to be a
graphics programmer to just get a 3d
model in there and pro and be able to
manipulate it so that's kind of what we
what we've enabled here that was kind of
our goal with these components so we
have a 3d viewer component we have you
know other components for manipulating
and stuff and it's easy enough that
somebody with no prior experience with
WebGL can use it he
we haven't exposed yeah yeah I mean if
you wanted to do low level stuff you
could you can make your own components
that integrate with our component
ecosystem yeah oh yeah four cases though
we're like really what we're targeting
here is the cases you know somebody
wants to be able to take something from
Maya or Sketchup and display it in a web
application then be able to manipulate
the individual pieces of it that's kind
of what this is optimized for and it
works very very well for that II yeah so
um you can package a montage GS
application with phonegap the you know
obviously like your you're limited to
what the HTML rendering engine on the
platform supports but um yeah the I did
experiment recently where I took a
montage j/s app and I wrapped it in a
native shell using Swift and UI webview
basically and just put it on an iPhone
and it just works I mean what when you
build a montage ASAP we have you know
like a module loading system that's
fairly sophisticated and all of those
components get loaded in as modules it
runs
and that's that's a lot of requests so
what we do to simplify that in order to
reduce the overhead when you're loading
we have a compression tool called mop
that will that will basically
consolidate all of it into into like a
min ified bundled set of assets so you
can take that you know output a mop that
like minified bundle of HTML content and
rather than putting it on a web server
you can put it in phonegap or you know
basically any other shell we've used cf4
so our in our documentation we have
instructions that on how to use mop like
how to compress the application and
deploy it um I don't think we have like
a phonegap tutorial yet but if you
follow like any regular phonegap
tutorial the part where it says you know
put your HTML assets here you just take
them off content and put it there and
it'll work yeah there's no there's no
real magic there yeah we have a mop
documentation on our website mop is a
command-line tool you can actually
install it from NPM and then it'll run
on a montage project if you if you don't
I mean don't have to use it from the
command line I should say we actually we
have it built into the tool to so in
montage studio if you click build and
then you click download it will give you
a zip archive with the mopped version so
you don't even have to deal with command
we also have this fun published to get
up pages option so like we will mop your
project and push it out to the github
pages like in the repository that it's
stored in so you can just share a link
with your friends so yeah yeah mopping
is all automated in the tool now yeah
yes so um we there are some people who
are using montage studio today in the
wild there's an application called
radioio that is a like a streaming audio
application and they're built using a
combination of montage and xamarin so
they're using xamarin with native
platform specific HTML rendering end
and then they're loading their montage
content into that web view to do the
whole user interface and they've created
a bridge to facilitate communication
between the HTML montage application and
the underlying application logic on the
native side so there are a lot of things
like that that you can do yeah you can
do all kinds of high bred stuff and
that's actually in the the iOS App Store
you can download radioio and you can see
a montage app it looks pretty good it
uses the the flow component that I
showed you guys earlier no other stuff
so any other questions no that's a good
idea that we should probably do that
html5 we have an issue up on video
component I think there might have been
like an experiment yeah I think it's
still in github somewhere yeah yeah I
bet it's in but it's an that but yeah so
the thing though is that if you want to
create your own components it's not that
hard the UM the one of the things I
didn't get into is that our component
architecture has a managed raw cycle we
want to get really good native-like
responsiveness out of our web
applications and one of the things that
we do that our component will mediate
all interaction with the DOM and then
it'll batch Dom changes and synchronize
them with requestanimationframe so that
you know we're minimizing the number of
reflows and and the the amount of
overhead that where we're hammering like
not hammering the layout engine so
that's the only thing you really have to
take into consideration when you're
making a custom component you can make
components in montage feel like you see
I created this location component but
anytime you want to manipulate the Dom
outside of the binding system like
you're doing it with JavaScript you
would put it in a draw function in your
component you would just basically go
into the JavaScript and create a draw
and that takes basically all of the
information you store in your properties
and use it to figure out how we want it
to interact with the DOM and you do all
the dom interaction there and then you
will kind of be baked into our managed
draw cycle and your continuing
performance advantages but like for
video component you can just add HTML
video element and you can add a property
for like your source or whatever and you
could add components for controlling it
or you know exposed methods for
controlling it and you can build a nice
little prop like component that
encapsulates all that functionality and
then you would just be able to drag and
drop it in your application yeah so I
didn't show but okay on the on the farm
the far right side there you see that
assets tab you can drop various kinds of
like images video like we even have a
tab for a video but you can put images
and 3d models and whatever other like
static content you wanted to have
included in your app and then you could
reference it through there yeah and it
would it would basically upload it into
your video project yeah if you wanted to
be totally self-contained you would do
it that way got any other question
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>