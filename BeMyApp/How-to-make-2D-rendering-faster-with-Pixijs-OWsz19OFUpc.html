<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to make 2D rendering faster with Pixi.js | Coder Coacher - Coaching Coders</title><meta content="How to make 2D rendering faster with Pixi.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/BeMyApp/">BeMyApp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to make 2D rendering faster with Pixi.js</b></h2><h5 class="post__date">2016-09-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OWsz19OFUpc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right hi everyone welcome to the
pixie J's webinar here we have met girls
the creator of pixie gasp joining us all
the way from UK today he's going to
cover what pixie Jas is and how it can
be used in projects at the end of the
presentation there will be Q&amp;amp;A session
so if you have any questions along the
way for Matt when he's doing his
presentation or if you have any question
right now please post them in the
comment section below and we will
address them at the end of the
presentation so without further ado I'll
let Matt take the stage okay hello
everybody hope you're doing well right
let's get straight into it okay cool so
this talk is basically about pixie Jas
and an introduction to it quick little
bit about myself my name is Matt growths
like most of you guys I am a JavaScript
er love to make things in JavaScript I
especially love to make games and
experiences and I currently work at a
company called Gibbler digital which I
co-founded about three years ago and we
basically specialize in making html5
content and quick overview of today's
talk so first thing is just a general
overview of what pix years and what
pixie isn't and then I'll jump into some
code and I can just show you guys how to
create hello oh so basically yeah it
would be about getting started and then
we'll go into some of the features and
functionality of pixie and then after
that what we'll do is we'll look at
what's new in version 4 and finally
depending on how much time we've got
left I'll go through some real-world
examples where people have actually used
it to make real life things ok so first
an overview of pixie Jas what is it
pixie Jess it's basically a 2d rendering
engine built in JavaScript so its sole
purpose is to put stuff on the screen
for you and make sure that it looks
correct
it's the main drive that we have for it
is that we really want
it'd be fast and performance so it it
kind of just tries to take care of all
of that for you about being too
complicated under the hood it uses WebGL
which is the fastest and best way to
render stuff onto the screen because you
get to use the GPU um a lot of people I
guess know WebGL a lot of people also
think that or believe that it's mainly
used for just sort of 3d and really
amazing 3d content but it can also and
is really great for rendering 2d content
also and Pixies store party trick which
is kind of less relevant now in a world
where pretty much everything supports
WebGL is basically that it seamlessly
falls back to canvas so back when we
made the engine there was a time where
most mobile devices and even most
browsers didn't really fully support
WebGL and we wanted to make all of our
cool content and all of our games and
unfortunately if we'd said to our
clients hey we're going to make only in
WebGL and only 30% of your users will be
able to play the game they'd be like
nope and we'd have to find a different
way so we put the fallback in so that it
meant that it would work for most people
because canvas was pretty much
everywhere at the time so it's pre it's
got pretty good parity like they look
pretty much exactly the same
WebGL has a few extra features that
canvas is just pretty much impossible to
do in canvas so things like filters and
obviously what GL is orders of magnitude
faster as well
okay so pixie is also hopefully easy to
use we take great care in kind of
imagining from the top how we'd want to
do something so we'd be like how do we
want a mask to work or we want to go
this object mask equals this mask and
then we kind of figure out figure it out
from there rather than so from the
outside-in rather for me rather than
from the inside out so yeah hopefully
it's easy to use and then the other one
which is a big one is it's free
open-source and it always will be free
and open source I think the only reason
it's kind of got to where it is now is
through the help of the community and
all the kind of clever people that have
helped helped us along the way okay so
why is pixie jeaious and why did we make
it so back when we first started good
boy we were kind of
a little bit worried because we are
history was in kind of flash and flash
is dead and no one likes it anymore and
it's like a toxic word that I get scared
about saying but it was a really great
piece of a great tool to make content in
but as the rise of mobile browsers came
up you know there was no home for it and
also its kind of a bit slow but there
was you know great tools and it made
really exciting stuff and we were kind
of a little bit worried when we started
our company that oh you know how it
going to make this stuff to people even
still want it
so so we kind of made pixie to kind of
allow us to kind of carry on that
thinking of making those extra level
kind of creative things like like games
and kind of just sort of website
experiences so that was kind of the met
you know a big reason why we've created
so that we could carry on doing this
stuff from yesterday we needed it
because it's a time saver once you know
once we know we had our window working
it meant that we didn't have to make a
new end or each time and hopefully that
makes sense that's very time efficient
to do that it was also a sort of a bit
of a sneaky promotion for our company as
well because as we started it we were
basically just kind of two guys in our
living room and no one had ever heard a
good boy so we thought well you know if
we make this piece of technology and it
you know it's useful for us if we
open-source it then you know it might
increase people's awareness of of us and
what we do and then the final reason why
pixie exists is because being a big nerd
that I am i absolutely love making
renderers it's kind of like the perfect
match of technical and creative coding
which is my favorite place to be so
throughout my career I've always kind of
had a little go at making a renderer in
whatever technology I've been using 3d
and 2d and widly there was actually at
the time there was just a big hole in
JavaScript for 2d renders which is kind
of again like the need and why we made
it so yeah I genuinely enjoy making this
stuff it's a it's not work for me okay
cool so why should you use it CJ so
there's certainly some good reasons and
some bad reasons to you see why you
might want to use pixie Jess and why you
should probably avoid it so we'll go
through the good uses first so if you
need next-level 2d visuals
sometimes CSS isn't going to cut it if
you need to do some really complex
transforms or you need a lot of stuff on
the screen or you just need that kind of
you know you want to use some really
cool cool effects it's kind of just
gives you more power picks you can
really help out there and it's very
performant it's really good for games so
it's not a game engine per se it's kind
of component of the game engine so you
can use pixie in your game engine to
render your game because a game engine
actually has loads more so a game engine
will have things like a physics engine
in the sound energy engine and it will
kind of put it all together to it in a
nice big thing and pixie is basically
just the drawing bit and that makes it
useful for also things like experiences
which aren't games by all but have a
kind of a high demand for the visual
fidelity so yet picks is great for kind
of flows like in-your-face experiences
as part of a traditional website it can
be used to enhance certain things so if
you get the chance to check out picky
pixie Jay Escom our website it's kind of
the perfect example is basically the
website is all built in CSS and hatred
ischl HTML but the header at the top is
just a really nice visual bit that
there's kind of pixie powered and I
think it can be used in those situations
it's kind of a smarter use of it so
there's that pixie can also be used a to
make apps so we've kind of recently
found that and I mean it's not really
just victory I suppose it's poor HTML
technology but it's sort of contours
point now where with things like Cordova
it's actually really great for packaging
into apps into games and and that kind
of stuff
and pixie again it's just a useful tool
for you know making sure you get decent
performance out the devices if you do
package it up so bad uses for pixie
Gaius so when to not use it basically
whenever the primary mo of your website
is to kind of convey information and you
you know SEO is important to you then
pixie is a bad choice to build your
website because it is essentially just a
canvas which is essentially just an
image and JavaScript so
Google's little spiders will have a
tough time finding out what's actually
going on there so not a problem for
games and experiences but a massive
problem for a shopping cart website or
or something where you want people in
there you want Google to index and
search stuff and there are ways around
around that but they're kind of you know
generally speaking if your site if your
client wants a site where people can
sort have really good SEO then you don't
want to be building it with those
technologies there's one more on there
which I haven't put but I hope is
obvious is you don't use pixie for stuff
like 3d because it's only 2d cool so
next thing we're gonna do is I'm not too
sure what level you guys are with pixie
where we've used it or whether you're
brand new to the whole concept of it but
I figured what we could do is have a
look at an example like this one an
amazing example of a little bunny and I
can kind of show you what is that to be
happening and how it's kind of doing it
so if we see here there's a little bunny
spinning at the top and then if we go
down to the code hopefully you guys can
see okay and basically I just kind of
walk through the lines and explain
what's actually is going on so the first
line is basically this is how you create
a pixie renderer and so basically you
just go pixie the auto detect renderer
and then you give it a width and a
height and various different options
such as background color auto detect
renderer will basically do a little
check on your computer and it will go
hey this guy's got WebGL give them the
WebGL renderer or oh this is an old
browser and only support canvas and it
will give you back a canvas renderer now
the cool thing is it shouldn't matter
which one you get back because the APR
is exactly the same and the features are
almost exactly the same by a few tiny
tiny things like what filters I
mentioned before so that's kind of
really nice it just means you'd have to
worry about it means it kind of will
work everywhere and so then the next
thing you need to do there is just 1 2
is basically append the child so a pen
child the view which is basically the
vendors view is basically the canvas
element so you stick that in your DOM
and then you end up being able to see it
cool and then the next thing you do here
is you create we create a basically a
pixie container so and we call it stage
so
this will basically be the container
that all stuff and all stuff in here
will get rendered pixie basically it
uses a scene graph which again is pretty
similar to a lot of rendering engines a
scene graph is just a really amazing way
to organize the way that you render
stuff so basically if you add things
into it into a container and then you
move the container everything inside
that container will move with it again
anyone who's familiar with flash will
kind of hopefully get that that concept
so the next thing we do is we create a
pixie texture and so it's got a few
handy little functions that make life
easy and one of them is from image so to
get a texture from a URL you just go
from image and then you pass in the
asset in our case little bunny dot PNG
and then we go ahead and we create our
bunny so we're using a sprite here and
the basically sprite is it's kind of
like what you add to the stage and a
sprite needs a texture to sort of
represent it and so we give it the bunny
texture so basically now we have a bunny
sprite with a bunny texture and when we
add it to the scene obviously you can
see him he's spinning around we set the
sprites anchor point this is a slightly
trickier thing to kind of explain but an
anchor point is kind of like how is the
texture aligned to the sprite so if you
align it zero zero then it's kind of the
top-left corner of the image will be the
center of the sprite there whereas if
you align it 1:1 then it would be the
bottom right and naught point five
naught point 5 means it's kind of snap
bang in the middle which is why when the
bunny rotates he rotates from the center
next thing we do is we move the bunny by
saying it's positioned or X and it's
positioned dot Y so in this instance
he's like not actually realized he's not
actually in the middle which is always
meant to be so if i refresh this and you
can see is now in the middle did you do
it this is how you add stuff so we take
the bunny and we've added into the stage
so now we've got a stage with a little
bunny inside and then we start animating
so to do that we call the animate
function which has a request animation
frame inside it which means that the
animate function will get called
basically 60 frames a second and then
each frame we basically update the
Pixies SIV Bunny's rotation and then we
basically call the magic function render
a render and we pass in the object that
we want to be rendered and in this case
it's our stage with our little bunion
and that's that so that's how you make a
bunny that spins on screen I know it's
not very impressive but hopefully it
shows you guys the fundamentals of it
okay cool so yeah if you if you have any
questions obviously like feel free to
post them in the comments and we'll get
to them once we've finished the talk
okay right so next part is basically the
features of pixie j/s so all the stuff
that can do so I figured like the first
thing I'll talk about is own a still
explain how a little bit just because
hopefully you guys might find it bit
interesting is there is basically yeah
the main feature of pixie is that it's
fast and designed to be to put as much
stuff on the screen as possible and you
know giving you guys more power to kind
of focus on doing all the other stuff
and we kind of will try to make
intelligent choices behind the scenes to
render stuff as efficiently as possible
without demanding too much knowledge
from the people using it and batching is
a really good example of how we kind of
do that so super top-level WebGL to
render an image in what gru sense you
have to render it as two triangles which
is often called a quad the little guy
here shows just that okay cool so this
is basically the slow way of rendering
stuff to the screen so if you imagine
that each one of these little little
sections is it as an image by they're
the same image so that from say like a
sprite sheet and the slowest the slowest
way of doing is for every image you drew
on the screen you draw a user GE do a
GPU call so you kind of go draw this
piece of petal on the screen draw this
piece on the screen draw that piece on
the screen and basically for every
object on the screen you have a drawer
cool this is easy to understand for five
things this is totally the way to go but
it can get slow if you have tens
hundreds thousands of objects on your
screen so the fast way in traditional
renderers is that they'd have something
called it like a batching container so
you'd kind of create a instance of it
you'd go new sprite batch and then you
kind of go this is the texture that I
want all sprites inside here to use and
then you'd add them in and it would
basically know that everything inside
that container would be the same texture
so because of that you can actually
batch all of that into one draw call
which is super efficient so this is kind
of like the way you want to go now the
pixie way is kind of like well we didn't
really want people to have to worry
about sprite batching and what a supply
patch is and how it works we kind of
wanted people to kind of just add stuff
to the stage and behind the scenes we
would kind of make it happen if we could
so the example here on the left is kind
of how pixie when you render it kind of
crawls through the scene graph and it
will do a check to see if something is
the same texture and if it is the same
texture it will automatically batch it
for you and and here you can see even
though the scene graph is just kind of
as the user to create it because they've
all the same image pixie will
automatically batson together and draw
in one draw call now in in the case of
if you've got as it's kind of crawling
through the same cloth if you've got
different images in there what it will
do is all kind of automatically sort of
not wait it won't batch them basically
so you can see here is the first thing
then it sees a little B then it doesn't
different call for that then it then it
sort of sees a part of the flower again
and it will draw the next two because
they're the same texture and then it
will do another call for the B and I'm
hoping this makes sense it's a it's
quite a tricky and tricky thing to
explain or maybe but yeah I'm hoping I'm
hoping this makes sense so you can see
here as as you were me remove a B pixie
would automatically turn this stuff turn
that those last fall back into a batch
and if you move the other be gone too
far and when you remove all the B's you
basically end up with this stuff batting
again the game can be lost now cool so I
don't
good job explaining all that but
basically pixie does all of this for use
you don't really have to know about it
and it kind of all just happens behind
the scenes and now this is a little
thing about v4 so up until version three
like you pick you the only batch things
that had the same texture so when I say
textures basically just means image so
just traditional HTML style image so if
you had four images then pixie would
basically have to do four draw calls but
in the most recent version the pixie
pixie version before we kind of come up
with a much cooler smarter way of
basically allowing pixie to batch even
even textures that are different so
depending on how good your computer is
or how good your GPU is most devices can
batch up to 15 textures mobiles it's
usually a little bit less but it means
that it basically means that pixie has
even less trocols in in the latest
version which like say you guys don't
need to worry about too much but what it
means is that things are faster and
that's only a good thing cool so I
figured a little performance comparison
might be a good thing to show you guys I
don't know how smooth it is as you guys
are watching this on a webinar but um
basically I'm just checking some key
yeah cool so I just checking something
that cool so um basically we'll go
through and I'll show you guys the 3/3
rendering examples and you can kind of
see the performance difference so we'll
start off with a Dom renderer so here's
a little thing we call the bunny mark so
cool it's actually running a little bit
slower here I guess because I'm doing a
live feed free marking heater but you
can see here as I had little bunnies and
you can see the frame rate starts to dip
if I might as it gets to a thousand and
there we go okay cool so you can see
here in in the Dom basically so each one
of these bunnies it's actually like add
to your HTML image and it's just being
transformed
using CSS and that's how they kind of
get bounced around so you can see there
that you're getting about a thousand
bunnies at 32 frames a second which is
which is cool you know you don't often
need a thousand things on screen but
it's kind of so so again like CSS is
totally good for some of these things so
then we can kind of look at canvas so
this is the canvas renderer so if I get
this up to a thousand yen you can see
here that a thousand it's actually the
frame rate is better it's close to about
40 usually this is about sixty but I
think because I'm doing a live cast
that's again a bit slower but if I go up
and I keep adding them you can see that
the frame rates fairly stable let's just
keep going to Mitch what's done in 20 so
yeah if I go to about 5,000 anyway so
you can see here though it's basically
using canvas to render stuff is much
faster than the DOM and you can see here
you've got like we've got basically five
times as many and it's running about the
same speed maybe even a little bit
faster which is really cool so that's
basically just using canvas and going
draw image and using the canvas API to
play stuff so you can see that's that's
pretty good amount of bunnies and more
than you'd need for most games I imagine
and then this is the WebGL Angela so
again usually this is 60 but if I add
the bunnies here you can see here we've
already got a there we go so there we've
got um 5,000 bunnies and that's that's
running there and all the way frame rate
I mean you could try these out after and
go to the links and they should run a
bit back because I'm not screencasting
but the cool thing with what jail is
that if I hold this down you can see
that you've gone from thousand in Dom to
5,000 in canvas and then in what jail
we've gone to 50,000
and and it basically just kind of keeps
going
which hope to him show you how fast
WebGL is when you kind of know their way
when you base it you can kind of
optimize it behind the scenes so I'm
going to take this all the way to ten
thousand to sort of show you guys that
even at ten thousand it runs faster than
DOM and WebGL so let's say you never
ever get any sorry that's not 10,000
that's 100,000 so yeah hopefully that
shows you guys that and yeah you know
it's WebGL is part and hopefully it C is
fast
cool so wait so let's just close this
okay cool so let's go on to the next
slide okay cool so this is basically the
rest of the stuff that Becky has so kind
of touched on some of it already but I
just kind of go over some of the other
features so basically the first one here
is the scene graph which I mentioned
before so basically the ability to
create containers and mess things into
each other really kind of easy
manipulation of things it has sprites
which is what the bunnies bunnies were
so just images on screen doing stuff it
has support for text including formats
as were also a bitmap text regular
regular text and different styles and
different films and kind of things like
that it has a graphics API so you can
render kind of vector graphics it comes
with a bunch of loaders that let you
load in all of your assets
it has render textures which basically
solve the ability to draw draw stuff to
another surface and then use that
surface as a source in a sprite to you
basically it's kind of a really fun
thing that could use case for it
especially be a really powerful tool I
thinking me I'll show you Gretchen demos
in a second hopefully make it in one
sense I also has a thing called caches
bitmaps so that's if you're if you're
rendering a thousand things on screen
and none of them are moving then you
could set caches bitmap to be true and
what it would do is kind of draw an
image of that and then just going
forward not to all the thousand things
but you just saw that one image
Pictures has filters masking ropes
meshes blend modes interaction and
accessibility so what is I kind of show
you guys the filters and so this is our
filters example that we made
it's again a little bit old now but this
is this is from v3 I think but
everything still kind of applies so this
is basically some fish sprites and a
background sprite moving around with a
tiling by water effect and then
basically what we've got there is a
displacement effect which is essentially
if I kind of scatter some you can kind
of see it kind of it's basically like a
nice effect that kind of distorts stuff
because he has a bunch of filters that
are already pre-made so if I go through
some of these you can see here this is
like a blur filter so you can kind of
blare stuff and it's got really fun
stuff like pixelate so you can make it
look like an 8-bit old school game and
you can you can modify all this stuff
too
what's really interesting is you can
actually you can actually chain and have
multiple filters all working together so
for example if I go to this twist filler
which is super fun you can see it's kind
of like alright cool twist the stuff
around but then I can also apply the
pixelate filter and you can see there
that you will kind of just sort of stack
the throws on top of each other and now
this this is really cool because it just
means that you can kind of come up with
some pretty crazy effect so let's just
get rid of that I can show you some of
these kind of slightly more mental ones
like this dots green one is pretty cool
mix things there like a like an old
newspaper it's pretty fun and then
you've got a really bizarre ones like
this crosshatch I don't know why you'd
ever need to use this from your life but
it's kind of a cool thing to show how
powerful WebGL is when it comes to
filters and then you've got like an RGB
split which basically just splits the
RGB channel and stop an image and again
you can you can go to town and really
just slap all these photos on them make
a nice did you'll miss cool so they're
filter so I think what I might be able
to do is actually just quickly show you
guys
I'll go through the pic suggest examples
and actually look at and show you some
of these things in practice like just
quickly sort glancing over them so what
we got here so to do this one there's
not quite one of those less glamorous
things but pixie has their full
interactive so it's really interactive
so it responds to to all Mouse events
and touch events even though it's just
this is basically just a canvas we kind
of make it feel like these things and
more so PT has full interactivity you
can literally just go my object or
interactive equals true and then you can
attach Mouse events and touch events to
it and it will just kind of listen to
that stuff for you here's a another
really basic example or dragging stuff
around and again on contacts you can you
can kind of do that kind of stuff here
was the text that we talked about
multi-line text bitmap fonts spinning
text always handy so next I'll show you
guys render textures so this is a crazy
use of it so this is basically rendering
a scene and then drawing it to a texture
and then draw using that texture as the
thing you render and basically
flip-flopping between the two and what
you get is this really trippy but quite
cool and effect so all we're really
drawing is those little objects in the
middle but the way that the textures
render make it a bit much more
interesting the next thing is graphics
and lines and cool stuff like that so
basically this is kind of like the
vector the vector stuff you can do the
API is really simple so here's drawing a
shape you go and create graphics
instance and then you kind of go begin
fill a line style and then you can move
to line two and end a fill so again
really handy for the to the odd-odd
graphics things graphics aren't as fast
and optimized as sprites but they are
still pretty pretty nippy um masking so
we've got the ability to mask content so
if I click here you can see there's
basically a background there of that
kind of crazy eighty style thing and if
I if I click here you can see that this
becomes the mask again not really that
Grammer's but my gosh this is is like
without masks you'd be you
lost making stuff cool so then there
blend modes which he touched on so
that's the ability to just change the
way that the image is drawn to the
screen like how they're drawn to the
screen so this is basically a an ad
bloom that I believe so you can see
they're basically as they kind of
overlap it kind of looks really cool
about to go out like a little demo of
been nice yeah which of these little
lasers yeah blend modes are kind of a
designer's friend they'll always want
you to do some kind of crazy blend modes
on the stuff and with Dixie you can
indulge them yeah so you can see here
basically when these lasers start going
a bit more nuts that you start to get
this really nice burn effect and all
that is is just literally because of the
blend mode it's kind of cool ropes and
meshes so we've got this this little
snake guy is a good example of that so
the cool thing about WebGL so with
canvas you can stamp images and that's
my program but this is the kind of stuff
you can't do in canvas be I mean you can
but it's really slow this is the kind of
stuff that what gel is kind of born to
do so this is kind of making use of the
fact that you can have more than just
two triangles to draw shape so this this
little guys basically is a bunch of
points and a bunch of triangles and
we're kind of Anna main them to sort of
distort the image and make it feel much
more interesting than just kind of an
image of a snake this is actually
usually something called a pixie rope
and I believe there is actually a demo
of it it so you can actually see it and
you can actually see the code code for
it here this so just in the middle here
this is how we kind of move them about
yeah the code is is all there for you
guys to kind of have a little play we're
going to enjoy do yeah okay cool so I
think that kind of covers a lot of the
functionality if you guys have any more
questions on that stuff again just write
it write a comment and we'll get to at
the end so that's the majority of okay
cool so the features of pixie J's
version four so we literally about a
week ago maybe two weeks ago
released PJs version 4 which is the
latest and greatest version if there's a
lot of updates
I'm hesitate to call them features
because there's a lot of kind of behind
the scenes stuff that we did that just
kind of hopefully makes makes things a
bit faster and a bit easier to to grow
in the future so the first thing is we
refactored a lot of the WebGL stuff and
putting a lot of optimizations love the
WebGL stuff comes from we create a new
low-level WebGL API called pixie GL core
which is basically a kind of layer on
top of what Jo to make working with it
easier and then BBC is built on top of
Pixy GL Corps 2 to give the user an even
more friendly API but the idea is that
and this is kind of pixie o GL GL core
is finished by it's not documented which
is what so it's not that accessible to
people just yet but the idea is that for
people who are super web GL savvy and
you can kind of just pop the hood there
and just kind of create crazy WebGL
stuff and then when you need to do the
stuff that you just need to do like
create a button or a menu item you can
kind of just go back to rendering
regular pixie so the idea is that people
with more web GL skill and who are more
familiar with it can kind of access that
stuff oh ok so the other thing that we
did with pixie jeaious was that version
4 is much faster on iOS so we found that
when Apple released WebGL and Safari
initially it just ran amazing and it was
really cool and then a couple of minor
versions into version 8 of iOS they kind
of introduced this really weird quirk
which I probably won't go into because
you probably will fall asleep but
basically what it meant was that this
quirk meant that occasionally if things
weren't sout the right way then it would
run a lot slower than that stuff in
pixie would run a lot slower than it
should have done and but we figured out
what that quirk was it was reloading the
same buffer in in one
in the same loop basically that was kind
of iOS just seems to decide one day that
that was bad not a feature of any other
browsers but either way it doesn't
really matter too much because we forget
that our way around it and now he got
that performance back which is great so
that's why version 4 is a good for
especially good for iOS the other thing
which I mentioned before is we now have
multi texture batching so that means
that more textures can get back together
which basis translates to more
performance and the other thing we
introduced is the concept of static
transforms so again that reading that
virtually it sounds quite dry but it is
quite cool so the idea is that um we're
kind of seeing that when we were making
stuff and a lot of people making stuff
in pixie you kind of it feels like
everything's moving around and there's
loads of activity on-screen but in
reality most things don't move around
and don't change that often so previous
versions of PC kind of lived on an
assumption that everything you do is
moving all the time which just isn't
true
so what we did is we created a static
transform which basically it's only when
you change it that it kind of Flags
itself is dirty and then in the update
loop it will actually recalculate its
matrixes and then its children's
matrixes so basically what happens is if
you if you if you if things aren't
moving basically don't don't get updated
which is kind of a really nice little
performance boost then it's much more
it's much more handy in real life
situation and sort of real life
situations real real world situations of
them actually when you actually make
stuff and rather than just say like a
demo the other thing that we introduced
to pixie II version 4 is the garbage
collection so the again I going back to
the whole point of like we really want
pixie to kind of just be advanced but we
want the API and the users to not have
to know about it
you know keep it nice and simple there
was there's a couple of elements that
happen in pixie and on in WebGL that you
just can't really manage the JavaScript
won't manage so for example every time
you upload a texture to the GPU
you have to delete it yourself using
using java javascript you can't
it won't there's nothing to
automatically look at a texture and GPA
and go hey that's been sitting there a
long time we should probably get rid of
that before it fills up and that's what
the texture garbage collection is so
what we do is as you render a scene
textures get tagged as being in use and
every now and again and there's no
performance hit here it's it's minimal
because basically every ten seconds we
slowly over time crawl over the scene
graph and kind of go oh look this
texture this texture hasn't been used
for a while and if it hasn't been used
for quite a while what happen is it will
just kind of remove it from the GPU for
you and then next time it needs that
texture again it will kind of just
upload it for you again and you'll have
never known so it means that it's just
one less thing to worry about in terms
of like filling up the GPU and kind of
pixie will just kind of take care of it
for you or that that's the goal anyway
so get not not such a big problem on our
meaty desktops but can be a real pitfall
on mobile devices so a good example we
say you can create a game and then
you've got your amazing loader and then
your amazing title screen with your cool
animations and then the user goes and
plays the game you can remember and go
make sure to unload you know you can
write specific code to unload the
textures from the GPE
you can destroy things in pixie but most
of the time people don't remember to do
that or don't shouldn't have to remember
to do that so what happened is with the
with texture garbage collection on your
kind of go to your title screen you'll
see all your cool animations then you'll
go to the game and then over time pixie
will realize that the images and
textures that were in the title screen
haven't been used for ages and they'll
kind of go hang on this hasn't been used
for a while so I'm just going to remove
it from the GPU and and it will do that
and then you you won't know it just
means that that the amount of GPU memory
just gets freed up a little bit and then
the next time you go back to the file
screen it will kind of go okay cool just
pop-up text you're back on on there for
you
yes that's really cool again just kind
of trying to take a complex thing and
make it make it simple okay cool so the
next thing that's cool with version 4
that we have tried to make it so that
you can mix it with other technologies
so the example here is basically mixing
pixie with three Jas so this isn't like
mixing it like here's two canvases this
is mixing it so they share the same
WebGL context and the like the comment
says there's a plug-in coming soon so
summer time okay cool so this is a game
we really recently released for Katia
Network during the World Cup so you can
see here basically all this stuff is
basically pixie fixie fixie fixie nice
UI for pixie which is what it's good for
and it's what it's kind of fast for did
you do these two bears and then you go
into the game and it kind of this bit is
basically I'm gonna be able to control
this okay and maybe a chronotron
schoolgirl yeah cool okay so basically
can see here the basically this whole
game is powered by three J's well all of
the UI is powered by pixie and you can
see that they kind of seamlessly mix mix
together and hopefully you know you
can't even really tell that they're two
different things because we found that
like you're now more clients want WebGL
we can do some kind of cool 3d stuff but
we still need that kind of speed for the
2d stuff so I guess that's kind of a
cool new use for pixie is like it can be
your UI friend when they're you know all
the kind of crazy 3d engines can be your
3d 3d friend and cool okay so we've got
how long ago that got about five minutes
left so I could quickly basically go
through some pixie jeaious in the world
and what kind of want to show you first
is probably mmm because we've only got
five minutes I'll probably show you guys
just some of the cool experiments that
we did in pixie by us either slice so
that
you guys will be able to see all this
stuff and also all of these projects
that I don't show will be in the gallery
of pixie anyways so I wanted to show you
guys this because I think it it really
showcases the stuff you can do in 2d
that isn't just oh I'm a 2d image so
what we've got here is basically 2d I
guess you call it geometry based
lighting so and what we've got is kind
of the shadow the shadow casting effect
off this light so that's kind of done
using it I think it's done using pixie
graphics and then that's being masked by
a gradient and then the other thing that
we've done here which is a really cool
to the effect that makes things look 3d
is is these presents they kind of looked
3d but they are 2d and what they have is
things called normal maps which
basically sort informs the sort of
present how to sort light itself based
on the position of this light source so
means you can see as I go around the
present they're kind of like kind of
changes it's kind of cool and then the
other cool feature Nova is a bit subtle
as if you see if we following on that
since the coin you can see there's kind
of like here the edges get a bit
scratchy a bit frosty now the the thing
we've done here is basically usually
displacement map to just kind of offset
all the pixels yeah and you can see when
you put it all together like it means
that like 2d is you can do a lot of
really cool stuff into the end I think
this example shows shows that okay cool
so the other one which we have which is
pretty cool is the little Christmas
cracker again kind of more of a demo
than a thing and it's fairly old but I
kind of like to show it just as I think
it kind of captures quite a few of the
cool things that you can do into thee
and so this is basically Christmas
cracker that uses the wrote the same
thing as the same thing as the little
snake example did so in kind of place
you've got a little cracker that you can
kind of give a little cool to and we
kind of added some little physics to the
ribbons and also the shadow of the
cracker is basically they're kind of the
dot matrix quarter
showed you guys before the background is
basically just pixel graphics and then
if I pull this little guy yeah there you
go you can see you like yeah basically
that kind of has a displacement map and
loads of these little Christmas cracker
particles which kind of quite fun in
handy cool again just kind of like 2d
but I like kind of more interesting than
just brings back from the screen TV show
you guys this one so this this site is
called chair leg and I like showing
people this one because I think is a
really good example of a website that it
is kind of cool to look at and it has a
really good motion but you kind of
wouldn't really maybe think of it as
being used in something like pixie so
this is really cool you kind of click
and drag and then you can kind of flick
up the scene and it will kind of just do
this really nice thing where it kind of
will break it all up break up the image
and again like I'm not sure how smooth
this is appearing to all you guys but if
you go to the site and not where'd that
screen cast they will run at 60 frames a
second and feel really slick you can
kind of click on these and it kind of
just has this really nice kind of way of
doing them and stuff yeah I think I feel
this is a good example that pixie
website because it's kind of something
that you could probably doing in HTML
and CSS but like something like this
kind of effect here would be very
expensive and probably not run quite so
fast so yeah that's that so think
probably yes got to the end there so
yeah basically that that's that
hopefully that was helpful to you guys
so you can get your head around what
pixie Jas is if you want to know more
you can go to App Engine Escom which is
the official website if you want the
latest up-to-date information you can
follow me on twitter my twitter name is
doormat 23 any kind of big stuff that we
have kind of goes through there usually
and then we also have a blog which is a
good Boyd's is food calm as well
very creative name yes sir I think yeah
that's the rep refer if anyone has any
questions in a session so we have four
questions in the comment section so the
first one is how do you create big ball
touchable background words can you see
the question Matt you guys see me okay
yeah do you know what I just said my I
just hit my mute button so I just missed
work wherever you might have just said
how do you create big draggable
touchable background wells
oh that's many questions how would I do
that I mean there's a few different ways
really I guess um so it depends how big
way if you've got like if you've got
like the world that's massive like we're
talking like ridiculously massive then
you probably need to to sort of start
taking to account things like culling
pixie doesn't really deal with any of
that because we try to add in but we
found that it kind of it kind of is more
of an app level thing so all this kind
of stuff we're like yeah you want to
make a massive world it's kind of
something that you'd kind of need to
build on top of pixie pixie with so you
kind of you can you could use the touch
events and you can kind of go here's a
mouse down and you move stuff about and
obviously you use the events to kind of
move the world around but yeah the
questions to your question is pretty big
bunch or anything the best way to answer
yes so the second question is how
textures and sprites differ
yeah okay so a sprite is basically
something that goes into the scene and
that's a thing that gets drawn and it
has a position and scale a rotation has
a transform and a texture is basically
the image itself it is say for example
the bunny if you were to look at that
I'd be looking at just a regular by PNG
so it takes giblets and loses an image
source and kind of just image on its own
and the image has no concept of where to
go how to scale or or how to position
itself that's something that that's why
it kind of deals with and you basically
kind of this fly is basically like a
container that kind of shows an image or
a texture and that's kind of how that
works all right
and the third question is do this really
long so is there a way in the app API to
read all the pixels of a container or
even the whole stage in order to do
image processing such as HD detection or
a basic computer vision yeah yeah there
is an on version in version 4 click see
that's part of its could extract all the
vendors have a render add or extract and
then you give it an object you give a
the thing that you want to attract what
will do is it will return either an
image a canvas and the red pixels or
basically anything you need but I think
we really though the question is you
kind of wouldn't want to attract the
pizza with swords detection and that
kind of stuff I guess I think that would
be something that would be better placed
by writing a shader or a filter to kind
of run through an image and actually
kind of do all that stuff from the on
the GPU but you could you could put it
out with the extract function all right
and on to the very last question why is
the texture GC disabled by default
oh because I was a bit stained to to
basically a bit more to make enable by
default but I basically when it's kind
of we wanted to try a few more
real-life projects with it active to
sort of have to come back and go yeah
okay this works really well um but the
good news is is I think it does work
really well and we're using in quite a
few projects now and it's kind of really
nice to see that the GPU memory deep
breeds is kind of go down over time and
and kind of manage yourself so I think
in future and maybe in the next release
it will probably be set to true
alright and we actually have another
question you don't mind other words so
can you share any examples of using
pixie to draw graphics like lines
circles etc rather than compositing
bitmap textures yeah I mean if I just go
back to my screen show you guys can see
my screen work yeah what is it good
example me know I'm trying to think of
what would be good I mean this this is
this is not a monster look at I admit
but it is graphics Pixies I mean I
wouldn't use pixie to create really if
your main thing is like vectors and
precision and kind of like SVG style
stuff then I think SVG is a bad word for
that kind of stuff and but I mean I will
have to try and find some good examples
with graphics and use they tend to be
they tend to be used as kind of its kind
of to complement a bunch of stuff so I
mean if I go back to digital if I go
back to I mean this so if this is got
like I mean graphics graphics can
basically be used for I mean images are
basically faster so this is Android
Ã¡fiveÃ¡ so this is kind of going hit C
but I'm just trying to see if I care
if these may be used using shapes are
probably not and probably to store
images actually um I will have to look
most of the time I think people use it
see I mean use kind of everything in
like together if that makes sense rather
than but you could you could turn it can
you just make a a vector e looking game
it's just not something I've seen much
of I would have to go looking for an
example yesterday all right I think
that's all the questions that we can
cover for now if there's any other
questions that is not covered I will
send it to Matt and I will respond back
to all of your questions right away on
the youtube link and so thank you Matt
for presenting and everyone for watching
another be my at webinar just so you
know this webinar is recorded so feel
free to share the YouTube claim or rip
watch them also if there's any slides
again I will put them in the comment
section
so thank you again everyone for watching
and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>