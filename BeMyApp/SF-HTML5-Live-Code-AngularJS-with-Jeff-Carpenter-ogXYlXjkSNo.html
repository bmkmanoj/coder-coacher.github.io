<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SF HTML5 Live Code - AngularJS with Jeff Carpenter | Coder Coacher - Coaching Coders</title><meta content="SF HTML5 Live Code - AngularJS with Jeff Carpenter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/BeMyApp/">BeMyApp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SF HTML5 Live Code - AngularJS with Jeff Carpenter</b></h2><h5 class="post__date">2014-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ogXYlXjkSNo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well okay so some logistics this talk is
supposed to take about 50 minutes I was
thinking we take two breaks in between
for like a couple minutes to answer
questions and just take a break and the
end we'll have more questions on also
feel free to ask during this talk
assumes just a basic understanding of
JavaScript and fund development um and
its aim is to kind of scratch the
surface of angular and give you the
tools to learn more about it who am i
I'm Jeff carpenter I rig a bloodhound do
we make a sales lead collecting app for
scanning business cards and badges at
conferences and I work on the web
dashboard that all your leads go into
which Jesus angular of course if you
want to reach out to me i'm g carp on
twitter or hiya jeff is if you want to
view this talk afterward it's at this
link Jeff carp or not after work during
as well Jeff card / angularjs dash talk
um the style of this talk will be sort
of like well right what we want to
happen and then we will implement it in
sort of do the implementation to explain
what's happening um I know in the
description of this talk it said we go
over testing I in the interest of time
we won't have time for that but I'm
going to include some links that you can
go to to find out about testing and
there's more links and holding that
explanations Enrico yeah obviously
audience participation is encouraged on
we can treat this like sort of a pair
pair pair pair pair programming session
if you want to on yeah so let's get
started you hear a cat cafes coming to
San Francisco and we all know that cats
herding cats sort of like herding cats
on so yeah let's make a cat cafe
management app so variable names are
always better when they're crowd-sourced
so let's get some med lips first inning
a noun Hornet yeah
okay adjective fast percentage three
percent and then a dollar amount 807
it's very specific okay cool I all right
let's get started with index dot HTML
I'm going to paste this HTML tag and
head in here we go is that big enough
it's probably not big enough let me it's
bigger yes their way to make this
brighter oh nice ok cool ah this is
going to be called the the fast hornet
cap cat cat cafe I and a regular price
is going to be 10 oh it's not going to
ten dollar sorry it's going to be eight
hundred and seven dollars kind of an
expensive cat cafe and then is I and
here we will have our first angular
expression which will consist of the
discounted price so we have a dollar
sign for a price I and then inside this
is our first angular expression so in
here we can evaluate anything that's
sort of like JavaScript it will
interpret it that way so we'll do our
price 807 times our discount which is
0.03 for three percent on so let's crack
that open in the web browser
cool okay so this just outputs are HTML
I and it's not really what we want it to
do we wanted to interpret that
expression we've included angular up
here so the first thing we need to do is
add ng-app to our body and this tells
angular everything inside this Dom
element angle is going to worry about if
you just want to use angular in like a
sidebar in your page you can put ng-app
in that sidebar and an angular will not
touch the Dom outside of that on so
angular is kind of modular that way and
I hope that's visible I know but if we
refresh it oh okay it looks like we need
to set server so let's do so I'm going
to serve this page with this bash alias
command that I've written not written
but I taken and it's if you want to use
it it's uh it's this command Python def
m simple HTTP server and the port number
5000 and that's also on the notes I
believe cool um so now that we see our
discounted price is being calculated
correctly we distract their first
angular directive ng-app and our first
angular expression in these handlebars
cool um so yet obviously hard coding
stuff in the template as we all know is
not great on so let's put our discount
into a variable yeah
yeah yeah are you asking if it's like
recursive sort of what if you get what I
happy I didn't put it on no you only
have to put on the top element video an
Anglican clue okay hopefully that
doesn't happen oh cool alright well yeah
let's going so we're using this variable
um let's I ok so let's explain this
variable when we use variables in our
angular template on the way the angular
supplies the data to that template is
scope and we'll talk a lot more about
scope but essentially any time you use a
variable and template like discount
angular is going to look up whatever
scope you're in and then doc discount um
so for just an NG app it's going to be
looking up on root root scope discount
whatever that is so for the purposes of
populating this variable let's define
root scope discount and that means we're
going to have to actually make our
angular app now so let's do let's make a
new file called fjs and in here we're
going to define window app is an angular
module called app and this empty array
here is the dependencies for our module
and we have none so we can just pass it
an empty array and we'll add this script
tag to our index
so now where our angular app is included
and now we have to tell ng-app the name
of the global variable that our app is
residing and which is just app cool
they're getting a sphere so would you
happen so I guess this is confusing look
for the purposes of our app we can do
like cat cafe here and put it there and
that's so what this is referring to this
mg app is referring to this module name
here on but usually what I've seen it
they're both the same name I was going
to be needing these as app cool ok so
our end goal was to assign something to
root scope discount on so let's define
this dot run function on our angular app
which is run after the app is
instantiated and we're not going to have
this permanently but this is just to
demonstrate a science on the new root
scope dive discount
oh if we go back to our page oh oh no
yeah I wonder oh you know what okay sure
thank you okay so root scope is injected
into here in dependency injection is
something we get to in a sec on but we
inject roots go up in here discount is
an attribute that's defined and it works
what did the perimeter was ripped open
so this is this is an angular on a part
of angular called dependency injection
is the way that you deliver required
resources into your modules so instead
of say you needed this root scope and
you were doing something like common jsu
could do equals some of my roots go it's
the way angular handles dependencies is
that you specify them in the parameters
of your function okay cannot type yes um
although angular yes it's a JavaScript
object okay cool sorry on so actually
it's not assigned to the window object
so we can't really like pull it out but
we can do something like console that
log let's go and so it is a JavaScript
object but angular assigns a lot of
other angular helpers to it
cool so let's actually create our own
scope now instead of just using a root
scope on and we'll do that by to finding
anything defining an actual controller
so we do this let's create a div and
we'll use this directive called
ng-controller on and what ng-controller
does is among other things it assigns a
scope that's only visible to inside the
controller and it allows you to package
your logic up into into the controller
so we'll do something like home and
we'll define the controller here and
we'll pass a function this is going to
be the controller function and we'll
inject into that function the scope and
because it's not root scope anymore
which is only used by ng-app on all
other scopes are just refer to as scope
so we can do scope here dot discount is
our just found again and let's also do
the price so we have no hard coded stuff
in our template and we'll put all the
prices in angular and an angular
expression to
well so we go back here should stay the
same great all right now we have a
control we've we've covered the sea in
MVC I guess let's go on to okay so we
we've assigned values to scope and those
values are output into the template we
can also define a function on scope and
that functions output will be outputted
into the template so discount the price
can be a function so we can take this
logic out of the template and we'll take
this guy and put it in here on in the
template you don't have to fully qualify
your variables with the scope because
it's assumed their attributes on scope
but in your controller you do so we can
do something like that and the output of
our function this kind of data right
there
on something that you'll do really
frequently in angular is you'll have an
array on your scope so I'm just going to
paste this in here and I hope cats is
not too trite of a thing to use for tech
demos but uh cool I and when you're
dealing with arrays on your scope what
you're going to want to use in your
template is something called ng-repeat
which is sort of like a for each loop in
angular but what it does is if you do
something like cat and cats it will
repeat as you would expect for each cat
and cats and it'll copy this element for
each of those elements and the the
variable cat in here will refer to the
current cat to it's repeating over
cool um so I'm going to spruce up the
CSS now with some simple styles I think
we can I'll be bright here if you want
to if anybody has any questions or I'll
just copy and paste styles and we'll
keep going yep I know it actually is the
so this is this probably would be
helpful if we inspect this the outer
element is the one that's repeated here
does that answer your question you all
right yeah I'm so it's just for your
controllers for your services for your
directives most things in angular you
can inject your dependencies in so if
you define a service and you want to
inject that service in your controller
all you have to do is define an S define
its name as a parameter to your function
I'm an angular will will read that name
and inject that into the as a parameter
so a very low resolution I'm not sure if
I'm so let's say you have a I'm actually
not sure I we can try that I yeah i'm
not sure scope if root scope goes down
into the lower scopes
oh cool okay cool well so scope will go
down into lower scopes unless you're in
a directive that explicitly isolates its
scope which we'll get to at the end with
directives um cool I sorry I didn't even
do the styles let's see the styles i
will just classed cat
let this link our header cool i'm going
to put a stock foot of a cat with every
cat so we can see it yeah okay we can
see this retaining
doesn't look like it's picking up the
style that CSS that it oh sandy did
Styles not style here we go cool all the
cats next to each other oh you know what
I also needed to put this container ID
on here aside to find a bunch of styles
on there okay we're all good now okay
awesome one of the tools that you can
use which I've heard is now maybe
frowned upon but still works is this
thing called angular JS Batarang on I
think that's the reference to the Batman
Batarang I but what you can do something
awesome you can do is inspect the scope
of the current controller in here this
is our root scope this is our controller
scope which will see the things we
define and then each of these scopes is
one of the entry repeats that we're
using down here which also defined their
own scopes um but I guess as we saw
before scopes yeah get inherited into to
lower scopes was it what sorry yeah Oh
front so I posted this side I I post
this on reddit yesterday somebody said
that angularjs Batarang is not going to
work in the upcoming versions of angular
on so it works right now but according
to to read it it's not going to it's a
reliable source as we all know cool okay
so um we have one page that's awesome
let's make another page for ordering
drinks um so originally routing was
built into angular now it is not part of
angular you have to require this other
module
called angular route and we'll put this
right below our angular tag here I think
angular is trying to be more modular and
they're trying not to be a giant like
block of jas that you include they're
trying to it's supposed to be more like
pick and choose do whatever you want um
so we have angular route included in
here and because it's an external module
we have to say explicitly that we're
including it so ng route is the name and
now we'll have access to everything that
it provides the way you set up routes is
in the angular config function which is
run before everything else in your app
and you cannot inject anything into a
config function except for things called
providers which we'll see in a sec this
first thing I'm going to do is setting
html5 mode is true if we don't set this
angular is going to prefix all of our
routes with a hash bang so like orders
smell like that on if we set it to true
it'll do it in true html5 mode on and
let you do rats seamlessly um so to
define the first route the route that we
just created we route provider dot when
and when is a chainable function and
we'll chain it in a second but right now
we'll just do our first route the first
parameter do this is the route and the
second parameter is an object
and here we'll pass our controller name
holding control and the URL of the
template that we're using and right now
we don't have a home now HTML so let's
take everything in our home controller
here it's kind of messy right now and
put it into a new file called home HTML
we're not going to need this anymore the
home controller and we're going to put
something here called ng view which
comes with angular route or edgy route
an NG view as you might guess is when
you're on this current route ng view
assumes the role of the controller so
it's as if like ng-controller is
attached to it and anything in this
template URL is injected into here cool
um so if we go back everything should be
in working condition cool so let's
define our second route hope will define
orders in our apt is so I'm just going
to copy this and make the route orders
we'll just have orders controller I love
orders that HTML i'm going to make ors
dot HTML and just put like a stub h1 in
here and in this same file let's define
orders controller
I will pass scope into it again and
we'll just stub that out as well so now
when we go to orders angular will pick
up orders that HTML that we defined in
the orders controller that we defined
right here um I guess the last piece in
our initial routes is probably to define
a navigation so that we can actually get
to where we want to go yep oh I i
created a stub file here it just has the
h1 in here um see orders um I guess we
probably shouldn't have this h1 in our
home controller we should probably put
it out here sorry about that that's uh
will have this h1 on all of our pages
and then let's put a nav here um and
we'll have an a that goes to home just
the route and then we'll have our orders
which will go here and angular whenever
you are using routes and angular you
have an anchor like this and angular
we'll pick this up and before it gets to
the browser to request a page load
angular will I like load the page within
itself and that's sort of where angular
being a single page app framework comes
in that's also if you're using ng route
you sort of have to go full single page
app um because angular doesn't know when
you have these anchors whether that
route exists or not so if we do have
like like cats or something but we don't
have that defined angular will still try
to load that route and fail so there's
no there's no fallback built-in you have
to sort of hook into that and build it
yourself on so we have this is now let's
check it out oh here let's put it in our
container cool there's our orders that
HTML with just the h1 and our homepage
cool let's go to orders okay so we've
done Evie and the sea let's do em in MVC
and I know angular might not be fully
MVC there might be other letters trying
to get into that acronym but for the
sake of simplicity I just consider it a
beauty so let's um will do instead of
like what we did close this on instead
of doing the scope cats let's actually
put it into a model where the data
belongs for orders so let's do dot
factory which is one way of defining a
model it'll be called orders I we're not
going to inject anything in this model
but if your model is communicating with
your server you're going to want to
interact something like HTTP into it
which is angular's utility for
communicating over HTTP um so in here in
a factory what you do is this outer
function defines an object which has
which acts as your the object that's
going to become your model and you just
have to return that object and whatever
you do in here you can add functions or
methods and configure your
your model so we'll do orders dot ad
actually first let's set up our internal
state so orders it's just an empty array
um well actually let's add let's add an
order in there so we see something when
we put it in the template so we'll make
words that add a function that takes and
order and this will just do da push
order and we'll do another method order
at all which we're about to use and that
will just return all of our orders so
we've defined our model let's inject it
into our controller so we've defined the
orders model is being named that we can
use that name up in our orders
controller and inject that model in so
you can do something like that an
angular will pick that up and checks
whatever object we define down here into
our controller sorry oh what a watch
this Oh factory okay so a factory is a
way of creating models on and I'm
guessing it's sort of like the factory
pattern where we you have this function
in the outer you pass it this function
this function sets up an object that's
returned and the object that's returned
here is the model that you can inject um
hopefully that's better explanation
um yes it's actually it's treated as
when you're using models in angular they
are Singleton's so if you change if you
inject it into a controller you have
another controller and one changes
something it'll be reflected in that
other controller immediately do okay so
in our auras controller let's have
scoped orders and we'll use order all
orders not all to return all of our
orders and then we'll open orders that
HTML and this do the same thing that we
did with the ng-repeat before and just
output that order here um so since we
already started with latte and our
orders it should show up on orders page
ooh okay um to which I to all um so for
energy repeat where can you ask um yeah
yeah I mean oh is that the question that
I for Alex's question you can access the
iteration count with index index is a
variable that's available to you inside
and into your people just it'll just be
the index oh yeah exactly would yeah but
I don't know if that answers your
question
um I guess then would I guess would you
need an energy repeat for that couldn't
you just do something like or three
something like that or to it here yeah
maybe 20 or 30 micro center square or
less than 50 so use it in a more
powerful way right yeah um what you can
do with ng repeats is that if you want
to modify the array before it's passed
into this ng-repeat you can use a filter
which we'll get to in a bit but
essentially filters are kind of like
modifier fear for your directives so you
can do is like you can define a filter
that's like third um and that will be a
function that takes in an array and
outputs the third element or you can do
something like reverse which will just
output them but reversed does that
answer your question I don't think
reverses built-in um cool so we did it
or is that all we did our ng-repeat um
let's dive into 28 deigned up data
binding and using form elements which
orders yeah oh this money let me just
close this okay so disorders right here
right so it has to match the factory
name or else angular well know what to
inject a weird visit to when I look at
is like that's an argument name bar
you can the way angular does dependency
injection is sort of magical what it'll
do is it'll take this function you pass
it and run to string on it and try to
parse out the argument names if you want
to use a different name for your
parameter you can pass an array to any
of these functions and then define the
actual names like scope orders and then
you can use literally anything here and
the order will be maintained so that if
I unless I dance around yeah yeah these
these strings have to match the factory
yes this is useful for minification if
you want to use on there's a utility
called ng min which will all romantical
e do this if you're minifying your code
but if you can't use ng min your tool
chain you're going to have to define
your controllers like this in this array
style sorry not controlled you're gonna
have to define everything that uses
dependency injection with this array
style
require it
like that on so this is you can do this
if you're using a utility called
browserify on this utility though isn't
built into the browser so this is just
angular's way of getting around
dependency injection injection is
angular's sort of module system there
are others like browserify that allows
you to use require in a bloodhound we
actually use both just because that's
the way it worked out so let's go back
to what we had okay cool um I'll let's
do to a binding okay so usually to add
something the general goal here for this
segment is we're going to add something
into our orders using dot add um so to
start out we're going to have this view
order which is going to be a string I'm
in our template the orders HTML we're
going to define this input on we're
going to use this utility called ng
model or directory called ng model on in
in in ng model you place a variable
that's on your scope like in the order
um and like one way binding anything in
this controller this empty string now
will be reflected in the template um but
because we're using ng model which
allows you to do two-way binding any
change in the template will go back and
change the controller so if I put like
if you type something in this input
it'll be reflected in here um so let's
test that out with the angularjs
Batarang oh oh it had to real itself
okay so this is our controller scope
here we see the orders latte and the new
order is playing if we start typing on
in here it will be reflected on the
scope object the one we defined up here
on so I guess the next thing that we
need to do is have a button it calls a
function on our scope to let it know
that we're ready to put that string that
we populated into the orders model so of
a button and we'll use ng-click which
does what it says it does and you pass a
functioned ng-click or an expression and
when it's clicked it will evaluate that
so we'll do a place order as our
function which is referring to something
on our scope which will define scope top
it's quarter cool and what place order
is going to do is it's going to call the
model function add and then it's going
to reset new order back to a blank
object so let's just copy that in and
then we'll call or first we'll call
orders add and we'll pass it the order
I'll space this out a little bit so we
have ng-click is place order and place
order is here so let's try that out oh
you know what
need to have some text okay let's go
another go orders since here and then
our controller function puts it in this
order's object and then deletes or
resets new order so we'll watch that
happen while we're inspecting the scope
cool on awesome so I'm going to add this
to our style study stylist of CSS so
that the input spans the entire wit so
it looks nicer and then we're going to
turn this form into a real form so we
get a little a couple more utilities
which I'll talk about in a sec so let's
put all this is it into a form tag and
we'll turn this button into a real
submit button
I want this whole energy quick actually
sorry we don't even need it to click now
I okay so our input our submit button is
going to say place order on and we don't
have to put a click handler on that
anymore because we can put it on a or a
directive on form called ng submit and
this allows us to if we have a submit
button when it's clicked it will submit
the form and also if you're focused on a
form element if you press enter it'll
also submit form then so it gives us
that too and another thing that you can
do on when these are these are in a real
form is you can use angular's built-in
validation methods so you can do
something like ng mid length is 3
because we don't want any short orders
here and then this will be reflected on
on a scope variable that will define
what is named the form and when you add
a name to a form element what angular
does is it picks that up let's do like
order form it will pick this up and it
will assign it to our current scope so
that current controller scope will have
scope down order form right there
waiting for us and that'll be on an
instance of that for a it will allow us
to access this form and whether it's
valid or not so if we open up our fjs
before we actually add the order we can
do something like if scope order form
this name that we define here dot valid
which is something that is on Form
objects in angular
I there's also invalid which is just the
reverse if you like to be contrarian we
can return an alert or something I like
that so we have like a two word order
oops didn't work oh yes thank you there
okay cool
there we go and there are a bunch of
other form validation directives that
you put on inputs and form elements that
all link up to form not valid form that
invalid now let's get into filters
before we saw that you can assign
something like a like a reverse filter
on here I filters a lot of times I've
seen are used for string manipulation so
let's say we have our home HTML we have
price here but because it's a price we
always have to remember to add this
dollar sign and there's a chance that it
could round to a lot more decimal places
than prices usually are um so this is a
good example of where you might want to
put in a filter and we can put something
like US dollars here and define a filter
that automatically parses US dollars and
outputs them in the right format
so in aptos we can do dot filter and the
same name that we used in the template
into filter you pass an outer function
which returns an inner function and this
inner function is what I what this
string is run through so it takes a
string and it outputs a string the outer
function is on so that you can set it up
if you just had it like this um you
wouldn't like it for example i'm not
sure if i can think of an example sounds
like a factory first one yeah yeah this
yet this is as you said it's sort of
like the factory model where this outer
function returns the function that you
want to use so for instance if like if
the filter differed based on what the
like window.location is then you could
return a different filter that's
something like that you can return a
different filter based on um like what
the conditions are when it's being set
up so for this we'll just do what we
said in prefix the dollar sign and then
um we'll course this to a number so that
we can run to fixed and this just rounds
the number 22 variable to two decimal
places so if we go back and check out
home we'll see that that that is what we
wanted to wanted it to do
odd so yeah I guess backends come in all
shapes and sizes in the interest of time
usually I guess you would use the HTTP
utility to connect to your back-end if
you're using firebase or you don't have
much time left in your talk you can use
this utility called firebase as you're
back in on you can include these two
scripts one of which is just the regular
fire based client and the other is
called angularfire which is an adapter
that you can inject and we wrap so yeah
to enable a back-end / real-time
communication we can put this in here
add it to our apps dependencies so we
now have it's getting kind of crowded
here firebase here we can define a value
which is sort of it's it's what it says
it's some value but it allows it's sort
of like a very it's like a primitive
model you're going to define this value
here and then inject it into any
injectable area like that on and the
injected object will just be that value
and then what we can do is we can
replace our entire orders factory
because angularfire supplies us with all
these methods now and just return delete
this and we can just return this newly
instantiated firebase object which will
take care of all of our crud operations
for us well and then to get that to work
with our controller instead of doing or
is that all we just do orders because it
now will just return the array of orders
instead of orders that ad
we have to prefix it with a dollar sign
because that's how our angularfire does
things angularfire is uh you've heard of
firebase on it's an adapter that sort of
shims a shims firebase into the way
angular treats models so it allows you
to sort of inject models and use them as
if they're inject firebase models if
they're regular models um cool so the ab
function it takes a because this is now
an asynchronous call it takes a call
back and we'll null out our new order
only after the call that comes back um
cool so now that we have that in place
let's go check this out we have more
scripts now and we can do something like
oh no oh thank you I hope here Oh into
the factory okay cool thank you oh um oh
yes thanks again maybe you should be
doing this okay let's go to orders and
then cool hope it's not knowing that out
on this is something that I was very
perplexed by when i started with angular
and that um is not well described is
that when you're dealing with callbacks
on any any method that's any method
that's called on scope will trigger a
redraw or a rear ender of the template
and you're dealing with callbacks this
goes out of angular's view and angular
doesn't know when the callback comes
back and so it doesn't know when to
rerender the template so we have to
manually rear-ender
by calling scope dot digest and that
will the scope did change but the
template did not because angular didn't
know to do a digest loop I mean do
something like okay and it'll do the
digest loop nap after that and to
demonstrate angularfire if you also want
to access this page and do the same
thing you can go to this URL I and if
one person goes to it and as an order we
should be able to see it pop up here if
it actually does show up okay cool
just ask rolled it down it's cool nice
on so this would annular fire provides
for you pg-13 here cool the last thing I
was going to cover his directives we've
been using a ton of directives and the
real power of angular comes out when you
can define your own directives it's like
interior yeah ng repeat is directive
what the power of angular is that it's
sort of defining the superset of HTML
using elements attributes class names
and comments that you can use for
functionality that's greater than just
like basically html5 um so I for
instance like if you wanted to if we
really wanted a lot of people to come to
this cat cafe the fast Hornet cat cafe
um we might think about using the blink
tag to make this more prominent our
discounted price on but once we realized
that the blue tag was taken out of
browsers we with angular we would be
able to re-implement it ourselves so
let's do that we'll go back to F jjs and
we'll just do dot directive and I hope
that when defining these isn't like
overly confusing you can define things
in angular by just chaining it onto this
module command um but if we wanted to do
it line by line so it's a little bit
easier to like copy and paste we can
just do app config a nap duck value and
everything like that hopefully this
isn't a really confusing
okay i will now hopefully it's a little
bit less confusing so in directives you
if we really wanted to we can inject
like our orders and hear anything that
we could inject before but since blink
is pretty simple we don't really need to
do that on and a lot a lot like the
other stuff that we did this outer
function is just a setup function that's
called once and it returns our directive
which is just an object of
configurations um so let's go through
these configurations directives can come
in many shapes and forms a lot of the
ones that we've seen are like let's go
to like home ng repeat which is a
directive that comes as a tribute
directives can also just be elements
like this they can be in classes like
that and they can also be in comments
but classes and comments are not a very
common way of using directives the
built-in directives are prefixed with ng
I think in the docs it says that you
should prefix it with something so that
it doesn't conflict with other people's
directives or with HTML stuff because it
is a global namespace so in here we'll
just restrict this you can restrict
directives to only be used in certain
ways and bypassing restrict with the
spring e in it that means it can only be
used as an element on as the true blink
tag should okay let's do next one is
trans clewd um and this is where angular
like to get a little academic and its
terminology on but transcode is
essentially it means um if we're let's
put this here our end goal is to have
something like blink
and put something inside it trans clued
essentially means it'll take anything
that was originally any children that
were originally inside this directive on
and out put them in the the final
directives children so it'll just take
take whatever's there whatever scope it
has and then output it afterwards on
like say our blink added another span
here it would add a span but preserve
all the children which is what transfer
does and this is that's what we use
because we want the stuff that we
originally passed in the blink to be
blinking so trans cluding true and then
the next thing we need is our link
function which is called when angular 1
angular sets up the directive and this
is past scope object the actual element
and the attributes we won't use these
parameters though on and then well I
guess first when you set up our scope
variable we'll just call it visible and
this will be the data this will control
whether our directive is visible or not
and then we'll use a set interval call
and say like every second we will just
head scope down visible to false or
negate it
and because this is a because this is a
callback function in angular doesn't
know when it returns we have to manually
call scope digest this actually is on
this was the original way that I was
introduced to this but angular has a
utility called interval which wraps set
interval and call scooped up digest at
the end so we can just use that okay
yeah it'll take it will take all the the
current state of the controller and then
render the HTML with that on I believe
for every time you call digest yeah I
believe that will only render it once um
angular has a way or at least it's it's
sort of secret sauces that it does this
checking of your scope variables and
what they change it'll call digest
automatically on but stuff like a
callback function will not trigger that
digest well and then the last thing we
need is the template of our blink tag
which will just be this ng trans clued
just tells it take any children that
we're originally excited and put it
inside the current element that shrinks
the energy transfers on and this ng show
takes a scope variable which we defined
its visible on and it'll show if that
evaluates to true cool
so it's that oh no it's not blinking up
because we haven't actually put it in
the template so let's put it in the
template ah alright so this is a steal
so we really want to emphasize this link
tag there we go well and that's about as
much time as I think we have um that
should be enough to sort of scratch the
surface with angular and if you're
interested in it on you can refer to
this or many other awesome tutorials to
learn more on just to wrap up I go I
have to go over Oh Bloodhound is looking
for an iOS engineer so if you know any
let me know or you you have my content
to info and yeah that's it thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>