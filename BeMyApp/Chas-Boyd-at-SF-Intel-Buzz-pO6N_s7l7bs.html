<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chas Boyd at SF Intel Buzz | Coder Coacher - Coaching Coders</title><meta content="Chas Boyd at SF Intel Buzz - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/BeMyApp/">BeMyApp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chas Boyd at SF Intel Buzz</b></h2><h5 class="post__date">2015-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pO6N_s7l7bs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay that's me
fine we've been that part yes I've
worked on directx
for a very long time starting in 9995
with direct 3d version 5 I think we'll
see that in a bit but this this is what
I would call a piece of silicon
everything that we do in this business
is really based on and technology that's
enabled by the the work that Intel does
here for example which is they take a
piece of sand and they carve it up until
it's worth five hundred dollars so in
this case we've got what we'd say as a
chip and when I started in this business
we had a certain number of gates on that
chip and then every two years for the
last 20 years someone has come along and
shrunken that chip to where the area can
sue it takes is about half of what it
was the previous generation and then
they did that again in two years and
what question is what do we do at that
extra space while we fill the back up
with more transistors okay and then
another two years we did the same thing
we shrank that down this fabrication
technology basically revealed for us now
another factor of two of transistors
that we can now decide what to do with
and then we did it again fill those back
in with a new set of transistors and we
went through this since I have started
about ten generations now so we've
achieved basically two of the tenth
increase in the total number of
transistors that we've got to use for
our digital technologies and that little
yellow yellow square in the middle is
basically the chip size in terms of
transistors when I started directx 5 20
years ago and so now the question so
everything we've done since then has
really been taking this continuous
stream of technology in the form of the
transistors and then channeling it out
to our users every person in this
business is effectively trying to take
that innovation that's coming out and
from these fabrication plants and form
of transistors and turn it into a
package that people will actually pay
money for so whether you're a game
designer or a graphics technologist or
you know someone who's arranging these
gates we're all part of the same stream
that's flowing these technologies out to
users in the way that that as ideally
going to be as attractive as possible to
them and so this stream of innovation is
basically built up an ecosystem around
it of a large number of companies all of
which are participating in this like
Google and Facebook everyone is really
tapping into this primary stream of new
technology and funneling it out to users
in ways that they think will be the most
attractive to those users so that's
really the battle how do we decide what
to do each generation with the new batch
of transistors that we have available to
us as an ecosystem and for example do we
spend a bunch of them more on on
processors and CPUs do we spend the mine
on GPU cores that we can use for games
do we put the USB controller stack in
there now so there are joysticks and
game controllers are more efficient you
know these are all the questions that
all of us as an ecosystem are working
with all the time and so the thing I
want to make clear is that this is not
something where the people who make
chips go and say hey we're going to do
this because we feel like it they
actually look at what the customers want
the objective is to turn these
technologies into something that
people's people will actually pay money
for and so they found that people will
pay a lot of money for games and as a
result the silicon manufacturers have
been allocating increasing fraction of
the total budget of transistors that are
generated each process cycle to game and
graphic oriented technologies and that
is really because of the people in this
room choosing to focus on those
technologies and provide them in a way
that's packaged to end-users that causes
them to increasingly buy more and more
of these these transistors in the form
of games and the pcs that run them in
phones and other devices so it's a
two-way street it's not just us
accepting the stream of technology it's
us helping shape the direction in which
it flows helping decide where that
technology is going to focus
so the way it works in in the digital
business that I work in there's an
entire stack as part of this ecosystem
of people who are contributing to this
decision making the silicon process that
we've already talked about Intel's
really great at Fabian silicon there and
they they give us this new technology
every year but they they have to work
with us to decide exactly what shape
those those atoms on that die should
take on top of that they provide a
driver which is basically a piece of
software that helps their silicon become
comprehensive all to the higher level
layers that are above and also make it
work consistently then typically there's
an operating system on top of that that
the driver interfaces with and in our
case we have direct3d for example as an
API that runs on the operating system
with its own runtime and then there's
this thing called a game engine like
unity or unreal and then on top of that
is why we're here today all of these
pieces and all the different companies
that contribute and deliver each of
those parts of the stack are all
participating in this process of how we
flow this technology out into the
customer who at the top of the stack is
actually the one who pays for all of
this so where does direct3d fit in it's
that middle API layer its primary
purpose is to create a common interface
that allows really fundamentally any any
game can run on a variety of different
chips or conversely any chip that ships
can have a lot of different games that
run on top of it that's the value that
we fundamentally add and so every year
when we when we have a new cycle come
along or a new generation of silicon
come along we have to make design
decisions about what we think those
transitions should be allocated to and
we can either spend them on new hardware
features which is obviously just
directly changing the silicon and asking
the silicon vendors like Intel what what
can they do to make this chip work
better in terms of moving those
transistors around we can also focus on
improving the program ability of our
products so that the new developers for
example have an easier time to create
the products that our customers
initially pay for or we can actually
just focus on performance optimizing the
architecture of the stack that we've
just described here to make it so that
Richard games can be created and so this
this decision has been made like I said
about 10 different times during during
the last 20 years of DirectX and so when
we first started we had basically a sort
of a sprite blit engine went in directx
one with direct draw but then over that
time we've added these new features
we've added new versions of the API and
this last version DirectX 12 has really
been one of the ones where we spent the
most time focusing on improving the
performance axis of innovation where
we've been any Nabal occations to get
access to the hardware at a much lower
level basically DirectX 12 is the most
direct directx we've had so we're
working with all the vendors we're
working on all the devices and we've got
a really good focus on tools this time
the fundamental result of this as far as
impacting you guys is that people were
creating a mobile game are playing a
mobile game will be able to play it
longer because the API is more efficient
more effective we've also improved
things that enable you to create more
complex environments even on the same
piece of hardware the efficiency over
all of the API lets you create more
sprites more objects more characters or
put more rich to appearances on top of
those and then we've also made it so
there are fewer glitches the frame rate
that you have when you're doing
animation will be a lot more consistent
and then because we've optimized for the
CPU performance especially inside the
driver that leaves more CPU for you to
put in things like game logic unless
less of your chips are going to be need
to be spent on graphics performance and
then yes there have been some
improvements on the way the GPU works as
well but those are probably less obvious
to a casual game developer
okay so the the challenge here is that
the API because it exposes more directly
what's going on on the hardware actually
can be trickier to use and so what we're
seeing is that it's really something
that's ideal for Engine developers their
companies are teams of people who are
very very good at using the hardware and
our API lets them do that very directly
it lets them take over more control of
things that they used to be unable to
access that the driver used to have to
do or the API used to have to do and so
if you're using an engine like this all
you'll see is really better performance
if you're working on an engine yourself
then when you when you use the x12
you've got a bunch more optimizations
that you can now perform to take
advantage of the low level capabilities
that your API are now offers yeah so
this is just a list of some of the
features i talked about these at a
previous event there's a lot of
information on the internet now the dev
lead for DirectX three DirectX 12 max
McMullen has given a series of talks
gotta slide on the end I'll show them
all that outlines the results of each of
these efforts that we applied I'm just
going to highlight a few of them in
terms of what they actually mean for
game developers especially on the casual
and mobile front during the rest of this
talk so just a couple of the ones i
selected here are these first three or
four the first one this concept of
programmable shading is something that
was an idea that that we had a long time
ago back in almost the x5 timeframe like
how can we give the programmer more
control of the platform and so that
involved you know a very pervasive
change to the stack we had to talk to
the hardware vendors get them to change
their silicon add more processing
capability flexibility inside the ALUs
had to come work with the driver writers
and say basically okay guys you used to
think you were just poking a bunch of
registers well now you're going
you're going to potentially be compiling
code and i have to say when we first did
that a lot of people were very scared
you know having a piece of silicon that
wasn't the cpu doing runtime compilation
has it's actually worked out that's
that's the good thing to say so I think
that's those first three are the ones
i'm going to talk about today and we'll
get right into that first one so before
we had programmable shading more
inspector saw this last time that's
Ultima Underworld there's no GPU
involved the text the textures on the
walls actually shimmered in shrimp
crawled because they weren't perspective
correct but it was a full-on 3d
immersive environment one of the first
has ever been completed but after the
directx process we iterated through that
basically annual product releases up
through 2003 or so we delivered the
technology that I think this is the
source engine might magic franchise
title and you can see basically the
level of fidelity that was delivered by
that process now and really that was
that was basically a consequence of us
convincing the entire stack of
participants in the ecosystem to support
this concept of program while shading
now for dx12 this concept of multiple
cpu parallelism is really one of the key
innovations the interesting thing is
that intel on the other processor
companies recognize that they needed to
go to multi-core 7 10 years ago and so
we all have quad-core machines but it
turns out that most games today really
have a very tough time spreading work
over more than two cores typically I
mean there'll be one for graphics and
then one for everything else like
networking and gameplay and AI and audio
and sometimes they can maybe spread
those out over two or three cores but
the graphics always had to be on one
core until dx12 and so now there's
actually a reason to have more than more
than two cores really there can
really exploit the capabilities of a
quad core machine potentially use even
more so as you can see how this works
the this green bar the app logic is all
that stuff I talked about audio AI
gameplay and it's relatively easily
distributable across the processor
course but under dx11 the graphics which
is that top bar pretty much consumed one
core and then all the others had to wait
but with 12 we're able to distribute
more of the graphics across all the
cores as well and the total frame time
just drops massively and the implication
for you guys is well really it boils
down to thermals your cell phone game
can run cooler because it's using four
cores at a much lower heat level than it
would it would if it just ran one core
it's it's because of the way clock rates
dynamically adjust okay the other big
change in directx 12 was reducing the
CPU API overhead that's really a work
that we were doing inside the US and the
runtime and inside the driver and we
basically just deleted at all we moved
rendering commands to be offline
compiled on separate cores we let you
specify resource dimensions in a much
more flexible way that doesn't involve
as much validation by the GPU driver and
made it simpler and more explicit
exactly where there's a where you need
to synchronize access to a particular
resource and there is even some further
level of parallelism that we'll talk
about in a bit so the result of that
this reduction the API overhead can be
shown by this benchmark that 3dmark
that's the added a new test to 3dmark
the future mark guys updated it to
basically validate draught number of
draw calls per frame and so what they do
in this case is they have a procedural
sort of city block generator that
creates you know cities obviously and
then they call that a huge number of
times to make increasingly detailed
and the number of times they can call it
is substantially better with DirectX 12
we saw numbers in that case for that
scenario of about 10x if you're mostly
limited by the number of objects that
you're trying to draw in a given frame
you can increase that number by about 10
times and this is another example of the
same sort of scenario this is ashes of
the singularity where they're showing a
battle with a large number of units well
this isn't really the whole number of
units as you zoom out you'll note that
the number of units visible on in the
world can grow substantially and they're
all still rendered every bullet every
laser blasts every smoke puffs is
another draw call and so that means that
that we're able to portray scenes of a
complexity that we're just not feasible
before DirectX 12 addition additionally
out of this command called execute
indirect which lets you even even more
effectively batch up a larger number of
draw calls and send the myth them all
with one effectively one transaction
across the API that results in yet
another factor of of integer multiples
and performance on top so what this
means for for in as I mentioned earlier
is that you can now have more sprites in
your game you can have more objects more
characters more clutter more more decor
and then on each of the objects in it
you can have more textures more
materials or bump maps whatever and
still run at the same frame rate okay
now this there's another one more
feature I wanted to highlight which I
think actually something Jon Peddie
brought up this morning which is what
what we've done in directx 12 is we've
basically busted open the GPU and expose
the fact that it's actually comprised of
multiple separate processor elements
inside and each one of those can be
independently now programmed in the same
way that the GPU as a whole was
programmed under dx11 this slide
basically shows that you'd have a single
GPU you can create multiple threads of
work to sign your CPU tasks too but you
only could have
when effectively that was driving the
GPU with dx12 the GPU has been
effectively exposed as being comprised
of these different processors and so now
those of you who are really good at
multi threaded CPU programming can now
do multi-threaded GPU programming as
well and so for example you'll see these
copy engines those are cores that you
can submit work to you can create a
command buffer sign it there assign work
to it it'll do copy operations
completely independently of anything
else that's happening on your machine
you can be hauling stuff textures up
into memory in the background or writing
stuff out in the background without
affecting the operation of the other
cores on the die other than potentially
contention for memory and then what we
also done is we've exposed the these
these individual processors within the
GPU as also effectively separate
processors we we basically said okay
this said here those are your 3d
rendering processors and then we'll set
another set of those and say okay these
are my compute processors and each one
of those sort of groups of processors
looks to the application like a single
processor that has its own command queue
and effectively that makes this GPU look
like a dual-core system then that's got
a set of compute processors and it can
set of graphics processors each ones
that i can create my own command queue
for and so so this chip now that used to
have only one processor on it basically
a graphics processor now has three its
guts n copy engines and a compute engine
and a graphics engine all independently
controllable and you can you can you
provide a current level mechanisms that
you synchronize the work between those
and distribute it across them a very
efficient way now it's it's not easy
it's just as hard to do multi core
programming of your GPU as it was to do
multi core programming of the CPU but
again a lot of these engine guys have
been doing that for a while they're
starting to make it work really well and
they want the option to have that level
of control over the innards of the GPU
as well
each one of these engines can have its
own command queue when we say Q we just
mean a port via which we guarantee
sequential operations occur there is no
such thing as jumping to the front of
the queue it's not that kind of a queue
yeah and we have semaphores and fences
that can be used to control the
scheduling of those relative to each
other so the one example of using this
is things like you would do a sort of an
SLI or a multi-gpu scenario we've done
prototype using an Intel system where we
have one of the processors in the
machine doing most of the three scene
rendering then we have the copy engines
take that 3d scene and send it over to
the other GPU asynchronously and that
means that as soon as the copy engine
starts that copy operation that first
GPU can start rendering the next frame
immediately it doesn't have to wait for
the copy to be done and then when the
copy arrives at the second GPU it can do
the post effects it can add the blurs
and the glows and the particle
animations or whatever else we need to
do at that point and get a net
improvement in frame rate that way in
fact the way we see the improvement and
frame rate just depends on how fast the
two GPUs are relative to each other if
they're both about the same speed we can
get like a fifty percent speed up and we
do have a prototype of this but we're it
should come out as a sample hopefully in
the next month or two
okay so these are really the net
benefits and the thing I want to make
clear is that even if you're not writing
this code yourself you're still going to
get those benefits because here's the
final side if you're an a a developer
you can use this code directly you can
write an engine you can update your
content to explode these technologies
directly if you're sort of a mid-tier
person and you don't want to get into
things like multi core programming
either on the cpu or the GPU we still
have directx 11 we added a bunch of
functionality to that it now has a lot
of the heart the hard core capabilities
that dx12 has in terms of a fixed
function logic but the recommendation is
for most people especially in casual and
mobile is just go ahead and use an
engine because we've been working for
the past year and a half with most of
these Engine developers and getting them
to optimize their engines for DirectX 12
and so as long as you're using that
engine when that hardware that your
system is on when the chip is correct
when the engine has been updated your
game will just go faster now one of
things I want to point out is if you
want to start playing with this now
maybe you're working on a very simple
game or a prototype or something where
you don't need to have an entire engine
you can just start playing with the
samples we have the visual studio 2015
SDK up there it now automatically
installs the rightist SDK libraries as
part of the IDE it supports a bunch of
fun tools you can do things like editing
your GPU code directly in line like that
we have templates for the direct x and x
12 applications in the final new
projects menu and then we're moving all
our samples out on github so there's a
Microsoft branch of github with all of
our Direct X 12 sample code there the
thing I want to point out is if you go
on to this website channel 9 10 m sdn
calm and search for DirectX 12 you will
get an extremely detailed video
description by the developer lead
himself of all of the features in the
product in directx 12 basically as we
develop the
p I we shipped a few of the features
last GDC and then some last siggraph and
then some this GDC and some right now
and easy as each one of those sets of
features came out max would describe how
they work and so the total description
of the API now is available by just
watching those talks now when the other
things I want to point out for casual
developers is visual studio now supports
Android and iOS and we're working with
them we're working with the visual
studio guys to eventually get to the
point where you can create a single
project that builds for Windows Android
and iOS haul up the same files basically
so that should be helpful and the other
thing I want to point out is that when
you if you target the Windows platform
that that development environment
provides as well you end up being able
to span all of the devices that
Microsoft supports all the way down from
our windows phone tablets to and ones
laptops all in one xbox polo lens and
the surface hub so there's a universal
it's called the universal Windows
platform and if you stick to those api's
their universal your your same
application can run on all these devices
so it's may not want to put a game there
maybe you want to put your companion app
there that might be a an interesting
thing to do because you could create as
may be a more hardcore game for the xbox
but have the companion game be available
on all these devices anyway that's
really the summary of all this we think
the X 12 is going to help you set up
your game scale up your performance and
battery life improve approve your
richness of the world that you can
express to your people that your artists
can express to customers and then just
deliver an all-around better experience
over the next few years across all these
platforms and the other thing about all
this remember i talked about us shaping
the ecosystem well tell Intel what you
want to see in their chips tell us what
you want to see
the API and in the chips and we'll all
work together to try to make that happen
so thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>