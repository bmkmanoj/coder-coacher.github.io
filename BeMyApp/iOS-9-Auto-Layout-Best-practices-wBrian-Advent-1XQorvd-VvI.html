<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>iOS 9 Auto Layout - Best practices w/Brian Advent | Coder Coacher - Coaching Coders</title><meta content="iOS 9 Auto Layout - Best practices w/Brian Advent - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/BeMyApp/">BeMyApp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>iOS 9 Auto Layout - Best practices w/Brian Advent</b></h2><h5 class="post__date">2016-06-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1XQorvd-VvI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">baby my app today we have an auto layout
we'll be starting in a few moments so
she's getting ready we'll be starting
very shortly
you
so hi folks once again welcome to this
webinar series baby Maya again my name
is Fernando it is awesome having you on
here tonight we have or today we have
adamant right
I always instructed so Brian you have
the mic
thank you for nanda and okay everyone
today we're going to talk about Auto
layout and about best practices related
to Auto layout and actually there is
quite an interesting story behind that
and we are at the moment focused at
quite a few changes like working with
stag views so let me just quickly show
you in that window what we are going to
create today so here's a little demo
application where we'll just use auto
layout and stack views to arrange some
views on the screen and also we will
make it happen that by rotating the
device will actually get a completely
different layout we get different aspect
ratios for the views that we're going to
present so this is quite interesting
because we are going to do that
completely in code and that will give
you a deeper understanding of how
actually the auto layout constraints
that you can set work together so anthem
and not the other thing that we are
going to create today is a simple is a
simple layout like this where we have an
image view and we have some labels and
some text fields and a text view but we
will only set for auto layout
constraints to create this complete
interface my
just using the UI stack view that was
introduced with iOS 9 so let's just get
started with this little example here
and then we will move on to creating
stuff in code so I want folks if you
have any questions for Brian at the end
you just post it on the YouTube comments
section so thank you for endo so we will
move to the main story point now in a
second and if you're interested in
getting those code files you will find
them on my website I will give them to
you there in a zip file and you can
download them after this webinar so
let's just continue and you can follow
along if you want if you have any
picture that you want to insert here
just drag them into your assets folder
in Xcode this is just a single view
application template and we can we're
good to go and get started so the first
thing I want to do is bring up an image
view here so I'm just placing it here
somewhere I don't have to worry about
the exact position and I will give it a
square form factor by entering also the
same width and the same height and to
make things a little easier for me
because we have this view controller
here with the size of 600 by 600 pixels
which is not really an iPhone or iPad
size I can't click on my view controller
and choose the attributes inspector and
set the size to an iPhone with 5.5
engine that has actually no consequence
for your later app layout it's just for
us here in the simulator to make better
decision interface builder to make
better design decisions so what we can
do here is now placing the image view
somewhere here let's bring up a label
let's call this first let's bring up a
text field and just move it somewhere
here and I already told you that to
create this
look we won't set a lot of constraints
that means that we can just set this
quick and dirty to the screen here and
don't worry really about the width or
something like that so let me just copy
that
two times let's enter middle and last
year so this is what we have now going
to position if you're little and then we
will bring up a text view and Google
position that here make it a little
bigger and just to get it to be a little
more visible we will change the
background color to a light gray color
or whatever you like just so that we can
see it later on in the process of
creating some staff use for that layout
and last thing we want to do is bring up
some buttons just three of them just
copying it and pasting it one for save
you can actually write whatever you want
into them because we won't give them any
function but it's just a little nicer so
this is actually our layout in a quick
and dirty manner and what we want to do
now is creating a layout of stat views
and stat views were introduced in iOS 9
and we will have a look at them in a lot
more detail when we're working with them
so if we now select those two items this
first label and the text field that is
going to be associated with it then we
can actually place these two items into
a stack view and there is a nice little
control here at the bottom right of our
interface builder window right next to
the pen and everything else related to
auto layout and when I click this button
which says stack then I can then I have
placed both of my items into a stack
view and now it's interesting what we
actually get here in our
tributes inspector we get a lot of
things that we can adjust here like the
axis alignment distribution spacing so
first of all the access it was guessed
by X code already that we want to
position these two items horizontally so
it said it told our stack view that we
just created let me just bring up my
view control the scene here because this
it's sometimes hard to to click on those
on those stat views so as you can see
the axis was already sent to horizontal
and we will later see that extra door
interface builder automatically
determines what we actually want but now
let's change it to vertical for a second
and as you can see the stack view lays
out our two elements now vertically and
if I change that back to horizontal it
does it again horizontally and we can
specify for example a spacing of eight
here and this will move the text field
eight pixels away from our label and to
determine the size of these user
interface elements it actually uses the
so called intrinsic content size of each
element like for example from this from
this label its intrinsic content size
comes from the number of letters or
characters that are put into it so this
is our first step.you that we have
created and now we will move on and
create another set we have you with
these two elements so I'm just moving on
here to here and now we have three pairs
of text fields with labels and that's
already it very good and we can work
with them later but now we will also
place those three stack views again into
a stack view remember that these these
three pairs all where layout are laid
out horizontally but now we have
selected three stack views that are
positioned vertically right below each
other and when I click on stack then we
have another stack view and Xcode autumn
automatically determined that this
should be vertical so this is what we
have now this is our area of text fields
and also the area of labels and now we
will put this stack view and our image
view as you can see here I've selected
the stack view and the image view and I
will put this again into a stack view
and this was again laid out horizontally
so the next thing we want to do is
actually dealing with those buttons at
the bottom we will not touch our upper
stack view here for the moment we will
simply concentrate on the buttons here
so again I select all of them and by
clicking on the stack button they're
automatically put into a horizontal
stack view very cool and all we need to
do now is if you have a look at our
scene here we have our view and within
this view there's just our text view and
to stack views and now let's take all of
those elements and put them again into
one fruit stack view so that's it I will
now move that to the center here and now
we will set our first constraint and we
don't need to set constraints for a huge
amount of user interface elements here
but for this root view controller we
actually need to set constraints and if
you've never set constraints before that
doesn't matter you will learn that in a
second there are actually different ways
so what we can do is press ctrl on our
keyboard and select the stack view right
here and move it with control pressed to
our view then we get different options
for setting the constraints like a
leading space to contain a margin which
would be the space from the border of
our and from the left border of our
stack view to the to the container
margin which is our view but we won't
use that actually at the moment what we
want to use is this little icon here at
the bottom which says pin and this is
what I'm going to do i'm clicking on pin
now and this brings up this nice little
field with option
where we can add new constraints and
also they also choose if we want to
activate them with clicking by clicking
on these symbols so what I want to do is
I want to add a constraint to the top
which has a distance of 20 pixels
I want to activate those two constraints
would say which says that we want to
have zero distance between the left and
right content margin and a container
margin and we want to set a distance of
20 pixels to the bottom and also
activate that now if I just were to
click now on add 4 constraints then if I
did not position my view can correctly
then that would mean that I get some
errors or warnings but that doesn't
matter we can simply create or tell our
interface builder that we want to update
all frames in the container as soon as
we add all four constraints so I simply
click on add for constraints now and
this changes a lot of things as you can
see we there is no image view anymore
there is just our three labels with the
text field and our text view is gone as
well and this actually happens if you're
working with stat view at the moment
maybe in the future this is going to
change but you have to have just to
accept that that things disappear as
long as you did not enter the correct
information or provide the correct
information for the stack views so now
let's continue and create our user
interface a little better and make the
necessary adjustments so that our user
interface really works so to do that we
will start with opening up our stack
view here on the left and remember that
we have created three stack views for
our first middle and last name and we
will now make some adjustments to those
stack views so I will simply select all
of them at once and what we can do is
first of all check well if they're
horizontally laid out and that is the
case and then what we also want to
is for the alignment we can now choose
different options like we want we can
choose that our our elements in the
stack view should be aligned to fill at
the top center or at the bottom or they
can be aligned with the first baseline
that's what we want to choose here and
as you can see as soon as we did that
something else happened and our text
view and our image view reappeared
magically and we can also change the
distribution like we can choose fill or
fill equally fill proportionally equal
spacing and equal centering and we will
see some of those options later on but
what we can also do is add the spacing
and we want the spacing of all those
elements to be 8 so as you can see now
every element or every text field is now
8 pixels away from the label so the next
thing we want to do is actually choosing
the stack view which is which can so
these 3 stack views the first middle and
last name are contained in this stack
view and we want to make some changes to
these names stat view if you want to
call it that way too
so as you can see here it's laid out
perfectly vertically we wanted to choose
fill for the alignment and also fill for
distribution but again here we want 8
pixels of distance between each element
and as you can see as soon as I did that
for that single stack view the change
automatically applied here so this is
pretty great now let's choose the stack
view or our upper stack view which
contains the image view and also our
labels and text fields and what we want
to do here is also just enter a spacing
of 8 now we have a nice distance between
our between our text field between our
labels and the the image view and now
let's continue to the button to the
buttons at the bottom which we have here
and what we want to do here again is
change the alignment to first baseline
and this has no immediate effect
the layout here in interface builder but
what we want to do as well is choose
fill equally and that nicely distributes
our buttons here and we want to set the
spacing again to eight all right and now
the last thing we need to do here with
these adjustments is choosing our route
stack view and as you can see at the
moment the alignment is set to center
which means that all the elements
positioned in this stack view are
centered but we want our alignment to be
fill and this changes everything as you
can see here this makes a huge
difference now in our layout much more
resembles what we have seen at the
beginning so this is pretty great and
but we will also make the spacing we
will set that to 8 so that we have a
nice distance between all of our
elements on all of our user interface
elements so as you can see using stack
views might seem a little bit tricky but
the options that you have here are quite
easy to understand when you have a look
at leading and and centering and
trailing then you can see that if I
choose that stack view and actually
decide the alignment to be leading that
everything will be put to the left
or when I choose trailing then the exact
opposite and center you just you've just
seen that but what we want to do is fill
and now I told you earlier that we have
to set some constraints and you could
think about that for a moment what
constraints there should actually be
when we have a look at that picture so
actually these three text fields they
all have the same width and this is not
automatically determined by the stack
view as well as our image here this has
an aspect ratio of one to one and this
is also not determined by our stat view
so what we actually need to do is set
those constraints and we can do that
right here in our view controller scene
I will just open all of our three
views and what I want to do is I want to
choose the text field the first text
field and now I press ctrl and drag to
my second text field here and say equal
widths and now they are their width is
equal and I will do the same thing with
the third text field and I will also
tell it that our that the widths should
be equal and now we are again a little
step closer to our finished user
interface and now let's choose the image
view and actually press control and now
this is the third way to create actually
constraints user interface constraints
with interface builder and I simply
press control on my keyboard again and I
drag kind of dial a die in a diagonal
way here and I just choose aspect ratio
and if your image somehow got distorted
this happens when you have inserted an
image first
or if interface builder just wanted it I
don't to be a little different
you saw that interface builders
sometimes decides strange things when
working with stack views but if that
happens simply open the size inspector
and there you have now this constrained
and you can enter the the aspect ratio
by by changing by changing the multiply
here so you could mmm you could add a 3
to 4 or 16 to 9 or whatever you like but
we are going to work with a one to one
aspect ratio here so that just as a
quick hint and now I think we could
actually insert our food picture here I
already added it and as you can see now
at strands something strange happened we
have the aspect ratio of one to one but
the user interface doesn't look as
expected anymore and this is due to the
so called content hugging and the
resistance the compression resistance
that is related to Auto layout and we
still have to think about content
hugging and compression resistance
and if he has never heard that that
before content hacking expresses the
desire of a user of a user interface
element to stretch whereas the content
compression resistance is the desire of
a user interface item to to shrink
actually so content compression have you
have to think about shrinking and
hugging you have to think about
stretching and what we can do now is we
can adjust the content hugging and the
compression resistance priorities and to
do that we will begin with the image
view and if we click on the image view
and click on the size inspector then
let's scroll down here and then you will
find some priorities you will find a
content hugging priority and the content
compression resistance priority so this
looks kind of complicated but it isn't
that complicated we have if you if we
click on that on that little arrow here
you see that there are three default
priorities there is a prayer a priority
required high and low and when we're
talking about content hugging a low
priority means that this item wants to
stretch a lot and a high priority means
that it doesn't really want to stretch
and when we talk about content
compression resistance a a low value
means that this item wants to shrink and
a high value means that it doesn't want
to shrink so we won't have to adjust
this according to our user interface
that we want to create so let's choose
the image view and let's insert a
horizontal hugging here not of 251 but
of 250 I will explain to you what that
means in a second there also for the
vertical content hugging let's insert
250 and now for the horizontal
resistance let's add a very low value of
48 and also for the vertical resistance
let's add 48 here and you see that it
already shrinks a little and now let's
move on to the text view
and as you can see here the textview has
quite the same content hugging
priorities as the as the image view so
we have 250 here and we have 250 here
but let's now add let's keep the 250 for
the horizontal hugging but let's go to
249 for the vertical and this means now
that we have a value lower than than the
value of our vertical content hanging
priority of the image view but let's
continue
we will keep here a content compression
resistance of low so 250 in horizontal
direction and also in vertical direction
and as you can see that did the trick
because when we set the vertical content
compression we told the textview that it
once or it should have a greater desire
to shrink or to get to the textview
once to shrink a lot more or it it was
it tells the so let me do that again the
we tell the textview that it should
expand a lot more and this pushes our
image view a lot more together which
results in this layout but because the
stack view itself does not hug too much
to the to the text fields for example we
have to enter some more priorities here
for the three text views for the text
fields so let me select those three and
we will now enter a column a horizontal
hugging of 48 for them and let's keep
250 that's add a little less here at 749
just to be on the safe side and 750 here
so this is actually all we need to do
with with content hugging and with with
come with compression resistance and now
it's actually time that we run our
application
in the simulator and when we are dealing
with that stuff I highly recommend that
we use the 6s Plus simulator since when
we go to landscape then we have almost
an iPad like experience here so let me
run them and change the screen just in a
second so app is running and I'm going
to switch now so let's see here is the
simulator and as you can see now our
layout looks just as we expected it and
if we just turn around our user
interface I don't know if this works
with the screen sharing but if I move to
to landscape then we have a nice user
interface and I will okay so I will just
it works I could I could see that that
it actually works and I would just share
with you theme screenshot again so
actually we got we got this result and
we also got the let me try that again
maybe it works this time so here we go
so this should be the result in
landscape and this is what we did by
simply using a stack view and not too
many Auto layout constraints because if
you remember we only set Auto layout
constraints for the route for the for
the route stack view and we told him too
that we want a distance of 20 pixels to
the top and 20 pixels to the bottom and
some zero to the leading margin which is
here we don't want to put things
directly to the to the actions in to the
edges in normal circumstances so these
are the leading and trailing edges and
for the first constraints that we set
and the last constraints that we have
added they were here for the text fields
to tell them that they should be equal
in width so this is a pretty simple
approach to lane out user interfaces so
let's get back to Xcode um which is here
all right so this was completely done
using interface builder now let's have a
look at how we can work with with the
stack view and also with Auto layout
constraints in code and actually there
were quite some improvements with iOS 9
to to actually add Auto layout
constraints in code before that it was
quite hard to do that and now it's
really really simple so let me just add
another view controller to our project
here and we will or continue to work
with this one so in the final project
that you will get you will have all view
controllers all screen shots and all
assets in one project so I will also
create another view controller file I
simply press command and create a new
cocoa touch class and this is going to
be a subclass of UI view controller and
this is my second view controller so
let's just grab that and let's connect
this view controller with our view
controller here in the storyboard by
simply opening the identity inspector
and adding that second view controller
to and as a class here as a custom class
and then we are finished here with this
first view controller and we'll simply
drag this little arrow here to the
second view controller just to tell it
that this is the initial view controller
that we want to run when launching the
application
so here we go let's yeah go into this
view control a file and I will now make
some space here in the viewed of load
function on right
above that we want to add some
properties so I told you that we want to
work with stat views and with some views
so we'll simply use image views here to
give them some color we will have a
button and these are all the elements
that we will have so we have three image
views here we will give them a
background color and we want to want all
of those image views to have a different
size depending on this this one in the
center so we want this one to be a
little smaller and this to be a lot
smaller than than the red one and we
want to have this press meet button and
if we switch to the landscape mode on to
the regular size class' then we want all
of them to be squared so we are also
going to work with size classes here
which were introduced in iOS 8 and they
are especially in code a great way to
work with user interface orientation
changes and we will see that in a moment
so first of all what we want to do is
create a stack view here so this is
simply going to be a UI stack view and
this is our first object and we will
have three interviews so we have
interview one just using here UI image
view and I will copy that two times so
let's call that image you two and three
and the last thing that we have is a
button so let me call it just button UI
button and initialize that and then we
will have to actually two arrays of
layout constraints for two of our size
classes so let's create a regular
constraints array which is going to be
an array of Anna's layout constraints
and we will have a compact constraints
area
so again an array of Anna's layout
constraints very good so this is what we
have now and the first thing that we
want to do everything that we have just
adjusted in interface builder regarding
the stack view like axis and the
alignment we can also set that in code
so let's do that here in viewdidload
simply use our stack view and set the
axis to horizontal and let's think about
the alignment and the alignment was in
our case Center so as you can see here
oh no here they are yeah they are
distributed to fill and we will set that
in a second but if we only had one image
view here this would be centered so
let's add that you here and set the
distribution to fill and the spacing
between each element within the stack
view what sets set that to 20 so as you
can see every element that we or
everything that we could change in
interface builder also is changeable in
code as well and now all we need to do
is and our stack view as except you to
our view so that's all there is to it
but now let's let's see how we can
actually add elements to our staff you
encoded was in an interface builder it
was quite simple in code it's also
simple but might not what you expect so
let's use our image view our first image
view let's add a background color so
that we can distinguish each image view
so this is going to get you a color
let's choose orange color image for you
jus background color let's use maybe a
green color and for image view 3 let's
use again a black color something you
can of course change that to ever bought
whatever you like now let's also use the
button set the type off to click many
more I think I said touch me
for the state normal
and let's also give that a background
color so let's say it's going to be
black now we have adjusted everything we
just need to add our button to our view
so as you can see we add the button and
the stack view directly to the view but
the three image views these we want to
end to our stack view and instead when I
choose my stack view here as you can see
we can add a sub view but that does not
work when you work with a stack view you
have to call add arranged sub view and
then we can choose image view one and
then we can copy that and add our image
view two and three as well so this is
all we need to do to set up our user
interface but we did not set constraints
yet so let's do that and let's write a
special function for that so let's just
write setup constraints as a function
and give some space here and let's also
call this function at the end of view
that load and now when we are working
with with user interface elements
constraints and with with the stack view
or especially when we work with
constraints and code it is important
that we do one thing and that is that we
deactivate translates Auto resizing
masks into constraints this is
automatically done by interface builder
when you create constraints button code
we have to manually set this to false so
how can we set constraints so let me
show you just a quick demo on how we
would set a constraint here with
interface builder so I have a problem
for example and I want this button to
have this distance from the top so what
I would do is for example press ctrl on
my keyboard direct you to top and add
vertical spacing here this is all I need
to do or I use the pin menu or whatever
Allah
so doing that in code is now pretty
similar to what we can do in interface
builder and I'm going to show you how
that works so we use the stack view and
we choose its top anchor and now all we
need to do is call constraint equal to
anchor and then we can choose different
versions of that method and now we want
to select the second one which also
gives us the possibility to add constant
which is the distance between our top
anchor that we are going to choose so I
choose the view and its top anchor and
and sometimes all the completion does
not work here but don't worry about that
so we have the top anchor and then we
will set a distance of 50 to that and
now to activate that constraint we
simply call active property and set this
to true and since I don't need that we
just make our own space a little bigger
here and let's do the same thing for the
leading space of leading anchors so
again let's use stack reading anchor and
constrain equal to anchor and this time
we don't need a constant since we are
working with the layout margin and the
leading layout margin and this already
has a distance from the left edge of the
screen so what we need to do is use the
view and it's layout margin margins
guide and its leading anchor and again
to activate the constraint simply use
active and set it to true next one is
going to be the the trailing anchor so
let's used to stack view again and a
trailing anchor and that's constrained
that and that again equal to an anchor
without a constant and this is going to
be the view layout margin guide and the
trailing anchor and let's activate it a
setting active to true so this is
actually how you said constraints in
code and this is pretty simple but as
you can see activating those constraints
it's kind of hard because you have
always to write down active equals true
and then we'll show you how you can
automatically activate a lot of
constraints in a batch by simply using
the regular and the compact constraints
arrays that we have created and that is
quite important because if we have a
look bad back at our user interface and
our interface builder and click on this
size classes window here then as you can
see we work with two size classes this
is for example a compact width which
would apply to an iPhone in portrait but
we also work with the regular size class
which would apply to for example iPads
in the landscape but also the iPhone
six-plus in landscape and because we
have different constraints here we have
created those two arrays of constraints
well we'll fill in different kinds of of
constraints that we are going to create
in a second and this will of course deal
with our image views and as I already
told you we have to deactivate this
translates Auto resizing mask into
constraints so let's use even if you one
and translates ultimate sizing and so on
and let's set this to false copy it two
times and change the name here and now
we will simply use let's start with
compact constraints we'll use the
compact constraints array and just
append new new constraints because as
you can see when we click on constraints
equal to anchor what this function
actually returns is an NS layered
constraint so you could all just also
assign the results of this line of code
to a constant or a variable if you want
to continue working with this layout
constraint later so we are going to
append them to our compact constraints
array so we will use image view 1 and we
will adjust the width anchor here and
constraint that equal to and we will use
constraint equal to anchor and this
time with a multiplier so let's choose
that one and we want to use the
imageview
Chu and its width anchor and we want to
use the multiplier off 0.8 here let me
just call that code again now we will
use image v1 and again the image view 1
and the multiplier of 1.5 here these
values just you can play around with
them this will give you different sizes
here for father different from the
different image views and I have just
chosen those ones so let's let me add
some more here so let's use the image
view too
all right I could I want to use the
height anchor here and now I want to you
hide anchor off image view and I want to
constraint that to the height of image
view 1 the multiplier again of 1.5 and
now let's just copy that again this time
let's use image u3 its width anchor and
let's constraint that to image view 2
and its width anchor let's use 0.65
something like that and let's insert
that one last time again image view 3
and this time again its height and let's
constraint that to its width and that's
point that with a mom let's multiply
that with 1.5 so these are just some
values and again you can play around
with them but not for the regular
constraints so let me just copy that and
paste the whole code block here again
let's add with all of these to the
regular constraints array as well but
instead of choosing different
multipliers here
we'll simply use one as a multiplier and
this will give us the squares that you
have seen earlier and that's it
and what we need to do at the end now is
working with this press meet button and
we will also give this one some
constraints and we'll use again the
button and we have to deactivate you
might have guessed that the translates
ultra resizing mask into constraint
graph to set this to false and then this
as we would do with interface builder we
use the top anchor constrained equal to
anchor and again we might want to use a
constant here because we want to have
some distance to our stack view so let's
use the stack view and its bottom anchor
so and a constant of 50 here so this
would actually be with
between the edge of the red of the red
image view and here so this would be the
distance that we apply here and then we
have to set this to active and true and
then we also need as you can see when I
have a look a picture again the button
covers the whole width of our app screen
so let's use the button and the reading
anchor constrained equal to anchor and
we don't need a constant here we use
again the view and it's layout margin
guide and leading anchor set active to
true and the last one button and the
trailing anchor and constraint equal to
view layout marking guide trailing
anchor and set an active jus true and as
you can see I have manually did that
here and we did not really activate any
of those constraints yet but that's what
we are going to do now because the
interesting thing is that at the moment
our application wouldn't really work
because the the constraints wouldn't be
applied at least not for our for all of
these
image views so we want our user
interface to change when we rotate our
device and since the introduction of
size classes we have a great delegate
method that we can use and this is
called trade collection big change so
all we need to do here is actually
called
super and call trade collection big
change previous trade collection so this
is what we need to do here and then we
can check if the trade collection and
it's horizontal science class is equal
to regular so this would be when we are
in landscape mode and what we want to do
is use NS layout constraint now we want
to deactivate our compact constraint so
it simply call reactivate constraints
and now this function requires an array
of Anna's layer constraints and that is
what we have created here so these are
we want to deactivate now the compact
constraints so every constraint that is
inserted into that will be deactivated
so let's see what happens let's add
compact constraints here use nf layouts
constraint again and what we want to do
is activate other constraints namely
irregular constraints let's make an else
block here so again and it's layout
constraint activate constraint this time
we want to activate the compact
constraints and we want to deactivate
the regular constraints so let me run
this application and change to the
simulator in a second again so I'm
running and here we go
I will change the window so here we are
so this is what our user interface looks
like in portrait and if we now let me
turn it around again and
start screen-sharing again here we go
sir share and here we are so this means
that we have create an application with
Auto layout constraints completely by
using code in a matter of minutes
it took maybe about 10 to 15 minutes to
write that code let me switch back to
Xcode
and also note that this is pretty
amazing here the trade collection did
change in connection with the working
with a complete set of layout
constraints in an array that allows you
to predefined your complete layout
within an array of NS layout constraints
and you can activate them and deactivate
them as you see fit
during your during the runtime of your
application so this is actually what I
wanted to present to you now
in this in this quick tutorial so in 45
minutes
what we did was using stack views to lay
out a little more complex user interface
that really deals pretty well with
different sizes so this would work on
iPhone 4s
this would work up to an iPad pro with
12 point 9 inches of course this
wouldn't be not too nice but it works
and the layout adopts perfectly and here
we have the same thing but this time in
code which gives us gives you a lot of
freedom in dealing with with animations
with complex layouts and you can apply
that to pretty amazing applications I
think so now I think it's time that you
can ask your questions all right awesome
thank you very much ok so the questions
on second folks okay
er for your first question comes from
that pronounces right smokey he asked
looking at right here what does the view
controller lifecycle effect coding or
changing existing constraints an example
what should be done and building on
viewwillappear or view did appear
alright this is a a pretty good question
because alder layout has kind of its own
life cycle so so if we if we go into our
yep here yes alright can I continue
all right yeah please continue video
music continue alright so what I was
saying is that actually the auto layout
has kind of its own kind of own life
cycle so what we did was that we so let
me just bring up the second view
controller we called setup constrains in
viewdidload but many of the constrains
weren't really called here or activated
here in fact they were they were
activated when the trade collection did
change so this is where where we
actually activated our our compact or
regular size class depending on if the
application starts in portrait or
landscape mode so this is called also an
application launch but there is also
another function like update constraints
or a preview constraints that is called
when actually something happens so this
is a good place to put things like when
you when you call set needs display all
sets needs needs update constraints or
something something like that so train
collection the change is one of those
but update view controller constraints
is also very important but many of the
constraints that you said can be said
actually in when you add view in in
viewdidload view will appear and view
did appear is much too late then the
user interface or the constraints should
already be laid out question number two
I have a knot where users can decide in
the settings to have some buttons in a
sty key or left to right how would you
go about switching switching a
constraint from leading to trailing
between them so I start in suicides
okay let me just go through the evidence
when users can design in the settings do
you have some buttons in a stack view on
the left or right how would you go
password
so actually I'm I don't know if I
understand that correctly that buttons
should change like if they they should
be aligned to the left side or aligned
to the right side so if that would be
the case we can pretty easily
accommodate that by choosing let me just
use one of our stack views here which is
this one for example and if I just were
to change the alignment from first base
line to last just to bottom for example
here this would this would have come and
this would mean that we switched from
top two to bottom here but what you can
of course do is simply reverse the order
of of your of your user interface
elements so if I choose the stack view
here and reverse the order in in which
they are laid out then this change is
reflected in the user interface in code
you could actually just remove those two
the user interface elements and insert
them in in in the in the sequence that
you would like to to have them visible
in your user interface I hope that this
answers your question okay that's about
the last question we have our layout
series it Brian I think frantic so I
appreciate it and I had a pretty hectic
week with the ready see I hope everyone
enjoyed it and as always our brain is
gonna send me the link week to is rough
so you can download the zoo
where I'll say just posted in the
youtube comment section and you guys
want to re-watch this or have any
questions you guys always reach to bring
himself and with that thank you very
much have a good evening
Cheers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>