<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Data analysis with python and Pandas - Calculate Moving average of time series Tutorial 8 | Coder Coacher - Coaching Coders</title><meta content="Data analysis with python and Pandas - Calculate Moving average of time series Tutorial 8 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/MyStudy/">MyStudy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Data analysis with python and Pandas - Calculate Moving average of time series Tutorial 8</b></h2><h5 class="post__date">2016-08-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xy8SOd8OeGo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello friends this is the eighth video
tutorial inside the video lecture series
on data analysis with the Python so in
this tutorial we are going to see about
how to calculate this moving average of
the time series data so if you hover
data like of 1 for 7 in a time series of
forming let us take one example of a
time series data like a stock price
actually so individual days stock price
is nothing but the continuously coming
with respect to the time it's based on a
time stream it flows the data
continuously that is what the time
series data now our job or in this
tutorial will be how we can calculate
the moving average of this time series
data the data flowing of individual day
stocks so let us try to understand what
is the moving average first of all
average average is a nothing but the set
of values whose sum will be divided by
the total value so average has no sense
with just the one number average
requires multiple numbers and on that
multiple number we will find the average
of all those number so this moving
average is nothing but this average
along the full time series a data how it
flows across the first data point to the
second data point to the third to fourth
and so on
so let's try to understand what is the
moving average moving average means
let's take a window but two point so
very it a very first point to data means
we require the one data where we are
pointing to and another one more value
which is just the previous of that value
so before previous before the first
element there is no element so we have
taken as a not a number plus 1 divided
by 2 that is nothing but average of this
first plus not a number so that well
value does not make sense as we have
taken a window of the total 2 element
now let's move ahead for the second
element like a 4 so of as we have taken
a window of 2
so 4 plus 1/2 then again the third
element third element we'll take this
third element plus one more previous
elements of seven plus four divided by
two that way 9 plus 7 divided by 2 9
plus 2 divided by 2 so in this AR
example this way we calculate this
moving average so for the first element
is not a number then 1 plus 4 divided by
2 plus 4 plus 7 divided by 2 in this way
the average along the whole time series
how average flows ok now we have taken a
window of the 3 if we want to take a
window of 4/3 element number instead of
a 2 so we can take like a first two
number will be not the number but in the
third case we will get a very first
moving average number in the case of
window of 3 so it will be like a 1 plus
4 plus 7 divided by 3 the second point
in a moving average will be 4 plus 7
plus 9 divided by 3 so in this way
now let's this is the theoretical
concern now let's see how we can
calculate this moving average we tell
pop pandas data science library so let's
import first the pandas library ok we
need to provide as okay now we can
reference every function you know
okay we got it we should have better
provided data one because indexing is
also data here okay so we have a data
now our task is to calculate this moving
average on the top of this time series
data you can consider these data is
coming with respect to time so like a
first instance of time one came then the
second instance time for games so the
total data we have become one and for
that a third day it will be comes we
have got the same and so we have got one
four seven industry okay now let's
create a data frame object out of this
data so we'll reference it to the DM so
PD dot we have a data frame function
where we will provide this our data one
okay so let's display this DF okay so we
have a dis data in a data frame object
which is having a one column and all
value will be one four seven nine two
four six seven eight okay
now let's apply this moving average on
the top of this data column so what
we'll do we have one function rolling
inside this pandas library to calculate
this mean so we'll apply this rolling
function now this rolling function will
require doping
how many elements average you want at
each and every instance of the time so
suppose we take a window for so it will
take a or two element and it will take
an average again at the next instant it
will take another two element and it
will take out page next instance another
two element and it will take an average
now if you take give the window of three
it will take this three element and it
will average it out again it will shift
its window by the one element and it
will take another three element and it
will give the average of out averaging
so let's give wind over to and we will
apply the mean method on the top of it
and let's assign it to another data
frame reference D F 1 and let's spring
this D F and so we'll compare it with
our original data and our moving average
later ok so we have got it so in a DF
one you can see that very first number
is an order number that is why because
the the first element and the previous
element of that first element is an
order number so there is no number
exists that so that's why the first
element is indefinite I mean it is not
defined very second element it has given
as a 2.5 so let us verify so one plus
four is five five divided by two is two
point five the second third element
third element moving average is nothing
but a third element plus second element
divided by 2 so 4 plus 7 is 11 11 by 2
is 5 point 2 okay so we got it actually
so this way we can calculate this moving
average now are we can even provide this
to 3 also and we can calculate okay so
very first two number is a not a number
but once this third number comes it has
got all three data so one plus four plus
seven is nothing but at 12 12 divided by
3 is 4
so in this way it is calculated or this
moving average across the time series
data now our this is all
the numeric value suppose we want to
plot this both of the value under claw
graph we'll use this pipe load function
and we will actually visualize how your
time series data moves along the time
and have your mu moving average data
along the time it varies because this
type of calculation and visualization
will be very helpful in a stock market
basically so let's see we will use this
method live library I have already
created a brand new video series on a
mat plot library IO I will give the link
in a description you can follow it along
so let us import this matplotlib library
liquid pipe lot PLT okay so now our task
is to display this bf frame ma data
object and a df1 frame the data object
and the f1 frame is nothing but the
moving average so let us apply it to the
PLT dot we'll use the plot function so
simple it will do the line plotting so
to be here the same way we'll supply
DF one also and we will do sure to
actually display the figure okay so we
have got it
so this blue line is nothing but I think
the DF one object the actual our data
and this green line is the first two
value is not a number so it has not
display the very third line it is for
six point six so this is nothing but the
four this is somewhere around six point
six and then it is a six the fourth
value so okay so this way we can
visualize this time so it is data and
with the help of this rolling function
on the top of this data frame object
calculate this moving average so I hope
you enjoy listening this video please do
like comment and subscribe it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>