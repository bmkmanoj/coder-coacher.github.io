<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Increasing Pattern Complexity: Machine Learning for Algorithmic Trading in Forex and Stocks | Coder Coacher - Coaching Coders</title><meta content="Increasing Pattern Complexity: Machine Learning for Algorithmic Trading in Forex and Stocks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Increasing Pattern Complexity: Machine Learning for Algorithmic Trading in Forex and Stocks</b></h2><h5 class="post__date">2013-10-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LOyWJnFJEDY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello and welcome to the 10th machine
learning for use of Forex and stock algo
trading automated trading or just plain
analysis or just learning to do machine
learning where we left off we were
plotting up our similar patterns on a
matplotlib so we can see them visually
and we said that we actually wanted to
do we extend our pattern lengths that
we're going to look for and when we do
this the other thing too is as soon
we're going to be looking for a bunch of
patterns not just on the end patterns
but eventually we do need to back test
this so the first thing that we need to
do first is we're going to change a
couple things here in our percent change
of formula it's possible to arrive at a
zero percent change then to calculate
the percent change from zero to a point
will be problematic for us if if that
occurs and as we expand this and not
only expand the length of our pattern
but also we're going to run through all
of the patterns the chances of us
hitting something like that is actually
pretty likely so what I want to do is
first listen in case everything here may
try indent and accept so Sept and we're
not going to throw an exception here
because of what we're going to do so
we're going to say instead of a term
we're going to say x equals the
following then what we're going to say
is if x equals zero point zero as in if
X is a zero because now normally we
don't really care if the percentage
change was zero right that matters
actually but what we do care is when we
do a percentage change of a percentage
change that yielded a zero that's going
to be very hurtful to us so we never
want to throw with zero percent change
we need something so we're just going to
say return zero point zero zero zero
zero zero one okay so basically zero but
we can actually work with this number so
that's what we'll do
else will return X otherwise we're going
to get a negative infinity insert and we
don't want that and then um accept and
if anything else goes wrong we'll also
return a zero points or something like
that percent change so let us solve a
few of our issues obviously this is a
perfect math but that is the best way to
handle a negative infinity when the
percentage change of a percentage change
of zero comes into question now the next
thing we need to do is we want to allow
a everything we want to do instead of
ten points we want to do 30 points so
continuing on I guess I had that in my
mind well let's see x equals average
line minus 30 you really need this to be
minus 30 now plus another 30 so really
mine is 60 so we can always look into
the future now Y since we're going to
expand not from 10 to 30 Y needs to be
31 pattern stays the same come down here
we need to change this so copy and paste
and paste again now the first thing we
need to do is we need to change so this
goes to 10 1 to 10 1 to 10 so this will
be actually fairly easy to do our edit
so 11 12 13 14 15 system and this is 20
so just change these same thing down
here this is B 21 22 23 24 25 person or
something now I am 30 now let's not be
dopey and forget to do this stuff like
we did last time so instead of y equals
minus 10 we should have made this edit
first sorry guys anyway 30 now right and
now we'll just paste this in here
through this this is the joyous joyous
stuff
faster this way probably 330 very very
30 okay now we need to go through and
fix ladies this one will be easy again
so it's 29 28 27 26 on equality for 51
and this will be Y minus 20 then this
will be 19 18 17 is e Levin and then
this will be minus 10 and then 9 8 7 6 5
4 3 2 1 0 basically hmm done that you
just let's just glance at this make sure
we did everything you need to do 13 it
looks good
okay so we've done that now the next
thing we need to do is pend all of our
patterns again the above here and this
and the next few things that we do
should have been done in a wow loop for
the length of whatever pattern length we
chosen and we'll maybe get to that in
the future videos but again I really
wanted to first start off by writing
everything out just so everyone can
easily follow but again I recognize this
is not the most efficient way or
pythonic way to do it so anyway uh now
we want to do so we need to append all
the other patterns so we'll do that so
this is a same kind of edit styles
before so 11 changes to 20 and then here
21 and 30 and just check your quick edit
that we made make sure we make the
errors looks good looks good to me
and that should finish out this formula
or this function rather now we come down
here oh man we got another one to do
yeah so a similar editing style that we
need to do again just mention this is
not the most efficient way to do it but
it makes it easiest to understand so
again we'll edit this similar editing
style
20 and 21 - what have I done
there we go 30 and come back up this now
all of these eight we did the same thing
that we do before remember on this one I
was like well we should a copy and paste
it with the 30 what a big dummy
anyway this needs to be 31 so we'll just
do this all the way through sorry I
should've thought about that if I didn't
do then fallen for the same stuff twice
in a row it's a definition of insanity
continuing on all right now you need to
fix this one now this means instead of
being negative ten sees this one needs
to be 30 29 28 27 is -21 then this needs
to be warning and then this will be
2,900 oh wait wait wait getting ahead of
myself here let's fix this 20 19 18 17
11 and then 10 9 8 7 6 probably good
quick glance over to look for any
problems so these are all 30 ones good
these here 30:21 jism 10 9 8 7 6 5
okay it looks good now we need to fix
this one as well so copy here paste
paste
listen ezbee 11 19 20 and 21 to 28 29
and third a quick glance over make sure
we did that all right yep now we come
down to pattern recognition you guessed
it now we need to do the same thing here
this one should be a little easier and
let's make sure
I think everything the only thing we
change here is the numbers in the
pattern here and this one will actually
be a little bit easier to edit since its
0 to 9 foot anyway paste paste sound 11
12 13 14 15 system since 18 19 and a 20
subsequently 21 20 2011 sister country 9
and a 30 and then we come into the array
itself and we need to edit both of these
let's not forget like we did last time
10 11 12 13 14 15 16 17 18 19 come down
here 20 come on do the eight and twenty
nine 10 11 both of people to get
assistance every 15 19 and down here
same thing 21 / 0-9 nice quick glance
over make sure our edits went well tell
em totally good and this one looks good
too okay now I believe we are to the
last thing we have to do and that is all
these little additions let's go ahead
and just automatically put that 30 there
before we forget and subsequently we do
this throw a little plus sign here enter
paste plus sign enter paste now we will
do I think there was a better way to do
this but I don't think there is so 12 13
14 15 16 17 18 19 20 here 21 22 23 24 25
26
and 30 so that's going to add them all
up do that averaging equation that we
did before now hmm with this since we've
made the pattern much longer how sim of
70 across one one pattern is basically
probably not going to happen
very unlikely that to hit that let's
just drop this 240 just for ease of
actually finding a pattern before we
start building the back test so 40 this
is all good
now the only thing okay we need edit
this this needs to go all the way to 30
now so you eleven twelve thirteen
sixteen seventeen eighteen nineteen
twenty one twenty two twenty three point
six twenty seven eight nine and thirty
okay and actually you know what sort of
typing that out and pretty sure you just
do x equals one colon thirty anyway that
was pretty dumb I might actually need to
be one : 31 anyway that was pretty
stupid that's okay though continuing on
also through here I believe that's
everything so let's go ahead and save
this and run and see what the heck we
get so we run it here we go first we got
a store everything I guess has even done
that part yet I don't know alright cool
so we got a pattern now and now it's in
the degree of 30 points as we can see
there's that pattern let's see if we get
any other patterns looking through
everything and we got another pattern
here's another pattern that matches and
you can actually probably see the you
know one two three four five six seven
eight nine ten so you can see that our
old pattern is you know right here as
well just in case you don't notice and
that's it so even though it says entire
processing time took 40 seconds didn't
really because we were looking at charts
so just keep that in mind since we
graphed up those charts a
took that long but it wouldn't normally
take 40 seconds so let's going to
conclude this video in the next video
we're going to begin building up our
actual back testing or running through
old data so this one we were you know
only comparing that most recent plot as
being as if the last plot in our data
set however if we want to back test data
we can do that as well starting at the
first plot and then running through each
plot as if we were comparing or running
through future data so as we continue
getting more plots we're comparing to
only the previous plots not the future
plots so that's what we're going to do
in the next videos is actually run
through the data set as if it was
reality and start building saving up
each pattern that each new pattern it
finds and seeing how long it takes to do
this and you'll see that initially it's
very quick and as we continue getting
more and more data and more and more
patterns stored the memory that's when
we start actually being taxed on our arm
or Ram starts to get taxed as that array
grows but anyway that's what we're gonna
start doing the next video is actually
back beginning to build the back tester
and really it's like all it back
testings we're testing against old data
but it's actually better than a back
tester it's really like back testing the
forward test or something I don't know
anyway that's what we're going to be
doing in the next video as always thanks
for watching thanks for the support of
the subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>