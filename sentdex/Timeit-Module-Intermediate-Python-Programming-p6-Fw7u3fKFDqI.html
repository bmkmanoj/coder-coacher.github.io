<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Timeit Module - Intermediate Python Programming p.6 | Coder Coacher - Coaching Coders</title><meta content="Timeit Module - Intermediate Python Programming p.6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Timeit Module - Intermediate Python Programming p.6</b></h2><h5 class="post__date">2016-11-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Fw7u3fKFDqI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody wanna part
six of our intermediate Python
programming tutorial series in this
tutorial we're going to talking about
the tiny module so first of all why
would you use time it so you can use
time well first of all what is time to
do time it measures the amount of time
it takes for a certain snippet of code
to run so why would you use time it over
just say saying you know start equals
time dot time after you've imported time
and then total time would just be equal
to time dot time so the current time
minus the start well that's how long it
took right well the problem is
especially with smaller snippet snippets
of code that's not as that's not precise
because there might be a background
operation that's just momentarily
running that might disrupt that little
snippet of code enough to make it appear
that that snippet of code took ten
seconds but really it took ten seconds
just because of something else unrelated
so what time it's going to do for you is
it's actually going to run your snippet
of code say ten thousand times depending
on the snippet of code of course you can
modify it but let's say ten thousand
times so you get a much more even and
much more statistically relevant sample
size basically to figure out which one's
quicker to run let's just see it in
action so we're going to start with
input list equals a range of 100 and
then we're going to define that div by
five function again if you've been
following along you might actually
already have this so feel free to just
sit on your hands and wait for me to
write it out so if num modulo five
equals zero basically this is just
asking if the number is divisible by
five return true otherwise return false
no problem now let's define a generator
that's going to return to XYZ so let's
we could say I for I in input list if
div by five
I so basically this will be a generator
that consists of numbers if they're
divisible by five in the range of 100
then we could say an example of this for
like list comprehension might actually
be just this this this and this okay so
that's really the only difference this
list comprehension this is a generator
now what we can do is we can use time it
to see which one's faster now real quick
let me just show a quick example of time
and then we'll implement what we just
wrote here so let's just import time it
and then we're just going to print time
it dot time it and then time it just
runs a string of Python code so we could
say 1 plus 3 and then we say number
equals um let's just say a big number
like this like I'm doing 500,000 so this
is how long 500,000 examples are going
to take so it took this many seconds so
not a really long time let's do a few
more there we go a little longer anyway
you get the idea
so to figure out how long each operation
ran you can see you would actually
divide that time by this number because
as we make this number bigger it takes a
little bit longer to run so we made this
10 times the size and it appears to be
taking didn't we just do 10 times yeah
oh no that's legit so 10 times 0.6 is 6
ok too many tutorials film today I'm
dude not doing well ok cool so that's
just a quick example of the time-it
library let's test it so let's first
test it on like this block of code here
ok so I'm just going to highlight all of
it copy and then I'm going to just
comment it out and I'm going to print
time it time it
and then we're a triple quote this bad
boy paced just the exact paste of that
code and then we're going to say number
equals 50 to start I don't know maybe
we'll do 5,000 I think this should be a
pretty quick operation especially for
the generator yeah okay so that's pretty
quick right now how long does it take
maybe to make this a to do the list
comprehension okay save that run that
okay you easy to make the list it took a
lot longer like way longer but the real
question the other question you might
have is okay well that's not really
totally fair because this actually built
the list so it put the list into memory
so how long does that maybe take what if
we were to compare those so let's take
this and we can convert this back to a
generator but then we can actually do we
can convert it to a list and in fact I I
don't know if we have to I think we can
just throw a list in front of it but
that feels weird let's run that really
quick okay and so you can see that
converting it to a list while using a
generator took slightly longer it's
pretty negligible but I think we would
probably still always find that the
creation of first generator then
converting it to a list is about the
same I think or if that would work every
time let's do a quick live demo my
question is because we're saying list i
for i so we're almost removing the whole
generator expression sense of it all let
me do this and let's bring this back
whoops okay so in theory this is like
saying okay that's definitely list
comprehension but when we say list this
parenthesis here is corresponding to
list and the generator I don't really
know if it's a generator by default like
a tuple is by default I think this will
work but let's just try so for
in Xyz print I and then I'll be curious
to know yeah so that worked as as you
would expect but I wonder if our my
example where we added two more we're
now it's a list of the generator for
sure does that still work yes it does
interesting it's fascinating it's
absolutely riveting cool anyway learning
new things for myself
ok back to the tutorial so as you can
see we're pretty much done with the time
it we just kind of wanted to show an
example but you can pass snippets of
code like this now one thing I will just
stress is you have to pass everything
that you consider this is like a
separate script almost that you're
running so when you have like it could
have been easy for you to think that you
should have been able to get away with
this right because input list is already
defined up here and then div by 5 is
defined here but that's not going to
work it's going to say those things are
yeah they're not defined even though
you're like yes it is but it's not
because it's like running in its own
kind of process and it doesn't have
access to those things so remember to
put all of the code in here and to do
that you can just use triple quotes to
make that happen
so I think that's really all I really
wanted to show for this just always
remember at least this was just a stupid
example of comparing generators to lists
of course creating a generator is much
faster than creating a list another
thing that we could do is compare the
following so what if we wanted to
compare this is getting messy so let's
first write the code and then we'll time
it below so we've got div by 5 we've got
the generator expression up here let us
time the iteration I'm going to comment
this out for now I'm not going to use it
right this moment let's time how long it
takes to do for I in Xyz
and I so let's run this code so the
creation of a generator in the iteration
through that generator so we'll copy
this will comment it out paste it run it
and in fact it's going to print it out
Oh No
okay let's just let's just define a
variable let's just say x equals I it's
like printing it out to my console
that's not on the same same screen okay
it's fascinating it just it went now
that tells you how slow printing the
console is okay let's try it one more
time just cleaning up things okay so
this was with the generator and then an
iteration through just going off of my
memory this is pretty close to how long
it took for us just to build the list
now let's do list comprehension so we
just changed these two things so list
comprehension is slightly faster not by
a whole lot but let's add some numbers
here and okay so this will be list
comprehension how many do we add so it
should take about nine seconds oh I
shouldn't have done it for that long but
while we're waiting let's just change
this to a generator okay nine point four
seconds and we'll run it one more time
so that was for list comprehension now
we'll see how long it might take for a
generator but again the whole point of a
generator isn't to be fast it's to not
use memory but that time it appears to
actually in all the other cases it was
not faster because remember this was the
generator this was less comprehension
this is list comprehension this is a
generator interesting but in that case
it was faster it's also probably going
to be faster on really huge lists but no
it really just depends on what these
lists are uh how we're building lists
this is a whole variety of factors but
in most cases at least if you already
have the list it's going to be quicker
if you can have that list in your RAM
and iterate through that so if it's in
your RAM it's already there it's ready
to go as opposed to a generator it's
being truly
generated on the fly but it's quick to
generate versus build an actual list out
so interestingly enough that was faster
and I think we had a decent sample size
so that's kind of interesting but I am
recording and I'm doing all kinds of
stuff I don't know
embarrassing maybe comment below if you
got the same results on that one just
fascinating okay
that's it for the time it a module
really simple but it's just a good thing
to kind of have at your disposal to test
and see what's faster in certain exact
scenarios that you might come across in
the next tutorial we're going to be
talking about in numerate so stay tuned
for that if you have any questions
comments concerns whatever leave them
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>