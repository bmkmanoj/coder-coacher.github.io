<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Charting Stocks and Forex in python Part 18 - How to calculate RSI in python | Coder Coacher - Coaching Coders</title><meta content="Charting Stocks and Forex in python Part 18 - How to calculate RSI in python - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Charting Stocks and Forex in python Part 18 - How to calculate RSI in python</b></h2><h5 class="post__date">2013-09-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4gGztYfp3ck" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
the 18th finance retarding tutorial
within Python and matplotlib where we
left off we were charting this chart
here we did the you know the candlestick
the moving average is we've just
overlaid the volume here and we've made
some space for RSI but we don't have any
any like logic for the RSI the other
thing I think we should probably do is
move the legend maybe up here just so
it's like not in the way so I think
that'll be the next thing that we do
real quick is just move that legend and
then let's get started with the RSI so
for the legend a couple things we want
to do first of all let me just change
that to this is now stock price and
volume on this axis and then also the
legend oh we already have a legend here
location 9 is upper middle the other
thing I wouldn't mind doing is you can
say n call for number of columns so we
can make this two columns and I think
that'll be it so save that let's run
that just look at where we are now nice
ok a little better hard to see this but
eventually we will add a faded out
background so that's easier to see but I
want to get too busy with that right now
so we're trying to do this RSI so let's
to the RSI close that so let's go all
the way to the top of our script here
and what I think we is best to do it is
just define an RSI function so what we
want to do is define RSI Klunk
and in the parameters we want to have
prices and then kind of like the time
period right and in this one we're going
to use a 14 that's just kind of a common
one to use now before we actually go and
program this in I would just like to say
or explain the relative strength index
just in case you guys maybe need a
refresher on it
you have no idea what it is basically
it's a probably the best one as a
momentum oscillator or something like
that and it what it does is it's gonna
tell you or at least the biggest part
that it tells you is whether or not a
stock is like looking to be overbought
or oversold and I would say it's
actually pretty correct you know any
time it's over 70 that's overbought and
any times under 30 it's likely oversold
and likely overbought sorry it's not
always gonna be the case obviously but
it's it's usually pretty darn accurate
actually and when we're done here you'll
be able to see see it in action but it's
you know with a lot of companies it only
hits the art like you know above 70 or
below 30 you know a handful of times at
most in like a year you know so unless
it's a really really ball to a stock but
anyway so the calculation of this is
going to be 100 - you know open
parentheses I suppose you could say 100
over 1 plus relative strength now you
might be like well what's relevant
strength relative strength is the
average gain over the average loss based
on what a number of periods right and
most people are going to use 14 this is
kind of the way it is like by default
but you could choose you know a
different one if you want well we're
gonna use 14 but obviously what you cut
you know this we've defined a default
value but you can you could assign a
different one in the function if you
chose so anyway so yeah that's the
calculation of it so what we're gonna do
is kind of run through how we would
calculate that in Python so let's get
started so you know also by the way this
is pretty similar to the one that
they're using in I think the matplotlib
finance this this was somewhere in there
and so a lot of this that that I have
here is going to look a lot like there
so you can also look at theirs if you're
a little confused about what's going on
so we're going to say Delta's you know
chain
equals the NP death of prices so what's
the difference of the prices then we're
going to use seed equals deltas and in
here we will do :
everything that n plus 1 now up will be
anything that is minus seed the seed
bracket see anything less than 0 and
then sum divided by sum divided by the
time frame then down is going to be I'm
sorry I think I've let's see yeah yeah
I'm sorry guys I flip these around so
this will be the down function wouldn't
- seed anything less those that's there
and the up function is our variable will
be seed and then anything obviously
greater than or equal to 0 so any C
greater than or equal to 0 and then
again some divided by the top out glad
about time period let's look over this
one more time before I get get too deep
into this equation here yeah I think I
think we've got we've done that right
we'll know pretty quickly
yep and now what we're going to want to
say is the relative strength equals up /
down and then the relative strength
index equals numpy zeroes like and then
prices and then RSI up to that time
period equals 100 minus
100 divided by 1 plus RS and actually
this needs to be parentheses so does it
correctly in order and good so now come
down again and what we're going to want
to say is for I in range of n land
prices : Delta equals deltas and this
would be I minus 1 now if Delta is
greater than 0 up Val equals Delta down
Val equals 0 I so we get decimals
basically else oh dear what has gone on
here this let's fix the spacing I'm not
sure why I did that to us
else : up Val equals you're a point and
then down Val equals negative Delta down
finally up equals up times n minus 1
plus up Val divided by n down equals
down down times and minus 1 plus down
val divided by n quit blant to make sure
you typed everything where I and then RS
equals up / down and then RSI I equals
100 point minus 100 point divided by 1
point plus RS cool now return RSI
oh gosh I hate doing math and
programming because you just know like
like itty bitty thing like you know the
RSI you know calculation for RSI is
extremely minimal they like turn it in a
calculation on like a program it's like
oh my good news so I think we're good
like I said well know pretty quickly
when we get the return to value and
either it works or it doesn't you should
be able to visually tell so I think what
we're going to do let's just clean this
up a little bit save this and I think
that probably took up a lot of time just
writing out this function so I'm going
to pause the video here and we'll
continue on in the next video so stay
tuned the next video as always thanks
for watching thank you for your support
your subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>