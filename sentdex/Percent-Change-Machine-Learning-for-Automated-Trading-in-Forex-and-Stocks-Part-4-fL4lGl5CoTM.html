<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Percent Change: Machine Learning for Automated Trading in Forex and Stocks Part 4 | Coder Coacher - Coaching Coders</title><meta content="Percent Change: Machine Learning for Automated Trading in Forex and Stocks Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Percent Change: Machine Learning for Automated Trading in Forex and Stocks Part 4</b></h2><h5 class="post__date">2013-10-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fL4lGl5CoTM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello everybody and welcome to part 4 of
machine learning for Forex and stock
trading analysis now that we've seen our
data let's actually talk about our goals
what do we want to do here generally
with machine learning everything is
going to boil down to actually machine
classification so with quant analysis
gentlemen the first few things that
you're taught are these quote unquote
patterns right head shoulders teacup
whatever else silly names that they've
got there's tons of these patterns
though right and so so what's a theory
behind these patterns well the idea is
that prices of stocks or forex ratios
are a direct reflection of psychology of
the people trading right so the traders
either people or computers right it's
you I guess you wouldn't want to call it
totally psychology but maybe the
variables that built up to make that
pattern right so the people or computers
they're making decisions based on a
bunch of these variables and the theory
is when the same variables present
themselves again you'll get a similar
pattern so you'll get a repeat of
actions that create that similar pattern
and then the outcome as well is likely
to be very similar right the further we
move away from that pattern the higher
the likelihood of the similarity of the
outcome changing but you don't have to
move too far away from the pattern
really you just need to move far away
enough for you to actually execute a
trade and that's all you really need and
really with quant analysis and
algorithmic trading or on automatic
trading that really doesn't need to be
too far out since the computer can
actually execute the trade pretty quick
faster than you will be able to so what
we want to do here at least our initial
goals are one we want to create a
machine learned batch of what will end
up being quite possibly millions of
algorithms and the results which is
going to be used to predict future
outcomes compared to you know the
outcomes in the past of these exact same
algorithms now obviously as time goes on
we can we can cut out some old
algorithms like if you don't want to use
the same algorithm from like years ago
right or you might not want to or maybe
you want to weight it differently but as
you're going to find out as we get
through this there's a whole bunch of
options that we can do so we're going to
kind of you know put them on the table
well we won't get too in-depth otherwise
we would never make progress but you can
imagine anyway to what we want to do is
actually test this basic theory right so
the beauty of machine learning is this
this notion of what's called data
snooping right so data snooping is
basically like making new inferences
after looking at your data so with
machine learning data snooping is
actually built-in right and so on the
outset if you don't really look too
in-depth into what machine learning is
actually doing you might actually accuse
it of well that's just machine learning
and that's that's no good right but what
what you're missing is that data
snooping is not only built-in but it's
actually accounted for right it's it's
it's a it's really great all right so so
our whole um our whole system here is
really built on the inference of pattern
recognition not the algorithms itself so
if patterns changed in new data that's
actually already built in and is done by
programming that's done before
we've even seen the results right so
this allows researchers to actually get
the best of both worlds right while
avoiding some of the pitfalls of data
snooping so what this is going to let us
do is it allows back testing to actually
serve a really truthful and accurate
purpose right so if our if our machine
learned live algorithm passes the back
test in in every sense of the word right
so so using historical data and only
using historical patterns is it still
accurate as we move forward and if if
the answer to that is actually yes then
it's highly likely to continue
performing well in the future as well
because it's actually the machine
learned patterns that are paying out not
that not the exact pattern as it as it
were you know that this is profitable at
the time so really it's it's confirming
the hypothesis right with so we have an
actual reason why we think this might
work we're going
put it in action and if it does confirm
that it actually confirms the hypothesis
so that's what we're really looking for
you know unlike finding like you know
some sort of mathematical equation for
no reason you just kind of kept flipping
around variables until you found one and
back testing it and holy moley we got
great results this is this is going to
make me Bank no that's that's unlikely
so so with that what we're going to do
is take a range of data in succession
and to start we're going to keep it
really simple
and so simple that it literally will be
stupid but we're going to do it and what
we're going to do is create a pattern
with that data so in this sense of the
reason why I say it's stupids we're
going to use a range of ten and don't
forget we're using tick data so a range
of 10 in this tick data is really under
most likely to be less than 10 seconds
of a time frame but most people aren't
going to have bid-ask tick data they're
going to have more like like bar data
right so open high low close data and it
might be it might be for one minute open
high low close something like that but
not everyone is going to have this bit
ask tick data but if you pay for it you
you can actually get that data streaming
but anyway beside the point
that's going to probably turn out to be
a too short of a range but luckily
something like this
same thing with percent similarity which
we'll find out way later on and even yes
the the time length all of this stuff
can be machine learned to find the best
of everything at the time right and
again it's not data snooping it's just
it's built into the to the machine
there's no new program new programming
that will take effect it will just
continue and continuously not only find
the best patterns but it will find the
best lengths of pattern to care about
how long of a time frame do we care and
how similar will we require these
patterns and and in not in this video
otherwise we would literally not do
anything in this video probably a few
more videos away we'll get it in a
little bit more detail about why that
matters and why like maybe like why
would we want to find out like how close
you know wouldn't we want
like a 100% match of patterns and all
this in a seven and no the answer really
is quite quite firmly no but anyway uh
um so what we'll do is we're going to
take this range of data in succession
and create a pattern with it and the way
that we're going to do it is with
percent change now we want to normalize
the data as best we can and so that we
can use it everywhere right so even if
the price has changed that pattern right
so if you just had a pattern of let's
say $100 on or $1 on and $3 102 dollars
that pattern if you required it to be
like that when it matched the you know
$10 you know ten dollars and twenty
cents or whatever that pattern once I
just said right it wouldn't match even
though it graphically it would be
identical so we want to normalize that
data now the preferred method properly
normalized data is to do it while
written logarithmically
but we're not going to do that we're in
a use percent percent change is to keep
it as simple as possible and the next
thing to consider is is how we're going
to do this percent change now the way
that we're going to do it is we're going
to do a forward percent change point
apart from starting point so this means
the longer that the pattern is the more
likely the end is to be less similar
than the beginning but the actual
direction in movements of the pattern
will be will be very similar so this can
be useful since some patterns might take
more time to react to a movement than
others and we want to build up in my
opinion to be most accurate right and
but what we actually want is for the end
to predict the future and so if if you
wanted the end to be more accurate you
would do a reverse percent change right
so from the last point what is the
percent change the point you know number
nine to point number eight seven six
point whatever or you could do a point
to point percent change and really make
some stuff pretty stringent but if you
do point to point percent change you run
the risk of that that pattern doing some
pretty wild like it can be very
different visually even though you might
not think so
it can it can wind up going in a
completely different direction so I
don't think we want to do that now
anyway like I said before all this stuff
can be changed there's already a lot of
variables and trust me when it comes to
variables we're going to be very very
busy
some of them luckily can be machine
learned very easily the other ones can
be machine learned very difficult
difficult ly but for now forward
starting point now this means that first
we need to store a bunch of patterns and
the percent change format in reality in
our back test that will actually mimic
this your patterns can only obviously
come from the past right so when we do
back test it we won't be able to be like
well this pattern from May first looks a
lot like this pattern on May 8th or hey
you can't do that so then what we do is
compare the current pattern to similar
patterns in the past you know using this
percent change and again this can be
done logarithmically but it might be
better that way but the goal here is to
keep things things as simple as possible
and then what we can do is if when we
find similar patterns we can look at
what was the outcome of those similar
patterns in the past so um let's
actually code something now and so the
first thing we need a code is a percent
change function we could do this by hand
every time but we're going to be doing a
lot of percent change so it would just
make sense to go ahead and shorthand
this for ourselves so we'll want to do
this so we're going to define percent
change and in the parameters we're going
to say we want a start point and a
current point so you know from what to
what are we going to do percent change
to oops and a colon down here and what
we want this function to do is actually
return a value so like if you do like
one plus one that returns a two so we
want something very similar to that so
like if we were to write out this
equation it would actually do return so
we want this to always return what a
mathematical equation in kind of
same manner right so what we want is you
know for anybody that doesn't know
percent change I don't know why you'd be
watching this but percent changes new -
the old / the old times 100
just like in Grain that into your head
is every now and then I see people do a
different form of percent change and it
really bothers me and there's there's
good reason for it sometimes but
seriously new - you'll / the old times
100 so we'll have the new here new - the
old / you know whatever the old is and
then outside here you would do times 100
so just get your parentheses all nice
and pretty so new current point - the
old start point / the old so that start
point and then times 100 then our
parentheses are all pretty already now
the next thing that we want to do is
actually program a function that is
going to use percent change and just go
through everything and make all these
percent change patterns and so that's
that's what we're gonna be doing in the
next video so you're welcome for a
percentage change and a bunch of talking
anyway hopefully that sounds interesting
to you guys hope you guys are exciting
excited for the future videos as always
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>