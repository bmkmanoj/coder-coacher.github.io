<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Charting Stocks and Forex in python Part 20 - How to add RSI to matplotlib graph part 2 | Coder Coacher - Coaching Coders</title><meta content="Charting Stocks and Forex in python Part 20 - How to add RSI to matplotlib graph part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Charting Stocks and Forex in python Part 20 - How to add RSI to matplotlib graph part 2</b></h2><h5 class="post__date">2013-09-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kATm9miAlXo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
the 20th financial charting tutorial
with Python and matplotlib this is where
we've left off and so yeah let's go
ahead and get started let's start
editing this RSI chart a little bit more
or like its plot of the RSI so come over
here and the first thing I'd want to do
is let's go ahead and take let's take
that volume color that and let's use
that for RSI plot that and let's go
ahead and make the line with 1.5 let's
see where we stand at the moment not the
best not the worst we'll stick with that
for now
we'll probably darken it later but let's
fix up the RSI first okay so the next
thing we want to do is let's add those
lines I suppose so come down to this
we'll do it
right here we can probably get rid of
this Y limiter we're gonna need that
anymore the other thing we should
probably do is this is going to exceed
the plot so we'll do that
the typical - SP : + - : do we have SP
actually defined here or is that me
there it is okay cool so we can
definitely still fit in SP there okay so
the next thing we want to do is let's
draw those horizontal lines so we'll say
a X 0 axis horizontal line a X h1 and
the parameters we want to 70 and in fact
what we'll do
for now is take this and we're going to
call this RSI color and we'll define our
eyesight color now our color equals that
okay so then we'll come back down here
so 70 and then color equals and then a X
0 dot ax line one another one at the 30
mark and the color for it all again the
RSI color save that the other thing we
want to do is set the ticks I don't
think we've done any ticks setting here
so down here a Xcode set underscore Y
tits remember how we made this empty
parameters at one point now what we want
to do is actually specify the parameters
so 30 and 70 and that think we'll cover
it let's see what weird what we got at
the moment awesome
so there we go now we've got a perfect
line right at the 70 marked and right at
the 30 mark so you can see like okay
oversold and then overbought and so on
so now let's see the only oh dear go
away
the only other thing that we've got is
this these plots here really I just want
a 70 and a 30 no I can't quite figure
eyes why those ticks are showing maybe
because I'm pruning it so my goodness
okay cool so now we've got it fixed so
we've got just the 30 in the 70s oh yeah
I guess so is that prune because we were
getting rid of the 30 and then the I
don't know I didn't know what to do with
itself or something I don't know so okay
close out of this and now the next thing
that we want to do is we can add a
filler so like if it's above or below
like you kind of like fills in the line
right so the way that we could do that
is a X 0 dot fill underscore but
and what we want to do is between I
think we can just take this yeah that'll
work
fill between copy that date RSI and
seventy right that's seventy line and
then you want to say where RSI -
openness - SP :
these greater than 70 actually let's do
greater than or equal to 70 , face color
that this caps gone face color equals
RSI color and an edge color equals RSI :
hmm now the next thing we want to do is
do basically the same thing for 30
so we'll just copy this fill between now
this time it's gonna be 30 and then
it'll be less than or equal to 30 and
then the same parameters will save that
let's plug that up shoot hold on where
what I'm not quite sure maybe
okay we're equals that's what we try
this now I should work awesome so now
you can see that where it goes above
like it filled it in and maybe later I
think what we might do is make like the
top line read the bottom line green you
know and kind of like make it a little
cooler but for now that's a basic fill
function so the sign sits above it fills
it in makes it easier to like just
quickly glance out and be like oh okay
yeah and so like if you did zoom in on
this point Oh apparently we didn't share
at x-axis here need to share the axis I
can't believe we didn't do that so let's
close out of here a x0 that's cool so
just add the share X equals a X 1 so
indeed we will have to put this below so
let me just cut that so highlight that
entire a X 0 function and underneath a x
1 slap that in share X X my hopeful e
well it's the problem officer o comma
that save that run that ok actually so
what we're going to do okay move we make
0 one more time below the hole legend
thing so it's trying to do the legend of
that and that wouldn't work out so now
I'll put it below that then add your
share axis equals ax bar and now run it
looking better okay so now it's actually
able to do that data now the only thing
that we'd want to do is the candlestick
we want to do minus SP and volume we
also want to do minus SP sure ok so that
what's that's go ahead and solve that
problem real quick and then we'll cut
the video here copy and paste that - SP
come down here and so you'll want to do
that and that so to the date and the
volume you want that - SP and then also
on ax one where we're actually plotting
the candlestick we want two x one stays
the same new array you want that and
that should do it
so okay cool
okay well we're more axes and we're data
man this stuff starts getting really
intense anyway just wait till we get to
Magdi cool so I think now we're shared
AXYZ let's zoom into a spot here perfect
okay we've got the shared axis going on
so that's good got the RSI I've got the
lines on the RSI we need to kind of dark
in this a little bit maybe make this red
and green but finally we actually have
the RSI there looks like we're sharing
the axes we've got kind of dim this out
a little bit so the charms looking
pretty good again probably to be fully
completed it needs to price a RSI with
14 in there and this would be a little
darker and then the chart would actually
look pretty darn good at the moment but
we're not satisfied yet we want to do a
couple different things the RSI and then
also we do want to eventually add the
MACD indicator to the bottom of this
chart so stay tuned for those additions
if you're interested as always thanks
for watching thank you for your support
your subscriptions and until the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>