<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding the graphing to the Screener - Programming and Fundamental Investing Part 15 | Coder Coacher - Coaching Coders</title><meta content="Adding the graphing to the Screener - Programming and Fundamental Investing Part 15 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Adding the graphing to the Screener - Programming and Fundamental Investing Part 15</b></h2><h5 class="post__date">2013-10-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/38rxOJSpuxc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to the 15th
fundamental investing with the use of
programming tutorial where we left off
we were using this website quando to
pull data and then eventually generate a
chart of that data like this and now
what we want to do is combine this
capability with our screener so possibly
as we screen if we want to see the chart
of a company that meets our requirements
then we can generate a chart just like
this and then eventually we'll connect
it to that other charting stuff that we
did so so that's what we're gonna do I
just started with a blank slate
basically and what I'm gonna do is this
is the old this is our screener
basically so obviously if you wanted to
screen against the whole Russell 3000
that's all this if you wanted to this
was a smaller version of the Russell 3
so these were kind of close like decent
ranges but not quite something we did
invest in and even better was very close
to what we were interested in but at the
time the market when we were doing these
videos market was really on quite the
high at the moment so I don't really
think that many I don't think we found a
single company that met all of her
requirements so that was kind of a
bummer but right now I actually the
markets and a bit of a slump so so maybe
we'll be able to find something a little
better so with that this was just our
screen or you've already seen the
screener certainly you know what's going
on it's screening the stocks and then
eventually what we'll probably do is add
a little bit more logic to this entire
program to so basically the first thing
we want to do is well first let's copy
and paste this over and then we'll come
and close out of this we don't need this
this one anymore so I'll bring this over
now and so the first thing that we're
going to want to do is come up to
the top here and we need to make a
variable called show charts so show
charts and this is going to equal raw
inputs this allows the user to put an
input and it's just gonna say would you
like to show the financial charts or
financial data charts I guess and then
we'll say yes or no : and that is what
this show charts variable is going to be
so if they enter a why that's what show
charts will equal if they enter an N
that's what show charts will equal so
the next thing now the idea here is
basically if we're just screening the
entire Russell 3000 to make you know a
smaller list of things that might
eventually be there right so generally
you're gonna want to at least whittle
down the Russell 3 so you wouldn't want
to go against the Russell 3000 every
time like it's gonna take a really long
time to get through the list and then
also it's gonna take a ton of bandwidth
from you and Yahoo so if you're just
looking to see a range of stocks that
are tickers that are within at least the
ballpark of companies you'd consider
possibly investing in if they shrink a
little bit then or if the price came
down a little bit then you know maybe
you're just looking for an under 20 p/e
or under 1.5 price-to-book
etc you're not gonna want to graph all
of those as well that would get really
tedious you know so you don't even
really care to see those charts so hang
on what you're doing if you're just
strictly screening the Russell 3000 to
make you know a level two screened list
or something there's no point to show
the chart so anyway if you're not
looking to show the charts we'll just
throw that variable in there for now
later on we'll make this a little bit
more logical and useful so anyway that's
that the next thing that I want to do
let me make this a little bit wide
actually so the next thing we want to do
is basically once we've gone through the
screening process and say it meets you
know these requirements that we've set
here and again I think that probably
what we'll end up doing in the future is
either at the beginning it'll ask us you
know what values we want to set or I
think probably a better thing would be
you know what do you want to screen and
then we'll just preset the values you
know so like a level two list would be
you know any up price-to-book under 1.5
if you eat p/e ratio under 20 etcetera
and then it'll just say do you want to
do you know level one at one screen
level two screen level three screen
something like that but eventually we'll
get there right now I just want to show
this stuff so if it meets all these
requirements what it's been doing is
printing out the stock and just the
basic data on that stock at the moment
so really all we need to do at this
point to connect the screener with the
cuándo thing that we just made is just
put all that cuándo code right in here
right so if it met the requirements it
was spat it out so if we just stick it
underneath this if statement it'll also
only chart if it meets these
requirements right but there's one last
thing that we need to do clearly and
that's actually throw another if
statement asking whether or not show
charts was indeed a yes or no so the
next thing just just to keep us making a
little bit of sense we should do an if
statement up here as well so if show
charts equals and actually missing to be
sure charts dot lower this way you can
enter an uppercase Y or a lowercase Y
and it wouldn't make a difference if
show chart style or equals y crimp okay
uh charts will be shown
well I guess L if show charts dot lower
equals and great charts will not be
shown and then finally if nothing else
invalid input no charts now the next
thing we want to do is let's just copy
and paste this if statement we're going
to use it and come down here and since
this stock right met all of these
requirements now we'll just stick this
if statement here so if show charts if
the user does want to see the charts
let's make some space now we're just
gonna copy and paste this code so
starting with the end of this exception
all the way to the top of this script to
net income you know right copy that come
over here enter down literally paste now
the alignment is going to be wrong so we
highlight go up to where this actually
begins so the net income depending on
how you did it net income is probably a
right aligned correctly but this stuff
is not so go to highlight there and if
you're in the idle IDE hit tab tab tab
tab and now everything is aligned
correctly so yeah I see we didn't have
any title added there so let's go ahead
and add a title to this and we could
either add the title here at this point
or we can use because when you make all
these extra axes just like we were able
to do plot why label without defining
the axes just whatever axes is strong at
the time so if we come down here and
wheelers to say plot title it would plot
at the title and access 3 but what you
can do is called how my tab broke again
I happened in the last video it's it's
quite annoying anyway you can do PLT
dots up title for super title and in
there we're just gonna throw the
variable stocks like whatever the stock
is I'll throw that title in there which
reminds me we need to change one last
thing as well here our variable is stock
and in our cuando program we made the
variable ticker so just replace the
ticker with stock in the three URL spots
and that's the only place we had it now
that is all for each stock in of
interest we can let's we don't need a
print even better so we're not making
that array we never appended to it so it
doesn't really matter so we get rid of
that and I think we're ready to go so
let's go ahead and just hit save and
close out of that just in case and run
and the first thing that pops up is you
know would you like to show the
financial charts in our case yes we
would
okay charts will be shown so now it's
screening it's gonna look for a company
and I'm pretty sure it finds one pretty
quick boy maybe okay there we go a fam
met the requirement up hold on oh gosh
okay so if it's starting to go crazy
onions because we didn't do their import
so if it's running through everything
hit ctrl C on your keyboard and that'll
that'll interrupt interrupt it sorry
guys
so we need to import or add all those
imports so like if we scroll the top
here these imports here basically so
highlight of the old script right the
map plot lived the stuff that we were
just plotting cuando to highlight that
copy come over to this script to come to
the top and we just mean actually we
don't even need this here and paste all
that it takes a second because it's
Russell 3000 array is well obviously
3,000 companies so that's why if your
scripts a little laggy that's
probably what's going on so anyway now
we should be all set we've got numpy in
there so let's save and let's run it
again and actually the only clothes I
think the old window so we'll have a
nice clean window bring it over would
you like to chart yes we would okay
charts will be shown and we'll wait
again I think the last time it came up
pretty quick although we didn't actually
get a chart there we go a fan and good
looks like a good chart this time so
anyway here's a fan so it met the
requirements at least that we set you
know for these so it's under one
price-to-book it's P eg ratio is one
point three one really we'd want it to
be under one trailing p/e is 13 and here
we've just got some of the financial
data you could also have other data to
like you know forward oh I see my finger
third PE and maybe some other stuff but
surely definitely it's always a good
idea to compare the forward p/e to the
trailing p/e because that gives you an
idea as well of like what people are
expecting as far as growth even though
we also have the p/e G ratio - but
really the p/e G ratio incorporates
growth and so it's always meant to be
under one so they're really sure I think
the best way to compare whether or not
people are expecting more growth is to
compare the trailing p/e or like the
current p/e with a floor would be but
anyway so now we've connected our quando
chart with our screeners so the only
thing that's popping up here are charts
that and I'll even close this and we'll
run through hopefully wand chit-chattin
and we'll get another one the only one
that you know charts that will actually
see our companies that meet our
requirements and then we also you know
print out the data here but if you
scroll up you can see you know what
stuff meant our requirements here so
this company actually looks pretty darn
good it's the only problem is it's got
you know 11 debt to equity ratio the
other thing too you can look at least
with quando for sure
is dividends so we could also require a
dividend you know Sonny I think that's
kind of changing a little bit more today
as far as value investing is concerned
whether or not you require them to have
a long term history of dividend payment
but if that was a factor you can also
check dividends on at least quando for
sure and I'm pretty sure you can do it
on Yahoo too
here's another one Anna lien there's
massive debt to equity reach okay anyway
you can look through some of the
companies and we could continue making
this list smaller and smaller and like I
said I think we'll be able to get a lot
nly is actually Anna Lee so we're still
in the A's so clearly a lot of companies
are gonna meet these requirements so
like I said we're kind of in a slump
right now in the market let me show you
where we are so this is where we are now
of course today is Saturday but anyway
as you can see here's a slump here's a
bit of a slump and the last time I was
making this video I'm pretty sure we
were like right here okay and then at
least we're kind of lower now so
hopefully we can find a few more
companies that'll be more useful than
the last time I was making these videos
so that is video number 15 in the next
video what I'd like to do is interesting
wonder why we're hitting this 404
possibly hitting the 404 because we've
maxed SEC's I'm not using my my key my
auth token you know so obviously in a
scenario like this where we're hitting a
lot of companies make sure you're
definitely using your auth token because
you're gonna get this 404 when they when
you maxed out your 50 your 50 visits
anyway so it's going to conclude this
video hopefully you guys have enjoyed in
the next video what I'm gonna do is
connect this charting stuff to our old
charting program and if you haven't seen
that one let me pull that one up real
quick basically in that tutorial series
what we got to apply
was basically who's asked you any stock
you wanna plot and it's gonna visit the
Yahoo API for all the prices and then we
did some analysis on it so you say
Yahoo pull up Yahoo we've got it it's
about two years of Yahoo here three
years so we pull up the char this is the
candlestick chart then we had a twenty
moving a simple moving average 200
simple moving average RSI on top MACD on
the bottom that you guys are taught how
to generate volume here and what I was
thinking of doing is putting in the the
three charts that we're pulling from
cuándo as well just put those down here
basically so we'll make some more space
on this chart and put those three charts
down here and then you know you'll have
the price you'll have moving averages
RSI MACD all that stuff so all kinds of
information and also maybe if you only
wanted to see the price at the time and
you didn't really care about the RSI or
you didn't really care about the MACD
you could just remove that or even just
replace instead of Magdi being here you
could put it in you know revenue or
something like that so but anyway I'll
show you guys how to have all of that on
here and we'll incorporate instead of
asking stock to plot the only stocks
that'll plot our stocks that meet our
requirements so anyway that sounds
interesting to you stay tuned to that
video and as always thanks for watching
thanks for your support your
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>