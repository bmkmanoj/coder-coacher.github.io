<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scikit Learn Machine Learning Tutorial for investing with Python p. 6 | Coder Coacher - Coaching Coders</title><meta content="Scikit Learn Machine Learning Tutorial for investing with Python p. 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scikit Learn Machine Learning Tutorial for investing with Python p. 6</b></h2><h5 class="post__date">2014-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cdaMWZIy5vA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to the sixth
part of our Python and machine learning
tutorials series in the last video we
were talking about how to kind of pull
out the data and acquire the data now
we're going to be talking about how to
structure the data and kind of orient it
for ourselves
so the first thing that we're going to
go ahead and do is we're now going to be
using pandas so in the generation of key
stats right here at the top before we
begin our four statement or for loop
what we're going to want to do is we
want to say DF for short for data frame
equals panda's dot data frame with camel
bull camel casing so capital D capital F
and then here's already just specify
some starting columns for our data frame
so we say columns columns equals and
this is a list and we're gonna have four
elements so just fill it in and we're
gonna have the elements of date units
ticker and then for now we're gonna call
it de ratio later on we'll probably
stuff maybe gather into it or maybe
we'll put the data frame up here as a
you know glow and use it globally I'm
not really sure how we'll do that and
then we'll probably you know pass in
something like this but we'll cross that
bridge when we get there for now this
will do now with pandas I don't believe
there's a really truly efficient method
to appending to a data frame other than
the recreation of a data frame object
every time so when you use pandas in
pandas dataframe it's actually a
relatively quick process but for what
we'll be doing we're pulling this data
out and kind of structuring it it's not
the fastest method but when it comes to
actually using this data later on it'll
be totally fine
simply using pandas for now to kind of
structure the data and it will actually
be outputting it to a CSV file so there
we're gonna now let's let's just get rid
of printing the full path and we'll also
just get rid of the ticker print we
don't need those anymore and so we've
defined our data frame now we're gonna
go ahead and do is here's our source and
I we can leave source there for now and
what we'll try to do instead is we're
gonna do this we're gonna say try :
we'll tab over this value statement
there and now we're gonna say DF D
equals D F dot append and and here you
append a dictionary okay and whenever
you append a dictionary of values you
have to say ignore underscore index
equals true so now we're going to pend
the values and the way that we do this
is we basically just append values in
the sense that our of our columns so you
would say you would have you know update
colon equals something and then we'll
have UNIX colon equals something ticker
colon equals something and then D ratio
colon equals something
so now we'll fill in date there UNIX
here ticker and then de ratio and now
date is going to be equal to date stamp
units will be equal to unix time ticker
will be equal to ticker and then de
ratio is equal to value so it's kind of
a long statement there let's see if I
can yeah so that encompasses the whole
statement so if you feel like you're
behind or something or you didn't quite
get it pause the video here this video
is 1080p you can make it full-size and
you can you know kind of look into this
so that is that that should be it for DF
dot append
and we do not have an accept yes so
let's throw in accept exception e and
for now we'll just pass the reason why I
will do this is some companies won't
actually have a even a value there for
in fact what we ought to do is we're
gonna now actually say we want to
convert this value to a float so when I
kill two birds with one stone here so
sometimes you might get a not available
or a blank or whatever and so what we're
going to do is we're going to attempt to
convert it to a float if it does not
convert to a float
we'll hit an exception and we'll just
pass we won't even deal with it so we're
not gonna bother with anything that's
not available or not a float after that
we're all set now what we're gonna do is
we want to save this to a CSV file so
we're gonna say save as the name and
we're gonna do gather and we're gonna
like name write this file so what would
we need to change about gather to make
it a proper save file well we have to
get rid of quite a few things but we'll
say gathered at replace spaces with
nothing dot replace parenthesis with
nothing and then we'll basically run the
exact same thing only with a separate
parenthesis this one then we'll go ahead
and replace any slashes we can't have
those with nothing and then at the very
end we'll do say plus STR and that will
be the string version of dot CSV that's
not totally necessary but anyways we'll
do that that's gonna bother me well just
do Pasillas be not quite sure why put
string version of a string so cool we
will print save and now finally we'll do
. to underscore csv as the save done so
now we run key stats and hopefully that
will run and give us our save file so
let me delete the one that's existing on
my machine save run error pandas is not
too far
where did that call pandas pandas
dataframe okay yeah I wrote pandas we we
were imported pandas as PD try long time
oh you know what shoot let's look cancel
hey this is doing all the stocks it's
gonna it'll take quite a while
so for each dirt in stock list 1 : 5 now
run it so it only do like the first 5
stocks ok so it saved it as total debt
equity CSV that is this file here open
it up here we have the actual file here
de eunuchs ticker DD ratio this is index
so that's why there's nothing here in a
comma this is the index 0 1 2 then you
can see we have all of the values from
the company a AAA Apple and one for a
heavy for whatever reason so now what
you can do is you can run just 1 : and
that should probably take a decent
amount of time I believe it's about 40
seconds or so
so I'll start wrapping up the video just
kind of save this file make sure you
have it for all the companies and you
will have basically all of the data that
you need from here we still obviously
have a few other things we want to do
the major thing we need to do at this
point is we have the data but now we
need to label that data as this company
is a bye-bye or this company is a cell
so anyways that's what you guys have to
look forward to so if you guys have any
questions or comments on this video
please feel free to leave them below
otherwise as always thanks for watching
thanks for all the support of
subscriptions in until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>