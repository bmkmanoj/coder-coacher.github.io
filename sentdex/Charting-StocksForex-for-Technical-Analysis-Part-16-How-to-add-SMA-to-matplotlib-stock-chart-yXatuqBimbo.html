<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Charting Stocks/Forex for Technical Analysis Part 16 - How to add SMA to matplotlib stock chart | Coder Coacher - Coaching Coders</title><meta content="Charting Stocks/Forex for Technical Analysis Part 16 - How to add SMA to matplotlib stock chart - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Charting Stocks/Forex for Technical Analysis Part 16 - How to add SMA to matplotlib stock chart</b></h2><h5 class="post__date">2013-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yXatuqBimbo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is up everybody welcome to the 16th
financial plotting tutorial with Python
and matplotlib I am your host mr. cent
Dex and let's get started so where we
left off we got this simple moving
average a couple simple moving average
lines going down to 26 and 12 we've
decided that those need to be color
changed line thickness changed
wow that was some serious zoom and then
also we noticed this little gap here in
our volume just looks unprofessional so
we're gonna go ahead and fix that as
well so let's go ahead and hop into that
and get started so let's just scroll up
to the top orient ourselves you know the
deal so let's go down now that we've
been oriented and scrolled all the way
up let's go all the way down first thing
I want to do is underneath here let's
define a couple labels so we'll just say
label actually this under cases label
one label to label one and two are going
to correspond to the string version of
MA MA one plus and then just like a
pseudo space basically s ma and then
we'll do the same thing for the one
below just using ma two and now we have
our labels although they're not actually
doing anything but they're at least
stored the variable so now the next
thing we want to do is come down to our
actual plot here so that's these and we
want to add in a few things so the first
thing that we need is some color to both
of these so in this one we're going to
change to a I think actually
yeah let's take this spine color there
and then we want to say what is the
label of this line well it's a v1 right
so which one was a v1 well ma one label
one so label equals label one and then
four line wait let's make them a little
thicker because they're kind of hard to
see last time so we'll say one point
five the default is one so we're gonna
copy this and paste it save ourselves in
time change this to label two and then
for the color will do a 1e D F and save
that run it and here we have a little
bit better chart you guys can play
around with the color if you're you know
just not happy with my color choice lets
them into a specific spot here okay so
now you can see that we've got you know
our simple moving average line and you
know it's at least a I don't know a
decent color so now the only thing okay
right so we've got volume and then we
want to add the the legend so let's fix
this volume issue first there is volume
in so instead of volume in equals you
know whatever the minimum of volume we
already know what the minimum volume
could even possibly be and that's zero
so save that run it again and now you
can see that you sure enough this thing
is like fixed you know you don't have
that issue anymore so that's good let's
see now the only other thing we want to
do is add a legend so that's pretty
simple so let's close out of this and
come up to a x1 here underneath the
label we'll just say PLT die
PLT got legend whoa cap in there brought
up a bunch of stuff I was odd anyway
legend and
by law stuff okay well anyway location
three that's like the lower left the
other thing I want to do well we'll get
to that in a second fancy box just kind
of the curved edges basically the fancy
box and then guess that's it let's see
how this looks at the moment okay so
here we have the chart we've got lines
simple moving average we've got our
legend the other thing that bothers me
about our legend is it's a little big
right like most people just want to
glance at the legend and that's it so we
kind of need to make our legend maybe
smaller so the way that we can do that
is adding another variable here from a
equals curly braces not as wear it curly
braces and then we're just gonna change
size to seven and this will just change
the font size to seven don't forget your
comma after it now we run it and sure
enough now it's kind of a smaller one
it's not so like massive and now let's
zoom into a spot and as you can see now
we're all set again so now that we've
done that I think that our simple moving
average quest is complete one thing that
is kind of hard to do is read the color
of the line on on here but that's okay
I'm not too worried about that oh the
other thing you might notice is like
like I was saying about the starting
point obviously we've got data happening
and then it starts right so we needed
that 26 points of data before it can
even start you can do what I did earlier
with minus SP right you can add that to
the candlestick data so it so it does
the same thing right so you're not
plotting the same data so like in this
case it didn't really matter because you
almost didn't even notice a probably
until i zoom
notice it but like let's say you have a
smaller data set like let's say you only
you only have like a month and you want
to apply or like three months and you
want to apply the same stuff it's gonna
look more like this it's familiar well
that's kind of lame you know that's
weird so what you can do is is just add
that same thing to this right so - SP :
- the candlestick and now when we run it
the data should be aligned so bring it
over
yeah sure enough the data doesn't start
until you know they all start at the
same point so that's kind of nice yeah
so anyways that should be everything for
simple moving averages again I'm not
sure you happy with these colors love to
play around with them so it looks kind
of goofy right now but that's not the
point the point is to teach you guys
simple moving averages so now you know
how to make simple moving average with
within your chart and probably the next
tutorial thinking will do the RSI
indicator next but we'll just see what I
feel like doing so as always thank you
for your support thank you for your
subscriptions thanks for watching and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>