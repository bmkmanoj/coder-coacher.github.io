<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial Web Development with Python 24 - Crontab / Cron jobs | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial Web Development with Python 24 - Crontab / Cron jobs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial Web Development with Python 24 - Crontab / Cron jobs</b></h2><h5 class="post__date">2015-04-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/p3PcNuB20v4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
another flasks tutorial video actually
this video is going to be more server
related but if you have a flask website
or any website in general you might find
that you're going to need the crontab
for whatever reason there's plenty of
reasons why you might so first of all
what is the crontab so the crontab is
this place where you can set up and
program scheduled tasks that you want to
run at various times these tasks can
basically be anything that you would
input into this line so if you wanted
you could put you could make a cron job
that run sudo Erb runs service apache to
restart if you wanted you can make a
cron job that does just that so let's go
ahead and jump in so first to get to
your cron tab you would do cron tab - II
for edit if it's your first time doing
this it's going to give you a list of
options for what editor editor you want
to use I use Nano but feel free to use
them if you're one of those vim people
or any of the other editors it doesn't
matter to me
so you hit enter I'm using nano sorry
boomers and we'll scroll down and there
is some information up here as far as
how it works but I'll go through it as
well so basically this is where it
starts this is all comments right here
and so these are my cron jobs that I
have set up on this is on my my flask
website so what do these means so the
each asterisk is a different thing so
you can see up here you've got M HDO m
mo n do W so what is that well this is
minutes hours a day of the month and
then you've got the month and then day
of the week so basically the each
asterisk you can think of it as minutes
hours days months weeks okay so for
example we'll leave these here but these
basically these are going
run every 15 minutes it runs these three
commands now maybe someone a little more
familiar with memory management can come
in and say hey actually this is the only
one you need to run I've heard kind of
conflicting information on this I used
to always just run this command alone so
pseudo echo 3 and then proc says being
draw caches and what this is doing is it
is dropping your cache memory so you're
this is your ram and for whatever reason
almost every website I've ever operated
and even even websites I've had people
create for me memory is almost always an
issue that's why we have that garbage
collection but generally you've got
memory coming in and out constantly
based on connections to your database
let's say maybe you're running stuff
with Python and just in general garbage
collection isn't perfect that's kind of
why if you have save your computer for
example sometimes you'll notice even
after you've closed every program you
look at your RAM your memory and you're
still using memory right and then you'll
do a reboot and then suddenly you're not
using that memory so memory can just
kind of pile up into what's known as
kind of garbage right or cached memory
so you can use this command to clear the
cache memory because your computer while
you might restart your computer very
often your web server almost never gets
restarted so you'll have you can even
have actually a cron that restarts your
server but generally you don't want to
do that because then you're going to
lose you're gonna have some downtime so
you don't really want that so I use
these to kind of clear the cache memory
because otherwise you'll notice that on
a long-term scale you'll just see your
memory slowly taking up and then finally
your server will run out of memory at
that point you'll either engage into
using swap memory which is basically
using your hard drive as random access
memory which is very slow or your server
will just come to a halt so depending on
which host you use generally
digitalocean for whatever reason
whenever I use them if you run out of
memory digitalocean just shuts down it
doesn't reboot and you find out the next
morning that your websites been offline
for
five hours that sucks so watch out
Linode has an operation called lassi and
it just automatically will reboot your
server
I believe digitalocean has something
like that just doesn't work at least at
the time of me making this video
sorry digitalocean but I'm just being
honest so anyway you'll definitely want
to have this now I still use
digitalocean for servers and for
websites even it just you just want to
be careful with your memory sometimes
these run every 15 minutes and then I
have here these also run every 15
minutes this is another version of every
15 minutes basically and what this one
does is this is going to run this the
following Python file and actually
probably should cut this one off I would
slow this one down although this is just
the developments over anyway so it
doesn't matter but this runs user
tracking so what this is tracking is I
can even bring up the file this just
tracks this and what this is is a file
that just connects to the database and
it saves information on my users since I
don't actually have a date that the user
signed up telling me I should have done
that but I don't I track users this way
and it's just a way for me to track
let's see if I can open up here's one
here it's a way for me to say okay
here's the date and then I have total
users total completed tutorials and then
average completed tutorials and that's
by user so as you can see luckily for me
as time has gone on well for the most
part it goes up as we scroll down now
we're up about nine tutorials per user
basically and we started off around
eight something I think and for a little
bit we dropped off there and those
probably because more people were
registering I don't know anyway just an
interesting thing to track over time I'm
just doing it for fun mostly but it runs
that you can run all kinds of stuff here
it can be any script really so for
example scent decks what runs here is I
have the web crawler so my crawler runs
on a cron a lot analysis runs on Cron's
grabbing the stock prices that's a
on job just anything that you want to
run and as you can see actually this
right here is the command you would
actually enter right into the line here
so same thing here you just have to keep
in mind you have to give the full path
you know if you're running a file or
something like that make sure you give
the full path otherwise it will run but
you can also always just take this just
in case you want to make sure the cron
will work you take that copy that
control X to get out and save it if you
need to but then paste it right in here
and run it and as long as that runs then
you know that things are good and make
sure you're at in the root directory so
CD and then the Tilby and then i'm
that'll put you basically in your root
directory so anyway you can check it
like that so that's the cron tab if
you're having trouble with the crontab
just google it so say you want to want a
cron job every five minutes type into
google how to run a cron or let's say we
want to do run cron every five hours and
the one result I get is actually every
six hours but we could look at it and we
can see this guy's done messed up
actually so this would this isn't even
valid but uh anyway that might actually
run every hour but anyway I'm not really
sure if the slash will work without the
asterisk but then you can see here that
um always actually even got too many
fields anyway you get your answer right
so I did every I wanted every five hours
I googled it I got someone saying every
six hours so then I could just change
this from a six to a five right and boom
that runs every five hours and then
there's other examples that we could run
so and pull this back up here so I just
wrote out some examples here we can zoom
in so this is just you know again the
reiteration of what runs this would be
every five minutes this would be every
five hours this would be every hour at
the one minute mark and then if you
wanted to run it every day at 2:45 a.m.
in the morning you would do 45 -
asterisk asterisk asterisk and the
reason you have the Astro space that
means every so this would be at the 45
minutes after the hour at the - of the
second hour
every uh every day every month every
week right so anyway um so in theory if
you wanted to run something every minute
you could probably get away with
asterisk asterisk asterisk asterisk so
that's the cron crontab if you're having
trouble with the cron tab or you know
scheduling something or setting it up
feel free to leave a comment below once
you get kind of comfortable with it you
get the hang of it pretty quickly and
you can always have like a log file or
something and make sure that whatever
you think should be running is running
so if you have questions comments leave
them below otherwise as always thanks
for watching thanks for all the support
of subscriptions and until the next
tutorial which will be covering probably
just general SEO I had someone asked
about you know how do you get your
website found after you create it I
thought yeah that might be a good kind
of conclusive tutorial to the series
anyways I'll probably still add stuff as
time goes on but that would be a good
one to close off at least initially on
so anyways that'll be in the next
tutorial so stay tuned for that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>