<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Next steps for self-driving vehicles - Python plays GTA p.8 | Coder Coacher - Coaching Coders</title><meta content="Next steps for self-driving vehicles - Python plays GTA p.8 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Next steps for self-driving vehicles - Python plays GTA p.8</b></h2><h5 class="post__date">2017-04-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E_lN40yhlzY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody and welcome to
part 8 of our self-driving scooter
course it's been about a week or so
since I posted the videos and what I'm
going to do in this video is kind of
catch everybody up to the changes that
have been proposed and made by just come
people rather than really me so I wasn't
really filming when I made the changes
so uh so yeah so if if for whatever
reason you don't care about that we're
not actually going to be doing any
coding per se were I'm just going to
kind of outline the actual changes that
were made in Y in theory you could skip
this video so if you're someone who
doesn't like to listen to me talk skip
the video so with that the changes that
were made
wearable first let's just talk real
briefly about one of the suggestions
that we had and that was that we could
we could gauge how much we wanted to
turn and also what speed we should be
going because partly what caused us to
run off the road in the first place was
our speed was too high for our turning
rules but if we made the turning rules
more liberal than they would in theory
probably just overturn all the time so
those are really hard balanced but what
we could have done is just calculated
the slope so if the slope was I suppose
you would say if the slope was really
steep then yeah you would go straight
ahead no problem go as fast as you want
but as the slope kind of turned to be
more horizontal that's when you probably
want to start slow now so some is a
really great idea a lot of people
propose that one actually now I'm
actually not going to implement it yet
we might still revisit this whole
concept down the line but like I said
before kind of the main goal here was to
create something that would at least be
able to validate or confirm that we're
on track but other than that it was
never really my intention or expectation
that we could actually have a fully
usable self-driving vehicle
with just those rules it just didn't
seem like that was going to be the case
so what we're going to be getting into
is applying a neural network to the
self-driving car now I got a lot of
comments that we're like can you just
use a convolutional
network or just can't you just use a
neural network but yes sort of you can't
just like throw neural networks at
things though so hopefully once we get
through this that'll make a little more
sense to you but that the world is the
machine learning is not just ya throw a
neural network and that solves all the
problems it's Ness is not the case but
what my plan is is we can use a neural
network I expect that what you know with
a neural network we can probably just by
going off of game frames and some
training data we can probably make a
good or decent self-driving scooter or
whatever I'm going to upgrade the
scooter scooter is getting too boring
for me but will well upgrade that soon
enough
but what I'd like to do is or what I
know is that with a neural network we
can get a good self-driving scooter a
car whatever but we're going to need
something else to get it to the next
level and my envisioned for that is
first of all you just need a lot of
training data so the more training you
have the better it's going to be it's
going to be very tedious for you
yourself to build that training data so
instead what you can do is get a good
self-driving car
scooter whatever and validate it with
the lines that we've got or whatever and
have it train itself over time in sort
of reinforcement learning but we're not
going to be using like cue learning or
anything like that we're just going to
have it reinforced with training samples
basically kind of what we did with the
core poll example anyway that's the plan
moving forward now let's talk about some
of the changes that we've made up to
this point so first of all here's the
github depending on when you're viewing
this video this github might not
actually look like this so I'll try my
best to make it somewhat makes sense
yeah but probably in tutorial codes
since this version is probably one of
the last versions of the whole lame
drawing thing I'll probably throw all of
these into tutorial codes so tutorial
codes I've kind of separated out these
are like the video tutorials and then
whenever we have like a main tie in this
real root directory of the github
project that's going to be like the
latest version so anyway the changes
that have been made here probably the
biggest one is the
a grab screen but also just note I've
separated out draw lane stop I obviously
direct keys that was already pulled out
and then grab screen so glad screens
what actually pulls in the screen draw
lanes its what the function that draws
lanes I was really hoping somebody would
take a crack at rewriting this but no
one has so seriously try so anyway but
that's okay that one actually works oh
right and the biggest issue was our
framerate and grab screen has alleviated
that so this is probably really hard to
see but basically what it's doing is
it's using PI win32 rather than the
Python imaging library now if you're on
Ubuntu or Mac although I'm not positive
how easily you can I know you can play
Grand Theft Auto on a boom too but I'm
not really sure how many of you are but
someone tells me if you're playing Grand
Theft Auto 5 on a boom - you're a crafty
person so you can play this out on your
own but anyway the faster way is with PI
win32 which is specific to Windows so
anyway you can keep using Python imaging
library if you want also now that when I
was reporting the first seven videos
there was an update to Grand Theft Auto
and the mods every time that happens you
got to wait for the creator of the the
trainer to update but now it is updated
and I just want to at least clue you in
if you're completely unfamiliar I'm not
going to get too far in depth but the
in-game trainer is a thing where you can
just kind of press a key and you can do
all kinds of modifications to the game
there's tons of Grand Theft Auto mods
out there but the two that I'm using the
reason why I'm using Grand Theft Auto 5
is because of the mods it just makes it
super simple so I'm using Alexander
blades in-game native trainer which is
what you see here but then also I'm
using the enhanced version which gives
me a few more options looks a little
better and allows me to save certain
vehicles and stuff but the main point is
you can do things like you can go into
the world you can say hmm
I don't want any traffic and now there
is no traffic there will be no cars
coming going so if you want traffic out
of the way you can say no traffic now
eventually we want to deal with traffic
but right now for what I'm going to do
in the next few videos I don't want any
traffic because basically we're just
going to try to train a neural network
and no traffic we'll just make that
simpler we just I just want to see the
most basic thing can at least a neural
network find the lanes and realize hey I
think we want to stay inside the lanes
can we get it a neural network to do
that simple task the next thing the
other thing that I like about it is oh
in world you can also change the weather
which I've already done
so I've frozen the weather to be just
total clear skies so it's perfect
lighting also I've froze in time so
pause the clock so again Sun's up and
high in the sky just for lighting
purposes anyway that's what I'm doing
over there again it's enhance native
trainer or enhanced rain I can't
remember but you can find it on GTA 5
mods calm but I'll let you guys figure
that one out on your own because I don't
really want to get too far in depth into
that it's also just not totally
necessary that you do that but it makes
it easier now
so grab screen we're doing that it
doubles the framerate so I had actually
done research into the quickest way to
get a screen shot in Python because
basically what you're doing is you're
taking screenshots as fast as possible
and I found that PI win32 is the fastest
but I couldn't figure out how to get it
to return a nice shaped perfect colored
image I just I just was just I was like
I'll try this later
and then by the time I were well before
I got back to trying it this guy had
submitted it and it worked drag and drop
no problem
so great that's what we're going to be
using for taking screenshots and just
recording the screen in general so
that's probably the biggest change and
it's great because that's like the
that's like the first step in a long
step of analysis that you're going to be
doing no matter what form of analysis
you're doing whether running a neural
network or we're doing open CV you know
algorithms so that makes a huge
difference all the way down the pipeline
so
super useful now other than that I just
like I said before I've kind of
separated out the files just to kind of
try to keep things as organized as
possible normally when I'm just
programming myself I tend to throw
everything in the same script but when
you've got something open-source like
this little easier because if somebody
wants to modified direct keys or they
want to modify draw lanes or perhaps
screen it's just so much more
compartmentalized so everybody else can
kind of see how it's organized so I
think I was I'll probably try to keep
doing that but I'm pretty bad about
doing that so if you have a
organizational tip feel free to make a
pull request so anyway what we're going
to be doing in the next video is getting
into using a neural network to attempt
to learn the lanes and again
the idea is to use the normal network to
make an okay self-driving car scooter or
whatever but then we're still going to
probably wind up using those lanes to
verify whether or not we are in a lane
and then over time we can use that to
continue building a data set so we can
have millions and millions of examples
the other thing I'd like to do is
somehow gather speed so how fast are we
going and there's a few ways to do that
the other thing that was brought to my
attention there's actually two major
things did I not save it I don't think I
saved it someone made a comment on
YouTube I need to save it before I
forget it was for a script hook in
Python where did that go somewhere
hmm I'll have to find that but the other
thing is deep deep gta5 so there's this
other github repository it's github back
on AI - tour slash deep gtav I cannot
find this why can't one of the ladies on
Twitter maybe I'm looking in the wrong
place
hmm I don't know I just saw it like I
just read it like right before I started
filming this but I'd transcript okay I
don't know anyway um there was also that
so we could use that to probably get
more in-game data like speed is one I
think isn't necessarily cheating if we
use it because a real self-driving car
would have access to like the ECU so it
would know how fast it was going so
there might be something I'll look into
I don't think I want to get into using
like a huge package like either of these
or an outside library just for speed
though but I might take a peek into it
there's this AI tour but then there's
also there is a Python is it V pilot
this it yeah so this if I could bring it
over is a tour of the pilot is just a
Python version and kind of communicating
with their their things so anyway I
might look more into that as time goes
on if you guys know if more projects and
stuff that kind of connect to grand
theft auto really easily or whatever
feel free to keep letting me know about
them because eventually they might prove
to be pretty useful for just getting
things more and more advanced alright so
I think that about clears it up
basically to carry on to the next video
make sure you have directions draw lanes
grab screen and main dot pi if you're
watching this right when it releases it
might be just like it is right now but
chances are it'll be in tutorial codes
and you'll have main and all the other
stuff will be thrown into there and then
now what we're going to be doing is
getting into neural network application
of all this stuff so that's what you
guys have to look forward to if you're
having questions comments concerns
suggestions whatever feel free to leave
them below otherwise I'll see you in the
next video and we'll start training a
did a driver scooter all right zoom in
this video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>