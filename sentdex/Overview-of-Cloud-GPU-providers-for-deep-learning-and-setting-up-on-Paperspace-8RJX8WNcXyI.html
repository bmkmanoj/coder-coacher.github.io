<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Overview of Cloud GPU providers for deep learning, and setting up on Paperspace | Coder Coacher - Coaching Coders</title><meta content="Overview of Cloud GPU providers for deep learning, and setting up on Paperspace - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Overview of Cloud GPU providers for deep learning, and setting up on Paperspace</b></h2><h5 class="post__date">2017-08-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8RJX8WNcXyI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody and welcome to
a videos tutorial ich on cloud GPU
hosting so since I've been doing the
deep learning tutorials I've had a lot
of requests to cover the cloud GPU
providers or just a cloud GPU provider
that people can use and show how to use
it so historically I'm just not a big
fan of the cloud GPU providers namely
AWS and Azure so over time at least when
I first started there really wasn't any
coverage at all you couldn't really do
deep learning in the cloud that really
wasn't any providers as you're kind of
active like they were provider but you
couldn't actually get them and then Atos
finally I think beat them to the punch
and then as you're kind of can now I
think if you got if you were like on the
inside of a jar you really pressed you
probably could have beat a to us but
anyways it's so relatively new going on
but the other issue I have is just
pricing it cost so much to have GPUs in
the cloud and it's not simple like it's
just not I don't think it's there yet
that said I recently stumbled across
company called paper space via a reddit
ad of all the things that was pretty
cool check it out and I was really
impressed by their product so that's
what I'm going to be covering today but
I do want to at least compare it on a
few points to AWS and Azure and at least
explain why I why I'm going to use paper
space over AWS and Azure so first of all
let's just check the pricing real quick
scrolling down to the dedicated GPUs
first of all you have options for GPUs
whereas on as our native US you really
don't you your option is K 80s and
really half of K 80s and combinations of
that whereas over here you have quite a
few more choices also I'm going to be at
least comparing the p6000 which is their
90 cents an hour offering and what you
get there is mainly the important thing
is going to be the vram which you get 24
gigs of VRAM coming over to AWS you've
got the p2x large p instances are there
compute GPU compute instances ninety
cents an hour doesn't quite tell you
vram here it tells you ram but not vram
coming over here you
at the vram which is 12 gigs of erm so
half the vram for the same price now
they do have double the RAM but your
main bottleneck is not your RAM it's
going to be your vram I'm not I really
don't I feel like 61 gigabytes of RAM to
match your 12 gigs of VRAM is pointless
honestly but anyway moving on coming
over to Asher's offering the NC 6th the
baseline it is a they claim it's one XK
80 for 90 cents an hour so you might be
thinking oh this is 24 gigs because the
k80 is 2k 40s basically glued together
so at KT actually has two GPUs unless
I'm severely mistaken but a whole K is
actually 24 gigs of VRAM because the K
for T is 12 what we come over here yet
to another page and we see oh no no they
say it's one x aka T but it's one of the
KD GPUs half of a physical card so as we
can see both as ER and AWS same price 12
gigs of ram but also for whatever reason
as are also has 56 kick bytes of ram i
think it's kind of comical the AWS just
had to eke out just a little bit more
ram so anyway that's that so i'm going
to using paper space if you want to
follow along from here which i wouldn't
watch the video otherwise you can use
the following it's a referral link it
will give you ten dollars in credit
though to kind of play around so it
shouldn't cost you anything to kind of
to follow along so you can definitely
check that and you have plenty of
leftover money to kind of poke around
some other stuff here so i'm going to go
ahead and that link by the way will be
in the description and actually before i
go someone i know someone is going to be
like hey centex
AWS has spot prices so first of all if
you know what spot prices are it's just
kind of supply and demand
so these prices are on demand prices you
pay ninety cents an hour that GPU is
available to you this is your GPU it's
dedicated so when you pay these prices
these are on-demand prices but with AWS
you can do spot prices which is just
based on supply and demand does AWS have
those resources available and it makes
for them to sell it then they have spot
prices now spot prices are another game
entirely it's it's not the simplest of
things but you can save money with spot
prices and so at least just for a quick
example let me pull it over you log in
you can go to spot requests pricing
history and and then we can change our
instance type to like a P instance so
yeah right here P - so as you can see so
this is for the the base instance so on
demand price nine cents base if we were
to extrapolate we would say a paper
space is at this forty-five cents mark
so right now over the last three hours
you could have you could use spot prices
on AWS but let's go back a whole month
okay so the story is a little different
you might be thinking well I just
wouldn't use us east 1a from my zone I
would use the difference in well the
zones aren't always available to you so
come on these people aren't stupid it's
just that this is what's available to
them so you can take a guess at what's
probably likely to be available to you
but do note that yeah you could use spot
prices and save some money although
you're still going to have spikes like
here and like this massive spike here so
there might be times where either you're
paying the on-demand price and double
basically what you would have been
paying for like the paper space let's
say or you're going to shut down your
server basically you're not going to get
anything done you're not going to
actually train at that time in setting
everything that's to just automatically
handle for this and be recrea fluid is a
lot of work it can be done and people do
do it people save a lot of money by
doing it it's not something I really
want to do and it wasn't something I
wanted to cover a tutorial on ever but
anyway
thought I'd bring it up so yeah you can
use spot prices but it's just it
introduces a new headache into the
equation and then also it's not
necessarily going to actually save you
any money
so anyways onto paper space what you can
do is you can go to your console now
I've already got a machine that is ready
because it can take anywhere like five
to ten minutes from what I found but
normally you might not have this machine
ready to go so you'd either hit this or
like new machine
hit that you can pick a coast it's not
really the biggest deal I mean you pick
the one that's closest to you because
they do also do like a remote desktop so
you probably want to be as close as
possible for latency purposes and then
you'll choose at least for this one
let's do public templates and an ml in a
box this will come with all like the
popular machine learning stuff in our
case that's going to be it comes with
you know Python three it comes with
penser flow already ready to go you
don't hit the GPU version in tensorflow
you don't have to do all that Nvidia and
the CUDA setup and all that just grainy
stuff right whereas again if you're on
AWS or Asher yes you do now I think a
debate us might now have an ami but but
the ami prices aren't the same as other
prices so again you've got to you've got
to kind of balance the balance out you
know the reality of a situation and I'm
not too certain that it's worth it on
AWS but for some people it might be but
anyways this comes already set up for
you come down here you pick a GPU we're
going to go with the base GPU these
other ones probably won't be available
to you but you can basically apply for
them you understand that like basically
the issue here it's the same on Azure a
native of us to like if you're a brand
new account it can be kind of difficult
sometimes to get a GPU because put it
put yourself in their position they're
like basically if you wanted to be a
scammers put yourself in a scammer
position what you can do is you can go
get these GPUs and you can go mine
equipped Oh currency it doesn't matter
if you're actually making money at
mining that cryptocurrency is on a GPU
doesn't really matter to you because
you'll just charge back all that money
or you're just you're never going to pay
in the first place so that's also why if
you use the referral link you do have to
add like a valid payment method because
otherwise people would just use that
referral link do ten dollars shut
everything down and then repeat that
process millions of times
anyways pick hourly so you be you're
basically charged on the hourly rate and
then you can pick your GPU pinger
storage you can pick any of these really
doesn't really matter
and then also note this doesn't really
scale linearly so 50 gigabytes is kind
of on the small side I would probably go
with something a little larger than that
maybe like 250 or something like that
but just pick one of those just one
machine but you could you could launch
with many machines at the same time also
you can set up snapshots basically like
backups public IP if you want to have a
web app on this specific server and then
how often or how many of those snapshots
do you want to save and you can change
this later if you want and then from
there you can scroll down and create but
I've already created mine and I believe
mines ready but you can go ahead and
just kind of pause while you're waiting
for your machine provision and then when
it's ready you can resume the video
so um now let me go ahead and launch
mine and this will launch its flight
click on it it'll launch you into the
desktop so paper space is really more of
like a cloud desktop provider that just
so happens to give some ballin GPUs so
the other thing you do is like cloud
gaming stuff like that on paper space
but anyway that's not what this is a
tutorial on so now what we're going to
do is I'm just going to show a really
quick example also I just want to pull
up real quick and like we can type like
Python 3 it's already here unfortunately
three point four point three the other
thing I wish they would do is get off of
Bluetooth for fourteen point oh four and
go with I don't know 1604 or 1704
anyways continuing along you can you can
update if you want though like you could
upgrade this version of a boon to
anyways so you've got Python here we can
do import tensorflow
and it's already here again it's a GPU
version hence pro you don't have to deal
with doing all the CUDA set up all that
stuff already been done for you you can
also import
Kerris tasks using the tensor full
back-end good to go but we're not
actually I'm not going to use cat eyes
for the example but if you have one I
mean you could just use that and at this
point we're pretty much done I mean
you've got everything I'm just want to
show a real quick example of actually
using the machine and all that
and so I'm going to quit and when you
create your account you should give
gotten an email from paper space for
gardening your actual password they give
you a temporary password and you can use
that if you log in by the terminal it'll
force you to change your password right
then and there if I'm not mistaken but
if you log on the desktop it doesn't
make you change it right away
and maybe this is making me let's see if
this is not but you can change it here
just do like passwd so then you'll enter
your current password so I'm going to go
ahead and change mine like right now and
then I'll make a new password
cool now what we're going to do is I'm
going to install TF learn so sudo pip3
install TF learn
yes sudo is required for installing -
yep learn okay dave learns it's old so
now what we're going to do is I'm going
to head over to Python programming net
and I'm just going to copy I think the
court pull example since that requires a
UI a GUI a GUI not just any UI Python
programming net and then I'm just going
to search carpol so this is like a
little game it's like a balancing game
basically if you don't know what it is
and it's from opening eyes gym
environment and again gyms already been
installed here you don't have to set it
up it's just it's it's just so nice that
you can just like boom done like so you
really can like here I really like you
can't get the spot prices but what you
can do is you can quickly set up a
server do what you need to do shut it
down and it's so quick it's so simple
also if you're on hourly pricing you can
keep your box up with you're using it
and then just shut it down you don't
have to destroy it you can just shut it
down and you won't be billed for that
hourly rate like cost you nothing so you
can always kind of keep that machine on
hand so anyways I'm going to start
copying this stuff I'll explain a little
bit of it but if you want you can come
to this tutorial and get a full tutorial
on it but I just really wanted to show
it an example so I'm going to go ahead
ekam an empty document and we're going
to call this quick test Scott hi I'm
going to open it they've got the Adam
IDE so that's fine I'll use that I
actually have never used the Adam ID
until just now but close all that let's
zoom in a little bit and I want to make
sure I'm like actually on the screen
here there we go
cool okay so I'm going to come over here
and just start copying some of this
stuff in so what this does these lines
imports that gym environment sets the
learning rate sets up the kind of
environment how many steps do we want to
take what's the school requirement
initial games so basically what's going
on here is the game is like you're a
cart any of a poll and the poll starts
to fall to one side or the other so the
object is to use the cart to move left
or right and to balance that poll and
then for every frame that the poll is
balanced I think it's plus minus 30
degrees or something from being fully
straight I can't I can't remember for
sure might be 15 30 sounds like a lot
but anyway when I get if it reaches that
then you lose or if you go off the
screen you lose so what we're going to
do is we're just going to randomly play
cart pull and then we're going to set an
arbitrary score requirement like 50
which is somewhat hard to hit and then
for the random games that score a 50 or
above we're going to use those and we're
just going to train a model and we're
going to see how good that model works
and if you follow the tutorial it's
actually kind of interesting because
what I found was that the average score
of all the games that we train off of is
far lower than the average score of the
ending model that was trained on all
those games so the model is does better
than the even the average of all the
models that we use to Train which is
super cool now anyway coming down here
this just runs random games so I'm going
to close this and we're not going to do
this it just kind of shows like a quick
example of running the environment so
now I'm going to do this initial
population
Coffee all this so what this does is
plays those random games in this case it
plays 10,000 random games paste and just
returns the training data for those
games this is our neural network model
it's just a really simple feed-forward
multi-layer perceptron model and also
just like this tutorial if you don't
know much about debugging stuff you can
come here and start either at the deep
learning part which is uses tensorflow
or you can start at very beginning of
all the deep learning tutorials also if
you have questions or whatever feel free
to ask so that's our deep learning model
and then also we this here trains it so
all that this is just our model function
basically and then this actually trains
the model on that training data that we
made just from again random games so
then here we're going to take this line
we'll create actual training data I like
to have too much space so we'll do that
if people are like you murder your Enter
key I'm really not hitting it that hard
it's just I think it reverbs through the
microphone pretty hard I think but
anyway what I murdered it so what stop
judging so nice training data create the
model based on that and that will
actually train and then from down here
basically we're just going to run
through ten games based on that new
trained model so training data here then
we do the model is just whatever the
result of the training model on training
data is and then boom we're going to
play ten games so we'll go ahead and
save that and let's see where are we
will change directory into desktop and
then we'll do Python three was a quick
test I think yeah quick test up high and
then so at first it's going to just play
a bunch of random games in the
background and then it should start to
train our model at any moment also I'm
going to open up another terminal just
control T by the way and we can check
kind of how things are going with top
actually prefer H top but I'm not going
to install that right now but the other
thing we can do to see if our GPUs
actually working is just use Nvidia -
SMI nesting is already done
pull it over so this is our actual AI
that's been trained so he just actually
just plays the game as you can see is
actually balancing it really well this
is what one of the better ones that I've
seen actually if you want to see what
random is - you could check out the that
like play random games function that I
kind of skipped but this is obviously
not random it's actually balancing a
poll look this one's good I can't wait
to see what the average score was on
this one average score 190 I'm actually
kind of surprised it's only 190 to be
honest with you those look really good
anyway to see what's running he's nvidia
SMI so i'll just run it right now and it
just it's like a snapshot in time so
actually right now it's only three 25
megabytes out of 8 gigabytes but if we
run it we'll just run this quick test
again once it actually starts training
we can run in for the SMI again and see
that it's actually using the GPU there
it goes right so now it's actually using
the GPU anyway that's just a quick
example in just a really quick example
of paper space you can also use just the
terminal let's move that over
you can click on this little thing here
you probably got a little message about
it when you loaded it up for the first
time but this way you can go back to
your console you can make this
fullscreen I'm not going to do that
because this is actually just a portion
of my screen you can restart your
machine you can shut it down save money
you can also go to terminal view so I'll
just click on the terminal view and so
here you can actually it's just like
kind of an embedded terminal and that
said if you if you did add a public IP
you could use something like you can use
SSH so anyways that's it for for now I'm
actually going to do the next tutorial
series I'm planning to cover is with
object recognition the object
recognition API from tensorflow and
there really wasn't going to be a good
like you wouldn't really be able to do
that on a CPU so I really needed to find
a solution that people could use a GPU
for and I think papers
is great but I didn't want to have to
preface that with this long of a video
on paper space because not everyone is
going to need paper space I just know a
lot of people have been one in a cloud
GPU solution and I think this is
honestly the best one that's available
right now so anyways that's all for now
if you've got questions comments
concerns whatever feel free to leave
them below otherwise I'll see you in
another video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>