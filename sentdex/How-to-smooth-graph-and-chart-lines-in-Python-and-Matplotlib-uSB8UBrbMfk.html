<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to smooth graph and chart lines in Python and Matplotlib | Coder Coacher - Coaching Coders</title><meta content="How to smooth graph and chart lines in Python and Matplotlib - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to smooth graph and chart lines in Python and Matplotlib</b></h2><h5 class="post__date">2013-07-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uSB8UBrbMfk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to another matplotlib
tutorial in this tutorial we're talking
about have to smooth lines out now
there's a few different ways to do it
this is going to be the most basic both
scripting wise and also processing it'll
be the least intensive however it isn't
necessarily always going to be the best
option and I'll show you what so let's
say you have a simple graph and for this
program we're going to obviously need a
few imports so we're at mat plot live
pipe fly as P ot and really that's all
we really need so now let's say you want
let's say we want to do fly let's define
our x and y variables first and we want
to do something like 1 2 3 4 and then Y
we want to apply 1 2 a 12 so next we
want to do PLT dot plot and we want to
plot x and y and then plot that show
this should be everything I think just
for this quick basic graph so sure
enough here is the basic graph now let's
say you had a lot more plots or
something and you really wanted to make
this smooth right you don't want this
jagged edge the jagged edge there's a
very quick way about doing this and the
quick way that I know of anyways comes
from a download of sy PI so what you'll
want to do is come over to your favorite
search engine which is probably Google
and you'll want to do a Sai PI download
here download move this over so you can
see just sigh hi download and then the
first option for you will probably be
this sourceforge.net click on that and
then you'll click on this download for
your for your computer now if you're not
on obvious if you're on like Mac OS or
you don't have python 2 7 or what
ever first of all get Python to 7 and
then windows 32 you know and depending
on whatever your operating system is you
might want to pick something else but
just make sure you get sy PI you know
you're getting this for Python once you
have that you've installed it I mean
we've gone through Concilium
installation so I'm not going to waste
your time with that pause the video or
something install it and continue on so
now what we want to do once you've got
Syfy downloaded we want a couple more
things first of all we want to import
numpy or numpy as MP and then we want to
do from sy PI dot interpolate import
spline now once we've got spline what we
want to do is we're going to convert x
and y to a specific number array so MP
or a parentheses closing prints here
this and this is also going to be an NP
or a now the next thing we want to do is
define new versions of x and y so we'll
say X smooth equals NP linspace and then
what you want to do is you want to have
X min and then X dot Max and then 300
we'll say and then Y smooth will be
equal to the spline of X Y and then
finally X smooth
what kind of users basically what it's
doing is you've got it's going to for
sure be plotting your x and y variables
like they will be plotted all right but
then what we want to do is plot this X
smooth line through those plots so next
thing we want to do now is I guess we'll
just change this so we want to now plot
X smooth and why smooth
save that and all we have to do to
change
now when we have this graph we have a
much smoother chart of the data now let
me show you why this isn't always the
best option
let's also apply the original x and y XY
save that run it and here's the original
X Y the green line is our original one
so as you can see every plot is indeed
covered and this is almost kind of like
a best fit line or so I'm not a best fit
line it's a horrible word for this it's
kind of like a trend line almost I guess
would be maybe a term you would use but
it's not even a trend line because from
here to here data never really dropped
right but yet this line is showing that
oh we had a decrease in data but no we
didn't because well we just didn't right
by it what this kind of reminds me of is
like in paint I wonder let me just pull
up a paint really quick and show you
guys how what this reminds me of and
paint you can choose this little
squiggly line you make a line and say
you want you know this to be a like this
you know a plot to this and then you
wanted to hold on let me make it smaller
actually hold on go it you want it to go
from here and then you want it to
connect and go to like a plot over here
even though it like went up you know or
maybe then go up as much or don't with
this line and let's say we draw a line
to here oops screwed up now in order to
get from here to here in a
decent-looking way you really need to
pull wow what happened oh my goodness
you really need to pull this way up like
that basically to make it smooth
transition from this plot to this plot
yet you've actually shown the data maybe
was higher than this plot which isn't
the case so anyway and then if we were
to continue this is the other problem
now you can see where data might be
lower is from this plot to this plot in
order to make that transition a smooth
transition you have to really do
something like that
right and so really the old plot was
like here and now you're showing that
data was actually under that old plot
and so that's basically what spline is
doing for you is it's creating nice you
know smooth line but in the creation of
that smooth line in order to make that
smooth line happen for you
they have to kind of exceed various data
limitations that so on your chart it
might look like something it never was
so for example you know obviously we
were saying here's a point where it
exceeded that limitation we never
actually got data that low whereas here
it wasn't as big of an issue because um
this was the plot then we went to this
plot we never actually exceeded any
limitation on the way from this plot to
this plot so in some scenarios it can be
okay but in quite a few scenarios it
isn't okay and probably in the scenario
where you're trying to smooth data out
it's probably not the best option so for
example let me pause the video and I'll
add a lot more data to this and we'll
see what looks like so now just one more
thing to further exaggerate this side
it's more data and it's a growing data
set and so on so we'll save that we'll
run this and now here is our new chart
so as you can see um you know start it
was okay I wonder if we can zoom in is
this and then all of a sudden our data
just explodes
so to start it's actually relatively
decent although let me zoom in further
yeah so like when you've got data that's
doing what I think is generally going to
work out here is when you have an
increasing data right or steady
decreasing data either way will work out
but as soon as you start whipsawing
that's when it starts to get really
messy correct it's so like here is an
example of that where all of a sudden
we've got an apparent data plot as high
as 1,200 okay we've never had anything
like that here you notice and so anyway
that's this is an exaggerated example
that I just whipped up for us that shows
where this can go wrong so the remedy to
this the way that you should be plotting
data if you want to
data out is actually with more of like a
moving average that will solve a lot of
your problems and that's how you know
most people will do it most people
aren't going to do something like this
because this is severely distorted data
so with that I'm going to conclude this
tutorial the next tutorial we'll be
talking about moving averages in graphs
and so many ways as always thank you for
watching thank you for your support your
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>