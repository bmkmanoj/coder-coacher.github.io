<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Matplotlib Tutorial 17 - annotations and placing text | Coder Coacher - Coaching Coders</title><meta content="Matplotlib Tutorial 17 - annotations and placing text - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Matplotlib Tutorial 17 - annotations and placing text</b></h2><h5 class="post__date">2015-07-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xLw9wf9uNuw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
part 17 of our matplotlib tutorial
series in this part what we're going to
be talking about is adding text to plots
we may be able to cover both there's two
kind of major methods you might add text
to plots you would either just add text
and give that text a coordinate location
or you can also add text to like a
specific plot and like maybe draw an
arrow that points directly to that plot
so maybe if some sort of big news
happened or something like that that's
how you would do that now
first we're just gonna plot some some
text and just give it a location so the
first thing I want us to do is if you're
following along linearly we're gonna be
referencing tutorial 15 here so tutorial
15 was about Styles so I'm just gonna
take that code copy and paste so if you
need this head to Python programming net
the data visualization get that I'll try
to put a link in the description that'll
take you directly there if you need to
if the link isn't there for whatever
reason someone remind me and I'll put it
there
I'm almost certain to forget it
initially so so someone remind me anyway
so we'll take that code from tutorial 15
paste that in here and this code was
using we're really just showing off
Styles so we're gonna go ahead and
reinstate the candlestick graph and
delete this close P stuff so this will
be our starting code now and so we'll
save that let's run it just to make sure
that it's what we're expecting right so
these are the a/b based thought prices
coming from Yahoo Finance API the
warning here is just because we've got a
legend but no labels so and in fact
we'll probably won't have labels for a
little bit so let's come down and just
comment out this legend so we don't see
that warning now what we want to do is
first let's just talk about how to just
put it like text on the plot so the
first thing that we could do for example
would be we may not get away with doing
a x1 let's try a x1 dot text and then
you put the text in some sort of
location so for us we can put this text
in
let's put it doesn't mean let's go to
this graph real quick
let's try fifty nine point five and this
one's kind of hard to cuz we're dealing
with date data but we can still actually
we can get away with this
well due date will do maybe like the
twentieth or something how many let's
see how many days we're doing one month
so we'll do date point ten maybe or
something you'll see what I mean in a
second so first you give the coordinates
to it so the X will say we'll put it two
dates so we're going we've got date so
date and then we'll say date the ten the
you know the tenth date basically and
then we'll put close P we'll do that at
the first one I guess so it'll hopefully
be like off of price and then you put
what you want it to say so we'll just do
a basis something like that
so first let's try to see if we can get
that to work right so it's got it marked
for us at that kind of starting price
and then or actually it's got as let's
say the X we chose to be the tenth day
and so that is here and then the why we
chose to be really the second price
because the first element would be the
second and that's where it plots that
now there is one more aspect that we
could do is we could say we could put
these out of fractional point but we're
not gonna really worry about that now
but you can put it here based on like
date and close price or you could also
do an axis fraction but we'll talk about
axis fraction at the point of doing the
annotations but now the next thing that
I want us to go ahead and do is like you
can change the font of like this that
shows up here so just for an example of
doing that let's close this
I'll come over here and so we've got
this text that we're showing to the to
the screen what we could do is we could
say you know font dict like this and
we'll say font dict equals and this will
be a dictionary
and then you can apply stuff to it so we
could say family so it's like the font
type we could say the family is serif
and then we could say the color and we
can give it a color of dark red so
that's an example of one of the like
many colors that matplotlib just has
built in dark red that's good enough and
then we could also we can modify the
size we could say the size is I don't
know 15 okay so that's enough for font
dict and then now to apply the font
dates to the text we would just add a
comma here and we would say font font
dict equals the fonts dict that we just
wrote here okay so now let's save and
run that one and now you can see yeah
it's given this kind of serif font and
colored it red and size 15 so that's
just an example throwing some text
autograph I almost never throw text on a
graph like this I you would use an
annotation generally but it's there a
lot of people like like the example
matplotlib gives it's it's like you you
would put the formula that generated
that graph on there but I would put the
formula as the title usually but anyway
that's how you can do that like if you
want to add maybe like a copyright or
something to your graphs you can use
that method so we're gonna close out of
this and now we're going to talk about
annotations so annotations are a little
more interesting because you can
actually point to a specific area so for
now we'll leave we'll leave this stuff
here just we'll school call this a text
example and now we're going to actually
add an annotation so the way that we do
that is we can we can do a x1 annotate
so a x1 dot a note 8 and then usually
what I do is an example annotation is
like big news right so let's see what we
would shoot for for big news with eBay
let's just try to find a price change
yes so try to aim for this spot right
here so that was this was 10 so probably
11 the date 11th is what we'll go for
it's anyway we're gonna annotate big
news or what will annotate bad news and
then we give the coordinate location of
like the news basically so the
coordinate location here would be date
11 and then let's do the high so it
points to the high price so high P 11
and so that's where the annotation will
be like basically point 2 and so we've
already shown dealing with our date data
down here but another thing that we can
do that I was talking about before is
actually annotate to a fraction of the
axes so an example of that would be you
could do XY text so this will be the
location of the actual text for the
annotation so you've got two locations
here you've got a location for what are
we annotating and then you've got a
location for where are we gonna put the
text that belongs to this annotation
that's what's gonna go here but instead
of putting it to like these coordinates
here or like calculating a coordinate
what we can do is we can give up a
fraction basically so it's a comes out
as a decimal but it's a fraction will
produce a decimal so we'll do 0.8 and
0.9 and then what we're going to say
here is we're going to say text chords
because the default is not going to be a
fraction but in our case we're gonna use
fractions we're gonna say text chords
equals axes fraction and this is just
built into annotation basically and so
what this will be is it'll be 80% of the
x-axis 90% of the y-axis that's what it
will place our annotation always no
matter where we are on the graph so
you'll see what I mean in a moment we'll
we'll uh we'll put this up and and kind
of move the graph around and you'll see
what I mean when we go to move it around
and stuff so well we've got that axis
fraction now we're gonna go ahead and
add is we'll add these arrow props
equals and this will be a dictionary
that contains the values of we'll give
it a face color you can give it any face
color you want
let's give it I think gray will be fine
and then comma and we'll do color equals
and we'll just give this a gray again as
well that should be fine so that kind of
gives us the chance to kind of customize
it a little bit and that's really that
should be enough for us so let's go
ahead and run that let's see what how we
do so you can see here it says bad news
and it's pointing to that spot that we
wanted we still have that example text
also let's see here setting color
property so we've already got default
edge color and face colors so let's go
ahead and let's close this real quick
and really we can get rid of everything
here hopefully should be able to get
away with that yes let's go back to the
original so so face color and edge color
if you if you recall that's being set by
our style so that's what it was kind of
yelling at us there but we're just gonna
we're overriding that at this point so
here's our graph and you can see we
still have our other text example and as
we move this graph around you'll see
text example moves with the graph but
our annotation here does not because we
were using AK sees fraction so it's
always gonna be in the same spot and so
we can move this around or whatever but
you'll see the text example text that we
added basically always follows us no
matter where we go but the cool thing is
that little arrow will always also
follow and it kind of just customizes
where it is so that's actually really
cool I was really impressed with that
whenever I first saw it so there's
you're a couple of quick examples of
annotations in the next tutorial we're
gonna be talking about is annotating
price over here so a lot of times people
have asked especially unlike the tkinter
series that I did where we did we made
like a Bitcoin application basically
that graphed Bitcoin prices and could
allow you to do some other stuff a
pretty popular thing that people do is
add price over here that way you add
like the last price basically to the
right hand side so that's what we're
gonna do we'll talk a little bit more
about that when we get there so that's
it for this tutorial if you have any
questions about annotating up to this
point annotating or placing text
I please feel free to leave them below
otherwise as always thanks for watching
things for all the support subscriptions
and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>