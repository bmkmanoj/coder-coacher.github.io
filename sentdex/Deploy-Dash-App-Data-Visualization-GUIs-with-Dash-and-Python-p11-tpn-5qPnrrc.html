<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Deploy Dash App - Data Visualization GUIs with Dash and Python p.11 | Coder Coacher - Coaching Coders</title><meta content="Deploy Dash App - Data Visualization GUIs with Dash and Python p.11 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Deploy Dash App - Data Visualization GUIs with Dash and Python p.11</b></h2><h5 class="post__date">2018-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tpn-5qPnrrc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody and welcome to
another data visualization with dash and
Python tutorial video in this video what
were me talking about is how we can
actually deploy our dash applications so
that we could just easily share it with
other people over the Internet
so right out of the gate this is going
to be about deploying it to a VPS like
your own virtual private server so you
can do a lot of customization things or
put a lot of power behind it if you've
got a really simple application that
doesn't need a lot of processing power
and you don't care what the domain name
looks like and and all that kind of
stuff if you just want to share it
probably the easiest option for you is
actually just going to be to host it on
here Roku or however you want to
pronounce that you can come down here
and there's like an official kind of
guide here for everything you need to do
to set this up to run on Heroku this
tutorial the one I'm gonna go over is
actually so you can set this up all on
your own on any VPS provider and the
reason why you might want to do that is
kind of the flip side of what I just
said if you want to have more processing
power you want to be able to set your
own domain name you want to be able to
add a I probably should say I'm
pretty sure you can do some premium
stuff on hiro-kun set your own domain
domain name but it's gonna be cheaper if
you go through a VPS so anyways if you
want to do it via your own VPS I'm going
to be using digitalocean but again the
whole point of this is that you could
use any one you want if you want I have
a referral link for digitalocean to give
you ten dollars in credit which should
last you two months because it's like
five dollars a month is there a cheaper
server but again the whole point is you
can use anything you want so you don't
need to follow digitalocean specifically
but if you are you'll want to make an
account go up to the top right this
should be like a green create button and
then choose whatever the latest version
of Ubuntu is that you can get the LTS
version so right now it's 1604 1804 is
just not out yet so I'm going to go
sixteen I'm gonna go with just the
smallest one since this is just a quick
example London I don't really care and
then we'll just call this - deploy
tutorial
no can't use an explanation anyway go
ahead and hit create wait a little bit
and you'll probably be emailed the
username and password so I'm gonna
probably have to wait a little bit for
that while we wait if you're on Mac or
Linux you can just use SSH and
everything's fine on Windows you can't
quite do that so I'm going to use putty
and in fact could use bash on Windows I
don't want to have to go through
everybody you need to set that up though
maybe I might use it because I've
actually never used it for anything
legitimate so or anything real so
actually I think I might do a live first
use case of bash on Windows but if you
don't haven't figured that one out you
can use putty just PU TTY go to their
website just google putty and it's just
a simple SSH program that you can use so
I'm gonna go ahead and check my email
see if I got the information I'm
supposed to get so I can actually log
into the server and we can get started
alright and we're ready to rock and roll
so I've got the terminal here I'm gonna
at least just try it see see if we can
use SSH well so I'm gonna SSH the root
user at and then the IP address for the
server that I've been emailed so
hopefully that'll do it and let's see if
we can get in yes this is the first time
we're connecting so it's just telling us
hey we've never seen this one before and
then now they give you kind of a funky
password so I'm just gonna hopefully
paste that and please work yes okay
sorry I've kind of gone off the screen
as soon as you connect at least via
digitalocean
since they set your own password they
just like gave you like a random
password to start you have to
immediately change it so we're just
gonna change it now so let's go with
giraffe I'm not sure it's gonna accept
that yeah okay let's go with giraffe to
giraffe - nice just enough complexity
okay so now I'm still off the screen
let's bring this up here then alright
now what we need to do is basically just
do the typical
flasks setup so I've already done a
tutorial on that so kind of waste too
much time well at least I didn't rewrite
that tutorial I'm just gonna run really
quickly through setting up flask app on
Python 3 the first things that we're
going to go ahead and do is we need to
yeah here we go so we'll just do these
two commands at the same time I suppose
so basically what we're going to do is
we're going to update we're gonna
upgrade and this should be on its own
separate line I need to fix that so
anyways we're gonna run an apt-get
update and apt-get upgrade so again if
you need a link to this put a link to
this tutorial and description which has
a link to this tutorial so yeah you
should just be copy and pasting these I
wouldn't suggest that you handwrite them
out but feel free if you if you so
desire so we'll go ahead and run that
that might take a while it's probably
gonna ask you yes or no at some points
we'll see there we go 27 kilobytes of
space we're gonna run out of space soon
oh and we're done okay so now we're
gonna go ahead and grab this repository
for Python 3 6 I wish there was like a
more official way to get python 3 6 for
some reason there's not so we're gonna
use this method again that should be on
a new line I'll try to remember to fix
that before I actually truly release
these tutorials so I'm just going to
paste that in we add the repository to
grab python 3 6 and then let's just do a
sudo apt-get update and I think I'm just
gonna move this over and I'll just kind
of narrate what I'm doing and then you
can also follow along so now we're going
to do is get python 3 6 and then python
dev just your 2 this is the typical
process you're going to go through every
time you want to install python anything
but in this case python 3 as well so
this will give you that compiler 2 so if
you hit compiler errors or whatever you
probably never did this this step once
we get this we're also going to get pip
3.6 you don't necessarily have to
do this you could use Python - em and
then pip install but we'll go this way
anyways that was quite ugly doesn't look
as good as it would on Linux but that's
ok ok so now that we've got the Python 3
6 stuff let's go ahead and get our web
server so the web server that we're
going to use for this is Apache the
other ones pretty popular is nginx but
we're gonna use Apache here a little
bigger than the other ones but that's ok
so this will give us a patchy and then
Apache dev and basically once you have
your webserver and then we have like our
web app code what we need is something
in between that's gonna kind of act as
an intermediary between these two things
and that's where WSGI comes into
literally standing for web server
gateway interface so we're gonna just
continue waiting on up there it goes ok
so now we're gonna install mod WSGI and
this is specifically for Python and then
nap oops I guess it's not done the next
thing that we're gonna do though is
we're gonna try to get that once this is
installed we're going to get this shared
object file for mod WSGI and wherever
it's actually stored because we're gonna
need that for some configurations in a
moment so this just gives us the two
locations so we can see this is where
the Esso is located and then we can see
where the WSGI python home is just in
the u.s. arm so what we want to do is
basically let me see if this is
identical it should be identical to
what's in my notes already I just need
to make 100% sure it is what you should
do is open up like a notepad like copy
and paste this open up a notepad and
just copy and paste it into there and
once you've done that we're gonna go
ahead and nano maybe that didn't copy
for some reason by the way if you didn't
know you can copy something and then
when you right-click in the terminal it
pastes it in probably too late for the
those of you who didn't know that by now
anyway copy and paste and so we're just
pasting that into there now let's go
ahead and control X yes to save
good to go so once we've done that what
we want to do is enable WSGI so let's
just a to so she just a past you to
enable the monde of SGI or WSGI rather
and then it tells us we need to restart
apache so go ahead and do that maybe
I'll do this copy over here okay so now
we've got WSGI we've got a patch e2 we
now need flask so probably could just
write this one out
pip 3.6 install flask so we grab flask
and now what we want to do is we're
gonna set up the Apache configuration
file for our app so again I'm just going
to paste that in and this is just
basically it's any configuration file
that's in sites available you can kind
of get you can call it whatever you want
pretty much but I'm gonna try to keep it
in line with whatever app is called so
for the record this is the first time
I've used I'm pretty sure the term flask
app so feel free to whatever you want to
call your application just like replace
flask app with whatever you want to call
it you don't have to use flask app so
now I'm gonna paste in we're gonna copy
and paste and so like this is just your
your configuration file so the only
thing that we really absolutely need to
change again you would change like you
would replace flask app in flask up here
and here
the only thing we really need to change
is this is IP that's obviously a local
IP address I already forgot my servers
IP here we go copy where oh boy that's a
while away and just paste that one into
here almost looks like oh no what have I
done
stop that okay here we go
okay so we've got the IP in there and
then if you had a domain name so I'm not
really gonna go over the domain name
here I've done it in eight probably I
think in the flask series but also maybe
even the Django series for actually
pointing a domain name to your name
servers and then from your hosts
including digitalocean in this case so
how to tie that all in so you can check
those out if you want for now we're just
gonna say hey this this this IP address
so when we visit this IP address this is
the thing that's going to be served it's
gonna say hey here's where our app is
located we're going to use WSGI - to
talk with that and all that fun stuff so
once we've got that that should be it so
let's go ahead and control XY save all
that fun stuff and then now what we want
to do is enable the site flask app so a
- insights so now we're gonna innate or
activate it so service Apache - reload
and now we want to do is actually so so
we've got flask and all that but we
don't actually have any app code at all
so what we're gonna go ahead and do is
just do a make Dirar
and then we're gonna set this in VAR WWF
last app and then what we're gonna do is
set up the WSGI file so that's inside
that first flask app so we paste that in
and for now this is just a simple flask
application so we just we're gonna go
ahead and keep it that way for now but
soon we'll probably change at least this
part but that's good so let's save that
good to go and now we actually need a we
actually need a the actual app code
itself so we're gonna put the app code
in one Mord so it's like flask app flask
app so what we're going to do is make
der flask app CD flask app and then now
we want to do is we're just going to
nano init dot pi so nano dunder init and
then in here we're just going
put the code from the basic tutorial
well it's going to be as a page that
when you load it just as hey that's
about it
we'll go ahead and exit save and run and
then let's do a service Apache to reload
and barring the mistake I'm positive
I've almost certainly made let's go
ahead and just do a three-point Python
3.6 let's just run in it dot PI real
quick okay it says the server's running
so I can run at least the flash server
so that tells me I don't have any flask
or Python issues but now what we want to
do is visit the actual IP address so
pasting that into my browser I do get an
internal server here what a bummer
that's gonna be a little harder for me
to figure out what is causing that
that's weird I mean we could check the
error log I suppose I really don't want
to do that though let's see let's try a
service Apache to restart nope hmmm
it could be the must be an error that we
made maybe oh shoot are we oh my gosh
how did we get into this /root victor
nano oh we never change directory into
okay well that was dumb
okay so what happened what was I never
you know I made the dirt and then I nano
directly into the WSGI file and then
from here assuming or thinking that I
was in this directory which I wasn't
I made flask app change directory into
flask app okay so actually probably what
we should do now that we've started
building some stuff into here let's just
our endure hmm I think we have stuff in
there so actually RM dash bar flask app
and then what we need to do now is
actually change directory into our flask
app area so it looks like we have the WC
eyes so all we have to do is add that
init init file so CD VAR w WS camp man
that was funny
okay so we have the WSGI so now we need
to do is make two flasks app into here
change directory into flask app mmm you
can't see anything
good enough and now we're gonna do nano
dunder init dot PI and then let's try to
copy and paste that code one more time
copy paste Python three six let's just
make sure it runs it does service let's
back off screen again service Apache to
reload and one more time let's see there
we go
okay so there's your basic flask
application running now what we're gonna
do is the - part so once you have that
all working the the changes that we
actually need to make are pretty darn
simple so what we're gonna do is I think
I'll just use the code from the very
very first tutorial so the first thing I
want to do is Nano back into init dot pi
and then I'm just gonna from the very
beginning of the script
hold ctrl + K just empties it basically
and then right click basically I just
paste it in the code from our initial -
example so the only change that we
should have to make is right at right
before so when you're running this when
you're running a DAT or a flask
application you're actually running via
the WSGI Python file that's like one
directory back
so this dunder part never actually runs
because it's not the main script okay so
what we want to do is is we want to
specify the the actual we just need to
give something like this like server
equals why are you doing
why is it doing that server I wish I
knew why it was - we might have to find
out why it's doing that
and actually it's just abducts server so
that's all we need to do there so let's
go ahead and save that and now let's
change directory back one directory Nano
into the flat
SCAP WSGI and then from flask app that's
basically the directory itself rather
than importing the app as the
application what we actually want to do
is we're gonna import server server as
the application also the other thing
since this is part of the dash series
that we've been doing and we're using an
SQLite database if you want to be able
to easily modify and work with you know
data that's in this directory you need
to give access to the WWE user so I'm
gonna go ahead and copy that in as well
so set that CH own line here and now
what we want to do is I think I think
we're actually done so let's go ahead
and service Apache to reload and we're
here we go of course I mean why not
right
oh you know what we didn't install any -
things let make sure that's in my code
what an amateur today I am kind of tired
let's see nope it's not in the code at
all so let's go to the basic - real
quick let me go back to part one so what
we need to do is we I'm positive that we
just need to pip install all the -
components because we just didn't do
that I'm gonna just gonna guess that was
the issue so going to part 1 of this
tutorial right here
the sudo pip install we basically want
this except it needs to be pip 3 6 so
I'm just going to copy paste that in I'm
gonna come to pip area here pip 3.6
let's install that we've route
man wait a while and hopefully I'm gonna
go ahead and guess that was it but let's
go ahead and change directory real quick
into flask app let's run Python three
six really oh okay okay so it does run
so we'll break that and service Apache
to reload let's refresh the page
it's looking good it's beautiful
it's just absolutely beautiful okay
so that is how to deploy your dash
application so as you saw like 99% of
that is really just setting up a flask
web server and then the last few seconds
is making it and allowing for your dash
application but nonetheless that's how
you do it so the other options you could
have had rather than installing all that
stuff and going through all those steps
is you could just use the the embedded
server which probably wouldn't scale
probably has all kinds of security
questions I think I've heard some horror
stories of people like using the flask
the actual flask dev server and all that
so like if you ran this you should be
able to if we run in it dot PI you can
see it's running on port 80 50 now you
might have to set host I forget I don't
think we set the host and stuff if you
set host equals yes so that doesn't work
but if we set I'm pretty sure if we just
set host equals like all zeros that
would work the tutorials over by the way
so if you want to leave feel free I'm
just kind of curious at this point
scrolling down so debug can equal true
let's say host equals and I think if we
just did that let's run it again
yeah the other thing if you really want
it to be bad and again don't do this
because we've already set the Apache
surfer but in theory you could use the
server as as your own I'm sure so if we
nano into init PI host can stay the same
and then we could just say the port
equals I'm pretty sure we it's just a
number in this case 80 save that and
then we probably since we have Apache
service patchy to stop and then now oh
wait we need to run it I bet we can do
this maybe maybe not
hmm wonder why that wouldn't work no
that's not what I wanted
oh there we go huh
some reason initially that didn't work
but yeah don't do that but you could if
you wanted but you shouldn't so I'm
gonna go ahead and go back in there and
not do that service Apache - I don't
know I think you could just say start
and there you go okay anyway
like I said the tutorial was actually
over a very long time ago it's just kind
of playing around so that's all for
deploying now what I want to do is in
the next tutorial we're gonna go over
the latest - application that I've been
working on which is currently at the
domain name of social sentiment dotnet
and the idea being here you can type in
you know whatever just like we had been
before the objective was to make the
ugliest-looking styling possible okay
and basically obviously you've got the
live tweets you've got longer-term
sentiment this is updated like every
second I think this is every 30 or 60
seconds I can't remember this is live
tweets as they're coming in on whatever
the search term is and then we've got
positive and negative just compared
sentiment
unfortunately this still can take a
while when you do things that was
actually pretty quick but as you when
each character that you type into the
search bar it's gonna search the
database in this database is quite large
I it's over 10 gigabytes now which is a
little unnecessary especially when all
the searches like even the longest
search doesn't go past today but I have
it's just it hits me deep to delete data
so we'll see what I decided to do there
but we've actually changed quite a bit
as far as how to get that to search
pretty quickly so that'll be interesting
to go over that but yeah so like if we
type car for example that should
probably take a little bit because it's
searching for C ca ca
are so I still kind of want to make like
a like you type it in then you hit a
search button or something like that so
it won't be so slow but to be honest
that's actually pretty I'm still I'm
pretty impressed how fast that goes each
change is is pretty darn quick
especially because this is still an
SQLite database and all that anyways
that's what you guys have to look
forward to probably in the next tutorial
I'm gonna do my best to pretty much run
through this entire you know all the
changes to this application we'll see if
I'll be able to do that otherwise if you
have questions comments concerns
whatever apologize this is probably
really long tutorial leave it one below
otherwise I'll see you in the next
tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>