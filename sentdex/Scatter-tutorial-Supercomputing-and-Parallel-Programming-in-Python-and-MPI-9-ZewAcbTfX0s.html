<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scatter tutorial - Supercomputing and Parallel Programming in Python and MPI 9 | Coder Coacher - Coaching Coders</title><meta content="Scatter tutorial - Supercomputing and Parallel Programming in Python and MPI 9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scatter tutorial - Supercomputing and Parallel Programming in Python and MPI 9</b></h2><h5 class="post__date">2014-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZewAcbTfX0s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome to another
MPI for Python tutorial video for high
performance computing supercomputing and
parallel programming so in the last
video we covered broadcasting now it's
how we could take one variable or object
and pass it to every other node in the
system so we could share that variable
amongst everybody so that was
broadcasting I think that was fairly
simple to understand next up we have
what's known as scatter and gather so
what scatter is gonna do is say in the
master node we have a group of objects
so let's say we have a list what we can
do is we can take that list and you do
scatter and it's gonna take that list
explode the list and send it in parts to
each of the nodes it's gonna divide up
that list and send it to each of the
nodes and then what gather does is
basically the opposite of that so it's
gonna take all the objects from all of
the nodes gather them together and go to
the target which usually will be the
master node so with that let's go ahead
and get started so as usual what we're
gonna want to do is from MPI 4 equals
MPI comm underscore world size equals
get size man all these upper cases are
killing me break equals calmed I get
underscore rank
okay that's all we need for this so then
what we're gonna have is just the same
kind of thing that we've had for quite a
few of these is just when the if rank
equals 0 what do we want to do we're
gonna say data equals and then we're
gonna make a generator here and generate
a dynamic list of all of the ranks we
could make a simple one but like we've
got hard code it but that's not a good
idea
anyways data is going to equal this
generator and what we're going to do is
we're gonna say data equals x plus 1 to
the power of X for X in range of size
for X range even if you want it so
that's what data is gonna be so
basically if data is gonna be X plus 1
to the power of itself for each of the
X's in the range of size which is
referencing how big is this how big is
this supercomputer in nodes this just
basically makes sure that we will have
one object per node it's just you know
some sort of just arbitrary object that
we're gonna give it so anyways mm-hmm
once we've done that let's print out
what we have just so you understand so
you can see what data actually
represents just in case you're not
totally following what's happening here
so we're gonna say we will be scattering
and then data simple enough next we're
gonna say else data equals none and you
should kind of recognize this from
before and then we come down here we say
data equals calm dot scatter
what are we scattering well data and
from where that's gonna be Ruth zero now
what we're gonna do is print rank rank
and data okay
so let's save that let me move it to
news and then we'll come over to the
master node up arrow and now I've
changed mind s89 hit enter and again
we're using five here Oh what have we
done
oh we've typo'd fantastic
why didn't anybody tell me okay import
okay so here we have we will be
scattering and then it says we're gonna
be scattering a 1/2 964 and 625 so you
could hard-code on just a list right of
1/2 964 625 or whatever variables you
want but you can see what it's done here
is it scattered this stuff so rank 0 has
data what data did bring 0 get it got
the 1 Rank 1 got what data the 2 ring 2
got the 9 and so on so that should be a
pretty easy to understand example of
what scatter does it's just gonna kind
of take everything and go picking just
divert our divers just diversify it but
at the same time I guess the word I'm
looking for is scatter what if we did
for X in range of size +5 right so what
if we made that size a little bit bigger
here Barrow let's see what happens so
what happens in this case is in order to
have scattered this stuff we wanted to
be able to send multiple variables to
some of these right so we were expecting
only 5 and we wound up with 10 now first
off I wouldn't be surprised if there was
some way in this scatter call are the
actual scatter command to scatter
multiple at the same time you could make
the object itself a an array right we've
seen that we can pass an array or I
guess it's not really a you could pass a
numpy array or a Python list but anyway
you'll want to just keep it in mind that
you can't send more variables then
you're ready to accept or more objects
then you're ready to accept so if you're
going to do this you would need to first
divide it up by size so you would take
the list
maybe div by size in them say put X many
variables and something like that you
can even use modulo to round it off so
let's say you had nine nine objects that
you wanted to pass you could use the
modulo to put everything in in one group
and then modulo the rest so something
like that
anyways I might have a more in-depth
example of scatter later I'll have to
look through the documentation that
would make sure there is an already like
a prebuilt command within scatter that
allows to do this before we go coding
our on so anyways that's gonna conclude
this tutorial video hopefully you guys
enjoy in the next video what we talking
about is gather so anyways
stay tuned to the next video as always
thanks for watching thanks for all the
support and subscriptions and until next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>