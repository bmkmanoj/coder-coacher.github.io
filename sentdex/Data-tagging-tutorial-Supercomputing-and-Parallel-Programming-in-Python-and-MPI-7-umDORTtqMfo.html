<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Data tagging tutorial - Supercomputing and Parallel Programming in Python and MPI 7 | Coder Coacher - Coaching Coders</title><meta content="Data tagging tutorial - Supercomputing and Parallel Programming in Python and MPI 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Data tagging tutorial - Supercomputing and Parallel Programming in Python and MPI 7</b></h2><h5 class="post__date">2014-03-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/umDORTtqMfo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome to another
MPI for Python for parallel programming
supercomputing and high-performance
computing where we left off you were
shown how you could dynamically use size
and the modulo to send news receive data
from a dynamic set of nodes rather than
hard coding in this video I want to show
you guys a couple of things one is just
an extension of what we mean by when you
pass objects between nodes and like why
this is so powerful with MPI and then
also in the same video I'd like to show
you guys tagging of messages so you can
tagging kind of goes along with dynamics
because what happens when you decide you
want to send multiple messages per node
so to do that and maybe like multiple
messages per node to the same node so
this is where tagging comes comes into
play so with that let's go ahead and get
started again just the same stuff that
we always pretty much type here so from
MPI for PI import MPI comm equals MPI
comm world rank equals conduct rank and
size equals on size we're not gonna
bother with the name for now if rank
equals zero so if this is the master
node we're going to say shared and this
is what I mean we're so instead of our
normal passing let's pass a dictionary
into here and so for that we'll say I
don't know the first values d1 it
corresponds 255 and the next value is d2
which corresponds to a 42 of course and
then what we're gonna go ahead and do is
we're gonna say condescend and we want
to send shared and we want the
destination for this to be one then
we'll come down here if rank equals one
receive equals calm dot are AC V and
what do we want to receive source equals
zero
next let's print receive and just to
show you guys that this is indeed an
object coming in we'll say we'll print
receive and we'll just print out d1
right so this should say this should
print out you know this Dikshit the full
dictionary and then d1 it will just
print 55 okay
so we'll save that and let me use SCP
now and drag this over okay and now
let's go ahead and run seven hit enter
and sure enough what we get is the full
dictionary and it prints out the number
55 so let's just to show you guys a
little bit a more concrete example of
the objects next what we want to do or
what I want to show you guys is tagging
so what if like we want to send two
messages so I'll just copy this paste
shared two and we'll make this a 25 in
this a 22 what if we do just this first
let's let's see what happens there so
let's transfer this stuff over here
okay so as you can see we ended up only
getting the first message not the second
message so it would appear that maybe it
goes in order so let's try to receive
both so first it receives only the first
message and it prints it out now let me
go ahead and oh you know what let's see
let me see ash let's go back there and
see if it went in if it did go in order
so forty to fifty-five was the numbers
it spit out on us right so it did indeed
go with the first shared and just for
kicks let's make this D 3 and d 4 and
now let's just print receive as well so
now what we want to do is now we're
gonna say let's just copy this right
here this line copy your paste and
that's receive 2 and we're gonna go
ahead and also print receive to save and
let's move this over and come back to
putty and here you see we have D 2 let's
see do we do let's come back out here
make sure we did what we wanted to do
here share - ok yeah so we are indeed
actually sending the incorrect version
so let's do this and now let me do this
one more time so that wasn't what I
expected so save uh and let me transfer
this over so down here over shared -
when we were sending we weren't we at
least I didn't maybe some Smarties did
but I forgot to edit that so now let's
come back over to putty hit the up arrow
ok so now you can see that we do only we
get the first message but not the second
message so back here but when we do this
we'll get both messages hopefully this
time
okay so one two three four for whatever
reason it flips them around but it's
still the option of the proper object
with the same print or the same
properties but what if we wanted to we
wanted to receive this message second
but this message first well there's
really no good way to do that right now
also what if we don't know the order
that these will come out but we have
very specific you know needs for the
result of shared and we have very
specific needs for the result of shared
- well then what you can do is you can
use tag so we're gonna use tag equals
one on this message and then tag equals
two on this message so only we can do
the same thing down here for receive we
want to receive tag one and this we want
to receive tag - now we should notice no
difference here since we went with the
same order sure enough we got the same
the same order there but what we can do
now though is we can switch these around
so we say here we want to receive the
message tagged to first and that's gonna
correspond to receive and then with
received two we want to correspond to
tag one which is shared right so we this
is how you can specify if you're not
positive in the order that the messages
are gonna come through which usually
you're not going to be positive in that
order you're gonna want to use this tag
parameter so now we save this I can't
remember if I moved it over so I'll move
it over one more time and this time we
should get shared to first and then
shared one so it'll say like D 2 D 1 D
43 hopefully and
sure enough now we can see that we did
indeed get the you know correct ordering
so hopefully that helps some of you guys
understand what what happened if you
wanted to have multiple variables you
didn't know the timeframe but and you're
gonna have a more of a higher level of
dynamics to everything this is how you
can start to use tags to tag the message
so you have more more to it right
because you send shared but it comes
through the other end not as shared it
comes through the other end as whatever
you specify that reception that received
message so anyways that's gonna include
this video hopefully that was helpful
for you some of you guys if you have any
questions or comments feel free to leave
them below as always thanks for watching
thanks for all the support and
subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>