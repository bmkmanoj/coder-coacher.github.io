<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Handling Data and Graphing - Python Programming for Finance p.2 | Coder Coacher - Coaching Coders</title><meta content="Handling Data and Graphing - Python Programming for Finance p.2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Handling Data and Graphing - Python Programming for Finance p.2</b></h2><h5 class="post__date">2017-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0e-lsstqCdY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome part
two the Python for Finance series in
this tutorial what we're really talking
about is a little bit more an
input/output just because I want to make
it clear that you don't have to use data
straight up from the Yahoo Finance API a
little bit on that and then also just
some super simple graphing examples so
with that let's get started so we're
going to be working with the exact same
data I'm going to get rid of this tail
and what I'm gonna do here is do a DFS
to underscore CSV so this is an
attribute of all data frame objects that
we can use to do so we can say okay I
want to take this data frame convert it
to a CSV and I want that CSV to be Tesla
dot CSV so we can run that and once we
see it's done it's done I can pull over
here the Wow
get acting crazy okay so anyway you've
got now a CSV for for Tesla so we click
on that and sure enough there you have
it methyl your data now the couple
things are going to happen when we
convert it to a CSV initially when we
pull this data we had a what we can even
we look at it right now live so if you
have dot head you can see that these are
columns and then this is actually index
so data is an index and it's been
converted to an index for us it's just
the data reader knows that it should be
the index so it's kind of been done in
our in our favor but normally when you
read in a CSV for example a CSV file is
just basically a text file it's not
going to contain information that says
this column is the index so we're going
to have a slight issue there when we
read it in so for example so it's to CSV
now what we could do is is comment this
out so if you're on an idle just real
quick - I'm using idle a lot of people
for data science like to use ipython
notebooks or some sort of interactive
version of Python totally fine people
also like to use anaconda
totally cool people like to use PyCharm
whatever I just happen to like idle so
in idle if you want to highlight if you
want to comment out a block of code you
can highlight it all free uncomment all
four not positive that works on really
anywhere else move it along
so we've converted it to a CSV we also
need to comment that one out because we
don't have a DF anymore let's press the
wrong button so now what we can do is do
we can read a CSV in so if you already
have a CSV in this case we have one now
you can do DF equals P dot read
underscore CSV and then just give the
name so Tesla dot CSV so now we could do
a print DFS ahead we can save and run
that and then we have a new CSV a little
bit let's pry off the screen there there
you go and now you can see that actually
date open high low close long images
close all those are looking the same so
there are all columns and actually our
index is over here 0 1 2 3 4 and it just
continues going on so that's kind of not
that's not exactly what we wanted
so we want to have an index in this case
we also want to date time index so what
we're going to do is just kind of when
you read in a data frame you actually
can I think you can say like parse dates
equals true 3dep knows let's look that
up real quick so we pull over read CSV
pandas I think you could say parse dates
look at these are all of the plausible
parameters that you can use when you
read something with with pandas yeah I
think it's parsed dates yeah
so we can say parse dates equals true so
read CSV let's say if you can get away
at first underscore date equals true and
then we also want to specify the index
I cannot remember if index call in X
call would be the 0 column like the
first one so we say parse safety was
true index is it next
underscore call equals 0 I'm sure just
making sure it's actually still on
screen here for us ok let's try that see
how we do great so now we actually have
date it is a date time index we've got
open high low close volume and adjusted
close awesome so that's how you could
read in information it also doesn't have
to be a CSV you can read in JSON you can
read from a database like SQL you can
leave from Excel files you do all kinds
of input/output with pandas and again I
have tutorials on pandas IO if you want
to learn more about what you can do you
can also check out the pandas
documentation it's super expensive super
useful not all documentation is really
useful but pandas is top-notch so some
ways we have the head there we got
everything worked so let's just talk
real briefly about visualization we're
going to get more into visualizing
things in the coming tutorials but for
now let's just say we can do the F top
spot okay so pandas or the data frame
objects have plot attributes so it just
will kind of pandas in the backend will
handle matplotlib for you this not
always is going to be an option
but for now we'll just show this so DF
dot plot and then we'll do PLC touch
show if you're on an interactive Python
version of any kind you probably don't
need PLC show this will probably make
the graph show but I need it because I'm
not so run that wait for it there we
have our graph and it graphed everything
give us a nice legend
the other thing I really like let's see
if it works is the legend should move
yeah as you push data in the way of the
legend it's like it figures out where
best to go that's really cool I don't
have no idea in pure matplotlib how to
make that happen
it's got to be matte flat lib but I
don't know if you know let me know
because I'd love to know anyway we can
see that mostly we're just seeing one
line here and that's the volumes line
because it's obviously on a much greater
scale volume is how many shares of that
company were traded as opposed to the
price of those shares so volume might be
in hundreds of thousands or millions
whereas the price is probably less than
a thousand but if we zoomed in you can
click on this
magnifying glass if we zoom in might
have might take a couple tries but look
I'll keep at it maybe come on there we
go we're seeing something again there we
go
yeah price but obviously that's a rather
unfortunate so if you just want to plot
something very specific you can
reference the specific columns in pandas
like so it's kind of like a dictionary
so we can say okay we just want the
adjusted closed column so correct great
so we'll just just plot the adjusted
close and there we have it and of course
you don't have to only do that with when
you plot you can actually print DF adj
close and there you have that's like all
this is not all that it's truncated
through the middle but anyway that's
most that's like the data so you can
reference that you can also reference
multiples
so you could do something like what I'm
trying to make some space in here that's
not going to work
my monitor is a little too big so I'm
recording in 1080 it's a 4k monitor so
the screen goes down anyway what we can
do instead is we could say free DF so
it's a first the brackets some more
brackets and then let's do open and high
print D if it's high and let's do that
ahead there just so we're not exhausting
a bunch of resources okay so that you
can kind of just reference very specific
things will get more into various
manipulations and how to basically
select certain bits of data and all that
in these coming tutorials just know that
there are a lot of options for for using
pandas to do all kinds of data analysis
okay so that's going to conclude a part
two the Python for Finance tutorial if
you have any questions comments concerns
whatever feel free to leave them below
otherwise we're going to get more into
some of the things that pandas can do
for us I'm running kind of more
manipulations on data on how to do start
doing calculations on our data so stay
tuned for that questions comes below
I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>