<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python: Average Directional Index (ADX) 3 Directional Movement System Calculation | Coder Coacher - Coaching Coders</title><meta content="Python: Average Directional Index (ADX) 3 Directional Movement System Calculation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python: Average Directional Index (ADX) 3 Directional Movement System Calculation</b></h2><h5 class="post__date">2013-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xcqt9JKp4tI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello hello welcome back to our ATX in
python tutorial video where we left off
we did the calculation of directional
movement now we need to do the
directional indexes or indicators rather
so to do that we're going to go ahead
and define a few variables right out of
the gate we want to because we know to
do this we have this slide already down
but the next part with we have to do the
PDI it's basically you've got to get
that PDM in here so for the positive
directional movement the PDI is a
hundred times that for a fourteen EMA of
the positive direction of movement
divided by ATR so it's going to get a a
lot of things coming together here in
this in this next part just walk on a
dedicated video or a specific part to
this step so x equals one we need to
start always at the first element same
reason here as the previous time that we
did this strictly because we can't start
in the first part of that array because
we don't we can't reference the previous
day's prices so X will equal one then
we're gonna have T our dates for true
range dates equals empty array then
we're gonna have true ranges equals
empty array for the true range of actual
true ranges then we're gonna have the
positive DM lowercase s at least in my
part so positive directional movements
and the negative directional movements
because keep in mind we have to do this
exponential moving average on these
divided by ATR which will be over here
to get what we're looking for so that's
why we're doing it that way now we're
gonna do while X is less than the length
of date we're just throwing one of the
variables you could say date open price
high price low port whatever we're just
getting the length so while X is less
than the length of the date we're gonna
say T our date comma true
range equals and in fact what we can go
ahead and do is go to our old scripts so
we're not rewriting code that we've
already written come back to eight this
where we did a TR so you can see where
we are is like right here right so let's
just go ahead and copy all of this right
here so you don't need the X plus one we
will do it in a second but not yet so
just copy that and just paste and then
fix your tabs cool so we don't have to
waste our time typing that out again
next we need to do the directional
movement stuff right so this one we do
have to do because we just made the DM
ruling and what I like to do is just do
this to remind myself what the actual
code is so come down here and I'm just
by myself
now DM date comma pause DM comma neg DM
weakness yeah this one's in a different
order than this one was boomer otherwise
we could have done in there sexy copy
and paste anyway call the DM function
then we've got let's just first type all
these out and then we'll add the exes in
there and I don't make this quicker so
we've got date open P PI P lo P close P
and then this for yesterday it's just
gonna be X minus one so again we want to
do open P PI P lo P close P and then for
date that's going to be date X and then
just copy that open px
hi px lo px close px and then on the
second part of this let me just scoot
over a little bit
it's gonna be X minus one so it's the
previous day right that's what we're
looking for so open high/low X minus 1
close
X minus one back on over just make sure
open high low close and this was also
open high low close okay so once we've
done that keep in mind that so this
returns the D positive and negative
right so if we scroll up here at date
PDM and yet so we know that's the right
order so now we want to append those
values to these both of these arrays so
we can do that exponential moving
average on them so we're gonna say pause
DM append and we gotta spell append
right pasti M then neg dm's
append neg DM and then finally we can do
that X plus equals one part so once
we've done that let's come down here
let's go ahead and make sure we filled
everything in nicely so we're gonna want
to print Len
pause diems that way we just know that
we've it's just a form of debugging just
in case something's going wrong we want
to make sure the lengths of these arrays
are right so now that we've done that
part we know the next step is we have to
apply this exponential moving average
right to this stuff and mr. Wilder
suggests 14 so that's what we're going
to use for example so exponential pause
DM that's gonna stand for equals x
moving average so we're calling that
function so you have to use the same
variable then pause DMS is the values
that were thrown in there the window is
14 now we're gonna be doing three
exponential moving averages here so I'm
gonna go ahead and just go paste paste
then this one is going to be exponential
negative DM and then this is going to be
negative already done in the past so
hopefully I don't have to explain about
what this is but ranges
again fourteen that's a suggestion now
once we've calculated all of that we're
ready to do the 100 times the
exponential directional movement and
then we've got ATR as well so then we
can divide by ATR so we are ready to
calculate these d eyes
exciting stuff so X X better be careful
we're going to get xxx here in a little
bit equals zero
PDI s equals empty and then NDI
s equals empty so again this is that
plus di line this is that negative di
line and I like to even though really
this is the plus di this is the NDI and
then each thing within this next while
loop coming up would be in theory the S
part the S signals to me at least when
I'm looking at my code that this should
be packed with multiple variables and
stuff so I that's the way it's the way I
just kind of think about it make it the
easiest if you were looking at the code
but anyway Wow X X is less than Len a T
are again we're just kind of using they
should all like a TR exponential
Meganium X menopause the M she'll be the
same length here we want to do PD I
equals 100 times the X pause DM X X
element divided by the ATR and that 80
yards X X element then so that's a
single PDI and then the PD is we want to
append
pti next we wanted is same thing with
NDI so Andy I equals 100 times the X neg
DM X X divided by the a TRS X the X
variable then NDIS dot append and yeah
go ahead and save our progress now at
the end of this we can't forget
otherwise we'll get a nice infinite loop
xx plus equals 1 finally at the end of
this well loop once that's done we want
to go ahead and return PD is NDIS now
we've completed everything we wanted to
do within this function calculate the
eyes done so now in the next function we
actually can calculate finally the last
line that we need to which is the actual
ad X line so I'm going to cut the video
here and then we'll go in the next video
we'll be calculating the actual ATX line
and then the video after that we'll
actually plot it up so as always thanks
for watching thanks for the support of
the subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>