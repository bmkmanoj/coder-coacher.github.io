<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python: Calculating Bollinger Bands 2 Programming in Python, and Graphing in Matplotlib | Coder Coacher - Coaching Coders</title><meta content="Python: Calculating Bollinger Bands 2 Programming in Python, and Graphing in Matplotlib - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python: Calculating Bollinger Bands 2 Programming in Python, and Graphing in Matplotlib</b></h2><h5 class="post__date">2013-11-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IlKJSfyG_z4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody welcome back to another
stock indicators in mathematics within
Python video where we left off we were
talking about Bollinger Bands and in
this video we're actually going to go
ahead and calculate the Bollinger Bands
so as usual we're going to need two
imports one is going to be important um
PI as MP and the other one's going to
import time so we can add a sleeper
we're going to need our sample data and
that's going to be equal so open and if
you don't have the sample data let me
take the bebop over there there is a
link in the description for it and well
at least there should be anyways can't
promise it until I actually make the
video in the description but it's at
Centex dot-com size sample data that
text so you can work with the exact same
sample data that I'm using just do you
know ctrl a ctrl C make a notepad file
called sample date of that text and
you're good to go
just make sure it's in the same
directory as this file now anyway so
we're gonna open sample data dot text
obviously with the intention to read
also if you have been following along my
tutorial videos it would behoove you to
just save like this top part because
it's all pretty much the same every time
we program it so you wouldn't have to do
this every time
next to define that data it State closed
P hi P low P open P volume equals NP
load text what text we want to load oops
oh we didn't actually split this data
all right let's do a split data equals
sample data dot split and we need to
split it by a new line as usual guys
sorry it is the morning I do most of my
videos in the morning on drinking my
coffee doesn't really work out too well
splitting data so that's the stuff that
we want to load the delimiter is a comma
and finally unpack equals true so we
can't assign it to a bunch of variables
like that now we did just do a standard
deviation tutorial video
so I'm gonna just run through standard
deviation deviation and either you can
go watch that video it is already here
on YouTube so you can watch it or you
can just type along with me if you can
type pretty fast but I'm not really
gonna explain so much so standard
deviation SD empty array SD de empty
array X is time frame while X is less
than or equal to the land Oh prices what
do we actually want to do well we're
gonna go array to consider equals prices
and starting point is X minus TF and
then ending point is X now let's make
some space we can continue writing this
bad boy a standard deviation equals
array to consider dot STDs and standard
deviation is indeed right here with
numpy and python now we want to do SD
dot a pen stand eV and actually just so
it's the same as everyone else's like
that SD date dot append date X and then
don't forget your X plus y equals one
finally we return SD day as the and
that's standard deviation function where
we can just pass through some stuff so
let's get to the Bollinger Bands now so
Bollinger Bands pretty simple define
Bollinger Bands and in here we want to
have our multiplier so whatever we
actually want remember the X variable
where I say you could just choose
anything it's usually two but we'll let
you guys be able to be the Masters of
your universe and then tff for time
frame and we just I just added an F
purely so it doesn't conflict with this
so because we passed TF through this and
it would just be best to not do that so
next thing we want to do is just like
everything we have a be date that's
gonna be empty array top band that's
going to be an empty array lot band ash
let's camel case
band flat-band empty array mid band
again empty array x equals t FF and then
while X is less than length of date what
do we want to do where I say the current
simple moving average because really we
want to get that just that that current
simple moving average point we don't
want the whole range of simple moving
averages we just need that's that one
point because again write the
calculation here was just that that
points simple moving average Plus that
points standard deviation of price times
whatever X is so that's we just want
that one thing so what we're gonna do is
we're gonna call do we even have you
know I'm moving average you're doing
well that's when we are definitely in a
copy and paste I don't like writing that
out let's the link for that will also be
in the descriptions it's the starting
point so if you go either to my website
or you just click on the link in the
description just scroll down and moving
average and we're going to just copy and
paste this function so just hit copy and
paste it over here if you are gonna if
you're planning to follow to the next
video and actually graph this you might
as well just copy and paste that entire
code as well for your records since
we're gonna be there or just stay on
that page so Kurt SMA back to work is
going to be equal to moving average
closed PE and again we're going to use
some fancy footwork X minus X minus TF
f2 X using the time frame we've chosen
and then we actually see that creates an
array we want the negative first
develoment which will give us the last
element and what did I forget
hmm what is it doing that to me this
looks fine to me
my mind this looks like a valid
somewhere we have not closed off what we
are supposed to close off and this is it
we must have copy and pasted over this
unpack equals true you probably didn't
do that
I remember typing out unpack equals true
anyway so that's why that was in dinners
throw me on again we want the negative
personal okay
so so that gives us the current simple
moving average then we want to get the
current standard deviation so we're just
gonna say D just because it does return
the date but we really just care about
per SD or a penny which is the current
standard deviation and that's gonna
equal a standard deviation tff blows p
and just so we have enough data where
it's gonna say 0 t and then again we'll
go occur as the equals cur SD and again
we want the negative first element there
now we're gonna say t be for top band
equals / SMA plus Curt as d times that
multiplier whatever a multiplier we set
B be not to be computed Bollinger Band
that's the bottom band equals ker s/m a
plus
actually sorry ass - I'm open her as the
times whatever that multiplier is and
then we're gonna say capital B equals
day X now we're going to append to all
these arrays that we've built up so
we've got top band bottom band mid man
I'm just gonna copy that come down here
paste that and do top band dot append TB
don't
- lets do a bead date as well for at
that D day dot and the balk band is and
Phoebe and mid band is dot and Kerr SMA
don't forget your X plus equals one
otherwise we will cry return be dates
top band band and finally mid bang
finally let's yeah that's good enough
so dt b dt b b b and b equals Bollinger
Bands two and twenty and let's just for
kicks per monthi print TV print BB print
MB so save that don't know why I
highlighted I'm I said that finger did
now run it so we have as long as you
didn't get any like nasty looking errors
you probably did alright so the first
value should be like seventy five
thousand something or something well
actually I'm sorry we're in date stamps
till we convert it later so those are
all of our date stamps no surprise the
next thing we have is the top band
followed by the bottom band should be
about the same price as the stock looks
like it is since we're doing Starbucks
so top and bottom band middle bands
shall all be around like fifty to sixty
s since again it's Starbucks so it looks
like we've done it right and the easiest
way to find out is to actually chart it
up and then you find out whether or not
you did it right so that's what we're
gonna be doing in the next video is
taking this calculation here putting it
in a map plot live and our charting
application and bring it up to see what
we if we did it right so as always
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>