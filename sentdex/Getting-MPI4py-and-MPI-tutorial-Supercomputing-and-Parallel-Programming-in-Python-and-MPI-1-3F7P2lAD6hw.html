<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting MPI4py and MPI tutorial-  Supercomputing and Parallel Programming in Python and MPI 1 | Coder Coacher - Coaching Coders</title><meta content="Getting MPI4py and MPI tutorial-  Supercomputing and Parallel Programming in Python and MPI 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting MPI4py and MPI tutorial-  Supercomputing and Parallel Programming in Python and MPI 1</b></h2><h5 class="post__date">2014-02-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3F7P2lAD6hw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to the next step in
supercomputing slash parallel
programming slash high-performance
computing in the previous videos I
showed you all how you could build your
own extremely cheap supercomputer out of
raspberry PI's to do these videos you
won't have to have built that same
supercomputer so this is just going to
be supercomputing with Python and MPI
for pi it just so happens I'm going to
be doing it on my Raspberry Pi 2 node
supercomputer you can do it on anything
you actually don't even need more than
one node you can kind of do it sudo with
one node but just reference it multiple
times so yeah so anybody can go through
this we won't be doing calculations at
least at the beginning that are so large
that there's any necessity to use a
supercomputer for them so if you did
follow along with the how to build a
supercomputer I'd raspberry PI's
tutorial series you've got an extremely
simple example of MPI and supercomputing
at work but chances are you're feeling
rather fuzzies since we really just did
some setting up some installing of
things you're probably longing for a
better understanding of what's going on
if you didn't follow the previous series
basically all we did was we just used
raspberry PI's and use a simple message
passing interface script that calculated
pi but we didn't do any of the
programming in there so it's a lot more
enjoyable if you do it yourself
so in order to continue along we're
going to require a programming language
to do it ourselves
most often you're going to see people
use like C++ or Fortran being used for
supercomputing and I'm going to mix it
up a bit I I personally enjoy Python so
that's what we're going to be using for
it Python is also very noob friendly
it's what you call an upper level
language so you don't really need to
know too much about inner workings and
also the terminology syntax and all of
that is just so simple to use C is not
and Fortran is really limited to numbers
basically definitely limited compared to
what you can
with pythons so Python it is so next up
we're going to need to decide on what
MPI implementation that with Python that
we want to use so for that we're going
to use MPI for PI so what we're going to
do is we're going to go ahead and
install and test MPI for PI in this
video it's going to be eerily similar to
the installation of MPI CH and testing
at CH so if you did do that you will
still want to follow along because
basically what we're doing now is
instead of using MPI CH and Fortran all
that we're going to be using a Python so
let's go ahead and get started so if
you're if you have a Raspberry Pi you've
got Python already installed there might
there's some Linux instances you're not
going to have Python pre-installed
I'm assuming everyone here has Python
two-seven pre-installed on the Raspberry
Pi I'm also going to be opening up
everything in putty but then I'll also
probably just use SCP to move files over
as I added them so I'm going to edit
them instead of using the editor in you
know nano way let's say instead of using
that I'm going to use the editor on my
main computer so we get a colored text
and all that you can do it however you
want if you want to edit it straight
into your PI that is fine too so I'm
going to open up my putty instances here
extra putty and for me my my main node
is this your main node address might be
different but whatever your local
address is if you don't know what your
local address is you'll have to I have
configured but I know what mine is you
could also have you're hooked up to a
monitor or something but I'm going to
use putty so I'm gonna go in
alright I'm in on my masternode now I'm
gonna log in on my Walker again 192 168
0 and this one was 21 okay so I'm logged
in on both of them and so now what we're
going to want to do is we're going to
want to install the NPI for pi on here
and we need to install it on both of the
machines so and I've every node that's
going to run MPI for PI it obviously has
to be installed there so the first thing
that we're going to want to grab is
we're gonna want to do sudo apt-get
install Python MPI for PI run that and
I'm going to do the same thing over here
and install Python and so we'll be
installing these do you want to do that
yes and yes and so we'll wait for all
this to install this one's pretty quick
you won't have to wait for how long
doing the whole MPI on the other if
anybody came from the other tutorials
where we were doing and it took a really
long time and basically after we're done
with this we're going to want to we're
still kind of following this would be
like the last part where we kind of
follow the same structure as that
University of Southampton paper went
through so the next thing that we are
going to do though is we're going to CD
we're just going to put this in home
slash PI and we're just going to make a
directory there for MPI for PI that's
interesting this one finished before the
other one that started first anyway so
we are already in that directory of it
just to make sure yes so then we're
going to do make dirt MPI for PI enter
and now we want to CD into MPI for PI
and now what we want to do is do a get
HTTP colon slash slash
NPI for pie Google Code comm slash file
/ NPI for pie - 1.3 point r dot GZ and
in fact I'm gonna copy this for myself
you son of a bitch
let's see oh my goodness anyway there we
go
alright so we'll get that I'll do the
same thing here
cool
so now we have it now the next thing we
want to do is tar x FZ NPI for pi - oh I
downloaded I didn't make the directory
whoops
well I'll just leave that later we'll do
make derp NPI for pi CD NPI for pi now
we want to do the W get there done and
now we want to run tar xfz NPI for pi -
1.3 tar gz and then we want to do the
same thing here and do it I don't think
no so we want to do tar xfz NPI for pi -
1.3 tar.gz same thing again this pie is
like significantly faster than the other
one okay so now back on to the master
node LS there is our NPI for - or m5 you
get what I'm trying to say and be high
for pi - one point three so let's LS NPI
for pie - one point three and in here
and you should see that there's a demo
so we need to CD see the NPI for pie 0.3
LS demo and in here you should see
LS this where is you hello world hi
that's just a very simple script that
we're going to run to just make sure it
works but don't worry I know like I said
this feels like the same thing we just
did before we just want to test the
installation and then from there we'll
actually start writing our own scripts
and explaining why this works and all
that so to run this what we're going to
do is we're going to use MPI run dot
open MPI and then number I think it's
number of processors we're going to say
2 and then this is machine file and now
you're going to specify the path to the
machine file now if you followed us
before we already made a machine file
and our machine file is located in slash
home slash PI slash MPI underscore
testing slash machine file then we use
Python to run hello world dot PI hit
enter and here we have hello world on
process 0 of 2 on master 0 0 1 hello
world I on process 1 of 2 on node 0 0 2
so if you didn't have if you never made
your machine file I'm just going to show
you what a machine file looks like it's
quite simple so that was where ours is
located so hold on here me go back here
and I'm gonna CD some beach ok I know
why it's not let me do that anyway MPI
testing actually it's just
file so this is the machine file
basically the machine file is just a
file with listed out local IP addresses
so you know the master node is you know
dot 20 the worker node is 21 and so on
that's all the machine file is just a
list of IPs
so if you don't so if you don't have one
what you're gonna want to do is just
make one real quick you can put put it
wherever you want it might be useful to
put it in the same path just in case
down the road you're kind of confused on
a path or something but for the most
part of what we're going to be doing now
is scripting so you know what you put in
this line will be the same pretty much
every time you're just using the same
line to run the script right at the end
right this is the script here so you
might as well just copy and paste
whatever line you use so as long as
you've got it spitting out that
information then you've got it going
right so if you have any questions or
comments leave them below in the next
video what we're going to be doing now
is learning how to use MPI for PI so
we're going to start scripting our own
Python scripts basically to do with this
one just adhere and so we're going to
start like that and then we'll continue
getting into it so if you're new to you
know supercomputing and all that you
know the MPI is just message passing
passing interface that's literally all
we want to do here is just pass messages
so it turns out that it's actually
pretty easy to do that with MPI for PI
and from there you can do a whole lot of
really cool stuff so hopefully that
sounds interesting to you guys as always
thanks for watching thanks for all the
support and subscriptions
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>