<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Bitcoin Protocol Tutorial #9 - Reclaiming Disk Space | Coder Coacher - Coaching Coders</title><meta content="Bitcoin Protocol Tutorial #9 - Reclaiming Disk Space - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Bitcoin Protocol Tutorial #9 - Reclaiming Disk Space</b></h2><h5 class="post__date">2014-02-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yZgaxg0JzcU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to another Bitcoin
protocol tutorial video in this video
we're going to be discussing the
reclaiming disk space section of the
Bitcoin protocol paper this section is
actually pretty simple but the diagram
and the vocabulary might be daunting to
people who are unfamiliar so I'm gonna
do my best to go ahead and simplify this
section for you guys the main idea here
is basically compression so how can we
have all these transactions occurring
require everyone to have like awareness
of the full blockchain history and
transaction history yet also keep this
somewhat digestible and usable so with
that in mind let's go ahead and hit the
paper once the latest transaction in a
coin is buried under enough blocks the
spent transactions before it can be
discarded to save disk space to
facilitate this without breaking the
blocks hash transactions are a hashed
into a Merkle tree with only the route
included in the blocks hash old blocks
can then be compacted by stubbing off
branches of the tree the interior hashes
need not be stored a block header with
no transactions would be about 80 bytes
if we suppose blocks are generated every
10 minutes 80 bytes times 6 times 24
times 365 equals 4.2 megabytes a year
with computer systems selling with 2
gigabytes of RAM as of 2008 and Moore's
Law predicting current growth of 1.2
gigabytes per year storage should not be
a problem even if the blocks headers
must be kept in memory so like Ram ok
so what's the moral tree and what do
they mean about root what's block
hashing stubbing all this stuff this
diagram oh my god so let's break this
down as you already know we're able to
verify blocks because if you keep
hashing employee input the order of the
input is exact and so the same input
will scent yield the same output we can
use this sort of thing not only for
security but also for condemned
things so the idea here is you see these
Merkel trees and we can prune all all
but like the last transaction basically
from it and from record right so the
full blockchain doesn't grow to like an
absurd size super clip quickly and also
the current the current thing that we're
viewing right wouldn't be too large
either so instead of like explaining
this step by step and what exactly a
miracle tree is all of this how about we
just cover an actual example and this is
going to pertain to this diagram anyways
so let's say in a block you've got four
total transaction so to keep us in line
with the diagram at least so you've got
transaction zero one two and three
denoted s T X so to build this tree
you'd start with hash o one so this hash
L one is the parent of the hash of zero
and the hash one and so that's a hash 0
and hash 1 which are hashes of
transaction 0 and transaction 1
respectively so from those transactions
we would take T 0 and T 1 or T X 0 and T
X 1 into account first so you'll have
transaction 0 and transaction 1 then
you're going to do is sha-256 of sha-256
of hash 0 and hash 1 and this is going
to give you hash 0 1 the same is done
for transaction 2 and transaction 3
so first mmm each of these are hashed
then we take a hash of a hash to make
hash 2 and hash 3 then we take a hash of
those 4 hash to 3 then we hash 0 1 and
hash two three and boom we've got
ourselves a root hash keep in mind every
block header or block hash contains that
previous hash a nonce and the root hash
so pretty much you've got everything
contained within this block header so
that's going to cover the reclaiming
disk base section I don't really think
that this one's as necessary to fully
understand but there it is for you just
in case
in case you're curious the idea of it is
just simply to make sure that the stuff
is easily consumed by people so really
after after this you should be able to
see that even if you were forced to keep
all this stuff in your RAM it would be
totally fine and then the full
blockchain today is still only I forget
what the size of it is maybe 14
gigabytes or something today
so anyways that's going to conclude this
section the next section is going to be
covering payment verification or it's
titled simplified payment verification
and the idea here is how can we you know
verify payments without even running a
full full network node so to speak so
anyways that's what you can't have to
look forward to as always thanks for
watching thanks for all the support in
the subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>