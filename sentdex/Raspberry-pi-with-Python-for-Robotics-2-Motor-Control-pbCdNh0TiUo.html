<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Raspberry pi with Python for Robotics 2 - Motor Control | Coder Coacher - Coaching Coders</title><meta content="Raspberry pi with Python for Robotics 2 - Motor Control - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Raspberry pi with Python for Robotics 2 - Motor Control</b></h2><h5 class="post__date">2014-04-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pbCdNh0TiUo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Ryan hello everybody and welcome back to
our Python Raspberry Pi and robotics
tutorial video series this video we're
going to start wiring up this motor and
get it going so the first thing that
we're going to go ahead and do is
actually wire up our motor here so as
you can see I've already attached the
wheel to this anyway the leads are right
on the edges here though so here and
here and so the first thing that we want
to go ahead and do is go ahead and
actually wire up these leads so what
you'll want is two wires these are the
wires here already stripped off the ends
of the wire so then what we're going to
do is with black on top I'm just going
to thread it through and it helps if you
kind of twist it up a little bit here
you would solder I suppose if you wanted
again I just don't really see the point
of soldering it when it's highly likely
that you will just take this apart and
then do the same thing connect your red
lead so I'm just going to take some
electrical tape and just wrap it
around
so again the better way to do it would
be indeed to solder it but I'm not going
to do that for now so that's that the
next thing that we're going to want to
do now is we can actually we could hook
this up to our H bridge so we might as
well go ahead and do that so come over
here and this is our H bridge so now
you're going to want to get a small
screwdriver of some sort and your flat
head or a Phillips head depending on
what kind of screws are in there for you
and you can see that there's like will
screw holes right here and here you
unscrew that it's almost like a clip on
the inside so when you unscrew it you
stick the wire in then you square it
screw it down and it kind of holds the
wire in place for you so I'm going to do
them I go ahead and loosen them okay so
that's done we can stick the motor leads
into there so I'm going to put again
over output one I'm going to put my
black black wire okay once you've got
that one in go ahead and put your other
one in and when you're done with both go
ahead and give them a good tug make sure
that they are indeed secure in there
next thing that we want to do is let's
go ahead and plug in our power supply so
I'll move this kind of out of the way a
little bit I guess we'll leave this here
and just leave the motor over here so on
the power supply your power supply is
going to be plugged in to your H bridge
only it can be plugged in here where it
says VCC then you've got GND which is
ground and in five bolts well five volts
is for the power that you get from your
PI so your PI sends a signal through the
five volts which will send the signal to
the battery pack to turn on these motors
and that's how it works
VCC you might also have something there
that says like 12 volts or 12v
VCC just stands for voltage at common
connector so unscrew over VCC and wire
you're Mazal just unscrew ground and
five volts just get them all done
and get the red in the VCC and you can
go ahead and screw that one in
now ground we're actually going to use
the PI's grounding as well so that's not
this won't be the only chord that goes
into ground so we're actually going to
plug in our PI's ground as well so let's
go ahead and do that so guess someone's
the battery pack over here for now put
the PI here and now you're going to want
to have is a cord I'm going to use a
black one this is going to be a male to
female but you could also just use any
wire really
but male to female will be the best one
to use so what you're going to do is
plug your the female end into your
Raspberry Pi and any time you're looking
at a Raspberry Pi diagram of the GPIO
pins you're looking at it basically like
this okay so this is right here pin one
it would get focused it's kind of
important that you get the right pins
focus there we go
so this one right here is pin one when
you're looking at it so like the top
left is pin one and then you've got pin
two and three and so on so what you're
going to want to do is plug the ground
into pin six which is the third down
from the top right or this one right
here okay so that's the ground for the
PI so we're going to take ground and
we're going to plug that in and
apparently my VCC came out so from here
we'll plug in the power to VCC or 12v
depending on what you have now you're
going to take the ground for your PI and
then also the grounding for the battery
pack and what I'm going to go ahead and
do is just spin this one around or twirl
it kind of around the PI's ground
basically so they're stuck together so
then we'll take that and put it into the
ground now what we want to go ahead and
do is set up the input and outputs and
then also we need to wire up the 5 volts
signal here so the next thing that we
want to do is let's go ahead and wire up
our our 5 volt cable so that's going to
be I'm going to use this green one
another male to female and you want to
plug in to the PI's 2nd pin so looking
at your PI that is going to be
apparently we can't fit our PI under
here there we go that is going to be
literally this one like the top top
right pin so plug into that one and from
there we plug that into the 5 volt spot
on our H bridge now we want to go ahead
and do is get the GPIO pins all set up
because we've got everything else that
we want now for the GPIO pins I actually
have the strip if you bought the kit the
same kit that I got you should have this
strip and it's just a strip of
female-to-female
jumper wires but if you don't have that
you can either use converters or do what
I said before about splicing or have
just for female to female jumper wires
and it will just be somewhat useful if
you plug them into the exact same spots
that I plug them in but you don't have
to it's just that your code will have to
be a little slightly slightly different
than my code so it would just be helpful
if you plug them all into the same spot
so that I plug mine into so with that
where you're going to plug these in is
going to be here on your H bridge you've
got inputs hopefully I can get it to
zoom there we go so you've got input 1
down here 2 3 &amp;amp; 4 and then you can see
on top you've got ena and 5 volts and
then 5 volts and me and B and that's for
enable a and enable B you shouldn't have
to even touch those
I've seen some tutorials where people do
stuff with those if you wanted to add
more
Motors I'm pretty sure that's when you
would start wanting to use those but for
now we're going to control four motors
to in succession so if you want to
control for completely separate motors
then I think you'd want to start tapping
into those but for now we're not even
going to touch those so instead what
we're going to do is just plug your
minute your mail - or your female two
females in each of these four there's
four spots there like I said I've got a
strip if you have a strip then you can
use the strip as well so anyway I'm
going to plug starting from input 1 2
input 4 white grey purple blue just for
your notes so if you're looking and
trying to figure out how I plugged my
name ok once you've got those plugged in
on that end now you're going to want to
plug them into the GPIO pins on your
Raspberry Pi so for me input 1 which is
my white cable I plug in 2 pin 15 or
GPIO 22 on the Raspberry Pi and so
bringing over our PI it's going to be
hard to show both of these at the same
time but I'll do my best
pin 15 on your pi is going to be I guess
8 down from the top left is what 2 is
going to go into pin 13 which is right
above that so I'm going to take my gray
and plug that in right above it
and then from there
input 3 is going to go into pin 11 which
is 1 right on top of 13 and then our
input 4 is going to go into GPIO 4 which
is actually 2 above the last one that we
plugged in so when you're all done if
you were using the exact same colors I
was using that is what it should look
like hopefully we can get it to focus in
pretty good alright so again input 1
goes into pin 15 which is 8 down from
the top or 6 up from the bottom
depending on which way you go input 2 is
in pin 13 which is GPIO 21 in pin 15 is
GPIO 22 then input 3 is in pin 11 so
basically those three are right together
with each other right and then you skip
one and then input 4 is going into pin 7
or GPIO 4 so when you're all done that
should be everything wired up so the
next thing that we want to do is
actually turn on our Raspberry Pi now
that you got everything hooked up the
next thing that we want to do is come in
to our Raspberry Pi and now we want to
actually program our first script now as
I said in the previous tutorial video
you are going to need RPI GPIO so if you
haven't already done it do sudo apt-get
install Python - capital R capital P
lowercase I dot all caps GPIO hit enter
and make sure that you have the most
recent version otherwise you're going to
run into some trouble I already have it
so we're good now the next thing that we
want to do is let's go ahead and create
a directory called robotics so make der
robotics hit enter CD into
now let's go ahead and make our first
robot script so let's go ahead and do
sudo nano robot 1.5 now what we want to
do is import capital archival P
lowercase I dot all caps GPIO as
lowercase GPIO and then finally import
time so GPIO here this is so we can
control our pins and time is so we can
specify the time length that we want to
control the pins now the next thing we
want to do is GPIO dot set mode GPIO dot
all caps board now we want to specify
the pins that we want to be using so
we're going to specify pin 7 11 13 and
15 as GPIO output pins so GPIO dot setup
seven as GPIO dot out and now we're in a
same thing for 11 13 and 15 so GPIO to
set up 11 GPIO dot out GPIO dot so 13
GPIO dot out and GPIO set up 15 GPIO dot
out okay and now we actually want to
program something right we want to use
the pins to do something so as I said
with the h-bridge
depending on the type of signal that you
send not only can we make the motor go
but we can choose the direction of that
motor so first let's just do a simple
action to make the motor go and for me
each motor is going to at least in my
frame they end up facing each other so
we do have to kind of change some things
about depending on you know what how you
set up your frame will vary if you're
going to use the same frame as me then
just use the same code and you can just
use the exact same code I type here
anyways and it will make your motor go
so anyway GPIO dot output seven true
GPIO dot out
a11 true GPIO ty output 13 true and GPIO
to output 15 false and we want this to
happen for half of a second 0.5 now when
we're all done what we're going to want
to do is do GPIO dot cleanup and what
this is going to do is stop all of the
signals coming to our pins because if
you don't do GPIO cleanup what's going
to happen is even though you you know
you did a some sleep and then it moves
on it's just going to continue going
that's how sleep even works at all right
it's because this is all activated we
sleep for this long then we clean it up
so that's what we're going to do so now
we can control X Save yes
enter good now sudo python robot 1 dot
pi not o hit enter just yet make sure
your motor isn't going to like run over
something and when you hit enter it
should run for half of a second sure
enough mine ran for half of a second and
that's it so hopefully you guys get your
motors work in there if you have any
questions or comments feel free to leave
them below as always thanks for watching
thanks for all the support and
subscriptions until the next video which
will be hooking up the rest of our
motors and also plugging them into a
frame we'll probably do that and then
we'll set up the rest of the motors so
anyway stay tuned for that thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>