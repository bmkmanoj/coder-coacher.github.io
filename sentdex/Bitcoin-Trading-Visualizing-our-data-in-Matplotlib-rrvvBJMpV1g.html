<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Bitcoin Trading - Visualizing our data in Matplotlib | Coder Coacher - Coaching Coders</title><meta content="Bitcoin Trading - Visualizing our data in Matplotlib - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Bitcoin Trading - Visualizing our data in Matplotlib</b></h2><h5 class="post__date">2013-12-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rrvvBJMpV1g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello everybody welcome to the fourth
Bitcoin trading video in this video what
we're gonna be looking at is our
historical data basically we just want
to use like a super basic graph so it's
not gonna be pretty like this one if you
think this one is pretty that is because
our main goal with this is just to kind
of visualize the data so we can use it
sort of like it's debugging and also so
we know we're on the right track so
we're actually doing what we're
expecting ourselves to be doing right
it's the first thing we want to do is
actually take a peek at this data so
I've got an empty script here so we're
going to be coding in here wherever
you've downloaded that file just put in
the same folder directory whatever you
want to call it as this script or give
the full path to it wherever you've
saved it so with that let's go ahead and
get started and check out our data so
what we want to do is we want to import
time just in case we want to add a
sleeper for debugging purposes you might
not need that at all but just put it
there anyway import date time we'll just
leave this here because if we ever want
to actually plot it up and have date
stamps we want to have date time there
then we're going to import numpy as MP
then we're going to want import mat plot
live and then finally import mat plot
lib dot pie plot as PLT you can also
just come and separate all this a lot of
this stuff anyways but I like to
separate them out so now what we want to
do is we want we just need like a little
simple function to graph up this data so
I'm just going to come down here and I'm
going to say define testing data and in
here we're going to have BTC date R or
date array then we're going to have BTC
price R for the prices array and then
BTC volume R for the volume right now
you don't have to have volume I will
still count we might look at it every
now and then to compare because volume
is a good way to measure a trend
consistency or trend strength rather so
as long as the trend is moving and the
volume is either staying stable or
increase
you can relatively calculate the fact
that calculate it so to think that that
trend will continue it's only when
volume starts to change or trend even
starts to change while volume doesn't
change that you would say oh the
velocity is going down and all that but
more on that way later probably so
anyway so what we want to do now is have
a try and then wyman accepts exception
II and then we'll print um failed raw
data and then we'll have strength II
just in case we do fail and then within
the try what we're going to have is
source code is gonna equal open and we
want to open up that file we download it
so it's BTC USD dot CSV with the
intention to read it and then we'll go
ahead and actually read that data then
we're going to want to say split source
and that's going to equal source code
dot split and we want to split that by a
newline it'll come down a little bit and
let me make some space so coding kind of
in the middle here uh and where is there
for each line in split source what do we
actually want to do here well split line
is going to equal each line dot split
and we want to split it by comma because
the variables in that file are comma
separated variables something bring it
up actually to show you guys so I do
want to mention one more thing to about
this data is so this is what the data
looks like and from the actual API
themselves the data looks a lot
different like this isn't the way that
the api's are going to look but at least
on this website where we've downloaded
this data every exchange data format is
so I've seen so far anyways looks just
like this so it's UNIX timestamp the
price and the volume so obviously you
can see here with btc-e
they didn't even start tracking at the
earliest prices at eleven dollars where
if you look at mount GOx i think they go
back all the way to like a dollar or
something in fact let's uh let's go
ahead and bring up mountain docs let's
click on that
right so this is kind of why there's
probably mount GOx is larger than BTC
even though I'm relatively certain that
they this website's probably pulling
from the API and BTC ease API is much
higher granularity anyway as you can see
here the price of these bitcoins is like
five pennies right starting at mount GOx
so mountain ox is kind of like one of
the first exchanges right I probably
came before btc-e and then it starts
going up but as you can see before we
even get to the eleven dollars mark
we've gone through Wow okay wait slow
down
hold your horses like right about here
right we've got three million rows
already so keep that in mind and the
total amount of rows we had three
million by then and the total amount of
rows is only a seven million so that'll
give you kind of an idea of how much
higher granularity btc-e has because
they have five point six and they
started three million rows later and all
that but anyway this is what the data
looks like uh that suppose that's all I
meant to say the data looks like I got
caught up in that anyway so it's it's
comma-separated hence the CSV name and
it's BTC we're going to say BC date
equals split line and in that zeroth
element right that's the UNIX stand BTC
price Eagle a split line and that was
the second part right so the first if
element and then BTC volume equals uh
split line two now let's check for typos
cuz we no doubt I don't see him but
we'll have one I'm sure btc-e a date are
a dot a pen and we want to append the
flow of BTC date then we want to do the
next year I'm not sure what happened
there anyway BTC price array dot append
in fact let me move this thing out of
the way
might just be getting angry at me since
it's refreshing a lot anyway b2c price
were a dot append we want to pin to flow
BTC price and then finally BTC volume
Rea dot append low BTC volume okay um
now what we want to do is we're pretty
much done there because we've now filled
up all of the information itself now I
want to come down here and we really
just had this point we can start
plotting all this stuff and trying to
think of what I wanted to cut some stuff
off of here because it's gonna be so
much data that's coming through here so
like right here it might make sense like
we can add a variable up here and call
it how far back equals and for the
purposes here let's say 50,000 and then
instead of like reading every line in
the split source because there is again
like what five million lines if we try
to plot five million lines it would take
like ten minutes for this graph to show
up uh-huh so - how far back : it's not
only plot 50,000 lines so it should pop
up pretty quick for us now we could also
use my granularity if you followed my
granularity tutorial you can do the same
thing there like once you've populated
all these cut the granularity however
much you want and then you would get you
know the full historical graph because
really like this is a cut off a lot of
the stuff behind but again we're mostly
using this so we can test the logic
later on so anyway coming down here what
we're going to say is PLT dot blot BTC
date array so all the dates and then BTC
price or right now of course this is
going to plot in unix time right and you
can of course fix that as well if you
wanted to but again we don't really care
if it's not the most pretty graph and
and then finally we can do plot that
show and I should show the plot now let
me clear off some of this space and then
let's actually call this function here
come down paste and let's see our data
if we had any errors nope we didn't
should plot our should pop up pretty
quick for you guys so here is the data
right so now we can actually see it
again the timestamp is quite ugly of
course but we're just trying to look at
it visually this looks to be about right
we've got the right prices here and has
been going up and then it's kind of
started to go down today so everything
looks good now we're ready to progress
into the next part so as always thanks
for watching thanks for all the support
the subscriptions and thank you for your
Bitcoin donations bye
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>