<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pygal SVG embedded Graphs - Flask Web Development with Python 33 | Coder Coacher - Coaching Coders</title><meta content="Pygal SVG embedded Graphs - Flask Web Development with Python 33 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pygal SVG embedded Graphs - Flask Web Development with Python 33</b></h2><h5 class="post__date">2015-12-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BIttXQO0bXw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
another flask web development tutorial
video in this video what we're gonna be
talking about is high Gao so PI Gao is
an SVG or support vector graphics
graphing module for python now it works
really well with flask Django and a
bunch of other applications that you
might use it for because at the end of
the day all it does is produce SVG
graphics so the reason why those are
nice is first of all they're relatively
lightweight there's not too much
back-end that needs to be loaded but
also they scale very very well SVG
scales so you could have a huge graph or
a small graph and even the huge graph is
not going to have a whole lot of loading
time for it so this is the pie gal
website you can get there just PI gal
org and these are the kinds of graphs
that it generates now these are kind of
small versions but let's go to the
documentation here let's just click on
the line graph you can get grabs more
like this and you can see that they're
actually interactive graphs and you can
even go over here and highlight various
lines and stuff like that they've got
these graphs line graphs radar graphs
pie graphs Maps for example let's go to
a world map here so I've got world maps
and the hovers and stuff and what's
really nice about pie gal is it's so
customizable yet the stuff that goes
into making a basic graph is really
simple like this is a basic graph right
here this line graph this is the code to
generate that graph like it's so simple
it can be just as easy as matplotlib yet
it looks a whole lot better than the
matplotlib without too much code so so
let's talk about how we actually grab
like get pie gal and have a like an
embedded pie graph in our flask
application let me move this aside first
thing you're gonna want to do is pip
installs so sudo pip install PI gal I
already have it so nothing's really
gonna happen here but you want to get
that next head to your init dot pi here
and just do an import tygo so that way
we can actually use PI yo now what we
want to do is let's go back to our
ginger man area and let me just take
this here copy that paste and I'm gonna
call this function a Thai gal example
make sure you don't call this function
PI gal just an and the template we're
gonna render is going to be graphing and
then eventually we're gonna pass graph
data through and actually have that that
work now what we're going to do is write
how should create a graph now again I
don't really see any point of like
typing out all the little data points so
I'm going to copy and paste for the most
part the entire graph so let me copy
that again all source code for this
tutorial is located at Python
programming got knit
link will be in the description if there
is not a link in the description you
yell at me and I will add one so this is
the code to make a pretty simple graph
right so the graph is equal to PI gal
dot line so it's a line graph we changed
the title here and the title is percent
change coolness programming languages
over time our X labels are just strings
whatever one of the things that's really
cool you can put whatever the hell you
want in there it's just whatever the
order is basically done and then to make
the graph we this is the name of the
line and then these are the values and
these are just percent change values
over time these are real real numbers
not really
but they're real numbers and so those
are graph or graph is done at this point
now there are a lot of ways from here
the graph is done in the backend but
there's a whole lot of things that we
can do from here and let's see if I can
find it output so there's a lot of ways
that you can output the graphs a chart
render will output just basically the
string of the SVG you can output to a
file with chart render to file so
instead of chart in our case this might
be hard to see too so instead of chart
in our case we're calling this graph
okay so if we graph dot render to file
you can send it to a PNG Eitri base64
data URI you can send it to a browser
you can render in browser pi query and
it looks like wow we've even got a flask
response so anta django responds now yes
we are using flask yeah we kind of want
it in response but actually we want to
embed this graph so instead of using the
flask response we are gonna use the
base64 data you are I if you read here
basically the idea this is so you can
actually use embedded tags or image tags
to include it so that's exactly what
we're gonna use we're gonna use rendered
data URI so we're just gonna call graph
under sport data equals graph dot render
underscore data underscore URI boom we
got graph data now all we have to do is
we need this graphing HTML so we're
going to come into templates let's make
a new file and we'll call this graphing
HTML and we will and all we have to do
obviously this is already here but all
we have to do is again you can either go
to the source code on python programming
at net or really this is pretty simple
to type in basically where everything is
the same up to here right so the only
addition we have to embed this graph is
literally embed tags we're embedding an
image of SVG and XML the source is this
graph data variable with the safe filter
okay so we learned about the safe filter
a few tutorials ago so without that it
would not it would look like a bunch of
garbled data and then style we just give
a max width to this graph as a thousand
pixels that's it
so in bang a pie graph is as simple as
building the graph which arguably most
of these lines were taken up just making
lines but you could literally like it
could be basically that big
so we made the graph convert to URI we
pass it right in here
that is it so let me move this over and
let me just check to make sure we did
yeah we did import Pike out so now all
we need to do is reload over here and
now we go over to our website and our
website address here was pi gal example
i think yeah pi gal example so let's go
pi gal example it takes exactly 110 what
did we do
render tempie in ah okay graph data
needs to equal graph this uh run one
more time come back down load there you
go so now we have our embedded graph and
we can clearly see that python is
obviously the best programming language
ever and i'll just look at it dominating
all these other languages so anyways
that is pi gow embedding pi L all the
graphs are basically the same as far as
how you you know how you create them
especially like initially you just do
the dot you know whatever you want so
oops that was style
here's chart type so like for example
bar it would be pi galloped up bar
everything else remains the same you can
see that generating all of these graphs
is basically identical once you have
those there's all these different types
and then you can come to styles and
there's a bunch of pre-made styles here
so you could look at red blue dark light
okay wait for these to load here opened
up a bunch oh my goodness everything's
going very slow well anyway so we've got
all these like pre-made styles and stuff
which are this is this one's pretty cool
like the neon style anyway you get the
idea
but if even if all of these are not good
enough for you and you can't find one
that you really like out of
the billion styles they've pre-made you
can come down here and create your own
custom styles so you can create your own
style class so right here
custom style style boom that's literally
calling it custom style and then all you
do is you pass that custom style into
the style parameter that's it okay so
and then charts you can configure the
charts in a variety of ways you can
configure the series in a variety of
ways you can have the multi axes here
and anyway there there is a billion
different things that you can do maybe
not a billion but a lot so I mean this
is extremely customizable extremely easy
to use as hopefully you just saw how
quickly we embedded that graph there are
nice pretty graphs they're interactive
graphs and they load very well on scale
very well so anyway that's that the only
thing that I would just throw out there
is I've been actually using pi gal a lot
and other projects and the only thing
that will cause problems but this will
cause problems in any graph but
especially pi Gao is let's say you've
got 60,000 plots right it's gonna
literally show all 60,000 on the x-axis
it'll show each little one so you have
to if you want to fix that you need to
run it through some sort of pandas
resampling which is really simple I
actually have a pandas resampling
tutorial run it through one of those
little resampling operations highly
efficient operation run it's very quick
run it through that then generate your
graph okay but other than that it's a
it's a really nice graphing application
I'm really happy with it so anyways
that's it for pi gal just a really quick
tutorial simple enough with pi gal if
you have questions comments concerns
whatever feel free to leave them below
in the next tutorial we're gonna be
talking about is PayPal integration so
PayPal integration obviously what it
allows you to do is use PayPal as some
sort of payment processor but also
allows you to automate everything in the
backend so if you're running a store to
just automatically do various things
what people will purchase something or
maybe you're running a subscription
service like plus equals one
automatically upgrade people who have
paid automatically downgrade people who
have it
stuff like that it can also
automatically do all your accounting for
you in all kinds of stuff so that's
we're going to be talking about in the
next tutorial so stay tuned for that
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>