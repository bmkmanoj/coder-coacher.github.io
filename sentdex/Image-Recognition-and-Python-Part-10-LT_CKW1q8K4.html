<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Image Recognition and Python Part 10 | Coder Coacher - Coaching Coders</title><meta content="Image Recognition and Python Part 10 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Image Recognition and Python Part 10</b></h2><h5 class="post__date">2013-10-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LT_CKW1q8K4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody welcome to the tenth and
probably final image recognition
tutorial video where we left off we were
just comparing pixel by pixel decide
which pattern matched best and then
obviously comparing with examples from
an OCR and where we left off that's what
we had done and the surprisingly made it
with this awesome drawing of the number
three by me now what I would like to do
is not only depict it in number form but
also show it visually and then why don't
we actually try it against a few other
examples because surely we won't be
perfect every time and so that will
bring up the next question of threshold
where would we decide we're good or what
not so anyway put this away for now and
now what we want to do is graphically
represent what we just did so what we're
going to do is just basically come down
here and let's make some space and now
what we're going to want to do is we're
going to say because we want to graph
everything in this counter and dealing
with this counter is kind of finicky so
what we're going to do is I guess what
we'll do here is we'll do graph x equals
an empty array and graph y equals an
empty array so obviously what's going to
go in here is X variables and Y
variables next thing we want to say is
for H J and X um just so we know what
we're doing let's go ahead and print
each thing just to make sure we're on
the right track and what we're going to
do is because X is our counter and each
thing an X should because it's it's a
dictionary so X will correspond to the
key so in a dictionary you have a key
and a value and the key is the first
element and the value is the second
element so X should correspond to an X
is going to be our x value so on the
bottom of our graph we're going to have
0 1 2 3 4 5 6 7 8 9 and then on our
y-axis will be how close or like the but
we'll make a bar chart basically of how
similar and it'll be awesome
so anyways X will be
number so we're and then we're going to
say is graph X dot a pen and we're just
going to append each thing subsequently
let's make sure we're still on the right
track now say print X each thing so this
is the dictionary what is the value of
the key of each thing from X and that
should crown the numerical how many
matches had it found so then we're going
to say graph y dot append and we all
just want to pend X each cou and now
let's see that's good for now um so now
we're going to want to do is we're going
to figure equals plot figure figure and
then we're gonna say ax 1e
Boyles plot subplot two grid and then
let's just make this grid really simple
we're going to get a four by four this
one will start is at zero zero and it's
going to rowspan one so only take up one
a row and then it's going to calm span
for columns and then let me just do a
nice sexy copy-paste organ smart not
hard
change it to ax to still a 4x4 this one
starts at one one it's going to be span
three rows and that's it quick glance
make sure we did that nice copy and
paste job good a x1 dot m show ir easy
easy
yeah that sounds familiar now we're new
a bar bar chart now bar chart is
something we haven't covered and
actually I don't have a video tutorial
on bar charts it's included in a lot of
my videos but I'll have just a pure bar
chart video so if you haven't seen it
it's pretty simple stuff a x2 dot bar
and then in here use X variables graph Y
variables and then we're going to do
something cool and we're gonna say align
equals Center and the only time you
would ever want to do this is when your
X variables are like a name or a date or
something like that
I suppose I guess date doesn't sound too
crazy of a thought but you basically so
like the ticks write the actual labels
are going to be in the center of the bar
so it makes it just really easy to read
Because natively the tick will be on the
left hand side of the bar and the bar
will pour over the right hand side and
it just kind of looks funky so now the
next thing that we're going to want to
do is we said that we wanted to set some
sort of threshold and in my opinion if
it's less than 400 pixels similar it's
predict it's highly likely to be a
mistake or very poorly drawn image so
I'm pretty surprised that our three even
passed that test but it did so anyways
400 we'll just say that so that
basically limits the y-axis to a 400
next we're going to say let's do a X
let's just show it let's see where we
are right now so now under the cool so
save run well anyway it printed out a
whole bunch of stuff here we don't
really need to be printing out any of
this but you've seen all of this so 0
there were 397 matches one there was
three oh nine to four oh five three four
twenty seven so on and then you should
have also got this so let's back away so
this is the number that we drew looks
familiar and then these are matches but
as you can see our X variables are kind
of e2 is clear correctly marked this is
obviously the three right but we're not
we don't see it so let's go ahead and
fix that real quick
remove this over and we'll just come
right down here then we're going to say
X location and then this will boost X
location equals plot dot max and locator
and we're just going to put a 12 in here
so it basically says like how many are
the maximum values that will show on the
x-axis and since we want 0 through 9 to
show up and then we also like since the
bar we said bar align Center so that
means if everything is filled a bar
chart in the center would pour
for the y-axis if we did this so there
must be a negative one variable to the
right and then there's also going to be
a number ten variable to the left
therefore we must say twelve not ten
moving right along
we're going to say a x2 dot x axes dot
set underscore major underscore locator
and we're going to set that to X look
and that should solve all of our
problems nice so now it looks very clear
to us okay so what's this number most
likely well it's most likely a three so
now let's close this and let's run
another number shall we so I'll delete
Garib that pencil let's make a seven
that should oh that's kind of a shitty
seven but excuse my language save that
and let's see if we match the seven run
that plot it up sure enough the only
number that even was recognized with
seven nice job guys let's do another one
I think of a better one like four is a
good one that like alignment would
matter and then also like if you did any
blurring so there's a four save that and
let's run that I wonder if that'll match
sure enough that four match but okay I
was thinking that at least this part
which was poorly drawn but let me just
shift this over so all shift over to the
right so this is an example where you
would want to have some sort of
centering function because this probably
won't match a four I'm going to be
really surprised if it does because
we're like so stringent and our matching
there we go cool so it matched a sort of
a three before is not even shown and it
really matched a nine so one of our miss
one of our funky-looking nines
apparently so that we took a few
examples of so one you could have a
centering function to you could in your
examples you could take all of your
examples in them write a function to
shift them over a little bit shift them
over a little bit maybe shift them up a
little bit down a little bit and so on
so you could do something like that as
well and that would solve the function
where you
have a centering function and stuff like
that but generally a blurring is better
so well what I mean by a blurring
function is so instead of like zero like
in theory this is zero zeros and ones
right so 0 0 0 1 0 0 0 0 1 0 right and
instead what it should be a 0 0 25 50
150 25 maybe 50 1 and so on and so the
closer you get to the to the example the
better but it's like if it missed it by
one pixel you're not like totally off
it's just maybe we're not so certain so
you can do something like that as well
so I call that blurring I'm not sure if
what people call that but that seems to
work really well as well especially when
you have images on like say a CAPTCHA
even though my goal isn't to teach you
guys to read CAPTCHAs but what they do
is they make the letters like wavy on
the CAPTCHA and this solves that problem
so anyways close out of this and let's
make another one and we'll just for now
leave them centered even though I did
did want to show you guys like what
where this would go wrong seems as
though maybe I've closed out of paint I
can't find it on my bar just I'll bring
it up again so another one that probably
I can even be able to draw is a two so
let's try - so - oh my god that's a
horrible - ok I'm going to go ahead and
redo that guys ok that's good enough I
guess let's save that and put it over
here let's run this and wow it actually
got that - cool so anyway you guys get
to get the point you can play around
with this all you want on your own and
try out new numbers and stuff it
actually works pretty well given the
extreme simplicity 9 examples and all of
that it works pretty darn well and I
wonder I wonder actually I'm curious we
can do this test together let's see if
this two matches we shifted it over 1
oh it matched even better this time
around
look at that awesome anyway so so anyway
what I'll leave you guys with is kind of
what I was saying before
actually I think what I'm trying to say
is represented really well by this
matplotlib image of the number two right
if that two is what you want to match
against right so a perfect black versus
kind of like a grayish and you want to
superimpose that on to the image right
this might be the image but then you
want to later on blur that image a
little bit so it looks like this and
then store it and then you want to do a
percent similarity between the numbers
and that will give you a little bit of
help and you want to do all of that
after threshold alike blues and greens
and stuff like threshold at first then
blur it then compare two examples and
that's actually got a really high
accuracy rate it's it's um about like 88
percent or something and that's off
something I made like in my free time so
it's pretty accurate and as you can see
this is actually already pretty accurate
and then it as long as you like if you
keep building up your examples and stuff
you'll only continue to increase in
accuracy so in that way it's kind of
like a neural network and you could add
in some more machine learning principles
to better this but really as you can see
you just need examples and you can
fairly well recognize characters so with
that I'm going to conclude this series
there might be future videos I add
alongside here but that covers pretty
much all the stuff I really wanted to
cover in this series so hopefully you
guys enjoyed as always thanks for
watching thanks for the support the
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>