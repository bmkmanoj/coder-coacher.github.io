<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Basic PHP Programming Tutorial 30: MySQL database in Use | Coder Coacher - Coaching Coders</title><meta content="Basic PHP Programming Tutorial 30: MySQL database in Use - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Basic PHP Programming Tutorial 30: MySQL database in Use</b></h2><h5 class="post__date">2013-06-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q8seWsWOr1M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to the 30th PHP
tutorial so now that we know how to do a
few things with the database I thought I
would show you guys maybe a little quick
script doing something with it and so
we're gonna make a a form where the user
can just say like it's going to say
what's your name
they'll put in their name if they're in
the database then it's going to
reference that name and it's going to
return back to them what their age is so
with that let's go ahead and build this
form of course it's first it's going to
ask them their name
so within strong tags it's going to say
name and then we're gonna make a break
here and put the form below so we're
gonna have form action we'll just equal
PHP tutorials dot PHP the method we'll
be using is post and the form will be a
text area the name we'll just say the
name is going to be name because it's
what the user is inputting is their name
rows we're just going to make it 1-1 and
then columns when we'll make it 10 so it
kind of fits a name and then we'll have
a couple breaks and then we're going to
have a submit button for this form so
that's going to be oh hey we never
closed off this text area
so text area now we want to have input
and the type is going to be equal to
submit and the value like the title of
that button will be submit and then
finally let's close off this one so now
we've got a form let's build the handler
for this form so as usual we're gonna
have like like before if and then is set
and then we're gonna do post and if it's
been posted the name which is this text
area then what do we want to do with
this data so we're gonna define the text
as what was posted so whatever was put
within our box so to speak then we want
to we'll just go ahead and echo out
their name like we did before so to be
hello and then text and we want to go
ahead and append a couple more breaks to
this break now what we want to do if
we'll say if that field is not empty
oops not empty and what is not empty is
the text close off the if statement did
we just link I just lost the yeah
somehow along those lines I swear I put
it there but I guess not anyway so if
the text is not empty then what do we
want to do well let's specify our query
now that we want to have the form that's
going to be select age from our table so
be from and it was epic table and then
we're name is equal to whatever our text
is and that's gonna be our query or what
we want a query so now our actual query
it will be the calling of it with the my
sequel query command so I'm at my SQL
underscore query I want to query the
actual SQL there and then we'll have an
or die and we'll just say fail to query
and then what we'll do is let's make a
while loop even though it's not gonna
it's only gonna return one but Wow well
that we want to do this and we're going
to stay in our while loop while row
equal and the space it nicely equals M
SQL underscore fetch associative array
and that array will be with query what
do we want to do and we're just gonna
say age equals Delos on row and within
that it was age and then we want to go
ahead and echo your age is and then hey
let's just let's just go all out here
strong and then we want to echo the age
and
undo the strong and then we'll follow
with a couple breaks close it and then
we should probably finish off this if
statement so we'll come down here and do
else and we'll just echo no text okay
that ought to do it for us so let's put
that up on the server now pop over here
refresh so here it is our name will do
Harrison hopefully it'll return us in 99
hello Harrison your age is 99 let's do I
believe we had a Jackie in our database
as well hello Jackie your ages 55 now
the last tutorial I discussed just
mention the existence of what's called
SQL injections now as they say it's all
fun and games until someone gets
injected so this is all fun but let's
figure out what we can do to kind of
what's called sanitized what's being
submitted here and it's actually quite
simple to do this so what we want to do
is when they host whatever they post so
far we've not accessed the database yet
after we echo the text then we're going
to say if it's not empty then we want to
you know do stuff with it so what we
ought to do is now we should at this
point I think we'll just redefine what
text means under here after we echo it
so after we've echoed out text or right
really before we even echo the text we
should sanitize the text so let's go
ahead and do that here so we're going to
now redefine the text so we're gonna say
text and it's going to equal my SQL
underscore
real underscore escape underscore string
and then the variable within it
now a lot of times it's gonna
automatically do this for you depending
on I believe your version of SQL but if
not it's a good idea to go ahead and do
this so anyway and it can't hurt really
so you want to put in text here so now
the new version of text is gonna equal
this escaped version of text that's
gonna do is it's gonna escape a whole
bunch of characters like double quotes
quotes like XO newline and all kinds and
a few other things but for the most part
of this is what we're gonna we're
looking to get rid of any sort of
problematic queries so what we're gonna
do now is show that now again with the
echo here like I was showing you before
with the iframes you might want to
consider you know the HTML entities
stuff but anyway once we do this instead
of where name equals text let's do where
name equals new tabs sanitize text so
we'll leave that other text there and I
think it's all we had to do we just
needed to change that where it queries
database and just so we know we'll just
put some dots there dots for suspense
you know oh wait hold up let's save this
again come back over here open up a new
one and then let's put in the name
harrassing me so it still works but what
if we attempt to put an SQL type of
query like a single quote there oops
sorry we didn't there we go
so as you can see it's actually escaping
that folks normally that would close off
the query and then someone could you
know do some sort of fun stuff so they
could say like where name let me just
pull this off you know you could say
like okay my name is Harrison oops do
this so my name is Harrison and and then
do this like Dewey from if they knew the
table name they can start saying the
table name and then they could just say
Paul or something like that and they can
start doing that or there's a bunch of
other ways they can either collect other
users information get the entire column
of passwords get the entire password
column and then get the entire username
column and so on so it's just a good
idea to go ahead and make sure those
characters are all escaped so anyway as
always thank you for watching thanks for
your support your subscriptions and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>