<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python: Average True Range (ATR) 1 Mathematics and Stock Indicators | Coder Coacher - Coaching Coders</title><meta content="Python: Average True Range (ATR) 1 Mathematics and Stock Indicators - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python: Average True Range (ATR) 1 Mathematics and Stock Indicators</b></h2><h5 class="post__date">2013-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/53fnUG6Dvmw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well everybody and welcome back to a
Python mathematics and stock indicator
tutorial video this video we're going to
be discussing the Average True Range
alphabetically actually we would be
discussing the directional movement
system but the directional movement
system uses Average True Range within it
so that's why we're kind of skipping
over that one to Average True Range in
the next next little meeting series will
be the directional movement system so
ATR what is it it's another one
developed by Welles Wilder the idea of
it is to measure volatility in a stock
so it's not going to denote trending at
all it's sometimes I might appear like
it is but it is not so the average in
Average True Range just denotes it's
just true range with an average right so
it's an exponential moving average of
true range
so what's true range true range is just
the difference between the absolute
lowest price and the absolute highest
price within you know one day time
period so it's usually going to be
today's high - today's low but or that
specific day's high - at specific days
low but it can go all the way back to
yesterday's closing price so if
yesterday's closing price was really
really high and then today's low is
really really low and those are the max
and min then that would be considered
mostly since that's like our true full
you know 24 hour a day of price and in
some theories you would say that a price
is still changing even while market is
closed because people's opinions
sentiment and all that is changing so
true range is a measure of volatility
but it's only a measure of the absolute
highest price - the absolute lowest
price so keep that in mind because I
would be one to argue that that's not a
full definition of volatility really a
definite you know the true volatility
would be you know in as far as percent
change how much like how much that stock
go or the whatever stock or forex ratio
or whatever how much does that go up and
down and up and down and up and down
throughout the day right not necessarily
you know just because it rose a lot but
what if you know in my opinion
volatility is a lot of up and down but
anyway that just you just have to kind
of accept the fact that
that's part of it now Average True Range
I'm not the biggest fan of this but the
directional movement system that uses
True Range is actually a pretty
interesting indicator so I'll be
interested to see what you guys think
about that one
so moving on just again the average True
Range is just simply an exponential
moving average typically 14 of that true
range but again one of the benefits to
both knowing how to chart your own
stocks and how to calculate this stuff
is you can put whatever value in there
you want you if you want to use a
shorter you know like I was saying
beginning in the beginning the idea of
moving averages is to fit your needs
exactly so you can smooth out a line to
be either a very long term kind of trend
line or a very short term trend and 14
is kind of a longer term trend for
something like this one and I'll show
you some examples of comparing 14 to
maybe like a 5 right and you'll see that
the stark difference and also the
choosing of whether or not you even want
to do an exponential moving average
because again you might not want to do
an exponential moving average you might
want to do just a typical moving average
and then even Welles Wilder himself had
his own special you know Welles Wilder
moving inference so you can kind of you
can choose a lot of your own things once
you learn how to do this stuff so it's
definitely useful also if you're the one
programming it that gives you a pretty
good understanding of what's going on in
the formula and then you can really
truly make an educated decision on
whether or not you want to buy into that
indicator so now I'm just going to show
you guys some examples of this Average
True Range I'll just show you a couple
different stocks the first one I want to
do will do a 14 period ATR of Exxon and
I'm just going to run that script here
and this is what we'll end up coding at
the end if you follow all the way
through this will plot X I'm it comes up
and here's our exxon chart and as you
can see again this is a ATR it's an ATR
14 period and here's a good example of
where obviously you can you know volume
is a pretty good measure of volatility
as well
I would only say that of the of this
stuff volume is the better measure and
volumes like instant right you don't
need any yeah any moving average but
anyway and you can see how volume kind
of correlates or really a TR correlates
to volume anyway so here would be like
the one of the most volatile points on
the chart as we can see it does show up
here but it's quite ly it doesn't show
up until you know way over here right so
it starts showing up really on December
21st and it peaks at uh January 11th of
2009 when really the true action the
true volatility was actually he October
6th ish Ted 10th so as you can see
that's examining
and you know I but you can see also that
you know the as this line was slowly
rising as volatility was rising and then
you see it reached its peak and then it
kind of came down and sure enough you
know price change in this area was a
little bit slower than price change up
here so not to say that it doesn't work
but again volume I think is a pretty
good determining and you could put a
moving average on volume or just leave
it like this and you can visualize it
just as good so now let me show you
another example
only this time like this one is using an
ATR 14 will do an ATR 5 on the same
stock let me close out of this and edit
the value there so this one will be a
five-run Exxon
so here's our exon chart and as you can
see this one worked out a lot better
with the I mean it's still a little bit
lakes again it is using a five period
exponential moving average so it's
assuming on this spot so you can see a
comment just barely is missing it here
but it's much better but then also if we
zoom out we can see again it's almost
perfectly matching volume so I know I
keep saying it but I just think volumes
probably one of your best bets or maybe
a meshing of volume and price but anyway
so that's the basics of ATR and again
it's just it's only to denote volatility
as you can see how many it's doing its
job at least and then we can out we can
begin to use this to be a measure of
volatility and it's actually you know
considering that it doesn't use volume
at all to measure volatility I would say
it's actually a pretty interesting
indicator of volatility because then you
can mesh it with volume and you're using
two totally separate data sets so it
gives you a pretty good idea of what
volatility is and then when you mesh
this with a TR for example just another
case of what makes it so useful to know
how to not only chart but also program
this stuff is you can change you know
because this is just true range that in
the point of true range is to measure
volatility so since that's your goal you
really could mesh this ATR with just
simply you know percent change or
something of volume and you can really
get a good measure of volatility so then
when you go to add it to maybe the
directional movement system you can make
that system a better system so in the
next video this is what we're going to
be programming or at least this line
right here that's all we're really after
will be programming that and then in
some subsequent videos I'll show you how
to add it into the chart like this so
you can see the same thing so anyways
that's going to include this
introductory video to average true range
as always thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>