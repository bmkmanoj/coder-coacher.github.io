<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Price to Book Ratio Example - Using Programming for Fundamental Investing Part 3 | Coder Coacher - Coaching Coders</title><meta content="Price to Book Ratio Example - Using Programming for Fundamental Investing Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Price to Book Ratio Example - Using Programming for Fundamental Investing Part 3</b></h2><h5 class="post__date">2013-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/K2zyPby4034" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello and welcome to the third
fundamental investing with use of
programming tutorial where we left off
over showing you guys how to at least
view the data in your browser as far as
like what we're looking for and
eventually we will look for other pieces
of data but right now the first thing
we're going to be interested in is this
price-to-book ratio here so how do we
actually get programming to look at this
well if you have a program visit this
web page actually what the program is
seeing is this right
I get seeing all the actual like code
that an HTML really that displays or
JavaScript that despoil it displays on
the page so one of the easier ways to
find what you're looking for like we
know we're looking for first of all 9.22
but even better is we're looking for
something that comes after this right so
just copy that go over to the source
code paste that into your search and
sure enough here we go we found
price-to-book and then coming after that
we found this 9.22 so that's how we know
we can find this in price-to-book it's
going to be this every single time
obviously we won't always be not going
to - and really what we're looking for
is something at least under one but I
think what probably what we'll do is
we'll look for anything under 0.7 or
something like that so how do we
actually make a program to visit the web
page for any stock not just Chipotle
here and find the price to book ratio
well we can use Python for this so let
me move this over a little bit and we'll
come into our Python window hopefully
you've got an empty window and just to
get us started you probably want to go
ahead and just immediately save this I
safe - fundamental investing got py
don't forget to save it as a dot p wine
so now just a few things right off at
the top of the script we have to make
some imports you're new to programming
this basically is a way for us to bring
in other program or other scripts rather
into our program that way you don't have
to continuously write new lines you can
import previously program stuff and
these imports actually come
with pythons so first thing we wanna do
is import time this allows us to make a
timer and we're going to do that so we
can make a timer in between the amount
of in between the visits to Yahoo that
way you're not hitting Yahoo like a
thousand times a second alright so
that's the first thing we're going to do
next thing we want to do is import URL
Lib URL Lib - basically it sounds kind
of like what it is it's URL library so
you can kind of visit URLs and then one
more thing from URL Lib - we want to
import URL open so we can actually open
up URLs so that's going to pretty much
cover it with the import Sarina
pull now the rest of this stuff is
actually going to be stuff that we
program so what we're going to do is
come down here a little bit and we're
going to define a function so we're
going to say define
Yahoo key stats if you don't know about
functions you can I have a tutorial
dedicated to function I find it in my
channel and Yahoo key stats and then for
that we're going to put like stock so
whatever stock variable we put into this
function we're going to run you know
this function on it as with all my
functions we're going to encase it and
try and accept loop except except E and
print and we'll failed and main low and
then string or whatever reason we fail
that will tell us why and then since we
have the stock variable we should go
ahead and make our like a list of stocks
that we want to run through I have the
entire S&amp;amp;P 500 list but also I'm going
to have a shorter version of that just
so we can run through an actual list all
the way without running through the
entire S&amp;amp;P 500 I'm just going to copy
and paste those in you hear there they
are
the SP 500 short it's short enough uh if
I remember I'll put it into the
description of this video if I forget
comment and I will put it in the
description of the video otherwise you
can just type some out or put whatever
you want in there for stocks this is
just a basically the first few
the whole S&amp;amp;P 500 and then in our so
anyway just remind me if I don't put it
in there and now in our function here
what we're going to want to do is we'll
say the source code equals URL Lib to
that URL open and what is the URL that
we want to open well if we come over
here and we just look this is the URL
right it's this key statistics or
whatever and actually I don't think we
need plus key statistics I think we can
get away with just this yes so that'll
be a little easier so I don't have to
put anything on the other end so
everything after this s equals like s is
you know symbol probably equals what so
we just copy and paste everything before
that though come back over here paste it
in so HTTP colon slash slash make sure
you have the HTTP or HTTPS depending on
what you're trying to view but in this
case make sure it's HTTP otherwise this
isn't going to work and we want to open
that plus whatever the stock is right
and then what I'm going to do with that
one read it and so what that's going to
do is we'll read into basically your RAM
or memory all of this right this entire
book of text will be read into memory so
now what do we want to do well we want
to find that price to book ratio and the
way I'm going to do that you could use
either a regular expressions or just
like a split and split both sides so to
keep this tutorial as basic as possible
we're just gonna use a basic splitter
function and so let's let's climb
price-to-book again so to find this 9.22
what is on either side of 9.22 well we
have this is on the one side of it
price-to-book all the way to this right
so that's on one side of it on the other
side of it we have table data and that's
probably all you really need to some
take
data so if we took a bunch of text and
we say well we want to split up this
text by everything by price-to-book you
know that's going to split up everything
up here right and then if we say we want
to then split by table data that will
split everything over here so you'll see
what we're doing is second if you're if
you're not familiar with that so first
what we want to do is let's take
price-to-book highlight all of that all
the way up till nine point two two and
copy that so then what we want to do is
say PBR price to book ratio equals
source code split and the first thing we
want to split by is what we just copied
and pasted and for that we want one and
that it's basically this will create an
array array start at zero so the zero if
part of that array is going to be
basically all well whenever
price-to-book started whereas price but
oh it's right here sorry highlighting
the wrong thing so right here all of
this stuff up here is going to be array
element zero and then everything from
here on is going to be the element one
right even though it's the second part
it's denoted as a one since a raisin
lists and all that kind of stuff start
at zero and actually I guess this is
actually a list anyway um so now what
we're dealing with once we've made that
split is everything like this so now
what do we want to do well let's just
split by table data and then take the
first element or the zero with element
there and that would give us what we're
looking for which in this case is nine
point two two but it's going to change
by stocks so first of all let's fix that
so string E I don't know when that
happened and then after this split we
can just immediately do another split
and what do we want to split by where is
this right here this these closing table
data tags just copy that and paste that
right on in there and then we want the
zero with element so now what we can do
is we can say print and price to book
ratio coin and then we want to print PBR
right so this is just going to say the
price book ratio : it you know basically
is and then
it that what it is so let's save that
and you can either press f5 to run it or
you can go to run it and run module it
doesn't really matter run that and oh
shoot well we haven't really done
anything but since we've defined that
function you could type in Yahoo key
stats and you can put any stock in here
that you want so you could say let's
look for a Apple what is the Apple
price-to-book ratio it's three point six
seven okay so in the next video what I'm
going to do is show you guys how we can
incorporate this entire list and then
also make it only printout if it's you
know plus if it's within a specific
range or underneath a specific number so
we can actually make this a pretty basic
but a screening program so hopefully
that sounds interesting to you guys as
always thanks for watching thank you for
your support your subscriptions and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>