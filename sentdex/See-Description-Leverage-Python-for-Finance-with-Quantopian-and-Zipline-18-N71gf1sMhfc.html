<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>[See Description] Leverage - Python for Finance with Quantopian and Zipline 18 | Coder Coacher - Coaching Coders</title><meta content="[See Description] Leverage - Python for Finance with Quantopian and Zipline 18 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>[See Description] Leverage - Python for Finance with Quantopian and Zipline 18</b></h2><h5 class="post__date">2015-08-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/N71gf1sMhfc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everyone welcome to
another Python with finance tutorial
video in this video what we're gonna be
talking about is cocaine so people in
the finance industry love to engage in
it but it can end your career in a
heartbeat if you're not careful buy
cocaine I mean leverage so coming over
here we've got this eighty six point
four percent return and what people
think sometimes is well shoot what if I
okay let's say we're investing with ten
thousand dollars here and we've got this
eighty six point four percent from start
to finish so people start to think that
oh well if I had twenty thousand dollars
so if I could get someone to just loan
me ten thousand dollars I would also
make eighty six point four percent on
that money so I would just double my
returns right what could go wrong so
they do that and they find out that
leverage doesn't quite work that way or
at least not in the way that they
thought so the way leverage works
generally is you've got you know you've
got an exchange or a you know
institution or a brokerage that you're
using and you have to sign up to use
leverage so it's a leverage is like a
loan because they're gonna loan you x
times the amount of funds you have now
there's a little difference you know
you've got you know brokerage accounts
leverage and you can usually get like
one times two times three times so one
times is what everyone gets then
sometimes you can sign it for two or
three times pretty rare I that I've seen
anything greater than that but like
before like the mortgage crisis for
example that I mean banks and stuff like
proprietary traders back then we're
trading with like 20 times leveraged I
mean it was absurd and nowadays people
are training more between like one in
five okay but people are doing it and
you know as time goes on that leverage
it just keeps creeping up because it's
so addictive and while things are good
it's good but when they're not it's
really bad so for example this is the
strategy we'll just view the code really
quick this is with no leverage okay so
each position is pointing which is
eleven percent and there's
well you know let's see how many copies
do we have 1 2 3 4 4 5 6 7 8 9 year
right so only nine company so we're not
leveraged right so in max investments 99
percent leverage in theory obviously we
could short a company and then if we're
shorting it and losing enough money
it'll probably add a little bit to
leverage but still one leverage then we
move right along them so we move to this
next next version of this and oh going
back over here 32.3% drawdown 86.4
coming over here 130 4.6 so we do beat
the market here fifty six point nine
nine percent drawdown and then we'll
just view the code really quick here
this is the same exact strategy only
we're using basically two times leverage
we can also hover over here to see our
leverage here's you know one point nine
seven but basically - okay so here we go
we've got to leverage only really in the
very beginning did we actually lose
money than we started with and then the
rest of the time we're still above you
know this the starting point line but we
still did wind up with that fifty six
point nine nine percent drawdown so
that's with two times leverage so then
someone might get the bright idea well
we still have room for one more multiple
here what could go wrong so we move on
to three times leverage
yikes so we get to this point and we can
see here the drawdown was quite
significant again now we're back we've
lost money from the start again at this
point we've lost money from the start at
this point as well and it turns out our
total returns overall we're less than
our two times leverage which just
baffles people but that's what happens
okay so we'll just look at the code real
quick right the only change here is is
0.33 that's it and so everything else
remains the same yet this strategy
performed way worse with even more
leverage so it's not like if you if you
have a strategy that performs really
well just apply some leverage and earn
more money that's not how it works so
moving along we've got the long short if
you remember this one's like an 84%
without any leverage so we apply some
leverage and now we've got we're up to
140 point four so checking the code
here come down right this is two times
leverage so first of all again as we
keep seeing the addition of leverage
raises basically everything quite a bit
but it does not raise the returns by -
it just doesn't it's not like it's a
multiple here of earnings so we've got
that and that was two times leverage
then here we go to three times leverage
I believe or this might be four let's
check it real quick right okay so this
is 4 times leverage and I just stopped
the the entire thing at this point
because you can see where like leverage
is spiking here like this is like
negative 185 leverage hey here soon what
happened there well what happened was we
actually our algorithm passed minus a
hundred so our funds were in the
negatives and then the fact that we were
still making trades meant leverage was
just asinine we wouldn't have made it
past here okay at this point we would
have been like yeah our strategy's
working good they would be like oh no
and then BAM we're done and what happens
too is like looking let's look at this
one the problem at this point and this
point and this point is when you're
shorting or when you have leverage at
any point your brokerage can be like hey
we want our money back and they'll take
their money from you and you might wind
up stuck in this position so there
you're gonna be they're gonna be paid in
full but you're gonna be that minus
thirty three point seven five percent so
that's a lot of money that you're gonna
be out of and so just keep that in mind
so here we can see well or finally
leverage goes awry and which makes sense
cuz draw it down at this point 56.79
don't know what you were thinking
doubling leverage at that point but but
still I can see the why you might think
it's okay because up to that point
really besides right orally you hadn't
crossed over the zero line at all so
thinking that you're gonna run out of
money might not have been something you
thought was good even gonna occur now so
that's leverage in your account and the
next thing I want to talk about is
leveraged etfs so some pipe people will
play with leveraged ETF so here's an
example of a leveraged actually this is
a couple leveraged ETFs so let's view
the code here what we're doing here
is we're investing in to two of these
leveraged etfs one is d RN and one is SS
o the SS o is this is incorrect comment
I just added these in here and this
comment remained d RN is for the housing
market that's leveraged at three times
and then the SS o is the S&amp;amp;P 500 I
believe it's 2x leverage I can't
remember honestly but both of these are
leveraged etfs so this would be the
performance of those ETFs over the
course they came out and like one of
them stuck to 2010 so this is the
furthest back we can really go but as
you can see yeah we're doing really good
but of course we got this massive
drawdown right here from up here all the
way down to here but we're still being
in the market pretty significantly here
so and this is a buy and hold type of
situation now when it comes to leverage
most people are kind of an agreement
that you never like hold leverage okay
you take leverage and you trade leverage
like day trade leverage you don't like
you just don't hold it okay but this is
an example of us day trading leverage
pretty well that's not day trading but
we're we are engaging in a lot of trades
and and we're trading like a simple
moving average crossover here
that's simple stuff you know like that
should really that should underperform
the market because it's a momentum
strategy's gonna it's gonna lag the
market but in theory you should make
money on those gaps but having this much
drawdown I mean that's that's pretty
scary
so I mean you might be like well okay
okay okay what we'll do is let's take 3x
leverage alright and then let's like
make the moving averages smaller okay so
we'll do 10 and 50 okay lose something
like that and so we could run that and
we're so we're gonna start May 30th 2002
but we'll see how this strategy does so
should be a little faster acting so it's
like in and out in and out but the
problem with even a fast-acting moving
average is that it's gonna be really
fast at making mistakes too and there we
go yeah we just went bust right it
didn't take us very long to end that
even though that 50 or five-and-twenty
what do we even use I can
remember no 10 and 50 even though that
theoretically should like kind of scrape
a little bit of money here and there but
not you know really make that much money
even though that's like a viable idea it
just doesn't work just because you apply
leverage it just doesn't multiply your
earnings okay so anyway long story short
leverage is dangerous but there are some
scenarios where you can apply leverage
and actually wind up doing pretty good
but you do just have to be so careful
when it comes to using leverage so
anyways that's it for this tutorial just
wanted to cover leverage I see people
using leverage a lot on quant opium and
sometimes I accidentally use it and I
don't mean to and in in really really
small doses leverage can be okay
but it's just too easy to mess up with
leverage and a lot of people might not
even have access to leverage but with
like ETFs and stuff a lot of times you
can get in on them no problem and then
you could apply leverage to the
leveraged ETF and now you're like three
times whatever your leverage is and so
people just go crazy like and so anyway
where's that long short that we're
running right now I think that's this
one alright so anyways that's it
questions comments below otherwise as
always thanks for watching these for all
the supportive subscriptions and until
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>