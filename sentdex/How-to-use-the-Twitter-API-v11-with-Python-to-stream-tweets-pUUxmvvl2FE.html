<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to use the Twitter API v1.1 with Python to stream tweets | Coder Coacher - Coaching Coders</title><meta content="How to use the Twitter API v1.1 with Python to stream tweets - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to use the Twitter API v1.1 with Python to stream tweets</b></h2><h5 class="post__date">2013-09-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pUUxmvvl2FE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to my
tutorial on how to use Twitter's API or
version 1.1 to access streaming tweets
within Python my previous Twitter
tutorials we're showing you how to parts
Twitter basically without using
Twitter's API and there's a multitude of
reasons why you would want to do this
but also I'm sure a lot of people just
want to parse Twitter using or just pull
from Twitter using Twitter's API and the
API is actually a pretty good API that
said the documentation on Twitter is
while extremely extensive
is also like really confusing and maybe
it's kind of confusing because it is so
extensive I don't know or maybe I just
suck at reading documentation either way
if you're in that same boat as me
I've got a video for you so my goal here
in this video is just in this first
video to go completely from scratch
where we are right now to streaming data
in Python and then from there I'll have
some future videos on how to manipulate
this data also I've had a lot of
requests for reading Arabic Chinese and
some other stuff within Python so
probably some videos on that as well so
stay tuned for those so anyway how do we
actually get started so the first thing
that you're going to want to do is take
yourself you know open up whatever
browser you're using and go to dev
Twitter comm from there you're going to
want to sign in to your account my case
sent Dex password 1 2 3 4 5 so once you
log in it should look a little bit
something like this and what we want to
do is actually add our applications so
alright the best way to do this is go
over to your user over here and click on
my applications wait for that to load up
and you can see I already have an
application here but you might you
probably don't so click on create a new
application and when you do that you're
going to want to enter in all of the
various details to this application so
in my case we're going to call this I
guess we'll just call it Twitter feed so
your application
aim and then hear description stream of
Twitter's what we'll call it website
this is going to be with syntax com
you need to put a callback URL yet come
down here agree to their terms and then
do one of these impossible cap shows
let's wait until I can find one this one
looks okay and then create the
application hopefully with the CAPTCHA
right not a valid you okay HTTP colon
slash slash Cintas comma you know what I
like about Twitter if there's nothing
else I like about Twitter it's that we
got the capture right but we screwed up
something else in the forum and we don't
have to do another CAPTCHA that's great
every website needs to adopt this oh my
goodness Twitter feed has already been
taken for an okey-dokey so somebody else
already has that so we'll just call it a
you whitey Twitter feed yay oh my
goodness this is quite possibly the
hardest application I've ever had to
make
okay great we've got YouTube feed good
we made the application and as you can
see we do have a whole like a consumer
key and consumer secret but the other
thing that we need is these access
tokens so the next thing you'll want to
do is come down here and say yeah create
my access token so you just click on
that and then it'll say boom you've got
you know some sort of token that was
created even if you oh it takes a moment
to take effect but in a second we should
see it let's refresh there we go so now
we have our access token and then our
access token secret great so now what do
we do with this well the next thing that
we want to do is actually use well you
need this to connect to their Twitter
feed so what we're going to go ahead and
do now though is download tweet P for
accessing this Twitter feed like I was
saying before I mean there's there's a
bunch of different
imports that you can use to do this
tweet peas just one of them I did I went
through about four of them and Tweedy
seemed to be the most applicant
towards what we are doing here now if
you're going to actually make an
application with it it might make sense
to go with one of the other ones so just
keep that in mind
so anyway twee pee how do we get it well
go to google and type in Tweety Python
so I'm going to do that let's open up
another tab and I'm here like I was
saying Tweety Python and we'll go to the
github
now of course depending on you know what
kind of operating system you're on and
all that how you download this might
vary I'm going to go ahead and just
download the zip also if you didn't
already install it or you don't know how
to install it and you want to do it the
same way I've been doing it or I do it
if you open up the file you'll see that
there's a setup dot pi file in there so
we need to do is navigate to this file
and then you just do Python setup dot pi
install so I'll just show you that real
quick so in here you would CD the
desktop / - ep - and then all you really
need to do from here is python setup
that py install and I've already
installed tweet piece so I'm not going
to do that but that is what you would do
and that would install the files as long
as python is in your path if you don't
know what that means leave a comment
below and I'll help ya so anyway that's
that once you have creepy installed you
should be able to go to your Python
interpreter so there's open up a Python
command line wow that's bright
but anyway import weepy should be
possible for you if it throws an error
something went wrong in the installation
process if you can't figure it out go
ahead and leave a comment below
otherwise if you can't figure it out
continue on so close out of this and
this and now we're going to actually
make our script I'm going to go ahead
and delete these because I don't need
these either I lied I want it back what
we're going to do open it up real quick
and just kind of like look the RIC
sometimes it's helpful to look through
your documentation a great place to
start is probably examples and stuff but
you can like look at all of their code
in here especially so we're using
streaming so if you
in the streaming you can see that you
know you've got stream listener on
connect on data on status to leave limit
air all this stuff you have all this in
here that you can use we're only going
to use on data and error but just so you
know they're all here that you can use
what else
there's one more thing I wanted to show
you guys as far as like what you can put
in here we go so you can also filter
things and so here you can filter by
locations async tracking track can be
like a specific term stuff like that
follow can be people and so on so anyway
we're going to I'll show you an example
in a moment so now we want to do in the
close out of this and we're done here I
think as well and I really am going to
delete this now and bring over this
tutorial here there we go okay so now
we've got this window here and this is
where we're going to actually create our
script let me see one real quick all
right I'm in my font a little bigger so
hopefully it's easy to see so now we
need to import three things for our
scripts so we need frong to EP wow
that's pretty big tips in for stream and
actually we need to be stream with a
capital S from tree P in 400 handler pay
attention to the casing there and then
finally from twe P Diet streaming import
stream listener
now we'll come down here and now let's
go ahead and define a few things the
things that we're going to need
immediately are going to be the consumer
key what are those the consumer secret
the access token and then the access
secret so we need all these things
where are they well I just showed you
mom so what you want to do is pop back
over to Twitter for example here's my
Twitter and we just squeeze this over so
um what is going on stream listen ok so
scroll down and you'll see ok well
here's our consumer key so we'll just
copy and paste that you should be
different than mine if it's the same
that's odd consumer secret and then back
down here now access token and then the
access secret put that in there and then
we're done with Twitter now so back over
so now we've got our variables that we
need next thing we need to do is define
our listener class and it's basically a
lot like what we've just seen in that
the documentation files basically like
the files it wasn't documentation there
might be a better way to go about doing
this but this is the way I figured it
out so the way we're going to do it so
anyway class listener in here we're
going to say stream Oh
listener and then in here we're gonna
have that on data and on arrow that you
saw just a moment ago so we're going to
say define on data so data and then all
we want to do is print out whatever that
data is and
earn a true otherwise define on air
again apparent so status and then we
just want to print the status like
whatever the air is so a lot of times
you might get will I'll show you that in
a little bit will force an air so the
next thing we want to do now is we need
to authorize ourselves so to do this
it's pretty simple off equals and then
we have to use the off Handler and we're
and to do this we use our consumer key
and our consumer secret and it's doing
all kinds of fancy stuff in the
background that you don't have to worry
about offset honor score access
underscore token and here again we do a
token and a secret finally um we do
Twitter stream it equals stream pay
attention to the capital S they're off
listener and that's obviously referring
to this listener right here that we made
and then finally our last line that we
need is our filter so we're going to say
Twitter string dot filter and what do we
want to filter by wil Wheaton's like
track equals we'll put in car here so
basically every message with car in it
we're going to spit that out so let's go
ahead and save that and we will run it
now and hopefully not having massive
errors
ah we did have an air handler learn to
spell dummy again okay and because my
font is just massive it's hard for me to
drag this over oh my goodness anyway
it's kind of big Fox I made it for this
video but as you can see hopefully stuff
is like flying by and I would just keep
in mind that you know you wouldn't want
to leave this up for like a really
really long time because as it prints
out to this little console it saves
everything and then it will start
printing out like really really slow so
you really just want to develop short
time short term in here and close this
out but that's kind of the whole point
of this thing anyway but as you can see
I mean this is
spitting out constant data and so what's
really cool about the Twitter API is
when you connect to it it's just it
literally is a stream of data you don't
have to continue connecting to it so
it's pretty cool
not to mention let's go ahead and cancel
out of this you get a ton of information
like okay this this is your tweet right
from there all the way the year I mean
that's that's insane
Unitas stuff you get now obviously you
don't really want all of this stuff but
yeah you get that if you want it so
anyway that's the basic stream and
everything you need to do to connect to
the stream and you know choose a word or
whatever for that stream I will put this
the script right here on my website it's
pretty basic and also their example is
very close to this I've basically
learned from their examples so so yeah
so you can either get it off my website
or look at their example or whatever so
anyway hopefully that's helpful to some
of you guys in my future videos we were
going over some other things that we can
do with this Twitter feed but I did just
want to get everyone started off on some
good footing so as always thanks for
watching thanks for your support your
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>