<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Aquiring RSI data - Tkinter tutorial Python 3.4 part 27 | Coder Coacher - Coaching Coders</title><meta content="Aquiring RSI data - Tkinter tutorial Python 3.4 part 27 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Aquiring RSI data - Tkinter tutorial Python 3.4 part 27</b></h2><h5 class="post__date">2014-12-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RWyBCZXoDNg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's up everybody welcome to another
tkinter tutorial video part of our
tkinter mega series making a baller
program so where we left off we've got
the chart actually showing some great
stuff we've seen how our backend
functionality allows us to add subplots
remove subplots ads you know throw an
SMA EMA that kind of stuff awesome
pretty candlestick charts based on the
data we set and now we're ready to show
the indicators so the top and bottom
indicator so we just have two major
indicators at the moment RSI and MACD
and so now I'm going to show you guys
how we're gonna grab those indicators
and we're gonna use the the SIA bdc API
to grab the indicator information so
come down to our animation function I'm
just gonna do ctrl F my fingers are
getting very tired from bulk scrolling
and within the animation functions where
we're gonna put the other data like RSI
indicator for example so enter enter and
here we're gonna define not all caps
defined RSI indicator like that and then
RSI indicator you're gonna pass the
parameters of price data and then you're
gonna pass the location data and we'll
go ahead and just make a default top
parameter there but I think we've
actually filled that in every time but
then quickly the question that we ask is
if location equals top we're gonna say
the values equals and this is basically
a dictionary of information here so
we're gonna say values equals what so
we're gonna say key this is the key that
we passed through the API and then we're
gonna say the prices are the price data
and that's why we have you know price
data at the end and I yeah we we did it
for the ticket I believe it's covered
even our
we'll have to check and make sure price
data and then we have the periods
periods : top in the cater one so this
is this kind of just matters just simply
because and in theory I guess we could
just just set periods under this but in
theory you could have an RSI indicator
on the top and on the bottom and have
them at like moving at different paces
or something right so anyway we're just
we're gonna spree set these so if
location was top mmm and then we're
gonna say if location equals bottom
basically the exact same thing only its
bottom indicator one now now that I've
done that we're ready to pass this
information to the CF BDC API and get
the returns so the URL for this specific
query is gonna be HTTP colon slash slash
cnbc.com slash API slash indicator slash
RSI so that is gonna give us the RSI
indicator information based on the data
that we pass through so what we'll do
now is we're gonna say data equals URL
live dot parse dot URL and code so we're
gonna encode this values dictionary that
we've defined here so we encode values
and then we're gonna say data equals you
are rx I'm sorry data equals data dot
encode into utf-8 and just for the
record if anyone is like confused about
this I do have a URL Lib basic tutorial
in my Python 3 basics playlist so if you
don't quite understand what's happening
here check that out we'll get rid of
this slash there so data equals data dot
in code to give 8 now where I save the
REC for request equals URL Lib request
dot capital request
and we're gonna request that URL with
the data then we're going to do the
response I'm so itchy today response
equals URL live dot request on URL open
and we want to open that the request
that we want to make which will return
the response that we want to get and
then we're gonna say RESP data equals
the RESP
dot read and that is in bytes so we need
to decode that and again I my code is
converting it to a string and removing
the B's I'm not sure why I did that but
we're gonna just not do that so we're
gonna say new data equals let's see I'm
trying to see here new mmm this is a
mess let's see let me look at the way
I've done it is pretty sloppy but then I
almost need the sloppiness here so new
data dots new data equals RESP data dots
decode so at least we need to code the
bytes there and then now we're gonna
split by not really sure I like this I
walked up to fix this later but we'll
say pricelist equals new data dot split
by this absolutely nastiness and we
might need to convert that should be in
string format but we may need to
actually convert that string but we'll
see if we get away with this
and then we're gonna say RSI data equals
and we're going to do some sexy one line
right here float it's the float I for
the I in price list so we're basically
converting everything here everything
here was a string right we can we've
split it by this comma space and it's
still in string format and so now what
we're actually doing here is we're
basically converting for at for I in
price
we do float I and so this is a really
what like easy one-line function that
that's what it does so it returns it to
RSI data now we want to actually put the
RSI data up so if the location is top it
goes on the top graph so we're gonna do
a zero that was the top subplot hey zero
dot plots underscore date and then we do
ohlc and then it is MPL dates and then
we plot the RSI data and then yeah light
will do lights color I guess we could do
light or dark really and then label
equals RSI now we might actually well we
may advance this a little bit if you
guys aren't familiar I wrote the the
customising matplotlib tutorial and we
wrote some some fancy code there that
like if if the RSI was greater or less
than a specific number it would fill
between so generally if the RSI is
greater than 70 that shows that it's
almost too strong and it's gonna bounce
back down basically so anything above 70
it fills between the 70 line and where
the RSI is so it'll feel like a block of
red and then it comes down and then when
it's generally like really really low it
fills that with green and the idea there
is what the RSI is it designates whether
something is overbought or oversold so
that's the point of that so anyway a
zero we do that then we're going to say
my code I used that label I guess we'll
continue that in equals RSI and then
generally you have RSI and then in
parenthesis you have the value so RSI
this and for all those people that like
to do % s and all this stuff
I'm really sorry feel free to do that if
you'd like I've just always done it this
way and I don't
ever stop top indicator one and then we
just need to plus and then the closing
parenthesis so if it's a 14 it would say
RSI a 14 okay so now hey zero dot set
underscore why label and we set it to
that label really professional code here
so now we're gonna say if location
equals bottom basically the same code so
let's just go ahead and copy this colon
paste instead of a zero it is a three
eight three everything else remains the
same I believe and that should be it
so let's save that and let's go ahead
and run it and see what happens
agree top indicator let's set to the RSI
indicators on tick data not available of
course so let's pick one day date time
from top indicator RSI nice little
warning message if I if I do say so
myself
no could not convert string to float not
a number
filled in the dawn tick
it's really weird cuz we passed
trying to think of why because we've
we've removed not a number already so
that shouldn't actually be a problem we
let's remove dad label just I don't it
doesn't seem to me like it would be dad
label but let's go ahead and remove that
it's clearly like sending the data and
it's coming back as cannot convert
string to float failing in that let me a
see we're graph rule is to drive me nuts
because we were plotting date here
it's got to be failing in here so let's
go ahead and add it a quick try here
except exception whoops as II failed I
string E and while we're doing that also
let's scroll to the very top and instead
of tick we want it let's just start it
with wonder one day let's go back to our
program here one day top indicator RSI
it should give us an error in RSI right
failed RSI could not convert trying to
float not a number Y is not a number in
my hmm okay so it's just weird that
we're returning a not a number here
now what if
let's go anime it's probably failing
right here right so price list it's
failing in the conversion there well
because you can't convert you know not a
number to that but why are we failing on
the RSI let's see I'm just running the
main one at the moment I just want to
make sure that my API isn't down or
something right okay so the aps went
down I'm just a little concerned then uh
aren't you tired I think we'll have to
we'll have to just come back to this but
for now I'll just give you guys the code
that will just you know tear this apart
at least so rest data equals rest read
that's fine and then basically what we
can do at this point is we can say new
data equals the string version of RESP
data dot replace I still don't
understand why not an eyes drive me nuts
anyway
replace the B and byte code with nothing
and then dot replace the brackets
there's nothing this place closing
brackets with nothing and then we have a
quote there that we need to replace and
that would do it okay so that gets rid
of everything then we would have price
list equals new data dot split
like on a space that would be the
priceless and then the RSI data would
not it should be unchanged so let's try
that in least we have a RSI data there
obviously I'm not very happy with that
if you can't tell we'll definitely have
to fix that code I don't this is so just
pathetic so so we'll have a fix for that
hopefully in the coming videos the next
video will cover MACD although we'll
probably maybe before the next video
we'll have to have a solution for this
because otherwise we're gonna run into
the same problem with MACD so anyways
that's that stay tuned thanks video if
you have any questions or comments
besides how bad that was please feel
free to leave them below otherwise as
always thanks for watching thanks for
all the support subscriptions and the
donations until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>