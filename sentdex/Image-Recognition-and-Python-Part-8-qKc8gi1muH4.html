<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Image Recognition and Python Part 8 | Coder Coacher - Coaching Coders</title><meta content="Image Recognition and Python Part 8 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Image Recognition and Python Part 8</b></h2><h5 class="post__date">2013-10-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qKc8gi1muH4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody welcome to the eighth
video in the image recognition and
manipulation video series and last video
I was showing you guys the threshold in
operation and in this video now we want
to start building up our example arrays
to compare to right so with image
recognition for example you need
examples right to compare the image to
to decide whether or not it's match so
in our case we have in this numbers file
here we have all these numbers and we've
got 0 point 1 all the way to 0.9 1.1 to
1.9 and so on and so they're just kind
of different versions of that number so
let's bring up a 9 here so that's a 9
that's a non that's a 9 nuns coming at
you guys anyway you get the point
different versions of how an OCR would
read the number 9 so that's that and
what we want to do is read these in to
just arrays right so you instead of like
viewing the image and then converting it
to an array and all that a lot of times
you might you're going to have pretty
much like a database of images that you
want to compare to so we wouldn't want
to read them in every single time so you
kind of want to create that database
once and not repeat through it every
time so the next thing that we want to
do is begin building that so what I'm
going to do is guess what we'll do
comment this out all the way to here I'm
going to use that in this one and what
we want to do is make a function to
create the arrays out of these examples
and save them so we can kind of
reference them later so scroll up to the
top and make some space here in the
function we're going to say define and
we're just going to call us create
examples and what we're going to do is
we're going to say number array example
so like the arrays of these piece number
images equal open and we're going to
open up a none are X dot text and then
we're going to
open that with the intention to a for a
penned now this file doesn't already
exist that is okay it will create it
when we run the script so no worries and
then we're going to say numbers we have
and this is how many examples of each
number do we have and it also just so
happens that it's going to match the
exact numbers themselves so it's going
to serve two purposes and so we're going
to use is range 1 to 10 and what this
means basically is how many decimal
points right we've got point one two
point nine and then also actually I
thought I was going to serve two
purposes but we actually have some zeros
here so that won't serve that brothers
so actually numbers we have and then
we're also going to need really numbers
we have should be range 0 and then
versions we have will be equal to a
range of 1 to 10 so this will create 0
through 9 and this will create 1 through
9 like it makes an array basically so
now what we're going to do is for each
num in numbers we have so for everything
from 0 to 9 then we want to do for each
version in versions we have so it's
going to run through 0 through 9 and for
each 0 through 9 it will also run
through each 1 through 9 so we're going
to say let's just print it out we'll do
print string each num and then we'll do
plus because what we want to basically
make is the file name okay so each num
plus a period plus another string of 4
further known so let's just print those
out and see if we get what we want right
we want basically 0.1 0.2 0 3 always 0.9
and then 1.1 right we don't want 1.0
otherwise we would use range so run that
and since we didn't already call that
function let's create examples and
further num is not defined let's see
here what we do wrong okay plus string
each version each version have okay save
that and run that and there we go we've
got now we have 0.1 0.2 0.3 all the way
to zero point nine and then 1.1 1.2 1.3
and all the way through so now we have
those the numbers like the digits that
we want and so now let's actually use
those to open up a file so we're going
to say down here image file pack equals
and what that's going to equal is images
slash numbers right they're going to be
plus the string version of each num and
then plus well basically all of this so
let's just highlight copy paste and then
we don't need to print this out every
time so comment that out and now
actually we need a dot plus dot PNG so
like that'll be the image file path
right now what we want to do is we're
going to say 'hey i for example image
equals capital i ma GE open and then we
want to use image file path so that
corresponds to what we just made right
and then example image array equals NP
array and i and then what we want to do
is convert this to a list
so we can save it nice and pretty to a
text file so the way that we do that is
e I our VI r 1e i AR one rather equals
string and then ii i a r dot to list and
then then we're going to say is the way
we're going to save this to a files we
not only want the image array but we
want to know like what number that
corresponds to or like what that
corresponds to so like if you were doing
faces this array in these file let's say
you've got ten pictures of the same
person so you each image array would
correspond let's say that's that's
person number 500 right so you would you
want to correspond those image arrays to
something right otherwise when you find
a match it's worthless
right so anyway so we're to say line two
right so how do we actually want to save
this stuff and it's going to be equal to
string
let's see numbers we have each known 0
through 9 since we have literally 0
through 9
so first we want to save each num and
then we're going to have so like let's
say it's finding its examples of 1 it'll
be a 1 plus we're just going to double :
just to make it easier on our eyes to
see it in the file that's what we're
going to separate it by + e ir 1 and
then we'll do a plus a new backslash and
make sure it's backslash not a forward
slash and and that makes a new line in
the file then what we're going to do is
we're just going say number array
examples so this right here at
corresponds to this open the file and
then we're going to do dot right and
what do we want to write line two
right and that's it so as long as we
didn't code in any errors here that
should create a sample file in your
directory wherever your script is
when we run this anyways and I'll show
you what I mean by that in a second so
save that run it and I don't think the
called create examples so we have to
call it yeah so we'll call create
examples it says okay so our on director
and our directly right okay so in the
image file path you have to make a
another slash there okay so that should
solve the problem so save that run it
again bring this over and see if we got
any more errors say any more errors so
let's go ahead and bring up that files
so you should go into the directory of
this script and you should have this
file num are e^x and if you don't have
notepad plus plus you can open it up in
a regular notepad and it'll look like
this and if you just kind of like
stretch it out really really far you
might be able to get it working or you
go format and make sure word wrap is off
like that it still is kind of crummy for
me anyway anyway I'm not going to view
that we're going to open it up in
notepad and so anyway you can see
notepad plus plus rather you can see
here so this is a 0 and this is the
array that corresponds to that zero
anyway you can see that we've got 0
we've got some 1 some twos threes fours
5 6 7 8 9
ok so this is our example file that
we'll be referencing a little bit here
when we compare an image that we've made
and we'll compare it to all of these and
see which one it matches most closely
and then make a decision on ok what
number is this based on the array so
anyway that's going to include this
video as always thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>