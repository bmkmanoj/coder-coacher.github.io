<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Reading from our sentiment database - Data Visualization GUIs with Dash and Python p.8 | Coder Coacher - Coaching Coders</title><meta content="Reading from our sentiment database - Data Visualization GUIs with Dash and Python p.8 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Reading from our sentiment database - Data Visualization GUIs with Dash and Python p.8</b></h2><h5 class="post__date">2018-03-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a8oJLbI03mg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right hello and welcome to part
three of our making a sentiment analysis
graphical user interface with Python and
- tutorial series in this tutorial what
we're gonna be doing is covering at
least real basic how we can now graph
sentiment by a term in - at least at a
very basic level so right now I'm still
running the the sentiment analysis here
so it's running live you can leave yours
running live in the background
especially I want to see your graphs
updating live
so first what I've got here is just a
simple query of grabbing a term from the
database loading it into a data frame
and then just printing out the data
frame just really simple breaking down
that step there reading in the data if
we run this you should get something
sort of like this now a couple issues
are right away when we you know
basically we want to grab by unix
descending because we want the latest
information so and then we're just gonna
limit to a thousand because as this
database grows you should be like I
forget exactly this is these are old
numbers - I don't know how much it's
changed but let's say it still is 400
million tweets a day one percenter
that's 4 million so you couldn't theory
have up to 4 million tweets per day in
this database so these queries can get
quite large so so yes so this is so we
want to pull order by UNIX descending
limit of thousand but now the time is
not necessarily going to be in the order
that we want so the first thing we want
to go ahead and do is let's go let's DF
whoops DF dot sort values and then we
specify which column we want to sort by
and then I'm gonna say in the place is
equal to true now now that we have that
the the sentiment value right now is
very raw it's not going to like if we
were to graph it in its raw form it
would just be a jagged
that kind of didn't give us too much
information so instead what we want to
do is smooth it out and a really
rudimentary way to smooth it out is like
with a rolling like a moving average so
to do that what we're gonna add here is
just using pandas rolling attributes so
we can say DF why did it go to a new
line as weird DF smooth sentiment equals
and then this can be DF sentiment on the
sentiment column and again just like
everything else really up to this point
if you're not familiar with pandas I
have a tutorial for that so check that
out
otherwise you should understand what's
going on here we want to apply a rolling
metric to this now rolling has a window
how big that window is should really
probably be dynamic so if we really got
a thousand things like a thousand data
points you know who knows maybe we want
to do 100 moving average or even a 500
moving it's really hard to say at this
stage because we don't really know what
this is gonna look like but we
definitely want it to be dynamic
probably so I would say the int of the
Len of the DF so whatever the length of
the DF is divided by some value I'm
gonna propose five to start but probably
it might even be a smaller number than
that but in this case divided by five it
could be up to it let's say so if it was
a thousand thousand divided by five 200
therefore it would be a 200 moving
average so yeah and then we use dot mean
the other one you could use this dot sum
if you were trying to do some sort of
volume which we very well may especially
in the historical stuff you would use
some most likely rather than mean if
you're trying to evaluate volume then
we're going to do is we're gonna do DF
drop in a in place equals true again and
this way when we do this rolling average
the first you know like if you do a 200
moving average the first 200 values are
kind of pointless so we're gonna go
ahead and just drop those anyways and
then we get the DF tail let's go ahead
and run that real quick and now we get a
much more smooth
out sentiment which we can see is
relatively positive around the word
Olympic and at the time of my filming
this the Olympics yesterday was the end
of the Olympics so Olympic is still a
popular term but you can feel free to
find I'm sure you can think of any
politically charged topic throw it in
there and you'll probably have lots of
information on that term now unlike the
other tutorials I think I'm going to
hold this one here and in the next
tutorial we'll do the actual live
display of the sentiment since a lot of
these tutorials were running pretty long
so I'll cut it here if you have
questions comments concerns whatever
feel free to leave them below otherwise
I will see you in the next tutorial
where we'll actually do this and throw
it in a - app and display alive</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>