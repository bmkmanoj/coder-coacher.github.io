<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial Web Development with Python 12 - GET &amp; POST | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial Web Development with Python 12 - GET &amp; POST - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial Web Development with Python 12 - GET &amp; POST</b></h2><h5 class="post__date">2015-03-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lUCmVNGs5gw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to part 12
of our practical Flast tutorial series
in this video we're going to be building
on the last video and that's with user
login system so we've got this login we
are actually submitting data but
nothing's happening when we submit the
data because we're not actually handling
the requests so that's what we're going
to do in this video is we're going to
handle it and do a really simplistic
version of validating the data that was
entered but then soon we're gonna have
to build our registration system build a
database and actually compare against a
database so let's go ahead and get
started so first of all what we want to
do with this login page is it is first
it needs to render if they're on slash
login like okay needs to render the
login page if they hit login that means
they've posted data so we need an if
statement that asks if the method is
post then we need to read the
information that was entered into the
form and then if that information equals
and is identical to the information we
have in our database which right now
we'll just hard code then we want that
user login but if the user logs in
generally you don't like have the user
login and they stay on the login page no
one logs in to view the login page so
after they login we want them sent let's
say to dashboard here so first of all
let's delete these flashes you don't
need those anymore so get rid of those
and now we're ready to get started so
the login page here there's a couple of
things we want first of all we have in
order to get the request data we need to
import request from flask
so from flask import flask winter temp
it template flash then we want to
request and then also we want to import
a URL underscore four and what URL four
is going to allow us to do is get the
URL for a function so we could say URL
for dashboard and that URL will be this
the other thing we're going to want to
is reader
three directs so at what we'll end up
doing is if the post information checks
out in the login we will redirect them
to the URL for dashboards so if the
request information checks out then we
use the redirect to URL for so let's go
ahead and do that now
so under the login page function we can
leave this here for now but first we're
going to encase this in a giant try and
accept exception as e and then for now
will flash
II just in case get rid of that that's
purely for debugging purposes for us at
the moment but if I forget to just
understand that needs to be removed okay
so don't leave that there
generally it's a bad idea to let errors
be displayed because in the case of this
login page the only reason someone
should see this error or see this
exception is if they are doing bad
things so you don't want to show them
the error because then they'll be like
ok this is why my attempt did not work
so we don't have to leave that error
forever we just put it there for the for
debugging purposes now and then so
anyway the exception and then if this
exception is trigger is still going to
return render template and in fact we'll
just do this let's just cut this paste
and then we're going to add one more
thing here and that's going to be error
and it's going to equal error if you
recall we put the error within
um the login page so here
did we oh maybe we didn't add the error
no we didn't add at the air so we'll
have to add that to wad that probably in
a later tutorial then but we'll actually
here we'll just edit your form and then
um let's just do some paragraph tags
really quick and I can't believe waiting
I swear recall us doing the error but I
guess not so we'll just pass through
error here
oops err actually it's a lowercase e so
error like that so we'll just save that
for now we can make that a little more
fancy later on down the road the other
thing you could do is flash it so you
could flash the actual error and you
wouldn't need to pass the error
parameter but yeah we'll just pass it
for now so that's the error first we try
except um and really
we'll try up here we need to say error
equals none so we try this and then
we're going to say if requests stop
method is identical to post ie they've
submitted a username and login what do
we want to do what we're going to say
we're just for now we're going to say
attempted username equals request up
form and then the parameter here is
username so where are we getting that
from so attempted username that's just
something we were making up request is
in reference to this request that we
imported form is in reference to the
form that we're submitting here and then
username is in reference to here okay
which is also in reference to here but
mainly it's the value here request form
dot username
okay so we'll come back over here and
not positive we might actually be able
to get away with actually heart like not
using the quotes but I don't want mess
with that right now it's like pandas you
know you can get away with those anyways
I tend to user name equals that then we
would say attempted password equals
basically the same thing only it was
password so now we've got whatever
they've posted and this will be in plain
text we've not you know encrypted
anything or anything like that but I'm
just showing you how we we will access
these things to have later on do more
fancy things with them so then we'll
just we'll go ahead and flash attempted
username and then we'll do the exact
same thing just copy paste and we'll
flash the attempted password and then
after you've done that of course you
would never do this in reality we're
just doing this for debugging and just
so we can see that we're actually
getting the data if that checks out we
will say if and then we'll say if let's
say attempted username equals admin and
a tempted password equals password we'll
say that was correct that was a correct
login so this will just mimic what will
later do is you'll take the username
you'll search the database for that
username but you'll also need to escape
that username for SQL injection attempts
so you'll search the database for that
username you'll find it then you'll grab
the the hashed and encrypted password
for that user and then you'll compare
that hash to the new hash of the
password that was just submitted and
make sure those are equal to each other
but not really equal to each other I'll
show you what I mean by that soon you'll
compare those to each other and if those
check out then that will be a login but
there's something some really pretty
encryption magic coming up there so
anyways if that is the case for now
we'll just use this one simple line for
that if that's the case then what we
would do is return redirect and then we
want to redirect them to the URL for and
that's going to be dashboard so again
redirect just redirects the URL and then
where are we going to redirect them well
we want to redirect them to the result
of URL for dashboard which is going to
go look for a function called dashboard
and find it and it's gonna be like well
here's the path boom done so that's if
they log in correctly now what if they
don't log in correctly well else error
is going to equal invalid credentials
try again done now coming on here this
remember this is if the request is a
post it's going to attempt to find this
information but it might be the case
that they didn't actually fill out the
form or whatever something went wrong
and that's why later on we're accepting
this exception and we're returning just
the simple render template with a simple
error that we're going to actually call
invalid credentials in a little bit but
anyways if request time I think equals
post what we're going to do now is if
else and then you've got will come down
here if this doesn't check out then what
we want to go ahead and do is return
hold on I'm getting myself confused here
so if this if statement is going to run
and if so this if statement will run if
the request method equals post therefore
if you have say an else statement so if
we said if and then so this return let
me write out this return first and then
we'll I'll explain why we're doing it
this way render template and this one
again will be logging HTML error equals
error okay so it's in line with this if
statement so in theory being a scripting
language that Python is if we continue
down it's going to run this line then
this line and this line and this line
this line then it's going to run this
line right well not really because if
all of this checks out up to here then
it's going to actually redirect to
dashboard and then it's going to start
running the dashboard function so it's
actually never going to get to this
point but what if this if statement
fails well then it's going to run this
else statement then it will actually get
to this return render template statement
okay so that's kind of what we're doing
there we're just using Python you know
scripting as logic okay
so uh that should be it hopefully that
was kind of a lot of code to not really
check but we'll go ahead and save that
let's restart Apache here and let's pull
up our page refresh the page there is no
error it is so long let's go back over
here err err equals none uh let's do I
don't really want none to always show up
there so try if we just say this well
that's only if the request so I really
want that to always be saying none
that's kind of annoying okay so let's
say five and T okay so try to log in its
it puts the log in information but we
don't actually we're not seeing our
error error equals invalid credentials
all right so now we're not getting or
actually oh okay fine let's do air
equals error like this paste save so now
we're actually watching put out the
error that way they know they entered
invalid credentials at least refresh
we'll just do the form submission okay
so now we get our little error that says
invalid Koran shil striking it's a
little bit okay
so then it'll be like okay I want to be
admin and then T Y let's do that wow man
that didn't work either
then what if they do admin password
login and it asks us if we want to say
the password on that no and then we got
admin password so we see what what
information was input and then you can
see that actually we were indeed
redirected to the dashboard page and
then we could you know play on our
dashboard and learn about all kinds of
new and interesting topics like web
development so that's that and as
promised let's remember to get rid of
that flash there and let's go ahead and
get rid of these flashes here actually
we're going to probably come back to
those so I'll just comment those out for
now cuz
we're actually gonna flash them a couple
more times when we get to the database
and we'll probably flash down here to
some errors once we incorporate the
database because you have a lot of
errors there maybe the username doesn't
exist in the database and the connection
information to the database is wrong all
kinds of stuff so we'll probably
actually return this flash II and in
fact let's just add it before I forget
so later on I'll add that in there
anyway restart Apache there let's go
back let's go to the login page now of
course the login page is actually not
treating us any differently and where
our header is not treating us any
differently if we're logged in or not so
we'll want to do something to handle
that as well because right now it's just
acting like any old form so we don't
really want to do that but we'll get to
that and a whole lot more information
and like I said the user system is like
one of the most complex big systems and
it seems so basic at the outset but it
gets really complicated really fast
anyway more on users and a little bit
hopefully you guys are enjoying if you
have any questions or comments please
feel free to leave them below otherwise
as always thanks for watching thanks for
all the support and subscriptions and
until the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>