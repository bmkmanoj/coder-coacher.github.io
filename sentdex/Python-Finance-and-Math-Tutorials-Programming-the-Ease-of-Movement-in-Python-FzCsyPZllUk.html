<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Finance and Math Tutorials: Programming the Ease of Movement in Python | Coder Coacher - Coaching Coders</title><meta content="Python Finance and Math Tutorials: Programming the Ease of Movement in Python - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Finance and Math Tutorials: Programming the Ease of Movement in Python</b></h2><h5 class="post__date">2013-12-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FzCsyPZllUk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well everybody welcome to the second
part of our ease of movement calculation
in this video we're going to be actually
calculating ease of movement in Python
one thing that you're going to real
quick are actually two things you want
the sample data the link for that is in
the description you should be taken to
this page and there's sample data here
and then also we're going to be using a
simple moving average we do actually
have a tutorial video out on simple
moving average so either check that out
or you can just come to the sample code
with the empty slot might as well leave
this page open if you plan to follow to
the next video but also for now we're
just going to copy and paste this moving
average definition right here for the
function just copy that move it over
here come down a little bit and paste
that function also make sure you save
the sample data to a txt file in the
same directory as your script I call it
sample data dot txt so now we're going
to need to do a few things if you have
been following along just copy and paste
and let me get through this real quick
otherwise follow along hopefully you can
type pretty quick otherwise pause the
video and catch up so what we're going
to need is we're gonna import numpy as
an MP or an import time then we're gonna
have a variable called sample data
sample data is going to equal open
sample data text whatever you save that
data as with the intention to need then
we're gonna go ahead and read into
memory then we're gonna have split data
and that's gonna equal sample data dot
split by a new line next we're gonna
define all the variables of sample data
so as we date closed P hi P low P open P
and volume equals none pyar n peed load
txt what text file anymore alone was not
really a file that's what's in memory
but split data with the delimiter of a
comma and finally unpack equals true so
we can unpack it into those variables
now that's that let's actually clear
that space I know that I made those busy
and let's make some space down here and
now what we're going to go ahead and do
is define env that's going
function and we're going to allow it and
we're just going to make it so we can
pass through all those variables at once
so it's going to be d c h l o v and then
time frame for the time frame of our EMV
next if you've been following along you
should recognize it should be pretty
familiar x equals 1 and also we're gonna
have a variable called 1 1 p EMV there's
gonna be an empty array for now our
empty list rather then we're gonna go
ahead and say wow x is less than the
length of any of these variables we're
really we're just going to say close and
we're gonna do the fun movement equals
and here's where we're gonna use that
calculation that we did in the video so
it's it's the high plus the low / - but
it's that current high right so for that
reason we really need to do H X + LX and
then this is being parentheses so we can
divide them by 2 divided by 2 and then
really that needs to be in parentheses
as well then that is we subtract from
that the old high right the previous
high plus the previous low so H X -1 - R
excellence re + L X - 1 and over get to
you close that right there and really
this needs to be in parentheses then
it's divided by 2 so again needs to be
in parentheses so throw those around
there and that's that now I think you're
should this should close off that one
and so just to be you know saying let's
just throw a couple more parentheses
here you can never have too many
parentheses it's like commas and grammar
you know you might as well just throw
them in there next you have this thing
called like the box rate basically
that's just like the volume to price
ratio pretty much so we've got Fox ours
but we're going to call it and that is
going to be the volume at the X variable
divided by whatever number you choose
and our case
can use 1 million and at the point 0 0
so it treats it as a float so it works
like we would expect division to work
and then we're going to do some more
division and so this needs to be in
parentheses so like all of this is what
gets divided right divided by the high
of you know the current high minus the
current low like that so now what we'll
do is we'll throw these into brackets
and then finally as we said before it's
like commas just toss them around and
now we've got our box our box read now
what we want to do is we want to say 1p
EMV s so 1 . e MV equals now movement
divided by this box R since that's where
it really what the equation is trying to
do it's trying to divide this whole
thing by this whole thing now just so we
can decide whether or not we're happy
with that number let's go ahead and just
print that out so we can just see it
with our eyeballs and see if that looks
you know legitimate so this is printing
out like a 15 billion every time or
something we know if something is wrong
there were a X plus equals 1 next let's
scroll down a little bit and now what we
want to do is we're gonna say time frame
of the EMV so once you get the EMV
generally you when you want to like you
know smooth there's a add a time frame
and a of a simple moving average to it
otherwise it's gonna look kind of silly
so most time people are going to use a
14 we haven't really called it but
that's what our TF is for so since we
called this function here moving average
right so we can say TF V and V equals
moving average oh and we really want to
have the moving averages 1 p.m. V and
for whatever the time frame is so this
is values here and then the window of
the simply moving average
finally let's print the length of the
TMV print land of b-day TF : so
hopefully those are two equal numbers
and then this function needs to return
being T F : and then TF
finally we actually need to call this
bad boy
it was EMV and then all the little
things all of these are the variables
plus 14 basically so we'll just copy
that paste that in there do a 14 all set
save that run it see what we get and we
got a trace back here V cannot be empty
and I'm also not sure so I ran the
function it spitting out the actual
numbers sure this is like really obvious
it says V I'm looking at V we did throw
in a value for B DC HL oh yeah you do
have volume V X well this is a bummer on
trying figure out when we possibly went
wrong here
just weird cuz it gets all the way down
to this point where it can like print
out all this stuff so that's what makes
it difficult is really it wouldn't
screwed up like here before it printed
out the lengths we are doing our X plus
equals one
I'm gonna go ahead and pause this for a
second and see if I can't figure it out
it's I'm staring at this I don't really
see it it's throwing back at me a couple
of different like here's the function
it's thrown back at me
then it's thrown back this for the
moving average and then it's raising the
value error of the can't be empty I'm
not really sure what B has anything to
do with TF EMV so anyway just a second
okay so at least one of the issues for
sure is that we never actually appended
1p EMV so one p env right so we need to
do one p vm v dot append one p EMV s and
then we run X plus C equals 1 and now
this whole thing ought to really work so
let's see
and let's go ahead and let's sweep 92 92
that should be it now let's go ahead and
actually print again 1p AMD's okay so
now that should be it so we just didn't
append the 1pe emmys or the 1p govt is
to 1 p.m. v that's not confusing anyways
so it looks like that we actually got
the correct calculations now and so now
what we actually want to do is add to
our charting application so that's what
we're going to be doing in the next
video so stay tuned for that as always
thanks for watching thanks for the
support and subscriptions and until next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>