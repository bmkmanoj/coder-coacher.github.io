<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Program Keltner Channels Python Matplotlib Finance and Math Tutorials | Coder Coacher - Coaching Coders</title><meta content="How to Program Keltner Channels Python Matplotlib Finance and Math Tutorials - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Program Keltner Channels Python Matplotlib Finance and Math Tutorials</b></h2><h5 class="post__date">2013-12-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7PDUdm7inRk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on guys welcome to the
next part of our Keltner channels
tutorial miniseries within our Python
mathematics and finance finance finance
indicators last video I was telling you
all about the Keltner channel and this
one we're actually going to go ahead and
programming then the Python so if you
don't already have a lot of the data
we're in two things actually three
things now because I decided to make you
guys as lives even easier you don't have
the sample data go to syntax comm hover
over about us click on tutorials there's
also a link there'll be a link in the
description ahead here let's look on
there it's not take you to this page
here and here you need basically we're
gonna actually make quite a few stops
we need average true range we want the
code for that so we'll go ahead and grab
the code from there and make sure that
didn't get messed up my little code
poster thing it likes to switch out the
greater than and less than signs with a
like URL encoding for it's very annoying
so next thing we want that you want to
get the starting code for our
calculation videos and then also you're
gonna want your sample data and then
we'll eventually get the other code but
the first thing we've got a verage true
range here and we want to pull the
sample code which is here let me make
sure yes yeah we have the less than
tourney fix that right now alright let's
try again and yes okay so I fix them now
so the first thing we'll want to do is
actually we don't even need that other
things that's right here so what we can
do is just copy and paste this entire
code for a TR because we really we need
a TR so we're gonna make a few changes
to this code but a TR is really an
integral part to the Keltner channel so
we might as well just copy and paste all
of that and actually that's the only
thing we need to copy and paste because
the rest will be coding ourselves now
for now and in the next video we'll get
the other code that we need so this is
the data we need and let's just go ahead
and make sure it works let's run this
make sure you also have the sample data
and everything lined up except you don't
have the sample data
you want to grab that as well and save
that to just copy and paste all this and
save that it's a sample date of that
text this file right here so that's one
that's a reference in okay so we got TR
working now so now we actually want to
work on the calculation of well first we
should kind of fix a TR because I don't
really like the way it's looking at the
moment maybe we'll actually replace the
current example of a TR with this one so
we want to have like one big grande TR
function first of all and also let's
move exponential moving average to the
top here then let's define a TR because
it worked fine like this kind of worked
fine when all we wanted to do is plot in
a TR but when we want to use a TR in
another formula it this just becomes
like a huge massive mess and just not a
very good way to do it so we'll fix that
so anyway tab everything over now so
we've got a nested function you know so
once you've done that let's go ahead and
comment that out we don't need to print
that anymore and the rest of this should
be fine for now we don't need this
anymore and we print a TR now we can
actually have this return the 8 TR cool
so that should be all the modifications
actually yeah let's we need to pass that
through and we need to pass through ATF
and that should be it
okay because the regular time frame is
just for exponential moving average so
that's good okay we'll find out soon
enough if we're massively screwing up so
now what we're gonna do is we're gonna
find help to create these Keltner
channels and Celt is only going to need
two things
TF and ATF ATF just stands for another
time frame so that's what that's all
about
let me make some space okay so now we're
gonna have this function is gonna return
three lines basically so the first line
will be ul for upper line the second
line on the ml for middle line the third
line will be ll for lower line next
we're going to say a TR equals a TR and
then we're gonna go ahead and copy and
paste all of these values cuz that's
what we're passing through right so copy
and paste those from above and then also
we have to paste in or push through ATF
ATF applies to our a TR so if you can't
remember that's a good way to remember
it
just in case for your for your final
your final exam here at Sensex
University good steady tick now what we
want to do is TFE ma equals x moving
average and the prices we wanna use
closed prices and time frame is TF next
we're gonna say TFE MA it's one digit
too long because it's not gonna match
our exponential moving average so our
our date rather anyway
TFE MA really needs to be one : so T ma
equals TF e ma 1 : all set next x equals
zero next Oh
EMA what in the heck do we want to do
well we're gonna say current upper line
equals TF EMA
x+ and if you recall it was two times
ATR X now I'm just gonna copy and paste
this and make the necessary
modifications so paste paste this will
be a minus down here this won't even
exist here current middle line current
lower line awesome
in fact the others solid I forgot to
zoom in when I started actually typing
stuff so we'll do that now and if you
feel like you're behind or something
pause it here and this is a good little
frame to catch up next what we want to
do is ul dot append cur you up then
we're gonna say ml append kernel not to
be computed caramel ll dot append role
now X plus equals one we've exhausted
that while loop when we have done that
we want to return you L AM L ll finally
ul ml l l equals tilt and we want to use
a 20 into 10 for our movie or our time
frames and that's about it that's all we
need to do so just to see that we've
succeed there successfully on something
let's just print you pal and see what
happens so we printed out some other
stuff probably for a TR but this is our
upper line and the numbers look to be
somewhat legitimate since it should just
be plotting right above the price and
we're using Starbucks here as our sample
data and so those prices look normal so
now we believe we are ready to go ahead
and put this over to our charting
application and plot this bad boy up so
that's what we'll be doing in the next
video as always thanks for watching
thanks for all the support and
subscriptions at it's all next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>