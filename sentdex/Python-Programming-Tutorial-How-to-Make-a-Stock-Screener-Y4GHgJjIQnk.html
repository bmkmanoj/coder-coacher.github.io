<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Programming Tutorial - How to Make a Stock Screener | Coder Coacher - Coaching Coders</title><meta content="Python Programming Tutorial - How to Make a Stock Screener - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Programming Tutorial - How to Make a Stock Screener</b></h2><h5 class="post__date">2013-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Y4GHgJjIQnk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody welcome to another
Python tutorial video in this video what
we're going to be talking about is how
to make a stock screener based on the
indicators that we've built so in the
past I did a stock screener tutorial for
fundamentals on companies like price to
book ratio and all that and in this
video what we're going to be thinking
about is more of like using it with our
indicators that we've built so in this
video for example we're going to use the
RSI and then we're going to screen
stocks based on the RSI and only have it
spit out stocks that have an RSI value
that's suggesting the stock is currently
oversold which suggests that we possibly
buy into it now obviously you could use
this with any of the indicators so even
like you know say Bollinger Bands if
it's breaking out so if the current
price is above the top band that would
suggest to you maybe a buy so that would
be a buy signal and you could either
have it you know show you the chart so
in this case what we're going to have it
do is if the stock meets our
requirements it's just going to pop up
the chart for us but you can use it
obviously to dictate trades for algo
trading and all this kind of stuff so
anyways that's what we're going to be
doing in this video so if you don't
already have the code what we'll do is
go to there will be a link in the
description it should take you to page
kind of like this one I think I actually
link you to the actual code page but
either way you'll want to click on
sample code with empty slot for the
bottom indicator go ahead and just click
on that one we'll just use that for now
but if you did go through our charting
stocks and python tutorial series you
can use that code as well if you want to
get that bottom thing filled up anyway
highlight copy that code and paste it
into an empty script so in this code
already we actually have the RSI
calculation here like the function to
calculate RSI is already done for us so
we don't really have to worry about
doing that so now what we want to do is
just kind of make it a few changes that
we need to make of the script so instead
of just plotting anything it only plots
stocks with an RSI value in the area
that we want it now the first thing we
need is
is like if you want to screen stocks you
need to go through a list of stocks
right so the first thing you need is
actually like a list of stocks now you
can put any list of stocks that you want
in there someone had asked about penny
stocks for example so they wanted to
just screen through penny stocks well in
that case you would really need to make
a program or find a list of a bunch of
penny stocks or you can make a program
that just says hey if the stock price
isn't is less than X then consider it or
something like that but really you'd
want to just gather a list beforehand
otherwise you're going to waste a lot of
time going through stocks that are you
know if you're looking through like a
list of the Russell 3000 or something
it's going to take a long time to go
through all those and just find the
stocks that are penny stocks so first
you would just run a screener that only
spit out the stocks that are under a
specific price but anyway in this in
this video what we're going to consider
is the list of the S&amp;amp;P 500 and they've
got an S&amp;amp;P 500 short list so this is the
list of stocks and it's a short version
is P 500 but actually we'll do is we'll
probably run it through the S&amp;amp;P 500 and
then we'll make just like a list of
known uh stocks that are below a certain
value but anyway so we'll need that list
um if I recall or if I remember - I'll
put this in the description of this
video and if I forget someone just
holler at me and I'll copy and paste it
in there that way you guys don't have to
figure out how to get that list but
anyway so that's what we need first
we've got that list then what we're
going to want to do is come down to the
bottom and if you recall the name of the
list is will use S&amp;amp;P 500 first so we'll
come down here and instead of this right
what we really want to do is delete this
bottom part of the script and in fact
let me make the size a little bigger for
us cool so back to the bottom so is this
wild true loop just delete everything
except for the graph data part we'll
leave that and then what we're going to
do is instead turn it into four loops
we're gonna say for each stock or
actually what we should say we'll just
say for stock in SP 500 Draft out of
stock right and actually the other thing
we'll do is we'll print stock just so it
prints out to us what stock that is in
fact actually I think printed out at the
top
so maybe we don't even have to do that
currently polling stock yeah so it
already printed out so actually we don't
need a print stock so for stock and
sp500 graph data you know whatever stock
that is so that's step one now so it'll
run through every single list or every
single stock in our list right and then
so if you had a smaller list you could
say for each stock in say you wanted to
do penny stocks you have a list of penny
stock and for each stock in penny stocks
or something like that so now that we've
done that we want to come down to the
graph data X that's what's actually
being run here and first we need to pull
the stock and all that and that's fine
but then when we come down here before
we actually start graphing stuff and
drawn figures so underneath where it's
got you know so the gears the beginning
we scroll down to the first definition
of date close high-low open hit enter a
few times make some space cuz that's
what we're going to do some of our new
coding now the first thing that we want
to do is define RSI now we've already
done that for axis zero right here
RSI equals RSI func close P well we
don't really need to call that again
because we're going to call it right at
the top so go ahead and scroll down and
get rid of that so it'll be you know
here's axis one keep scroll until you
see the definition of access to and
right underneath that is where we
defined RSI so just comment that out and
while you're here you might as well copy
it as well so copy that and come back up
here and paste that you know within this
try right so now we've we've defined RSI
instead up here so if you were using a
different function for example or a
different indicator you would you know
call that indicator once you have the
data right so if you recall all of our
indicator videos started with date close
behind P lo p open P and so on and you
had to populate that first so if you
want to use a different indicator it's
the same thing you know just call that
function right here the next thing you
would do is we want to know what the
latest value of RSI is so with RSI what
we're looking for if you don't recall
RSI RSI is going to measures between a
zero and a one hundred anything above is
70 usually is considered overbought and
it's likely to fall down
because there's too many it's been
overbought so it's going to slump down
same thing if it's below 30 it suggested
that that's an over sell so it's likely
to pop back up again because too many
people have sold and so the price will
in theory correct itself so what we're
looking for is just let's say we're only
looking to buy stocks we're not looking
to short anything so what we're going to
say is if RSI and what we just want to
do is the negative first element of RSI
and since we're actually going to plot
this up then it makes sense that we
actually do do the full RSI function
here but if you really wanted to just be
like high-frequency trading it or
something you wouldn't consider the
entire data length of closed P right you
would be like close P in our time frame
for RSI was 14 days so you would really
only need to be like close P - like you
know 15 right :
and that way you're not calculating RSI
for you know a hundred and fifty points
or something like that you're only
calculating for 15 points here your
processing time would be significantly
better but for our scenario we're gonna
actually chart it so might as well just
do the full calculation so if RSI
negative one so the if the last element
in RSI is less than 30 that means hey
we're oversold right what do we want to
do well if that's the case then we want
to graph so now let me go ahead and make
the font smaller so it's like in effect
assuming outright so if this is the case
then we want to go ahead and do all of
this otherwise we don't want to do that
so really what we want to do is
everything to the except we want to tab
over so I'm going to go ahead and remove
some of the space just to make it easier
so from x equals zero all the way down
to here at the figure point hit tab okay
so if RSI is less than 30 it's gonna
graph this and show it to us otherwise
it's just going to do nothing at all
and the except still is in place so if
anything here fails it will fail this
try here and so everything else fun
chan ality wise stays the same should
anyways if I'm thinking right and I
think that's all we really have to do to
make a very crude um
screener now obviously you could have
other other conditions in here as well
so if RSI negative one is greater than
30 you could also throw in a condition
for like the person that was asking
about Penny Stocks wanted to measure
volume and you want to measure price
change well you would have to make a
function for at least price change
volume you wouldn't necessarily have to
UM but you would at least want to add
volume together or something like that
but all that data is there so then you
could say if RSI negative one less than
30 and then throw another if statement
in here if volume greater than you know
one million and so on and continue doing
that so you can throw more statements in
there or you could just have a function
that considers RSI greater than 30
volume greater than X whatever whatever
and then if that function returns true
you do this so anyways let's go ahead
and run this now it might take a while
to actually find one cuz it's gonna it's
in theory looking for a rarity right
something that's over sold so I'm not
really sure how long it'll take surely
we'll be able to find something before
we get to like a or something like that
so anyway let's run this and see if it
even works so now you can see it's
running through all of the data so what
I'm gonna go ahead and do is I guess I
guess I'll pause it and then I'll start
it once it finds a stock that is
oversold all right we got one and it
looks like it is blackberries calling
oversold sure enough here's the 30 line
here is where RSI is and it's saying
blackberry is oversold no surprise
blackberry has been pretty weak lately
so blackberry it's found is oversold
we're very happy because that is indeed
what we were looking for so let's go
ahead and close it and see if we can't
find another one anytime soon otherwise
all pause it again
yeah I guess I'll pause it I just know
as soon as I pause it something's gonna
like pop up anyway
alright we got another one Fe which is a
first energy I believe they're also
oversold at no surprise there you got a
large spike in volume and the prices
just slumped severely the other thing I
will mention is today is a December 6th
so in its Friday so it's the first
Friday of the month which if you've been
in the stock market very long at all you
know is jobs report day and actually
today was a very good day we had a
decrease in employed in the unemployment
rate so actually a stock market kind of
did a little bit of a pop today so most
stocks are kind of up around the
anything from half a percent to a
percentage point so that's why we
haven't really found too much
that's oversold plus we're also looking
S&amp;amp;P 500 so those are just historically
less volatile stocks than other stocks
so you could look through like the
Russell 3 and then especially with penny
stocks uh that are really volatile then
you'll probably have even better luck
with this but anyway so there was at
least a couple examples obviously you
can use this with like any of the
indicators we've done so far right
because it would just be as simple as
you know whatever the indicator is
because all the indicators returned an
array RSI just returns one data point
but obviously in a lot of our arrays we
had like maybe an X variable and then
the Y maybe even a Z variable so
whichever variable you're looking for um
that's a weird looking stock I'm not
gonna show you guys that pop up that was
weird um that was like Kim or something
and only had a few days let's do what
even is Kim Kim Co reality or Realty
that's where it it only had a like a
couple points of data and I think it was
like a glitch in Yahoo um anyway uh you
know whichever one you're looking for
just look at the negative first value
and then if it's less than whatever
value you're looking for if it's an
oscillator and then if it's something
that's being plotted on with
actual stock price itself or maybe
you're looking for a crossover point etc
I use nly for Annalee again another
successful find there um anyway so you
would compare it to you know price
compared to that or a lot of people are
looking for like simple moving averages
crossing over or even exponential moving
average crossover points or if you're
comparing like the MACD for convergence
and divergence you can do that as well
so it's really easy to make a screener
and you can you can just keep nesting if
statements if you want or you can just
have a function that does that kind of
for you immediately and so on so anyways
movie that's help for you guys I don't
really see any point of running through
like every indicator I think it's pretty
straightforward if you do have any
questions feel free to leave like a
comment below and I can help you guys
out if you have any specific question
that is you know kind of confusing you
can't quite figure it out so hopefully I
helped you guys out hopefully learn
something new as always thanks for
watching thanks for the support and
subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>