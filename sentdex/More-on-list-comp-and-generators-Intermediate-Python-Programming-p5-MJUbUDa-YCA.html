<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>More on list comp and generators - Intermediate Python Programming p.5 | Coder Coacher - Coaching Coders</title><meta content="More on list comp and generators - Intermediate Python Programming p.5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>More on list comp and generators - Intermediate Python Programming p.5</b></h2><h5 class="post__date">2016-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MJUbUDa-YCA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going to everybody welcome to
part 5 of our intermediate Python
programming tutorial series in the last
tutorial we're talking about list
comprehension and generators or rather
generator expressions and we're going to
keep building on that in this tutorial
so in this case all we've done is
actually created either a generator
object or a list either way we've just
kind of created like an interval as if
that was our objective but many times
you're not going to necessarily be using
list comprehension or a generator simply
to make an iterable maybe you actually
want to do something or you want to
manipulate that iterable rather than
create that iterable okay so let's talk
about that so let's say we have a
starting list of information so we're
starting with an iterable and this just
has numbers in it try to give some
numbers that are divisible by 5 because
that's what we're going to check for so
just have some that are and some that
aren't then define div by 5 and this is
just a function that takes any number
and is going to tell us if it's
divisible by 5 it's going to return true
or false so div by 5 now what we're
going to say is if num a modulo 5 equals
0 this just means if the remainder of
holy militaria if the remainder of this
division is 0 that means it's divisible
by 5 therefore we return true else we're
going to return false so now what we're
going to say is XYZ equals and let's
make a generator expression first we're
gonna say I or I in input list if div by
5
I so in this case whoops
in this case we've got a lot going on
here first of all we're passing I I for
I an input list if div by five I okay so
now we've got even more eyes so again it
can help at least initially when you're
looking at these two like right amount
and fold especially as we get to the end
of this tutorial
if things can get really hairy so in
this case you you would read this one
first for eye and input list and we'll
say X Y Z equals this is a generator so
it's not making a list but let's just do
this just for our sakes I for I an input
list and then you would say if div by 5i
well then XYZ Japan I right
that's basically it again it's this is
in this case this is generator so it's
not making a list these so it's not
making a list but anyway but that this
is how it would how it looks logically
or this is how the logic is working for
this generator okay so I'll just comment
that out so that's X Y Z now what we can
say is for I in X Y Z print I whoops
there we go
so what it's doing now is X Y Z is a
generator and we're iterating over that
generator and sure enough it went
through the input list and found just
what was divisible by 5 what else could
we have done rather than 4 I and X Y Z
print I well we could say print I for I
in X Y Z could just done that
pull this over see same thing so a lot
of times people actually call list
comprehension one-liner for loops
because that's basically what they're
there they're using list comprehension
not necessary necessarily for a list
comprehensions sake they're literally
just doing it to put it all on one line
and so you'll hear people call them
one-liner for loops myself included just
depending on what you're trying to do so
so anyway so you can do that now could
we make a generator out of it or can we
do this comprehension with this
absolutely literally all we're doing is
this and then this now remember up here
if we were to print XYZ we would never
have actually had an answer so when
you're printing i4i and XYZ your machine
is not needing to load the entire list
because it's not a list but in this case
it wouldn't need to load an entire list
into memory because it's actually
iterating over a generator so you're
saving your memory but it's slower ish
what's up because sometimes building a
list is actually intensive so now we're
going to say X Y Z equals I for I in
this so again just just so we are
totally clear I'll print XYZ here we're
redefining XYZ here I'll print XYZ here
save and run that are no white keeps
popping up over there anyway we get it X
Y Z is actually a generator object and
then here it's it's truly a list but we
can iterate over them all the same so we
could in theory just do this copy/paste
run same thing we're just iterating over
that list
what if we do this sorry we have too
much stuff here so let's just do this
just that one print statement why didn't
anything happen well it is a generator
it's not list comprehension this is a
generator object so nothing is going to
happen in that case so again that's why
one-liner for loops a lot of times we're
actually just there using list
comprehension but you'll never see
someone who's attempting to do this use
a generator instead because it's not
going to do the same thing that you were
actually hoping for okay so so that's
that
also as I basically shown through these
examples you can run a function wet
either in this case where we're creating
this generator by an if statement in
this case we're building a list based on
this if statement whether or not
something will actually be in that list
so you can do that you can also just run
functions with data in that iterable so
here we're printing I but you didn't
have to print I you could say um you
could run a function right you could run
anything you wanted so it doesn't this
it could be you know it could be any
operation I'm like blanking line because
it's like infinite operations that you
could plausibly do with a function but
it's anything you want right anything
okay so you can run anything with that
function now comes the exciting part so
uh what if I think I'll leave yeah we'll
just leave that and we'll just not have
any of the prints and I'm gonna make
some space and pull this up so now what
if you wanted to do something like I
guess we could I'm trying to say which
one I want to do if I want to build the
for loop first to do list comprehension
first I think we'll just do list
comprehension first so let's say we want
to eventually wind
but print I and I I so print I and I I
for in this case it would be I I in
range so you can pick whatever you want
I'll just do five and then that's one of
the list comprehensions but we've got
another one which will be then for I in
range five let's see how that works
these are hard to build without ya
thinkin too hard okay so in this case
we've got all this stuff basically it's
every combination right so so this might
be kind of confusing because we're like
embedding all of these into each other
so what is it how how would you like the
way that I would go about doing this at
least initially is this is identical to
for I in range 5 for I in range 5 sorry
this should be I I print
aye-aye-aye so always you if you're
gonna at least initially you kind of
have to like work backwards when you're
building these or at least that's how I
do it you could in theory work forwards
um you know cuz this for I here is right
here and then you would I don't he's
still got to work backwards so I don't
know I find its easiest to be like to
just work backwards so first we know
we're going to be printing I and I I so
you start with that and then you know
you're going to have this for I I and
range 5 so you would have that rather
than the : you've got these brackets
boom and then finally you've got this
for I in range 5 so that paste and again
rather than the colon
you've got the brackets commenting all
this out running it same thing so you
can actually embed these these one liner
one line
for loops but you can also say something
like this like rather than printing I
and I I you could say this and we could
say let's stick with X Y Z equals print
X Y Z and now it's actually a list of
these tuples because we chose for them
to be tuples but they don't have to be
tuples we could say they're a list right
okay so you can do that but also we can
embed as a generator expression but of
course the print will just be a
generator expression but we can iterate
over that generator expression boom done
okay now of course this was this here is
what list comprehension
so the create this generator is actually
not really doing anything in our favor
because eventually we're actually
building that list but if we were to
iterate over it instead so if we said
for I in X Y Z like this print I if we
don't need to access that entire list
all at once this is a preferable method
for us let me do this
ha ha do this so at each level of this
generator we're actually running into
trouble so instead we would have to be
like I got myself in trouble this wasn't
my plan to go this way so actually you
would have to go you probably want to
let's see if we can solve this one live
in the field so for AI and XYZ print I
so each one of these is actually this
list so then you would just say for I I
in hi yes there we are
mmm okay sorry about that I definitely I
wasn't thinking of showing uh doing that
in a generator so that's why I was not
prepared anyways but there you go okay
so in this case we were able to embed
everything into a generator at no point
as long as I'm not missing anything we
can comment this out at no point where
either these ranges in memory so in
theory you could say like this um I'll
have to cancel it pretty quickly but
this should run this should at least
start running right okay so it'll run
and it will keep going and that's like
we built this huge thing but if we were
to say if we were to convert any of
these basically to rackets we would be
in a world of hurt really fast so the
old saying is like with list
comprehension the big thing is you'll
run out of memory with big like so with
like big list comprehensions you would
run out of memory with big generators
you'll run out of time okay so that's
kind of a good way to kind of think
about them but you can you can at least
start with a gigantic generator
okay so I think that that's enough on
list comprehension and generator
expressions for now we will be coming
back to generators because they're
actually super powerful and I don't want
to leave them behind and also just
there's a little bit more to be learned
here but that's enough for now one quick
update I wanted to make I meant to talk
about this but I didn't in the in the
part where I said where we did basically
something like this like print I for I
in range 5 and we were saying hey that
doesn't work for a generator so this is
old this is the new and nothing happened
remember and I was like hey but they
didn't happen because this is a
generator but if we made it list
comprehension it does work but what if
okay you have the generator what if you
said X Y Z equals that right you run it
so nothing happens but what if you
iterate it over that for I in X Y Z and
you wanted to print out those values
what would you have to do would you say
print I or would you just say I because
in this generator each I is that print I
in range 5 so actually you would just
say I and you can actually run that and
that actually works so I just wanted to
point that out to you
that's all if you have any questions
comments concerns whatever feel free to
leave them below otherwise until next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>