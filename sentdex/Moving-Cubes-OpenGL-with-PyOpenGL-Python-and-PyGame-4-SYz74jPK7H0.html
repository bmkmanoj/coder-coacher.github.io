<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Moving Cubes - OpenGL with PyOpenGL Python and PyGame - 4 | Coder Coacher - Coaching Coders</title><meta content="Moving Cubes - OpenGL with PyOpenGL Python and PyGame - 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Moving Cubes - OpenGL with PyOpenGL Python and PyGame - 4</b></h2><h5 class="post__date">2014-11-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SYz74jPK7H0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody what is going on welcome to
another Python with OpenGL and PI OpenGL
tutorial in the last video we were
bringing up our cube and showing how we
can kind of navigate around our cube
with the arrow keys up down all that
fancy stuff and my goal here with this
series is this just show you a really
basic example of how we could make some
sort of game out of this since our
previous you know PI game tutorial
covered you know object avoidance with
these blocks coming at us
we could pretty much do the same thing
only in 3d and so that's what we're
going to do we roast our with just one
cube right that we're trying to avoid
but really once we're done the game will
actually have you know a lot of cubes
that we're trying to avoid and if we hit
one it's game over so we'll close out of
this and go ahead and get started so the
first thing that we want to do is go
ahead and we can stop um we stopped this
here well we'll keep that translate
Ashley will start behind but we don't
need to rotate anymore and that'll be it
for now the other thing too this mouse
bug you know get mouse button we don't
need that anymore that was for the mouse
wheel so I'm going to do all three if
you don't know you can comment out a
block of code with all three or you can
uncomment it with alt four so that's
that now what we want to do is we want
to be like avoiding this cube right so
and we kind of want to be in the
perspective of the player so if I hit
the left arrow
I want my character to actually move
left okay so that's not what's really
happening in perspective but that's what
I want to happen so what we can do is we
can go ahead and close this and
basically we need to flip all of these
because originally we were like
controlling this cube with our arrow
keys right that was the ideas move the
cube up with up arrow and all that but
now we need to flip it because we're
controlling our perspective according to
the cube in OpenGL so for example this
would be a naked or positive sorry
that'll be negative this will be a
negative and this will be a positive
so now let me go to run that and let's
say just imagine you're in I don't I
don't know a car or something and uh you
turn to the left
good you're you're going to the left of
the object right up down and so on so we
have that now covered and now the next
thing we want to do is we want these
cubes to be coming at us so that was
stationary now we want the cubes
actually moving towards us we already
know how to make that happen it's with
GL translate so we'll just copy GL
translate and just underneath this clear
somewhere we can paste that instead of
negative one let's go ahead and make
that negative 1.0 just maybe yeah we'll
make it 1.0 we'll tweak this all later
this is just a really short term kind of
example and now when we go to run this
oh my bad going out I need to be a
positive so I moved forward just try one
more time right welcome or that cube
okay so that cube comes at us obviously
that we're starting a little close so
instead of negative 10 let's go ahead
and just do negative 40 for now okay so
now the cube is coming at us as we can
see and it's not it's going to pass us
by a little slow we'll work on the speed
later but once it has passed us by we
would want like another cube to show up
right so how would we do something like
that well what we need to do is we need
to access you know the location in the
in the in the environment basically so
how do we do that well we can come down
here we don't need a rotating I guess I
believe rotate there just to have it
there but we don't really need it but
anyway so what we can do is we come down
here and with the way that we can
basically get where we are from OpenGL
so we'll say x equals GL get double V
and then what do we want to get from and
we'll get from the GL modelview matrix
so if you can't read basically what this
is going to do is going to get the
information from our modelview matrix
and it's going to give us all of our
location basically so
for now let's go ahead and just print
out X just so you can see what what we
have here Oh get get double V okay try
it one more time
awesome so I'll close this hit cancel
here and this is basically the output
okay so we've got all this data here now
even if you didn't know what was being
returned you know that where we started
was 40 so for a because what we want to
know is where is our Z so where are we
on the z axis so we know we started at
the 40 so looks like this is our z axis
although the question is you know which
one of these is it right you've got new
and old here and basically new is what's
about to be shown and it cannot be
avoided okay so in our case what we're
doing is we're going to calculate when
we've crashed into a cube so this is
basically what's been it's like part of
your like double buffer right this is in
the background and it will show so you
will run into the cube if this was like
a zero right so anyway that's the that's
the number that we want now you don't
know it right now but then this is your
X and this is your Y so for example well
we can actually move so let me just
bring this up like this and just kind of
watch these bottom numbers as I bring up
the game here and so now you can see so
we're moving X here and we're moving Y
here so you can see that those are those
are updating so with that in mind what
we want to do is we want to know when
are when as the cube passed us okay
since we only have one cube this is
actually really simple to do so we know
when the X is so when x is less than 0
the cube has passed us right in theory
or we passed the cube really is what
it's happened so a print X and actually
really um the first vertice on that on
our cube is a 1 so actually if if we are
less than 1 we've hit the cube so for
example what could we do so we could say
we've hit the cube but for now we're not
actually registering hit
so I'm just going to say zero has passed
the cube actually negative one we've
passed the cube so yeah okay so um
anyway enough of that so so X and then
now what we could say is we could say
camera a camera Z so what is the Z of
our camera equals x and it was the third
array there and it was the number two
element so let me just pull this up
again so y'all can follow what I mean
close this okay so this matrix contains
basically this you know this array this
array this array and this alright and
then we said 0 1 2 is our Z variable so
then to do a wall XY x and y let's just
paste paste let's say this is X this is
y it's still element 3 but this would be
0 &amp;amp; 1
now we're not going to use x and y for
now and it soon we'll use x and y to
basically say our ship or whatever we're
in is you know has a width of say
probably to just simply because we
that's the size of the block so will
probably be the same size as a block but
that's our width here so then we'll say
like if the block is within our X&amp;amp;Y
boundaries right you know 2 by 2
basically if that cube is anywhere in
that two by two we have crashed but for
now we're not going to actually need it
but that's how you would do it so now
all we would do is we would say we could
do something like this we could say
instead of well true we could say object
underscore pass equals false and then we
could say wow not all objects passed run
this and then if yeah oops well we need
to be over here
if camera Z is less than i0 we'll just
say I guess we'll do negative one just
to be proper if camera C is less than
negative one object past equals true
let's go ahead and save and run that see
see how that works as we pass this
object we can stop printing out this
little matrix and we need to make this
object a little quicker so we'll make it
quicker in the next next section so
object passed good and we can see it's
game over and it basically just stopped
everything from running and we know
we've got a big block in the face here
so it's go ahead and exit out of this
object pass equals true and then what
we'll go ahead and do is we'll just
throw a PI game dot quit and then a quit
here so it does what it's supposed to do
so now instead of point one let's do
point five for the translate so that's
how fast the cube is moving at us and
then what we're gonna do
yeah everything else works so so how
would we do like multiple cubes for
example so like right now this cube is
coming at us we're gonna dodge it and
then it's exiting and the other thing
too let's stop printing X let's just
it's a waste of space so now how do we
make many cubes happen well we could do
something as simple as 4x in range a 10
perform main and then quit after that so
we could run this and boom 1 2 3
obviously avoiding all these cubes so
now we've got just constant cubes coming
our way
fabulous ok so now uh obviously the
problem with this is they all came at
the exact same location so there was
really no uh no randomness to it we knew
exactly where that cube was coming from
but just as a simple idea how to make
multiple blocks come at us we've got a
working example here so now what we need
to do is we want to have the blocks come
at us randomly and then we eventually
want to have like a lot of blocks
because since we have XY ends
see here uh we definitely like before we
just had one block and that was okay we
can make it bigger and harder to avoid
and we could do that same thing here but
I think when it comes to 3d like we want
to have like a lot of cubes just just to
be cool so that's what we're going to do
so anyways
stay tuned for that next video we'll
probably make this a little bit more
random and then we'll start working on
adding a bunch of cubes and working with
that because that gets challenging quick
so anyways stay tuned for that if you
guys have any questions or comments on
this video please feel free to post them
below otherwise as always thank you for
watching things for all the supporting
subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>