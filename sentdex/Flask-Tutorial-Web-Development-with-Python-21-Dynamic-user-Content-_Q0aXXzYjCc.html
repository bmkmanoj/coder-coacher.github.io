<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial Web Development with Python 21 - Dynamic user Content | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial Web Development with Python 21 - Dynamic user Content - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial Web Development with Python 21 - Dynamic user Content</b></h2><h5 class="post__date">2015-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_Q0aXXzYjCc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to part 21
of our practical flash tutorial video
series in this video we're going to be
talking about changing our templates a
little bit based on whether or not the
user is logged in and then we're going
to start the transition into the final
major system of this website and that's
the content management system so we've
already kind of touched on the contents
as a content management system a little
bit but I want to talk about how we're
actually going to add a content and then
especially like how how might we add
bulk content and how are we going to
manage that content and then say you
will have something you want to slip
into the middle of say a video series or
post or whatever or you want to get rid
of something how do you keep the flow
and all that so that's kind of one of
the more major reasons why people use a
content management system rather than
just like static creating things is
because generally you've got links that
go to and from whatever the content
happens to be you want to make sure
everything stays really fluid so we'll
be talking a little bit about that but
first what we want to do is one I have
some handling for like say with user
logs in this no longer should it have a
log in here nor a sign up I mean why
would you you know leave those links
there you should get rid of them and you
maybe replace log in with a logout and
there's really no reason to have sign up
at all so that's kind of what we want to
do first so how do we do that well first
let's open up this is dictated by our
header file so let's go ahead and open
up header so that would be from flask
Apps template and then header or if I
can zoom into no I can't I bet there is
a way to zoom in though no anyway I'm
going to header let's pull down this
header file so this is our current
header file now what we want well first
let's pick this I don't know where these
like nasty spaces came in that's pretty
disgusting huh let's uh first let's like
get respect this poor spacing stuff
going on here I'm not really sure why
we've got that
happening there ha ice is a pretty bad
job if I do say so myself
uh oops Stu this is corresponding that
div so my goodness that got ugly I don't
know maybe we were coding it really
quick and then just didn't really think
much about it uh I know by this header
five tag that needs to be cut off with a
slash interesting so if you would not
slash h5 like I had make sure you do
that now we're ready there you don't
really have to do it this way but anyway
right now these are the links that have
the support the login and the signup so
what do we do to handle that well
luckily you can have your flask logic
where's my coffee
you can have your flask logic in your
ginger template so this is an HTML
obviously HTML file but flask use ginger
templating and so what we're that's what
allows us to add this like logic here
and when you view the source of course
you don't see the logic right when a
user or a client or whatever you want to
call them views the source on their web
browser they don't see this logic right
so that's the magic of ginger templating
so what we can do is we can have dynamic
HTML content being served or users by
using some logic and what logic might we
use for logged in or not we can use the
exact same logic that we actually use in
our flask scrip scrip script and that
logic is session and then that logged in
attribute so it's a it's like a
dictionary I'm not really I don't think
it's actually a dictionary it's a I
don't even know what datatype it would
be it's it's like a dictionary but it's
like that the pandas data type it's more
of like probably a I don't know an
associative array or something anyway
moving along we've got um here this
would be as if the user was logged out
but what about when they logged in we
would want some different stuff so what
we can do
do is we can do the following we can ask
if session dot logged underscore in and
basically that's just meaning if that
exists because remember that doesn't
really session dot logged in let's go
here to the init dot pi real quick and
then we'll do session log and we're just
searching for that so here we have
session dot logged in equals true so
when they log in this value in the
session I'm going to call it a
dictionary I don't think it is
especially because we're using dot we
can use dot logged in there but anyway
this value here is equal to true so so
that's that and oh one more thing I will
just mention is normally a value like or
any variable that you want a reference
you have to pass it right so let's see
it's like error remember we say error
equals invalid credentials right if they
type the wrong thing but if we try to
reference error in log in dot html'
without actually passing error through
in rendered template it's actually going
to say that error doesn't exist or
either introduce a that doesn't exist or
just won't give us an error so if you
try to reference a variable that doesn't
exist usually it's just not going to do
anything unless you're doing logic with
that variable then it's going to be like
this variable doesn't exist and the
whole thing comes crashing down so
unless the question is if variable and
then if the variable doesn't exist then
that would render false anyway but with
with session session where does session
come from well session comes from flask
so do we and here's our import for
session right here so anything that
comes from flask we actually don't have
to import in the template file and
interestingly enough even if you didn't
import it in your init dot pi you can
reference stuff from the flask module
that is not imported here but that's
totally fine so let's say we weren't
using URL for anywhere in our flask file
here that would be fine we could
actually not use
it and only use it in our template and
in most cases that will be totally fine
you won't actually get an error and URL
for will act as it is expected to anyway
moving along
so if session equals or if session
logged in so basically that's just
asking if that's true so if the user is
logged in what do we want to show well
we kind of want um basically the same
thing but we'll make some changes so if
the user is logged in we still want to
entice them to support and donate to the
cause and then we give them a logout
okay and then we don't need to ask them
to sign up they've already done that so
we this is logout instead of log in here
for the glyph icon we use logout and
then we have a final log out here that's
it we don't need anything else
so then we'll add another little bit of
logic and that's just else else we give
them this stuff support login sign up
and then finally we end with and if and
that's that so we can save that we've
root over here cool
do we need to restart Apache no it's the
HTML file that we've edited even though
there is some logic there you don't have
to restart Apache for any HTML logic so
let's bring this website up we are
logged in let's go ahead and refresh and
we'll see that now we just have the
support and log out awesome and then we
can go to other stuff maybe we can go to
well this pit it's going to give a 404
but that's okay and we can log out
awesome and now we're given back the you
know the other three things then we can
you know either sign up or we're like oh
we didn't mean to sign up we wanted to
log in and then we can log in like so no
and that's that you're now logged in
stuff goes away so that's how we can
have dynamic content based on certain
variables now if it's you can it can
either be a variable in session logged
in or it could be a totally different
variable that you're making in your
flask file
it can be a completely it can be any
variable obviously if it's your own
custom non flask data type variable
module whatever you have to pass it to
the template but otherwise you can
always use this sort of logic to dictate
custom content now the only thing I will
just mention is that sometimes this gets
hairy because you might have something
I'm trying to think there was an example
for me at one point where you know let's
say we open up a div tag and in you open
up the div tag and then within a one if
statement maybe you don't close the div
tag after some other div tags and then
in this one you open up but then you
close a little later or something but
hTML can't read your logic so hTML is
going to treat div tags um it's going to
treat those div tags I'm trying to think
of a quick way to display this so you
have a div here and then normally to
close off that div you would have one
more div so let's say you had some stuff
like this so div and then div this div
corresponds to this div right like that
you can see that with your eyes but also
HTML when you highlight it in like
notepad plus plus or most editors it's
going to do that for you and then same
thing you can collapse it right you can
do this and it treats this like a block
but then if you come in here you might
have something let's say like another
div tag and you div around this div and
then I don't know just for kicks let's
say you close off the div so this would
close off this original div and then
here you would open another div just
like you had above but then now it's
treating this like the close okay and
then you would close this div and then
finally you could close the final div
and then now it's acting like it's
closing the div way up here okay so
that's an example of how using this
logic can sometimes throw HTML for a
loop so
in reality this div either either this
div closes to this diff or this div
closes to this div and when we render
this logic using ginger templating to
the browser that's going to be fine
but in your HTML file it's going to play
games like this with you and so you know
obviously if you got rid of this content
here and we look yeah sure enough this
last dip here does indeed close off this
div but because of the logic that we're
using it doesn't so long story short
when you start to use HTML logic you
know later on you're like going through
your code you're like what the hell is
happening it doesn't close the div it's
supposed to you're going to start
deleting stuff and then you're going to
remember oh yeah it's because I'm using
logic and it's confusing notepad plus
books so anyway let's get rid of all
these divs having a little div party
here dip-dip dip-dip dip-dip do all
right let's make sure we did everything
right let's go ahead and save that and
let's refresh one more time but yeah it
can get really confusing especially when
you're trying to debug why maybe your
your buttons or something or like down
here and you're like man what's going on
you're like trying to figure out where
the divs are and then you have to like
visualize it yourself and that's why
standards are really really important
with something like this because as
you're looking through your code you
should be able to immediately say okay
this div corresponds to this div which
it actually doesn't according to my
tabbing here so good example hairs and
anyway um that's it I think that should
cover it using logic and stuff basically
you wrote this and covered a session
actually quite a bit of stuff but the
only code we really wrote was this so in
the next video we're gonna be talking
about is the building up the content
management system how am I actually
doing it on Python programming net so
we'll be getting into that there will be
no ACP I didn't really see any point
personally into an HCP and I'll show you
exactly why I like to code
in HTML but you obviously want some sort
of templating that's basically a CP will
do for you anyway but I'll show you guys
how I'm doing it just because this
websites not fully complete but at this
point you should be able to do quite a
bit stay tuned for those whenever they
happen to come out otherwise as always
thank you for your support your
subscriptions thanks for watching and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>