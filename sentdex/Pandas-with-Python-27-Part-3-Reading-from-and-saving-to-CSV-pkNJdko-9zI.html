<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pandas with Python 2.7 Part 3 - Reading from and saving to CSV | Coder Coacher - Coaching Coders</title><meta content="Pandas with Python 2.7 Part 3 - Reading from and saving to CSV - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pandas with Python 2.7 Part 3 - Reading from and saving to CSV</b></h2><h5 class="post__date">2014-07-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pkNJdko-9zI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to the third
Python and pandas basics tutorial video
in our video series in this video we're
going to be actually coding finally
sorry for anybody who is getting
impatient and we're going to do this
video is talk about how to write to a
CSV file and how to pull from a CSV file
now to do this we're actually going to
we don't have a data set so we're going
to have to conjure up a data set so
we're going to use yahoo finance to pull
some finance data so we can create a CSV
file with some data that everybody can
access and then also pull from that CSV
so probably one of the most common
operations and one of my most popular
videos is saving data to a CSV and
reading from a CSV and then later on
graphing that data and stuff like that
and you can do this in pure Python but
it's very simple in pandas and so it's
good to know how to do it in pandas I'm
still a pretty big advocate for knowing
how to code everything yourself but once
you understand how to do some of these
things yourself it's good to use
something like pandas because pandas is
going to speed it up for you and pandas
is going to do it a much more efficient
manner than you but as time goes on
you're going to find yourself having
some problems with pandas or maybe
there's something in pants that you
don't know how to do or because of the
structure of pandas it's literally
impossible to do with pandas it's good
to know how to do things yourself as
well but anyway enough on that let's get
started so the first thing we're going
to want to do is we need to imports that
we're going to be needing with pandas so
to read or to save to a CSV and from a
CSV you're going to need a couple of
things one you're going to want to
import pandas as PD that's just the way
people import pandas often it's just PD
just like numpy as NP so import pandas
SP D so we can use pandas and then
another thing that we're gonna want is
from pandas import data frame and the
data set that we're going to get is
going to be a two dimensional array and
it's going to be much like an umpire
right like I said but
we can also treat it like a dictionary
just so everyone's comfy with what we're
doing so so we have those two things so
to write to a CSV and read from a CSV
that's literally all you need but we
also want to communicate with Yahoo
Finance so we're going to need a couple
of things for that so first we're going
to import a date time this is so we can
specify a slice of data that we want
from Yahoo Finance because Yahoo Finance
has it's a very specific date stamp now
just just to clarify a woman if when we
later go to graph data like this we
actually don't need date time so if you
were going to do it by hand yourself you
wouldn't need a time to convert the time
stamp but actually you won't need date
time like day time is actually I think
pandas uses day time but you won't need
to touch date time at all anyway moving
on also we're going to import pandas I
owe dot data and this is again this is
just so we can import data from Yahoo
Finance I just want to stress what's
required for reading and writing the CSV
use and what's not so now we can say SP
500 equals PDI o data dot get underscore
data underscore Yahoo data what day do
we want to get we'll just grab SP 500
data so that's 5 e g SP C is the ticker
name for hit a comma enter now we can
say start equals date time dot date time
and this is really the only reason why
we needed um it's the only reason why we
needed date time it's just so we can
feed a date time object through for
Yahoo Finance so it knows what we're
looking for
anyway 2010 and one so that'll start
October 1st 2000 and then outside of
this we're going to say and
equals day time dot date time and then
here we'll say 2014 today is six eleven
so we'll do that and that's it so that
is going to read the data in S&amp;amp;P 500 so
what we could do is first let's go ahead
and print S&amp;amp;P 500 just so we can see
what we're working with so run this and
here is the output from the S&amp;amp;P 500 in
for information so you have date open
high low close volume and adjusted close
and you can see that date is kind of
like down a little bit here and that's
because date is the index and these are
not indexes but they are like titles
labels rather not titles
anyway scrolling down to the bottom here
because it acts like an umpire array it
does what we expect an umpire ready to
do and kind of it's not going to print
out the entire thing if we come down
here we can see that we have three
thousand four hundred and forty two rows
times six columns worth of data so we
have this data set now we want to save
it to a CSV so if we just naturally save
this to a CSV it wouldn't be separate it
wouldn't be delimited for us but what we
can do instead is we can close out of
this and we can stop printing it oh one
quick thing we can print sp500 like we
just did but that printed a lot of data
right more than we would need and more
than we can use right so when you print
out sp500 it prints out quite a bit of
data but you would never need that much
right if you wanted to see the whole
data set you would you know maybe save
it to a file and look at it or you would
specify exactly what you wanted it to
print out but in most cases you're
actually looking for um just to see if
you like the structure and so to do that
you can actually use head and this just
prints like the first bit of information
so we can save and run that real quick
and now it only gives us just five rows
real quick just so we can see the
structure of the data and we don't
it's a lot less memory intensive and
there's no reason to print as many rows
as we did before so just show you guys
real quick that dot head command now to
save to CSV we can do the following
sp500 dot to underscore csv and then we
specify the CSP name that we want we'll
call this sp500 underscore ohlc dot csv
done there's no you know right and then
dot right and then oh don't forget to
close none of that just save run it and
it's done and let's see I'll pull it up
for you guys
no pad here it is done very simple we've
got the first you know label row and
then all of the data so we just pulled
all of this data from Yahoo Finance and
indeed we have over 3,000 rows almost
3.5 thousand rows of data polled so that
was great so now we can close out of
this and so that is two CSV
we've saved to CSV now we don't need any
of this code anymore so I'm just
literally going to comment all of this
out because now we have a CSV file and
now we want to read from that CSV again
super simple to do this so we're just
idea for data frame equals PD read
underscore CSV you could call this a
series but it's not series right because
it's a two dimensional right so this is
going to be a data frame pain is just
going to automatically no and that's how
it's going to save it but anyway read
CSV what CSV is that well the same one
that we just saved so I'm just going to
copy and paste it so read CSV um here
you could just get away with just this
so um let me show you what happens when
I print DF let's print DF tout head and
so we'll save and run that and here you
have this okay and you see how it it
gave us like this you know
primary here whatever worth of data um
that's kind of annoying but we didn't
specify any index or anything like that
so what we can do instead is we can pull
this over here and when we read from the
CSV let me close out of that when we
read from the CSV we can say index
underscore call call call equals and
then specify the date so capital dat
that was the title of the column and
then also we can just let it know hey
their dates here so parse dates equals
true now save that run it and we'll pull
this over and now we can see indeed date
is now our our index here and then we
have open high low close volume adjusted
close so now we have all that data we
have it basically the same way that we
just read it from Yahoo Finance now I
just automatically read it into a data
frame and just automatically knew that
it was a data frame and to give the
index value two dates where I was
reading from a CSV is a lot different
you're going to want to specify hey this
is the indexes date and also it has
dates you can just notify a parse the
dates and it is going to intuitively
parse the dates so later on I can show
you guys what we can do with that and
why that becomes very useful but anyway
that's going to conclude this video just
how to write to a CSV how to read from a
CSV extremely simple literally just read
CSV or to CSV simple as that and very
quick very intuitive and also just
whenever you're doing this even if this
CSV file is a massive file it's very
good at what it does it's very efficient
so definitely a good method for reading
writing CSV so anyways that's going to
conclude this video if you guys have any
questions or comments feel free to leave
them below as always thanks for watching
thanks for all the support and
subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>