<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Read from (SELECT) Database table - SQLite3 with Python 3 part 3 | Coder Coacher - Coaching Coders</title><meta content="Read from (SELECT) Database table - SQLite3 with Python 3 part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Read from (SELECT) Database table - SQLite3 with Python 3 part 3</b></h2><h5 class="post__date">2016-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NCc5r7Wr7gg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everyone welcome to the
third SQLite tutorial in another Python
3 basics tutorial in this tutorial what
we're talking about is how we can
actually read from an SQLite database or
really any SQL database for that matter
so let's go ahead and get into it this
is the code that we're starting with we
basically just been populating the
database I think I might have maybe up
to 30 bits now you can have as many as
you want and can just run it one time
it's really not a big deal I'm going to
go ahead and uncomment that and then
comment all these out that's a alt 3 if
you're working in idle if you're working
in something else just do whatever you
need to do so anyway those are commented
out and now we're going to run on or
we're going to define a new function and
this one is going to be so we can
actually read data from the database so
this one will be defined read from dB
oh one thing that I keep forgetting to
tell you guys and maybe it's too late
now you probably should have figured it
out by the first tutorial but when
you're working in any module but this
one included do not name your file the
module that you're working with so so
this one's really easy for me because
I'm working with SQLite the module name
is SQLite three so although I'm okay all
the way up until two toriel number three
when I call it SQLite 3 because if you
name your file the same thing as the
module you literally import your own
file and yeah things happen anyways
moving on read from dB
so to read from a database the SQL
statement is a select from basically so
what we're going to do is we're going to
say C dot XQ and the statement here will
be basically a select and then if you
want to select everything use asterisk
so that asterisk just is everything so
select everything from and then the
table name stuff to plot when you run
that execution you basically your cursor
is populated so you can think of select
as quite literally like like this right
your cursor has made a selection in the
database
but nothing has happened right like just
like my mouse like there's no
information in memory right I've simply
selected this bit of text here what you
want to do is right you'd select this
text and you'd want to be able you'd
want to like copy it right that's your
goal so how do you copy
the the information in sequel you use a
seedot fetch all so what you could say
is you can either assign this to a
variable or you can immediately just
iterate through it so you could assign
it to a variable like this you say data
equals C duck fetch all alternatively if
you just want to fetch a single row you
could do fetch one but we want all
generally if you're using asterisk
you're probably fetching all but you
mean there might be some times when you
fetch one anyway data equals C doc fetch
all and now you have all that data you
could in theory print that data now and
then we can run this just just to show
you guys so you see it in the raw form
let's save and run that real quick and
pull this down so there's all our data
is just a bunch of goop okay but
generally what you're actually going to
do is you're going to iterate through
those so probably more likely what
you're going to do is something like
this you're going to say like for Rho in
C dot fetch all and then you could print
the row for example so we can run that
again and sure enough there are all our
rows a little better organized and as
you can see the row each row is
basically a tuple and then uh-huh that's
gross we need we should press so
okay so since we're talking about
databases obviously databases and just
data in general is fairly lightweight
but the size of your database is going
to be completely based on the amount of
characters for the most part of that
database so in this case right here with
a timestamp do we really need to go out
this far into the time stamp no we don't
need to do that so that's a good example
of bad efficiency in our database so you
want to think about these things right
out of the gate another thing that you
may or may not want to have is both a
UNIX timestamp in a date stamp already
in
database because you can convert all
UNIX timestamps to date stamps or even
date stamps and UNIX timestamps so do
you really need that duplicate there
maybe you do maybe you don't it really
depends on you specifically if you're
tying in something like pandas I would
just leave that date stamp right there I
would not have a UNIX timestamp we're
just trying to show some examples but
that's a good time for me to KO it go
ahead and explain why that's no good
also these values are not real they
should they would be better off as
integer data types and so would the UNIX
timestamp so think about these things
before you go in because some people for
example with my sequel as well as with
SQLite there are various data types in
SQLite there's actually only five if I
recall there's like real int text blob
real in text blob I can't remember what
number five is but maybe none or
something I don't know
anyway there's not very many in MySQL
there are a lot of data types and
depending on the data type that's going
to help speed up your queries
significantly but in theory you could
have everything like in MySQL everything
can be what's called a VAR car variable
character right everything could be a
var car but a lot of times that doesn't
make sense to do for efficiency purposes
so anyway these are the things you have
to kind of keep in mind especially if
you're going to a database
obviously if your database is only like
a thousand rows or something it's really
not going to change your life very much
but if your database is say 600 million
rows then you need to start thinking
about how could we be as efficient as
possible anyway that's a simple select
statement but in this case why would you
know I just I told you at the very
beginning but the whole point of using
SQL is so you could query bits of the
database right Larry the table right
that was the whole point of it so
selecting all obviously you're going to
want to be able to do that from time to
time but really where SQL starts to
shine is where you select bits and you
don't have to take into all of your
memory the file that you're trying to
reference so one example that we would
do is we could change this SQL so we
could select all from stuff to plot but
then we can add a bit of logic here so
we can say we can add we're a
and the where clause here could be where
value value is equal to three okay so
where the the value for whatever you
know we just kind of input it a random
value but where that value is equal to
three that's what we want to select so
let's go ahead and try that real quick
so we'll save and run this and sure
enough so you only got we only got to
two columns but as you can see all we
got back or two rows rather all we got
back or rows that contain values where
it was three you could say you could
also say where we're value equals three
and let's say you want to have like
multiple wares so you say we're value
equals three and let's say keyword
equals boo that's going to get us in
trouble
let's do that double quotes again if you
ever need to use both double quotes and
single quotes for whatever reason you
could always encase and triple quotes
and that'll get you around any issues
you might have so for example if you've
got like tweets and in the tweet you
have both you know double quotes but
then also you've got like an apostrophe
s okay then you wouldn't need to use
triple quotes anyway
keyword equals Python okay so save and
run that again we get that and this is
also a good time to talk about keyword
equals Python all caps where are we
there we are
well it looks like actually SQLite is
not going to give us the return in all
caps let's try the loader case Python
okay so I guess I like to you guys sorry
in my SQL that is not the case anyway
fine whatever
okay so anyways that's how you could
have two columns with with values you
can also do stuff like greater than or
less than so for example we can change
this back to just this query here so you
run that and then let's say here's our
data we want all the time stamps that
are greater than that value
so you could say select all from stuff
to ply then you can say we're eunuchs is
greater and then throw in a value there
so we can save and run that again and
sure enough this returns only the
columns where eunuchs is greater and
again you could continue adding so you
could say we're eunuchs is greater than
that and eunuchs is less than some other
figure so you can do do stuff like that
so the last thing that I want to show
you guys is or at least just bring to
your attention let's just do this where
you get this return okay that's fine and
dandy but then like what if you just
want to start referencing specific
points well here you just use indexing
so for example we know the order of
things is eunuchs State stamp keyword
value when we select from all so we know
the eunuchs stamp is going to be row 0
for example we just we know this going
into it ok so if we want to reference
just that eunuchs stamp we can do that
the other thing that you can do is you
can actually change the order of things
so in our case we know the order is
eunuch state Stamp keyword value but you
can actually select something like
keyword eunuchs value date stamp so here
we're selecting very specific columns
only in a different order so for example
we can run that what we done select
keyword eunuchs value dates deep why is
it so we're eunuchs is greater than
lesser what oh oh ok so so we're still
we're doing index 0 here so part of
course that's why we got all pythons so
instead now let's print the row and now
it's basically changed the order of that
row you also don't have to accept you
don't have to query all the read all of
the data either let's say you really
were just looking for keyword in eunuchs
you can do this and then you just get
keyword in eunuchs so that's where
SQLite starts to shine is you can pull
you can reference all this huge data set
but you could also you could just pull
certain columns or even certain rows
from that data set okay so that clears
up how to insert how to read from a
database the next tutorial we're just
gonna show a quick example how you could
do something like graph from a databases
table with something like matplotlib and
then after that we'll talk about how you
can manipulate or update values in a
database and then finally how you can
delete from a database so that's what
you guys have to look forward to if you
have questions comments concerns
whatever feel free to leave them below
otherwise as always thanks for watching
thanks for all the support subscriptions
and it's still next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>