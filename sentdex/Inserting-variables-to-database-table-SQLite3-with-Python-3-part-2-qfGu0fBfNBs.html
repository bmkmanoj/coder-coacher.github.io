<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Inserting variables to database table - SQLite3 with Python 3 part 2 | Coder Coacher - Coaching Coders</title><meta content="Inserting variables to database table - SQLite3 with Python 3 part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Inserting variables to database table - SQLite3 with Python 3 part 2</b></h2><h5 class="post__date">2016-01-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qfGu0fBfNBs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on welcome to the second
SQLite tutorial in the first tutorial we
showed you guys how to do a really basic
input here but of course we were
manually typing that or hard-coding that
and that's obviously not the ideal
situation so in this tutorial I'm going
to show you guys how you can input
actual variables into your database
because it's going to be pretty rare
that you input something hard like this
so anyways the first thing we're going
to go ahead and do is add a few more
imports at the top here so we're going
to import time import date time and then
we're going to also import random time
and date time we're going to use time
obviously because we're populating UNIX
date time to create a date stamp and
then random to create the value the
value there so we're going to come down
here we're gonna make a new function
make some space here so it's aligned
right some people complain about
whitespace it's usually there just to
make it easier to see just for the
record anyway I define and then we're
gonna call this one dynamic data entry
and what we're going to do here is we're
going to find some variables so the UNIX
will just be timed up time so this is
your time stamp then what we're going to
do is we're going to create a date stamp
from the time stamps so that'll be date
equals the string version of date time
date time dot from time stamp UNIX and
then it's dot string from timers STR at
time and then you give the try think of
the proper word here the structure
basically that you want it to be so it's
percent capital y and that's for a four
digit year and then dash percent
lowercase M for a two-digit month
percent D same thing as month space
capital or space and then capital H and
then colon capital m colon capital s so
again this is like a your formatting for
your date stamps so we're taking a UNIX
stamp and we're converting it to a date
stamp so it would be a four-digit year
two-digit month
two digit day typical hour two-digit
typical minute two digits and then
seconds okay now we're going to say the
keyword in this case we're just going to
keep that keep things as Python because
who cares about anything else then we're
going to say value is going to be equal
to random dot R and range and we're
going to say anything from zero to ten
now we're going to run an execution so
see execute and again this would be a
insert whoops all caps insert into stuff
to plot and then again you could go
straight into values like this but
instead what you're actually going to do
is first you're going to specify the
order or the specific columns that
you're going to insert into so units
date stamp keyword value it just so
happens this is the actual order of the
columns in our database but you could
switch these around you can even leave
in normal SQL you can leave them blank
and it will just not insert data for
that row that's that's acceptable but
what you can't do is you can't say you
insert into these four columns and then
only insert three variables into those
columns that will result in an error so
insert into stuff to plot that we
definitely we want to insert into these
columns and then how we do the variables
is like so after that you say capital
values and then in parentheses again you
have four values so question mark comma
question mark
comm a question mark comma question mark
now it's slightly unfortunate this is
how SQLite does things MySQL is going to
use those strings so it will be percent
s so that's one major difference between
the SQL queries themselves that you'll
be writing is SQLite scan use these
question marks whereas MySQL would use
percent s so keep that in mind if you
ever do make the switchover so the next
thing we're going to do is comma hit
enter you know have to you could keep it
on the same line but usually people hit
enter there because this is a long line
and you don't want to just
way off the screen so inserting to stuff
plot that and then comma and then you
put in the variable so UNIX date keyword
value okay so so this should be hit that
should work what is that one thing that
we need to do after we insert stuff
that's right we need to commit conduct
commit and I'm actually not going to run
C dot close and conduct close here
because I wanted to explain those in
last tutorial but here typically when
you run some sort of command when you do
a conduct commit so you like our
intention here on this function is we're
going to insert about ten data points so
you don't want to close the connection
every time and reopen the connection for
every insertion that's a waste of time
and probably some processing on the side
of SQL so especially if you're running
like a web server that's doing a lot of
high input output that would be just
suicide so anyway you really just commit
and basically at the very beginning of
your batch of SQL and at the very end so
at the very beginning you'll do your
connection so you would define your
connection here so this defining the
connection actually starts the
connection and then defining the cursor
starts up the cursor and then when
you're all done using them that's when
you really should close them so we'll
come down here and and then what we're
going to do is we're just going to
define a for loop here so where is our
needs to start data here so let me pull
it up now actually what I'll do is I'll
make a bunch of whitespace under that
stuff there we go
so now we're going to generate a for
loop so we're going to say for I in
range of ten what do we want to do we're
going to run dynamic data entry oops
we're going to go ahead and sleep from
one second every time obviously normally
in SQL you would never purposely add a
sleep but we're just doing that so the
timestamp will go up a second that's
just the only reason we're doing it now
we'll go ahead and see that
and then we'll do it on clothes and
because we have that kind of junky data
from before what I'm going to go ahead
and do is we're going to come over to
our tutorial here I'm going to delete
that database that exists right now we
use it oh it's open okay
let's close that try again cool
so we've deleted that and then I'm going
to come to create table let that let
that thrive again so we create the table
and then we'll insert in every 10 second
let's run that really quick hopefully we
don't get errors I saw the database yeah
the database pops up hopefully it's
getting populated as we speak should
take about 10 seconds so while I wait
for that before we check it I think it's
actually done so I guess I won't start
talking again it's open it up browse the
data sure enough there are are your data
points random values and all that so
we've got 10 rows that we can actually
start to work with now so in the next
tutorial I'm just going to run it a
couple times while I'm talking
in the next tutorial what we're going to
do is now that we've learned how to
insert data into a database we need to
learn how to actually pull data from a
database and read from it so in the next
tutorial we're going to talking about is
how to read from a database so if you
have any questions or comments up to
this point feel free to leave them below
otherwise as always thanks for watching
thanks for all the supporting
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>