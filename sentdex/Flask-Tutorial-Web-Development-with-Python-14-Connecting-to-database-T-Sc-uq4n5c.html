<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial Web Development with Python 14 - Connecting to database | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial Web Development with Python 14 - Connecting to database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial Web Development with Python 14 - Connecting to database</b></h2><h5 class="post__date">2015-03-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/T-Sc-uq4n5c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to part 14
of our practical flasks tutorial series
in the last video we created our users
database and now we're actually ready to
start at least interacting sort of with
that way with that database so first
what we're going to do is we're going to
need to disconnect here ID we can just
do quit yeah so just type quit and it'll
say buy if you're still connected so the
next thing that we want to do is to
interact with my sequel with Python we
need my sequel DB I don't recall setting
that up initially so what we're going to
do is we're just going to say pip
install and I forget with how you type
this exactly but let's try pip install
my sequel DB see if that works
looks like it's not going to work it's
probably not tell us there's no package
that is taking a long time to scour for
packages this one's always hard there's
a few that are kind of difficult to find
let's just do sudo apt-get install
Python - my SQL DB like this if that
doesn't work we'll do all lowercase but
looks like it's working fancy fancy
alrighty so it looks like we got it
let's just type Python really quick we
are using Python 2 7 here import my
sequel DB so it's capital M why capital
s capital Q capital l DB make sure you
can do that if you can great control C
control D to exit there only hit that
once though otherwise you will be logged
out of SSH ok so we have my sequel DB
now now we want to create this DB
connect a file that we can use for
connecting to the database so let's go
file new we'll do file here and we're
going to call this literally DB connect
hi here it is for us let me make the
font a little bigger so it's easy to see
for everyone involved ok so here is our
DB connect dot PI file we're ready to
populate this first of all in order to
connect to the database we need to in
port my SQL DB like that and now we're
going to define connection so this will
be our connection function and if you
follow along in any of my my sequel
tutorials this should all be very very
familiar if you're interested in
learning more about my sequel with
Python there's actually a lot of things
you can do here all we're actually going
to be doing is selecting and inserting
data eventually I may allow users to
change passwords I have not even coded
that myself needs to be there and
whenever I do that maybe I'll do an
updated tutorial on how to do that since
that would be actually updating rows in
a database as well anyway define
connection we're going to say column for
connection equals capital M Y SQL DB dot
connect and then we insert our
parameters so the first prior is me host
so this is who are we connecting to for
now it's a local host which is one 27001
you can connect remotely to and from
databases you can set that up you can
have a database allow remote connections
and you can actually allow a remote you
when you allow remote connections you
allow it from a specific IP for a
specific user from that IP so keep that
in mind that is possible and you can do
a lot of really cool stuff allowing
remote connections some people think
that that's a security risk honestly
it's not I don't think it's you know
it's actually one more password and
username and password that's required
anyway but you will be transmitting the
data in that password remotely so for
say usernames and passwords that's
probably a bad idea but for I don't know
data for displaying a graph or something
that is not sensitive or security
sensitive data it's fine anyway host
local host that's who we're going to
connect to the user is equal to root
because we're using a root user the
passwd for password equals and this is
the password for your on your my sequel
database my password was cookies
then no that's not the password to the
actual database just and then the day
the DB so the database that we want to
actually connect to is whoops is Python
programming okay
that's it that's our connection
parameter now we're going to specify C
for cursor and that's going to be just
conduct cursor for sure and then after
all of that we just return C and con
that's it so now we save DB connect PI
and close that let's open up our in it
dot PI now and we'll come to the very
very very very top here and let's do
from DB contact and poor connection
connection like that then just to check
our connection let's go down to we don't
have a register page um I guess what
let's just start building the register
page real quick and then we'll worry
about connections so let's just take
this copy that pastes come on down to it
and we're going to call this register
and then instead of login page is the
register page and then let's just return
just a simple string for now okay and
let's do C Conn equals connection and
that should be it
C Conn cool so now let's go ahead and
try that but if we fail for whatever
reason egg septics
z for return string e will save that now
if something goes wrong in the importing
of DB connect we are going to still have
a 500 error so hopefully it'll be ok
where is there it is a restart cool come
over here
let's refresh no problem there let's go
ahead and sign up register ok so all is
well so we come back over here so now
we've got Python actually successfully
connecting to our user well
actually sorry just connecting to the
database is actually not connecting to
the user table just yet but that's what
we're going to be working on in the next
video so anyways I think we'll cut it
off here in the next video we'll
actually build this register page and
actually connect and all that and
actually having someone register either
and next one or the one after that so if
you have any questions or comments
please feel free to leave them below
otherwise as always thanks for watching
things for all the support and the
subscriptions and it's still next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>