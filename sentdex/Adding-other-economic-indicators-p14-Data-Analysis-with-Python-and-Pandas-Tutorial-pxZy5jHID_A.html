<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding other economic indicators - p.14 Data Analysis with Python and Pandas Tutorial | Coder Coacher - Coaching Coders</title><meta content="Adding other economic indicators - p.14 Data Analysis with Python and Pandas Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding other economic indicators - p.14 Data Analysis with Python and Pandas Tutorial</b></h2><h5 class="post__date">2015-10-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pxZy5jHID_A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everyone and welcome to
part 14 of our Python with pandas for
data analysis tutorial series in this
part what we're going to be talking
about is adding a few more data sets
we're just going to kind of run through
them real quickly as far as what we want
to add on top of what we're already kind
of grabbing and I think maybe what I'll
do is I'll move this mortgage rate down
here underneath HPI it works underneath
the HPI benchmark and then we can add a
few more here now this process now you
can use this basic process to add as
many data frames as you want biggest
thing is you want to make sure that
you've got data that's end of month if
the granularity is any less than a month
like if it's yearly or something like
that you're going to be forfeiting a lot
of accuracy or at least granularity of
data and a lot of data points which with
machine learning we'd like to have as
many data points as possible up to an
expert makes a certain extent of course
more than like a hundred thousand rows
of data we wouldn't really want that now
so we've got mortgage thirty-year that
covers basically the interest rate then
that means we've got like two more major
factors here but really just one major
factor and that major factor would be
the economy the overall situation
basically so there's kind of two major
measurements of the overall economy one
would be the GDP so the gross Manship
domestic product the other one would be
like the stock market okay now in theory
the idea of housing is or real estate is
to be you know you would have stocks
bonds and real estate would be like a
diverse portfolio maybe you throw in
some precious metals or something like
that but that would be the idea right
but a lot so a lot of people consider
real estate to be diverse and the whole
point of diversity is so you have
usually it's more like a negative
covariance but negatively correlated to
is kind of important because you
basically want to be when you're diverse
you have a slow
steady increase in revenue every year
whereas if you're not diverse say you're
only invested in the S&amp;amp;P 500 you go
through as much volatility as the S&amp;amp;P
500 stock market you know Dow Jones
whatever goes through so the reason why
people get diversified is to smooth out
market fluctuations and also decrease
risk say you know the housing market
could in theory go down forever I
suppose or or whatever or at least for a
very long time so anyway moving along
well we'll go ahead and grab those two
metrics now in theory again the sp500
shouldn't be as valuable as or should be
not necessarily negatively correlated
but have low correlation like almost you
want to have you don't necessarily one
have things that are like negatively
correlated but if they had zero
correlation that'd be great anyway
enough yeah yeah yip-yap yip-yap plus
chitchat anyway Yik yak anyway here we
go so define sp500 data so this one the
let's go ahead and let's grab basically
we want this one comes with a bunch of
columns I think what we'll do
you can prime you could type it out if
you want but we can also just grab this
data there's really nothing to be gained
I don't think from us not copying and
pasting the data from the tutorial I'm
not really sure why you would need to
type it out so I'm not gonna make
everybody type it out so just let me
link in the description and you can go
to that code copy and paste and at least
I'll run over it anyway so this was to
grab the S&amp;amp;P 500 data the S&amp;amp;P 500 data
has open high low close adjusted close
so we want the adjusted close I don't
think it matters with the S&amp;amp;P 500 index
I don't think there's ever a time when
there was like a split there but adjust
a closed generally like for example
Apple did a stock split not too long ago
and what happens when they do a stock
split is basically the price got so high
that to buy one share you need like a
thousand dollars they don't really like
that so what they do is they say okay
every share right now is actually two
shares and to buy a new share its half
the
or for it's now for shares and to buy a
new share it's 25% of what it used to be
so anyway stock splits generally do not
aren't adjusted for through history a
lot of times so you have what are called
adjusted close or even sometimes you'll
have adjusted hot open high low close
that's the whole point of that anyway
then we sampled a month because you
actually get daily data for the ESP 5
hard and then we're resampling adjusted
close that name of that column to the
sp500 just so it makes sense to us cool
in place true next up this is GDP data
this is just gives us GDP information
for the United States from 1975 here we
do the percent change of course of
course we do the percent change up here
too then we resample the month we rename
that column from value to GDP say the
the data frame is GDP boom done and then
we also grab unemployment this is just
kind of my idea was just you know hey
like that would probably be an okay
metric it's pretty hard to get a home
mortgage if you're not employed so
anyway I thought that might be useful
but who knows I've never heard anybody
reference the unemployment rate being
very strongly negatively correlated with
the housing price index but in theory if
people aren't able to get houses down in
breads and ex-football because less
demand but who knows so these are just a
few now again ideally you might get you
know a lot you might be best to have you
know 50 to 100 possible data points here
and we'll talk about why probably in the
next tutorial but for machine learning
purposes you might want it you'd want to
have a lot now we still could talk about
that pairs training where anything that
diverges from the HPI where the HPI is
going up but that housing market is
going down you want to invest in that's
actually probably a pretty good strategy
and that's really simple and so you just
don't forget about simplicity really
does win out a lot in the markets so a
lot of people really break their backs
trying to come up with crazy strategies
and stuff and sometimes the easiest
strategy too is not even try to gain the
system just
just buy and hold all right the most
tried-and-true method it doesn't take
any of your time it's great but for data
analysis obviously there's a lot of
other reasons why you do data analysis
besides investing right a lot of data
analysis is great for business analysis
and analytics stuff like that so anyway
you can't really buy and hold that
information so here's all the data now
what we can do is we can add it just
like we did here now so let's say for
example we could say SP 500 equals this
SP 500 data function so we do this copy
and then we'll just say as people hundr
equals that then we can go ahead and do
the GDP now with GDP we're gonna say
this is actually US GDP probably
sugaring in that function but we'll keep
it for now equals GDP data and the
reason for that is you might actually
find that you get each state's GDP and
that might have a very high positive
correlation to the housing price index
and it might even be a futuristic
predictor so keep that in mind right
because that obviously the more money
that specific state is bringing in that
means that's more money that's being
spread out amongst all the people
working in that state so in theory that
means more money for houses and that
would in theory raise up the market okay
so you might want to consider doing
something like that obviously you know
the idea of data analysis and actually
like pandas and stuff like that you'll
find a lot of times if you ever kind of
dive into this field it literally is
like you're playing in a sandbox you
think of these various ideas and you
play them out and you just see how does
it do you know and there's there's a
million things that we can do here and I
could spend you know we could probably
have a 100 hour long tutorial series but
part of the fun is just kind of thinking
about yourself or figuring it out so
I'll let you guys do it but this is you
just basically do the same thing you
know you just make these functions and
you go for it so anyway that's GDP and
then we can also grab unemployment again
unemployment can be by state so again
that could be a negative correlation
factor so the
be wise to get both of those numbers
anyway so US unemployment let's say
equals US unemployment okay so now that
we have all these values right we're
joining in 30 but actually what we can
do is we can join a list of values so
we're gonna join in 30 we're also gonna
join us unemployed and let's spell
unemployment right there we go paste US
GDP we'll take that and we also want to
bring in the sp500 okay so now we have
all that information we can do all kinds
of stuff really by this point but we can
take what we give you correlation
because we can look at the correlation
factor so no longer let's see this is
state HPI let's just call this let's
just call this HPI okay and then we'll
do HPI here let's see a few things let's
go ahead first we can print out HB i dot
4 and that might be interesting also
let's print
let me just print let's just print out
all of HPI and then we'll print out cor
I just want to look and see what we're
dealing with here I'm trying to think of
we would have any not available data
from the other data sets but okay let's
see if we spiny not available data here
yeah so we have some not available data
for this cone here for and that's from
obviously after a certain date it looks
like we just don't aren't getting that
data so some of these don't have data
beginning at a certain date or after a
certain date okay so that's kind of one
of your can constraints if you use
various in these data sets so some of
them don't go back to 1975 and others
don't go all the way through to 2000 you
know 13 I think the oldest sets our 2013
I'm filming in 2015 but if you find that
you're onto a good track all of this
data is available for purchase okay so
either
quando or like with this stuff actually
you could get the Zillow API there's
other api's too for housing data so
don't just you know you can use this
free data really quickly and easily but
if you actually find that you're onto
something
there's someone will sell you the data
if you can't find it any other way so
anyway yeah let's see GDP just doesn't
start until later we don't I don't know
when but maybe 2000 or something and
then so what we could do is we already
know we can just drop all in a so we
could do something like this we could
say HP I draw an a true and it takes a
little bit because we're pulling all
those functions so as you might be able
to guess what we ought to do is Wow
let's see I'm trying to see okay so this
dataset right it starts at 1990 so we're
losing you know a decent amount of time
here about 15 years so and we're losing
that because of gep so that's a perfect
example of like whoa we just don't have
GDP data going back to 1975 at least
through the data that we found right but
I guarantee you you can find some GDP
data that goes back to 1975 the real
crux the hard part will be finding
monthly GDP data going back that far but
I'm sure you can find it so anyway so
what drop na we're gonna do that because
we're gonna feed this through a machine
learning classifier and I'm not really
too interested in replacing fifteen
years with you know negative ninety nine
thousand so finally the last thing that
we're going to do in this this specific
tutorial is the following we want to go
ahead and HP I got to pickle HP I dot
pickle all right send that to pickle run
it and make sure it actually goes to the
pickle but it should and once you're
done there now you're ready to continue
on in the next tutorial and the next
tutorial we'll be incorporating
scikit-learn you can already install it
if you want
we'll talk about it's just pip install
SK learn and then and what that allows
us to do is they've got a bunch of
pre-made machine learning classifiers
for us and we can just pump this data
through very easily you don't need to
know a thing about machine learning and
classification I'll show it in the next
tutorial actually you can follow very
nice and easy flow chart to figure out
what classifier you want to use so it's
really easy don't like machine learning
scare you off because anybody can do it
I'm not a machine learning guru and I
was able to figure out and used in
machine learning in like a day so it's
really simple so anyways that's what you
guys had to look forward to questions
comments concerns whatever leave them
below otherwise as always thanks for
watching thanks for all the support and
subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>