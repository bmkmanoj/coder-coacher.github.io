<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Argparse for CLI - Intermediate Python Programming p.3 | Coder Coacher - Coaching Coders</title><meta content="Argparse for CLI - Intermediate Python Programming p.3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Argparse for CLI - Intermediate Python Programming p.3</b></h2><h5 class="post__date">2016-11-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0twL6MXCLdQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody and welcome to
part three of our Python fundamentals
that art basics tutorial series in this
video we're going to be talking about
our parse for making CL eyes or
command-line interfaces so first of all
why might you actually want to make a
command-line interface so to some degree
it can make like interacting with your
own program a little easier you know you
can just call it from the command line
and you can change variables just - -
variable name equals and boom it's
changed you don't have to open edit file
and all that so it can be kind of like
it can be quicker to tweak things and
rerun it really quickly also I think
command-line interfaces are
exceptionally useful for anytime you're
going to set up something like a cron
job or something like that that you want
to maybe tweak that some sort of
variable but also run the script via the
system so maybe a cron job or maybe even
you're you're running an OS dot system
call in your script or something you
know and you want to change a variable
or do something having your program be
and have CLI options is useful so let's
go ahead and cover them so for now we've
got this really basic function it just
calculates x and y and does some sort of
operation so the operations add it adds
them and so on
obvious actually nevermind we'll talk
about it later but you know these
methods and stuff if you were gonna
actually make a function like this you
wouldn't you wouldn't write this but
anyway so what we're going to do is is
convert this into a command-line
interface using our parse also you don't
have to write up this entire function so
you're probably go my gosh now you can
go to the text-based version this
tutorial and copy this code I'll either
link to the tutorial in description or
copy and paste the code in the
description or both or who knows the
videos not yet so I don't know we'll see
it'll be surprised so so let's convert
this to command-line interface so the
first thing that we're going to do is
we're going to import art first and
we're going to import sis so then we're
going to do
define main and then main is where we're
going to actually build the arguments
themselves as you might guess from the
name arg parse it's an argument parser
surprise so what we're going to do is
we're going to define the parser and the
parser is equal to our parse dot
arguments parser one quick note on um
Pepe when I see the following our parser
argument parser i am i can assume
argument parser is a class and parcels
is an object of that argument parser
class how do i know because of the
Studley case again that's just that's
one reason why you want to sometimes I'd
here to Pepe because it's clear to me
immediately when I know like that's the
name of that okay it's a parser object
it's not some sort of function that's
returning some sort of value that we're
calling partial moving along parser dot
add are you may add argument again
because we know parser is an object we
know add arguments a method if that
doesn't make much sense to you right now
it will soon because we're going to be
talking about object or your programming
soon moving on the first argument we'll
add is just dash dash X that's going to
take the place of this X parameter so
that's the name of it the type we're
essay is a float then we're going to say
default equals 1.0 and then we're going
to come down and we're going to add some
help and the help is just like a some
sort of string that's going to explain
what this is so we're just I say what is
the first number and I'm just going to
copy this and paste and paste and the
second parameter we're argument will be
why it's not the first it's the second
number will stay sick with the default
one and then the final one is operation
the type is not float it's a string and
then we're going to say
what operation Chu
let's just put parentheses ad sub mall
for div okay I'll show you how help can
be utilized soon so those are the
arguments now we're going to say the
args is equal to parser dot parse the
R's and then we're just going to assist
dot s standard output dot write the
string version of Cal args okay so this
is all necessary to do with arg parse
and then the system out the reason why
we're doing this is so the output will
actually come to the to the console
itself in many cases you could just use
print but there's going to be times when
actually you need to do a system out
because otherwise you're just not going
to see it anyway so then we're going to
output it now you can see that actually
rather than passing XY operation we're
passing our we're just passing args
that's it so as you might guess we
actually need to change this now is args
then you could either do op ER operation
equals our stott operation and then do
that for x and y I wouldn't recommend
getting the habit of doing that because
basically you're like you're dolt you're
multiplying that variable whatever the
contents of that variable are boom they
just got doubled and also I didn't
really fully explain in the last
tutorial but with like string formatting
and concatenation when you use the plus
sign to add things together you're
making multiple copies of that that
string whatever it is that's why it
doesn't scale very well especially if
you were doing like a large
concatenation process that would not be
favorable anyway we're not going to use
this you could use this it might make
the function more readable I don't think
it does but you might and if you just
grief feel free it's not that big of a
deal so instead I'm actually just going
to put our X dot in front of everything
okay so that's all we need to do there
now pretty much I think we're done
actually so we're going to save that and
I'm going to pull up the command window
that's not very big let's see if I can
edit this really quick I think I do it
in properties huge all right so now
we're going to actually run this in most
cases you can probably just type Python
that'll work for you I've got multiple
versions of Python so I'm going to
specify I want a Python 35 or 3.5 and
then and then I'm running 3 dot capital
a really I'm pretty sure that's what
it's called all right okay cool we'll go
with that I don't know why three dot
space capital a did not work but that's
fine
so let's just run it once without doing
anything up calc - oh we're still Colin
Oh
oh my gosh come on ok so actually at the
very end we forgot something pretty
important also let's do this Pepe
specifies one white space between
functions - between classes
so we'll honor that while I'm thinking
about it if name equals main always a
good idea this just basically ensures
that if this is the actual script that's
being run we run this function otherwise
we don't run it so if we were to import
this for whatever reason it wouldn't
just run ok say that I think we're ready
to rumble down let's try again
this time we get none that's not what I
wanted I want the output of the ours
default is orange
why did you give me none oh the default
for the operation we need to make that
something we'll do ad for now seriously
did I not okay we got rid of the comma
we'll get there we'll get there we're on
our way
boom successful like eighth time's a
charm
good stuff so 2.0 that's the default
awesome but what we can start to do
instead is say - guys x equals 5 - - y
equals 2 and then the operation equals
will say mole 4 multiply and we get 10
point o instead pretty cool we can also
do - H just a single - and what we get
is basically the help output so it just
tells us basically you know what we're
trying to run what our various options
are so we know that - - X corresponds to
x + y and then operation and then we've
got optional arguments here for H and
help this would just show basically the
help message and then we've got the the
parameters that we added or the
arguments that we added ok so that's
about all I want to show with our parse
it's just a nice clean way to parse
arguments as opposed to using like sis
for getting your arguments because you
can do that you can get arguments from
the command line using actually just sis
but it's one it's going to be required
that you do that and you do all of the
arguments that you're expecting uh-oh I
guess you could make a function and get
around it but the this module is going
to want that of you it's going to want
something for all those arguments but I
guess we've made defaults so it's the
same thing but anyways our parse is just
a much more friendly way to to parse
arguments from the command line than to
use sis the only reason we've got says
here is just to output from from the
function
so that's all for art purse if you have
any questions comments concerns whatever
feel free to leave them below otherwise
in the next tutorial were going to be
talking about list comprehension and
generators so stay tuned for that thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>