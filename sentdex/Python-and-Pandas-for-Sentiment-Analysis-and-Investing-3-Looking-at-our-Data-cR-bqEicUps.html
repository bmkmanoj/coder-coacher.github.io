<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python and Pandas for Sentiment Analysis and Investing 3 - Looking at our Data | Coder Coacher - Coaching Coders</title><meta content="Python and Pandas for Sentiment Analysis and Investing 3 - Looking at our Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python and Pandas for Sentiment Analysis and Investing 3 - Looking at our Data</b></h2><h5 class="post__date">2014-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cR-bqEicUps" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
another Python Panda sentiment analysis
and Finance tutorial video in this video
what we're gonna be doing is actually
working with our data now and starting
to do our analysis so the first thing
that we need to do though is we need to
actually look at this data so the the
gzip file for me is located right here
and for me I'm gonna use 7-zip to unzip
it you can use whatever the heck you
want if you don't have 7-zip and you
don't know how else to unzip it go ahead
and use download 7-zip online and to
extract it and when you extract it here
it is stocks underscore semtex dot CSV
and it's about 381 megabytes so we can
open that up into note plant notepad
plus plus and I take a second and here
we have all the data so this first row
here is you know basics so the first
column here we have is ID that's just
the self incrementing ID and that was
mostly for the database we're gonna end
up mixing that in a moment we have time
and this is our time stamp okay so this
is unix time for anyone who's not
familiar that's another thing that's
really hard we have to convert out of
the unix and all that but it's easy
enough here and so we'll fix that
type type corresponds to the stock in
this case so apple is what's here then
we have value value is the sentiment
value at that moment okay so the
sentiment reading that we've were
inputting into this database then we
have open closed high low and that is
stock price at the time we don't have
anything right here for Apple but in
just a few moments basically a few
seconds later we start inputting the
stock prices it is like that all the way
down except for maybe the last few rows
might not have stock prices
it looks like they do so everything
actually does have stock prices now
besides the first few rows then we have
the moving averages so the MA 100 250
500 5000 those are the moving averages
of the actual sentiment value okay and
they don't have minimum so this that's
why that's negative one negative one
negative one to start
so until there is 5000 updates you might
not want to trust the moving averages
just yet so that's that that's the data
now we want to do is kind of manipulate
this data for exactly our purposes first
of all we don't need to be reading in
the ID every time that's a waste of
space you next time we want that in date
time and then we'll drop the unix time
type we do want to keep I kind of want
to keep open closed high-low we're gonna
use that data for this series but if you
have your own data then you might not
want to keep the open high low close
stuff and then the MA 100 250 500 5000
you may or may not want to keep that
it's pretty quick to calculate it in
pandas but I think maybe for now we'll
leave it there I don't know so anyways
that's the data now we want to modify
this data slightly okay
so minimize that - you gonna come over
to our script so as usual were going to
import pandas as PD from pandas we want
to import data frame and then import mat
plot lib pipe flaw and PLT from that
plot lib import style again if you're
not doing the style thing with us don't
do it don't import it and then import
numpy as MP next up we're gonna say
styled ie use and we're going to use
ggplot again again if you don't do that
and now we want to manipulate this data
set how we want it so we're gonna say
define modify
data set and basically let's say first
data frame equals PE to read underscore
CSV and that is gonna be for me located
an X colon forward slash Sun slash
stocks underscore cent
Dec CSV that's where mine is so
obviously use wherever yours is that's
so then we're gonna say DF time equals P
d dot to underscore date/time and then
we're gonna do DF time and then right
now our unit is s for seconds so that's
how it knows how to read it so basically
to day time what column is being
converted to date time and then what
unit is that in right now okay so that
should hopefully convert our time column
now the next thing we can do is DF
equals d f dot set index and we want to
set the index to time right now it would
be that the first row first column
rather which was you know the ID okay so
now what we can do is print D F dot head
just to see where we're at
let's say that come down here modify
data ok let's save and run that and see
what we got
might take a sec Hanser a rather large
file might take a few seconds parent
there we go okay so now you can see it
act it converted our timestamps okay we
have man which is not a number and
pandas actually whole handles not a
number very well we've got our
timestamps anyway here for Apple right
October 15 2012 damn you know we've got
our moving averages and all that and
they've just pastes it twice because
this is it ran out of space to put it
here so it adds this little you know
slash and then it says your index again
since it assumes that index is basically
what we're most curious to look at the
data organized by I guess so that's why
it prints index twice but it's not
really there twice so we're happy with
that so let's go ahead and close that
we're getting exactly you know what
we're expecting so the next thing we
want to do is we don't really care about
ID anymore so we can go ahead and del DF
ID okay and that's enough for now we you
if you wanted you can get rid of the
times you can also get rid of the moving
averages so maybe we might do that later
on because we're trying to generate very
unique moving averages so that might be
absolutely worthless to us later on and
they are they do take up a lot of space
as far as you know how large this file
is if we were to maybe get rid of them
it would be better and in fact I I guess
we could just keep I don't know we might
get rid of them I haven't decided yet
anyway DF dot to underscore CSV now now
that we've modified this right we've
converted the day time and we've gotten
rid of ID
now that we've modified that let's go
ahead and save it because every time to
modify it you're gonna have to like go
through that processing time right and
so if we only if you're gonna do this
modification every time it just makes
sense to go ahead and modify it and save
the new version so let's go ahead and do
that so we're gonna say that is 2x
sentiment and stocks underscore synth X
underscore date Scot CSV and in fact
let's go ahead and say this is full down
the road you might want to just kind of
do some quick testing or stuff and so
you can make a shorter one so this is
full we could edit this and chop off
most of the data and just call it short
and that way we don't have to wait for
the super long processing time for now
we'll just call it full and that should
be really all we need to do so let's go
ahead and save that and cool all right
let's run that real quick
it's probably in tainted as long as the
last time next time we run through these
processes I'll try to talk more talk
over the processing times anyway so what
that's gonna do is gonna save it to our
file for us and you know the format that
we are hoping for when it's done here is
I'm gonna print out anything so I guess
we'll know when it's out another one of
these but now I guess we can talk about
what we're gonna do next so I'll
probably cut off the video a year and
we'll continue on in the next video in
the next video what we're gonna do is
we're gonna work on how can we access a
single bit of data for a specific
company so let's say we want to plot
Bank of America okay
so how can we do that and plot that
information so that's probably what
we'll go through next time we'll also
work on doing maybe like the moving
averages stuff like that and we started
the file but I guess it's just building
it or something I just hate to cut it
off cuz I don't know I'd cut off the
video if I was positive that this was
gonna complete but I'd hate to cut it
off and then have to fix it later so
anyway there we go just in time so it's
a little bit bigger probably because the
date stamp takes up more space than a
UNIX stamp but that just tells you why
we might want to remove the moving
average column eventually just because
we're not actually using
so be a lot smaller so anyways that's
gonna include this video in the next
video we'll work on how we can go
through this data set and the other
thing yeah okay anyway the other thing
we could have done too is removed maybe
the Bitcoin stub since we're not going
to use that we could have chopped that
out as well but this will do for now
anyway that's gonna conclude this video
if you have any questions or comments
something not working out for you feel
free to leave those below in the comment
section let's make sure notepad plus
plus is angry there we go okay so you've
got your time type so everything's good
so that's what we expected so anyway
that's conclude this video as always
thanks for watching thanks Rawls for the
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>