<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python 3 Programming Tutorial - Sockets: client server system | Coder Coacher - Coaching Coders</title><meta content="Python 3 Programming Tutorial - Sockets: client server system - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python 3 Programming Tutorial - Sockets: client server system</b></h2><h5 class="post__date">2014-08-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WrtebUkUssc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to another
Python tutorial video on sockets so up
to this point we've talked about how we
can use sockets to attempt to make
connections but we haven't really talked
too much about sending and receiving
data on both ends so what I'd like to
cover in this video is going to be both
making a client coding in the acceptance
of receiving data as well as sending
data from a client so one of the easier
things that we can do here or more sane
things that we can do is to create some
sort of client where we can make a
connection type some stuff into that you
know connection that we've made via
telnet so we can type in some data from
the client send that data to the server
which will receive that data digest that
data and then maybe you know send out
some sort of a response back to the
client so in our case we're just going
to make it really simple but you can
envision more advanced things that you
could do with the data once you received
it the other thing that we want to do is
we want to if it's a server the server
needs to be able to accept requests
right and connections and all this needs
to be able to accept data and send back
data specifically to the connection in
question so there might be 15 people
browsing the website but you see exactly
what you're doing you don't like click
on it you know go to a website and then
start being moved around because of what
other people are doing
normally anyway now you do your own
thing on that website you view your
whatever pages you wanted to click and
so the same thing here if you're going
to go to create some sort of a server so
to speak you're going to want to serve
each connection specifically on the only
thing that comes to mind right away that
is not the case there is if you're
creating some sort of like chat room
where everything someone types is
viewable to everyone else you know
something like that but anyway moving
right along let's go ahead and get
started so with the code that we have so
far we're actually going to leave
everything that we've made the only
thing I will
change for an hours we're just going to
comment out this connection address part
and then the connection information that
we print out and now we're ready to
actually start handling this stuff and
even though it might sound very deep and
confusing it's actually going to be
pretty basic and we'll be able to cover
all of this within this the single video
so first we're going to want to do
define um so you've got a server and a
client right so we're going to define
the client and we're going to define
threaded underscore client and the
parameter for threaded owners what
client will be connection comn and we'll
do connection dot send and again to
stress the difference of Python two and
three python three makes the distinction
between byte strings and strings
whereas python two does not so if you're
if you're doing this tutorial in Python
2 you would not need to do encoding and
decoding you just do the natural thing
but python 3 makes a distinction and
rightfully so so we have to do end
coding and decoding so basically
everything we send out we're going to
need to encode everything we receive
we're gonna need to decode but even on
messages that you receive you have to
decode them do whatever you want then
encode and send them back so when we do
condescend we're going to need to do
send STR for string dot encode and then
we're just going to say a message like
welcome type your info okay and that's
just going to send an in from you know
kind of like an informal greeting to the
person also it won't naturally make a
new line so we're going to naturally
make a new line with backslash N or at
least it may not it's some it it
probably will anyway moving on now we
want to make a loop that will basically
continue sending the information so if
you remember before as soon as we made
our connection boom connection dropped
so actually we want to go ahead and keep
that thread alive instead of dropping as
soon as we get a connection so we're
going to go ahead and say wow true
to make our little infinite loop here
and then data equals con our a CV and
then at what buffer rate basically 2048
okay
so that's the data and then we're gonna
say our reply so the data is anything
that we receive a reply is going to be
equal to and actually we'll just make
the reply something basic like server
output : and then plus data dot decode
and you want to decode it tf8 so again
all the data that we received we have to
decode and then the reply is server
output plus data dot Z code and utf-8
then what we're going to do is if not
data break so we can actually stop this
connection and then we're going to do
connect con send all string encode reply
so here's a perfect example where we've
accepted data we've had to decode it
we've made our changes and then we've
done an encode to send it back so condit
send all encode the reply and then once
this wild true loop is completed while
you know we're not have with the
connection is not there anymore
we're to go ahead and do conduct close
and that's basically it for a threaded
client we don't have to really do
anything else there so now what I want
to go ahead and do is again we'll come
down here and we'll just say while true
and we'll take the same stuff that we
had before here so we'll just tab this
over uncomment it so now we're printing
the connection and then we're going to
start this thread basically so we're
going to use well we haven't imported it
have we so we're going to come back
we're going to come up to the top and
we're going to go from underscore ah
thread actually lowercase thread
import everything and then we'll come
all the way down here and now we'll
import or we're going to do start new
threads so start underscore new
underscore thread and then we're going
to start a thread with the threaded
client okay
so we'll copy that paste and then even
though there's only one parameter here
by just absolutely fault it must be a
tuple so that's just the way it is don't
ask questions
and it's gonna be con comma nothing okay
you just don't put anything there it
requires a tuple so we make a tuple just
you just have to please the Python gods
here um and that's it okay so now we're
doing is each time someone makes a
connection it's going to pass them
through threaded client it's going to
give them their own thread entirely it's
fancy stuff now um we'll go ahead and
run this and just see if we had any
errors so save and run see it popping up
yet well you know yeah okay so I think
that we've started um we probably should
put something here like I don't know
print waiting for a connect or something
I don't know just something so we know
that we're at a point where we want to
be but we'll leave it up for now and now
I'm going to bring over lovely raspberry
pi and raspberry pi is going to connect
for us now I've already forgotten what
port we're on I think it's five five
five five right yes okay so raspberry pi
is going to use telnet again if you
don't have telnet on Linux you would
need to do you know sudo apt-get install
tell me yay but I already have it so I
don't need to do that so we're going to
do tell that and then now you need to
use your your IP now I'm going to be
using my local IP so 192 168 two and was
eight from to a interesting anyway um oh
that makes sense I suppose because we're
an SSH so anyway I'm port five five five
five
Oh hit enter and we are connected here
is our server that's running at the
moment and it indeed says hey you've
been you're connected to 192 168 216 so
we have a valid connection currently and
now we could say something like I don't
know hello enter and then we see that
the server received our hello it was
able to decode our hello or fancy-dancy
hello and add server output hello right
back to us so that's cool okay so
obviously this is very basic on this
output that we're receiving is it's just
saying it's just sort of output plus
whatever we sent in but you can imagine
a thing you might be doing something
with this data you could also be sending
instructions the thread you know client
you know decodes your instructions it
does the things it needs to do and it
sends back some information and the
server says yeah you did a good job here
some more instructions and so on so
that's generally what we're going to be
using this sort of thing for but here
you go you've got a good server and
client communication happening right
before your eyes so anyways I think that
covers the basics of sockets pretty darn
well so that's going to be the final
video in these at least basics to
sockets we might come back and really
reheat sockets just as we've kind of
rehashed over threading shown some more
examples and all that if anybody has any
specific aspect of sockets that they'd
really like to see feel free to make a
suggestion and chances are I'll make a
video on it
if anybody has any questions or comments
on this topic please feel free to leave
them below as always thanks for watching
thanks for all the support and
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>