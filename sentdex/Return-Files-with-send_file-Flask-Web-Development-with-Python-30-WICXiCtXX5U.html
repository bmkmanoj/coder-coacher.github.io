<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Return Files with send_file  - Flask Web Development with Python 30 | Coder Coacher - Coaching Coders</title><meta content="Return Files with send_file  - Flask Web Development with Python 30 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Return Files with send_file  - Flask Web Development with Python 30</b></h2><h5 class="post__date">2015-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WICXiCtXX5U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
another flash tutorial video in this
video what we're going to be talking
about is how you can return files with
flask so that's pretty simple so won't
take us very long to get through this
one so let's open up in its up pie and
first of all in the imports here from
flask go ahead and import send file as
well now well come on down to this will
be a good spot copy this paste and we're
gonna have a couple of functions here
the first one is gonna be the page that
the user might visit like file downloads
downloads and this is gonna return
render template template and we'll just
have this be downloads HTML and then
we'll have another function that will be
return files or return file that's fine
and then return file and instead of
returning a template this returns a send
file now we'll just leave that empty for
now and first let's go ahead and and get
this downloads at HTML done so let's go
over here and as usual let's just
duplicate the 404 and we'll call it
downloads HTML open that up and let's
start cleaning this get rid of all that
and then basically div div here that's
good enough ok so then within this file
we're gonna add a little download button
so it'll be we'll have it actually link
here to slash return file and we'll make
the target of blank tab
and then in here button class equals and
this will be a BTN ET n - default button
/ button
Patong and between that we'll just have
it say download okay so that's a good
enough downloads we'll go ahead and save
that and good enough and now let's just
pass a file in here so going back over
here into static let's get some files so
this is just a little image of Python so
Python at jpg feel free to use whatever
image you have at your disposal and then
let's just give the full path to that
image so that would just you can double
click here and grab at least the
starting path so send file and so you
can send to that and then it was just
Python dot jpg now you can get away with
just doing that and optionally you can
have basically like a file name so you
can say you know attachment attachment
file name equals Python jpg something
like that is fine so we can save that
and let's close out of here and let's
reload there and we'll bring over the
website and what was that download files
I think download files maybe no that's
not contain what was the name of our
hard thing file downloads alright
file - down
all right so here we are and then we
have a download button opens a new tab
and sure enough what's returned is just
the image for us so we can move that
aside and just for another example I've
got a real short PDF here
oh hey dot PDF and the return file here
will be we can just call this oh hey WTF
come over here change this
- oh hey dot PDF save looks like Oh put
it in and ten let's try again there we
go and let's come over back to our
website let's refresh and click on that
yeah we're still returning that let's
see we might be cached here yeah sure
enough we were cast if you're cached
shift f5 if you're in Chrome anyway
here's our awesome PDF and important
most importantly it acts as a PDF and if
you were to go to you know save it and
why not it would be saved as a PDF okay
so anyway that's pretty simple the send
file is pretty robust you don't really
need to do too much else when you're
doing like working with it so that's
pretty nice
now the next tutorial that we're going
to be talking about is what happens if
you want to like protect a file so maybe
only certain users can access that file
so with python programming that net for
example I let the users just download
the tutorial videos but you know you
could make it so easily so the user
can't access the page to get to the
download button but the download would
almost certainly have to reside within
the static directory so statuaries
public to everybody so that's no good
alright so on the next tutorial be
talking about how you can make a
protected directory that is not
accessible to the public and is only
accessible to people or in scenarios
that you specifically specifies so
that's what we'll be talking about the
next tutorial if you have questions
comments on this tutorial feel free to
leave them below other
as always seems for watching thanks for
all the support and subscriptions until
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>