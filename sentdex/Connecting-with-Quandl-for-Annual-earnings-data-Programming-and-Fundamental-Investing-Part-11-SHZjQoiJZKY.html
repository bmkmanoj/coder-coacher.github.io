<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Connecting with Quandl for Annual earnings data - Programming and Fundamental Investing Part 11 | Coder Coacher - Coaching Coders</title><meta content="Connecting with Quandl for Annual earnings data - Programming and Fundamental Investing Part 11 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Connecting with Quandl for Annual earnings data - Programming and Fundamental Investing Part 11</b></h2><h5 class="post__date">2013-10-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SHZjQoiJZKY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to the
eleventh fundamental investing with
programming tutorial in the last video
we were talking about how to get
historical earnings data with wayback
machine now you can also get historical
earnings data from places like the SCC
gov website though I wouldn't really
suggest that you parse the SCC Cove
website but one of our viewers pointed
out this website called Wandel com which
offers free financial data and actually
a whole bunch of other data as well like
crime stats all kinds of stuff mmm it's
pretty epic website because not only is
it does it have a pretty good supply of
Finance data it doesn't necessarily if
you really wanted the quarterly data you
would still I don't think they have
quarterly data on this website but
they've got a very solid supply of
annual earnings data and it's totally
free and it's very accessible for
programming so the veldt they've gotten
API links and then they've also got
modules for Python and a whole bunch of
other programming languages as well for
our uses here since we're only really
interested in like a specific company
we're just going to use their API link
but just keep in mind that they do have
like modules and all this and so you
could build like a whole web app based
off of them pretty much so it's pretty
cool it's got some pretty high-powered
stuff on this website so it's definitely
a good asset to have let me bring over
the website now so quando com
and so this was like the home page so
for example with Apple you could type in
Apple and there's a whole bunch of stuff
on here and so one of the things that
we'll be interested in isn't that income
so you can click on that income and
they've got it here they've got the
numbers here and that not only is this
really easy to parse but they actually
have download links so you could click
this and download yourself by hand or
you could show the API call and so here
is the API call here you can copy and
paste this into your browser and it
would download or if you put it into
Python you can get the raw output
straight from Python now if you click
their API is scroll down I think to the
bottom yet anonymous API calls are
limited to 50 requests a day now what
we're gonna be doing is per company at
least through this tutorial I'm gonna
show you guys per company three requests
that we're gonna make so relatively
quickly especially as you're building
the program and testing it you're gonna
run into that 50 requests per day
possibly so I highly suggest that you do
the next best thing and that is to sign
up for a quantal account absolutely free
and immediately they give you an an auth
token that you use and you just append
that to the end of your URL and now you
actually get 500 API calls per day at
that point you're all set you're not
going to need any more than that at
least for what we're going to be doing
obviously if you build a web app and it
becomes a fairly popular web app then
you might exceed 500 a day but you can
just contact them they say no request is
refused they just want to know who's
actually using it so they set the out
set same they seem like very friendly
people so definitely a good a good thing
to use and I'll show you as well how to
append your auth token I don't really
want to show you my off dokkan but at
least show you an example of how to
append the auth token to the end of your
URL so you get 500 API calls a day
that's pretty epic now when we're all
done here what what this website is
going to be able to do for us now is we
can do everything via this program that
we're making so even though we're
starting with a blank slate here to
continue here to at least show you guys
our function that we're gonna build
specifically for cuándo when we're all
done here by the end of this series now
we'll be able to not only use what we've
already built with Yahoo cuz will give
us Yahoo to go through the bulk of
companies right because we won't even be
able to go through the Russell 3000
without hitting that 500 limit but
Yahoo's find a parser for that reason
and so what we'll do is we'll use the
Yahoo stuff that we've already built to
find eligible companies once an eligible
company is found we'll pop over to Kwan
dole and run this program that we're
about to do now and then when we're done
with that
well actually display it using
matplotlib
within Python we'll have our own friggin
investing app on our computer so it'll
be pretty awesome once we're done and
we'll be using that Python charting
stocks tutorial series that I made so if
you haven't seen that you might want to
check it out but otherwise we'll kind of
hit it a little bit towards the end when
we start plugging everything in so
that's pretty exciting I'm pretty
excited for this I'm so happy to have
found this website epic website so
anyway let's get started with cuándo
and let me show you guys some of the raw
text that we'll get through Python so
what we're gonna do is and if you need
an example of the link well I showed you
guys how to get the example but if you
don't if you want to get something other
than what I'm gonna show you guys here
then you can just go to their website I
mean they have all they've got pretty
much all of the stats that you could
want is a fundamental investor on their
site so if you want something else just
go there and kind of work it in you'll
see that it most of the URL is fairly
structured so shouldn't have any issue
so let's go ahead and get started the
first thing that we're going to need to
do is import the stuff that we're going
to need all we're going to really need
is import URL Lib - and now we're going
to define our function for grabbing
quantal data so define and we're gonna
call it grab Blondel and the only
parameter we're really gonna have is
ticker
now here's where we would define some of
our variables if you have an auth token
you might want to define that but really
what we're gonna do is to find the end
link and what this is going to be is the
last bit - the link and so here is where
your auth token might go but also we're
going to define the sort order so if you
have an auth token and you want to
include it in your your request all you
need to do is put the + symbol so that
is how you denote a variable in a URL so
use the + symbol so shift 7 and the
variable name is auth underscore token
equals and then you you know whatever
the your actual auth token is usually
it's just like a jumble
a bunch of text and numbers so like this
or something it wouldn't have this here
but probably look you know something
like this and so now every time you use
you put this at the end of one of your
requests it includes your auth token it
tells cuándo who you are and that'll
allow you to have over 50 requests now
for the purposes of this video I'm not
going to include my auth token because I
don't want anybody to use my ok so I'm
just gonna leave it out but I do highly
suggest you you go ahead and get one
because it's pretty easy to run into
your 50 requests especially while you're
developing so we'll call that end link
now we're going to need to try and
except try except exception II print
fail the main Kwan and string now within
our try loop we'll put in let's say it
let's do net income as an example and
what I'm gonna do is I'll put the these
three variables we're a new net income
revenue and return on capital I'll put
all three of these with the variables
and everything in the description that
way you don't have to type it out with
me but I'm also going to explain what's
going on so so this first one will be
this so it's going to be URL Lib - dot
URL open and then the beginning of the
URL is this for net income so and then
what we're doing here is whatever the
ticker symbol is would go here so if you
look at at the link itself like if when
we go to here when you hit the download
link if you if you want something else
like some custom data you would hit
download here and then click well now
it's open for me but there isn't show
API call link here you would click that
and then you can just copy this and
paste it out and see you know usually
the only thing a lot to change is the
ticker symbol but if you want to pull
prices keep in mind that
like Apple is listed on the Nasdaq right
so if you want to pull Apple data it's
gonna say Nasdaq but then if you want to
pull like I don't know coca-cola data or
something else something that's not on
the Nasdaq then you would need to use
the difference so like that would need
to change which is I'm just going to use
Yahoo because we don't have to worry
about that kind of stuff so it just
makes it easier but if you if you did
want to pull from cuándo then you
probably just want to use their their
module and that way you can just put the
ticker and you know don't worry about
the link like the specific link so many
ways this is where we are net income
equals that and some what we can do now
to test where we are print net income
and income learn to spell here and now
let's call grab wand all and put the
ticker in here we'll say Yahoo save and
we'll run that pull this over so now you
can see that we've got the yearly data
here from Yahoo
so obviously the date and then the
income net income now I assure you guys
Yahoo did not only earn a thousand
dollars last year it's in data is in the
milk or yeah it's in millions of dollars
so 291 million and then obviously a
billion so keep that in mind so that's
net income the other ones that we're
going to use are gonna be just make some
space and we're gonna do revenue and
return on capital so I'm just going to
paste those in here so again you can see
that the beginning link is pretty much
identical here right then you've got
ticker and then you've got the specific
thing that you're looking for so the
really only difference between all of
these links so far has been the ending
ending bit and then also I you know
ticker if if we're doing different
stocks so you have to throw that
in there and then in link obviously
remains the same so now what we could do
is say print net income and you can even
do something like well actually let's do
I think we'll just separate it now cuz
it eventually what we're actually gonna
do with this is graph this stuff so
revenue and then three artists save that
run that and so here is you know date
net income all this then you've got date
revenues all this and then return on
capital all this so here's a good
example like this data goes back to 2001
they say goes back to over three this
data goes back to 2000 now generally for
like a lease on this this series and so
for mostly concerned with fundamental
investing int since we have to pick
something to focus on value investing so
really all we care about is like the
last five years maybe 10 but not really
so this really definitely car at least
up to 10 years like the or the least old
data that we're getting is from 2003 so
we're still good at the 10 years so
great data that we're getting from here
and just super easy super quick very
lightweight stuff here so pretty awesome
it's already in date format so it's
gonna be really easy for us to graph
this stuff so definitely awesome so
anyways that's just the beginning of
what I have planned now that we've got
Kuan de lijn here we're gonna start
adding this to previously worked on
stuff and eventually we're gonna have a
pretty cool investing program on our
computer so if all you wanted was just
to print out the historical data there
you go and thanks to well I can't say
the guys username I don't know how to
pronounce that but I'll show it up on
screen thanks for pointing us in the
direction of quando definitely a great
website so thanks a lot and for everyone
else as always thank you for watching
thanks for all your support your
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>