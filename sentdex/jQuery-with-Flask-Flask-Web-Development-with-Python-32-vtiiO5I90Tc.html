<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>jQuery with Flask - Flask Web Development with Python 32 | Coder Coacher - Coaching Coders</title><meta content="jQuery with Flask - Flask Web Development with Python 32 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>jQuery with Flask - Flask Web Development with Python 32</b></h2><h5 class="post__date">2015-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vtiiO5I90Tc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
another flask web development tutorial
video in this video what we're going to
be talking about is the marriage between
flask and jQuery so the idea of jQuery
is to be able to have asynchronous
operations happening without forcing a
reload of the entire page so what this
allows us to do is like only update
certain elements on the page based on
maybe user input or even a user action
that took place and what this kind of
gives us is two major benefits one is
better loading times so obviously it's
better to reload or load a specific
portion of a web page rather than having
to reload the entire web page also these
operations can happen in the background
and not actually force the user to do
nothing so if you're on a page and maybe
certain assets are waiting to load but
other ones are ready to go you might as
well show the page what's ready to go
and then whatever it's loading you can
even display like a loading bar or you
know something like that but at least
it's better than just a white screen and
a little loading icon for the tab right
so it makes your web pages a little more
interactive or a lot more interactive
depending on how how you're using it and
then also either a little faster or a
lot faster again depending on how you
use it so let's go ahead and get started
with just a nice simple example so let's
open up init PI here and what we're
going to do is we're going to be using
JSON Fi this is something that comes
with flask in the JSON file and a value
basically and when you JSON fi a bunch
of variables and values it just converts
it to a nice JSON format which is
JavaScript object notation and it's a
lot like a dictionary and we treat it a
lot like a dictionary so anyways we're
going to import JSON fi here again
that's coming from flask all the stuff
is coming from flask so now just find a
good spot to make a new page I'm going
to search for ginger man here and I'm
going to also just copy that make some
space here paste and we're going to call
this page interactive we're also going
to call the function interactive
and we're going to delete this stuff and
that and we're going to make this
interactive HTML okay so now let's go
over to our templates and we need to
make interactive HTML so new file and
enter interactive HTML so once we have
that basically we are going to pull 404
and just grab at least this part and
this part great and then within these
body tags we're going to just have some
div tags and we're going to have it this
will be a fairly simple page basically
what this page is going to do is within
the div we're just going to have it ask
ask the user a question and the question
is going to be which is the best
programming language of them all and to
which the user must answer we're going
to give them a nice input form the type
will be 'text the size will be 5 the
name will be prog lang so this is the
name of the variable and the value will
be whatever the user actually puts into
this text input subsequently we need
some way for that user's Smit the data
so we'll have a button class equal BTN
BTN default so that's that bootstrap
default button there and we'll do button
and in here we'll just say submit ok and
then finally to make this button
actually do something we'll just say H
rev pound sign just a stereotypical
stereotypical that's the right word but
the typical method to make a button
clickable yet not actually go anywhere
is to use the pound sign so we do that
and then also we're going to do is we're
going to give an ID equals a process
input what that's going to do is it
gives this button an ID of process input
and that's
it allow us to tie that button ID to a
JavaScript function which will do some
cool stuff for us and here in a moment
so after all that we're going to come
down here P and P and actually before we
go there let's make well I think we'll
make that function now one thing to note
is let's save that and let's go over
here and reload and let me pull up this
page for us this we're going to head to
the interactive page and here's what
they're looking at basically it's you
know what is the best programming
language of them all they might stupid
me they put Java and you'll notice that
if you if you hit the I'm hitting the
enter key you can't see me but you'll
take my word for it the Enter key is not
doing anything but if I hit submit sure
enough it works the way that we can make
the inner of the Enter key actually work
here in this case would be to encase
this in a form so form and we'll just
tab this over and that'll be enough to
actually make the Enter key do something
so let's go back to this page and it
said it's a Java hit enter you'll see
it's actually assigning that that value
and stuff so it actually does perform an
action for us now we're not actually
looking to do anything with this page
and assign this value to this page but
you can see that it worked with the
Enter key so just keep that in mind so
now what we need to do is we want to
make this actual the function here that
runs now as usual this tutorial is
posted on Python programming net so for
the func for the JavaScript function
that we're about to write just head
there and grab the function it's not
really a JavaScript tutorial but also
that it would just take a long time for
me to write but I will at least explain
to you the JavaScript function that
we're running so you can head there grab
it and just basically copy and paste it
in like that
so what's happening here is a within the
head tag we have this this script
actually we've got two scripts the first
script is jQuery coming from Google API
you can kind of do one of two things
here or actually a few but you can
either host a jQuery the script like you
can host this little script just like
we're hosting bootstrap scripts you can
host it locally if you want but
sometimes it can be a lot better to use
something like Google because Google is
like a CDN which a content delivery
network so Google has multiple servers
around the world so this is a bunch of
script it's a bunch of code that has to
be returned to that user so they can
load it so if you're if you're using the
source of the script to be Google
chances are they're server for the
majority aces are Google is going to
have a server closer to the majority of
your users than you do unless you have a
content delivery network so that's why
people will host remotely just yeah so
anyways that's what we're doing for
jQuery next we have our own little local
script here and this script is bound by
here right so this is our process input
so that's this right here so the based
on the click here when the user submits
based on this ID we're going to pop up
here and what are we doing well we're
binding based on a click or the Enter
key because we put it into a form based
on a click a function what's it going to
do
well it's going to get the JSON return
basically from this URL from our website
that URL does not exist we have to
create it when it visits that URL what
we want to do is we want to say Prague
Lang is the input that the user did
whatever that was programming language
so we're saying prague lang this is json
saying hey the value for the variable
prague lang is going to be equal to the
dot val so the value of whatever the
user put in to prague lang which was
down here write this input ok prague
line it submits that to here right and
the return is what we're calling a
result the return is the text value of
data dot result again we're returning a
JSON from this URL so data dot result
data is the whole JSON dot result is you
can think of this just like a dictionary
result is the key so the value is this
right so in theory you could also
envision it like this like it's a
dictionary also dictionaries do support
the dots so now what we need to do is
first of all results this is what like
basically result is going to be the ID
right if you haven't noticed yet so this
is your your ID of process input this is
your ID result so what we could do is in
these paragraph tags we could say ID
equals and we can say the idea of this
paragraph tag is results so now whatever
the result is will be populated between
these paragraph tags so you could put
something first like you could put dot
dot right to start so when nothing is
there dot dot dot will be shown but then
whenever there's a new value for result
it will replace the dot dot but for now
we'll just leave it empty so we have
everything we need now except for this
background process so let's go ahead and
add that background process let me just
close these hopefully none was open back
here in it and let's go ahead and search
for that ginger man again ginger man
again don't forget to make sure you've
imported about JSON fi ginger man
heading there and in fact let me show
you one thing before we move on so
whenever you're working with JavaScript
JavaScript and especially like what
we're doing here is again it's
asynchronous so it is going to
experience graceful degradation so what
that means is again with by default with
Python and flask and what we've been
doing so far if any bit along the way
you think of it like a chain right if
any a little bit along the way breaks
bowl thing falls apart right everything
is worthless but with graceful
degradation doing things asynchronously
it's think of it more like a rope if a
certain if one fiber of that rope breaks
the ropes weaker but
the rope still will do some work for you
so keep that in mind so when we go over
here and we load up our interactive page
let's do a hard refresh here and the
user goes to type something like let's
say they say Java they hit Enter
nothing's happening ok we'll click
Submit nothing's still happening well on
Chrome you can open up the dev tools
with f12 and you can see who we've got
eight errors all eight errors are
probably us hit enter a bunch times but
we can see here right away failed to
load this resource I don't think I can
zoom I can zoom in and look at that it
failed to load I can zoom it in but it's
like a huge mess this URL so it's
failing on the background process we can
even click that and we can see oh that
page is corresponding with a 404 of
course that's because it doesn't exist
but if you had an error on this page you
click this page and you'd find oh it's
maybe a 500 error that we're getting so
keep in mind that if things aren't
working right go ahead and go to the dev
tools and basically you're looking for
this like this little error right and
then you click on that and you'll find
the errors but because it's asynchronous
it's everything else is going to be just
fine so sometimes that can kind of mask
problems and if you're using Java Script
a lot and especially like jQuery and
stuff you're going to want to go ahead
and see just press f12 from time to time
and see all the stuff that's broken on
your website if you go to a lot of major
websites too you'll see how much
JavaScript is broken a lot it just that
just happens so these things just break
so anyway we need to make that page now
so what did I do with the inert is
bring this down and here's our
interactive page now we need to make
that other page so let's just take this
copy-paste and this page is a background
underscore process now generally when
people make processes that or even
functions that are used only by other
functions they use an underscore to lead
that function it's just like a notation
that hey this is not something for
everyone else so you can do that if
you'd like I'm not really going to worry
about that for now but just keep that in
mind so now we make this background
process and we'll call this background
process and what background process
wants to do is it's going to try to get
the language so the language was
remember that prog line so to get that
we just do request args get and we're
looking for that variable that
corresponds to prog line okay and then
what we're going to say is if Lang dot
Excellus let's make a string if string
likes what if they put like a five or
something we're treating like an enter
if something could go wrong there if
string Lang dot lower to kind of
normalize it so just in case they put a
capital J for Java or lower his J or
capital P for Python or whatever if
string dot lower is equal to Python
we're going to return to the user we're
going to return JSON Phi and then in
here you just put keys and values okay
so you'd say results equals because
remember we're looking for that result
value result equals you you are wise
else we return JSON fi JSON piffy
results equals a try again right so
anything else they type in were you
saying try again so we'll save that and
don't confuse result here with the ID of
results that we're returning okay so
that result is really the result here
corresponds to the result here not the
result here and not the result here the
result here corresponds to this result
where we're actually just assigning the
value of this data dot result okay so
that should be everything we need so
let's go ahead and pop back over here
let's save close that save that move
this over this over let's reload Apache
and let's go ahead and let's go just
refresh and I'm going to do a hard
refresh here shift f5 and Krum just to
make sure and let's type in Java hit
enter and it says try again okay so then
we could do like python hit enter and it
says you are wise and you should notice
that the page never reloaded it just
simply loaded this tiny element right in
here right and we can f12 and see that
sure enough nothing nothing went wrong
we didn't have any errors or anything
like that so cool so anyways obviously a
really basic example but you can start
to see how you could make a lot of
elements updated basic based on using
jQuery in calling background tasks to
run returns and data and return the page
values and stuff like that so anyways if
you have any questions or comments on
using flask and jQuery feel free to
leave them below in the next tutorial or
me talking about is pi gal which is an
SVG graphing library that you can very
very easily embed into your flask
applications it makes for pretty
nice-looking graphs they are slightly
interactive
basically you can hover over them and
get values and stuff they're good
looking highly customizable and super
simple which is a really rare
combination and they have a ton of
different types of graphs like lines and
bars and pie graphs and maps and all
kinds of stuff so anyways that's what
we're we talking about the next tutorial
so stay tuned for that otherwise thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>