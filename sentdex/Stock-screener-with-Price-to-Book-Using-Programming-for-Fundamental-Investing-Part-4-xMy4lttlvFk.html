<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Stock screener with Price to Book - Using Programming for Fundamental Investing Part 4 | Coder Coacher - Coaching Coders</title><meta content="Stock screener with Price to Book - Using Programming for Fundamental Investing Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Stock screener with Price to Book - Using Programming for Fundamental Investing Part 4</b></h2><h5 class="post__date">2013-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xMy4lttlvFk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello and welcome to the fourth
fundamental investing with use of
programming tutorial series where we
left off we made this basic function
that looks for whatever stock you put in
there and will return to you the price
to book ratio from Yahoo so what we want
to do now is you know kind of the whole
point of this was to cut down work for
you know the investor and so so far with
doing this we could have just put that
into the URL and read it ourselves so
how do we actually speed this up and
then let's make it a little more
intuitive and actually make it a
screening program and only give us
price-to-book ratio as on stocks that
are under a specific number so the first
thing we want to do is let's make it run
through a list now again I've made these
two lists this is this list is the
entire S&amp;amp;P 500 just continues going off
the screen and then this other list is
just a short version it's like the first
10 15 stocks in the S&amp;amp;P 500 so we're
going to use that one for now but you
could use the sp500 I'll put the entire
S&amp;amp;P 500 array on the website sent Dexcom
you can find all the tutorials on there
just by going syntex con then about and
then there's like tutorials in there so
I'll try to put this whole array in
there if I forget to do it just remind
me and I'll do it and then I'll try to
put the short one just in the
description of the YouTube video this
one is just a bit too big to put in the
description so anyway what we're going
to run through this list is use a for
loop and basically a for loop is used to
run through any bit of list and usually
I just put it into a function so that's
what it's useful for so what we're going
to do is for Emma we're going to say for
each stock again if you don't know much
about for loops I do have a dedicated
tutorial on them as well so anyway here
we're just defining a variable for each
stock in SP 500 short also with that
saying is for every little entity in
this list do something with it and we're
just calling it each stock at the moment
what do we want to do well we want to
run Yahoo key stats and the variable
here is going to be each stock so we
want to perform Yahoo key stats and then
what
the stock variable that we want to stick
in there what we want to stick each
stock into that variable so now we'll
say that and let's run that and you
should see it starts printing out
price-to-book ratio so obviously it's
not telling us the stock name we could
go back and fix that real quick and we
didn't have a timer there I was in the
state x sleet we'll just put a 1 second
timer there and price-to-book ratio
we'll just throw stock there now we'll
run it bring it over it's on I said you
know for a three point two eight four
eight a six six and so on it'd be almost
20 or anybody doesn't know Abby's a
pharmaceutical company um a CI is pretty
cheap coal mining company anyway you get
the idea so now this will just you know
you can run through the entire S&amp;amp;P 500
and get all these statistics here
obviously the only ones that we'd really
as a value investor since that's what
we're first looking at what our stocks
that might piqued our interest just off
of the price to book ratio well a a at
point six six a CI at point three eight
and that's it so how do we how we just
instead of like all this stuff like this
is noise we really don't care about Abdi
don't care about Adobe we don't care
about a CT ECM we don't really care
about A's and so on so how do we get
around that and to do that we're just
going to edit this just slightly and
we'll come down right before printing
out this price-to-book ratio and what
we're going to say is if what we want to
do is say if PBR is less than 0.7 we'll
say then what do we want to do we want
to print out this so tab that over so it
falls underneath this if but we can't do
that straight up because PBR is being
read into this program as a string
because it's just reading this stuff off
of here so it doesn't know to consider
that as a like a number right so first
we have to convert that to a number
and in Python there's two versions of a
number one is an integer the other one
is a float integer means it's a like
kind of like a whole number basically
and a float comes out to a decimal so we
need to use float because most of these
numbers are in decimal form
so if float PBR is less than 0.7 then we
care about it print it out and make this
a basic screening program so save that
run that and we'll drag this over as
it's running through all this found one
for a a 0.66
awesome and we're still waiting on one
more arch coalesce who were waiting on
at the moment and there's your arch coal
obviously the one ceasd little arrows
pop out again that means it's finished
so it should be done pretty quick here
since we only had like at one second
time yep there it goes okay so we went
through you know this list here the
short list of stocks to find any stock
with a less than 0.7 price-to-book ratio
made a program to do that and spit out
to us the stocks that we might be
interested in obviously that's a very
very crude a starting point you wouldn't
want to invest purely off of all these
stocks but just to give you an idea you
know arch coal here if they were to sell
you know all their tangible assets their
business is clearly undervalued just off
of their tangible assets now there might
be something fundamentally wrong with
the business and like I said your
debtors are going to be paid first so
really that only leaves 0.38 of their
tangible assets that could even be paid
out to investors so you would still lose
money it's not a surefire investment
strategy but it's a good place to start
so anyway that's your starting point
we're going to be getting much more into
depth and in the future videos so if
that sounds exciting to you then stay
tuned for those as always thanks for
watching thank you for your support your
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>