<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Matplotlib Tutorial 25 - customizing Matplotlib Legends | Coder Coacher - Coaching Coders</title><meta content="Matplotlib Tutorial 25 - customizing Matplotlib Legends - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Matplotlib Tutorial 25 - customizing Matplotlib Legends</b></h2><h5 class="post__date">2015-07-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XBksHCvObhQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
part 25 of our matplotlib tutorial
series in this part what we're gonna be
talking about is customizing and really
adding legends to the current graph that
we have so we actually covered legends
long ago like 20 tutorials ago or
something but we quickly saw how legends
could actually kind of get in the way of
our data and so this suit or is gonna be
a little bit more about like yeah adding
a legend but also customizing that
legend to hopefully make sure it's out
of the way so with that let's just go
ahead and hop right in so first of all
we want to add legends and let me bring
that up one more time really the only
thing that doesn't necessarily require a
legend is the stock prices themselves
one it would be really hard to add a
legend for that but also if someone is
looking at an open high low close chart
it's fairly obvious to them I think what
this is like people either you know what
this chart is or you don't but we're not
gonna really worry too much about adding
a label to that but you could I suppose
kind of add one but like I said be kind
of hard you'd want to add like something
that has like slashes to it or something
and we can talk about that how do I
might get away with doing something like
that but for now we'll leave that alone
so anyway we're gonna close this and
let's go ahead and start it so coming
down to basically right before PLT dot
show let's let's invoke some legends so
there's a couple of things that you
could do here you don't net you could
invoke the legend right away but I'm
gonna try to keep this code all together
just for the purpose of the tutorial but
you might want to organize it kind of
like like I've been trying to get you
guys the habit of is organize things
together you know ax two stays together
or X to V stays together next Tuesday's
together it's one stays together and so
on and ax three together so you might
want to do that but again for the
purpose of this tutorial I'm gonna keep
everything together otherwise we're
gonna spend a lot of time like zooming
around in our code so I'm gonna put it
all down here but you can organize it if
you want or be bad if you want
so anyway we'll say a X 1 dot legend ez
ax to V dot legend ez a X 3 dot legend
easy now we don't have any data for any
of these so we have to add in add in the
actual data that will kind of comprise
of our legends so to start we're gonna
come all the way up to X 1 and this is
where we're plotting that high minus low
so now we just need to add a label to it
we're gonna say label equals and we'll
just call this H - L - there's really no
reason this one doesn't necessarily even
need a label but we'll add one anyways
then what we're gonna do is we'll leave
price alone I think so the candlestick
gal we're just not gonna mess with that
but then now let's go to ax to V that
would be here and like I was saying
before whenever you have polygon data
basically if you have any data where
there's a fill you can't add a label to
it for whatever reason so what we need
to do is make some fake data so let's do
that real quick so let's say ax to V dot
plot and we'll plot empty set empty set
and then we give it a this one needs the
same color so we're gonna say color here
equals and we give it the color of that
zero zero seven nine a three and then it
also needs to retain that alpha so we'll
say alpha equals zero point four and
then finally we need to give it the
label of volume so people will know like
what is that blue stuff down there
anyways right and then finally we come
down here this is where we're plotting
the moving averages
so we'll do comma comma and then here
we'll say the label here to make it kind
of dynamic will say label is the string
value of M a1 plus the string of MA okay
so that's gonna so if you recall M a1 is
defined way at the top of our script
here 10
the m82 is 30 go back down so let's just
copy and paste this copy paste and this
time it's ma 2 for ma 2 and so now we've
got labels with everything so let's go
ahead and save and run that and see what
we're what we're working with we've got
an on keyword argument after let's see
so I really should oh right got it okay
try again all right so we have our
legends now cool but we can clearly see
that wow these are in the way so so what
do we do about this so let's close out
of this and close our this and now what
we're gonna do is we're gonna add some
alpha to the legend itself and we can do
a few other things so we're we have a X
1 dot legend let's just come right below
it and what we're gonna do is we're just
a leg for legend so on the under case
lowercase sorry dot get underscore frame
and then we're gonna say actually let's
go back one more
let's do we first we need to define
legend so legend will equal a X 1 dot
legend and then we can specify a few
things in here we can first of all say
location equals 9 and then actually this
is LOC short for location look for
location equals 9 and then we can
specify a few things this one and number
a col we're just gonna copy and paste
this a bunch so I'm gonna say 2 but for
this you don't really need that but I'll
explain a number of columns here in a
minute and then properties will be equal
to let's make them a little smaller that
font is a little little large for what
we're actually looking for so let's make
the font 11 then we'll do comma we can
then do really wait that's probably all
we necessarily need and then finally
let's do ledge dot get
underscore frame dot set underscore
alpha and we'll set the Alpha to zero
point four so that'll affect the first
legend so let's go ahead and save and
run that and now you can see a few
things have changed okay so the first
first of all the legend is a little
smaller it's alpha so we can see through
the legend and then finally it's small
earth the location has changed it's up
here so the Alpha you should already
understand the location was changed by
that low key equals nine this is just
location number nine we can move that
around all we want
I like that location but I mean you can
kind of sit here and play with it all
day if you want you know you could do
location three okay and it's down here
like the lower left column or the lower
left corner rather so you can kind of
play with that I always I think location
nine usually works out best so that's
usually where I just go ahead and put it
now let's take this copy come down to ax
to V paste x3 paste and then instead of
a x1 that's X to V and then instead of a
x1 here it's a x3 now save and run that
and now we're all fixed up so the last
thing that I want to talk about with
legends was that number of columns so
that really kind of holds true here is
the only place we really see why this
matters but we're saying this has two
columns so it's gonna put you know 10ma
next to 30ma but what if we had number
of columns was like one it will put them
on top of each other okay so you can
kind of specify how many columns you
want that legend to actually have for a
graph this size you probably need to
have as many columns as you have data
points but for maybe like that big chart
you know you could have a two by two no
problem em in a two by three or
something it really wouldn't make a huge
difference so the final thing that I
want us to go ahead and do is I want to
cover like saving saving the saving the
plot okay so this is our plot right now
and if I go to save the figure we can
save it
really wherever we want I wouldn't mind
saving it in the actual location but we
can save it to H or something it really
doesn't matter I'll save it as figure
one to this you know my age location so
users H and let me go ahead and head
there let's see see users H and now I'm
looking for figure one here it is this
is the graph okay so it doesn't it looks
a little different and then what were we
were intending okay so it's not a huge
difference but we don't have that kind
of background that we're expecting so
let's close this and the what we can do
to kind of circumvent this little issue
is we can go up to the very top of our
script here where we're defining figure
and what we'll do is we'll say the face
color is equal and this is the color
from from 538 that we're using so I'm
just gonna hard code that in there and
just know that's the color from 538 so f
0 f 0 F 0 so that adds that face color
and let's like look at it real quick
make sure that's correct yeah so then
what we can do is we can close this and
then one thing that we can do is we can
go to the very very bottom where we're
calling PLT show and basically after PLT
touch show we can go fig dot save fig
and we can save the figure as I don't
know Google dot PNG and then we can
specify the face color here and we can
always say faith color equals fig get
underscore face color empty parameters
and now we'll run this there's our graph
we'll close it it's been saved let me
navigate to our directory here man plot
lib bring this over so there is Google
image bring that up and there you go so
now it looks exactly how it's supposed
to look so okay
basically all I really wanted to show
with graphs typical graphs with
matplotlib now for as far as the series
is concerned
moving forward what I want us to do is
we're gonna plot
do base maps I'll cover the base map
stuff I've covered those as well but
that's that part of the series is old
and then 3d graphs cover those as well
that part of the series is old too so
anyway we'll be leaving this stock chart
behind from now or for now if you have
any questions comments or whatever
leading up to this point please feel
free to leave them below otherwise as
always thanks for watching thanks for
all the support subscriptions and into
the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>