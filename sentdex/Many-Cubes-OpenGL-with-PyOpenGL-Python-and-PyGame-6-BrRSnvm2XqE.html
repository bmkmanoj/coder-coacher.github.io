<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Many Cubes! - OpenGL with PyOpenGL Python and PyGame - 6 | Coder Coacher - Coaching Coders</title><meta content="Many Cubes! - OpenGL with PyOpenGL Python and PyGame - 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Many Cubes! - OpenGL with PyOpenGL Python and PyGame - 6</b></h2><h5 class="post__date">2014-11-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BrRSnvm2XqE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody what is going on welcome to
the sixth PI OpenGL with PI game
tutorial video in this video what we're
doing is making lots of cubes so the
idea is how can we have a lot of cubes
in space in space but in our space in
our 3d environment that for us to avoid
so to do that we're going to make a new
function and this function is going to
work based off of like this list of
vertices so we're happy with this like
this list of vertices creates a cube for
us how might we create another cube
that's the same size and shape as this
cube but maybe in a different different
area well what we would do is we could
we could add or subtract from these
numbers you can add or subtract the same
amount from the X across the board and
the same amount from the Y press the
board in the same amount from the Z
across the board now you've got another
cube so you know from from all of the
vertices in this cube by the way so
anyways let's make a function that does
that and then what we can do is we can
use that function to create lots of
cubes and then we can place them and
then fly through them and see what what
other problems arise and while this
won't this will work but it's going to
be really laggy and while that's a
problem right now I'll show you guys how
we can kind of do some finessing with
all of this and come up with a pretty
darn good product but anyway so first
we're going to make a new function and
it's going to be called define set
underscore vertices vertices like that
and the parameter that I think will pass
through here will be a parameter called
max distance and what max distance is
going to be is is how far do we want
this to go so let's say we wanted to
play the game and we want the camera to
travel a maximum distance of 300 okay
what we could do is we could predefined
all of this almost like you would have
predefined like a video game course
right for a racing game so the whole
course is already there like it's
predefined it's not generated and random
for you so let's see if we can if we can
get away with something
like that so we would say maybe X and
then what we're going to do is we're
going to come through and we're just
going to we're going to change all the
vertices and to do that all you have to
do is you just need to modify all the
x's Y's and Z's the same but you don't
have to modify like all X is the same
amount as you modify the Y's right so so
we'll make a random change for each of
those basically so we would say X
underscore value underscore change and
we'll say that equals a random dot R and
range negative 10 to 10
so that'll go negative 10 to one side
and then 10 to the other side somewhere
in between there so obviously if we move
the character the ship whatever you're
envisioning us as the main character
being if we move past the negative 10
mark we will be outside of the range of
cubes so like I was saying before one
method that programs were used to solve
this is just by creating a wall and if
you hit the wall you crash you die I
don't like that I want to do infinity so
we're gonna do it but we'll get to that
so anyway Y value change will be the
exact same thing right random dot R and
range negative 10 to 10 and then finally
Z value change this one will be a little
different but it'll be random dot R and
range and then basically this will be a
R and range of negative 1 times a max
distance and then and then we'll also
start them at negative 20 so so this is
a range from the max distance we'll say
we want to cover is 300 so this will be
negative 1 times 3 hundreds of negative
300 all the way to negative 20 that
means because as our camera moves we're
moving into depth right so we're doing
negatives so we'll start cubes at
negative 20 that's so we have like a
second to react you know so so those
would be the the value changes of the
vertices and now what we want to do is
we want to actually create the set of
vertices and then we'll return this set
so
down here and we'll just say new
underscore vertices and we'll say equals
an empty empty list there and then we'll
say for burped in vertices what do we
want to do and yeah I've just just come
to the realization that I forgot to
mention I have been misspelling vertices
a lot you can even see that I've done it
here I spelled it right here I don't
know just a mental problem with me so
anyway let's go to fix vertices and in
fact let's just highlight highlight
vertices spelled incorrectly if you've
been spelling it incorrectly if you're
smart and you haven't been smelling it
incorrectly good for you vertices and
then we're going to replace so to do
fine and replace you can do ctrl H and
that will bring up the spine and replace
law dialogue here and then we can find
or replace all horribly spelled vertices
with good spelled vertices replace all
and that should cover it we might find
ourselves with an error but I don't
think so that should do it
um new vertices overseas
okay so we should be good but if not
we'll cover that when we come to that so
for vert in vertices now we're going to
say new BIRT equals an empty set so
basically what we're doing is we're
gonna we're going to come up with this
new list of all of the vertices each
vertice contains so you've basically
you've got a cube right and this is cube
then you've got within your cube you've
got a vertex and within each vertex you
have a coordinate like x y and z so
that's what we're trying to do we're
pulling this apart so for each virtus
forage verts in vertices what do we want
to do so each vert in vertices is really
each vertex so that's this so that's
where we are at the moment so new vert
we're gonna say is empty for now and
then we're going to just say new
underscore X equals vert 0 so the first
element plus X underscore value
underscore chain
and now basically we do this copy that
paste paste and then X Y Z and then
instead of vert that's vert one verb too
and then X so this is y change and then
Z value change done now we'll go ahead
and do new underscore Burt dot append a
new underscore X then we'll go ahead and
copy this paste paste so now we're
appending the X the Y and the Z so this
created that that coordinate change now
we're appending the x the y and z
coordinates to nubert at our new vert
which is a whole vertex then from there
we go a new underscore vertices oh my
goodness a spoke in wrong dot append new
underscore verts so now we've got a
whole vertex definition there and then
we're done there and basically we're
doing that for each vertex we're
defining a new vertex definition then
when we're all done we can what we can
do is we can return new underscore
vertices like that and and that returns
a new vertices list or vertices tuple
for a new cube so now that we've done
that we're ready to go ahead and add
that to our actual script here so we'll
come down to main and what we can do is
we can keep the original one well we're
not going to really use it probably but
in main basically we got X move Y move
now let's go ahead and we're going to
predefined Max underscore distance will
say that's 304 now I don't recall if we
already I know I said 300 but I don't
think we defined it anywhere No so max
distance equals 300 and then we'll come
down and then we're going to say cube
underscore dipped and that's going to be
a cube dictionary so we'll say cube dick
it's empty for now but we've notified
Python that it isn't
dict and then we can do something like
this we can say 4x in range and then we
can say 75 so this will run 75 times and
we're going to do cube dit X so just be
like you know cube dict
1 is is equal to what and then we're
going to say set vertices and then max
distance so what this is going to do is
for each cube in this dictionary the
keys will be basically like 1 2 3
Bharatha all the way to 75 those will be
the keys and then the value will be a
new set of vertices for a cube so that
when we're done here will have a 75 long
dictionary of just random cubes
somewhere within a negative 10 and 10
for the x and y and somewhere within a
depth of negative 20 to negative 300 so
we'll have 75 cubes that we're going to
draw here so what this is going to do is
basically we've populated cube dicks but
now we actually need to take cube dict
and throw it out OpenGL and have it pop
out some cubes for us so now we'll come
down basically to where we're calling
cube and instead of cube we could do
something like this we could just say
for each underscore cube in cube
underscore dict what do we want to do we
want to do cube but we need cube to
accept another parameter which would be
something like this cube Dix and then
each underscore cube okay so we need to
modify the cube function to basically
handle um new vertices that it's not not
you know comfortable with basically so
let's go up to the cube function here
cuz right now cube um basically goes to
vertices vertex um try think I think we
could actually get away with doing this
versus
I think that would work but we've got
four surface and surfaces in theory
that's okay because the nodes would say
the same for vert a let's go ahead and
run this and just see what happens my
mind says that should work but we'll
find out I suppose
okay cool so it's looking like it's
working out yay okay so now we're moving
within this video we lost lost all our
cubes that work so well for such a short
time I think it's because the object
passed let's get rid of object pass
right yes oh and the other thing too for
X in red yeah we had a couple of things
here to fix so again well inside a while
not object passed let's go ahead and
just return this to being well true so I
was just going to run indefinitely
we'll go ahead and get rid of object
passed eventually we'll say well not
crashed or something like that but we'll
just cancel that for now and then we'll
go ahead and delete this code as well
and then finally we don't need X and
range anymore we'll just run main
eventually main will run in infinitely
until we crash let's refresh okay wait a
second I think we start at negative 50
or something okay so here we have some
cubes popping up we'll see how we do
we're navigating the cubes awesome it's
a pretty laggy and it's laggy because of
the amount of cubes that we've drawn but
as you can see we're at least you know
uh we're making progress towards the
goal that we want but yes it is quite
laggy now what could we do to remedy
this well right now we basically all of
the cubes are actually here even the
ones watch out for those cubes even
first of all the ones that we can't even
see yet are there and then the cubes
that are behind us are still behind us
if we had a way to rotate this camera
around we would see the cubes behind us
and so obviously that's that's not ideal
so so that's a little bit of a problem
for processing also we have 75 cubes but
right now we see basically eight cubes
on the screen and now like five cubes
six cubes
so that so so we're basically kind of
not necessarily rendering but kind of
like we've got like 75 cubes of memory
when really we need maybe 10 cubes at
most at any given time and now we've
obviously we've hit probably 300 and ran
out of space but yeah and anyone in any
one moment we really only need to be
processing you know somewhere between 5
and 10 cubes so what we can do next and
probably in another video but what we
can what we can do is first of all if
we've passed the cube we can just pop
that right out of the cube dictionary we
don't need it anymore
so we can pop them away and then also
what we can do is we can basically
dynamically create cubes that were right
about to be shown and then basically
always have like this rolling list of
about 10 to 15 cubes some are just about
to show up 10 to 15 cubes and that that
just cycles so now we just have 10 to 15
cubes because if I did for X or let's
say our max distance is 100 and then we
said X and range 20 will refresh this
and what we should find that it's much
less laggy and it is much less lagging
than before now I record in I think 7 or
10 frames per second so it will look
worse on the video than it does for you
but that was very smooth for me the
navigation for me was very smooth
everything was much smoother so we can
see that we can get away with 20 cubes
in memory and showing them but we can't
get away with 75 that's just too much
and depending on you know your computer
you might have even a much even lower
number or even maybe a higher number and
then I can get away with so obviously
something to keep in mind so anyways
that's going to conclude this this video
getting a little long here so anyway
that's obviously it's something we're
going to work on and especially having a
dynamic dictionary where we remove stuff
and we don't basically we don't preload
too much and we remove stuff that we've
passed and that will help processing a
lot so anyway that's what you guys have
to look forward to if you guys have any
questions or comments on this video
please feel free to leave them below
otherwise as always thanks for watching
thanks for all the support and
subscriptions
stay tuned to the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>