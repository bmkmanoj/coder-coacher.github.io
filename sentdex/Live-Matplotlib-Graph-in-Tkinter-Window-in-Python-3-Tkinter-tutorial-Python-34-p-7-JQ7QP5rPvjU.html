<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Live Matplotlib Graph in Tkinter Window in Python 3 - Tkinter tutorial Python 3.4 p. 7 | Coder Coacher - Coaching Coders</title><meta content="Live Matplotlib Graph in Tkinter Window in Python 3 - Tkinter tutorial Python 3.4 p. 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Live Matplotlib Graph in Tkinter Window in Python 3 - Tkinter tutorial Python 3.4 p. 7</b></h2><h5 class="post__date">2014-11-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JQ7QP5rPvjU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody what is going on welcome to
another Python tutorial video with
tkinter in this video what we're me
doing is including not only we have we
already included map hot lib but now we
want to have matplotlib be live so I
want to have like live updates happening
to our matplotlib graph so how do we do
that well the first thing that we're
going to use first of all we're going to
use map hot lives animation function and
what the animation function allows us to
do is based on query some sort of data
set for any new updates and it's just
going to update basically and so you
can't really necessarily I mean you
could you could actually write some code
to account for this but basically you
could make it update only when there was
an update but we'll get to that may be a
way down the road but basically is going
to do is just going to be redraw the
graph every let's say one second or two
seconds so let's go ahead and just get
into it so first of all we need to do
another import and that's going to be
from mat plot live die animation
actually rather we want to import
matplotlib animation as animation noise
and the other thing I wouldn't mind us
doing before we get too far is using
style so what we can do is we can say
from matplotlib import style and then we
can come down here and like just to run
the fonts basically we can do style dot
use and then you can use all kinds of
styles um I believe you've got like
grayscale dark and ggplot for example
like we could pull it up though let's go
see computer Python 34 Lib site packages
matplotlib style and then inside style
lib so yeah we've got dark underscore
background ggplot and grayscale so first
we'll do a ggplot that's like the most
acceptable one I would say and that's
what you have to do to change the style
so if you recall our graph initially is
cut just like this like ugly-ass blue
but now it's like a nicer font a little
less like obtrusive colors basically so
without the style um if you don't
remember uh look like this so it kind of
ugly so this style I use we use ggplot
we can also use uh what was the dark one
let me pull that one back up I haven't
looked at this one in a while so I just
copy and paste that and there look what
that looks like it's very little to do
with our tutorial but anyway so you're
gonna have a get dark graph but for now
we'll just use ggplot and later on we're
actually going to make a lot of
customization to this so whatever now to
do matplotlib and have animation we need
an animation function first and then we
call it down in the main loop so I
actually do have a tutorial on live
matplotlib graph so I use a lot of the
exact same code so if you've seen that
then a lot of this shouldn't be too far
into you I'll try to explain it a little
bit as we go but if you want to learn
more you can just look up live graphs on
in my channel and find that video so
we're going to define our animate inmate
function and then I for interval and
first we need some data we're just going
to pull some data and we're kind of kind
of hacker way around getting this data
from a file because pretty quickly we're
not going to use a file anymore we're
going to be pulling this as like JSON
data from either the exchanges
themselves or see of BTC so this would
be kind of junk code but just deal with
it so it lets you pull data and pull
data is going to be open in other words
order it doesn't exist yet but we'll
make it a sample data dot txt and open
that with the intention to read it and
then we'll go ahead and call dot read
then we'll do data array equals
that's not data rate let's let's be
legitimate and call his data list equals
whole data split and we're going to
split it up by newline close out of this
to uh split by design and then we'll
just say X are for X array it's killing
me we'll call it X list and we'll make
an empty list and then Y list and we'll
make an empty list and then what we're
going to do is for each line in a data
list if Len each line is greater than 1
why are we putting this in here a lot of
data files are going to have like an
empty line this is just a really easy
way to be like is that an empty line
because as soon as if you have an empty
line and you go to perform a split
operation on it it's gonna be like blah
yes basically it's gonna do just that
just what I said so anyway uh we're
gonna say X Y and we're going to unpack
to X Y each line dot split and we'll
split by a comma so to be a CSV
basically and then finally we'll do X
list dot append uh the inversion of X
and then Y list dot append the int
version of Y so this will be just
integers why do we have to convert it to
an int it's going to be read as a string
so you want to convert it to int so we
can actually use it like it's an int so
that populates all of our data so then
what do we do well we are going to do
basically we want to clear everything
and then we plot to it so before we do
that we need to understand that we don't
even have um anything a figure or
anything like that until we load up this
class so the next thing we want to do is
we're going to take this code here and
just cut it out so control X cut and
then we're going to come to the very top
even outside of this animation function
enter enter paste and this is basically
going to be constant data so we're going
to get rid of a dot plot now so we're
going to use a different thing but so we
have a now which is our figures subplot
so we'll come down here
and we're going to say a dot clear and
what this is going to do is going to get
rid of everything on the subplot in
theory you do not have to clear but if
you don't clear it's just going to keep
drawing over and over and since it's a
graph it's going to shift the graph and
pretty pretty soon you're going to have
just a huge mess so you want to clear it
because uh not only have a huge mess
soon it will look like hell it'll will
also take a lot more take a lot more RAM
to be constant like it will just
continue building up and you don't want
that so we've got a dot clear and then
we'll do a dot plot and then we plot
just X lists Y lists done so now you've
got the animation running so what we're
going to want to do now is come down to
the very bottom where we defined app and
that cVTC app and then before we get to
main loop we want to do one more thing
and we're just going to say an e for
animation anime equals animation dot
Punk animation um and uh the way this
works is first you send it to the figure
so that's F for figure which is at the
very top yeah F for figure then we want
to run what we want to run the animate
function and then we want the interval
which is like how how long in between
each update or basically it's not how
long in between each updates how long
between until you want to run this
function again and this is in
milliseconds so 1000 milliseconds is one
second and that's it
now this is going to give us an error
because the text file doesn't exist so
now we need to go ahead and create the
text file under sample data text and
since we didn't there's no file path
here we have to this needs to be in the
same directory as the script you could
also you can put it wherever you want
and then just specify the whole whole
path but anyway let's open this up let's
go to the tkinter mega series and we'll
go new and text document and this is
going to be sample
data dot txt a right click edit and
let's go ahead we'll just edit in
notepad that's fine and now we're just
going to make some sample data so let's
say we'll do one Cantus first take the
XS so 1 comma 2 comma 3 comma 4 comma 5
comma 6 comma 7 comma 8 comma 9 comma
and I must do it's in so now we'll just
add some data here so I'm just going to
do 6 7 to 6 like that a baby and okay so
we've got some sample data so and in
fact let's go ahead let's see if I can't
pull this up in notepad plus plus AZ
that'll give me a little bit larger of
should be there we go yeah I can zoom in
so y'all can see that better so this is
what our sample data dot txt a file
actually looks like so now let me just
put it over here and we're going to
color here and let's go ahead and run
this see if we get ok we did get an
error
okay I see always we called our file
this is what I meant before when I try
to save it as a you know goodness and
jet just like flew over anyway um I lost
my train of thought okay right so when I
save that PNG as in I see oh I thought
we would get away with that and or we
wouldn't get away with that but we did
but here we've saved this a sample data
cut text text let's go ahead and just do
sample data let's try that one more time
and I'll go to the page so here is our
graph and here is uh no we don't wanna
keep that in the editor do we um let's
open up the new version here notepad
okay so here's our data and then here's
our graph representing that data so we
can go a new line let's do 11 and 15 we
hit save and you see the graph updates
we can do you know twelve twenty to save
the graph updates and then we can do
like I don't know 13 8 and so on so our
graphing you can see here grab Ashley
updates pretty quick it is one second
updates but it pretty much seems to
update
instantly for us by the same token what
I meant before is you can you can remove
data as well because every time we're
clearing it so we'll delete that data
and you see that now we've regressed a
little bit in our data so we can do that
and that's basically all there is to it
too now we've got our live tkinter
application with our live updating graph
multiple pages so we are basically uh
doing pretty good nowadays so anyway um
that's it as far as adding a live graph
is concerned so if you guys have any
questions or comments maybe something
isn't working out for you whatever feel
free to leave those below otherwise as
always thanks for watching thanks for
all the support and subscriptions and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>