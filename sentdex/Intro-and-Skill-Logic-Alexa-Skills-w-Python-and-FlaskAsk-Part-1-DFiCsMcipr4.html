<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intro and Skill Logic - Alexa Skills w/ Python and Flask-Ask Part 1 | Coder Coacher - Coaching Coders</title><meta content="Intro and Skill Logic - Alexa Skills w/ Python and Flask-Ask Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intro and Skill Logic - Alexa Skills w/ Python and Flask-Ask Part 1</b></h2><h5 class="post__date">2016-11-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DFiCsMcipr4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to an
Alexis skills with flask ask and Python
tutorial series in this tutorial series
we're going to be building our own
Alexis skill the skill that we're going
to build here is one that just goes to
the world news subreddit pulls the
headlines and tells us the headlines so
a pretty simple app what it's going to
let us do is learn how to interact with
the Alexa device and also how to run our
own Python logic and functions in our
alexis skill so let's go ahead and get
started so like I said we're going to
using flask asked which is a flask
extension if you don't know what flask
is it's a pretty popular web framework
for Python now you don't have to know
how to work with flask in order to make
use of this or really even to understand
it here's some code here just with a
really simple example but we're going to
run through that so you don't have to
worry about understand that just now as
I write it all explain it but it's not
too complex but if you already know
flask I mean that's kind of a cherry on
top I suppose it'll be a little simpler
but it should be pretty easy so the
reason why we're going to use it is it
just going to make writing Alexis skills
much easier in Python for us the other
thing we are going to use is not in this
video but we will be getting to it as an
grok and I'll explain why when we get
there but you can download that now if
you like or you can just wait till we
get to that point so moving this aside
I'm going to go ahead and have us do a
pip install flask II than cmd.exe or
terminal whatever so make sure you have
flask and then also do pip install flask
- ask if you have any problems with the
installation process let me know and
I'll do my best to help you out and
really anything in this entire series if
something is confusing you can't figure
it out let me know and I'll do my best
to to get you set right so now let's go
ahead and from flask we're going to
import flask with a capital F now from
flask underscore asks we're going to
import capital a asked statement
question and session so if you are
familiar with flask session works very
similarly to the flask session element
basically in your app each kind each
person has their own
kind of unique session that's the same
thing with flask asked question this is
for the actual Alexa device pretty much
so basically everything everything Alexa
might say to you is either going to be
like a statement or a question a
statement is just telling you something
question it's going to expect a response
from you and it's going to have to
process that response so they're a
little different now we're going to
import import a JSON and pour requests
import time and import unis the code
which we didn't install so go ahead and
do that too so pip install uni decode
already have all these things so that's
why it goes a lot faster for me so if
you don't have them it might take a
little bit longer feel free to pause or
do what you need to do now let's explain
what these are going to do so JSON we're
going to be using that to interact with
the reddit API which also you will need
a reddit account it's free you don't
even need a legitimate email you just
make an account so you will need an
account on reddit as well it's instant
anyway the reddit API will respond to us
in with a JSON object so we're going to
use JSON requests we're going to use
that to actually interact with the
Internet in this case the reddit API
time to just space between our requests
so the reddit API doesn't get angry with
us and then you need to code just in
case we get some sort of some sort of
text in the title that Python is not
going to be happy with where he is you
need the code so anyway or really any
anything is not going to be happy with
anyway let's get to it so first of all
as is typical with flask will say app
equals a flask and then name it's just a
typical app definition for flask again
if you want to know more about flask I
do the flash an entire flask tutorial
series on my channel but otherwise you
can just take this as we're defining the
flask app now we're going to define the
ask app part of the flask app that's
going to be asked it's going to take the
app and then we're going to give
basically the endpoint so if you didn't
have anything hosted on the server you
could just say it's at the at the index
basically the home page of the website
but what's interesting with flask ask is
you can actual
it's an accession to Flast therefore you
can actually you could have like for
example Python programming that net that
is a flask application I could also have
an Alexis skill added into it using
flask asked and I could have it all in
the same file basically all the same
program that they would work together so
anyways just to exemplify that I'm going
to say rather than being at the home I'm
going to say it's at ready slash reddit
reader now for now we're going to leave
this empty but eventually we're going to
have a function it's going to be it's
going to do something and it's going to
grab the headlines and so we're going to
call that get headlines but we're not
going to fill it out for now we're going
to do that in the next tutorial right
now I just want to focus on just dealing
with the Alexa device so now being a
flask app we could have something like
this so generally with flask apps you've
got the decorators which if you don't
know what decorators are check out the
intermediate Python series as a tutorial
there are four decorators and if you're
watching this right when this video
comes out there might not be a direct
decorator video yet but it should be
there really quickly and if you're not
watching this right when it comes out
there will be one there anyways you have
a decorator basically a decorator is you
think it almost like it wraps a function
it's literally decoration for a function
or a method and it's going to just add a
little bit of code a little bit of fluff
or something in the case of flask
generally this is specifying what the
URL basically path is so when you say
just slash you're saying basically I say
your website is WWF site com slash is
just this slash up here remember we have
reddit reader that's like this
reddit reader right if you were to go to
your if I could type that'd be great
anyway if you're going to go to like
your browser and type that in basically
that's how that works so it sets the
path of what you want so anyway on a
regular flask app it would look like
this you might say to find home page and
you might return
hi there
you doing okay something like that and
then now to run a flask app we're going
to say his name equals main just to make
sure that the only time we would run
this is if it's the four running
basically this file we're going to do
app top rung we will set debug equal to
true I can save that and barring any
sort of typo or something that will run
it runs on localhost which is why we're
going to use end rocks shortly we can
actually take that URL and move this
over and you can visit that you can
visit that URL in your browser and you
should see that returned okay so that's
that's basically flashed in flask I app
ask is going to work really similarly so
again with any any sort of pathway right
recall on with with the Alexa device how
does a user interact with or how does a
user browse your application or in this
case we're calling it skill well it's
going to do it via speech so it's going
to have to say something or do something
but at least a start like what's the
homepage of your flask app well the way
that we reference that is just with
again a decorator and it's asked
so here it's app because we're
referencing flask here since it's we're
doing something now with our skill it's
ask and then we just say Ascot launch no
parameters at all just a staunch and
then now let's go ahead and say define
start skill and then we can have some
sort of message so we'll call this
welcome message and we're just going to
say hello there when you like the news
okay so so this is what the Alexa device
is actually going to say one thing I
really liked and this is why I kind of
wanted it to read headlines is I was
fairly impressed with how relatively
fluid Alexa can speak sentences it's not
cool it's not the greatest it's not like
totally human but it's it's pretty good
it's bet it's better than like the
typical text of speech you have on your
computer anyway anyway so it'll say that
it just says that so now what we're
going to say is we're just going to
return and this is not a statement right
question mark there that's a question so
we're going to return question
but still we're just going to pass
welcome message now just for the record
if you are familiar with flask flask has
a thing called render Wow render
template right like that um a couple of
things usually you would return a render
template then you've passed the template
flask ask does come with a sort of
template handling now I haven't really
you know I haven't made crazy apps for
any Alexa device but it's really unclear
to me why would use it because you can
also use the kind of the Jinja
formatting stuff for variables and logic
which is cool but it's unclear to me why
you would ever pass that into there
because you're not using HTML right it's
only text that's going to go to and from
the Alexa device itself so I'm not quite
sure so if anybody knows why there are
templates with flask ask let me know
because you could just save it all to a
variable and then use like string
formatting which we will later on to do
variables and stuff so anyway I don't
know so anyway it's it can be this
simple so so I was looking around that
other documentation basically for this
and I was curious what was the point of
the templates okay moving along now
we're going to have it so basically
someone at this point can either say yes
or no so we have to handle navigation
for a yes or a No so let's handle yes
for so ask intent let's just say yes
intent that's going to be the definition
of our intent
so with Alexa devices you've got
basically when you got input from a user
it's like it's it's called an intent in
the way that they say that intent is
called an utterance we'll talk more
about that and not probably not the next
one but the third one when we actually
deploy this but anyways that's what
intent means so now let's go ahead and
what have I done I put a colon there
know colon just the decorator now define
share headlines and we're going to say
the headlines equals get underscore
headlines
and then we're going to say now
basically what headlines is going to do
is it's going to grab the headlines and
then it's going to just stringify all of
the headlines together but we're going
to go ahead and like we're going to keep
that function just getting the headlines
not adding anything more to it so then
we're going to say headline message will
lead that get headlines function and
it'll say like the current world news
headlines are and then we'll use some
formatting format headlines again I it's
unclear to me why you would use
templates but in general like if you if
you look around you'll see people use
the templates and then they'll pass the
variable to the template use the format
of the Jinja formatting so do what you
want
and again if you know why let me know
I'm genuinely curious why what would be
the point ever using it anyway return
this time it's a statement
we're not asking a question so we're
just going to return the statement and
that statement will just be headline
message now the user could also say no
so we have to handle for now so I say at
ask dot intent and you might guess
what's coming it's going to be a no in
in tense great now we're going to say
define no intend and then we'll have
some by text and we'll just say a I'm
not sure why you asked me to run then
but okay fine actually found out that
ellipses appears I'm not a Whore percent
confident but it does appear to take a
slider pause so anyway there we go a
return statement by text boom
okay cleaning up and there you have it
that is all of the Python logic that's
going to be what sorry all the Python
yeah I guess I could finish that's going
to be all of the Python logic that's
going to be required to work with the
Alexa device now we're going to do in
the next tutorial is just fill out this
get headlines function and actually get
some headlines for us to actually work
with with the with the app but you could
fill in anything here and then again
I'll mention it in the next one too but
you don't have to do the World News
subreddit you could do any subreddit you
want get any technology or Python or I'm
pretty sure that I forget what the one
is for Alexa it's not just straight up
Alexa it's something else I think but
anyway you can do those if you want so
up to this point if you have any
questions comments concerns whatever
feel free to leave them below otherwise
I'll see you in the next Alexa tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>