<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding other Exchanges p.3- Tkinter tutorial Python 3.4 part 22 | Coder Coacher - Coaching Coders</title><meta content="Adding other Exchanges p.3- Tkinter tutorial Python 3.4 part 22 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding other Exchanges p.3- Tkinter tutorial Python 3.4 part 22</b></h2><h5 class="post__date">2014-12-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BiMI8FsU3Ds" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what is going on welcome to
another ticket or tutorial video in this
video what we're doing is adding the
next two exchanges of tick data and then
we'll start adding in the rest of the
information so the tick date has kind of
got to be pretty customized whereas the
rest of the information we're gonna
normalize it from sea of bcc's API so so
now let's go ahead and add another
exchange to do that I'm gonna go ahead
and just take all this here and we're do
you copy come down here underneath
bitstamp enter enter enter and delete
once paste and it's now instead of btc-e
we're gonna do it
Phenix and Biff and X also is going to
have some changes does have a limit
however so we'll leave that there and
this Biff in X is HTTP colon slash slash
API dot BitFenix dot-com slash V 1 /
trades slash BTC USD and then the
variable is limit okay
that's basically it again just like
before BitFenix does not do the whole
BTC USD : basically you specified btc-e
USD up here so we're just gonna comment
that out we don't need that and in fact
we can just delete it there's no reason
to have it there at all
next we're going they call instead of
bid and ask they use buy and sell so
we'll rename those now we're gonna come
down to volume like before they do use
amount but we need to apply float and
then convert it to list to actually use
it and then again now this is BitFenix
down here bit connects down there and
they display newest to oldest as well so
that'll be the 0 element that we care
about and let's should be it so let's go
ahead and say
got itchy neck for some reason it's like
getting really dry out here
agree and let's pick Biffen axe okay so
this is the BitFenix information some
serious volatility down here Wow back up
got price volume all that oh shoot you
know what hmm I just realized we have
not been disabling our axes okay so we
need to add in some code here so let's
go ahead and scroll up to the top where
we have btc-e
and basically right here where we're
modifying the x-axis if you didn't see I
shouldn't close it out we are showing
basically the dates here and here well
as I said as we zoom in it zooms in
together so there's actually no no need
to show the dates twice there and as you
can see there's a little bit of overlap
that looks kind of bad so let's go ahead
and fix that really quick so to do that
what you do is you can say PLT got set P
and then we say a because that's the top
one so we want to remove the x-axis
entirely from the top one or at least
the labels so 8 I get underscore X tick
labels and then into parameters and then
we're just gonna say visible equals
false and that will make them not
visible so now when we go look at this
you can see they're just they're gone so
let's go ahead and close this and when
you want to apply this to anyone that
does not have two axes so or does have
two axes rather so bitstamp does and so
does Mithun X so just apply those done
fabulous now we're going to work on the
will be exchange now from what I know
the Wahby exchanges
less epi friendly I think you can get
you could do the streaming like socket
API I don't really want to get into that
here so we're just gonna use the data
from C of BTC so let's just go ahead and
add that just in case the user happens
to click whoa B there will be something
there for them so we're gonna say now if
exchange equals oh whoa whoa if that is
the case we are going to make a plot so
I'm gonna copy this a equals PLT paste
but instead of rowspan five it's a row
span of six next our data set is going
to come from c of BTC so copy this and
we'll come down here and paste and
change the link here it is HTTP colon
slash slash T of bbc.com slash API slash
basic / price question mark and key for
now just put key equals one that will
get you through no problem and TF for
time frame equals one day and exchange
equals and here what we do is plus
program name so this is the name the
lowercased version of will be so that
will be the data that we or the data
link rather and in fact let's just do
data equals and then URL live dot
request dot URL open and then we're
gonna open that bit and now let me just
get to the very end here so plus program
close off their period read so read the
data now if you're not too familiar the
part of the problem with reading data
off of like websites and stuff like that
in Python 3 is that it's in byte code
and it's not in strings yet you want to
treat it like it's an string so it's
kind of an annoying so there's a couple
of things that we can do we can just
convert it to a string we can also do
like we can decode it
so for example data equals data dot
decode and then we can print print
almost try to write Python to data or
information there print data like that
and we can even do the string data we
could try to do something like that so
let's go ahead and save and run that
just just to see what what happens to
ourselves agree exchange whoa by will be
whatever their name is and we did print
oh my shell is very angry probably at
the amount of data that we're passing
through it's a substantial amount of
data all of this okay so that's the
basic data set here and I was hoping I
could scroll up a little bit but shell
is angry so let's just go uh-huh
got rid of everything um okay so let's
go to Q 2 mega series here we are on 22
let's bring that back up my goodness 22
Kenny and scroll back down enemy if we
can find it okay so let's see if we can
get away with just doing using the code
here so now we're gonna say data equals
json dot loads
I'll see if we can do that agree
exchange robot hopefully no errors those
we might get away with that that's good
cuz the old version I was using was very
happy and I'm not quite sure why I was
doing that but okay so now we've got the
data loaded in let's see if we can get
away with the rest so date stamp is
gonna equal NP array of let's data I
have data's euro in here but let's do I
guess I wouldn't yaks it's it's
basically in two large lists this is
probably why I had it coded the way I
did because basically what we have here
is a gigantic list of time stamps and
then a gigantic list of prices let's see
if we can do it anyway though we
probably can't reference let's let's see
if we can do this data 0 dot as type
date/time 64's not - then we'll do date
stamp equals date stamp dot date stamp
oh my goodness
date stamp got to list and let me let's
go ahead and do print date stamp okay so
run in here we go exchange will be agree
we're all happy there hopefully to five
would be acceptable okay so here we have
the first five date stamps so so far we
are still getting away with what I'm
hoping we're gonna get away with not
writing horrible Hagee code so that's
good now let's go ahead and we're gonna
call on pandas now so I'm gonna say DF
data frame equals P D data for
and so we've got parameters here and
then curly braces date oops
date time : date stamp now let's see
we're next we're gonna say D F price D F
price so we're assigning the price
column here and we're gonna say that is
equal to data 1 then we're saying D F
volume so the volume data is data to
then D F and if symbol here I'm not
really sure that it symbols necessary
but that's fine
BC USD and then we're gonna say we in
order to plot this stuff we have to
convert to MP L dates
so we're saying DF n PL date equals D F
date time and then we're gonna do dot
apply and we're gonna use a lamp to
throw away function here so lambda dates
: M dates dot date - num and then in
parameters here is gonna be date dot to
underscore PI date time empty parms
and then we're all set there now we're
going to say DF equals D F dot set index
so this is setting like the main you
know column basically so set index and
we're gonna set the index to the state
time column that we just generated and
that's that makes it really easy to plot
things with with pandas so if you set
the indexes to the date time you can
just basically say pandas plot this
stuff and it would it would plot it
we're not going to do it that way but
it's useful to have that and we might
end up using it
but anyway you have to set index date
time and then we're gonna go ahead and
say so we can display it we're gonna say
last price and last price equals D F
price negative one so the negative one
element and now let's go ahead and plot
this stuff so we're gonna do a dot plot
underscore date whoops in a plot date
the date that we're gonna the dates I
suppose that we're gonna plot is DF MPL
date so that's our X are Y is going to
be DF price and then we're going to use
the light color let's be a capital C
light color and then label equals price
and this is a lot of data so we're gonna
go ahead and use NPL date - 4500 : and
then same thing with price minus 4500 :
um label price that's good
then we're going to take the same axes
locators as we have before so that right
there and so we'll go ahead and
highlight this copy
let's just let's paste that and then
title we'll just copy and paste this
code as well copy come down here paste
this is low B BT see prices last price
is actually we just used this last price
variable that we created so we do need
it to be a string still so actually like
this so string last price set the title
and that's basically it
so let's go ahead and save a run that
real quick see how well that works if it
works I'm still a little concerned
because I did try to get around that the
original time I probe
so it looks like it worked actually so
you will at least notice uh we don't
have oh interesting all right I just
caught that now out with our dates we
need to have % &amp;amp; % s otherwise it's
treating it as something we want to toss
in on the dates everything else looks
pretty good but % m % s and now we're
gonna have to fix that on everything
else
so % m % s % m % s % m % s that that's
okay so um apparently we also have
volume data but looking at the vault or
this information from CBBC it looks like
all zeroes don't see any volume there
and that's interesting because we pull
from low B let me just see if I plot
volume I seem to recall who OB doesn't
give volume data for whatever reason
let's go to will be here and yeah last
price there's no volume data there as
opposed to like the other exchanges we
have last price and volume for all of
them so anyway yeah we don't forever
read them but I have like a volume thing
I might just superimposing therefore to
normalize the data like later on that's
probably what I'm doing it's been a
while since I programmed that but I'm
really glad that I did not use what I in
my original code
I was not decoding I was converting to
string so I was doing like data equals
string data and then to get rid of the B
from the byte code I was doing dot
replace I think it was you know dot
replaced : be like that with nothing and
so we were converting a string and they
were removing the the bees from byte
codes not the best code there I really
was I'm glad that decode worked I'm
surprised I don't know why I coated that
that's weird I thought like maybe there
was like some error in the way or
something that's why I still had the
code there but I knew about decode I
don't know that's lazy code
so anyways that's it we got all the
exchanges now on tick data and that was
kind of hard just you know fitting all
the exchanges so we've we've got that
fixed now hopefully they've got the
exchanges and then from here we're
actually going to be continuing to use
the sea of BTC API like I said before I
haven't really no intention to charge
for like the basic pricing data so you
should be able to get by using this
basic key equals one at the moment I
don't even think I'm checking for a key
anyways like the only API I have is a
basic API but down the road to access
the API you might need a key but I'll
make sure one always gets some sort of
basic data it may be delayed data or
something like that but I'll make sure
that hopefully this tutorial always
plays through if anything ever changes
let me know and I'll do my best to get
this back online
but it shouldn't so anyway so that's
that so yeah so stay tuned to the next
video and basically all the other time
frame data so this was tick but we all
want to throw in some of the other data
sets and stuff so with this you can kind
of see how that's going to end up but
luckily it's all normalized and I think
this is why it's normalized or why I
threw in volume here is because the data
is completely normalized across all
exchanges so you don't have to write
like custom code for huai so I wrote it
on my website so you don't have to ever
again so anyway so stay tuned for those
videos hopefully guys enjoyed if you
guys have any questions or comments on
this video please feel free to leave
them below otherwise as always thanks
for watching thanks for all the support
the subscriptions the donations until
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>