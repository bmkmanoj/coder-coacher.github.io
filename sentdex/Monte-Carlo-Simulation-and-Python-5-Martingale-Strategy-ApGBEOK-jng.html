<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Monte Carlo Simulation and Python 5 - Martingale Strategy | Coder Coacher - Coaching Coders</title><meta content="Monte Carlo Simulation and Python 5 - Martingale Strategy - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Monte Carlo Simulation and Python 5 - Martingale Strategy</b></h2><h5 class="post__date">2014-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ApGBEOK-jng" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
the fifth Monte Carlo in Python video in
this video what we're gonna be doing is
actually creating another better that
has at least somewhat of a strategy over
the simple better and that strategy is
going to be on lost double and then once
you finally won revert back to the
initial wager so with that let's go
ahead and start making this guy so make
some space here and we're just a define
doubler underscore better and this guy
has the exact same parameters as the
other ones so we'll just copy them paste
don't forget your colon and come down
here now the next thing we want all this
stuff to so we might as well just copy
all of this mmm paste and now this guy
he needs a couple other variables
because we need to know since this guy
is betting based on the previous bets
outcome we need to have something like
that so we'll just say previous wager
equals and we'll start him off on a win
since on a loss he's gonna double his
wager and on a win he'll you know wager
the typical initial wager now oh the
other thing we want to do is previous
wager amount and that's also going to be
initial wager to start and again so if
this is a loss it's going to check the
previous wager amount and it's just
going to double that amount so whatever
it was so we also need that to save so
I'm just going to squish this stuff up
real quick so obviously I will just
mention it again but we should know via
the gamblers fallacy that usually the
idea behind this strategy is that you're
more likely to win the next one so
doubling up is a good idea but really
every time you have 5050 odds so it's
not necessarily the best strategy but
we'll let the Monte Carlo simulator tell
us so now we'll come down here
and we basically do somewhat something
similar to what we did before the mic a
little bit and so what we're going to do
is we're going to say Wow current wager
is less than or equal to the wager count
if the previous wager equals win so if
we won the last one um we'll just for
now print we won the last wager very
something like that for debugging for
now and then we're going to roll the
dice
so if roll dice so if it's true then
value plus equals a wager print value
and then WX dot append current wager the
y dot append value so if it's true we
add the wager amount because we want it
printed out just for debugging and then
we add so we're going to plot the
trajectory like we did before else
so if roll dice is false value minus
equals wager previous wager equals loss
and really what we need to do is I guess
it in theory you don't really have to
say previous wager equals went up here
because there will be no scenario where
this doesn't start without a win and if
you won then the status stays the same
so I guess we don't really have to edit
it up there so previous wager equals
loss print the value a previous wager
amount equals wager and then again W X
dot and turn
wager and then V y dot append value okay
next what we're going to do for now is
just a kind of a we'll make this better
in a little bit we'll just say if value
is less than zero a print we went broke
after current wager bets so it just says
we went oh my goodness we went broke
again we'll fix this later because what
this will allow us to do is say we have
180 grand we just lost a hundred grand
it'll allow us to wager 200 grand
and even though we don't really have 200
grand same thing with the other one we
allowed it to go into debt we'll fix
that in a little bit but for now we'll
just leave it like this if he happens to
go into debt then we'll just say current
wager plus equals and then we'll just do
this so it stops wagering now so that's
if the case is a win okay so we still
have to cover for some sort of loss so
under this if so two tabs else actually
will do LF previous wager equals loss
print we lost the last one last one so
we'll we will be smart and double okay
make some space here period
okay so um if rolled eyes wager equals
previous wager amount times two and then
print we won
and then the wager however much it is
value plus equals wager then we'll print
value and then wager equals initial
wager so we're just reverting back to
the first wager since we just won this
one so we want to make sure we don't
continue betting this large amount um
and then also previous wager equals now
win so we don't keep betting on the loss
amount and then finally W X dot the pens
current wager V y dot append value so
that's our if now what else wager equals
previous wager amount times to print
oops
print Wow four there we go print we lost
wager value minus equals wager um
and then again we'll add this value
thing here so if value is less than zero
print we went broke after comma current
wager let me scroll down a bit and then
that's softer X bets we went broke and
then we'll add will do that current
wager plus equals a big number here
again not the best way to do it we will
fix this in a little bit but to keep
this short as possible we'll just do
that then we want to print out the value
previous wager equals loss a previous
wager amount equals wager
and again WX dot append Kareem wager and
the y dot append value if um oh never
mind
so now once we've got out of that else
statement we want to come over a couple
to be under this l if statement so not
underneath this if and else but
underneath this L if and then we need to
do current wager plus equals one and
then down here at the very end we'll
print value and then finally PLT plot W
X V Y okay so we're all done what we're
gonna do is we're gonna call doubler
underscore better
we start with $10,000 we wager $100
wagers and we're gonna do 100 wagers
after that we'll plot dot show and then
uh let's go up here real quick let's
import time and after this we'll just
sleep so we don't run the rest of the
code okay so should be it let's save it
let's run it hopefully let's see wager
with a capital W is not found I don't
know where that is hiding on us I wish I
could find this
Waj let's see capital W match case find
next where are you
oops let's you find another one man you
are there we go okay
blonde hmm not sure why we're seeing
this should not be a straight line
that's for sure um oh you know what it's
probably this current wager nonsense
that's what it's doing uh so else
current wager it gets out of this well I
think we should be able to just add a
break into here instead of doing our bad
way of doing it accessible we're what we
were throwing here so let me just throw
a break I think that was all we had to
add okay so here's our better obviously
we only have one better but as you can
see every time he lost he doubled up and
he has a pretty steady line of +100
actually because um that's what he's
doing he's doubling up and with only a
hundred wagers um this was as risky as
it got for him it looks like he lost one
two three four five six maybe in a row
here in here but this this better
actually has a higher degree of risk
involved so we did make money but he has
a higher degree of risk so let us show
that with instead of a hundred wagers
let's do a thousand wagers no this guy's
making money actually so far looks
making Bank ah fabulous
well this guy's just doing super hot um
I guess I'll run it one more time and
I'll just pause it while it runs OH
this guy went broke really quick
actually so within 20 wagers this guy
went all the way down um it's
interesting how it's not showing him all
the way down though I guess it just
didn't plot it or something we broke
before we plotted it that's what
happened anyway he wound up at negative
mm um so at least we had somebody
finally lose some money let's try again
yeah here's another guy that again went
broke this guy ended up at minus eighty
nine hundred again later on we'll make
it so they only bet what they have left
rather than being able to go in debt but
again we have some people that go in
debt so yeah we have some success
stories but as we can see some people go
into debt the next thing that we
obviously want to do is plot a bunch of
these guys and really have a good sample
of how many people go into debt or would
go even make profit versus loss all of
that interestingly enough even at this
point with a hundred dollar wager um he
went down and he lost one two three four
five six seven wagers in a row so even
though he had fifty-fifty odds he still
lost seven in a row and we got this guy
with relatively um I think he was our
third or fourth try so anyway in your
head you might think well that's such a
rare event but it actually occurs pretty
frequently and this guy it happened to
him only after a hundred and thirty-four
wagers so not really that many so
anyways um that's going to include this
video and the next one will continue
adding to this and eventually we'll add
some variables that this guy since this
guy's doubling later on will we'll have
a Monte Carlo simulator find us the best
multiple and all of that so lots of fun
stuff to look forward to hopefully you
guys are enjoying if you have any
questions or comments leave them below
as always thanks for watching thanks for
all to support the subscriptions and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>