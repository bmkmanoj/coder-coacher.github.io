<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial Web Development with Python 18 - Password Hashing with Passlib | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial Web Development with Python 18 - Password Hashing with Passlib - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial Web Development with Python 18 - Password Hashing with Passlib</b></h2><h5 class="post__date">2015-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UtF58KqcHWU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody and welcome to the 18th
part of our practical Flast tutorial
series in this video we're gonna be
talking a little bit more about password
hashing so in our in it dot PI file here
we saw how we were using pass live dot
hash and shot to vizac script and then
we saw down here that we're actually
we're using that immediately when we
encrypt this password and then we saw in
the database what that actually looked
like but then the question is if you
know how secure is it if every time the
hash is identical so how do we actually
how did we hash passwords and and then
how do we actually verify that the hash
is the same so I think the best way
instead of telling you is to just show
you so let's go ahead and we'll come
into our you know floss toots like main
directory here and make sure you're in
VAR WWV flask a flask flash gasps flask
app a slash flask app and now we're
going to go a new file and we're just
going to call it pw hash dot time now to
bring up a PI file here and in here
we're going to go ahead and do from pass
live cache import sha-256 underscore
crits and then here we're going to have
a password equal something and then
password to equal something for now
we're going to say password the original
password will be shot 256 script dot and
cribs and then we'll say password we'll
just say the password literally is
password so this will be basically the
encrypted version of let's say this will
be kind of like the registered password
right so this will be this is mimicking
the path we took when these are
registered this is what we did to the
string version of whatever they entered
for password here we're sending the
entered password then password two will
act will kind of surmise I suppose that
this is okay now the user is actually
logging in and they're going to do shots
when they login they're going to enter a
password and we're going to do a sha-256
script
the encrypt encrypted version of
whatever they enter and let's say they
to enter password so that these should
be identical or at least the user input
was identical but if we just use a
simple hash even with shot let's say
shot to visit ash if we just use a
simple hash what ends up happening is
every time someone types in password the
hash will always be the same it will
always look identical and as I showed
before in the database two users had the
same password with which was actually
the number five but the hash of their
number five password was different it
wasn't sane and so if you just use a
simple hash what's going to end up
happening or what can happen is people
have massive hash tables and you only
need to generate the hash table one time
once it's generated it's generated and
people sell these hash tables or you can
actually probably find one for free
nowadays and so then all someone would
have to do is search for the hash that
they found in that hash table and they
would know what the password was that's
not good so what ends up happening is
you hash with what is called a salt and
a salt is just an arbitrary additional
batch of letters and maybe numbers and
symbols or whatever to the original user
enter pass where you can depend it to
the end you can put it in the middle you
do all kinds of stuff but again if you
use the same salt every single time it
also would need at that point is just to
know your salt or a guess your salt and
if they have access to your pad or your
database you can actually kind of derive
what the salt is even and so that's
obviously not the best either so we're
going to be using hash or pass live hash
and you'll see how we can actually use
different salts or different methodology
and what that it actually causes it's
pretty cool so passwords password - and
then we'll print let's print out
password and print password - so what is
this what we're printing out we're
printing out the value the hash the
sha-256 hash of password and password
these are
hashes of identical strings of text
right absolutely the same right you can
see that right here so let's save that
and there's our file so now we just need
to do Python PW hash pie let's run it
and you can see that yes indeed here we
have one and here we have another one
and they are not identical let's run
that one more time and then you can see
that these ones again are not identical
so sometimes it has to do with the order
like the first one the second one the
third one with Python as far as randomly
picking a salt and randomly picking true
random is actually really difficult to
find in computers and a lot of flaws in
encryption type services like two-factor
authentication or generating let's say
wallet IDs like private public and
private keys for wallets for Bitcoin
let's say that's where a lot of them
fail is in the randomness and if someone
can predict the randomness because the
computer it can't actually be random
that we we have problems so anyways this
isn't meant to be a tutorial on
encryption on by no means an expert but
anyways you can see that the hashes are
not identical we could go even further
to actually you know question we could
say you know if password equals password
to : um print yay else print something
simple like this failure okay save that
and we can run this one more time and we
can see that it says failure that they
did not match okay so that's not good so
how do we actually verify these well
luckily for us that is also included in
pass Lib so now we can do is we can
actually say print sha-256 underscore
crypt dot verify and we're going to
verify that let's say um because
basically what we're trying to do is
let's say your password here in your
database is literally password so we're
going to
try to compare the users enter so okay
so your database contains a hash so we
want to compare something to a hash so
our question would be compare what do we
want to compare well we want to compare
the string password to the hash of what
well we want to compare the string
password to the hash of a password okay
so the variable basically um okay so
we'll save that and now we'll come over
to our script run it and we see that it
returns the boolean of true that they
are identical so again what this is
mimicking is when a user goes to login
whatever they type as their username
password that's what you would put right
here and then you want to verify that
hash because that's going to be a event
well actually that one doesn't really
need to be hashed because we're not
actually going to do anything with that
we're going to immediately take that and
then when we verify it it will be hashed
and then you're going to compare it and
make sure that's verifiable against the
original hash but it's again if someone
was to get your database every hash even
for identical passwords is different so
if someone wanted to figure out
someone's password because generally
they want that user's password because
what they're looking for is the user's
email and then they want the password
and then from their users email they can
find out you know where do they have
accounts on what kind of websites they
have accounts what other interests that
kind of stuff and if they have their
password a lot of people use the same
password pretty much everywhere so you
just need their email a lot of times the
users email and the password to that
email is the same as the usernames
password on that website so when people
get data dumps they might get you know
10,000 users and it might be the case
that 9,500 users are smart but 500 are
stupid and that's what they're after
they're after the passwords in relation
to the emails or maybe in relation to
the username especially if it's you know
website that maybe has more sensitive
data on it our website like Python
program
it not really they're not interested in
stealing your account or anything like
that
Oh on there but what they would be
interested in is your password in
relation to your email and then they
would try to find any accounts that use
that email online they would try to find
any connected accounts with different
emails they would try basically
variations of that password on your
email and any other accounts that use
that email so anyway when you have
something like this it's not impossible
but it's very difficult for someone to
actually figure out what your password
might be because they could even guess
that your password is password but when
they compare when they run that through
there is no way for them to really truly
know if those are identical unless of
course they use the street the same pass
lib but if you were looking at past lab
you would find there's actually some
unique characteristics in the backend of
pass Lib that will kind of protect you
even from from that but if they I
suppose got on your server you might be
in a little trouble anyway
um enough on that again not an
encryption expert by any means but this
is the method that you would want to use
I know that flask does have like a flask
login thing I was really unhappy with it
so if you want to check that out go for
it see if you can use it comfortably I
didn't really like it and I found pass
live instead because the main thing that
you need is pass live you need to
protect those user passwords and you
never want to pass around those
passwords in plain text as soon as the
password is input you need to convert it
other than that you know how you handle
the rest of the system can sometimes be
confusing but that's why we're having a
tutorial on so that's it for this video
just want to show you how password
hashing works and should work if you
have any questions or comments please
feel free to leave them below otherwise
as always thank you for watching thanks
for all the support and subscriptions
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>