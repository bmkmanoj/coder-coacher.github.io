<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build Your Own Supercomputer 5 - Testing supercomputer process | Coder Coacher - Coaching Coders</title><meta content="Build Your Own Supercomputer 5 - Testing supercomputer process - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build Your Own Supercomputer 5 - Testing supercomputer process</b></h2><h5 class="post__date">2014-02-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Mk7Hx_q2jrU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody and welcome
to the fifth supercomputing and how to
make your own supercomputer tutorial
video in the last video we basically
just did all the installation kind of
stuff that we had to do in the initial
setting up sorry that took so long
to do but there's really only one more
time that you'll have to wait like five
minutes or something so that's exciting
so it's downhill from here now the next
thing that we need to do once we've
installed this is we're going to use a
command called MPI exec so we're going
to execute this MPI that we just
installed and to do that you would
either have to it's kind of like
anything else where you call you know
Python let's say if you're coming from
my Python tutorials Python or your
computer needs to know where to look for
Python when you execute a Python script
same thing on like Linux you're going to
need to put the full path to python or
add it to your path so that's no
different here so if you want to use the
MPI exec command you have to add the
location of MPI exact to the path so the
system knows to look there for MPI exec
if you just want to use MPI exec that
said you could just put in the full path
every time you used MPI exec but that
gets kind of tedious so the next thing
that we want to do is we want to go
ahead and add MPI exec to our path now
there's a couple of ways you can do this
the first way you can just type it in
and it's like a temporary thing where
you changed your path for temporary
purposes but as soon as you leave and
come back it will no longer be there so
I'm going to go ahead and show you guys
how you can do it permanently so that's
the next thing that we're going to do so
to do that you want to go into your user
directory and edit the profile of that
user so our user directory here is a
home slash PI right our username is PI
and just as a quick aside if you ever do
see someone use this little tilde here
and they do that that is the path to
whatever your username is so when you
see tilde slash that means home slash PI
or home say your name is
I don't know Jeffrey it would be slash
home slash Jeffrey slash
if you did this but anyway so just for
just in case I happen to use that just
letting you guys know so home slash PI
and don't forget that leading slash
there otherwise it won't work a slash
and what we actually need to do we want
to edit this file so use soup sudo nano
slash home slash PI slash dot profile
but this dot is it just it's a hidden
file so that's why you have the dot
there so anyways hit enter and that
should bring up this file here you
should look pretty much identical to
this one hit the down arrow just go all
the way down to the very bottom here and
then what we're going to do is we're
going to add at a a pound sign which
denotes that it this is a comment and
what we're going to do is just say um
adding mpi-2 to path so that's our
comment and now let's actually add MPI
to the path so to do that type in all
caps path equals and then in quotes here
dude dolla sign Pat :
/a home / RPI MPI slash MPI CH two -
install slash bin so that takes the path
to the directory where MPI exec is so
just in a second we're going to confirm
that that is indeed the correct path
oops I typed - its MPI 3 I swear I even
said 3 but I typed - anyway so then what
you're gonna want to do and obviously if
you're watching this and the current MPI
version is for you you'll have to change
these version numbers as time goes on so
just as an aside so anyways now hit
control X to leave it Y to modify enter
to use that same path and now what we
want to do is let's go ahead and CD into
home RPI and
slash NPI ch3 - install /bin and then
we'll hit LS just to make sure and sure
enough there is MPI exact so that's what
we were looking for so good stuff so now
let's just get back to our home there so
as you can see I use the Tildy and now
if we did PWD to let us know where we
are you can see where a slash home slash
pot now to make sure that you have
indeed done this and everything is
working right um this actually might not
work you might have to log out and log
back in let's see which uh-huh let's do
MPI exec okay so we're going to need to
log out log back in for that change to
profile to take effect
so go ahead and log out to log out just
do ctrl D and that will log you out I'm
actually connected via SSH so when I do
that it's going to just close out if
you're on your PI it should just take
you to the login screen so I'm going to
have to re login and redo my window here
so let me do that real quick okay so let
me bring up putty again 168 oh this one
is 20
and again if you did change your
password already remember that you
change your password and now I'm gonna
let me adjust my window here all right
fix my window so hopefully everybody's
found themselves to this screen don't
forget again that you did change your
password and the next thing that you
need to do now is type in which MPI exec
and so this is going to tell you where
it is and just and and see that if
you've got the right place so as we
typed it in before it couldn't find it
right so it wasn't in the path but now
since it is in our path sorry my skype i
meet my speakers now that it is in our
path
it is indeed finding it so when we use
the MPI exec command now it knows where
to find it another one that we knew is
which MPI cc and again there it is so
now we've got that permanently added to
our path so now the next thing that we
want to do is we want to start we want
to have some directories for us to put
on our tests into basically and mostly
for here we just need a place to put all
the machine files or the machine like
the IP addresses so go ahead and do CD
we'll just we'll do just to keep things
simple home slash PI and what we're
going to do is make a directory here so
we're going to make dirt and we're going
to call this directory MPI tests just to
keep it the same as the Southampton one
I guess we'll do testing hit enter and
now let's go ahead and CD into MPI
underscore testing and now what we want
to do is we want to make our machine
file okay so the next thing we want to
do is well you already should have your
IP address because we grabbed it before
but if you didn't already grab your IP
address do ifconfig and get the IP
address that starts like 192 and
actually heck it well it might not look
like this for you if you logged in
directly from your PI but you're looking
for the IP hit ifconfig hit enter and
you're looking for the inet address and
you're looking for the 192 168 1 you
might not have a 0 here but anyway look
for that IP address that's the one
you're going to need to add
or on the local network so what we want
to do here is create a machine file so
we're going to do sudo nano machine file
that's going to bring up an empty
document we just made that document
basically so now what we want to do is
we want to put our IP address in there
so my IP address 192 168 0 20 put that
in there and now we want to do exit
that's where I hit exit maybe I hit the
wrong there we go okay and yes and we're
all set so now if we LS there's our
machine file in a machine file and
there's our IP address saved in there so
now the next thing that we want to do
now is we can actually check to see if
if MPI is working correctly so just a
quick example of using our MPI exact
command like we can do MPI exec and here
used to F and that is basically what is
the file name that we're gonna associate
with here so our file name is what we
just made machine file and the number of
participants that we want to use here is
1 and then host name here hit enter and
basically what it's just going to tell
you is what's the host name of the you
know the number of one basically since
we only have one if you had two it would
give you both names right so it's not
just like host name of number 2 anyway
so that tells us what the name of the
machine is that we're working with here
if we're an MPI exec with this machine
file for one user there anyway next what
we can do now is run the calculate pi is
the first exciting moment of your of
your supercomputer so far so what we
want to do is we want to use a calculate
pi now I do want to make sure that we
have the right address here so you can
follow along or just let me make sure
that this is exact this is where CPI is
so n pick builds slash
ampuls oops I wanted to do see em Pig
build slash samples LS right and so CPI
is calculate by so now we want to do I'm
just going to go back to where we were
CD NPI testing there's my machine file
okay so what we want to do now is we run
MPI exec minus F what's the file we want
to use here that's machine file uh the
number that we want to use you can put
one because we really are only using one
but you could also put two and it'll
reuse here so - and then Tildy four
slash home slash PI's what that means
just I have to say that because one of
my old keyboard that I plug in to my PI
when I hit the Tildy it does like a
foreign symbol and so like all the other
keys aren't quite they don't translate
well for whatever reason so if you can't
use those symbols just know it's slash
home slash play uh and /m p i CH build
slash examples slash CPI so make sure
that you got that example so CP yeah
good hit enter and what we've done here
is calculate pi it says process 0 of 2
is on the Raspberry Pi and process 1 of
2 is also on you guessed it the
Raspberry Pi because we only have one
thing here and as you can see it did
calculate pi and it did it in zero point
zero one eight one seven nine seconds
and calculate a PI to a pretty large
degree here - this many decimals so
that's your first example of your super
computers technology working but of
course this is all on one Raspberry Pi
so the next thing that we want to do is
is initiate our second Raspberry Pi
third fourth and all that basically all
the way down the down the line no matter
how many you have in our case we're just
going to do two so uh now what we're
going to want to do is shut down this pi
and we're going to copy this card so
again that's why you didn't need to
install the operating system on the both
cards we're just going to look
Trulli copy this card so the next thing
that we're going to do here is come over
here and do a pseudo shutdown - H now
hit enter and that's going to shut your
pie down so that's going to conclude
this video in the next video we'll start
with the copying the master node
basically card to the new card plugging
that in and all that and then we'll
actually really run a true super
computer processing of K the calculation
of pi so that's what you guys have to
look forward to as always thanks for
watching thanks for all the support in
the subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>