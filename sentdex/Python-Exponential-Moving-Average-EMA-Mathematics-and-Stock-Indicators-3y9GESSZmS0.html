<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python: Exponential Moving Average (EMA) Mathematics and Stock Indicators | Coder Coacher - Coaching Coders</title><meta content="Python: Exponential Moving Average (EMA) Mathematics and Stock Indicators - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python: Exponential Moving Average (EMA) Mathematics and Stock Indicators</b></h2><h5 class="post__date">2013-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3y9GESSZmS0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to the
next video in our mathematics and stock
indicators with Python tutorial series
where we left off we were doing just a
simple moving average here and now I
want to show you guys how to do an
exponential moving average so moving
right along we're just going to define
the XP moving average again it's going
to have a values in a window don't
forget your colon then we do weights
equals none PI X for exponential MP dot
linspace and within here negative one
with a decimal point and a zero with a
decimal point and then a window just
like before I think I'll leave out the
explanation of linspace there we just
want to keep this quick and basic
weights is going to actually be divided
equals and what this work how this works
is is the easier way to explain this is
you'll probably see a plus equals a lot
and so plus equals just basically means
waits the original version of weights
plus 1 and then it redefines that
variable so at the same point as
negative equals it's just like weights
negative equals what waits dot some and
that's that's basically how that's
working so now the next thing we want to
do is now we're going to do a equals MP
convolve and values weights again and
then this creates basically an array and
then the way we can specify what part of
that array we want is like this so
everything up to the length of value so
how many values do we have this goes to
the length of those values
subsequently um we've got a and then to
the window length equals a window and
then again we just return and if you'll
notice we axe
use the convolve function with its
defaults we didn't save Alec we could do
it either way it's not as big of a deal
with exponential moving average so we'll
just leave it as the default so again
now we'll just come down here and we'll
print exp moving average and again we'll
do data set and three save that run that
and now the first thing it printed out
was our the same simple moving average
we have already done and then the next
thing it printed out was our exponential
moving average so the idea of the
exponential moving average versus a
simple moving average is the exponential
moving average is taking more recent
data and applying a a larger weight to
that more recent data than the older
data so right that's like our weights
here and we applied the weight here so
just to explain a couple things now
numpy x' convolve function what it's
doing is it's it's returning a linear
convolution right it's involving two
sequences right so in this case it's
returning the two sequences with the
length or at least to the length of
those values now the reason why I kinda
just want to leave convolve out of it
and same thing even with num PI's
exponential functionality convolve is
basically what's running our exponential
or it's what's doing the moving average
part for us and the reason why I just
kind of want to leave those out for now
is it just makes it way more efficient
for us to do it this way since moving
average is used and if you like say
you're using like a 200 moving average
which is used pretty pretty commonly
like 20 and 200 this saves a lot of
processing power so numpy a lot of times
comes in to save the day when it comes
to processing but to explain what's
going on behind the scenes with convolve
is somewhat confusing and so there's not
too much reason to cover it because I
think moving average the definition of a
moving average is simple enough to the
point where I think you guys understand
what a moving average is and the using
of numpy to make it a lot more efficient
is it really as necessary
right so when you do a moving average
you just know like okay I'm going to use
convolve if you are curious you can go
into the source files and just look at
the convolve function and see what it's
doing same thing with the exponential
function here but anyway I'm not going
to cover that because really what I'm
trying to do in this series is just
simply teach you guys how to do the
simple equations and so a lot of the
latter equations that we're going to be
covering here to do moving averages
we're going to use this simply because
moving averages become very processing
intensive so using numpy solves that
problem for the moving average
calculation but for the rest of the
calculations we aren't doing that so if
you feel like you're really lost at
these first two I almost didn't want to
cover them right away but you pretty
much have to because they're like the
most basic formulas out there if you
feel like you're a little confused at
this point don't worry is probably a
pretty common just understand that we're
using these purely to save on processing
anybody wants me to I could cover a just
a pure Python without numpy example of
doing the moving average but it just
doesn't make too much sense because it's
really processing intensive so anyway
hopefully I didn't lose too many of my
viewers right away since this numpy
stuff get kind of confusing the
exponential that it's fairly basic it
just does the exponential what of all of
the elements in the input array whatever
you're stuffing in there and then the
numpy repeat option is a way to multiply
something right so we're just saying
what we want to multiply and then we're
dividing it by that window so again like
if you ran a repeat function on let's
say we ran a repeat function on data set
and we said repeat a 3 right so if we
did n PRP data set 3 it would do one one
one five five five seven seven seven two
two two six six six seven seven seven
eight eight eight and so on
and so that's what's happening in the
repeat function again if we're just
using numpy because it's very efficient
so that's going to include a both of the
moving average exponential moving
average now the next videos we're going
to be
moving right along and starting to
conquer a bunch of the typical stock
indicator formulas so anyway hopefully
you guys are interested hopefully like I
said it leads to many people with the
numpy stuff even though moving average
and exponential moving average is easy
in the you know coming up formulas are
in theory more complex it actually
programming wise gets easier so anyway
as always thanks for watching thanks for
the support the subscriptions and until
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>