<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Monte Carlo Simulation and Python | Coder Coacher - Coaching Coders</title><meta content="Monte Carlo Simulation and Python - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Monte Carlo Simulation and Python</b></h2><h5 class="post__date">2014-04-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uY3ZHfnFjJc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
the least for now final monte carlo and
python tutorial video there might be
more later but for now this will do
where we left off we were scatter
plotting just a simple 2d scatter plot
of our data and basically it looked like
a whole lot of nothingness just varying
just scattered all over seemingly
worthless so we see no correlation so
far but as I was saying it would be wise
to add our third dimension to see the
profit because we do have one that one
degree that we're not showing and that's
return on investment in terms of
percentage and that might be the only
real change based on these variables so
with that let's go ahead and begin
building that the next thing that we
need to import we actually just need one
more thing for the 3d capability and
what we're gonna do is from MPL
underscore toolkits dot m plot 3d import
capital ax es3 capital d axes 3d now we
want to notify Python and Matt plot live
that we're going to be displaying our
chart in 3d so expect 3d stuff so to do
that we're gonna say fig for figure
equals plot dot figure and just in case
your figure just in case you're not
reading whenever I say plot that figure
it's PLT so PLT dot figure and then
finally a X from axes equals fig add
underscore sub plot and then you give it
like it's ID this is gonna be 1 1 1 and
then you're gonna specify projection
equals 3 D so we're notifying it the hey
by the way we're gonna have another
variable so now we've done that the only
other major thing that we need to change
is way down here
what we want to do is I guess we'll
leave all the variables
in there for now but we're going to
replace this and it's gonna be a X dot
scatter and then what we do is we're
gonna come down well actually that's at
our next variable and that is percent
ROI comma so you should have one two
three four variables here now we're
gonna do we want to label the axes so we
can actually see what we're plotting
here so ax dot set underscore X label
and this label the x is wager size so
wager percent size I guess we'll just
use the whole thing
then we're gonna do ax dot set
underscore y label and this is wager
camp and then finally ax dot set
underscore Z label oops and this one is
percent ROI and that's about it
plot show graph and I think we're ready
so liberal dot CSV this one is one of
our larger files this over here and
liberal where is liberal here it is I
mean bring this up so we have at least
mine you guys might not have as many
rows but for me I have quite a few rows
and matplotlib I believe plots pretty
inefficiently so let me scroll down here
how many almost a thousand so 970 so
mine is probably gonna lag if you have
970 or more rows it's gonna be kind of
laggy but bear with it so anyways let's
plot this uh I might take a second as
well to come up ok so here it is here is
your 3d plot and yeah it's a little
that's okay though it's not horrible so
this was basically our wager percent
size in comparison to our ROI so we can
see that at least the wager percentage
size as you bring it up you have quite
the difference in return on investment
right
both negatively and positively and then
our only other thing here would be wager
count and so as we slide this bad boy
over for a wager count compared to
percent ROI again we can see that we
have a lot more winners and a lot more
losers when we do this I'm just trying
to get it to position on the bottom it's
just so laggy whatever there we go so
again as we go and then here's like
here's an outlier right here like
nobody's even around him you know wager
count two percent ROI again as you do
more wagers we seem to do better a long
term now it would be interesting to
maybe plot this up against a hundred
thousand or more wagers because right
now we cut off at ten so it would be
kind of interesting to see if this
negativity goes back up and maybe I'll
run a test and post a video if I do that
and find out find out anything
interesting either way but another thing
to to keep in mind is one each of these
is only like one trader so in theory
with the strategy you would only be one
of these dots you can't really be all of
these dots or a mean of these dots you
would only be one and to me this looks
you know fairly balanced and as we ran
our test we saw that it was really close
to 5050 only when we did a 1 million
sample size did we see that it was a
positive but we were running quite a few
100,000 samples and we got a lot of
positives and a lot of minuses so it
could totally be the case that that
positive 1 million sample test was just
one of the positives and there's more
because this looks still pretty split so
even on a strategy that long-term makes
a profit you couldn't still turn out to
be one of the losers so with that let me
go to our amid one called very
conservative and this required a five
percent change in either direction so
here's that one much smaller one and it
all it feels so much better to play with
this rather than that laggy one anyway
same thing again only this time we don't
necessarily see the same you know crazy
move upward as we bet with larger
percentages but I wonder if we added
more wagers we would see such a thing
but at least for now we don't really see
that wager count though it does look to
me like at least this one goes quite a
bit up and then losing I don't know sort
of stays the same almost looks like X
maybe yeah and it's writing a message to
us anyway this one looks a little bit
less correlated but I would like a said
wager that maybe if we added more
samples to this one we would see more
but this one takes a really long time to
get any samples at all but at least for
like wins and losses it doesn't really
look to too crazy we do see a quite a
few clumps right here and quite a few
clumps here though so it looks like if
you want to do like just get it over
with really quickly you need to do about
9,000 wagers with a percentage size of
approximately eight or so percent anyway
really what we should do too is check a
wager percent size let's see how big was
that wager percent that I was running
here concerned very conservative creator
does that could be an interesting change
as well
yeah our wager sighs we were allowing to
be I guess wager sizes next we do wagers
sighs but that's a wager sighs percent
where did it go come back right it's
interesting that we literally don't have
anything of a smaller wager percentage
size than really three I'm not sure if
there's an error in my code or what but
in theory we should have had a smaller
one especially with some of the
successful guys they should have had
smaller wager sizes but that's my whole
point with the strategy is in order for
it to be you know strongly successful in
a large scale across a lot of betters
you've got a bed a tiny amount and if
you bet that tiny amount you're not
gonna make much money in the end it's
gonna be very boring you know point zero
one percent return or one percent return
or whatever anyway I guess that's pretty
much it with this tutorial series so
that's the Monte Carlo simulator in
Python from here you can use this for
all sorts of things at the end we search
for variables that would give us a
result of something greater than
something right or less than something
you can also search for VARs that'll
give you a range so an example of this
is when Monte Carlo simulations are used
to calculate PI for example this is done
by we have the end result at the end
which is the radius of this circle we
know what the end result we want it to
be it's the edge of the circle now what
is going to give us that edge well we
can use the Monte Carlo simulator to
just generate random numbers and see did
we get close to that edge of the circle
and if we did if we got within let's say
point zero zero zero one percentage of
that circle then hot damn we just found
a worthy candidate and we do this over a
million samples or a few million and we
can estimate pi and you can do it very
closely to what pi is and generate this
extremely fast actually and you don't
actually need to know how to calculate
hi you just have to use the Monte Carlo
simulator to literally brute-force the
answer for you so we made our self the
simulator we tested against a few
betting types trying to find out you
know the best strategy as well as
strategy outcomes I think our findings
seem pretty obvious to me and that's
that there's really no way to beat odds
to a large degree the de Allen bear
strategy does do well in terms of a
steady reliable profit as compared to a
steady reliable loss over time if your
wager size is small enough in comparison
to your full amount of funds but this
means a wager size of like less than one
one-millionth of your total like in
gambling funds so in this case you stand
to gain a tiny fraction of a percent of
gain over a long long term in the end a
wager this small and the time required
to make a profit off of a wager size
this small means they're really just
wasting your time with the strategy so
most people gamble for you know the
excitement either knowingly or
unknowingly because they've become
addicted to it a lot of people do gamble
with the intention to make money and I
imagine a few people even watch the
series and actually you know heard of
the Monte Carlo simulation and strategy
because of its relationship with odds
and gambling and finding things out
hoping to maybe learn a new skill and
make money and maybe I'll have saved you
saved you money but that's the best I
have besides teaching you some
programming skills so in the end
gambling should really just be for fun
as soon as you decide to gamble for
profit you're setting yourself up
immediately for failure and depression
and all kinds of nasty things so anyways
in the end I think at least the most
fascinating part to me with all of this
is the degree that randomness plays
especially when concerning outliers but
even concerning huge pools of data where
we get an answer and then we run a huge
pool of
again and get a totally different answer
and so that is really fascinating when
you concern outliers and the far
outliers are heavily influenced by pure
randomness so they were extreme cases
are almost solely based on randomness
and nothing more
not the strategy nothing else no outside
element it's just randomness that gave
them that that outside outlier status
and in today's world the outliers of
anything are often looks you know look
towards with either admiration or
discontent depending on which to which
direction in the outline right and
usually with very little appreciation to
the randomness that played the role in
their path especially when you consider
stock traders and investors and all this
it's just statistically is going to be
the case that there are going to be very
successful people and very unsuccessful
people regardless of you know what
strategy they use and you can even use a
very good strategy and still lose a lot
of money or you can use kind of a poor
strategy and still make a lot of money
even when the odds are stacked against
you so anyways I hope you all enjoyed
this series I had a lot of fun making it
and like quite a few of my series I
really just made this as I went so there
could very possibly be errors in the
code I do encourage you guys to read it
over test it don't use it to actually
gamble or trade or whatever and develop
your own code entirely so it was just
really for educational use and hopefully
some people had fun or maybe learned
some the things so as always thanks for
watching thanks for all the support and
subscriptions and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>