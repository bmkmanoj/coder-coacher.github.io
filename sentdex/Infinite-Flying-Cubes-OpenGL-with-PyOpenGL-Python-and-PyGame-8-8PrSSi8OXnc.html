<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Infinite Flying Cubes - OpenGL with PyOpenGL Python and PyGame - 8 | Coder Coacher - Coaching Coders</title><meta content="Infinite Flying Cubes - OpenGL with PyOpenGL Python and PyGame - 8 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Infinite Flying Cubes - OpenGL with PyOpenGL Python and PyGame - 8</b></h2><h5 class="post__date">2014-11-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8PrSSi8OXnc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody what's going on welcome to
the eighth Pi OpenGL tutorial video in
this video or me talking about is how we
can begin to have our cubes basically
come at us infinitely as well as not
needing to make you know this huge list
of cubes and memory so with that let's
go ahead and get started the first thing
that we want to do is we're going to
come up to set vertices here and inset
vertices we have max distance now we're
going to go ahead and throw in one more
parameter here and that will be a min
underscore distance and we'll set the
default for that to equal negative 20
not 20 and this way we can we can begin
to pass both the max and the min because
as the camera progresses through our
little environment here the max and min
distance will have to change so we'll
talk about that a little bit but
basically max distance will be you know
cameras point - let's say 300 and then
min distance will be basically the
cameras point and so we'll pass both of
those through and then when we go to set
the vertices for the cube will generate
new cubes based on that specific area
that we're willing to have cubes in so
this this stuff will stay the same
we'll leave the these 10 and 10 for now
and then instead of negative 20 here
we'll say min underscore distance and
basically that's all we need to do there
now let's go ahead and scroll down
basically - we'll go here this will be
good so in so for cube in cube dict we
draw the cube we're going to leave that
there but now what we want to do is we
need some code for a couple of things
first of all we want to any any cube
that we've passed we want to go ahead
and pop that out of our list and get rid
of it so we don't need to have that
memory anymore behind us and then also
we're going to try to have less cubes at
a time
if the cube is past the clipping plane
why are we have that cube at all let's
not even bother with cubes past clipping
plane basically so so what we're going
to do is we're going to do delete delete
list and that's going to be an empty
list for now but we're going to populate
that and what we're going to do is we
want to populate it with the stuff the
key values that we want to delete and
then also we can basically just replace
those the value with a different thing
so once we past we can replace the
vertices values according to the key
that's passed with some new values based
on the max and min that we set through
the new vertices so anyways let's go
ahead and get started so we're going to
say for each underscore cube in cube
underscore dicked we're going to ask if
we're past that cube okay so we would
say if camera underscore Z is less than
or equal to cube underscore dict cube
underscore dick of each underscore cube
so cube dict of each cube okay so if
camera Z is less than or equal to each
cube dict of each cube and the Z value
is the basically it'll be the zero
element there and then the Z would be
two so like the third element is really
a two so you 0 1 2 so 0 2 so if that is
the case then we're going to let's just
say print a passed a cube and then we
will will basically do delete underscore
list dot append each cube like that and
actually I'm thinking what we what we
could do instead is since we're in that
we can just reassign the value right now
I think I don't really see why we can't
because originally I was going to do is
two for loops basically create this
delete list and then in the delete list
we'll delete
and then we would create new key values
but since we actually have the key right
now which is being stored under each
cube I actually think we just do
everything in the same for loop so I'm
gonna go ahead and try that so we're not
gonna use delete list for now I'm just
going to comment these things out
because I think this is a way better way
to do it but I might be missing
something so uh what we could do now is
we would first of all we need to know
what the new the new max value can be so
like we can come up here and we know our
max distance right now we're saying is
100 now I would just say to keep in mind
that we've got our clipping plane here
this is this this is our clipping plane
basically these two numbers so really
anything past the 50 is not that
important so we can say the max distance
is 60 or something like that or even 50
and in reality - what we could do is we
could define max distance like up here
like cut max distance and put it here
and then make this number max distance
then we wouldn't have to worry about
matching those two numbers so we'll try
that for now so say max distance is 50
at the moment and in fact let's make
that 100 just because 50 is actually
pretty close so 100 will do we're coming
back down here okay so now what we'll
say is our new under start new Max and I
guess we can make this good with new
underscore max anyone who hasn't noticed
I'm not like Pep eight conformant so
sorry I'm trying to get better about it
but it's just bad habit so new max
equals the integer value of negative one
times what we're going to say negative 1
times camera underscore Z - max
underscore distance so the negative
value of that right there and so that's
our new Max and it just kind of sucks at
this point because we're basically
we're converting from a negative to a
positive so it conforms with max
distance back to a negative it just
sounds weird for max distance to like
increase max distance and leave that as
a negative I don't know anyway so it's
kind of a weird way of going about this
but we'll do that now what we'll do is
we will say cube dict
cube dict each cube and we're just gonna
I think we just reassigned the value
we'll see if I get away with that equals
set on our score vertices lets me let me
make sure I've spelled set vertices
right up here so where is it's nice
where am I lost
so at vertices and then we'll say the
new Max and then the minimum will just
be wherever the camera is so camera and
then so we'll do int camera Z so
everything stays in an int value so that
should be it I'm not really sure if this
will work as well as I hope umm but I
think it will so let's go ahead it's got
it Ryan see what happens we'll see well
know immediately once one cube passes
pretty much is going to say I thought we
print past a name new max is not defined
of course of course new underscore max
whoops oh all right try one more time
come on no errors that's what we need no
errors passed the cube okay so cool and
now we can see new cubes are spawning
awesome so now this is a what will be an
infinite loop these the amount of cubes
will just keep popping up this would go
on forever we could make this a
screensaver so now that we've got that
the question though and the problem is
first of all first of all I don't know
if you've noticed but some that cube
just popped out of nowhere so not all of
the cubes are popping up in the negative
so really as we
add new cubes we do want to add them in
past the clipping plane because
otherwise they can pop up like that cube
just popped up right there pretty much
they can pop up right in front of your
face and you hit it I mean that kind of
sucks uh-huh
so obviously that's a problem and the
other major issue is this right the user
could just do this and come up here
right and avoid everything entirely so
we need some handling for when the
person kind of veers off so not only do
we need more cubes in the Far background
that we can't even see at we need cubes
to all of the sides and around us that
no matter what is fat even if we go as
fast as we can we can't you know get
away from all the cubes we could still
hit cubes so anyways that's what we've
got it still account for and handle next
but for the most part infinite cubes
here not um not too much lag like this
again I record in seven frames per
second so it might look like on your
screen for what I'm saying but this is
actually really really smooth for me so
anyway so this is looking good for now
but obviously we do have a few quite a
few things that we still need to modify
here so anyway that's that if you guys
have any questions or comments feel free
to leave below otherwise as always
thanks for watching thanks for all the
support and subscriptions and until next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>