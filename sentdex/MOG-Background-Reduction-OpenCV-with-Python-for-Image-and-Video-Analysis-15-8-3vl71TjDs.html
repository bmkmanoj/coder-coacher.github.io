<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MOG Background Reduction - OpenCV with Python for Image and Video Analysis 15 | Coder Coacher - Coaching Coders</title><meta content="MOG Background Reduction - OpenCV with Python for Image and Video Analysis 15 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MOG Background Reduction - OpenCV with Python for Image and Video Analysis 15</b></h2><h5 class="post__date">2016-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8-3vl71TjDs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
part 15 of our Python with open CV
tutorial series in this tutorial we're
going to be talking about background
reduction so we have shown a few
examples of how we can try to extract
the foreground from the background in
this tutorial we're going to just kind
of continue building on that and the way
that we're going to do it is actually
with the background reduction with an
algorithm that is uh this emoji so the
way it works is it's going to find
changes from a previous frame and note
that as foreground and it's going to
find plate and then the places that
don't change it's going to say that's
background get rid of it so it works
really well with finding motion in
images or videos or even a difference so
if you remember on like cereal boxes it
would be like fine seven things that are
different from this picture to this
picture this algorithm would do really
well at finding those like instantly so
as usual I'm going to use a sample video
if you have your own video that you want
to use go for it otherwise go to the
link in the description that will be
linked to the text-based tutorial and
you will find yourself with this video
here this is from one of 52 perimeter
cameras with motion detection and
infrared and night vision and all that
cut these two hoodlums walking down the
street up to no freakin good and the the
thing that we're going to do is we're
going to see if we can extract these
these walking hoodlums down the street
and say hey that that's the foreground
or even even in this case it's not
really the foreground it's just the
action right that's why I don't really
like calmness like foreground extraction
or background reduction that is what
it's called
but at what's going to be focused on is
these two folks walking down the street
they can't be trusted I just know that
Cambridge was so what we're going to do
is we're going to use that video I've
downloaded that video if you want to use
the same video you can right click save
video as and you're good to go
now what we're going to do first is
obviously you got to have CV two and
numpy imported
I already have that there and then we're
going to say the the capture in this
case will be you can use your webcam
actually I should have mentioned that
the capture will be CV to video capture
and you I'm going to use the video
though people - walking dot NP folder
and but you could put it obviously your
webcam or you can put in a video there
it doesn't really matter and then F gbg4
foreground background is going to be
equal to cv to create back background
subtract door emoji - fabulous
Wow true we're going to do ret frame
equals cap dot read the usual stuff
nothing new foreground mask is equal to
FG b g dot apply that bad boy to the
frame cv to dot M show original the
original is the frame and then we'll
also copy that paste will call it FG and
we'll call that FG mask then we're going
to say a K equals CB to weight key 30
and then 0xff if K equals 27 we will
break now cap dot release CB 2 dot
destroy all windows cool all right
save and run that invalid syntax if k
double equals twice M up
alright that's that's just great that's
fabulous
appreciate that let's try one more time
before I have to pause and oh my
goodness what is going on is is so this
is killing me it's killing me okay
well let's try let's try use the camera
I suppose I won't get to catch our
hoodlums maybe oh I've got it down here
all right hello camera oh it's very
angry about this okay so anyways umm
what are Y that video didn't work um so
hey okay you got me there's a lot of lag
going on but you got me it's probably
I'm recording and recording there and
running the image you know or the
recording software but anyways there you
have it you can see as I move my hands
that those are clearly extracted and
stuff in the background is there's
really nothing in the background besides
some pixels but we do know how to get
rid of those from previous tutorials so
let me close that and I close this and
let me see let me pause this yes okay I
figured it out I just didn't have the
video in the directory so changes now
that people walking down mp4 run it and
sure enough there's the original fee
this is the new feed those people are
coming through really well obviously up
here we've got like the trees are kind
of moving and stuff like that and then
also we have the you know our PI cam up
here in the count based at the time so
it's counting here and it's showing up
on our video we reached the end of the
video and it wasn't happy about it
anyway um okay so that's that's how you
can reduce the background or bring out
some sort of foreground I'm not really
like I said I'm not really content with
the idea of calling that background
reduction I would call that I don't know
non action reduction or just I don't
know anyway that's that that's how you
can do that I think this was pretty cool
because you can you can start to track
motion really fast and you can track
differences in like your room or a room
or something like that
so um I think that's really cool but
what we're about to get into I think is
way cooler so in the next tutorial we're
going to be talking about object
detection and we're going to be using
hora cascades to do that and so the next
time going to show you guys how you can
use a whore cascade to detect an object
in a video or an image and then in this
tutorial after that I'm going to show
you guys how you can create your own
hora cascade to track literally any
image you could ever want take a picture
of it train it and then you can detect
it no matter what so that's pretty cool
so those are the next few tutorials that
you guys have come in your ways so
that's pretty exciting so stay tuned for
that if you have questions comments
concerns whatever on this tutorial feel
free to leave them below otherwise as
always thanks for watching thanks for
all the support and subscriptions and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>