<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>URL Converters - Flask Web Development with Python 28 | Coder Coacher - Coaching Coders</title><meta content="URL Converters - Flask Web Development with Python 28 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>URL Converters - Flask Web Development with Python 28</b></h2><h5 class="post__date">2015-11-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iQ6YdBiLxOI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
another flash tutorial video in this
video what we're gonna be talking about
is URL converters or kind of the way I
see it is a way to make dynamic URLs so
the idea here is to take the URL path
itself and treat each little path along
the way as a variable or actually treat
the entire path itself as a variable so
obviously you know there are ways to
pass variables through and get variables
from the URL just natively through
getting post commands for example but
here it's a little more fluid way to
handle the URLs but also it's going to
save you some coding in certain
scenarios so at least on my end a
certain scenario is like down here where
you know I thought I would make custom
tutorials per you know tutorial but as
time goes on you start to really
template things and what we're seeing
here is very obvious I mean we've got
functions that pretty much for the most
part of are identical functions some of
the words might be a little different
but at the end of the day these
functions boil down to the same thing as
the other ones doing so the dynamic URLs
or the URL converters as they're called
with flask really handles a situation
like this very well so with that let's
go ahead and hop to it and start an
example so let's find where we had been
working before so I'm searching the
Gingerman and we'll take this function
here copy paste now I've got our own I'm
just making some space here a lot of
times people ready to kill me for my
whitespace I generally make the
whitespace so it's easier to see on the
tutorial so sorry that really bothers
you but it makes sense to kind of make
the space on the editorial so what we're
going to do is we're going to we'll
start off with a page called converters
and the way that we do it well first
let's change the name of these functions
so converter converter example and then
the template we're going to return first
of all let's get rid of this data and
then the template we're gonna return
will be
Berger example dot html' hopes we
already had that birth and we're not
passing it so that's the page that we're
gonna visit now to have these URL
converters or they basically are tags
that you treat you should treat them
like tags so an example of this might be
maybe this converse is it's a forum and
you've got pages so you might have any
URL a page like that so that's basically
it's like a tag and then every time
you've got a little parameter or
variable whatever you want to call it
here you take that and pass it through
the function just like you would with an
actual Python function this is being
passed through then finally you want to
pass that through to the template if
you're going to use it in the template
but you actually you wouldn't
necessarily the cake gonna be the case
that every time you're going to pass
everything through here through the
function through the template you might
actually just have whatever this is
changing the logic in the actual
function itself and returning may be a
whole different template or something
like that so but for now we're going to
pass it through just so we can see the
functionality work so we've got page
equals page cool so we'll save that and
now we need to make a converter example
about HTML so coming into the templates
and we'll duplicate 404 here and we'll
call this converter example dot HTML
sure we'll open the shell here and good
to go
converter example open that up and here
we go so let me yeah let's clean this up
just like we cleaned up the other ones
before div two div done all right so now
for now we'll just reference the
variable okay so we're just gonna say
whoops page okay so we'll save that and
that should really be it so let's go
ahead and come over here and by the way
for some reason if you do service
Apaches to reload and you're not on the
root user that's what was causing the
problem if I do sudo service Apache to
reload that seems to actually reload
things I
I can't imagine that restarting Apache
with sudo or not sudo like I can't
believe that actually causes a
difference because I mean you're you're
you're both referencing the exact same
service but apparently that does make a
difference so or at least from what I've
found so far so anyway keep that in mind
now what we're going to do is head to
our website and it's a dashboard let's
go to well first let's go to converters
and then add a page here page 5 ok and
so we're grabbing 5 at least at this
point but what happens if you just
wanted to go to like converters you're
going to get a 404 because converters is
not actually being addressed in any of
our code here so what happened my init
is it still of yeah so right now we're
requiring there to be converters and
then the page but there's really no
addressing just simply converters so
generally I mean you wouldn't want to
have to like you would probably want to
have just a page here and then you start
populating the page numbers if if you
need them right you might not actually
need them and it just adds more to the
URL so instead you'd probably want to do
something like this like a fruit
converters close that off cool so then
you might try to do something like that
but you're gonna find out that doesn't
work and we come over here refresh and
we get basically a 500 this is a custom
500 error but you'll get a 500 what went
wrong well we have nothing for Page
we're trying to pass page we have
nothing for page so what we want to do
is set a default parameter right so easy
enough save that come back over here
restart come back to here refresh and
sure enough we're on the default page
which is page 1 now we're trying to say
that hey these are page numbers but what
happens if you instead of a page you put
G ok we're going to get a G but that's
not an actual page so so what can we do
there to handle for G when we really
want that to be a page a page number
well page numbers are all
so you would use it so this basically
requires it to be an INT if you pass
something that is not an INT through to
here it's not gonna work right because
we have no handling for a string and not
an int so for example let's reload
refresh we get a 404 but if we pass a 5
here we get the 5 and no other problems
so then what if for example 5 works but
what if we did 6.0 we get a 404 6.0 is
convertible to an int but that's not an
INT and we have this little dot here and
that's what's causing some of the
trouble but we can do float so we can do
that restart
come over here refresh and sure enough
we get a 6.0 ok another one that we can
do is string so for example if we
started saying like python is so cool
and we came over here and we said hey
week we won't take anything let's just
do the regular page let's say because
that was working right for most things
so we do that you'll see that we
actually we get python is so cool and we
even get our little exclamation mark and
and so like that basically where this is
a lot like that the default version
basically that you're gonna have but if
you wanted to use purely string you
would say something like this you could
just say string page now the problem
with the string page is going to be the
following so string takes everything but
is slash so what if you wanted to do
something like Python is cool okay look
that was your path or let's do something
more realistic so python tutorials
basics okay you wanted to handle for a
path like that
we could go but we see that's where
we're having some sort of issue here and
we could try to say hey this just page
week is refreshed there come over here
still we don't have any handling for for
this but what we can do is instead of
page you can say half and then we'll say
we'll call it page four now we need to
probably call it URL path or something
but let's reload come over here
refresh and there you go you've got the
actual path Python slash tutorials slash
basics so we pick up all of that
information so that's pretty useful
because it allows you basically to to
have a very dynamic path so you might
have tutorials basics and that's like
the basics tutorials maybe they want to
take it even further and they want to go
to a while loop or something like that
you would pick up that right at any
length of path now another thing that
you might do is like for example you
might have converters and then you might
have string and then article and then
here or actually maybe maybe just string
this is your thread title and then you
have an int that is a page okay so we
need to pass the thread and we need to
pass it down here too so thread equals
read save that we'll come back over here
and let's just add the thread here read
and let's let's put it put it at least
this in paragraph tag so they're on a
separate line save we'll come over here
we'll reload
and go back over here and we'll say the
thread will be Python the page will be
15 didn't work let's see what happened
coming back over here so thread is a
string that should have been fine in
twas a page we pass thread page thread
page one more time here I thought
working it what's wrong with you okay
we'll come back over here that went
through
let's see converge string thread let's
try to give this a default just to see
thread page for example I'm sure it's
like a super obvious problem here but
I'm not seeing it
let's refresh that so we're not good for
some reason we're not getting it what
has happening do we not have that okay I
see what's happening maybe maybe it's
that I shouldn't cause the problem
really it would be like if you didn't
have the slash Wow usually that doesn't
cause the problem like okay so so what
happened there was if you have an a NAPA
root that has a slash like this like a
slash converter slash you can typically
go to the website yeah okay so I guess
maybe that was what was causing our
problem so if you have a slash and then
converters and then slash you can visit
that URL by by either having slash
converters slash or just slash
converters and it would just be
automatically converted to having a
slash but if you don't have a slash the
only way you can code that URL is with
slash converters no slash so so that was
what was costing us some trouble there
we did not have the slash here so we had
to slash in the slash and we come back
over here
load that should still work and then it
probably impose a slash yeah so it adds
the slash there but you're capable of
entering without the slash okay so that
was the problem so so that in this case
you're basically requiring there be a
string and an imp age and the other one
was a path where you can have basically
unlimited you know paths now what's
interesting about this is is actually
you could use something like this
especially the path to actually make
your entire website all contained within
one function now that doesn't mean you
should do that it just means that you
can do that so for example if we go to
the very very top here and find let's
just do let's just go to the see if we
can find there it is so this is our main
this is like our home page right so how
would we get to the home page with a
home page and then handle for any other
path so first what you would do is you
would handle for the slash okay then
what you would do is you're gonna handle
four slash and then a tag so like let's
go take this slash and then handle for
path URL path and then don't hit will
slash there and then URL path will say
the default URL path is a slash and we
still need the slash for the reasons
that we needed it before don't forget
that part so we still need this line and
I think that's all we need
let's let's try that and basically any
page even if it would in theory have
previously resulted in a 404 any page
will actually result in the home page so
let's let's refresh here or reload and
so here is our website let's go ahead
and reload here make sure we don't have
any error dashboard cool let's try to go
to the home page no err on the home page
and then
let's go to this web there sure enough
that takes us to the home page so now
any link would take us to the home page
so well any link that isn't explicitly
dressed in the unit dot pie anyway so if
we go to you know converters five for
example that should that's actually
taking us to the well we don't have any
handling for converters five so that's
exactly that's a problem
but if we go like we go to the dashboard
for example let's go here let's go to
the home page and then you go to
dashboard that's explicitly defined and
our init dot pi so so we're able to go
there but if you want to like dashboard
this and then this and then this that's
not defined explicitly but it is handled
for in this so that's pretty cool you
could have everything in that main
function you could have like a you know
if you if you were really really good
programmer and you could probably have
everything in the main function and
still have it be a pretty nice clean
website and a really short main function
so you could probably do some pretty
cool stuff there but that's not me but
but anyway that's just to kind of show
that you can have how actually powerful
these dynamic URLs or URL converters
actually are so anyways that's it for
this tutorial if you have questions
comments concerns I'm not sure what
concerns you might have but if you did
have them you're gonna leave them below
the next you tour we're gonna be talking
about flask mail which is a pretty
powerful mailing application that's kind
of built around flask it's really easy
to use even if you weren't using flask
for a website I would use flask mail
because it's so simple I would just make
a quick app that just issues mail
through flask because I'm pretty happy
with this flask mail I haven't found
another application that does it as well
as flash mail so anyways that's what
we'll be talking about the next tutorial
so stay tuned for that anyway till next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>