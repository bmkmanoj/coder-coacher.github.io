<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting Node Rank tutorial - Supercomputing and Parallel Programming in Python and MPI 2 | Coder Coacher - Coaching Coders</title><meta content="Getting Node Rank tutorial - Supercomputing and Parallel Programming in Python and MPI 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting Node Rank tutorial - Supercomputing and Parallel Programming in Python and MPI 2</b></h2><h5 class="post__date">2014-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DWzXucbna4c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody and welcome to
part two of our super computing parallel
programming slash high performance
computing tutorials series kind of
leading from cleaning from coming from
building our Raspberry Pi supercomputer
but you can take part obviously with any
supercomputer or even a single node
computer that you're just programming
and making your own kind of pseudo super
computers so with that we've now
installed MPI for pi we did test the
demo make sure made sure it worked which
was happening here showed you guys how
to make a machine file or that really
had to make a machine you file but what
a machine file was and now we're ready
to actually start building our own
supercomputer now so the next thing that
we want to do is just make a really
simple script here that kind of helps us
figure out and slowly start to
understand it's kind of confusing when
you first start working with this stuff
it's almost like programming was for me
initially where there's a lot of
uncertainty about like what can I do
this or can I do this you know and that
kind of stuff where you're not really
sure if you're gonna get away with doing
a lot of stuff so it's gonna be a lot of
trial and error for you for sure but
hopefully I can help you guys so with
that let's go ahead and make a really
basic script so again what I'm gonna
what I'm going to do is let me see if I
even have winscp up which I do not so
I'm gonna bring up a winscp because I'm
on a Windows machine what a loser uh and
because SCP doesn't work for me for
whatever reason otherwise so
so anyways for all the code and stuff
I'll type in the code right here
otherwise or what I meant to say all the
like commands I'll type it in here and
we'll see the output but for the code
I'm actually just gonna coat it in a
blank PI document so you guys can follow
it really simply mostly if the reason I
want to do that is so it's it's still
color coded so with like highlighting
and all of that is because when you move
code in here like the one that we're
gonna code today is pretty basic but as
we go on it's gonna be pretty helpful to
be able to see the differences so you
can do whatever you want if you want to
code the Python part straight through
Nano that's totally fine I don't really
care how you do it but this is the way
that I'm gonna do it so just so you know
so I'm gonna code it here and then when
I'm done I'm gonna save it and then I'm
gonna SCP it over to my nodes now keep
in mind you're gonna have to SCP it to
both nodes if you just move it to the
master node it's gonna be like oh this
file doesn't exist and you're gonna be
like pulling your hair out because you
just put it there but you'll realize
that whoops I did not move it to my
worker node so with that let's go ahead
and get started let me situate this
video or this screen real quick alright
so here we go
as usual basically you know everything
you've got to import some stuff for now
the only thing we need to do is from MPI
for PI import MPI
which is our message passing interface
next thing we want to do is we're gonna
stay calm equals NP i.com underscore
world and then what we can do from this
is there's a lot of different commands
that we can pull from this we can get
the name the rank the total size of our
supercomputer and all kinds of fun stuff
so we can query this for a lot of data
but anyways moving on so then we're
gonna say is we're just gonna do print
hi and then absolutely hi
my rank is
and then comma Cong rank so comm is
referencing this and then dot rank is
referencing MPI comm world so that's it
now what we're gonna want to do is save
this and again I am gonna SCP this to
both of my nodes in fact I wasn't even
prepared for that let me move this out
of the way and what we ought to do is
let's go CD here let's put this on I'm
gonna put mine on my desktop so slash
home slash PI sauce desktop ok so I'm
gonna make their supercomputing
tutorials so SCT and ok so I'm gonna put
my files into that into there I'm gonna
do the same thing on my other this is my
little worker node so again CD this
desktop maker SCT ok so now I've got the
folders there and now I'm gonna SCP this
script that we think just made in Python
here this one when I see T this script
into the home slash PI slash desktop
slash SCT directory again don't forget
to put it in both directories and
anybody who is on a Windows machine I
figure I might as well just show you
guys what this is so like this is your
SCT it's called like winter SCT can they
say that a lot now cuz we called this
SCT the program is called winscp
and it basically is like a you think of
a lot like a File Transfer Protocol
client where you can just click and drag
this stuff in there be people that are
on like Mac and all that can use SCP
just straight from the command line
that's not going to work for Windows
machines so but you can download winscp
and you can do what you want with it so
anyways what I'm gonna do now is drag
these folders over or these PI files
over like a
been saying I'm gonna do and now what
you'll do is we'll come over here and
now we're in the desktop let's see it
shouldn't change anything so we'll go
MPI run dot open NPI number of
Processing's two processors rather -
machine file is located in home PI MPI
testing and in fact I think I'm so I
hunted well we'll just leave that MPI
testing slash machine file and then
Python and we're gonna use Python to run
SCT to PI that should do it
can't open so let's see what do we do
wrong oh we're not in the SCT directory
CD s let's try again hmm
okay there we go so now you've got it
did find the file and hi my rank is you
know zero and hi my rank is one and now
what I'll do just for kicks is this is
my little worker node here we'll just
delete SCT to run it again and as you
can see you get this you know error no
such file or directory because it has to
be located on both both nodes now
interestingly enough though you can kind
of have a good old time because you just
need the same file name you could change
the actual contents of that file so some
people what they'll do is they'll have a
master node file and then they'll have
all the worker node have a different
file completely so anyways
and that way because the masternode
might have a large set of operations
that it needs to know and the worker
nodes might have a large set of
operations that they need to know and
they don't necessarily need to share
them so it's a waste of code to have it
there so anyways that's going to include
the most basic version of the scripts
only go ahead and drag reference let's
see here we go what we did again so we
just import NPI for pi what we just
downloaded basically then we just
specified the most basic thing that
you're gonna have to do is you know comm
for communications equals MPI comm
underscore world and then from there we
can gather all kinds of information the
first one we've gathered us rank but as
time goes on we'll show you guys a few
others that we can grab and then it just
simply says hi my rank is what and it
runs through this one time on every
instance which just so happens to be we
only had two but again you can run this
on multiple instances so we could do
something like this three there's three
to enter wait for it and you see we have
a 0 a 2 or I mean a 1/2 and a 0 so now
we have three things but we only had two
files in that machine file or two files
two IPS in that machine file so by that
same token your machine file could
simply have one IP address in it you
could say MP 2 and there you go or you
can say mp4 with only two and you can
kind of mimic having four nodes without
actually needing four nodes so that's
going to conclude the next part in this
parallel programming I performance
computing and supercomputing tutorial
series hopefully you guys enjoyed if you
have any questions or comments or
whatever feel free to leave those below
as always thanks for watching thanks for
all the support and subscriptions and
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>