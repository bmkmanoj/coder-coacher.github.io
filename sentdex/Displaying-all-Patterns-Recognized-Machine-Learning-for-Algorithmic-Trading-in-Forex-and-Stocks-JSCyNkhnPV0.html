<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Displaying all Patterns Recognized: Machine Learning for Algorithmic Trading in Forex and Stocks | Coder Coacher - Coaching Coders</title><meta content="Displaying all Patterns Recognized: Machine Learning for Algorithmic Trading in Forex and Stocks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Displaying all Patterns Recognized: Machine Learning for Algorithmic Trading in Forex and Stocks</b></h2><h5 class="post__date">2013-10-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JSCyNkhnPV0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello everybody and welcome to the 12th
machine learning and pattern recognition
for stocks and forex trading where we
left off we were generating a similar
pattern on the chart and now what I
would like to do is kind of mesh them
all together if you remember you know if
it had maybe five similar patterns we
would have to run cycle through five
charts let's go ahead and display it all
on the exact same chart so the first
thing I'd like to do is instead of like
you know running through all the data
let's just go ahead and make this start
at like 37,000 and so that should give
us a good amount of data to start with
the next thing that we want to do is
let's come up here and let's change this
to 70 instead of 40
we'll still append that pattern and now
what we want to say is let's see so if
it was greater than 70 it would do
something right but instead let's let's
just if it's over 70 sort of actually
doing something this time what we're
going to do is like true or false if a
pattern was found so let's just say
pattern found equals one as in like true
the next thing we should do is let's go
ahead and I guess we could get let's
take this and let's just comment this
stuff out for now so we don't really
need to print that out and we certainly
don't need to print either of these
things out either now the next thing
that we probably should do is up here at
pattern recognition let's put down some
space here and we'll just uh buy a pack
pound equals zero so by default there is
no pattern found right and then also
let's have a plot Pat array and this
will be like the pattern of plots
basically because like right down here
right we were actually just plotting it
every time instead let's just append
this to a you know plot pattern array
that will plot all at the same time once
we have all of them together right
so if the similarity is greater than 70
what are we going to do
well we'll you know we'll get the
pattern index right and then we'll also
say pattern found in a sense true right
now we still want to do we can leave the
X here I mean we can change we can move
that if we want it but we'll leave that
there and really the only other thing we
want to do in this if statement every
time would be right if it did find a
pattern what do we want to do well we
want to do plot Pat array dot append and
we want to go ahead and append that
pattern now this stuff we don't want to
do yet we want to go ahead and run
through that entire if statement the
next thing we want to do is not under
this if statement but still contained in
the for loop is now where we are I mean
outside of the for loop rather I'm sorry
so not under this if statement not under
the for loop so we want to run through
everything in the for loop and if it
matches then it's going to run through
here and append it to this array and
then once it's done with that for loop
will run this if statement and in and
just so you understand the if statement
ought to be you know what indent over
right it falls under pattern recognition
not the for loop so you should be able
to just go you know click down in here
somewhere and just hit tab once and then
what we'll say is if Pat found equals 1
then we want to do some of this stuff
let's just delete these print series we
don't need this all and then to untap
something you can just hit control and
like at the left bracket I guess and
that will indent something I don't know
if we've covered that yet but yeah
that's how you do it otherwise you can
do it like one by one you know but
anyway so the next thing that we want to
do is if Pat found equals one we want to
identify the finger so that's good and
since this will be a little bit bigger
of a figure let's go ahead and give it a
figure size equal
and then parentheses do ten by six now
now after we've done that what we want
to do is we want to call up that plot
pad array remember so every pattern
that's in that plot patter a we now want
to plot it right so we'll make a for
loop so let's say for each pack right so
we're just assigning a variable to each
of the patterns in plot pat array let's
say so for each of the patterns in there
what do we want to do well let's just
plot them up right so PLTW lot and then
XP in reference to XP up here right just
the sudo one to 30 basically to plot so
peel Twp lot XP and then each pack so it
plots every pattern that is in that plot
array that way we're going to get all of
this on the same chart once we're done
with that for loop what else do we want
to do well we want to go ahead and plot
the original pattern right so Pat for
recognition and no longer do we need to
plot this each pattern right that is not
necessary anymore because we're doing
that here right and we're doing all of
the patterns instead of one now what we
ought to do is if say for example we
plot 30 lines it's going to be really
hard to know which line was the original
line for a couple reasons one is it
plots as it goes right so so if you like
the first line I think is blue the
second line is green and then it assigns
you know colors and whatever order is by
default format plot lib so if you you
know plot it first it will always be a
blue line but other lines will be
plotted on top of it right if you plot
it last it's going to change color so
the best thing to do is to you know
choose the color and for this we'll use
a bright cyan what did i do it's going
to be parenthesis um not parenthesis
quotes 5 for FFF 7 doesn't make a cyan
color and also let's make it a fat line
so we'll say line width equals 3 so not
only will this make it the same color
every time the line like the thickness
of this line will be a lot thicker than
the other line
so if you'll you'll see the line and you
won't be able to miss it so now plot
grid will make this troops we want to
see the grid and we'll give it a title
too while we're doing stuff we'll say
plot title and we'll call this pattern
recognition awesome save that show and I
believe we are ready to see any errors
that we've made usually it's some sort
of error anyway run it and wait for it
it'll store the data to the memory data
link that looks all good wait a few more
seconds while it does some stuff we
should probably get it to stop printing
out these the whole pattern we will do
that before we are done here and it
plots up and this time around unless we
did something wrong there is only one
similar pattern but as you can see we've
got you know this this thick blue line
as opposed to a thin thin one so let me
close that it's hopefully we'll get
another one the other thing I want to do
is let's get rid of that enter to
continue thing to next
waiting on this graph to come up
holy-moly okay so the next one is quite
a bit Messier and we've got a lot of
lines here I wonder if what we ought to
do well I'll show you guys something
they're really interesting then since we
got so many lines here now as you can
see I mean they kind of follow the
similar like you know almost like a the
bottom of a you you know right they all
kind of follow that there's a few that
kind of branch off here but you can at
least see that it's a fair it's you know
it's close ish but now the next question
is what if we close out of this and
thank goodness for the enter to continue
if we come up here and we just change
this from 70 to 75 right so if you
recall that was the second pattern in
and so let's close out of this yes and
let's rerun this bring it over here and
we'll wait I'll just pause it while we
wait for the data okay the first one we
didn't get anything so that first line
that's no surprise because it was just
one line met it so fairly likely to not
have it but the second round we we ought
to get a graph but I'm gonna be mad all
of those were somewhere between 70 and
75 percent the same there we go cool so
you recall the first one here's the
second one
now that we've required not seventy but
seventy five percent similarity so as
you can see we have quite a few less
lines than we had before so just keep
that in mind as you just barely wiggle
that percentage there you have drastic
changes in similar patterns found which
can really go both ways as far as how
much that helps or hurts you but we'll
be talking about that in a little bit so
anyways that's going to conclude a video
12 and just displaying all of the
similar patterns on the same chart that
we're running through the you know one
at a time kind of stuff and then pretty
soon we'll be running this into
displaying not only this but the actual
outcomes that truly did happen and then
eventually back testing everything so
anyway that's going to conclude part 12
as always thanks for watching thanks for
your support your subscriptions
until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>