<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Graphing Live Twitter Sentiment - Language Processing With Python and NLTK p.21 | Coder Coacher - Coaching Coders</title><meta content="Graphing Live Twitter Sentiment - Language Processing With Python and NLTK p.21 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Graphing Live Twitter Sentiment - Language Processing With Python and NLTK p.21</b></h2><h5 class="post__date">2015-05-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ojDHK1SmCHA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on buddy welcome to part 21
and at least the initial conclusion to
this Python with ML TK for natural
language processing tutorial video
series in this video I'm just going to
show you guys a little bit of a I don't
know a cherry on top as far as the
sentiment analysis is concerned and
we're going to actually be graphing the
live sentiment for whatever topic you
choose so over here luckily after my try
and accept pass in the return of true
when we pass we are having success so
that's good so if that disconnect was
happening to you just add that that's
really bad you shouldn't just let the
errors go but when the error is no like
exception to re-raise or whatever not
really sure what to do from there so
this is fine
so anyways right now we're streaming
obama sentiment so let's see what we can
do about graphing that so again why
don't you know it I have a tutorial for
a graphing live sent out live set this
is a tutorial for graphing the most out
of it live math lot Lib stuff so you go
to Python Pro internet start learning
let's go to data analysis data
visualization and scrolling on down here
live updating graphs click on that bad
boy and here we go so what we want is
we're just going to take the code right
here again if you want a tutorial on how
it's done
here it is otherwise we're just gonna
use it so we're going to copy this to
move this aside and then we're gonna
paste awesome basically all of this gets
to stay we don't really have to get rid
of anything the only thing I want to
change is right watch where to change a
few things first of all we're going to
import style because if we don't have
style we have nothing the from
matplotlib import style and then down
here we're going to say style dot you
use ggplot this isn't really necessary
to anything other than making the graph
look a little better and not so ugly
this graph is like really ugly so that's
all that is now what we want to do is
pull data the new data file is going to
be
in fact let's just let's get it let's
see let's as you split all that let's
give her this okay so new file that we
want to pull from is that Twitter - out
txt that's fine and then we're going to
say lines equals pull data split by the
newline element and then we're will keep
the same x-ray Y array that's fine then
what are we going to do so this file
contains positive negative positive
negative and we want to track that
sentiment so how do we do that well what
we can do is we can at least save X
starts at 0 Y starts at 0 and then what
we'll do is make some space here so I
can scroll down and what we're going to
do is we're gonna say for L so for line
in lines so that's line in lines of this
entire file what do we want to do well
we're going to say first of all X plus
equals 1 of course and then we're gonna
say if whoops if positive so if POS
whoops actually it's a string if POS in
L so if the line is is positive we're
just going to say the Y is plus equal 1
l if its neg in L we're going to say y
minus equals 1 easy enough and then we
come on at the end of this actually
right here we're going to say x-ray
append X and then Y array dot append Y
so x-ray just kind of just goes up we
could also create make X the current
time convert that to matplotlib time or
none python and then actually MPL dates
that's what it is convert that and
actually have it be like a date graph as
well but this will be fine for now on
just a nice basic chart and the rest is
good so let's see how Obama's been doing
let's save and run it actually got a lot
of sentiment sense Oh Obama's not doing
so he's doing good in any tank um sorry
thanks Obama
let's uh hold on spring that pick up
really rub it in so here is the
sentiment now I will just say that these
are both of these algorithms
are biased towards the negative I'm not
really sure why I think probably because
when people are positive about something
they have less like words to say like
less vocab then when they are negative
about something usually the negative is
like more negative right so you could
account for that you can say you know
instead of - equals 1 you could say
minus equals 0.3 or something like that
and then graph it up and then here
you've got you know a different kind of
graph so you can kind of modify if you
need to so that's that now um let's try
a different word okay so what if we did
um let's see the stream is still running
me pull up the stream receive that would
be this one I think right so instead of
Obama let's do like so Obama was going
negative let's do a word like happy
okay so we'll save that and let's just
run that so this is this was the Obama
stuff so reconnect and use the term
happy instead and we'll see kind of what
we do differently and then while we're
doing that let me modify the Twitter out
file so let's go Twitter out let me just
open it up and empty it empty that bad
boy and let's do see we're looking for
this one I think right time but this is
not hold on everybody just hold on all
right
instead of 0.3 we'll do 1 that's fine
let's save and run it there we go so
this is for the term happy so as you can
see this is actually o8 okay I thought
we were doing so good when we uh let's
see move this way this way that we were
doing good when we hadn't thrown any
errors see this let's just move this one
up here let's try this one more time
this over here
is so aggravated that this keeps
disconnecting anyway so here's our live
graph now if you remember with the obama
won at least nap it's going up with the
obama won for example we had a lot of
data and so here we're starting from the
very beginning so what can we do to make
this graph kind of like scroll with the
same amount of data so like let's say i
don't know how much data we have well we
have over 200 now so we could do is for
ellen lines and then you could do like
the last 200 lines save that and then we
can regress looks like maybe we crashed
yet we sure did that's so frustrating
eventually twitter is going to be like
stop that and they're going to get rid
of us so anyway now we have just a solid
you know the last you know 200 bits of
sentiments the whole graph updates live
so anyway that's good this is good i'm
happy to see this with um the term happy
use is indeed going up because we are
definitely somewhat biased towards
negative sentiment so anyways uh that's
it with the python with n LT k for
natural language processing tutorial
series at least for now
i hope you guys enjoyed i have a lot of
fun making it this is kind of cool i
love data
I hate errors um but if you have any
questions comments if you know how to
fix this error if you have ideas on how
we can maybe improve this entire thing
or if you find anything kind of cool as
far as live sentiment is concerned you
know let us know as I said before all
sample code will be posted online by the
time you're seeing this video it should
be like a day or two and anyway that's
that if you have questions comments I'm
always here to help I think this is cool
I'm mad about this error though anyway
that's that as always thank you for
watching and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>