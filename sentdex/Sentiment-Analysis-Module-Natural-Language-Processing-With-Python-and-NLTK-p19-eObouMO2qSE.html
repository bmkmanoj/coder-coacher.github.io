<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sentiment Analysis Module - Natural Language Processing With Python and NLTK p.19 | Coder Coacher - Coaching Coders</title><meta content="Sentiment Analysis Module - Natural Language Processing With Python and NLTK p.19 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sentiment Analysis Module - Natural Language Processing With Python and NLTK p.19</b></h2><h5 class="post__date">2015-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eObouMO2qSE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what's going on everybody welcome to
part 19 of our Python with the NL CK
library for natural language processing
in this video we're going to be building
on the last video and talking about how
we can convert this algorithm to a
module that we can use and then we're
going to tie that into the Twitter
streaming API and generate live
sentiment analysis for any term you want
so anyways we're going to just dive into
that so this one is going to be pretty
quick we're going to talk about pickling
we're just going to talk about it we're
not actually going to dive into coding
or you know pickling each single thing
here that'd be a waste of y'all's time
I've already shown you guys how to
pickle so you should be able to do it if
you can't figure it out for whatever
reason after this video the source code
will be posted so all of the things I'm
showing you will be posted up but I do
encourage you to try it yourself
pickling we've already gone over that in
this series how to pickle so definitely
try to do it on your own if you can't do
it feel free to ask question or check
the source moving on after we pickle
obviously first you have to pickle it
then we're going to load the pickle and
when we do that if we pickle all of the
trained algorithms and the word features
and all this we will be able to import
this module and use it within seconds
it's probably three seconds or something
as opposed to like you know three
minutes or longer depending on your
processor so so this is the module
basically nothing's changed until we get
to this point so here what I've done is
I've got some some logic here to allow
only for specific types of words using
the part of speech tagger that's built
in the ML TK we've already gone over
part of speech tagging and all that so
you should understand here we chose by
word then we just tagged the part of
speech and then what we're doing here is
we're saying for a word and part of
speech if you recall the part of speech
tags two tuples where you've got the
word followed by the part of speech and
so this here for W and part of speech
that would be W would be the tuple word
part of speech for the part of speech so
word and then the first tooth element is
like the second right so that's the part
of speech then the zero with what are we
doing there so with parts of speech
you recall usually it's like three
letters so there's many forms of
adjectives as many forms of adverbs and
so on we just want to know the first
letter so if this word is a type of
adjective adverb or verb we're
interested and actually here I'm just
allowing adjectives you can play with
this do what you want
I just adjectives seem to be the best
from my findings but I didn't really
test it too heavily so do what you want
there and then if it is an adjective at
least in our case we append it this way
we're not getting nouns and you know
commas and this kind of stuff in our way
so we do that for both and then we move
on we go ahead I save it as a pickle
again we've covered how to pickle what
the point of that is so I'm not really
going to stress too much on how to do it
there's the code though if you if you
need it pause the video and copy it
moving on we've got the word features
again we're pickling the word features
this stays the same we're not going to
pickle that no reason to coming on down
we get to the classifier so now for
every single class bar except for the
voted class barks we can't for every
single classifier we're pickling so we
pickle and so we here we pickle it
classifier pickle classifier pickle all
the way down to the bottom and then we
have voted classifier can't pickle this
one but that's that's totally fine
there's no reason to this is actually
really fast this isn't like the other
classifiers where we have to train this
is really just a class of its own and
it's just a vote based on the other
classes here so there's really our
classifiers rather so there's really no
reason to pickle this this is like this
operation happens in milliseconds that's
totally fine and that's that and then at
the very bottom here we're just building
kind of what we're going to have here as
our module we create a quick function
here we just define it a sentiment text
and it returns the features and then the
fine features of text and then it just
returns them the other thing we can do
is we can return so you've got voted
voted classifier classified feats we can
also return the confidence up here so
remember we built this confidence score
so anyway this is the first thing you'll
run through this you'll pickle this once
you have the pickle we move on to the
second part of creating this module and
that's this file here we're going to be
saving this as sentiment
Maude dot pie and coming on down here
basically everything's the same only
we've removed all the generation of
stuff so documents were loading the
pickle that we just pickled a second ago
loading the word features the feature
sets we're creating these testing and
training sets no problem and then we're
loading in the pickled algorithms all of
them right here boom done we come on
down here voted classifier we create
that and then here we have the sentiment
function so basically what we'll do is
again we're saving this as sentiment mod
pie and just to eliminate any confusion
son and modify all lowercase
so then we'll import sentiment mod and
then it'll be sentiment mod dot
sentiment passed through text that
function and then you'll be returned the
classification and the confidence level
so again the confidence level is based
on the voting so did 100% of these
algorithms vote did 80 percent or 60
percent and you might want to change you
know what you're even willing to
consider if it's sixty percent maybe you
just toss it out and don't claim that
you know the answer so that's sentiment
mod pi we save that and then we're
coming over to the final step and that
would be you know just any file but this
will just be a blank file here and then
we can do the following we can import
cents in underscore mod as s so import
Senate mod as s and then we can actually
do something so we can say a print and
we're going to do s dot sentiment so the
were importing something that one is s
and the dot sentiment is referencing
that sentiment function what was the
parameter of that sentiment function it
was just the text any of the text so we
passed through let's pass through our
own review so say um this movie was
awesome the acting was great
plot was wonderful wonderful and there
were pythons so yeah
right okay so that should be that should
ring positive for us and then we'll just
do the exact same thing again let's just
copy this come down here okay
come down here and let's do one more and
this will be a list to make this a
negative review so I say this movie was
utter jump there were absolutely zero
pythons I don't see what the point was
at all horrible movie zero out of ten
okay so here's a negative review
obviously because it had zero pythons
and the other one was a pause review
that had Python so let's go ahead and
save and run that and see what we get so
keep in mind the importing time that's
more than three sugars anyway there it's
obviously much faster than before and
here we have our first review was A+ and
that's a one hundred percent confidence
level remember we were mimicking before
they send them in as decimals anything
from zero to one so one is 100 percent
confidence so the first one is positive
with a hundred percent confidence the
second one was negative with 100 percent
confidence so that's exciting because
our other algorithm wanted to just call
everything negative so good that we've
got got a got one that will classify
even short text as positive or negative
but can actually see and recognize
positive okay
so again I recognize that was pretty
quick to go through all that stuff but I
just it was going to take probably three
videos each of this long to talk about
the pickling and loading of the pickles
and the conversion to a mod didn't
really make much sense because we would
just be glazing over content I've
already talked about plus I think it's a
good learning experience for y'all if
you can really try this on your own try
to pickle the stuff I'm going to try to
load the pickle on your get comfortable
with it because pickle is a really
important thing again it's not just ml
TK pickles with anything so get used to
it so anyway if you have questions or
comments if you need help something's
working for you I'm here to help I
always here to help so just feel free to
ask again the source code will be posted
online probably within a few days I
usually do the whole video series post
them up on YouTube and then I post up
all of the the text text versions of the
tutorials along with the source code so
everything will come but if you need
help right now I'm happy to help so just
post comment below anyway that's that as
always thanks for watching and until
next time where we're going to connect
this bad boy to Twitter and then start
graphing live sentiment so that will be
really exciting really cool I'm happy to
get to that point so anyways thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>