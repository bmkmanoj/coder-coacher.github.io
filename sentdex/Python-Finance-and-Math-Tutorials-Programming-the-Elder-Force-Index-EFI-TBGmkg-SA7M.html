<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Finance and Math Tutorials: Programming the Elder Force Index (EFI) | Coder Coacher - Coaching Coders</title><meta content="Python Finance and Math Tutorials: Programming the Elder Force Index (EFI) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Finance and Math Tutorials: Programming the Elder Force Index (EFI)</b></h2><h5 class="post__date">2013-12-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TBGmkg-SA7M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hello and welcome to the second part of
our other force index miniseries inside
of our Python mathematics and stock
indicators big series where we left off
we were just talking about the elder
force index now it's actually program it
and Python so if you don't already have
the stuff that we need you're going to
need one the sample data and then also
you're going to need another snippet of
code from our sample code so if you
don't have that go over to syntax com go
over to the about button hover that and
click on the tutorials and then head
down to the Python stock forex futures
options indicators blog click on that
and then if you scroll down a little bit
there is sample code with empty slot and
sample data that will be using so if you
click on sample data you'll get this
just copy and paste this stuff into a
notepad file in the same directory as
your script and then this is our actual
sample code so we'll visit that page for
the sample code and actually for now I
mean you'll want to get the sample cokes
we will be using it but for now all
we're really interested in is the
exponential moving average part so we're
just going to copy that if you want to
know more about the exponential moving
average calculation I do have a tutorial
video on that so check that out if you
want to know more so that's that I'm
going to paste that into our script here
so we'll be using that also if you have
been following along copy and paste that
top part that's been in like every
single calculation script and save
yourself to typing otherwise type with
me we're going to want to have import
numpy as NP and we're going to want to
import time then when I have some sample
data and that's going to be the data we
just pulled so that's going to be open
and then whatever you saved it as mine
and sample data text with the intention
to read and then we do read it in the
memory then we're going to split it up
so where they split data equals sample
data that split by a new line through
whatever reason no one has ever got on
to me about doing it this way but there
is an actual way to read lines of text
files but no one's actually set anything
to man pretty surprised we'll see how
long it takes anyway date closed P hi P
low p open p volume equals NP load text
what text we wanna load split data even
those not really a text file that's okay
the limiter equals a comma and then
finally unpack equals true so we can
unpack it in two variables like that so
now that we've got that we've got
exponential moving average defined let's
make some more space at the bottom here
now we want to actually define efi
variables require for efi is going to be
d cv in TF and that is going to be date
clothes volume time frame this function
is going to return an efi so pronounced
gonna be empty and we will populate it
next we're gonna say x equals 1 if
you've been following along and guess
the next thing that we're going to do
which is while x is less than the length
of d for date what do we want to do
we're going to say the force index
whoops horse index is going to equal C
so the clothes price of X minus the
prior clothes price so X minus 1 times
the volume X so what this is doing is
it's saying today's clothes- yesterday's
clothes times the total volume that has
you know transpired which is also why we
had to start at x equals 1 so we could
reference the 0 with element next we're
going to go ahead and print out force
index just to see if it's a number that
we're actually interested in then we're
going to do efi dot append and we want
to embed append this force index now
what we want to go ahead and do is then
we're going to close off this while loop
eventually with an X plus equals 1 so
it'll finally finish then we're going to
say EF ITF sao e fi of the time frame
it's going to equal x moving average
which is our function that we have to
find up here again if you want to know
more about that I do have a video on it
the move the values window values will
be GFI window will be time for him TF
finally this function is going to return
date 1 colon and then also efi TF and
then finally we would call it like this
yeah fine
date clothes p volume and then we want
to do like a 14 time frame and in fact
let's do efi x e f x y equals that and
then we're all done will actually call
efi why if i actually just be a bunch of
dates right so we'll just print out efi
why so save that run that make sure that
we get like some sort of print out they
were interested in although i guess yeah
we did print it out up here come down
here and here we go with the other force
index alright so now what we're going to
go ahead and do in the next video is
actually plot up our efi onto a map plot
lib graph and for that while actually
need that full starter code so anyway if
you're interested in doing that stay
tuned for the next video as always
thanks for watching thanks for the
support of the subscriptions and until
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>