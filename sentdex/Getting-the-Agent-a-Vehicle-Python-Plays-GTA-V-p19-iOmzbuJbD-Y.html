<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting the Agent a Vehicle- Python Plays GTA V p.19 | Coder Coacher - Coaching Coders</title><meta content="Getting the Agent a Vehicle- Python Plays GTA V p.19 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting the Agent a Vehicle- Python Plays GTA V p.19</b></h2><h5 class="post__date">2017-09-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iOmzbuJbD-Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
another video with Python plays Grand
Theft Auto as well as doing things with
the tensorflow object detection API in
the last couple videos what we did was
we just use the sensible object API in
object detection API rather in Grand
Theft Auto just to show the objects
could be detected and then we went ahead
and detected other cars trucks and buses
in the distance and determined whether
or not they were too close and within
our trajectory basically to where we
might actually hit them in this tutorial
and probably one more after this we're
going to be covering more on the Python
plays Grand Theft Auto side side and if
the agent does not have a vehicle we
want to be able to steal a vehicle so
we're going to use the object detection
API to find a vehicle and steal the
vehicle so well really find the vehicle
and then the stealing vehicle we don't
really need the object API for that so
anyways let's go ahead and get into it a
little more so than the other tutorials
you definitely are going to need Grand
Theft Auto for this but you could do
some other some other action or
something like that as long as you know
you need to find an object and maybe
press a key or present mouse button or
whatever another version of this was I
made a basically an aimbot using the
object detection API so I'm just going
to pull that up real quick I'm just I
think it's somewhere in here yeah so
this was just an example so every time
it detected a person it would just it
would shoot at the person not gonna
really do a tutorial on this for a
couple reasons one is it would be a
tutorial but basically how to break
EULA's of a bunch of games is especially
a few that i can think of that people
would use it on also I'm fairly certain
that's undetectable I mean the the very
quick motions are definitely detectable
but we're not really accessing game
files and so I mean the only thing that
would be running that the game would see
would be you know pythons running stuff
like that so I really pretty sure
sounded taxable so I don't really want
to give people too much help in creating
completely undetectable aimbots for
games so instead we're just gonna steal
car so so the code up to this point is
everything we've been working on I'm not
really gonna change too much but I think
what I'm gonna do is just comment out
this part because we're just not we're
not worried about it we're in theory on
what is this what are you doing to me
really
I've got tabs messed up great and
fantastic anyway oh dear okay so I'm
just gonna stab out the whole warning
thing because in theory we don't really
want that right now so basically we're
gonna still be working in this this main
little chunk of code here though so this
is gonna be so frustrating so it's
because you know Google likes to use the
two spaces for an indentation I like to
use for that's aggravating his Hill I
think I can work around it but that's
gonna be kind of irritating to say the
least
anyways I'm gonna say so above the for
the this chunk of code I'm gonna add
vehicle underscore dicks so the way
we're gonna steal vehicle is in our
eyesight we're gonna we're gonna just
look for vehicles and then what we're
gonna do is we're gonna just try to go
towards the closest vehicle so we
already know the dis the the relative
distance of vehicles not in any sort of
metric your Imperial unit that you know
of but relatively we could we can we can
detect distance that we've already
calculated so what I'm gonna do is just
like everything that I'm doing here this
is really just something I just kind of
threw together because I was like I
wonder if I could just do this Baba
there's certainly got to be a better way
than what I do especially when we
iterate through the dict and all that
but anyway if you have a better way sure
share it with us but the way I'm gonna
do it is we've got the approximate
distance of every vehicle as long as
their scores above 50 percent so if
we're fairly confident it's a car then
what we want to do is we're going to
take the approximate distance and we're
gonna store that as the key in the
vehicle dictionary and then we're gonna
store the locations of all the vehicles
with mid X mid Y and then I'm also going
to store the score just because so so
that's the plan and then what we can do
is just sort the the keys and go with
the the closest dictionary the the
closest car in the dictionary and then
with that we can use that to start
aiming towards that car so we're going
to use the mouse to aim and then we can
walk around with it with a key press so
so that's the plan we've got vehicle
dicks
already in place so the next thing that
we're going to go ahead and do is I'm
gonna change the approximate distance
I'm gonna go ahead and round that to
three places just because rounding to
one we're probably gonna have a lot of
conflict incarcerated cars going only
out to one is gonna probably set us up
for a lot of instances where there's two
cars and it just because dictionaries at
least right now we're not using any sort
of sorted dict and also the order that
we might be seeing them you know from
the session and all that could could
flip flop around so so so I'm gonna go
ahead and go out to three decimal places
this time just so we don't have an
instance where we looked up I'm just
going back and forth super fast and
losing our minds so cool so we'll make
that change and then now what we're
gonna do is
basically just right under that
somewhere what we're going to do is
we're going to add that to the vehicle
dictionary so vehicle dict and then the
key is just approximate distance and
then what we're gonna say is that is
equal to the mid x mid mid Y and then
scores scores your I I have no intention
to use scores right now but I'm just
gonna do it just in case because I can I
can imagine some scenarios where you
might want to double-check the score one
more time like like maybe for avoiding
cars you want to say it's a 50% car but
then maybe for actually you know
choosing something to try to go steel
you want to be a little more certain
it's a car
so anyway I'm just gonna throw that in
there so now what we're going to do is
is here we're iterating through all of
the boxes so we don't really want to you
know we want to outside of this loop now
we address the the dictionary and this
is where we're probably gonna have a
problem really I thought just let me do
this well see if we'll get away with
this so now we're gonna say is if the
length of our vehicle dicks
is greater than zero because we might
actually not find any cars you know
there's gonna be times when there's no
cars so if there's no cars than whatever
but if the length of the vehicle dicks
is greater than zero then we want to
know what the closest car is so first
we're going to say the closest is equal
to the sorted vehicle dict dot keys and
then we want zero with
so then mmm so that'll give us the the
closest distance those closest relative
distance which is also the key of the
dictionary therefore the vehicle choice
would be vehicle dict of closest with
the key of closest rather and we could
print we could say you know we could
print out the choice I'm actually not
going to do that I'll just kind of
spammy I think so now what we're going
to do is we'd like to once we know the
vehicle then we want to be able to go to
that vehicle so for example we don't
have it yet and it's what we're going to
make probably in the next tutorial but
we want to be able to have some sort of
like determined movement function where
we're gonna pass by mid X
mid X mid Y and probably some other
variables that we'll talk about in the
next tutorial
so mid X would be you know vehicle
choice so I'm just going to x equals
vehicle choice 0 mid y would be vehicle
choice 1 the score would be 2 and so on
but anyways I think we're going to build
that that in the next tutorial and then
that will hopefully be able to do all
that do the mouse movements and actually
have the finished product in the next
video so anyways that's what we're gonna
be doing in this tutorial if you've got
questions comments concerns whatever
leading up to this point feel free to
leave them below otherwise I'll see you
in the next tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>