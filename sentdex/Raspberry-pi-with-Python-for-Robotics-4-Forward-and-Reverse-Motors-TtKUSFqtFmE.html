<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Raspberry pi with Python for Robotics 4 - Forward and Reverse Motors | Coder Coacher - Coaching Coders</title><meta content="Raspberry pi with Python for Robotics 4 - Forward and Reverse Motors - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Raspberry pi with Python for Robotics 4 - Forward and Reverse Motors</b></h2><h5 class="post__date">2014-04-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TtKUSFqtFmE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right everybody what is going on
welcome back to another robotics with
Python tutorial video in this video
we're actually going to start
programming our motors on our Raspberry
Pi here in our car so if you recall we
actually already do have a script from
before which was stored in our robotics
directory so I'm going to CD into
robotics and that was robot one PI so
first let's go ahead and just run that
and actually first let's view it just so
we can see it one more time
sudo nano robot one dot PI to bring it
up and this was the file just so y'all
remember this is just setting up the
board the output pins and then this was
just a quick test basically of our
robots so let's exit that and now let's
go ahead and do sudo python robot one PI
and we run that and we can see that one
side of our wheels do indeed do run
because that's kind of how just how we
programmed it but now what we want to do
is we want to start programming the
other wheels we want all the we want the
wheels to work together to move forward
backwards and even though we don't have
a pivot we can make just one side of
wheels go to make us turn kind of like
we just did now right so this would make
it turn if forward was to continue right
this would make it turn left a little
bit right if this was the only side that
turned we can also make this side a role
that way but then the other side roll
the other way and that would make it
actually pivot instead of turning so
there's definitely like a lot of things
that we can do and we just need to
program that in so first let's go ahead
and let's do some basic forward and
backwards so to do that I'm actually
going to start a new script entirely and
then we'll continue building off of this
one so let's go ahead and do sudo nano
and we want to let's call this robot to
PI hit enter empty file first things
that we want to do is go ahead and
import capital R capital P lowercase I
dot
caps GPIO as lowercase GPIO for
ourselves and make it easy and then
we'll also import time now we want to do
is every time we run a command
we want to run an initialization for a
couple of different reasons but this
will only really be apparent down the
road right now might not make much sense
to why we are doing this but just kind
of follow along and we'll get there so
first we want to have a definition this
function is going to call in it or
initiate and in this function if you're
by the way if you're programming through
like using nano on your PI when you hit
Enter it's not going to automatically
indent like most of your IDE s are going
to do an indent typically on Python is
one two three four spaces so just keep
that in mind so continuing on we want to
do GPIO dot set mode and we want to set
the mode GPIO dot board once that's done
one two three four the next thing that
we want to do is we want to set the pins
just like we had before so that's going
to be 7 11 13 and 15
so GPIO dot setup seven and that's going
to be a GPIO
it's got to be in caps out then we're
going to go ahead and do GPIO set up 11
GPI oops GPIO out GPIO set up 13 GPIO
out and finally a GPIO set up 15 GPIO
dot out and that's going to be our
initialization function that's all we
want within it now we want to have is
some sort of function that makes
everything go forward so to do that
let's go ahead and define forward and
forward is first going to do
initialization so it sets everything as
output and nothing else really it just
initializes for us and now what we want
to do is GPIO dot output and 13 will be
true 15 false 7 false and 11 true and
let's I guess we can make this a little
easier let's do 7
Falls GPIO to output 11 true then 13
will also be true true output 13 true
and then GPIO to output 15 will be false
okay so that's it for forward now the
other thing that we should do is in our
function we should have one parameter
and we'll call it TF which is short for
timeframe like how long do we want this
function to actually run for so then
after we've run this we're going to do a
time not sleep for the time frame and
then after that we're going to do a GPIO
cleanup and that's going to stop the
pins from running and that's kind of why
we want it oh what has happened okay I
guess we're scrolling up here I try to
use my scroll that's know very well
anyway that's why we have that
initialization up here anyways
continuing along that's it for forward
and that should be all we need so now we
can actually call forward and then we'll
save for one second so let's go ahead
and do control X whoops control X yes to
save and we'll take that same name now
let's go ahead and do sudo python robot
to PI hit enter and turn off all the
wheels spun in a forward direction
together in unison and again and now
would be a really good time if you have
some painters tape or some scotch tape
or something
mark it's not really scotch tape but
some painters tape draw a little arrow
on the two paint or the tape rather and
put that on the frame so I'm going to do
that real quick
okay so now I have an arrow that that
kind of indicates to me what direction
is meant to be forward that way we
always know that we're doing it right
now
the other thing I will just mention is I
have kind of everything just kind of
strewed there I meant to bring this up
initially but you do want to kind of
watch your cables and your stuff and
like your cords because if they get
caught in the wheel it's going to spin
up in the wheel and it's you might rip
something out or you know you definitely
don't to break you know the wires are
cheap but you wouldn't want to like
break something off the soldering and
stuff so anyways be careful about that
the other thing I do is keep like the
battery pack out because if you can't
get to stop it's usually quicker just to
reach over and unplug a battery and that
will stop your motors rather than going
back into your code fixing the problem
and then rewriting it just to get it to
stop or running you know clean up or
something so anyways I just wanted to
bring that up so forward worked how
would we get it to go backwards so let's
go ahead and go sudo nano robot to PI
let's get back in there and now let's go
all the way to the bottom and now what
we want to do is define well let's go
past forward here let's just put it
right here go define and we're going to
call this reverse timeframe is our
parameter one two three four in it of
course and now what we want to do is we
want to have GPIO dot output and this
time seven is going to rain true and now
GPIO outputs eleven is going to be false
and then GPIO dot output thirteen do you
think everything is a reverse completely
of it's up false and then finally GPI to
output 15 the moment of truth do we just
flip everything true we sure did
anyway that's reversed so now let's go
ahead and run a reverse for one second
so now what's going to happen when you
do this is it will go forward for a
second and then flip the motors back and
go in reverse so let's say or exit save
yep and then up arrow twice to run robot
to hit
and it ran but what did we forget to do
we forgot to clean up so I'm going to
pull out that battery and this is a good
reason why that's why we did that
anyways sudo nano robot - app I come
down here and after the time well first
of all we didn't even have a time sleep
we were really bad here
time to sleep for the time frame and
then we want to run just get it up there
GPIO clean up just like the other script
so GPIO not clean up so we want to run
that yes enter and I'm just going to run
it real quick without putting that
battery back in so hopefully everything
will get cleaned up and then we'll do it
again one more time okay let's try it
again much better so now we've got a
forward and reverse so now what else
might we want to do well we might want
to program in a turn or we might want a
program at pivots so that's what we're
going to do in the next couple videos is
we're going to program in the turn in
the pivot so that's what you have to
look forward to as always thanks for
watching thanks for all the support of
the subscriptions and it till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>