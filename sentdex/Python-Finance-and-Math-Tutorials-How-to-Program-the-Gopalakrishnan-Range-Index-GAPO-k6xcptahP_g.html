<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Finance and Math Tutorials: How to Program the Gopalakrishnan Range Index (GAPO) | Coder Coacher - Coaching Coders</title><meta content="Python Finance and Math Tutorials: How to Program the Gopalakrishnan Range Index (GAPO) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Finance and Math Tutorials: How to Program the Gopalakrishnan Range Index (GAPO)</b></h2><h5 class="post__date">2013-12-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k6xcptahP_g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to the second part of
our Gabbo tutorial mini-series inside of
our pythons finance and mathematics
stock indicators tutorial series where
we left off we were telling you about
the gap oh and now let's actually
program the gap oh so if you don't have
the sample data or the starting script
you're going to get it in this link it's
in the description for the sample data
click on this it'll send you to this
page here with the sample data copy and
paste that into a notepad file I call
mine sample data with camel casing dot
text and we're ready to go if you have
been following along in heeded my
warning go ahead and copy and paste kind
of the top part of the script we will
have to add something to it so don't
just skip through otherwise you're going
to get an error it's gonna be you need
to import math so now you can skip if
you have otherwise type with me first we
want to import numpy as an p then we're
going to want to import time then
finally we want to import math because
we're going to use logarithm next sample
data is going to equal open and we want
to open whatever you saved your sample
data to I saved mine a sample data dot
text the attention to read and we'll
read it now split data is going to equal
sample data dot split by new line and
then we're gonna have date close P hi P
lo P open P volume equals NP de load
text and we want to load up split data
with the delimiter of a comma and then
finally unpack equals true now I wonder
if I should just toss this I think uh
maybe I'll toss this is like another
link in that
Victorio things there's a lot more
indicators to cover and typing this is
getting boring anyway
now to find gap o for gap o we need the
high and the low the time frame and the
date so the H L like the shipping
service time frame they should pay me
for mentioning them next make some space
here
and we're going to obviously have this
make gap o populate that in a little bit
X will equal time frame
and Wow X is less than oh wait Oh date
what do we want to do we're gonna have
two things that we need to look through
so it's looking through the array so
like let's say you had a gap Oh five it
would say okay what was the highest high
of the last five days and what was the
lowest low of the last five days so how
can we get that well we're going to
first do is we're going to say
consideration high is gonna equal high
and this little list that we want it to
spit out as maybe x minus TF 2x and then
we're gonna say it counts low equals L
and again X minus TF 2x then to get the
highest high we would do something like
this equals max ponts high so they
return us the highest value in that list
and then we'll do the same thing with
lowest low only we want to return the
minimum of the consideration low list
once we have those values next we can
say gap owes equals and then we want
math dot log and want the logarithm of
the highest hi minus the lowest low is
low that closes off this part and then
we can close off this part then divided
by and I'm just going to hit enter to
start on a new line you don't have to do
that if you don't want then Mac that log
of time frame and now we're complete
with the equation we'll go ahead and
create gap O's just to see for debugging
purposes in case we get something weird
then gap Oh dot append and we want to
append a pose to it then we finally want
to do X plus equals one and then at the
end of it we're gonna have it return the
time frame : and gap oh so the date
starting at the point that we're
starting at and then gap oh and that's
it so now we need to actually call it so
gap oh and the D variable is date PI P
lo P and we'll have this do a gap oh 14
earth yeah 14 so let's save that let's
run that and hopefully we get a bunch of
gap oh listen
gap oh is not oh we lowercased our gap
Oh
here so make this a capital Gabbo run it
and lowest low is not defined lola slow
lowest cool try tuggin alright
so this time we actually got the output
that we wanted that looks to be a bunch
of valid digit scares me that there's
not a single positive number here but
that's okay we'll proceed all right not
just a positive number a single one is
what I was looking for but at least we
get somewhat close to a one a few times
but it could just be the Starbucks and
me with what did look chart Starbucks
someone to remind me to church Starbucks
you know yell through my screen isn't
filming for me now okay so that's going
to conclude the programming it within
Python now in the next video we're in
uncharted in that plot live so as always
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>