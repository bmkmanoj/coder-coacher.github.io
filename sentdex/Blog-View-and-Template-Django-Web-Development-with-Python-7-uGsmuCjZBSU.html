<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Blog View and Template - Django Web Development with Python 7 | Coder Coacher - Coaching Coders</title><meta content="Blog View and Template - Django Web Development with Python 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Blog View and Template - Django Web Development with Python 7</b></h2><h5 class="post__date">2016-01-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uGsmuCjZBSU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
the seventh django web development with
python tutorial in this tutorial gonna
be building up the last tutorial
creating our blog so in last tutorial we
built this models dot pi file as i said
basically the class is the table each
variable here is the column in table and
then these are the data types and some
constraints basically for those and then
this is just a meta information so we
can reference the string values of these
attributes and stuff so that's our
models dot pi now are our wisdom of
django up to this point tells us we
still need a couple things we need two
urls pi we need two views dot pi and we
probably need a template right but what
i'm about to show you is a way to kind
of circumvent the need for creating a
view spine Django offers us what are
called generic views and we pull some of
those over real quick so this is an
example here again all all tutorials
have sample code in at Python
programming net I link to the specific
tutorial that is basically this tutorial
only the text version in all the
descriptions head there and there will
be a link to this generic display views
if you're interested we're going to be
using detail view in ListView the first
one we're actually going to use is
ListView and then later on detail views
so as time goes on you'll find that
probably most people wind up using
generic views most of the time and then
right after maybe detail view ListView
and then render from views dot PI so you
can render just anything but you'll see
why these views are really useful here
in this in the next tutorial as well so
moving that aside what we're going to do
is we're going to close out of this and
actually we're going to create a URL spy
file we won't actually need to create a
views dot pi well
views up I already exist but we don't
need to edit it so I'm just going to
copy and paste one of these five files
call it URLs edit it and clear it out so
we're going to do from Django
URLs were importing URL and include
these guts the same we've always used
then from Django use generic wouldn't it
be cool if they did generic and maybe if
they could spell it better than me
anyway
comparing import list view and we're
going to use detail view later so I'll
just go ahead and import it but here
we're going to use list view so then
from blog dot models we're going to
import posts now so what's going to
happen here is basically we're going to
when we go to the blog what are we going
to return when a views are when a user
like first clicks on the blog navbar
button what do what are they expecting
to see I'm going to see like the latest
blog or a blog or random blog they're
going to see probably a list of blogs
hence our list view so let's define our
URL patterns these are a list and the
first pattern okay the first pattern
will be it's a URL and it's a regular
expression and basically we to get to
this point basically it was if you
recall it started blog slash so what on
top of this would correspond to what we
expect the user to see like a list of
the latest blogs well this is basically
the blog homepage so really what the
user wants is this because keep in mind
this is already leading with blog slash
right so then the home page would just
be caret dollar sign okay so that's the
URL we want or the pattern that we want
next list view and so so if you recall
before that we would return views here
but instead we're going to return list
view dot as underscore view and then
we're going to say a query set this is
going to be the data that we're going to
pass through here from the database so
this will be post dot objects-- dot all
and then we're going to dump
order buy and we're going to order we
can order by any of those columns
basically but we want to order by the
date column but we don't want to order
by simple dicks that would be ascending
so we would do a negative date that
would be a descending date so the latest
posts are first that's really all you
need but at some point you would want to
limit this especially if you had like
100 blogs or something so you could do
something like this up to the first 25
so this would be like a limit by edition
there and then after that we can do a
comma here and then we would add this to
the template name of and we don't
currently have anything keep in mind
this is look templates are always look
for at slash templates or actually I
guess wouldn't be slash templates would
be templates slash so then you just give
the rest so we'll make it templates and
then it would be blog and then the
actual template so blog so blog slash
blog dot HTML and that should be it so
that's our URLs dot PI file now what we
need to do is actually create this
template which will be blog slash blog
dot HTML in the templates directory so
what we need to do now is we're going to
close out of this and let me pull up a
notepad here okay so we pull up the a
notepad I'm just going to create the
directory here I'm going to add new
templates and then we'll go into that
and then this will be log and then it's
not a normal file it's an HTML file so
blog actually we need another directory
so templates and then log and then blog
dot HTML chances are we don't have
another template that's going to
conflict with blog dot HTML but again
it's just kind of best practice so you
don't have to think about it it's always
going to be led by that blog name so
you're just not going to see come any
conflicting templates so once we've got
that you got this blog data HTML we're
ready to populate this with some
information so this one first of all as
usual it's going to extend let me there
we go
this extends and then what
extend it extends and again extends
always starts with the idea that it's
template's first so the hetero HTML is
located in personal and then it was
hetero HTML so it extends header die
HTML anytime you extend something you
know you got to have block body and then
block so or block content and block so
block content and then come down here
and block and then now we actually going
to put the content so as we said before
this is a list view and we're listing
out all of the available blog entries so
what we would do is if we're going to
list out something chances are greeting
is a for loop to iterate through it so
we're gonna say for post in object
underscore list and in fact let me let's
see let's pull up URLs dot pine so this
was the query that we're running object
list again this might feel a little um
magical like where do we pull that from
that's just it's coming from that the
objects here it's a list object it's
object list all of the objects there the
blog's ordered by the date but it's
everything in that blog so it's a post
object and what it's going to have it's
going to have the title the date in the
body information when we pull it so
anyway that might seem somewhat magical
but that's how these detailed views work
so then every time we start a for loop
we might as well end it because we don't
want to forget to do that so n for and
now we'll come in here and we're going
to just will put the bemmon and a header
five tags so this will be like each each
little URL and then what we're going to
do is first we want to have the date so
how might we reference the dates well if
we move this aside for now let me pull
up the and put this up here we pull up
the models dot PI file you'll see one of
our the basically the date column is
literally just date okay so when we
reference date when we say something
like this post date we are saying for
post and object list object list is a
list of objects of the capital P post
class but as you hope
we know when you do a for-loop you're
basically defining a new variable here
so each object we're calling post each
object is going to have a title body and
date attribute so when we say post date
that's referencing the date column of
this specific post object so so post dot
date and then we're going to filter for
the date and we're going to say the arm
the display mode for the date will be
capital y - lower case m lower case D -
so this is a full year so 2015 or 2016
month would be just two digit month and
day would be a two-digit day okay so
this is an example of why you would want
post date to be a date time field two
reasons already that we're using this
one is when we go to order it in the
model or in the URLs here when we go to
order by date the only reason we're
getting away with that we could probably
do it with var car and we'll go by maybe
digits and it might still work depending
on which order you did it but this is
how we're able to do that and then we
can format the dates because it's a
daytime object so I want to move this
aside so first you got the date okay and
once you have the date what we're going
to do now is allow the user to actually
click on the post title so to click on
it we would we need obviously some link
tag here so a and then the reference
will be it'll start slash log slash and
then in here we're going to say post dot
I D so if we look back at our models
where is my models I don't know I'm not
have to open anyone if we look back at
the models where we don't have an ID
field turns out Django is just going to
do that for you and the ID if you're
familiar like pretty much everybody's
going to have like a self earn Auto
increment primary key as the first
column okay Django is going to do that
for you automatically and you're going
to see why that was very nice of them
later on
so anyway post ID that's referencing
that very first column that just it
starts at zero and it continues Auto Inc
meaning as time goes on so in the URL it
will link to that blog slash whatever
that post ID happens to be and then
we'll close off that link tag and then
in the link what do we want the link
text to basically say well we want it to
be a post dot title and now let's add a
space here so the date doesn't run into
it and really that's it so let's go
ahead and save that and that should be
everything that we need up to this point
so so this should be relatively simple
the only truly magical thing as this
object lists you'll just have to take
jangles word for it that it populates
the object list variable so I think
that'll be it for this tutorial in the
next tutorial we'll talk about
migrations and what's going on there and
then after that we'll probably have a
live blog so if you have questions
comments concerns whatever up to this
point feel free to leave them below
otherwise as always thanks for watching
thanks for all the support subscriptions
and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>