<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Pandas with Python 2.7 Part 9 - Statistical Information | Coder Coacher - Coaching Coders</title><meta content="Pandas with Python 2.7 Part 9 - Statistical Information - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Pandas with Python 2.7 Part 9 - Statistical Information</b></h2><h5 class="post__date">2014-07-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ktyW-4o1vAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what is going on everybody welcome to
the 9th pandas and Python basics
tutorial video in this video we're gonna
be talking about some statistics
gathering things so the last thing we
did was standard deviation but there's
also a whole slew of other things that
we can do so I'm just gonna show you a
few more things as far as gathering
statistics about the data that you're
looking at so with that let's go ahead
and get started so let's do I guess we
can keep hominis low but the rest of
this stuff let's just go ahead and
delete it'll make some space that's good
enough so the first thing that we can do
is we can use dot describe so we can say
D F dot describe like that and this is
gonna give us some basic information
like rows the average of all the rows
and actually need to print this out rows
average of all the rows the minimum the
maximum and some other stuff so anyway
we come over here and this gives us data
on all the columns basically so here we
have the amount of rows so everybody has
the same amount of rows okay so it's 28
30 rows this this gives us the average
of each row so the average of opens is
1172 highs and so on the average volumes
the average is just close blah blah the
standard deviation for the whole set the
minimum for the whole set 25 50 75 and
then the maximum for the whole set so
those are like stages in between so the
minimum the 75 or the 25th percentage
number and you know and all that kind of
stuff so as far as high - or the high or
the less I'm trying to think how to
describe this very hard time if you
couldn't couldn't tell that's a minimum
number what is the you know bottom
fourth number so on anyway so just some
basic numbers on the on the whole data
set so close are this
the next thing that we can do is
correlation so basically this is gonna
give us the correlation data so remember
the like we plotted like a scatter chart
and we want we've kind of used the
scatter chart to decide for ourselves if
there was any sort of correlation
between volume and then you know high
minus low and all that kind of stuff
it's a volume and volatility pretty much
so but we can actually find the
correlation using a pretty simple query
or command dot cor so we can go ahead
and save and run that and that gives us
correlation of pretty much everything
here so this is correlation of open to
open you know it's a 1 right it's
perfect 1 as opposed to a perfect I
don't think we have any perfect negative
ones we don't really have anything
that's really not correlated well anyway
it gives you the correlation so the
correlation of say hi to open they ought
to be pretty close right so when one
change is significantly probably the
other one did too so that makes a whole
lot of sense
what about volume volume too high minus
low right so here's volume and then high
minus low so volume too high minus low
0.4 correlation so I mean it's somewhat
correlate it's not zero but it's not a
perfect one either but at least is not a
negative one so we can sort of deduce
that a lot of times when volume is high
the high minus low is also a large
number and yeah so anyway those are just
some correlation statistics on all of
the data in the data set so it's really
quick you know if you wanted to
calculate correlation yourself or at
least for me the processing time to do
that because I would just use a for loop
and enter a through you know each one
you build it I mean it would take a lot
longer than the instantaneous number
that we got there anyway the other thing
we can do is covariance so you'll be
more people have confusion about what is
covariance and what is correlation
myself included I would say they at
least my understanding of the
differences covariance is almost like a
measure of the strength of the
correlation like correlation it's kind
of like a loser thing you know
they always say like correlation is not
causation right whereas covariance is
more like the strength of that
correlation so maybe it's a one step
closer to causation but anyway a very
confusing topic if you try to figure it
out and if you ever look it up online
like people are pretty much interchange
the two whenever you're trying to find a
really concrete answer what is
covariance you'll find like an identical
definition to what is correlation right
so anyway the way I understand it is
like Kovic correlation is just kind of
like a loose thing and then covariance
is a little bit stronger and a
covariance is like a strength of
correlation but someone feel free to
correct me if you want anyway so there
is core variance again this would take a
lot longer to calculate yourself I'm
pretty impressed on how fast pandas will
calculate these two things the other
thing that we can do is we could say for
example we could do something like this
so we could say print D F dot like we
want to just compare to right
so we could say print D F a list within
it and we want to say what's the
correlation let's say volume - you know
hi - the law and then du dot or and this
gives us the correlation we already kind
of picked this up before but anyway
obviously volume Devine is one eye high
to low as you point three nine or
whatever now interestingly enough it's
surprising how fast this is and how
built-in this is this is actually a very
popular method of data analysis
especially when we look at things like
Forex but also stock investing and stuff
people make these massive correlation or
covariance tables just to find stocks
that are correlated or Forex ratios that
are correlated with each other
and then that way when one reacts first
they invest immediately and the other
one because they're expecting that one
to react with it and this actually is a
fairly decent strategy that people
employ and people pay actually a good
amount of money for services that do
this for them there's websites that like
sell just this so I think it's kind of
comical that it's like built right into
pandas and it's pretty simple to do I
mean I think that anybody who's never
programmed before could figure this one
out pretty quick and save themselves
paying someone else to do this but
anyway for example what we could do is
nobody has to follow me exactly with
this I think probably what I'll do is
I'll just copy and paste some data into
here and then I will link to the copy
and paste just because otherwise it will
take a really long time to do this so
first off let's go ahead do we already
have P got date time imported and all
that so let me copy and paste this and
I'll explain what what exactly I'm doing
here
yeah this won't work I suppose
okay so we'll copy this and we'll come
over here paste and so what we have
going on here is we start here so here
we're pulling just a bunch of data from
Yahoo Finance right not really that much
actually but a bunch of data
we're pulling data for Citigroup Apple
Microsoft Tesla Bank of America
blackberry Chipotle eBay JPMorgan
Starbucks Target and Wells Fargo and
then what we're doing was were printing
the head of C just so you can see it
what we've done this might not be the
most pythonic way of doing what I'm
about to do but the reason I'm doing
this is we take C stripped away
everything except for adjusted clothes
so we're deleting all the other columns
then we're saying core comp so this is a
compilation of correlation equals C and
then what we're doing is we're renaming
the columns so what remains was the
adjusted clothes for Citigroup so I'm
just renaming that to C in place true
and then now we're saying column of core
comp for Bank of America equals Bank of
America's adjusted clothes column and so
on we're going all the way through so
now what we've got is for core comp
we've got a bunch of columns here that
are strictly stocks
I adjusted clothes for those stocks now
some people want to know like what's the
point of it just to close versus closed
most of the time 99% of time it's not
going to matter
but what adjusted clothes is gonna do
for you is if there's like a stock split
or something like that it's gonna adjust
for you instead of having some wild
crazy number there so we use adjusted
clothes for that purpose now moving on
so we're gonna do all of these then we
print the header of that file and then
we're gonna print out core comp core and
that's going to be the correlation for
all of these companies so chances are
Bank of America JPMorgan and Wells Fargo
we're gonna have them slightly you know
pretty high correlation probably above
0.7 you know blackberry
I don't know whose BlackBerry's gonna be
correlated with here but I'm not really
sure these other ones maybe Tesla techy
stock I don't know anyway let's go ahead
and run it and see what happens so save
continue okay it's gonna take it took a
second to grab the data but we got the
data so I was like Citigroup Citigroup
perfectly correlated Bank of America
Citigroup 0.97 almost a perfect
correlation no surprise big banks
interestingly enough Microsoft -
Citigroup possibly just because they
were the ants and p500 together quite a
few close correlations but then we see
like blackberry - Citigroup negative
blackberry - Bank of America negative
blackberry - Microsoft which is a
surprising negative I would expect that
to at least have been somewhat positive
pretty much blackberry - everyone is
negative so far that's kind of
interesting blackberry - everyone is
just negative I forget what our time
frame is here but probably cuz
blackberry has been suckin lately
well we got 2011 to 2014 yeah that's
probably why I'm very just been going
downhill I think that's probably why but
JP Morgan is say group again very
positive very high correlation really so
Corliss a target in the Chipotle kind of
a weak correlation Wells Fargo trying to
find some stuff that isn't with
Blackberry Wells Fargo - app Oh Apple
Apple
you know so anyway what people do is
they take massive tables like this like
really they would probably take the
entire Russell 3000 or even even more
and compare them all and find really
kind of obscure connections not really
sure that makes the best sense to do
that I think you still need to have a
logical because again correlation is not
causation and if you search for it
you'll find plenty of stocks that are
apparently correlated but no
correlated but people do it anyways
especially with Forex and sometimes
Forex it's better you know if you look
at it with human eyeballs and then you'd
be like oh I guess that would be
correlated or something but anyway like
I said people pale kind of a lot of
money for this and you do it right here
within Python and pandas so anyways I
thought I'd show you guys that real
quick if I forget to put a link to this
some more remind me so you can play with
it and you can change up the names you
could use for X ratio symbols instead
and all that so anyway that's going to
include this tutorial if anybody has any
questions or comments feel free to leave
them below as always thanks for watching
thanks for all the support subscriptions
and until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>