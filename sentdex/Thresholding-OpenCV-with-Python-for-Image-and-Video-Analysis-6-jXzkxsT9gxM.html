<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Thresholding - OpenCV with Python for Image and Video Analysis 6 | Coder Coacher - Coaching Coders</title><meta content="Thresholding - OpenCV with Python for Image and Video Analysis 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/sentdex/">sentdex</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Thresholding - OpenCV with Python for Image and Video Analysis 6</b></h2><h5 class="post__date">2015-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jXzkxsT9gxM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's go on everybody welcome to the
sixth open CV with Python tutorial video
in this video we're going to be talking
about is threshold in with open C V so
the idea of threshold ndu from threshold
extreme simplification of an image so
like what we did before we converted to
grayscale that simplifies an image quite
a bit but further simplifying with a
threshold means everything is either a 0
or a 1 now there are some thresholds
that will be more than that and then
there's also like gradients and stuff
like this that we can apply to continue
to have more than a 0 or 1 value but the
most basic level of threshold is either
a 0 or a 1 or a white or a black pixel
so anyways let's go ahead and get
started now I've got this sample image
here this might be one of the few images
that you'll want to use the same one as
me it's book page and low light and also
the book page has a curve to it now the
reason why I did all of this is first of
all the book page is hard to read
initially anyway and then also the curve
means that there's a different amount of
light as we get over the image so not
all of the images in identical lighting
so you'll see why that's important here
in a moment again all the tutorials are
hosted on Python programming net there's
a link to this specific one in the
description so if you want to use that
exact same image go for it now what
we're going to go ahead and do is first
of all let's you'll need to open c v2
and or c v2 and numpy and the next thing
that we're going to go ahead and do is
image equals c v2 dot in read and the
image that we're going to read is this
book page jpg now we're going to apply a
threshold so we're gonna say the Bret
Val and for now Rhett Val we're not
actually going to use it except for
maybe later on but there's a form a
threshold that will use red bow maybe
we'll show here anyway rip Val and then
the threshold is going to equal the cb2
threshold and we're going to apply the
threshold on the image we're going to
set the threshold this is a low light
so any pixel value greater than twelve
we're going to say that's a one I
suppose and that would be white and then
anything below twelve will be black so
that's our number obviously we had more
light in this image you would change
that right so if this was a let's say
it's an extremely bright image with
almost nothing visible you would maybe
have a threshold of I don't know 220
okay so but we're going to use 12 and
then the Max Val will be 255 and then
the threshold where you see B to Thresh
Thresh underscore binary now we'll just
run a simple cb2 in show let's show the
original and that'll just be image then
we'll call em show of the threshold and
that will be threshold and then CB 2 dot
wait key 0 and then CB to destroy all
windows ok so let's go ahead and run
that and here we have just a real basic
threshold so in this case we started
with color image we never converted it
to gray or anything so we have this
threshold where each value is a 0 or a 1
basically so of course we have a lot of
red yellow and blue going on here we
also have some purple so anyways um
let's close this out and now that you
know this is maybe in spots but if
everything was the same color it would
be a lot easier probably so that wasn't
the most ideal so then the next thing
that we're going to do is you know we
read in the the image and we're actually
this time let's do try to think if I
want to retain these or not but I think
that uh mmm yeah I guess we'll convert a
no so we're going to say gray scale
equals cv cv to dot CVT color
and they're great we're going to
greyscale apply that to the image and
then we're going to say see v2 dot color
underscore BG are to gray so now we've
grayscale and now we're going to call
this a we'll just we'll just apply this
exact same thing here we'll just call it
two two and instead of applying it to
the image we're going to apply it to
greyscale and then we'll show the
original one but then we're also going
to show threshold two and two and save
and run and there you go so now we have
a black and white threshold but as we
can see this part in the middle where
the the shading of that page kind of
goes down now it's black we can't read a
thing so that's kind of a problem now if
we still we can lose this color one
though and we can see that okay yeah we
can kind of read in this it's it's hard
to transition but we can continue
actually reading throughout with that
basic threshold so we're going to close
that and now we're going to work on a
what's called a Gaussian adaptive
threshold so that's what's going to be
adaptive based on kind of the region
that we're in so what we're going to do
is we'll make another threshold and this
one is going to be let's call it will
call it will call it gauze equals C v2
dot adaptive threshold and we're going
to apply it to gray scales we're going
to max about 255 CV to dot this is the
type of threshold that we're going to
use adaptive underscore Thresh
underscore Gaussian underscore C and
then from there we'll make it binary
with CV to Thresh underscore binary and
then we'll run um 115 and one here and
yeah we'll call that and we'll go so oh
we need to graph it so let's take this
paste gauze gauze run that and this is
our Gaussian now or Gaussian um and what
we have here is basically a lot like
this one only it's even easier to read
because we don't know these like you
know colors and this one's probably the
easiest one to read right like you
despite the shadows in the book page and
all that we can still read this there's
no problem so depending on you know what
your problem is you might use simple
thresholds you might use an adaptive
threshold and then there's also this
other like boats at Sue's threshold it
doesn't really work well for this image
but it just I'll just tell you it exists
and an image of that I'm just going to
take it from the text-based version of
the de Toro just to save some time and
this would be I will call this Otsu Oh
tegus yeah and then we can just put it
under this one
Otsu Otsu and as you can see it made
pretty much the entire thing black hope
here so it's not really useful there's
probably some parameters you could
adjust and make it better I just didn't
have any luck with it myself but it
exists and it may be useful for the
situation that you're in just like
there's multiple machine learning
classifiers depending on the kind of
task you have you might find that
different ones work better okay so that
was um just basic thresholds that we can
apply to an image or even a video we
could change this and have a threshold
to the video pretty much in the exact
same way in the next tutorial we're
going to be doing is talking about how
we can create a sort of filter for well
won't end up going to the video feed but
we'll create a sort of filter that will
find like a specific range of color so
an idea or a reason why this might
actually be use is like a green
green or something like that we can find
that green screen and we can replace the
background of that green screen use
those bitwise operations that we used
before and we can replace the background
based on the green screen so anyways
that's we're talking about in the next
tutorial final range of colors if you
have questions comments concerns
whatever feel free to leave them below
otherwise as always thanks for watching
thanks for all the support of
subscriptions until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>