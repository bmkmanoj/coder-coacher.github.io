<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>7. Pandas - IPython Notebook Tutorial | Coder Coacher - Coaching Coders</title><meta content="7. Pandas - IPython Notebook Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Roshan/">Roshan</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>7. Pandas - IPython Notebook Tutorial</b></h2><h5 class="post__date">2014-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/04zBNE2ZHSI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome to this
series about ipython notebook this is
part 7 and it's about pandas pandas is a
powerful and easy to use library for
data analysis it has two main objects to
represent data series and data frame
series is an array like object and data
frame is a table like object pandas is
part of scifi ecosystem so importing the
libraries I will be importing again an
PI as MP and I'll be importing pandas as
PD these are almost standard so try to
use these shortcuts and they will make
your coding faster actually typing two
letters instead of five or six letters
anyway we'll start working with the
series series is an array like object so
I'll pass an array to this series to
define it to define a series type II D
that series make sure the capitalized s
so series with capital S and pass your
array to series make sure you pass it as
an array don't just pass it like this
with the no brackets make sure you put
your values inside brackets so that it
understands these are not different
parameters but these are single
parameter as data so we're passing that
as data and then I'm returning X you can
see that it generated index for our
values and starting from 0 to 4 and our
values starting from 1 to 5 and data
type of our values are integer 64 we can
do basic operations with our series I'm
adding 100 or series so I'll get notice
it didn't change the index but they
changed our values to and added 100 to
them in here doing more math with it so
I'm taking this to the power 2 plus
100 I can compare it to a value some
checking for any values larger than 2 it
will return a boolean series telling me
each if each value meets this criteria
or not so the first value is not larger
than 2 the second value is not larger
than 2 and the last 3 values 3 4 5 are
larger than 2 a quick way to look at
your boolean series is with any and all
so I'll store this boolean series X
larger than 2 inside a variable named
larger than 2 and number turning that
series in here you can notice the data
type is boolean so any will look for any
true values in here and because we have
3 through and to false it returns true
because there are some true values in
here all we'll make sure all the values
are true and this will return false
because not all the values are true
apply and here I have a function and
that chick chicks if a number is even
and multiplies it by 2 and if it's odd
it will multiply it by 3 I can apply
this function to my series without
looping over series and applying it item
by item to do that X dot apply and pass
the function that you want to apply to
your series and this will return my
series and after after we applied this
function to each item and avoid looping
over your data with the for loop it's
way more efficient to try to do
mathematical operations directly on them
as a series or use apply for more
complex functions that you want to do
with your data
and here I'm timing a normal four loop
applying this function to each item and
then I'm using apply with a for loop it
did it in two hundred forty two
milliseconds with apply it did it only
in forty one point five milliseconds as
type would return your series as a
different type so I'm returning my data
in here as float64 my original data was
integer 64 and it returned them as the
new type copying URI data if I just
assign the Y to the value of x and
accessed the sorry and execute this one
first and access my first value value of
y of X it returned my first value that
was inside the X so Y of X returned my
first value and if I changed the first
value of y and displayed why I will see
the first value is changed from 1 to 100
do you think the first value of x
changed or is it still the same if we
check the values of X in here
we can see the value of the first one
change to because when we said y equals
x it just pointed Y to the same series X
is pointing to so they are pointing to
the same copy of the series to have a
different copy of the series you say y
equals x dot copy and this will store a
new series inside Y or point Y to a
different series with the same values so
if I changed the first value of x now to
one and displayed X we can see our
original value is 1 now and in Y the
first value is still 100 it did not
affect Y changing X now did not affect Y
because they are pointing to do too
two different series and described is a
useful function it will do a quick
analysis statistical analysis of your
data it's telling me to count how many
values I have in there five the mean or
average is three standard deviation 1.5
minimum and maximum and have a small
histogram in here at 25 50 and 75 I can
make it into a more narrow histogram of
40 50 and 60 by changing the percentile
width or I can make it into a pointing
at 10 and 90 by changing just the width
of light percentile which change it back
to 50 and I get it at 25 50 and 75 the
way I want it now and that a frame is a
table like object so it has two
dimensions
I'll start by defining one dimensional
list of data in here from 1 to 9 and
I'll start in a variable named data and
pass data to data frame class to create
a new data frame I'm passing one param
10 here named columns and it takes a
list of names of my columns because I
have one column in here so I'm just
naming it X and I stored my data frame
and DF make sure you use capital D and
capital F when you are typing this
because this is that it's a class named
data frame with capital D and capital F
and it's case sensitive so let's take a
look at our data frame we can see we
have a column in here named X and our
values from 1 to 9 and we have an index
in here to the left starting from zero
until 8 and it's giving me the shape of
the nine rows and one column
can take a look at any column I have I
have one column in here and so I'm
returning my one column so DF of X that
returns my one column and the index I
can access one value inside my column
just by passing the index of this value
so return to return one I will pass zero
and passing 0 accelerator and one adding
extra columns I'll be adding an extra
column a X plus 2 which is the values of
X plus 2 so the DF of X plus 2 equals
the f of X plus 2 and I'm returning my
data frame and I can see that I have a
new column in here X plus 2 and it has
the values of this plus 2 the shape of
my data frame is changing so nine rows
by two columns I'll add two more columns
X square and X factorial for X square
I'm doing again the f of X x times two
which is power to the power 2 and X
factorial and it's d f of X that apply
then I'm applying factorial function
from numpy Empire MP that not the
factorial and I'm returning my data
frame and I can see the new two new
columns in here with the square numbers
and the factorial numbers is even in
here I'm checking if X mod 2 is 0 that's
a check for even and I'm storing the
return of this n a new column called
is even and I'm returning the data frame
so I can see that false true false true
false true and it's telling me if the
original number is even or not and a
better way to look at this as
if it had the values even odd even
though that would make it more
convenient for some functions so we can
do that with map will be mapping the
values in is even dot map so I'm getting
this column is even and I'm mapping it
with this dictionary false is odd true
is even so if it's true change give me
the value even and if it's false give me
the value odd and I'm storing that into
a new column called odd even now I have
a new column or even it has strings
inside it odd even odd even and now I
have a column that I don't need so I can
drop that column to drop a column DF
that drop and then the name of your
column is even the and then access the
second parameter in here is the axis so
I'm telling it on axis one axis one is
the columns axis 0 is rows so if you
want to drop a row you will use axis 0
which is the default but if you want to
drop something from columns you want to
drop a whole column you'll have to use
axis equals 1 or just 1 because it's
second parameter so when I'm storing the
value after dropping that back in DF and
displaying it so that's my data frame
without the boolean column
multi-column select I can select
multiple columns so in here I'm
selecting X and odd/even make sure you
use double brackets if you want to
select multiple columns and the return
of that is data frame with two columns X
and odd-even you can see the shape in
here and 9x2 controlling display options
and you can control the maximum number
of columns that you want to show and the
maximum
rose that you want to show and here I'm
setting the maximum number of columns PD
that options that display that max
columns and paid PD that options that
the display that max throws I can also
control how does it show it in here it's
displaying this nice table
representation of my data frame I can
disable that and just show it as text so
PD that options the display that
notebook representation HTML or our APR
underscore HTML equals false
so I'm disabling that now and this is
how my data lock without the the HTML
formatting sometimes it's more
convenient to work in data with your
data in text format especially if you
have really a lot of columns that you're
working with filtering if I want only
odd numbers I can filter only odd
numbers by going the DF of odd-even
equals equals to odd and make sure you
put your whole condition inside brackets
so DF of my condition returns this it
returned all the odd values inside my
data frame I look at even values so I
can filter only even values and get only
even values I get two four six eight and
chaining filters I can have or and or
and gates between my filters so I can't
say I want all even numbers or any
number that's square the square of that
number is less than two
antique so it returned all even numbers
and two odd numbers with square x
squared less than 20 I can put ant so it
will return even numbers only that has X
square less than 20 and it returned only
to values of 2 and 4 even numbers and
they're square X square is less than 20
further chaining you can after you do
your filter chaining or your filter
condition you can have extra things like
selecting your column in here I'm
selecting X plus 2 I'm returning the
first value in X plus 2 so I'm filtering
then returning only the first value
inside my air-conditioned scatter matrix
it's a good way to visualize your
complete data frame so to do that PD
that scatter matrix and then you pass
your data frame I'm selecting two more
things in here that I will explain in a
second after looking at our scatter
matrix so we have all our columns in
here X X + 2 X square and X factorial
and we have the same columns in here X X
+ 2 X square and X factorial and it's
trying to plot everything with
everything else so we can look at X with
factorial and it's it looks like a
factorial chart this looks like an
exponential chart like what we would
expect from X square X + 2 it's a
straight line exactly what would we
expect and here you have a small
histogram of everything
diagonal equals KDE that controls how it
displays this histogram you have two
options you can use either KDE or just
test for histogram to change that to
histogram you can see that it changed
the that to esta gram finally figure
size exercise is ten by ten it's just to
plot it in a bigger high resolution
chart to see all the fine details that's
what you usually want to do with your
scatter matrix is to plot it as large as
you can to see any details that you
might missed DF the describe described
this will return our this will return
statistical analysis of all our columns
in here notice it's also trimming after
six values only and that's not what we
want so let's go and change that we'll
make it 25 values for example for
maximum rows and let's execute that
again and we can see we have our
complete set of values for our
statistical analysis so you can see the
maximum the minimum of all our columns
standard deviation mean and count
reading from comma separated value files
or tab separated value files and in here
you can read from any you can read any
comma separated value file with the
function P D that read CSV and you can
pass either a URL or a an absolute or a
relative path within your hard drive so
you can if you have a comma separated
value in the same working folder that
you have you can just name your file in
here for
sample test that color separated value
and that's how you read the file in your
working directory named test that come a
separated value but that's not what I
want now I want to read URL I'm reading
from Google violence and historical data
it's returning a comma separated the
value file back to us I'm storing my
data frame inside and inside that
variable named the stock data displaying
stock data we have date open high close
volume if you are familiar with the
stocks and these are the opening value
closing value highest and lowest value
throughout the day and the trading
volume of that day we can add extra
columns so we can do a little analysis
with our stocks in here I want to
calculate the change amount so the
closing price minus the opening price
and I'm am storing that in change amount
a column name to change the amount and
I'm calculating the change percentage by
dividing that amount by close to get a
percentage and let's execute that and we
get two more columns in here change
amount and change percentage and we can
see how much did the change through each
one of these days that's it for this
lesson
this lesson is available open source on
github and it's viewable on mb hub when
mb viewer the link to this is a verbal
description below feel free to use this
whenever you're working with the pandas
as a reference i hope if you like this
you will subscribe to this channel and
watch part eight about simple thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>