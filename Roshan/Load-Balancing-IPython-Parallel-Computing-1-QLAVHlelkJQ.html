<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Load Balancing - IPython Parallel Computing #1 | Coder Coacher - Coaching Coders</title><meta content="Load Balancing - IPython Parallel Computing #1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Roshan/">Roshan</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Load Balancing - IPython Parallel Computing #1</b></h2><h5 class="post__date">2014-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QLAVHlelkJQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone this is a quick tip about
ipython and it's about load balancing
so ipython has an infrastructure to do
parallel computing this architecture
consists of four components the engines
which are the actual interpreters doing
the work client which is your software
requesting execution in engines
schedulers to facilitate the
communication and finally help to manage
everything and make sure everything is
registered in a single place you need
two dependencies to run that you need 0
mq visit their website on 0 mq the
torque to install an open-toe this is
the command is total Lib desease mq dev
and install pi z mq is installed
positive Q and you need the PI years mq
you can install that separately using
pepper install pi z mq parallel and
distributed the computing the computing
is multiple processors or cores to
distribute work on a single machine sir
you're distributing your work on
multiple cores on a single machine
distributed computing and distributing
work on multiple processor or course
located on multiple machines that will
distribute your work on several machines
actually load balancing this is we this
will be our first approach to parallel
and distributed computing so the first
step is to start the engines from your I
Python notebook go to the last tab
clusters and start
one of your profiles and here I will be
starting in be server if you have only
default you can enable that if you want
it tells you the number of engines that
it started and because I have 12 course
and this machine I'm getting 12 engines
you can definitely change that so the
first thing I will be importing a client
then I will be creating a new view it's
a load balanced view from that client
when I'm creating an instance of the
client I'm passing their profile name
you can if you're using default make
sure you pass default then I'm defining
my load balanced view and storing it in
LB view the profile name is NB server
and I have 12 engines within my lord
balanced view in here I will be
demonstrating a small process without a
load balancing so I have a function in
here it does some calculations and
returns a result so if I define this
function and I actually measure the time
it takes to do this process I can notice
that it's taking a considerable amount
of time to do this it will take around
20 seconds to finish that during that
time I want to show something in here
you can notice that there is one core
that was going throughout the 20 plus
seconds and so my computer was utilizing
only one core during this process
and it took twenty four point five
seconds to perform this now I'll be
explaining how to use load balancing to
make this process much much faster so I
will be defining the same function again
there's no need actually to do that but
just to clarify the process then I will
be timing this and I'm using the view
then I'm you the load balancing view dot
map this function Maps multiple
parameters to a function so my function
if my parameters are a list of 0 of 1000
numbers from 0 and the block equals true
this makes sure that the process is done
before it blocks this line until all
processes are done and the results are
in my result variable and you can notice
now it's doing that if I look again in
here you will notice all my cores of my
12 cores
we're on 100 then they dropped and it
did that much much faster that actually
in only 5.9 seconds the second way to do
load balancing is with the function
decorator
Terral function generator and here I'm
defining my function again using this
decorator and block equals true and
using the function my function dot nap
and passing the parameters I want that I
want to that I want my function to
process basically
and it it's returning the results in
this variable because I'm using block
equals true so it's blocking this line
until all processes are done so I can
see that I have results equals to 1000
there is another way to do this with a
synchronous processing so this is
blocking the line so this is synchronous
you don't go to the next line until this
is done
but sometimes you have processes that
takes hours or days so you don't want
your development environment freezed for
hours or days so the way to do that is
you use block equals false and I'm just
defining the same function in here with
block equals false and then I'm using my
function that map passing the same 1000
values to process and you can see that
it returned a and a synchronous map
result object and this object has all
the results within a variable named
result inside it and we can check that
we have 1,000 values this tutorial or
short tip is available open source on
github and viewable or know mb viewer
the link to this is in the description
below thank you for watching and I hope
if you like this you will subscribe to
this channel to see more of this and you
might enjoy my series about machine
learning or my other series about
ipython notebook thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>