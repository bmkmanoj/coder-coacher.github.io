<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Twitter API - Data Mining #3 | Coder Coacher - Coaching Coders</title><meta content="Twitter API - Data Mining #3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Roshan/">Roshan</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Twitter API - Data Mining #3</b></h2><h5 class="post__date">2014-10-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qZgx0pMR-Ps" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and welcome to this
series about data mining this is part
three and it's about Twitter API we'll
be using Twitter API with the tweet pea
library to perform basic data mining
operations so the first thing we'll have
to do and we'll cover how to get and a
Twitter API key will get the key from
apps that whitter calm so let's start
with that and here I created an app
called VP tutorial so we can do that you
go to keys and access tokens and cap
your consumer key and in here I will put
this key and my consumer key and I will
get my consumer secret and I'll put it
and consumer secret now we will start by
importing the library I'm importing to
EP pandas and Matt plot lipe I'm
configuring pandas to my display and now
the first thing you need to do is to
authenticate yourself with Twitter so
I'm passing my consumer key and secret
to an OAuth handler type e dot off
handler and I'm passing two parameters
here consumer key and consumer secret
then I'm creating an API object and
passing my authentication to that API
object will be covering REST API
notice that twitter has two API is REST
API is for requesting existing data and
they have streaming API that returns
live stream data so it will
returned tweets as they are sent we'll
be covering one function only which is
Search API that search it receives queue
as in query language locale RPP results
per page page since I did this limits
tweets only that was sent after specific
tweet ID geo code show user but we'll
take a look at the most basic think I
will be calling search function with Q
equals ipython so I will be looking for
tweets about ipython and I'm storing my
results in a variable and a variable
named results let's inspect our results
we received why default 15 results and
here I'm defining just a simple function
that will return a screen name user name
and created at the time the tweet that
wasn't it wasn't so it's just an easy
way to look at a certain tweet so let's
start by printing gear the first tweet
we have in our list we have this user
that's his name and the tweet was sent
just a second ago actually and it was a
retweet from this user and that was the
text inside the message
so let's inspect this object this it's
called the status object a tweet
object is called the status object and
it contains the tweet user and multiple
other of other things so let's take a
look at this first and collected stick
look at the same tweet that was sent and
here I'm just going using this function
dir it will list everything inside
this object and I'm looking for object
that does not start with an underscore
because usually they're hidden objects
that we don't need first I have an
author and it's an object it's a user
object we'll be looking at user objects
in a second we have created that this is
the time that tweet was sent we have a
method in here that we don't really need
entries entries is really interesting
because this is where you get the most
useful information from that with
symbols it's like hard symbols and
things like this and emojis users
mentioned this is this will return a
list of any user that was mentioned in
the message it will return the user ID
it will tell you the indices where the
username appeared and the message the ID
in a string format that we don't really
need a screen name this is the screen
name of the person was that was
mentioned and that's his name Titus
Brown there was another user mention and
they finally can see any hashtags if
there are any hashtags and you can also
see if there were any URLs inside this
tweet so we can see that we have one URL
this is the URL and this is the expanded
URL so Twitter always shortened all URLs
to Twitter format a favorite count this
will tell you how many times this tweet
was favored and this is the ID of the
tweet language what are the other
important things yeah we have the Reese
wheat count so this tweet was retweeted
17 times
and source we can see what kind of
application sent the street so it wasn't
using Twitter web client so someone sent
this tweet from just a browser then we
have the text of the tweet and side the
a variable named text and the user that
sent the tweet if up to my knowledge
user and author are the same thing I
couldn't find any differences between
them so far anyway if anyone knows the
difference just let me know in the
comment section below
so let's inspect the user object too so
I'm inspecting author you can see the
user created his account back in 2008
description of the user we have a URL
that the user mentioned in his profile
favored favorites count this is so many
time the user favorite a tweet followers
count so two thousand people are
following him good for him
friends count two thousand one hundred
the user ID language there are other
important things location as interesting
name and some other things a screen name
is the username stats count this is how
many tweet how many tweets did the user
sent and timezone is by far the best way
to determine someone's time zone or at
least some kind of a location because
usually people can write anything like
this user location where science happens
is openly so I guess that's Berlin this
is the UTC
so we can measure how many hours between
UTC and the times on the user is in and
verified will tell you false or true
according to if the user was verified or
not
now we're dealing with the small number
of tweets we have 15 tweets in here
because it returned 15 tweets and this
page but usually we will be dealing with
more than that we will be retrieving for
example in here hundred items so the
latest hundred tweets with the word
ipython so let's do that and to do that
I'm just looping I'm using cursor cursor
is a very useful object - for Page Asian
basically so it will iterate all the
items in multiple pages so I can it
finish the retrieving the data and it
put it in a list called results and I'm
printing the length of this list and it
has 100 items in here I'm defining a
simple function that will basically
written take a list like this and
returns a data frame so I'm returning
the text created that retweet count
favor it count the source which is the
application used to send the tweet I
have I'm processing also some user data
getting the user ID screen name name
created that this is when the user
created has account and you can see that
I'm just retrieving all this these
results using
Loup comprehension and then finding a
returning this data frame I'm caught
let's so let's call it for our current
results if we will see the five the
first five tweets will see ID text
created by the same columns that we just
processed and let's take a look at the
last five tweets and we can't say the
same thing in here this is interesting
actually sometimes in a single minute
more than one tweet about iPad and Sint
which is which is good actually so let's
visualize something about this data I
will be visualizing the source so which
app that people use to send these 100
tweets using value counts to count how
many values appeared in each source and
I'm getting the top five so I'm getting
from zero to five this is the top five
application used and I'm sorting them in
reverse direction basically and here I'm
plotting it and I'm with a horizontal
bar chart with let me show the chart so
it's easy to understand what i'm doing
here i'm i'm passing just a list with 0
1 2 3 4 5 and these values how many
tweets were sent from each source then
I'm using white X to put these labels so
we can see say in here that Twitter web
client is the most popular within these
hundred tweets I PI think I'm sorry
iPhone come in second
Android command third and tweet dick for
and twitter for iPad fifth so these are
interesting results
what people who are tweeting about
ipython this tutorial is available open
source on github and it's viewable on MB
viewer the link to this is in the
description below and thank you for
watching and I hope if you like this you
will subscribe to this channel and you
can watch the previous part of this
series about data data mining YouTube or
the next part about data mining Google
search thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>