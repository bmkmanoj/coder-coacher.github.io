<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Memory Footprint: TomEE vs. Tomcat on Docker | Coder Coacher - Coaching Coders</title><meta content="Memory Footprint: TomEE vs. Tomcat on Docker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Memory Footprint: TomEE vs. Tomcat on Docker</b></h2><h5 class="post__date">2016-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8iY_K4vuDhM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Anna beam and today I
would like to compare the memory
footprint of Tomcat with Tommy running
on Daka
and I will use the Tomcat 8 stock
without any modifications and compare it
to Tommy web profile and plus and both
running on Java 8
so Tomcat and Tommy in with in Dhaka and
I will use the drop in war installations
one used installable from tommy rather
than install the war into the Tomcat to
make the results more comparable and for
this purpose I will rely on my open
source project called Docklands and
there is starting with the tomcat image
so as you can see just talk Tomcat a
tomcat I am just installing Tomcat
without any modifications and starting
it here and then use the itami drop in
Tommy drop in and it just downloads the
war and install it into the a hex tomcat
image so what basically does it puts the
war to the 2d folder from to the auto
deploy folder from Tomcat and I will do
the same with Tommy plus dropping and it
does the same so it installs the Tommy
war but the contents are different so
the Tommy plus is larger it contains JCA
eg BGM as even soap and everything is
installed into web apps folder and it's
auto installed on or how to deploy it on
Tomcat so now build image so I would
start with Tommy plus and just run it
with the port 80 to 80 80 so and then
the name is going to be Tommy plus a hex
Tommy plus
and I will have to yeah it'll be plus
dropping so it started right now and the
interesting part is there is a build GS
and this is a nice one and this is the
actual command which build the image so
now the image became available on the ax
Tom b-plus droppin which is exactly this
so I will do the same for the stock
Tommy image Tommy drop in and build the
image here
so it's built and I will run it
this was 881 the name is just Tommy and
the image name is a hex Tommy drop in so
I'm done here again the image is a hex
slash Tommy drop in and lastly stock
Tomcat built so it's built and this is
the dock image and then run Tomcat run -
t - P 80 80 80 80 named Tomcat so and in
my case all the images who are already
available this is why it was incredibly
quick usually in your case you will it
will take longer because the Tomcat has
to be downloaded from the internet and
then installed and also you will have to
create a tomcat first because the other
both images relying on the on the Tomcat
image so now double check whether
everything is running so everything is
running and we can of course go to the
the deluxe and as we can see the Tomcat
is not started yet and this is something
to do with scanning jars so there is a I
don't know backwards this but there is a
a installation setup where you can make
the startup quicker it really depends on
the setting so look in the Internet's
for the TLD scanning and it will find
the setup so in my case I didn't change
that so it could take a longer the very
first time so it's still not available
just look at the Tommy but it told me is
so it was also and also slow and the
reason for this is the TLD jar scanning
this just searching the Internet's for
this and you will find the solution so
you will have to change the I think
Catalina properties or context to takes
ml and Tommy plus also available every
everything is booted by the Tomcat let's
see what's wrong with Tomcat still not
available
so then wait a second so finally the
Tomcat was was launched in in an
incredible amount of time so it it took
a long time to launch it so sometimes it
happens is because it scans all the
Webber probes and it took a long time to
scan the jars but now we can compare
actually these statistics of Tomcat
Tommy and Tommy plus so and what you can
see is the Tomcat comprises or takes 97
megabyte of RAM Tommy
100 122 and Tommy plus 150 so what it
means is the leanest possible web
profile in Java 7 requires 120 megabyte
of RAM and that Tommy plus 150 so the
difference between Tomcat and Tommy are
30 megabyte of RAM and between the web
profile and the plas are another 30
megabyte of RAM so for my projects it
really does not matter this the
difference so I always use the full
profile it can rely on everything I
never use soap or</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>