<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java EE 8 with JAX-RS 2.1: Async Resource with RX Client | Coder Coacher - Coaching Coders</title><meta content="Java EE 8 with JAX-RS 2.1: Async Resource with RX Client - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java EE 8 with JAX-RS 2.1: Async Resource with RX Client</b></h2><h5 class="post__date">2017-12-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IcM903F8-X4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Anna bina to dialect to
connect Ajax or s client with a jax-rs
resource with Java 8 in Java 8 so let's
try that I will start with a Java Java 8
project template and it's going to be
Java 8 essentials and the recent version
so let's do this and I would like to put
into the junk folder and call it type
now it pulls the archetype from from the
Internet and what I'm going to do I
would like to create start with the
jax-rs client first
so let's reduce this pink resource I
would like to reduce that and I would
would like to create a class in the
control package and this is going to be
the air hex client and the air hex
client is going to be a jax-rs client I
will hold a jack source client in the
post construct method it will just use
the client client builder and this time
I would use the builder because what I
can do I can specify connect timeout
let's say one second and and reach
timeout also one second and then I can
just build a client so just from it a
little bit nicer and then build a client
and what I get back is declined
and then
I would like to get also to resource and
this is going to be D air hacks comm
content of the exocomp age and this is
Hanks target so okay
so I remember this as well and then what
I can do I will implement a method fetch
fetch content and what happens here I
will say a hex target request and I
would like to have a media type text
this is okay and then say rx
and what I would like to do is to have
the response class the response and
actually it is going to be the default
so if I do this and invoke then get so
and invoke get so return and what it
returns here I'm sorry Sammy Khan so I'm
just sorry so what it returns it returns
a completion stage of type response and
this is what I actually would like to
return so we just take that and return
it right away
so now what I can do in the pink
resource what I could do I can of course
reuse my client or use my client and in
order to do so I would just inject the
client and now my client will fetch the
content and then I could do something
with it
for instance I can say
except and pasty content somewhere so
but where is it so where I can pass it
and what I could do I could just switch
to the asynchronous mode suspend it and
say suspending suspended async response
response and I can pass right away to
response resumed but what I could also
do I can said before I do this I would
like to extract the content so the
content is going to be string extract
from response from response and the
response you have to import the response
and the response has an interesting
method or interested useful method so I
can get the content a string and this is
my extraction process so I could send
then apply then apply and I can pass the
methods extract this extract okay so
what happens now I will fetch the
content first i synchronously if it's
done I will extract a string out of the
contents and then I say then accept so
and then accept means the response here
wakes up
so the thread wakes up gets the content
and it's the country's going to be sent
to the browser so let's try to run it so
I will run it and I would like to use
the payara five which is d already knows
about java 8 so I will just fetch it or
fetch it I would just like to deploy it
and so there's a cold start it just and
we have the pipe here and with resources
and pink you see this is actually the
content of the ax workshops
and white not formatted because just
HTML and of course all the links CSS and
everything else does not work so if I do
it with curl you see that this is the
HTML from a hex and this is a text plane
and the response comes from payara 5 so
with Java 8 and the asynchronous or
reactive jax-rs client it's even way
easier to set timeouts and combine the
client output with Jack's or as
resources so thank you for watching see
what upcoming conferences workshops
projects or even a hexitonic apart and
yeah enjoy Java bye
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>