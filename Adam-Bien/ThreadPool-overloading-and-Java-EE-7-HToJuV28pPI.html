<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ThreadPool overloading and Java EE 7 | Coder Coacher - Coaching Coders</title><meta content="ThreadPool overloading and Java EE 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ThreadPool overloading and Java EE 7</b></h2><h5 class="post__date">2015-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HToJuV28pPI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Alan bean today I would
like to show you how to deal with too
many requests or how to deal with
overloading the server and in the
earlier screencast i configured or
reconfigured porcupines all over it and
over it in some defaults what I can
would like to do right now is to
misconfigure porcupine so it is easier
to overload it so um what I will do I
will set the max post size to 1 and the
queue capacity queue capacity also to 1
so it means to be only 1 requests
because it gets overloaded and we can
also set up the full size to 1 and now
it should be easy to overload porcupine
and what we should do we should
introduce a method here with some sleep
string get message and this methods
should return this and we just slightly
change it so that we will see that
something else happens here ok and then
I think I can directly set a reference
to the method get message so perfect
this is even more realistic because
usually you will call here an eg be CGI
bin or whatever so uh looks good what I
forgot is sleeping thread sleep minutes
let's say if I found that should be
enough 500 milliseconds so now and the
question is what happens if the QF is up
and the one threat is not able to to
keep up and what do we have to do is we
have to introduce the rejection handler
so what happens in case of overloading
porcupine sends you a notification that
it is over order this is a default
behavior
can be overridden but this is a default
one and I would would like to introduce
a class with the name overload listener
and it's basically just an observer and
the name of the method is let's say on
overload it's a good one and add
observes and rejection so we are
observing two rejections and I would
like to just output that so let's try it
I would just like to read apply it
completely and then we will try to
overload the server and so now it's
resources parks so resources parks as
you can see
happen something and or they can also
see we get the output here so it noticed
the overloading and it is written to the
console with the statistics which is
actually nice what we also should see
here as still overloaded what you should
see it's still processing the results we
should see the statistics and in the
statistics we should see the rejected
tasks 10 so what it means we executed 10
tasks and 10 tasks were rejected because
of overloading so thank you for watching
and see you soon at X thank you bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>