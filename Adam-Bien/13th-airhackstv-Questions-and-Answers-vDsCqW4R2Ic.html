<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>13th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="13th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>13th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2015-04-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vDsCqW4R2Ic" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey and welcome to the Easter edition of
ax are 13 edition and it's tuesday not
monday there is an exception from the
rule yesterday they're also vacation so
that's the reason why we shifted tuesday
so okay let's start with the very first
question number one i have never used
spring hibernate and struts i build my
web apps using jsf EG BCD I jpa and
whether it's the same as opposed the
question what's the difference and I
would say it's not a lot different
between both I get the question a lot to
know what's the difference between
spring in Java if you would build the
same with struts you would spend up a
little strut sorry with spring you will
spend a little bit more time with setup
so you will need to know to configure
the server you know the tomcat jetty
whatever and also your application so
we'll have to why everything with
annotations or or XML but you will be
more flexible and Java comes with
everything out of the box so hopefully
you have just a war with one dependency
and you're ready to go so this is a more
philosophical question what is better i
personally prefer java ee because there
is nothing to set up having that said
spring spring boot right now use a
similar approach approach where you can
where you can have so-called profiles
and these profiles can prescribe you
know combo amount of libraries which is
automatically downloaded and even
bundled with the application so it's
very similar so i think what you are
doing you are using just java and by the
way is it the same usually it is so
funny enough if you are if you are
building a spring application you
usually you will use exactly the same
API as you as you use on application
server I even wrote blog posts about
this you cannot escape java java ee
because even with spring you will have
probably use jpa GMS for instance if you
have connectors jca you could use Jack's
aureus
there's alternative in spring but
usually you using some usually naughty
gb's jsf you will have to use jsf if you
like chess f so um I think if you it is
very hard to build pure spring
applications without touching any Java
api's so this is I think yeah the right
answer the question someone asked me do
you follow any Java or software
development related blocks if so will
you share some with us I'm actually not
following or reading RSS a lot what I'm
rather doing I'm interesting in
particular topics and then I read
whatever is associated with the topic so
on and then I choose another topic this
is what I what I do the problem with
with blocks also my blog you know lasers
to diverse so sometimes when out of
Rights about about I don't know baseball
game and the other other day about
whatever right so this is the problem
but I would say the the Oracle blocks
are quite good actually so there what
actually light our technical but I'm not
subscribing to all their SS feeds and I
lead I'm actually reading a lot of books
so whatever I find interesting i just
read it so this is what i had to prefer
books over blocks i would say so
question number three again jp8 one has
properties to drop and create a database
but not after updated how to usually
handle database schema objects and or
bags so usually i'm not using jpa 21 so
what I'm usually doing I'm using a tool
which i preface won't fly way to be and
what this tool does is you have to
record scripts update scripts and there
are just plain sequel scriptures are
executed against the database and just
scripts can be executed by Jenkins or
what are you or what you can also do you
can use startup Singleton's to to our
fire up the scripts and this works
pretty well if the database is not too
large because sometimes all the table
can takes can
take even months but months but actually
one attendee of the XIX a virtual Munich
told me it took two weeks in their case
so um so or if you know if tip in the
development phase i usually rely on drop
and create but in the in the production
phase or update face I i usually use a
schema migration tools like for instance
Flyway to be so a number 44
multi-tenancy application I'm using Java
7 and need to change schema dynamically
based on customer so I think not the
schema which has to needs to be changed
but I think your schema or database what
what has to be changed is the entity
manager since there will be a lot of
customers of customers so multiple
mental image will be insufficient so I'm
using hibernate empties intercept or
along with threadlocal and changing
schema dynamically which is working fine
so and he asked about a standard way to
do this so what I did recently as a
proof of concept I actually exposed an
entity manager with producers so I which
something like so let's do create a file
their words here ntt calm yeah
entitymanager exposure it's so and what
we could of course to you could inject
the entity manager manager here
persistence context and entitymanager
and of course expose it directly and
then you could be able to inject it
whenever you like so um this is you
could use of course you could use here
qualifiers or you could use depending on
the client on the injection point in
depending on injection point you can
choose the entity manager here and I
think your number of schemas is not
infinite so it will be also not an
infinite amount of entity managers and
even you could configure the entity
managers differently so they could
connect to a single database but you
could choose different properties to
setup them differently and usually yeah
this is how it could work but you will
need to know a setup data source / /
database and you will need an entity
manager / schema and on the other side
so on the other side let's say
entitymanager consumer am consumer you
could inject the entity manager but you
could use an instance so it will be
dynamic
and then in a methods depending on for
instance principle so we can inject the
principle here we could do something
like return let's call that a ms select
and then we can pass dynamically an
instance of annotation which is going to
be a qualifier so we need to qualify
instance and pass it here but then you
could get you could get the right one
then this could be dynamic so depending
on principle let's say so what you could
create we clicked create an qualifier
and then which is an annotation then
implement the annotation so we get an
instance and then with that we could
select dynamic on-the-fly the right
entitymanager so this is a very dynamic
approach but if it doesn't have to be
dead dynamic I would prefer you know
just of very simple if else statement
would also work very well ok so it's
dead one so let's say what's twitter is
saying no nothing which is a good so um
so you could do this absolutely and the
next question is what server was full
java 7 support i would suggest pyara or
white fly or Liberty exactly i would
support these i wouldn't use glassfish
autosuggest pyara which is a commercial
supportive glassfish and the great story
is if you're for instance go to github
if you would go to github you would see
a lot of 2d 2d pyara and it's just very
slow pyara
you would see a very very nice page
called pyara dot pereira home this is
this one and and these guys are are
maintaining a commercial class fish
branch and with this glass which is
commercially supported by the companies
we can buy support but it's actually
glass fish bits with patches and all the
patches are maintained on github so it's
actually a nice story in there really
and really active so this would be this
question so the next question is in java
7 web application with a highly and
dynamic configuration settings I think
highly requirements for configuration
settings for the persistence here what
will be your way no secret on an entity
abstraction layer like atlassian jira
apache of piss so what I what I'm
understanding here is dynamic
configuration settings is not about the
connection settings rather than the
schema right because because that I mean
you could work whether no sequel or
sequel it doesn't matter each database
needs certain IP addresses pot numbers
or whatever and if the schema or you
would need something like fluid fluid
schema schema i would suggest actually I
know secure database and which one
entirely depends on the requirements
there are too many but I mean you could
look at something like MongoDB is very
popular Cassandra elasticsearch and even
Oracle's kv store looks really
interesting and and apache of this is a
little lesser-known so i would choose
anything which is i think i will i will
consider a factor of the of the choice
is popularity the more popular solution
is the more likely you will find answers
in case something goes wrong so um yes
so first I I don't get exactly what your
requirements are i underst
then the schema changes frequently then
i think is not a very good idea to use
sequel databases then no security is the
way to go but it also implies you don't
you won't have you know JP entities
where you will probably have to have to
use this I would say something like map
structures or or even Jason objects so
the next question is your thoughts on
Java extensions like Delta spikes and
picket link as you always advocate slim
mores so the one question is my thoughts
on the extensions so the first question
is what problem they solve for you so
what is now they're the ddd pain point
and what what what what this solution
brings you and i actually was very happy
without any extensions in my project but
I know one project which use from Delta
spike I think the type save
configuration in jsf and wherever I work
very very happy about this so in such a
case just use it but I always start
without any extensions any libraries any
dependencies and whatever we include in
the war it is really conscious decision
and say okay if we take this it will
save as X no hours of work or days of
work so this is why we choose it so and
he also noticed am I also do your member
of GSR 375 Java security this is true
but right now I was too busy so I have
some of you debt deadlines next week and
then I will just be more active in to
actually just RS 1 as Java security and
the others management which also
interested me and yeah I will spend a
little bit time in both of them so and
and what's about GSR 3775 it is too
early to say but at the expert group
member discussed right now you know the
des cope and i think is all about
usability and simplicity so
java a security has to be more more
usable and and easy to use so um someone
asked me about onion architecture so um
this is a question number 7 having read
about the so-called onion architectures
opposed to the traditional layered
architecture I'm wondering about how to
realize that with javi the onion
promotes an application core which is
independent of libraries and
infrastructure with java ee pojos i have
a feeling that we are already close to
the onion idea right and he is actually
very right so let's say whether I find
it onion are he texture what I will find
the website where is the onion no onions
so the onion architecture comes from
domain driven design and the main ideas
that you have our core domain model and
layers of extension I think the first
layer is like repository riot and you
get business logical area an exposure
layer and in Java EA is actually such an
onion in fact in the recent a hex
bootstrap fracture was the very first
one I explained the Java like you know
pojos with decorations or the
decorations were aspects so we're
technical aspects but if you think about
this the entity manager is already a
nice repository so what do you only need
this to encapsulate the the earth I've a
little bit of the queries so you have to
encapsulate the queries and if you look
on my or my actually old pattern
boundary control entity pattern it is
very similar to the onion but put a lot
simpler so you have the entities which
are just plain poachers with behaviors
and you get controls which are optional
tour just cross-cutting aspects and
something reusable and the boundary
which exposes the component to the
outside world so it's like simplified
onion I would argue and the question
number eight how you would implement our
PC like API between micro services using
your Java approach do you think that
jax-rs can be used for that especially
with Jack sir
trend API if not what else could you be
could be used in your opinion so I'm
absolutely so I think it is what you
could do so what for me jax-rs means is
one-to-one mapping of your business idea
context or whatever and what you could
do is lee i would just try to do this i
would create a class with the name
invocations let's say invocations
resource and this invocation resource i
would just put pass on it would be in
vocations and and what it implies what
i'm doing here I'm not modeling you know
business clients invoices what I'm doing
here I'm modeling invocations so um so
what it actually means I could actually
use methods or invocations or actions
and use them as as resources so instead
of modeling clients or or invoices or
vacations whatever just use your methods
invocations actions or a remote
procedure call calls so it called it
calls and with post invokes your methods
you can post whatever parameters you
like and we'll get you could even
introspect the methods or actions so you
get a really a nice explorable
self-describing api for remote procedure
calls why not so there's actually
nothing what prevents you to do this
with jax-rs and actually several I don't
not even know what they were attendees
or project members which did it actually
they said we need exactly this and
implemented this okay so then the next
one so why jndi expose implementation
been named in global namespace why the
caller must must know the name of the
beam standards jan di and so forth so
actually it is exposed as a feature and
it is featured because this unique
but the color does not absolutely
doesn't have to know the name of the
beam actually in my code readers what I
do I look at the code I'm searching for
Jane di I look up and this is my eyes a
defect so in Java is five six and seven
projects there should be no Jan di look
up so you can just inject in JB's with
straight at inject so question number 12
what are recommended strategies for
achieving zero downtime and that
continuous delivery principles my team
has a good pipeline in place for
automated verification so from unit test
and the four so everything is covered
and pretty simple at the end of the
pytho we still have to take a downtown
where the applications we deploy this
can range from one to five minutes
depending on the application our current
job a container is Apache Tommy thank
you so actually the natural troll what I
what I'm doing I'm using docker so I'm
preparing the whole image in Dhaka so I
know it runs and then only have to start
it so it wouldn't be I don't know one to
five minutes it would be a visually
faster but let's say even one minute or
30 seconds to too slow what you would
use then you would of course lunch to
exactly the same images on different
parts and configure and configure the
load balancer to use the first the the
server was the highest version and I
think this is called blue green
deployment so you can switch between
applications back and forth this is
actually the idea and yeah this is what
you can do or of course without doc you
can do this exactly the same you can
just start on your machine to tommy's
with different ports and the load
balancer like mo JK for instance this
wood works perfectly this is a
completely unrelated from apache could
dispatch to one or two to another and
you have no downtime usually in larger
companies you you would use hardware
load balancers to achieve the same
so on the question number 13 by the way
it's really interesting with the
application application is doing so I'm
performing right now some interviews on
my block about Java EE startups so Jaron
I would be interested what you actually
am building with Java so a question
number 13 do you think there's a value
in having jdbc driver wrapper which
popularized its configuration parameters
from jdbc jdbc URL from a distributed
configuration management system like ET
ET CD so this is like like yeah this is
a pretty configuration system which has
naught to do with Java just usually a
loosely used a lot together with Daka
the idea being that a customer would
stand up start up many instances of Java
server probably through daca and
configure the debates endpoints through
ET ET CD so what I am using I for that
you don't use etcd what usually happened
in dhaka what you would use is container
links so if you have for instance and
consider my blog exactly this block it
runs on Tommy X and and the back end
database runs in different image and the
block image is linked to the database so
it knows the IP address the port numbers
and whatever is needed to connect so
this is how it works and even darker
enhances it is he hosts for the purpose
so I think there is actually no there's
no magic so it's actually in my case
there is there is there is no java
infrastructure or java infrastructure in
place so the neck question is what is
the best way to achieve a singleton jpa
entity so basically it's along a
question but the dddd the basic idea is
he would like to have just only one
instance of the entity and just go to
database and achieve one actually have
fun enough two weeks ago someone asked
me x exactly the same question rule
would project and it was just fine so
what he did there's just one row in the
table and the row in the table was the
configuration another
startup it just fetched fetch T it just
fetched the the configuration and use it
so it would just freak so what you could
do at you start up singleton to connect
fetch the configuration and expose the
JPA entity via CDI for instance would
also perfectly work perfectly well so
this works so if the question number 15
is java fix related and the question is
are cross you cross rectangle presented
something variable do you ever miss that
so I think it is a little bit hard to
explain but I think the main idea is the
address beam would like to have a and B
and the payment be B and C which is
natural so it's actually what what
usually happens and in afterburner the
framework you should be achieved that
should be able to achieve that just by
using the views and fetching the
controllers without without dependency
injection and I'm just thinking about
what's actually the challenge here
because what you could use am equally
well in Java vicks just use includes and
include the f xml files it should work
perfectly as well so different different
different strategies for this and the
ethics and metal injection would work if
you include defaults but if you are sick
or circular inclusion it could break and
ever try this but it could break and
never miss that i have to say otherwise
i would i would implement something in
afterburner if if you have a concrete
example I'll concrete I mean you know
like I don't know emails and inbox or
something I could I could think about
this but right now I was very happy and
the most most
complex example was actually light view
from from from from right fish and I
have many views and there are also
cross-referenced but I never had a
problem so I had to even create the
views dynamically so so that dependency
injection wouldn't be wouldn't be DD way
to go because it will be a singleton and
I wanted to have multiple views probably
this is the problem so if you would use
this with afterburner or Java EE you
would get the same instance injected but
in in you I usually you will have two
independent instances of be like for
instance in the light view I remember
there was like chart diagram and what I
wanted to have his multiple of the
charts injected to one controller
because one reported I think the
performance of methods the other one was
number of exceptions or whatever but
basically was the same class and
different instances of the same class
with dependency injection wouldn't be
possible but with with just plain
instantiation it would work and what I
also got some nice comments on my block
so there is just today questions about
from from from directly to my comments
there's an old 10 years old application
j2ee no gb's pojos transaction
capabilities Webley hibernate version
and whatever and he asked me to the to
the stakeholders how to argue with with
them whether this verse you know to
migrate the application or just kill it
and restart from scratch and I would say
the only arguments I know or is of
course money and the long-term the most
expensive stuff is of course maintenance
but it is hard to know to calculate but
usually what you should find i think is
a weakness of your application and and
and usually nowadays the weakness is the
UI all the applications are not
responsive and don't do not work well
you know on modern devices so you should
argued it this way probably and try to
kill the application and just rewriting
it and great to simplify see design and
the architecture this what i would
I think patching an old application
could be really hard particularly the
old applications are usually not very
well tested so um this could be a
problem so um someone asked me you have
to build dynamic web forms to form
exists as PDF template and now we have
to produce dynamic web forms for a very
single PDF content we don't want to use
the PDF inside a page I think this
scenario isn't very rare it and I've had
the problem so it is not very common i
would say and what would be your
approach nowadays and i think there's a
company called j pedal or r e RDS
solutions yes and they think they are
have even java 8 solutions I met them at
javaone one day a nice nice company and
what they have they are able to exact to
do this this is commercial product but
they can create forms from PDF so look
at ID error solutions to come or met
them at javaone I think usually they are
there so I saw them several times so on
this and the last question is is a
little bit harder to answer directly in
Java is Java in more secure and faster
than Microsoft frame look like asp.net
MVC and which are the advantages of Java
faster and secure no idea I would say
there did they would be similar and
security is very subjective outside it
really depends on operating sasur
whatever is really hard to say but what
are the advantages of Java EE I think
the main advantage of Java over
everything is to JCP java community
process because all the AP AP eyes have
to be documented in PDF multiple
multiple vendors are involved so what
for instance happiness orca killed the
commercial support for glass fish and
and and and many of my clients move to
whitefly and and without any major
problems so this is for instance a huge
huge
advantage but if Microsoft will kill
asp.net where you would like to move
right to go there's actually a and main
difference and even in Java you could
even migrated from Java EE to spring or
from spring to java ee whatever in
microsoft where there's no the whole
ecosystem is one vendor and if you look
at the history they change a lot in the
past and with another day i think
they're there is no more i was called
link for sequel was killed and several
persistence frameworks were killed and
in java ee is the other problem is
nothing is killed and gets a little bit
more to complex but you can rely on
existing technology this is the huge
advantage so i think the advantage is
rather strategic from for java and
and.net could be funnier for developers
because because it moves faster but not
that that great for for for larger
companies because it moves faster and
you have no guarantee that in API will
remain for a longer period of time which
is actually given on very common in java
so i think we are out of questions and
see you at workshops in munich airport
and what the next one I think is html5
end of April and what I'm really curious
about so this is actually what did
several times always a little bit
modified but this one is to get some
some attendees told me about this
building java apps from scratch and what
i'm going to do is just watch you as you
code and just try to fix your arrows and
you will build the application and i
will be you know the mentor or the
business department if you if you like
and try to challenge you so this could
be an interesting workshop or over very
dangerous one for me if nothing will
work right so I'm thank you for watching
and see you an upcoming conferences
hopefully javaone actually submitted
some sessions travel one
a hex in Munich next month here at a hex
TV and probably even project so thank
you and bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>