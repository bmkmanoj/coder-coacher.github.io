<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>37th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="37th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>37th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2017-04-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xXnsCEcTe3o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hello and I've been here and welcome
to the search is 7th edition of a hex TV
lots of questions so and the most
questions I got in the les les last 12
hours at the beginning I thought okay it
will be just no 57 questions right now
we have a think almost 20 so let's start
with the topics so um first tomorrow we
have the next bunch of a hex TV zoo fxdb
a hex dot-com fracture but Munich
Airport and here really looking forward
to this and what we will do we start
with architectures and micro services
and a particular looking forward to the
performance troubleshooting and
monitoring like hands-on what happens
behind it seems an application server
like threading performance tuning
troubleshooting memo leaks whatever you
like to hear no transaction timeout
whatever is useful to to the
firefighters work in our task forces
what I also looking forward to is to the
next bunch of workshops why three weeks
ago we had the javascript workshops in
Munich Airport and there are some
attendees which attended web standards
were at Hecht a html5 app without any
any frameworks and a little bit polymer
at the end 20 and then react an angular
and the first time ever react and web
standards were more popular than angular
2 or angular for which is actually not
surprised and I think no one who
attended all three days really liked
angular better than the other members
which is interesting and I will repeat
the d workshops from the architectures
Microsoft's and performance in a thing
December okay very first question good
one so what's the question about imagine
we have a master data and how to
synchronize or the question what will be
the killer killer protocol for data
applications between 44 master data data
replication so websockets GMS or other
technologies like apache Kafka so um so
you know how to take to the problem so
first i would like
thinking what would be the ultimate
technology and the ultimate technology
is something which the database already
using prints no sequel database to
replicate all the data behind the scenes
and they called the protocol gossip so
look at that it will be the most
sophisticated master data replication
ever so um and what will be the second
choice the second choice run from the
technology perspective is would be a web
sockets standarized you could monitor it
with javascript and GMS is actually not
standardized and I would only use GMS in
microservices in case I don't have to
scale the GMS server which could be
pretty high pretty hard and apache Kafka
is special case and to set up apache
Kafka you will have to set up zookeeper
and it is a I would say as painful as a
more painful as complicated as a GM s
server so first but i think the de main
issue here is you know um so WebSocket
it's not a reliable protocol of course
so the d messages can go lost so i asked
my server now what is the idea behind
the synchronization and what you should
do first is to think about the business
logic so you know what is the business
case here and how to identify the
applicants how do you know resend the
data so i think i will think about the
use case and try to implement the
replication in idempotent way so what it
means if the node sends did it twice you
don't get duplicate on the other side
but WebSocket seems reasonable to me
jax-rs as well GMS is not a protocol but
if you know you have all application
servers have the same version then GMS
could be also and viable option if you
have already as centralized GMS server
and Kafka is a special solution so i
hope we answer the first question so
let's see what happens in this cat so
Chad just listens twitter is quiet very
good so from Jerry and I think I know
Jerry so I met him at there was an
conference in Denmark it was called JDK
I or something like this
so I'm adding the first time so we have
a jack souris so create to a one red two
hundred update 204 delete is not
important so and he would like to use
this core support for jax-rs java 7 and
what he senses he would like to have
authentication token and jerry is
absolutely right so if so how it works
the cars protocol what is course
choruses cross-origin resource sharing
and you need course if you would like to
communicate from your browser with other
service then you then you were loaded
from so if i have server a and all my
resources are loaded from survey and i
would like to communicate to a server be
the sebi has to be set up with our
course filter and the problem the
challenge here the course filter only
works properly my course fills that
works properly without of indication if
i would like to use authentication I
will have to you have to expect expose
access control access control expose
headers so i will have to allow this and
I will have to hard code or hot code to
configure the origin and I could do this
so how do you handle the situation your
project I actually implement this I
expose access control expose headers and
I i configured the origin and if you go
hopefully it points to our project here
exactly and if you if you look at the
source code it is only java ish why it's
a single class was 70 lines of code so
what do you have to do is you would have
to put the header here and you you you
are not allowed then to say access
control allow origin asterisk you have
to be more specific and say ok I allow
it from the server so this is what has
to be done and I guess I could if I find
some time I'm working something more
exciting right now but if I find that
some time I will enhance this class and
and deploy I think these 03 version so
Jerry thank you for attending the
conference and of course now for the
question so where is Jerry here
first of all thank you for a great block
thank you for reading my blog and
listening to 2x TV of course um by the
way I really enjoyed the extra visa
meanwhile I meet people out conferences
and the anti-point me to Dax TV and yeah
it's nice community in the chat so they
come from all over the world so uh thank
you for watching and we have three years
in one month already in the in the queue
or in archives Tom we have a java
application that uses basic basic
authentication so in web.xml so now pad
would like to expose some logic through
rest webservice to access via mobile
client how can we implement token-based
authentication GWT or out for the rest
webservice without affecting the current
basic authentication mechanism for web
application so what you will have to do
is first to implement YouTube returned
or the best option would be to use
something like a key cloak so there is a
related question later and without
affecting the current basic
authentication so the current basic
authentication what a sort of a does the
server is responsible for decoding the
username and password and mapping into
principles and usually a servlet filters
responsible features at JWT and off I
think what you will have to do you will
have to modify the JWT filth in that way
that it doesn't react or doesn't
authenticate the user in case there is a
basic authentication in place so this is
what you will have to do and it sounds
easy to me so I never did it but it
seems I don't see any problems right now
so you will probably you know look at
the header and say if the header
contains bay 64 encoded I forgot
actually what the name is authorization
header I think then skip GWT and off
okay so this is very good one and really
glad g or Gant asked me this for
production what tool you use the proper
application of course we will discuss it
they in the monitoring workshop the
whole day but what I did recently I
created where the seconds get up good
calm exactly firehouse so what I
implement it actually will record a
screencast are properly even right after
the show during depends how how long
does it take but so what this actually
is it it it is a gateway or a meta so it
access whatever end part you have by
adjacent endpoint and firehouse is a war
a thin war 60k and it accesses matrix
and we exposes the matrix in prometheus
format so what the hell is prometheus
prometheus is great at to britain
thinking go not in java but nonetheless
a really great way to with pretty
statistics so let's see visualization
and comes with graph anna and it really
looks pretty and it basically it is a
time series database very efficient one
and one Prometheus server is able to
know to handle multiple hundreds of
service and the idea is here the
Prometheus will talk to firehouse get
you know Prometheus for misuse ready
matrix and the fire hose will access
your metrics in whatever format
available right now it a little bit
limited so what it does it access the
metrics let's see so I have an example
for you so I implemented a sample
service and the sample service just
exposes business metrics so application
sample service component matrix resource
units requested the force and this
application component units and suffix
our best practice from prometheus so at
least you will have to do to add to to
provide a value and values your value
this kid can be whatever number of
requests number of orders number of
transactions would ever like and fire
hose will connect to your micro servers
and exposed re-exposed the matrix in
prometheus format so this is what you
will have to do and I'm I suggest you do
this so what it means whatever
application is doing in doing something
valuable and this has to be monitored
number of you know sold tickets number
of a book orders number of whatever so
like a business matrix or some sometimes
I call it key performance oh it's called
key performance indicators KPIs and so
this is more valuable than tracking you
know whatever and what we get for free
on epic am you get for free through
let's see can I kill that yeah and then
let's start the payara here so um what
do you get for free you will get the the
application server matrix so let's see
whether it already started and this are
of course technical matrix and I broad
so this is server and you will be able
to monitor let's say transaction service
number of commits number of roll bags so
you get this for free and you get this
as Jason for instance you get this as
XML and all application servers I know
provide you the statistics and pyara is
pretty good with that so you get
transactions applications you get the
network you know five cash collection to
you thread pulls a lots of interesting
stuff so you get it for free so get the
technical information for free if you
deploy EG bees they are also going to be
reposted with matrix so if you're
interested go to the micro service
workshop microsoft java ee microservices
on membership so i did it or as well and
but this is you know somehow useful
what's really important that you will
create your own business matrix and
expose the matrix in an accessible
format and i don't think it can be out
medically created for you regardless
with what tool you you are using because
usually what these tools are doing
they're just exposing methods of
boundaries and probably they associates
even methods to a sequel statement but
what I would really like to see my
projects again you know number of sold
workshops not number of you know fraud
attempts or whatever this is what what
really matters and Prometheus with fire
hose is a great combo you could of
course used a Prometheus course with own
library but you will have to include
lots of dependencies I don't like this
so I'm just like a thin Wars no and with
the fire hose you don't need any
dependency of course very Java istic
solution okay so this seems to work
there were some questions okay thank you
d know that you like real-time ax and so
the chat is quiet today except oh man
nsy PX d5 PG v1 hi Adam good evening
good evening bg1 cool so we covered even
firehouse and I will cover our recorder
screencast to show you this is how it
works in action okay so we have that
matrix and next one good one do you know
ask me a question about java is secured
and injected the entity manager so what
i understood is the following dinner
would like to inject entity managers
depending on something so like a
multi-tenant solution and how to do this
so we did something similar in in a
project and what you will have to do is
so our problem was like we had several
let's say countries or systems and
depending on the user we had to choose
the entity manager on the fly and what
we did it was a we just injected all the
a known entity managers from different
persistence you
it into a CDI beam and then exposed the
entity manager based on some other side
properties of the user depending on
country language or whatever so you can
do it dynamically or you can do it
statically so if if you can I would do
it statically because he has no less
magic so just inject whatever you can
into CDI all entity managers and I guess
you don't get you know multiple hundreds
persistence units is like in our case
they were like five so you inject the
five entity managers and then in a
method called you know exposed
entitymanager which producers depending
on user properties so you will have to
re expose the user somewhere so if you
know you know the language or whatever
you can for instance inject principal
and depending on the principle you could
look up with the principal name some
additional properties and depending on
the properties then inject injected
proper entitymanager I think that's also
this is a this was actually pretty
trivial and I hope it's all so trivial
in your case okay this is a good one so
jerison from ecuador crazy so I would
like to elaborate the options pros and
cons we have to implement service
discovery in Java is seven microservices
architecture project so think I'm glad
that everyone everyone everyone at least
a txt V chosen Java is 74 microservices
what I could use what are you
experiences and by the way if you would
like to be interviewed on my blog about
your java 7 experiences or microservices
drop me a tweet whatever and i will send
you the questions you will answer the
question that we will publish in my
block why I'm interested in doing this
because I get lots of questions know who
uses Java 7 or Java 7 is too heavy
weight for whatever so there's still
lots of esoterics and you know cargo
cult out there so but I get questions
all the time you know which discovery
service I use in my projects
even today on my client they got the
same question and last week as well so
then i have to admit so far none of them
and why not because we start in our low
with just dhaka and then sometimes dokis
warm and what dr. already does it
already finds all the instances so what
do you get on top of that with with
service discovery you will be able to
discover no multiple servers and
multiple versions at the same time is
more like you know like colbert
registries or even more more flexible
but if the flexibility of java it
doesn't you know it's not enough what
usually happens my clients use something
openshift for instance what openshift
does is like open source solution which
comprises HR proxy etcd cuban it is and
dhaka and you will set up your service
and then expose your service via an end
point and the end point is visible to
the outside world with via a dns service
and it gets a kind of service registry
and open shift so um i would ask you
first why you need a service registry
because i only know one case where we
decided to use the service registry and
the case was we bought external service
and because of business reasons the
service had need to be a no swapped in
real time and we build some interaction
to be able to do this but this was
absolute exception from the rule and was
two years ago since then we just keep it
simple I hope I answer the question if
not please we ask the questions at the
38 ax TV but be more specific so what
you would like to solve with a service
registry and i think i will found an
answer but by the way Snoopy is really
nice so i forgot the guy who builds new
p ah evar grimstead this is his name and
Snoopy is great so if you I would prefer
Snoopy over zookeeper zookeeper is more
like for instance in Kafka there's more
like election of a singleton
more like this and yeah and the
distributed database which actually is
used to elect a single console and Snoop
is more like a service registry so I
will profess newbie because it's of
course war and java okay tomcat failed
no problem we don't need Tom pit right
now so no questions here no questions
here lots of questions here so the next
one so um I have to say everyone thanks
me for sharing but to be honest I do the
XD v to save time so I I stopped to to
answer technical emails which is a great
time saver and I really enjoyed x2 visa
I actually with ext VI share less than
before so but thank you for watching so
arm next one he asked me so he likes the
disrupting Jason two entities and the
question is know how to do the link
mapping and so if you go to search for
chuck source link so the only way i know
is like this this is the official jax-rs
way you can see link from uri and you
can map telling here and it will appear
is a link so you get this for free i
mean it's not a lot but it's something
so indignant yeah and so there is a
class java xws are a score link so this
is the direct answer to your question
and the question to know is what Hattie
OS is it is I acronym which I can
remembers hyper engine as the
application state of something so and it
is like a little bit extreme way for
jax-rs but also a nice one it means the
d services fully describe themselves and
i don't believe that machines
read the services and invoke it in real
time but what I believe is it is really
useful in case you would like to make
your API serve descriptive and this is
the pointer here image URL and he would
like to realize the image URL here the
question is how to do this this is a
similar problem to injection of entity
managers so inside the entity you don't
have the access to the Ori builder
exactly and so we have to pass it which
options do you have of course you can
try to store it in a thread Locker so it
will work so you can you can it can get
the reference in indy Jax's resource put
it to threadlocal which I discourage I
don't like it but it would work or of
course if you know we know what's your
earliest you could just hot code this or
of course build your own solution with
with annotations it's hard to say so I
would say the thread Locker is a
pragmatic solution so what you did is
even more pragmatic and it's not that
bad because this to Jason is properly
invoked in jax torres anyway so you can
always pass pass the Ori builder so this
would be even I think the simplest
possible solution so I think this way I
would start with that and so you know
how many links do you actually have here
and what you can look at for inspiration
is eclipselink JP a rest for instance
there is a separate which implements
which Maps jpa entities to let's see to
rest and this wasn't this is not at that
yeah it will look like this but it
happens automatically so you look for
eclipselink and jax-rs so they have
really nice and it was called jest in
open jpa i think something similar so
this is similar they automatically
mapped JP entities to rest but the
eclipselink accepted is where I found
something something different
eclipselink rest this is still an
example how to build rest apps this
could be restful data services exactly
this is what I meant so we found this so
I would make a little bit larger it
would look like get persistence version
you need named entity type ID and what
will happen you will get all the
relationships so take a look at this it
could be useful and these are the source
code how its implemented so it could be
useful for you need so you can just
Traverse all the relationships for free
and this is basically a Soviet it's a
very old one solution which comes out of
the box with eclipselink so you have to
search for restful data services and
eclipsing and you will find that cool
questions no questions also no questions
yeah then next one also nice one Joe
Yuki ask me he's working for java ee for
four years using geez i have JP a
practice a little bit of rest what do
you recommend me to study to improve my
career as there are tons of subject I
got lost
every time so I think what the solution
to the problem was java ee in my case
because yeah without java ee i would
also got lost so with javi there's a
clear path is the standard so i only
learn java ee and then know how to build
you know server-side applications the
same what i'm doing right now you know I
I do a lot of html5 right but I try to
avoid frameworks just go straight
straight HTML Dom recent doe
manipulations is pretty powerful
standard CSS and standard akmal script
six or even seven and I can ignore lots
of frameworks but and rely on standard
so we have JCP on the one hand and w3c
on the other hand this is my way you
know to do to do to remain focus and
thinking about this I think for years
none of my clients asked me actually
about Java they asked me about solutions
or they have problems applications are
too complicated and I could actually you
know my great the application whatever I
like which I don't didn't do this so
what I did is just simplify the
applications and I think what you should
focus more is on solution not a specific
technology you know jpa GSF primefaces
can can can can come and go so that the
next bosses are on the corner and you
are working for four years with javi if
you will wait let's say additional two
years you will find a pattern so the
whole technology will repeat with
different name so for instance the
lambdas amazon lambdas and function as a
service really remind me of remote
remote entity beans we go to know 15
years ago where those attempt you know
to invoke fine-grained functions over
the network and hope it will skate
better and is a higher use so what
happened then a few years later it
didn't work so the entity beans became
local and the sessions has a it
encapsulates it capsulated the entity
beans but
from technology perspective you will
find patterns okay we had it already why
it didn't work wyd work what was good
what is bad so you you will learn fast
and faster so focus on concepts not
api's this would be my suggestion to you
and and you will have to enjoy to learn
I think the ddd only thing which matters
in our time is really like to learn and
play with things yeah this is what i
suggest you okay cool apache lingo I
don't know apache lingo so i will have
to look at virtually no so Apache Oh
lingo cool Oh data or data is is a
self-descriptive format I think was
defined by start microsoft starts with
that so it looks interesting so even
better this eclipselink was you know i
keep specific but this is even better
because this omits oh did I protocol so
are thank you Manuel's oh um this is
actually really nice I didn't New
Orleans i will look at this looks
interesting so lots of stuff happy
actually the patchy right now Jakarta is
dead but lots of java project started to
the pet you without mentioning java so
it's interesting so next one what
solution are you using for mobile
applications your projects actually i
try to I really like angular 1 I think
angular 2 is or for because there will
be no 3 is a bit of exaggerated my
personal opinion and it really reminds
me to know cargo cult it's Java app with
lots of injection and modules without
any conventions a lots of configuration
this is what I think personally think if
I see angular code is ago it is crazy
java architects implementing you I so
what I do in my projects i use for
simple apps nothing just just vanilla
html5 JavaScript and CSS this would
actually do at the first day in the web
standards
munich airport in sometimes react this
is reactor on facebook and a several
projects right now with web components
and polymer 20 so I didn't like 10
because of strength syntax / 20 but he
asked me about native mobile app about
native mobile app i would suggest look
at react native this is really
interesting solution so reignited what
also interesting is native script is the
name and if you yeah i wouldn't use
cordova because cordova is more like
browser wrapper and react natives are
truly truly native app cool so let's
close the lingo so you see additional
additional hover for me evaluate or
lingo okay so this is a good one so
what's the deal why we need this context
resolver and what context resolver is
you can you can register it
pragmatically with Jax or a source
provided in boots and what you can do
you can add additional something to this
and and what is the something usually do
you use for Jax p for instance if you
would like to install jackson you
usually do it with context resolver what
you could do in your project not a lot
it's a project but if you're building
products you could register your
implementation in context resolver and
fetch them later so you can pass for
instance get context with the type and
what you get back is what you registered
it's like registry or replacement of
producers in that inject so keep in mind
jax-rs can be used without CDI and with
context resolver you can at boot time
you know inicia initiate something
initialize something and later fetch it
okay
so I hope we did this hard to me because
what happens in code reviews I don't
know why but lots of project are using
lots of web.xml and configured epic
advisors jax-rs configured classes so if
i don't know they configure Singleton's
passes or whatever and I just delete
everything so I have to admit I never
used context with sort of a my projects
I actually thought to write a blog post
you know how to use context resolver but
I couldn't give you any useful example
because I'm not implementing the
application server I'm just using them
yeah I was a good one so ask me now I
used rest to call between micro servers
using the name of the container but in
ecs this is a elastic on container
service from amazon or jelastic i have a
load balancer and multiple antennas what
is the name that i should use how can i
refer to this balancer fine enough we
did it today with a client of mine so we
had I wanted to load balance two words
or just not I wanted to kind wanted to
load balance two wars and what you would
do you would launch the wars with name
like no war one or M microservice one
and micro service to like no other
service one other service to and the
name of the load balancer is just all
the service this is the my way of
dealing with that and if other micro
service would like called the order
service should go through the order
service name and not the other service
one or orders of his tool also great so
arm in the 34th a hex QA he asked him
about CMT and I answered with
transactional and Sergio was happy with
the answer which is good so and now here
I say this is what their issue for me
but how it is implemented yet a
transaction at the hood actually simpler
than you think so first it can be
implemented differently on whatever
application server you have but usually
a JTA transaction is just tie
to a execution threat so whatever is
executed synchronously it is
transactional and if you look at the end
in the manager the entity manager I
think the entity manager has a method
and list entitymanager and list should
be the method name or I thought it was
and with the end list method just like
looks a little bit complicated here lots
of validations but the entity manager or
entitymanager factory and list itself in
transaction so if the entity manager
recognizes is it is running in a
transactional context and list itself in
the transaction say hey I'm really
interested in the transaction so think
about other JTA transaction context as a
execution sweat say like a boolean
boolean flag I am transactional and
actually look at the spec and in one
place they even suggest that the
transactional context is taught in a
threadlocal so I I guess most of the
application servers will use Fred local
to store the transaction context
actually I wanted to look at the source
code from paella or tummy but I didn't
there was a crazy time I don't know what
happens this year lots of requests of
Java and Microsoft's actually I even had
to cancel a javelin conference so I'm
really sad but I just couldn't handle
the workload I don't know what happens
crazy times so um probably Java gets
more and more popular so we have so
think about of JTA transactions are
something which is which is associated
with the execution threat you see
entitymanager factory and lists oh and
this is the book for Monsieur Reuben jaw
and the method very good
this is a good guy bill burke is a no
old calabar rest guy from for Wi-Fi and
you lu li ruben j is the CDI and
arquillian and it's not enlist it is
joint transaction and you see em and
then it joins the transactions or is not
enlist the method was called trend
transaction so look at entitymanager
joined transaction and if you can create
a break point and then you can trace who
invokes that and then you will see what
the application servers are doing and if
you like drop a note and the next a hex
TV show so now we could include your
investigation and by the way the bitter
onyx and jo TMI look at them they really
look interesting but i don't know what
the use case actually is it looks like
they try to make JT or tomcat
transactional but the question is if I
would like to run transactions on tomcat
i will use Tommy but I would be cool you
know what is actually ddd use case and
when it is used to do TM orbit Ronix so
arm can you tell us will change in
security we can expect to see java e8 in
j's are 375 of course so Terry our
github JS r and 375 and by the way I am
expert group member but very latest ones
actually I broke my wrist I think it was
two years ago and this is java spec
started so i had to cancel some projects
and I heck like crazy some some samples
and then became quiet because of
workload but what you can do go to the
test and there are lots of lots of
implementations of orientation use cases
what you can see right now and there is
an ldap jax-rs customization so it is
completely different and a way easier to
use the new security and the cool
stories already it even already runs on
java ee
on pyara web celebrity and white fly
there are some problems with weblogic
but all other application servers are
running well yeah and what project will
have to come of course we support one
day because yeah it's Oracle and Oracle
also pushes Java 8 in Java EE nine so
I'm look at this it is fairly easy to
use there are different realms with
sessions and whatever so just yeah and
you see there's already my stone 3 and
direct even two years ago okay cool very
good one this friendly looking guy says
okay he would like to migrate java ee
from webster application server to jboss
AAP dhaka environment open shifts this
is a good one open she was really nice
and and was a nice java in Wars relates
to java 18 verses or how i called wars
without the Independence's say okay what
to do with that spring security security
seems more flexible state revised in
java security yeah but very similar to
jsr 375 so look at that so we added
spring badge and jess are 352 is like
spring bed yes it was of course created
by IBM and spring guys so it has to be
similar and the nice story with with
batch in the spring batch many
applications use bench or use bed frame
box without require the bed frame box
actually in most cases to just
periodically start something without
lots of you know there's no checkpoints
no redo no nothing and then you don't
need a whole framework so i will first
check do you really need a bitch
functionality or just you would like to
start jobs in the background java 8 and
java api will in spring this works out
of the box tussen would I don't know
what it wouldn't means because I think
you could relate to JP a so and jpa
comes with this type converters so you
will have to write one class to make it
work and properly
bring brings already D converter with
spring yeah yeah exactly for JP Ajax or
is jax beach SF will java ee eight bring
full support for this java 8 types i'm
i'm not sure about GPA for the others it
should okay and jack's b is actually
another part of java ee 7 rather than
java SE and yeah but I mean spring
doesn't come with on jpa implementation
so what you could do you can just take
the spring converter if you like so
there's a patchy license should work
what are your thoughts on Don T's so
evaluate what you really need this will
be just our 375 spring batch evaluate
you really need batches or it's just you
know someone like just batch frameworks
and I'm not sure whether i will use the
jets are 352 because in my projects this
is this chain neither just our 352 no
spring perch are very popular so it
seems like it's not used a lot if there
is not use a lot i would expect backs so
the question is you know yeah just you
know evaluate how much of the friend
will get actually using okay this is
what we always do if we migrated from
some somewhere to to somewhere the most
interesting question is you know how
much of the function that is actually
used and what we can delete it is the
very first one so whatever you can
delete you don't have to migrate this is
the rule of java ee migrations whatever
you can delete it doesn't have to be
migrated um yeah what I did seems like
this was also funny so I got a email
from a project in Sweden and sometimes I
do workshops for them and they ask me
okay what is my opinion about details
about the blog post what I do is videos
like I have fun entities and they
van constructor with Jason object and
two dto and it seems like many people
picked it up and this becomes more and
more popular which is really nice it
works still good in my projects and what
I also did in one of my screencaps i
created a input validator for sorry
being validated for Jason so if you go
to the YouTube channel you will find
that and he asked me what about the
declarative approach so well if you
think about is the JSON object is a
hashmap so it would be fairly easy to
enhance my solution to be declarative so
we could use dot notation whatever or we
can add additional parameter annotations
like not null greater than whatever and
they could refer to the contents of the
hashmap so it would be extremely easy to
do this I don't even know whether I
should implement this as an example or
or or or I could the easiest the time
safe it would be to record a screencast
so if you're interested in it ping me I
will write or I will create a screencast
with a suggestion you know how to
implement decorative input validation
fluids Jason objects cool so let's see
what happens here so the chat is
extremely quiet I perfect sim manual is
a very eager eager and I think I know
Manuel is a great project with something
with farming Angus so they also use Java
are crazy smart guys very interesting i
interviewed manuel on my block so if you
search for next farming on my block you
will find manuel a interesting java
startup auto say ok so Monsieur souls
David I think I know him from twitter so
and this is Microsoft theory says so on
first i would say who cares about any
theory so there are lots of theories and
most of the theories are very dogmatic
and if you if you follow something in
very dogmatic way you always will fail I
think theories work
well for seventy or eighty percent of
all cases and then they just you know
fail miserably so first you are at right
so this is the theory one micro service
/ database the question is why we have
this theory not there is a theory so
what is the idea behind and the idea
behind such a fingers that you could of
course evolve to microsoft is one
independently from michael service to
and so is it is it easy node is very
hard and unless you know keep business
logic very well what it could do then
you could say okay this micro service
here contains a copy of data or from
microsoft's here and this copy is the
right way to go so what it would mean
for instance i don't know I i have here
let's say stock of products and i can
delete the products and i can add new
products and this would be the others so
what we could do I could just no copy
the products here so if the product is
deleted here don't get you know null
pointer reference between the micro
services for instance so and this is
more like all microservices can share a
common database and this is what usually
happens in migration projects no one is
able usually to split the data beta
coupe completely it is really hard and
and I would start with that and after
the refactoring if you split the modulus
the micro services then you know a
little bit more about the business logic
and then you could try to attempt to
note to split the database okay crazy
how many so I think you're doing and
talking girl you are filing the the
questions so um this is a conference at
indeed was addy if you look at the talk
from the cern conference at the end we
had a fun if I'd with an attendee who
asked me some questions is a really nice
guy and he was Mia and male but they
lost the male's I just remember the the
question and he said okay what do we do
we move away from Java EE and we move
away from spring to play in java SE and
is it viable absolutely so I mean if you
can live with that just do this for
instance
and project I get up and it's called n
two great top so this project is like
ETL tool I actually was hired by the
company to implement for them GSR 352
batch solutions or we are by the topic
right now and I look at this and say
okay this looks nice but you don't
really meet a batch well you just need
is a flexible solution to know read the
business object from what service
convert them and write them to another
service and you don't even need Java so
what it did I implement this n hydrator
and it comes with Java 8 without any
external dependencies I think so let's
take a look it should be no D external
dependencies ah ok this is test test
test so you Jason but there is no java
just test dependencies and anything else
is just for releasing so there are no
external dependencies oh it's not
depending on anything but my client
asked me to write an old java ee 7 big
ten service so we could also know create
an own HTTP server without java but i
think would start a little bit more
problematic so if you have you know
jax-rs is really nice and then you will
if you if you are already in jax or as
you probably would like to have
dependency injection so you would like
to see di and then you would like to
have a know a little bit of monitoring
so you will need an application server
probably in one point and you know it
would be oh so nice to start threads and
configure a threat so you would use no
concurrency utilities and if you would
like to read your database or you would
like to read it configuration from
database jpa is nice for that so in jp-a
and one point of time you have
everything and implement this by hand
with java SE then it i think it would be
a far more complicated or just noisier
than java 7 so I'm absolutely with the
attendee
I would start with always thought was
playing Java 8 in Java 9 and if it if it
is too much then i will just migrated to
Java 7 but sometimes I already know you
know it doesn't work out so I just start
with straight with Java 7 and soon with
java ee eight so it's not like
everything has to be java ee 7 or 8 some
things can be just java SE and also what
we do sometimes also interesting
sometimes we've wrapped in no trivial
logic with application service just to
to have them know the am CLI and the
monitoring tools is a lot easier to prep
you know to start the application server
with a simple batch service and you can
monitor the bed service easier than just
on playing java SE 8 yeah and the
overhead of applications of is pretty
low so it really does not matter ok next
question so our angular maybe with
priming geez like components primefaces
component without the backends jazz
html5 another question is all in a
single war or have to project one for
back-end and other project with angular
stuff so usually the latter what what
what happens in my project is the
following and the first iterations both
are shipped at once and what happens
then is then the back end is more stable
than the front end and you know I don't
like to redeploy everything just because
CSS or HTML changes so I think it it is
it comes with with some advantages to
have two wars one for the front end and
one for the back end on the other other
way if you and on the other hand if you
find yourself you know to to always
touch two wars then it doesn't make any
sense to have two wars then put
everything in one war also if you have
two words you have to play with course a
little bit and you find yourself you
know to ask yourself about the URI where
the fritz war knows where the second war
lives of course we have worse we could
trick with jsp-servlet
so you will find a way but if you have
if you are in one war everything is
loaded from one location so what you
could do even start with one war and
then see what happens if if your back
end or restful services stabilize or are
most stable than the front end then you
can split this and if everything changed
equally often then and then keep one war
under you play everything so and I don't
know maven plugins Ida like maybe
plugins what I use for automation I use
NPM because yeah it's not easy and
standard so how dumb was a nice typo
with Java and high-performance IOT
application so actually we had some
attendees in the last AIX and mini get
what i mean java he was also fast enough
and almost yeah most of my project right
now our IOT project what it means is a
car or a hardware which has tcp/ip
connection and talks to us so we are we
are able to have enough several thousand
transactions per second this is just the
usual performance tips tricks most used
no sequel databases tips tricks always
the same just perform perform stressed
as frequently night runs measure the
performance premature optimization root
of all evil measure first then optimize
and most use no sequel databases really
depends on use case but elasticsearch
Cassandra this would look first last but
did you cannot compare notes equal to
two or Cassandra to to elasticsearch but
this is what I used recently for
instance post quest also nice has also
um no sequel extensions ok be more
specific because i OT so one client
wanted to and they asked me you know
what about IOT said ok what do you mean
by IOT everything is LT we have rest
endpoint whether I'm involved by a bulb
or whatever doesn't matter right
sometimes the hardware required ask for
specific protocols and you have of
course to choose them so what would
happens then we have like a protocol
adapter sitting this application servers
which talk with the proprietary protocol
and translate the calls to arrest calls
and it's some project we use MQTT
because we were forced to use em PTT ok
next one rolling star ask me I want to
secure my wrist with jg j e key clock
and cheeky clue comes with worth filters
but doesn't come with you know tight
integration with pyara so if you would
like to be integrated tightly with pyara
you have to look at open I am from Forge
rock it comes with tight pyara
integration stand so this is tight by
our integration and glass fish and key
cog is more tight white for integration
both can be used for both application
service but key clock is more suitable
for you know looser integration so it
comes with several Fulton jax-rs
requests filled I think and this is more
suitable for pyara of course you can
write you've adopted by yourself or you
can look at the implementation this is
also open source of open a.m. and then
adapted to key clock this is just what
we can do and if there was last one so
it is the following and this is a
student very nice one and so if you can
help him so what i understood i read
this several times but he creates
several entities it works with aunt
image request filter that's what i don't
get why need the request filter and he
would like to create a war so I think
the problem the first problem is you
have probably in multiple jars or
whatever and with that I microservice it
tells time to develop and test the SDK
with so we have so I actually don't get
the problem but what I can tell you is
the following if you put everything to a
war it will work
if you put a jar to our war and in the
jar is a bins xml it will also work if
you put a jar to a war and in a jar is
persistence.xml it may work because what
what we can do in persistence.xml you
can point to an external jar which
contains jpa entities i think it's
called jar file there's one tech
clarifying and if you need an example go
to github adam beam and porcupine this
is a small library por q kind and what
porcupine is it comes as a jar and you
can include the jar as a dependency to
edge axe or s and then integrates it
makes itself available even for
injection so you can inject you know
thread pulls from porcupine or third is
an external jar so just look at this it
works so if you just include this
porcupine it will work make it
injectable if porcupine will come with
with entities and persistence units it
would should also work so I never try
that but it should also work so look at
this this could help you I think with
you issues because for me I don't get
the problem so did this problem means it
the entity is not listed what can happen
is that if you have persistence.xml
there is there is a tag like exclude
entities and if you if you deploy a
solution to application so we don't have
to list the entities but if you use
integration tests then you have to list
all the entities so what you can what
could also help you is the following so
if you go start a maven project new from
archetype
and you search for a hex that this
essential is what I now create always in
my screen cons but this one could be
interested to you interesting to you
this is like a simple project with
integration test system tests in unit
tests and what I did here you will find
two kinds of persistence.xml one is
meant to start it in integration test so
with listing all the entities and the
other one is meant to be used on the
application server without the entities
and both are working so just take a look
at this this could be interesting to you
ok we are done questions here ok he is
using the request for the power
authentication authorization ok then it
should work and I think we are done so
there is no questions so see you
tomorrow in Munich at the munich airport
so we start with the architecture
prepare questions and we are actually
pretty fast what I think I will do I
will record the firehouse screencast
just briefly how it works and so thank
you for watching prepare your questions
see you next month and and I will try to
publish it this week the de screencasts
and yeah see your upcoming workshops of
course mini iPods and yeah and I'm
working with something exciting for the
online course so on thank you for
watching and bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>