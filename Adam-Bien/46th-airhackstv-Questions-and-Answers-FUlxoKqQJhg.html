<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>46th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="46th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>46th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2018-01-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FUlxoKqQJhg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to 46 edition of a hex TV
and happy new 2018 and made your wars
were thinner than in 2017
and it actually looks good more and more
projects are based on thin Wars and more
and more developers actually believe
that you can just focus on standards and
forgot all the fancy frameworks and they
really enjoy it
this is the most important thing so you
don't not every project know has to be
has to consists of our artists ok start
with the topics so first a surprise so I
was quiet the last three weeks so if you
follow that my twitter account or my
blog nothing happened and not even
vacations episode which I did the last
few years was released I actually
planned to do something but at
absolutely no time and the reason was
the surprise so what I recorded is the
new web components online workshop and
this is the you can consider as the
second part of the web standards ignitor
in the web standards ignite I just focus
on on on the web standards he has a
three Dom JavaScript API and in the web
components I just show what you can do
actually how you can build your own
custom elements your own components in
all your own browser tags with behavior
and the browser takes communicate with
each other with data binding and events
are are distributed and without any
external dependencies so the I'm not
relying on anything I just using an
editor and this was the reason actually
I had lots of lot to do just to record
that and how does this relate it to Java
because it's the same spirit what I like
in Java the most I just focus on
business logic and forget all the
dependencies and the same I'm doing
right now in my web projects and not
using any frameworks and just using the
web platform or web standards so the web
platforms are Weber or whoops
or the browser even is for me the Java
as you will and in some commercial
projects the developers also really
enjoy it because there are no bigger no
migrations and you have to learn once
and you know never real and again so
it's exactly the same as Java it's a
problem of courses because you don't
have to migrate every two weeks it's a
little bit more boring which is exactly
the same as in Java EE so forget about
that then I think December the 12th was
something like this there was the
regular a hex comm workshops in Munich
with lots or lots of really nice
attendees from all over the world and I
knew they were they were already some
alumni or attendees which who already
attended a hex and there were projects
with thin Wars so worse a way smaller
than then one make lots of critical
projects really interesting project and
the most interesting project or the most
interested question was one project was
even forced by European law to have fast
response times and it didn't knew about
the law this was actually an interesting
project so so I really enjoyed the four
days in December and the next vet shops
are already scheduled and by the way the
the workshops in March so the web
component workshop so I didn't covered
everything would I cover the Munich so
in my web component workshop just
comprises the web components parts and
the Munich I will also show you some
techniques about you know service
workers web workers asynchronous
programming and offline and in the
online course I just focus on the custom
elements so they already sufficient
registrations to all the workshops so
they should take place in March which is
great so thank you now contents first
question and this was actually nice one
someone is a student job application for
school he's basing basic crud java
application for school and he would like
to review me the app which I actually
did I
in December the first time and today I
just checked out the code again and I
found this December version better and
why I show you show you in a second and
the problem is you cannot actually
review an application without knowing
what the intention is so um so what is
the intention of your app test it should
be clearly clearly stated you know if
this is basic crud so this is completely
of engine yet but if there is something
else going on which I don't know it
could be appropriate so I'm a basic
advice you cannot just show me code and
say review this because if I don't know
what your goal is it is really hard to
review so you should provide you know in
the readme a short in the github readme
a short goal list watch was your design
considerations but let's go to the code
so this is the app flight manager and I
start always with Tom Mix ml so just go
to the pump and it uses Java EE Web API
the first question is why Java EE Web
API and not fool I never used the Web
API so I would ask you why you are just
restricting yourself the Web API it does
not make any any difference in in the
real world just go if you if you have
some time watching my talk lightweight
versus heavy weight so there should be
no difference then Lombok why I am using
Lombok this introduces additional
complexity complexity in your case you
won't gain anything usually in project
you can gain you know you don't have to
write hash code or equals if you really
need need it or to string or get us and
set us then I would put put the
properties at the end and you you
created three modules there controller
entity and boundary there's a type of
boundary so it there is no a so the
question I would ask you in real-world
projects why you created three modules
if there will be no reasonable question
I will ask you to merge everything
together in one war so on let's start
with the boundary so the boundary there
is parent remove the parent there is no
need you know in the parent to specify
two dependencies in inherit from the
dependencies
it's additional complexity I will remove
the parent and put the dependencies here
then the Maria DB I have no idea why why
you need Maria they be here
Maria DB is a driver JDBC driver it
should be installed on the application
server then there's an airport and I
guess the airport is session scope data
so session scope our question do you
really need session I would guess you
mean stateless data no idea what data is
I guess it generates getters and setters
or some no idea what happens here and
named is shouldn't be actually used
except it is used by GSF and then I
would rather use how it's called backing
beans with for instance model on it and
the and the backing beans would access
the airport and authentication this is
actually the same and the question is
why you are changing the name here so I
would just always rely on the onda
naming conventions okay so so by the way
primefaces good choice and I have no
time to review the view but I guess yes
so on what I will do in your case I will
merge all the modules into one war and
then the airport becomes the airport
facet and the and I would introduce
another packets package let's call it
flight manager so arrow for Romania I
think you VT and by the way I spent some
time in Romania in projects or what I
notice whoring table pálinka and zhutka
I think you should know what it is so
and arrow UV t dot flight manager dot
business because we are in business and
bound in boundary and then if you have
JSF I would introduce arrow dot uvt dot
flight manager dot presentation and
there will be the backing pin so I would
just have two classes one which cares
for si si backing beam as a as a
presentation view
and the other one which cares about the
back end and you can already see you
have some name clashes so it should be
on I don't know what the airport is
doing right now nothing so there should
be some you know flight management or
passenger scheduling but just Airport is
too broad ok cool controller so the
controller there is an airport being the
question is I don't get the difference
between the both and now I know what it
is
the boundary in your case is already the
packing bin so I think you should rename
that then Nathan session scope is right
so I out question whether session scope
okay so it seems like the boundary in
your case is already the view layer so
what I wouldn't do is I wouldn't add
what's also strange in your case you
have just a J's F part so you don't have
any any rest services which might be
right it's okay so so no I got you so
this is not good then I take it back so
but what I will introduce is a package
called presentation this boundary is
still one package for both for for the
airport beam and the airport T and
there's no need to to name beam spin
everyone knows the stateless is a beam I
would rather call it you know Airport
schedule a flight manager and whatever
so cool the same is for company beam and
rather than creating a package beans
I would rather introduce two packages
one probably company and the other one
flights or flights company generally
something like this and if you look at
the ID classes there are empty delegates
I would question them and remove them
and why you have the empty delegates
because you have endow and this usually
happens so if there's a simple crowd app
I will just remove this layer or the
Dowell layer and let's go to the egg 2d
where is it
so what everything which look like this
is actually wrong from the Java
perspective no edit value' just
delegates to to the next layer
okay what's here okay this looks nice is
simple and now to the entities and we
have the dowel in own package active
able activate table I think extends
persistence active active Dao Dao ends
of earth in real world commercial
projects I will consider this as a
defect it's the whole package except it
has some specific purpose we don't need
those anymore so what you will do you
will just inject the entity manager but
you could have a specific requirements
which I don't know for instance if you
would like to access a non-standard
database like or MongoDB among this
already also covered but let's say react
or something else then Dow's would made
sense but you are using straight JP a so
it's not needed so we have the airport
again it is the airport entity and you
see no exterior constructs right as it
is my personal opinion I would instead
of using the D annotations I would
prefer to have a constructor so let's
magic so um I would even you know I'm if
you argue no magic development is the
best possible thing company it's the
same this looks everything reasonable so
okay so what I will advise you merge
everything to give it to a war throw
away all the framework classes and focus
on business having said that I don't
know your professor so if your goal is
to show off you know what I can do and
some some separation of concerns then
you get a very good
I think evaluation from from from you
from your profs so you have to ask your
professor and your code looks like code
from seasoned you know enterprise
developers so it is clean looks good but
I'm writing a different code my code is
not simpler so on I don't know exactly
what your goal is
so before you refactor everything you
know and then you have to repeat the
class ask rather the professor and even
add some layers to get a better
evaluation and after the school you can
remove all the all the stuff
okay so sorry for the for the negative
comments there but this is there were my
my my spontaneous thoughts and by the
way I read it is already in December and
assemble looked reasonable you had one
war and looks good so and now it is a
liquid too complicated for me for a
simple crud okay cool so at the Munich
Airport workshops they told me I have to
switch the DD D chat and the nd Twitter
and I did this was a really nice
improvement because now you can you know
follow better the chat so thank you for
the feedback and there was one attendee
at the Eric's workshops in Munich
hoo-hoo-hoo-hoo listened or I think
listened to all order to all Eric's TV
episodes all 45 episodes and spent 45
hours listen you know I don't know in a
few weeks to everything so not bad cool
I think we covered this so by the way I
really like code review so if you are
happy with my criticism just put it here
by the way what what I think would be
great student assignment when another
few student could simplify as much as
possible this flight manager and provide
a screen code as possible with without
any external dependencies so you would
have you know a two versions of that so
versions history lock of the entity JPA
so there are two possibilities there is
hibernate and verse and there is eclipse
JPA history both are similar and verse a
little bit more generic so in verse
works internally with with a hashmap and
this is more typesafe and so both to do
the trick and and the question is how to
handle it changes entity for example
when column is changed remove different
for history table not that different to
what happens was they with the entity
table so you will have to maintain both
tables at once how to do this
your with for instance liquid base or
Flyway dB there are two two
tools which are almost standard for that
how to run tests in container with
arquillian glass embedded or is it
better remote or maybe another solutions
I would say and other solutions I think
in my youtube channel there are lots of
examples how to implement embedded tests
without our Killian and embedded
solutions and even in my testing on
network shop
let's wait a second ax dot IO and there
is in the Java testing workshops so I
used I tested a lot without the
container and I just used our Killian
and Delta's pike and CDI unit for very
specific cases so um and the code is on
github so you can just take a look at
that ok and by the way because the
shoulders in the in the in do you Yuri
you are all in the XFM podcast there is
an after on December the 17th I
published another episode micro Java
with Steven Steve millage and this was
from about Java beginnings
object-oriented programming and how
small or big pyar micro is so I got lots
of questions about payara micro so I
asked the I think he's CEO or CTO found
in director found a director of payara
so this is the mr. pyre itself about you
know the the size difference between
pyro micro and pyro serve a fool and and
what the ideas behind are so I think if
you listen to the episode you get our
even better answers then I can provide
you because I'm not mister payara in
Steve villages
ok so cool I hope it's covered and thank
you for listening so I'm really
surprised that I get zoom so much praise
because it is not like I do know a lot
of additional work here I'm just sharing
my thoughts and if you like it it's
really fine so thank you to honor any
questions see discussions about getting
rid of eg be in favor of CDI so the
discussion is actually good and very
productive
and I and you you have to to read this
demanding list here and there is also
David Blevins from Tommy involved and so
what is what is my my opinion about
Egypt be in favor of CDI so my general
opinion is we should delete as much as
possible from Java EE but we only need
one Java I'm not a big fan of having you
know 50 different profiles because it
doesn't make any sense so from my
perspective usability convenience and
productivity are paramount I'm really
not interested in micro optimizations
because you know there's no gains for
anyone so having said that right now in
Java is 7 and Java 8 eg bees are the
most lightweight in most productive
solution why because I get all these
stereotypes for free there are pull able
monitor able I get transactions for free
I don't need any additional
infrastructure you know producers and
nothing it just works everything out of
the box but what I would like better is
to kilt eg bees completely and provides
a stereotype let's call it stateless or
something else
so let's invent a stereotype the name is
something else and this something else
stereotype would be a CDI stereotype and
would come with all the cross-cutting
concerns from eg bees so you would get
transactions you could get pulling you
get monitoring features and you can
throttle the eg bees and and then I
would just choose CDI and we could kill
em eg bees but because such d something
else stereotype is not available right
now
I still prefer eg bees because I'm not
interested in reinvented individual in
every project creating you know CDI
which behaves like a GB without the
jeebies but because at the end of the
day you get AG bees anyway so it's not
like if you if I'm creating if I'm you
know emulating eg bees with CDI
eg be technology will disappear from the
server it still sits on the server and
waits to be used ok what's the best way
to add Mattox to my java yep so undo it
it really depends
which metrics because I think the most
valuable metrics are business metrics
and what business metrics are doing as
they are counting let's say how many
podcasts are downloaded or how many blog
posts are viewed or how often is
something bought or something rejected
or how often per second or per second
per day someone bought my book or
cancelled the order or what is the
temperature of something right and so in
this particular case the big deal is to
write code to provide the metrics so you
need a business code which performs the
calculation so like it implements the
cockpit functionality and if you just to
expose this via Prometheus it's trivial
so at the end of the day you will have
to have string concatenation and create
a Prometheus name and if you're
interested in it take a look at project
firehouse and I already mentioned the
last episode what what firehouse does it
just just reads jason and creates on the
fly the B the matrix yeah it creates
exactly this so it creates the the
Prometheus format which can be directly
consumed by Prometheus actually
implemented in life during the last a
hex comm workshop in Munich so and what
I don't like
so there are Prometheus client libraries
but they are they have too many
dependencies and in of the day they're
just concatenating the strings so um so
this is what I yeah they provide some
additional computations but what you
really need is just the Prometheus
format and I'm not in favor of
interceptors because what you get was
interceptor and interceptor can only
count you know the invocation of our
methods so this is what I usually also
do and how it works is the just for
instance what you get out of that is
number of or you get what I usually do
so
method I'm interested were the slowest
invocations which invert
which have thrown which exceptions and
and yeah this basically was and then
from there it evolves and how it works
is in the scepter creates CDI events or
calls directly and and startup singleton
which is which maintains and current
hashmap and in the concurrent hash map I
maintain the statistics okay yeah
every events could do the trick but you
will find yourself out star just with
interceptor which directly gets injected
the singleton concurrency management
beam singleton pin as GB and maintain
indeed statistics there and Eclipse
micro for profile addresses the issue
issue as well so if you have for
instance the the Eclipse Eclipse Liberty
profile open Liberty application server
it you can you can activate the 11.2
micro profile and get these statistics
out of the box but there are not
business statistics cool I hope I
answered the questions let's see what
happens here no questions no questions
except Happy New Year so happy tune yet
to do to you as well now if you see Dow
as a defect yes do you also think Delta
spec should not be used so let's take a
look at the Delta spec so what do you
get you get a repository pattern and
what you can do you can specify queries
on interface and then because of some
magic you can generate the
implementation for you you will get two
dependencies you you have to declare two
dependencies properly with some
transitive dependencies my first
question it would be how much slower the
deployment gets this is the most
important question if I if I add a
dependency are always measuring all the
time before and after because
as I said productivity is key and then
you will have to produce the
entitymanager this I will consider as
overhead and so and what you gain is you
can create an a repository and you get
some annotations and the question is if
I would just write just inject the
entity manager and you would use this
who would be faster and and which
solution comes with fewer lines of code
and if you will if you are able to
convince me with a very simple arguments
like look if I will use this my code is
become simpler because and because it's
obvious then you should use it
absolutely and actually somebody in the
project also mentioned recently Delta
spike and I asked you know why and there
was no clear answer it's just because
decoupling or whatever's or who cares
about decoupling so this was like the so
actually what he wanted to say because I
would really like to use it so this is
the news it ok so so this is actually my
if I look at a code for instance you
know you have to use transaction or
repository in what I do in my eg be a
fine control at stateless not even
stateless there's one it's stateless on
the boundary level and this just the
transactions get inherited so I I would
even argue the standard Java solution is
simpler than this ok
and what I also like I like the query
having the queries on entities because
if the EFA entity flights and I open a
class and I see all the queries on the
entity I really enjoy it I don't think
it is better to have the queries defines
on the on the methods because the entity
is an domain object and the queries
could be considered as static methods of
the entities you know they are not under
on the entities rather than in the
entity manager but you could implement
the queries are studying methods on
entities okay
so Klaus Heim saw my video a little rest
with jax-ur s2o in Java 7 the video is
the video is quite old but seems to be
popular and he asked me about
asynchronous services so I also opened
the project and there's developer which
by the way this project is reasonable so
this is what I like to adjust developers
resource and Jax's configuration this is
how simple crud should look like in Java
7 and developers resource and what he
tried to do is to use asynchronous which
comes with eg bees 3 and this seems not
to work in his case and what I would
like to do instead is and actually I did
it so if you go to youtube atom beam and
look at the code Java 8 with jax-rs
2 1 so this is part of that so if you if
you look at this I did something similar
so I used the computable feature with
manage executor service and combine that
with asynchronous client if you have
Java 7 you don't have the asynchronous
client part but the solution is is
similar let's see whether I recorded
something so in the Java EE micro
services part I did it actually there
was I configure the computable future so
I described this in the endeavour shop
but let's see whether there is an free
solution just stop and
no not here and I'm pretty sure there is
our video of how to use computable
futures so please take a look come a
sink not sure so um but regardless what
you can do you can inject manage to
execute or service then you can create
computable future and then you can
combine both the asyncresponse
with a boundary so this is how it
usually should work I hope this answers
your question okay good one
docker swarm versus kubernetes vs
OpenShift which is best in which
scenario so I would say Cuban it is one
everything so kubernetes everybody's
darling everyone everyone uses
kubernetes even openshift so with
openshift you get cuban it is HR proxy
docker everything in one place and
docker swarm is similar to communities
and OpenShift I would prefer open ship
for communities because open ship
contains communities and I like
openshift having said that my next
server will run on Cuban it is because I
don't need to open shift for my projects
but my clients using open shift and this
is actually great and you don't have to
use the source to image paradigm you can
just run use open shift to deploy dock
images so you are not forced to build
from sources yeah
so thank you um yeah I would take a look
at communities if you're happy or
kubernetes go for it I think even
installation of OpenShift is simpler
just try look take a look at mini shift
so you can install open shift in uh and
then you have it on your machine so yeah
so next one is good one about stateless
beam spools so the question was this
interesting one so um what it means is
so the question one it's very good
question if you think about this is it
better to have one EJB with four methods
for methods or for eg B's with one
method which is better in terms of
scalability so and you cannot answer the
questions right away because if you just
using simple Java calculations you have
to use one a GB but if something happens
there let's say you are calling in
database which something takes longer
then let's say 100 milliseconds or 50
milliseconds then it becomes interesting
because if you have for eg B's each
method invocation is an instance and
they are independent from each other so
they are you get in parallel for
instances of eg B's and if you have for
four instances in parallel you get a
little bit of queuing so it could scale
better how much better
I wouldn't expect more than 10 to 20%
and what you also gained is monitoring
then you see you get one eg be one
monitoring endpoint Perry GB and you can
look at how many eg peas are active at
time so you will see how many parallel
additions multiplications or divisions
is going on so um but I would probably
start with four methods first and if you
are interested and it has to be a high
performance solution high scalability so
performance it would be always better in
one class but scalability if you
I'm pulling or you need throttling than
the four instances or yeah not instances
for classes and then for instances might
be better and at run time there will be
no four instances they will be far more
instances so from performance
consideration memory considerations of
course for classes will take more memory
than one okay and the next one that's a
few lines you need to teach yourself
this is true and they are really enjoyed
how do you keep up with so many
technologies that update constantly what
are your sources and this is about you
know why I'm still sane right so
mentally healthy I would consider myself
so there what this is subjective but at
least I'm happy right and it started
early actually I think in 1997 yeah 1995
was not that crazy 1987 I didn't I think
eight was more and more crazy and this
was like even more crazy than JavaScript
right now the JavaScript ecosystem they
were like you know millions of
consultants and they wanted to take over
the world so it means likea and
artificial intelligence AI is nothing
against that what would happen before so
actually I remember in one meeting there
was a company who claimed the deck it
can implement with plain HTML in
Netscape version 3 and virtual ecommerce
assistant and this was like you know a
small creature in browser who would
suggest you know what what stuff to buy
and they said there would be no problem
to implement that and I couldn't get it
so I killed how you can tell it I'm I
don't even know how to start right and
then that after a few iterations they
they found found out that you know that
easy and the idea was that they planned
you know to create a a a back office
center and for and they wanted to remote
control the the the small creatures the
also called virtual assistants with real
persons so as like a chat applications
so I say okay just crazy I mean and what
I find out is that a lot lots of
technologies it was just marketing and
just not honest and what I did then I
just focused on the basics and standards
so this is why I really like javi it
didn't change a lot in the last 20 years
I would say and and everything comes
back to javi somehow so whatever you
look at it is it is it's really similar
so um even if you look at serverless
cerberus technology it looks to me like
you know exploded application server but
this is it solves exactly the same
problem which is sort of for 20 years so
it's not like I have to relearn
everything I think the the most
challenging part is is not to forget all
things so if you are able not to forget
things then you'll be successful and you
don't have to to learn anything new
except you know some new buzzwords so
but this is pretty easy to learn and
because most of the buzzwords are funny
like no sequel and everyone wanted to
have sequel like serverless
and they of course service everywhere or
what was it web 200 was also funny so
there was actually no one knew what it
actually is
or SOA service-oriented architectures
and there was no definition of a service
so this was I know this is the history
of software development is actually very
funny okay let's see no questions so
what happens we do in 2018 so you are in
2017 there was a lot lots more questions
right so next one this is my friend from
from Java one so I told the story
several times was still funny he asked
me to have a drink and I say ok we are
not at Oktoberfest but what he wanted to
have is a coffee and I just said no and
don't drinking here is Juwan and I just
took a coffee and I met him so he told
me you don't drinking anything's again
but coffee always right ok and he asked
me web sockets or sse service and events
and i would go yeah
how to tell right why because sse comes
with jax-rs if you have already a jax-rs
endpoint I would start with SSE because
there's almost nothing to do this is
just fully integrated with jax-rs
WebSocket is complete different channel
or at least additional class which will
care about WebSockets then WebSockets
are binary and very efficient for small
messages SSE is also efficient but it go
but but this goes over an HTTP so I
think with SSE you get less trouble with
stringent firewalls and WebSockets can
can cause more problems in firewalls and
proxy servers and stuff like this so um
if you don't have jacks or s in place I
would start with WebSockets and if you
have already jax-rs resources and and
this SS e end point just fits well to to
the jax-rs I would go with sse for long
live in clank to server connections yes
i mean they are WebSockets is like
almost like a session and it is also
like a session and it even maintains
like a reconnect timeout yes stock
update for products
I mean WebSockets sounds to me as very
natural choice so thank you and yeah I
hope so both are good WebSockets and and
they are also well integrated in
browsers and yeah questions no questions
no questions what is that
those are no questions okay
then scooter I want to so the idea is
writing exam and pee chat server with
Java how to do this and what I what I
proposed is connect or connect or Alan
bean comm ready to use connector
implementation I've wrote it for Java 6
works well but yeah it's a component
which you have to care about and is of
course complicated so the question is
would I start with that no and what I
almost forgot about this look at EF TP
actually voted for one of my clients and
absolutely forgot to announce that so it
was open sourced a few years ago it's
called e 2 FTP and what it this is this
is an FTP server which runs on Java 7
and therefore it also has to care about
server sockets and or at least threats
and is on each if you upload the file
you get notifications via CDI event so
slightly integrated with with CDI so and
and I don't think I used to the four
years ago our connector respect then I
also used state stateless startup
Singleton's to maintain the sockets so
what I would do is start a bean
singleton bean with concurrency
management bean this what we start with
and manage an executor service and ready
to go nothing will happen and by the way
the statement is I think wrong because
only stateful session beads are
passivate there is nothing to passivate
and stateless agb's there can be just
because they are just not passivated
there's not called passivation
only stateful session means our
passivated this is the stateless eg
Bista can just return to tour to our
pool and and yeah that's that's the
problem with stateful session means with
Singleton's they are not passivated is
like Singleton's is like stateless with
one instance and did this bothers miss
because only stateful are passivated and
stateless there's not called passivation
they are they are returned to the three
pool and then and and then taken from
the three pool and if they cannot be
passivated what happens then is they
would never return to d2 to the pool and
in singleton bean will never return to
the pools or no one cares about that so
go with singleton that it works well
works really well so ok so where's my
gist questions yeah and what you could
use you could use you could use the
implementation house called having
focused history porcupine if you go to
my blog tomorrow to github and look for
porcupine you will get an injectable
executed service which is based on
managed to execute or service and get
additional statistics if you interested
ok cool
so now happy New Year to you as well and
here
seems like GlassFish is not working with
that and the question is whether I now
know I work around and I don't know it
what I would do is I will use payara
and then open an issue
this is a possibility because if white
flag works and payara doesn't so somehow
strange because hibernate validator is
the reference implementation and world
is the Cydia implementation and both are
white fly and pyre are using both okay
so I would double check that so I didn't
have time to to do it but what I will do
is try to aspire of five the latest one
and open an issue at github payara
payara account so this question there's
actually two questions the first one if
i'm using java ET logging then there is
no way in this case to separate the
application server logging from from
your logging what I would do the
question is also the question is what I
designed this is now longer conversation
my argument is why would log to a file
write to a file anyway because if you're
running in cloud container there's
actually no access to their to the file
system isn't it better to write it
somewhere else and if you would an even
file bitch - L - what I what we did in
the last workshop at the airport Munich
ice implemented from scratch a simple
logger without any framework who's just
an functional interface the one method
which looked directly to to elastic so
and then we used Cabana for for
analyzing the data so it was very simple
so I don't think you did for elk so the
question is why you should write first
to a log file and then use fire bit to
read the log file and the right to elk
if there is in - right - elastic if
there is possibility just to write
directly to elastic so this is what what
I would consider and if your rocks are
that crucial that you know that nothing
can get lost then I would write directly
to database anyway for instance if you
have JDBC try to a database
okay when you deploy an air or water
gland so how to obfuscate a code so
obfuscate dink code should work on
application servers we did it a few
years ago but for I don't the last
projects no more I think ten years ago
something like this and what is the best
way to add license to your java
application so this is actually funny
because we had to do this once and if
you reuse the Java security to mimic the
license functionality because you think
about this you could have no licensed
and unlicensed user and the license user
can access different more stuff in
application than an unlicensed user so
this might help you and if you obfuscate
a code it should work the it should work
because the code is obfuscated first and
then deployed and the application server
will generate the dynamic proxies and
everything on in using you know the
office cated code code as base so
because there are no diploma descriptors
this would be a problem if you had
diploma descriptors XML and inside the
Diploma descriptors you would have you
know references to not class names and
they are no more available because then
the name was changed by the obfuscated
then you are in trouble
but in on application serviced modern
application service there are no more
XML nor diploma descriptors no
configuration files and the only thing
which remains is the bytecode and the
application server doesn't care whether
the name of the binney's airport or a 42
okay thank you and this was a good one
so basically he wanted to have a Pierre
class from Jakarta Commons and and this
is interesting what's why it doesn't
open
and the question is you know the pair
class so this is actually is a key of
value or just two attributes and what is
the big deal so if you just need to pay
a class why don't write the pair class
what you can also do in Java fix has on
pair class and on some application
service it can cause some warnings but a
Java if Java fix comes with a p.m.
plantation so if you sir
Java expire and Java comes with so it's
also Java util appear and this is varied
implementation so you could absolutely
use it so in one project we use it and
then the application server had some
warnings so we just reuse the code
without Java fix okay so for me just
having Pia is not a reason to introduce
external library but this is what we
should argue about you know is it really
worth to be dependent on Jakarta common
something just to have the PA class but
if you you know for instance for
security or you know whatever it is
harder to implement and then never
reinvent the wheel the wheel use
something which is proven and then
standard so thirty nine minutes ago how
to organize the rolled base access to
jax-rs resources what it means actually
i would say look at Soteria
samples this is so Turia so Turia J's
are I think 375 github there should be
some examples about security and role
based access and lots of examples you
should look at that
because how to organize I don't know
what's your requirement is or what's
your yeah no idea what your requirements
are with in which arose you you need
because there's nothing to organize it's
just part of Javy if you integrate the
authentication authorization you can
either either introduce your your your
realm or use authentication mechanism
from Java 8 and then you are known as as
as the principal or as the role and then
you are set so there is nothing to do
any rather than thinking about your old
names and which role is allowed what to
do and I don't know the requirements but
sometimes what happens is probably it is
the question that we have to
authenticate using my clients database
but we are not allowed to write anything
to a database so we use our own database
for authorization and then we manage the
roles by ourselves and then every
project is a little bit different a good
book on unit testing I don't think there
are pragmatic books about unit testing
because the every book or unit has
things just you know prices unit testing
and in in practice and not a huge fan of
100% code coverage so and the question
is how do test jax-rs resources I think
how do these checks are as resources I
covered it extensively in the in the
Java testing workshop and without any
framework and just to show that it also
works I use the jersey testing extension
but I don't use it in real-world
projects but I just show you this in the
in the in the workshop so if you
interested take a look at that and in
this course
if you go to the repository Java testing
you will find all the examples for free
so you don't even have to buy the course
so in the course I explain this but here
you see Jersey test framework so this is
jax-rs research testing and yeah just
take a look at that and what I usually
do you see here monitoring st is the
system tests and monitoring I always
have a dedicated projects which cares
about the system tests and I'm not a
huge tent or fan of of embedded tests
what I usually do I have one war which
is binary the same for all stages and I
and I deployed as soon as possible and
then have another module which performs
blackbox tests this is what usually
happens in my projects and sometimes in
more complicated projects we we
implement simulators to simulate an
backend system or something like this
okay yeah and I could book your testing
so if you are really interested in unit
test unit testing right the classic book
read the classic books from I think it
was Kent back and all the you know early
extreme programming books because they
show the best technique so they get an
idea what it is actually and I and I
always try to read several books and
don't read write one book if you're
interested in a topic write as much as
possible sorry read as much as possible
about this and then you get a better
idea just one book is not not a very
good idea okay now we are done let's see
any questions here no questions here if
you mid immutable objects are good
so I already asked me simple and offer
benefits in concurrent programming
why do programmers keep creating
readable objects well this is like the
question is so this is like you cannot
answer the question properly right
because you are saying if immutable
objects are good
if my I mean what it means immutable
objects so immutable object means it can
never change and if you look at the Java
EE 6 JSON API
it was immutable so it couldn't change
the already existing object which was
painful so it was good but hard hard to
use Java 7 is a little bit more mutable
and is uh sorry Java Java 7 was
immutable and Java 8 is a little bit
more mutable which is way easier to use
exactly and and in Java is 7 or in Java
in general actually most objects are
immutable right because if you think
about us everything lives video for the
duration of for a request and it's not
like you keeping your object in the
sessions or the whole immutability
immutability
applies more if you are building
standalone applications or your own
service in Java EE in Java EE everything
starts on requests they create so you
have you get the objects JSON objects or
entities they are stored in a database
and you are set so there is not like you
are keeping the object between requests
and they're mutating the objects so most
of the objects are immutable anyway in
Java that therefore no one speaks about
immutable objects in Java and done it
right then you need the framework
support so what most of the frameworks
are doing they give you an object and
have collection for instance and then if
you modify the collections they they
apply just the changes to the origin
collection it's not like they are
copying everything though you what you
will need is a library support so that
is the question which library to choose
and so forth the question is not stupid
but you know it is you can always ask
like if lambdas are good and
and closures were available in 1970s
with how it's called forgot the
programming language list why we have
Java right this is a very similar
question Seuss yeah because you know
there are people who didn't liked Lisp
and and this is always the same so yeah
I hope I answered your question properly
so and for instance what I mentioned
today is with the events right so we
have a singleton with concurrency
management bean and I said use
concurrent hash map and concurrent hash
map is kind of immutable so what happens
behind the scenes you have a region in
the hash maps and we change something as
you're changing the region or what you
would use copy copy-on-write array set
it's also a mutable data structure so
yeah most of the programs are using it
at least in Java scope so thank you for
watching check out a YouTube channel is
something I submitted some new videos
and and if you like check out the web
components serious and yeah see you in
January I will create the events for
2018 is always the same first Monday of
the month except there is something
special going on and yeah thank you for
for all the questions and thank you for
the a lot of fun in 2017 with you and
yeah enjoy Java and may your Wars be
thin thank you bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>