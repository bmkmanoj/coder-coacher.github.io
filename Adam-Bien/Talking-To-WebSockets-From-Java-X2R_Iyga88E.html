<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Talking To WebSockets From Java | Coder Coacher - Coaching Coders</title><meta content="Talking To WebSockets From Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Talking To WebSockets From Java</b></h2><h5 class="post__date">2015-06-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X2R_Iyga88E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is an ambien today I would
like to show you how to create a java
web socket client and just to start with
I created two plain project so the first
one is the WebSocket server so there is
nothing there except an empty a project
maybe project with a single dependency
to Java EE 7 API and I would like to
start with the endpoint so I will create
a class and hello at hello endpoint and
what I would like to do is to use
annotation server endpoint and the the
path here this is actually the path has
to start with slash and this is like
jax-rs this the Oddie
this is going to be the the the earlier
of the of the WebSocket and what I also
need is the session the WebSocket
session and I will get the session in a
method on create session doesn't matter
method name what's met what matters is
the annotation and open so I can I will
get the session here this session equals
session and what I can do I can send
messages with the session and it can
also receive messages with with a method
on message so on message on message and
on text message doesn't matter
but what matters is the parameter here
it's the string and on arrival
I will first dump the message and then
if the session is not null should be not
null but it's not now and there's an if
the session isn't null and what do you
probably also should do this session dot
is open I think yes then in case this
non alone open I was to the following
this session
don't get basic remote and send the text
back badge back with from server plus
message so looks good I forgot just to
catch the exception so now I can deploy
the T WebSocket server and this is
important because I actually need the
URI and this is Tod so then the client
an empty project as well but what I will
would like to have as the reference to
the tyrus server the Tyros is the
reference implementation of the
WebSocket implementation of the web
socket API and Tyrus is the mr. Fisch
one so I will just use the Tyrus server
and now I'm able to develop the client
the client end point on the Java side
and just to make it simple I would
create a sockets
smoke test this is going to be the unit
test and pink server I have to test and
to remember what we are going to have is
the the OD which are copied here and it
shouldn't start with HTTP it should be
WS and the the last segment is hello so
I would just change it to hello so and
the first thing is contain a provider
container provider get WebSocket
container and I get the container Bank
this container actually I could do this
in the before methods on in it
before so and I just put it here so it
looks good and then what I will need a
class which implements the endpoint or
is an endpoint and I call it a hello
endpoint and this has to inherit from
endpoint so extends endpoint so and I'm
going to be forced endpoint from wax or
WebSockets and this is going to be the
endpoint so and similarly to the server
I will remember this session and then I
can do the sent part I will send message
with string message almost too much ace
and then this session dot get a basic
remote as well and say send text message
so and for asynchronous retrieval of the
message I can register here at message
handler and the message handler can be
new message handler strong dot whole and
type is going to be string so I'm going
to receive string messages and here I
would just like to output the message
retrieved so message session sent
message looks good so now in our test we
can say the following this container dot
connect and connect to server and we can
pass the endpoint so let's do this new
hello endpoint we just created we can
remember this again and let's call it
and point and let's remember this so we
can pass it here and what we are going
to need is the URI a new Ori and the Ori
is this one and we have to catch some
exceptions so connect to server'
so it is connected then this method is
void or is it no we get even this
session back and what we could do we can
now sound this endpoint dot send message
hello from client and it should come to
the server and just test it so I will
just run the test test and it scream and
do we see anything so there was no the
test was too fast but on the server you
see message hello from plants used to
work so just do the old Java Hank
and run it and we got oh we got the the
pink from the server so there's a
bi-directional full duplex Java client
to Java server communication with
nothing but Java e7 reference
implementation run on payara so thank
you for watching and see you at Ericsson
Munich Airport or first Monday of the
month at 6 p.m. live okay bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>