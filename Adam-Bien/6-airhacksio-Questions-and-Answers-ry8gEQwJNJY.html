<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>#6 airhacks.io Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="#6 airhacks.io Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>#6 airhacks.io Questions and Answers</b></h2><h5 class="post__date">2014-09-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ry8gEQwJNJY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">questions like this and the question is
what do you think about play framework
as compared to java ee so play framework
is a mix of Scala in Java framework I
would say so it is actually you can mix
easily Java and Scala and what's nice in
play is the which is supports really
well restful configuration and the most
interesting part is the configuration is
type safe so what actually means is you
can it is actually the configuration is
color code so this isn't scar asset
types a programming language so it's
really nice so and so how to compare to
Java EE so on it i would say play is
interesting but i would say java is also
very productive and you cannot compare
play to java ee i would you could
actually because plays one of the few
frameworks which comes with an
alternative HTTP stack so it doesn't
isn't actually based on service i think
so it's they have an own HTTP stack so
it is actually DM i would say an
alternative as an alternative really
interesting and i would say at least
consequent because if you choose play
you get to know the entirely new stack
it's not better than now using already
java ee server and then using other
framework on top of java ee which in my
my eyes doesn't make any sense but play
could make sense my complaints are with
the built as bt's i had really bad
experiences with compiling performance
of scala and maiden builds on most of my
projector maven and had to integrate
this and it's actually also the reason
why i removed scala from x-ray EDI use
there are lots of Scala test these
syntax was nice but it will take to
trust too long so on um this is
basically my opinion so i would use this
but i would say i'm always also
productive with javi and the ddd the
second argument is I often heard that
Java is
heavyweight in development I think I
recorded so many videos so I am it is
what would is actually heavyweight so it
is very thin service a small run time is
small you don't need a lot of heap and
the turnaround cycles as us as fast if
you if you are reasonable so reasonable
means you you are not deploying you know
the whole universe universe just driving
and the next is also interesting
internet startups uses other frameworks
takes like play rails or a meteor is a
funny ad some chats with rails
developers and it told me that actually
arraylist is no more as excited as it
was before and they expect many Ruby
rubios moving away from race because it
just works there's no more no more
exciting meteor is something more
exciting meteor is like it runs on note
but I would say you know Java EE as a
would mean startup so if you're building
you know single page applications with I
don't know like a table reservation or
something like this it doesn't actually
matter what you are using I would say
and but if you are building real-time
web applications like Chad's videos or
whatever then no.js could be interesting
but we also have in Java EE avatar it's
like no GS implementation which runs on
Java so you could use this as well and
what I actually wanted to say is in this
year and year before I got lots of
requests from actually startups and
which chosen Java because of
productivity and not only Germany and
the recent startups I can you talk about
because it's going to be published by a
fellow our own Gupta so ahran ahran
Gupta block this is his block and he
made an interview with one of my clients
and let's see it was something like this
is this and this is actually one of my
clients and i will also interview the
this project on my blog it's called TP
camp as a great business idea actually
and the funny story is it is a very
small small team they are extremely
productive they started the prototype
actually in a train and we met from time
to time and answer the questions and and
and my only suggestion with just
amplification that they were actually
amazed how productive java and jsf are
so they really wanted to use jsf and
yeah and the landing page you can just
look at this in my eyes this is a full
stack java application running on
glassfish or white fly now on white
flight we started with glassfish and
yeah it's amazing app and this is one of
my current clients and more of such
clients are going to be introduced by
our own Gupta and session during the
Java one and i will also in asked to for
interviews by them because i got lots of
questions no it's a is anyone using java
it's a problem with meez in larger
company has lots of ndas it's not as
easy to talk about but pages like this
this is a small team you know and it is
a lot easier to ask them can I just
mention you somewhere and this is the
first one and stay tuned I will I will
publish a lots of startups actuary
running on java 6 in java 7 and java 8
so um and and they are absolutely happy
so actually i told them you can do no
didi front end because they have restful
services already you can just create
angularjs or whatever like and no no we
are just stick with jozef because we are
productive enough so i don't know
whether I'm concern oh and also on that
note why actually these startups i'm
using are using i have to go back to my
questions why the startups are using new
technologies at all i think in Silicon
Valley and in Californian is really too
hard to find developers so I I think and
Java doesn't have to a good reputation
though because over the XML and then
patterns will read it in the in the past
many young developers thinking java devs
are crazy and I don't know
big building boring hello world
application with 500 layers which
sometimes sometimes even through and I
think if they say let's do the
application was play rails meteor or
whatever is the next big thing you will
find easier developers I think this is
one of the reason it is not nothing
reasonable behind us so um this is
actually am I thinking of course you
know there are always special cases but
in general Java is crazy productive as
any other platform if you are if you are
just reasonable so I'm I hope this is
answered there's actually no feedback so
it means question answered on that note
Sebastian bosna a bosna asked me what is
the use k for exploding framework
landscape and pro and con of such
frameworks I would say with frameworks I
actually don't care about frameworks I
first care about the business logic or
domain and sometimes if you're
implementing applications you bump into
problems or challenges and what I always
do is I search for the solution in jdk
first java SE first then I expand the
search to Java e because most of the
application servers are running
applications are running application
service M by M I say java ee apps and if
i don't find the answer there i will
expand my search to frameworks github or
whatever and then i will try to find a
framework which is as popular as only
possible because then i have to argue
less with architects about about you
know my decisions so this would be my
approach so usually most of my
application don't have any frameworks
and the startups I i mentioned earlier
they are also very very lean so um this
is actually any questions no questions
everyone is happy
so let's do the next question what would
be the proper approach to read a network
file in a j2ee environment to read a
network fact I don't know what network
file is I think some were file on a
network so you can perfectly open client
socket to read the file and what you
shouldn't do it shouldn't open a server
socket which is actually not really not
not required if you would like to read
the file and such question is some
somehow suspicious what's really
interesting is why it is actually
prohibited in the programming model of
eg bees to read a file at all and the
answer is it is the same reason as in
cloud environments this is actually the
reason why most of the you know cloud
instances actually stateless so is if
you even would read a file if if your
Amazon image crashes or Heroku or
whatever it will just lose or your state
so most of the clouds are stateless and
has also no not a new buzzword called
immutable infrastructure what means
actual you can reboot the application
multiple times you always get the same
state and it's a read-only state and so
but back to the question what is the
best way the best possible way is to use
somehow sockets and the easiest possible
way would be to go over HTTP and use for
instant jax-rs client to read the file
to be the best possible case if not raw
sockets if it doesn't work rmi it would
be also my choice remote method
invocation it do you would have to start
a service somehow a better idea would be
to access the file directly because then
you will have to rely on something else
which replicates device behind behind
their cluster nodes okay covered no
questions no questions everyone is happy
this is this is really really nice so
next question open extended persistence
context in view a new pattern pattern
this is actually are really a good
question i got and we have extended
entitymanager and what extent identity
manager is it is injected
entitymanager with the persistence
context called extended what it actually
means it is not closed after a
transaction so all the entities stay
attached during the HTTP session and
open view pattern is the following that
you are opening the entity manager
before an HTTP request and closing the
HDMI manager after the HTTP request this
is the open open open context something
in view pattern and this is a mix of
both and is actually a really
interesting idea so the question is we
could actually inject the extended
entitymanager to let's say servlet
filter perform the HTTP call and after
the call close the entity manager which
not not sorry enough close the
entitymanager it doesn't actually matter
because everything remains open and will
be absolutely work the only problem is
how to get a reference to the entity
manager so as always we have two
possibilities and the pattern is I
describe the pattern this context holder
so we have to hold the context somewhere
we can store the entity manager in a
threadlocal which is actually a bad idea
because you have to deal with thread
thread local by yourself and you have to
think about closing it or you could
expose or produce the entity manager
with with it produces CDI produces and I
would even use a qualifier to make it
distinguishable from other entity
managers and I think you could use just
extended qualifier you will have to
create such a qualifier by yourself and
why extended because I mean there will
be no surprises right and then you could
inject this entitymanager whenever you
like in application so what it actually
means you could use you can you can you
can introduce a servlet filter and make
any web framework except play because
not http-based sorry not servlet base
but any server based framework like
struts GS f or v raptor or whatever and
and make an extended entitymanager
injectable everywhere and provide and
provide value
the work and provide you know a really
object-oriented view to the domain
objects so I think this is a nice idea
and what you will save is the ability
you know you will make the entitymanager
universally injectable but similarly
what you can also do is to implement an
entity manager or inject the entity
manager in a session scoped stateful
session bean and soybean will be also
attached to the session and expose the
entitymanager dead way so it would also
work so it doesn't have to be a servant
filter it could be but again um its a
mix of both pattern servlet filter will
will make the entitymanager usable
before the HD before the request gets to
the web framework if you are doing this
in a ejb it's a little bit later but I'm
actually a really nice idea okay I think
questions no questions here no questions
here open session in view in springhaven
it perfect open session in ues does the
original name open session view thank
thank you Roman and I think this is one
of the AIX certainty and priority of EXO
thank you for helping me here and so the
next question is I degeneration in
cluster how to deal with this and the
question so that the best though I think
the best possible case would be use
something which does not rely on a
shared state this would be the best
possible way and in Java actually comes
with this it's called you your ID so if
you're using uid it does it does not
depend on a certain note it is available
since jdk 15 it always works the problem
is a little bit slow so if you are
generating a lot of new IDs it you
really have to to measure the
performance this is always a good idea
perform some stress test or something
like this so um this would be the first
idea if this is a case of something like
a sequence the next possibilities of
using sequences database sequences and
then you have to rely on a central
database and of course there could be
also some performance impact because all
the notes will compete to for the next
slot so this is why hibernate
eclipselink and all the other jpa
persistence frameworks have in memory
sequences so what I do is to check a
block of ID's at once let's say each
thousand IDs and then each note would
iterate within this block until it's
it's exhausted and then just ask the
database again to get the next thousand
so you will get holes if the server
crashes of course this will be an
interesting point and or use H a
Singleton's h a Singleton's what it
actually means is a proprietary
implementation of white flour jboss we
use actually in 2003 already in our
project and how it works is it works
that way that you have will have one
note which is a master and many slaves
and the master is the only singled in a
cluster and all other slaves are waiting
for master to be killed by something and
the next slave is going to be elected as
a master so the faster the fastest slave
will win and then you can continue with
the generation so this is how how a Jeb
was did with that weblogic several years
ago that something like cause I think
pinned object what it actually was you
could pin a singleton to a note so you
get our cluster white singleton and you
can also no iterate within the the ids
but again it is a little bit problematic
because you know kept theorem and stuff
like this if you really would like to
have shared state in a cluster you will
have to rely on something like it's a
transaction the two two-phase commit and
it not always works well so this is
actually the problem I think you of
course could use hazel cast and stuff
like this but it always boils down as
either you will create the ID from some
entropy in the system and hope that it
is unique
or or you can you can just ask hazel
cast to have a cluster cluster singleton
and ask hazel cast for instance to
generate and generate a class the white
ID and also the the next question would
be why you need ID at all probably hope
or you could just steal some ideas from
get for instance and create the ID from
the contents this will be also a nice
idea this is what happens in most no
sequel databases actually so they they
are using consistent hashing i think is
the name and just the rift ii the
derived eid from the contents okay um
any questions no questions no questions
great audience so I think this time we
are we managed to be faster than 60
minutes so this is also very very
interesting state computation daily
limit scalability and consistency so I'm
you know the all the explanation of the
point is on the gist and github so it's
just you know the the essence of the of
the question and the question is they
have somehow daily limits to be computed
from a table how to do this and we had
similar problems in in my project so
what we did we have a table with some
limits and everyone asked that the table
was updated and asked at the same time
and this was became a bottleneck and
this was some account information as was
um money and so the problem is of course
if you're updating the table over and
over again in multiple threats it
doesn't scale very well this is actually
the problem and what we did we change to
design that way that instead of modeling
the estate we model the transactions so
we have something like a journaling
table which all the transactions and
what we could do we could just compute
the limits in at any time so it took us
some cpu cycles you know to compute the
limit but we had no contention if we
roll to the table so it was very
scalable but not as consistent and you
can have also mixes that you can say
okay every
the ten transactions I'm computing the
state and keeping the state somewhere a
temporary state and if you are no at
central limit you could recompute the
state for instance this would be also a
nice solution and this is a true
everything boils down to cap theorem
actually of course I know shameless plug
this is what we discuss in the
architecture Java workshops in Munich
and half a day you know discussing all
such a problems but it boys down that
either you would like to lock or just
have no ride only table if you have
right on the table you will have to
reread the table to to compute the state
or limits or whatever and you can also
have you know mixes of both ok fifth
question great questions working with H
paid through entitymanager this was a
nice question from the chat from a oh I
and I have no experience with HBase this
is actually as this question but it
works well with Cassandra it works well
with how it's called the database which
with MongoDB and would also work with
MongoDB Cassandra and everything which
is supported by ogm from from redhead so
ogm red head so they support lots of no
sequel databases in Finnish pan eh of
course MongoDB neo4j and eclipselink no
sequel support they also supports some
databases and of course there are
third-party so and what they support is
Cassandra Google couchdb MongoDB as well
but there is no HBase and there is data
nucleus which comes with lots of plugins
for but there is no HPS I think this
HBase so I never tried this but try this
to play with datanucleus whether you can
pluck via jpa to hbase and as you can
see api supported JD ojp a rest so it
should should work i never tried it in a
project and this is recent actual
implementations can see jun 2014 so um
no experience but it could work and by
the way i did a nucleus is also use a
thing bye-bye the google cloud app
engine app engine for big table so Chet
are you satisfied hopefully the only
problem with all the no sequel no sequel
sequel entitymanager mappings are of
course joints and transactions because
most of the no sequel database are not
transactional so you will have to manage
you know the transaction somehow
manually or what usually what happens
you are grouping the actions and sending
with the ones you know SQL no sequel
store on Roy square stone ok nice no
questions no questions perfect next one
is just F compatible with bootstrap of
course so I'm actually showed us in one
of the recent of the recent a hex and
what hjf comes with JSF html5 markup
let's see whether i will find us this is
actually yeah this is what i wanted to
see what you can do in JM in the recent
just a version you can you can just use
oh you can just use the t you can
reverse the DMark up and use html5 as
the main markup and just annotate it
with the GSF ID and then you have full
control would actually gets passed to
the to the backend so this is and if you
have IDs and classes you can use
bootstrap foundation whatever you like
to to to to skin just f pages of course
if you're using something like
primefaces richfaces or whatever you
have to do to see if you would like to
use the component from primaries or
retraces you of course have to to check
out first which classes and ID's are
exposed at all and whether it is
possible to map you know bootstrap
classes to dis classes but if you are
using vanilla jsf in Java 7 you can
absolutely do this and by the way
there's also i think yes this is what I
wanted to see so there is a styling
simplification with prepend ID it is
actually odd feature but not not widely
used what you can do you can use here
keep repent 80 attribute false and true
if you use prepend ID falls all the
auto-generated ids are passed as such
without prepending you know the idea
from the form and unfortunately default
is true no unfortunately has to be that
way because it has to be unique so I'm
actually forgot to pass the links to
chat so I will pass it so you can just
look at this afterwards so I'm I think
we covered this because we have absolute
control over markup we have also control
over classes and ID's and so we can use
bootstrap all this was funny so I'm
actually I wrote a post about Jess F
being a nice mar coupling engine and it
is really easy to use you know to
integrate GSP's javaserver pages not
jess f with java 7 they got i don't know
how many comments comments but lots of
comments and actually you see this is
the whole discussion and the answer the
ddd response was like you know who needs
JSP just use angular whatever but the
problem is if you are using just html5
with CSS and JavaScript the problem is
that what could happen is that the
rendering in the browser becomes too
slow because if we just sending you know
a blank page and constructing everything
on in a browser its gets too slow so
what we did several times we pre
generated the static page using JSP s
worth angular
and then used I would say GSP as a as a
static page generator and then angular
with JavaScript just used the RESTful
API so I would I wouldn't recommend of
course is you know using forms in GSP
sand processing these on the server this
is terrible but GSP as I SI markup
language is really great and even
lambdas are supported I think it was
hidden gem yes if you look at this you
can this is you could use such
expressions within within GSP scene
might sound crazy but it is a really
powerful markup to know to find elements
or whatever and yeah it comes out of the
box is the same actually expression
language as it is the case in jsf so we
just posted a chat as well so here is it
no questions perfect and I lost my
questions again so um I think we covered
this one so i think you should be more
creative so you could just jazz piano to
do to use for instance you have a page
with combo box and lots of countries
whatever you can just pre generate
everything on the on the server instead
of you know sending an empty combo box
to the client and use angularjs to pre
pre populate the combo box for instance
so this would be which could be done
easily on Orion or credit cards or
whatever you can just pre generate this
on the server and then you know mix and
match tests with with angularjs ember GS
or whatever and because jsps was just
busy have absolute control with over
html5 is a really great technology and I
think it will also come back so it
somehow quiet because law it was widely
misused why widely misuse them any user
know and scrupulous and whatever and and
put all the Java code within the GSP
which is actually a really bad hank and
this comes over and over again these
questions they've got several times in
different variations so what I always
say
just go with a war and I said it for
ages actually since I hope 2009 since
the advent of java 6 are repeated it's
actually on every conference and java is
a group meeting and even my blog and the
question is okay but the world can be
huge and what's boys down is okay what
is actually a war right and and it's
also topic from the architecture days or
there is a convoy law and what the
conway law actually says is the
structure of our company is getting
reflected in software so if you know the
company has two departments you will get
properly two modules because most of the
companies around that way that the
departments that you do not like each
others are they you always need a
boundary between the department you know
so I'm so what it actually would mean in
Java EE so you will end up having two
wars now the question is how big as a
team and from the java ee perspective
java or productivity productivity exam
perspective i would argue as small as
possible you know 125 developers and if
you had such a team and the block is the
block their war is not going to be huge
and what you should also do sometimes
you get some how independent pieces
which independent means cohesive pieces
from independent parts domain parts egg
like now invoicing and customer
relations for instance something like
this then you can introduce the wars
module do i do then i only need two
restful web services to communicate
between the wars there is no binary
coupling so this is actually the deals
we can introduce how may so many wars
you like but there is no binary coupling
between the wars and i think three years
ago i mentioned that on the and either
it was 33 degrees conference or it was
the other one in warsaw and there was 22
which 30 degrees and the next one is
geek on the geek on conference one of
the toes that you should just deploy one
war JDM i think was about three years
ago and what I find out recently
what I talk about are actually
microservices so now you can call it
whatever you like and because for me
microservices doesn't mean anything I
started to rename this so I I deliver a
talk about not nano services Pico
services and the next one would be femto
services and I don't care about the
services so the idea is being war should
be as small as possible work communicate
with each other about with restful web
services and there is a one warp a note
per application server domain in
glassfish or white line this would be
this is actually what we do in in my
projects right now there's always
exceptions from the rule of course but
this is what I would start with ok I
hope it is clear again at effective Java
or a high tech today we spend a lot of
time discussing exactly this point ok
now question from the chat and there is
oh my controller show model whether they
can put the method the question from
from the igniter or Java fix or
afterburner whether the the the dialogue
can be a model I think so because the
answer is I think though because you
have the access to the parent and the
note itself so i can do whatever like
and from the application from the main
method you have access to the stage as
well so it could be model as well so it
should actually work because just look
at the method from the ethics ml view
and you can override everything in the
afterburn after if the recent versions
afterburner white 16 I made all the
methods I think protected so you can
override whatever you like so it should
be possible ok also interesting a
question commercial versus versus free
tool and this is actually the gist group
s it with a chart to the chat
lots of discussion in comments which
what I really appreciate so and gist
there was there was from I think no
white so and and what no I'd said is
that you know commercial commercial
tools are still still variable and I
would argue absolutely so what I have I
have you know I bought today the renewal
of webstorm license i have IntelliJ
commercials though i buy whatever
commercial tools are valuable to me and
I mean we are softer developers and
there is if you are productive you
should you should spend the money to buy
it and this is what actually the
plumber's and all the workers also do is
not like they get you know the drooler
for free so they just buy and as I
observe the workers state they have
really decent trellises not you know
there are not buildings and be buying
something which breaks in the next day
so they're really awesome awesome tools
and so now the problem wire for instance
preferring still NetBeans or even now
over IntelliJ for instance because in
most of companies larger companies that
work for if I would ask them to buy you
know the IntelliJ license it would take
I think several weeks and in some
projects even you know the project will
end until this gets approved so there's
no way you know to in larger companies
to request something regardless how
cheap it is this is the ddd sad story so
for me it's a lot easier judges i can
use netbeans exam so it's a perfect tool
and don't ask you know even the legal
department to in order to do because
there's just free tool download and go
for it and you get eighty percent of
IntelliJ this is my my my thing but uh
now seems like the even the large
enterprise companies become more
reasonable and they also know several
companies which just work with IntelliJ
for instance stupid license side license
other words and but for me it's just it
just like netbeans he also use netbeans
in all my open source project so it also
works and in in one project we needed a
tool it was the visual designer for
eclipse i remember it was 10 years ago
or something and it it costs 30 euros
and it was really very important for the
project it was a multi-million project
and was impossible in the company to get
the 30 euros so what i did i bought
actually the license for us I just just
gave the license to the developers
because I couldn't stand it so this
actually de reality in bigger shops so
free is absolutely crucial because you
don't have to ask for permission just
use the tool and but as a profession
developer you should spend as as much
money as you know as possible to to be
productive and and and and it will pay
off I hope and and most of the tools are
not expensive either so it's not I'm
that we are not talking about 100
thousands of euros you know most
licenses are about 100 euro something
like this right or or cheap a okay and
on that note someone asks what is how to
deployment I would just start with
terrible for instance and there are
tools like evolution vm which are free
for instance i would play with this so
it works but it is not as i would say
not as easier to build as so the
question from the chat so it's like you
know magic so this is the the
alternative it works but you have to to
spend a little bit more time to
customizing this but just check it out
and it's also the case either you have
time or money if you don't have you know
money and you have x or go for free but
if you have money and no x and then bite
just buy it so this is what i would
suggest you and for instance out if
development work slower we just buy
arable so it's actually i will just do
it so immediately okay this was the this
question
and the other one or is it just so and
SQL query generation from JP hibernate
and the statistics statistics I mean in
most of the projects exposed this
project map as exposing statistics using
gem Ock's and and what I usually do is
just fine I'm create heap dump and look
at the hip down there is a great tool
called memory analyzer tool and with
commercial tools like for instance hazel
cast you see everything right so but you
would if you buy the commercial license
terracotta the same even what you could
do you could buy license for it's called
the flight recorder and it's called J
rocket not Girardi I think it's called
JM j rocket monitor which comes with
java virtual machine which dedicated 18
you get exactly this distant it expends
which case you are using if you are
using for instance you know hazel cast
or infinite spin you get all these
statistics for free anyway because they
they come with gemach so you get most of
this you get for free so SQL query
generation debian hibernate today I am
eclipsing just do it for free what we
use we use this as an input and use then
fly way they be for instance Flyway DB
or this is what is in most cases or
liquid base this is a little bit a
little bit more powerful and this is the
problem with this and to generate to
generate reasonable signal reasonable to
talk to to maintain the database toward
versioning in a database schema
evolution yeah okay I think we are fine
with the question we are not that fast
today okay it's mixing storage transfer
and concerns an entire anti-pattern I
saw it on
on Twitter and this is a common answer I
get what I propose is jazz you know just
expose the entity beans or entities to
the client and I oh yeah but we have the
entity annotation and a tidy on whatever
and this is not very clean and my arm my
counter question is does your client
cares about cleaned as you know because
it is like as we are talking here about
aesthetics so on because what you can
easily do we can extract the annotations
from or even pass the entire jpa API to
the client is probably no 8k or
something and who cares about this and
it will probably never change because it
is pretty stable in Java is six and Java
7 and and what what what he's talking
about about is was something like if we
have an entity who go that we get we
have here at entity and for instance XML
root element and this is the problem now
we are mixing the persistence with with
the XML and of course with the business
logic because true entity is an object
an object as business logic so also it
here would be some crazy complex stuff
so and the opinion is this is a better
idea anti-pattern and mixing this with
this is also anti-pattern so what I will
argue it is not a best practice practice
to mix business logic with any kind of
technology it is it's just it's not very
clean but what's more interesting to me
is what happens in verse case if I will
do it so really what happens in my
project if I will mix the entity with
the jacks p inverse possible case this
XML root element becomes superfluous
because we need another technology and I
will have to write a script to remove
all
everything which start with a xml for
instance this would be the worst
possible case which I actually don't
care a lot because it would be no a huge
project or heat removal what is actually
the dissolution the problem the solution
to the problem would be to create who go
dto which looks exactly as the who go
without d annotations and this and of
course usually who want my power class
which maps it or you can use you have to
introduce another framework to do this
and so if you if I I don't know about
you but for me it is a don't repeat
yourself in code duplication is a lot
worse then then you know having some
marker marker interfaces which actually
everything boils down to mark interfaces
and passing them with the object so this
is the code duplication is a lot worse
than just putting some rotation of the
object even if not very clean and on
that note it would be even cleaner you
know to remove the identity entirely and
you could introduce the file code or
mxml but this is I think the beginning
of the end because then you have you
know a file with metadata and which
points to do to the class and you have
here also some duplication and and you
guys get some trouble with refactoring
and stuff like this so I'm I would say
start with this simples possible thing
even if it appears a little bit unclean
at the beginning and if you have trouble
with that then react to this and don't
use patterns proactively and you know
with the hope and one day it will pay
off so this is I think this is what
damage lots of enterprise Java projects
because they were just you know
exaggerated in any direction and none of
the features were actually used in
production I hope it's clear so this is
actually really nice this actually the
reason why I'm doing this this I xio
because something like this you know to
describe in a block I will get you know
hundreds additional counter comments and
it is actually impossible to describe it
properly
but in interactive mode it works a lot
better and saves a lot of time ok
questions no questions here twitter is
very quiet which is nice and we have
lots of going here on here in in the
chat which is also nice so um this is
nice I got a nice comment from Brett
Davis twit first and it was so and and
did this is what I really like because
says this seems like a fluorine egb
implementation specs like oh nice an
offending comment so it would be it is
going to be for sure covered in the next
day expect but it turned out so the
bread David's is really nice and it was
not offending at all it was just
actually a very nice comment and look at
the gist you will see I'm the problem so
we go to the gist this was this one so
and this is actually what Brett means
here and I also covered this in in my
blog called let's say Adam beam that ejb
hopefully we'll find us self invoke I
think this was detailed title yes
perfect well almost three years old so
it's postie here and I get a question a
lot it is like we are in indy gb and
then i say this and evoke another method
and developers often expect to to start
a new transaction or check the security
which actually never happens why not
because the proxies required so if you
are just using this this is game over
this is the so we are in the instance if
you would like to get you know the
advantage of starting transaction
security you will always have used their
proxy so
actually means you will have either to
look up the de proxy or injected proxy
but and then you know this this this is
me here instead of this and why is why
is this and why is my perfect why is
this I will have to draw something so we
have a client and beautiful client and
the client talks to an eg be where the
clan doesn't know does not know is it is
not a Jew be sexually the proxy and the
proxy talks to the egb and because it is
transparent the the egb inherits usually
from the proxy or the CDI object
inherits from the proxy this is actually
the basic architecture and this is
called also a proxy pattern the classic
proxy pattern would also come with an
interface but basically it is an
inheritance based proxy proxy pattern so
of course it always works because now
they are the proxy would it doesn't call
the beam directly what the proxy does is
it calls the interceptors first which
are actually aspects from iop and there
are transaction aspect security ex
security and exception handling whatever
and everything is implementing having
the proxy in place but if we you are
already in the instance then it cannot
work because you know you are in the
instance and this is this so if you
invoke the method you're in the instance
and Brett argues that this is broken and
what I also get often it's the
asynchronous model so if a method is
asynchronous it comes with async async
arose from ejb so I get sometimes the
suggestion it shouldn't be on the server
should be from the client the client
should decide what the call should the
asynchronous or not which is not my
opinion at all because you know
asynchronous meets concurrency what also
means many managing threat also means
monitoring so I'm actually the egb
should know how many threats are
actually allowed or not allowed which
are robust enough and all the throttling
has to be implemented here and not on
the client side but I see the point so
this is really
a discussion and I remember we had some
discussion in the eg back then about
this but I think it is fine as it is and
even my opinion would be you know to
expand this with a more metadata here to
say marks threats I would say five and
even enhance the DD common asynchronous
the current asynchronous annotation to
provide more metadata so what it
actually means some throttle in for
instance so this is edges like how it is
for me this is that simple so it is
really easy to explain it is actually
the classic proxy pattern so is if you
are already in the instance the proxy
proxy cannot work but because you always
have to go through the proxy and so and
a gif also to admit in my projects it is
never a catered to actually have to
invoke another method within the
boundary for instance you always if you
need this you have to introduce a
control this is actually what happens in
my projects and and why it works because
this is a server-side programming model
so it is what is not needed as you know
if you are building you know and a new I
application will be a little bit more
critical but under service always like
there is a common and entry point and
the entry point dispatches the call to D
to D to these services and you are
basically done this is the basic java ee
architecture i hope this is also covered
yeah no questions so um I get
interesting tweets phone phone phone
Bruno Vargas and he asked me about
scopes in CDI on the client so on why
because there is a frame frame the
colonel called framework it was actually
we can hack which became surprisingly
successful it's called afterburner and
it provides dependency injection for
java fix clients and i get a lot of
requests not from the actual users
rather than competing frameworks
shouldn't we implement
scoping like session scope request scope
and stuff like this or something is
dancing here so we come back to the
Sergio's question in a second so I'm and
in the clients and applications we never
had their problem to or never had that
we never found a killer case to
implement scope so in afterburner
fluences everything is a singleton which
it can be destroyed during testing but
basically it's a singleton this is what
actually what we did for ages in swing
clients and then had a need in a swing
to create you know thread score because
swing or as Java fixed I never
multi-threaded so it could be some
corner cases but i think the just
introducing the complexity of scoping
and a client side is not worth as I
don't see an advantage right now but if
you know some killer cases then I could
even implement afterburner but then I
would probably use well to not do it by
myself and more interesting will be of
course EDI events this is what could
work but still with Java 8 and Java fix
it just works perfectly without CDI
events as well so on this is why I did
not implement in afterburner 16 and the
advantages is just three classes okay I
hope it is a little covered a little bit
so on let's see and say Joe asked me we
have worse communicated to each other
with rest what it actually means jax-rs
services so they communicated
communicating over Jason if it's fast
enough if not optimized Jason like for
instance realized serializable java
objects and do you separate models
databases per service are ya this will
be the best possible case but you cannot
do it always so to be honest in most
project we have our shared database
because as legatus is not always
possible to create one database /
service but if you're building the
application from scratch you can descend
it away that each microservice has a own
store like a five store for instance and
I would because it's like a like a
better fighter temp folder and such a
Phi store would be could be a database
so
no one cares about the quality of let's
say of the normalization of database so
this is this is what what can happen
okay I think we covered everything I
hope did we last chance to ask questions
if we are still one hour so I thing is
not possible to be faster than one hour
on ax yeah I think we are really done so
we already done no questions here no
questions here so what it means thank
you for watching see you in in October
after Java one actually and what I could
do I thinking about this and I know
where this good idea or not just record
short you know snippets from Java one
with a really small handheld camera and
then Mike just to give you a flavor what
actually happens on Java one and
probably you know interview some some
people have one but I redone know
whether it is worse to do this and and
see you of course so I published on my
session javelin sessions they are coming
soon what I also doing in the next week
I'm delivering a workshop on th open in
this with Switzerland so already eighty
registrations which is really nice and
in december this year we have workshops
so this is the traditional x and i have
to say we have already sufficient
registrations to everything so it will
take place which is real ice so really
appreciate it seems like javi is really
popular and yeah thank you for watching
and the last glance here to everything
dunzo thank you for watching and see you
on one of upcoming conferences workshops
or even the x and i have some screencaps
attack you as well so thank you again
bye
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>