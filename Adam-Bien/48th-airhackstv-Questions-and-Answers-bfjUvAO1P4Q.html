<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>48th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="48th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>48th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2018-04-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bfjUvAO1P4Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Anna beam and welcome
to the 48th edition of Eric's TV and I'm
just around the just after the yeah
x.com regular workshops at the airport
Munich and what we did we covered some
web stuff and what I decided to do is to
split the workshops into two parts very
similar to the Java EE workshops so the
first one is like the bootstrap Java e
where I show all the api's from from
JavaScript CSS Web API service workers
offline apps often caches whatever you
need to build an app and the second part
and also web components the technical
stuff and the second part is what you
can do with to build or how to build web
apps just using web standard so no
additional libraries with custom
elements or web components and service
workers and web workers and so forth
and so I actually wanted to name the
first the first workshop Java EE
bootstrap as sorry web bootstrap the
problem is of course there is a
bootstrap framework Twitter bootstrap so
I just renamed that to web essentials
and the next one is effective weapon
okay the next workshop is around the
corner is the remaining you know 20% so
what I still think is with Java covers
8090 percent of all cases but what
happens if you need for instance Kafka
or distributed caches or whatever you
may need which is not part of Java so I
will cover us as many such technologies
as possible even OpenShift clouds and so
forth
so and in winter there will be the
regular winter and ition of Java EE
bootstrap and sorry I hate excess
microservices and performance so the
last winter so in 2000 70s it was
overcrowded so the if you would like to
attend please book early so now let's
start with the questions so the very
first question Kuhlman P asked me what
up how to serialize and diesel is
hierarchical POJO hierarchies from into
jason using Jason B and
so and what I just did I checked out
yesin which happens to be the the
reference implementation for Jason B so
does the Eclipse project and as you can
Jackson Java Jason bind examples as part
of the project is Christie this is the
canonical Java resource and what you can
see here there are there are several
several examples that we have the author
we have the book and we have the
language so and and this is somehow a
little at least somehow hierarchical
structure and what what happens here
each has uses the with you know with it
just realises in DC realizes for
instance the ebooks from to Jason so
this is the random example and it also
shows how to customize the mapping so it
works out of the box so if you like to
take a look at the example so check out
the the Jason be examples from github
this is what I did and yeah and they're
just the first example was her actual
structure I hope this is the answer to
your question perfect so the next one
good morning Adam so veneto asked me so
there's a mix of different programming
languages like bash K shell Perl Python
and the question is how to build you
know pipelines with that and I actually
don't use any of these languages what I
do I use the Python as a code feature
from Jenkins too
and what it means is there is a going to
be a Jenkins file inside the project so
this is actually what I did in the
testing workshop a few weeks ago at the
airport Munich so what I did is I
created on the fly a jenkins file and
the jenkins file just building projects
tested the project and and and and
created the microservice ship t
micro-service perform the system test
and so forth and there are actually two
possibilities
the one is using the jenkins file
scripting mode so where it can the full
control of the environment this is
groovy still you can of course use Java
because it's groovy so you can mix job
and groovy and the next one is like
groovy in DSL mode with a little bit
more restricted mode but it is a cleaner
cleaner one so what what I do is where
possible I always use the Jenkins file
DSL mode because it's cleaner and more
restrictive and if there is no proper
possible I just switched to descripting
modes I don't use the embedded scripts
within the Jenkins file and I never used
other programming languages so what this
means is sometimes of course if there is
complex stuff to do what you can do you
can create bash scripts and you can call
from jenkins file the shell script like
with sh this is the command so if there
are some you know well you know using
keys for instance we had to check out
code from instance and or or critter
create a creator create a branch
sometimes this easier to use the native
git client instead of using a dsl
jenkins file so this is what i do so
again start with jenkins DSL if it's not
sufficient use jenkins file scripting
mode if this is not sufficient just call
bash files or z shell so arcane root ask
me
following light forge a suggestion for
your java missions yeah i java mission
so by the way i don't really have a java
mission so I'm actually trying you know
to make my clients happy and what do my
clients would like to do is just to
implement their business stuff as
quickly as possible and then don't care
a lot about the technology anymore and
if so what I do is I try to find you
know the most popular and the most
boring technology on earth and usually
this is Java EE so I I use Java EE
whatever server they have and we start
without any dependencies why that
because we can just no we
can any other developer can just pick up
the project and if there are no
dependencies there's nothing to migrate
so and this one what you're suggesting
here is a very specific framework or
tool which implements out of the box the
secure s pattern from from
micro-services having said that usually
I don't have this problems yet in my
projects so what we sometimes have is
you know how to how to reliably
communicate between micro-services and
usually what I prefer to do is to use
JMS in case the JMS server is already
clustered and available in the projects
for instance my current project there
was a question now we have we would like
to use meshes messaging between
microservices what you will suggest
Kafka or whatever so before I will I
will have to install Kafka I would
rather like to rely on existing JMS
server it's just something out there and
there is so we are just evaluating the
possibility to access remotely the GMs
server it is already clustered and
reliable and is already operated
properly so we will use stock JMS and
with JMS context from JMS - oh it is
very easy to send and receive messages
so I'm use the old boring GMS instead of
new exciting Kafka but I'm too lazy to
install stuff in case something old and
boring is already available ok so this
is about that so um I will come back to
this topic in case I get a customer
problem or customer challenge and it
isn't possible to solve it with JMS then
I will look at that and and and I will
show you what what you can do with Kafka
and by the way in the next fracture we
will use Kafka just for fun but Joseph
one is no different mode of operations
so Kelsey's Kel SAS asked me say you
have 40k of rows of data that you want
to use in JSF autocomplete components
how best can you handle the data
retrieval to enhance performance so I
had had to do something similar ways
back actually these were years back and
what I did is I started with unit tests
and a named query on JPA because I had
to use JPA back then and there are
several hundred thousands data sets and
I had to do something like Google
Suggest so you know if you if you've
right for instance and it would be like
you know munich will come back and
probably you know what else
Minako Munich and muenster and and if
you if you for instance type em like
uber you know ye then it will suggest
Muenster and munich or Munchen please
okay and so what I did first is I wrote
an integration test section of the unit
test and to see whether the daquaries
performance at all performant enough and
then if you have the query you can
execute the query you can suggest you
know integers if auto compute it's not
like you will load into JSF autocomplete
you know that the whole thing 40,000 K
and they just pick it up so I did it
online and they're usually the next
question is would you like to implement
it by yourself which is not a big deal
but the question why or use for instance
primefaces for that where you get ready
to use component which would be my
preference in case your client or users
like the components and thank you for
watching my stuff so logging and the
agnostic context another question from
the Neto who isn't which is with nice
doc and the question is operations panes
like he said what what to do is if you
have socket timeout without any context
so in my eyes you should test that
upfront so what I don't think it is
possible to have an a magic switch which
dumps everything out because it usually
is too much information particular so I
don't have the problem that exception
happened and I don't know what to what
happens or what usually happens to me is
like we have some performance
concurrency or deadlock Parker
robustness Park and now I know how to
get the context because
if we switch everything on you know the
logging on the application will be just
realized so there will be no more
concurrency and usually debug disappears
which is called Heisenberg so what I
would like to do is I would actually
like to test that so um and what I
actually did back then there's a project
called snail and two years ago and what
snail list is like an interceptor which
which artificially slows down slows down
your application and what you can do you
can test your timeouts with that for
instance and so I build it for exactly
this purpose to see what happens
in case your application becomes too
slow and then you can provide more
context information so what I would
rather like to do is to test you know
the problems and provide additional
information without overwhelming the
user operator instead of relying on
magic switches so because you know to
write all the exceptions the question is
do the exception have enough in our
context information like messages so I
would rather test the failures and this
is if you if you watch the stuff so what
I should said over and over again you
know unit tests and integration tests
are nice by stress tests are really
really important because then you see
the problems and you can really easily
emulate the problems this was actually
the performance workshop would I what I
did last year and repeat in in winter so
what we did we just overloaded a server
and watch the exceptions and the
question is do we have you know enough
contact information so I have questions
about monitoring egb transactions is it
possible to list current active
transactions absolutely it is usually
the application servers are able to
provide you a list of active
transactions and for instance in the
payara case you have to monitor the
transactions subsystem and you will see
a truly a list of transactions IDs which
is a live list and when it was started
and what class method fired it up this
is a little
harder because you know in an alive
system there couldn't be several
thousand transactions per second
actually in my one of my clients last
year wanted to have a system with
actually four at least we had where to
to to to handle four thousand
transactions per note so and I forgot
how big was the clusters I imagine you
know how to monitor that so you have a
lie system like how to visualize several
thousand transactions per second the
real-time so and so how to deal with
that so what I forgot the name actually
in in the green book what I did is I
implemented an interceptor and the
Interceptor this is rethinking best
practices this is the green book and in
this green book I introduced an
interceptor and this is um and the
Interceptor renamed the threat and and
and it used the name of the boundary and
the name of the boundary was the threat
so if something happened to the 2d 2d 2d
boundary you can at least you know have
a hip first stack trace and you would
see you know by the name of the threat
which is normal name of the sweater
others and the name of the method and
you would see actually what what the
name of the metal for the problematic
methodist and usually a threat and
transactions are the same in in your
direction because they boundary starts a
new transaction and the transaction runs
synchronously in the threat and
no I think I blocked about that so if
you go to my block let's see threat 10
years old this is exactly the code and
this is exactly ten years old so as you
can see this is the Interceptor and what
it does it picks the method name it's
renamed the current threat invokes the
method and then renames it back and what
you see then a list of all transactions
as list of methods so something like
this could be helpful and the next list
additional in this case I'm looking for
free tool to monitor JMS queues I mean
monitor - there is a tool an old tool
called hermas GMS i think yeah very old
thermos and this is like you can monitor
what's going on in the queues but you
can also have this queue browser is a
regular Java class coming from job JMS
API and you can monitor the contents of
the queue and and if you have particular
servers like white fly or GlassFish or
payara or tommy what you can still do
eugenics of course because the GMs
service usually are built in Java and
they expose lots of genex monitoring
capabilities so to play with the GMS
like with JDBC content the Hermes JMS is
the right tool and to monitor the
performance I will rely on janux because
most of the JMS servers expose they
stuff via demux so wonderful code in
afterburner so I'm trying to implement a
solution for a table holding 1,000 to
2,000 columns and the problem is it just
breaks down I would say the problem is
probably the tables are not decide the
designs to have to
and columns you have 2,000 columns and
of euros you know the situation can
escalate and what I get is what I think
what happens is you get some problems
with the native native widgets so I
would say I wouldn't attempt to to have
that many columns also just imagine you
have to scroll 2,000 columns you have to
scroll on the right and left sides I
will just create either a custom
component or rethink you know the design
because I don't think it's a table
header and the nd tables are designed to
hold 2,000 columns so Elliott BTD asked
me what is my opinion on using rest web
service to authenticate and authorize
users in multiple web apps on an
Internet yeah you have to do this and
what usually what what you should do is
the JWT JSON web token if you can and it
is already supported by the security API
from Java 8 which can be used in Java 7
and there are several patterns one of
the patterns like having like a like a
boundary or parameter facet or facade
whatever or entry service gateway
whatever you would call it and this
service would would translate you know
the JWT token to internal calls for
instance but I would say authenticate
and authorize user in rest Web Services
usually usually the JWT or chopped is
the way to go because it's also well
integrated with JavaScript frameworks
and this is this is the point like you
would like to authenticate and authorize
from your web app so is there any way to
marshal Jeff Java JSON objects from like
with Chuck's be of course it is called
Jason B and we already covered that
so recently I decided to give a try on
ECB control boundary pattern and I have
some doubts where do I put my exceptions
and exceptions map as if I have to
create them so the exceptions usually
happens in entities or controls or
boundaries and they are related to the
business logic from controls boundaries
or entities so just put the exceptions
close to the entities controls and
boundaries and do not create your own
exception packages just take a look for
instance exception our objects I think
was the blog post yeah so take a look at
this blog post what I did is I just try
to explain no treaty exceptions are
objects and there are nothing special so
then and and then just hold the
exceptions close to entities controllers
of boundaries so I will handle
exceptions like announced for instance
so this would be my way to go is like
yeah okay if I need a reporter or some
utility classes where it goes
repositories nothing special is just
control so I do not make any difference
between the repositories dowels or
whatever or dowels this special thing
data access object what when I need data
access objects in case I have to to to
communicate with unusual unusual
resource like for instance you know LDAP
or flat files or a no sequel database or
Kafka or Kafka is already well
integrated with API is but let's say you
know a strange resource on all the
resource legacy resource I would create
dowel for that for for JPA
entity manage and no dowels are needed
so and where it goes it is just a
control and it is ended you don't need
any abstract losses so there is nothing
to do how I would how would a large
application with several modules be
organized in this patterns so there's
already a YouTube screencast about that
but I think I'm I'm not really satisfied
with the with the screencast I'll
probably rerecord that because I get
many questions about that so large
application will comprise several
packages and the packages are named
about the concepts after the concepts
for instance you would have like order
package and you would have a address
package and tax taxation package and the
packages are the components and they can
communicate with each other
and if there are too many packages then
you would create another war which
contains several packages and then we
have micro-services do you think that
JSF is going to be duplicated anytime
soon
no I think a Jess F is still great if
you can live with the components
server-side rendering is an option and I
don't think whether it's going to be
duplicated it's just I like the
technology and not only I like the
technology lots of startups really like
JSF because it's very productive so
problem is this misused by in many
corporations you know to implement
everything and JSF cannot be pixel
perfect if you pick for instance you
know prime faces they are there for
instance some pre assumptions how it
looks and feels so you cannot change it
a lot so you cannot just you know
transform a table to a tree so that
there this is where the trouble starts
and there are trends you know react or
angular or the next trend is my clients
try to know to skip the frameworks and
just use the web standards because if
you pick a framework the question is how
long this framework is going to be
around and in some of my project we have
both we have used JSF applications for
back office and and on for instance one
project react and the other projects web
standards for pixel-perfect clients okay
the next one is jess f12 and cgi-bin
and some things with Java rasta I think
the Java rasta is like Java parsing
library from Red Hat I think and after
my grade it should be 2 to 3 and this is
a Java standard project was no more
supported by Wi-Fi 8 entity beans are no
longer supported what is suggestion
about this specific kind of migration
process I found some migration tools but
finally finally no one works well yeah
of course not nothing will work well so
take a look weather is called I think
local home
no I I think I have a migration post
should be also ten years old so we will
have to take a look at that so just to
search local home remote home so the
point is EJB three or egb two with one
nanotech annotation called remote home
can be very easily transformed into eg
b3 this was matrix so I will just keep
the interfaces this the local home and
remote home interfaces and then
transform the just the eg B 2 into e gb
3 3 by adding the interface the
annotation and a thing is called remote
home notation yes
and with that annotation and eg b2
becomes the eg b3 and you can delete
already the Diploma descriptors so which
is a big deal and then with entity beans
what I did was entity beans so back then
we had to use X dr. luyt I hope you are
also using accepted because what exactly
did it generated value objects this was
wrongly named data transfer objects so
they were not very object rather than
data transfer object but it was provided
out of the box by X docket and D and the
value objects if you look at them they
are basically very similar to GPA so we
just let X dr. generate the value
objects from entities all the
dependencies were already covered then
we put some annotations on the on the
value objects and and we got a GPA and
we just deleted the entity beans this
was one manual strategy
the other one was it was a be a project
and be a brought all the persistence
mapping in I think was called WebLogic
cmp or something diploma descriptor and
if you if you look at the descriptor all
the information you need is already
there so we wrote a culture
with what which read the XML file and
generated the poachers it sounds
complicated but it was actually very
simple and we used we use Jack's B and
how it's called not free marker velocity
and right now you could even use nice
one for that so this could work so how
should I use JDBC datasource given by
container yeah you just inject data
source called get connection you have to
close it because if you close the
connection it is going to be returned to
the pool so you have to close it yeah
you can close whatever you like but you
have to close the connection so if you
don't close the or you can use the
plausible auto plausible with triose
resources our sequel queries invoke
incurring GTA transactions yes they are
the JDBC datasource what we also should
do is to use the same JDBC datasource as
the entity manager uses so they could
even participate in the same transaction
throwing exceptions rollbacks
transaction throwing exceptions so yeah
if the exceptions so if the if an
exception is thrown the transaction is
going to be rolled back but sequel
exception is not a checked exception as
it is a checked exception to the runtime
exception so sequel exception will not
will not roll by the transactions but
you pick and it isn't because it is not
a runtime exception you are you will
have to catch this equalling zip
exception and and we throw it as runtime
for instance or web application
exception but you can war we can do is
you can just you know roll back the
transaction so re and Arion teams just
says answers the question with the GSF
and he he is very also very positive
about the the JSF future and dddd
remaining remark about just a futures it
is also about the community so if no one
is interested in
anymore regardless how good it is it
will die so this is also an and pose a
problem right so and and 5th 5th March
he asked me could you please take a look
at the project's GSF test and yes so I
check it out
so first palm looks great as it should
be one dependency Java 7 and primefaces
so and then do we have one Jess F page
and we have control entity exception
ambient so first what is liking
component name so there is no component
next one
there should be no exception so if you
take a look unique personal exception we
have person so the exception in my eyes
should be here should be inside the
person so what's so am bean so a person
bin is just for the mapping this is not
yeah you could you could yeah so if you
like just to this cleaner it doesn't
have sessions cup okay the question
doing its session then it should be
serializable person new person okay you
could do this instead of this I would do
that
Const so it creates this session and
then writes the message okay you could
do the message this way or I would just
inject expose a getter setter was the
message so the you can yeah and and then
I wouldn't call it ambien rather than
what I will do I would have here two
packages so one is called business
persons for instance and actually all
the things here are going here into
persons and theirs and then this is
going to be refactor rename presentation
so and now we have the presentation with
person bin so it's nice and I would
rather call it index view because it is
related to index and yeah you can name
it person or not so this is my feedback
about the code organization and of
course delete this and the cool story is
now like we can have rest services here
and we have to index who here so we have
control entity and there is no boundary
so this is the next thing so usually you
would like to have here boundary no Java
class persons dot boundary and let's
call it person store and the boundary is
stateless and yeah this is the problem
this is actually a boundary not a
control so there are no controls delete
yes present session then no one is
interest in the session so I'll just
call it store or whatever it does this
is no needed because there is only one
and flash this is true so you have to
invoke flash in case to provoke the
exception so the exception happens
earlier with that and then you can throw
unique personal exception but the unique
personal exception my eyes should be for
instance or runtime exception or yeah
runtime exception in this case
so runtime exception yeah okay so this
is what I will do and equals and
hashcode on entities is not necessarily
required and to string okay so a little
bit of cleanup and of course don't do
this return the name and we know what
getters and setters are so now we are a
little bit cleaner and not in that index
index so this was my feedback but the
question is this is a good approach when
developing JSF application yes if I
don't call business scription or thrown
it's calling flash a correct way yes if
you would like to see the exceptions
earlier cool
so now bed Sabu asked me about Jason B
again and we already answered exactly
the question already and the last one is
is what about async in my video so what
I did I recorded a video here
a longer time ago and what I do in the
video I create an asynchronous a client
with completable future and why I did it
because I got lots of questions know how
to be have to asynchronous communication
without you know allocating too many
threats so I just showed you what it
does and what I also did I did the same
I did the same in my micro services
course a java re' micro-services java ee
microdots services so exactly so this is
with it builds a full pipeline with that
so if you're interested in this take a
look at this course and what what I
wanted to say is it just works in all my
cases so I just test it with all the
service and using production and it just
works so is really how to tell what the
problem is and why it doesn't work for
you but if it waits
it means the server just blocks and
there is no response and what it also
happens I guess in my example I didn't
caught the exception so if you do not
handle the exceptions in the
asynchronous pipeline the exceptions are
going to be swallowed and you will wait
forever so this might be the reason why
it does not work in your case and why it
doesn't it's the question of what you
should do is it just introduce a handle
exception or a peek to see what happens
or how I was called handle peak and on
arrow I think there are there several
several methods in there in the
computable future API just enhance my
example with that and you will should be
able to catch the exception on the
server side so okay so thank you see you
at upcoming workshops and in April if
you like it's just in around the corner
or in winter or in autumn if you would
like to see how to build web apps with
routing offline capabilities like you
know swing with webstart without
swinging and Webster just with
JavaScript so thank you for watching and
see of conferences workshops projects
and yeah enjoy enjoy the spring okay bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>