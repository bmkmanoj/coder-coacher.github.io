<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Cost Of An &quot;Empty&quot; Transaction | Coder Coacher - Coaching Coders</title><meta content="The Cost Of An &quot;Empty&quot; Transaction - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Cost Of An &quot;Empty&quot; Transaction</b></h2><h5 class="post__date">2013-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tIO0tchEV4U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is Adam beam and today I
would like to measure the overhead of an
empty transaction and to do that I would
just use create a Java 7 project and the
Java 7 project will just comprise a
simple servlet I would call the project
empty T tanks and I would like to use
actually it doesn't matter cause fish
before and yeah let's start with the
sublet
so I sublet TX testa it's the name and
the package is empty tags and so lots of
Java doc generally Java doc use of
course superfluous or we did it the Java
doc and the convenience methods
generated by NetBeans and we have here
two post-its all that info and this can
be deleted as well so we can treat this
and then just to implement something
simple I would just pick the writer and
print and the world so and now I would
like to deploy that and the only or is
the ex tester so I will just test with
that as well so it seems to work and now
what I have here is jmeter the recent
version and I would like to to perform
some stress tests so number of users I
would say 5 wrap up reads one second
loop count I would say let's say 10,000
loops and we would like to have a
summary report
so and of course we need a HTTP request
sampler and we need to do Li first so
this is basically what's gets invoke
here and the IP addresses localhost 8080
is the port number and this is the past
and this summary yeah you don't need to
save and just start a test no and let's
see what happens so
around 2:00 1/2 K transactions per
second without any without a transaction
okay we have 50k because we had five
users so 50,000 transactions and the
throughput is two thousand two thousand
three hundred transactions per second so
now introduced transactions to do that I
would just I would like to inject the
user transaction object it is actually
the underlying transaction manager of
the application server so and we could
use just begin the transaction catch the
transit catch the committee transaction
and we will catch some view of view
exceptions we could use eg B's or CDI
with annotations as well but they come
with additional inner em additional
overhead so the screencast just wanted
to be as simple as only possible so then
deployed the application come back to
the 2d jmeter so it's deployed still
works and here I have to reset and now I
just Reaper form the test
as you can see there is not a huge
difference between having transaction
and empty transaction or not there is a
very similar performance it could be
even a little bit faster and the reason
for that is because the JVM and is
already a little bit of normal optimized
so we would actually had to to repeat
the test in different order so as you
can see just optimizing transactions is
not very good idea and before you
optimize transactions I would measure
the impact first and just keep it simple
and yeah thank you for watching and see
you on one of the upcoming conferences
workshops or or projects even okay thank
you bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>