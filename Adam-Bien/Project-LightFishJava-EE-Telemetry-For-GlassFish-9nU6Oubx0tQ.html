<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Project LightFish--Java EE Telemetry For GlassFish | Coder Coacher - Coaching Coders</title><meta content="Project LightFish--Java EE Telemetry For GlassFish - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Project LightFish--Java EE Telemetry For GlassFish</b></h2><h5 class="post__date">2012-03-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9nU6Oubx0tQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Adam beam and I would like to
introduce light fish it's a small tool
written in Java 6 which is able to
monitor a Java 6 application server like
a glassfish in particular and fetch some
probes and persists in a relational
database derby in our case it was built
on Java 6 so I will deploy light fish on
a glassfish application server but light
which is able to monitor a remote server
this is actually the usual case that the
right fish exorcism remote application
server / s fetches the data persist the
data in a relational store using timers
so it's configurable you can configure a
period the interesting story is the data
will be pushed as with long pouring in
polling in real time as well so what I
built as well a small Java fix
application which is able to access
which accesses like light fish in
real-time and draw some charts so let's
install light fish so I would just
download from the page and the page is
light fish Adam bean calm and yeah you
can download it binary or the sources
light which is open source Apache
License so I would like to download the
file to desktop and just save it and
yeah then let's start afresh GlassFish
instance I will just use the command
line and yeah I'm in the GlassFish
folder and I would like how to deploy
the application as you see it's it's
empty so there is no application so I
would like to start the database first
with I go to a s admin and just start
the database it's Derby so it starts
right now
and then we would like to start the
application server I would use the
domain one mr. standard domain so if
download GlassFish three one two and
just extract the zip file and started
you will get one domain called the main
one this is what I started right now so
the GlassFish is up and running and then
I will then I would like to copy the
file from the desktop this is language
war into the current directory it means
it tries to deploy the application right
now and so let's see what the GlassFish
is running so it seems to run then I
would like to access the light which
application so you only have to to put
the light fish or II it actually looks
good what you see right now is right
fishes up and running it was installed
in the meantime and the interesting
story is you don't have to set up the
persistence because it was set up with
data source definition so in Java 6 is
possible to use the data source
definition so I have predefined a data
source with the database which is
configured on the fly which is actually
perfect for applications for utility
applications like light fish so what
would this feel does it means we have we
would like to monitor this application
server running on localhost 48 48 and
the interval are 2 seconds so every 2
seconds new probe will be fetched from
the application server using rest so I
would just active out this is also
interesting
activate monitoring so what you can do
right now I would just activate the
monitoring would have set monitoring hi
to all levels otherwise we wouldn't be
able to fetch the data so I just start
the application and what what happened
right now now it is activated so every 2
seconds it fetches new data from the
GlassFish and persistence in the
relational database so let's fire up
light view is the light view is the
light view is the job of except location
monitors which fetches the data and and
and draw some charts so I would like to
start the live view app so it connected
with with GlassFish as you can see it
draws some nice charts this is actually
usable in stress test because you see in
real time what happens on the server
what also nice this is actually the
output again is the web view so I can
also control it from here and yeah you
see the number of transactions there are
no rollback so everything looks fine
paranormal activity means we have no
cute connections no errors but we could
provoke some errors let's say because an
error and you will see that the error is
shown in real time in the right view and
to web do we have two HTTP sessions no
expired sessions and we can monitor the
pulls as well the sample pool and the
timer pools both are pre-installed yeah
this was the
Riteish application and and how it
actually works it accesses GlassFish
over port 48 48 48 monitoring domain and
it actually accesses the the GlassFish
resources for instance here there the
resource pool but not as HTML rather
than over Jason so and light which
parses the JSON data and and and and
interprets our parts of the JSON data
creates and JPA objects sources the
database and pushes this via by a long
long polling
so have fun with Java six performance
testing check out light fish if you like
you can participate you can even clone
the whole application and github so on
github
I'm Adam bean so if you like just clone
it but I will clone it back
so enjoy Java six hacking and see you in
one of my upcoming workshops conferences
or projects so enjoy thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>