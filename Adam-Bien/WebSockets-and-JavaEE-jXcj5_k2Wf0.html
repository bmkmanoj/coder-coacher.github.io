<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebSockets and JavaEE | Coder Coacher - Coaching Coders</title><meta content="WebSockets and JavaEE - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebSockets and JavaEE</b></h2><h5 class="post__date">2014-09-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jXcj5_k2Wf0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Adam beam and today I
would like to create the simplest
possible web socket with Java 7 and a
little bit of maven 3 so I would like to
start with the simplest possible maven
archetype for Java 7 in Java 8 and I
call this the project debris s for
WebSocket and basically I need to create
a simple class on the server which
accepts the request from the browser or
pushes data to the browser and a call to
class echo in package come ya X so plus
echo and the class has to be annotated
with syrup endpoint which is similar to
two paths in Jack's res and basically I
need two methods the first connect with
a session and I would like to use or I
have to use the horn open annotation and
the session has to be a session from
WebSocket package and I have to remember
this session here's our session equals
session and I would like to create a
field so it looks good the same note I
would like to close the session in case
the browser closes the connection and
this is a corresponding con close
annotation and this will just reset the
session or yeah and of course I would
like to output some something on the
server for debug purposes and yeah
closed and the main business logic
happens in on message and I would like
to have a string as input and the method
has to be annotated well the method has
to be annotated with on message and it's
on message so and of course up this and
now I would like at the same time to
send the modified data back and for this
purpose I'm going to use the async
remote because I'm lazy if you use the
S&amp;amp;T mode you don't have to catch the
exceptions and say echo
plus M s key so this is actually the
simplest possible WebSocket diplomatic
implementation on the server-side
implementation but to show you whether
it it works I will have to implement a
small HTML page as well so I will call
it index and heck a little bit have to
hack a little bit JavaScript but without
any additional framework so just plain
vanilla JavaScript and this web socket
comes with newer browsers and it expects
an array which start with double yes for
insecure and or WSS for secure web
sockets and port 8080 the M context or
HW s and I think echo was the OD so we
have to use the same path here so WS is
the application name echo is the path
and it is basically the same like it
were a sublet so socket and now on the
client we would like to register for
messages and what happens then we can
register method this is how it works in
JavaScript and I would like to expect an
function or an object event and of
course you see plain old or good old
alert box to display some data but now
nothing will happen because we need to
initiate the create request from the
client or from the server so actually
here the connection opens so I would
like to use a button and on click and
here I would like to say socket dot sent
a Duke sent and T but with a little bit
of luck it should work so our run now it
will start GlassFish and deploy the
application and let's see what happens
so we have to send button and as you can
see this with a sent to pushing the send
button
we got echo
this was the response from the server
and let's see what happens here and as
you can see the session was initiated
first year and the message hey Duke
arrived on the server so I'm thank you
for watching and have fun with WebSocket
and see an upcoming conferences a hex so
we have dedicated html5 and UI days I
will talk about WebSockets and Jack
stress and everything as well projects
and or during the axq a monthly show
question-and-answer event so thank you
for watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>