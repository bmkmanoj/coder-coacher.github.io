<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>23rd airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="23rd airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>23rd airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2016-02-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q5xWjkUJsfE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hello first monday of the month 6
p.m. CT welcome from munich to the next
heck yeah heck show i got lots of
questions so lots even last minute
questions so it could be along a show so
let's start with the content and as i
promised you i participate a little bit
more in the java community I was one of
the laziest JCP members and now it's
time to be a little bit more involved
and what i did i looked into a
management's packages are 372 and in my
eyes it is the the most interesting one
for me or the most important one for me
and before we covered this what i also
did I compiled a list of all these packs
with it was a linked direct link to the
spec with a link to the JIRA issue so
you can file issues if you would like to
improve Java 8 and with the mailing
lists and one of them is the Java EE
management API jsr three seven threes or
so typo Indian the guests and I just
looked into this and and and play with
it so what came out so actually the spec
is already executable so I mean the
early draft is executable what the speck
is about there's a really old GSR 727 so
they just are 727 it came a thing in
j2ee 14 and it forced all application
servers to admit monitoring and
management data and what GSR 373 does it
exposes that via self-descriptive nice
rest interface and the cavea is someone
from Red Hat implemented that donated a
source code and at pushed the source
code to the cloud so it runs
openshift right now so I'm so it is
executable so if you a pic theory i will
post it to the chat so you can play with
as well so here's the OD and so if we
just for instance click at a servlet you
see there's a JSON representation of the
Ori URL patterns so you know how to how
to get to the deployed objects with the
service to the 2-d 2-d 2-d links and
what's also nice this management API
will also come with deployment API so
you will be able to push wars and years
i would say worse directly the server so
the question is why I like it so much
and the answer is easy so I with the
whole DevOps and microservices movement
it is really important to be able to to
use the no tools like curl or w get to
get basic information about the server
and and deployment is even more
important because if you are building
jenkins continuous integration pipelines
and it is really important to or
important it is it is really nice to
have a restful or e with what was on
which you can rely on to push your
applications whatever for instance did
in my github account so i will have to
forgot the name of I think not light
fish something with loader and what
loader was 44 light fish for glass fish
on for pyara you can you can push worse
using using a command line and behind
the scenes and users restful api with
GSR 3773 Disk Utility would work on all
service the question is why I build it
at all why it's so important to me to
have one rest api to push to the service
and the main answer is because of dhaka
for instance what we do in CI we push
with that the application to to a docker
image and
we get response from from the Ori
whether the deployment was successful or
not if you would just in the continuous
integration bundle everything and use
the auto deploy folder you have no
feedback from the server or you get a
synchronous you different from the
server whether it was actually
successful or not so now your homework
assignment is look at the GSR this is
type again so copy and paste 373 restful
management look at this participate in
the mailing list tight try to play with
it and contribute code and by the way
code what I did the code didn't run and
pyara J and adjust just adjust it a bit
the the discipline and the department
now it runs on player and a glassfish
and it's also part of my of my of my
github account and I of course created a
pull request which is going to be
accepted by redhead so now you can run
it whenever you like and what I did I
created in netbeans just open the
project and that means to demonstrate to
you so it's really very simple code is
of core and heck together just to
illustrate you know how the Ori Ori
works and what I plan to do to implement
some more stuff on from glassfish v5 so
we offered help for for glass 235 what
is the last 55 glass which version 5 is
to java e8 reference implementation and
what i did in the past i created a
project light fish and what light fish
is light fish is like performance
monitor for for glass fish and of course
used the internal api so i will be
rather interested to have something
standardized and this could be a nice
way to complete contribute some code
back so i offer the help let's see what
happens from the mailing list i was
really like to see going glasses v5
forward so this was the first api i
would just go to the chat lots of of
participants in the chats no question so
far of course not this was just you know
random
so the next one is Jay cash so DJ cash
what what also happened I just looked at
a Jake Jake is one of the oldest GS ours
and what I find out that it was actually
split and the first version only covers
java SE and it was not meant to be
shipped with Java 8 which was very new
to me because even in the JCP in the jsr
abstract it has mentioned this is going
to be a part of Java but what I did I
wrote an email to the mailing list and
offered help and they say okay is not a
problem if you had something for java ee
they will consider this and could become
a part of java 8 and this was the
response from greg luck and Greg luck is
one of the of the eegees does expert
group members of je cache and now we
have it so on this is the very first
proof of concept this is jake a java
integration and the main idea being is
so what I try to do I I to adopt the
persistence.xml because it's very
familiar and the idea is that you start
with the caches element and you can
specify one caching provider what it
means you have to commit you know to a
hazel cast or or couch base or whatever
you like and or map to be there are
several implementations for the whole
persistence for the whole app of course
it would be possible to have one one
provider / cash but I don't think is
necessary and then what happens here you
can say cash cash name I t and then the
cash is going to be defined and this are
the standard properties very like jpa
has also started properties and when
those specific properties are going to
be supported as well and this actually
works already so you can do this and the
cash is going to be defined on the fly
to check it out there is created some
tests into an integration tests and I
would just like to show you how it
actually looks like so to have a cash
what you will have to do is to inject
cash and the annotation name is
context if you if you skip the
annotation it will just take the name
here and use it as a injection point you
see this in the conventional cash
injection so you can just use it inject
cash and then it will inject the caches
yeah this is what happened with Jay cash
if you like play with it I would just
post the Ori to the chant so if you like
so someone says JJ cash is ready for
development right now I mean headlands
for instance already uses je cache in
production and JC to is another open
source project also uses je cache what
this is it's a proposal how to integrate
je cache with Java e8 and this works
already but it was not pushed to to
maven repository I'm still waiting for
the vit feedback from some some
reviewers and what let's see what
happens if you like to participate sure
go for it create issues for kit do
whatever like you know now it's time to
participate i would say and it's of
course more fun to do something you know
instead of instead of hacking the 47th
hello world project we can do something
more meaningful ok now this was J cash
and a very briefly looked at NBC and the
response but it is like they are doing
well this was the response from the from
the EG and they say okay no help needed
they are on track and is going to be to
be published so this was the response
from MVC and probably i already created
a screen casts for MVC a spec so if you
are careers go to my youtube channel and
you will find it so it's really nice pic
and i think is really meaningful while
14 because we have already component
based framework like GSF it is nice to
have something more template driven or
action based framework okay the next one
so i thought how to tackle this question
so because it is easy to answer but not
with verts very easy with code
and what i did i implement it this in so
I'm and wrote a blog post about this so
so how to do this is fairly simple so
what could on this is TMI recent blog
post I will just paste it also in the
chat so here it is and what you can do
what you this is actually a pretty old
stuff you could inject the entity
manager factory instead of entitymanager
the only differences instead of using or
just enlarge it a bit instead of use
this persistence context entitymanager i
use persistence unit and then i can
inject entitymanager factory and then of
course what we can do we can create the
entity manager on the fly this is
application managed entitymanager and we
can pass whatever configuration you like
and in my case i just injected the
configuration then of course what it can
do you can eject the entity manager
because it is exposed here and you can
configure the demamp on the fly of
course this is a hex code so this
doesn't make any sense what you could do
instead use like JC to what this does
you can inject stuff from from hazel
cast for instance from the distributed
cache where you could configure
everything on the fly so this basically
is of course if this is not enough to
you what you could do you could create
you know the entitymanager factory with
persistence completely unmanaged
entitymanager but but this is would be
like using you know a JDBC connection
outside of data source so this is not i
would say the at this I would consider
such as a bad practice not best practice
but bad practice and this is okay if you
really need the flexibility I have to
admit I never did it it was never
necessary in projects what we did
instead we configured in persistence.xml
multiple persistence unit injected
everything
and then expose the entitymanager was
different qualifiers so this is what we
did in the past but we never did this
actually or I never did it in projects
but I hope your question is well
answered and yeah now go let's see what
the chat says nothing so the chat is
quiet which is okay twitter also quiet
so I got some questions are prone formed
from guessing so I'm but I will cover
later what I got a nice tweet here
reactivate my Twitter account to watch a
hex life this is nice so but if someone
would reactivate facebook account this
would be worth but yeah this is really
nice from from from via near cops okay
so where are we so we covered a second
question and actually I would like to go
to the to the origin questions to the
gist github com 23rd and this was the
question from HP oh man HB coach now the
next one there's a lot of buzz about
microservices I want to understand how
we will manage those microservices post
production and what r which common
issues we can solve with automation so i
have to admit my projects my micro
service projects the they work like this
so there someone hires me to introduce
microservices and then we look at the
code so we perform code review first and
what we see is like so what is the
reason they want to have microservices
the reason is because the monolithic
application became too complex to
maintain so okay so what interests me
first is what is the reason for the
complications so and then I look at the
code and what usually happens is like it
looks like you know multi-level malted
here architecture without any reasons
with lots of crap GTOs map as dow's
service locators exception mappers but
if you ask why you get no real answer so
a classic cargo cult programming so what
we do then we did it all the crap and
what remains is pure
logic so the next step is to look at the
pump and of course there's not not a
single war what we see instead 2000
modules jars and everything gets the
same version so okay you know who cares
about modules if everything is the same
version there is actually no reason for
this so then we merge everything
together and we end up having one war so
and after this refactoring what we find
out the application becomes very well
manageable and then we probably
introduce 203 wars and then we get our
micro services so it means one war is
maintained by a very small team a micro
team I would say to 25 developers and
this basically is and if you get Justin
03 or I was at most five worse I think
there is no issue at all so you don't
need you know fancy discovery whatever
if I were netflix i would use all all
the stuff netflix provides but none of
my project is the scale of netflix i
have to admit so they're rather you know
i would say usual enterprise projects
with at most 10 service or some cases 30
service but this is a rather and an
exception than the rule usually no to
cluster nodes 10 22 10 cluster nodes
this wouldn't say why would say this is
the irregular regular stuff so and about
automation not only microservices I
automate everything whatever is possible
gets automated so I'm in current
projects we are using we of course
building microservices so we started
with the automation of everything so we
have scripts for building everything
locally we have scripts which run on
Jenkins and Jenkins change everything
forgive us together so there is actually
no manual step also I created I built a
new hardware my own a new server and the
first thing I did I automated everything
so I can I use a docket compose on top
of Dhaka so do all the docket services
are chained together and so there is no
manual step at all to save time the only
the only problem is automation now I
have to admit this you forget what the
automation is actually doing so so
have to look at the scripts you know
frequently otherwise it will appear to
you like magic hopefully not black magic
but some kind of magic okay now let's go
to the chat chat is very choirs lots of
participants but no questions so um we
still live no questions so okay then now
the next one is a little bit longer so
first one so what it is 3t architecture
with JSF primefaces CDI ej BJP ABN been
soap everything seems reasonable not
soap but could be and now there's
probably some no external systems which
have to be integrated 10 tests as our
testing so after finishing system tests
i have to deploy this application the
product environment yes or integration
test and then after integration stage
products usually of three stages not to
ok we have 500 different users I think
branch user I think branch is a business
name in banks I cannot define capacity
planning for this application so i have
to run this application widely 10
community edition good stuff why try 10
is very new i think it came it came this
week so interesting so um i think so how
old is the email 16 days ago and 10
white fri 10 came this week so which
which is nice and and i used 8 and 9 in
production so far they cannot use jboss
erp for some limitations ok so now the
question i have confusion is possible to
run white fly or jboss in production
environment it is very possible to you
to run white fly in production
environment but you'd want to get the
official commercial support or geek
officially supported bits from redhead
some people say that any open source
java application server is not
recommended for production environment
yes this would I will also say I mean it
is really depends on the intention right
if I would run mission critical critical
stuff for instance my new heart via the
the operating system so i actually
bought red hat enterprise linux license
because i don't like to care about you
know the origin security issue i would
like to have my operating system patched
and it is worth to me to pay is not a
lot so it's not like you know thousand
of dollars is absolutely okay for one
server so it is cheaper for me to pay
for the operating system then you know
patch it by myself so this is what i did
on the other end I like to use on I'm
not running the jboss aap for my
production for my block and all the
stuff i'm using on my server because i
would like to play with things and try
to do the hottest stuff so I I maintain
my application servers you know because
it's the time of my leisure activity but
if I would run a serious business on the
application servers I would absolutely
by the supported bits why because I
would like to earn money money with the
business and not patching the
application servers so um I would say
you have two options either you have
time or you have money if you have money
by the the commercial supported service
if you have time we learn about the
application servers you know look at the
bits and if there's a problem you should
be able to fix the problem by yourself
and hopefully a you donate the coat back
because if you don't donate the coat
back you will effectively create a
branch which is always a bet in a
particular bet in in banking environment
is it correct or not i hope i answered
this so there is there is no correct
answer some projects run white line in
production and they have admins who care
about the the application service and
the others rely on the commercial
supported supported bits is it possible
very possible so what is the major
complexo and run community edition
serving the production value without
Jabba's air p there's actually no
difference
only problem is if you encounter some
problems you don't get official support
from redhead and the next problem is i
think the jboss AAP AAP is out now but
it covers java is seven and i think
whitefly eight or nine or I think white
light a mature about this so if you're
running one fat ten you will have to
wait until redhead supports with aap
eight or nine white 510 so there is is
not like you decide you know suddenly I
would like to have I would have to have
no supported like like 10 from redhead I
don't think it's possible what I would
do I'm just pink the product managers
from redhead or you have some
accountants and they should help you
with the licenses I have no ideas just
my experience was redhead but I am a
feelings I'm completely decoupled from
redhead Oracle and whoever okay I hope
you got my suggestion so either you have
time or you have money so ok let's see
at a chat I think we covered pretty well
what is our extra benefit when use
enterprise application server /
community servant quarters of production
environment for instance you get you can
ask DM so if you are if you have if
you're running cutting-edge soft in
production you always will find bugs
with commercially supported server you
could earlier de pecho or you can force
the vendor to send you patches if
there's an open source addition you have
to counter the community to provide you
the patches so I'm check out how how
expensive the support is and then decide
by yourself and also check out how good
the supporters so in the in the past we
have some quality issues with
commercially supported software so it
really depends on the vendor but just
check it out oh and I think explained it
pretty long what is actually what it
takes or what is the difference between
open sores and and commercially
supported software
okay the next one I will it would be
nice to have spring source property
source in neck cg b c d are released to
inject property files into beam how to
inject properties file into gb or cgi
bin so i wrote an article several years
ago java magazine with the st us this is
free one and oh man Adam bean is my name
and then it's called configuration and
what wait a minute configure the
conventional configuration over
convention I think yes four years ago
and this article covers exactly what to
do so I put the article here and I hope
now it's not locked in so it is free
article but you have to register and I
registered but not on this browser and
on different machine so um so this is
the first answer the second done cest if
you go to the github account and you
search jc2 it's called je cache
configurator for java 7 what it
basically does the for loop gain you the
following you can inject strings in sand
and it floats and then what what it does
is it it injects you the values and you
and uses the je cache API behind so if
using hazel cast you can go to whatever
node you like and maintain remotely the
configuration with project like
headlands so and what you can also do
and you can implement and and and and
met producer and and preload whatever
you like or provide a default values and
so i will just put it to the chat and
someone there anonymous 3369 one says it
really helps to have patches we have
seen many times with IBM websphere in
production exactly i forgot actually
about this we were in the early java is
six times with websphere and in webster
we created many PRS i think i forgot
actually did
is Pyaar like I don't know what it is is
like issues this was called PRS and they
were considered by the IBM engineers and
this was actually great help but if you
would use an open-source application
server or opens us application server
that there is nothing that there isn't
you cannot use web see without support I
think so it will be completely different
story so um so this was the JC to and
then what I wanted to show you the
headlands it exposes a Jake ish API over
rest api so and then you have everything
you like so everything you like so if
you even think you liked and what you
can also do of course with one liner you
can read here from from with get class
get visas a stream and read the property
file and then expose the property file
as a map or you can expose the system
properties as a map so it's really one
liner and the Delta spike framework
provides such functionality as well so
Delta spike configuration so there are
lots of stuff already I don't think it
is necessary to include this into the
standard having that set write an email
to the right and email to the to the
user group so I'm I just put the link to
the Delta spike and they have lots of
lots of start
someone asked me why I see every message
from Adam a censored I think because i
am writing too too too too much messages
and i'm using the textual client and
this is this could be the answer so I'm
sending too much stuff into the chat but
you recover after a while okay so next
one so um the next one is architecture
related session where should java files
like interfaces for strategy pattern
this is good one because otherwise i
would say don't use interfaces model
classes are entities we place within the
BCE pattern this is a very simple so
model classes are entities so they they
are in the entity package even if they
are not persistent dto star no videos
only on demand interfaces and strategy
patterns are usually controls or
boundaries usually controls so they
interface with the Java classes are in
the control package so if one team
builds a whole application including
java ee backend plus pure HTML CSS and
JS front-end no java and the question is
should i split it or or or create one
war and this is interesting one my first
reaction is shipping together the
experiences usually what will happen the
HTML and CSS and JS stuff will move
faster than the back end so usually you
are in our back end is extremely
productive so you will just create some
rest interfaces and you are basically
set and there's lots of tweaking in the
front end so it just have nice to have
both split so you havin one front end
the team would just cares about the wars
with the content and the is the front
end team and the back end team cares
about the restful web services and and
and and this is nice so the teams can
move independent from from each other so
so i would say then split it so I'm
so I would say split it if you have two
teams and and and just look at the end
requirements if you know the customer is
very design heavy i would say then split
it anyway because they get lots of
change requests in the front end and the
bakken member current book and his nice
back end is going to be more stable and
could you give a short example how to
introduce security to java ee
applications there's a good one i will
cover this in during the next session
because what happens in java 8 there is
a lots of the security api is actually
great and the example i wrote an article
java magazine my old one and i'm being
our authentication and authorization
let's see perfect so in this is a free
article clue which explains what exactly
do to implement authentication and
authorization for restful web services
so and also in my security so what I
also did there's a sec spike security
spike what i did i implemented some
ideas from the java 8 authentication and
authorization to get a idea how I'm
token-based and and password based
authentication may work if you look at
this you could get also an idea how it
may look like so and usually usually if
you are if you would like to have more
than this like single sign-on look at
stuff like open am open a
this is an old son project project and a
lot of the things and the right at one
key cloak I almost forgot it ki cloak so
this is if you need more than simple
authentication and authorization which
is no more covered by the application
server ok so then someone asked me you
tell that for open source server jboss
cannot run perfectly but in our country
several companies tomcat seven with the
enterprise application even some people
you also use PHP plus apache which works
perfectly for 100 users but why we
cannot use in best practice way so I'm
what I got is I'm saying that he says
that people are running tomcat and PHP
Apache without any problems of course
not you know the question is again do
you have time or money so if you have if
you have a if you have time you could
even you know run build an enterprise
app which runs on come son HTTP server
so it's not a problem it is we actually
are lots of fun to implement everything
from scratch but they're thinking one
point of time in enterprise environment
is not about fun is building the
simplest possible to find a simple
possible solution to the business
problem in the hope it is maintainable
and in my eyes Java is just perfect for
this why because you have one you know
one dependency and and and whatever you
need is there injustice start coding and
thinking about the business with you
mentioned Tomcat and with tomcat 7th for
instance you have basically just a
sublet containers or basically nothing
so just a minimal monitoring and nothing
else so i would say Tom Couture jetty
out-of-the-box are not usable for
enterprise applications because the
configuration and and testing and you
know Best of Breed configuration will
take you at least half
day one day just to get started so in
that time we create a proof of concept
with java 7 already so and what about
picket link boo Keiko ask me kick I
think picket link is going to be
duplicated use key cloak instead Oh
garrison already answered the question
Thank You Gerson for this so I'm to an
mm dual Ghulam to Ghulam I would just
shorten this to Ghulam everything will
work perfectly for you but you have to
focus on something you cannot just
create their own stack the net question
would be you know should we use an open
source operating system of not and the
netting the next question is I was in a
project not project I know and I
consultant who created the linux server
from scratch so there was one operating
Salinas distribution which built from
source and it took days until he built
highly optimized linux actually forgot
the distribution so I saw on from Chad
noses justices put it to chat it was
like I forgot it but it took days to
compile colonel on the end of the day he
had a highly optimized kernel but I know
no one cares about highly optimized
operating system so our spring MVC blue
spring ioc plus GPA yeah it's all the
way to go but if i were to choose a
spring what i would do then i would just
use the officially supported tomcat
versions from the spring guys called t
server and not the open source one why
is the same mr. will be the same
question again should we use the T
server or a tomcat I will always go to
go with the official pivotal one okay
perfect so um
where are we so authentication someone
from from from from Africa and what I
noticed seems like Java is very popular
in Africa's there's lots of questions
remarks tweets I get from Africa which
will distract me so um I'm Musa I really
glad you asked from Africa and what I
would like to hear is what you're
actually building in Africa with javi
how popular is Java in Africa if you
pick me and I'm if you have do something
interesting I would really like to to
interviewed my blog because yeah
interesting stuff is going there based
on your experience what based on my
experience I mean forgot about my
experience I mean I spent some time in a
project and switch the project and you
know ahead if I were 400 years old then
I would have more experiences just you
cannot have enough experience but forget
it what is the award is the advantages
and disadvantage of saving images fried
inside the database I would say some
databases are not very well suited to
handle large binary formats and not even
databases even version control systems
like it is not very well suited to
handle large blobs having it set a
common databases have particular i would
say support to store blobs outside the
database and or even combine it with key
value stores i think even oracle what it
can do it can combine the it could use
the oracle database for metadata and is
kV store key values key value database
from Oracle the open source one to start
binary images so um the this is the
problems or the problem is the database
what can happen the database won't
perform well also queries you know how
to you cannot query for for for an image
I mean what you could do of course you
can you can store the tanks of the image
somewhere recorders but you cannot query
for the image in a regular database
there are special solutions but not in
regular databases
yes so usually you can store it outside
and actually what I did let the second
connect tours and I mean what it did a
few years ago this is a connector API
and what it does it is not very
efficient it just proved conserves I did
what I did after the projects i migrated
this or migrated I just thought what we
did in production and re implemented in
cleanroom 2222 to show the the concept
and what I did it is a kind of
transactional file store so what it does
behind the scenes on commit it saves the
data to Toph I system and on road back
it just flashes the node flushes clears
the buffer so nothing happens so but you
can use this as a as an inspiration so
what you could do with that is in one
transaction you can store to a database
the metadata and use this to store to a
file system the images or use a
different database like no sequel store
for instance to store the images stuff
or just use folders you said it could be
good enough in most cases I would just
post lfs Linux from scratch no it was
not lfs Linux someone from the chat says
it was lfs Linux it has a fancier name i
forgot actual the name of the
distribution at lfs it was a literally a
nice name forgot the Linux distribution
it was ten years ago so um next one so
how to deploy java application with
apache web server and step-by-step
tutorial is hard but what you should
look like is apache of course and then
what you will need is mod Jake on and
with you if you search for mo j k stands
for jakarta connector you will find a
source code for unknown reasons there is
no there are no binary so we'd have to
compile the boundaries by yourself what
i actually did and my Sturridge's are
used the old binary
what I thought about is to create a doc
image which comprise that but it was not
necessary and then if you look at the
worker properties you will actually
pretty fast find what to do how it works
is the following the Apache server you
know knows context or ease and what what
did what this mod JK does is it says hey
Apache if you find block just redirect
redirect the connection to something
else and then you have to to configure
the application service to listen to the
part usually this 8009 what I had to do
in selinux is to open the port and and
then the Apache will communicate with
the application server so this isn't the
old solution a little bit more
interesting is the mod cluster from red
head and it uses HTTP and comes with own
API so this can be also used in order to
communicate with the back end so um I
hope it was step by step and this is
fairly simple if it doesn't work usually
the issue is selinux or firewall but
nothing can go wrong so if you load the
mojacar module to apache you are
basically set okay gentoo exactly 6550
anonymous told me Jen to Jen towards the
Linux and you get a t-shirt if you find
me mark or whatever or just write me or
your address and i will send you
something so gentle was the linux
distribution exactly and it took no days
until he had the optimal solutions I ok
now you we spent three days having
optimal Linux now he couldn't compile
apache and tomcat and after two weeks we
will have best-of-breed everything but
the project is over and the budget is
over and and we not didn't wrote a
single line of code of business code so
anonymous 6550 you are great so gentle
was linux distribution so chat is
perfect and mimics yes minix I also know
mimics by gentoo was the what I saw what
on you saw you see Twitter's also direct
if they if they know that t-shirts
t-shirts high place okay so where are we
I think we cover Musa and your anguish
is absolute okay so what's a good way to
implement single sign-on with project
that only communicate through HTTP look
at a key clock i would say otherwise the
equivalent by yourself but i would say
look first at key cloak or open am and
then decide whether would like to build
it by yourself so um my questions about
modern lithic front end in micro service
architecture i wonder what's the best
approach to compose of federated pages
in micro servers architectures are
portlet suitable in this case oh man i'm
not very positive about portlets but the
problem my problem is portland's the
principle is great but there are always
in misused so the idea was in no
management decided to have portlets and
everything was a portlet and and the
complexity was huge the performance was
terrible and they know features that
were used actually from portlets so I
don't think portlets is there I mean
could help if they are very used very
pragmatically but usually they are not
used very pragmatically so um what we
used in the recent project was fairly
simple so we had angular front end and
just the angular services just picked
whatever the liked from the back end and
it worked perfectly but I get the
question a lot so my answer would be
just go without anything implement a
proof of concept with you I which talks
to back-end services directly and see
whether it works if it doesn't if it
doesn't work just create a very simple
Jack's arrest orchestrator i would say
which manages multiple services from the
back end and see how this goes but
usually what we did again is not like we
have you know 200 micro services is more
like we have 225 or two to 10 micro
services and this is actually fairly
easy manageable
I hope the question is answer so I got
an answer from already check and I think
already attended the ax at munich's are
for I know the name somehow so I'm
experience about architectural
documentation do you write produce
something in your business project or
this topic left out by the companies so
I'm currently right now in the micro
service project so what we do we
introduce my one of my current projects
like microservice introduction with Java
is seven in Java 8 and so we were
supposed to use something completely
different though so at the beginning
they wanted to introduce I think ready
redis history and and jetty and after a
short hacking sessions I showed them
what is possible with java 7 everyone
was convinced this way to go so and what
we did we didn't document it anything in
the first few weeks so we wrote the
sample code and to discuss you know the
issues on code until some patterns
crystallized so what we can do and then
we will write a very simple wiki you
know a short as possible this is the
point it should be always assured as
possible the key concepts and what I
suggest it the first time so let's see
how it plays out I won't write what you
do I would i will write what not to do
so and my idea is to write you know it
is not a micro service if I don't know
you have 20 layers something like this
or if you if you you know introducing if
you if you searching for code reuse
within the micro service or whatever so
um let's see what how it plays out so um
again I always write something but this
is very short so usually I would say and
i know 1 to 20 pages at most and
sometimes back then i was forced to
write a lots of documentation and i
think it was never right so I'm
developers don't don't read you know
boring stuff very because they don't
like it so I oh it's a shorter the
document the the the more information it
usually contains and just go with wisdom
minimalistic option okay so let's look
at the so another new in Twitter land
and in chat is also quiet the next one
which tool would you choose between
maven three and Gretel for java
application for java application i was
always choose maven three why because
the simplest possible solution so what I
did for probably for the 100th time my
created a very simple Java project
before the show and this looks like this
and the good stories it never grows
actually even this with the open shift
deployment is not that complicated the
only reason they have the wide web
plug-in properly before hot deployment
and they have here our war plugin
because they would like to have a
different name but this is the you know
the whole maven configuration from GSR
373 official java ee example it was
created by redhead not by me and this is
my example and this is what i would
suggest go with that so um gradall would
be not that different let's see whether
i will find this actually so
I think oh I found it and I think we
already covered is one of the examples
and if we look at the Gradle this is the
official or official this is what I
created with Gradle this is the Gradle
build file and this is the maven build
file so of course I know this is not
very nice but if you would read this
this is pretty readable so now we can
build it with maven once twice it takes
about one second and we can build it for
you with Gradle twice and what we learnt
it takes twice as much so of course in
more sophisticated project it can be
faster or slower it doesn't really
matter but I mean I would say both are
comparable it doesn't really matter but
in all my project you use maven right
now and in one project I suggested
Gretel because it was a little bit more
special with there were some on
automation involved but developer didn't
want it and they just stick with maven
but this only counts for java ee
projects if you if you don't have java
and you would like to to program a
little bit more in the built in the in
the bill type line then maven would be
great so necessary maven Gretel is great
maven is perfect if you can live with
the convention
so and yeah and this is a good one so
and the chosen tool has to support a
continuous build and continuous
integration system and this is what what
I consider a better practice so on for
instance when maven I never rely on the
lifecycle hook so maven clean install
just runs the first unit test actually
we covered this if you're interesting in
this so it's just shameless plug there
is continuous java 7 testing and
deployment workshop in munich and
there's also an online one and what you
did we create actually and then pack
would discuss the pipeline here okay so
where is here so what it actually means
build tool is a build tool it just
builds one step and i use jenkins for
exactly chaining of the job so what it
would what do mean I would use maven and
in the first step will be maven package
the next step would be maven phase safe
integration tests the next where the
next step would be to use the rest early
we talked before to deploy to the
application server what I forgot to
mention is the step before we would
build the doc image and study document
and deploy the application then around
the system tests which would check out
another project and one maven face of
integration test again so um I don't
expect from the build tool to have
support from continuous integration this
is job from Jenkins okay so now back to
chat because there are some some
questions from the chat are you any plan
to find architectural occupation for
architecture reference point for java
applications we believe sir roger april
has already facing this problem I mean
what we commit on what order would I go
with it this was they actually the
reason why i invented this or invented
boundary control entity pattern why use
these names because there's well-known
names in UML community and therefore you
know they are known by all UML tools
supported by all UML tools and don't
have to argue what it actually means and
so we use that and the architecture is
so simple so that
after 20 minutes everyone knows what to
do and if you are curious look at my
interviews on my block and I interviewed
some projects which use this BCE and
there was like you know yeah we started
with that and there were no questions
left and the defining a story all these
DD the most sad story for me was I was
hired by the Comets bank to help them
with the architecture and i think i was
hired for two weeks and after one week
they said to me they have no questions
left so they don't don't need me anymore
they are productive enough without me
and then i spent one time to implement a
stateful project for them if your
interests in stateful go to my go to my
account okay and if you if you're
interested in architecture go to my
youtube channels lots of free stuff you
don't have to buy anything just a thing
you have several recordings about the BC
architecture okay next one the last
minute question Wow many last minute
questions using jacks or a sub resource
example it looks like new transaction
are in created automatically as you
would be using stateless so let's go
here where is it so singleton means is
this application scope in singleton
means no transactions so he is right if
this were a stateless ejb each public
method would start on a transaction and
even if it would return something else a
cyber resource this method will be
already called and transaction will be
started here so if this is a stateless
egb you get transactions here or if this
were request scope transactional you
would also get a transactions but just
singleton and I assume this is a
singleton from CDI there will be no
transactions so he's right
now if you put stateless you will get
transactions so I think if you do it
just try it here you will get
transactions okay so um let's go to the
chat chat is quiet twitter is also quite
then create multiple applications inside
where you are is that possible so I
would like to ask you what is the best
strategy for rest api versioning a PIV
one on v2 recurring question what did ya
this is ok if you are in charge of the
back end in front if you can implement
both I think versions in URI is the way
to go so if you cannot do this then I
won't use the versions in early and try
to achieve backward compatibility with
the service so next question our
multiple application one were possible
yes so on multiple resources rest i hope
i will find a blog post perfect so as
you can see perfectly possible so what
we can do you can specify application
pass one an application second and have
application path to and have different
resources so it's perfectly possible i
will paste it to the church due to the
chant so on Brett occurred great
question Brett taka is a participant
from Utah he participated in the hex in
Munich so a nice fellow so he asked me
do you usually just inject your sub
resources in the different resource yes
it's the only thing which reliably works
and I passed them to the sub resources
it is not as painful as it like it seems
because it's not like we have no 30
levels of sub resources so I'm ejected
in the main resource and then pass them
in in construct to the top resources and
what you can do in jax-rs I think you
can conjecture context or resource
resource context at risk
Vsauce context and and then let's say
there should be my IDE should be
somewhere resource context right yes and
this resource context comes with a
method idiot resource and you can pass
your resource and you get initialized
reaches back so what this will do it
will inject all jax-rs relevant stuff
not dcdi stuff with jax-rs relevant
stuff so I'm I inject whatever I need in
the in the top level then pass it in
constructor the sub resources and the in
the construct and and the resource is
passed here and initialized so this is
how it works in Java 7 okay thank you
brett progression okay now back to back
to browser okay create standalone wars
we shared libraries you can do this then
you don't get it micro service
architecture i would say but you can
still use it but if you so the question
is why you would like to do this so i
think the way to go is this complete
different is the fourth option if you
would like to have multi version support
if you would use not typesafe api to the
outside world something like a jason so
the new versions can support more and
more attributes and and and you are not
allowed to delete anything but you could
provide more and more services and then
you can stay backward compatible without
any of this what you already suggested
here okay and if you would like to go
with the first option what i would
suggest you know standalone she'll know
stand-alone dwarfs sorry no worse with
shared libraries just put the version
one in one war diversion to in
completely new war and and duplicate the
d libraries because there are two
complete different versions so shared
libraries also always a bad idea in wars
is there a way to send a message to a
particular user in a group chat using
java web socket API so web socket is
like a I topic so everyone receives that
having that said what you can specify
properties and and you can you can you
can choose the properties for for pre
selections or pre filter and of course
we can do we can also create multiple
topics so this is what you what you can
do but um there's there is no the web
socket is not not not a point-to-point
protocol so it's always a broadcast okay
next one how to measure concurrent users
of system so I we have so how to find
concurrent users in the system so if you
have a nap this is actually a nice one
so if you have tomcat so you can you can
search for for threats and and you are
an you are set if you have the something
like piled application server it is a
really nice way not the users are
properly sessions but the parallel
transactions so what you can do is to
look at the max amount of of each EBS
let's see whether my application server
is running no but we could start it
so let's start the server and this was
monitoring hopefully server something
like this I always forget him the Orion
monitoring domain perfect server
applications and there are some
application of working right now is a
just proof of concepts and what you
should see here yeah but this is there
are no jeebies I think and no jeebies if
there were bees inside what it would see
is is the number of max number of EG
bees and poodle with total number of
parallel transactions you get all the
monitoring stuff for free and this is
what pyara or glassfish emit you get
similar you get similar rest monitoring
with whitefly and weblogic and all all
the commercial servers so and this is
what you get with the application
service and with tomcat you will have to
install additional tools to have such
functionality so go back to the to is
the question is nonsense so I'm how to
find concurrent users can kind uses so
if there are just if this application is
stateless so on you can you can watch
for concurrent transactions and this is
the max number of beans in a pool of
life beans and if the application is
stateful this is total amount of
sessions okay
so and they go it's interesting they run
they go in production to in April so and
and they want to see critical issues
httpsession problem I don't know what
you mean by httpsession problem what you
can do just download jmeter this is
Apache jmeter a second jmeter that
Apache dark so this is your homework
assignment download jmeter so it's the
first step then hire some students and
gave the students the jmeter tell the
students they should break your
application and they should generate as
much load as only possible and see what
happens on the server so if the service
survives their students so give them 10
11 night create a heap dump and then you
will see how much memory a session takes
JVM production parameter so jvm is
pretty well set without any tuning so if
if the hip is sufficient so I would say
a signed first goal is to geek to for
the first test and and see how many
concurrent sessions you can actually
handle with two gigabyte of ram without
any garbage collection tunings if you
connect to the application with j visual
vm so let's try this j visual vm to our
application servers running let's say we
would like to monitor the application so
go to monitor and you see here this is
the cpu usage we have a heap we have
number of loaded classes and we have
life threats so on the next morning all
all diagrams or curves here have to be
flat so if you see an increase of heap
increase of threats increase of loaded
classes you have a problem so this is
actually what you have to do now if you
would like to go in April to production
having that set most projects in Europe
completely ignore stress tests and they
go in production anyway but seems like
you are more careful which is a very
good thing
so exactly and then you could monitor
thread pull and connection pool with
what with the restful admin so again if
you go here 4848 monitoring domain
server I think resources toilet pool for
instance so you will see here average
connection wait time request wait time
and connections created destroyed you
can monitor whatever you like with Jason
so what it actually means you can go you
know to D to D or E and say curl and you
get this as Jason so you can write nice
scripts and and and and and and roll
nice charts in a few minutes and you
will exactly see whether your server is
is it soon as I whether your
applications case well so far no reasons
at some short internet problems or back
to to the show you I problem one using
MVC plus jquery spring I have to the
head say I have no idea about spring MVC
I never use that so I'm rather the java
ee guy so there should be a different
spring show I have no idea I cannot help
you with that having that sad let's go
back to our chat and see what happens
here so mr. an ax question no here also
nothing boo Keiko asked me get link vs
Amita then I would use if Gatling versus
jmh so I would say look at jmh is is
very nice so book hike ask me let's say
you cannot do backward compatible
versions if you cannot do backward
compatible versions just use completely
independent wars with redundant
libraries inside
so okay then I think we set so it was
one of the longest show so i would say
thank you for watching see you of course
at the next a hex actually forgot when
they are hopefully not soon because I'm
know in a PO April so in April there's a
they are the special days continues and
microservices and this is in July and we
have also in May JavaScript for java
developers and html5 so nothing to do
with javi but I was asked a lot so there
are lots of attendees the last time so
we covered how to code JavaScript and
html5 different frameworks principles
and if you cannot come ere xio there are
booths rep effective and java 7 testing
online and thank you for watching see
you next next month with new java stuff
new java questions and and if you if you
if you have any questions left just
write it the gist i will create the next
the next guest tomorrow for the 24th x
editions almost spring so see you in
spring without spring so I thank you for
watching and bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>