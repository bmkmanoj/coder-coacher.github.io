<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Overhead Of Java EE Application Servers | Coder Coacher - Coaching Coders</title><meta content="The Overhead Of Java EE Application Servers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Overhead Of Java EE Application Servers</b></h2><h5 class="post__date">2016-03-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OSERh3l1vK8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">application servers have to come with
some overhead the question is is the is
the overhead still viable to or to use
application service as a micro service
platform once the question I would like
to start the web celebrity profile web
profile for Java is seven and the
current version eight five five eight
and just do this will take a few seconds
so no the server should be started yeah
now it is launched and so let's connect
with the G visual VM and so we see it
already consumes 40 megabyte of RAM I
would like to perform the garbage
collections or the consumption goes back
to 24 so again 21 so it's this important
note there are no heap settings so it is
running on the default JVM settings from
Java 8 so it's around 40 to 50 Meg's
okay this was websphere so web scene
needs has comes with 50 megabyte of RAM
overhead so ok now stop the server and
let's go - lets go - not web services
rather than application service and then
I would like to start the the payara
just a recent one so it will take longer
it's a cold start and it has also starts
to database has already started ok so
it's not that long but so now we have
the GlassFish here I would like to
monitor that and we see it comes with
around 64 megabyte of RAM overhead
unfortunately I cannot see the JVM the
garbage collector tab so just return
that money - ah now it's better so now
it comes with there was a garbage
collector run with 40 megabyte of RAM I
would like to perform the garbage
collector so it goes back to 30s
so the overhead is a little bit more
than in WebSphere case but it's still
around 50 M X so it is actually not
comparable because it already comes with
- X and week setting here so we cannot
directly compare it but but out of the
box is is the overhead roughly roughly
the same so now let's come back let's
kill PI RL stop payara there's another
interesting application server this is
the Tom B+ this is 700 version Meister 1
so this is actually the worst possible
case because it is the Tom B+ so it
comes to as JMS eg B's and whatever
available it is not Java EE 7 certified
but this Java 7 compatible oh it says I
can run Java 7 apps on it so it started
in 700 milliseconds so it was a quick
start let's take a look at the overhead
and so it looks like a tomcat but this
Tommy
monitor we see it uses 30 megabyte of
RAM out of the box no like to perform
the garbage collection goes back to 20
max and as you can see there are no heap
settings so they be very similar to
websphere but let's say it comes it is
actually the lowest overhead so far but
it is also around 20 to 50 megabyte of
RAM it really depends on the JVM
settings so a Tommy looks actually
really good stop and I would say now try
the recent WebLogic so I would like to
run the WebLogic ok it's running so it
was started in I don't know two or three
seconds so now we have our WebLogic here
monitor and as you can see it takes 300
megabytes I say wow it is huge but we
run the garbage collection and it goes
back to 7750 again around 50 take a look
at the settings as you can see it is the
largest heap setting - exam mix 1 gig
and
this might be the reason but if you go
back it is around 60 so I would say this
is roughly the same as the other
application service of course you know
Tommy is 20 mix and and WebLogic around
60 max but they are not gigabytes rather
than megabytes different difference okay
and the last one I would like to to
review is the white fly so I would like
to start the white side okay and this is
this one let's take a second so I will
have to kill the visual VM again
so sometimes it's corrupt so there's our
white flight monitor and it is about 50
megabyte of RAM unfortunately I cannot
perform the garbage collection so it
will go back to 2 30 20 but it's also
around 50 Meg's so I would say most of
the application servers are very very
similar so what I would like to do is to
kill white fly and start the pure Tomcat
the recent one this is Tomcat 9 so this
is the this is actually not a Java
server rather than a very simplistic so
that content as you can see you can even
save 200 milliseconds of start time if
you if you go just the pure istic
container out and here's our Tomcat take
a look at the performance or the
overhead comes with 50 overhead out of
the box are very very much like the
white fine
I would perform garbage collection but
it goes back to 15 so it's a
significantly leaner or significantly 5
makes less than the Tommy and take a
look at the overview that also no JVM
heap settings so it's not comparable to
the other application service but you
get a rough idea that what you can
achieve with or what you can you can
save around 5 max if you are just using
Tomcat so again always get around 15 max
okay now we test the Tomcat
what I did there is a project called
show in a second
github Nano and am being so on this
project it's interesting because it's
just a very simplistic HTTP server I've
written with with NASA one JavaScript
it's just 8k so it is really
minimalistic these are just a few
classes so it's just fully tiny so and
what I would like to do is to launch
nano to show you the difference to do
nothing no no okay so there is a micro
so what I did I already registered a
simplistic context and what I would like
to do is to launch the browser and say
localhost of 42 42 micro 42 42 micro and
you see micro yesterday so let's look at
the Nano and this is 45 megabytes of ram
launch a garbage collection bezel goes
back to 8 so the Nano would be the
simplest one and they are no absolutely
no JVM settings so this is just plain
plain HTTP server
so what nano does is it just serves
exactly that so it's just JavaScript
functions or is this minimalistic okay
now the question is is it viable or not
so to answer this what I prepare is this
there's actually a ram which I bought
for my server last year and it was the
most expensive one because it's the ECC
Ram for a Xeon processors I can see 8
gig of this Ram does cost around 140
euros so now do the math and what I did
is the following say if if a geeks do
cost 140 euro so one gig costs around
one cent or two cents so so what it
actually means us
having 100 megabyte overhead which was
so far not achieved so all all
application servers were significantly
known this let's say the over is 100 mix
and then the over of application server
will cost you 1 euro and 70 cent per
deployment and so what it actually means
is it is really not worth discussing
this because if you will launch a
meeting and discuss the issue of
overhead of application service probably
the meeting is going to be more more
expensive than discussion and therefore
I will stop here so in my point
application servers are available to be
used as a micro service as a capable
micro service platform</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>