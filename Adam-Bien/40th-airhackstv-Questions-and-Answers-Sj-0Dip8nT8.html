<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>40th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="40th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>40th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Sj-0Dip8nT8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the 40th edition of a hex TV
but who cares about the 40th edition
right 42 we should celebrate
4 I mean 4 teeth which is a usual number
so um let's start with the topics and
yeah you have watched me I should not
say whatever so I'm really careful with
that and yeah start with the first
question whether I recommend using just
beak for securing Java 7 Web Apps and
Chesapeake is really powerful the
problem with with jazz figures its
powerful and complex and I think there
is a nice alternative
so what David said I want to avoid
unnecessary dependencies on third-party
libraries as much as possible so how to
avoid third-party libraries the best is
of course we standard and there is one
standard on the horizon is called jsr
375 C Java eats security API and you can
already download the PDF so if you go to
JCP dork and you download a new search
for 375 then you will find the Java
security API and you can download it
from it this is fairly new and then I
think about this security API is it
wraps the gasping and provides a lot
easier injectable with CDI injectable I
think is called HTTP authentication
module and yeah it's way easier to use
and it already works on Java 7 servers
in fact what I did I think one year ago
I used the reference implementation
called Soteria and and tested that on
I think GlassFish and payara and
whitefly on this service so I would go
back to D 2 the answer I would really at
least at least look at Jess our 375
if you cannot use it right now for very
I don't know any reason why why not to
use it because it will run on Java 87
service and the cool story is you can
then if you if you upgrade to Java 8 you
can just remove these or Turia and we'll
part of the application server this will
be my way ok so we have some awesome
news and topics and what I participated
in a few conferences I was I think only
on the in Foggia conference and they
owned a so huge conference and and
delivered a workshop about micro
services and the funny story is last
year I also delivered a micro service
workshop but I got so many questions so
I couldn't even write a single line of
code I think and some attendees will
disappoint us of this year I didn't
allowed any questions and I just hacked
the whole time and we achieved a lot so
we deployed micro communicated micro
services but after the workshop
developers came to me and asked me how I
test Java seven applications Java eight
applications or Java six applications
and what about embedded container
testing and I thought this is already
discussed the topic and I got similar
questions over and over again and they
were surprised that I'm not using
embedded containers that much so I
usually rely on straight unit tests
integration tests which put parts of the
application server and by the way the
attendees of the hex testing directory
were also very surprised as actually
possible to boot various parts of the
application server like JP a container
without delta spike without arquillian
without anything and and yeah there's of
course on online Java a seven-course or
watch my my youtube videos or or my
block so my approach to Java eight seven
testing there's actually no difference
to pojos so I test the business logic
with j-unit straight and mojito and
integration tests are each Chaz's
persistence create entitymanager
factoring create entity management is
the usual way to go and the same with
bean validation and I use arquillian
Delta spike or CDI unit only in cases
where
where I heavily depend on on the
business logic of the M or business
logic of the capabilities of the
application server for instance there is
one library called porcupine which is
means the same as hystrix and the
porcupine library if you if you clone
the code it is exclusively tested with
our Killian because there is no other
way to test it because it heavily
depends on the application server the
whole point is injection of of thread
pools so um in but this is the exception
from the rule in my business project
there is no arterian in my taking the
project lots of arquillian ok so this
was a side note and on exo the the
classic hacks are over so there was a
bootstrap effective and testing this
time so I wanted to introduce our
variations instead of architecture just
testing went well actually some
attendees as they heard that there is
going to be a testing workshop they
spontaneously register to the testing
workshop and what was was funny we
developed and tested the whole day a
Java e7 app and tested that and then the
left last I would say one hour we
implemented a Jenkins to all pipeline
and deployed it to 202 and release it to
docker registry and and yeah there will
be no classic workshops this year it
will be just the web stuff and by the
way if you can attend web standards so I
will try to teach as many web frameworks
as possible and and of course in
December there will be architecture
microservices and lots of fun
performance troubleshooting and
monitoring and some of the questions are
going to be addressed as well here
ok then what I did today night
so today night I did something with I
played around with PI R again and why
because several releases of payara what
and then they they removed the outer
deployment because of security reasons
and if you remove the outer deployment
feature in payara you cannot easily use
it in so you can use it in Dhaka of
course but not very easily what I really
do I just copy the thin war to the auto
deploy in pirate deployed it for me as
white client Tommy did but hence there
is no know how to deploy the script
would be more complicated and not that
conventional so what I think since 2-3
hours what I did I rewrote the docker
file this is the Docklands project so if
you go to github not porcupine rather
than Docklands you will find a new
payara
and pirate derby images so payara
where is it paella with derby and paella
straight you see 8 hours ago and there
is a docker file and so there is some
variation and and what happened there
what i'm using this actually an really
nice paella feature is called post
command and what happens here I'm I'm
deploying a file so I'm this is actually
the whole whole story here I'm deploying
the first file from the deployment der
in generating the deployment command and
then the ACE administered domain turbos
in this post boot command deploy command
this post boot command is a new in
payara
I think 171 and the deploy command is
the ISTA file here and I got the idea
from a payara engineer he filed a pull
request forgot his name really nice guy
and what I did just did and optimize
that because what I wanted to have is no
conventional behavior there should be
only one war in the auto deploy it
should be picked and deployed and there
was one of the of the questions from the
past a hex TV so I wanted to say the
problem is solved and the other problem
I found is that actually Derby all the
Derby versions do not work well
in dhaka and what you get you get
strange errors like class cars to run
time exception which comes from Commons
file you tools and what I found out is
that if you upgrade Derby so this is a
what I did I downloaded just the recent
version of Derby and unzip dad remove
that and so I basically replaced the
within payara the older Derby which is
1010 zero something was ten twelve ten
ten with ten twelve and it works so
drop-in replacement just work so you
have if you would like to use for
testing reasons I wanted to say whatever
right now for testing reasons a derby
with payara you can just use this and
and all the images already pushed to doc
help so you can just use a as usual a
hex lash payara
with derby or a hex wrench payara and
there's one question in the online micro
services course and the attendees
complained that payara doesn't work
anymore and the issue was a upgraded
image with the recent payara but the
auto deploying didn't work so this is
soft and some drama on the internet
oh let's see whether there are any
questions no questions no questions yeah
the proverb the pebble was on the
highway but he made but he made right
now to watch me watch us online so Chet
is lazy so I'm hopefully I'm in the
right channel so just three DS so
usually there are no from all over the
world I don't know what happens probably
the weather is too good so what was the
next one I drama so I was at so this was
actually nice the InfoSphere conference
so at the river to talks this is
competitive advantage advantage for
startups this was half an hour talk and
the other one I forgot the title was
something about why Java is also
interesting for enterprises so um I
wanted to actually to show why it's
interesting some features which make it
interesting for startups and other
features which makes it
it interesting for for enterprises and I
mean no wonder the Java is out maybe in
everywhere so in lots of huge companies
what is not that known under the known
is also very appreciated by startups at
least or getting things done startups
and when I just gathered my experiences
and presented a talk and the cool
stories I mean the info shares as a huge
start-up area so I expected some
drawback but it was well received but
what happened afterwards I got a comment
like smells like a bittle kettle farm
and trust me Java is wasteful of time
for startups and for enterprises for
that matter and it's ok so I answered
that actually it is this was based on
some interviews and when if my clients
are happy there is no reason to move
away from Java and and then the
discussion exploded on on Twitter and my
suggestion was so I would say this in
general this is a good idea what Ashton
or someone else could do is just record
a half an hour not talk if you have time
just screencast to show the alternative
so what you could do for instance I
could show you know how easy it is to
start or or do some interesting things
with Java II actually did it on my
youtube channel a lot some others could
show the alternatives again let's say
Java is too complicated I would just use
Java C which was actually a suggestion
here because Aston's proposes to use
basic collection instead of RM so how
the approach would look like there and I
mean this is really interesting the
constructive discussion and this really
exploded so actually I got so many
tweets &amp;amp; Twitter's really terrible to
discuss things so um my my answer was my
client just liked it so and if
developers like it I mean then everyone
is happy okay so drama on the internet
so and in case the other talk is going
to be released I will also publish it as
well on my blog and next topic or topic
there's a forgotten talk by accident
answering this dog I saw there's
actually one Java one 2015 talks
unorthodox Enterprise practices and I
just watch briefly what I did as I never
watched my talk of my fully but I just
skipped through through the through the
through the slides and I also presented
some some ideas here I guess even BCE so
on if you if you're interested in this I
just expose that it's called unorthodox
enterprise practices it is two years old
talk but it still still works a cm ought
to talk because I used my old laptop
here so cool and on that note what's
also happened so this info Xie talk as I
told told you the last time I
participated in Oracle code conference
it there is a Oracle in the name but
it's a really nice conference and with
Bruno Borges with lots of fun and Steven
Qin and what I plan to do is because
it's Oracle it's like at least what I
should do I should use the Oracle
infrastructure and I was so surprised
about the Oracle container service in
the cloud service in Dhaka and as I
promised I recorded as short a short
screencast and and and what is what it
shows us how to create a java
application from scratch and push it to
Oracle cloud I did the same with MMS on
Web Services in a wiki elastic but what
was nice of Oracle container service you
can actually create your own private
registry and push it to your own private
registry one registry for the whole
cloud in Amazon you will how it's meant
in Emma's on Web Services you have one
repository pair service so you will have
to deploy your container or application
server twice or three times per service
not sorry once per service and in the
case of Oracle container cloud service
you can have one base image and reuse it
across all images which
is extremely extremely fast so I'm just
if you like to see how it works just to
just take a look at this I think it is
about seven minutes with creation belt
and deployment and you can see me twice
so I have a twin okay so on and of
course where is it there's an interview
I forgot to publish that so we'll do
this and with Elda from brazil this is a
Java in Java EE enthusiastic as I am
stop that and this is the future of Java
EE and this was a nice conversation this
is el de Bourgh eyes for so java and he
wanted to interview me it's worked well
usually Google Honda hang out we had
some troubles with Riza interviewed of
two years ago but this worked really
well and at the end I even asked some
questions elder and just people like
that so if you liked take a look this
was a nice conversation that there is a
really nice guy and if you're doing
something about Java I'm pretty sure
that they would like also to interview
you so just ping him and you get an
interview
hopefully this meant it that way ok so I
think all the yeah we covered all the
collateral topics now focus on content
again and I got a question on my youtube
channel and wanted to discuss it here
actually on the oracle container cloud
service what do you think about lambdas
and they move from oracle to evolve java
including more functional programming
style features and as I read that I
thought okay this is Oracle Cortana
cloud service and I thought it is meant
an AWS lambdas and and then I got this
actually not about the clouds rather
than about about Java itself Java EE but
I will answer it twice first regarding
the cloud and second regarding Java SE
and I have to say I strange with me so
III always only use death I used
I started with basic than 200 Pascal
then C and C++ then Java and JavaScript
at the same time or live script
JavaScript this was I think the first
books were even with the name live
script and and now i sticked with
JavaScript and Java but for me the
lambdas came natural if I work with them
I saw lambdas I think two years before
they came at JavaOne and various
conferences and just from the slides it
looked terrible for me so but if I use
since I use lambdas and method
references I really like them and they
are readable for me and I really like to
write them so um and I think I'm not the
only Java developer because we're
observing projects in Java in migration
projects if developer get chance to use
lambdas they just use it and the code
looks reasonable so far so a thing was
good move and what I read unlike is like
move from the move from Oracle to evolve
it's not like Oracle is moving what what
do you have to know is there are the Sun
engineers you know with some smart
Oracle engineers together so in many
previous Sun engineers working at Oracle
RightNow
and there are other Oracle engineers
working with the Sun engineers together
so everything is all rekted right now
and what they are thinking is you know
how to move forward Java this is their
job and they do a really great job and
Oracle sounds like no Oracle management
would like to make Java functional which
I don't think is true at all there's
like engineers do the work and so far I
will like it yeah and and I use lambdas
in projects and I also use lambda in
particular in Java EE and I even use jar
and lambdas in the India hex workshops
at Munich so the whole time actually
when I can i slammed us what is the
alternative I mean you could use inner
classes that didn't like the inner
classes I try to avoid them and speaking
of Amazon AWS lambdas so you can also do
this so what it means is you will you
will deploy a function
as a service so it would be a java
method setting methods or yes on Telugu
lambda and you and this is a cloud
service which is not like the server
runs all the time it's like more like
your service wakes up and then goes to
sleep and you just pay per invocation
and I mean I'm pretty new to with that
this is a somehow related with server
less there's more about business model
so if you are starting a business let's
say you have a printing service and you
would like to print something in the
cloud or convert something or encrypt
compress encode then lambdas are nice
because if someone invokes the lambda
you pay it if no one invoked the service
you are not paying this but um I have to
say first my DD DX IO could be
implemented like lambda services someone
buys the the ax io workshops they they
would download the workshop and then the
lambda function would wake up and do
something and then go to sleep but it's
not very suitable for this because I
usually get time out of 10 minutes but
it could be I mean if there will be no
time out you'll be one one sample were
where it would work well so from the
business model perspective it could work
but what I'm thinking is I never saw a
startup where you can you know have one
invocation per hour so usually what
happens if you get one to three requests
per second it does not matter anymore
because then you are paying paying
vocations and then as running service
running service would be not very
expensive so I think I forgot what my
applications application server cluster
on Amazon Web Services and I paid I
think 30 euros per month so I think it's
30 euros per month it's not a lot of
money if you're running you know
application service all the time and if
you have are startups I mean the
question is what it will save this is
what interests me and I read some
articles were they say you can say you
know I don't know 70 euros per month but
the question is is it a lot right so
this is also a hacker so nice guy he
attended a hex
I think the monitoring workshop and what
are you strategies to reduce the
compiled size of react.js application so
what he says is it is a bigger than the
Java war which is very true so to a half
megabyte was actually already to a half
Java microservices usually a huge
microservices huge thin Wars and what
you can do well he refers to jar GS is
what I used in the html5 workshop and my
code was not optimized at all I'm not
even sure whether it was minified but if
you if it if it were what you can do and
the code is transpired what transpired
means is it is translated for from es6
to es 5 one thing you can do is just to
activate these how it's called plugins
Babel plugins which are actually in use
and then you can reduce the size because
es6 is very lean and yes the translation
to es 5 is actually huge so what you
could even try if this is an intranet
app if you have a chrome a browser it
would or Chrome on edge
it could even run without any any
translations and if you need some
polyfills just use this this would be
one thing and there are two nice
alternatives which sometimes you have to
use them anyway pria gas which is like
alternative to to react participate is
smaller and the other one is called
inferno j/s which comes with here is it
which is also smaller and sometimes you
have to use the alternatives because
there are some license issues small
issues just search for react license you
will find issues it's not a huge issue
but there is some not everything is
clear with which they're going to react
licensing ok hope it's done
and so Nixa and it's interesting today's
are a lot stuff about security so I
would Nick shut it and it's actually
really nice repo so I took a look at the
code
he actually implemented a server login
module very smartly this is container
sublet filter and he use HTTP servlet
request wrapper and expose the principle
and roles so if you go here to the where
is it
yeah this is the repository so you
should start your repository of course
so but this was nice you see remove
j-unit so it means it's real world app
in real world you said not remove
generated rather than increase code
coverage removed asserts this would be
real world so out request filter
everything starts with that and what he
did he just uses the he has to cancel
request responses okay then he
implemented how to request wrapper and
then he's able to to to expose own
principle remote user and issues enroll
and then he has an own custom principle
which can be also used and there is a
plugin servlet which and probably what
he can do yeah he he sets the user my
custom principle this is I don't get why
he did it because usually you will get
the principle through the it will be
injectable actually and yeah this this
works of course and but if you if you
are dead involved what you should take a
look at key cloak for instance key cloak
has come to a service similar servlet
filters or take a look at suit area and
I am pretty sure there is some in some
of my screencast on my blog where the
second
principal principal injection perfect
four years ago
I recorded I screencast so it looks
strange but there was four years ago and
what I did I extended the custom
principle without the sublet so if you
have some time just look at this and
this could be also interesting to you so
this is a way of extending the custom
principle by reading additional stuff
from a database it's just as simple
producers but this also solve some
problems okay so your idea of course
works great so I mean it will work no
downsides I will still take a look at
GSR 375 because it well integrates with
servlet already and if you need some
more power so take a look at key clock
or open a.m. open am from forgerock so
we added several times already for
schrock or of course key cloak key cloak
org both okay so next one so I'm I had a
quick screencast about thin Wars and
Dhaka the question is how to how to
handle database transaction so it's not
about Microsoft's transaction rather
than database transactions so the best
practices of using docker in one is one
image why responsibility so I need two
images for application and the database
doses this is not necessarily true so um
I implemented several micro services and
they use JPA to talk to database nothing
wrong with that what could happen that
you don't have a relational database so
you have four instead lastik search then
you would have a rest service with squat
or you can wrap your relational database
with the maker service but you don't
have to so um
best practice all if I hear best
practice I always ask myself or what
what do you gain with this best practice
so of course you can could potentially
replace the database and this would mean
this microservice something like a Dow
on steroids could be interesting but
doesn't have to so on I would start by
implementing a micro service one team
per microservice and I would have no
problems if you talk to try to the
database so you don't have to prep the
database again and then there is no
problem with with database transactions
and if you have to prep the database
then it's still a problem because the
micro services could be idempotent for
instance if you perform put a of the key
you can you know we can as long try to
save something until it happens and if
it happens twice the first would be the
insert the next one would be the update
the only problem is of course post
because yeah it is not important but you
can construct something take a look at
non nuns nuns rest okay for God rest
just nuns
yeah nuns means a random number so what
you could do you can create a nuns or
random number attach it to D to the
request and the server would remember
this this number and if it happens again
or if it occurs again we just drop the
requests so something like this could
work
okay next one do you recommend using JSF
prime basis in the whole front-end
application so I would not die yes of
course I mean my approaches always go to
if you if you if you would like is the
following we I think we had it several
times go to primefaces prime face is not
there yet but prime faces the dork and
they are demos so go to the demos
and what I do I present the demos to the
users and if they are happy with the
components you can use it but they
should sign off you know a paper it says
okay use them as there are no extensions
then just use it with the most probably
the most productive framework ever any
substantial modifications the components
can be very expensive it means it could
take a long and the problem is take a
long time the problem is of course if
primefaces evolves you will sit on your
fork effectively and then what you will
do and so of course I absolutely could
imagine so I was in project where
everyone was happy with primefaces so
it's not nothing wrong with that and
mixing use react could be problematic
because what it actually means is what
it could do
you could create a GSF custom component
which is a whole react app and what I
also don't get react angular or even
html5 so angular and react is html5 so
what I could imagine is you could
absolute mix prime faces with html5 this
is this is this is usual very usual
mixing reactant angular which SF is
unusual why because react an angular
they have they managed to State on the
client not on the server and they have
so-called virtual Dom which is another
state layer and JSF manages State on the
server so if you really know what we are
doing you could of course mix and match
react angular and JSF but it could be
hell on earth become hell on earth
mixing primefaces with html5 with just
normal yeah
and I'm working on a nice course about
html5 but not about privacy so um so can
we rely on restful web services to
communicate between the modules of
course absolutely and I think there's of
course a screencast communication micro
services yeah
take a look at this Java EE microservice
communication and this is I implemented
this in 13 minutes with lots of talking
and explanation usually it is hosta so
absolutely into this Oh
oh man I closed the important tab okay
now let's see what happens here so
there's almost no one in the chat just
me twice what happens here ah the nd
what nd also did he post me as something
interesting let's see there will be n
here this is a very interesting tweet so
had take a look at this it's what he
suggested this if you use - the
java.security EG d equals file def you
random it will speed up the start up
time of the application service and i on
my docklands there is still no image
with that but I will try it and ynd
became active I think I said something
that Tommy could be is too slow or
something like wrinkles which is not
true his Tommy's actually very fast I
use it a lot startup time is great but I
think I had issues in the past ones or
something on the conference and it
probably said it but this was this is
over and I had also issues with white
land payara so it really but I don't
think it was this I suspect it was more
more my network that the service waited
for put an edible to configure or
something like this so sometimes it
happens and if you're curious the last
at the last Java one my micro service
talked it was it went completely south
the the GlassFish Oh or I think I use
grass fish was extremely slow so no one
knows why but it happens at the last one
to me so but there's no Tommy okay
so this is interesting so are actually
people from Nigerian interbank
settlement system registered to the X
and they are very eager but they
resisted two months ago for the workshop
in December and so what usually happens
or what do you have to know is if you
register to the XCOM you get an ID what
it basically means is I get an email and
I know that somewhere there so and if we
know how many how many attendees already
are so we booked the rooms and we try or
this is actually wrong we always get the
largest possible room of the odd the
airport munich and sometimes we are
fight with other companies for the room
for instance and the current ax
there was also BMW at airport munich and
they got the Rogers room so we got the
one smaller but I'm know it is really
hard to fight with BMW but so and and
they have the people from Nigeria a
little bit afraid that the didn't got
the registration I got the registration
and you are registered and you get the
invoice but I mean this the holy XCOM I
only did it because I get lots of
requests about Java Eve workshops and
isn't it possible to me to travel around
there all the world and deliver the same
workshop 200 times so what I do instead
I do it a few times at airport Munich
and everyone is happy it's nice location
nice coffee and people come to Munich
and yeah we do it so you're registered
ties they say so a welcome to Munich and
and I will send you the invoice and come
to December and you will see a great
December usually we have a Christmas
market which is great so people from USA
really like it because of the glowing
wine so and having that set lots of
people registered there was registration
from Azerbaijan and I forgot and they
wanted to have invitation from me which
I brought but it never went through so
somehow if you if you need a visa to
come to Munich I'm not possible to it's
impossible to me to help you so it never
worked
and I probably it cost a lot
time and never work so I will just don't
do this what we could do instead of
course private a hex so if you are in a
foreign country so we could do it by a
WebEx this is what usually works so you
don't have to know to travel three days
to visit a Java EE virtual by the mini
gap Airport okay so thank you and see
you in December
um so um sim dev Mon said I'm developing
Java 87 an angular application which is
interesting so if you like to be
interviewed pinckney with jax-rs and GWT
json web token I'm wondering jax-rs and
plus jadibooti whether you should be no
Jason because I mean just kwt but it's
okay Jason web token the other 10% are
long running tasks where progress title
should be visible in the front end so
what you need then push for this I can
think in the two possible solutions so
the one is the pull status from jax-rs
which is which is long pointing or comet
works perfectly you can use the
suspended asyncresponse for that or
WebSockets to push status and what you
could also use is HTTP to soon and and
why that this is WebSocket to push
status this would be the best the
problem of course this is not more
complex it's actually easier this
WebSocket to push it has to be supported
by your environment it could be that you
know firewall or or a proxy server does
not support WebSockets and then you know
you are set or it's game over so there's
probably get always jax-rs
so if you can use WebSocket just use
them they are very simple from
JavaScript as well as from back-end and
I think even there's a screencast I
record as worried I think even simpler
than long polling with jax-rs the
problem with jax-ur as long polling
messages can go lost because from the
client you have to do it to acquire a
connection and the server blocks the
connection if the code and and if
nothing happens the client has to
reacquire the connection and the server
will just
sent back 204 no no data the kind will
reacquire the connection and in this
particular time messages could get lost
so there is a smaller window where it
could get lost with WebSockets is a more
robust technology which way to go if you
can use WebSockets they are very simple
from Java 7 and angular
I mean angular this is let socket equals
new web socket socket dot send sent this
is the JavaScript method for sent and on
message lower case is the event listener
JavaScript event listener for WebSocket
is very simple
yes recommendations I do it a lot with
with WebSockets and jax-rs
and if I know that you know we have been
in a undefined environment I just go
with jax-ur as long polling otherwise
use web socket by the way we implemented
both and the recent effective last week
epidemic at the same time we go CDI
event and push an event using jax-rs and
WebSockets at the same time ok so this
is what you can do and ok next one
there's a blog post and what I did in
the blog post I can take a look at this
I demonstrated it was actually and and
and question from one of my clients and
I just answered with a blog post and
what you see here is there is an entity
from the BCE and the entity knows how to
deserialize in serialize itself so this
is the whole trick to JSON object and
and the question is what happens to give
inheritance so this is the question so
how to deal with with inheritance and
and so and the problem is of course if
you have JSON object it is a little bit
hard because it's immutable so you
cannot just
adds new attributes to it so we'll have
to copy to another JSON object what I
also did in the past is going to be
bette better in Java 8 so it is easier
to to to extend JSON object and in this
particular case you can of course use
JSON object builder so instead of
returning JSON object you can send JSON
object builder and then the jax-rs
resource we only have to invoke dot
built so if you have inheritance
hierarchy just use JSON object builder
good idea so I J Ibarra has several
questions so I hope this is clear so
JSON object builder you can use equally
well you don't have to expose JSON
object is an object is this more like a
sealed hash map you cannot add
attributes any more so on J Ibarra is
interesting the course of Java
micro-services so what I use Jenkins
absolutely so are Jenkins to all with
poblanas code and all my micro services
are deployed with drinking's 202 works
well and if I buy the course can I ask
you specific questions about micro
servers you do not cover in the course
absolutely so this is what we do here if
you have questions answer the questions
or ask the questions here are the exists
there will be a gist for xli
microservice edition next month and once
a month I answer all the questions it's
a way better approach because I don't
believe or I just cannot answer the
question via email or or because it's
not really efficient and is inverse by
Twitter so I think this works well ok
now let's see what happens here so no
questions no questions cool um no thank
you I like that area appreciated you
like the ax I actually really appreciate
and really looking forward to this no
idea why but it's a very productive way
to to answer stuff and keep in touch
with friends of the show so umm
and this is the question related the
other one so I get the idea behind a
single request computable future suspend
when to use it what is the use case when
to avoid it so I never use it without
reasons so what could be the reasons
long pouring so why it shines in long
falling because the suspended suspended
asyncresponse what it causes that the
threat is parked what we did in the
monitoring workshop we created several
thousand requests suspended requests and
there was no effect on the on the thread
count this is this is the the main
feature so if you have longer requests
and you will end and you have to block
them which this has suspended they the
thread is going to be parked so it is it
has the routes I think in the Grizzly
HTTP server English too was one of the
first service which supports long
polling without without blocking the
threat and this is very hard to call it
resource efficient and what I did at the
workshop last week I wrapped the async
responds in a CDI event send it to
broadcasted within the thin war and and
there were someone asked me to implement
a better job in the in developers and
then and an example of batch job and
what I did I push the status of the
batch tub batch job using this so the
event arrived and if the batch job had
something to say
it used the event and pushed the data
back so this was actually it is second
question experiences docker swarm years
I have any tips are avoided so are mixed
feelings so on docker is tea I would say
is the originator of the
containerization hype and docker is
almost like a standard so rocket is of
course the standard there is not rocket
rather than AB C's the standard but I
mean Dhaka is everywhere and they have
some
services like Dockers warm and usually
what what I try to do is if I start with
job I see and I cannot find api's I go
further with Java EE because Java ey
because everything is Java right so I
try to stick with the standard and the
same isn't docker so I would start with
docker and if the daca Community Edition
is not enough which is called Moby by
the way right now I would extend to
enterprise Doka Doka swarm
having said that there's another almost
standard for for orchestration of of
docker and this is cuban it is so in my
eyes kubernetes gains crazy momentum so
I open shift in redhead is based on
cuban it is cuban is in the clouds and
what cuban it is is cuban it is manages
a docker containers so i'm i would
consider cuba natives or doctor swarm
and I think kubernetes has more momentum
there toka swarm but evaluate both okay
and this interesting so I'm questions no
questions
Oh mr. TECA is here
cool so we have another channel at the
free node so the Monsieur taka who is
from I think Arizona is the guy from who
do like the Christmas market and Pavel
title this is P we met at the Oracle
code as well in park ok now questions no
questions so lazy chat and so I M DVR
said ok
they used eg be annotation and what
happens Wi-Fi tend to start too many
threads of eg bees and this is a species
I don't think there is any any
correlation between threads and HIV
annotation so on eg be by default runs
in the color thread possibly you have a
synchronous this could explain it but if
there is no asynchronous annotations you
have you should have the same amount of
of Egypt
so I never observed the behavior it is
really strange so there should be no if
you remove the eg be an annotation
should have the same amount of threads
what I would do I would connect with J
visual VM locally and try to find out
what is the name of the thread and then
you know try to to see where the thread
comes from so this really interesting
behaviour or I didn't observe that and
if you go to the I think our testing and
micro service workshop is a xio SD is
the online paid version commercial
version I also did several threads
observation we share visual VM and there
was nothing stranger we perform some
stress tests for instance life and
everything was egb so you could watch it
in life so and there is an interesting
so next one side G there's an
interesting very formal article on info
queue
why are no longer use MVC frameworks and
it explains a a very formally what would
react does how html5 looks like and
there isn't and there is a SM principle
called state actions and model which in
my eyes is very similar to to MVC and
then say okay he doesn't like MVC
frameworks anymore and the new stuff is
Sam and TL a-plus which I forgot this TL
plus temporal logic of actions and this
is very functional way of implement
JavaScript JavaScript applications and
whether I think the MVC is dying
I mean MVC was is declared dead for a
long time and the successor was MVP
which is which is also that and Model
View presenter by if you go to Fowler
as you can see in 2006 modelview
president that was also retired and he
split it in passive view and supervising
controller and and I don't think is that
at all so to give you some examples I
have a implement or I also maintaining a
a framework and this framework is called
afterburner and has nothing to do with
with JavaScript
it is a Java fix framework but for
unknown reasons it is very popular and
on the road art is also interesting so I
was on the way to DevOps PL by the way
devoxx I forgot to mention the devil's
PL conference great salt sold out
conference in in Cracow and what I did
there
I present it I built a small Java 7 thin
war micro service but I just spent that
probably five to ten minutes and then
implemented html5 app and and and try to
show you know that you can also what
happens if you apply the Java EE stick
way of packing back and thinking to the
fondant this was actually the idea but
but the nice story is I met some ax
attendees and I mentioned the dev box PL
some were conferences and they just
attended the conference so there was
another excellently victor and he I met
him in in Krakow and I say hey do you
mentioned dev box now we are here and
this is a nice conference and it was
really nice but there were people from
from from airplane manufacturer who are
using the afterburner and which
basically is MVP framework I mean there
are three classes and they were they
were really happy with it so I asked
them that they had some to perform some
rather computations or calculations and
they say it it is simple it works and it
is very productive so on and this is a
feedback we did it in swing and and and
Java VIX and what what happens right now
I do the same in html5
so in html5 without any additional
framework I have a usually a class
called let's say there's no name for it
I call it still present I extract
exactly the same naming as in afterburn
Attucks because it works worked well
with robotics probably I could even
create After Burner das but still there
is nothing I mean - probably one class
one javascript class and I have one one
presenter then sometimes a model and
sometimes a service so what the service
does it just wraps fetch or xhr this is
XML HTTP request usually is fetch in
modern applications
it's just functions which are by the way
in JavaScript you get something like a
future bag or completable future which
is called promises full asynchronous
models the state if you have some state
between views and the presenter just is
the binding between the HTML with
document query selector on the back end
and this would be MVC or MVP in my eyes
exactly what afterburner is so I don't
think is that and and if something works
for you and you are productive and it
sounds sounds easy and new developers
like it this is actually the point if
you're on a project and you get fresh
developers and they like it right away
so ok it is easy let's go then
just use it so that it will not die from
the of course if you have a pure
functional point of view this MVC might
makes lesser sense because state is
involved in the model which is from the
functional point of view pure functional
point of view not that good
ok long story so we have that so
where's our slide again we lost the tab
and whether I use reactive programming I
think a computable future is almost
reactive but what what reactive would
mean I have source of events I can
subscribe to the source of events and
this would be like a future which is
where I can is a future where I could
constantly subscribe to events so in in
Java 8 if I have computable future or
future I get the result and then I would
have to call the method again the only
difference to reactive programming is
that I won't have to resub scribe out
get the events over and over again and
then I could do interesting things like
filter map the events and so forth so in
this sense I use it what I don't do it I
don't use additional libraries so I try
to stick with Java and Java 8 and and
Andy in the use cases what you will have
to do is like event source we get some
of course you know the stock ticket
stock ticker would be the best something
like this you have an event of data a
source of data and you can subscribe to
it it could be of course if you take it
to the extreme
could be a mouse it's also a source of
event right because if you if you do
with the mouse pointer something it just
emits events you can subscribe to them
and and do something interesting with it
and I think if you
there should be an old screencasts about
reactive programming and java weeks four
years old take a look at this this is
truly reactive in Java fix in Java 8
what I did then is I guess I implemented
a validation input validation in the
reactive way and how what you can do you
can and I forgot actually what I did but
you can say when name is not null text
whose name is not null and a first name
not null and last names are not null
then a send button enabled so whatever
you do the send button listens to the
events of the both text feeds and gets
automatically enabled or disabled so for
input validation reactive is really nice
and I did it in JavaScript do it all the
time without thinking about this but
it's not like you know I have to think
should I use reactive right now it just
happens okay which of java technology
should have one learn for creating micro
services with java I would say jax-rs
for sure you don't have to use eg B's
just the first class which is called
from jax-rs annotate with stateless and
you have to know at inject I mean yeah I
don't think you have to learn a lot to
implement micro services with Java with
Java EE what you what you should learn
is to delete as much code as possible so
it's not like you think you have to know
to run something and then put 200
annotations on one shopping cart pojo
the reverse is true if your Java in
Microsoft should contain as much as
possible business logic and as few as
possible Java annotations and this is a
nice question it is possible to
programmatically deploy in a enable
disable and deploy a Java app on
GlassFish of course not no absolutely
possible and actually
it is a project which I implement it and
hopefully folder yes with a screencast
and even I forgot its Web books so it
permitted
web books and what the Lord does two
years ago now four years ago or two
years ago it is exactly what you wanted
it uses payara and GlassFish REST API to
deploy on deploy enable and disable apps
and I use it for continuous integration
with Jenkins which also answers the
other questions whether you drink the
micro services and what's interesting if
you look at the source code so this is
just application deployer you will see
that it uses the jax-rs api from
GlassFish and the hooker you can
register as a it will call you back
so this is the the idea is or three
classes and the same is true of your
JBoss so if you go to JBoss CLI deploy
you could do the exactly the same with
white line so are deploying from command
line with whitefly so i implemented the
alternative with whitefly and you can
absolute compare it is comparable with
GlassFish so you can easily extend
loader to work with white line of course
WebSphere and WebLogic they have not
only gamax they have this website comes
with Jason and and WebLogic comes with w
WS t this is WebLogic scripting tool so
all the service I'm not sure whether
there is a command-line interface for
Tommy so this is not sure about but all
other application service comes with
rest api and you can pull out tomatoes
yeah and I'm not using just very nice
just just our eighty eighty s and all
deployment M API and this is what I'm
lacking in Java e missing in Java 8 and
Java EE nine but seems like the
developers are not very interested in
deployment and monitoring so I try to
suggest that I was in the travel one was
three years ago those like you know
brainstorming quotas could be
interesting interested interesting in
Java EE big ten seven I think and I
proposed that but the community didn't
voted for this for the provenance
interesting deployment there are more
interesting about implementation
features in my eyes it would be nice to
have know a more standardized monitoring
in Java EE and deployment this would be
really nice to automate better the
application service so but ok when
working with micro service would you use
to control the amount of simultaneous
access to to a service great question
build in so the simplest possible is at
stateless and max pool size so it works
for ages this is a built in denial of
service attack preventer and more
sophisticated cases use something like
porcupine what I showed already so you
can consider a configure individually
thread pools and so have no the limited
amount of threads per per service and so
this is built in bulkheads and or you
can just inject managed execute managed
execution service and this managed
execution service is a simplified
version of Porcupine the only
differences you will have to configure
it on the in the application server
console or in XML file in porcupine you
can do it on the on the fly
how do you do the load balance they're
perfect questions today so with engine X
or H I proxy look at my document
repository so first Adam being micro
service HR proxy load balancing Java
micro services this is my screencast
probably
five to ten minutes where I implemented
on the fly you see - - net load
balancing is a road balance framework so
you can look at this and I guess I'd
also did it in the micro service
workshop so take a look at that can you
recommend a good read on how to build
applications with micro service no idea
so I recorded the micro service workshop
is online Microsoft this is a hex i/o
next I know the various micro service
workshops micro services or Java EE
micro dots services I guess yes so this
is the workshop you can rent it from 9
euros or buy it for 36 36 euros but
there is no upgrade for are no reasons
this is a v-mail
this is impossible so if you rent it you
cannot just buy it afterwards you can
but you have to pay twice so there is no
no standard way to do this one of the
most asked questions and I don't know so
if you know a book about a pragmatic
book about micro service I don't know I
don't think there is a Java EE micro
service book right now yeah but what is
should you do rewatch our air hex de
vidas I think in each episode there is
something about micro services so take a
look no any questions this with the last
one eight hours ago so are no questions
Utah so the attacker suite on the
Arizona sorry no questions here two
questions here w st web bloody script
into and not w st absolutely so then it
is the expert so as you can see if you
have questions about SS t just ping
Daniel Danny will help you write ok
thank you for watching see you in
October or December let's take a look
October and December
hopefully our I don't think the
invitations for the Java one talks are
out but I have no idea what I would talk
a Giovanna or not if yes see you at
JavaOne hopefully devoxx unburden there
will be I would probably be also in
devack's at box day in Romania if it
works out and hopefully and W Jack's in
Munich
so yeah I missed the CFP but hopefully I
will made it thank you for watching see
you on October December or classic a hex
or bootstrap affected improperly
architecture is going to be I guess
March April in 2018 thank you for
watching and see you in August yeah
August online bye
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>