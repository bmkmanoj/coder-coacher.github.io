<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JSON Streaming With JAX-RS 2.0 | Coder Coacher - Coaching Coders</title><meta content="JSON Streaming With JAX-RS 2.0 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JSON Streaming With JAX-RS 2.0</b></h2><h5 class="post__date">2014-03-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v5fpDknuj_o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Anna beam and today I
would like to show you how to implement
streaming with Jason and jax-rs - so it
would require July 7
I was recently asked during the Java
user group meeting in Warsaw about this
and so I would like to show you how to
implement this is actually very nice
with Java 7 so I will start with maven
project was that the simplest one and I
would call this Jason streaming
streaming and I would like to keep it
realistic so I would like to implement
the resource and a boundary and the
resource will ask the boundary to stream
and return the Jason stream to the
client so to start we will have to
implement the configuration the jax-rs
configuration whereas configuration and
the package is streaming dreaming is
also nice but streaming so and it
implements the application path not
implements is annotated with application
path and I will call the path streams
and it has to extend from Jack's bikes
that we as our as application now on
Jack's RS is configured so what we also
need is the Jason stream which can be
actually an EJB this will be the
boundary and I would like to implement a
method stream with output stream and
what we can do here is first ask the
method Jason to create a generator this
is actually D jendi right name and
generator now we is support streaming so
what we have to do is to write to decide
whether they would like to stream an
object on the Ray and I would like to
create an object JSON object and here we
can we have to write the end of the
object and also flash the generator and
also close the generator so and here
because I'm lazy I would like just to
create loop which creates thousand
entries and I would use the generator
dot write method and it creates a key
and the value
yes so key and a value looks good so we
started the object we write the end we
flush and close so now our business
logic is is ready to go of course we
could use try with resources but it
actually doesn't matter right now so um
I would like create the resource frame
streams resource is the jax-rs class and
this can be EJB again usually I like to
make it EJB because of monitoring
purposes so I will see actually what
happens on the server if there is not an
eg be it would be more or less a blind
blind flight so on there's a streams I
would like to return a response streams
and the method is cat so get response so
what you can do is to say return
response that are okay for instance
build so it will just create generate
HTTP 200 code what we actually would
like to do is to
returned a stream here and there is a
really nice helper class in jax-rs
called streaming output and the
streaming output has to be implemented
you could use lambda expressions of
course for this and what we can do here
invoke our ETB so let's do it
Jason streamer J ass nice name at inject
and here we can just say stream and then
we can return as an body the streaming
output we could achieve the same with
message body writer but streaming output
is a lot easier to handle so again I
could just convert this to a lambda
expression but I would say it is another
point of this presentation so let's
build this and run it on best fish so
now everything comprised and deploys on
GlassFish class which starts behind the
scenes and it should open the browser
yes and I think I used the resources
path in the jax-rs configuration the
plus streams did i jax-rs configuration
completely wrong so it was a mistake but
let's do it dreams dreams dreams dreams
as you can see which we are able to
stream 1000 entries directly to the
browser so um this of course I would
call that as the resource is not streams
this was a mistake so thank you for
watching and it is I think jax-rs and
Jason are really nice api's which are
coming with Java 7 and see you on at one
of upcoming
conferences workshops or even acts the
java virtual munich airport so thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>