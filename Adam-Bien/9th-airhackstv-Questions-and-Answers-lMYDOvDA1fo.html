<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>9th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="9th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>9th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2014-12-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lMYDOvDA1fo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hello a month is short and welcome to
the last show in 2014 and yeah lots of
questions and really busy November so
spend time and think several conferences
or the W Jax was nice and great so huge
interest actually in javafx at WX i was
in or a deaf and talk about java and
pecos services or nano services and then
devoxx one step further about Pico
services and now let's go to questions
so let's start with the first one and
somehow microscope is related so what
would be your take on how to most
elegantly deal with resilience and
service discovery for Java is seven
microservices and I wouldn't I usually
in my projects I would never ask the
question directly because I would answer
this with a counter question why would
like to know this right because usually
there is almost no distribution in Java
EE system everything sticks in on war
but what I think what what Nico means is
is the following and there is something
called reactive manifesto and there is
something called resilient and what it
actually means is that each if one
application breaks it doesn't affect the
other applications so as I and you have
to deal with exception somehow and I
think this is this what is meant in
there in the question and how I deal
with this the funny story is the block
you see here if this if the statistic
app here which is called x-ray fails or
is too slow you won't recognize anything
on the block because they are isolated
so what I did actually i think is five
years ago or something i implement
implemented microservices be without
knowing the term which is always funny
and and how it works is really simple so
there is a there are actually
two timeouts connection timeout and
reach timeout on HTTP level and if the
timeout occurs you will see a default
stats which is basically a minus sign so
there will be no stats at all so it's
pretty simple fairly simple in this case
the problem is in a usual enterprise
project is not that simple anymore so
think about let's say an ordering system
and you can input the order you can
process your shopping cart but the older
processing does not work anymore the
question is how to recover from this
right is it acceptable to take the order
but you cannot actually order or another
if you have insurance system but you
actually cannot store the insurance
itself so it's a little it gets a little
bit more complicated and i would say
microservices are or about business
logic talking with the business experts
what is acceptable and what isn't so on
that note what I'm doing right now is in
a project so the words communicate with
jax-rs and you can set up with Jack's
arrest proprietary features for jersey
or rest easy you can set up something
like timeout Andrey time out like a
connection timeout Andrey time out again
so you you will know when the exception
happened so actually Java EE was always
resilient so we always got lots of
exceptions but in unusual java
application ninety percent of the
exceptions are just ignored so there's
actually no no no sensible exception
handing in place so um so this about
resilience oh I'm again if you talk to
HTTP client you have to deal with the
problem that the client is too slow or
does not exist and on the on the on the
client side you have to do something
about this and of course you know in
theory you can do a lot imagine you you
can talk you know to a member of you can
talk to several databases so if one
database fails you can talk to other
database but usually an enterprise
project something like this is not
acceptable right so you cannot just use
like rate for for databases in no sequel
databases it already
be on the scene so you can talk to
whatever Cassandra node you like for
instance and it will it will distribute
the data automatically I hope it's clear
and service discovery it's a little bit
more interesting so probably am what
what is meant by this is you have
multiple multiple servers and these days
you would like to discover where the
service actually lives and they're on
what I did once it was actually dead
simple and it was back then I didn't
call this micro service I called the
idea shared nothing architecture but um
you know whatever we do it's getting
renamed all over all over again so ways
my my pen doesn't work does this work so
this does okay so what I don't what I
had was the following so I have some
applications worse and this applications
start the services to a cash and the
cash was distributed back then it was eh
cash now it could be hazel cast whatever
like so if you put something here the
service gets replicated all over the
place and what you get from this is the
following whenever the client connects
it always see you know the same the same
the same amount of data so what we
actually implement it was a service
registry in a hashmap or hashmap
multimap actually this was something
like IP address a number of services we
could reorder the services and the
client could connect via HTTP to
whatever service the client liked and I
got always the same answer and with this
we could even could even deactivate one
note by disabling the service from the
central registry so um this is also what
what Jeany did back then so it was I
think the first microservice Java
intelligent network infrastructure so
something like discover leg with another
in direction which is replicated and I
would use for instance right now the J
cash for this and hazel cast for
instance so I'm what you could do
implement a slow timer here which
justice all interesting services to the
cash the cash uses probably UDP UDP or
whatever you configured to replicate the
data and the client just goes to the
cash and and fetches the data this is
what we did several times it works
surprisingly well equally well you can
implement something like this with
jax-rs but the question again is do you
really like this flexibility this was
special a specific case a few years ago
and i would say in a usual project i
will never think about such a thing
because it just makes this stuff more
complicated also there is a how it's
called fallacy of distributed computing
by james gosling and one one point from
this partial failure it's a problem you
have to deal with such a system is what
happens if you know some notes fails you
have always have to to think about the
failure and the question is is it better
isn't better in most system that they
completely fail or is it better than a
partially fail and this cannot be the
answer by answered by us developers it
could be only answered by the business
department actually so okay I hope it is
clear right now and see whether there
are any questions no questions no
Twitter questions which is always great
sign so I think this question is covered
to the next one all data vs raw Jason
what is all data this is a standard
based or anthem publishing Oh data
implemented by Microsoft yeah or
suggested by Microsoft which interesting
i think this link it or even works so
and there is a show you i think in
getting started there is something like
this and what it actually does in
standardized somehow how to query and
filter with
Jason and there are some complicated
examples like here get service route
airports as a parameter k SF 0 and name
so and what will search this it would
use this as parameter and search for the
name attribute so what I don't like is
you know this this how it looks like so
I would you know I will write it
lowercase and I wouldn't use the
parameter but i would say it is at least
it is released standarized and and
clearly standardized is not that hard to
get and if you look at the uri it
clearly states what it actually is so it
wouldn't be my first choice I would look
instead on atom publishing protocol
let's see whether we find this is
actually protocol this is this what I
look first the I think this one or this
is even this one will just paste it to
chat I would you I would use this one
before Oh data but the question is no
now we just passes which to chat why the
question do you have to use the old data
or is just you know you you think is
something like a bit best practices and
best practice I'm i would look at atom
publishing protocol to get some ideas
but if you have to use old data it looks
actually nice so um this is my personal
opinion and yeah this is a very
subjective ones or take it with care
nice statement from from from twitter
someone migrates to java ee and would
like to get rid of all libraries and the
only one which remained is this one
which is very good sign so on as you
properly no worse should be empty and
just contain business logic simple log4j
i actually never used that in java so
what i usually am longer topic we
actually spend i would say one hour of
the regular ericsson epid munich by the
way in two weeks and talking about
logging and my first statement is and it
actually sharks
developers in some project I just say I
don't lock anything and the situation
escalated then we think about what you
on how we would like to look but if
there are no additional requirements and
I would like to know to keep some
statements in the log file I will go
with travel you to logging straight and
either you can inject it with at inject
in Java or you could even wrap it with
simple adapter or what you can also do
you could use with lambdas you can even
export expose functions or methods
handles and inject them which is also
interesting as for instance consumer of
strings but this is goes a little bit
too far the question B is I would use
Java you to log in first if it is
doesn't isn't not good enough I would my
second choice would be locked for jay to
as or not the first one but the second
one and but the question is why if it is
too slow isn't probably better to use
UDP or something for logging or doesn't
have to be filed and what I also always
ask the question isn't better to write
through a database because in our
database has a nice nicer search
facility okay who think we cover this
one and questions no questions in chat
no questions in Twitter perfect nice one
how to transform one to many
relationships using jax-rs and the
question is this is just recurring
questions we have our complex graph of
entities and you would like to expose
them via Jason so I'm because it state
the mug lee states jax-rs the first
question I will ask myself is it eager
lazy if it is eager everything would be
included in the Jason but if it's lazy
you will have to expose a link this
would be the first idea and I will try
to see lies the link from jax-rs first
but if someone decides to use eager
loading then let's say whether i found
find it and i'm being Jason what I did
collector I think
let's see so what I would do probably I
will experiment with collectors or it
created here collector which
automatically converts registrations to
array for instance and you could create
you know I will play with grouping
collectors or whatever because with Java
8 it is relatively simple i would price
it to chat or relatively simple yeah it
is simple actually to extract whatever
you like from your object graph from
your domain objects and and create JSON
objects on the fly I would rather
experiment with collection stream and
map or use own collectors and try this
and this is what I would do and if you
have a lot of such cases probably you
could you could create an OD TOS object
on the fly from from the entitymanager
implement a view in the database or
whatever to you know to to to condense
to condense your data but this would
imagine this would be my choices what I
wouldn't do you know implement that it
doesn't d Toews just for the sake of
eager loading because sometimes I
high-tech choose to use D tos and expect
developers in order to invoke all the
Gators and you get a girl oding for free
but you can also get a girl oding for
free if you say eager so you don't have
to to implement thousands of details to
get get eager loading okay I hope it is
clear there's no magic solution for this
except Java 8 and collectors you can
experiment with this and make a little
bit nicer with this what it does it
creates automatically the M and JSON
object okay I think next one next
question so um this is all so this
trucks me a from users really i get a
question over now it over again so i'm
there is a ECB patent entity controlled
boundary and the question is there is a
boundary in the risk
hall and and when to use what and so you
said that you do it with refactoring
when boundary gets too big could you
please provide any pointers yes one
point a sonar and if the boundaries
Eleanor's cyclomatic complexity exceeds
547 you means you have if ssl cells then
i would introduce and control are very
clear statement i would say and why you
have to start with boundary first
because you don't even know how to know
divide the logic if you have if you
don't have any so start with the
boundary implement whatever like in the
boundary which happens to be an e gb and
if you have something to extract just
move it out to a control and how to do
this i would say this is like what we
did in object-oriented programming it
just decompositions you have a concept
in the boundary and then you can put it
to the controls for instance right now i
have to serve contents from worse so I'm
external Wars don't ask me why but I'm
implementing this or what I have I
started with the boundary first did
everything and then I have two controls
once one cares about I think extraction
of the audis the other one cares about
finding the d.d Wars and providing the
stream and extracting you know the the
items from the war and the other one
connects the stream from the servlet was
a stream from the from the from the war
and so I got stick controls afterwards
okay this is actually the ideas the
divorce the the the control scheme
afterwards it's not like I started with
with all the controls because at the
beginning I had no idea with what I will
end end with okay I hope it is clear
clear it is if you if in a project you
will see a bloated boundary know it will
have I don't know a few hundred lines of
code so you have you should ask yourself
what is the name of the boundary and
then does really everything in the
boundary fits you know how it's called
fits the name so I'm
is T is the name of the boundary still
ok if you consider the DD DD contents if
not probably the the boundary does not
have a single responsibility rather than
multiple responsibilities and then you
can extract your stuff in the controls
so I'm nice I have a feeling I have to
deploy redeploy my application all the
time during the development it's not
only a feeling i also have to do this a
lot of time as they use netbeans i save
it and just depress be any scenes so I'm
and how to speed up development and
funny story so how to speed up
development using micro servers now what
microservice is about is having a small
war if the if the worries small the
deployment is crazy fast the larger the
war the the slower the deployment and I
think we have later a question there's
like there was 1000 EG bees and someone
would like deploy 1000 GB said it takes
ten minutes or something to deploy so
I'm recently we we converted one year
with multiple jars inside 21 war and
deployment time was significantly faster
significantly I'll actually forgot what
the factor was but it is really worth to
do this so if you have an ear just
converted to a war and you can speed up
a lot of time so a lot of deployment
time and I actually but on the on the
other hand if it is too slow just by
jerebo it is not it is it is too slow
for you I will just buy it because I
don't know it does cause a couple
hundreds of dollars or Euros I think but
if you are more productive with this it
will pay it pay pay out soon so this is
a great tool for me with my I know
strategy keep were skinny just stock
maven and netbeans is just fast enough
so I never have to to to wait longer
than I would say no have 20 seconds at
most ok let's see any questions so
where's my no questions here
and no questions here cool then the next
one so what is our this is also a nice
topic and I think two hours from exo we
discuss really it as already hitting
discussions because if you start with
this discussion the next discussion
would be should you know should the
objections parameters should be a
type-safe or not but if we start with
this it will be significantly longer
than one hour so what is in your opinion
the Prophet way to handle service
versioning Forest Service's I would say
to two ways either use the entry point
use the URI the Ori is the version
number so it's a you have hello war / v
one for diversion then i would use
semantic versioning / resource name this
will be the first one the problem with
this is if you change the Ori you will
effectively have to redeploy all your
clients so but still in enterprise
environment or in controlled environment
it could be the simplest possible
solution why does because you would
probably have to deploy declines on the
server at the same time so which is
actually great so you will break the
clients but if they have to be
redeployed anyway this is actually even
better in internet environment you
cannot do this so I'm in internet i will
just go with the standard like hello
hello / resources with not version at
all and then i will ensure the backwards
compatibility not with versioning rather
with tests so i would try to keep all
these services as backwards compatible
is only possible with automated builds
is probably something like a metrics
built on Jenkins so we are running next
question we are running a java
application with thousands of EG bees
and it takes 10 minutes for server to
start up these were actually remarkable
so this is what it actually means if you
would have a hundreds of EG bees let's
say it will take one minute to start
which is also my my
my experience but usually in ACB
architecture if you have let's say 10
components you will have in best case 10
EG bees and if you have an inverse case
i would say about 20 because some
controls would be asynchronous Oh we'll
have to implement it asynchronous
annotation or you would like to have you
know a singleton egb startup singleton
or something like this but thousands of
each piece looks like operating system
to me so i would rather in this
particular case think about what can be
simplified and i'm pretty sure in this
particular case you could delete about
fifty percent of the source code without
affecting the business logic usually
because thousands of each piece is
really hard to believe what happens
behind the scenes it looks like i don't
know an operating system so I'm make
worse smaller convert the ear to others
even here you see with three different
projects referred so I would convert the
ears two wars and then I will probably
take 106 minutes and then make the just
convert some EG bees to poachers if it
was really the issue because what each
piece actually are our poachers with
aspects so if you don't need the aspects
just use pojos but i'm actually a my
projects kind of had a problem with eg
bees if the deployment was slow usually
the problem was the persistence and
creation of prepared statement stuff
like this EG bees were not the issue
what can also be classpath scanning so
if you have CD or something you know all
the all the class pass has to be scanned
what you can do you can restrict that
you can say scan only this in java is
six you will have to use proprietary
features of wealth in us in java 7 it is
even standardized
so what is the most efficient way to
communicate between two micro servers
especially when one is deployed as
different Wars and two on different
docker images on the same host machine
actually this is what we already stated
and on my server on my server I have
about eight such a Wars and H docker
images and to communicate like they
communicate it doesn't make any
difference for me whether it runs within
doctor or not i use hazel cast for the
communications are what it could do you
can it dependence on your configuration
you could you can you could expose the
UDP port or something but I mean this is
just just usual you know business as
usual there's nothing special with it so
this question sounds interesting but do
you know the execution is is fairly
simple so what you can do you can just
we can just you can you can just deploy
your words to a doctor and then you can
communicate and of course you will have
to either link the containers or use
hazel cast for discovery because usually
docker images are isolated so we'll have
to to link them or or there is a pattern
come I think it's called ambassador
pattern in Dhaka so i will look at this
so what do you do for simple reporting
an enterprise project so we use
jasperreports a bird in the past in one
project i used this with a little bit
more than just simple reporting it was
called pentaho let's see is it still
alive Pentaho kettle yeah looks nice
so exactly so it was a Eclipse IDE and
what you could do you could this looks
somehow commercial but it was open
source and probably near hopefully it
still open source this is what i use a
long time ago bert and just peripherals
more more recently and usually for
simple business intelligence you don't
need anything so build you know and
single page app with angular and you are
ready to go if you need more more fancy
charts then use then use is called 3ds
data-driven documents from a javascript
framework and if you would if you are
allowed to deploy java on the clients
are we always use java vix because you
know is the charting and data binding it
is extremely productive ok let's see are
there any questions no questions here no
questions here and no questions and
chance everything crystal clear
so I think question answered so what are
the possible solution for API gateway in
Java environment specifically when there
are when there is a different Java upper
business line exposing rest api's so um
I don't think this is the gateway
pattern from a book what what is meant
here I think a stable something like
rest for set so what you can always do
you can implement a war which exposes
table API to outside world and you know
connects to the aldi back-end services
and you can't call it gateway so it's
actually an old trick it we did in korba
rmi and now you can do it with rest
nothing special with it you know it
virtual in case the DRS aps don't change
a lot of course if something you know
disappears in the backend services it
cannot be compensated in the in the
front end but this is what I would do
that possible solutions i mean just
implement this is really very simple in
one workshop someone asked me now what
to do should we should we introduce ESB
or something it's like what you should
first to implement a very simple
prototype with Java and I got the answer
it was actually great great advice it
was a lot simpler then then I actually
thought and they implement everything
with a view poachers instead using a
huge ESP so I got here a question from
Twitter let's see question 9 question 90
let and see I have didn't measured
anything on my on my linux box are you
standard hazel cast hazel cast it was
crazy fast if flattens he has issued
there was a recent I messaging messaging
solution I forgot actually the name
which was crazy so what they used to use
you know anticipate I p level you can
send messages and this was
low latency and several thousand
messages per second it was definitely
not Kafka but was something similar but
interesting point i usually don't have
such a problems usually so the
performance is just fine and what
happens in in projects usually the
people are really surprised how how fast
java ears and they assumed is too slow
on this day they search for work arounds
before before they even have a problem
so um I didn't measure the no specific
protocols but I use hazel cast straight
HTTP and this is crazy crazy fast or
latency a few milliseconds so and this
was fine enough for me and if you know
specific solutions I would just you are
to do more but with a few milliseconds
you get jax-rs and hazel cast is even
faster and what there's also interesting
project on github you can use JMS which
is mapped to hazel cast so um so you can
agree send messages which are
distributed with with hazel cast okay so
our tools provided by vendors are
centralized solution to api's um I don't
believe in such tools so i have to admit
usually what i saw in such a tools
usually pay off only if you have to
access proprietary backends that they
come with adapter so you can just reuse
the adapters but usually if you just in
the project you can implement with
straight Java is six and seven very
efficiently the combination of all the
backend services by the way what I will
do next this week I'm giving a talk at
Java user group dansk or dancing and I
delivered several talks about micro
services but they were very esoteric i
would say i'd yeah what i will try in in
Danzig you not to implement more of the
stuff just no slides and just taking all
the time and using you know Java 8 in
Java 7 and implement some time out
coordination of
win wars and stuff like this I will do
it actually the first time because seems
like there are some interesting
microservices so if you like come to
dance Cora tanzic and see you there ok
yeah this is also my opinion nobody
understood them yeah probably it they
were easy to understand but how to use i
would say they generate lots of code or
you know they did the ID at the day
coordinate something and and and there
is some terrible terrible stuff like I
forgot you have to know the implementer
logic between in the script let's
without any possibility for tests or be
careful with such tools and implement a
proof of concept first and then look at
the tool so if you think if you think
you are not productive enough then look
for for a tool and then then you know
compare the productivity so I get again
a question from Twitter yeah this is
this is what other men do you have ik to
API and this gateway paper provides us
more stable more stable or more here
more stable access to the backend
services I would only do this if you
have no multiple teams and and and they
they cannot be easily coordinated so one
team just cares about the API and keeps
the abl stable if something does does
not work they they try not to talk with
the backend guys about our body problems
okay we have this would you use
collectors of a Jackson to create
manipulate Jason hustling asked me would
you would you use collectors of a
Jackson to see to create manipulate
Jason yes and and the answers you know
you have Jackson we have jettison we can
you could use how it's called jisun from
google so if possible i will stick with
the standard and use collectors if there
are easy to use with the relief video
case but if the jackson is orders of
magnitude no easier to use then then
collectors then I would have to rethink
man sir but this would be my general
case i would go with straight collectors
and java 8 before i use something
proprietary from jackson this is true
having that set in almost all my
projects in Jackson behind the scenes
without you know affecting the code but
this is what I usually switch from
jettison to Jackson and the reasons are
views like you know the single single
slaughtered array is always the problem
very good this is very interesting
question simple one but interesting the
question is what is better serializing
in arms with the ordinal or strings
where Jason usually the question I get
asked for jpa what is better no storing
the the index and database or the value
of the of the of the in um so then they
named the string actually like know you
like to store the red as a wet or here 0
and you won this is the question
everything has of course pros and cons
in the database if you know or rename it
and don't change the order the ordering
is of course easier to get if you the
problem is if the name changes you have
problem in the database via Jason I
would prefer the names over orders or
over ordinals or index numbers and the
reason is if you get a JSON object and
look at this you know what what's comes
over there over there if you get the
index you will have to resolve it
somehow but if you have lots of such as
stuff and you have something like an
hour lookup service the question is but
this is a workaround you know i would go
with strings first if you are lots of
enemies and you have to resolve them
somehow then i would then i would think
about the currents but i will use the
names in in jax res 0 sometimes you are
talking about your personal server so
and actually I prepared some images but
I stored in a folder i will at the end
of the shower we show you DD pictures
from the server and probably try to find
you know dee dee details so and this is
a funny question it is true i built the
service starting in
the first one was 1999 and the next
series one was a tude cpu 550 megahertz
xeon and then they got better and better
and the current one is the best one i
would say and there's very low power 80
watts and it takes the least amount of
energies the fastest one and really runs
like hell so a nice machine I will show
it later because it's a little you know
Christmas edition we could cover such a
stuff but thank you for the questions
really not very nice so I'm most of my
job at Vic's applications of composite
views and so the sub views have to
communicate with each other I hate
nesting controllers use a fix ml
injection I never did that actually or I
miss understood the question I think it
creates a strong coupling between the
views usually I would say I don't care
about coupling is always the question
what happens if you have the coupling
how likely is it that I view changes but
still probably right I use After Burner
fix it is really great so I'm
afterburner fixer project created by me
on a weekend and now it gets larger and
larger by the way there are hot news
afterburner news I was a little bit sad
because I got a lot of community
contributions with really cool stuff
with afterburner so I got you know a
support for qualify as scopes and stuff
like this and I rejected everything
because I couldn't see a clear use case
oh great code but no use case I rejected
all the contributions would I would I
found a solution actually so what I did
there is a branch called Top Gun not
only a branch in the top conversion of
afterburner all the reasons
contributions I accepted and migrated to
the branch and you will find in maven in
maven central actually two artifacts the
afterburner straight and afterburner Top
Gun and in the top can you get even
scopes from wealth and all the staff
contributed by the community so the
point being if you have any jection was
afterburner and you provide some tests
and it is well tested and clean coat and
no normal if possible no external
dependencies I will accept us as much as
only possible I will never ever asked
you the question what is actually the
use case for this and
it will go to the Top Gun branch and
everything else the corec after band
afterburner will still stay lean so this
is actually the idea so back to to you
what is the best way I still don't know
because I still investigated but what I
did I think two years ago is the
following so I had such a problem in in
light view which is a sub-project of
light fish it is a monitoring for java
and for java applications and we have
here the presentation dashboard and
let's see or applications ejbs let's see
what it is what i think it is so this RT
ejbs and i have a method yes extracted
as a table of the methods and there are
some pull statistics i think yeah with a
chart so I'm just actually we have a B
which is top-level view and presented it
contains method ins and pulls and what
happens here is the top-level presenter
actually instantiates you see here pull
view full view pool via several pool
views and and uses the just extracts the
presenters and that's something with it
so the method view does not know the egb
view and doesn't know the pool view but
the top-level present and knows about
methods and pools and I think this
coupling is ok because you know the top
level EG be presenter and it's
responsible for money for providing
monitoring data for EG bees and so it is
absolutely ok to instantiate multiple
pool and methods present us so this is
how i deal with the situation and that
don't think the methods presenter knows
the pool presenter doesn't have to
because it is it is actually d already
happens in the top-level presenter look
at the code this very old code is one of
the first applications know
first it is the M I just migrated parts
of right fish to m2 after burner because
I wanted to delete some code and yeah
and this worked really well ok question
the toota yeah I always do it and take
be a answered via Twitter
proof-of-concept compared with
commercial solution and you get you know
something to some numbers to see whether
your idea would actually work or not ok
and now I've the next very interesting
question from Karsten and the question
is so it seems like it there is a graph
of entity objects and the entity objects
they have inheritance and stuff like
this but they would like to depending on
the user there should be some type of
filter hibernate filters depending on
the user Karsten would show more unless
or display more or less instances of the
jeebies so um what means the entities
need to access the principal and the
question is how to do this and the the
answers first not possible with java ee
without any hex and this was actually my
idea for java 7 to provide entitymanager
injection for entities and this what
would you would need here service
injection for entities and this was
rejected because they say okay it is
there are some records that is actually
not clean and the life cycle is
different and everything is clear that
is the that is not very clean solution
but i still use it or needed in my
project so um what I what I would I
always did I try to store the entity
manager and kostner should store also
the principal either in threadlocal down
in transaction synchronization registry
transact
synchronization registry and the
entities could access this by using a
static utility so I provide a static
utility methods like a m4 entitymanager
or principal for principal and usually
within the static methods what happens
there either you access the thread local
to get your context or you can you can
access your thread synchronization
session how it's called session
synchronization transaction
synchronization registry so tsr and you
can access this with a jndi and I call
it in the green book where is the book
complex holder let's see whether I have
and I'm being context holder yeah
transaction synchronization registry
five years old men almost six so this is
the 1 &amp;amp; 0 rack Rack HSR uses afterburner
so question to rock HSR in the chat what
are building with the afterburner if you
can say it so I'm if you have some
project with afterburner drop me on a
tweet or or or or or chat message and
really I'm really interested what people
are building with this so so this was
the context hold down the first one
and let's see in this article now
there's in the book I use also the e/m
but you know what I mean you can you can
store these threadlocal your context in
this thread local it could be principled
so you can you have to inject it
somewhere for instance in interceptors
or filters or whatever and then store it
in a threadlocal and the entity beans
are going to be injecting the same
thread the thread local is a little bit
problematic because you have ruleid to
reliably clean up these red local
otherwise you will end up having memory
leaks or transaction synchronization
registry is even better because the
entities are going to be executed the
same transaction as something or no
putting the riveter principal 2d 2d to
the transaction synchronization registry
what transaction synchronization
registry is is like a threadlocal within
transaction so on you basically get a
hashmap you can store whatever like and
in the whole transaction you can access
your stuff so your principal and then
according to the principal name you can
no filter your your results okey perfect
questions here no no questions Oh
question phone from crooks each probably
have you ever seen success in enterprise
environment that required all services
to speak a single generic global
messaging model I think this would I
mentioned earlier the discovery
mechanism so all wars brought some data
to a hashmap that was distributed by
hazel cast back then by eh cash right
now would be a je cache and properly
hazel cast so yes we implemented this
but and of course in enterprise
environment of course because usually in
an enterprise environment you of legacy
boxes like z/os or as400 machines and
they usually expose the trigger stored
procedures whatever they have RPG and
Peele one triggers via mq serious cues
and you have to access the cue somehow
and use
then everyone uses em co serious so it's
forced to use em co serious this is very
common enterprise space the larger the
company then the more common it is and
include serious is actually not that bad
so you can configure the DD qcd demoting
differently so um I hope I answered your
your question so I saw it a lot but it
was clear necessity so there was not
like a noble specs it let's do it and I
would never do it just for fun like you
know introduce GMS because of decoupling
or whatever I just don't believe in this
ok so I think we covered our questions
which is remarkable still under one hour
16 question so I was really fast without
knowing in and now i will just switch to
full screen and i would try to find my
server and the matrix so if you so this
is actually the the power supply this is
the corsair ddr what i did so many
pictures you know if there is some
problems who can just buy in all the
parts and there's the Intel Xeon it is
the motherboard and the diesel cuts and
this is the empty chassis and the cool
stuff is it is actually the most the
most expensive part is the chassis it is
was designed by BMW SI and you see it
was in 2012 so it is actually in 2013 it
was in went online and the parts were
there were western digital hard disk but
it isn't true anymore there they are
samsung 840 SSDs and NM x 80 plus
efficiency great power supply and this
cpu xeon quad core doesn't exist anymore
on the market and thermaltake GT full
tower and Casilla course a
kick so I'm safe either 24 gigabyte or I
think is even a triple channel or a quad
channel I think triple channel do have
24 gigabyte of RAM and it was very cheap
so the whole moschino I think 2k or
something at most okay this was actually
my server it doesn't doesn't mean
anything anymore because it is already
three years old machines or now it's
probably cause i don't know 500 euros or
whatever so this was the actually
christmas christmas questions question
so i hope or a hope there are no more no
more questions here everything is
answered luckily no questions here no
questions here so i wish you a Merry
Christmas and Happy New Year and
probably see you in two weeks one half
week we have the whole week in Munich
again still seats available so we have
about 25 to 35 at andys so there is
still room if you like just register
today or tomorrow and see you there and
in January we have one session about
java 7 Java 8 so it already crazy stuff
what you can do with java 7 Java 8 and
one session about testing and code
quality you know how to build you know
when the boundaries too big such
questions get answered and of course
once lot about microservices i couldn't
stand the bus anymore so okay what it
can actually do whatever we do with java
is java ee are actually microservices i
will talk about resilience and whatever
reactive programming a bit but with
trying to minimize all the dependency
just with this okay is it any question
here Merry Christmas perfect so Merry
Christmas also to you and see you soon
or in January so there is already all
these lots for next year are already
actually set so thank you for watching
and bye
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>