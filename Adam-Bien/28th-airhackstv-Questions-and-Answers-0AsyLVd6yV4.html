<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>28th airhacks.tv Questions and Answers | Coder Coacher - Coaching Coders</title><meta content="28th airhacks.tv Questions and Answers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>28th airhacks.tv Questions and Answers</b></h2><h5 class="post__date">2016-07-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0AsyLVd6yV4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the reason why monday is actually on wed
wednesday this time are the exe Munich's
i am back from from two day workshop
testing and microservices and
announcement there was some sick
attendees and they want to attend later
this year so today i introduced the
testing and deployment so it would be
going to be in december the 16th ok and
and during the microservices workshop i
just mentioned briefly that i'm building
a new server and i got several emails
from the anti DC where you would like to
see the part lists prepared some things
that introduced a new point in our
question and answer show so welcome to
the 28th edition of hex TV so we will
start with java ee news as always and so
the breaking news is the register this
is the website obviously an interview
Oracle and Oracle said that Oracle is
committed to Java and Java EE and this
is also interesting here there's a
spokesman from Oracle Mike Miller said
Oracle is committed to java and has very
well-defined proposal for the next
version of the Java specification and
Java 8 that will support developers as
they seek to build new applications that
are designed into using micro services
which I'm already doing with Java 7 but
in Java H seems to be an even better and
on large-scale distributed computing and
container base environments on the cloud
and Oracle is working closely with the
key partners in the java community so i
didn't met this partner so i will really
interested who actually the partners are
so on I asked around but no as no one is
informed what's also interesting java e8
is supposed to be developed in the java
community
and there's no no real movement right
now so really interesting what happened
so it seems like Oracle drugs internally
on Java 8 and then we'll commit
everything at once at javaone with
announcement so it was likely back to
the old Sunday's were Java one was
really exciting because we got breaking
news at javaone so these are actually
breaking news this is one week old okay
so this is a somehow Java related also
what happened so there is a nice website
called micro profile io is arm or it was
at least so what's wrong with the
website here is it and they were
actually london java community group
this is a website Liberty profile so IBM
redhead Tommy tribe and pyara and what
they did to say ok let's define and
minimalistic a very lean micro profile
so a java ee 7 or 8 micro profile or
profile for micro services and and this
is actually in my eyes a nice move
because community sees that something
actually happens there's lots of
discussion so if you're interested join
join join the group and participate in
the discussion so on what happened so
far so we committed to a redhead and
Retta to jax-rs to jax-rs CDI and jason
p and this will be the minimal set of
specs and then the community will decide
will what will come to two to 11 so
there's the first version and even
things like startup time or deployment
size or runtime size may be defined in
the subsequent versions and this was
actually announced at the detonation so
i would just put it to the chat here oh
we have already lots of lots of
attendees again from all over the world
so if you
if you like just regular chat from which
country are the last time users all over
the world is always fun to see from
which country do people participate okay
this is what's micro profile and I
brought us a short blog post and if you
if you would start the screencast here I
actually let's see what they will break
down or not ah so life event was ended
so it doesn't work anymore but it was a
you have to find it this was the
36-minute of the life event and there
was actually the introduction of the
definition conference and yeah this was
the really interesting news and then go
further with with minutes so there was
an executive meeting JCP meeting in May
actually and many people participated
and what's interesting here they also
mentioned in Oracle's Java inactivity
and this is the future of Java EE and
this is interesting piece so i will also
copy to the chat Oh victoria canada
someone so and what there's a martin is
a well-known speaker and luminary from
the london java community group and they
said okay we are really concerned about
the future of java ee and the problem
which I don't not fully understand is
like Oracle as the AP in the GS ours and
therefore this hard to assign another
speck lead but there is a formal process
in JCP to take over an inactive spec so
it would actually interesting to try it
so if a spec is inactive and someone
would like to improve it in my eyes it
would be a way more productive to just
try to take it over and then put the
changes then wait until something
happens but but the the conclusion of
this meeting was then that they will
they will contact oracle management and
and then discuss what actually should
happen in the future so it seems like
the actual AP is the problem not
the intellectual property and not
actually the inactivity so I get lots of
questions about what is my opinion about
you know Java 8 coming late and the
opinion is very similar to let's say and
I would have to have read a blog post
about this and in that time so far but
similar opinion to know if iphone 7 will
kinda late so in my Eyes's iphone 6 or
any other smartphone is already perfect
and good enough and if iphone 7 will
know come later or whatever then will
come later is not like it's a huge
revolution as the same will happen with
Java 8 so in my eyes Java 7 is already
perfectly usable and very productive so
I'm really like it and if java 8 will
come later they will it came later is
like I'm not really waiting you know for
all the new features there will be some
Jason binding hopefully monitoring will
come out but without this feature we
will be still incredibly productive the
problem is the DD marketing or community
perspective in my eyes if nothing
happens new developers might think okay
Java is debt or whatever and then we
just ignore it that this is the real
issue not it will actually come late but
i'm really happy hour happy i'm really
curious what happens at javaone and how
the announcement would look like and
yeah whether they just say look this is
java 8 without JCP or what is going on
those are really interesting so i'm at
the at the last a hex 27 in hex i got a
question about remote and local
interface and i've wrote a blog post to
to explain why I think remote interfaces
have to be considered as duplicated in
and not use any more and and the what's
points down is actually whatever we are
doing right now whatever we are creating
our Wars so there are no more years
actually I never as a legacy projects
are using ears but the new project are
worse and the end point from war is
usually rest because it's required
anyway for for html5
and other services so there is and
remote is based on error my over aop and
on serialization so it introduces
unnecessary risks and therefore don't
use remote if you don't use remote you
only you also don't need local anymore
so I forget egb interfaces just go with
a single class and this is actually the
blog post and I would just put it to the
show notes as well okay so I was an
interesting or interesting and there was
some Twitter discussion it should be on
we have twitter here let's see oh this
was jose mourinho he approached me and
asked me about microservice middle of
the runtime and so forth and he got me
the idea because it is harder to explain
so what i did i recorded a screencast
and showed him the screencasts and what
he is asking what is actually the dee
dee dee dee size of the thing what is it
any worries is to someone de moreno know
and I recorded a screencast to explain
it and what it boils down to to explain
what is the actual hard disk size of a
java ee microservice so to explain you
this let's see what the doc is running
it runs sorry I have some some docket
containers running from yesterday so
from a micro service workshop let's pink
one let's say this one is so what we can
do let's say no let's take this one so i
could say dhaka history and put this one
and you see exactly how big the image is
so what you can see is 200 mix is the
operating system and some and and I
installed some additional utilities
another 200 mix then the whitefly is 140
mix and the unzipped whiteflies 160 max
so this could be deleted of course but I
just ignored because hard disks are
really cheap so this
could be actually deleted afterwards but
I don't care why you see in second then
three kilobyte is configuration file and
there is an startup script is another 11
k and now comes the interesting part as
you can see this didn't change for month
or weeks and this is the upper layer in
white fly so what it basically means
this never changes so regardless how big
this is in this case around 700 k minus
this one so just I was just too lazy no
one cares about this so let's say a
seven hundred megabyte is the as a size
of single application server image but
the cool story is it will only remain
war on the resides once on a single
machine so regardless how many white fly
microservices i will start this only is
recites one on the machine once at the
machine and what actually changes is the
war so there was an deployment award
deployment during the workshop as you
can see there are 10 K so if I will
create you know 10 or 100 images a day
there'll be hundreds x 10 k would be
around one make image size per day not
to know 100 x 700 mb so what it actually
means is java ee is really interesting
platform for microservices becomes it
comes with natural separation between
between infrastructure and application
code so there are no fed jars or fed
wars is actually an anti-pattern so what
we do in all I projects we strictly
separate the infrastructure from the
business logic therefore wars are are
are tiny and the deployment I'll
deployment times really fast so on quick
hack so if we go here to Docklands and
now build a new image so this is the
build time of this image so if we just
let's say so not nothing changed so this
is image still resides here but I build
white light pink
and this was the time to create it I
would just deactivate the cash so let's
do this so we could actually deactivate
the cash so you will see which has copy
dinners without cash and you will see
the worst possible no cash so there is
no caching involved is still very very
fast so if I would building out the
whole 700 mix it will be never complete
in 100 milliseconds okay this was drama
of the week you know I got lots of
conversation lots of any conversation
like is Java appropriate because the the
image size is a big as the truth is
there is only there is only one image
per application server version and
therefore it no one cares about this I
so none of my clients asked me you know
that we should reduce the hard disk
spice of a disk space of application
service now okay so this was the doc
image size screencasts this was my
server I think we are done with java ee
news not not yet i got an interesting
question from on a block about BCE and
he asked me okay this he had a nice nice
nice question and he asked me you know
we have a post and comments how to how
to organize them in with boundary
control entity and my answer was started
with the posts and just add the comments
to the post component but you have
watched carefully whether or not you
know the comments becomes more more how
it's called whether the comments will
dominate the post component then you
will have to extract it to do a
component called called comments so on
at the beginning I actually don't care I
put everything in one component but I
watch closely what actually happens and
in the process of learning of the
business logic I split the components
then include into in
pendant packages perfect so I think we
covered the news and drama and now go
with the server so as had got lots of
questions about the server seems like
hard waste is interesting again so
instead of which i'll show you how you
choose the hot vessel first i always
start with the cpu and there's an intel
page called arc intercom and i actually
not not started with this process ebu
this is actually longer story i started
with i think this one yeah so what I
wanted to do all my CPUs and my server
actually they are they'll use the
low-power Zeon's and the low-power zunes
are not as fast as the as the high
powers Ian's and what I wanted to do is
you know to create one machine just for
my tests know the servers are just to
play with so like no start lots of
chocolate containers or whatever right
now all my machines are reasonable so
they consume the least amount of power
and this is where my broken soul
infrastructure is running so the idea
was to create no to buy a new skylake
xeon and create a machine around it so
what what would I did I first had tried
to find out and know what actually
skylake mins enzian and it turned out
this v 5 processors are Sky lake and I
try to find a reasonable one and this is
almost the fastest one I think this one
faster but was not available so i bought
the machine and the most important thing
is the socket here so having the socket
i try to find the board and i always use
the supermicro birds and noticed idea
what a second notice the the the price
of the processor was foreign it 400
euros so now we have loosed the board
and this is pretty expensive one and
this is server boat or workstation boat
for supermicro and i always use these
boards because they were serve a great
or workstation grade boards so on this
board is it works with works with Zeon's
the current Xiwen Xian's was
cut and it comes with an interesting
think it is called pcie port which can
be used for storage and therefore I have
to service right now let's show you why
so this was my choice and then I bought
not this then I bought that so okay this
is interesting so let's buy a really
crazy fast SSD and this is not the
regular SATA SSD this is actually the
PCIe crazy fast pcie card and what I
found out that this cart and the current
xeon and my memory actually consume less
memory than my current server then i
revise the decision say okay so then i
need two machines and what I did then is
ok I need first and z on low power is
Ian so I decided to further this as you
can see L is for low power to dot 9
gigahertz hello param is 45 watts the
other one was twice as much and since it
runs you know a 24-7 it makes a
difference and you can see it is around
300 euros so it is surprisingly cheap
for for as Ian in year two thousand I
bought you know two core xeon enough to
pay to a half thousand euro i think and
which was you know five times as much as
now so and then of course I say ok then
I knew need a new chassis so I bought
this one which is beautiful and I always
buy the biggest possible tower because
there is no problem with the room and
the larger the tower they're easier to
maintain in a know you can build a new
new new ventilation and you can play
with it so it's always a tea export and
never server because I'm not building a
cloud I have a think three or four
servers there's no problem with the
towers and they are really convenient to
maintain so and then the next idea was
ok then I need a board with two pcie
cards and in order to make it right
compliant so um this is the bot it's
actually a gamer but it will arrive
tomorrow 200 euro still and and there's
room for
pcie cards and I look it up and you can
run them in rate for reliability so the
new server is going to be low power Z on
with a game aboard and two pcie cards
and 64 gigabyte of RAM actually and the
REM is Samsung REM so if you go let's
say supermicro and the board is x11 sae
i think exactly so what you have to do
then there is a certified memory list
tested memory list and you get the
vendor and i bought the ECC ram which is
the which is the most expensive one i
think this one yeah and i bought the
samsung and 64 geek we're around 400
euro so long story short I think the
whole server costs me up around 1500
euros and it will be considerably faster
than the current one and they will
consume less memory which is incredible
because on this machine what i will do
with the other one so i will have to
serve as low power 1 and and higher
power 1 and what the machine will do and
i will use it for for performance tests
and and just to start microservices
Dorcas warm and stuff stuff like this so
this is about the server so the gigabyte
board the SSD and the chassis which is
beautiful so and of course where is it
so some pictures so um what I this is
the this is the ram this is almost built
and what's interesting here this is a
knock to our cooler and with a huge
event and it is very very it worked it
worked for years so not this one but the
old one without an issue so this is
important to monitor g and to have to
run it cool and you see here here's the
PCIe card so this is how it looks like
this is the old chassis and the problem
why I need a new one because I have a
large power supply and is no more it is
no more compatible with this one
and what else would a second was it all
this one would pour for pictures yeah x
actly looks nice and yeah so and what i
usually do i have two or three power
supplies and I just test what what
consumes less memory and less memory
less power and then I put them in
production so lots of fun and yeah I
actually more and more clients ask me
about this and so a smaller companies
build their own server so it's not that
you know that crazy and if you think
about this my servers get cheaper and
cheaper and more and more powerful so in
my eyes private clouds might become more
and more interesting because the only
issues are power you can run on the
server now open shift or whatever or
whatever cloud like software to manage
your applications there will be no
difference between the real cloud and
your private cloud and I think actually
modern one of my clients think about the
own you know using the service again
in-house or on-premise okay I'm pretty
alone with the opinion because I know d
analysts thinking the ddd public cloud
is the big future but I think hybrid
approach might work so let's see so
Oracle says is committed to Java EE this
was the digester micro profit profile
announcement we had it and then
interesting one so i will just switch to
the gist is this question what are your
thoughts about white lights warm for
micro services and what i did so on I
just compared pyara micro with pyara
pyara micro is like white rice warm so
if you look at this sixty mix the payara
fool not web profile absolute full
profile is 120 so try as much sighs what
you think about this is 60 megabyte so I
forgot what the price of the PCIe card
was was around I think 200 or 300 euros
and i bought 512 megs which is actually
wait it was met 512 kicks which is
actually not required but what I will do
I will it is called over provision them
so I will just form a 25-6 gigs and for
for longer reliability but even in this
case I think I'm my current server has
127 geeks or 256 gigs available and
because of docker I just I think you
have ddddd hadas is almost almost empty
so I really none of my clients and also
not me we don't have a problem where we
need a more hard disk space and if you
think about this the payara micro a
white flies war are designed this way
that you package your application server
with the app so what is would mean is
you know d the upper liar would be the
biggest and all are the liars would be
timed tiny or even not existing in in
the worst possible case so and the
question is this is just Y to do this so
what why to know creates a whole server
on each commit for instance this is what
we actually do in my job a projects you
have a Jenkins pipeline each commit
creates an older a new deployable image
now if you i would use fetch RS or fat
wars the the images would be would be
huge and and and if my clients would ask
me why you are doing this to be actually
an answer and all my clients so far and
there are actually more and more plans
was this approach are really happy with
daca in java because of the separation
another issue with white fly with white
fly not with with white rice warm white
fly swarm is the following so they have
a generator which is interesting what
this basically means is you can pick and
choose your dependencies but then your
server or your runtime becomes a unique
snowflake so I'm I think a huge
advantage of full profile Java Yost you
know all application servers are very
similar even last wish is similar to
white fly because the share wealth
and bean validation for instance and so
what did what it basically means if you
get if you have a problem in your
project and you go to stack overflow is
very likely you find the answers but now
imagine I build you know my custom
server with my custom configuration
there are some class loading problems I
would say the chances are very low that
someone else in the community has
exactly the same configuration and then
I am pretty alone with my snowflake so
therefore I actually never use it and
but what I have to say is all my
projects are enterprise projects if I
will build a cloud or I would be a
Facebook Twitter or whatever netflix
then I will promise you revise my
decision because then you know I could
create my unique microservice save our
view megabytes or yeah a couple of big
megabytes and then if I run my micro
service what what what will happen done
then I could run it a several hundred
times actually several thousand times in
in the case of Netflix and then is a
considerable amount of RAM which can be
saved and money to be saved so usually
my project we have ten to twenty
processes or if you would like
microservices so whether we save you
know to one that makes or not no one
cares about this is so how cheap
actually the others okay I think we
cover the first question so I got a
question from anonymous and he allowed
me to to to to mention this without
mentioning the name so Java status he
said during my studies I Attila's Java
is 64 Crete creating distributed systems
to monitor IT infrastructure so and then
content expressed information of java
said you are part of and what I wanted
to say I'm not a part of Java guardians
and the reason for this is not because I
don't like them I have absolutely no
time to participate and actually told
Risa
I'm really sorry I won't participate in
your mailing list because it will kill
me so if I get more emails so the whole
story of a XD v is that I don't answer
the technical limits anymore but if I
would get guardians image instead and
you know there's a I have no interest to
create our Guardians TV so I'm not
participated here what would i watch
closely is the technical java is a site
but but not the Guardians but i think
that they do do a great work and I like
reason and and all the participants so
I'm just watching them and try to help
them whenever possible so so the she
asked me whether Java is verse pursuing
in long term and they're actually in my
eyes there is no java ee write java is
like the umbrella spec and the question
is is hibernate CD i weld GMS and
whatever pursuing in long term I think
though because I mean there are there
are lots of projects out there and if
you have deep Java in knowledge you you
won't have any problem you know to to
migrate your knowledge to something to
something else and there are lots of
books and resources in the internet and
even if java you would die in the next
22 years I don't think the next big
thing would be dead different to Java EE
okay then he asked me Jack stories and
restless and so forth so and he said
okay there is a full stack engineers
it's simply market of a specialized and
this is ok we have back end button front
end you have to use angular and GS
libraries and they are changing a lot
and this is actually what happens in my
projects so what actually happens we we
stop with the rest services and expose
the rest services to everyone or we use
jsf in startups mostly and plus rest
services so um so and and then another
team or the same team can use angular
what we want to use more and more react
for instance a nice small library react
to access the backend services and this
is like it is and for for the native
development we use electron java fix
like this so and this is actually this
the last sentence is last sentence is
important so actually the back end is
absolutely usable okay java and
javascript in my project always used
statically typed languages yeah and what
is what is my advice to javascript so
actually i use javascript in parallel
with java in the beginnings but at the
beginning of 1995 1996 you should keep
secret that do you have javascript
knowledge because it was considered like
toy language or even worse than visual
basic and and what's my opinion i have
to say i actually liked it so I like the
ACMA script five actually even performed
some workshops in Munich Airport about
JavaScript last year and this year and
why I like that because it was so
different so it was completely different
and therefore it was interesting and egg
mass script zach is X as X is six Ahmed
scripts six is a very like Java so it
remains real in Java and you can write
programs with it of course and i have to
say i enjoyed javascript of course no
typesafe but you can do this actually
because no types of you approach it
differently and you have different set
of best practices and with typescript
and with minimal effort you get pretty
good code completion with visual studio
safe from microsoft for instance and
yeah so i would say learn javascript and
with javascript and java i would say you
have let's say i was programming
language index I forgot actually the
name of the tob Wow Java is number one I
will yeah you will see tomorrow a block
about this Java's number one and
javascript is number seven so I would I
thought javascript is number two
but still with Java and JavaScript you
are a well-set I would not learn PHP
because it comes prior to JavaScript so
I would say learn javascript in java and
and you are all set and yeah then go
rank so go language I like it what's
also interesting is is Swift from Apple
it can also be used on on server side
and someone asked me at during the ax
which is my opinions about Swift on the
server and back then it was not
supported on the server but I have to
serve say Swift becomes more and more
interesting because there is a huge
company Apple behind and lots of
developers so it is as interesting as
going to me so and there's also an email
internal email so internal someone's
email about my opinion for action in
Java 8 they are right now not compatible
but if you use for instance completely
future so watch the microservices
structure for me so I do it actually so
what i do i use computer future with
managed execute or service not with the
fork join but if you use parallel
streams they are currently using the a
fork join framework which is not java ee
8 compatible so right now if you are
using parallel streams you should be
careful in a java ee environment ok so
we covered a couple of questions and now
see let's cover some Twitter questions
so about monitoring someone asked me and
someone is this Kosta is it possible to
use to is it possible is it possible to
use white flight in the same way you use
glassfish light fish if not can you talk
about this I can talk about this is
absolutely possible and actually someone
from wretched wouldn't want it to port a
light fish to two redheads so it would
be absolutely possible and I just lost
my browser here is it and there is an
actually a project how cool are Oh
cooler whitefly and the popular project
is
monitoring project and it is somehow
similar to to light fish for it fro for
white fly so you can XO absolutely use
it and read the blocker that there's
actually well described what to do how
to integrate how cool are with with
white lie ok so we killed the tabs which
is a good thing so Twitter set oh please
don't write too too long questions
because it's really hard to to to read
it to do the attendees so somebody's
phone Saloniki Germany of course and and
USA so Brett occurs USA so I'm curious
how how late is in the US and in Brett
occur attended yeah x as I so thank you
for this in Munich so he came the oil
were way around from general yes so so
you know ask me may you write a book up
busy since you get so many Christian
powders so actually what I have to say
is so i use bc in customer project as
well and the whole documentation was
usually around I don't know two pages
and everyone satisfied with the
explanation and I also wrote a chapter
in the green book about this and in
project there are no questions left it
seems like my block is not good enough
so if I probably opposed would be enough
I cannot imagine that I I will be able
to write a book about BCE this book
would be a tunnel five pages long so if
you like something like this I could try
it but a screencast so I even screencaps
recorded so yeah and the questions about
bc is not the questions are about
disease or questions more how to
organize business logic are in Java
packages okay or have a look at Uncle
Bob's talk about this and I think the
uncle bob has a different opinion that i
have about bc i just miss use the
boundary control entity names
for my projects because before it is I
had my own names and this was disaster
because in all project I have to know to
justify my naming since I take the beep
boundary control entity naming no one no
one tries to rename the pattern so this
is actually my social heck to avoid
meetings so um sends out okay there is
okay I think now we come so what was it
actually so um if you have time for okay
my team is trouble managing and sharing
glassfish configurations for our
projects when a developer join us one of
usually spends one two three hours Wow
helping him get set up with Jan di
entries server lips xml configuration
files and the force so on it would be
really nice to reduce this setup
configuration to five minutes do you
have any advice ok so what do you need
stopwatch then where is my terminal this
is actually from the Blue Book so
there's not a customer project on
something so create x-ray domain it's a
little bit dangerous so what it does it
deletes a glassfish domain and recreates
the domain from scratch it should take
less than ten five minutes so now it
starts the domain and it's available so
five minutes is way too long so I would
never accept five minutes so it was 538
5380 and it's fully configured pi RL
glassfish domain so what I used here
just as admin as you can see i just
deleted domain crazy domains started the
domain created some JVM options
connection pools and GD bc resource so
for each resources one-liner so this is
the first thing you can do in real world
right now i do something else so i'm
using docker and each project gets an
own for instance here pyara configured
and Doc image and here you have the AAS
admin commandos and what happens then
this runs once then I get a
pre-configured server and there is
nothing to do so if I would for instance
inherit from this I think the payara
where is it pyara pink inherits from PI
are configured so if you have a new
project you only will have to inherit
from this and this is basically set so
now you should aim to one minute set up
or or 0 seconds set up with daca and why
it took 1 minute around 1 minute my case
because glassfish generates ssl
certificates and this takes a long a
time so someone asked me do you use dr.
for local development no i'm not using i
could use it but i'm happy with local
server ok i have it ok now next question
how to control the life cycle of sailors
EG bees so impossible actually I'm I'm
injecting some services which producers
in case the configuration change changes
I want each abused the new configuration
only so the issue is instances are are
cached or pulled so if someone injects
something to eat be it's the injection
is static so it happens once per
instance and it is never change again
you could use the instance so you could
do something like add inject instance of
string message and this is static and
then go and say message cat I think and
this is done in the method hello
something like this the issue is you
might end up getting memory leaks
because the because because each fetched
message will remain in the in the scope
of the instance so what is better with
eg bees if you would just inject the
configurator and ask and this is your
class and the configurator then is able
to return to return the instance the
configurator could be applications
called request scope or or or whatever
and this is like a proxy which then will
fetch from a database whatever like okay
and this is a nice one so the question
is there's an application so the Musa
says I'm implementing an e-commerce
applications Java 7 glossary serve and
so forth and the problem was you expired
and the question is how to deal with
that how to handle and it is actually
defined in the servlet spec and the
thing you are searching for is the arrow
page so what you will have to do is you
should to put in the web.xml page and
I'm sorry web.xml not page in the script
or a tag arrow page and this arrow page
tech can can then redirect to a to arrow
page or or to login page so um what it
actually means if the view expires if
the view expires usually means you there
is a really depends on the
implementation but there's least
recently used algorithm so or either the
session expires or there's no more room
44 all the states of the GSF so it could
expire so this is if you push you know
back and forth back and forward buttons
and this is actually configurable in
Mahara there is a parameter where you
can configure how many pages are saved
so how to handle this in web.xml
and what we also did in in projects is
there is I actually even showed us in
primefaces for instance there is an
inactivity yeah detecting activity it's
like in activity monitor i think monitor
in primefaces idle monitor so and what
it does is if nothing happens at second
you see no activity what you are doing
here or over here we heard do something
welcome back and after five seconds just
comes so what it could do you can you
could proactively actually see what
there is active on all day active reload
the page or redirect the user to D to
the login page this would be a nice
experience actually what would some
banks are doing for instance in the okay
I have a big monolithic java application
white lie so and and the question is how
to deal with clients so what he does
there's it produces application scope
client and this also application scope
so there's one client shared by or bi or
other client so I actually never did
this what i usually do i use stateless
session bean the client is created in
post construct and the web target as
well so they are cached parigi be and
even inverse possible case i get 13 or
cash clients if you get really 30
parallel requests but they are cached
and i actually always perform stress
tests and there was never a problem with
it so my advice would be you know try
the try first the worst possible case if
you will change this to all requests
coped each request you create a new
client perform a little really stupid
stress test with for instance a bitch
apache benchmark look with jay visual vm
how application behaves then change to
the most most efficient solution this is
yours and and see what happens then and
compare the results oh I'm already
thinking I don't think there will be no
a huge difference
and instead of application scope i will
use EG bees for this ok now let's say i
have a web app on glass before which
locks here in web app how can I serve
this log file in the browser so first if
you have glassfish what you can do is
actually white fly running or glass fish
you don't have to serve this because you
have access to the log files from from
the console and from the rest interface
already it is actually what light
flights which also does it so we have
here the server and we have here the
locks so you get deluxe directly and
what you also get directly you get
deluxe in the browser what you can also
do you can watch the HD locks using curl
or as admin command so and if this is
not enough what we can take a look at
call neck tours Adam bean so this was
actually example from the green book and
this connector is able to to to a server
file and you can configure the node to
read the file from from from the
GlassFish fold or whatever but I
wouldn't do this this is way too
complicated just just use the TDD
glassfish facility to do this ok I hope
it's answered if not if not you can of
course use no simple jax-ur as resource
we just exist if I directly and returns
that so so Java on autobahn nice all the
use of CDR bad smell so what he says is
everything is a CDI bean and they have
to use CDI because the ITX decided EG
bees are too heavy weight which is funny
because a jb vs. CDI k tub and what
actually happened Monsieur Somali Soph
watched my screencast about this is
effective Java indiscreet custody
workshop effective Java EE is a xio
workshop
and what he and what I did I compared
the performances egb and CDI and turned
out of course EG bees are faster because
of pooling and what he did it appeared
spring with a gb and CDI return out the
EG bees are the fastest technology so
far which is which is funny because I
know project we migrated away from egb
to be more efficient so and seems like
you're all your architects have similar
concerns so what a second were our gist
github oh just get up and and be nothing
and I'm being just lost exactly and we
make a little bit bigger and this is
this one okay so and and is it overused
yes so what I usually do but this is
just my way of implementing their stuff
in BCE I have one EG be with status
annotation and anything else doesn't do
not have any annotations no e gb is no
CDI nothing so everything is depending
dependent scope and works fine so what
it basically means so if you would get
go to that same I'm not looking Adam
being head lens so for instance this is
one of my projects let's say we go to
hear the cash boundary so we have the
cash resource and this is the entry
point and anything else would be
injected but here it's just too simple
there is not even injection so let's see
ah probably light fish itself so someone
asked about light fish this is the light
fish back end
boundary and we have applications
resource with injecting application
monitoring so we go to application
monitoring and this is an ejb which is
which just comes with that and then I
inject egb statistics collector and this
is gb statistic collector is probably a
control and this is nothing so there's
not evenly gb no CDI nothing so on this
is the typical architecture and in open
source and actually all other projects
like boundary is the entry point and
everything else's are just pojos in fact
the poachers are actually CDI managed
beans but I don't need annotations for
this and we use the scope annotations
and our request scope applications calls
whatever for if we build you eyes like
jsf then is needed and on the server I
never use scopes actually or really your
scopes sometimes if egb son don't need
it I i use from time to time application
scope for instance i think porcupine
project so everything will see the iso
try to avoid to use EG bees just you
know to for start-up purposes i use
application scope a start-up beam okay
so i think this is cold smell so I'm so
this is interesting so Julio Roja
khou.com said okay the ad problem with
eg bees singleton gets status for 15
unsupported media type and this works
for me so what I did I created a small
project singleton resource which is
singleton and if i go here
and just go to the singleton I got it
works so this seems to work so I can
weather this egb singleton or not
doesn't matter what does not work
interestingly is this so if this a sub
resource returns a list even if I've
rapid with generic list a generic entity
I still get the error so and this is
actually interesting and the error is
the message board of writer not found
for media type and so forth so what I
would do I will report the error to
pyara so uh seems like a back I'm using
a lot of sub resources I didn't bump to
DD arrow because I tried so I really
used this because i have to admit in the
recent projects we fully rely on Jason
arrays and Jason objects so there was
didn't use it for a long time such
something like this and yeah so you will
have to check it it will be interesting
if this is a list of Jack speed objects
you will still get the arrow and yeah
the go to pirate get help and peace
report the issue and yeah they are very
active so if you even did yeah if you go
to the payara guys and github you you
will see there did they never sleep the
committee and day and night so they work
all around the clock seems like okay so
this question covered and there was some
oh there's also uh alumni from from ax
and he participated a session in Java is
a group none back and I mentioned
something about logging and he says okay
if a request goes through five different
microservices how I implement logging in
that case so and what you could do of
course if you have a had a cookie JWT
token or whatever you can use it as a
flow ID and each microservice could use
for instance log stash or or or just
lock directly to Cassandra or a no
sequel database or sequel database and
then you get you know d your flow and
yeah but I have to say it is unusual I
cannot remember the world
ever invoke five microservices in a row
usually there's doesn't know to
Microsoft's will never five so this is
what we did so far and since I was
locking services always a good idea why
because in microservices I always use
docker if you would lock to a docker
image and you will remove remove the
docker image that lock files will
disappear and with log stash comes comes
with nice tools like cabana to get
really nice view with that and so on
what I also mentioned probably at the
Java is a group inland back what I if
there is no requirement for for locking
I just gather whatever whatever
interests me in in a singleton in a
store and exposed via rest so there is
no there are no log files somewhere so
but I'm can access the state of the
application in real time using HTTP ok
next question and so in this question he
asked me what so how do you monitor the
time elapsed during the execution of a
method so let's say we would like to
monitor boundaries controls whatever you
could use the Java Simon or Java mon or
or what you will do so I actually would
at it recently I implemented for a
client a interceptor which gathers the
the D monitoring data and sends CDI
event to a singleton which gathers the
data and exposes even I think
implemented something like this in the
effective Java EE online workshop so
this is what I would do and I would
because as you probably already know me
I if something is easy i always will
prefer another simple as possible
solution in this particular case i know
that is very simply to implement the
performance monitoring also what i would
do in this case i would catch the
exceptions create an an event which
contains the method with the exceptions
and this event could be could be
gathered by the by there by singleton
and then exposed via rest
what you get then is you can ask the
system and I'll show me methods which
recently threw exception or which method
through which exceptions and how often
so this is actually added value we get
easily get just by now putting
everything to a simple hash map and with
with Java 8 and streams is very easy to
create your own report so this would be
really a nice nice hack as you say is
our 11 lines yeah so questions regarding
BCE this is from k camp f5 so boundaries
on entry point yes CDI seems to be the
tool to put everything together and
building the application structure yes
yeah or e jeebies so I yeah an excited
the boundaries prevents them to be
processed by CD extensions probably true
yeah you are right but I have to say the
last time I use CD I extension is to
implement my own scope for Varden so
this for example makes buzzer to add
interceptors program has basically
extends to set those objects I'm not
sure because EG bees are technically a
CDI objects CDI managed beans as well so
technically it should work actually and
this is thing is big disadvantage of the
DC pattern because the boundary place
the center all and pattern and so forth
what is it being about that what they
have solution so if you really would
like to have CDI extension and you could
convince me that this is you will save a
considerable amount of time with OCD I
extension what you could do of course
replace stateless with transaction or
request coped or transactional scoped so
transaction scoped and then this year
this is the solution or or should our
java 6 or should it work and do i make
some kind of missing little conceptual
fault so again if if you really have to
have used the CDI extensions which I
really this is an absolute exception in
my projects then replace stateless was
request cope measure the performance it
will be a little bit slower ten to
twenty percent slower but I mean we are
talking about milliseconds not seconds
here
okay and by the way i implement in
something like this in oh who needs
aspects i think who needs aspects java
magazine article java gas in 0 to put in
the show notes in this article i
implement the CD extension which we
which reacted to naming conventions okay
so and the last question could you
comment on this presentation three hours
ago they had no chance to read the
presentation nine nines whoever it is or
whatever it is points from the
presentation java helps building
distributed monolith I don't even know
what it means actually yesterday in the
micro service virtual minik airport what
I started is with one slide don't
distribute so if you can you know stick
with a monolith and microservices our
ground so if a monolithic is to monolith
is too big or you have to put you know
more people on the problem then think
about microservices if not just deploy a
monolith this is my personal opinion so
and I don't even know what distributed
monolith means because my this my I
build the monolith it was never
distributed and there is no help from
Java either so actually yeah okay Java
has a threading model that isn't isn't
ideal for micro services actually it is
so what we did yesterday so we used a
synchronous jax-rs processing with with
Java concurrency and it worked pretty
well was a little bit John I also don't
know what it means and the threading
model is actually very good in Java why
because what you can do is very imp very
simple to implement throat link and if
you're interested in this justice just
watch the micro services online workshop
for instance or where
I measured the where a try you know to
break the server and connected with Jeff
visualvm and and try to to explain what
actually happens behind the scenes and
actually the application servers
glassfish v2 or v3 was the first server
with niÃ±o and great support for comet
and a non-blocking i also am i really
don't know what it means java doesn't
support the notion of data of the notion
of data in motion streams what did publi
means is reactive programming so a
little bit it does is also a yesterday
with completely futures but i have to
say none of my clients ask me about data
in motion so if you ask me such things
is really what is it you ask me what is
my opinion if you have nothing to do in
malaysia or what is my opinion if i'm in
commercial projects so in commercial
projects there's no such issue in my
leisure probably i would look at
something more exciting like Java but
right now I have no time for this
because I'm yeah lots of projects going
on java doesn't support a resiliency so
what resiliency actually means is like
robustness and so what you did yesterday
we implement it circuit breaker so you
could blake breaker bulkheads and and
actually all patterns we found was a few
lines of code without any third-party
libraries we stock Java and Java 8 and
there are no questions left and we had
about I would say around 30 attendees
from all over the world and I really
challenged them with questions and at
the end it just worked so therefore i'm
pretty sure it cannot be true yeah java
is implemented as containers we have to
web content a gb containers this is true
logically but at the end you to get full
profile application server no service
elasticity actually what I demonstrated
yesterday and this is so you see here
HHA proxy and what we did yesterday we
actually discuss
elasticity hands on so what happened
beyond the scenes I performed a stress
test and then killed one server then
started a new service and we discuss
elasticity a lot but there and Chavez
and even if you would look at commercial
as without Dhaka just look at the the
recent weblogic server they even
implement multi-tenancy where the server
itself can be partitioned yeah no notion
of immutability this might be true but
this is probably criticism on Java
itself not java I mean what is immutable
in Java Java is just API and in Java
yeah so this is what i think is out of
scope should choose choice of data
stores this is somehow true that is a
java is more about jpa but having that
set if you look at data and applause for
instance nucleus the dark so there's a
moose jpa you can access Cassandra HBase
neo4j Excel or JSON or whatever and if
you look at a thing is called morphine
right more yeah even morphia looks very
like should be an example here's the
earth documentation the morphine looks
fairly light
jpa so and then you have entities and
this is MongoDB and by the way there was
a Java one meeting I would say to Java
ones ago were the spec leads from JP
ages valid under michael and the others
ask the audience know what we can do to
improve you know the nosy crow support
and and there was really hard to find
anything so no out architecture why is
still calling it a platform this is what
a note I don't know what it actually
means and Java it doesn't know services
yeah but we are what we if we build
jax-rs resources we call them services
the question is probably yeah this is
like age did you rest api its service
API and and what I probably Java it does
not support assault very well because we
remove it this is probably what could we
meant okay so this is already this
already covered so I would just reload
this no questions so the most recent
questions I was not very well prepared
about this so I have no time to look at
the slides of video but this is
something going strange is going on here
and so let's look here so so yeah d mr.
ver mara have to wait until it's
available on YouTube it will be
available soon could you briefly comment
on my last paragraph or via cydia
Isabelle smell yes it is i mean over use
of everything is a code smell or bad
smell I mean just imagine yeah you get
new new developer on your team right and
the new developer is right after the
school or university and then the
developer you know sees 200 annotations
with one hello world methods it's just
not necessary so um i would say in my
boundary
control ngos my with this approach you
get one annotation on the entry point at
stateless or if you don't like steak Wes
you can do transaction scope or put
several annotations on it and and
everything else is just pojo so it's a
way simpler and if you can achieve
something in a simpler way whatever you
do in a more complex way in my eyes is
always a code smell or bad smell maybe
you have any advice or recommendations
on how to become a good java freelance a
good job of filling sir it's hard to say
I mean good job fuel and say you have to
like programming and really like Java
and then if you are old enough old
enough if you are you go spend time in
projects then then you will see whether
it work out for you or not but a good
job of free lindsay.wood means good job
of freelancers I actually am not only of
I'm a freelancer but I working as a you
know consulting I mean programming so I
think to try several things at the same
time this is what I will advise you and
yeah so Allah asked me what is the
difference between parallel stream and a
GPS and corners or computable future
without giving a mes so parallel stream
uses for join at asynchronous uses
internal pool so I'm just here and this
question and complete ibly future
without mes uses for joint pool as well
and what's the problem this Fork join
threats are globally configurable mes is
managed to execute or service can be
configured per thread pool also if you
enter it look at look at porcupine and
this is the basic differences on
application server you can specify
multiple thread pulls I also call them
bulkheads this is one of the micro
service patterns and and with Froch join
you have a global settings for for the
whole application server so it's not as
fine grained and these threads are not
managed so you do you have a can go into
issues with transactions
okay so um thank you for watching the
longer show but there are lots of
questions this time and yeah thank you
and if you like join in December there
will be no short no drug shops in Munich
before december because of workload so
this is the price of being food lanza no
time for workshops and but see you next
month the first monday of the month this
is in two weeks this time or two three
weeks thank you for watching thank you
for great questions thank you everyone
from Germany Canada USA and whatever so
thank you and bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>