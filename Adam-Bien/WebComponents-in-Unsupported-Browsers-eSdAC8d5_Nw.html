<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebComponents in Unsupported Browsers | Coder Coacher - Coaching Coders</title><meta content="WebComponents in Unsupported Browsers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Adam-Bien/">Adam Bien</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebComponents in Unsupported Browsers</b></h2><h5 class="post__date">2018-01-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eSdAC8d5_Nw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Adam beam and today I
would like to focus on browsers which do
not support web components and actually
custom elements and and shadow Dom in
particular so to demonstrate you this I
would like to start with the
implementation of a simple web component
and let's call the web component a web
component actually not a web component a
custom element extends HTML element and
I would like to have a constructor
because I would like to attach shadow
Dom to make it a little bit more
challenging for a browser this attach
shadow and the I would like to use the
open mode and would like to invoke super
so we have it then connected callback in
the connected callback I would like to
set the content of the element and this
is going to be hello with a value of an
attribute with a value of an attribute
and get attribute and the value is going
to be message and I would like to return
get observed observed attributes to
return first I would like to listen to
changes to off attribute with the name
message with the name message and then
what I can do I can register another
listener attribute changed callback with
three parameters name old value and new
value and I would like just to print it
out name old value and new value
so and in connected Colbeck I would also
like to print it out and say connect it
okay
of course so we have the component what
we will have to do is to register the
component and use the custom element
registry so custom elements define and I
would like to register the component
with the name web component and use the
class 4d registrate registration web
component so looks good so now I can use
my web component here web component and
my message is Duke then I can use my web
component okay
so hello Duke hello Duke looks great on
on Chrome we have two outputs Safari
message now do connect it also works
nice the deform a little bit different
but there is no message on Firefox is
their recent Firefox and if we take a
look at this it says a custom element is
not defined so and it does not support
so the Firefox does not support custom
elements so how to detect that so we
will introduce a detective script D tank
tour and I would like to load the
detector at the beginning in the header
source and detector and what I can do in
the detector I can say I will just set a
variable window and call it supports
custom elements and will ask whether
custom elements is in window and then I
can use this and I would like to use it
in the in my app script right before the
component is is defined and so I can
just say custom elements are defined
and then use my supports custom elements
so and true
Condor lock
so let's clear the console here and
custom elements are defined is true here
in the Safari and custom elements are
defined false so the Firefox does not
understand custom elements so what you
will have to have what to do is to load
a custom elements polyfill so I have the
official one custom elements Mint so
let's load that first so um I would load
the detecto script and then load the
polyfill and this is custom elements
MnDOT GS
so now it still works on on Safari on
the chrome no problems in Safari and
custom elements dot min Jas custom
elements min GS so what's the difference
in the Firefox the arrow is different so
we see this at edge shadow is not a
function so we have an ax next problem
so attach shadow desmos works in does
not work in in Firefox so how to detect
this this is a little bit harder but
still doable so let's try to detect
whether shadow Dom is supported or not
so in the textile script what I can do I
can ask the prototype of the HTML
element prototype for attach shadow so
why this because if we take a look this
attach shadow and this is the HTML
element so can ask whether it is
available or not and then I would like
to convert the result in boolean and say
okay it's a parts unknown and or not and
say window Dutch window that supports
supports share alone
and just shadow Dom so this should work
so what we can do we can just switch to
G fgs again and then say okay the first
one and then shadow Dom is defined it's
defined supports shadow Dom so we have
now shadow DOM is defined true here I
will have to reload add custom elements
and shadow Dom both are defined so it's
also true in the in the case of Safari
and we have custom elements are not
defined and shadow Dom is not defined so
what you can do about that
so we have to to load the next polyfill
for the shadow Dom and let's do this so
what I would have to do is shady Dom
mister name no shadow Dom shady don't so
let's do this script and shady Dom Jes
so let's see what happens so it works as
before with the chrome no changes in
Firefox and now the first time it also
works in Firefox so we see our custom
element we see that the coalbed worked
the connected callback worked and as we
can see the custom elements test does
not work or is this false and shadow Dom
false and this is only because in our
index.html we detect it first and then
loaded the polyfills so what we can of
course do reverse the order and then it
should be true as well so now here is
true in the and of course in in Safari
has to be true and now also in Firefox
it seems like the recent Firefox also
supports web components and it also
supports shadow Dom so thank you for
watching if your interests in web
and check out the online course web
components the training or the web
standards ignitor training and see what
conferences projects or even workshops
at the Munich Airport so thank you for
watching and bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>