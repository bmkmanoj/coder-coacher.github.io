<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Custom audio player tutorial 6 - displaying times | Coder Coacher - Coaching Coders</title><meta content="Custom audio player tutorial 6 - displaying times - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Quentin-Watt-Tutorials/">Quentin Watt Tutorials</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Custom audio player tutorial 6 - displaying times</b></h2><h5 class="post__date">2014-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mXeoK1004Rw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey YouTube how's it going it's Quinton
here
and welcome to tutorial number 6 and in
this tutorial we are going to be taking
a look at how to add our current time
and our full duration of our videos so
we're gonna take care of displaying
those on our audio player so if you take
a look at the audio player right now
you'll remember that we've got this
audio player here that we're able to
play and pause and mute and unmute but
our current time and our full duration
don't actually show when the audio is
playing so right now our current time
should be updating and it isn't so our
full duration we know must be 3 minutes
and 14 seconds as we can see up here in
these controls and we can also see that
our current time needs to update at
least every second so how are we gonna
take care of doing this well how are we
gonna go about doing this well let me
show you guys how and the first thing
we're gonna have to do is start
declaring some new variables so I'm just
going to break down two lines and we'll
declare all my new variables over here
so you guys will be able to see them and
I'm going to declare a variable called a
full duration and to be honest I think I
just want to call it I just want to call
it duration just like that okay and
we're gonna set that equal to document
get element by ID blah blah blah blah
blah that whole thing okay
and we need to grab it by the ID which
happens to be full duration right then
let's go let's duplicate this line
because the next variable I want to make
is going to be the current time so that
is the span tag right here and we're
going to paste that in there and paste
that in there so we've got a variable
for our duration and we've got a
variable for our current time now let's
take a look at how we would go out
displaying this kind of thing okay
so what I'm gonna do is I'm gonna grab
my duration variable and I'm going to
access the inner HTML property and inner
HTML happens to be whatever is inside of
the tag so the inner HTML of my duration
tag at this very moment is zero colon
zero zero okay and we want to obviously
change that using JavaScript so I'm
going to set that equal to something and
obviously what we want to put in there
is the full duration of our audio track
so I'm going to say my track dot
duration and this happens to be well
duration dot duration happens to be a
not a method but a property that we are
able to access in JavaScript and it is
going to give us the full duration of
our track but if I save this now and
come back here and click refresh you can
see we've kind of got this really weird
number here we've got a hundred ninety
four point three over five six four four
and what the heck does that even mean
okay well that's actually the duration
of our audio track in seconds and
milliseconds and of course we want to
display this in minutes and seconds so
how are we gonna go about changing this
well there are probably a few different
methods although this is the method that
I'm gonna show you guys and that is to
start figuring out the minutes and the
seconds before we display this so I'm
gonna create another variable called
minutes and I'm gonna set that equal to
my track dot duration divided by 60 and
this might give us a few decimal numbers
so what I'm gonna do here is close this
all in brackets oopsey close it all in
brackets
and I'm going to pass that as an
argument to a function called parse int
and what this is gonna do is take this
calculation okay so my tract and divide
it by 60 and if we get some decimal
numbers out of you know some decimal
points we're just gonna cut them off so
in other words we just round the number
down to the nearest integer okay and
that'll give us our minutes then I'm
also gonna create another variable
called seconds and this is going to give
us our seconds so I'm gonna say parse
int not that I don't not that I think we
need them but I'm just gonna do this in
case and I say my tract dot duration mod
60 and this is gonna figure out how many
times or how much of a remainder we have
after 60 has gone into our duration so
in other words we should always get a
number less than 60 and that will
obviously give us our seconds as soon as
the seconds get high enough to be over
60 we're gonna have a minute instead of
a second so that's kind of how I work
things out and then all I do here is in
my inner HTML is display these minutes
plus and I'm going to put a colon in
here and then I want to say plus seconds
and what this is gonna do is have my
minutes on one side of a colon and have
my seconds on the other side of the
colon okay
so now when I come back here and click
refresh my full duration is displayed as
3 minutes 14 seconds and we know that's
right because HTML or the default HTML
player that I've put here in Firefox
also says that the duration is 3 minutes
14 seconds so we know that's right okay
now we need to take care of this current
time and this is where things get a
little bit tricky because our current
time obviously needs to be updated
every couple of seconds so we're gonna
have to use a timer for this okay and
what I'm gonna do here is just create a
function called update and that is gonna
update the time every couple of seconds
so what we want to do now is first check
if our track has not ended so if not
ended my track so if in yeah if my track
has not ended then well we can go ahead
and do our calculations otherwise if our
track has ended our current time kind of
needs to go back to the beginning if
that makes sense
because once we get to the end it needs
to start over at zero seconds again okay
so what we have to do here is start
changing our current time so current
time which is a variable that we made
all the way up here if you guys can
remember dot inner HTML so our current
time is the span tag yeah and we want to
change the inner HTML of that and we can
get the current time of our audio track
or of our video by saying current time
inner HTML must be equal to my track dot
current time right so this will give us
the current time of our track and if our
current or if our track has ended then
what do we want to do well we don't want
to update our track anymore we just want
to say current time is equal to see zero
point zero zero so in other words our
current time needs to go back to the
beginning ok but this function on its
own is not helping us just yet because
we still need to call it every half a
second or every second while our track
is playing and the only way we're going
to know if I try
is playing or not is if the play button
or the pause button has been clicked so
what I'm going to do here is every time
we start playing our track I'm gonna
create a timer so I'm gonna say here I'm
going to create a timer and I'm gonna
call this time or update time so that is
my timer and I'm gonna set that equal to
set interval and it's going to call our
function update so that is where this
argument comes into play and then it's
going to call the function every half a
second so every 500 milliseconds which
is half a second we are going to call
our update function okay with this timer
so set interval is just a javascript
word for setting a timer and we've
called our timer update time now
whenever our track gets paused we need
to be able to stop this timer from
running so I'm going to stop this timer
by just saying window dot clear interval
and then I just have to give the name of
the timer that I want to clear so clear
interval is just JavaScript word for
clear the time stopped that timer and
the timer that we want to stop is
obviously this one that we made of here
called update time okay and now if I go
back to Firefox and we refresh this I
should have an audio player that will
update time every second so there we go
but we land up having this really big
number here all this really weird number
and that is because we're still working
with seconds and milliseconds so we need
to convert that to minutes and seconds
in the same way we converted our
duration to minutes and seconds so I'm
going to go back here
and for my current time I'm going to
create a variable and we're gonna call
this played minutes and I'm gonna set
that equal to my track dot current time
divided by 60 and like we know we just
need to get rid of the decimal places
yeah so parse int will get rid of any
decimal that we have there and then I'm
also going to create another variable
and we're gonna call this played seconds
and I'm gonna set that equal to parse
int and that's gonna say my track dot
current time mod 60 and that is going to
give us the actual seconds so this gives
us our minutes and this gives us our
seconds and now we just have to say
played minutes plus and then we're going
to put it in our colon over here and say
plus and played seconds just like that
okay and now we should be displaying our
played minutes and played seconds in
exactly the same format as our full
duration over there so let's take a look
and see if this works
well 1 2 3 okay so awesome this seems to
be working just fine and it's actually
the same time as this track over there
so we know it'll it's all working
correctly and that's actually where I'm
gonna end this video off so don't forget
to subscribe please feel free to leave a
comment like or share this video it's
really gonna help my channel grow and if
you like this video then go ahead and
donate on PayPal and I will see you guys
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>