<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Custom audio player tutorial 7 - progress bar | Coder Coacher - Coaching Coders</title><meta content="Custom audio player tutorial 7 - progress bar - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Quentin-Watt-Tutorials/">Quentin Watt Tutorials</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Custom audio player tutorial 7 - progress bar</b></h2><h5 class="post__date">2014-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KzWtJlcYOs8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey YouTube how's it going it's Quentin
here and this is tutorial number seven
and in this tutorial we are going to be
finishing up this audio player so I'm
going to be working with the default bar
in the background over here so this dark
gray bar and then the blue bar that
actually has to grow inside of that bar
we're going to be taking care of those
now so before we even get started on
that there is something I want to do and
that is I want to fix a bug okay so let
me show you guys what the bug is and
then I'll show you guys how to fix it so
I'm going to click play and jump right
to the end here okay so you'll notice
that when this audio track ends we're
still displaying three minutes 14
seconds so this hasn't jumped back to
0-0 and our play button is a pause
button and I mean why would we want to
pause if the video I mean if the audio
has already ended we want a play button
again am i right
so we're going to go take care of those
by just jumping back into JavaScript and
I'm going to say current time so in my
update function I guess I didn't really
mention that very clearly but in my
update function where we've got this
current time over here I'm going to add
dot inner HTML and then I'm going to set
that equal to zero point zero zero as a
string and that will change our inner
HTML of the current time so that's
pretty much what it was supposed to be
and I made a mistake in the previous
tutorial and kind of that wrote the
wrong thing but here we're changing the
inner HTML as well so we're doing the
same thing here except we have a fixed
value okay now what we need to do to
take care of that play button is to just
go ahead and grab the code for our play
button and that is going to change it
so whenever the video has ended take the
play button and change it back to a play
button instead of a pause button so that
should fix those bugs let's come back
here click refresh I'm gonna hit play
and we'll skip right to the end of the
video or audio and there we go okay so
now when our track ends the current time
gets set back to zero zero and our play
button becomes a play button again
instead of staying as a pause button
awesome so now that we've handled that
let's take care of the code that will
handle that bar so we're going to make a
few more variables up at the top of our
JavaScript file over here and the first
variable I'm going to make is going to
be called a bar size so our bar size and
this I'm going to set equal to the size
of this dark grey bar at the top here
and if you guys don't know what the size
of that is then it is 640 pixels so you
can check that in your CSS and if you
guys ever want to change this audio
player up so that it is shorter then
your bar length or your bar width will
be shorter so you'd have to change this
variable so I'm going to set that equal
to 640 because this is CSS so over here
we need the pixels but over here we
don't need the pixels because this is
JavaScript so we're just going to be
working with the number and then we're
going to make another variable and I'm
going to call that bar and I'm going to
set this equal to dot Q min get element
by ID and I'm going to set that equal to
the default bar so default bar and that
would be this bar right here so this div
tag and and then we're going to grab the
next bar inside of that so I'm actually
just going to duplicate this and we can
jump back here grab this ID so we're
going to grab this progress bar and
we're going to make that into a variable
so progress bar is equal to document
item by ID
progress bar and now we have our three
new variables that we will be working
with in this video so what we need to do
now is scroll back to this update
function because this is pretty much
where everything is going to happen now
because that bar has to be updated every
half a second or whenever this update
function gets cold so we're calling it
over here whenever the video is playing
so it's fine
so now we can go ahead and just add in
our code over here so we're going to
have some stuff to do when the track is
not ended so while it's still playing
and then we're also going to have some
stuff to do once the track has ended so
let's start off with what to do while
the track is still playing and what we
want to do here is actually create
another variable and we're going to call
this size okay and basically what the
size variable is going to handle is it's
going to handle the size of our blue bar
so jumping back to Firefox here our blue
bar right now has a size of zero so we
can't see it and if you take a look at
that in the CSS this is our progress bar
here that's our blue bar with a width of
zero and we obviously going to change
that with as this goes on and this size
variable is actually going to be
handling the width of this progress bar
so now that we've got that out the way
and all of that is been explained let's
start off with the size variable here
and I'm going to say size is equal to
parse int okay and like you guys know
this is just there to
of any decimals that we might have and
I'm going to set that equal to my track
dot current time times the bar size
divided by my track dot duration okay so
that is quite a intense equation right
there but what we're doing here is we're
taking the time and then timesing it by
the ball size divided by the track
duration and that basically just gives
us a percentage of how big that little
blue bar needs to be or a size of how
big that blue bar needs to be and then
we're going to go ahead and actually
start changing the styling for that blue
bar so that blue bar is called progress
bar let's grab that and I'm going to
have to change the styling so I'm going
to say progress bar dot style dot what
is it width so we're going to change the
width and we're going to set that equal
to the size so we're going to be setting
it equal to this variable right here
which is why we made it plus and we're
going to need PX on the end of here
because this is of course getting
translated into a CSS rule so we need a
number plus PX like over here we have 0
px for pixels we're going to have a
number here and px for pixels okay so
that is pretty much that done okay then
when our track has ended what do we want
to do well we're going to we're going to
set the he width of our progress bar
over here back to zero pixels so we need
to grab this and we're just going to set
it back to zero pixels so that can be
hard-coded in just like that as zero
pixels the next thing we need to do is
actually clear this interval so we need
to stop this timer from being called
this update time timer we need to stop
that from being cold not only when the
content is paused but also when our
track has actually ended so go ahead and
grab that and now our track has ended so
that should stop and yeah that's pretty
much it's actually hey I had to pause
and just check to see if that was really
it done okay
so now your update function should look
something like that and yeah if we go
back to JavaScript now or JavaScript
what okay if we go back to Firefox click
refresh and play this now we should see
our little blue bar in the background
here growing as the has the audio starts
playing so that's pretty cool and now
what we've got to do but I'm going to
handle this in the next tutorial is make
sure that we're able to click somewhere
on this bar and make the blue bar jump
to that location and the time of our
audio actually jump to that location as
well so I'm going to handle that in the
next video but until then thanks for
watching don't forget to subscribe
please feel free to leave a comment like
or share this video and if you found it
helpful then feel free to donate on
PayPal and I will see you guys next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>