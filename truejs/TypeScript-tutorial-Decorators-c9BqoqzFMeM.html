<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>TypeScript tutorial: Decorators | Coder Coacher - Coaching Coders</title><meta content="TypeScript tutorial: Decorators - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/truejs/">truejs</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>TypeScript tutorial: Decorators</b></h2><h5 class="post__date">2017-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c9BqoqzFMeM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this episode we're going to talk
about decorators we will see what they
are how to define decorator factories
how to use decorators with class methods
properties and parameters let's jump
right in at the time of recording
decorators are at stage 2 draft proposal
2 tc39 committee and even though they
are not available in JavaScript itself
we can use it as experimental feature of
typescript so let's see how we can use
them in our big envelope location we can
define decorators as a special kind of
declaration that can be attached to
request definition methods successors
properties and class parameters
decorators provide a way to add both
annotations and so-called meta
programming syntax for class
declarations and its members color the
truth that does not sound very clear at
first so let's go ahead and create our
own decorator and see how it works
since decorators are an experimental
feature of typescript you can I have to
go to our TS config file and we will
enable experimental support for
decorators we will set it to true now
we're ready to go and use decorator
inside of our code again you can find it
at github slash electronic slash rainbow
so here you go this is the syntax
we'll put at symbol and we will call our
first decorator component this is syntax
for class decorator we're going to see
few other kinds of decorators later in
this video at this point
component decorator is not defined of
course but this is the way we use it
with a class so how would we define
component luckily decorator can be
defined with a simple function
declaration so let's create function
component in this function will take
argument target and the target will be
actually our class itself so to start
with let's just print out target to make
sure that decorators are working in our
application put this at symbol so we
know what
and we'll print out target save it we
can see that compilation went through
fine and in case you're having any
problems right now this point and make
sure that you enabled experimental
feature in TS config go to the browser
and refresh the page to see it's dark it
gets print out if we check out the log
we can see that we have at symbol class
declaration itself our app class let's
see what we can do with the target how
we can use the decorator in the real
world to make sure that everything is
working as expected
let's also print this options value will
jump into the browser and refresh the
page so you can see we have options
empty object at class and don't be
confused by this compiled version we
understand that es5 gets into the
browser component a can take any
parameter it does not have to be the
object it can be just a flag and we can
have true or false here but in our case
we will be using options to make it more
realistic let's imagine that we want to
use decorator in order to define element
ID so what we're going to do for this
will pass object that will have ID sub
property with value rainbow now in order
to use it inside our function which is
decorator definition at the same time we
will grab target and we'll define L ID
on it and we will make it equal to
options that ID now we can remove this
line right here and before I explain
what is happening there let's go and
refresh the page to see if everything is
working fine we see some some problems
with compiling and
we'll figure out this issue soon but so
far we see those errors that we are
getting from typescript compiler but
application essentially is working ok
let's go back and debug the problem with
compilation you can see the same error
is happening inside of our terminal
well compilation is happening so it says
that element ID does not exist on type
app so what do we want to do we will put
back the aesthetic element ID property
on this class usually we can put another
type checking on options object as we
have done before will not create alias
but will just simply put ID it's a
string now we get in protection here
inside of our decorator options object
if you put numbers to let us know that
we are passing something wrong obviously
this is very simple example of using
decorator and but we can definitely see
the value if you want to add more static
information and somehow configure our
classes in typescript application so
this was the our first decorator Factory
and now we'll go ahead and create a
method decorator so inside of our app
class we have one method start on an end
and we can imagine that this method
became an innumerable property on the
prototype of app so to prove this let's
loop over F class prototype properties
we will log out each which property
let's go to the browser to see what is
happening in console log we can see this
line printed out which is saying that
start on an it is actually an
innumerable property on the prototype we
remember that in es5 we got an option to
define property figuration and we had an
option to decide if we want property to
be innumerable or not let's say for some
reason we want to do something similar
for our object but using decorator so
what we're going to do we will create
another factory decorator function we
will call it innumerable now let's go
ahead and create the actual function
will be similar to component decorator
function we will want to pass a boolean
inside so we can deter
if property is innumerable or not so
we'll call it exactly same way it's
going to be boolean just like in
previous example with component
decorator will return function but this
time our function not going to only have
target but also we're going to get
property key and property descriptor fix
our arrow function make it a little
prettier property descriptor itself is
going to be an object and we have a
standard interface provided by
typescript for property descriptor you
can see that it has several properties
and methods and we will be interested in
enumerable property we will try to
change it to whatever value we are
passing in so instead of our function
body let's change the property
descriptor property which is enumerable
and we will set it to the value that we
face at the end go back to the place
where we are using it and we will put
false here so now we expect start on
init method to be non innumerable and it
should not be printed inside of our four
envelope so let's go back to the browser
and see if it works or not and expected
we don't see anything inside of our log
which means at this time start on init
function is non enumerable we can also
test our decorator and pass through to
decorator Factory function now we expect
it to be printed again let's go back to
the browser and it's expect at this time
it got printed out let's refresh the
window just to verify that again yes it
gets print printed out which means that
our decorator factory function is
working fine so let's go back and see
what is happening here remember that
inside of the function that gets
returned from the initial call we're
getting three parameters which is target
property key and property descriptor
what we are doing here we are modifying
the enumerable property of property
descriptor object so this was an example
how we can use decorators with methods
now let's go ahead and see another
version of property decorator that we
can use with our AB class properties so
we can remove our enumerable example we
are done with it and for this particular
example we will create another property
and let's simply call it version it's
going to be string let's go our
decorator just a prop it's not going to
be a function factory decorator it's
going to be just a simple one it's not
going to return the function with the
operations right inside of property
definition so we will call little create
function prop our function will be
taking two parameters the first one will
depend on type of our property so for
now let's just call it where m 1 and the
second parameter will be a named name of
a property itself so for now we just
console.log those two parameters that we
are getting inside of prop connection go
ahead and see if it gets printed out
first page clean up our log as you can
see we are getting printed out two
things the first one is a prototype of
our app class why we can say so because
we have this function attached here but
we don't see any parameter is defined
and the second string is the name of
property that we have annotated with
decorator as I said this first parameter
is different depending on the type of
our property so in this case we just had
a regular public property version let's
make it static and see how it changes
our first parameter go back this time
you can see in case of static property
you're getting app class constructor
function so this is the difference
between those two types of properties
the let's decorator that we will be
talking about today will be a parameter
decorator which we will implement on our
start on a knit function and for this
purpose let's reuse this version
property that we had before it's an
input of start on an Ed function to make
it work left
that's something just for this example
inside of start on in it and this time
we will call our decorator REM as you
will expect you're gonna have to define
a function just for the clarity let's
rename this to X and this time our
function will have three parameters
first one will be prototype or class
constructor function then we will get a
name of the function where we are using
decorator for a property the third one
will be index index of the argument of
the function so we can see decorator on
version parameter and function
definition for the RAM decorator let's
clean up those couple lines everything
looks right so let's go ahead into the
browser to see what gets printed out so
as we can see we are getting app class
prototype start on it if that is the
function name and zero is the index of
version parameter that we are passing in
the function so it works the same way as
with property decorators if we change
the function annotation from public
aesthetic you will get class constructor
as you can see right here
in this video we found out what
decorator factories are how we can
define class method class property and
function parameter decorators with
another type of decorator which is
metadata and we will talk about it later
in our course so thank you so much for
your attention and please subscribe to
through Jas and talk to you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>