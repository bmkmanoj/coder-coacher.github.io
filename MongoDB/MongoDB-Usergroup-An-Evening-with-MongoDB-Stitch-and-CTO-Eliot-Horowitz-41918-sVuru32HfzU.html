<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB Usergroup: An Evening with MongoDB Stitch and CTO Eliot Horowitz - 4/19/18 | Coder Coacher - Coaching Coders</title><meta content="MongoDB Usergroup: An Evening with MongoDB Stitch and CTO Eliot Horowitz - 4/19/18 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/MongoDB/">MongoDB</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoDB Usergroup: An Evening with MongoDB Stitch and CTO Eliot Horowitz - 4/19/18</b></h2><h5 class="post__date">2018-04-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sVuru32HfzU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good evening everyone glad you're here
so tonight we're gonna talk a little bit
about MongoDB stitch and Molly the V
stitch is kind of an interesting new
product from long ago for those paying
attention it's a new product than beta
or working towards the G hey pretty soon
and stitches you know somewhere in the
between the serverless space and the
mobile back into the service space or
back into the service space but it's
actually a pretty different take so none
of those monikers really kind of fit but
the trends that have brought us some of
those things are pretty relevant so the
trends that I think everyone here is
sort of aware of and things that that
where the industry is going it really
starts about 10 years ago with ec2 all
right so ec2 was the first it was the
first time we were able to go and rent
servers by the hour before you better be
racking servers or maybe you can get
them monthly but they deal with ec2 is
now you can get them by the hour through
an API and that was a pretty novel idea
and made building applications starting
a company all quite a bit easier the
next thing was containers right so in a
few years ago containers started to
become pretty usable and what containers
really did is prevent people from
writing VMs managing operating systems
and you can use a container service and
deploy containers and it sort of a lot
easier to build things that way right
the next step was things like lambda
right from AWS it was not a function as
a service thing and with those things
like you do is get away without even
running app servers right you don't
really have to write an app server
anymore you just write your code that
would live in an app server and deploy
to something like lambda so that's
another another take on how to build
apps even faster without sort of
managing servers and images we're doing
something a little bit different right
the way we think about stitch is stitch
is really all about not letting you not
requiring you to write a query language
in rest so it's a little hard to
describe exactly what that means I'm
still working on exactly that the
quickest way to describe it so we
thought the best way to show this to you
is by doing a whole bunch of different
demos so we're gonna start with one demo
adding content and commenting to a block
so we're just gonna dive right in
so here's a my blog here is the is what
it looks like very simple blog you can
see the lovely content that's on it and
what we want to do is add commenting
functionality to the blog using stitch
alright this is just a static HTML site
that you can host on s3 so we don't have
any app servers we don't have a database
we don't wanna do anything like that we
just want to add commenting so here's
the HTML for our app it's a super simple
so what are we gonna do well first thing
we need to do is have an Alice closer
alright so I've got an atlas closer that
I already created if you want to set up
an atlas cluster it takes about three
minutes to create an atmosphere there's
a free you can use free out of this
cluster so it's all right there you just
go extend what up and the next thing you
want to do is create us to check the
stitch shops are right in the Alice UI
you go and create a new stitch
application you're off to the races so
I've got one already created over here
so that about so what I've done before
is I've turned on some features well
we'll come back to those in a few
minutes and what we're gonna do is we're
gonna take this getting started your
code and add it to our app dad
commenting so before we do that we're
actually gonna write the HTML we need
for our application for our comments so
we're going to put a given here where we
can actually go and put the comments
we're going to and putting it in a text
box where we can write a new comment and
we're going to put in a button to press
comment okay so now let's go and write
the stitch components
super simple HTML so we're going
literally just copy and paste this
getting started code alright put it over
here so you'll see what this code does
so first we load the stitch library then
we connect this app we're gonna use the
blog database then we're gonna login so
now what we're gonna do is actually
we're gonna log in anonymously I'm
logging in anonymously is not required
obviously but you can do it so stitch
supports a number of different
authentication nothing
don't have to right so for example we
support authenticating from anonymously
we have a built-in username password
system you can do Facebook or Google API
keys you can do something custom we'll
be heading sort of generic Roth and
sam'l pretty soon so you can sort of do
it however you want but for now we're
just gonna do this anonymously so after
we'd log in anonymously we're gonna do a
couple of things we're gonna store our
user ID we'll come back to why we need
that in a few minutes and we're gonna
store database and the database we're
gonna use is how we already have a
database for every that global okay and
then we're gonna display our comments
all right all right so I don't know I
need to write two functions so the first
time show you two right is it a function
to display comments so this is where it
gets very interesting as we hit the
database we have we're going to get a
collection right we're directly
accessing this collection from the
browser you know from the JavaScript
running in the browser we're gonna get
the comments collection we're gonna go
find on it and then we're gonna do a
fine that we can in this query we can
write any manga any query we want
alright it doesn't have to be something
special doesn't have to be a weird
variant it's just any query I want then
we're gonna execute this then we're
gonna take the results of that and write
some very old-school HTML and display
over the comments
then we're gonna go insert it into our
HTML okay and uh and we're done
close everything all right last thing we
need to write is a function to actually
go and add the comment so same thing
we're gonna take our document oops and
get the input text box and now we're
gonna go insert it same thing where you
can go directly to the collection we
have from before
insert the document now when we insert
the document we reduce we're gonna do
one extra thing we're gonna have an
owner ID this is a user that owns this
comment and that is what we have
variable you save before the actual
value is the value of the textbox after
this gets inserted we're gonna redisplay
the comment so you can see your comment
immediately and we'll set this back to
blank so you can add more now if I did
this right I can go and have comments
this works this is fun right so now I
have comments so it was how does this
work right so now I'm actually just
going and built this and you can go
right to this to the APIs console and
you can go to the database and you can
go see the data sitting right in there
and here are the here the documents in
there so you know so what do we actually
just do right so very quickly we were
able to actually write a query directly
in the browser that accesses the
database right the app logic to actually
go and insert the comment directly from
the browser into the database and we did
not have to write any any sort of models
or any rest api or any security code so
how does that all work well let's go and
make this app a little bit better right
let's go and say we want to have some
private data and understand what is
actually going on under the covers here
a little bit more so if we go back to
our application you will see that house
configured with a couple of different
collections so by default if you've got
a database connected to stitch you can't
access any data if you want to access a
collection you have to configure it so
the comments collection is configured in
this in this way so there are first are
these filters filters will tell you what
your lot to see so in this case you can
see everything right this empty query
means that you're allowed to see any
document in the comments collection it's
a comment so if they're public that's
sort of the point but what can you edit
so what you'll see here is anyone can
read any document but if you want to be
able to edit a document you have to be
the owner alright so your user ID has to
match the owner ID field in the document
and then stitch away what you write the
documents this way you can write it from
the web browser from any sort of one of
the stitch SDKs now what if you want to
go further right what if you want to let
a user read some field and not other
fields so let's imagine that we have the
same concept but now we want to store an
IP address along with every comment and
we don't want any regular users to be
able to see anyone else's IP address so
in stitch all we have to do is over here
we say that the owner ID field so the
comment field anyone can read it the
owner and the IP field you can only read
it if you're the owner so what's
actually going to happen here is if you
do a query and you get a document back
and you are not the owner it will just
strip the IP address from the document
or so you can just write your regular
Mongo queries in the browser and
automatically you stitch won't know that
you can't see those fields and rather
than just remove the field on the way
out if you try to do a query on let's
say you do try to do a query for
everyone who's got an IP address that is
a certain IP address or in a certain
block stitch will not act will not even
let you query on those fields all right
so before the query even gets executed
those fields will get stripped from the
document so you can't you know figure
out some way to you know nefariously
understand okay well let me guess what
their IP addresses and make it up you
can never know about those existence you
won't even know the field exists so like
it'll be as if the document didn't have
those
at all and you can customize this pretty
nicely right so you can say these fields
I can read these fields I can write you
can say things like you can have a list
of people who can share with so you can
have a document that has a list of
people who are allowed to read some
fields or write some fields all those
are very highly configurable there's
actually a new UI coming out soon that's
gonna make it even easier to configure
this and so the key here really is that
you can do all this really interesting
security stuff in a configuration so we
were able to write a rule that is
declarative that lets you they have very
fine-grained security control to your to
all of your data so you don't write any
security logic you don't the right sort
of wrappers for database queries you
just say based on a role based on a
document based on who's in a list you
know basically whatever rules your
application needs who's allowed to see
what and the rules really are sort of
the heart of every event about stitch so
so what is stitch so it's rules right so
rules really are a way to let you know
database queries be executed in the
database and directly executed from any
sort of device a web browser a mobile
phone and IOT device anything of that
nature a stitch has off built in so you
don't have to go and figure out how to
write Google OAuth or do all those
things it's all sort of built in right
there so you can just connect it to
whatever you want
it has functions so functions are
JavaScript functions that you can
execute that lets you combine and
interact with different services we'll
see that in a little bit as well it is
web hooks so you can actually configure
web hooks directly in stitch that sort
of do you know do a bunch of things
we'll come back to that in a second as
well and coming soon our database
triggers right so you can actually have
functions so JavaScript functions
executed inside of stitch as things
happen in the database so if a new
document gets inserted into a collection
you can trigger a stitch function which
will go and do anything you want so okay
let's take this a little bit further so
let's imagine we want to integrate our
blog with two Liam so what we want to do
now is allow people to send a text
message
through Twilio and have that inserted
directly into our our blog in the
comments so over here we have a service
we have a Twilio service hooked up and
there's a web hook over here in this web
hook looks like this that's the whole
thing
so what we're doing here is we're
getting the Atlas service from sort of
the overall context we get the commons
collection right this is the exact same
comments collection we were using before
and we insert a document in there based
on whatever the parameters are from
Twilio and so this is of course setup so
anyone who wants can go ahead and send a
text message to this phone number if you
send the text messages to that phone
number it will just go through Twilio
totally holes on the web hook - stitch
stitch we'll call that javascript
function that javascript sumption
function will go and insert that comment
directly into the database and if we
refresh this page you will see that
there is blog spam already so and as
people keep writing comments you'll see
that this will just sort of you know
someone figured out that you cannot use
scroll saw that cross-site scripting to
uh add some many things in there so
that's it right so now we've got stitch
connected to Twilio and you can go the
other way around so you can you ability
use database triggers you'll
automatically send a text message
through Twilio if a certain kind of
document gets inserted so anything of
that nature you can just sort of connect
very easily and write these functions
so by just writing a very simple
function right it was a five line
function and by configuring Twilio we
were able to sort of connect Twilio to
our app in a very very simple way
there's no app server there's nothing to
maintain
nothing sort of complicated there at all
so the things that we really care a lot
about other things that have been
changing a lot of industry one of the
clients really are very different than
they used to be right so most
applications today are either mobile
right you've got it and I've you know
some sort of iOS or Android device
whether it's a tablet or a phone that's
actually you know displaying your
information or it's a browser it's a
it's a full of JavaScript application
that is a big shift in the last ten
years and to take advantage of that you
really want to be able to write your
application logic in one place and not
have to sort of do this in two weeks
this is a pretty big change and so you
see quite a bit of stuff in the mobile
space in the JavaScript app space or the
IOT space a also a ton of things have
happened in the services so you know a
while ago if you wanted to do things
like do image scaling inside of an
application how would you do it well you
would actually go in five Linux servers
you go rack them in a data center you
download image magic write a bunch of
scripts to manage him to manage image
magic and build on now there's a service
obviously everything you want to do if
you're an image scaling or send a text
message or send an email or do sort of
facial recognition there's a service out
there for almost all these little pieces
and so applications tend to be composed
of lots of other services next is the
document model right the document model
is the most powerful model for storing
data out there it is also the model that
is used on basically every single REST
API and in every application because
almost everything is using JSON to sort
of transmit data to manipulate data
there's even people who are taking XML
and transforming automatically XML into
JSON so you can use it in modern systems
so the document model is very powerful
in this way so for example a typical
application used to look more like this
right you'd have an app server the app
server would handle all sorts of
different things
I want to stay in it ahead I'll be off
they would do everything you've got sort
of a thick clan and over the last you
know five to ten years various pieces
have really become very decomposed and
what happened the state is really now
mostly contained either in the in the
front end right in the JavaScript
application or in the back end in the
database app servers are really designed
to be stateless and as that's happened
all the various pieces of these
application servers haven't pulled out
at the micro services right so
applications are composed of third party
services like Twilio and internal micro
services so you can have a micro service
or doing all these things and the app
server is left with basically doing
security authentication and crud so why
so why stitch what are we trying to do
here one is that to tear dependencies
are hard right so every time you have to
manipulate you know add a feature to
your app and you have to go write code
in the UI and write code in the in a
middle tier it's just annoying and it's
simple to start but it gets harder over
time right you add a new feature you add
a small feature to an application that's
already in existence you've got to go
create a ticket for it's usually a
different team or maybe you're touching
different pieces of code you've got a
man to the dependencies all us up has to
happen in a stitch model you just define
the rules
alright the rules are the rules because
the data is the data and so you can
define the rules for who can see what
and you don't have to worry about sort
of these dependencies in the front end
in the back end nearly as much to the
database request you know no one wants
to deal with database requests and
there's like what the security is it's
hard to get the logic right it's hard to
understand exactly how to get a write
code to manage the Internet's
permissions and really in my mind one of
the biggest issues is that most REST API
s are a really crappy database query
language so what does that mean so let's
imagine you've got a website that lets
you do filtering right so it's very
simple you can choose different brands
of e-commerce site you can choose
different brands and models of things
and there's a REST API associated with
this query or at this page sheet right
it'll look something like this
some API call you'll have a bunch of
parameters on the API you know write
that query
it's simple enough you mean you write at
once it works and you're good to go but
now let's say you want to add a couple
of new features right you want to be
able to add a price range and you want
to add sorting so what do you do well
it's fine you add more fields to your
rest call but now what have you done
you're actually writing a really sort of
bare-bones and sort of not very
expressive query language in your REST
API all right you've written less than
queries and greater than queries and
you've got the sort of killed in there
you're basically writing a new database
for Korean language and so the question
is why why can't you just write a
database query and have the database or
a layer above the database handle the
rules such that you do the right things
and that's really at its heart with
stitches about right letting you write
database queries in JavaScript or on
your phone or anywhere where your
applications running have those sent
down to the database and with the
database - what's good at including not
just sort of simple reads and simple
queries but for additions right giving
group buys doing complex aggregations
and pushing those down to the database
with all the same rules so stitch looks
something like this
all right so the way would work is
you've got a MongoDB MongoDB database
right maybe hosted an Atlas you can
connect to it via shell via any other
Mongo tool via via any driver just like
you would in any other way so let's say
you start using citroen application you
build an application and you want to use
a driver for something you can do it
right in many cases I think stitch won't
be able to handle every single data
access method you need but if it handles
90% then you write 10% however else you
need to handle it and you can you do
that you're not locked into this sort of
like framework it's just an API it's
just a way to access your data so then
basically you've got a stitch app server
running in front of it you can write
queries against that stitch app server
from phone from a browser and stitch on
their behalf we'll reach out to things
like Tullio or s3 or any other service
out there so what are the key to
redesigning stitch what are the keys so
the first is mom gave me is fully
accessible so you have access to all the
mom going to be features that you want
alright so the full document model the
full query language the full aggregation
it's just a layer in front of MongoDB
it's not a different kind of a database
second all the rules are declarative
right so you write you write the code I
mean you write the configuration which
controls who can access what who can see
what kinds of fields that we've designed
it in such a you know our tests are
examples for making sure we're doing it
right or pretty complicated so my
favorite one is actually the medical
space ready to think about a medical
record the rules that they are pretty
complicated
alright the patient can see certain
things right the patient can read
everything they can modify their address
they can't modify their list of
prescriptions a doctor maybe can't
modify the address can't add a
prescription a nurse can change the way
the height they can't add prescriptions
they can do those sorts of things under
the billing or insurance agents you can
see maybe codes but not the actual
diagnostic diamond diagnostic codes or
other things other things like that
researchers can maybe see a bunch of
information but not actual names or zip
codes or any personally identifiable
information right lots of different
kinds of people who are accessing this
data all very easily easy to manage
alright so every medical record kind of
a list of doctors associated with it
alright so if your user ID shows up in
the list of doctors your house the
permissions a doctor does same with
nurses same with insurance and with
billing in a very flexible way right so
it's not just a a if I'm a doctor
anywhere and I can see everything no
it's very fine-grained who is my doctor
so you have a lot more control or who
can access what and these need to map
very well to rich documents right so you
different hierarchies different things
like that and different ways of
structuring the data and one of the key
things is this would be very hard to do
in a tabular world and the reason is
that you need to be able to embed this
information about who can do what we
need to get to embed information like ok
Who am I share in this document with who
are my doctors and then you have one
document that can really Express
everything about a medical record and
the doctor model really is what
possible and the other key thing is that
everything here is is JSON right it's
very standard you're not doing anything
weird it's the same document model that
you're using everywhere also belonging
to B it's the same dot n model you're
using in most applications anyway so how
might one you know you stitch what are
sort of the plate ways to start it so
those four main ways people might use
stitch so the first is just adding a
feature to enough existing application
right sir just what we just did I've got
an existing application and now on add
one feature on the side one way to
access data one way to write data sort
of a very simple feature addition the
next is a way to read anything so let's
say I've got a data set I've got an
application that's already existing and
what I want to do is expose that data in
a new way I want to give a some users
access to their own daemon I want to use
a third-party I don't know that a
third-party access certain data if a
user lets them and with stitch in unit
very easily so rather than writing a
REST API for every third party that
wants to go and access this data you can
figure the rules once and they can go
and write these queries do aggregations
and that's pretty nice and then by the
way instead of having your users have to
sort of take all their data how put it
somewhere else analyze of somewhere else
the data actually lives entirely in your
space right so you maintain ownership of
the actual data which is quite nice and
if they want to do queries and
aggregations those get pushed out into
the database that you control so there's
a lot that our control over where the
data goes and who's got you know access
to it the next thing I want to do is
integrate with services right you may
want to receive text messages send text
messages do you know how things
triggered off of database events or
anything you want to do some nice
integrations with some code the database
it becomes very easy and of course last
is you might want to use it just to
write a flow application right if you're
writing a mobile app you can just usage
as your entire back-end and never have
to write a different back-end so you
know the next thing we're going to do is
talk about you know what we talked about
a lot was the IOT security system so
what do we want to do here so what would
we want to deal with this security
system is right build it in such a way
that it's all stitch there's very little
code and you can buy everything you need
to build a security system at best five
or you can literally go to Best Buy and
build everything buy everything you need
for this for this application so what
are we gonna use so we've got this
button this is a logitech pop up button
right you cook this up it's on the Wi-Fi
and you press the button and it does
something we've got a d-link camera it's
like 90 bucks you buy them at Best Buy
it's pretty straightforward and we've
got a lockitron walk just a walk that's
all Bluetooth the Wi-Fi repeater
somewhat over there that's it right so
these three things and what we want to
do is use stitch to build a system that
if I press this button it'll take a
picture of my face and if my face is
allowed to get into my apartment open
the door
simple enough and we won't have to work
and what that is right there is little
code as possible and not have to use
anything else besides this and we can go
do that so the first thing we're gonna
show is how the the button works so the
button so the bug is hooked up to stitch
through if then than that so you can see
our if them and that applet here
so this is Logitech the logitech pop
buttons fully support an if then' than
that so basically if you press this
button it will go and make a web request
to my stitch application so let's go and
actually go look at the stitch
application what we've built so far so
first we've got a little really nice UI
for our security system so we've got a
few things here so the first thing
you'll notice is people who could login
as a list of pictures so let's go and
actually add myself so I can actually
get into my house so I'll take a picture
of myself
great now I'm at the database so that
picture is now stored directly in stitch
so if I go over here and refresh this
data I will see in a moment in a moment
that there is just a database of images
and the images will come back to that on
a second
so here is the image so it's got an
image ID it's got an owner ID that's my
user ID that's been lodged into stitches
and it's got the actual image data right
in hit in this case I actually the
base64 image data from my web camera
just going to roughly into stitch so
what what is the code for that actually
look like so this is all open source so
we've got it off this URL which will
send out later so you can go see how
this all works but there's a very simple
react app that does all this and of
course since it's react there's a
library for everything so there's a
webcam library so when we get any
picture of course we just get you know
right here is the code to insert that
into the stitch right so what do we do
we literally take the image source data
from the web camera and we just insert
that directly into the images collection
we set the author idea to of Armageddon
as that is why I have like it that's my
user ID and I say this is an active
image so that's that's how that works
the other pieces here are we've got this
button so the if-then then that button
calls this URL so that's what is living
right here is this URL and this URL is
just a stitch web hook with my user ID
attached at the end so it knows who I am
a sort of my like secret URL in order to
sort of unlock my door and then I've got
two other things that I can figure from
my application right so this is
basically a multi-tenant security system
it's a URL to get a picture off the
camera so if I actually go and copy this
URL um you'll you'll see this is a sort
of a picture that's coming directly off
that camera right now you know so if we
go face it this way and refresh it'll
work so that is a live stream off that
camera and then there's a button to
unlock the actual lock and we can go see
what that looks like as well
so so basically there is a URL that we
get from if the man that we created a
web hook and if that happens so the nice
thing is that lockitron directly
integrates at the end of that just like
the logitech pop button so it's very
simple you go and set up the lock then
you go connect that to if/then than that
and it knows how to do the API calls so
any so you don't have to use a lock or
unlock e who knows any lock any camera
or any button that if them enough
supports or you can use sort of any
other service like if than that that one
just happens to be quite simple so
that's that's pretty straightforward so
then what happens when you actually go
and press the button what's actually
gonna happen so what's gonna happen is
we are going to go and I just I'll show
you in a second so first sorry we're
gonna take a quick detour first we've
got our rule set up over here for images
so you can see is it's pretty
straightforward now great so now let's
go here and let's go looking at we've
got a web hook here and we can just go
look at it here so what we also do in
stitch is you can take all your your
stitch application and export it to a
set of files so you can just put it in
github save it and export it and share
it
so the actual stitch application is also
in the same github repo so if you want
to go and deploy this yourself you can
do that as well and you'll see over here
the actual web hook that gets called so
this is the function that gets called
when you press the button right press
the button it's if then on that if then
that calls this WebWork so what are we
do is walk through this code so first we
get atlas we get HTTP context we can do
things we're gonna use a service called
face plus paws for doing the facial
recognition you can use anything you
want he's in address recognition and you
can use this there's a ton of different
services out there this an API I don't
look nice to me so I did it
we connected to the right database we
are gonna log all these events so we can
sort of track who's entering our
apartment things like that
so we started doing that
we've set our different log entry now
we're gonna go and first find the
Settings document so the Settings
document looks like this and it's just
the same it's the same information we
can figure out on that webpage right so
it's got my user ID it's hopefully they
don't delete it
it's got my user ID the URL for the
camera and the URL to unlock ticket to
unlock my door so once I find that
document I'm going to find all the
images that are active so find the
images for me or active is true I'm
going to iterate through the images I've
got to convert the format slightly to
what the face false needs I'll make a
REST API call to face plus plus take the
result of that log in so I can see in
the database what's happened and
basically if the confidence that if face
false false is the confidence that the
person in that a picture is me was above
80% open the door all right so if I take
a picture and it's gonna kind of get
your face in there don't worry about it
I press the button the door will not
open we hope so you can't come in and so
we can actually go ahead and look at the
stitch logs and see what it said so
stitch you can go take a look at the
logs so this is what just happened a few
seconds ago
and you'll see that someone's trying to
hack into Maya it's not a hacker I guess
it's a burglar but you can see that they
are not allowed in and that's sort of it
the way it works so it took about it's
like two and a half seconds for the
button to go to if then than that to go
to the service the whole thing to take
about two and a half seconds sometimes
it takes a little longer so now let's
try it with me all right so wake up here
so what we'll do here is we got the lock
will picked up in a second so we'll take
the camera point it up myself
put that down and now this should unlock
I'm on
we come let's try it
was it unlocked already knows
well let's go see what happened in the
code you can see you press it twice and
our thing thinks that unlock the door
it's saying I was valid if we go and
actually look at the did the actual log
database we'll see two entries in there
now I guess three entries in there now
this was the last one and it's at the
confidence that was the first one we did
the last one we did it said the
confidence that it was me was 94% so
it's pretty confident that I was trying
to open my own door about the door to no
one to open so we're gonna try it one
more time and see if the this thing
actually wants to unlock so again we're
gonna take a picture of my face and
there we go
Wi-Fi is a little funny so now we've got
our security system you might want to
get something with a slightly better
Wi-Fi connection my subtle advice but
you can that all kind of works and so
now and of course now let's say you've
got a visitor who wants to come we gonna
lend to your apartment all you have to
do is you know take a picture of them
and upload them to your to your little
site here you can take your picture with
the route can of anyone you want to let
in and you can obviously do this with
Twilio also right so it'd be very easy
to add a feature where if they're not in
the database great instead of sending a
text message with text you can actually
send a picture text message of what the
cameras saying to my phone inside the
picture of me and say hey you know let
me in or not and do send them our text
message then unlock the door see that
wouldn't you the entire code for this
application you hire like JavaScript
code is 52 lines with a bunch of
commenting and debug code so to hook it
up to Twilio to add a bunch of other
features you know it's gonna add another
50 lines of code not a lot of code now
you've built a kind of a cool little
security system they can go and add
a bunch of more features here and the
great thing is because of things like
if-then on that and they smell awesome
all the other services out there you can
use it with sort of anyone who walks in
the market any one of the cameras on the
market anything that any of these
services is support so super simple as
they said all the code for this is is
there so you can see in in this sort of
export of this app sorry it's over here
you can see all the rules for the
database service right for the two
different collections we have for the
images collection and for the settings
collection all that's right here so
so that's where that's a lot of theory
to work in right now so there's a lot of
things that are coming and one of the
ones I'm most excited about is a new
versions of the rules UI or so the rule
to our idea is pretty simple we're
actually coming with a new version of
the rules UI pretty soon that's
basically gonna let you have a set of
you know it's it'll look like a table
almost where you've got different roles
across the top and then you've got
different fields going on going down and
for each role you can say who can do
what who can reach is an incredibly
simple UI so you can you very
fine-grained access control very easily
so if you want to learn more I'm gonna
go play with this stuff the first thing
I'd recommend is going and checking out
the actual code for this and we'll send
out the link for this so you can sort of
see it play with it try it you know buy
the components they're not very you know
you can get them and make it work and
again you can make it work with anything
you know if you want to make it work
without you know you press the button if
it's your face from the light bulb on if
I have a little bit more time I would
have setup if someone else tried to
break into my house if a siren go off
didn't quite get there but that would be
kind of fun as well the stitch stocks
you can go take a look at those and of
course count among going to be world in
order to sort of like it'll be a lot of
stuff on stitch and a lot of other
things sort of on MongoDB and you can
use the promo code stitch for a discount
for long it can be world so that's more
gonna be sick
I am very excited about it I hope sort
of give it a quick and brief intro and
sort of what it looks like and how you
might use it and see if they know and
ask questions and take it from there
Hey
so does anyone have any questions about
the amazing thing you just saw so far
those how we can give security
permissions if sorry if there's dynamic
use document is dynamic so the dynamic
fields so generally the dynamic fields
they fall under a couple of different
categories so one is let's say it's like
a ecommerce store like a product catalog
right you'd have a sub document with
like if it attributes and then you'd
have a list of attributes for a document
and then you can interpret the top-level
whether someone has access to all of the
attributes so that would be fine so you
can just say okay give everyone access
to all the attributes you can also set
defaults so you can say if stitch
doesn't know but a certain field what
the default is the default can be you
can't see it
read-only or you can write it so those
are the terms of generic tools you'd
want you can handle it I think you just
don't so so for example what a lot of
people might want to do is default it to
or the owner of the document can see
everything and the defaults for other
people as they can't see anything or
modify anything and then if you add more
fields that's fine
other than if you want to sort of expose
it a different way you just change the
configuration so sort of design for the
critter polymorphic pretty flexible
model anyone else
oh that's fine anyone else have any
other questions don't be shy okay right
in the back
if you have a security system based on
someone's face cats an intruder just
hold up a picture of that person's face
and get in or something like that yes
it's possible so you know if you want to
enhance it you can make a two-factor
right instead of automatically unlocking
the door you can have it send you a text
message and you know also a different
way yeah you could you know there's lots
of ways you can enhance it if you want
you can also you know do some sort of a
you know IR system I don't know depends
how how many people you think are gonna
look maybe like print a UH a rubber mask
of your face each other break into your
apartment is to be clear MongoDB is not
going into the consumer security
business this is for tutorial purposes
and hacker starting points only maybe
it's really it'd be a good fee like you
know your your office like your internal
office at your at your bigger office
which has a real security system but you
can also you know let's instead of a
face let's say you want you there are
also like plenty of consumer devices for
doing RFID well two different ways you
can do it also all sort of with the same
general model facial recognition is just
kind of fun any other questions don't be
shy like I said cool hey everybody let's
give Elliott one more round of applause</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>