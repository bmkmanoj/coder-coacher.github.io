<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using MongoDB Atlas at Onkore | Coder Coacher - Coaching Coders</title><meta content="Using MongoDB Atlas at Onkore - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/MongoDB/">MongoDB</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using MongoDB Atlas at Onkore</b></h2><h5 class="post__date">2017-11-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v8zwQcprH-8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's good to be here and I'm glad all of
you joined us from your busy schedules
this evening hopefully some of this is
what's well to you so you know we have
these clever acronyms in our technology
world and mean is probably one of the
best ones I think in my opinion and you
know for the next 30 minutes if you will
just indulge me and pretend that you
know the a stands for Atlas you know I
would really appreciate that and also
you know we are at encore we are not
really using angular so you know that
that's just fine a little bit about
myself you know I totally understand the
name could be tricky to pronounce it's
pretty much phonetic except for the ACE
the hint on ace is that you know if you
know how to say Rafael or you know even
Barack Obama for that matter
you know there is it just like that you
know say them like that vamsi like I'm
Sonny
pretty straightforward right although I
think Rafael is a little bit closer to
Barack Obama on the fame scale than I am
so I personally moved to the Bay Area
almost 20 years ago because people told
me that the weather is really good here
and so far you know definitely no
disappointments on that and also to
actually start a company right so a few
friends of mine we had an idea and late
90s was around the time when Java was a
new language it's like a new kid on the
block you know kind of like in a golang
right now right so we saw an opportunity
to leverage the the cross-platform list
of Java and create a software product
for telecommunications yet I'm a network
management and this company was
completely bootstrap self-funded and we
cruise the company and then later on one
of her customers you know acquired our
company that customer was funded by
kleiner perkins and they when trying to
become public so you know definitely you
know good first sort of experience for a
lot of us and after that I did a lot of
consulting for startups in the Bay Area
before settling on an interesting
project that combines computer science
with physics right this is some of you
may not know this but the world's
biggest laser beam is actually right
here in East Bay at United States
Department of Energy Lab called Lawrence
Livermore National Lab right
you can even get a to dolphin if you
like you can take your kids and show it
shows now you might be wondering you
know what the laser beam can do right it
can create high energy densities like in
the Sun and it's used for two purposes
one is to make sure that the nuclear
weapons that our country hazards are
still functional right because if you
want to use a weapons you want to make
sure it they're going to work right so
that's the main purpose of the other
laser beam a secondary purpose is also
to explore clean energy right so the
laser beam can actually make as a mini
stand in the lab it's called nuclear
fusion that's a physics phenomena that
it's able to explore so I spent almost
nine years there and as you can imagine
because a nuclear weapons lab a lot of
security emphasis is involved right
information security infrastructure
security data security and also write
software to actually control the laser
and fire the laser beams was kind of a
fun project and to analyze the data that
comes out of the laser right so you know
if you're a Star Trek fan star trek into
darkness into 2013 we'll actually filmed
on site where the laser was used as a
fusion core of the enterprise of the
ship so towards the latest year set at
Los Livermore I start getting you know
we had iOS coming up and Android coming
up and I started getting more interested
in the mobile application development
and I left the lab to take a position as
a chief architect at an enterprise
software company called CA Technologies
here in Santa Clara to build a mobile
security and mobile analytics product
and this is where I met Jonathan who is
the CEO of encore and he came to see a
through an acquisition where he sold his
company to CA and we got together and we
actually built a small team and MVP
write a minimal product and the product
was successful it was funded by CA and
it grew to almost 10 million dollars in
revenue by the time we left and the team
that we have at CA continued to strive
and do pretty well on this project so so
that brings me to encore encore we've
been at it almost fertile it's good to
be here and I'm glad all of you joined
us from your busy schedules this evening
hopefully some of this is what's well to
you so you know we have these clever
acronyms in our
technology world and mean is probably
one of the best ones I think in my
opinion and you know for the next 30
minutes if you will just indulge me and
pretend that you know the a stands for
Atlas you know I would really appreciate
that and also you know we are a town
code we are not really using angular so
you know that that's just fine a little
bit about myself you know I totally
understand the name could be tricky to
pronounce it's pretty much phonetic
except for the ACE the hint on ACE is
that you know if you know how to say
Rafael or you know even Barack Obama for
that matter you know there's are just
like that you know say them like that
vamsi like I'm Sonny pretty
straightforward right although I think
Rafael is will be closer to Barack Obama
on the fame scale than I am
so I personally moved to the Bay Area
almost 20 years ago because people told
me that the weather is really good here
and so far you know definitely no
disappointments on that and also to
actually start a company right so a few
friends of mine we had an idea and late
90s was around the time when Java was a
new language it's like a new kid on the
block you know kind of like in a goal
and right now right so we saw an
opportunity to leverage the the
cross-platform nature of Java and create
a software product for
telecommunications yet in network
management and this company was
completely bootstrap self-funded and we
grew the company and then later on one
of her customers you know acquired our
company that customer was funded by
kleiner perkins and they when trying to
become public so you know definitely you
know good first start of experience for
a lot of us and after that I did a lot
of consulting for startups in the Bay
Area before settling on an interesting
project that combines computer science
with physics right this is some of you
may not know this but the world's
biggest laser beam is actually right
here in East Bay at United States
Department of Energy Lab called Lawrence
Livermore National Lab right you can
even get a true dolphin if you like you
can take your kids and show it shows
laser beam now you might be wondering
you know what the laser beam can do
right it can create high energy
densities like in the Sun
and it's used for two purposes one is to
make sure that the nuclear weapons that
are so there that's uncut in a nutshell
for you guys so I think you know the way
you know when you've been a being a
consumer based mobile app right you know
the way you measure the effectiveness of
the app is that if people that actually
try to rap on the first day are they
even coming back right there's a metric
called retention rate and although you
know our user count is not that high
right now our retention is is very high
it's comparable to the top you know 100
150 apps and we're certainly encouraged
by that and I think you know for us you
know it's been wild marketing so far in
getting the user base that we have but
we are actually working with you know
both NBC and CBS actively to make ours
the official app for what some of this
shows like sir why would for example
right so I think you know that's what we
think is going to take us to six figures
and seven figures in terms of user count
and you know that's that's that's our
plan
so you know you've seen the video right
I'm going to show you some screenshots
of the app you know you can certainly
download it from the App Store or iOS or
Android and we have a game that hope
that was at 5 o'clock every every week
right now in a Bachelorette
there's a TV show called a bachelor 8:00
on ABC so at 5 o'clock Pacific time the
game closes you can play it but let me
show you some screens on how the game
works
so you sign up you know there's a lot of
you know we have billions on a piece of
social media accounts and you know there
is a lot you know chat and social media
features and some of these features you
know I'll connect it to how we might use
MongoDB to implement some of them in the
future
right now we're variable mining in some
way but I think this new features of
MongoDB their letters implement some of
these social features and you would join
a game and they would there is a
currency that's involved so let me
all right so you know if you see over
here right this is a chips that you use
an end entrance entry into the game and
then you would actually then use the if
you play well in the game you win this
call coins
you know what currency that you win and
then right so what you would do is you
know just like in fantasy sports right
there is this different positions of
players like a quarterback or you know a
halfback or a defensive position right
so we came up with these positions for
Bachelorette for example there's a
position called start position right so
depending on how the guy does you know
there's a bunch of things that he would
do that make him a start and then you
would win points if you draft him on
your team and then you can also actually
have questions answered you can like a
prediction question right so these
questions you have to answer them before
the show starts so this is stuff that
you would do before the show and on the
next slide I'm going to show you what
happens you know after the show or
during the show right so so this is a
case where you know one of my questions
that I have answered I turned out to be
the wrong question but right miss it's
wrong and I'm not I'm hardly an expert
in Bachelorette so you know I play the
games but I tend to lose them so you
know in this case you know this guy
actually did some stuff like things like
kissing or getting a rose so we got some
points there but overall if you look at
the leaderboard which is you know very
interactive change its you in the game
you know I play strength in this game
like I do most of the time so there are
all these shots that come and take my
money buy chips and you can exchange
some of these coins that you win for all
this profile the stats that keep track
of different statistics for every player
and and then you can actually exchange
your your virtual currency for gift
cards so this is the basic you know idea
of the game so having seen some of these
features right let's explore some of the
technology architecture behind it so so
we have these iOS apps and we have you
know some apps on the Android Android as
well and you know the basic architecture
that we have is finished
so this is like a 1.0 architecture that
we have you know as we have where's the
scale up you know I would imagine some
of this will we'll all say wall but for
now you've got you know the mobile apps
up there and if God we also have an
admin user and you know there's an old
back-end server and then there's MongoDB
so if you look at that MVP we actually
did the MVP in three different stages so
at the alpha stage for instance we had
all these guys right they were all
running on the same ec2 virtual machine
so that's our like you know alpha miv
not really scalable but it worked and
then we had a subsequent beta MVP where
we introduced Redis so we had those
running on the same VM but for Mongo DB
we switched over to Atlas and you know
with a with a small team like ours right
you know obviously you know development
and ops have to really work together and
Ops is as important as development and
you know you need to get it off scumpii
right and we just didn't have the you
know the capacity to hire somebody who's
dedicated at least half tempo ops so
we're really lucky to have found Atlas
which fill that need for us in terms of
in a database availability and
scalability and then and then you know
as this thing the Wold you know this is
see here right so so we talked about in
alpha mep we talked about the beta MVP
right so the final MVP i'm going to show
you right now but before that I want to
show you guys you know if you're
familiar with Amazon Web Services right
the common architecture is that you
would have an elastic load balancer up
there like up here and then you know you
would have these private subnets right
so you would you put the middleware and
you put it up your database in the
private subnet so so this is this is
very similar in how we built a rocket
texture so in at the bottom of the above
the stack you'll see in the middle
there's a node.js cluster right here
right and here and
got a Redis cluster here and then we've
got a MongoDB Atlas closet right there
right so this is the this is the system
we have and and I think you know as you
can see we also have this thing called
application load balancer make sure you
fake it
happy here so if you remember from the
architecture slide we not only have REST
API to our servers we also have this
WebSocket which is able to push data to
the to that mobile apps right so so
Amazon's application load balancer was
pretty handy in terms of being able to
in a load balance not just a rest layer
but also being able to load balance web
socket layer right and node.js is
completely using Amazon auto scaling so
we can actually grow and shrink as we
need the Redis and Mongo DB at last you
know are still not completely connected
with auto scaling and there's something
that we would like to see happen as we
go forward and you know you might be
wondering you know why MongoDB may have
made sense for us right so this is this
is a little bit of an explanation for
that you know when I worked at CI
technologies we actually put a tab with
the main stack but that product was
something that you had to actually ship
on-premise as well as for SAS right so
this is this has work in both ways now
if you ship something on-premise right
you have to actually with Nord for
example here we ship the source code
although I think there's options now to
compile it into a binary format but
generally speaking it's kind of hard to
figure out a way by which you could ship
node.js into an on-premise situation and
then the second thing is that you know
with MongoDB we had some concerns about
database locking right so if you guys
remember you know Mongo DB has something
called a storage engine behind it and
map and you know right now they have
something called wild tiger so the a map
storage engine would lock at the
database level which was somewhat of a
concern to us two three years ago so yet
CA we decide not to use MongoDB or nor
dare stack instead we went with
something called if the Cassandra base
stack but here it on code not only has
the global locking problem has been
solved through white tiger storage
engine but you know this is a completely
stash product so we don't have should
source code anywhere site so this that's
why the main stack will be you know made
a lot of sense for us here
and although I showed two nodes at each
layer that is just like it for an
example right because you know most of
you know that you know if you can get
the app to work with one node you know
that's one thing but once you had the
second node right you know to keep
something completely horizontally
scalable you need to figure out a way to
put the state in the database department
store in the database
so for us we keep Department State in
MongoDB that persist long term State and
then we use Redis where we keep the in
the transient State right which witch is
which involves in a WebSocket related to
state and things like that all right so
this is you know the basic architecture
that we have and so in terms of MongoDB
currently in terms of Atlas right these
are the features we are using there's we
use a lot of security based features in
terms of all basics control and I'm
gonna show us we're going to get into a
demo pretty soon which is probably the
most more fun part for some of you guys
but I'm going to show you the first two
aspects of Lamoure DB maybe not
monitoring but definitely the role based
access control the white listing and you
know we PC pairing is a little bit hard
demo but I'll just show you guys how to
set it up this is by in salute this is
if we go back to the previous slide V PC
peering is a way by which is the V PC
peering is a way by which your
middleware connects to MongoDB right so
this is like a private connection
directly that you have between your
back-end middleware and 100 DB and you
know I think this is something that I'm
not going to spend too much time on but
clearly you know you need to have a good
DevOps stack there so you know the
purpose of this DevOps stack is that we
want to push new features really fast to
our users maybe multiple times a week
and also if something bad happens we
like to know pretty soon really fast
right so this is we've built kind of a
slack centric stack monitoring and
automation that helps us you know really
keep track of what's going on all right
and you know there's other features of
Mahadi be like you know backups and
credible backups and being able to
resize the clusters that we've used
these are a little bit harder to demo
but I'm going to show you some
screenshots on some of these guys
so now you know Raphael actually talked
in the last meetup about in a lambda and
how to say cute MongoDB passwords in the
context of lambda right so I'm going to
kind of build up on what he did and show
you guys you know how we might manage
passwords in the context of a non lambda
context right which is probably a lot of
you guys are actually not yet in lambda
so all right so now for you know the fun
part some of the demos right let's see
so to begin the demo what I've done was
I've set up like a test a MongoDB
cluster for this demo and I've also set
up a test Amazon you know services
console so let's start with that first
and then we'll kind of get into a
command line demo
all right so so here you see you're
looking at a MongoDB Atlas account I set
up right and let's go here to the
clusters there's one pastor called mug
right pretty simple and by the way just
kill some of these guys all right so you
know it's free to try and there's some
features that are actually limited but
you know if you can try a lot of these
features and in here I've set up two
users so one is a user with a lot of
privileges and then the other is
actually a user that has read-only
access right so these are the user
accounts that we're going to use to
execute the MongoDB api's right now also
let me show you guys on the cluster
itself
there's a security tab right so here you
know these are the accounts that you
have these are actually the database
accounts right these are different from
the its console accounts so even in the
database right I have two users I have
like a mug app user you know which is
actually a has only a permissions to
read write to a database called mug and
then we have the admin user you know
it's got all kinds of privileges right
so now I'll show you guys how things
have different in terms of you log in
with which user okay so going back to
use user list here
so let's go to our command line okay
so one of the first things you like to
do right when you said I'm a mom or a
big class Serena they give you a
connection string which is an SSL based
connection string right so you grab the
connection string and then I'm going to
show you guys a script here right so as
you can see we have an admin user right
and then a non admin user right so I'm
going to try to log in as a non admin
user into my database and and see if
that works on all right so right now so
if I did just do MongoDB
oh that's edge I'm connected right and
then it gives you this kind of an error
because you know this non admin user
doesn't have certain privileges right so
if you do like you know Shirdi B's right
it goes it's kind of say you know this
user is not allowed to you know look at
the databases or anything like that
okay so now we're going to change this
MongoDB script and then we're going to
connect as admin users
all right and I think you know one thing
you may have noticed is that you know
the password right the password for the
MongoDB use it I'm not stealing the
script right because I'm using a tool
called credit stash it stands for
cashing credentials I'm going to give a
little demo of this tool this is an
open-source nor J's based tool that lets
you actually store your credentials in
Amazon's key management system or the
key store right so I'll to a little more
details about this one and keep in mind
that this is not anything Mongo specific
you know you can use it to be any kind
of tool that you have as long as you're
on Amazon they stack you should be able
to use this and okay so we have done
that and now if I go and log in as
MongoDB user and by the way all the
scripts aren't showing you guys and so
what I'm showing you guys I'm gonna make
it available in a github repository that
you can you know download and play with
it so as you can see you know there's no
error message at all right and you can
also do show DB's so you know it lets
you do more stuff that you know the non
admin user right now
now so having seen how role based access
control works for database users right
so now let's move on to accessing the
API of Atlas itself so Atlas has
actually a rest-based API where you can
actually control who can connect from
what IP address right so there's a field
called IP whitelisting where you can say
only from this IP somebody can connect
right so I'm going to show you guys as a
script that invokes a test API right so
the script is called API data stage so
again as you saw in there in the mo DB
admin console we have two users right we
have a user ID that's like an admin user
and we have user IDs with non admin user
right so someone actually run as a non
admin user actually doesn't matter so
in the first time I will just run as
admin user right so I'm going to run the
script call API dressage so what the
script is doing is I'll show you what
it's doing it's actually connecting to
the MongoDB REST API mama-to-be Atlas
REST API and downloading the list of IP
addresses that are allowed to correct to
the database in the first last way so
right now this IPS is being allowed and
how did I get this IP right this is
actually the IP if we go to get my IP
right so the Netflix Network actually is
present a tamango DB as at IP address so
so we have this IP as on the whitelist
you know for Mama to be Atlas to be able
to connect right now let's try and
remove this IP address from the
whitelist right now you can remove this
IP address and whitelist either by going
to the GUI console or you can actually
invert the rest API to remove from the
whitelist right so I'm gonna click go
and remove this IP address in the
whitelist and we'll see how what kind of
an impact that has on the Mongo shell
connection we had before
so this is the command to delete the IP
address
alright okay so this comment has
succeeded right so now if you run the IP
I peel the whitelist coming again you're
not going to see it anymore so I'm gonna
just go to can't comment on the delete
command because you've already deleted
that right so there's no IP whitelist
right so now let's try the Mongo shell
command that you were trying before it's
not able to connect anymore
right because IP wireless IP has been
taken out to the whitelist so you know
there's there's one more thing let's try
to add the IP address back right so I'm
going to try to add the IP address back
but not as an admin user I won't try to
add it as a non admin user right so
let's comment out this let's enable this
guy this is a non admin user like I show
you in the beginning and then we would
actually like to add the IP address
right this is actually the command to
add it
so this user is not allowed to add IP
addresses because this is a non admin
user so we can go ahead and kind of
change the this again
okay and then I'm gonna read on this
command here okay so it's been added and
then you should be able to do a MongoDB
SH again it's gonna take some time so
you have to give it you know like a few
minutes or so alright so let's see if if
whitelisting has been updated okay so we
got the whitelist back up there alright
so that kind of concludes some of the
command line scripting demo so I'm gonna
move on to a different so we saw console
and ap access and we saw how to get the
you know using white listing that we saw
those two so now I'm going to show you
guys you know how you might do some of
this in your noir das application right
because this is not just a command-line
tool but it's also an NPM module that
you can use so it's all this alright so
how do you how do you kind of in the
bottom line is you need to supper the
pass or somehow right so so we'll show
you some code on how to do that so for
that I'm gonna actually bring up an IDE
called webstorm which I use for node.js
programming you know I don't know what
you guys use but this is a pretty good
one so all the squat is again available
on the github repository but just to
give you an overview abduct code
structure right so we've got a mongoose
model right which defines a table called
events right so in on Cordina we have
events for Bachelorette we have events
for survivor for every TV show has an
event in order for us and you know this
is like really stripped-down version of
the real event we have an encore so it's
got just a name and description and you
know some app ID stuff so we define the
model and then we also define a
controller which kind of operates on the
model right so so what the controller is
doing is it's initializing the
credentials by you know using credit
stash grabbing all the passwords and
setting them into n1 root value
right so there's actually a config file
that says this MMR variable comes from
that Kane cred stash right this is like
a mapping of you know M on variables to
keys
you don't have to do this but this is
just a way to kind of keep the middle
separated in terms of the keys and the
credit stash and n1 variables you use in
India MongoDB code
alright so having done that so if you go
to here right so this is just kind of
setting there and Wang variables that's
what the integrates is doing and and
then we have a mocha test right which
you know I've got two tests here so this
test I'm skipping this test right now
but I'm just going to run this test so
all this is doing is just you know using
the controller and grabbing a credential
with that key that's all the string
right and I think maybe I can show you
the package or JSON as well which has
its dependencies we've got MongoDB
mongoose this is actually the npm module
let's use back read stash and then it
also uses the Amazon Web Services
JavaScript SDK to do its job these are
like you know promises and stuff that's
kind of supportive right so let's run
the tests here let's see if the password
can be obtained so yeah it actually
really did only they actually got a
passport out of it right and then so we
can actually let's skip this guy
and we're gonna enable this guy I mean
you could run up both the tests at the
same time I'm just running them
separately to show you guys what their
didn't definitely so what this is doing
is it is actually remember us show you
guys that energy setting those variables
right so this test it just prints each
of the variables as after it's being
said right so yeah there's probably not
much to see here actually no there is
there is right so you can see that it's
printing this do babe it is variables
that it is actually set up right so
that's what it's done I think we're just
spending the the Mambo you are all
variable we're not reading the password
right now right and that leads us into
the main sorry about this I should have
stopped these guys okay so let's go to
the main application or J's which is
right here alright so in the main
application or J's we are actually the
control that we saw that we tested with
mocha you know we're importing that we
have the event model and you know some
of you may be familiar with this single
I think f8 which is a new JavaScript you
know es6 paradigm that frees you from
the callback hell right so you could
just you know write your javascript code
just like you write a Java code you know
very sequential and it waits for you so
what we're doing is we are saying you
know hey wait until the credits are
initialized and then make a connection
to MongoDB and then make a new event
object right and then we save the event
object and then we find it
and then we print it this is this is
basically either the the steps there I'm
going to say I just changed a little bit
right so let's call this as you know
all right so we made a new object like
that and let's just run now okay so it
finished it and it also actually printed
the description and then if you if you
were to go to Mongo shell now
see that desire lightly I new entry into
the events table that we have actually
done it from our odious court right so
what happened there was you know the
nerdiest code in a utilized credit stash
to grab the passwords from the from
Amazon key management system and then it
connected to the database it added an
entry so so hopefully this you guys have
a good feel for how to descripting or
how to do from nor discard and keep the
password somewhat secured in the Amazon
key store using credit stash so let's
see here if there is let's go back to
the presentation okay so you know if you
were using if you're an Amazon mom is
not right so I think there is the way
you know security watching Amazon is
that every instance can have something
called an instance profile and so what
you would do is you set up the instance
profile and give it some permissions so
it so it can actually access you know
the Amazons key management system and
therefore that instance is able to
actually make create stash calls back to
the key kms get the passwords and then
make connections MongoDB right so in the
in the git repository I've actually
included and see if it's can be for I
think maybe it from the Cameo line okay
so just connected here see this file
called credits - I am policy right if
you look at this policy now this policy
actually you know science permissions so
it can the instance can actually grab
data from the Amazon kms alright so as
far as bpc peering is concerned you know
i'm i won't be able to demo it
completely but i'll just show you guys
you know how you might set up a PCP
right so if you go to the arrows right
so here you could actually do go to
clusters you can go to security and
there's a single peering and you can
actually set up a new peering
configuration so there's it's a screen
with a bunch of fish you know fields
that you enter so you supply the VPC ID
of your your own VPC
and then Atlas gives you it's on BBC
somewhere yeah so there's a way to get
the Atlas V PC as well so you set up a
trust relationship between these two V
pcs right so once you set up things up
here you'll get a notification in your
AWS console that somebody is asking to
set up a peer relationship and then once
you set the P relationship up you know
your your node node network can connect
to your Atlas network I think in the end
of in the in the free version of the
ATLA MongoDB Atlas I don't know if you
can set up hearing an order you know I
haven't been able to set it up
okay so this is the github repository
where you can get used all the stuff
that you like right so so that kind of
basically concludes the interactive demo
that I have so I've got a few more
screenshot to show you guys in terms of
backups and in a plasticizing so this is
an example where just out of the box
right you know I think I was talking
about you know tech ops and how Atlas
saves you the time right I feel like
backups are one of the biggest things
where you know you get a lot of bang for
your buck in terms of you know using
Atlas so this is the default schedule
they have where you know the snapshots
are actually saved yeah so there is you
know diff the monthly snapshots are
saved for almost a year and then the
weekly one set for four weeks and and
then the daily ones are for seven days
right so let's look at how this is
working in action for us you know so I'm
going to give a spin shut off you know
like our own then I can't get to there
let's just do it from here maybe
so let's see here this is so this is the
example of monthly backup right so it
was taken on you know the 8th of May and
then it's after of 2017 it's available
on talena the May of 2018 this is the
monthly backup and the weekly backup was
taken on 22nd of May and you can get
rental you know the next month that's
just weekly backup and the daily backup
II you know 526 and you can get it until
next week one more week and then the
sixth hourly backup you can get it for
two more days you know you took it on
five xxx
and you can get it a little you know six
one or something like that so this is
kind of nice you know you have you got
all our backups and then even more
useful beyond this any of these backups
you can actually connect using mumble
shell and do a query on these backups
right so if you want to know the state
of your database as a two days ago or
even a month ago right you can do a lot
so this is a feature called queryable
backup I think that's the right term
they use so if you want to grab a
snapshot right and you would go to this
kind of screen and it will let you
download a client and I think you know
they have the the script at the bottom
they're like over here right
so you download executable from the
screen and you run the executable right
so that's how it looks like when you
actually run it so when you run it it
makes a connection to your backup and
then you can actually create the backup
which is kind of a nice feature and
we've actually used this a couple of
times to some of our players have what
questioning you know hey how come I got
so many points or how many points I had
right so this is a very useful way to
get back in time and find out you know
what the state of the database was and
and answer their questions now the other
feature of Atlas that's pretty handy is
that you know as you get lowered you
know you can actually grow the class
pretty quickly and some of the some
shoot is going to become even more
useful when you have you know many but
right now we're not even we're not
shouting or data yet and you guys know
how you know things can be a little
complicated when you have a short
cluster right so it's really nice to be
able to just go to the console
and so what they have is they have this
kind of numbers like M 50 M 40 M 30
right with different configurations of
you know RAM and storage and you know
how fast the disk
how many i/o ops you get to the disk so
we had a situation where in in December
you know we were operating with a
smaller cluster and then in January we
got a lot of users signing up to a rap
and suddenly we had to actually increase
the size of the cluster so we could just
go here and you know click on you know
pointer clicking the cluster size would
all of a sudden become bigger so that's
that's also pretty handy and the other
thing you could do is you could we also
use this to actually abrade from 3.3 to
0.4 and we did all of this kind of oil
production was live we didn't even have
to you know take anything down it's just
what out of the bat so pretty happy with
this feature - all right so I think that
kind of brings us to the end of the
discussion that is my presentation
there's a lot of things we would like to
do going forward as you grow bigger so
some of the social networking features
that you know you saw in our app right I
think you know being able to do this
kind of graph lookup for example right
this is a feature that's pretty handy so
I think you know one of the things that
you know I find very encouraging with
MongoDB is that you know there's a lot
of times your application grows right
you have different requirements you have
a relational database required why do
you have in a document model requirement
and you also have a graph model
requirement right so it's kind of nice
that you know a single database can
access all of these purposes for you so
we're really looking forward to using
the graph feature and I think you know
we could certainly there's a lot of
things you like to do in terms of you
know being able to analyze the data that
we gather from the users and being able
to present them with offers to make the
game more engaging to them so I think
there's various ad are any areas were
looking into in terms of you know
applying these python-based
machine learning algorithms to did the
data with guard in the MongoDB but also
I think you know right now we use this
lookup feature which is kind of a like
like it
join of two Mahadeva collections but I
think you know that look up it works I
think in a single region if you have a
multi region MongoDB cluster I believe
we have to use something called
MapReduce so I think those are some
things that we need to do and you know
if you look at some of the webcast
MongoDB has right the idea is to be able
to write globally meaning if you write
in one place it goes to all over the
world if you have a multi region cluster
and then you can read from pretty much
you know anywhere where you know you
read so going to the local local server
that's close disclose this to the
customer right so all right I think you
know clearly some of these are so we're
using some kind of a monitoring right
hobby is something on New Relic the
monitor there's a New Relic plugin for
MongoDB but I think we can certainly see
use a little bit more detail end-to-end
monitoring of the whole stack so I think
that's an area that can use some
improvement and also if you look at
Mongoose right Mongoose is like a very
common framework that all of us use in
the main stack but sometimes when
there's an issue you know Mongoose is
not officially supported by Atlas I wish
it would be because it's such an
integral part of the main stack so
that's a request I have for MongoDB to
make Mongoose into an officially
supported framework all right so I think
you know yeah that's that's all I've got
it for you guys thank you for your
attention
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>