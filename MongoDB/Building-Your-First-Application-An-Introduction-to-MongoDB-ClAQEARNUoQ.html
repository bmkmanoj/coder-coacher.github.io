<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building Your First Application: An Introduction to MongoDB | Coder Coacher - Coaching Coders</title><meta content="Building Your First Application: An Introduction to MongoDB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/MongoDB/">MongoDB</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building Your First Application: An Introduction to MongoDB</b></h2><h5 class="post__date">2014-10-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ClAQEARNUoQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to MongoDB MongoDB is a document
database featuring a dynamic schema ad
hoc queries powerful aggregation
framework high availability and
consistency as well as a scaling
solution to grow with your application
in this tutorial we're going to build a
simple application we're going to
install MongoDB we're going to use the
Mongo interactive shell and also use the
PI Mongo driver to build a simple
guestbook application let's have a look
so we're going to build an app here in
MongoDB an application is going to look
a little something like this
you're going to have your application
your application is going to use what's
known as a driver this driver is going
to facilitate communication to MongoDB
in addition MongoDB comes with a package
known as Mongo Mongo is an interactive
shell which you can use to interact with
MongoDB
we'll be installing MongoDB the Mongo
shell in addition to an application
framework known as bottle and a driver
which is known as pi Mongo before we can
use MongoDB we need to extract the files
we downloaded after extracting those
files you'll notice all these programs
the main programs we're interested in is
this Mongo D file which is the actual
MongoDB database in addition we have the
Mongo file which is the interactive
shell we just talked about in Mac OS 10
we have a couple options we can install
this globally it's a slash user slash
bin so it's very easy to use on our
command-line shell however we can also
use these files right in the directory
that we extracted them from windows is
very similar but we're not going to go
into that right now
in Windows feel free to use these
executables right in the directory you
unzipped otherwise you can put them
somewhere where you would have global
access on your system we need to create
a directory from MongoDB to keep all of
its database files in by default
MongoDB looks inside of a directory
called slash data slash to be why don't
you go ahead and create that now that we
have that data directory we can start
the Mongo D process in order to get
Mongo D started make sure that if you do
not have the MongoDB tools globally
installed that you go to the directory
of which all the binary files we just
looked at said
you will see a file named Mongo D and
simply start Mongo D a lot of
information will come out which is just
log information but for now let's just
have a look at Mongo open up a new
terminal and type Mongo once again if
you do not have these tools globally
installed you'll need to actually run
this command in the directory of which
the executables set in Mongo is the
interactive shell and because we have a
Mongo D process running in the
background Mongo is able to connect to
the database let's run a few commands I
can type show DBS and this will show
whatever databases I currently have in
my system right now I don't have any
that I've created just one called local
which every database will have perhaps I
want to create a new document and insert
that into a database
well I'll simply say my database will be
called names I can say use names this
gives me a scope to a database called
names
notice when I type DV I can see I have
the context of a database name names
every database has to have collections
collections are where documents live in
order to insert a document into the
names database I'll simply type
something like this
DB remember that's my names context and
then I can come up with a collection
name I'm going to call this my names dot
insert insert as the command we use to
put a new document into a database a
document is like a JSON object it's
going to have an array of name value
pairs in this case I'm going to insert a
name field and call it Nathan in
addition I'm going to create another
field called email and we'll say Nathan
at Tenjin com when I hit enter this will
have been inserted to have a look at it
I can say DB my names dot find there it
is there's a document in the database
that has an underscore ID which is
created for every document and MongoDB
will create it automatically for you if
you don't provide one the name field I
created and the email field I created
this will be the first document that we
use when we create a little application
that sort of acts like a guestbook here
in order to build this application
have to get a few new tools we're going
to be using a basic framework known as
bottle which is a Python web application
development framework in addition we
need to use a driver and for that we're
going to use a driver known as PI Mongo
so in review
so far we've created a little database
that has a single document we've used
the Mongo interactive shell and have
connected to our MongoDB database in
order to make an actual application
we're going to have to do something a
little more as I said we're going to use
bottle bottle will be our application
framework and bottle is going to use our
driver known as pi Mongo this so we can
create an actual application which uses
MongoDB let's install bottle and PI
Mongo now when you downloaded Bango you
may have seen a place you can download
things known as drivers let's click on
this drivers link as you can see MongoDB
is supported by drivers for various
languages everything from C++ to Erlang
to Python and JavaScript as well as Ruby
PHP Scala among others on this page you
can get information about the various
programming languages you would like to
use with MongoDB but because we're using
Python we'll go to the Python language
center the Python language Center gives
us lots of information about using
Python in addition to the PI Mongo
driver it gives us a list of alternate
drivers we could use in addition to
various framework tools but we want to
use PI Mongo let's have a look at it
when we go to install PI Mongo we get to
this API MongoDB org page from here it
gives us a list of commands that we can
use to install pi Mongo if you're using
Windows it explains how to use pip to
install pi Mongo otherwise if we're
using something like OS 10 we can use
easy install let's try using easy
install to install pi Mongo on our
existing system installing PI Mongo is
very easy on OS 10 we're going to use
easy install and then simply type PI
Mongo same with bottle in order to
install a bottle on OS 10 we can type
easy install bottle that will fetch the
bottle framework for us automatically if
you're using windows
i typing pip bottle now that we have all
these tools that is MongoDB PI Mongo and
bottle installed on our operating system
we can begin to make a basic app to
demonstrate how to use MongoDB in your
application so so far we've installed
MongoDB and got database running using
mangodi in addition we've used the Mongo
interactive shell to create a document
inside of a collection we created and
just let it sit there remember that
document said my name and my email
address we've also installed pi Mongo
which is the driver we need to use as
well as bottle which is the app
framework we're going to use to build a
simple app here I've already built the
app but let's have a little look at it
so you can see in this application we
have to import a few things we import
bottle we import PI Mongo and then we
also import this guestbook Dao that
would stand for data access object
that's just a little class I built so I
can interact with MongoDB in addition we
have to supply routes bottle expects
that we have various routes for
different commands this is going to be a
route that more or less takes us to our
index page the function provided here is
going to be responsible with reading
whichever names are inside of the
collection we've created we also have
another route because people have the
ability to input new names and emails
into our web page and when they click
it's going to post it and it's going to
post it to this route this route has the
ability to get these values out of the
forum and then insert them and then
redirect back to the index which will
reread all the new names that are now
inside of our MongoDB before we all do
that we need to set up a connection
string in my case because MongoDB is
running locally localhost is fine in
addition we need to set up a Mongo
client inside of pi Mongo passing it
this connection string this way PI Mongo
will know where to connect to MongoDB
what's nice is our drivers such as PI
Mongo manage the connection pool for us
finally we need to supply a database and
remember the database I created was
called names well here we go connection
names now PI Mongo will know to send
requests to the names database sitting
at localhost which I've already started
using mangodi lastly we have
is guestbook this guestbook is going to
use our guestbook Dao database and
interact with MongoDB these last parts
right here just get bottled going this
let's debug the tree so we can get
useful information while developing and
this will just have it run on port 80 0
8 2 on our localhost let's have a look
at the guestbook Dao this is our
guestbook as you can see I define a
class called gas book Dao which inherits
from object I've also created a few
methods I have an init method which is
essentially a constructor this is going
to set some variables to itself such as
DB which is that database I passed in
and my names which is the collection
we're using my names then we have a
function which will actually find all
the names inside of our collection we
just initialize an array here we call it
L when we come to this part we see that
we're calling self that my names that
find that's going to open a cursor on
the collection my names that this is
telling to find documents on we're going
to loop through and make sure that we
get every single document that's inside
of that collection and we're going to
pend it to our array we're gonna have a
bunch of name value pairs here we're
going to have one called name which will
get the actual name out of the
collection and another one called email
which will actually get the email out of
documents in that collection and then we
can return that whole list of values so
that our front end HTML section template
can actually use it you see right here
this part here we're actually using this
method to insert names so we're going to
pass the new name an email and then
we're going to create this little object
here this is a document and then we're
going to tell PI Mongo to insert it and
then it will insert it into the
collection that we've opened up let's
have a look at the template here we have
a basic HTML template everything here in
the head is you know typical HTML with
some inline CSS then we have a body over
here
this body has various markup pretty
typical things in addition it has this
looping mechanism here what we're going
to do is after we have our data access
object call MongoDB and get the set of
collections back we want to iterate
through it and copy this pattern here
printing every person's name and every
person's email address that's what this
for and this end he is for here and
these little handle bar type markups
let's actually print the variable
out of what we've bound which is inside
of my name's the actual name value let's
have a look and see how the page looks
so here's the web page as you can see we
have a little form here where we can put
our name and our email then hit a button
then we also have a list of guests
do you recall we entered Nathan and
Nathan at 10:00 Jen calm into our
collection manually using the Mongo
interactive shell let's add another
value for this I'm going to add Holly
and we'll give Holly an email of Holly
at 10 Jen calm let's click this button
and see what happens there it is as you
can see we've added another person to
our database but let's actually check
our database using the Mongo interactive
shell to see if it's really there so
here we are in our Mongo interactive
shell let's look at all our databases
remember we type show DBS as you can see
we have our names database let's use
that we type use names now we have a
context with the names database but how
do we see the collections associated
with it well that's simple we type show
collections as you can see we have a
couple of collections here we have my
names which is where we writing these
new documents to then we have system
that indexes every collection is going
to have a system that indexes collection
that's just going to maintain indexes
that we create on whatever collections
we have in this database do you remember
how to find documents inside of my names
that's right DB my name's dot fine there
they are the document I originally
created and now the new one with Holly
and her email Holly at ten Jen calm
let's use the shell to get rid of all of
these well that's simple too we say DB
my name's dot remove now what I do find
you'll see that there's no documents
inside of that collection let's have a
look at our web page again when i
refresh this page you'll see that both
of these entries are gone let's put me
back in
there we have it so wrapping up this is
the architecture we've been playing with
we just created this app right here and
this uses bottle and pie mango in
addition we've used this interactive
shell that's just called mango both of
these connect to our MongoDB which we
run by typing the command Mongo D that
will get a database running on our
system and remember we need to create a
data directory for that the default
location you'll need to create a
directory is slash data
slash to licken echt to MongoDB we can
create applications using other
frameworks and other drivers and we can
keep connecting using this Mongo
interactive shell hopefully this
tutorials help you get started using
MongoDB we also recommend that you
access our free online MongoDB training
we currently have courses for developers
in Java and Python in addition to a DBAs
course which will help you go through
and administrate MongoDB using the Mongo
interactive shell you can find all this
at education 10gen com these courses
start up all the time and we encourage
you to join one today</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>