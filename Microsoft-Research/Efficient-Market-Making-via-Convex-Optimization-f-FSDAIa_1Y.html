<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Efficient Market Making via Convex Optimization | Coder Coacher - Coaching Coders</title><meta content="Efficient Market Making via Convex Optimization - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Efficient Market Making via Convex Optimization</b></h2><h5 class="post__date">2016-07-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/f-FSDAIa_1Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year Microsoft Research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
you
hi everyone so we're very happy to have
healing Jen from Harvard tell us about
market-making via convex optimization
thanks a lot thanks for having me here
today I'm going to talk about prediction
markets and in particular I want to talk
about the new mechanism that we try to
design for prediction market when we
care about getting information from a
diverse group of individuals when the
event event of interest has a really
large underlying outcome space so we're
going to talk about common and how a
prediction market today um so this is a
drug work with Jake Abernathy who's
currently at Penn and Jen Whatman Wong
who's actually at MSR New York and UCLA
so yeah both of them are wonderful Jake
is on the job market this year um I'd
like to start with something that seems
irrelevant so orange juice that's the
number one juice in the United States
and a lot of them are made from
concentration so it's concentrated
orange juice and so concentrated orange
juice is not only hydrologically
concentrated but it's also
geographically concentrated to the most
of the oranges that are used to make
concentrated orange juice is coming from
Central Florida so the area near Miami
and so that's 99 percent of all those
oranges are coming from that single area
so because in order to make orange juice
we need oranges so those manufacturers
who care about oranges they have the
concern about the production of the
oranges in the future so because of that
there's orange future contract being
traded in the market so this type of
contract is I'm purchasing this type of
contract it will entitle me the right to
purchase some number of oranges solid in
future date this particular contract is
for April and of course there's the
price for this contract depending on
people's projection of
diction about how likely we're going to
have a good orange production in the
future and there's one property with
orange trees so it took five to ten
years to grow but they're very sensitive
to temperature so if the lowers the
temperature dropped below freezing even
though a few hours those trays could die
so as a result you can also think about
the prices of this orange juice futures
contract is sensitive to temperatures
too so the production of oranges is
related to the weather in that area
researchers actually look at the orange
futures contract and what they found out
is quite interesting so they found that
by looking at the market data for this
contract they can improve weather
forecasts especially the lowest
temperature so what I'm trying to tell
using this example is that Marcus does
have some ability to incorporate and
aggregate all relevant information
related to the contract being traded so
in this particular case because weather
is the important factor that's related
to the production of oranges and hence
is affecting the price of the futures
contract here and the market price
incorporate that information
another example I'd like to give if you
remember is the HP researchers P not
equal to NP proof so when the proof come
out I'm not a Z as theorists so I have
really no clue about whether or how
likely the proof is correct or incorrect
so if you ask me I can give you a
completely onion family gas but my red
Scott Harrison's block this is what he
was saying there was basically saying
that if the proof is correct then I
Scott Harrison will personally
supplement his price by the amount of
$200,000 and I'm sure the Scott knows a
lot more about how likely this proof is
going to be corrected than me so after
reading this I have a higher confidence
on that the proof probably is not
correct Scott explained it in the
following way so it's basically saying
that I have a way of stating my
prediction that no reasonable person
could hold against me I've literally bet
my house on it yes we forgot never met
with him but that's a different story
the point I'm trying to make is that so
betting is not necessarily a bad thing
it's a way for people to give to state a
credible opinion because I can state
incredible opinion well I'm not going to
lose anything
so I basically can Bluff I can say
anything because I don't really have a
stake in what I'm going to say whether
that's correct or not but if you ask me
to wager on something I probably will
think more carefully and try to give a
more credible opinion so batting does
have a socially beneficial property that
is that it allow people to that have
their opinion with the amount of money
that they're willing to pay and that
times the idea of we can use a market
mechanism for predictions that's what we
call a prediction market a prediction
market basically is just a financial
market so it's Trace a financial
contract but it has a slightly different
purpose so it has an underlying event of
interest and then attend a designer
contract such that the payoff of the
contract is related to the outcome of
the event of interest and I'm having a
contract that I get from in trade the
intrud is the online prediction market
platform so this particular contract the
underlying event is whether the movie
Argo will win the
Academy Award for Best Picture now so
it's a binary random marybelle and the
way the contract is designed is that if
the movie does win the wall every share
of the contract pays out $10 to its
shareholders and if it doesn't a pace of
$0
so it was nothing and the current
prediction is $2 and 50 cents 50
thousands is around $2 50 cents and if
you think about me as a trader coming to
the market and I'm considering whether I
should buy or sell this contract so I
have a belief about how likely the event
that the movie will win the world
suppose that might believe is
probability P if I'm a rational trader
meaning that I care about making money
then if the price is lower than $10
times P which is my expected value of
the security then I should be waiting to
buy the security because expectation and
making money and similarly if the price
is higher than 10 times P in expectation
and making money if selling the security
so I should be waiting to either buy or
sell depending on my belief about how
likely that you meant will happen so if
everyone is doing this we can think
about the market price actually
represent the collective prediction of
the population so there is a mapping
from the price to what the market
believe the probability for the event to
happen so this is the market prediction
that currently is around 25 percent
meaning that with probability 1 to 5
this movie will win the Academy Award
okay this is actually the highest one
among other candidate right now so
there's a lot of evidence showing that a
market does work so I'm not going to
repeat all this positive evidences but
in general what people find is that
compared
market with alternative prediction
Messrs market generally at least
performs just as well as alternatives
and in master cases about her exception
was in this election you would arbitrage
in trade you get another market and make
money for school and furthermore
interest has said totally different
things on the total election under fifty
different states yeah so the second one
actually doesn't really indicate that in
trade is wrong because the prediction is
probability but the first one it is
indeed true there are two groups of
people they look at the prices on in
trade and the prices on BET fair which
is a UK gambling set they have exactly
the same security and they're
consistently priced differently and
actually the two groups they also both
groups they did some experiments trying
to take advantage of the arbitrage
opportunity and then looking to whether
and why the institutions are not
interested in doing that there's quite a
few reasons for that one is that one
market is in US dollars the other market
is in pound so there's some currency
risk and also the amount of money that
can be get from doing this abby chart
exploring the arbitrator opportunity is
too small for institutional traders and
the investment is probably too big for
individual traders so it's kind of
interesting that that that arbitrage
opportunities days there was that they
were using social information say in the
US so then people get motivated to buy
them and it's relatively as a low-cost
form of advertising yeah exactly so
there are there are period of evidences
as a period of time for both for this
election and for the last two times
election there's evidence showing that
someone trying to manipulate in trade
price and just to try to get a higher
price for its favorable candidate and
they were successful for a very short
period of time so you can say that the
history is that the prices was driven up
for a short period of time but it
quickly goes back so which means that
the manipulation Marcus is always
possible but at the same time if the
prices is off and think about all the
other traders it provides more incentive
for them to crack the price and making
money and also the I like to think about
prediction market as one of the possible
method rather than they correct a method
of making predictions because the
question is not whether that should be
the messer the question is compared with
all other possible methods among all the
methods that we have which one gives us
better prediction in general okay so so
about the mechanism so we can trade this
type of contract using a stock market
type of mechanism which is the outer
matching mechanism so buyer submit buy
orders and seller submits sellers a
schism bid so buy prices and sell prices
and whenever the buy prices is higher
than the sale prices then a trend action
happens and the market institution just
matches the buy orders with the others
and just to do this outer matching not
bearing any risk okay so we can do that
but there's one problem with this type
of mechanism is that if there are not
enough traders in the market then even
if someone has information about the
underlying event and they want to trade
the particular contract they cannot find
a counterparty to trade with them and
that's problematic that causes
information not being able to be
reviewed a solution to that is people
design automaton market maker mechanism
and this is mechanisms that ever trader
trade directly with the market
institution so they buy from the market
institution and they sell to the market
institution so they don't really
need another trader to treat with and of
course this market institutions bear
some risk and can lose money and the
question of design would be how can
design the mechanism to make sure that
the market institution doesn't lose a
huge amount of money
Oh his past about loss is bounded so let
me describe the standard market maker
mechanism design by Robin Hanson so the
way that it works is if they have event
of interest that has a mutually
exclusive and exhaustive outcome then we
will create one outcome current Bazaar
we will create one contract
corresponding to one outcome so this
outcome mutually exclusive and
exhaustive let's assume that for now and
that's a complete market so in financial
markets term that's called a complete
market and if I care about tomorrow's
weather in Seattle and supposing that it
either will be sunny it will be rainy oh
it will be snowy and any two of them or
three of them won't happen on the same
day then I can have three contracts
looks like this and the automated market
maker which is the market institution
per se keeps a acosta potential function
so what this function is used is the
following so this function trying to
capture the total amount of money that
the market maker has already collected
from all traders in all past
transactions so this is the function of
this vector Q so this Q vector
represents the total number of shares
that have been purchased
osode to the market maker by o traders
in the market so this vector could be
something like a hundred negative fifty
i was zero so that could be one
potential value of the vector so that
captures the total historical
transactions no stray securities in the
okay and if some trader comes to the
market I want to make a purchase we can
think about the trader basically want to
change this Q vector so if the trader
comes in saying that I'm interested in
buying a bundle of shares so this bundle
could be ten shares for the first
contract and their shares for a second
and negative five jars for the third one
so can take negative value and negative
value representing sell and then the
market maker will use this Casta
potential function and calculating how
much the trader needs to pay to the
market institution so the difference in
the cost of potential function is the
payment the trader need to pass by to
the market maker to make that
transaction and given that the partial
derivative of the cost function
represents the instantaneous price of
the security and that is the price for
purchasing and selling and absolute
shares of the security and that is our
market predictions that is the
prediction in the market okay let me
give you a very specific example this is
the logarithmic Marcus garloo market
maker proposed by Robin Hanson and the
names comes up because underlying the
mechanism uses the logarithmic
properties are any rule but let me try
to avoid that part completely so the way
it works is that it uses a cost function
like this and a price function like this
but the executive arm of the function is
not important for this table right now
I'd like to show it by Viktor how the
market works so supposing I'm in a to
outcome market and what I plotted here
is the price for one outcome as a
function of how many shares has been
traded for that particular outcome okay
and assuming everything else remains to
be the same so traders just to purchase
this particular outcome
and then when nothing has been purchased
the price for the securities pond5
though and the price for the other
security is 0.5 so the market starts
with a uniform distribution but there's
two outcomes and if some trader comes to
the market and saying that I want to buy
a hundred shares and then this shaded
red area is the amount of the money that
the trader needs to pay to the market
maker to purchase this a hundred shares
and if another trader comes in saying
that I want to buy another hundred
shares - and because his purchase is
after the first trader so he has to pay
the shaded blue area about buying the
hundred shares and that is bigger than
the shaded red area so the prices
increases so let's take a closer look to
the price function here we just want to
get a basic sense of whether a market
maker mechanism like this looks
reasonable an out so does it do
something sensible here so first if I
look the price is for security P I it is
increasing function with Qi meaning that
as more and more people purchasing the
security the prices of the security
increases so that sounds very reasonable
because things will go world if after
I'm buying some securities the prices
for that security keeps dropping because
I should just keep buying if my belief
hasn't changed at all that's going to be
really weird and the second thing is
that if I sum the prices P I a sum
across I the equal to one and why is
this important so suppose the sum of the
prices is less than one is there
anything that you can do that appears to
be beneficial to you
by them all right because we know that
the outcomes are mutually exclusive and
exhaustive meaning that in the future
one and exactly one outcome will happen
and one and exactly one security will
pay off $1 so if the sum of the prices
is less than one
I should justify them oh so and I paid
less than $1 and I get a guaranteed $1
in the future so there's a beiträge
opportunities on the table and similarly
if the price is some to be greater than
one I should sell them all and I still
make money so the prices them to one is
actually really important for the market
to not allow arbitrage opportunities on
the table okay and oh this doesn't show
up correctly the third thing is that
because the market maker now handles
every transaction he bears risks so he
hold shares and he can potentially lose
money and if we want anyone to be
willing to use a mechanism like this
with better gives the mechanism some
theoretical guarantee and saying that
whoever runs the mechanism will not lose
everything in their life
so we want the potential laws of the
market institution in the worst case to
have a bond and this mechanism has the
worst case lost bound that is be love
and where n is the number of outcomes we
want to have three outcomes and in
coaches three and B is this particular
parameter here that we used to here this
basically is the liquidity parameter
that determines how quickly the price
changes as people are buying shares it's
kind of like the steepness of the price
curve and this is a parameter that the
market institution can choose to set
ahead of time and any positive parameter
will be okay
is there any questions so far the last
bullet is kind of except it should be as
small as possible what's the what's the
other yeah you should be other things
you want to be yeah so the bad thing
about setting is to be absolutely small
as that if I said to be to be small this
curve will become really steep so what
it means is that some trader comes in
buying five shares my prices for the
security is already a protein to one so
there will be very little market
activity going on and also if the price
curve is really deep
then the bid and ask uh spread is large
so remember that we have a instantaneous
price so this is the price curve it
appears that buying or selling absolute
sure of the security the prices is the
same but buying one share versus selling
one share there is the difference of the
prices there so there's two exist at
what's called a bid and ask spread so
that that's the price of selling versus
the price of buying and if the this
curves is really deep that Faden ask a
spread is large and we don't like
markets to have large bid and ask the
spread because that doesn't incentivize
traders to trade if the traders believe
happen to fall into that spread they
won't trade so they won't find its
profit but to trade anyway so that's
kind of the trade-off is setting the be
yeah that's a great question so so right
now this mechanism allows short sale so
this is we just allow shut sell because
I says found in worst case loss and we
don't really care about shut cell and
shouts out hurts like restricting or not
allowing shouts out hurts information
aggregation and things way start from
the goal of thinking that would like to
get information from participants that
we really like to encourage information
aggregation
okay so that's the existing mechanism
when we have mutually exclusive and
exhaustive outcomes so oh this is the
interface how it is actually implemented
so inkling market is implement this
mechanism as you can see that the
traders can come and saying that I want
to buy 15 shares and then the market
counter price is right is here and after
the transaction the price will be here
and the cost to make this transaction
happen is this amount so this is the
interface to the trader how you can hide
all the details of the mechanism from
the trader okay so this mechanism works
one way these are one contract for each
outcome out of the outcome space where
we consider the outcome space to be
mutually exclusive and exhaustive but
what if we have large state spaces so
for example if we consider house racing
if I have fun competing candidate the
outcome space contains n factorial
possible permutations and if we consider
the presidential election prediction and
if we care about the outcome of every
state then we have two to the power of n
well any Co to something roughly equal
to 50 depending on how you count and if
you think about options which is based
on the stock price then the stock price
can be any real value in the future then
we basically have an infinite space to
have a continuous space that's infinite
and for these situations we cannot just
run the market maker just we just talked
about the logarithmic Marcus going to
market maker because calculating the
prices of this Marcus becomes
intractable so we just simply cannot
calculate the prices and moreover
when the outcome space is really large
we essentially are asking humans to give
probability for some event that has
trimly small probabilities and humans
are just not good at it for all these
reasons so we have to reconsider how can
we design markers for large outcome
space so of course we can run separate
independent markets like in the house
raising what they were doing is that
there's a market for wing and a market
for place and a market for show so when
is allowing people to bet on which house
will rank first and place is for the
first two positions the top two
positions and show the top three
positions and the markets are separated
what it means is that if a common
betting house a is going to win I change
the art of the probability for the win
market but nothing has been changed in
the place and show market well logically
you would think that this events are
logically dependent right so we if a run
independent market were ignoring the
logical dependencies for the events
that's not something that we like so the
goal that we try to achieve is that if
you give me a small set of securities
over a very large or possible infinite
outcome space is this possible for us to
design a customized market mechanism for
this set of securities that preserves
the logical dependences of the events
and at the same time hopefully can be
operated in a computationally efficient
way okay but if the u.s. election were a
horse race I could bet on Romney to show
to place or show and not care about the
public opinion polls definitely do that
so that's why I'm saying that give me a
small set of securities so probably
we're not hoping that everything that
can possibly do that is interesting so
if you're interesting in particular
things let me start from there okay
and the two that were using is convex
optimization and the conjugate duality
and that has also been used in early
papers too
okay is that clear ago so let me start
by explaining what I mean by saying that
were given a small set of securities so
we consider the set of securities as a
manual table so basically each row
corresponding to a possible state of the
word in the future that can be possibly
realized and the number of State is
large and each column represents a
security of interest and we have a
relatively small set of securities that
we have K securities and what this
manual table tells us is that I'd like
to know for every possible realizations
in the future for every state what is
the payoff of the security so at the
abstract level it means that we want to
have officially computable payoff
function such that for every security
and every state you can tell me what the
payoff looks like okay and I'm going to
talk about the row vectors of this
manual table later on so that's so the
row vectors that that are the important
things that I will use later on but
basically this is the set of security
that I'm given to start with
so one example it stops at Betty so for
house racing if I have three competing
candidate then this are all possible
stays and you can define batting
language that defines all allowable
securities in the following way if you
allow people to bat house a is going to
win at a particular position for example
second position like betting on Romney
is going to win at the second position
and similarly so basically a trader can
pick a candidate and pick a position and
bet on that
and by buying more than one securities
as possible for the can further traders
to bet on things like a particular
candidate will win at one position in a
subset so that's why the subset baton
comes into play and also the inverse a
subset of the candidate will win a
particular position and for securities
like this
so a finishes at position 1 the payoff
is $1 for all those outcomes that a
indeed is at position 1 and their $1
otherwise that's the security and this
is proven to be sharpie hard if we
consider running the logarithmic market
scarring roof of this type of bedding
languages so it proves that it's sharpie
hard and another example is power
betting if they allow people to bet on
the relative strength between two
candidates we can think about that the
relatively natural banking languages
that people do have information about so
similarly it pays off one dollar if this
relationship indeed becomes true in the
final outcome and this is again sharpie
hair if we stood aside to use the
standard lovers me markets car market so
what's hard exactly so so basically what
we were trying to show there is we want
to compute the price for the securities
as if we're operating a logarithmic
Marcus Garen remark and so the naive way
of running the market is running that on
all possible state and then some of
those prices that a is ahead of B that
will give us the price of this
particular security
that's the naive web security was a
bundle right exactly so that's the price
that we want to calculate and the
question asking here is that is there
possible a smart way to do that such
that we can circum when actually doing
all the computation with oh the infect
our base days in this case no we cannot
do better there there are indeed
positive examples that we
can do what you said now is much
stronger than the fury city struck
hardening now you said you cannot do
better than the N factorial oh yeah
so the naive way of doing that is just
at running a market with in fact our
contracts much more efficient than
languages it could be Romeo it could be
yeah yeah so I shouldn't say that cinema
process way is that we proved that it's
sharp you heart when we don't know that
I'm not making difference between the
last computationally complex classes
basically saying that I'm assuming like
or one of these settings are you are
assuming that this convergence potater
is it sufficient to have that sense it's
a function of the state of the state
being here yeah so for this particular
case the state spaces is discretized
because this is for the permutation
component Horrocks but the further
booting commands we have the same result
so if it's a presidential election
example that it gives early on but we
still have the same Sharpie heart rhythm
but we do have positive results for some
structures like if we're betting on the
basketball game outcomes and there is a
tournament structure and if they ask if
people are interested in betting young
if team a means team B is going to win
Oh
team a will win a certain rank game for
those type of bedding languages we can
actually use lovers we market our room
efficiently so there are positive
examples it's not always computationally
hard
it's okay the spirits number of states
increases like this for example as an
exponential power the number of
securities that
the market also grows a lot for those
same are there any foreseeable problems
for having a lot of different securities
for the same domain for example how the
number of participants really in the
market reaches our crisis yeah that's a
interesting question so so for this
particular example actually we don't
have that large number of securities so
we have n choose two and the reason that
we're having a market maker is to make
sure that a trader comes to the market
they can always trade so the only
decision they need to make is that
whether the price is favorable for them
to trade or not so that helps the
situation of saying that Oh as the
number of securities grows we have we
need to have a large number of traders
because whoever has the information they
can still come to the market and review
their information so that's one
advantages of having a market maker
because we're having if you're using the
stock market mechanism for combinatorial
setting were really in trouble because
they're trading different securities and
they're looking for matching with other
traders who's interested in the same
security
okay so so what we're trying to do is a
woman to design mark and make her
mechanism that's tailored to the
securities that were interested in and
at a very high level what we need to do
is we need a pricing a chrism such that
given any history of transactions if a
trader comes to the market and saying
that I want to buy our bundle of
securities the market maker should tell
me the cost of doing that okay so that's
what we need but the challenge is that
how can we ensure the reasonableness of
the prices for a market like this for
the pricing algorithm so if we look at
the complete market the price is sum to
one that's a very natural constraint and
we talked about that that's important
but if we just look at the parabati
what can I do the part betting is to
something that has a lot of intuition
that I can draw from so for example if
there is the security that's saying I is
going to finish ahead of J and another
security saying that J is going to
finish ahead of I there's two outcomes a
mutually exclusive and exhaustive so by
the same logic I can say that the prices
for this two securities should echo or
should sum to one
but what if I consider three securities
I had of j j ahead of k and k ahead of i
if i have a cycle and master two
outcomes can be true so the sum of the
prices of the three securities should be
less than equal to two but I really
don't want to continue this process but
but thinking about whether I can elicit
all possible constraints that I should
put on the security and this is just a
parabati
if you're giving me any manual
securities I generally don't have any
idea about how I should put constraints
on the prices so that's a challenge so
we took an axiomatic approach so really
back up and saying there let me not even
think about how I want to run the market
let me start with what are the desirable
parfaits I want the market mechanism to
have so we start with the first one that
we call pass independence so intuitively
what it means is that if a trader coming
to the market and want to purchase the
bundle are the Koster he needs to pay
for this bundle should be the same
compare with another way the trader
trying to split this bundle are eco to
different portions and purchase
different potions independently and send
that together meaning that if you hold
our bungalow at the end no matter how
you achieve that Armando's so assuming
there's no other traders trading in
between you then you should pay exactly
the same amount so that seems something
reasonable archivally reasonable that at
least so far Moni what it means is that
if given history and the trader wants to
purchase the sum of this two then the
cause of the purchase should echo -
given the history the trader purchased
the first apart and then purchased the
second power okay and this alone will
bring us back to the framework of having
a cause the potential function after he
buys the first part for the history
include the first part exactly
yes very much now it is of course the
fact that the potential energy you know
conservative systems independent path
exactly so this is really it's just that
that property and so we start with not
considering having a cost potential
function but by assuming that past
independence which is to come back to
having a cost of potential function
which we're very happy about because we
have a lot of tools to deal with that
okay so that's past independence I
understand it's a very natural condition
but is there is there a particular
reason why I sexually desirable
yeah we have two different guides on two
different paths and they arbitrage
halfway between it yeah well so it's
part it's I wouldn't say that this is
equivalent to arbitrage but this is
closely related to having a beiträge so
if the past is not independent in a
systematic way then it's possible for
the traders to find arbitrage
opportunities but you had a great
question actually this is the condition
that I think we don't have to have if
you think about this is coming from the
prediction market mechanism of
perspective so we're naturally having
this property but if you think about
stock market we never have past
independence because we don't know like
when other traders coming and what their
being and ask is so because I would say
that this is only argue about a
reasonable and this comes from the
tradition after market maker mechanism
for prediction markets so other
properties would like to have a market
prediction so we like to have a notion
of price so we require that there is a
notion of instantaneous price and
mathematically this just means that this
cost potential function must be
continuously differentiable so and the
prices is just the gradient of this cost
function okay so we like that
abstraction and the other desirable
property is what we call information
incorporation sorry I guess this just
decided to not show you at the right
places so what it says is just the
purchase of any bound o R shouldn't
decrease the price but that bound o R so
if I keep buying the prices cannot
decrease and what it means
mathematically is this cost function is
a convex function okay and the next
property is no arbitrage I have
explained that we actually will relax
this
operty laid her out but what this
property means is that if someone comin
buying a bundle are so we do not allow
the possibility that this trader will
make a positive profit no matter which
outcome happens meaning that as possible
this trader makes the profit in some
outcomes but he should potentially lose
money in some other outcomes so there's
no guaranteed profit and if we combine
the first is three properties we can
derive a constraint for the prices so
what it means is that the set of
allowable prices actually precisely
speaking it should be the closure of
this but I drop the closure because that
doesn't really give any intuition here
so remember the grading of the cost
function is the allowable prices in the
market and the right-hand side is the
convex hull of the security payoffs so
it's the many of the security that we
gave the big table and all those row
vectors and this is the convex hull of
all those row vectors okay what it says
is that if we want the three conditions
to O be satisfied then the allowable
prices should be contained in the convex
hull and we also have the last property
what we call the expressiveness because
we're interested in getting information
from traders expressiveness basically
says that if some trader has some belief
then this should always be possible for
the trader to review that belief in the
market through the trading of the
securities and if we require that we get
the other direction it says that the
convex hull of the security payoffs
should be contained in the visible price
region here and combining all this
together we'll get a characterization so
if we want to satisfy all five
properties which will argue that
probably natural then
the market maker master use a convex
cost function such that the grading of
the caster function the set of gradients
is exactly equal to the convex hull of
the security payoffs and if we think
about the complete market case it
actually makes perfect sense because if
I'll complete Marcus the time max how is
the probability simplex what it says is
that the allowable prices should be
probability distributions in that
setting the software's are good we get a
characterization we'll figure out what
should be the constraints that would put
on the prices to make sure that there's
no a be tragic opportunities but this is
not constructive at all this doesn't
really tell us anything about if I want
a market you give me a set of securities
how I should be running the market so we
want to consider how can we design a
cost function that satisfies this this
characterization how am i doing timewise
okay good okay that's great that's
perfect
so we'll make use affect from convex
analysis because we know that we need a
convex cost function and there is the
fact in convex analysis saying that any
convex cost function and also
differentiable one can be written in
terms of this convex optimization using
its conjugate function of C so this R is
the conjugate okay and so far it doesn't
really help us yet because you just give
me a different way of writing my convex
function and I still don't know having
how can I have a convex function and
make sure that it's that it's by that
property but then this osa has the
associated property with this fact is
that the optimization problem the
optimal solution X X star equal to the
gradient of the cost function
so we need a cost function and we need
the market price to be the gradient of
the cost function so combining all this
together what it means is that if we
need a convex house function to operate
a market for the customized securities
that were considering we only need to
pick appropriate our function and the
domain of the optimization so basically
the domain because the domain
constraints that allow about prices so
those are the only two things that we
need to consider and then we will have a
market maker mechanism so for complete
market our domain is the simplex and the
cost the the conjugate function are we
can pick for any strictly convex
function and for the logarithmic Marcus
garden rule market maker that way just a
saw this is the negative entropy
function and we can check that the
lockers of Marcus Garen rule the
optimization problem gives the same cost
of function as yeah so this expression
has a lot of applications in other
domains too so yeah it sort of stands in
for max
oh so this our this is our yeah so in so
this is a corresponds to the the online
learning algorithm the exponential
update the no regret learning algorithm
and this B will be their learning rate
so we actually also show that for
complete market there is a one-to-one
correspondence between the online
learning algorithm and the class of
market makers that we can design so
there's actually a one-to-one mapping
between this two and then father complex
securities that would consider so any
set of securities that were given we
just need to change the domain to be the
convex hull of the security pair of and
still use any strictly convex function
and one more advantage of thinking about
designing market-maker in this framework
is that they care about the worst-case
loss of the market maker the worst-case
loss is bounded according to this
expression - so by choosing our function
we're actually also know what is the
worst case laws of the market maker so
that's a nice property for us to have
because we will know that if I responded
of course our market maker has abounded
worst case laws okay so I may give a
example of how we can use this framework
to design a market maker that we
couldn't operate without using a
laboratory Marcos garment room so false
upset that him so the language for
subset betting is a trader can pick a
candidate I and a position J and bad on
that candidate I will finish at position
J and the payoff equal to one if that
indeed happens and zero if that's not
true and instead of thinking about a
payoff vector for all the possible
securities in the future we can think
about given any particular outcome which
is a permutation of competing candidates
we have a payoff matrix and that matrix
basic
they have value one when candidate I
finishes at position J so we have rows
representing positions and columns
representing candidates and instead of
representing that as a vector we
represent that as a matrix and now the
question is what is the convex hull of
oh this payoff matrices that happens to
be Oh Papa that doubly stochastic
matrices and the advantages of reaching
to this pan is we can actually using an
exponential number of constraints to
represent the convex hull of the
security payoffs so we only need this
set of constraints so we have a convex
problem with some relatively small
number of constraints and we can solve
that efficiently if it just to choose
this conjugate function has a form that
looks very similar to entropy but it's
not because we're not considering
independent or exclusive outcomes here
then we have a market maker and the
worst case laws of the market maker is
the following depending this lambda
parameter and we can operate this market
efficiently but what about Parabellum so
the other example that logarithmic
marcus Garwood cannot handle
unfortunately we couldn't handle that -
because representing the convex hull is
computationally difficult but there is
still hope here so
originally we require that the allowable
prices region has to echo to the convex
hull so based on the properties that
where these are so we required that but
we're asking the question are both
directions necessary
so suppose we only require this
direction so that's bad so the market
maker will have unbounded lungs but if
we only require the other direction so
this actually implies that we relax the
know a beiträge condition so we will we
allow arbitrage opportunities in the
market now but actually it doesn't
matter the market makers worst case
allows can only improve so it seems that
I'm lying this is great in the market it
seems that I must be lying or saying
something not not logical here right
because I stress so much that no
arbitrage is important but here I'm
relaxing that so let me try to explain
what's happening here
so what happening here is that if the
market starts with some price that's
within the convex hull then the market
maker is having a consistent price to
start with and there's no arbitrage
opportunity at that point but it does
allow some trader comes to the market
and change the prices to be outside of
the convex hull and creating the
arbitrage opportunity and that doesn't
matter
because the market maker can crack that
back and make more money
oh the other traders can correct that
back and that doesn't hurt the market
makers Laos that's why this is possible
limited to the market makers max maximum
loss because can't convey that everybody
makes money Roger makes money
trade are delicious the trader who
created the trade ever praised it that
was helpful okay yeah so this is just a
saying that I'm a market maker I know
that the prices should be light into the
convex hull of the security payoffs if
there's no arbitrage but I'm not
preventing you to changes to the outside
of and create arbitrary opportunity so
for the analogy for the complete market
case is that the prices can be some to
be greater than one and the market maker
doesn't have that constraint so if some
trader really changed the market price
to be some to be greater than one that's
arbitrary opportunity and the market
maker allowed that opportunity to happen
during the process of the market to
figure out the opportunity that is
computationally impossible to take
advantage so that's where this comes
into play so if it's computationally
easier then the market maker can
consider doing that but for the pair
betting case is computationally hard and
given that what I have been saying is
that if they allow there's a betrayer
opportunity what we need is just a way
to allow the allowable prices region to
be bigger than the convex hull and we
can use less constraints we really don't
need to describe the convex hull so for
the para betting we can just think about
oh I can come up with some intuitive
constraints and I put there and then I
can operate a market so the prices are
not as accurate as before but I gain
computational efficiency so so that's
one way to trade off the accuracy of the
prices and computational efficiency okay
so so that's the end of my talk just to
summarize so we give a convex
optimization framework for thinking
about how can we design automaton market
maker mechanism for a smaller set of the
Security's over large outcome space and
I mentioned that the worst-case monetary
loss can be described in terms of this
conjugate function and also there's some
other market properties can be described
using that function two that I didn't
tell you and this opens up the
possibility of so if we open up the
possibility of arbitrage we can also
improve the computation so basically we
get computational efficiency
tractability by approximating in the
market price so I do like basically we
approximate the pricing thanks a lot
yes I have what so I mean the market
makers and reality would not run into
the business to making love so there are
some mechanisms to you know take their
compensate them like some percent of
what which one you that's a great
question so in reality stock market they
make money by taking convection phase
you can add transactions they here but
having transaction fee will hurt
information elicitation aggregation so
that's the trade off and the other part
is that I'd actually like to argue if
the purpose is to get information it
makes sense for the market institution
to lose money because if I'm the one
who's interested in getting information
I'm willing to spend money on getting
the information so that's why the market
makers subsidized a market and I also
have an economist answer for this type
of question for stock market it is a
zero-sum game so what it means is that
there's no trade serum saying that if
traders are all rational and the
rationality is common knowledge
they shouldn't trade with each other
because the simple fact that you're
waiting to trade with me and it is a
zero-sum game means that you believe you
can make money from this trade and if
I'm a rational trader and I know you're
smart you have good information
I should just refuse trading with you
you have different
yes so why people trading stock market
people saying that there's different
reasons some people trade for liquidity
they've really just need money they need
to sell their shares so but that can
still not explain the high volume of
like traders trading so of course
irrational traders can trade in the
market too but that also gives a reason
if we believe that rational traders
shouldn't trade in zero-sum game that
gives us reason to consider a market
mechanism that actually make the whole
game to be positive some because the
market maker subsidized the market yeah
you can't auction thing what's the best
way to do it just a fixed percentage on
each transaction or something different
that's a great question I don't have a
good answer about how to do it in
practice people so some are charging 6%
Asian market charges a monthly account
fee and we're actually working on
something trying to figure out whether
we can dynamically changing the counter
gate function to have a better property
regarding to the potential loss or the
potential profit so that's so I really
don't have a perfect answer to that they
know the current market price
if it's the monthly irritate some
ambiguity and as I said I'm not telling
you that that person ability didn't make
suggestions president decide effective
or not and then you can
see you know what's great you get or
offered to buy in charge according to
that's right yeah that's uh that's an
interesting approach there are actually
people taking that approach in designing
market maker mechanism so for example a
billet semi - group they have been
starting market maker mechanism who's
who's trying to learn from the traders
so basically the trader can submit a
beta ask o decide on whether they accept
it or not and they take that as the
signal about their valuation and they're
trying to update the market price
according to that it's so whenever we
get past Independence we won't have no
arbitrage so it's almost always like
that so that means that in theory there
can possibly have a beat right
opportunities to but it's totally open
to like what are the set of properties
that are listed here I've really
important in practice and one possible
direction that I'm interested in doing
is if you look at market maker in
financial markets they're not doing this
so they behave very differently they're
trying to make profit and here the
market maker trying to minimize the
worst case possible laws and not
thinking about making profit at all and
how can we possibly think about this two
different paradigms and thinking about
connecting them so that's also a
potentially interesting direction to go
no I guess we all know how neutral
system is for horse races work or less
yeah but the interesting to figure out
how they price exact doesn't trifectas
for tractors where you actually specify
the presentation the first
versus mixed in with all of these two
dollar tickets and so yeah you know win
place your show oh yeah so they would
rather complicated pricey crawling
derivative making money but if you seem
to look that there are rhythm and see
what it is that would be really
interesting because fundamentally this
is about logically dependent event and
they have exactly the same problem I'll
be really interesting yeah it was not so
large in fact rails still every 12
horses of the race won that that's a lot
of pretty fish yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>