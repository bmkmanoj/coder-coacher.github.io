<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Specification and Verification in Introductory Computer Science | Coder Coacher - Coaching Coders</title><meta content="Specification and Verification in Introductory Computer Science - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Specification and Verification in Introductory Computer Science</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xf1ERNZulm8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">materials supplied by microsoft
corporation may be used for internal
review analysis or research only any
editing reproduction publication
reproduction internet or public display
is forbidden and may violate copyright
law
our next speaker is Frank Fanning who's
both the Jeanette's replacement as a
department head but also been involved
since the earliest days and how to
rethink introductory programming courses
to incorporate more let's call it
logical thinking okay so I'm going to
talk about another one of these two main
courses that anchor the new curriculum
that Randy was talking about which we
call 122 which is called principle of
imperative computation so but I've
talked about the several times before
the kind of thing that I wanted to
emphasize at this point is some of the
origins of the idea and actually turns
out that MSR and Microsoft played a very
significant role in the development of
this particular course in particular way
about thinking about introductory
computer science so for me actually
whether it was a very important
experience was money rare das from MSR I
think eventually moved to Microsoft
Windows team gave a talk at CMU in 2005
where he talked about the title of his
talk was software excellent by program
verification analysis at Microsoft and
he he talked about on the way that
program verification program analysis
influences and is central to the
development process at Microsoft
Research at the time now the tool chain
that he started or was developing at
that time I now part of microsoft visual
studio or in being distributed so there
was one very strong influence i'll talk
more about this after the first starting
with the second slide the other thing is
that Peter Lee was revitalizing around
the same time in 2005 of course on
compiler design and he was using a safe
imperative language that had integrated
into it so called fat pointers so fat
pointer is a pointer were together with
the pointer itself you store bounds on
you know what
it might become instill safely access
memories they have a lower and an upper
bound for the point that you can do
point arithmetic and and he integrated
into the compiler design course would
which turned out to be a little bit over
shooting in terms of the students
abilities to actually implement the
compiler in a reasonable amount of time
but it was certainly a strong influence
of that and and his thought would was
would it be nice if you could use the
same programming language in the
compiler course that we're using an
introductory programming and so so I've
sort of stored that away and I thought
about that but it's at the time
certainly there was no possibility of
doing that because we don't have the
compiler students implement at Java
compiler and Jeanette at the same time
in 2005 was working on writing and
talking about computational thinking and
thinking like computer scientists this
is a quote from a paper means more than
being able to program a compiler it
requires thinking at multiple levels of
abstraction and I think that was a
another big influence and I was thinking
about that later on so let me start with
actually what mano veer talked about at
the time so I actually found his slides
I probably should have given get got his
permission to show some of these but
since he distributed at the time okay
here they are no it doesn't okay so he
was originally a researcher in program
analysis I now he does other things I
think cloud computing other things that
Microsoft and his claim was a program
analysis technology can make a huge
impact on the house software is
engineered the chick Easter properly
balanced research with the focus on
deployment so it was very important for
him that his techniques actually oops
okay and he was leading the what was
then called the Center for software
excellent at Microsoft um and he was
still questioning whether he was doing
it well but the end of the talk the
audience was convinced and then walking
the walk so he had this program analysis
group that was heading in 2005 defiled
many bugs regarding windows the added
10,000 plus specific
to the windows code base and the answer
hundreds of emails so they were actually
really embedded in the product which was
like I said it was a very important
thing for him even though they
considered themselves program analysis
researchers so they were not there were
not operating system people so and one
of the things that he presented during
this talk on a much later slide was cell
which is the state which South stands
for standard annotation language and he
presented as a language of contracts
between functions and he made a very
compelling argument at the time that is
this what allows you to compose big
pieces of software because you need to
specify you know what happens when one
function calls another especially if
they've done different pieces of by
different developers and different
pieces of a large software system and so
a function has preconditions that must
hold when a function is being called so
but the collie expect from the caller
and the post condition which is the
statement they must hold it the exit
from the collie and what does a collie
promise to the coupler about what is
being made and so a typical example
would be we have some function which has
a return type with some annotation on it
that says it's more specifically not
just an integer but maybe a positive
integer or something like that and the
parameter T is not just a parameter but
it might be a parameter that must be in
certain bounds a pointer that must not
be no other kind of conditions and if
you specify these and then you enforce
them by program analysis or checking he
was he was saying that buffer size is
now pointer memory usage a lot of the
errors that sort of plagued our code at
that time would go away because he could
verify that they wouldn't arise
unfortunately he said during his talk he
can't tell us any numbers about how many
bugs they found okay but it was very
clear there was extremely effective and
so he also talked about the principle
behind cell which is that you control
the power of the specifications you must
do this very carefully so the
Impractical solution would be to rewrite
windows okay in a different language
that he can't analyze it that would not
work that what you need to do is you
need to formalize in variants that are
implicit in the code already in
intuitive notations and these invariants
already often appear in comments they
are in the code the developers have them
in mines they're not written down except
maybe in comments but because they are
not written down they can't be checked
so this was this point if you make them
explicit then you can check those arm
and this was exactly these two lessons
that I actually took when an opportunity
arose a little bit later so his forcing
function for change why do we change
things the way that they were actually
working in windows development before or
not just windows actually turns a lot of
Microsoft products so if you want to
generate bug free code or at least you
know code with few defects there is a
sort of a generational thing some people
have tried to do that you can do manual
review but there's too many code passed
it doesn't really work you can try to do
massive testing but you don't it's a
very inefficient way to detect common
patterns of problems in the code plus
when he have concurrency it basically
doesn't work anymore you can try to do
global program analysis but the problem
is that the global program is too big
and so results will be stale because you
can never carry it out fast enough you
can do local program analysis but if you
try to analyze functions by themselves
they lack the context in which they're
going to be executed and so it doesn't
work because you don't have enough
information about what the program
thought the functions are supposed to do
and then the generation 5 is if we just
add some layer specifications not very
much just the in this cell language then
we can actually do this the other thing
you reinsured is that it's a myth that
developers hate specifications if you do
it the right way okay it will actually
work people will actually do it now I
try to transfer this to the students
right myth students hate specifications
okay so you know I had to do the last
thing I had to think like a student okay
when I was doing the course design the
other one is the myth that theory is
useless and in the whole design
this is actually deployed in that set of
the mainstay of software development at
Microsoft now fundamental ideas have
been crucial Hologic aspect
interpretation context-sensitive
analysis and summaries alias analysis
the kind of thing that we're actually
still working on him at CMU in the
context of this introductory course were
the basis of what he's been doing and
it's extremely important in practice so
like I said this was in 2005 and I can
distort this away as something very very
interesting and then of many years later
and 2009 opportunity arose because we
were working on a major curriculum
redesign by phasing in fall 2010 we were
designing a new introductory computer
science course and eventually I call the
principles of comparative computation
it's based on three pillars computation
of thinking algorithms and data
structures and imperative programming
and the computational thinking part you
can see how these things were influenced
by jeanette's and by man of yours talks
and so on now this is taken by about 500
students a year we have only 150 majors
so all the other students or non majors
they do learn about function pre and
post conditions they do learn about
looping variants they do learn about how
reason rigorously about their code so
the guiding principles was that
computation of thinking and programming
should go hand in hand when you actually
do when you learn computer science the
fact that you're not just hacking but
algorithm data structure design is an
intellectually interesting activity
they're rich activity and that rigorous
types and varying specifications
interfaces are crucial and a lot of
these things like I said I took away
from from earlier interactions so Randy
already talked about the role in the
curriculum so this is a prerequisite for
a systems class so we do need to take
take teach you know imperative
programming in the sea like language
that students are ready to take these
courses that actually required and see
at the same time it's a prerequisite for
the talk in the course again I talked
about so we do also need to talk about
algorithms and get them ready for that
course
so I broke down the learning goals in
along various dimensions the computation
thinking the programming skills the
specific data structures and algorithms
that we wanted them to learn and
application context and when I give this
presentation first of the faculty before
delivering the course I think there was
some incredible people were not
believing that I would actually be able
to do all of that but it turned out it
actually worked fairly well and I think
because we stuck to these guiding
principles to combine computational
thinking in algorithms and programming
in one sort of package so here are some
of the computation thinking concepts a
lot of them have to do with different
levels of abstraction which is why I put
them Jeanette's a quote up there so for
example sometimes you have to reason
about your code operationally how it
does it actually run sometimes logically
what specification does it fulfill
because you might not even have the code
you might only know what it's supposed
to accomplish not what it actually does
let me skip over the programming skills
and the algorithmic concepts they're
actually relatively similar to the kind
of thing that guy was talking about
except in no parallel lism in this at
all this is very standard sequential
types of algorithms but you know not I
mean fairly ambitious for a first for
first real computer science course and
also important for us was to put it into
application context repeat where
students could see their code actually
in action doing something that there was
no stress implement data structure by
actually seeing it in action so for some
puzzle solving examples implementing
husband code implementing a text editor
is a very interesting kind of assignment
the last thing they do is sort of
looking at code is data by implementing
a virtual machine which is kind of the
capstone for this particular course now
in order to make this work what I needed
to do is design a new language and we
call that C naught which is a small safe
subset of C but extended with a layer to
express the contracts the pre and post
conditions for function in the loop
Varian's so because it's a small safe
subset it can be garbage collectors you
don't have to worry about problems with
memory management we have only one type
of integers we don't have to worry about
conversions between them and contracts
are not a separate logical language but
simply boolean expressions that you can
run to check weather conditions are
being satisfied and then towards the end
of the course we transition to full c by
that time students generally have
developed in good habits in terms of
programming and they can actually handle
that and then they're ready for the
systems course which was another fairly
big influence on me because I actually
taught that course three years in a row
before I started teaching this one that
kind of knew what students were expected
to do in the follow-up systems course
after this introductory course ok so the
rationale for developing this language
was that in this fragment in period of
implementation of civil simple
algorithms are natural and you saw we
can do many examples the simplicity
perfects permits effective analysis I
think there was another very important
criteria that we wanted to be able to do
analysis and the fact that it's very
similar to kind of things that were
actually in industrial use and actually
I had jason yang from microsoft windows
team give a guest lecture in this course
first two years in order to talk about
what they're actually doing in industry
with specifications and how they
actually use that in the software
development process and that I think was
very interesting to the students one of
the most well attended lectures actually
so the lecture scheme are generally
there's this recurring theme that I
talked about at the beginning of each
lecture that we really have these kind
of three areas that we're trying to
teach together and we kind of have
different learning goals and we need to
keep these in mind and they interact so
there's the computational thinking
things like you know interfaces
abstractions specification versus code
there's the programming concepts that
you need and then the data structure and
algorithms which are trying to describe
so one example is going to talk about
priority queues and restoring invariants
so
you talk about what is the priority
queue how can you implement it with the
data structure called the heap and then
on the programming side you see that in
some circumstances you can implement a
tree as an array which is not usually
what you think about you usually think
about using pointers and then the
computational thinking idea is that for
the data structure to work it must
satisfy certain invariant when you apply
operations you will violate these
invariants and your algorithm is
responsible for restoring them in order
to get everything back into a good state
okay so looking forward a little bit so
contracts are currently checked
dynamically and it turned out to be
extremely useful in the context of this
course just like they turned out to be
extremely useful in in Microsoft product
development for probably related reasons
they bridge the gap from algorithm
implementation they express a program
intent they catch box during dynamic
checking and they give you early fake
failure and better localization of
problems and we would like to in the
sort of ongoing work to exploit
contracts further so Jason who actually
just came in we spent two summers at
Microsoft working with roostin Leno is
working with this right now so a couple
of directions we can take this one is on
static verification so before you ever
run your program the system will tell
you right here null pointer could be
dereference this is potentially bug or
it'll tell you this can't happen and you
have additional confidence in your code
and because the simplicity of the
language I think we have a good shot at
doing that there are specific challenges
if you try to do this in the freshman
level setting so it's not the simple I
mean you can push out things through a
large number of Microsoft developers
that's one has its own set of problems
but trying to make sure that students
who's just starting to learn how to
program and be computers think like
computer scientists the use certain
tools has its own intrinsic challenges
but you also have an opportunity because
every year you have 600 well willing or
unwilling subjects okay that you can try
things out and you'll see what happens
um there's also extremely diverse
because they come from very diverse
background so you prick it probably
prayer Lee good sort of a cross section
of the students where you want to
address that was at work okay so to
summarize we have designed here with
support from the computation and
thinking center the principles of a
period of computation course which is a
freshman level course which emphasizes
the interplay between computation
thinking algorithms and programming and
anecdotal feedback like we haven't done
any scientific study is that it works
works for the downstream courses also
works in the sense that students do law
and how to do these things so if your
final exam you give them some piece of
code let's say you give them a sorting
out they have never seen and you ask
them to write the loop invariants
generally they're able to do that
similarly if you give them a loop
invariants they can write the code so
they do learn how to use these these two
techniques that we teach them so the
really interesting research question is
now can be static analysis and theorem
proving to not for their own reasons but
to do eight students in achieving their
the learning goals make them better
programmers and inspiration you know so
there's a maneuver das there's peterlee
internet wing of course we're a team you
know at MSR bruceton Leno has been a
very frequent collaborator and we've had
multiple interactions people visiting
back and forth giving guest lectures on
our course or spending the summer at MSR
okay thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>