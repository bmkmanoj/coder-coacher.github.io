<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Microsoft Azure Storage | Coder Coacher - Coaching Coders</title><meta content="Microsoft Azure Storage - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Microsoft Azure Storage</b></h2><h5 class="post__date">2016-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BTwXG07gb7Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we'll look at Windows as
your storage one of the foundational
layers of the azure technology stack I
will give an overview of the features
that it provides as well as talk a bit
about some of the things that does under
the hood to keep your data safe and
provide high performance access to that
data I will also demonstrate how to
create a managed data and Azure storage
through the azure portal via graphical
tools and we'll even look at a small
script that shows programmatic access to
the data the windows azure storage
services provide storage for binary and
text data messages and structured data
in Windows Azure they're scalable
meaning that you can store very large
amounts of data in it also the
underlying system will allocate more
resources as necessary to maintain a
good level of performance when many
things are trying to read it at once
windows storage is also durable meaning
that the things you store in it will
remain there and remain safe from
corruption as your storage is also
available meaning that it is always
available to your application this is
possible because of software and
hardware resiliency engineered into the
azure infrastructure Microsoft monitors
the service provides patches andale
scaling and does the other work needed
to keep the service available at all
times the cost of storage is also key
you only pay for the storage and
transfer bandwidth that you actually use
the data and Azure storage is available
via a rest interface so virtually all
programming languages can access it and
as your storage account has a globally
unique account name each storage account
gives your application access to Windows
Azure blob table and cue services
located in a particular geographic
region you need to have a storage
account in order to use Windows Azure
storage fundamentally the storage
account represents the highest level of
the namespace for accessing storage
services you can explicitly geo locate a
as your storage account to a geographic
region or set geographic affinity with
other services so that the storage is in
the same data center as the compute
services you will be using each storage
account can have 200 terabytes of data
across all the different storage types
lobs tables and queues
a Windows Azure subscription contains
multiple storage accounts you can create
up to five accounts for a single Windows
Azure subscription the azure content
delivery network or CDN offers
developers a global solution for
delivering high bandwidth content it
caches blobs and static content at
physical nodes in the United States
Europe Asia Australia and South America
another interesting feature of storage
accounts is that they each have 2 512
bit Keys both of which are active there
are two access keys to enable you to
maintain connections to the storage
account using one access key while you
regenerate and replace the other access
key generally speaking you should update
your keys frequently to ensure security
a core feature of azure storage is that
data is geo replicated every single byte
of data that you right into an azure
data center will by default be
automatically replicated to a second
data center that is at least 400 miles
away you can disable this geo
replication if you really don't care to
have this level of data redundancy
turning it off does reduce the cost of
storage by a small amount as yours
management portal also includes great
analytical tools for your storage
account and the objects stored within it
it provides much more granularity and
insight than for example a hard drive
within your computer this gives you a
different and useful kind of insight
into the performance of your
applications as your storage also
provides a facility to do background
copying of large data and in a
synchronous fashion this can be very
useful when you need to move large
amounts of data around all the data you
store into Windows Azure can also be
accessed securely over HTTPS there are
more sophisticated mechanisms for
signing and providing more granular
security over your pieces of data so far
I've used terms like blob and tables and
queues these are the fundamental storage
abstractions of Windows Azure storage
let's talk about them in more detail all
the data stored in azure storage uses
one of these storage services the blob
service can store arbitrary binary and
text data using a key value system the
table service provides a structured
tabular key value storage mechanism for
non relational data the queue service is
a reliable messaging facility for
applications and components to
communicate with each other programmatic
access to these services is available
via the windows azure managed library as
well as the azure REST API we'll look at
blobs and tables in much more detail in
a subsequent video internally as your
storage is a very complex system that
has been carefully engineered to provide
resiliency and performance for a huge
number of customers while we don't have
time to go into great depth about these
innards in this video there are many
great videos on channel 9 that drill
into the internals of how this is all
achieved in this slide we'll just take
an overview look at the internals when a
request enters the azure storage system
it gets handed off to a layer of
front-end boxes these front ends load
balance to a number of partitions
servers each partition server handles a
set of object partitions whether those
objects are blobs tables or cues and the
partition server layer communicates with
a partition master system to load
balance the lowest layer of the storage
architecture is a distributed file
system which stores and replicates the
data across many servers and hard drives
an important part to know about this
architecture is that the partition
master not only watches for failure and
gracefully handles those but it also
spreads the load from partition servers
that are experiencing too much traffic
let's walk through the simple process of
creating a storage account and using
Azure storage Explorer to look at its
contents first we'll download as your
storage explorer from codeplex by going
to Azure storage Explorer codeplex com
you can see here that storage explore 5
preview 1 is the latest version but it's
a preview the latest stable version is
version 4 beta 1 in order to follow
along with the examples in this video
you'll need to get at least version 4 so
we'll just click download here for the
most recent version will click Save once
it's done downloading go ahead and run
through the Installer now before we can
actually use the azure storage explorer
we need to find out our storage account
name and the access key here I've
created a storage account and once I
click on it I can select manage access
keys at the bottom this brings up a
dialog with the primary and secondary
access key I've blurred them out of the
video for security reasons remember
there are two storage keys for each
account so we can regenerate one of them
while the other is still active and used
by applications and VMS this ensures
zero downtime while still allowing us to
practice good security procedures and
regularly generating new keys now we
launch the storage Explorer we click Add
Account at the top and we enter our
storage account name our storage account
key I've copied from the azure
management portal dialogue and I'll just
paste it here we'll select use HTTPS and
add storage account great now we see the
storage account in the storage explorer
by default storage explorer shows the
blob stored in the account we can change
the storage type with the buttons of the
right let's go ahead and create a new
container will leave this public so that
anyone with the URL can access the data
as you can see our container has nothing
in it let's go ahead and upload a couple
of files these are from the azure
training course examples directory once
they've been uploaded we can actually
take a look at them sample that txt is a
plain text file so when we look at it
not only can we see the properties of
the blob and the metadata we can view it
as text and these are the contents cut
diamonds is the CSV file and when you
see the raw text of it
here but it's quite large now we'll
shift gears a bit and we'll use Python
to programmatically retrieve the
contents of a blob in particular the cut
diamond CSV blob and then we'll create
entries in a new table for every single
row in the CSV this shows some Python
code that uses the open source as your
Python SDK the first line connects to
the blob service and returns a
connection object then by calling create
container on that blob service object we
create a new blob container in our
storage account the first line here
reads the contents of a file named task
one txt the second line then calls the
put blob function to upload the data to
the blob service this slide shows the
code to read a list of blobs from a
given container the code is very simple
and straightforward in this video I
introduced the core concepts of azure
storage and we walk through creating a
storage account with the azure
management portal hopefully you have
seen that as your storage is very simple
to use from either graphical tools as
well as a programming API however using
it properly requires more knowledge
about the details of the different types
of azure storage please watch our
follow-up video about as your storage
blobs and tables for more information
thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>