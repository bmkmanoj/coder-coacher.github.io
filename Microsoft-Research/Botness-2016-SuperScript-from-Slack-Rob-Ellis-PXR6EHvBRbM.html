<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Botness 2016: SuperScript from Slack, Rob Ellis | Coder Coacher - Coaching Coders</title><meta content="Botness 2016: SuperScript from Slack, Rob Ellis - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Botness 2016: SuperScript from Slack, Rob Ellis</b></h2><h5 class="post__date">2016-07-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PXR6EHvBRbM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good morning good morning I mean to
start at the top so I my name is my name
is Rob I work on superscript as's i work
at slack and on superscript this is a
passion project since about 2013 so
there's a lot of people writing bots and
this is just another way of doing it so
how do you is another great platform and
this is very similar in a lot of
respects I'll just going to walk through
some of the basic stuff and then we'll
call today to get back to writing bots
so super script is a multi-platform
dialogue management creating tool for
building conversational interfaces and I
build it because natural language read
natural language is hard so this is like
a common trigger and a lot of systems
under the hood what they'll do is
they'll take your input and then they'll
basically build a regular expression or
you have to supply regular expression
but building regular expressions is not
easy so in this case the word natural is
optional there's also the star so it
means anything before this is fine we
want to see language is in either hard
or tough so right to write a regular
expression you've got to kind of do
something like this so in this case
there's word boundary detection there's
optionals you got to deal with maybe
there's more input at the end maybe
that's required maybe it's not all of
these blocks are actually non capturing
with exception of the last one so I want
to get tough for hard back and know what
that is so maybe I could put that into
my reply later on down the road there's
also so much more to just building a bot
you need to be able to normalize your
input and superscript does that so
there's over 1,700 different words that
we convert from Commonwealth English to
us english we also you know fix all all
of the concatenation there's thousands
and thousands of common typos we take
care of all of that even before the
input comes in and even after the input
comes in we end up doing some parsing on
it so if anyone's familiar with with
natural language processing their their
stemming and you can either just put
like a like a porter stemmer or a
lancaster stemmer on the input to remove
the inflections but that's actually
pretty aggressive because you end
with words that aren't actually words so
we go one step up and limit eyes the
entire input so it basically it brings
it back to something that's that's
actually usable and you end up getting
better matches so here's an example of a
conversation so this is essentially the
first line is if I see anything I want
to reply so the minus is a keyword that
means just reply with this what is your
favorite color and then on the next line
there's like any input that comes in any
one word that comes in and if the last
thing said was what is your favorite
color I'm going to reply with the actual
color captured from from here and say
it's my favorite color too so I mean
this is a very simple example of just
like writing actually using something
that someone familiar with writing a
natural language and then it actually
works and it'll handle like is it all
the inflections all the other hard stuff
is kind of taken care of moving on sorry
natural scroll it's the system is very
extensible so we have a concept of
plugin and there's a very rich plug-in
architecture because we're using nodejs
everything is asynchronous so in this
case I'm actually calling out to a
function that looks at the weather and
it takes the assuming is the city
passing it into this function to look up
the weather and then you've got
essentially a note or a javascript file
somewhere else on your system that will
process and they'll call it essentially
anything in node land so any sort of NPM
modules available to you and again it's
asynchronous you can go and get the
weather you can do a database lookup
what's kind of cool is inside these
functions the this operator so the
actual object itself the scope you have
a user object so the user that said this
you have a very rich set of information
about who they are when the lot was the
last thing they said was lost 15 things
have said the last things they match
there's there's topics as well where
they've navigated to and from as well as
the message itself so the message that
we get in here is not necessarily just a
string it's actually a very rich object
with we do parts of speech tagging on it
we do so light parsing we have multiple
forms and we'll pull out some entities
like the names the nouns to verbs all
that good stuff and then we call out to
the service and then reply back and at
the end of the day there's also states
so you can get into some really
complicated things for example if you
want to be able to save a user's name
it's as simple just calling a function
not to do that and it stores it for
later on and then as well you can you
can get and recall these things as well
there's a it's a triple store built in
so if you want to do more complicated
not just key value but subject verb
object graph style knowledge extraction
and knowledge fulfillment you can do
that as well and that's going to all
built in using level graph which is part
of the Google window Google's tools
basically anything you want to do you
can probably do it with super script
thanks Jess</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>