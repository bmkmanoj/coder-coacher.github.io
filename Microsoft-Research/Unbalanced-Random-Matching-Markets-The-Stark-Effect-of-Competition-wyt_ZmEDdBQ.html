<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unbalanced Random Matching Markets: The Stark Effect of Competition | Coder Coacher - Coaching Coders</title><meta content="Unbalanced Random Matching Markets: The Stark Effect of Competition - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unbalanced Random Matching Markets: The Stark Effect of Competition</b></h2><h5 class="post__date">2016-06-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wyt_ZmEDdBQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year microsoft research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
you
okay everybody thanks for coming to the
MSR cloak Liam today we're going to have
a tile oggi talk to us about unbalanced
random matching markets the start start
effect stark stark stark effect Oh
competition Oh eat I is at sloan
currently so right down the street works
a lot on matching markets has done some
great things with kidney exchange even
went to the Nobel Prize ceremony without
wrong and he's going to be at Stanford
next year so you should take advantage
of this opportunity to talk to him hey
thanks a lot for inviting me this is
joint work with Yash kanoria and Jacob
Lesnar who probably lots of you know he
they were here first dogs that actually
this work was done when they were
postdocs here so let me just tell you a
little bit about market design that this
work is a little bit part of so in
market design we think about how to
allocate resources among agents who are
self-interested and if we have all the
data that we want we can just optimize
but sometimes the market has the
information engines are holding the
information if we just ask them for this
information they might be worried about
what are you going to do with this
information that's where we think about
how to organize a marketplace so we
think about optimization with incentive
constraints and some markets are markets
where the prices do a lot of the work
but some markets are not and what I'm
going to talk to you day about is those
those kind of markets that it's not just
prices that do the work and then we're
going to look at a market a two-sided
matching markets are very classical
model by galen chapli from 62 where
there's agents who have preferences and
the preferences think about this is rank
order list of who they want to match to
on
other side of the market so each side
each agent has references of agents from
the other side and there's no transfers
in that market and stable matchings
which is what Galen chapli introduced
that can can be considered as
equilibrium outcomes in those markets
and this model was adopted first of all
directly literally directly and
centralized clearing houses for example
in the National residency matching
program in school choice problems and so
forth and also adopted in analyzing
decentralized matching markets like
online dating labor markets college
admissions and so forth in this work
we're going to try to ask or
characterize what do stable outcomes
look like so let me give you a little
bit of background so first of all it a
matching is an basically every agent can
be matched to it most one person from
the other side and it's said to be
stable if no I'm going to adopt here the
notion of galen sharply there's one side
there's men and one side there's women
so it's smashing a stable if no man and
woman want to leave their matches and go
together so if you got your third choice
it means your first or second choice got
are assigned or matched to someone they
like better than you okay so that's a
stable match and canosa showed the this
nice structure of stable matching that
is has this lattice structure and
there's one that is called the men
optimal stable matching that men prefer
it every man prefers it over any other
stable match and women like it the laced
and there's one that is woman optimal
stable matching that women like the most
in men diagonal East and they also
introduced a very natural algorithm the
deferred acceptance algorithm which I
will describe later on in the talk that
computes one of those optimal matches
where one version is the woman proposing
the third acceptance which computes the
woman optimal stable matching okay so
just to give an example so here we're
all in the same page of how this model
looks like maybe there's a few men and a
few women and these are the rank order
list who they
whoo man a wants to be matched to one
two three four and sofa and now I can
ask for matching for example here a is
matched to three be 22 is that a stable
match in this case it's not a stable
match because a can simply block with
one or with two because one is not
matched he's happy to match Dre and a
prefers him or with 2 because two is
matched to be which is as least
preferred and he's happy to match to a
and aves prefer hat is happy to match to
two instead of three so this is not
stable here is a matching that is stable
of in this case every man gets his first
choice here's another stable matching
that every woman gets at her first
choice clearly those are stable because
if everybody gets their first choice on
one side there's no blocking here okay
so you see this is two examples where
there's one best for the women one is
best for the men it's not always the
case that every someone and there's a
matching that everybody gets his first
choice of course okay so here's a long
list and maybe there is more by now of
clearing houses that are using basically
there are there running centralized
marketplaces they're asking for rank
order list from the participants in
those markets so for example take the
national residency matching program in
the US asking doctors and programs for
the rank order list after the interviews
who they want to match too and after
everybody submits the preferences they
they run they find a stable match and
output that match okay this is where
you're going to work and so there's lots
of those and there's evidence thats
markets that those centralized markets
that are using stable mechanism
mechanism that output stable matchings
are working well and there is some
documented evidence for or centralized
markets that when they don't look for
stable matchings they fail because
things like unraveling start to happen
and so forth but there's some evidence
for that but so there's done this long
list of places all kinds of UC medical
programs also school choice and so forth
that are using those kind of mechanisms
and they work some of them for many many
years and the theory doesn't explain
completely still why those centralized
mechanisms are working so well so if you
look at a theorem by Roth from 82 it
says that no clearing house that finds a
stable matching is actually strategy
proof that means that you can always
find instances of preferences that
someone will want to manipulate me
report those preferences and might
possibly get something better okay so
you cannot organize it that it will
always be safe to report your true
preferences so that's what is it the
notion of people measure people know it
people usually say the truth so so
that's why are those success in the
sense that why they're still going on
and another man I'm not measuring
exactly giving a rare precise measure
but another thing can be are we finding
matches with respect to the true
preferences are stable with respect to
the true preferences or just do the
submitted provinces so if people are
still misreporting the preferences maybe
we're not doing the right thing that way
for many years just to match itself I
would maybe consider successful I don't
know beyond that no your justification
no sign in terms of why is this why's
that just the clearinghouses cell itself
is not breaking that's all okay because
there's my kids that look for for
example for assignments that try to
maximize the number of people who get
their first choice those kind of markets
there's some evidence that unravel okay
just for in terms of the assignment
itself why are those clearinghouses not
changing their rules or self so but
there's this theorem by demand galen
Sotomayor for maybe seven that says that
if if you as an agent you don't have
multiple stable partners when you look
at the set of stable matches you have no
reason to manipulate your preferences
so if you can if you can show for
example that almost everyone everyone
doesn't have multiple stable partners or
a unique stable matching there's no
reason to manipulate your preferences
and you can recommend people to report
the true preferences so if you take the
set of multiple stable partners means if
you take the set of stable matchings and
I look at you you as an agent maybe if
you have more than one match in those in
that selfie if you match different
people across different stableness oh so
this if if there is a unique stable
matching then everybody has a yes
because obviously a mechanism that I
would put the unique matching yes drop
the only everybody has exactly one APIs
okay and there could be that some people
have and some people don't happen
because it don't have the result is not
trivial but the know when Appalachian is
not really puts a stable matching its
will output that unique matching no
matter what you know no but it could be
that with respect okay well visit yeah
this judgment is far from Trevor I see
if there is a unique stable matching
according to their own preferences it
doesn't mean that I cannot manipulate my
preference i see they might yeah so they
show that if the core or the set of
stable matching is small there's not
much room for money production yes you
can only see yes okay so in this paper
will provide some explanation hopefully
that why stable matchings are unique
even though we have the structure of
this lattice structure and so okay so
we're going to actually look at random
matching markets I'll define in a second
exactly what i mean by that but by
randomness but we're going to the random
world because giving characterization in
the deterministic world is hard we have
already seen that this multiplicity
there so we're going to have a set of
and men in a set of n plus K women okay
and every man has complete a complete
preference list is we're going to rank
every woman and every woman is going to
rank every man but those ranking us
going to ranking are going to be drawn
uniformly at random and I ID ok so I'm
everyone is sort of Lee match then
there's just a stable Matt this unique
stable matching yes ok so it's I mean
he's considerate you can consider it the
model he is describing is on one extreme
of like a spectrum of models so on one
end is this model by Becker where
everyone has the same like there's
better women and worse women and better
men and worse men and then there's only
one stable matching which is the best
man in the best woman etc here people
have totally spread out preferences so
you might think there's a lot of
matching this year so exactly so you're
saving me a lot of motivation for this
model I want to say exactly that so that
if there's more correlation we expect
that the set of stable matching is going
to be smaller everybody agrees what who
is the best men out there then the best
man is just going to choose who he wants
to match to and so forth ok so to some
extent we don't have a formal proof of
this but to some extent uniform at
random is is a hard one of the hardest
cases it's not the worst to have if we
find a small core or small set of stable
matching in this case then we expect to
see a small set of stable matchings even
when more correlation is in the mud in
the examples you mentioned do you know
how many in the set in the way national
met resident matching program each year
so so there's evidence that the I've
mentioned this in a couple of slides but
there's evidence that there's very small
but most people have a unique stable
part yes so I guess one way to interpret
everything they do models you model and
and the solid model would be for example
if a there every every man or woman has
a number and then basically when you
when you set your preferences for every
say when as a woman setting my
preferences for every man I would throw
a Gaussian say we've done an expectation
that number and then the sort at least
is going to be so so so that suppose
there was a priori kind of Apriori
qualities plus some random shock like
you're saying that's a model that hasn't
been studied much and and what would be
interesting what's the relationship
between the error or the shock and the
quality is how long it would be
interesting infinite shock them you have
decent exemption than you have exactly
yes or the quality is all the same so to
some extent this is kind of if we find
that this set of stable matching is
small here then we're probably good in
when there's more correlation and the
idea is just independent preferences is
technically helping us here so the goal
again is to characterize typical
outcomes in those market but when
there's a little bit of coral a
competition by competition I mean we're
making the market is going to we're
going to make the market imbalance so
there's going to be a different number
of women and men so we're going to look
at two questions one is how many agents
in this model have multiple stable
partners okay that's the question that
will be interesting from a manipulation
perspective but also understanding how
many stable matches are out there but
we're also going to ask what is the how
each side is going to do in in stable
matchings in terms of who they are
ranked two so if you take a matching you
can look at what is the average rank how
men are doing in those how good are
matched men are doing and how good
matched women are doing in that magic
okay so let's say you're and let's think
about your match their top choice that's
rank
number one your second choice to and so
so it's sort of a welfare kind of
measure for each side okay so p10 knuth
motwani and Patel and this other works
looked at exactly this model when
there's a balanced market and Men and n
women and they showed first of all when
the market grows large the core is not
meaning that the fraction of a in the
sense that the fraction of agents that
have multiple stable partners goes to
one and they also saw that there's a big
difference be the woman optimal stable
matching there's a diff big difference
if you're a woman or a man on average
women are matched to their login rank
and men are matched on average to their
n by loegering rank ok so it really
matters if you're designing a clearing
house and the smaller if you are looking
for the woman optimal stable matching or
the men open ok so what we want to ask
in this what happens for example if you
are just one woman to this model and
what is the average rank if you add one
women in the woman optimal stable
matching poison yes has anyone looked at
matching it in between these women and
male optimal that maybe as a better
balance than this log n versus an over
Logan like in this model yeah in this
model even Patel I think looked and I
think you can find something that on
average everybody's doing square root
but i'm not sure but i will try to
convince you that it's not so
interesting yes mathematically it's
interesting so in the lattice of seven
matches yes sir any other interest
given up on all the people have been
studying between the sorry but matching
Latins yes so order any other
interesting stable matching that because
happy to study like I mean get windows
too so people did look at some median
stable matchings too because so people
try to offer the median maybe to
organize clearing houses looking for the
median and so how also women are going
to do not so here they're doing here
they're doing very well but now I'm
adding a woman so women situations can
be worse how how about how much worse
then login can it be okay so there is
documented evidence that take in some in
clearing houses and some people
estimated preferences when looking at
decentralized market so wealth and
parents and looked at the National
residency matching program at the data
and over there they found that basically
almost everyone has a unique stable
partner he Joe Thatcher and they really
look at online dating the estimated
preferences and then they check using
the estimated preferences they what they
do in practice they really run the
deferred acceptance to the men proposing
the woman proposing and they see if they
have a different match and they also
over there show that there is
essentially a unique stable matching
centralized market finds
that so that's a good question i'm not
sure like that's right yeah that's a
good question i don't know and with the
estimated preferences that you have run
a simulated model i don't know what they
do afterwards with the data itself that
it's it's hard to understand so
motivated by this work in this worker
Roth and parents on in that model
basically nobody ranked the entire
market people just interviewed with some
number of people number of programs over
in october and more motivated by this
nicole and muhammad midani wrote a paper
about this model the balance model when
there's na gence on each eye and men and
women and men are ranking only a
constant number of people a number of
women and you let the market grow and
they and that model explain why we see
small core in the National residence
imagine okay and Kojima attack extended
that model one feature of this model
that happens is that we are going to see
a lot of agents that we may none matched
because if every man only ranks a small
number of women lots of women will even
will not even be ranked so to some
extent you think you can think about
this is a special case of our model when
there's a big imbalance in the market
there's lots more women than than men
and when preferences are correlated we
say also that what we talked before we
expect the core to be smaller and
smaller there is some comparative
statics on adding men to the market but
seeing how bad is the how bad men are
doing in a given stable matching in the
men optimal or in the women optimal but
not the cross stable matches yes before
you leave this slide I have to ask but
the Indian marriage market
is there actually a centralized market
no no these are decentralized markets
the estimated preferences and this is an
interesting thing because here in order
to check if there's multiplicity they
really needed to round the deferred
acceptance it's not like here's the
market how good are men doing how good
are women doing and so forth so they had
to run it yeah okay yes yes here no no
people are looking for women directly I
think or being matched by computer you
don't yes you don't send people on dates
so one thing I think we'll hope to do
here is that we can say something about
the stable matchings without even
without running the algorithm so here's
the summary of results before I show
formally when they're unequal number of
men and women even by one the core is
small in the sense that almost everybody
is going to be matched to the same
partner and there's a small difference
between the men optimal and women
optimal so the small core despite the
long complete preferences and despite
uncorrelated friends and the second
thing is that the short side even if
there's just one more women are going to
do much much better in terms of who they
rank yeah trying to now this is let this
is going to argue that this to some
extent is robust but this is is going to
be less robust if everybody every man
even if they're on the short side every
man agrees on the ranking of women women
are essentially going to get a better
ranking than men okay but in our model
short side is doing much much better ok
so our results suggest that wheel
matching markets will have essentially a
unique stable man so let me start with
some simulation results with small
markets before I actual theoretical
results so here there's fixed the number
of women 240 and we simulate
a different market for each fix the
number of men and we simulate the market
with this number of men if the money and
this is the percentage of men that have
multiple stable partners okay when we
assimilate and only when the market is
balanced there's about 60 something
percent of men that have multiple stable
fibers and when you go to 39 or 40 one
it already drops down to around twenty
percent and quickly down to small
numbers as your paper suggests the
reason why the distribution is perfectly
symmetrical above center court no I'm
not sure it's perfectly symmetrical also
that it's hard to maybe it's hard to see
here it's close yes yeah it's not
completely but it's close yeah so what
about the men's ever drank how they rank
to how they rank their match to women so
this remember low rank is better this is
what happens in the men optimal stable
matching so and they are doing better in
that matching and this is the woman
optimal stable matching if you add one
woman this is pretty much the
predictions by Patel and if you add one
man or drop one man men are going to do
worse in the women optimal stable
matches and better in the men optimal
stable marching but if you complete the
graph you can see that the real
difference between them is only when the
market is balanced otherwise this
basically the same okay and and life is
really good for men in this when they
are on the short side in the sense that
if you live if you take the mechanism
that is called random Cyril dictatorship
which means if you order the men
randomly and let them choose one by one
the best woman from the remaining women
and you look at the average rank they
get this is what they get you see the
green line here so when men on the short
side in the stable matching they are
doing almost as
they ignore women's preferences choosing
with ignoring women's beds what in this
thank you specially late seen you it'll
yank that was it like the right
side I mean work cause the rank of an
unmatched person how no so the average
so women this is only for match only
four matches among match me this is what
it's like enjoyed a dangerous begin
I should be person here man are doing
bad okay okay so first theorem is about
the number of state number of men that
have multiple stable partners so with
high probability if you have n men and n
plus K women and K can be any number
larger than one only a vanishing
fraction of men have multiple stable
partners okay so this this has design
and strategic implication first of all
it doesn't matter if you run the men
optimal men proposing deferred
acceptance algorithm or the women
proposing the Fed acceptance algorithm
you can just find one stable matching
you you always find the same thing and
it also has strategic implication you
can recommence agents to safely report
their true preferences okay second
theorem is about about ranking so here
I'm just sorry so it's about rankings
this is the version when there's just n
plus 1 women there's in the paper
there's n plus K women but here you see
that in with high probability in all
stable matching men are doing well
because they're on the short side
they're getting matched at most to their
login rank and women are getting in all
stable matching in over a log anyway and
the differences between those
optimal stable matching cesare very
small that's the second graph so this is
for any k but what you need to take from
the slide don't follow don't parse this
now but it's basically that if you if
the balance is large or larger men are
doing better and better and in women are
doing worse that's what is it okay so
the second theorem tells us that with
high probability and they're all stable
matchings men who are in the short side
are doing very very well and they're
doing almost as much as they choose
ignoring women's preferences and women
are doing almost as getting randomly
assigned okay so here's a special case
with linear extra mini rex or another
constant fraction of women and in this
case men are getting really around them
I'm really choosing they're getting a
constant the average of constant rank
and women are really getting a random
assignment and this is not this is in
this in this model it's not so hard to
show this because if I start ranking I
drank my first woman second movement
soft but very quickly I'm going to find
someone who's just not matched at all
yes in the National resist matching
program and is the number of doctors and
flow statement or so n plus K the number
of doctor in the number of hospitals
whenever you're sweeter can take more
than one doctor right yeah so the in
them and the National residency matching
program programs can take more than one
not usually it's not many we have
extension to that case when the number
of programs are the number of seats in
each program remains small you can
extend some of the results you're asking
about high imbalance listen that we can
take them easy such as that this example
of NAS eternity of like this large core
is very very sensitive you but you bitch
slightly and yes so that those mark yes
but that's a very nice wedge case but
the total number of positions are
available is much smaller than the total
number of doctors in there
national business if it equals why would
it equal it's much smaller right the
total number of positions I really okay
so how big the imbalances I don't have
the numbers here on my mother but your
results show the doctors randomly
matches to position of all those and
positions get the best doctor there's
more correlation there's more
correlation in that market in terms of
preferences and so it's a different I'm
just arguing here some of these
solutions are probably these results are
probably sensitive to you want a model
which is probably like the wheels are
the real model it's probably small
similar to the mother where everyone has
valid so how good is every side doing is
much more sensitive to correlation but
not but actually the small core is or
the uniqueness is probably more robust
that's what and maybe one way to think
about this is let's focus on just the
top programs that submarket and over
there maybe there's more in trojan 80
than in there just like a whole fashion
supply and demand guys so like you know
is one way to think about this that like
there's essentially a vertical supply
curve and a vertical demand curve and so
if you have them literally coincide on
top of one another then there's like
basically any price can be supported by
the market and if you have the moving
that's slightly away from each other the
intersection you know goes down to 0 or
up to infinity more or less so I know
it's not quite that sometimes very close
to that one or two slides I would give a
little bit more intuition about well
it's not pricing theory but yes it is a
try to get this that's the next slide
yeah so think about to give some
intuition think about first of a market
that there is n buyers and n sellers and
every buyer every seller is selling
exactly the same good and every buyer
wants exactly one good okay this is a
classic probably negri micro textbook
every price in this market is going to
be a competitive price because fix the
price to be hundred no seller wants to
drop the price or raise the price okay
so but but if you add one seller to the
market the only competitive price is
zero because now one seller is not going
to sell he wants to drop the price by
epsilon and everybody drops the price
quickly to see in this market it's a
little bit more complicated because
first there's not identical we have a
Trojan 80 of preferences and there's no
prices but what happens here is that you
add a woman to the market that woman is
now creating an outside option maybe not
to all men but some men will be happy to
match to that women over their current
match those women that are meant to
those men who prefer this outside option
are now creating outside options or
indirect outside options to other men in
the market because if that those men who
like this extra woman will defect or
deviate to that woman you would
different some women will be free now
who some men will want so this kind this
is a chain of indirect outside options
that ripples through the whole market
that makes men much much better okay so
this is roughly what's going on another
intuition that if you are there is a
famous theory a well-known theorem in
stable matching called the rural
Hospital theorem that if you take a
market fix the preferences and it's
unbalanced it's always going to be the
same people who remain unmatched this is
called the rural Hospital here okay so
it's going to be hard to find a matching
if men on the short side now it's going
to be hard to find a matching that it's
always the same woman it's going to be
four hard to find a market that it's
always the same woman who remains
unmatched and make men's preferences bad
at the same time so they have to be
really good otherwise someone will want
to defect to that okay
so here that the price went down
immediately everybody prefers the seller
but here it when men became better off
through a chain of indirect outside
object okay so let me tell you a little
bit about the proof we start first of
all we use the following algorithm which
is described more precisely in a minute
if we start with the men proposing the
third acceptance algorithm which is a an
algorithm sequence of proposals that
gets to from men to women that finds the
men optimal stable matching and from
there we continue with us in this very
similar fashion to the women optimal
stable matching and we're going to count
proposals on the way and track who is
matched to who also okay so let me start
with the men proposing differed
acceptance algorithm so that's the first
step men on remember menu on the short
side so every man starts by proposing to
his top choice men women who get more
than one proposal they reject everybody
but accept that their best the most
preferred man best most preferred
proposal men who are rejected now we're
not mad are going to their second choice
and given proposing to their second
choice women are tentatively match may
who are tentatively match maybe from the
first round maybe get another proposal
and they look at the cumulative number
of proposals and they always reject
everybody except the best proposal so
far including previous ones so we and
then it goes on male always men rejected
men go on and propose to the next one
and women always keep the best one so
far this ends bar within our model it
ends that every man is going to be
matched because men are ranking just
everyone okay and it finds a mendham an
optimal stable magic okay
so this is the first stage after this we
find the men optimal stable matching we
want to move to the woman optimal stable
matching so the way to do this is to
take some women and we want to see if
she has a better stable partner so we're
going to pretend as if she didn't like
actually the last proposal the guy that
she was matched to in the men optimal
stable matching and try to get maybe
better proposals so by rejecting by
rejecting a man she might get even a
better proposal in the future which will
they bleed her to get a better stable
partner okay so that's one way to
manipulate your preferences if there's
multiple stable partners in the market
is to truncate your list maybe to force
the ladders go up okay so so what we're
going to do now is for every woman we're
going to check if she has a better
stable partner so and there's two two
things that can happen once she rejects
her current man she rejects her current
man she causes a chain of a chain of
proposals that can go back to her with a
better proposal so far and that's a
better stable partner for her or you can
go to this extra woman who is not match
and that's and then means that she
doesn't have a better proposal let me
illustrate this ok so we run the men
proposing deferred acceptance algorithm
and we found the men optimal stable not
so every woman every man is matched with
her best his best partner and every
woman is matched to her worst partner
stable part so i want to see if woman
one has a better stable partner the name
one so she reject him one and the
algorithm continues as if it was the
deferred acceptance out with so men one
goes down there lays his list and
proposes to the next woman and maybe she
accepts him maybe not suppose she
doesn't she he goes to the next woman
she doesn't want him it's all over her
current macho men one goes on and he
finds ee2 who prefers m 1 over m 2 so so
she rejects him too he's tentatively
assigned to W to m2 goes and propose
down his list to though to the next
woman he prepares
he finds w3 and rejects and and w3
prefers m 2 over m three so she rejects
them three and this goes on and maybe
now it goes back to w1 and let's say W
one prefers m3 over m one who her was
her worst able partner this means that
m3 is now on better stable partner for
w1 because all you can do now is
implement this chain that you found all
the cycle that you found and and could
record this matching and this is a new
this is m three is now a better stable
part yes just make sure I understand the
algorithm in the alternative case that
w1 did not prefer m3 2 m1 she would just
reject m3 m3 it will continue m3 will
continue to propose matched in Chester's
m3 to the prospect of remaining on man
that's right in this phase of the
algorithm continues she rejects um three
he continues to propose until he finds
something someone who willing to accept
so this is like you insist on getting
something better than m1 exactly what if
she doesn't then house if she doesn't so
let's see what happened and 3 by the way
it can still come back to her later on
with m5 or something ok so those three
guys now all found a better stable
partner because I could start the cycle
this this thing I could have started
from W to or from w3 so I record this
and I want to see if revelry one has
even a better stable partner because we
want to go to the woman optimal stable
match so she rejects him three and he
proposes down his list may be rejected
finds w4 and this goes on now w-4
rejects m4 and so forth and this maybe
goes now to this extra woman in the
market that is not matched ok suppose
there's just one extra woman w bar in
this case w one we know this is from the
rural Hospital theorem that she doesn't
have a better stable partner then
three that's her best table match okay
so so doublet this is because otherwise
because this one when we know she cannot
be matched in any stable part any stable
magic so we know now that not just w1
all those four women already found the
best table partner for them because we
could have started from w-4 we know
where to go w bar by definition does not
have a better stable matching she has to
remain unmatched so so the real deal the
real thing in the algorithm is going to
be to track the set of women that we
found from them the best table so
suppose those are the women that we
already know we found from the diverse
table partner we continue with the next
woman so the next woman let's say whe
rejects m8 + m8 proposes and maybe now
one of the proposal goes to this set if
mw4 prefers m8 over m4 we know exactly
where this chain is going to go to it's
going to go to w bar that means that w8
also is matched already to our best
table part okay so if this set is going
to be grow very large very quickly let's
say after the first chain already then
you're almost done okay and that's the
essence of what we do in the paper okay
in the okay so we add w8 and we continue
like this until we find for every woman
the best table 5 okay so the first step
is to analyze the men proposing deferred
acceptance algorithm and this is similar
analysis to be Cal and the second again
is the second phase is to attract the
set of women that we find for them the
best table mat and the stable best able
men and see that this set is growing
very fast now why is it growing very
fast is we give you a little bit of
intuition so
if you if if there's lots of lots of the
market is very large in preferences
around them if you start if you start
with a big imbalance then by default the
chain will go to one of those every
chain will be what we call the terminal
phase those chain will go to one of
those women but if them if the market is
such that there's just one extra woman
then first of all chains are expected to
be long because preferences are random
so the channel when does the chain and
the chain ends either when you go to
this woman to W bar or you go back to
the woman you started with ok and every
time if I'm now here in the I reach this
man is probability 1 over n roughly that
if I didn't make so many proposal run
over and that I go to this woman 1 over
and that I go to this woman ok so the
first chain already is going to be quite
long there's going to be internal cycles
so it's going to be actually around
square root n length but but one thing
we need to show is that the first chain
is going to be very long because the it
could be that the first chain is already
going back to this woman and then many
women have multiple stable partners and
that's a that's a concern but that's not
happening because this woman when we are
done with the men optimal stable
matching this woman already got many
proposal roughly login proposal and this
woman didn't get any proposal so every
if a chain goes back to this woman
there's still small chance that you will
accept that proposal that's why the
first chain is already going to be
pretty long
okay sorry yes it'll be very long and
we'll end it w bar is that part of what
you're saying or it's going to be very
long and go to W bar that's that's
that's important yes this woman didn't
get any proposal so far this it will be
with probability half go to hear or
probability half go to hear but that's
natural high probability or we go and
after that phase you already have square
root and size set S has already square
with them okay can we allow correlation
in preferences so the more correlation
we have we expect them to be a smaller
coil and we mentioned this sometimes
what is imbalance exactly it's something
we need to think about you can how you
can look at special cases like there's
30 doctors 40 medical programs and every
doctor prefers there's top 20 programs
over the top bottom programs in that
market they're still going to be a
unique roughly unique stable matching
because you can solve you find this set
the stable matching only with the 30
doctors and 2012 programs and then the
remaining guys are matched two remaining
doctors have to remain to the other tub
out there are programs yes
this markets as opposed to a really
clear short so I guess then probably the
normal thing would be not even this
complete tears but like there's probably
going to be noise in between tears but
in clear tears what I can we can say
follows from this these results that
they said that he there's going to be a
unique stable matching substance it's
unique you see it's almost like two
different unbalanced like the first
market there is like 30 doctors on 20
and 20 programs and then in the second
market there are 24 grams of the 10
remaining doctors yes yes a long time so
it's flips like yes and I think it's
interesting to analyze those kind of
markets to understand better who we want
to invite for interviews and things like
that so maybe I have I do have random
preferences in the among those 20 and
then random preferences among those 20
understand better who where are my
potential matches that's interesting
right right now we just give just the
reasoning why there's going to be a
unique stable and okay so what is a
general balance condition is an
interesting question for future research
here's some simulations when with
correlation in the paper there's more
more simulation results with correlation
here one side is completely random one
side has preferences from a logistic
distribution there's better is some is
some coefficient and so mmmm ranks women
w better times w with betta is some
coefficient for coronation and epsilon
this is from a Gumbel distribution so
that goes back to what we talked before
so it better 0 we're back to our model
and if that does hi there is almost
perfect correlation among between so men
agree on women's preferences so what you
so what you see here if you are the more
left you are the more random the
preferences are so here men are doing
the blue and the rather the rankings
of men in the men optimal and women
optimal and here they're doing very well
but the more men agree on how how good
women are the more women are doing
better and better women are becoming
more choosing than men men are becoming
more chosen this is the random Cyril
dictatorship this is the percentage of
multiple stable matchings this here you
see the percentages for some reason it's
not monotone which is may be interesting
but it doesn't go to num high numbers
like 60th before it goes to around five
percent okay so we give a bunch of
simulations in the paper that also show
that really the with different kinds of
horizontal preferences and that show
really that the balance uniform case is
really the knife-edge case here are some
more simulations with maybe some larger
markets this is when it's balanced and
this is when it's so it's indeed very
close like it's almost symmetric no it's
not completely so what it is ok so I'll
conclude here the so we studied random
unbalanced matching markets and the real
conclusion that they're highly
competitive as if there were prizes out
there and we find essentially a unique
stable matching and the short side is
highly favored in this market results a
result suggests that matching market has
a small coin that this means
implications for clearing houses that
it's safe to report your preferences and
it really doesn't matter how you
organize on which stable matching to
find maybe one more conclusion is a we
don't know much about optimal matching
so if we have some let's say in school
choice for example we need sometimes to
bus students and we have some budget
constraints or we care about other
objectives we don't know about so much
optimal matchings but if we do constrain
ourselves to stable matchings then maybe
the only focus is on choice menus or
what are the feasible stable
not about not which stable matching i'll
stop here
I think two slides back said an
interesting open question was a general
criterion for balance okay was more than
a general balance good what does that
question me nor can you elaborate on it
so I guess the fact that there's 50 men
and 40 women doesn't mean that men are
on the long side you need to really
start understanding the preferences for
example in this case doesn't mean the
programs are in the long side really
it's the top programs are on the long on
the short side and the bottom four
programs are on the long side and
preferences are more involved we don't
we don't really know so I understand
pretty much the future question I really
want to come for looking at the
preferences in deciding which side
effectively gets to choose so I would I
would maybe I would read it different a
bit now in the sense that where are my
potential matches so just in our model
we know that the short side can look at
the top log and preferences but when
there's preferences are more involved
than who should i look at should i look
at how many people from this tier how
many people from that tier and what if
tears are even not exactly completely
distinguished what do I look at them and
so those kind of question
thank the speaker there's food outside</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>