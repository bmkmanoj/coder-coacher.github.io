<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Everything you always wanted to know about web-based device fingerprinting (but were afraid to ask) | Coder Coacher - Coaching Coders</title><meta content="Everything you always wanted to know about web-based device fingerprinting (but were afraid to ask) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Everything you always wanted to know about web-based device fingerprinting (but were afraid to ask)</b></h2><h5 class="post__date">2016-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5Y1Y96jC5AA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year Microsoft Research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
you
okay well so let's get started I hope
that we are on video I'm been lifted so
we have a visitor today
Nick Nick of Arrakis from K you livin at
the moment but soon to be at UC Santa
Barbara as far as I know so he's going
to talk to us about well fingerprinting
thank you thank you I didn't know about
that last night so thank you very much
for being here and thank you Ben for
inviting me so the title is yeah
everything you also want to know about
web-based device fingerprinting but
we're afraid to ask
I'm not very honest because there's a
lot of things that you would like to
know and I will not cover because I just
we don't know yet so but I'll try to
give you a good introduction so I'm a
postdoc researcher at Kay you live in I
work mainly web security and privacy
although I have done a bit of heap
overflows in the past and what I like to
do in the web is I like to look at the
web as clusters of services and identify
the ecosystems of these clusters and
they're enumerate the players the
interactions between the players and
search for systemic problems within the
services so this fingerprinting work is
also type of ecosystem work so you can
keep this in mind so you may have seen a
similar slide in the past this is an
article from The New York Times and the
content that is highlighted with red is
all third party content right so it's
not coming from the servers of the New
York Times coming from various
advertising servers and social
networking servers and every time that
you ask for content from a third party
server that server has the ability to
set cookies to you and these are called
third party cookies because it's not the
New York Times that gave them to you but
a website or a banner within New York
Times and when you go to another website
that is affiliated with the same
advertising agencies then you will send
back the cookies that they gave you and
then they create browsing profiles of
you so they know that you went to the
New York Times and - you know another
1,000 websites and they can use this
information to sell to do it more well
better targeting of ads so this is it's
not exactly new but it's still very
interesting because there's a lot of
companies that people don't know about
that are very very popular in terms of
being included over
third parting the web so we did a study
last year for CCS for just who remotes
javis who includes JavaScript from whom
and we found for example that in the top
10 there are these three companies that
are providers of JavaScript libraries
and these guys they give some
functionality to website administrators
like trial like analytics but in return
they get data so it's Quan serfs court
curry search and add this and chances
are that if you're not doing some sort
of privacy related research that you
don't know them because simply people
they don't have a first-party
relationship with any of these three
sites so but this is as I said this is
not really news so today I want to talk
to you that and convince you that
tracking involves more than just third
party cookies so for the purposes of
this talk fingerprinting is the ability
to tell user support based on the
browser environments without using any
extra stateful identifiers so no flash
cookies no e tags no cache tricks
nothing like that I'm going to to
present to you some of the results from
it from a thorough study of current
fingerprint practice on the web and I
also hope to convince you that it's
really really hard today to hide the
true nature of your browser and how this
relates to fingerprinting so today
people they know more about cookies than
they used to know so according to a 2011
I think study from comScore a third of
users delete their first party in third
party cookies within a month of the bin
setup and that's a problem because
there's an advertiser if you rely on
cookies to track people around then you
sort of every once in a month you lose
your your browsing profile for that user
also you have this now this increased
interest in self help extensions in
browsers and you have ghosted in
lightbeam and i will show them in the
next slide what they are and what they
do and you also have the private mode of
browsers that users can go in and out in
order not to keep track of their data of
the web you know of cookies and stuff
that websites give for certain websites
that they don't want to keep their data
on their machines so so this is the well
irrelevant or I hope relevant site for
you Redmond reporter calm and here you
can see ghostery which is this plugin
this extension rather that has this long
list of third-party trackers and
tells you what he finds on each page so
here you can see for instance that goes
through found ten trackers on the Redman
reporter and you could do various things
from here like check out what specific
scripts they found from these guys and
also blacklist them if you want to and
then you have light beam which is from
Mozilla and light beam does something
different it tries to connect different
parties in terms of tracking so you see
here for instance that you have the
Redman reporter comm and you have this
other Greek and Greek so a Greek News
website and they are connected through
Facebook so when you do go to these
sites Facebook will be included in both
and Facebook will know that you as an
individual went to the New York's to the
well to the red moon reporter and then
to the Greek News website and here's
also CNN and you see common connection
so as you browse the web these
connections increase and essentially if
you let this on for a while you will see
that websites are much more connected to
each other than you would like to think
so this is all about cookies but what if
today it today I could tell you that
interested parties could track users
without the need of cookies or any other
stateful client ID and client side
identifiers as a bonus this is hidden
from users so there is no dialog for you
to inspect of all the various cookies
that are given to you and delete them
maybe and it's also hard to avoid it or
opt-out so you cannot just click on
something and say I don't want their
party cookies anymore because that's not
relevant so this is web-based device
fingerprinting and this game again
popularity first in 2010 from Peter
Eckersley he wrote a paper of like how
unique is your browser and there he
showed that certain attributes of your
browser environment can be combined in
order to track you and he said that
essentially if you combine in the right
way they create a kind of unique
fingerprint for you and so how does this
work
so actually said that you come to my
website and then I first ask your
browser a couple of questions like you
know who are you are you Firefox which
version are you which platform the you
ran on then if you have JavaScript
enable and you do know that almost all
users do then a curse they would keep on
asking a few questions through
JavaScript so if you could for example
let's say what is the width and the
height of your monitor
then he would ask what is the time zone
that you currently located in all
successful through JavaScript then he
would ask for a list of plugins from
your system like the Adobe Reader some
your Java plugins maybe your Flash
plugin and then if Java or flash were
installed then he would actually get a
list of the fonts on your system because
Java and flash they have the ability to
they have this API that they provide to
the applications you can ask for the for
the fonts that are installed on a user
system and then he would also have some
super cookie checks like could he set a
global storage or a local storage cookie
so he found out that in half a million
users that participated in this study
from the ones that had Java or flash
enabled so for the ones that he could
get phones from ninety four point two
were uniquely identifiable so
essentially almost no to users in ninety
four point two had all these attributes
the same okay and he also showed that
you could use a simple heuristic simple
heuristics algorithms to track local
changes in fingerprint so if your user
agent changes but your phones don't and
other things don't then maybe I can
infer that it's still you with an
updated browser rather than a new person
with a new fingerprint I can yes
I I don't know so I'm just I'm using you
know related work to position myself
here okay well what I can't show you in
connection to that is that an optical it
is still available online so you can try
it from your own machines and I tried
here this morning with my own and you
know it said that my browser
fingerprints appears to be unique in now
3.6 million users installed and if you
kind of look at you know what goes into
my fingerprint you can see here for
instance my user agent which is this one
which you know it's not really that
unique so one in 310 users share the
identical user agent but then and you
know the same for your except headers
but then this long list of things here
these are the list of plugins on my
machine right not extensions plugins so
I didn't choose to install any of these
so and here you can see that this is
like a ridiculously high amount of
entropy and essentially no other user
has everything identical so these are
the names of plugins their versions and
a human readable description everything
concatenated in one string and you get a
similar result for fonts right so you
see here that only one in you know
600,000 users have this have all these
fonts identically as I have so that's
what Eckersley said back in 2010 and
that was very interesting so what can
you use you know what when you use
fingerprinting for so the first and
obvious thing is ads there are no you
there are no cookies for you 2d there is
no check to say that I don't want their
party cookies in my browser so now I can
just connect your browsing profile
instead of connecting it to a cookie I
can connect it to your fingerprint so I
can maintain the list of websites you
have visited regardless of what you do
regards to what you delete client-side
and I can do the same even if you enter
in your private mode because your
fingering does not change when you enter
the private mode because nothing has
nothing's different everything is still
there in the same way the second thing
and this is the more positive way of
looking at things is that you can use
for anti-fraud so your bank is tracking
you for a year and they know that you
log in from a Linux machine and they
know you use Firefox and I know you you
know you log in during the morning for
instance they can add time stamping for
me
if suddenly you log in at night you know
from a Mac from let's say Indonesia then
something may be wrong so and then they
would say you know please verify that
it's you and it's not someone who's
stolen your credentials then we have we
found that some companies use
fingerprinting for pay walling so there
is websites for example art news sites
that you can drink you can read ten
articles for free but if you would like
to read more than you have to pay some
sort of subscription so if they would do
that tracking with cookies then you just
delete your cookies and you read another
ten and then you know you go on and on
however you they could use
fingerprinting to do they pay walling so
that there is nothing for you to delete
once you're done reading your ten
articles because the fingerprint is part
of who you are
and finally this happened in the summer
there was this attack against an
outdated
well tor browser and there was a Firefox
vulnerability and the people analyze the
the payload and they saw that it
essentially fingerprint in a bit of the
user system and it said that fingerprint
to a remote server and the most
plausible theory at this point is that
there were feds that they were doing
this trying to identify which users from
the Tor network are visiting certain
shady web sites or non shady so there's
a lot of you know interesting intrusive
and less intrusive uses of
fingerprinting so in 2012 which is when
we started doing his research what we
knew is that you know what Eckersley had
said and we also knew that there was
like some companies that were quite
vocal that they were offering
fingerprinting as a service so what we
wanted to find out is how you know how
are these companies doing it so are they
doing are they relabeling panopticon
their own product or are they adding
something more to it the question is
then could they do more you know could
they if necessary could they fingerprint
you more than they do today then we want
to find out the user base so which
websites are buying services from this
fingerprinting as a service companies
and the question then the last one was
like how are users trying to hide so
what do what do people do in order to
protect themselves against
fingerprinting and if it's working for
them so yeah so this talk is essentially
two papers in one
if you if you want to know more this is
the first one coolest monster published
in security privacy this year and the
second one every detective published in
CCS this year so that's that so we
started our work by analyzing the code
of these three vocal companies that you
know that said that we offer
fingerprinting and you can use it for
all cool things and this is what we did
so we first found the domains that they
use to serve the fingerprinting scripts
so essentially most of them they
advertise the fact that it's very you
can adopt fingerprinting in a very
straightforward way you just dumps a bit
of JavaScript code in your page and now
your fingerprinting your clients so then
we found some websites that use them we
extracted the code we isolated it from
the code of the website we duplicate it
and analyze the code of these three
services and then we compared the code
to each other and we created some sort
of taxonomy to find out where every
company stands and of course you know
companies are not really eager to share
the fingerprinting code with us so most
of them this is actually a real part of
of the code that we had to look at
manually so the results is our that we
were able to create this taxonomy as I
said compare its company to each other
and this they were quite some
interesting findings so the first one
was that collectively panoptic it was
fully covered so it it usually is that
the industry is a bit behind academia in
this case that were really up to date
you know what Eckersley had said in 2010
they were offering in their
fingerprinting services the
classification the taxonomy that we
broke up is split up in these five
levels so you see you can start from
fingerprinting things in your browser
customizations fingerprinting features
at the browser level user configuration
fingerprinting your browser family
inversion fingerprint your operating
system applications and finally
fingerprinting the hardware Network and
here you see these things here all new
things over what Eckersley was doing in
2010 so for instance for Internet
Explorer
Internet Explorer does not share its
plugins so there is no navigator dot
plugin plugins property in JavaScript
that one can use to read all the plugins
so what they were doing is they had this
very long list of class identifiers and
they were just enumerate in one by one
do you have that do you have that do you
have that do you have that in order to
get you know a partial list of the
fingerprints I'm sorry of the class IDs
that
were installed on that browser then in
the browser level use configuration we
saw that they were actually one company
was tracking they do not track choice
right so that's a bit interesting they
were reading the fact whether you want
to be tracked or not and they were
adding it as part of your fingerprint
okay then they a company was also
reading math constants from your
JavaScript engine and was incorporating
these math constants into your
fingerprint and we assumed that this was
that they're doing this in an effort to
separate JavaScript engines from each
other so if you're different in you know
in the floating points of something then
I may be able to identify the browser
that houses this JavaScript engine and
then we also found interestingly that
they were fingerprinting the Windows
registry and disobey you parameters and
of course the question is you know how
do they do that because javascript
cannot look into your Windows registry
nor into your TCP parameters and just
you know stick with me and I'll tell you
so
the non-trivial extras that we found is
the first things that we found non
plug-in font detection so if you
remember Eckersley he had to rely on
JavaScript I'm sorry on flash or Java in
order to get a list of fonts from your
machine however one company was doing
the following all of this of course in
an invisible iframe it was creating
these long strings for instance I do not
need flash if they were setting the
Arial typeface and they were measuring
the box around the the width and the
height of the box which essentially
means the width in the height of the
text and once they get this number then
they have this long list of fonts and
they keep on doing the same operation
right so because of stylistic
differences on each font family the same
string on the same font size it will add
up to a different height and a different
width than Arial right so and Arial is
used by your browser as a fallback font
so if I ask for a fancy font and you
don't have it Erol will be used to
display the text so every time that the
font measurement was different than
Arial it meant that the phone was
present and thus it was used to you know
to render the text in the screen so by
doing this for like 200 300 400 fonts
they could get a list of fonts through
javascript through a side channel
essentially attack judging JavaScript
without needing flash or Java the second
thing that we found and
is essentially you know how they access
your registry is that we found for two
companies that they have native
fingerprinting plugins so once we're
looking at the code and we saw that when
they're checking for the plugins
installed they have this specific check
for whether specific plug-in is present
and if it is it is loaded and you know
handed off control we were able to
isolate these plugins and analyze them
using Anubis and we saw that they were
essentially plugins that were existing
on the user's system for the sole
purpose of fingerprinting him better
right and this is not these are not
extensions so these are plugins and they
run with the same privileges as the
browser process itself so that plug-in
could look into your registry and they
were reading things like your the
installation date of your windows your
device drivers your IP address and your
host name and we were able essentially
to find that these native fingerprint
leggings they were usually bundled with
something that you downloaded and
silently installed in the back so and
essentially bundle with casino
applications and maybe Second Life type
applications the third thing is that
there are interesting fingerprint
delivery mechanism so you know how do
you offer fingerprinting as a service
and we saw essentially two different
modes the first one was that the remote
code was brought in from the finger
printer it fingerprinted the user and
then it added the fingerprint in the Dom
of the first party page so for instance
on IMVU when you're when while the user
is sort of waiting for the page to login
so that he can type in his username and
password he's being fingerprinted the
fingerprint is added in the as a hidden
element in the form in the login form
once you click Submit you're sending
your username and password and your
fingerprint to IMVU and the second mode
was that the first party side was saying
fingerprint the user here's the session
identifier and then the the
fingerprinting service it was
fingerprinting the user but it wasn't
sending that the fingerprints to the
first party service it was sending it to
itself and then we understand as we
understand using the session identifier
at the server side later they will be
able to say what do you know about user
you know with that session identifier
and they will get back information about
that user and the final thing that I'll
talk to you
was essentially proxy detection so
there's this interesting thing so the
thing we saw is the following we saw
that for I think was two companies they
were loading JavaScript and flash they
were creating these long
random strings they were exchanging them
between each other and then they were
you know they were just sending these
strings to the fingerprinting server now
what happens in JavaScript is if you
have like for for example an HTTP proxy
your request will go through the proxy
so if this is the you know that
generated token which is exchanged
result in flash it will go through the
proxy server so when the request reaches
the fingerprinting server it will come
from the IP address of the proxy server
however flash has the ability to open
direct connections in you know ignoring
your browser level proxies so you had
another token that was sent directly to
the fingerprinting server so now at the
fingerprinting server you see two
requests coming in from two different IP
addresses with the same long
alphanumerical token so now you can say
okay that's actually the same user he's
coming from two different IP addresses
because using a proxy this is his normal
IP address and this is his proxy and you
can incorporate this information in the
fingerprint okay
so if we move to adoption we were
interested okay this is how they work
who is using them we crawl the top
10,000 sites quite shallowly and we're
searching for inclusions from these
three fingerprinting providers and we
found at the time so 40 sites that were
using them and the categories were
mostly well they were across all borders
but porn and dating sites were most
prominent right we send emails to these
people saying you know why are you using
fingerprinting only one dating site
replied for the rest we just you know
this is our best guess so
for porn sites our theory is that they
are trying to detect the use of shared
credentials so you have a user yes yes
so from the categories the two top
categories were porn a dating sites
so you mean cover the total of the
dating sites present in the 10000 or the
total of the 10,000 well it's 40 sites
in total so yeah that would be a
percentage of these 40 yeah so for porn
sites are trying to identify share
credentials they don't want one user
buying a subscription in sharing with 10
friends right they want one user per
subscription so they're using
fingerprinting to protect themselves and
for dating sites once I'd reply to us
and they said that they they don't want
people to have multiple profiles you
know because then they they game the
system they want one users have one
dating profile so they use
fingerprinting again to identify
multiple users hiding between well
single users hiding between behind
multiple usernames and at the time
skype.com was the highest ranking
website
fingerprinting its users okay when you
try to log in yes
are they still using yes so this was it
done in 2012 I think they are sure they
are to their credit they're only using
it at their login page so if you would
go describe that company will not see
anything but if you try to go to login
that's when you get that's when they
shared like the JavaScript libraries
loaded and it's fingerprinting you okay
right afterwards so then you know that
was four popular sites then since you
know we did this work with UCSB we had
access to the domains from Webber width
and Webber weight is this high
interactive honeypot that is used to
find JavaScript malware in webpages and
we just searched you know what are the
domains that when analyzed loaded code
from these fingerprinting providers and
we found 3,800 domains the first thing
is that when we got their categories you
know that they span a lot of categories
so you had shopping sites that use
fingerprinting travel internet services
business and economy the second thing
that was more very interesting was that
the two top categories were malicious
sites and spam sites okay so malicious
sites and spam sites when analyzed by
Weber wet we're loading JavaScript from
these fingerprinting providers the what
makes this a bit more interesting is
that these three companies they don't
offer you know free previews of their
services and you can't go online and
just grab fingerprinting services you
have to meet with a sales representative
so the question now is the following are
malicious sites and spam sites using you
know just grabbing the JavaScript
libraries because and you know they can
use it because they're not paying these
services but they're just doing it as a
smokescreen for something or is it
something else and you know we just we
just let it at that I don't know anyone
at the three companies that won't answer
this question so that is that was the
first paper then the question was the
following
we know how these three companies work
you know we analyze them we did the
taxonomy but are there more you know
other more that were less vocal that
we're not included in surveys
the question is how do you find more so
if you were to do some sort of dynamic
analysis let's say you know you look at
things loaded how do you separate for
instance a fingerprinting script from a
generic analytic screen okay because if
I have Google Analytics or or
StatCounter or something else it will
also look whether have flash it will
also see at my screen size but you know
how do you tell one from the other and
the thing we our conclusion was that we
can actually look at fonts so according
to a Christless experiment fonts were
the second most revealing thing checked
it was the second most revealing
attribute of your fingerprint right so
we said that if the script you know
passes this threshold and it goes and
now us starts asking questions of fonts
on your machine then we treat this as a
fingerprinting script so yeah this is
what I just said our paper and our tool
that is available online is essentially
FB detective a fingerprinting sensitive
crawler right so you just yes so for
example I may want to display some text
to you maybe using three or four font
faces but why would I ask for 400 right
so we did not hundred bus yeah we did
not this was an exploratory study so we
did not know what sort of threshold to
do to you know to set so what we did is
we just we recorded everyone that asked
for fonts and then we manually analyzed
and said okay these guys they're using
the phones for example in order to show
text on the screen so we remove them
it's it's like a helper tool to identify
more finger printers rather than you
know an autonomous system that will tell
you for sure that this guy right there
is fingerprinting you okay so you know
no sir
yeah question so let's say a first
effect of blocking all those kind of
proving requests so I assume that you
know that Gidget to my servers and I
wanna find out in the plugins and to us
and stuff you know let's say that you
love old was realized probably it should
be over still okay this is one of the
research questions that having the end
the answer is I don't know what I was
saving this for the end but I can tell
you now so if I constantly if I
constantly reject your scripts okay is
it possible that I actually make myself
finger printable in the long run because
you know there's that guy from Microsoft
research every single day with that
browser who is not loading our
JavaScript files and then I think I'm
against singled out simply because I'm
not loading scripts and this is just an
open question right now I don't have a
good answer to that yeah
so the detection of phone snooping we
just you know using our result from
cookie Lee's monster we said how can we
detect fonts okay they have two ways of
grabbing them they have the JavaScript
based you know with measuring the width
and the height
so let's modify the browser and add code
when something is playing with the width
and the height of your of elements let's
record that and then for flash we just
had the proxy that was grabbing all the
Swift files was decompiling them and it
was just searching for the API calls in
flash that give back you know a list of
funds so these are the old results and
with FB detective we saw actually 140
fingerprinting sites 145 in the top ilex
at 10,000 another experiment the way
that we did is that we tried you know
one run with no do not like header and
another one with do not track equals one
and we got the identical results so we
were fingerprinted 100% in both cases so
at this point do not track this not
matter in terms of fingerprinting and
companies actually like blue cava is
quite vocal about that they say that if
you're a but you know we use
fingerprinting for ads and we use
fingerprinting for fraud detection if
you're a bad guy you can't just say Do
Not Track equals one because then and
you know you can we cannot honor that
because then we will just stop tracking
you so we will fingerprint you but we
will not use the your fingerprint for
ads right so that's a promise that's
very hard to to verify because it's done
server-side you're being fingerprinted
identically at the client-side so that's
that so yeah that is really a side
effect
sort of yeah that's it that's an
interesting question that's what
okay so for fingerprinting or in general
for third-party training TNT makes a
defense okay I would be I would like to
okay okay I'll take it out
so the sadness at this point is that you
know fingerprinting is out there there's
quite a number of new techniques over
panopter click we know that large and
popular sites are using them not too
many but they're still getting millions
of visitors per day since they are in
the Alexa top 10,000 so the question is
the second one that could they be doing
more so if they wanted the fingerprint a
bit better could they check more things
and the question essentially boiled down
to us as to how your brow does how do
your browser internals relate to your
browser's identity and I will only I
think I'll just go over one thing so we
decided to do something a pinning of our
own that's what we did and we focused on
two on the two special javascript
objects that have historically attracted
the most fingerprinting efforts so the
Navigator object that has all the
information about your browser like your
plugins user agent your platform and so
on and the screen that has information
about the width and the height of your
screen the depth of colors and what we
did is we just you know we're every day
guys so we just performed a series of
everyday operations on these objects we
try to add properties to these special
javascript objects we try to remove
properties and we also try to modify
properties and these are special objects
because they're created by the browser
they're not created by the you know by a
JavaScript program so these are the
better candidates to reveal browser
dependent behavior one of the things
probably my favorite one that we
discovered is that the natural ordering
of properties can give away browser
family and occasionally browser version
so if you would go to Chrome and you
would say please give me you know just
list the properties into the navigator
object then you would get navigated or
geo location dot online that cookies
enabled and so on if you would ask the
same question of Firefox you shouldn't
get a different ordering here so
regardless of who the browser pretends
to be
if I give through the ordering I get a
different result then I know that you
know that
that's who the browser is and here you
see Internet Explorer it started kind of
similarly as with Firefox but then
deviated fast into its own ordering and
that's a bit of an undersea fight you
know thing the ordering of elements in
an array in a list rather in the in bomb
objects so there's also more things but
I'll just skip them for today so the
question is now you know there is more
that fingerprinting can do we we have
fingerprints could do how do users react
you know how do people today how are
they told to react and how do they react
themselves and we looked at a few stuff
today I'll just talk to you about user
agent sorry
user agent spoofing browser extensions
so we found essentially previous
research as well as underground hacking
guides that we're telling you know just
install this user agent spoofer and
change your browser your user agent and
then people will think that your menus
you know that your many machines behind
a single IP address so we just went to
each market we search for user in
spoofing and we found 11 add-ons
extensions in total with more than
800,000 users now they're more than a
million the question is how do they
stand up against fingerprinting and we
try to be fair so we didn't use any of
our newly founded over newly discovered
techniques we just sort of we install
them and we looked at the navigator and
the screen object and we you know and we
looked at these things before and after
them being active so what we found out
that unfortunately all of them had more
but one or more problems the first one
is that they had an incomplete coverage
of the Navigator object so I would
change a user agent but I wouldn't
change for example the platform so now I
was you know I was Internet Explorer
landing on Linux you also there were
some that were randomizing attributes so
they were you know these allowed for
impossible configurations so you had
your browser pretending to you know
pretending to be an iPhone but having a
screen size of a desktop computer and
finally some were forgetting that the
user agent is communicated both through
your JavaScript environment as well as
your HTTP header so they were changing
one but they were forgetting the other
you know that is straightforward
available and the thing is that you know
you may think that okay so we tried and
we failed and we're back to where we
started but that's not true and since
I'm a Greek I like using Greek words and
we classify this as a niet regenexx
problem and the at regenexx means
something or or a rather and heterogenic
disease is a disease that was caused
during examination by a doctor or during
treatment by a doctor so you have users
that install these in order to hide but
they actually become more visible than
before and you can think about this sort
of in a van way if we assume this big
box here to be the entire finger
printable surface of a users of a
browser with all the quirks and all you
know the ordering of properties and
everything you have then the extensions
let's say extension a B and C that go in
and they you know they first the OL for
example they all change the
navigator.useragent but then each
extension author is he tries to do
something more you know one would also
try to change the platform or the other
would say I'll also change the screen
size to match so but the thing is that
you know what they cover versus what's
not covered is huge so the first thing
you can do is you can definitely use all
this part here to find out what is the
real browser so you're back to where you
started but then you can also check for
any of these you know areas that are
only covered by a single plug-in or by a
small combination of them and now you
have reduced your anonymity set from a
hundred million users of Bravo Firefox
to three thousand users of that specific
extension okay and this is essentially
you reveal extensions from their side
effects because extensions are not
enumerable as plugins are in browsers so
what we've done so far is we've been
detecting finger printers and we've been
raising awareness both to ourselves and
to people in general so we haven't yet
tried to see you know how would you go
about stopping that and one of the
things that we know that we talked about
earlier is what happens if we block
fingerprints today does it does that
make it worse and can we track that over
time and then you know some things that
we're discussing with been for example
if we're going to start modifying the
browser should we all pretend to be the
same like tor browser does or you know
like these browser extensions we're
trying to do or should we rather be a
different you
every single time so that I cannot you
know I'm different but I'm different
than the last time that you saw me now
be different again the next time so you
can still not correlate so and these are
all open things and I'd love to discuss
this in personal with you if you want so
to conclude fingerprinting is a real
problem and browsers are these complex
beasts that you can't just going change
to the attributes and say now I'm done
you know let's tackle another problem
current browser extensions should not be
used for privacy reasons so there are
some sites that some old sites that say
I need internet explorer 6 to run you
know if you have to go to these web
sites then you may use them but you
shouldn't have this thing enabled on
enabled all the time in your browser
because it makes you more visible than
before and this is you know this is not
really a scientific I guess statement
it's more like what I think at this
point is that long-term solutions will
most likely not be technical ones so we
may have to say that we'll do our best
to identify fingerprinting we'll do our
best to combat it but then you know the
site has to tell you in the same ways
that they do today for cookies we're
using fingerprinting on these sites are
you ok and then you as a user you can
choose whether you're ok with that
or you would rather go to a different
website so that's all and thank you for
your attention
I'll happy to take any questions so do
you feel like this is cotton mean so I
you know as someone who's in the field
I've heard of browse your finger
right in my opinion I don't feel like
it's really gotten as much like common
media attention even though is prevalent
and easily identifiable etcetera
etcetera so what is it that you think
will bring this to public attention like
how do not track has become a thing or
have any of the other you know right I
think that you know you had the third
party cookies and do not track the gaps
public attention because they were they
were bigger than finger painting and
still are so you have all these
self-help tools for third party cookies
but you don't have any self-help tools
today for finger painting per se yeah
any good ones so I think that's actually
for the for the second paper that I
mention FB detective it was picked up by
a lot of outlets and they sort of
everyone talked about it but you know
the more they talk about it the less
correct it becomes so at the end you had
websites that invisibly tracked you even
though you don't want to that has
nothing to do with fingerprinting so I
guess that's a matter of presenting it
to the world in a concise way and
essentially showing okay now you clicked
you know I will not accept that party
cookies but what's left
then easier you can make this for people
to understand that would be and what you
get
however I think three really for people
to start paying attention to this huge
but someone needs to concentrate on the
use question and that's why I use some
of the graphs of who was actually using
this too so interesting yet so far as
you can show that for some purpose yeah
the thing is that people are not very
vocal about it so I send around 40
emails at the time and like we got like
two responses one saying I cannot tell
you anything and the other one from the
dating site telling me about the Sybil
attacks so and this the the thing is
that there is a server side component to
all of this that we we do not know how
it works so you know you have the
JavaScript it runs it generates a
fingerprint this thing is actually
encrypted so even if you get it directly
from the JavaScript library you cannot
look into it as a first party website
you have to still give it to the
fingerprinting service and say what do
you know about that user and then they
give you back information about them and
some of them claim that they have this
threat score where they correlate you
know the same fingerprint across many
web sites and they have reputation
databases and they say ok that guy you
know he has a low he's not trustworthy
so you should not do business with them
but all of that is the thing that we
don't know about and as you know I
cannot go online and subscribe to these
things I have to go through sales
representatives and pretend to be a
company and I we haven't done that yet I
don't know if we'll succeed in doing
that but it's much harder than for for
other services yeah
so fingerprinting versus just cookie
usage but do you think being opening is
worse than third party cookies
I mean the end result is that these
companies are attacking users right
there building profiles but um so what
do you think like versus the tube is I
mean third party pick either cookies in
general are used by almost 100 percent
right so well there's like multiple
layers to this the thing is that if I
give you a unique identifier and I know
for a fact that it's you so and you
bring it back to me I don't have to
correlate things and you know if I say
two similar fingerprints decide that
it's two users rather than one however
fingerprinting has some interesting
properties for example it works when you
transit from the private mode into the
non private mode of your browser or for
example if flash is used well I guess
that's probably similar with the flash
cookies that you know you have
fingerprinting across browsers because
it goes through the flash cookies that
are shared by all of your browsers in
your system so today if you would tackle
a problem I would say you know just try
to stop or limit third party cookies but
fingerprinting is currently not
legislated in any way so it doesn't
appear anywhere and people are now
starting to think whether this should be
so as long as you have a lot of you know
legal attention on the cookies then
there is this sort of window for people
to use fingerprinting to get the same
results and not have to expose
themselves as you know we use something
that tracks you so if you're printing is
just a way to do cookies without cookies
and you see it as a
attempt to circumvent legal restrictions
then you could classify this as malware
and if you classify this is malware it
seems like among the classes of malware
out there fingerprinting is quite easy
to fingerprint right there's a very
clearly defined subset of things they do
when there's only so many tools for
doing them right so if you wanted to
finger from the finger printers is it is
it that harder is something that you
know we could just do we well you know
we are fingerprinting the fingerprint is
in the sensor we know who they are at
this point but I know from analyzing
their code that right now they're not
you know they're minifying they're
JavaScript but they're not per se trying
to hide more than that so the thing is
that a lot of the companies they come
out and they say look you can use
fingerprinting for for fraud purposes
you know for detecting fraud and there
is I think this is not my area but there
is certain legal requirements for banks
in order to have some sort of anti
fingerprinting measures to protect their
customers and fingerprinting could fit
that bill so it's not you know as clear
yeah so it's not a spear cutting okay
that's my work now it's done and we just
consider it as malware for instance the
the the native fingerprinting libraries
that we isolated for the two companies
we submitted them to virustotal and we
get zero to forty two engines flagging
this as malware and that was a real dll
they know that was loaded into your
browser for the sole reason of
fingerprinting you better so but none of
the companies was saying you know this
is ad word or it's something bad they
were all just flagging it as great so I
think it's it's complicated to just call
them out where and just well I just read
around I guess and
Ben Edelman he's he's a Harvard Business
School professor he made a career as a
grad student exposing adware okay and he
has both he has both computer science
skills and he's got a law degree
okay and an economics degree so he knows
exactly how to attack these guys okay I
would be happy to talk with you it
sounds good okay do you have any
information for like mobile devices
versus right on your devices I would
think that mobile devices would probably
be less fingerprint volson's yeah so we
don't have solid results what we do know
is that users they customize their
mobile browsers much less than they
customize the desktop browsers and for
instance I talked with a guy from ING
two weeks ago that they use
fingerprinting as part of protecting
their users and they told me that Oh
fingerprinting does not work for mobile
devices do you have any good tricks that
we can use and I said no but at this
point I think sort of like an open
question it's probably true that they
customized less but I wonder if they
have special api's that connect for
example to the Android operating system
that could be used also for
fingerprinting yeah
fingerprinting be more effective with
html5
there is there is some research for
example people have looked to the canvas
element of html5 where they just they
write some text in it and they read it
back out as an image and they showed
that there is a difference when you do
this operation on a Linux machine with
Chrome for example or on a Windows
machine with Chrome but there is also a
bit like there is a difference we we're
not sure how to quantify it yet it could
be used but that's it right now so there
was no like from the code that I
analyzed there was no evidence that they
were using that yeah
so the porn sites I'm assuming they're
doing it because people go into
incognito mode which doesn't allow for
the dropping of cookies so they do it to
track users
so I think that's probably one reason
our our own theory is for the detection
of shared credentials so that you don't
buy one subscription and share it with a
hundred people so you know they detect
whether the same username and password
combination is connected to more than
one real browsing environments
i we have that's right we haven't we
haven't checked with that one yeah the
thing is that for a crawling that's a
general problem in crawling that we have
is that you can it's really hard to go
past the authentication wall so you know
you will check for all the pages that
are publicly accessible but once things
are behind a login form you have a
problem so and I would suspect that
maybe for Hulu and for for Netflix that
fingerprinting starts maybe right after
you log in HBO HBO has said that no they
know that people share credentials and
watch the HBO show but they're okay with
it because people have to subscribe
anyway so they're also getting the in
person like cable subscriber even though
the script subscribers French families
might be watching okay yeah and I think
Netflix has like a 50/50 sign in
limiters
the different users right being able to
detect unique people because for privacy
sensitive things like porn people are
going into a Cognito or other yeah so my
thesis here is that so fingerprinting
happens on the client side so if you're
like this you know sophisticated
attacker you can claim that the script
run and you can send back a fingerprint
and you can construct this to have
exactly what you want in it and when
they you know when they they open it up
at the server side they will say okay
this thing run and it's a use that's
located in that place of the world but
but you can falsify all of these right
it's not easy to do it but it you can
for for normal people you can so they
you know they don't know how to view
source much much more much less actually
modified JavaScript libraries so I think
that today even though the argument is
that fingerprint can be used a lot for
you know for fraud detection I think
that if someone wants to go through he
will be easily he will easily be able to
go through so fingerprinting seems to me
to be working much more for the you know
for the large part of the population
that will just browse websites they will
get fingerprinted and then they will get
ads based on their fingerprinting yeah
ee do you see a trend with finger
bidding do you think it's good by going
up or we don't know so we do plan to use
the AFP detective tool to use to do a
longitudinal study where we sort of you
know we track it for a year and we try
to see whether companies try to change
or whether more sites are coming I have
the you know I have this sort of gut
feeling that it's growing but I cannot
give you numbers right now to the
extension makers
share your findings don't know what was
what would they're actually denied I
haven't so I cannot guess their reaction
pretty negative message yes so the thing
is that we do not know whether these
people are you know are making well we
do know that some of them are there
saying all this privacy this privacy
that use our extension but there's other
guys that just they offer an extension
that changes your user agent so it could
be that they're just trying to offer
services towards people that try to
access specific websites that check your
user agent and say I will not work
unless you have that but we did find you
know both academic research and
underground guides suggesting the use of
these and they're large numbers show
that even if you downloaded it and
installed it to access your you know
that website you're still this thing can
still be used against you on other
websites that fingerprint you
okay well so let's thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>