<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Real time control with lots of humans in the loop | Coder Coacher - Coaching Coders</title><meta content="Real time control with lots of humans in the loop - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Real time control with lots of humans in the loop</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FkTWn-Dk92M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year microsoft research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
good morning welcome thank you all for
coming it's my pleasure to welcome back
simon box Simon is disseminated PhD in
Cambridge and we actually met we met one
day when I went into college to have
lunch and this young man sat next to me
implant to document down on the table
and it turned out to be his draft PhD
thesis and you just had your vyver i
think but minutes earlier and the title
at rather interesting so we got chatting
and anyway by the end of lunch he had an
internship offer a hand excise this is a
very very bright young man and he came
to an internship with us on simulating
rocket trajectory flights I'm interested
in rocketry and managed to combine that
with a bit of gaussian process modeling
of the distribution of wind directions
in the atmosphere so we disorder monte
carlo simulations of rocket trajectories
and after his internship Simon went to
Southampton and he's going to tell us a
bit about his research at Southampton
thanks my introduction Chris I'm going
to talk to you today a little bit about
some research for me doing in the South
USSR anthem is a dynamic control
real-time controller systems that have
lots of humans in the loop so kind of
motivate their so on what I'm thinking
about here I want to kind of keep you oh
yeah probably
how's that OS I can hear myself now so
motivate this I just want to kind of um
I want to kind of guide you through an
imaginary scenario right so I want you
to imagine that you're you're going to
the airport so you jump in a taxi and
the taxi whisks you down very busy
streets but you don't experience any
congestion and you don't find yourself
waiting any red lights right your eye
for the airport you walk up to the
check-in desk and you hand over your
passport and your bag without having to
queue or wait you then go off and browse
some shops maybe buy some things from
your family and for your family and then
when it's time you work through security
without any delay and straight onto the
plane and into your seat so I'm pretty
sure none of you have ever had an
experience like that it sounds a bit
like a fantasy of course if you took the
humans out of these systems all these
systems traffic airport negotiation
plane boarding security these systems
are all running below capacity if you
took the humans out and replace them
with robots then existing control and
scheduling strategies could could
deliver something that I've just
described and so what I'm interested in
is how could you apply meaning
meaningful control to this system when
the humans are still in it okay to try
and improve the inefficiencies that
exist in them currently so I apologize
for the extreme text tips the nature of
this slide but I'm going to read all
this out right because I really want to
pin down some properties of what i mean
by a lots of humans in the loop system
so the first property is that there are
lots of humans in the system independent
human agents who are unaware of or
unmotivated towards the actions they
could take for sort of system optimal
performance and lots of different system
lots of different things have these
properties they crop up in other fields
as well the decision support for example
um in this particular system this
property is coupled with them with some
other properties the second property
being that there is a control action
deficit what that means is that the
mechanisms for applying to current
the system's either absent or two
altogether or they're very weak and the
final property is that optimal control
strategies tend to be computationally
intractable these systems so to talk you
through a full example if we use traffic
control as the example the first
property arises because drivers in
vehicles are unaware of the movements of
all the other vehicles around them and
the intentions of the drivers in these
other vehicles around them that's the
first property the second property
arises because even if some benevolent
controller did have for this information
all they can really do is change the
lights to red or green at junctions it's
a very weak form of control on the
system and thirdly even this type of
control even this limited form of
control optimal switching on junctions
on a network of junctions is
computationally intractable that's so
this is an example this is one system
which seems to overcome a lot of these
properties it's our kind of it's where
we'd like to get to writing I think I
mean you know just intuitively I think
you know firm if the experience of of
catching a plane was more orchestral
than it might be it might be might be a
smooth as smoother experience but here I
mean the first property has overcome
because the people they they practice a
lot together and they kind of know what
each other are going to do and they know
how to anticipate it something that's
very important is the guy at the top
here the conductor so there's actually
somebody a human applying real-time
dynamic control to this system okay
that's very important as to the
computationally intractable Izzy I don't
know right for this particular system so
for this talk I'm going to kind of split
it up into two parts in the first part
I'm going to discuss a case study
specifically looking at the traffic
control problem and and and and
particularly focused on the third
property of lots of humans in the loop
systems the computational intractability
problem property and then in the second
half of the lecture I'm going to talk a
bit about future work I'd like to do
how to kind of generalize some of this
stuff out to other lots of humans in the
loop systems in general and particularly
how to address other properties like the
control action deficit which i think is
probably the most pressing property to
be addressed so as I've already
mentioned the problem of controlling
traffic signals on an on a network is is
computationally intractable so traffic
control is an optimal switching problem
you have a network the nodes of the
network can only serve cannot serve
every single edge coming into them at
any one time so they have to have a
switching policy okay and in general for
a network of q's with stochastic arrival
of whatever it is vehicles in this case
these problems have been shown by very
smart computational complexity theory is
called crystals pappadeaux meet you at
UC berkeley to be expert on complete
which functionally means that they're
computationally intractable so most are
most traffic light control systems use
approximate optimization approaches
there are two systems that are widely
deployed in the UK at least a first one
is called mover these are all terrible
acronyms which I'm not going to bother
to divine but this is designed to work
on isolated junctions unfortunately
optimal control of each switch in the
network individually does not equal
globally optimal control so actually
it's a good idea to consider the
movements between junctions and this is
what the second approximate optimization
algorithm scoot does okay so it's it it
err is supposed to coordinate the action
between junctions to some extent
unfortunately oh I should just also
explain a little bit how these how these
work when i say i'm going to splain how
they work i'm actually just going to
explain how they perceive the world so
the sensors that these systems use to
perceive the traffic are
sensors called inductive loops these are
essentially metal detectors which are
buried in the surface of the road I've
actually got a picture of you can kind
of see where they are if you if you're
cycling around Cambridge you can look
out for these squares of sort of a bead
of tarmac this is where if a square has
been cut in the road and a loops been
laid essentially it returns a very
simple signal which is just a binary
signal indicating the presence or
absence of a large metal object above
the loop and so you get this kind of
step function coming out at four Hertz
okay if ones and zeros of either there's
something there or there isn't something
there and that's how that's how these
systems perceive the world the actual
algorithms they used to make their
decisions are proprietary so I don't I
don't know exactly how they how they
work however by working with industrial
partners people like trlr siemens with
people who own the licenses for these
algorithms and deploy these systems in
the real world we've been able to
evaluate them in simulation by
essentially using an API which connects
the simulation up to the actual move or
scoop control system which have a
warming wish to evaluate um and if you
want to you can get these simulations to
output a nice sort of graphical image of
what's going on on the junction so you
can watch the vehicles driving around
which is kind of useful I suppose for
sanity checking you've got everything
set up properly and I found myself
watching these watching watching these
images of vehicles driving around and
actually sort of thinking or maybe it
should have changed the light already on
this arm or you know thinking baton and
this motivated me to build a human
interface on to this simulation so that
I could just kind of have a go at
controlling the lights myself and see
how see how easy or hard it is and what
we discovered quite quickly is that um
if you let a human play this game so
they can see the vehicles driving around
and they can choose when they want to
change the lights they actually
can often outperform things like mover
and ski so they can actually control
control the traffic better we tend to
use this metric called delay to measure
how well how well a junction is is being
controlled and so the less delay the
better okay delay being and I should
define this actually at this it's it's
um it's essentially excess travel time
so there's a nominal average time it
takes a vehicle to drive through a
junction assuming that it is unimpeded
by red lights or other vehicles so at
any amount of time it takes beyond this
nominal free-flow travel time is delay
and so minimizing delay it's often often
a goal of theorem does everybody agree
what the right objective function is you
know the proper Dmitry result is that
independent of is that all reasonable
objective yeah actually that actually oh
yes okay so the question was is it does
everybody agree that delay is the best
objective function for signal control
and the answer is no it's not the only
it I'm actually i'm going to present
some other metrics so actually variants
over the distribution of delay is very
important because that gives you an
indication of how fair a junction is
being and so actually your your your
your your objective really should be a
combination of those two things there
are other metrics people are very
interested in for instance minimizing
co2 emissions actually it turns out that
that's fairly correlated with delay
because it's the stopping and starting
of vehicles which which was generates a
lot of co2 but and particular operators
are very interested in predictability of
travel times they don't they don't they
don't mind if people you know
conceptually they don't mind if people
spend a bit longer getting to work in
the morning if they accurately know how
long it's going to take them they don't
want it to be too much variance
enjoy any time so it's so there are
other there are other metrics okay so
coming back to this slide so this is
this isn't new right this has been done
before okay it used to be the case the
humans directed the traffic and in many
countries many cities around the world
they still do this images from Pyongyang
in North Korea so we must have lots of
before and after data right of how
performance of traffic light chain
traffic lights changed when we switched
from when City switch to from human to
manual to automatic control actually is
it the surprisingly little data they've
been very few before and after studies
on performance when this has happened
what one of the few that I know about is
the study that took place in Dakar this
was actually a negative result in Dakar
they changed traffic lights and then not
long after which they changed back none
I'm not saying that this is this is
definitely sort of a proof that the
human control is better it could have
been the case that the traffic lights
would just set up badly and vaca or that
they were it's just the way people
perceive them they didn't like them but
it's an interesting result nonetheless
I'm part of the reason for the lack of
information here is on the main
motivation for changing from human
control to automated control it's not
actually performance it's much more
safety so traffic lights are safer
because they don't make errors they just
that they're set up in such a way that
they just cannot give green to opposing
streams right and also actually the
safety of this poor person in the middle
of the junction is very important that
the one thing the research is very clear
on is that the level of pollution
exposure of these poor people is
horrendous and the health effects
associated with it a very horrible and
so it's not a good idea we don't want to
put people back on junctions but of
course using our computer game we can
think about applying supervised learning
to capture whatever strategies it is
that the humans doing that's good and
then trying to encode that some way and
then use that to control the junction so
and so we still have an automatic
controller but we've essentially
captured in some way what humans are
doing which makes them good here yeah
when you see humans taking decisions
locally at every Junction without
knowing with other humans and doing in
other junctions I don't mean that and so
that the results i'm going to show you
i'm only going to show you up to small
networks of junctions of up to three
junctions and in that case the human one
human was controlling all of those
junctions okay so there is a there is a
discussion about how you can how do you
generalize this out which to offer to a
whole network and that's an open
question I'm not going to answer that
and of course I stuck today screening it
seems like they can see like all the
traffic in different sized vehicles nor
one extra information the speed commuter
okay goodbye okay so the point that John
just raised is that the perception data
that the human receives is much richer
than the than than the the scoop system
where I showed you their perception data
was just from loop so if you're going to
give a human this kind of data you'd
probably need to put them at the side of
the road with a little peep hole and
they could just see the always by every
now and then and then they'd have to
kind of info what was happening from
that so the question is how much of this
performance improvement is down to the
better perception and how much of it is
is actually something that the human is
doing better than scoot and mover on the
approximate optimization front and I'm
going to present some data in a minute
which should hopefully break down those
two the difference there and so i'll
come back to your finish answering your
question when i presented that data okay
so it turns out that applying supervised
learning it is fairly straightforward a
traffic light traffic the signal control
junction is a finite state machine that
means the the control action space is
very simple it's just give given the
current state what what what stage of
the junction shall they select so so
junctions they have a finite number of
states known as stages which give green
to various combinations of arms and it's
just a case of which which of these
should the junction be in at any one
time okay so control of a finite state
machine is pretty much equivalent to
what you
machine learning type people would call
it classification problem and so you can
solve it using something very simple
like a two layer neural network sort of
a vanilla fully connected to layer on
networks of the kind you find in Chris
bishops book and so to explain to add a
little bit further explanation about
this i'm going to now go through a
little bit what's the inputs to the
network out what the state's face is in
control language and what the input
neurons are in machine learning language
okay so the first thing is is in order
to deal with John's point about the
perception data is what if we just let
the neural network have the same data as
scootin mover okay the loop data okay in
that case then anything that's and if
any if sort of the higher-dimensional
behavior decisions that the human is
making with their with their better
perception data if that can be captured
in this lower fidelity data then that
would be a good thing and I suppose that
would kind of indicate that the human
was doing something smart so to
explicitly explained what goes in so I
mentioned before that the loops return
this binary signal for Hertz binary
signal presence or absence there's a
measure a metric called occupancy time
occupancy is just defined as over over a
given amount of time what is the
fraction of ones to the fraction of
zeros ok so what fraction of time during
a given time period was the loop
occupied there's a vehicle above it and
so we have occupancy over 20 seconds for
each loop and in that simple t-junction
that was shown in the video of the game
playing there are 11 loops ok and
additionally we have a couple of
additional inputs which are the
decisions the stage decisions for the
previous two time steps they go in they
go in as well
it's 10 seconds which is actually quite
course you could go to some other time
step but as the results i'm going to
show you in a minute I mean the other
that's something else to think about um
so here are some results this is for the
simple t-junction that we saw being
played in the game the the y-axis is
delay average delay averaged over five
minute intervals so you get this kind of
transient delay over a test this is a
four hour test and the reason there's
lumps in these curves this because the
the load is being varied the number of
vehicles that are being pumped into the
simulation the blue blue line is the
performance of move our is better of
course and you can see the performance
for the neural network trained in the
game with the loop data and you can see
that it's kind of equivalent to turn
them over algorithm in light traffic but
outperforms it in heavy traffic and so
overall it does slightly better the
mover and controlling this junction
there's another line on that graph and
that's because well what if we let the
algorithm have have the better
information okay so we're doing this in
simulation and we can envisage maybe
some system of GPS in the vehicles or
cameras monitoring the road which can
which can pick up higher fidelity
information than loops and this kind of
sort of two goals here is what it is in
if we if we craft are in the input data
to be how we want it is one we want to
use all the information we can but also
we want to limit the dimensionality of
the state space and in particular that's
all become clear when I when it went
later on in the talk when I talk about
other methods so a common a common
strategy that's used in traffic
modelling is this thing called a cell
transition model a de gonzo came up with
this I believe um where you have you
break the road network up into
geographical regions these cells and
into each cell you attach a metrics like
number of vehicles in the cell average
speed of vehicles in the cell distance
from some point in the network
like for example the next stop line and
then in cell transition modeling you
just keep track of the exchange of
vehicles between cells but we aren't so
interested in the exchange of vehicles
between cells but we can use this as a
nice way to describe the state of the
network and in fact if we want to really
limit the dimensionality we can we can
kind of fuse together the metrics in
cells so this is this here I've put this
thing which I kind of nominally call a
bit although maybe it's not not the
right name for it um which is
essentially a linear function which
combines the number of vehicles in a
Cell their average speed of the vehicles
in the cell and the distance of those
vehicles from the next Junction stop
line and there are these coefficients
that are in this equation and these are
not really tuned in any way I've just
there just given the values that just to
to kind of an order of magnitude and
this is this this is purely to get over
the fact that if you're measuring speed
in meters per second that will be quite
a small number compared to distance from
the junction start line in meters so the
only point of those coefficients is to
kind of equalize those values so that
one doesn't particularly dominate okay
and it this bit is kind of meaningless
I'm not sure that it relates to anything
in the physical world but it's just it's
just it's just a plausible way of really
limiting the dimensionality of your
input space and so if you use bids like
their cell bids you can reduce
dimensionality of that simple t-junction
down to only four four dimensional space
so you've got four cells with bids or
five dimensional space 55 neurons on the
input and that's the other line in this
in this result so that actually you can
you can have a limited space you can
limit the dimensionality your space a
lot and actually get better performance
if you do that ok so that's just the
simple t-junction but I mentioned before
that control on the network is much
harder and from from an when you tackle
these problems with approximate
optimization the solving times for
networks I mean it grossly grows very
fast with network sighs ok so even going
up to a three junction networks becomes
a much much harder problem to solve but
approximate optimization
so the blue line on this graph is the
performance of scoot which is the
control system which is out there in the
real world today is especially very
widely used control system is in about
250 cities worldwide and the other two
lines are as with the simple t-junction
for a neural network trained by human
playing the computer game either with
just the loop data or with this sort of
other type of data that we fashioned for
sell bids network data and actually the
relative before the relative gain in
performance is much much greater on this
harder problem indicating that the
approximate automation type approach is
starting to struggle here as you go to a
network but the human is still
maintaining quite good performance
incidentally if you actually play this
game as a human plane again you feel the
cognitive workload is much much harder
when you control your three junctions
but in the game you have some benefits
so you can do things like pause take
your time to make your decision which
hat which helped you out a lot so the
way it's set up is there is um it is
there's a kind of average you set up an
average loading from each origin have
origins and destination points on the
network and you set up an average
loading between them and then use you
apply noise to that to get a kind of
stochastic spawning of vehicles into the
simulation that such as answer question
is if you've got a symmetric network of
triangle essentially more the end to end
part essentially it was the leading
essentially the same or any interim part
and then not exactly the same no but
they're very close they're very similar
that does that nathan is that a horror
or easier case than one loaded pass you
know they to be very popular and c2 and
c3 or unpopular yes is only
you're harder case actually can you
repeat the question so I get some
questions any website so to rephrase
Peters question you have three entries
into this network a BNC now you you have
more than that I think you have six if I
remember rightly yes you have six
entries into the network yeah okay so
there are six to two pairs yeah source
destination players yeah are they and
use you're saying they're all equally
loaded no no they're not secretly loaded
I mean what we're trying to do here is
is um it is we're trying to model the
kind of situations that occur in the
real world so this is actually a real
network and we have data on what the
actual flows are in that Network and we
use that to construct the matrix of
origin destination okay it took I mean
this network there are I mean in this
particular network that the loadings and
does not to keep a big asymmetry in the
loadings but there are other networks we
do where there are very aesop big
asymmetries and actually more
interesting stuff occurs in those
networks where there's big asymmetries
and particularly when you have an arm of
the junction which is which is very
infrequently serviced because then when
you try and optimize this this this can
tend to lead if you just optimizing
delay this can tend to lead to a people
waiting a very long time at these
infrequently serviced arms whereas if
you consider equitability and other
things then that happens less so much is
that that helping all right okay um I do
have some in fact I do have a graph of
wet with the human performance on there
but it's much simpler so I should
explain that I did that's a four hours
simulation and I don't ask human
subjects who played this game to play
for four hours to construct the training
data we asked the humans to play for a
half half hour test and actually the
human players can choose how fast they
run the simulation and most
people choose to run it at about four
times real speed okay so it takes sort
of around 10 minutes to play a game and
they'll play that at a fixed level of
loading and then they'll come have a
break and they'll come back and play it
another fixed level of loading and
that's how the train data is generated
the test data that I'm showing there
you've got a much longer test with
variable loading but that's just using
the trains network that so humans I
haven't got Dave data of humans playing
that because I mean part of the reason
is the actually humans when I say
they're good at this task they good at
it for a limited amount of time they get
they fatigue quite quickly as well so
one just a simple half hour test with
the same loading this you've got the
performance of this this is on the
simple t-junction mover to average over
the whole test versus the human versus
neural network trained by the human with
the cell structure the best human I'm
not the best human actually which is
kind of frustrating and I'm going to
present some variation in human data in
a minute so how am i doing for time
actually I'm gonna okay all right so I I
need to start sort of speeding through a
bit okay let's do that now then so I
mentioned before variance variance over
the over the over the delay is is is
important metric and here i plot
variants on that triangular network for
scoop versus neural network trained by a
human with the loops you can probably
visually see from those distributions
that the variance is a bit an arrow in
the neural network so it outperforms
scoot in the delay as we've already seen
but also in this other metric of
variance over delay which is a can be
considered as a proxy for equitability
of the junction okay so a couple of
questions or pre-empting a couple of
questions one that's actually just come
up already which is um how could a
humans generally this problem is the
person you've got training this neural
network they like us they have some
special abilities or is this something
that anyone can do so we got
we serve answer this question to some
extent when we took the game to public
science outreach event at the Royal
Society in London which called this
summer science exhibition it's a
week-long event we had a stand there and
some people played our game and who did
you play the game the current member
should I should have logged your score
actually well we did log the scores we
love the scores from 830 games now so
the human that trained the neural
network in the data I've already I've
already presented let's call them
subject X right these are the scores the
relative schools the relative delay on
the junction relative to their score so
zero would be the score of subject x and
negative numbers are people who beat
this subject and positive numbers of
people who didn't do as well and you can
see that that that the subject we use to
train to train the game to train the
neural network in this game is is a good
but not exceptional player the game
several of several people got better
scores when when playing this at the
Royal Society can also break them break
the data down a little bit buyer bye-bye
type of player so for most of the most
of this week during the weekday day
times it's mainly school kids busting
who visit but there are two evenings
which are black-tie events reserved for
fellows of the royal society and we can
look at the relative distributions and
well you know of course the kids beat
the fellows suffice but but I mean so
maybe that's just a bit of levity but
there's a there's maybe if you want to
take a point from that I suppose this
does indicate that that no particular
special technical knowledge is required
to perform well at these games right it
seems to be a sort of intuitive thing
rather than a rather than a special
knowledge required to do this I'm the
other the other question that might
arise is well maybe this is just an
artifact of your simulation what happens
if you try this out in the real world
does it still work so we had a go at
trying it out in the real world and we
conducted an embodied simulation
experiment at a junction and this was
actually filmed by the BBC so I'm going
to just play you a small clip now
we've taken over a test track we have a
junction with four lights and 30 cars
driving around continuously let's see
they can get the most cars through the
lights man or machine first up the UTC
it has to decide if wrote a or Road be
gets the green light Simon and I are
watching from above the junction we've
got a nice big Q I miss this leg and we
can see some vehicles building up and
the judgments just giving them the green
light so that was definitely a good move
that the computer made their move here
so really we want the computer to be
changing the light to green event pretty
soon I would have done it already
there's no this my room yeah exactly but
there was no buena the computer uses an
average time it will take for vehicles
to get through the lights when cars get
through faster it means another lane
needlessly sits at red ok hello it's up
the test battery great thank you after
15 minutes 323 cars have got through the
lights under UTC control right now you
so how many cars can I get through
you've got to be constantly thinking to
run where the traffic where's it gonna
be it's going to be cleared in about yep
right I go now they'll whip through okay
yeah that was probably time for you I'm
getting the hang of this I can
anticipate how long each lane needs a
green light 21 now thank you when you
were controlling on junction 386 Kyle's
made it through the junction yeah and
the computer was controlling above for
323 cards made it through him yes okay
so you know not the world's most
scientific test just just one result
right but but but you know this TV
presenter here Marta Marty Jobson who
again is someone with obviously without
special knowledge or practice of doing
this this problem actually was turned
out to be quite good quite good at
controlling the junction obviously while
this test was going on we we had GPS in
all the vehicles and collecting lots of
data so he can analyze the delay and the
improvement was quite big it was about
thirty percent improvement he got on
this test although i should point out
that the automatic control system was
not was was at this test track was not
actually up there with the most advanced
systems that are operating in the world
today so sims need to decom pollute
those results of it but we can certainly
say that you know Marty jopson did ok
controlling that Junction okay so look
just um so we can I think maybe I've
managed to convince you that humans can
be can do quite well at this Junction
and they can perform favorably in
comparison to the type of approximate
optimization based control systems that
are out there like move from scoot but
what about approximate optimization in
general right maybe that's just I've
already said that scoot and mover a
proprietary so we can't get in and dig
around and find out what's happening
inside so it's nice to test it's not to
give us some confidence it's nice to
test against some sort of approximate
optimization approaches that are
suggested in
the transport research literature
something that's very popular at the
moment in signal control papers in the
literature is temporal difference
learning particularly is Q learning the
algorithm that I've put up here I need
my yep this is kind of a this is this is
a sort of beautifully simple algorithm
it's very which has a lot in common with
things like um dynamic programming
essentially you have this these discrete
values why here which are applied to
come state action combinations so
combinations of states and decisions of
which days to select and you run this in
simulation and each and your value gets
updated at each step according to a
simple low pass filter we're on this
side you have this term R which is a
reward feedback which in which is is the
delay going up or going down is the
delay experienced by vehicles increasing
or decreasing and then you have this
kind of bootstrapping term which says if
you go if you happen to move to a state
which has has high value that's
considered a good thing um now it turns
out that this simple approach this
temporal difference learning approach
which is quite popular in the transport
literature it can be applied to a neural
network and this has actually been done
before and quite so the first lessons do
this I think was probably Gerald tesoro
when he applied temporal difference
learning of this type to his backgammon
computer backgammon program and so you
can do the same thing by back
propagation in a neural network just to
update the weights and again we have
this reward term the bootstrapping term
and there's an additional term here
which is often used this is a what this
does is it conveys reward back to
previous decision so what that says is
the decision I've that just suddenly led
to me getting a lot of reward maybe
that's not the only decision that
deserves credit so I'll give some credit
to the preceding few decisions as well
um and so this is quite a nice the fact
that you can apply this engineer neural
network means we can compare it to
supervised learning to a human on a very
level playing field because we can use
exactly the same network that we
use for the human we just instead of we
just take the human out the loop and
plug this temporal difference learning
in instead okay and see how this
approximate optimization approach
trained on track trained on simulation
compares to the human so again on our
triangular network you can see that
temporal difference learning actually
does very well compared to our lower
baseline scoop but compared to our upper
baseline which is the performance of the
human it's actually still not as good
okay see it also takes a lot longer to
train so the temporal difference
learning there was this is in a
simulation time is actually a couple of
months used to train to train to that
level of performance okay I wanted to
talk a little bit about stability in
temporal difference but I'm going to
skip over that a bit because I think I'm
running out of time so why are humans
good at controlling traffic lights so
there's lots of examples in the
literature in scientific literature of
problems of computationally difficult
problems which human which life exhibits
good performance at so there's this
famous example of slime mold growing the
Tokyo the Tokyo railway network so
network construction okay mold is quite
good at that apparently nice nice paper
in nature from the late 1970s John Krebs
investigating how great tits forage and
it turns out that they use they use
quite close to optimal exploration
versus exploitation strategies when they
forage famous result from computer
science in the late 60s very famous
computer scientist Donald Michie tested
the performance of humans against his
graph search algorithms for solving
traveling salesman problems and one of
his subjects outperformed his graph
search algorithm so I think it's clear
that you know computationally hard
problems you know have been solved quite
effectively by life I mean usually I
guess this is because there's some kind
of evolutionary imperative in the case
of problems like traveling salesman and
traffic lights I don't know what you can
say about those I mean maybe there's
kind of analogy to something that we're
evolutionarily tuned for so for example
Traveling Salesman problem might be a
little bit like the foraging problem
which are we note it's can solve
optimally maybe there's other factors as
well in the traffic lights maybe it may
be something to do with is that the
humans can empathize with the human
agents in the system and have good
heuristics for coming up with results
that way interesting I think it would be
very good to be able to understand why
what problems humans are good at and
what problems they aren't or why because
it would it would be a very good guide
for whether you consider supervised
learning like this to to tackle certain
types of problems in the future so now I
want to move on to this idea dear future
work and how to kind of expand what I've
been talking about out to lots of humans
in the loop problems in general and in
particular how to address the control
action deficit so as I mentioned before
there's there's a limit in the control
you can place on these systems in
traffic systems you can only change
traffic lights which is a limited form
of control in things like CEO just skip
back a slide and things like crowd
control building evacuation there's
there's almost no real time dynamic
control in these systems you can do sort
of architectural control of like you
know routing people and you can maybe
apply some limited scheduling but
dynamic control is more or less
completely absent in these systems it's
quite timely to think about how you
might apply dynamic control because the
technology is sort of there already
right so you've got in vehicle systems a
lot of work now is being going in a lot
of European money is being put into
investigating setting up Wi-Fi networks
on the roads so that people can have
Wi-Fi in their cars okay so you've got
you've got a you've got a possibility
for communication communicating
instructions or information to drivers
you've also got the possibility of
applying partial or full automation and
in the pedestrian scenario when you're
not in a vehicle you you've got
smartphones and
smartphones are becoming extremely
prevalent I think the penetration rate
in the UK is over fifty percent now
that's actually great incredibly fast
the adoption rate of smartphones has
been faster than computers and the
internet and even even credit and debit
cards which are the most ubiquitous the
deployed personal computing device I
think and of course so you know you can
consider other things as well like
augmented reality gubbels there's plenty
of ways you could consider applying
getting control actions into these
systems the question is is how do you
actually design the control because I
think and I think this needs some
thought right because I think if you
just decided to design apps on phones
for example for putting control to these
systems using the approach just a
plausible thinking of the designer I
think that could be pretty disastrous I
think what you need is some kind of lots
of human in the loop control theory to
be able to develop effective control so
how to go about developing this well i
think that the computer game and
computer games and also games in
embodied simulation like the TV clip i
showed you her a really good way of
investigating the dynamic to these
systems so you could envisage
multiplayer computer games where you
have humans can join in the game as as
human agents in the system in a lots of
humans in the loop system and you can
simulate control action technologies
like that the kind of things you might
get through a smartphone or an
in-vehicle system or maybe message
screens or something else and you can
investigate within these games or embody
simulations how does apply in control to
lots of humans in the loop system affect
their dynamics what's the dynamic
between applying control and feedback
what that actually does how that
actually affects the system that's
currently unknown and I think that games
both computer games in body simulation
would be a great way of investigating
how that happens and a particular way of
doing this would be instead of trying to
faithfully simulator lots of humans in
the loop system like we have with the
traffic junction I think a better
starting point is to try and create
abstract
games which just capture certain
features of lots of human in the loop
systems so to give you an example i want
to show you any show you an example of
how this is an abstract game which is
currently done in this area so this is
um the system work by colleague of mine
professor Eddie Wilson at the University
of Bristol and what he's doing here is
investigating how vehicle very simple
abstract game okay so this is not
something that occurs in the real world
vehicles driving around in a circle okay
and what you get here is when the
vehicles are close together you get an
effect happens where they vehicles get
bunched up and someone has to break and
this creates a wave which actually
propagates backwards around the circle
and you should be able to see now that's
a vehicle's drive around there's a
stopping what there's a wave of vehicles
where they stop and that this actually
travels backwards around the circle so
this is a nice abstract game which
captures this dynamics and this dynamics
exists in the real world this is data
from the m25 speed data taken from
inductive loops in the m25 there are
repairs and inductive loops every 500
meters on the m25 this is a spacetime
plot space on the y-axis time on the
x-axis the color is speed of vehicles
and these red lines are these stopping
vehicles coming to a stop in a stop go
wave and you can notice the gradient of
these lines these waves are travelling
backwards at the m25 and notice how the
gradient is incredibly consistent is
these waves always seem to move
backwards at about 12 kilometers an hour
so there's some dynamics you can capture
in a simple embodied embodied simulation
and it's there in the real world as well
and this is not just a vehicle thing
right this is actually general dynamics
which is general to lots of human in the
loop problems you can also do it with
people this is a researcher in France
glycol Julian Petra in Rio tried and
others as well but he had a particularly
nice video of it I've done this with
people he used cameras to capture the
people and he you can see this stop go
wave emerges as well and you can see the
space-time plot has these backwards
moving waves as well
so then let's think about actually so
you can use these things to to catch the
dynamics of these systems how to
actually apply control well obviously if
you can capture simple dynamics
relations like the stock go away but in
in systems which are undergoing dynamic
control and you can investigate the
feedback there then maybe you can model
that you can capture models and maybe
that will help you develop control but
maybe that's not enough maybe we should
also consider what we had with the with
the traffic signal control problem the
fact that we know it's a computationally
hard problem and that humans are
actually very good at it so maybe it's
worth considering introducing to our
games a different class of player a
controller player humans which can apply
can apply controls to the system and if
it turns out that humans are can apply
effective control and we can look at
capturing that pattern you know if via
supervised learning in exactly the same
way we did with the traffic lights and I
think that might be a good sort of
program of how to think about starting
to develop lots of humans in the loop
control in general for these kind of
systems yeah okay so to end that that
might be sound sounds slightly um
abstracted so I want to just give you
kind of a motivating example I actually
think the examples of this that you can
logically follow through and maybe not
the UM maybe not the most interesting
ones but here's one that you can sort of
logically follow through end to end and
maybe hope it maybe make sense so I need
to imagine was a building a 20-story
building like a hotel with three
stairwells a B and C and that there's a
fire somewhere around the middle there's
somewhere around the tent story that has
got into two of the stairwells am be so
you could imagine that there was some
kind of trivial good strategy for
evacuating this building which might be
something like let's tell everybody
below story eight to evacuate via
stairwells a and B because it's safe for
them to go in there and none of them to
evacuate via stairwell c cuz that
stairwell needs to take all the traffic
from above okay um so the question then
becomes well how do we actually get the
people in the building to follow this
evacuation strategy and so there's a
trivial but brute force solution
which is let's have an expert with
expert knowledge of the layout of the
hotel and knowledge of the evacuation
strategy let's have one expert for every
person in the hotel and let's get them
to call them up and fit and actually
guide them out of the building to
working them on their phone now I think
it should be it's I think it should be
clear that that that would probably work
and may even save lives it's just a
unfeeling in practice very impractical
so what you might like to have is if
that's very impractical you might like
to have something that can essentially
do this job but that's essentially a
software agent an app on a smartphone or
in some kind of digital device that in
the hotel and has been given to the
guests okay and then the question arises
well how would we train how would we
design the control for this device and I
think by gaming this scenario and
perhaps using expert human controllers
in the gaming of this scenario that
might be an effective way to develop
automatic lots of humans in the loop
control for a system like this which may
have some value and that's the end of my
talk thank you very much thank you very
much we have a few minutes a question
story yeah
general topology their words or in some
sense the independent of topology that
would create features from the given
graph and then be able to control um so
I mean I have thought about that I mean
I haven't done it but I mean I think so
for example I've thought about ascent
maybe trying to look at the junctions
that are out there in the real world and
in some way classify them so types of
junctions and then maybe how apply gen
apply some learning to those particular
different classes and then try applying
those to those with variation I think
that would be a really interesting
project I think that's a project that
should happen I just have never happened
to do it yeah yes and then I guess
that's what I was trying to get to a
little bit when I was talking about sort
of trying to generalize and abstract
these games is trying to capture the
kind of underlying features rather than
looking at particular lots of humans in
the loop system try and come up with
some sort of abstracted games which
represent sort of fundamental aspects of
it and I think that is obviously the the
right way to do it incidentally if you
did have to train every single Junction
individually that wouldn't actually be I
mean that might not be very
aesthetically pleasing but actually from
a functional point of view that wouldn't
be a problem the number of man hours
that currently go into setting up a new
traffic junction when it gets installed
are huge and many many times greater
than the amount of time required to play
the game for a couple of hours so
actually it wouldn't it wouldn't it
wouldn't be a killer if that was the
only way of solving the problem of
having problems on roadways or humans
driving into the side wall or each other
IE crashing and blocking them all the
way it does fail the average driver that
the speed when you exit the crash zone
is much higher so the throughput out of
the crash sound feels higher than
throughput in humans merging you know
didn't expect you are very slow do you
think there's any possibility to rapidly
fix that oh yeah um automated driving I
mean yeah okay well now it doesn't q it
doesn't it doesn't fix it doesn't fix
everything actually it's an automated
driving fixes a lot I mean it allows you
to apply more control it doesn't
completely take the heat if human
influence out humans I mean in most of
the and most of the time on a tangent
now but i'll just quickly wrap that up
and then i'll come back to your question
but most of the visions that i've heard
sort of automated driving involved
humans are still able to choose when
they make their journey and they're able
to freeze guard pulls aside they want to
divert and go to the shops or something
like this you know that they actually
have sort of real-time input so there's
istic there's a stockist icity from
humans in these systems that still
exists right even if you had full
control are not obviously partial
control more so so people can people can
this this stop go wave right this a this
dynamics I mean this can be this can be
generated in models as well and the way
to get rid of it in the model is you
just remove the human reaction time term
and it and it's not go away disappears
so if you can if you can get rid of the
human reaction time problem either by
partial control or full control and that
would be a huge help also what also
helps a lot is actually just people
driving in to the region just slowing
them down and that is why there are
variable speed limits on the m25 and
that is why you see a variable speed
limit is saying why why is it telling me
to go 40 miles an hour because it feels
like there's no cars around me that's
what it's trying to do it's trying to
get you to stop people slowing in and
reduce those stop and go waves and
that's another way of ameliorating that
problem which does actually work quite
effectively one last question Kim G how
this applies to air traffic control
because there's big you know single
European skies project to do a single
air traffic control system and to reduce
congestion in the air and also you know
takeoffs and landings and those types of
things I mean there are Airways or
essentially have motivating star then in
the US with free flight as well with
pilots are just allow to free roam
which I guess is an infinitely difficult
problem that and I just wonder how this
type of approach applies to that way so
much more come you got the human
controllers yes you know there's an
advantage over traffic control and
whether these sorts Jen's gonna ply well
essentially I mean air traffic control
is always all is almost a little bit
like the orchestra example that I showed
in the beginning in which you have
dynamic control real-time control being
applied by humans in the loop right
which is your air traffic controllers
and and so this is much more of a kind
of traditional problem that people have
looked at applying learning to a problem
like things like the Watson project and
things like that something which we know
humans can do well but computers can't
do right now and then we say okay so
let's make a computer try and do it the
traffic control world one is slightly
different because this is a problem
that's routinely solved by computers and
it's not done by humans much at all but
actually if you come back and look at
some of these other problems things and
again the building evacuation problem
that's an example which is it plausibly
could be solved by humans but isn't
because it's just totally impractical I
think it's quite interesting to look for
these problems which are not the less
obvious problems right the problems
which aren't currently being sold by
humans but maybe actually if you tried
applying it in using games and things to
apply human control maybe that they
would actually come up with effective
solutions in those scenarios human
controllers with stuff you're learning
here you want to make the controls to
make humans more efficient control well
yes I mean I mean the benefit of I mean
so the thing that the works with the
traffic and particularly the traffic
control example is that the human
exhibits high performance but as I
mentioned for a limited time and
actually there's some evidence in some
get of mistakes the humans make getting
filtered out because of course when you
do supervised learning you smooth right
you smooth a lot to avoid overfitting
and what this means is that is if a
human and when they're playing the game
what they tend to do is generally play
very well but make the occasional
mistake like a very common mistake is
just pressing the wrong button nose
mistakes actually get filtered out
because they don't get captured and and
I don't know I mean I don't know enough
about the air traffic control problem to
say that yes this would definitely you
could definitely do this but I mean I
guess that would that would be that
would if you
that would be the benefit the fact that
you you would if you could capture what
the humans are doing sufficiently well
then you you ameliorate you can work you
completely get rid of the fatigue issue
and the error issue yeah okay I think
we'll wrap up their Simon's around for
at least another half an hour so to have
any more questions you're welcome to ask
him informally off of it and with that
let's thank salmon for a fascinating
talk</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>