<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>When is fair sharing optimal? | Coder Coacher - Coaching Coders</title><meta content="When is fair sharing optimal? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>When is fair sharing optimal?</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Jr4N05qZNv4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year microsoft research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
I'm very happy for Julia for his end of
internship talk titled what is there
cheering optimal okay thank you right so
this is basically what I've been up to
doing my internship here and I'm what
we've been trying to study was basically
ways of dividing prophets among
self-interested agents in a way that
would would be nice would be fair in a
way so what's the basic idea so let's
take a simple model we have two people
we have an employee and the factory
owner and they can make money just by
working together and this is a very
fundamental economics problem how should
they divide profits in a good way and
there's been a lot a whole lot of
literature about this and basically a
lot of economic models boil down to this
if both people are equally required to
generate profits and they cannot make
any money on their own then any pair of
division between them is okay well I'm
there are of course ones that say that
they should get equal shares but in many
cases they don't so kind of giving all
the money to the factory or giving all
the money to the employee both are
equally fine and that seemed a bit odd
to us because what actually happens in
many cases when you actually look at how
people divide money is that what they do
is they decide upon how they divide
their money based on some contract did
they agree on ahead of time they take
into account the fact that their
interaction would take would be
sequential they will take place over
time and they sign some agreement to to
to enforce it and how much money each
one of them gets really depends on their
bargaining ability and just to kind of
drive the point home what's the
fundamental problem of not looking at
kind of looking at these games as just a
one-shot interaction let's look at the
following settings
suppose that instead of having just one
factory one worker we have two workers
and one factory and again the factory
and any one of the workers can just join
together and make some money let's say
they can make a dollar and the workers
by themselves are worthless the factory
in itself is worthless but the workers
themselves they cannot work together
they have no value for working together
so a lot of economic models what they
would say in in this setting is that
well the factory here has a lot of
bargaining power because each one of the
workers on his own can be replaced by
the other guy right so think about it
that suppose that one worker decide
Allah asks for some money then the fact
that we will decide to work with him but
then the other guy the other worker
could just say well I'll take even less
that actually happens right so when you
have a lot of labor in the market and
you know too much labor and the market
drives down wages right so that's that's
basically the idea of what we're getting
here and what we we did want to observe
here what do we do it we do want to
observe in this model is that this
problem arises when you think about the
game is just a one-shot interaction when
you start thinking about it as an
iterative setting where sequential
profit divisions occur then what we see
is that actually the amount of money
that you're getting at a certain round
affects your ability to produce so to
generate profits at the next round right
so think about again this employee if
you don't pay and employing enough then
he won't be able to pay health insurance
he won't be able to buy clothes buy food
stuff like that it won't be able to work
as well and say for the factories and
goes for the factory right so a factory
that pays its workers too much will not
be able to buy machines it won't be able
to maybe if you give more money you'll
be able to buy better machines and
generate even more profit so the amount
of money you're getting at each round
affects the utility that you will get on
the next
so far so good by the way if there are
any questions please feel free to stop
me we have like an hour here so yeah Oh
excellent to see that was easy yes we
invited everybody in the second question
is in some sense basically if I mean
from very practical setting if I give my
employees more money right they will say
okay now I don't need to be employed I
have enough balance right I owe enough I
have enough savings now I don't need to
work right so okay that's a good
question it's a valid point we'll talk
about kind of what we what are our
underlying assumptions here so one of
our well one of the things were kind of
assuming here we don't really look at it
what they say for the next round so you
must kind of invest all of your money
right so that's but but it's a very
valid point we'll talk let's talk about
this later okay so yeah so in this case
what you can think about it about is the
following we have sequential pair of
divisions and what we want is want to
find say situations where such
sequential payoff division is optimal
that is that it maximizes the revenue
that people get the total revenue people
get at every round and then we can ask
about these revenue divisions when are
people happy with how much money they're
getting right so kind of informally what
you have is basically like you know they
start with some initial bundles yeah
they take these bundles they generate a
big bundle of money then they split this
money between them then given how much
money each one of them has the next
round they generate money so here they
decided on some a somewhat equal share
so they managed to get a lot of money
and then they again split it but here
you see in this round for example the
factory owner decided to take a lot of
the money and the employee got very
little so the next round maybe they'll
just not generate a lot okay so it may
be hit some critical point where the
employee just became really useless
after getting too little money and
that's what actually happened and then
they got very little all right so what
we are looking at okay so in this
saying what we basically say is that
they can it in general divide the money
however they like at every single round
so anything is admissible but to make
things slightly simple let's look at
something we call stationary contracts
ok we agree ahead of time on a certain
pair of division let's say I get thirty
percent push mid goods seventy percent
okay and that's what we're going to do
for the rest of eternity okay and then
we want to we want to see what happens
in this setting okay so slightly more
formally so if it's in the in the many
players setting it generalizes but in
the two-player setting what do we have
whether we're given a utility function
that utility function is just a function
form r 2 to r okay just takes as input
how much money each player has an
outputs the revenue ok we have initial
endowments to each one of the players
just player one starts with some bundle
a 1 player 2 starts with another bundle
a 2 and we agree on how we share this
money so it's just a vector such that
the sum of the coordinates it's not
negative such that the sum of the
coordinates is exactly 1 so this is how
many percent it does player 1 get how
many percent does player to get ok and
then how does this look like how does
this iterative beta setting look like so
in the beginning as I said each one of
them starts with a bundle of a a 1 and a
2 respectively this is just time so at x
0 x 1 time to time three right and this
is how much total revenue they have at
every single point so x 0 ok well they
have revenue technically of a1 plus a2
but let's not count this round and then
what happens ok it's time one they
generate revenue of V a1 a2 okay let's
call this number V 1 and then player 1
gets x1 times that value and player 2
gets x2 times that value make sense and
then on the next round well exactly the
same thing happens but now these are the
bundles so again we evaluate the
function on these bundles on X 1 V 1 X 2
v1 okay that's v2 that's how much money
they have it round two okay and again
they share it so X 1 V 2 X 2 V 2 yeah
make sense and then again so round 3
exactly the same thing happens and that
contain
right so term three they get this much
revenue and this is how much player 1
gets this is how much player 2 gets okay
and the tension here is between how much
social welfare does the contract give to
everybody which is just this number this
v1 v2 v3 Vicki and how much utility does
each player have so players they don't
care about this value they just want to
maximize this thing okay they don't care
about v3 in itself if v3 was slightly
less but x1 was slightly more that'll be
great for player 1 that's what he wants
okay so he wants that's the tension that
were playing with here okay so on one
hand you have an optimal contract one
that maximizes this thing and then you
have an individually optimal contract
one that maximizes individual utility
and they're not necessarily the same
right so so far any questions before I
move on this is kind of you can stop it
paying attention after this so does this
make sense but don't don't stop paying
attention yeah pay attention just say
okay so let's let's do a few examples so
let's take as our function our utility
function to be v XY equals 4 times X
times y right and let's say that the
initial are now endowments are half a
dollar to each one of the guys okay and
what happens now we're deciding on a
contract so suppose that we decide on a
50-50 split of the profits so what would
be our profits at every single round so
we start with half a dollar each as we
said okay we evaluate the function at
half for each one of them well half
times half times for that's one and then
we split that equally so each person
gets half a dollar and then we just
repeat the exercise so this is going to
be their profits til infinity yeah make
sense okay this sounds good right I mean
everybody's getting 50 50 it seems to be
kind of a stable state right nothing
changes so we're getting the same amount
of money every single round which is not
bad but now let's say the player one
wants to offer this
contract okay a contract where player 1
gets seventy-five percent of the profits
and pair two gets only twenty-five
percent of the profits okay we'll play
one be happy with this arrangement well
okay in the beginning obviously nothing
happens he still starts with half a
dollar and the second round well they
generated one dollar on the first round
and then they share it three quarters to
him 3 1 quarter to Claire two and then
okay you evaluate the function you can
trust me that these computations are
correct but basically what happens if
you notice you can see some kind of a
pattern emerging here right so he Claire
one in the beginning he is indeed happy
with choosing this right so in the
beginning he's getting actually more
money than what he had gotten under this
arrangement but his time goes by this
turns out to be really really bad yes so
eventually he becomes quite unhappy with
the amount of money he gets he's getting
less than half and actually the amount
of money you'll be getting will go to 0
so it was actually in his own interest
to give a 50-50 split in fact you can
show that anything but a 50-50 please
split here is bad kind of like profits
will eventually dwindle down to zero
yeah makes sense okay now let's take
another example okay this is not okay so
just to to ease your concerns this is
not some well-known kind of economic
utility function right so I don't have
any idea of an economic setting where
your utility is given by sinus assign
something okay I mean if you know of one
please let me know it will be pretty
cool but but this is just for the sake
of an example okay so you have a utility
function that's given by sinus of 2 pi x
times 2 pi y sinus of 2 pi y and you
start with initial endowments of one
quarter one quarter so this is obviously
a constructed example but the idea is
this so we have two optima of this
function okay you have to trust me on
that one you can check it later
yourselves and one of them is when
player 1 gets one quarter of the profits
and player 2 gets three quarters of the
profits in which case what happens in
the beginning they both get one quarter
and then okay so this function evaluates
to 1 at this point and it also evaluates
one on all of these points and just
because it's kind of a cyclic function
and and what happens is that player 2 is
obviously quite happy with this he's
getting three quarters all throughout
yeah but because this is a symmetric
situation then the same would hold for
player 1 so you could also say that
three quarters for player 1 it's also a
good idea okay it's actually quite nice
so he's getting he's getting three
quarters of the profits player 2 is
getting one quarter and this is also
stable okay so there are two kind of
equally good or it equally optimal ways
of dividing profits these are optimal
points of this function over the domain
and there are two equally good ways of
dividing profits and one benefits player
11 benefits player to make sense okay so
now let's look at what happens so we
want to find the relation between how
much money do you get as an individual
or what is your individually optimal
contract and what is socially optimal
okay and we can actually find it so we
can actually derive these functions
mathematically using calculus basically
so let's take the first function we had
so it's a V of XY equals four X Y so
both players again start with a half a
dollar and let us just write V T of X to
be the social welfare at time T if
player 1 gets a share of X and player 2
gets a share of 1 minus x 0 x % + 1
minus x % yeah and let's call u T of X
to be the utility of player 1 at time T
okay and play everyone wants to just
maximize this function at everyone is
greedy he wants a time T I want to know
what is the best thing for me to do at
time T okay and so let's graph it let's
graph it for a pee from two to nine so
what happens here they they've commented
on the colors before but I didn't change
them but let me just explain so this is
T equals 2t equals 3 2 T equals 4 and so
on this is just the value of x and this
is the utility that player 1 is getting
okay and we want to find a value of x
that maximizes these utilities so this
is his utility function as a function of
the share he's getting at time 2 at time
3 and so on and where the Maxima of
these functions well if you notice they
seem to converge right they converge and
they do converge they need converge you
can verify that if you want and they
converge to this point here to the 50-50
split that we saw before that's neat
right I mean basically what happens is
that as time goes by yeah you do want to
get a little more for yourself but that
more that you're getting for yourself
seems to be actually aligning with
global Optima as time goes by okay so
it's not at the global optimum but it
converges to it and you can actually
prove this so take this function and do
this exercise you can actually show it
yeah am I making sense all right now
let's take another function now this
function is X AV of X of Y is X to the
power of one quarter times y to the
power of one quarter and both players
start with an endowment of 11 dollar all
right and again the same setting VT is
just the social welfare time t and u T
is the utility of player 1 at time T
which is just x times the total welfare
time T all right and he wants to
maximize this function and again we
graph these four times 2t equals to 29
all right and now okay where r 0 so
again so this is his utility function as
a function of X at time 2 at time 3 at
time four and so on and the little guy
here at the bottom is a time nine all
right so this also converges but this
time it doesn't converge to the globally
optimal strategy it to the globally
optimal contract okay the best things
for the best thing for the players to do
in this setting is to do a 50-50 split
of the money that will give them
maximize profits as time goes by but
this is not what happens this is not
what happens from the perspective of the
player from the perspective of the
player you do get convergence but it
won't converge to something that is
globally optimal his incentives do not
align with the group's incentives in
this case okay so you do get converges
convergence but not to the optimal
contract okay so sometimes you do
sometimes you don't finally just one
last guy let's say that the value of XY
is wait are there questions about this
does this make sense okay so there's
this setting and there's this setting
kind of like two very different things
okay and let's take one final example
let's say that the value of XY is just a
22 isn't for normalization a minimum of
XY okay so look at how much money each
person has take the minimum of that and
then multiply it by 2 all right and they
both start with one dollar and again the
utility of the player at time T is just
how much utility the group has time is
share the share that he gets and he
wants to maximize this at every single
time point so what would it look like
again if you notice this is the graph
for time 2 3 4 5 6 and so on and the
deep blue one in the inside that's a
time nine right and where is the maximum
of all of these functions the maximum of
all of these functions is at the 50-50
split right and that 50-50 split is in
fact the optimum of this function right
so in this case it's not that player one
wanted a little bit more at every single
round and that turned out to converge to
the optimal strategy but indeed in this
case he actually wants to do what's good
for the group okay the best for him is
actually what's good for the group so we
had one case where you didn't want to do
what's good for the group but it's kind
of moved
towards their as time went by one case
where you didn't want to do what's good
for the group at any point of time in
one case in this case where what you
wanted to do was exactly within the
incentives of the group right am I
making sense ok so the basic question
that we want to ask is when is when is
it that what people perceive is fair
when what people want for themselves the
individually optimal shares when do they
get to become optimal ok so the first
question is does it even happen ok does
it ever happen and the answer is that if
V is a differentiable function then no
okay so actually what we saw here could
only happen because this function is not
differentiable ok at least not at the
point of maximum yeah it's not
differentiable at the point to one-half
one-half ok it looks like a hat right so
in this case just because it wasn't
differentiable you had this event that
individually optimal actually became
optimal but if it was differentiable as
we've seen before you may get this
convergence or you may not but you will
never get actually that optimal is what
you want to do you would always want a
little bit more than what you're getting
ok there's this inevitable tension
between what's good for the group and
what the individual wants in our setting
which I thought was a tragic result
right I mean it kind of says something
says something sad about human beings
right so even if you know that what
you're what we are doing now the sharing
that were agreeing to now is what's
actually best for everyone you don't
want that you don't want that you want
what's best for yourself and and there
is no way to persuade you otherwise if
the function is differentiable so it's a
bit interesting right so you're assuming
that you know your players know you they
know how to trade and they know calculus
yeah so um yes
if you come noise you decide an
avocation right so I basically this is
what I want and after have told my bed
now you will separate you will give me
my share and then you say no I won't
give you your hair when I inject some
noise um okay so a quick okay so a quick
answer is I don't know because I mean we
haven't really looked at that but my
guess is that if that noise is small
enough then what what I'm about to say
would still hold ok so I'm going to sign
kind of say something about the
convergence and then I would like
between individually optimal to the
optimal and I believe that it would
still hold even if you have some noise
there but noise actually we discussed
this in somewhat in what's related to
this work and you do get this model of
noise in portfolio selection right so
you have a model of stocks you want to
know which stock to invest in but they
have some noise on how much money you
will get from them and then and that
affects your choices for future rounds
so in that sense I maybe that's what
you're trying to get up yeah so so yeah
so it is certainly a very similar model
but but yeah I mean there is some
difference here also can also in the
setting so here if you want the stocks
actually want to maximize their own
profits right so but but yeah I mean
that is that is a direction we have
thought about we haven't studied it
doing this time yeah but it is very
relevant so yeah as I said indeed if
there is a if the function is
differentiable there is going to be an
inevitable tension between what's good
for the group and what's good for the
individual the individual always want a
little more could it be a lot more so
let's look at when when is it that an
individual one will want more but not a
lot more so just as a reminder for those
of us who haven't looked at these things
for a while we say that a function from
RN to R is a homogeneous if for any
vector X and any constant see the value
of C times X is just C to the power of K
times the value of x all right and
basically think about it like this
suppose that you have a majority of
degree 1 so what does that mean that
means that let's say push meet and I
come in to the table and both of us have
in X money and why money and then I get
a hundred times X and push me gets a
hundred times y then what our value
would be is just a hundred times the
value that we had gotten before okay so
a hundred times more resources
translates to 100 times more profits if
K is more than 1 that means we're
getting more than 100 times we're
getting 100 to the power of K and if
it's less than 1 then we're getting less
than 100 so we have the decreasing
returns on our decreasing return is on
our money yeah and well one thing that
we we kind of observed as we looked at
this problem is that how much of those
functions are nice kind of they're
really nice and easy to work with in
this setting because basically you want
to kind what we want to do with the
basic question is to find this optimal
stationary contract and that's in
general not very nice to do if your
function is just anything because you
need to do this recursive thing right
you need to evaluate the function share
it and then reevaluate at that point so
if the function is homogeneous then this
becomes much easier you can actually
find it you can find a closed-form
formula for this VT and you can actually
derive an optimal contract quite easily
so that was already nice but more than
that what we found this is kind of the
main result of what what we did so if
you weren't paying attention from the
time I told you can stop until now pay
attention again so a if V is a
differentiable function and it's
homogeneous of degree K ok so if K is
greater or equal to 1 then individually
optimal contracts converge to a critical
point of V okay so it's a point where
the gradient of V over the kind of
constraint to the stationary contract
space is 0 right and basically so this
means that individually optimal
contracts converge to critical points
otherwise they do not
converge to critical points all right so
what does that mean that means that in
particular if V is a strictly concave
function well if it's strictly concave
that means that the only critical point
over the space of contracts is a global
maximum right so what does that mean
that means that if you have a
differentiable homogeneous in strictly
concave function then all individually
optimal contracts eventually converge to
a globally optimal solution so as time
goes by individual incentives and group
incentives become one you do not want to
change the what you do not want to
deviate from the group optimal solution
at least not by much so again as I said
you will want to change it but the
change becomes infinitely small as time
goes by does this make sense I thought
this was actually quite nice so I really
I really like this this idea and I
actually like this bit a bit more
because what does this say this actually
tells you of a situation where you're
guaranteed to not have convergence you
are kind of told when will you never
have an alignment between individual
incentives and group incentives so in
this setting so basically V is a
differentiable homogeneous function of
degree K where K is strictly less than 1
then never under any circumstances will
players want to do what's good for the
group make sense ok so now let's any
questions ok good ok so what what I'm
not saying here so I need to be a
slightly more precise so if if you have
a sequence of ones that converge if you
have a sequence of such contracts that
does converge to something then it will
converge to a critical point here in
here basically what it says is that
no convergent sequence of of such
individual to optimal contract will
converge to an optimum okay if it
doesn't converge it and it doesn't
converge right then kind of I mean then
you can't say anything um what okay so
what when I say optimal for J the agent
I'm talking about optimal at time T
right so it'll be kind of a sequence so
at every single point you need to choose
something that's best for you so up
really kind of there's no reason to
assume that this sequence will converge
to anything could be but all I'm saying
is that if it does then under the above
conditions then it will converge here
and it will to converge to an optimum to
a critical point here and it will not
converge to a critical point here yeah
and this notice this is just saying a
critical point okay so it could actually
is so it could be a max a local maximum
it's not even guaranteed to be the
global maximum so we actually have
examples where you you get converges to
a local maximum something that's kind of
good for the group but not the best okay
so that that's also possible but of
course this doesn't happen if the
function is just kind of a hill right if
it's if it's strictly concave then this
doesn't happen so let's look at a few
functions that are strictly concave and
do occur in kind of rather commonly in
the economic literature so the most
general case that we could find was CS
production functions so C as production
functions are generally so they do
appear quite often in economic
literature they have these nice
properties they they have some
uniqueness properties so they're the
only functions that satisfy some nice
economic properties and basically what
they do is they do some sort of a
weighted average okay so given a vector
X what they do is they take X I over ai
ai is just some positive constant and
then they take the power of that to the
power of are they average that and then
they take all that and they take the
earth root of this yeah well 1 over R
so what happens here well notice that if
these these functions are one
homogeneous okay so that's actually easy
to verify right and we know that if R is
strictly less than 1 so if R equals 1
this is a linear function okay if R is
more than one then its convex and if R
is less than 1 then it's concave concave
so it's concave it's strictly concave if
RS degree less than one and then indeed
our results will hold and what it says
that if you have a CS production
function such that r is less than 1 then
any sequence of individually optimal
contract will converge to an optimal
solution as time goes to infinity yeah
so that's nice I mean this is a nice
class of functions make sense another
class is cobb-douglas production
functions so here this is if you notice
a generalization of the four times X
times y that we have seen before right
we have seen that that example just just
now and here we have again so if you
have given a vector in RN x then it's
just see some constant some positive
constant times the product of X I to the
power of a I ok and this is just some
nice result it's just that the limit as
R goes to zero of the cs production
functions is written here is just the
cobb-douglas production function alright
and that by the way is why we have this
one over in here so that's why we don't
kind of tuck it into the constants just
so that we can I mean just because then
it converges to exactly this it's just
nice and what you notice here is that
this function if you look the sum of the
AIS I didn't write this down um okay so
this function if you look at the sum of
these AIS then it's homogeneous of the
degree of the sum of the AIS right so
kind of you can think about it for a
second then if you kind of multiply each
one of these x i's by some by some
lambda right then
what you will get you can extract out
lambda to the power of some of these a
is right so it's homogeneous of the
degree of the sum of the a is so if the
sum of these AIS is strictly more than
one weakly more than one then our
results again hold and then any
individually optimal contract will
converge to a sequence of individually
optimal contract will converge to an
optimal contract but if these some of
these guys is strictly less than 1 then
it won't converge in fact we can show
what what it does converge to ok that's
just by analyzing just doing analytics
on the function itself and that is what
we get here and in fact notice that this
is a so we've seen the case of X to the
power of one quarter times y to the
power of one quarter so that's just a
special case here and if you recall in
that case indeed we didn't get
convergence to the optimal contract yeah
remember ok cool and again the main
function that we have also seen before
so this is called loan TF production
functions and they're just limit as R
goes to minus infinity of these CES
production functions and it's just c
times the minimum of X I over AI okay so
now what do we know about these
functions well we know that these
functions well they're concave right
they are homogeneous of degree one
that's that's also fairly easy to see
multiply everything here by some
constant lambda then you can just take
this lambda out here yeah so they're
homogeneous of degree 1 they're concave
but we're missing something to apply our
results which is differentiability right
these functions are not differentiable
so we cannot just apply our results it
doesn't it doesn't apply we really kind
of rely on differentiability in the
theorem we use lagrangians and stuff
like that we do need the function to be
differentiable so our results don't
immediately hold so what can you do well
we can look at the linear function and
just manually prove that the result
holds ok I mean just do the math it's
not a very difficult function
l'analyse is just the minimum of some
numbers it's not so bad to do that but
we can actually do something slightly
nicer and that's something slightly
nicer will be later useful and this is
the we claim the following holds if you
have a function or utility function V
and that function is a limit of a
sequence of differentiable homogenous
functions of the Greek a a greater to
equal to one then the same results hold
okay so if you have a function that is
not in itself a differentiable function
but you know that there is a sequence of
differentiable functions that uniformly
converges to it then we can still apply
the same theorem making sense and as I
said just now the long tail function is
the limit these functions the cs
production functions converge uniformly
to the minimum to the learnt a function
so our results do hold okay so that was
a nice bit ok now let's let's wait any
questions so far do I make sense cool
right so now let's let's try to to
continue getting some mileage out of
that result of the sequence of of the if
the function is not differentiable in
itself but it's a but it's the limit of
a sequence of differentiable functions
let's start to get some mileage out of
that so let's look at network flow games
so I hope all of you are familiar with
what network network flows are but
what's a network flow game so a network
flow game basically is a network flow so
we have a directed of a graph we have a
source and target vertex and each edge
is a is a player right and the value of
the network is its maximum flow so who
are the players here the players here
are just the edges so each edge is a
player alright and each edge resource is
just the capacity that it has all right
and what we do is we say that kind of
given the amount of money that you have
you just multiply that amount of money
by the initial
edge capacity and that's your new your
new capacity okay so you want to find
this maximum flow and then what you want
to do is you want to divide the profits
of that flow between the players okay so
there has been some literature on that
i'll get to that in a bit but let's
first see how our results apply here
wait so the setting makes sense alright
so again given the amount of money each
player has what we're doing we just
multiply that by the initial edge
capacity and that's the new capacity
think about it that what we have is that
we get these initial edge capacities and
the initial endowments vector is just a
dollar each okay that's another way to
think about it and what we have is a
value function that is homogeneous of
degree 1 well if you multiply all the
edge capacities by a hundred you'll get
a hundred times more flow through that
network okay exactly a hundred times
more but it's not a differentiable
function right so but it is the limit of
its the uniform limit of differentiable
functions okay I'm not going to kind of
give a full-blown proof here but here's
an idea so what do we know we know by
the max-flow min-cut theorem that the
value of the flow given these endowments
of money is just the min cut ok and now
does that look well let's see be the set
of cuts just choose the minimum cut and
look at its capacity ok so think about
these cities is just matrices that
represent the the cuts ok and well as we
know the min function is just the limit
of the cs production functions but
notice this is a bit a bit different
from before who are not taking the
average over the players we're taking
the average over the cuts yeah so here
it's not 1 over n the number of players
are the number of edges it's 1 over the
size of see the number of cuts in the
graph ok so we're normalizing over that
and we know that these functions are
differentiable there concave and when r
is when r is less than 1 and we know
that they're differentiable ok so we
know our results hold and we know
this thing is the limit of that so our
results hold for network flow games okay
make sense so what does that mean well
that means in particular that if the
game has a unique maximum flow then all
individually optimal contracts converge
to the global optimum okay basically if
there is a unique optimal then we know
that we're good okay it may not be so we
have counter examples right so you can
easily control construct networks where
this doesn't hold in which case you will
have a you will have players that are
unhappy with the global optimum
basically some guy who has a less useful
edge but you can still pass flow through
it he would want the flow to pass
through him because then he will get
some money but that would not be good
for the group okay so if that that kind
of thing doesn't happen then our results
hold all right and another thing that's
incidental is that we can actually find
a global optimum in polynomial time via
linear programming so what do we do well
I'm not going to go into the details of
this linear program but basically what
we did is that this is the linear
program to find a maximum flow in the
original graph but what we do we add
these kind of share parameters here so
just the flow must be at most the
capacity times the share of the money
that you get okay and we need that the
shares some 21 as as we said okay so
that's just the way to find them I just
want to stress as was not clear in a
previous iteration of this talk what
we're doing here that the optimal
solution here will will clearly not find
a max flow of the original graph okay
because the capacities of the edges are
much much less okay these xes are kind
of like you're normalizing the edges
capacities by by a lot actually so they
won't have the same flow they actually
have this actually is pretty cool and I
we haven't studied it fully but there is
something really nice there if you're
interested we could talk about it later
but basically the idea is this so what
we can show is okay so suppose that we
get an optimal solution for this linear
program that i just showed okay which we
found in using some LP solver okay and
we get these XC stars that is the share
of every edge and
fe star which is the amount of flow that
passes through that edge in this linear
program then just by kind of switching
around sides we have that XE star is at
least f e star / c star and what we can
also show is that if in the original
graph you did pass some flow then this
thing will also be can be positive okay
so basically what that says this if you
have some flow in the original graph
then you will get some share of the
profits okay and in a sense the more
flow you pass the more money you get but
the more wasteful you are so kind of the
larger your capacity the less share of
the profits that you'll get okay so
there's kind of proportionality to our
payoff division make sense okay of
course I'm I'm kind of a bit lying here
because this doesn't need to be tight
but this is generally what we're getting
okay and what what does this mean okay
so how does this fare against other pair
of divisions okay so you can think about
this as follows so exci star is just a
percentage of the money that you'll get
for passing the maximum flow okay this
is how much money you're getting okay so
forget for a second the iterative
setting okay suppose that we're just
looking at the graph we have this
max-flow problem we're passing a max
flow through the graph we need to divide
up the values of these macs flows
between the players all right we don't
care now about the iterative setting
okay just just a one-shot game and we
can actually use this as a pair of
division method right i mean this is
just saying what percentage of the
profits each one of the players gets
right we can just use that that's fine
okay stay strong we're almost done so so
the so what we get here is the following
so let's compare that to another
well-known solution concept which is the
core so how many people here know what a
cooperative game here is well yeah okay
good this thing kind of know from that
from the programming languages their
people and their okay so basically what
what's a cooperative game
I'm not going to go into it too much in
detail in the general context but here
what does it say well think again the
edges heal our players okay they want to
maximize their own profits and you need
to come up with a way of dividing the
value of the maximum flow in such a way
that is fair or nice in some way okay
and one very well-known way of doing it
is called the core and what does the
core say it's basically the set of all
pair of divisions such that the total
amount of money that each subset of
gauges gets is at least the amount of
flow it can't pass without using any
other edge okay so think about it like
that these edges need to be this set of
edges says to itself well before getting
less than what we can just pass on our
own then we're not agreeing to this okay
and that needs to hold for every subset
and in fact there is a very simple way
of ensuring stability in a network flow
game and that's just by paying the min
cut of the graph okay so in this case
what we do is we just pay 10 here and we
pay for here ok so we pay just pay the
min cut of the graph the amount of flow
that they pass and pay nothing to
everybody else all right and that's
stable right I mean no sub set of edges
can complain right I mean okay these
guys are not getting any money right so
these two edges here at the bottom
they're not getting any money that's for
sure but what can they do about it what
can they do about it what I mean we're
not happy with the payoff that we're
getting fine what can you do how can you
object you can't pace pass low flow by
yourself you need them right but let's
let's say on a normative level that
doesn't sound very fair now does it it's
not like those two edges here live in a
vacuum right I mean there is some notion
of mutuality there's certainly not the
only men cut on this graph right other
people should be getting paid as well
but they're not but in our payoff
setting they would have been right there
would have been getting paid
if you passed any flow you would have
gotten money you would have gotten some
share the more flow you would have
passed the better you would have been
which is great that's in my in my view
that's better than this so does this
make sense okay I hope that I kind of
made the connection between fairness and
stability apparent and basically what
okay so what kind of take home messages
do you need to take from this talk okay
um first of all profit sharing is
awesome study it a second of all um I
think that one thing that has been kind
of overlooked in theory a lot is
long-term profits okay so there is there
are works on that there is a lot of work
on that but often the kind of in the
terms that we're looking at it here to
kind of ensuring fairness or long-term
fairness in this way and I think that
there is still a lot more to be done in
this setting and but but of course there
are downsides here so one is that
optimal contracts are of course never
individually optimal assuming
differentiability which i think is ads
actually kind of a nice tension here
right so kind of saying something like
me as an individual I will never be
happy with just doing what socially
optimal I want to drive to do to better
for myself and again as I said the
results do show something positive that
even though there is this tension
distension can be very very mitigated as
time goes by in fact I didn't say it
before but as the degree of homogeneity
increases then the convergence becomes
faster so if you have really high
returns on on investment then you really
have kind of like really fast
convergence of individual gains
individual gains to optimal strategies
yeah and now just to conclude what I
what we looked at so we had like this
nice natural profit Jeremy dynamic and
we show just when individuals want to do
what's good for the group and as I try
to kind of touch on application
so apart from those well known economics
function so I think that there is a lot
more to go so network flows we kind of
just touch on them we didn't really go
into too much depth i think that there's
a lot more to go there there's also
settings where weighted matching they
exchange markets that we looked at and
basically any setting way that you can
think of that you have a bunch of agents
they would want to cooperate there is
some kind of positive a there is some
positive value for them working together
and they have some notion of resource
let's say money or time then i think
this can be applied and um just a word
on what i would like to see here so of
course work on kind of any of these
application domains would be nice and
looking at other contract so what we've
looked at as a flat-rate contractor i
just doing a one thing one kind of
sharing scheme all over time so there
could be others so a i mean there are
there are others and we have done some
kind of preliminary work on that and and
it shows that by doing something dynamic
you can actually do much much better
than stationary contracts which is
hardly surprising okay so you can do
better both as an individual and as a
group okay by changing dynamically how
much money is allocated at every round
okay so that's that's another nice thing
that might be useful and i think i mean
i talk to people and it seems that this
can be applied to not just resource
allocation so there is i'm not sure how
much this could work but but to just
general preference settings so anywhere
where there is like individual
preferences and they need to kind of
aggregate them so think voting or
something like that and aggregating them
but but the way that you aggregate those
preferences would affect how what
decision will be made or your own
preferences in the future so that that
might actually be another nice direction
kind of taking it beyond to just beyond
just the visible resources and then
that's it thank you for coming and
that's it any questions
any questions yes Oh No ah so we talked
about discount factors okay so the short
answer is I'm not sure I think that we
need to study I think that they will I
think that they will anything else yes
quite restrictive very good yeah it
happens quite often in the example that
you right right so so the ideas okay so
of course these are just so so this is
obviously are very limited setting so we
do we assume something that's called
mutual dependency basically the idea is
that everybody in the group is needed in
order to generate profits okay our
results don't totally break down if you
don't assume that but what basically
happens is that you need to have like
this initial stage where you weed out
whoever you can and then and then start
iterating you kind of negotiate you see
well okay we can do without this edge
you're not getting any money you can go
home and then just just continue from
there of course that if you talk about
for example uncertainty then that might
be dangerous right so you do want to
keep redundant seen in your graph and
you do want to maybe maintain that thing
so again that goes beyond stationary
contracts right so if you want to do
that then you need to somehow kind of
ensure payoffs are reached to every
person because remember if a person is
not getting paid at around okay at the
next round he doesn't get any money he
doesn't get any resources he's as well
is as good as useless so either you
assume something like what you mentioned
before that you're allowed to save some
money on the side or you are allowed to
to kind of forgive her for one round and
still be useful on the next yeah so
that's that's of course that's of course
a very valid expansion of the model yeah
any other questions all right
there is in the meeting oh there could
be quite a lot so there could be kind of
exponentially more money derived if you
do so yeah exchange markets so think
about exchange markets okay so a it's a
setting where you have a graph and each
edge on the graph has a utility a
pairwise utility function for the agents
called collaborating think about an
author's collaboration network or just a
barter market or something like that and
what what basically we can show is that
stationary contracts can be not bad okay
you basically mean it's not bad but if
you if you want what what what you could
actually do and I mean I believe it can
be done in polynomial time there are
people who disagree but I believe that
what you could do is basically kind of
as time goes by you look at who is the
most useful exchanges who are the most
useful exchanges on the graph and as
time goes by kind of just push all the
money to them okay just slow like at
every iteration just give money to the
people closest to them eventually all
the money will go to the most useful
edges and then just let them run okay
and then just let them run so you cannot
do this on a stationary contract of
course but if you have dynamics you can
you can do that and then that that's
actually better so for simple for really
simple networks like take whatever like
a three-player with two edges between
them that that obviously works like
that' actually obviously is better maybe
in some sense yes it will be eventually
will become a stationary contract yes so
maybe maybe there maybe there is some
nice conjecture here right so kind of
like that any optimal contract kind of
stabilizes we probably you know that
that doesn't sound kind of unlikely but
but yeah I mean then you can ask what is
it stabilized to and then that that
actually could be a really cool question
yeah anything else on a note I mean I
don't know so maybe that's relevant to
only some people here I don't know what
the relation is between the fair sharing
scheme and sharply value in networks so
that might be relevant I mean I don't
know so there is another notion in
cooperative games that's called the
Shapley value for those of you are not
familiar that basically tries to capture
some notion of fair
okay so we usually in classic
cooperative games when you ask what's a
fair pair of division people would say
Shapley value ok but so this is not the
Shapley value and not not that i can
tell at least and and i don't know
what's the relation ok so for one thing
this pair of division is not symmetric
which the sharply value is so so there
are some things to explore them yeah
cool anything else thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>