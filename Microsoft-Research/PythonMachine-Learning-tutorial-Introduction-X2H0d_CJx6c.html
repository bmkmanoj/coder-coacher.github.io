<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python+Machine Learning tutorial - Introduction | Coder Coacher - Coaching Coders</title><meta content="Python+Machine Learning tutorial - Introduction - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python+Machine Learning tutorial - Introduction</b></h2><h5 class="post__date">2016-06-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X2H0d_CJx6c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year Microsoft Research hosts
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
you
okay welcome everyone to this 3/4 day
worth of machine learning workshop we
have with us today olivier grisel from
INRIA in paris it is in Paris right from
very close to Paris who's he works on
the scikit-learn project which is a
great tool kit for doing machine
learning and other processes like that
in Python it builds on top of non pay
and sci-fi Olivier whose work is making
that toolkit much better he's a
developer is an engineer working on
research projects making them great for
us and so he's going to walk us through
using scikit-learn to do machine
learning in python thanks Olivia thank
you much so downloaded or got object two
files one is the parallel ml tutorial
zip file and the other one is the
anaconda distribution for your platform
so you need to install anaconda on your
platform hopefully everybody has it
running and then you need to install to
unzip the the tutorial material from
today in the documents ipython notebooks
folder after having installed anaconda
under windows if you're on a Mac you can
just unzip the zip file anywhere and you
need to open a terminal
Cindy CD into that folder and run the
command ipython notebook from there
alright so we can switch TD my screen so
using anaconda you should be able to
start an iPad on netbooks and if you
have unzipped the folder correctly in
the right location you see you should
see this folder a problem ml tutorial
and maybe additional notebooks that we
won't need today
it was alright
do you all have this ipython notebook
list with the parallel ml tutorial
folder there if you have you should
click on it you should see that content
and so basically this is a github repo
it's on my github account or gryzzl so
later if you want to fetch it from the
public location you can go to github and
and clone it so in the meantime we will
have to go into that notebooks folder
here parallel ml tutorial slash
notebooks and we should get the list of
notebooks that we're gonna use today
okay
does anybody of you have a problem yes
yes from an an anaconda you should
launch ipython notebook I'm sorry I
don't have the the windows UI so I
cannot show you and the Anaconda UI so
in the Start screen you should type
ipython and it will find it ok
does anybody still have a problem to get
there do you need more time more time
okay yes
what you should you need to unzip the
power ml tutorial zip file in the
document slash ipython notebooks and
they should shot in that list
right
yes
yes so when you unzip the the parallel
ml tutorial zip file you should unzip it
into your Documents slash ipython
notebooks folder you have your Documents
folder in your user account on Windows
then if you installed anaconda you
should have ipython notebooks folder in
the under that Documents folder and you
should ends if the fight that I gave you
into that ipython notebooks folder and
then when you run ipython you should be
able to see the poll elemental folder
like this so how close are we to being
ready who's who's got iPad and up with
the notebooks we need for today right
he's still having trouble just copying
so if you still have problems
steve is around to help you individually
and I always topped with the first
notebook so when you have ipython
notebook started you should have in the
notebooks folder the list of the
material that we're gonna use today so
the outline for this first staged
session is going to check that
everything is installed correctly then
we will have a first introduction to
machine learning concepts and how they
relates to two scikit-learn then we will
show how we manipulate data in a
suitable representation for machine
learning especially using numpy arrays
and then we'll explore some basic
principle of of machine learning so in
the next session we will cover
dealing with et Virginia's data using
pandas in in the afternoon will cover
notebooks model selection and assessment
and text feature extraction and
classification and Christine alright so
let's get started with the first
notebook zero zero tutorial setup so I
will hide this you get some more space
so when you have a notebook you can
execute cells by clicking shift enter if
you hold the shift key pressed outline
the focus around the current cell if you
click shift enter it will execute the
cell so executive the title and it
doesn't do anything it just moved the
focus down and if I click shift if I
hold shift enter again you can see that
this time it important numpy and I have
in this line a different prompt
identifier because it has been executed
for the first time if I do it again here
a couple of times you can see one two
three four because it's executing them
one after the other and I see the order
of execution this way it's possible to
go back to the first one and re-execute
with shift enter again and you can see
that now I get
yeah
okay so if this is weird it's part of
him and I can usually okay so this is
not a big deal you should be able like
yeah bail should be installed by default
on the two of them so we will install it
anyway so listen for me so we will
insert a new cell insert cell above you
see and here you can type exclamation
mark Conda install psych it - learn like
this and then you execute that cell with
shift enter
this is just for people who have not
scikit-learn installed I don't want to
do it because I don't want to break my
installation because I'm not using and I
cannot self here but that should fix it
for you
it's downloading psychically on its a
couple of megabytes that shouldn't take
such a long time so if you have
cyclotron if you can import scikit-learn
SK around here there is no need to type
this command it's only if you have a
failed import at at that line you don't
execute this command if if this line
works if if this does not raise an error
you don't need to you to executives
hours you will just waste the bandwidth
for people who actually need it so you
can interrupt the you can interrupt the
running command by clicking on this stop
here if you don't need it you can
interrupt the command
so okay so the comment that I've just
typed here is not good actually because
so if you type this comment actually it
will it was expecting you to confirm in
the background but you didn't see the
feedback so either you run this command
from the Anaconda command prompt outside
of the notebook or you can restart the
notebook by clicking here this will kill
the current python process and we
started from scratch and then you can
execute this comment again okay
so you have to to explicitly mention - -
yes to install otherwise it will ask
confirmation but you wouldn't see that
prompt and because we are running inside
the notebook and it's not really meant
for that so when we type in exclamation
mark something in the notebooks it means
that it's using the command prompt under
the hood to do some comment like Windows
PowerShell command depending on how you
started the notebook yes so don't
execute further than this because there
is another problem okay so as everybody
being able to execute those yes if you
don't please raise your hand
yes when you start ipython you need to
start the ipython notebook from the
Start menu
if you have installed anaconda third
Steve we're gonna other people we don't
execute further because you will have
another an expert just alright
okay
does anybody need help yes I'm coming
so apparently the instructions what I
suggested here sometimes it doesn't work
because it detects that numpy is already
installed and I don't know notebook is
running and so it's a bad idea to do
that so the alternative way to do that
is to run anaconda command prompt so you
need to go to the Start menu and windows
run and eye-contact command prompt and
in that prompt you type that
it shouldn't matter so we will see you
next so okay so if you are able to
execute all of those statements then
that should be great and we can move on
so to to check which numpy and where it
will it was installed you can once you
have imported numpy you should be able
to execute those two statement so the
first one path will show on the file
system where is the numpy package
installed so typically here I'm running
in a virtual environment which is
different from anaconda so you can see
that VM Vincent Python 3.4 on my Mac but
in your case you should see the anaconda
folder and then you can check the
version number if it's not the same
version it's not a big deal okay
all right okay and then so you should be
able to introspect which packages are
installed and where they are installed
and in your case it should be anaconda
because we installed everything from
anaconda all right so next you can run
the script maybe you need quotes around
the pass but if you unzip the zip file
that I gave you the data set I've
already been download downloaded so you
can put quotation marks around the path
so the person run and then a path means
that it's going going to execute a
Python script as a cell so it's a a non
class an unconventional way to execute
Python in ipython notebook cells so this
is why there is this percent sign at the
beginning because it means that the
comment that is after this person sign
is a magic command it's not a regular
Python command so we will see
different magic comments that are
available in ipython so this is just to
check that you have the data you should
see success then you can check manually
by also putting some quotation marks
around the path maybe remove the because
there is specific that should work even
on Windows because I python is doing
something magic here so you just put
quotation marks it doesn't so you can
use exclamation mark dur and then you
need quotation marks around the path
it's just a detail because if the script
run fine previously the data search
video apparently LS does work sometimes
if depending on the Windows version so
this is just a little if that doesn't
work it's not very important so let's
move on okay to a short introduction to
an empire so how many people in the room
were not present at yesterday's session
on ok so there are a couple of new
newcomers so it's good to to to have an
overview of Empire so numpy a means
numeric Python it's basically a Python
package to extend the Python programming
language with additional data structures
and in particular what we call an empire
array an empire ray is a chunk of memory
where we can put data and this data can
be either numbers like floats are
integers sanam goes to or more weird
stuff like bytes or whatever but it's
mostly about floating-point numbers and
integers so to create an empire array we
need to import numpy and here we see
with
we aleeah's the the numpy package as MP
it's a standard convention in the Syfy
community so I will encourage you to
follow that convention so we can create
a first array by calling numpy and P dot
array and passing a Python list of three
elements one two three so we assign that
in the a variable and if we just type a
in a new so sorry you know that if you
type a in a new cell you should see in
the out sell the the string
representation of that array so we can
do that again for B but this time we
have nested list you see that there are
angle brackets open twice here and so
basically what it does it's a it creates
a two-dimensional number arrays because
you have two rows and three columns in
that case for the a variable it's a
one-dimensional number array it only has
three elements so we can check the
dimension unity of an array by having a
look at the shape attribute of the array
so here you can see two rows three
columns we can check the data type of
their race and we see that in that case
it's integer 64-bit 64-bit integer yes
okay so some of you are running Windows
32 bits that you should get
I are running the 32-bit version of
Python on 64-bit windows if you install
the 32-bit version of anaconda alright
maybe because a long C type and Windows
in 32 bits still I thought it was the
opposite
anyway it's a good practice when you do
your code that you fixed the the D type
we will see later but by default
apparently it's an operating system
specific so it's just a detail for now
so we can compare the shape of the B
array with the shape of the a array and
you can see that for a we have this
weird notation here which means that
it's a tuple with a single element there
is a comma sign here before closing it's
just a side effect of the Python syntax
but you can see that for a it's a one
dimensional array with three elements in
the first dimension so I don't know if
some of you used MATLAB previously but
in MATLAB by default all the matrices
will be 2ds and so when you have a
vector it's gonna be a column of 2d
matrix so it's a bit weird in in numpy
it's more like an extension a
generalization of this representation
when you are a one-dimensional arrays
two-dimensional arrays three dimensional
arrays four dimensional as much as you
want so this is why it's very important
when you have weird error messages about
the dimensions of the array to always
print the shape of the array that you're
manipulating to understand what's
happening and and whether or not you are
making the right assumption on the shape
on it so we can check the D type of that
guy as well then we can create an array
of zeroes so by default it will be a
floating-point number you can maybe
certain new line below so to insert a
new line you can go to insert insert
cell above or below but it's good to
know the keyboard shortcuts so to know
the keyboard shortcuts you can go to
help and keyboard shortcuts ok and here
you will see many keyboard shortcuts so
I will just cover introduce a few of
them as we go but if you forget about
them you can always go back to that
reference how keyboard shortcuts to
remember ok so here for instance I want
to insert a new cell below so you can
make sure that your you don't have the
the the green outline around the cell so
to remove the outline you can press the
Escape key and then you can do ctrl M B
or even ctrl + V and that's in certain
you saw
if you want to insert a cell above you
can click on the cell that you are
interested you keep escape control em a
above okay so once you have new cells
you can type new commands so for
instance you can type the zeros five and
then specify the d-type and you NP you
int32 for instance and you can see that
this time i have an array of zeros but
those are integer positive integers
using a 32-bit representation so limited
to four billion values approximately
alright
so there is also n P dot once and here
you see that we pass a shape attribute
and a D type attribute and we execute
that we have a two-dimensional array
with three rows and four columns with
once everywhere and those are integers
if I change here and I put float 32 I
get floated okay so the question is when
you type shape for instance here you
would have 3l instead of three this is
because you are running Python 2 and on
Python 2 there is a difference between
short int and long int so the elf suffix
means that it's a long so a 64-bit int
that is used to represent the shape so
it's not even the type of the data is
the type of the the descriptor or the
metadata for the dimension
so it's window specific artifact on the
Python 2 this is why you don't see it
here but it's not
yeah you know this one and skipper all
right so now we can create arrays so
once we have some data in memory we can
do operations so I will Rex acute a B
and C to make sure that we all have get
the same results so a B and C where I
see analyses defined in there okay so we
can define C as a new array that is the
result of doing the multiplier operation
on the B array with a value which is 1/2
0.5 if we do that if you remember I will
insert a new cell here the V is that guy
so if I met multiply B by 0.5 I get C
with those values so you can see that
it's dividing the values point in a
point wise my element wise manner so by
default when you do operations on number
array there will be element wise
operation on the elements of that array
so we can check the shape of C and if we
see that C has the same shape as B which
is two lines and three columns we can
also check the D type and this time we
have float 64-bit the type if we check
the the type of B it's integers so it's
interesting because when we multiply an
integer array by a floating point value
it automatically automatically just the
the the datatype for the output array
into front a floating point values as
well
it's not a copy of B because if you
check if you reevaluate this line B is
still there so B has been is unchanged
so you can see that C and we have
different values so but what it doesn't
turn on is it allocates new memory for C
compute the result and install the
result in see ya see we can do that if
if I put a 1 in the first cell here and
I read this play B so you can see that
that cells has changed if I just execute
that it hasn't changed but if I really
acute the operation then I get the C
updated so by default when you do a
multiply operation it's it's allocating
new memory for the result it's also
possible to I will set B back to where
it was previously it's also possible to
do in place multiply operation using
this notation so the star equal width
which means that we are going to
multiply each element of be in place by
by this value and we can see the result
and this is where it's doing integer
when you do in place anyway I think
that's becomes it anyway so I will just
really find B as it used to be okay
I reinitialize the value of B
then if that sir so if you recall a with
those values we have C with those values
actually I will realize okay and now I
can do the sum of a and C and this is
weird because we are computing the sum
of something that has a one dimensional
array with three elements and we sum it
with a two dimensional array with rows
of three elements and column columns of
two rows of three columns so what should
it do in your opinion if we do that okay
let's do it and we'll see so yeah
basically it applies the sum to each of
the rows because it sees that the first
dimension is compatible so it does what
we call a broadcast in numpy so
implicitly it will not do a copy of a
ahead of time it will not try to extend
it but logically this is what it does it
try to extend the shape of a to match
the shape of C and then we do the sum
but it's smarter in the way that it does
it internally because it doesn't
reallocate the memory for for a a is
left unchanged yes
so the question is is this the behavior
of numpy or from Python it's just an
umpire specific attribute because in
item there is no n dimensional arrays in
Python you can have arrays or lists but
they are one-dimensional so there is no
this n dimensional concepts are just
concept that comes from the non pile of
arrays so we can have a look at
individual elements of our slices of G
so for instance G 0 I will get the first
element of G and G is basically a bunch
of rules so I get the first of all if I
D if I do D 0 0 I get the first element
of the first row so you can change and
take one here and you will get the
second row G of 1 is the second row and
if you take G 0 true for instance you
will get is 0 2 you will get the first
role third element so it's invitin in
python the indexing of array start at 0
so it's different from MATLAB for
instance I think MATLAB starts at 1 but
it's very common indexing scheme for
many programming languages so 0 means
the first element so the first row and
the third column so it's also possible
to fetch all the element of the of a
specific column by using this marker
here the column which means all the
elements and we select the the first
column here so when we do that we get
dimensional array with the element of
the first column so you can see here
this guy as the shape of two now just a
one-dimensional array with two elements
okay is it big enough
so we can also compute the sum of D the
mean and we can also compute the sum of
one specific axis so for instance if we
sum over ax is zero it means that we sum
over all the columns because let me put
it before to understand what's happening
it means we sum over the rows so we get
the same number of columns so X is 0 is
the the rows and axis one with some of
the columns as we have two rows we have
the sum of the values matching those two
rows does that make sense
okay just before moving on I want I
would like to highlight something so if
I insert new cell so I have D here and I
will start a new cell where I will
display for instance the the last column
so this guy here so you we will see that
this is actually a view over that array
this slicing notation here does not copy
it does not allocate any memory is just
doing a view so it's a very efficient
way to access the data without doing any
memory allocation so keep that in mind I
will show you later how it impacts so
let's try to create a new array this
time choosing range a range of 12
element
so what arrange does is that it creates
a sequential sequence of integers
between 0 and the total number of
element that you want so between 0 and
11 because we want 12 numbers we can
take that one dimensional array and
reshape it into a two-dimensional array
with 3 rows and 4 columns because 3
times 4 is equal to 12 so this would
match and we we can reorganize the same
data in a two dimensional array yes
so the question is what is the
difference between this and that you can
do it and you will see the result yeah
because I'm running Python 3 I don't
have X range but it's the same and if
you display the the result oops not not
this one it's actually doing that the
same so it's exactly the same but this
one is more efficient because it will
allocate the memory for the final ray
week and this one will have to iterate
over until the end of the iterator to
just count the number of element and and
store them so it needs to allocate
temporary memory and then allocate the
final array with the right key type and
do and copy the data so it's much more
efficient when you're dealing with
medium sized data with millions of
elements to use arranged rather than
creating intermediate data structures
yes
the two tips okay I think by default if
you if you eat tab when you're here or
the two tip might show up after some
time but otherwise if you eat tab it
will give you completion elements in
that case it's not very useful that if I
do yeah if I start to type stuff it does
something that is like intelligence but
it's not as good as visuals to your
stuff but it's using runtime information
so it's using the variables that are
already loaded in a current namespace
it's not just a static analysis all
right so let's move on so yeah we are
defined F as the same array as E but
with a different shape and what is
interesting is that F is actually a view
over the data from E it's not a new
array it's not allocating any new memory
and to check that we can redisplay the
content of e here we can assign zeros to
all the remaining element
so we start at five and until the end
this notation means a slice between five
and the end of the array and we assign
zero values there so the fifth element
there are six element again until the
end will be zeros and if I do print F
again we can see that the matching
entries in F have been so by default if
you don't do a copy explicitly reshaping
the data or slicing it will just be
views over pre-allocated data yes
so the question is is there a way to to
ask F if it's a copy of you if it if it
owns it on on data or if it is a
reference to an external array and
actually yes you can use the flags I
think and here in the flags you have own
data false if I do the same for e owns
data true so you can see that F is a
view and E is the originally allocated
data so to get the relationship between
the two it's possible but it's not
public API equals F each so you could
you could do this kind of test equality
test but you shouldn't do that on arrays
actually I don't understand why we did
we get that it might be because they
don't have the same shape so they they
say false by default if you do e equals
E you have an array of boolean that
matches the shape of so if you have the
same shape or not you don't have the
same result so when you do equality test
between a race it's very important to
make sure that you have the same shape
between the two arrays
when you reshape no first euro first
yeah yeah I could do three and four this
way and get now the notation is when you
do reshape the first element is the
number of roses second element is the
number of Columbia yeah so the internal
representation for an empire raised by
default is a C contiguous representation
if you want to have a quatrain columnar
oriented internal representation you
could align it the data in a different
way using you can use asked for an array
but it's basically exactly logically
it's exactly the same but internally in
memory it's the the data are switched if
you want the logical transpose it's
different you can do that F dot T or
that transpose I think that works as
well
yeah and transposes of you doesn't
allocate so if you want to transpose and
allocate the data and make a copy you
can do copy and this is a new array if
we assign it to something else like Z
for Z will be independent of F now we
assign it to a variable Z and it's a
copy so you can copy on any array
actually so we are much slower on
schedule and that so people are getting
in so maybe we should open the gates for
the next batch of people so that they
can join but and we will go on from
there maybe a bit quickly do you have
other questions
so maybe open the first Steve or
yeah yeah so if an array doesn't own its
own there are can we make it own its own
data basically you just run copy and you
get the result and you will get an array
with its own allocated data on private
there because otherwise you just like on
pointer on yes
so one dimensional array is a one
dimensional array it's not the row it's
not a column so one dimensional array so
that very this weird stuff of row
vectors and column vectors is just an
artifact of MATLAB it doesn't exist in
real life it's just a one dimensional
array all right so all right so so let's
go on and we will increase space slowly
so we can combine arrays and it's
actually very important to know that in
practice when you're doing machine
learning so if you have a and B and G
that have the same shape so B and G have
the same shape so three columns and two
rows and a it's just a one-dimensional
array with three elements we can content
concatenate a three times this way and
it will still be a one-dimensional array
and we but we can also V stack vertical
stack a B and D because they have the
same number D and you have the same
number of columns and a as the same
number of element as there are columns
in the other so it does what casting of
automatically internally so here you see
that we have a B and D
and you can see that integers arrays
have been converted to 20-point arrays
because one of them was a floating point
array so whenever you do operation that
mix-and-match integer arrays and
floating-point erased it casting
automatically the results to floating
point array we can also do a horizontal
stack of B and D and this time it's it's
takes new columns at the end so a
vertical stack is two matrices one of on
top of each other and our reason for
start is you concatenate in the ordering
of the columns in dimension all right so
let's see let's have a look at
matplotlib now hopefully you all have
might be lucky be installed so when
you're running in a notebook you can
enable the integration of microchip into
the notebook by calling this statement
this magic function a magic command so
it start with percent in line and we can
import the pipe lot module of matplotlib
the Malati package using the PLT
areas it's a standard notation for
sci-fi development so I would recommend
you to follow that also so the this this
line here Matlock if in line enables the
integration of matplotlib in ipython
notebooks which means that all the plots
that we are going to do will be
integrated in the notebook itself
otherwise my plot live depending on its
configuration it can use a cutie which
at different kinds of widgets that can
be external windows or you can also save
to a file or Kiev or PNG depending on
the backend that you select so when we
do that it says use the the image
back-end and integrate the image back
into the node
so let's create a a narrow X using the
linspace function from numpy so linspace
is very useful it says we want on arrays
with values that start at 0 and end at 2
and we want an element and will we
automatically find like a uniform set of
intermediate point point between those
two values and so we can use matplotlib
the plot function so PLT dot plot of the
x value and plot that so you can see
that we have values that range between 0
and 2 and those this is the integer
integer index of each intermediate
values and because I used the this
notation like with the old - sign it
means that it's drawing a line with dots
in the middle so if I change this
notation and use X you can see crosses
here and if I just put a knife and sign
just a straight line and so by default
it does just adjust the line if you
don't mention it
for other markers so let's do a more
interesting plot so this time we will
plot X against X so it means that the
x-axis is going to be X itself and the
y-axis is going to be X itself so it's
the identity function and we can plot
with the same marker and we put a label
label on this plot and then we will plot
X to the power of 2 against X and put a
different label so let's execute that so
this time you can see that the x axis
starts at 0 and and that's 2 because
it's X and on the y axis you can have
the linear identity function here all
you have the quadratic parable here
let me scale back a bit here when I
define X it's between 0 &amp;amp; 2 with 10
elements yes for the first plot it's
between 0 &amp;amp; 9 and when you I just plot X
here if I do X and X then X is the first
axis and X is the second axis here if
you just give one element it will be the
the y against integer attender integer
indices yeah so usually it's good to be
explicit about the the why the x axis as
well yes okay you want to change the
size of the plot so if you want to
change the size of the plot you can do
PLT figure and give a fixed size here I
think it's in inches by default awesome
reason and so you can see that the size
has changed and then you can save that
savefig some some focus on 5 figure that
PNG and it will save it in the
background so I can try to do that on my
Mac
and I have the files saved on my file
system and I can load it open is a is a
Mac specific command
so just to what you have to remember
that you can set the size with figure
fixed size and then save it to a file
this way so here on micro Essex or it's
topped with the slash but on your
machine on Windows would be a C column
whatever okay alright so let's do let's
work with real data and real data is
mostly random data so we can generate
some samples from the normal
distribution so a Gaussian distribution
that has a mean of 1.0 and a standard
deviation of 0.5 and we want to sample
1,000 elements and we put them into an
array we can check the shape of samples
and we have 1,000 element in a one
dimensional array those are floating
point values I can have a look at the
first 30 element using this notation if
I want to skip the first fifth element I
can do that also
so 5 column 30 its I just keep the
beginning if I do : 30 it's the same as
zero okay so now that I have this data
loaded in my array so this is Gaussian
distributed data I can call PLT
histogram test so here this notation of
underscore equal something it means that
I am storing the result of the
evaluation of this function into a
variable name underscore which is the
convention for I don't care
because otherwise if I don't do that it
will display the result before printing
the plot and for the Instagram function
the text notation it's it's the actual
intermediate data structure that it used
to build this program so we don't care
in that case so here you can see the
histogram and you can change the number
of bins so if I say 10 you have like
wider bins but probably too many of them
and you have like shaking the
distribution because you have not many
samples so finding the right number of
bins when you are doing a mr. Graham can
be tricky so I would recommend when
you're doing interactive data
exploration to try instagrams with
different values and just use your
insight there are better ways to do it
but if so let's do another plot this
time with two distributions so a first
group of samples which will also be
sampled from the normal distribution
with the same scale and this time we
will sample 10,000 samples and the
second is from the standard T
distribution
stand up T of student gee I don't know
with 10 degrees of freedom and 10,000
samples as well and I can do two
histograms in the same ipython cell and
you can see here that I put alpha equals
0.5 which means that the opacity will be
half so that I can have the two
overlapping histograms in the same cell
and here you can see the two
distribution so so when you do several
plots in the same figure it's very it's
a good practice to put labels on each
plot and then you call PLT legend at the
end to to have some legend for the
colors
so it will automatically pick up new
colors each time you do a new plot sorry
the meaning of
I don't yes it's the opacity level so
for instance if I do one here it's the
default value you can see that the this
shit is overlapping and we cannot see
the other one so if I zero point one
it's very it's barely visible and 0.5 if
you have two to distribution to plot
it's good
yes so if you want to have separate
different figures you can either do two
cells so for instance if you put your
your cursor on here you can do control
shift - I think and if you do that you
can plot the two figures independently
but it's also possible to if even if you
are in a single cell to a call
PLT figure here and it will recreate a
new figure and so there's the PLT
statements that after are generated in a
different figure so the the fact that we
put guilty figure here is separating the
two so this you can see that the the API
of matplotlib is stateful it has a side
effect in the background when we create
figures there is some kind of background
active figure so it's a bad design for
software to do this global variable
stuff but it's actually quite useful
when you are doing interactive plotting
because you don't really care about the
other global state but mat plot lib also
has an object-oriented API that is
side-effect free so if you want to embed
my plot live in an application I will
really recommend you to have a look at
the map object oriented API on the
documentation to avoid this side effects
of using PLT figure and whatever
oh yeah so when I do that you can see
that I'm just plotting this before
calling figure so I have a label here
but there is no legend block because I
haven't put that here so if I do
PLT legend before calling the figure
then I have my legend here and I have
the other one here so I switch back to
the original representation finally when
you are comparing two one-dimensional
arrays of data points for instance it
could be with the same number of points
it could be for instance the eight and
which of people you can use a scatter
plot to see the Joint Distribution of
two variables for the same number of
samples so here your sample1 and sample2
are two arrays with the same dimension
same number of elements it's very
important if I just take if I remove the
last ten element of this second array
minus ten it will complain because they
don't match the the the I have a value
error because x and y must be the same
size okay so it's very important when
you do a scatter plot to check that you
so here you can see that X is a Gaussian
distributed and Y is a student-t
distributed so there is a long tail of
elements here but can deal with missing
values I don't know if matplotlib
support likes missing values are not so
the best way to do it is to actually
put some missing values at the end of
the array so to put missing values you
can use MP dot nine for floating point
values it's not a number marker and
apparently it does
aye-aye-aye aye-aye-aye
I put missing values for all but the
last ten elements instead of and so you
can see that the upper the opacity is
really low so I just have my 10 element
so apparently it skips the floating
point values the missing values the bins
are here the bins okay oh yes when you
you're plotting to instagrams on the
same figure it's important that they
align so if if you if you let my plot
clip design how to build the bins they
will be we can do it actually so if I
say 50 and 50 oh yeah but now I have a
missing values let me generate the data
again
yeah so it's back to it doesn't work I
think it depends on the data in that
case so whenever you doing to instagrams
on on the same plot it's important to
fix the the bins using this linspace so
I know that my distribution my eyes it's
gonna be distributed bit between minus
three and three you could use sample
means sample max if you compute the min
and Max of the two distribution if you
want to make sure to have all the data
in the plot and then I say I want fifty
bins and it will generate them why don't
have I did lose my data
okay it's fixed all right okay I think
this is this is it for the interaction
to matplotlib and numpy you have other
questions okay so yesterday at the
presentation on python there they were a
presentation of a library called ggplot
in python dg+ is originally a library in
the r programming language but someone
has ported it it's not a pot it's a
reimplementation using matplotlib at the
backend but using the ggplot API so
ggplot is like a high low higher level
API so you might have less flexibility
than with matplotlib but it's usually
nicer to use but it's a newer project so
I haven't used it much myself so I
cannot I don't know it much so but it's
probably better to use ggplot when you
are dealing with and as data frames
instead of just number arrays and there
is also the C bomb library which is
another library implemented on top of
matplotlib which is higher level also
and there too when you work with data
frames because it does a lot of labeling
of the axes automatically for you
so though when you are dealing with
statistical data ggplot and seabone
might be good alternatives to ultimate
blocking there is another one which is
more experimental which is called
bouquet and this one is very nice
because it's JavaScript rendering so it
works well in brothers and it's able to
display big data so that it can query
the backend to just fetch a section of
the data that matches your viewport for
instance and it's more efficient
to let many samples and to do that
interactively because it has a lot of
JavaScript callbacks that makes it
possible to have like an interactive
view of the data so bouquet it's called
this one okay
book head PI data that orange so the
network is a bit slow so you can use
ggplot bouquet or C bone but those three
guys are new comers
matplotlib is like stable it's been
there for years
so everybody uses matplotlib as the
default and if you want something more
advanced you can use those yes another
question yes so the question is if we
use different bins information for two
histograms on the same figure it does
not work it's real because this is what
I tried and apparently was crashing but
I remember that it was working but with
different alignments and so it's anyway
it's bad for readability so so you have
to fix the bins if you do this kind of
combined histograms
all right so let's move on to the next
tutorial because we are very late on
schedule but the thing is good to not go
through quickly each year Microsoft
Research helps hundreds of influential
speakers from around the world including
leading scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>