<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>eScience in the Medical Domain - Large-scale Histopathology Image Analysis for Colon Cancer | Coder Coacher - Coaching Coders</title><meta content="eScience in the Medical Domain - Large-scale Histopathology Image Analysis for Colon Cancer - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>eScience in the Medical Domain - Large-scale Histopathology Image Analysis for Colon Cancer</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9eJbjwTHDXk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year microsoft research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
a way both dr. Tanner I to come together
k representations I just only very few
words gives a very brief introduction to
you from the medical view of medical
side so followers by dr. Chang a you
know his history pathology is the most
important field of the medical diagnosis
so pathologic diagnosis is the final
diagnosis also called as coding standard
for the medical treatments so from this
view no pathologic diagnosis no
treatment so it's a very important field
so another field another problem is a
shortage of the training chained
pathologists especially in China is a
it's a big populations so it's a you can
see in the united states in the Japan in
the China and in the other countries so
China has a very few pathologist to the
clinical service so it's a so the
problem is low incomes but high-risk
professions so this is also it's a
problems so we hope to set up a hope to
establish some a method if possible or
not is a method to screen primary to
differentiate a to the Pennines
Allegiance or Medicaid intelligence so
generally the biopsies from the patient
for example pancreatic cancers are
formas are also say your we take the
kisses and make the slides but
pathologist use the microscope to make a
diagnosis come together a Bible a skewed
skill for pathologists can make a
diagnosis by themselves so it's a it's a
very very very tough task so if we can
find some some method to screen we can
lead you reduce hard work times are we
can reduce the number of pathologists
another field in the futures at the
moment the individualized medicine is a
very popular in the West Country even in
China's so the the personalized medicine
is associate with the genetic
alterations so with we cast you know its
genetic alterations may be associated
with morphologic changes so if we can
find as a association between the
genetic alterations and as a
morphological changes so will be the
next few years we just only to the
morphologic diagonals to replace the
molecular diagnosis so this is a
molecular diagonally is more cheaper
more easy compared with the molecular
diagnosis so this is also we hope to
solve their problems so thanks a lot so
as you can see there's actually a lot of
data that comes with eccentric so
pathology skin so just so show with
hands like how many people here in the
room had gone through a colonoscopy
surely some of you have okay so i just
checked on wikipedia so it's basically
us like the government at your comments
if you're over 50 years old you're
supposed to get it once every 10 years
so on so something that everyone was if
I go to some day in your life so so you
definitely want to have the best quality
so assessment no
undergoing such a test so i wanted you
is essentially use computer help the
doctors to make better diagnosis so you
can see that we have three task here so
once classification so want to identify
whether a set of cells is tumor cells or
not and they're also on the segment
essentially on a big apology scan you
want to identify the region where the
tumor cells occur and then as per till i
mentioning if we can watch you want to
cluster also different types of cells
because even even for tumor cells they
actually various type the tumor cells so
we can actually separate them out and
cost them then we can actually do a lot
of interesting research for example just
like we see he was describing
morphological studies and for their
certain type of cells are more common
for certain type of disease outcome and
then you know a better team and a more
personal treatment for that patient so
there are a lot of approaches for doing
the kind of machine learning based
classification so on the left
unsupervised so on survives basically
just do no labeling other data because
Simon mentioning earlier is that you're
very expensive I mean they're very few
pathologists as you can see from the
chart we had before only two per hundred
thousand people in China so they are
very busy so there's not a lot of them
can actually help label data and then
there's also supervised which is a very
expensive method so who are proposing
here is using the weekly through buys
method and using that to help to us to
label data only as much as necessary and
then we can learn based on the training
signal from the pathologist's and then
using that we can actually train up a
optimatus system so just to give a more
intuitive understanding of the arm of
the concept let's pretend that wedge
won't you discover on Colonel fish so
i'm sure i love you have what watch like
a finding nemo so so basically on the
bottom you can see that there's a lot of
clownfish in the video on top is raised
about the clownfish and also the colonel
fridge which are the fish would be black
and white stripes so you imagine if you
want to train up a system there identify
where in each frame or Colonel fish
occurs it will be very expensive to hire
someone and at 30 frames per second to
go and label each frame and say this is
the area where it is card on fish and
this area where is the clownfish so what
I want to do is we use something called
multiple instance which is a weekly
supervised learning approach that allows
you to essentially
just tell the computer I'm sure in this
frame there is let's say carnal fish
that's a positive instance back and then
in about negative instance bags i'm
showing all these frames there are no
carnal fish so just by doing those so
high level labeling you can actually use
the user system to train a classifier to
help to identify so looking at tumor
cells it's very similar in terminology
so on top we basically have cancer
pathology scans so you can see even in
the tensor pathology ski and they'll be
regions there are normal which are like
marking green and there are regions that
are red which are the cancer cells but
on the bottom we also have non-cancer
images which are basically a totally
sort of normal cells so by doing this is
very easy for pathology just a high
level to say yes they are cancer cells
because they can actually do a quick
scan and say they are cancer cells in
the top skin but on the bottom scan but
they don't have to spend the time to
actually label know essentially pixel by
pixel where the tumor cells are and then
we use that to turn our system so just
give you a sense of the scope of the
problem one of these slices can be as
big as 200,000 by 20,000 images you can
see that that's a 40 billion for 40
billion pixels so so it's actually a lot
of x pixels so it's just a sense of the
UM the complexity of the problem here so
you can look at the video on the bottom
right you can see that you can take an
image and then get him zoom way into it
and it's very nice in a sense I can if
you soon like 40 times you can actually
see the solid structure so you can see
that for trained pathologist there's
actually a lot of singing out in there
but then again there are so many images
and so much zooming data that we have
that there's no way that there's enough
pathology into the world to actually go
look every single image cell by cell so
we want to use machines and it's so much
data that even a single machine will not
be able to handle even a slice of image
like that right with this up 40 billion
pixels most servers you have today to
not have the type of memory that can
handle the kind of images so what we are
using is mobile instance learning so
today we'll be presenting the curl at
paralyzed multiple instance running so
we started modeling spent learning a few
years ago and then last year I Makai
would send the mobile cluster instant
learning and then today we'll talk about
the paralyzed multi-instance learning so
the base ideas we can take images from
from our research data set and then we
can actuate notes slicing into slices
and then you can have basically posit
bags which are basically images with
positive examples and then also negative
bags which are basically images with no
tumor cells at all and then you can
paralyze it across a group of servers
and then just run it paralyzed and then
summarize the result later so you can
see that we actually renders on
Microsoft Windows HPC cluster with a
hundred twenty eight computers and each
one has to proper to par core processors
and then succinctly by ram and then this
is a very short embarrassingly paralyzed
able problem so we can utilize this to a
train up a very complicated system so
this is our training set so we had over
a thousand images no sir at a resolution
of roughly 10 billion pixels per image
so we had total more than six trillion
pixels in this data set right and then
this is actually in collaboration with
john university would force a lie
together data that's essentially has a
label in the high high level labelling
whether this is a tumor cells or not and
then also are they are also labeled in
terms of like the different type of
tumor in the tumor cell regions for
example there's MP a PTA ma SRC and if
you are interested that's the expert so
you should ask him at the break what
these different cancers are so after
that we can do the down sampling and
then we go to the process an essentially
train of our system using some source
tender well contrary drink some of the
features like called histograms sift
Hawks etc and then we do cross
validation so this is a result so you
can see that on the far left it's
basically original image that we see and
on the far right it's basically the
ground truth so this is ground truth
from from the labels by the pathologist
so you can see that as we progress from
a few years ago to last year to this
year we're actually getting better and
better at accentuate getting closer to
the pathologies labeling of accorded
tumor cells are so the top four are
essentially a different type of tumor
cells in those scans the bottom two are
basically normal self so you don't see
any marking regions and then you can
that we are actually starting to also do
some clustering so you can see that at
the this column here we actually
starting to cluster into different type
of tumors and the results is actually
compared to other weekly surprise method
we tried it's actually very efficient
and we can actually run this on almost
at the linear scale up in terms of speed
so just to give you example right so
we'd be very for example from 120 a
course to a thousand course you can see
that see valleys is this is roughly 8
times number of CPU power and then scale
factor is about seven so it's a fairly
nice linear scale up so it allows us
accentuate you basically paralyzed this
more because now with with the cloud we
can actually have a lot more horse so
you can actually go through a thousand
one hundred thousand etc I mean just to
give you an example we are we actually
colleagues in micro research that worked
on gene sequencing and they did a job
where essentially more than 50,000
course we're actually use at the same
time for doing gene sequencing so now
with the cloud you can actually really
paralyzed the nitro leverage to the
resource of a cloud to do large-scale
experiments so here's the result so you
can see that the latest result is the
green line so you look at the ROC curve
on the show the area under the detection
curve you can see that that is higher
and then if you look at the overall area
it's also higher point 9 34 so it's very
exciting in the sense that we have
actually turned this problem from a one
that wasn't a Chiva below us a few
servers we have in the lab to something
that's doable by leveraging the cloud
and we actually see seizes a start we
actually are planning to post some of
these they have set in the coda lab that
Simon mentioned earlier is we'd love to
have other people to help to work on the
same dataset and compare approaches and
results to see how can progress together
in this very exciting field so to
conclude we implement the parallel
mobile instance learning we believe that
is a very valuable approach for helping
to address a lot of mental imaging
problem one is actually weekly
supervised so just to give an example we
actually could potentially you stayed
hard I have not been labeled by
physician at all to do research because
you look at one still images are
basically tumor cells the other cell
images are non tumor cells then you can
basically pull these scans
from patients where you have exact
records of whether they had cancer or
not and so you can pull those scans and
just use the original labels without
further through annotation by the
physicians essentially sure the ground
truth for us to do this research so that
will allow us to really scale up
essentially our research because then we
are not limited by the number of
pathologies we have to actually label
the data and chill if you have so much
data I mean trillions and trillions of
pixels then any server you have in labs
not sufficient so we actually are still
implementing this paralyzed machine
learning approach so that when scale
across the cloud so the HPC was chosen
because it's very efficient and also
actually runs on Windows add your so now
with integer you can actually
essentially run it so unlike a week's
time and enough of that run your
experiments I'll for a week and then you
do an analysis and you don't have to
worry about how to maintain or like
monitor those extra machines that you're
not using for the rest of the time so
it's a very efficient way for us to
science so thanks a lot for your
attention and would love to take any
questions any questions or comments
what yeah i'm just wondering for the
multi-instance learning was also
training size 10 8 so basically you need
to have a lease positive instances in
positive back so what we need for
example real reason we have been trying
a cindy by doing less and less label so
so one thing we can do is would take a
take the sample right and then we say
this is image and then we know there's
cancer here and we can do sigh subsample
that image right so let's say 100,000 by
her in topics that we can take let's say
up to around by 200 pixels samples and
then we can actually slice them and then
just the sender's said let's say a
thousand and two thousand time as a
positive bad and the answer you to play
the odds and saying so out of these two
thousand know what's the odd that
there's the actually know so tumor
selling this right so you so like a
flipping coin you can actually play the
ass so we believe that as long as CD
coverage of the tumor cell vs
non-commercial in the original scan and
should just do a rough estimate then you
can actually sort like said leave your
sample size to decide how large the
samples I need to do model in certain so
you so you mean basically like you
started label is on the entire image of
the US training on patches yes so the
petrous even though it coming from an
imager is positively may not be a
positive yes hatch in yes-mo lunes
learning you are not required to have
every instancing every bag to be
positive as long as there are some
instance in that in the back that's
positive that's efficient I say that's
very good for thanks yep he has our
questions or comments
so sorry sort of research is actually
being deployed for we are situation or
what the current stage yes that's a
great question I mean our dream in our
goal eventually the sport of course
resists to really help the health care
system so so right now we are at the
point of a century just doing a research
on clustering so want to do it I mean
for doing experiments that person's life
mentioned earlier also doing
morphological analysis so we're less
stage right now because we actually have
a lot of data but in order for us to do
the clustering we need to identify for
the cancer cells are and then we can do
the classroom based on cancer cells so
so we are right now using more that two
of helping research but in a known run
of course we love to have it done clink
of said what what kind of phobia
technical challenge which is filled we
made to dissolve for actual deployment
if you sort of still some programs have
to be dissolved or yes um well I think
first of all um is something that
requires a lot more sort of like
certification if you want to use in
clinical setting right i mean in the US
fda has a lot of like very Bridgers
rigorous essentially a sensual
milestones that you have a hit a center
you be used in clinical setting so I
think that's number one that since that
as a small research team I don't think
we're equipped to to us and you go
through that kind of process and to I
think we are so too early to go to that
process yet because we feel that I mean
there's a lot I mean for example even
though we have some day hug from jaja
university I think compared to so that
the level they how you need to really be
sure that would be no good clinically I
think we are still pretty far and then
it's a chicken leg thing in a sense that
if we do not approach like a kendo let's
say a hundred thousand knows so what
patients then we can really hit address
the problem any other gracious
thank you very much i mean this is very
good our example of our cooperation
between Microsoft or technical our
people and the medical specialists so
it's quite impressive result thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>