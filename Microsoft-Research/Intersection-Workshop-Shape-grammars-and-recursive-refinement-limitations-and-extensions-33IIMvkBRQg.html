<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intersection Workshop - Shape grammars and recursive refinement - limitations and extensions | Coder Coacher - Coaching Coders</title><meta content="Intersection Workshop - Shape grammars and recursive refinement - limitations and extensions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intersection Workshop - Shape grammars and recursive refinement - limitations and extensions</b></h2><h5 class="post__date">2016-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/33IIMvkBRQg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year microsoft research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
I'm happy to welcome to another man from
God's university of technology he will
be talking about shape grammars and
recursive refinement limitations and
extensions yes thank you Michael and
especially thank you for giving me the
opportunity to talk you a little bit
about these things I'm coming
approaching things from a completely
opposite side and come from procedural
modeling so we have just recently gone
into also shape structure detection but
I'm primarily focusing on a structure
generation and i would like to start
this talk so first of all introduce the
group so this is the procedural modeling
group at cgv in gods and of course this
is the work that I'm presenting today
primary from hooli crucible and wife
cantella and let me start this talk by
my favorite quote from hands Peters idea
which I think has nicely put together
the idea behind visual computing or the
mission statement the objective of
visual computing is to obtain an
editable digital representation of the
real word and of course the small word
editable makes a huge difference because
that poses the question what are the
suitable degrees of freedom and we have
3d from measurements we have 3d from
modeling and all kinds of 3d and of
course the big problem is how can we
parameterize the stuff and there's
already 20 ways to Nora me to write
something as simple as a box but an i
would like to phrase this in three sub
problems which is first encoding shape
structure decoding straight fracture and
then editing shape structure the
first we need a form language for
describing shape in to describe a metre
design a metre design is more so in this
terms a design is a specific shape a
metre design is a whole shape family
then the inverse problem is given an
shape instance what are its structure
and parameters now and finally it might
be that the detective degrees of freedom
are not quite what the user actually
expects for editing the shape so this
defines also the talk outline and first
of all I would like to and talk about
encoding shape structure so here's I
give you an example of yeah some of the
work that we did in the past and when
you look at this shape it has basically
the pointed gothic arch has this
structure you so you can decompose it
into so it has this nice recursive
structure and you can then fill this
recursive part in different way also use
the same as you use in the big window in
the sub windows etc etc and here are
shown just two of the shape parameters
yeah and of course this particular
window is based on composite gula
constructions and it has many degrees of
freedom and so we're doing this with a
you know in lots of ways here the
comparison between round arch and
pointed arch high technology from the
12th century completely different stuff
how do you parameterize a chair so here
are some redundant degrees of freedom of
a chair then I have this car rim model
where you can obviously increase the
number of spicy broth
exactly so what's happening and finally
we also use this for instance for a cave
configurator yeah which is also a
difficult problem we have this cave
actually in cards and at a certain point
I was asked whether how large the
mirrors would be that you need to
project the images okay so this is what
I'm coming from and this is the
Wikipedia page on the generative
modeling language it shows you a little
bit the principle behind all this and so
first of all first line and creates a
quadrangle and parameters are put on a
stack operators can take things from the
stack create geometry and return the
results we can we have extended this to
operate on half edges so we're doing
really much Milton mesh modeling using
this kind of weird language which is
actually derived of practically
identical to post for it anyways and
obviously what you see here is many
numbers and when you change those
numbers you can also change the model
and that gives you the parameterization
that I was talking about and the
structure is defined by the sequence of
operations so that is very general um
and we can do all kinds of different
models with this so this is a didactic
applet that is supposed to show you in
one model a V engine a boxer engine and
a row engine and you can change the
sliders and so the current model was
actually created by mental reverse
engineering by a bachelor student who
got 32 car rims from Volkswagen and
partitioned them into three parameter
ich models which were then parameterised
in a suitable way to actually reproduce
each and every instance and a completely
different thing um so Johan Kaiser
wingman offer to our number three in the
German rocket wedding ring market gave
us those wedding rings and
we have parameterised them and decompose
them into parametric and procedural
shape building blocks and these are some
of the results and Johanna Kaiser was
quite surprised that they could actually
manufacture even more rings than they
thought and finally versus four
interactive shape design for mass
customization here we have this lamp
designer kind of thing which you can 3d
print out and the aspect that is most
important here maybe is the separation
of structure from style so you look at
these little decorations here which are
applied to the same base mesh and of
course you can as you would expect apply
this to any other regular mesh structure
yeah by suitable separation of library
functions from the structure so when you
have well-structured procedural models
like the chair and with the chair I
unintended Lee also created a couch a
bed a bench a child stool so all kinds
of different stools and also invalid
schools of course which are not part of
the shape space of of stools actually
and since we are in Cambridge I would
like to give also this example which I
did not plan in initially if I had
stayed and if I was was student in
Cambridge I would have gone into
procedural modeling of all these
beautiful buildings and I'm absolutely
fascinated however these are expecting
basically the result of applying 92,000
as you can see a 92,000 or law operators
and this is what i mean by structure
okay so I think this is a little bit
yeah so what I mean by I'm coming from
the opposite side so unfortunately i'm
not in cambridge with respect to
architecture but in God's and this is
the computer science building in God's
actually it's not such a bad bidding and
what we did was we made a case study so
this is basically the Faculty of
computer science in God's and the
interesting thing here is the notion of
the qualitative model all rooms are
present all doors are present or
buildings elements but we have not
necessarily measured everything but we
can measure everything anytime later and
now here you see what I'm talking about
today actually these are shape grammas
this is the refinement of the Interior
and if I switch just back and forth you
see that by changing the last terminal
rules we can actually switch the notion
of field and empty space to show the
publicly accessible spaces and this
shows and displays the concept of
semantic views yeah so we can encode
different semantics in this here is yeah
the basic operations of shape grammas
are split and subdivide and here you see
the GMA version of that and with a split
operator you give an array of values so
you have the size and the number of the
parameters whereas with subdivision you
either specify the number or the size
and you get the other one so that's
basically split and subdivide okay that
sets the scene now here we have grammar
rules and so this is probably you would
expect something like puck was Noah but
this is a clear transformation from
buckos now our form and so for instance
and you have the terminal box the
terminal void and so it's empty space or
fill space and for instance the rule G
would give you in Z direction as you can
see here ug in Z Direction 0 10
centimeters whatever remains 10
centimeters split in Z Direction filled
by AAA which is a box yeah and then you
have F which is a box empty box also in
Z direction in there
you have rule e which goes towards G a G
and F and G in alternating ways so you
first apply that one then that one then
that one which gives you this and but
using this you can very concisely
describe this recursive structure so
this is a simple syntax transformation
because now our to GMA and what gml
actually does is when T is executed pqr
is executed instead and so this is a
simple string replacement you can think
of yeah and this works really fine for
all deterministic context-free grammars
speaking of deterministic context-free
grammars there are three bremer types to
distinguish so first of all this context
free grammars which have buckles now our
form like this and there's
context-sensitive grandmas and the
important thing here is that things can
also shrink yeah you can take away
symbols which gives you a great deal of
flexibility which curiously nobody is
using because it is really difficult to
control context-sensitive grandmas and
can do really interesting stuff and and
also usually you use grandma's for
accepting words but in this case we're
using it for generating words now the
third and most powerful and grammar type
is the graph grandma graph rewriting
systems and so you have the graph on the
one side and a graph on the other side
and this is actually turing-complete you
can create a Turing machine with it so
then you have immediately all problems
you would like to have like the halting
problem in computability of canoga of
complexity just to mention right so can
we do with our Turing completeness and
that's the that's the big big issue yeah
we have context free but context-free
has problems and I would like to and
just talk a little bit about the
problems first of all and Stinney in 72
has proposed the shape grandma's yeah
and shape grandma's very very general
say
we have something that we replaced by a
number of some things yeah and and
everything is labeled and over the
labels you create the the grammar rules
and that was used for 30 years for
analysis of architecture but not
actually for creation of architecture
until in 2006 and pascagoula and his
colleagues and from ETH Zurich and have
had this seminal contribution procedure
on modeling of buildings where they
introduced the notion of a skull
basically a box yeah you have a box so
the interesting thing is the whole thing
gets used useful by limitation by
limitation yeah you have only split
subdivide and component split which
gives you the sides of a box so
two-dimensional one-dimensional Z 1
dimensional and and the CGA shape
grandma description language is very
similar to back one hour what's then
built into the city engine which is now
commercial product now about the
limitation the biggest limitation is
that the whole process is really
recursive so something is split
something as far as speed something is
further split so the grandchildren don't
know each other there's no information
exchange between the grandchildren
that's a great a great achievement
because people love that shape grandma's
actually localize the shape construction
process you only have to worry what
happens in your box yeah you cannot
communicate to other boxes impossible
for instance adjust the parents hole
that also run fit into it there's no
f-words communication another and so a
CGA shade from Pascagoula used pre
modeled assets which makes them models
really look beautiful because they have
these beautiful towers these beautiful
columns etc etc and but this leads to
disconnected models Paolucci nyonya has
had lots of fun
in actually rendering these models
consisting of millions of parts like
virtual Pompeii yeah so that's their
special algorithms for putting it
everything together again and for
instance model consistency is difficult
to enforce if there is no horizontal
information exchange how would you make
things match yeah for instance in this
part no matter whether you first split
vertically or horizontally it is
strictly speaking a coincidence that
both of these red lines really go
through the whole model because every
instance is just created in its box okay
another interesting thing is that should
we allow extrusions like look at the
windowsill which is this part here and
it slightly sticks out of the facade
yeah so usually we have the containment
property meaning that the sub boxes are
a partition of the parent box if we
really stick to that then for creating
this little stick out we would have to
create a thin plane in front of the
facade and and and and so so but if we
give up on this we can have intersecting
parts overlapping parts another
interesting implication is on that if
you want to do a low-level chain a
detail change then you sometimes have to
change the whole rule hierarchy like
this yeah so if I want to create this
little e over there then I have to
change the floor rule then I have to
change the top level rule to take into
account that updated floor and so in
terms of software engineering it can be
a nightmare and in Indiana just too I
don't want to get into this too much but
in gml what we are doing we are for
instance we can
solve the problem given this measured
space from the parent we can then use
and that attributes that are directly
being fed and inherited along the
hierarchy to the children to actually
compute a function instead of a rule so
we can actually use dictionaries as
objects in the object-oriented sense so
the grandchildren rules can use library
function to compute the distance with
respect to the corridor now another
thing I would like to show here is
scripted assets and so this is the
construction say using more more modern
more modern splitter shape grammas so to
wrap up in coding shape structure we
have the stand of a typical presentation
which is touring complete and but is
still amenable to automatic generation
so we can generate gml code
automatically and split grammars have
serious problems with expressiveness
there are not so many proposals for
extensions but actually these extensions
make it then more difficult to actually
match the shape and this is basically
the the second part so generative
surface reconstruction you have a real
shape you have a shape template how do
they match so in this generality we have
not we have not solved it boxes have
many roles as you can see in this so
just matching boxes is a difficult
problem here are we have a I would just
like to show them the exam the results
from the city fit project the goal was
an 80% facade reconstruction from lidar
scans and finally it's a it's a
cooperation with Microsoft Microsoft
photogrammetry with microsoft encarta
swear
Conrad Connors group and so first we did
a few manual examples like this and
finally succeeded in getting something
serious there's this cocky younger
kazami algorithm which is actually a
parsing algorithm for context-free
grammars it's a dynamic programming
approach with a drastic complexity as
you can see basically quadratic in the
number of pixels and so the idea here is
that we reduce the number of pixels
because we work on a lattice and what is
the lettuce and the lettuce is basically
this so this are much fewer pixels on
the left hand side than on the right
hand side and dynamic dynamic
programming approach would then compute
that this structure should be combined
because it gives you a better better
cost because of this it it enables the
symmetry between left and right part
whereas in the lower part this symmetry
is not apparent and using this we got
quite nice results I think so this is
the Paris data set and in God's we have
even more heterogeneous coordinates so
we get better split lines and the split
lines are more reliable with our
approach and um I would just like maybe
to show the video basically to conclude
this and so this is a two-minute video
so this is the point cloud that was
derived in God's they're also using is a
car driving through the street taking
images very much like Google Street View
and so the first process is of course
the production of auto photos from the
auto photos we get the then different
voting schemes so this map voting voting
for the different parts like windows
like whoa
oils like doors and so these are the
different voting schemes combined and
this goes then as input into the grid
creation which is then further processed
by the grandma pain Sigmund tation and
here we have the structure pausing part
where we buy the cost of so this is less
symmetric than this one so this gets a
better score which so automatically we
favor the application of the four split
rules which we have defined and so here
we have this dynamic programming
approach which is visualized so this is
the wall confidence no confidence no
confidence of my chest and then here
this is the dynamic programming
visualized
and maybe to show you this this is a
very preliminary visualization then from
only last week of the thoughts without
materials it said Robert of the
buildings and gods of course we are
using a volumetric representation so we
could actually create also real houses
but we don't have the data for this so
this is composed of convex polyhedra
yeah and so this basically wraps up my
talk and we have something very general
specialized to something much more
special which is then makes it possible
to use dynamic programming as a matching
procedure and of course my research
interest for the coming yes is actually
how to create matching procedures for
more powerful shape for presentation as
I've shown you in the beginning okay
thank you yeah thank you very much then
other questions
possible models our way by trainers good
work no well in fact that the word
grandma has appeared multiple times this
afternoon and this is not without a
reason because every assembly even if
you have an oil tanker or whatever yeah
it's composed of parts that refine and
it is only a matter of finding the right
form a leather to actually describe this
in a convenient way yeah and and for
instance this these boxes are completely
a car engine is created in a course to
find men are ya but of course boxes are
not a suitable cousin with a
presentation for that but of course we
could also use the mesh modeling
together with the shape grandmas and I
would just like to to position this
message yeah that shape grandma's can be
used in a very flexible way because
actually it's a restricted form of depth
first evaluation of functions there's no
loops in there so we actually it's very
much like programming and that's also
what people complain about like
architectures trying to use shape
grammas interestingly people love now
architects love now to actually edit
data flow graphs data flow graphs have
become the big hype in the architectures
community I can only recommend looking
up rhinoceros or grasshopper and there
are really beautiful models out there
you know but it but it's basically a
very similar formalism we can also use
tape ramazan on on data flow graphs good
other questions
if not ah let's thanks wen and all the
speakers of the session again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>