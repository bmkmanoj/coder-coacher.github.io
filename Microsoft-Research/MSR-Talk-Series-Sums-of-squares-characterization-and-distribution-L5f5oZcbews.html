<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MSR Talk Series: Sums of squares � characterization and distribution | Coder Coacher - Coaching Coders</title><meta content="MSR Talk Series: Sums of squares � characterization and distribution - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Microsoft-Research/">Microsoft Research</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>MSR Talk Series: Sums of squares � characterization and distribution</b></h2><h5 class="post__date">2016-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/L5f5oZcbews" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">each year microsoft research helps
hundreds of influential speakers from
around the world including leading
scientists renowned experts in
technology book authors and leading
academics and makes videos of these
lectures freely available
you
thank you for the invitation I'm URI and
I got connected by kind of an online
math conversation about three or four
months ago or so and that's how I
learned of the work and know with with
co-authors as well and and so he invited
me to come down and give a talk about
some of the number theory that goes into
the real work so I'm happy to do that
this is a I guess it's fair to say this
is going to be an expository talk I my
there's a there's a lot of pretty
mathematics in here that's I think it's
just kind of fun for its own sake and so
I think those of you who haven't seen
these sort of number theory results
before hopefully you'll just get to see
some cool results those you who have
seen the results before maybe I'll be
able to say some interesting things
about how that they're actually proved
at least give a some some idea of the
tools that go into it I certainly well
gets pointing to the outline here I'm
going to be we're going to be looking at
just the the numbers that can be written
as the sum of two squares or three
squares or four squares it's a
reasonably interesting problem for any
number s but these are the classical
esas s equals one is a little bit
interesting but I think you can figure
it out so first we'll just talk about
characterizing which numbers if I give
you a number how can you tell yes or no
can it be written as a sum of two
squares for example and then we can go
on to actually count how many such
numbers there are okay we'll talk about
what that means in a second there are
infinitely many of course but we can
still sort of say how thick on the
ground they are and then if I can be
written as a sum of two squares for
example maybe there's more than one way
to do it in fact they're almost always
is more with them one way to do it say a
little bit about how many ways there is
to do that and then I do have a fourth
point on the outline which I almost
certainly won't get to in the talk which
is really talking about the the
application of this to to the research
here Microsoft I should say that I want
to you know make the talk nice and
finite and of course I definitely
welcome questions at any time but I have
nothing else to do this afternoon I'm
happy to sit around afterwards and talk
about any of this stuff as long as you
guys want to talk about so you can ask
questions during if we don't get
to number four that's fine i'll i'll
have plenty to say about afterwards when
people who are really interesting and
stick around so your schedule is what
what i want to abide by so let's start
with the the first one just
characterizing which numbers can be the
sum of squares all right so so let's
just start with s equals two when is a
number equal to the sum of two squares
and in keeping with the high technology
level of my medium i will use a
high-technology notation when is end the
sum of two squares so if you look at the
data the set of numbers that can be i'll
write in read and write in black and the
ones that can tell right in red so 1 and
2 can be three can't and four and five
can 67 cannot 8 9 10 is good 11 is bad
12 is bad 13 is bad all these bad i feel
like one of these is messed up so i am
13 seems pretty good huh so let's put
here and then 16 and this is as far as
I'll go and this is the kind of thing
that if you're a 17th century
mathematician you look at this list and
it's actually kind of a fun game two
well you make it longer it's a fun game
to figure out the pattern and of course
I will instantly spoil that fun game for
you because I'm going to tell you the
answer but it can be done with its it's
not trivial one of the ways that we can
sort of look at these omissions is
notice that multiples of three are on
this list not 3 times 3 right 3 times 3
really can be written this as sum of two
squares it's 3 squared plus 0 squared we
also have a couple of multiples of seven
on this list we have a multiple of 11 on
this list themselves and 3 7 11 have the
property that they're the first numbers
that are three congruent to 3 modulo 4
and it turns out that it's not too hard
to show that this is a restriction that
last it's going to produce lots and lots
of red numbers so in the spirit of
trying to have one complete proof and
every math talk let's get get Galloway
right on it right away we can call
dilemma let's suppose that n can be
written as the sum of two squares
and let's suppose we have a prime P
that's con go into three mod for it's
one less than a multiple of four anytime
i right p it'll be a prime minister and
it happens to divide n then in fact its
square has to divide in so for example
if we have a number that's that is the
sum of two squares but it's a multiple
of three it really has to be a multiple
of nine that's what this lemon is going
to say and this actually explains all of
the red numbers that we've written so
far right so why is it's true well we
have let's say P divides n which can be
written as the sum of two squares it's a
squared plus B squared like this and if
we write this as a congruence this says
that a squared plus B squared is
congruent to 0 mod p it's just a
multiple of P saying the same thing well
we can move the B squared to the other
side of the congruence that a squared is
congruent to negative B squared modulo P
now let's suppose for a moment that be
itself is not a multiple of P suppose
it's not so suppose P does not divide be
that means that it has a well-defined
inverse we can act like it has a
reciprocal mod p and we can actually
move it to the other side B inverse a
all squared is congruent to negative 1
mod p and it's actually well known and
not too hard to show that there is no
number whose square is congruent to
negative 1 mod p if p happens to be a
prime that's 3 mod for kind of a
classical one of the first things you
might learn if we're studying quadratic
reciprocity or something like that so
but x squared congruent to negative 1
mod p never has a solution if p is a
prime that's congruent to 3 mod 4
so this supposition has to be wrong that
p actually has to divide be so ps2
divided be and then there's a whole
cascade of things that p has to divide P
will divide the difference of two
multiples of itself and that's a squared
and so that means PS to divide a itself
because it's a prime and now if P
divides both a and B then p squared
divides a squared plus B squared so this
this LEM the statement of the level sort
of like a global version of this nice
local fact that x squared congruent to
minus one month he doesn't have any
solutions and if you just do a pretty
simple modification of this then you can
do sort of any odd power of P so this is
a statement of the lemma but similarly
you can get a whole sequence of limits
it says if p cube divides n then p to
the fourth divides in and so on you
can't just be sitting on an odd power of
p they have to pair up so reminding me
of the talk that I just went to your pet
not the same kind of parent okay so this
gives a whole bunch of obstacles for
being a sum of two squares this
generates a whole list of red numbers in
fact a whole bunch of red numbers and
the cool thing is that this is the only
obstacle the only obstacle to being a
sum of two squares is having a 3 mod for
prime in your factorization to an odd
power so state this as a theorem and
this is I think from a mathematical
point of view one of the reasons why
this is such a nice subject is that the
problem is about addition but the answer
is about multiplication it's about the
factorization of the numbers this is
really cool to me so I guess this was
first a proof was first written down by
Euler in the mid 18th century certainly
a proof was claimed by fair mob but fair
models never wrote down proofs of
anything he just taunted his frenemies
with them and it might have even been
noticed earlier so let's factor the
number n as into its prime power
factorization so P 1 to the K 1 up to PR
to the kr times q1 to the l1 took us to
the LS and the peas will be 3 mod 4 and
the cubes will be problems that are not
3 mod for so primes so P I are primes
congruent to 3 mod 4
most of them are probably one mud for
but I hope you'll give me one exception
course as number theorists like to say
most Prime's are odd but two is the
oddest prime of all so we tend to avoid
it where we can so the Qi are primes not
con go into 3 mod 4 and then the theorem
is that this is the only obstacle n is
the sum of two squares if and only if
each ki each ki is even so that we avoid
this obstacle here that you can't have
the Ottawa and that's all you need
that's the only thing that you need and
I won't give the entire proof of this
but I will boil it down to the important
statement that needs to be proved so
this is yes sketch or a couple of ideas
they're still cool on and this proving
this theorem comes down to a particular
magic identity it's just some polynomial
identity that you can verify for
yourselves if you want if you take the
the product of two sums of two squares
again mixing multiplication addition in
what seems like a dangerous way this
turns out to also be a sum of two
squares in fact it's AC minus BD all
squared plus ad plus BC l squared and
it's just something just something that
computers do better than us so this
magic identity says that if I'm a
product of a bunch of numbers that are
sums of two squares and I myself has to
be a sum of two squares of course you
can iterate this it came a as many
factors as you want so what building
blocks do we have to show our sums of
two squares so the theorem follows from
well some of our building blocks are
things of the point of form P squared
when P is 3 mod 4 but those are clearly
the sums of two squares it's just P
squared plus zero squared and then
there's the one even prime yes I think
we can figure out that's the sum of two
squares and then the last building block
that we have is that if we have a prime
Q that's Kongo into one mod for
then Q can always be written as the sum
of two squares and this is not a trivial
statement but it's not super hard either
it would be something that could be
taught in an undergraduate number theory
class take a lecture or so so this is
the crux of the proof as long as we can
show that everyone mud for prime can be
written as a sum of two squares then we
can assemble all the pieces together to
get all these black integers here so
anything else to say about sums of two
squares that's ya know I was going to
see exactly that's exactly what it so
this is get to switch her on the order
of the talk which is this is exactly
right so note that this identity can be
rewritten as the multiplicative ed of
the norm of a complex number so if I
write instead of a squared plus B
squared if I write the norm of the
complex number A plus bi then if we
multiply that by the norm of the complex
number Z plus di then what we get is the
norm of the their product a plus bi c
plus D I and now if you multiply this
out in fact I don't remember this
identity I remember this identity and
then I just pretend that I'm doing
something cool the real part of this is
AC minus BD and the imaginary part is ad
plus BC times up so that's exactly right
this is not an accident well I don't
know it's the same accident if this
there's complex numbers are behind the
scenes here yeah I guess there are no or
layering accidents is that and the fact
that this has something to do the
complex numbers might explain why the
next thing I'm going to talk about is
not s equals 3 but s equals 4 because
when s equals 4 we have a kind of an
analog of the complex numbers namely the
quaternions so it's actually a little
bit prettier to talk about s equals 4
than it is to talk about s equals 3 so
let's do that very thing unless there
are other questions so far about sums of
two squares
oh yeah absolutely yeah and depending on
exactly what you insist upon of your
algebraic structure this you know this I
think they're called division algebra is
or something like that then it's been
proved that they only exist in
dimensions one two and four so you have
the real numbers are complex numbers and
the quaternions and there's nothing as
nice in any other dimension I think
there's something in dimension eight but
it's not associative or something like
that it's anyway yeah so messy yeah
that's right now but useful ooh s-sir
that's a controversial claim it like
much of math I know of no use but i want
that i won't dispute that's actually
useful okay sums of force
so I think it I think the right thing is
a division algebra it's um what do you
want you so but if you're going to go to
dimension for you've given up
commutativity but I think you still want
like one like both sided cancellation or
something like that right so it's it's
it fair enough yeah division algebra
should be close enough to get the right
answer you okay thumbs of Forth Worth so
when is n equal to the sum of four
squares and our lovely notation and if
you start doing the data for this one
then I'm very very sure that you'll be
able to find the pattern because there
are no red numbers if you just keep
looking you'll find that everything you
can write down works fine and this is
actually a theorem so Lagrange's
foursquare theorem later hat later 18th
century and all of them every positive
integer can be written as a sum of four
squares so this is really nice you might
have guessed because we've talked about
the quaternions here that there should
be maybe some magic identity a dimension
for magic identity and there is and I
and I won't write it down but you you
and I could figure it out at the same
speed because we would just write down
the quaternions and try to remember how
to multiply them so the sketch of the
proof is the same you use the surprising
multiplicative structure of the problem
to reduce it to building blocks so so we
write down which I won't do we write
down the magic identity corresponding to
I guess the quaternion so the the norm
of a plus bi plus CJ + D K times I don't
even know what am I going to get to the
right letters here e + fi plus whoo that
was a close call so you just write out
these norms and you write out the
product you're out the door okay so
there's some magic identity some eight
variable polynomial identity which is
even cooler than that and what that
shows is that as long as you can
represent every prime as the sum of four
squares then you can assemble it
together and represent every such
integer and note by the way this is
totally constructive if you if you can
if you have an algorithm that does the
prime case then it's then this tells you
least one such representation will get
to the later to the issue of trying to
find them all so now the crux is just to
show that every prime can be written as
a sum of four squares and again this is
not trivial but it's also not super hard
let's see this one I was trying to
figure out there in all of this stuff
there's attributions of who first wrote
down a proof or maybe who first wrote
down a proof that today we call it
correct proof but then there's the first
person who actually noticed it and
whatever so I think someone before from
I noticed this I'd like to thought I
wrote it down now I just said earlier
Gerard or something some people say that
this is actually in digha fantasies
third century book that every every
integer can be written this is on the
four squares so at least as an assertion
yeah so and now if we go to back to
three squares by the way of course it's
once you can be written as a sum of four
squares trivially you can be written as
a sum of five squares or six squares or
whatever is you're going to allow zero
or whatever if you don't want to allow
zero there's still some interesting
things to say but going back two three
three squares one is n the sum of three
squares and this turns out to be a less
pretty answer oh the characterization is
kind of pretty but it's definitely a
different problem because there isn't
any such multiplicative structure and I
don't just mean that we haven't figured
one out yet I can easily write down to
numbers of this form whose product is
not of this form in fact you could
easily do it too if I stop talking what
you think I won't do that so three is
the sum of three squares 1 squared plus
1 squared plus 1 squared 5 is the sum of
three squares 2 squared plus 1 squared
plus 0 squared but 15 their product is
not the sum of three squares and in fact
it's not hard to show that 15 is not the
sum of three squares but in fact you can
actually show it just by looking mod
eight the only squares modulo eight or 0
1 and four and try as you might you're
not going to add three of those together
and get seven muddied
so in fact no number that's congruent to
seven mod 8 can be written as a sum of
three squares you just look ma dated
someone suppose a counterexample and
prove them wrong and that's almost the
only obstacle being seven model eight is
almost the only obstacle just have to
pretty it up a little bit powers of two
get in the way yeah please that's right
yes correct that's absolutely there's no
obstacle whatsoever local or global
obstacle yeah everything is kind of
beautiful in fact I didn't say anything
about proving these crux is proving that
every site prime that's one month for
can be written as a sum of two squares
or proven that every problem in the
world be written as a sum of four
squares there's there's several
different ways of proving that but one
way of proving it is first showing it
locally in other words showing that
there always exists as sum of four
squares that's a non-trivial one that's
0 mod p and then that so that gives you
a multiple of P and then there's the
classic ways to sort of a descent
argument that if you have some multiple
than you have a smaller when you get our
way down to pee itself may or may not be
the slickest proof we could come up with
but I think these are the first ones
that like Fair my love dissent arguments
and so on so these are really local
obstructions right if I just look at the
number the squares mod for their 0 and 1
I can't get 3 much for my case is closed
there same thing with mod 8 but there
are no local obstructions for four
squares it's enough to fill up all the
possible residue classes that doesn't of
course automatically mean that there's
no global construction but it turns out
it is not okay so what's the answer for
three squares does it deserve so the
theorem here I just looked at my notes
and forgot 1790 or so apparently people
got really excited about this and then
the second half of the 18th century
whether it is aha so this is one where
it's often attributed to Lagrangian like
1898 or 1798 sorry but then apparently
the proof was incomplete and Gauss came
along and picked it up because he wasn't
busy enough
fermo I think also said he could do this
he says a lot of things so n can be
written as a sum of three squares if and
only if only if it's not of a particular
form it's not a power of 4 4 to the K
times a number that's seven ma date so
the seven ma date is the obstruction
we've seen and then you can sort of
factor out powers of four and and reduce
to the same obstruction somehow so for
example 4 times 7 28 cannot be written
as the sum of three squares I don't know
of one he made so many it's hard to know
of course is wrong meaning like typo
level wrong or like seriously wrong I
don't know of any offhand yeah so like
for example this this is usually the two
squares usually called pheromones two
squares here even though I think he
never published a proof but he just had
the assertiveness to pull it off yes no
I'm missing an odd thank you all right
the only a mathematician it's a hundred
percent wrong pretty close yeah sorry to
the four squares I can do it okay evil
this however this one only this right
away only works for primus yeah there
might be some sort of way to reduce it I
agree certainly the standard proofs that
I've seen just sort of do it from
scratch yeah but there might be a way
I'm ideal way and I guess you have to
know about the quaternions but you know
people look at these things
okay so i won't really say in fact I
don't think I going to say anything
about that proof it this is this is a
somehow less elementary proof to the the
other two like if you held me down and
made me right out of proof I could do it
but this one I couldn't have to look
some stuff up person see how we're doing
for time I guess I won't write anything
but I'll just say that as a detour
there's an interesting generalization of
this where you change the power to to a
different power so instead of looking at
numbers that can be written as a sums of
squares you look at the sums of cubes
sums of fourth powers and so on and it
turns out that as long as you allow
yourself enough variables you can always
do it so there are analogs of the four
squares theorem 4 cubes like every
number can be written as the sum of nine
cubes every number can be written as a
sum of 19 fourth powers and this is
known as wearing this problem because a
fellow named wearing wrote those
assertions down and then he wrote and so
on and anyway I'm got a beer or
something like that so Waring's problem
and there's still there's definitely a
active research on this to this day like
how many Kate powers do you need to
write every possible integer every
sufficiently large Andrew so for example
four cubes we know that you need nine
cubes in general in fact if you try it
for the number 23 you need nine cubes
it's just not many things to try but you
know you don't need nine cubes very
often for all sufficiently large
integers you only need seven cubes for
example but we don't know the right
answer to that question if you if you
discard finally many examples how many
cubes you need to write all sufficiently
large dangerous and we know it's between
four and seven but we don't know the
answer example no no and varies you
these cases so the proof of this kind of
Waring's problem stuff in general is by
an extremely different method the circle
method would be the two word tag it's
quite a bit more complicated very
interesting stuff but it definitely for
another time if you want to write every
integer as the sum of you know hundreth
powers as long as you allow yourself
enough of them then you can do it I
don't know why you'd want to but
okay so guess the next item in the and
the outline was I'm counting such
numbers and when we talk about or when I
talk about counting and infinite sets
it's an infinite set of positive
integers what we what we were talking
about is we're going to look at the
number of integers up to X such that and
it can be written as well I guess we'll
start with four squares it's the easiest
one as a function of X this particular
is really easy because every integer can
be written as a sum of four squares so
so for four squares one hundred percent
of integers can be written as a sum of
four squares for three squares again the
proof is a little untidy but the answer
is quite tidy and it's it's easy to work
out the proportion of integers that are
of this form is exactly one sixth so for
three squares 83.3 percent of images can
be written as a sum of three squared but
now if we look at just two squares then
it's a little harder to figure out how
many Andrews have this property it's a
less obvious property luckily smart
people were born before us they've done
this so first of all I'll give you a
little bit of data
so this is going to be the number so I
guess the first column will be X the
second column is the number of integers
up to X that are the sum of two squares
so we'll count up to ten one hundred a
thousand and ten thousand seven of the
first n integers can be written as a sum
of two squares 43 of the first hundred
integers 330 of the first thousand
dangers 2749 the first 10,000 andrews
care to make wagers but there's what's
that so should the answer be X to the
log 7 over log 10 ok so this data could
support almost any assertion so that's
why it's fun to bet on but it turns out
in the limit the answer is zero percent
so the condition that I just erased of
having this multiplicative structure
where you don't have any 3 mod for
primes to an odd power turns out to
exclude almost all the integers in the
limit there's zero percent of net
survive but we can actually say
something very much more precise than
that this is a theorem of Landau from
just over 100 years ago if we look at
the number of ranges up to X that can be
written as a sum of two squares and it's
actually asymptotic to a smooth function
so this just means the limit of the
quotient of these two functions tends to
one if you plot them this is some step
function this will be some smooth
function zoom out far enough they occupy
the same pixels on the screen all this
means and what is this function it's a
particular constant times X divided by
the square root of natural log of X and
the constant K is pretty strange it does
betray the it has clues about this
multiplicative structure hidden inside
it it's 1 over the square root of two
times a product of 1 minus P squared all
to the minus half and this product is
over all Prime's that are congruent to
dream on for so it's an infinite product
by the way I should mention I just
tossed out casually oats an infinite
product it's not completely trivial that
they're infinitely many primes that are
congruent to 3 mod fold I mean there are
infinitely many primes and they're all
congruent to either one or three month
for but we have to think a little bit to
show that we actually get both types
infinitely often and it's actually a
kind of an interesting observation that
chebyshev made in the mid 19th century
which I've done some research on this
topic where if you look at the two
graphs of these counting functions 3 mod
4 times 1 mod 4 times we know that
asymptotically they each have fifty
percent so if you zoom out they occupy
the same pixels on your screen but if
you just look the three mod for one
always seems to be ahead and he actually
asked Oh does that always happen or
whatever this is sort of a prime number
races or something like that a little
bit yes somewhat similar like sort of a
kind of a parody phenomenon I guess
anyway but as I guess the soundbite
thing I want to say is that fifty
percent of primes are one mod for and
fifty percent or 3 mod floor and then
there's one that's neither they do that
was a famous theorem of little wood from
the 1910s and I think people by that
time expected that it didn't happen so
when little poop would prove that they
do happen the first the first Prime with
it the first point where there's more
plans that are one mod for than there
are three mod four is twenty six
thousand 861 and it's actually the first
of a pair of twin primes so 3 mod forces
oh no you don't right away and then
starts leading again until past six
hundred thousand so it's actually quite
rare and and there's been some
interesting research in the 1990s to try
to quantify that rareness so in some
measure their the three mod 4 is ahead
of in this race 99.5 nine percent of the
time kind of cool
the leader change is infinitely often
the well yeah I mean because I'm going
on your schedule or not really care if I
finish what I have to say this is kind
of it's an interesting thing so what's
the M let's do the proof will put more
well you get a bonus proof so what's the
usual proof that there what's Euclid's
proof that they're infinitely many
primes okay you suppose that they're not
you suppose there's only finitely many
times you multiply them all together and
you add one you show that thing has to
have a new prime factor so I like to say
with various degrees of success that you
can also make this into a proof that
they're infinitely many composite
numbers suppose they're not then just
multiply them all together and don't add
one doesn't mean to you make it yes it's
important cancelling so infinitely many
primes that are three Montfort's exactly
as you say you just change it slightly
so if not so if we've written down all
the primes in the world that are 3 mod
for there's only finally many then you
can look at this number four times their
product plus three in fact to be
completely honest let's have p1 equal
three and let's not use p1 here because
I don't want this to be multiple of
three so this is a number that's 3 mod 4
and therefore it must have a prime
factor that's three month for in fact it
must have an odd number of such prime
factors but it's not divisible by any of
the known 3 mod for primes so this case
is an easier case to do something like
this for infinitely many primes that are
1 mod for you have to be a little bit
trickier you can set up the number a now
p 12 PK or all 1 mod 4 and we're
assuming that's all that there are and
you can do this if you set the number 4
times p1 up to PK all squared plus 1
because there's another little
elementary factor which it's quite
related to the one we head down here
before that any number of the form for k
4 x squared plus 1 all of its prime
factors have to be one month for
and it's essentially the same argument
that negative one is not a square mod 3
mod for print so you do have a slightly
less elementary but still you can just
write it down and people look for people
would love to prove to your slice
theorem that any nice arithmetic
aggression has infinitely many primes
with this way but in fact you can
generalize just to a point but sort of
20 percent of the cases so ok did I want
to say anything else about landaus
theorem I want to sketch the proof that
might be ambitious hmm ok let me not
sketch the proof but let me at least
write down the object that comes up so
the the the sound bite version of how
this is proved is that there's actually
a function of a complex variable a nice
analytic function or a sort of nice sort
of Hannah lytic function that goes along
with this problem of trying to
characterize the numbers there are some
zuv two squares and one can actually get
a formula like this by taking that
function and doing some contour
integration so it's definitely not a
trivial way to proceed but it can be
done let me just write down the object
that I'm alluding to so this is its
related to the proof Landau's theorem
and the idea is to write down a nice
series that has some arithmetic content
to it so before I do this one exactly
let me just write down the Riemann zeta
function because it's kind of a slightly
simpler version of of what this is so
this is more for comparison than
strictly related but the Riemann zeta
function is certainly well known in
mathematics zeta of z is just the sum of
the negatives eath powers of all the
positive managers so for example there's
the classical Euler formula if you take
Z to be to the sum of the reciprocals of
all the squares is exactly equal to PI
over 6 that oil wrote about 500 papers
but this was one of the first this is
the one that vaulted him onto the
national mathematics scene it's figuring
out this this this exact value but in
general we can think of this may be for
any complex number Z if we want and one
thing one way we can see this is
connected to the primes is that we can
actually factor this into a so called
Euler product so this is a product over
all Prime's P of the following term it's
1 plus P to the minus Z plus P squared
to the minus Z plus P cubed to the minus
C and so on each factor is an infinite
sum and the way we can see this is well
every number n decomposes into a
factorization of product of a bunch of
primes and so if it's you know p squared
times P times P times P cube for
different p you just sort of select it
like an ala carte menu from this product
so if you if you just do the foil if you
distribute this infinite product of
these infinite sums you'll pick up all
these images this actually is a nice
geometric series so the way that this is
usually written as a product over p1
minus p2 the minus Z inverse so this is
I guess in a nutshell why the Riemann
zeta function has anything to do with
primes and if you've ever seen this
before obviously its its properties as
analytic function or crucial for
understanding the distribution of primes
the reason I write down here is because
there's a function if we take the same
function but only some over the images
we care about only the sums of two
squares then we get a related function
that also has a factorization because
this is a multiplicative problem
secretly so if we look at let's just
call it t of z tea for two squares and
let's define this to be the sum of n to
the minus z where n is equal to the sum
of two squares I guess let's not try to
do this with zero then we can do this
same factorization this ala carte method
if p is a prime that's congruent to 3
mod for then it has to encourage an even
power so we get 1 plus p squared to the
minus Z plus P to the fourth to the
minus Z and so on so this term is
slightly different we only get the even
powers of P but for the other terms we
get exactly what the Riemann zeta
function had
so let's say Q naught can go into 3 mod
for this does include Q equals to 1 plus
p 2 minus c plus p 2 minus 2z so on and
so if we do this as a geometric series
this is the product / pecan go into 3
mod 4 1 minus P to the minus 2 Z inverse
and then the rest looks like the Riemann
zeta function the product q con going to
3 mod 4 1 minus p to the minus z inverse
so i would certainly if people later on
want to ask me more details about the
proof i can go on to what's going on but
the interesting thing here is that this
includes about half the prime so this
looked kind of like half the riemann
zeta function in some sense and in fact
this function here is the square root of
the riemann zeta function times a nicer
function so the good news is we can use
our knowledge of the zeta function to
sort of examine this the bad rude is at
that square root when you're talking
about analytic functions is really nasty
you don't just have a isolated
singularity anymore you have to do a
branch cutter or something so okay so
anyway lots of interesting things to say
about that leave it for another time
let's move on to the final bullet point
that I had any expectation of getting to
counting the number of representations
so if a number can be written as a sum
of two squares or three or four squares
and how many ways can it be so good it
turns out you and I if we're like okay
how do you write five as a sum of two
squares and you're like this is one way
to do it two squared plus 1 squared okay
but it turns out that math prefers to be
really pedantic and say no there's
actually eight ways to do it you can put
plus or minus two you can put plus or
minus one you can put them in either
order so the formulas work out nicer if
you include all over the redundancy I
just lose here so let's let our sub s of
n be discounting function it's the
number of ordered s tuples I guess a 1
up to a s and these can be positive
negative or 0 and they're ordered such
that the sum of their squares is equal
to n
of course will be worried about this is
actually an interesting question even
for larger s because the number
certainly changes and starting with s
equals 2 first I want to say something a
little bit about the the average
behavior of this function it's actually
easier to work out than the individual
behavior so let's imagine we're looking
at our 2 of n the number of ways n can
be written as a sum of two squares but
now we're going to sum this overall end
up to some cutoff point X alright well
just by the definition we sum over n up
to X and this is just the number of
ordered pairs a B such that a squared
plus B squared is equal to n but now the
N doesn't really matter anymore it's
just a squared plus B squared should be
less than or equal to X is the only
restriction so this is just the number
of ordered pairs lattice points points
with integer coordinates in the plane
such that a squared plus B squared is
less than equal to X yeah this is the
number of lattice points in a big disk
and if as long as you have a shape
that's not really ugly then the number
of lattice points is basically the area
so this is asymptotic to the area of
this disk of radius square root of x so
area of a disk of radius square root of
x and that's just pi times X well I
guess this one's inequality and one
interesting thing to note remember that
most of these are two events are equal
to zero zero percent of integers
actually have a representation at all so
we have a reasonably thin set of
integers counting function looks like x
over the square root of log X but the
total number of representations is like
X so if I have a representation I
actually have a lot on average I have
something like the square root of
natural log of X on average so if our
two of n is greater than zero then let
me not put parenthesis this is sort of a
lie but on average are two of n sort of
has size square root of log X
but this definitely is an average
statement that the the function are two
fluctuates quite a bit it there's a well
let me write down there's a
multiplicative formula okay I guess what
I'm trying to say is that the formula
for the number of representations
depends on the factorization the more
composite n is the more the more
representations you have and so it's
like a divisor function it really
fluctuates quite a bit so there's a
couple of there's lots of ways to write
this formed it down to equivalent ways
are as follows so are two of n is equal
to four times the number of special
divisors of n Saudi dividing n and d is
special that it only has good Prime's in
it so every prime p dividing d satisfies
its condo into one mud floor so if you
listed the divisors of n throughout the
ones that have a 3 mod for prime factor
in fact throughout even ones as well and
then just count the ones that remain
that's the same up to this factor if
four is a number of representations
another way when sees a certain
sometimes is that this is the number of
divisors then that are one mod for just
the divisor itself now minus the number
of three mod for divisors of them
and it's fun if if n hits one of these
obstacles if it's divisible by a 3 mod
for prime to an odd power it's fun for
you to work out by hand that this is
actually equal to 0 for example now it
makes me wonder about the first one that
one doesn't seem right anymore because 1
divides n maybe this is only true if if
it's not zero I'm not sure I copied that
down ok so anyway this is a
multiplicative structure to our two
event has to do with the factorization
and it turns out that so this fluctuates
quite a bit so for example when it's not
too hard to show there are infinitely
many n such that are two of n is bigger
than any power well I guess I didn't
need that sentence with Omega its Omega
of log into any power you want to
prescribe an advance so if you want
something with more than log into a
million different representations are
infinitely many such an just make them
really really composite so this is a
function it fluctuates wildly it has a
certain average but the min and Max is
all over the place in terms of sums of
four squares
formulas a little bit simpler here we
always have it's bigger than 0 every
integer is at some of four squares so we
look at our four then again there's
several ways to write this but one way
of writing it yeah yeah sorry i meant it
no that's that's what I mean to say for
any you pick a be ahead of time and it's
an R 2 of n is omega log into the p and
you know analog number theorist would
gleefully write down some more
complicated things somewhere between big
powers of log and small powers of an
it's like no that's fine Doug but ok are
four of em well first of all let's look
at the the average behavior of our four
then because it's one of the few times
in our lives we can go to work and talk
about the volume of a four dimensional
ball so as you all know just like I knew
before I looked it up the volume of a
four dimensional ball of radius R is PI
squared over 2 times R to the fourth so
this again this is the number of lattice
points but now in a four dimensional
ball so a squared of radius root X again
and because somebody worked out the
volume of that this is asked him talk to
pie squared over 2 times x squared so on
average are four ven is like a constant
times n and again there is a
multiplicative type formula for this for
this exact quantity it's almost a
divisor some so it's almost just eight
times the sum of all the divisors of n
but you have to throw out some devices
throughout the ones that are divisible
by four in other words keep the ones
that are not 0 mod 4 and they
this fluctuates wildly in size even
though the average is just like X this
is quite small a lot of the time so for
example our fourth that's our the number
of some ways to write 2 to the K is the
sum of two squares most devices are
tooth decay or multiples of four so you
throw them all out so this is actually
exactly equal to 24 4k green equal to
two so they're infinitely many numbers
for which are for Ben is pretty small
it's only 24 but it also gets pretty
large a lot of the time so our four of n
is actually does get asymptotically
bigger than the average though not by
much you can put in another log log n or
something like that so it's a little
better behaved but it still fluctuates
quite a bit here the fluctuations are on
the small end ok I guess two more things
that I have to say one is just to say
that we don't know anything well I
there's nothing simple one can say about
sums of three squares in terms of an
actual formula oh yeah instead of three
squares it's two cubes yeah so that's
the rom notions taxicab number 17 29
yeah so Google 1729 you'll figure it out
mmm Bing 1729 you'll figure it out right
but so instead of two cubes get three
squares I don't even know if I should
write anything about this except maybe
we can just show off that we know the
volume of a three-dimensional ball since
that's where we live so four thirds pi
times the radius cubed so four thirds pi
times X to the three halves so it's like
X to the half on average of course some
still have no representations there's
not a nice multiplicative formula for
the individual value our three of n I
guess the last thing I just want to say
is one way that people have studied this
representation accounting problem which
is not it's not my preferred way it's
not the kind of tool i like to use but
it gives really good answers so i gotta
give it credit and it's related to the
classical theta function
and this by now if your if we feel like
tuning out you can because this is just
totally for fun if we define the
classical theta function to be the sum
over all integers n equals minus
infinity to infinity of e to the minus
pi m squared X so the squares come up
because we're only sort of summing over
the squares here this is defined
whenever X is a positive number this
nice and convergent and the thing the
relationship to this representation
problem is suppose i wrote down the sum
of from m equals 0 to infinity of our
sub s of em well let's just do it for 3
so our three of em times e to the minus
pi MX well our three of em just counts
the number of ways of writing em as a
sum of three squares so this is going to
be a sum over triples a b c of e to the
minus pi times a squared plus B squared
plus C squared oh sorry a squared plus B
squared plus b squared equals m e to the
minus pi a squared plus B squared plus C
squared times X and again the M now
disappears we don't we no longer care
about what M is we could just cover them
all so this goes away and this goes away
and this infinite sum of factors as the
cube of this infinite sum again this is
practicing tuned like the binomial
expansion on infinite things but this is
actually exactly equal to theta of X
cubed and in general the s power of
theta of X exactly encodes the number of
ways to write n is the sum of s squares
you could do similar things with cubes
or any other power if you felt like it
and they this function here like so far
this is just like an algebraic
clothesline it just has the numbers hung
on it but it actually has nice analytic
properties as well and I'll just finish
by writing down one of those is it
actually has a very non-trivial
functional equation and you can use any
program you want and draw the graph of
this function this
not the kind of equation that you would
guess but if you evaluate theta at 1
over X it's actually tied to the value
of theta at X itself fact it's the
square root of x times date of X this is
a quite a non-trivial fact the
functional equation for the theta
function this I guess basically comes
out of process on summation so this in
Fourier analysis going on here and I
won't even write down but I'll just say
that this functional equation is
actually instrumental in proving the
famous functional equation for the
Riemann zeta function so if anybody's
ever heard about the zeta function has a
nice symmetry that's quite it wouldn't
be a parent and the proof of that
symmetry bootstraps this particular
symmetry here so this we saw when we
were trying to looking at the number of
representations as a sum of squares
especially these average values we saw
that secretly these are counting lattice
points in balls in a disc in a three or
four dimensional ball and the question
that Uranus first started talking about
was trying to find trying to count such
lattice points in in other shapes so
like an annulus or a segment of an
annulus or something like that so that's
something that I am happy to talk about
but that's probably going to think wait
until people can disperse to wherever
they want to be but again i'll be around
all afternoon so are there any questions
yeah and again I will I will let you
feed to your heart's content I guess so
for example if we're looking in a well
it's hard to I'll know exactly what
nibble to give so one of the things that
in this paper that were we're interested
in is we want to count lattice points in
an annulus like this quite a thin
annulus and already this is it's verging
on being a delicate problem because the
analyst can be really thin but we're
interested in last points with it with a
even more special property if this
radius here is is capital N and we're
looking for lattice points a B such that
n minus a squared minus B squared can
itself be written as a sum of two
squares this is connected to writing n
as a sum of four squares which is a four
dimensional problem it's like projecting
it onto a two-dimensional annulus
basically and so the nibble for people
who have read or wrote the paper is that
I think that this number is Omega of n
over square root of log in sorry a
theater of n over square root of log n
so if n is P to the L I'd like to argue
that it's actually p to the l over
square root of l as opposed to pee the L
over L the annulus can be actually quite
thin the radius you think of the radius
as being one or something like that you
really quite then but that it seems like
that would be a really dumb thing to do
but that's the difference between sorry
should this be root and as the radius
should be rude n yeah right because the
point is if we take one less than root n
this is about the square root of
something like n minus 2 10 or something
so the numbers that were representing
are between N and say and minus the
square root of n are some things
in the area of a fair enough same
mistake yeah thank you very much the
point here is that that I want to argue
in the nibbling session that the power
of log in the bottom should be logged to
the one-half rather than log to the one
that's that's my belief but we'll see
what survives so that's the nipple yeah
it's a little bit of see you and it's
true that if you have a really thin
annulus then the error term is becomes
quite prevalent here so the problem that
that the mentioned here is we sort of
said out loud if you have a big region
than the number of lattice points is
should be about the area but there's an
error there and investigating how large
that error can be is actually an
interesting area of research if you're
allowed to draw the boundary even for a
convex region but you're allowed to draw
the boundary however you want then the
area can basically be the whole
perimeter you can just wind the
perimeter to the left or right of every
lattice point as you go along but for
for a nice shape like a circle then the
area actually is somewhat smaller it's
going to be a smaller power of of the
radius than radius to the half and
exactly what the right power is is still
an open problem between a quarter and a
third or something like that
thanks for coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>