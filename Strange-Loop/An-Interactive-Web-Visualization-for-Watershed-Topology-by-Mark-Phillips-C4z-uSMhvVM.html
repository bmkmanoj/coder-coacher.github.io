<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;An Interactive Web Visualization for Watershed Topology&quot; by Mark Phillips | Coder Coacher - Coaching Coders</title><meta content="&quot;An Interactive Web Visualization for Watershed Topology&quot; by Mark Phillips - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Strange-Loop/">Strange Loop</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;An Interactive Web Visualization for Watershed Topology&quot; by Mark Phillips</b></h2><h5 class="post__date">2016-09-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/C4z-uSMhvVM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everybody my name is Mark Phillips
and I'm going to talk about a project
that has to do with rain and i'll start
by saying it is not my fault that it's
raining today but it's convenient
because that's that's what i'm going to
speak about this is a project that
started as a work related project but
then grew into kind of a personal thing
that i worked on off and on over the
last year and ended up writing a kind of
a fun web visualization that combines
some computer science algorithms and
math and environmental science and
hydrology so let me just start by
jumping into a description of what the
main question is that that this project
was designed to address and i can say it
like this given a spot on the ground
indicated by say that yellow dot when it
rains there where does the water go so
what's everything that's downstream from
that particular location and then
there's kind of an inverse problem of
what's everything that's upstream from
that location so what's the entire
region within which all the rain that
falls in that region is going to flow
past that yellow dot so my background is
actually in math and data visualization
are not a hydrologist I've spent the
number of years working with climate and
some environmental data but I had to
learn a lot about hydrology and
hydrology data sources in order to start
to answer this question and ended up
writing a web application to visualize
what I found and so I'm going to start
by showing the application and then take
a step back and take it apart and talk
about the data that went into it and
what it took to to create it so let me
first flip over and just give a quick
demo so this is it i'm running this
locally but it's online at that address
if if you want to check it out so this
is an interactive map of the united
states and what's happening is as i move
the cursor around it's highlighting
everything in blue that's downstream
where I'm pointing and everything in red
that's upstream and I can zoom in on the
map a little bit and then say in a
little more detail what's going on to
make it make more sense so this yellow
region this is all done and turned in
terms of these regions called watersheds
and whichever region is directly under
the cursor it highlights in yellow and
then all the ones that are upstream from
there it highlights in red or maybe it
shows up is kind of a brown there and
then everything that's downstream is in
blue and one thing that I immediately
noticed when I started working on this
that surprised me but then once I
thought about it it made sense is that
there are a lot of a lot of points where
there isn't much of an upstream area
like right there there's no red there's
a lot of blue of course but no red and
then every now and then you get to spot
where there's a big red area and at
first when I started working on this I
thought something was wrong but then I
realized now that actually makes sense
because when it rains water runs pretty
quickly into creeks and streams and
makes its way into rivers and it's those
rivers that have large upstream areas
random spot on dry land doesn't
typically have a very big upstream area
because if it did it would have turned
into a river by now and so that's what
gives rise to this kind of flashing
effect as I moving the mouse around is
when it crosses over a river it hits a
place that has a big upstream area
anyway you can zoom out and look at some
kind of interesting things here on a
large scale notice that there's a place
here kind of an imaginary line that as I
move back and forth across it the the
downstream drainage jumps from the
Atlantic over to the Mississippi or the
Gulf that's the eastern continental
divide and by definition the Continental
Divide is an imaginary line that divides
the continent into the two regions based
on where the water flows there's another
Continental Divide out west the Western
Continental Divide or sometimes it's
just called the Continental
because it's bigger it separates the
Pacific drainage from the the Gulf or
the Eastern drainage another thing
that's kind of fun to to do is to zoom
in on downtown New Orleans which is
where of course the Mississippi empties
out into the Gulf of Mexico and I'm
going to highlight the Mississippi River
near downtown New Orleans and then zoom
out and you can see the whole drainage
area that that drains to New Orleans so
if you were Huckleberry Finn you could
get on a raft theoretically anywhere in
this red area and float all the way to
New Orleans or since st. Louis is in the
middle of that big area you can see that
New Orleans is where all this rain were
getting today is going which is not
surprising because we're right next to
the Mississippi River some other cool
things to look at here are to zoom in on
chicago and i'm going to leave the
Mississippi watershed highlighted notice
how close that red watershed area gets
to Lake Michigan in fact it actually
overlaps like mission in a little bit
and that's interesting that didn't used
to be the case theres a river here that
runs through or very near downtown
Chicago called the dis plaines river and
in the 1800's some canals were put in to
connect that river with like Michigan in
order to allow ships to transfer from
the Great Lakes to the desplaines river
flows into the Illinois River which
eventually meets up with the Mississippi
I think right here near st. Louis and so
that's what gave rise to Chicago is an
important transportation hub so in some
sense you could say that this
visualization helps explain why Chicago
is the big city that that we know it as
today another thing that's kind of fun
to look at is to follow the starting
from here in st. Louis follow the
Missouri River out west over into
Montana and to see where we can get to
somewhere right around here I think
where you cross over the Continental
Divide to the Columbia River
drainage area this is the route that
Lewis and Clark took and their famous
expedition in the early 1800s where they
were looking for the easiest way to get
from the middle part of the country
particularly here in st. Louis to the
west coast and of course in those days
traveling on water was the easiest way
to go another kind of notable thing is
look at what's going on here in large
parts of Nevada and Utah where the
downstream drainage never makes it to an
ocean there are some rivers here but
they tend to just kind of peter out like
that one and like here's salt lake and
there's the region that drains into Salt
Lake but nothing drains out of it which
i think is why it's salt salt water but
this whole area here with the property
that there's there's no outlet it's
called the Great Basin it's called a
basin because it has no outlet it has
the distinctive property that all the
rain that falls there eventually
evaporates so anyway you can play around
with this and look at any other
particular area that that you're
interested in and kind of get a rough
idea of how the water flows but let me
take a step back now and talk a little
bit about what went into creating this
like I said I'm not a hydrologist but I
had to learn a little bit about US
Geological Survey hydrology data in
order to do this and so I'm going to
flip right now to a different
visualization that I'm going to use to
give sort of a conceptual explanation of
how one might go about modeling the flow
of water across the surface of the land
in a computer and what I'm going to
explain right now is not what the
visualization that i just showed is
actually doing this is just a conceptual
explanation of that explains the nature
of the data and then and then i'll talk
about what the what the application
actually does but what i've got here is
a virtual patch of land in a 3d program
using WebGL and three j/s that i can
turn around and look at from different
angles and the coloring is such that the
lower elevations are green higher
elevations are white and middle
elevations are
noun and I want to talk about how one
might model the flow of water across
this and in order to do that I'm going
to zoom in on one particular point on
the edge here and turn on a little blue
ball that represents a virtual drop of
water and and talk about how we might
compute the path of that drop of water
on its downstream trail across the land
and I'm going to speak in kind of
idealized situation here we're going to
pretend that this land is completely non
porous so no water soaks into it which
of course is not realistic but it's it's
a starting point for coming up with a
way to model the situation and and also
that there's no friction so that the
water just always moves naturally in
whatever direction is most downhill and
let me zoom in a little bit more and
I'll turn on some edges in the graph
because the way this terrain is
represented in the computer is it's a
collection of discrete points so there
are just data points at the
intersections of these gridlines and you
can see that in more detail if I turn on
down below a copy of just the XY grid
and let me raise it up a little bit and
turn it so you can see that the location
of all the grid points above corresponds
to the dots in the plane down below so
these are the XY coordinates of the data
points in the and the terrain model and
so this drop you know living on the
surface is going to move from one point
to another and so in its in its downhill
journey across this land is let's say
starting right here and the next
location it's going to be is going to be
one of the neighbor grid points and
there are there eight of them and I'll
highlight them here and I've highlighted
one of them in green that's the one
that's most downhill so that's the place
where the drop is going to go next
in the next time step and we can see
that even more explicitly if I want to
zoom in on the the grid points down
below and temporarily turn on the labels
which I'm not sure if you can read that
but the the blue point where the drop is
right now is 982 feet above sea level
and it has eight neighbors with these
other elevations and the lowest of which
is the lower right circled in green and
it's the one that says 873 so let me
zoom back out now and and just and move
the drop one click so it goes there and
then I will move the neighbors to be
relative to that new location so then
the next step it's going to go to
whatever the next lowest one is after
that and I'll do a couple more and then
it gets to the edge and it stops there
because that's that's where the data
ends and so this kind of explains a way
to model how the Drakh is moving across
the surface of the land and we can kind
of see that more explicitly by zooming
in down below let me just turn this a
little bit so what I explained was a
rule that says that wherever the drop is
whichever a good point it's at the next
grid point it's going to be at is
whichever neighbor is most downhill from
there and so that gives a rule that
associate for every one of these points
another point that's the next place it's
going to go and I can indicate that by
turning on these arrows so each dot has
another dot that's one of its neighbors
which is the next place that the the
drop goes now you might be wondering
well what if it's at a local minimum
what if all the neighbors are higher and
the answer is that that can happen in
theory but in practice in the real world
it doesn't actually happen very often
because local minima tend to get filled
in with either water and become lakes or
filled in with sediment and that raises
the height of the ground which changes
the elevation or the land gets eroded
way and so those kinds of situations are
not stable and tend to be the exception
rather than the rule and overall the
flow of the water is is always governed
by this you know kind of most downhill
rule and so for this particular example
I tweaked a couple of points in the data
set to eliminate those kinds of
situations so this particular grid has
the property that every point has one
neighbor that's most downhill from it
except for a few that are along the edge
and so that turns this big grid into you
can think of it as a directed graph the
grid points are nodes in the graph and
these connections are like directed
edges and in fact this is an acyclic
graph it's not hard to convince yourself
that there are no cycles because
remember a path in this graph is a
downhill trajectory and you can't have a
downhill trajectory that winds up back
where it starts so this is a directed
acyclic graph or a dag and this day
pretty much exactly represents the way
water will flow across the surface in
terms of the computer model and so
that's great we can use it to draw
trajectories like this one little one
that I've drawn right here but there's
an issue with this and that is that the
terrain grid is huge real world
elevation data has points about every
ten feet and if you use a grid like that
for say the entire United States you end
up with a grid with over a trillion data
points in it or add egg with the
trillion nodes and that's just way
bigger than you can do anything with on
any kind of practical scale certainly
not in an interactive program in the
browser so we need a different way to
represent the water flow that's more
scalable and there is a way to do that
that involves using this dag to kind of
analyze how the water flow is locally so
let me turn the surface back on and turn
the edges off so that we can see it and
I'm going to zoom them out and I'm going
to use that that day to compute several
trajectories of water across the surface
or you can think of it as several
possible streams so I'm going to place a
drop in the high mountains in the upper
right corner and let me change the
radius of the drop to be
Gillislee large so that everybody can
see it and then I'm going to tell the
program to animate moving the drop
according to the arrows in the day until
he gets to the edge and I think I can
speed it up a little bit yeah so it
comes down out of those high mountains
in a valley in the upper right and comes
into that Central Valley and then winds
up in that point kind of along the front
edge there so let me let's do a few more
just to get a general idea of water flow
across this patch of land so there's
another one and it meets up with the
first trail or the first stream and from
that point on they're the same when we
do one over here on the left and it goes
off to a point on the left edge and I'll
do just a couple more at various places
oops
and one more here so a lot of these have
the property that they meet up in that
central stream or central river in that
big valley and and they have in common
the fact that they end at this point
where the huge drop is right now so
that's a natural point to kind of focus
on so let me change the radius back to
kind of normal and I'm going to focus on
that point and turn on the grid down
below with arrows and so you can see the
blue trail that that I drew both up on
the surface let me turn the edges off so
the blue trails up on the surface as
well as in the grid down below and so
all these trails or several of these
trails that that I drew end at this
point on the edge right there so a
natural question to ask is what are all
the trails that end at that point so let
me um highlight that point in yellow and
get rid of the the surface up above and
so the question what are all the trails
that end at that point can be answered
by using this this tag by following the
arrows in the reverse direction or
another way to think about it is just
reverse the direction of the arrows and
you get a new inverse dag and so the
collection of all points that are
reachable from the one that's
highlighted in this inverse tag is the
collection of all areas that are
upstream from this location and that's
something that's easy to compute with
the dag you just use depth-first or
breadth-first traversal or search so I'm
going to tell the program to do that
right now and it's going to highlight
and read it takes a couple seconds to
render everything that's upstream from
that location and before I forget let me
turn the arrows back to point in the
downstream direction and and then I can
zoom out and we can see that what this
does is it defines a big polygon and try
to Center it a little bit
yeah so there's a big polygon that is
the whole region that's upstream from
that one selected point and we can also
take a look at that up on the surface up
above and sort of unsurprisingly that
polygon corresponds to the big central
valley on the terrain so that's the
region this upstream from this one
location another way to think about this
polygon if you go back to the dag is
that it's if you think of the dag as
just a gray undirected graph this is the
connected component of this yellow point
here so if you divide the graph into
connected components or in terms of the
directed graph the weakly connected
components it provides kind of a natural
way of grouping areas of the terrain
into regions that sort of share water
flow properties and so this is this one
oops this one big polygon is sort of the
largest component in the in the terrain
patch that I have but you could imagine
doing this for a much larger patch and
have several big connected components
like this and the amount of space that
it takes to store this polygon just all
the points along the edge is tiny
compared to the amount of space it takes
to store the entire grid so this polygon
together with the information about
where its outlet point is is a much more
effective way to represent something
about the water flow and if you want
more detailed representation of the flow
you can use the same algorithm to divide
the polygons by picking another point in
its interior somewhere and doing the
upstream computation from there so let
me switch back to the terrain and you
can subdivide anywhere but a natural
place to do that is near places where
streams come together so I'm going to
focus on this place right here kind of
halfway up the Central Valley and put a
little yellow dot there at a spot that
I'm going to run the upstream traversal
from relative to that location and then
zoom out so that we can see it so
that divides the original polygon into
two or the original Valley into kind of
two smaller valleys you can see that the
edges of the division kind of follow the
local ridges in the middle there and we
could subdivide again by focusing on
another point let me say go into just
above this place where the streams come
together right here and I'll do the
subdivision one more time it takes just
a couple seconds for the graphics to
render and so now we've subdivided the
original polygon into three pieces and
I'll zoom out and go back to the
two-dimensional view and at this point
let me turn off the blue streams so that
we can clearly see the edges of the
polygons so what we've got now is a
situation where there's three polygons
and all the water from the top one
drains into the second one at that one
point and all the water from the middle
one drains into the bottom one at that
one point and the bottom one drains out
at the the point indicated at the bottom
of the screen there and no water crosses
an edge of these polygons except at
those points this is how watersheds are
defined it's a hierarchal collection of
polygons and this is exactly what
hydrologists have done now in practice I
don't think they do it by defining DAGs
and doing it completely computationally
like this i think in practice it's a
complicated process of surveying an
understanding river flow and taking into
account some in some cases flow of water
under the ground and so on but
conceptually this is what's going on and
so you can download a data set from the
US Geological Survey called the
watershed boundary dataset that contains
the borders of these polygons and the
flow relationships between them so when
I realized that this data was available
and that that's what it means I thought
oh cool I can use this to write a little
web application like the one that I
showed and so I downloaded the data and
plotted it and and this is what it looks
like this is the outermost
the two top levels the big thick lines
are the edges of the the top level and
then the second level is the thinner
edges and this data set has six nested
levels of polygons and so I'm going to
zoom in to this one particular area over
on the East Coast and turn on with
successive finer levels until we get all
the way into the the most detailed one
and how light this one particular
polygon right here and so this polygon
has the property that there are two
other ones that flow into it this red
one and that red one and they flow in at
the place is indicated by those arrows
and the the yellow polygon flows into
the one and the upper right that just
turned blue at that spot and that blue
one flows into this other one and that
flows into this other one and so on and
we could follow this all the way to the
coast but I'll just stop at this point
and point out that this relationship
between these polygons the fact that
each polygon has one other one that's
downstream from it is really similar to
the relationship between the grid points
in the original dag so you can think of
these polygons as nodes in a graph and
the flow relationship between them as
directed edges and so we get another dag
that describes the flow of the water
across the land but this tag is much
much smaller than the original one the
original one would have over trillion
nodes and this data set of polygons has
about a hundred thousand polygons there
got five or ten miles across roughly and
that's a big number but it's small by
computer standards you can loop over a
hundred thousand things really quickly
in a program even in a web browser so i
downloaded the data and started trying
to write an interactive program to
display it but i ran into a couple
challenges the first two which is that
the data set takes up six gigabytes and
so when I looked in more detail that why
that's the case
like say looking at one particular
polygon one reason is that the the edges
of the polygons are defined by hundreds
if not thousands of vertices which is
way more detail than I really needed for
my application but that's okay there's a
lot of good open source GIS software
that will simplify polygons by dropping
out vertices that don't contribute very
much to the shape so you can run this
polygon through a simplification program
and replace it with another one like say
this green one but has just a few dozen
vertices and it when you zoom out to
most scales it pretty much looks the
same as the way it started but then
there's another issue and that is that
remember there's a hundred thousand of
these polygons and they're all right
next to each other they share edges and
in the original data set it's in a
format where the polygons are stored
individually and so these shared edges
are stored twice and the edges may match
up exactly but the data is in there
twice and so when you run the
simplification algorithm on each polygon
separately what happens is that it
sometimes simplifies that edge
differently for each polygon and so you
end up with mismatches so little gaps
like here or overlaps like that and that
turns out to make way more difference
than I would have thought in kind of the
visual result when you use this to draw
pictures so I needed a way to resolve
that and the solution was to convert the
data to a format that doesn't store the
shared edges twice that stores the
shared edges only once and there is a
format there several but the one that I
used is called topo JSON which is a
another good thing for my interest in
writing a web application because it's
kind of optimized for web views and so
about converting the data to the topo
JSON and doing a simplification
algorithm using the topo JSON format I
got a good clean data set with matching
edges and got the size of the data down
to about 50 megabytes and so that was
much more workable in terms of something
I could do in a web application
so I said about making an interactive
map using leaflet jas which is a
leaflets a great JavaScript mapping
library but it turns out that leaflet
uses SVG for rendering polygons by
default and this picture right here is
showing the Mississippi watershed for
New Orleans and this has about 40,000
polygons in it an SPG is a Dom based
rendering API and so what that means is
that each polygon ends up being a node
in the Dom and if you've done much Dom
programming you know that Dom
manipulation is notoriously slow and so
the first time I did this the browser
just ground to a halt and I think even
crashed with 40,000 nodes in the Dom but
it turns out that leaflet also can use
the html5 canvas API for rendering you
have to install a plug-in but that's
fairly straightforward and so by doing
some custom html5 canvas rendering code
I switched the polygon layer to using
that and got the rendering time down to
three or four seconds for for this large
collection here and in situations where
the number of polygons was much smaller
it was really fast and so that was
fairly you know somewhat usable but I
wanted to make it even faster and so I
did one more optimization and that came
from noticing that when when it's
drawing a large red upstream area like
this that actually consists of a whole
bunch of individual polygons and they're
all drawn individually here so you can
see the edges between them but all I
really cared about was drawing the whole
big red blob and one of the things about
computer graphics is that the amount of
time that it takes to draw something
typically depends on the number of
vertices involved and so by
pre-processing these upstream areas and
removing those interior edges it reduced
the number of vertices significantly and
so it got the rendering time for these
large blobs down from say order of n
where n is the number of polygons to
roughly order a square root of N and so
for large values of n that was
huge improvement and so that's what
finally got the rendering time down to
several frames a second and allows the
the program to be fairly responsive so
let's see one other thing is that
there's a mobile version and for the
mobile version there's a couple things
that are different one is of course
there's no mouse so there's no curse or
no hovering typically interaction with a
mobile application is through tapping
and then also in a mobile device you
typically don't have as much memory and
often lower bandwidth and so the way the
mobile version works is that it's a map
using leaflet and you can pan and zoom
around and then you tap and the mobile
device sends the latitude and longitude
of the place where you tap to a service
and the service responds with the ID of
the water shade that you tapped on these
watersheds are called hooks it stands
for hydrologic unit code is the
technical term for the ID and then the
application makes another request to a
CDN for a little topo JSON file that
contains just the geometry of the
upstream and downstream region for that
particular watershed and the application
then renders just that so that allows
the the mobile app to respond fairly
quickly so that's pretty much it that's
how the program works let me end by
going back to the program and zoom in
here on st. Louis because we're at a
particularly interesting place here in
st. Louis with regard to rivers of
course
so here's downtown st. Louis this is the
down here in the right here let me mouse
over there and then so down here is the
Mississippi and that misses the Missouri
River coming in from the west and the
one that's kind of straight up and down
here is I think the Illinois River and
then the one in the middle is the
Mississippi coming down from Minnesota
and so by changing the base point here i
can highlight just the just the missouri
part of the watershed or adjust the
mississippi part or adjust the illinois
par or by coming down here on the
Mississippi can highlight the whole
collection of all three of them so
there's the whole big area that
eventually drains here to Mississippi or
excuse me to the st. Louis along the
Mississippi so that's it there's my
contact information and I think we got
time for a few questions
there is and this program doesn't use
that but there's there's like average
flow you know per year or per month or
whatever I don't remember exactly the
detail of what's there and then of
course there's also live data that's a
completely separate data set where you
can go and find out what's the amount
that's flowing past there's something
like 20 or 30,000 River gauges around
the country that you can go get live
data from
I think so i think then you'd have to
implement something kind of on a
grid-based scale like the sort of
conceptual explanation that I that I
used but absolutely and I can see the
next thing before they want to know that
you know they're going to say oh this is
so awesome now can knowing if we know
this is my trans to the fall in the next
few hours who's going to flood because I
know we've had these 200 or 500 year
floods in the last few years and
everyone wants to know because it
affects insurance who gets covered by
flood insurance and who doesn't that's
the people on the ground line I I can
see an application yeah I mean you know
there's obviously big parts of the
government parts of the weather service
that you know focus on River forecasts
and they use this data all the time yeah
it's fun
yeah yeah I imagine the people that work
with this all the time sort of convince
as this in their heads but yeah
the topographical map with it with the
water trail yeah that was a program that
i wrote using 3j s which is a WebGL
library it's just a custom program that
I that I made for making this
presentation it's actually that second
URL there it sits on github if you're
interested in taking a look but it's not
particularly set up to be usable for
anything other than my talk here
mm-hmm
hmm yes so I don't have so the question
has to do with how accurate is this
model and kind of the balance between
computational models versus physical
models and like I said I'm not
originally a hydrologist I just got this
data understood what it is and you wrote
the program I think that you know a lot
of effort went into defining these
watersheds that takes into account a lot
of physical properties I don't think
that these watersheds were computed
computationally there may have been some
computational kind of assistance along
the way but I think for the most part
it's long and ongoing process of manual
surveying and and they're they're
constantly putting out new versions of
this data with with new information
Forest systems
I'm sorry I'm still not hearing quite
the word modeling what I have not forest
no porous oh I have not the short easy
answer no it would be interesting and
way more complicated
visualize a
I hope nobody's used what I've done in
any sort of legal way but but all I did
was take the USGS data and display it
I'm sure the data itself has been used
in lots of ways and that's that's the
point of you know why the the US
Geological Survey creates the data any
other questions
ah that's interesting no I haven't but
that's that's a great idea hmm right
right right how many other things are
upstream right right right so the
darkest areas would be the rivers and
the lightest ones would be the the peaks
but in a way that's not just elevation
it depends on the whole topology of
connections there yeah yes yeah the
application is online there and the code
is on github yeah yeah yeah yeah if
there's another question I can take it
otherwise I'm happy to hang out in the
hall and continue chatting yeah right
right
that's right yeah yeah yeah that's a
really good point so i had to
pre-process the data and it did increase
the size of the the data that gets
downloaded a little bit but not very
much because all the vertices and had to
download the edges of the individual
polygons anyway and all the edges of the
aggregated blobs are already included in
what was there so it was just it's an
extra set of references to those edges
so it added like one megabyte to the 50
megabyte file or something like that
well thanks again I'm happy to continue
to hang out and check</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>