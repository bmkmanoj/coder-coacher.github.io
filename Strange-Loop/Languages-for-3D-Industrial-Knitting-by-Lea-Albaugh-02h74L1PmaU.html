<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;Languages for 3D Industrial Knitting&quot; by Lea Albaugh | Coder Coacher - Coaching Coders</title><meta content="&quot;Languages for 3D Industrial Knitting&quot; by Lea Albaugh - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Strange-Loop/">Strange Loop</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>&quot;Languages for 3D Industrial Knitting&quot; by Lea Albaugh</b></h2><h5 class="post__date">2016-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/02h74L1PmaU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everybody uh just to be clear there
was apparently a room change so this is
languages for 3d industrial knitting not
some web frameworks or something webs
are entirely different textiles process
so this is knitting uh welcome
I'm liya I work for that Mouse in at
Disney research in Pittsburgh
Pennsylvania
you can follow either of us on Twitter
there's a talk about knitting there's a
lot to cover we're going to cover these
things in particular what is knitting
how can a machine do it and most
importantly most fun I think is how can
we talk about knitting and how a machine
can do it so first of all what is
knitting it seems like a good place to
start how many of you have ever knit
anything before oh wow that's awesome
that's a great number of people ok just
a little bit of catch-up for those of
you who haven't knitting is
fundamentally fundamentally a bunch of
loops holding onto each other and I just
want you to know given the context I did
have to cut a lot of loop puns otherwise
I was not going to get through this talk
so this is one loop kind of it's not
really a loop because you could pull on
it and it would just turn into a piece
of string right but if we give it some
buddies up and above they'll hold it in
place so now you see the one in the
middle the orange one can't go anywhere
until at least the one on the top goes
first
we can extend that out in two dimensions
by giving them some neighbors on the
side and some children above and yes I
do mean children above in knitting we
talked about time is flowing from bottom
to top this is because when you're
making knitting everything you've
already knit falls down because of
gravity that's unavoidable so this kind
of looks like a knot but a topologist
would tell you it's not really one right
you could just pull that thread and it
would unravel as you walk away
thank you the top row is the vulnerable
one that's the one that is currently in
progress hold on to that idea we also
call these loops stitches by the way I'm
going to use this totally
interchangeably I won't even notice
myself doing it so something is really
cool about knitting is because the same
thread looping back on itself is what
forms both the horizontal and the
vertical connections you can distort
that stitch grid right so if you overlap
two stitches onto each other in one row
and then pull just one child through
them you've decreased the number of
stitches in the next row so again time
flows upwards so on the Left we have a
decrease and on the right we have an
increase so that's how you can locally
distort the fabric horizontally there's
also a way you can sort of locally to
sort the fabric vertically which is
called short rows it means you don't go
all the way to the end you turn around
Midway and then you maybe finish that
out by turning around again
so you see there's more stitches in
those middle columns than there were in
the side columns so if you apply
decrease shaping and short row shaping
to a shape such as a tube maybe one
that's closed on the end and then you
stuff it and put cute eyes on it you're
going to get a cute little creature like
that so that's sort of the foundation of
how you might be able to do complicated
shaping and knitting by the way these
little buddies are way better in
quantity um I've got some of them up
here you can come play with them after
the talk come talk to me okay so that's
knitting right but how does a machine do
it all right like that sounds like a
really complicated structure to make and
it's kind of complicated I do want to
give a little bit of context we have had
knitting machines for a long time not
nearly as long as looms which are for
weaving but we've had knitting machines
since 1589 which is one William Lee
invented the stocking frame right at the
beginning of the Industrial Revolution
and so these stocking frames would be
found in like cottage industry workshops
so there would be like a home so much as
like a home industry just like a loom or
a spinning wheel by the end of the
Industrial Revolution these knitting
we're seeing both industrial and home
use so circular sock machines thing on
the left kind of like a sewing machine
of that era which is to say is very
expensive but a major time saver for
people who did have one and wanted to
make their own things kind of like a 3d
printer today right so not everybody is
going to have one but uh moving on in
time these flat knitting style machines
which is really what the talk is mostly
about
started being marketed as a home maker
tool from roughly the 1940s onward on
consumer knitting machines reached a
technological and sort of popularity
peak in the 80s and 90s culminating and
computerized models that could store
patterns previous ones these punch cards
and these electronic ones are the ones
that you've maybe seen recently on the
internet because they've been what the
maker movement has been working with so
just some examples of that because I
think it is important for you all to
know that these things are out there
these are to software modification
programs projects for knitting machines
so Becky Stern and lay more freed on the
left building on Steve Conklin's disk
emulator work that's for the brother KH
nine-thirty II
and the all yarns are beautiful project
on the right which is a Arduino override
of some other brother models there's
also some open-source knitting machines
which is cool you can print a knitting
machine on the Left a circular knitting
machine like the sock ones earlier it's
called the knitting project and on the
right knitter rate which is a flatbed
knitting machine very cool meanwhile of
course industry had been perfecting the
knitting machine as well much more
reliable faster more stitches per inch
and most excitingly the ability to move
stitches around which as you may recall
or you may be sort of thinking before
those increases and decreases you need
to be able to move stitches around this
is a picture of our knitting machine in
the lab in Pittsburgh it happens to be
made by the Shamus a key company they
call this kind of machine a whole
garment machine there's a handful of
other competing companies notably Stull
which calls their equivalent knit and
we're so emphasis on you can make a
thing and it's like done when it comes
off the machine pretty cool so I want
you to take away from that little
interlude so that knitting machines
exist in the world this is not the
future this is the exciting present
they're they're very fast they're very
flexible they can work with a huge
variety of yarns so
yes conductive yarns also monofilament
thermoplastic yarns elastic yarns etc
etc textile stuff is all around us
clothes of course you probably spend a
lot of your time in clothes and around
furniture it's pretty typical
there's also automotive and aerospace
upholstery medical assistive technology
software about toys my company cares
about toys things like that right and
knitting machines in particular as
opposed to cut and sew and weaving
processes can make things that are
one-off unique objects without
necessarily having to set up an entire
production overhead so how does that
work right ok so this is our machine in
the center there just pass the safety
cover because it is an industrial piece
of equipment there's a shiny wide row of
needles so if you've knit my hand you're
used to thinking of needles as being
essentially a straight stick on a
knitting machine there hook-shaped
and each one holds on to some of those
loops at the top the vulnerable ones the
ones that could be unraveled easiest and
each needle also has a slider which can
slide forward close off that hook and
the machine also has some yarn carriers
which are abstract adhere sort of
triangles but they're basically a way of
holding the next bit of yarn where we
want it you can think of it kind of like
a yarn extruding device in terms of what
it's giving us so a flow machine is
going to have hundreds of these needles
next to each other in a long row we call
that a bed so our machine is a V bed
knitting machine which means it has two
beds and instead of tilting forward like
this
two of them are tipped upwards and they
meet kind of like this almost meeting in
the middle and an inverted V which is
why it's called a V bed machine so you
see it from the side on the left and
then you ask to see it from the top on
the right which is a notation I'm going
to use later in the talk okay one more
thing the needles obviously do not just
passively hold loops because that would
be a really boring knitting machine they
also all move up and down to form the
new stitches and since there's so many
of them on ours it's like six hundred on
a bed it would be impractical to power
them all independently so there's what
we call a carriage which is essentially
a moving camp path that slides by grabs
them pulls them up and pulls them back
down again so that's what you're seeing
moving back
in the video okay so what are the
needles doing right east needle is
capable of performing four basic
operations so first one sounds kind of
obvious
it's the knit so if a needle is holding
on to a loop a stitch it can push
forward leaving the slider behind and
the existing loop is going to push back
onto the slider while it's forward the
yarn carrier is going to drop a little
bit of yarn in that hook then the needle
is going to pull backwards pulling that
yarn into a new loop and simultaneously
dropping the old loop off of the nose of
that sort of closed hook so here's an
animation of that happening to a bunch
of needles in a row and you can kind of
see the cam path right the implicit cam
path of how the needles are moving next
to each other and it's very pretty and
this is what I look at all day long you
can watch our videos on the Internet
alright so we also have a tuck operation
it's similar to a knit in that it put
some new yarn into the hook unlike the
knit it does not drop the old one so
this is a way you could end up with more
than one loop on a needle it's one of
several ways you can add up more than
one loop on a needle okay we also have
an operation tops called the transfer
this one's really exciting this one
moves a loop from one needle to its
cousin right across on the other bed
right because there's two beds so every
needles got one just across the bed gap
so it kind of slides up slides the loop
onto the slider hands it over either
glue other hook grabs it it's pretty
cool um but I just said it only
transfers to the one right across right
because it's sort of this dumb movement
they just slide forward and backwards
which would make this not a very useful
operation if we did not also have
another operation called racking so this
is rack in the sense of rack and pinion
so it means the entire back bed can
slide laterally so you could think of
sort of a default value where like
needle F zero is lined up with needles
back zero and you could slide all the
back ones leftward so that needle front
zero
with needle left one okay so if you can
find the transfer in the rack operations
that's how you're going to move stuff
around right so here's a little
animation we're going to see two
stitches getting it and then one of the
loops gets handed off to the other bed
the other bed Rex over and hands that
loop back again okay that's cool because
now we've got two loops stack on top of
each other which is the foundation of
how we do that decrease that we saw
earlier similarly if we drag the other
way we could have dropped the stitch the
other direction and then we would have
increased pretty cool we have 1/4
operation called the split which is kind
of like you're simultaneously knitting
and transferring at the same time so
that uses the other beds because you're
transferring the original loop over to
the second bed and at the same time yarn
carriers laying in a bit if you iron and
pulling that into a loop very cool this
is helpful because otherwise you don't
have any way of like essentially
retaining a pointer to that first loop
because otherwise it would just drop off
and you never be able to get back to it
again okay for atomic operations sounds
really simple you should keep that
simplicity in mind because this is what
I'm going to start talking about
complexity um this talking about
languages for knitting so I wanted to
start off with talking about human
languages for knitting which is to say
how do human knitters talk about how
knit objects are made probably the most
common language for hand knitting is
what a lot of people call knit speak and
it's kind of a loose collection of
commonly used abbreviations and some
light expectations about syntax you
think of a lot like a cooking recipe
right and just like a recipe knit speak
focuses on operations not necessarily on
results so there's no universal standard
list
lots of regional variations different
emphases especially depending on what
kind of knitting you're doing so most
patterns will often actually start with
a little glossary like this this is the
list of standard abbreviations on MIDI
comm which is an online knitting
magazine it's prequel this is kind of a
representative chunk of it at the top
uck
that just means knit you're going to see
that pretty often typically and a couple
down you see k2tog meaning overlap two
stitches together and knit through both
of them
so that's that decrease going to keep
saying things like that and the one on
the end there is a kind
of increase there is a couple of
topologically distinct ways to increase
stitches they're named by how they're
made so in the cooking recipe that's
kind of like saying steamed or fry as
opposed to just like heat
another thing that notice is that knit
speak is kind of a hodgepodge it mixes
together stuff like how big your needle
is supposed to be and how much yarn
you're going to use and entire
subroutines like make a bobble and
things that are variables like main
color which could be whatever color is
your favorite color today but something
that's pretty Universal in its peak is
rep from star in other words it's a
basic loop they can be for loops so like
sometimes it's you know repeat three
times they're much more often while
loops so it's repeat until the end of
the row it's nice to be really
convenient as a check zone because
they're expected to repeat like an
integral number of times with no more or
fewer at the end so if you end up with
that not being the case you probably
dropped a stitch or something probably
need to tear that row out yeah another
thing to call it is this one WS which
means that the next chunk of knitting
are applying to a wrong side row okay
what does that mean knitters in the
audience know a lot of people most
people knit only in one direction
most people specifically knit right to
left so you'll knit a row over turn your
entire piece around and then knit the
same direction again which is all well
and good except it means that half of
the time you're looking at your piece
from the back and all of the operations
you're making our mirror image
operations which makes sense when you're
making it it's kind of opaque though
when you're reading it so a lot of hand
ending patterns come in the form of
charts which are often used in
combination with net speak so you'll
have like a chart for just one part of
the pattern there's a basic charted
pattern for lace you can see the repeat
is the whore the heavier vertical lines
so that is the part that you would
repeat out if you wanted to make it
wider this is a lace pattern so it's
actually only showing us every other row
and implicitly you would do a row of the
same kind of stitch all the way across
in between and but otherwise even if you
were seeing all the rows they would be
shown from the front and the symbols are
intended to kind of look like what they
mean so the slash in the backsplash
mean bakeries like merge some things
together and the sort of a V with the
leg on it is decreased two things
together and the O is essentially leave
a little hole so it's a it's a very
visual way of seeing what you're going
to get now unfortunately it's kind of
limited by the fact that it's a
rectilinear grid this is a knit swatch
of that same pattern which is a longleaf
lace by Barbara Walker it's amazing and
you can see that the actual knit rows
tilt up in the middle because of the
decreases I'm only mentioning this
because I really like this variant
notation that was written by JC Brier of
stitch map comm and it actually warps
the grid to show you these distortions
and it parses these charts from knit
speak so it's an entire knit speak
parser that makes these diagrams and it
even shows you the the course in whale
directions if you want it to and as far
as I can tell this is really recent work
so knitters in the audience if you
didn't know about this it's really cool
but though all of this chart stuff is
really cool for talking about knit
structure sort of operations really but
it can only go so far about how and
talking helping us to talk about what a
machine is going to do because machines
can only do four things sort of um and
for another thing
human knitters often say knit on those
long needles and they're their stitches
going to just slide back and forth it's
really easy to put in an increase or a
decrease whereas on a knitting machine
you have to allocate everything to its
own needles harder so how does this work
as I said there's these exists in the
world people are programming them and it
turns out that each manufacturer has its
own control language of course with
varying features and ours was made by
the Seamus baby Seamus a key company so
we use their language it's just the one
that I worked with it's yeah and it's
called knit paint and it looks like this
it's as you can see it's a simple
imperative language without conditional
branching and only rudimentary loops so
you
may have noticed it's not textual ah
okay so this is not an SLI ever made it
isn't it's esoteric it's not an invented
language like just for the purpose of
being esoteric this is a production
language so in the middle we've got a
kind of needle by needle set of
instructions where the needle position
is encoded by the exposition of the
position of the pixel and the
construction time is encoded as Y so
each line from bottom to top
again bottom the top time close up is a
single pass of the carriage either
left-to-right or right-to-left it's a
little weird because both of the beds
are collapsed into one line but the
operations that are distinguished by
color of course the front bed ones are a
little bit Pinker and the back bed ones
are a little bit bluer or greener
usually so what we're seeing here is a
basic tube I happen to know that we're
knitting over to the right on the front
bed which is the kind of salmony pink
color and then we're knitting back again
to the left on the back bed which is the
mint green so if you knit four if you
knit one way on the front and back again
on the back here you're knitting in a
spiral you're making a tube off to the
side our option lines so those are
setting values that apply to the entire
carriage so the leftmost one which is
kind of like a teal and white stripe
it's telling us which way the carriage
is moving except for the red ones that
means the carriage isn't moving at all
it's moving the yarn carrier few to the
right of that you see one that's sort of
keel and army green that's telling us
what yarn we're using so teal of course
means six so that means carrier six and
army green is 255 which means vanilla
yarn so no carrier there the rack value
is set by two of the lines on the other
side of course two of them they interact
in a very bizarre way other stuff like
the kind of pale pink means there's an
extra little pressed down mechanism
that's going on the green and kind of
like dull green in there is how big the
stitch is going to be that's all this
stuff you know totally obvious very
reasonable
something that's interesting about this
language is that it provides for macro
expansion you're ready I can tell so
this is an example of an it tube with a
bind off so in knitting as I said that
top row is vulnerable right that the
last loop is always vulnerable until
something else is holding it so when you
want to finish a piece of knitting often
what you'll do isn't it a loop overlap
it onto its neighbour knit one loop
through that overlap that onto a
neighbor and so on and so forth and so
you have only one vulnerable loop at the
very end and then you can tuck the yarn
tail through that and then finally
topologically it is the knot that it is
always dreamed of being so on a knitting
machine because every time we do a
transfer at a different rack we have to
actually break that into its own
carriage pass line that tends to look
like this diagonal thing so the first
part of the diagonal again time goes up
is moving loops rightward and then we've
gotten to the edge of the tube and we're
coming back on the back bed of the tube
leftward again that would be really
tedious to write right so fortunately we
can write a macro this is what that
would look like in that paint so uh at
the top we have what's called a base
patter a base pattern and it kind of
looks like the other one except that
instead of having that whole complicated
bind off it's got just one row of beige
at the top at the bottom we defined what
beige means and you can see that it's
that same beige where the arrow is like
yeah it's very easy to get the wrong
beige by accident and then there is an
elaborate markup notation for how this
is going to translate to something that
is spread out across two dimensions so
um at the top there those green pixels
mean that as we're moving right word
over by one because one is green colored
or sorry over my two because two is
green colored that means that we're
going upward by one into the right which
is red colored on the other arrow it is
is something I'm not very good at
but there are people who do this like
for a living
and so then you tell MIT paint that back
to your base pattern and that's your
package and it processes it together and
it gives you that sweet bind off that I
showed you before so that's great
because now you can work at a slightly
higher level actually I'm joking a
little bit or like I'm over playing it
because really knit programmers will
typically start with some software
provided parametric templates like these
so this is a template for making a glove
you're like oh I probably want five
fingers and like a thumb that's set in
and my fingers are this long or whatever
um and that stuff will then by knit
paint this is sort of the Clippy of knit
paint right um that stuff then gets
turned into something that looks like
this which is just a really big version
of what I was showing you earlier so we
can zoom in all that stuff along the
left hand side was the packages so
there's just like a lot of packages
involved and then the right hand thing
is the base pattern that's going to get
processed with those packages you can do
this is still kind of fiddly looking
this is what it looks like once it's
expanded uh I bring this up because you
can see the rudimentary looping I
mentioned earlier those would be very
short stubby fingers of a glove except
that where those arrows are pointing
there's a couple of colors and option
lines right one which you can allocate
to a certain number of loop repetitions
at compile time
another cute feature of the macro
expansion thing is that the stuff along
the left edge is what color those macro
packages were in the original face
pattern so you can kind of see who to
blame when things go wrong so this is
the advantage of being an actual
production language that's good it can
be compiled to real control over the
machine
it's got fairly vast library of template
templates and macros but you're probably
not surprised here it's really fiddly to
work with I have had problems Ivan I
actually spent an afternoon debugging a
problem where I was using the wrong teal
I was using color six instead of color
16 it took me a really long time to
figure it out
and while the knits an environment does
have some light like compiler warning
and debugging like linking tools really
it'll warn you if it thinks you didn't
mean to drop a loop it's basically a
paint program so you have like a
pixal pencil and like flood-fill tools
and things like that and the macro stuff
tends to be really sensitive to parody
so if you wanted if you were writing a
macro for something that was an odd
number of stitches and suddenly you
wanted to use it on even number of
stitches you probably need to rewrite
the macro so that's not optimal but I
said earlier that there are really
arguably only like four things that the
needles can do you know these things
right um so that suggests that we could
strip our concept of the knitting
machines operation down to something
more like an assembly language we could
embed that in the language of our choice
it turns out to be JavaScript don't
argue with me about this and once we've
done that um we can have a foundation to
build more abstractions on top of okay
great that sounds good let's do it um
cool so this is kind of what our
assembly language looks like right now
so a knit for example I remember I said
it happens at a particular needles so
we're probably going to need to include
in the specification which needle we're
talking about we could encode that as
the bed and the number so as I said like
front 1 or whatever we need to know what
yarn were talking about most knitting
machines have more than one and also
there's like viñoly yarn and we also
need to know which direction the stitch
was formed in because I applied to us
the carriage and which way the yarn is
moving across the needle tuck very
similar transfer that's an operation
between two needles so we need to
specify both needles we kind of don't
really need to specify both needles
right because we could either have left
the second needle or the RAC amount
implicit we didn't we both explicitly
specify the second needle and we specify
a rack which does mean that sometimes
you can have invalid transfer operations
right so if you said we're a track zero
and I want to transfer from back one to
front zero that's cannot happen
that's not physically possible if you
rack to negative one then you can
transfer from back one to front zero so
it's it's a little over specified we
could have left the rack value implicit
or we could have left the second needle
implicit one one thing one reason we do
include the rack as an explicit
operation is
that changing the rack of the machine is
a constant time operation so it helps us
think about that and improve our net
time efficiency a bit another reason is
that the rack assignment doesn't only
matter for transfers it also matters
when you're making new stitches because
any time you cross the bed gap you might
leave a longer tail of yarn if they're
not aligned for example and of course
errors thrown this way are typically
indicating there's some other fault in
the code summer so okay so knit tuck
transfer and then split is as I said
it's basically in it at the same time as
a transfer so it needs all the same
arguments in transfer okay so now if we
wanted to do that thing like I showed
you earlier like we're going to knit
some things transfer them back record
over transit forward that's kind of what
it might look like in assembly language
right it some things transfer them etc
etc um and you are all four grammars
you're like oh that's awful that's
tedious let's please at least write a
loop okay good
lips we like loops um so some loop funds
remained uh so this is the kind of thing
you're going to do right like starting
at the first one run through the last
one knit some things at that needle
obvious um I do this a lot at my job
right I write a lot in it jobs so of
course I started writing the same
functions over and over again which of
course means that I started to distill
them into my own sort of personal
library right also when I say my own
personal library I was told that this is
where I was supposed to say embedded
domain-specific language so pretend I
said that
it's cool or something I don't know um
so my library is called Nancy
it's called Nancy because a knitting
Nancy is another name for a knitting
frame and this is a framework for
knitting and I'm told that pun based
development is as cool as embedded DSL
so here's the simplified piece of wood
Anansie looks like so it was a function
that knit some rows right we obviously
spent a lot of times doing that it takes
in a description of a fabric which in
the Nancy library could have a whole lot
of Ranbir's to it it's at least going to
have the left edge and the right edge of
that Fryeburg it can also store things
like what kind of knit texture or what
kind of like rib or lace texture is
going on whether it's flat fabric which
is to say on just one bed or a tube
fabric on both beds whatever in this
case we're only using the left and right
edge it's a simplified version so I'm
assuming this as a flat fabric so for
however many rows you want to do knit
from the left to the right and then knit
back from the right to the left okay I
fir started working on this library when
I was making these little modular
stuffed creatures um and I designed it
with kind of an exquisite courts
approach so you've played the deus game
exquisite corpse you know you kind of
like draw some lines on this upon some
paper it doesn't really matter what the
lines do between those connecting lines
as long as everything ends up back at
the connecting lines you're golden so
that's how these little guys work they
you know there's like some leg modules
and there's some like torso modules and
there's some heads and all of them
return this fabric type which includes
things like left edge and right edge and
whether we're a tube or whatever these
guys in particular they're all the same
width at the joins and they're all tubes
at the joins so that's pretty cool I
mean it's like at least that gives me
you know a way to not stress about those
connections right um so net rows doesn't
change what's happening between the
connections but some other functions
might right so like move stitches it
does what you think it does it takes the
stitches it transfers to them over and
back again and so it actually means
thing then that I'm returning we're the
new edges are so if we want to do that
thing earlier with Nancy in particular
um we could do it like this we would
define a little fabric object we would
knit it and then we would maybe define
the part of the fabric that we want to
move over and we would tell that to move
and then we would like square our books
with making the old fabrics edge be the
new fabric edge it's not perfect but
it's a lot better than writing like knit
one transfer one over there and now back
again I guess um so that's Nancy um I do
use it a lot like all the time at work
but there's a major limitation here so I
think with transferring stitches right
um
transferring stitches is one of our
biggest problems so in Nancy I I solved
this problem by only doing a couple of
very specific kinds of transfers so all
Nancy fabrics are symmetric on the front
and back so if you're doing a tube the
left edge of the back face is the same
as the left edge of the front face that
means if we're decreasing the front face
we're inherently also decreasing the
back face aesthetically this is the kind
of thing that hand ITER's also do so it
kind of looks right but that's a that's
a bit of a cheat answer because
practically it's also just really hard
to not do that and to give you a taste
of why it's hard I want to tell you
about some of the constraints involved
in transferring so as I said the machine
can transfer stitch across the other
hook right but when we transfer a stitch
we transfer everything on that one hook
so if we wanted to move stitch a onto
stitch B if we put it on stitch sees
needle now stitch ste is coming wherever
stitch a is going right we're going to
end up having both of those on top of
stitch B may or may not have been what
we intended to do
fortunately we actually also have one
more transfer option which is that we
can transfer the stitch to the slider
instead so the slider can actually move
forward past the hook and it can grab
some stitches there so let's go we get a
little bit of a reprieve
unfortunately it so that would look like
this so this the slider has moved
forward and we've transferred to there
so there's like one more bucket to put
but that's still only two buckets and if
we put more than one stitch on the
slider those two are again inseparable
also there's some quirky mechanical
rules like we can't get any new stitches
well only things on the slider stuff
like that but it does give us a bit more
flexibility that's good
another thing we can't do or more
accurately probably don't want to do is
rack the bed really far so if you have
some stitches on the front bed and you
have some stitches on the back bed that
are connected to them there's inherently
a yarn connection between them it's a
physical piece of yarn if you pull it
really far it will break you it's easy I
do it all the time
ah I ideally you wouldn't do that in
fact ideally you would only pull those
loops as far as like their final
position is going to be or where they
currently are whichever is the bigger
four - so another thing physically and
possibly cannot pass a stitch through
another stitch like that but you can
tangle them up like that ah you probably
don't want to this state is also really
prone to yarn breakage this may be seems
easy to think about when it's only six
stitches in a nice little ring it gets
out of hand really quickly ah it would
be nice to automate this it turns out
that's hard
maybe np-hard it's hard to tell so I'm
going to talk a little bit about another
project which is a compiler for 3d
machine knitting so this is my team's
SIGGRAPH 2016 technical paper ah and so
that's my Boston mccann myself
Vidia April Wojtek Jen and Jessica
Hodgins um you can read our paper online
Disney research comm and video look this
paper is we present a constrained set of
primitives so it's just tubes and sheets
and they have some parameters in both
their final form and the production
instructions this by the way is the
first language I've talked about in this
talk that is not like a cooking recipe
right it's not imperative it's
declarative so to be clear about the
relationship between the projects I'm
talking about both Nancy and the
compiler project are built on top of the
Knitting assembly protocol but there are
otherwise separate projects
so working at Nancy did help me think
about what I would want in the compiler
but they're very solve the problems in
very different ways also when they
interest a full disclosure we do
actually still compiler in it assembly
to knit paint ah so in in objects in the
system I represented as a series of
tubes or sheets
they've got Heights diameters different
diameters bending this you may recognize
that different diameters in bending this
as increase decreases and shorter
shaping cool they can also be attached
to each other along their top and bottom
edges and along the front or back beds
so gluing is actually it's hard to not
do if you if you leave some stitches on
certain needle and then you knit back on
that needle later inherently those
things will be attached to each other so
that does rely however on you putting
them on the same needles so the compiler
therefore kind of use a notation similar
to knit paint which is that we think of
a two-dimensional space with needles
being one dimension and time as the
other so then you the user can schedule
these fabrics in this space by moving
them around if you've got two fabrics on
top of each other that won't knit
because you're saying use these same
needles for two things at the same time
can't be done fortunately we also have
these scheduling parameters they don't
actually change what the knit shape
looks like but they do mean as you're
knitting this sort of maybe move it over
on the bed for example so that you can
ensure that some things connect where
they might not otherwise have so here's
an example of a fingerless glove made in
this system there's a textual version
and there's sort of like a graphical
interface version these things are
equivalent they're both input to the
system not output again we're seeing
this in construction time so on the
graphical version you see that there's
like grey areas those are not knitting
those are just where there's stuff on
the needles that is waiting to be picked
up again
so we're knitting all the finger tubes
across and since it's the same yarn
we're like actually breaking it and
moving over and making a new one
and then picking them all up adding a
thumb picking that all up and then
decreasing inward to the wrists okay
here's what that looks like you can
actually maybe see the decreases I don't
know maybe the
or consumer decreases but the compiler
put those in automatically so the
compiler as I said allocates fabrics to
specific needles at specific point of
time which means it needs to be able to
transfer things so you know transfers
are hard my ad hoc method my artisanal
method doesn't really handle all the
possible things you might want to do and
the compiler of course does not either
but it does offer a complete proofs in
the paper a inefficient solution to the
transfer planner planning product
problem so remember the in the compiler
all the fabrics are either tubes or
sheets which means that if we look at a
slice of it on the bed it's always going
to be a cycle like the thing on the left
it is never going to be a thing like the
right which like a figure eight so
because of this we know that the only
cross bed connections are on the left
and right edges and we also know that
the only yarn wise connections are to
the neighboring stitches along the cycle
that's good because that allows us to do
our little algorithm so let's say we
have a thing on the Left it's a six
stitches in a ring and we want to end up
with a thing on the right I'm going to
start going through this kind of quickly
because I'm starting run at a time so
real quick what we're going to do is we
are going to pick a direction and
collapse all of the other red stitches
onto that so for example we are going to
take that stitch move it over there take
its buddies move them over there that
was collapse now we're going to do a
stretch phase which can sort of add like
global length changes to the whole cycle
so that was good because we needed to
kind of stretch it out a little bit so
those ones are going to go to there
those are going to go there and that's
the stretch phase complete and then
we're going to do what's called expand
which of course expands it back out onto
the two beds so this case is easy we're
almost ready to go everything just goes
back great where we wanted to be
fantastic
um again this is a very simple case so
this is accomplished in the compiler
with a dynamic programming approach it's
broken into those stages that I
mentioned so collapse shift and expand
each stage is greedily attempting to get
stitches as close as possible to their
final position as in the objective
function is a just a sum of distances to
final positions
this is not going to be complete
guaranteed to be complete after one
iteration of collapse stretch expand but
it is guarantee that it will eventually
get there okay here's a payoff teddy
bear shot ah it's defi bear and he's
wearing some clothes that I designed for
him in the knit compiler system there's
also this snake who's kind of my
favorite you can see availeth is a long
tube with aggressive short row shaping
and I actually read that as a script on
top of the compiler so it produces a
series of short row specifications
increasing in radius and rotating around
the tube also I did not make this jiff a
stranger on the internet made it in and
it makes me really happy and they titled
that so that's great
okay so unsurprisingly we have barely
touched on the breadth of things that
knitting can do first of all one thing
that's pretty obvious is we could use
better interfaces right thing on the
left did not look like the thing on the
right not really um so we could use
better predictive rendering that would
be awesome
another thing we did not talk about is
efficiency knit time efficiency knitting
machines are really fast especially if
you're used to 3d printers it's so much
better um but our code is not as
efficient as it could be especially the
compiler as I said it's kind of wasteful
with its transfer planning it could be a
lot more efficient and another thing
like all of you knitters in the audience
I know I saw there were a bunch of you
you probably noticed that I didn't talk
about anything other than plain
stockinette fabric so knitting machines
can do a lot of other things right so
there's like laces this color word
there's ribbing which is kind of just
you have to be careful about which
needles you're using and we didn't talk
about that at all so these things are
kind of easy to talk about when you're
talking about rectangular swatches but
how do these things map onto cool shapes
like j30 like what would a lace j30 look
like there's aesthetics also to be
considered and UI tools and things like
that and that's all I've got
so I'm Leia IRA dues and research in
Pittsburgh come talk to me if you're
interested in also working for Disney
research in Pittsburgh I'm out of time
so I'll be in the hall after this
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>