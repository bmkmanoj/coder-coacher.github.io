<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;How would a Panda program computers?&quot; by Jonas S Karlsson | Coder Coacher - Coaching Coders</title><meta content="&quot;How would a Panda program computers?&quot; by Jonas S Karlsson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Strange-Loop/">Strange Loop</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;How would a Panda program computers?&quot; by Jonas S Karlsson</b></h2><h5 class="post__date">2016-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/q_6HFNQ24QE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right it would be a demo without
slides and only interactivity because we
can set up a laptop fine so panda panda
lang what is this thing it is a a
programming language and it's inspired
by that I like programming but we've
been spending a lot of time programming
in the same way as we've done the lost
or no very long time and we haven't
changed a lot and that is a little bit
concerning we haven't changed our
efficiency in programming sins may be
the beginning of time which may be 57
we're still writing the same amount of
code to do things which are very very
simple and actually most code if you try
to give it and explain it to your
grandmother it's going to be quite
impossible because are you going to
explain the curly braces with semicolons
and all these kind of things it is quite
a lot of stuff to explain for even a
small program right so I say like this
if I talk to another programmer I can
tell you like oh can you write a program
which will take the numbers from 1 to 10
and square his number and keep all the
squares less than 15 this is relatively
simple and as well understood and I met
with super JavaScript programmer and he
said oh be fast and he loads up his
editor it starts typing and he found it
too slow to actually write for loop so
he just wrote the list 1 comma 2 comma 3
tell 10 and it was like doing something
on this and then squaring them and
extracting them but it's like he had a
lot of choices to do when he was doing
this and it took him some time it took
actually two minutes to get a program
but actually compiled and he had to run
it from no J's from a command line and
this is the level of
our art of programming in some way right
like I tell you can we do a program
which does this you can't just pull up
your tablet and pick away and be ready
in a few seconds it actually takes much
more and anyone here has ever tried a
program on the tablet okay how did you
like it everyone enjoyed it very much
thank you so I did not you had to get a
bluetooth keyboard and and if you don't
have emacs or VI or whatever your
preference editor is it's pretty
difficult because you're essentially
using it as a terminal in most cases and
there is a great IDEs which works on
your your tablets and they try to do
things but it's toys compared to what we
want to do as programmers these are
usually not very advanced languages and
so on so my approach is but I want to be
able to program the tablet and how do we
get there because programming is quite
complex we have 4 loops you have ifs and
the syntax of these if you ever try to
explain the syntax of a for loop in c or
java script for somebody this is quite a
lot of work to understand the parts of
it and it's quite complex to actually
get there so I thinking about these
things if we didn't have a for loop if
you didn't have if statement if you
didn't have any nulls then those things
might if you had to easy way to do that
when we should do that right furthermore
functional programming is great the
features of it is great because you say
what you want and it computes this but
you look at a functional program as a
non-functional programmer and Wiz map
and there's reduce and with Combinator's
and raise things you cannot even
pronounce so you can't call up your
friend and say what does this free
characters mean which I can't pronounce
and this is where the functional
programming has gone we still list which
have not so many symbols in terms of
funny characters is more word based and
we saw a great example of a nice
language
earlier today we're tulip where it's
word-based it's simple has processes
like a line in stone so this is kind of
a very future goes so panda is is again
this language with a very simple syntax
you don't need the comma because the
comma is not it has no special meaning
you could write this but panda is
actually meant to be used more like you
start with data so similarly to tulip
you start with a value you have a value
you see the value you can then use of
its value and you say plus 4 then you
just continue using this values you can
say x 2 here so we're shining it right
this is simple object oriented syntax
but its equivalent to to a function
named apparent thesis right just we
noticed that in this case we don't need
to group expressions as much it's a
lucky coincidence maybe but i like how
in many languages we instead of having
parent eases and commas we are safe
spaces but then comes the parameter
which is a complex value and then you
need to put the parent ceases around it
where so you saved it in one place but
not the other place and it became
inconsistent why isn't viceroy parents
eases around that expression if i put a
parenthesis is run by overexpression to
it actually looks like Lisp in a scale
but that's not needed but it's also
inconsistent right so that's that's an
interesting aspect so it's very simple
well for math this is probably very
tedious where is the power in in such
bits language well the power here is
that everything is a value where's
single values there's no multiple values
so can you read him a back actually can
you read the smoke okay I probably can
plus it a little bit all right little
bit better great so so what does this do
can somebody pronounce it some one to
ten right so what does it do
it gives you the value 1 2 3 4 5 6 7 10
so let's see yes it did all right so it
returns an array of values no because
now you can say plus hundred so what
does this do right so it just applies
the operator on a single value it's not
like somebody was telling me when I
showed it in in noisebridge in San
Francisco saying that oh that's cool but
I can do this in her scale you cheated
because you created this plus operator
which actually includes the map and it
takes a list and we created all these
operators to make your examples nice it
was like no that's not how it works
actually because 1 to 10 is a function
it returns the value 1 and then that
value is being processed is positive and
expansion which is plus hundred and then
the value to is generated and when it's
past 200 so so this is a stream of
values so every function in panda have a
possibility of returning one value or
more values so in this case B 1 dot or
10 is actually a function called iota
which you can recognize from other
languages which is X range in another
language so it's a generator so
generator generates zero one two or more
values so how does this work we we just
eliminated the loop is it unreadable is
it understandable it's kind of somewhat
okay we typed very little we got very
much for it what if you want to only get
the odd values what should we be doing
what's the best way to get the odd
values right so we say odd so that gives
us the odd values all right okay that's
a
fun how about we take these values we
square them so we know that we've got
the square we then take the values less
than 15 and then we get to values less
than 15 this is not working on list is
working on a stream of data remember
this because even if I put a large
number here the first values comes very
fast it's continuing working in the
background and actually this machine is
so false so you can't see it happening
but you see it blinking green so when
it's green it's working and when it's
gray it's terminated okay so this is a
string basses event based processing
right now what can we do with this we
have something now very simple i would
like to see if you write this in your
favorite language how long it takes you
to write equivalent functionality some
maybe some people can do it in five
seconds one minute can everyone do it in
one minutes in your favorite language
all right about ten percent can do it
can the residue is within an hour okay
great so what can we now do the base
which makes it more interesting because
this is this is toys right what makes it
streamed well we can do things like can
get the time oh that's cool just the
time from the time we can get the second
second a second we can take the time we
can ask for the change of a second so
each second is going to give us the
value we could also ask to get the
actual second value so we can do that
now you can also remove is
so what can we do with this well we
maybe can let's do that again so we take
a second extract the second value we
also change every second and we pipe it
to s this is the output of piping it to
s that goes on we can now read it from s
and hopefully take the odd seconds right
so each line in panda is a process
that's how cheap they are and you can
pipe in together you can put them
together with these pipes which wires it
up this is nothing new per se but it's a
great way to structure something so what
if we created a element HTML called s we
take we ask for the Dom element of s we
say that HTML of this should be s what
happens when doesn't happen oh yes sorry
to make it HTML think all right now
working with so there's a ways to
connect things right so you can actually
send messages to dorm elements and and
other things the combining these things
is interesting right because if you see
everything as being a function which
returns the value my editor is a
function and they give an initial value
of the thing you're editing and each
time you save it it emits a new value
and when you meet a new value if it
comes from a file then you ask it to
save it back to that file so this is a
simple way of making a editor and a file
saving independent of each other it's a
stream of edits conceptually right we
can connect these things in different
ways for example we can take the values
1 to 10 and we can send them to strange
loop and any of you there you could
actually go and get these values from
strange loop and they will be should be
updated yes so of course this is not a a
long stream right so you have to run it
again but each time I run with the
values are sent to the global URL
strange loop com so it's just a URL made
into report I have a back-end service
providing communication so this facility
you can very easily communicate between
processes between browsers in my case I
choose to build panda in the browser
because you don't need to install it so
it's always available to me
on my mobile phone even it's available
to people on most devices if you have
chrome by accident somebody try to use
it on on the iphone some years ago and
it worked which was a surprise to me
because I never tested that it works on
firefox because it's very compatible and
that's that's pretty cool so how do you
combine these things what can you do
with it well one example I was playing
it was well we load a module called
cards and just defines a small set of
functions for example a deck of cards
you have a sweet and this have a display
function which displays the the the
representation of it but it's really a
these names unless you see this function
actually returns for values in a stream
and so you can use them we have a
function where we can create a cod of
hearts with just give it hearts and
actually this is this is a value all
right where this value underlying it is
very low back but the display function
chooses to display its face right so so
you can play with this now let's say
that you actually wanted to have a deck
of cards you can then ask for 12 13 we
get the cars cars of that color what if
you wanted to get all the cards well we
need to combine it with the suit suits
so we just enumerate all the suits and
then we get all the cards of the
different colors right
of course there is a a a way to get a
whole dick of cards each time it happens
to be the same so that's kind of boring
but let's just shuffle this this array
of elements and each time we get get a
different one right so this is a nice
way to display your data and choose to
how to display it right so going back
from here you can easily interact with
the other elements so for example my
website is yes good org my language
recognize that this is a URL I don't
know if is in a other language which
have you else as a data type built-in or
where you can type URL and it's
recognized as the URL but actually we
are in the age of URLs today right or
websites where this is a data object and
when we type it to a program it doesn't
understand what it is maybe you need to
put quotes around it you need to import
the URL lib and you need to call the new
URL where you enclose it and then you
have URL what can you do then can the
computer tell you what you can do with
URL can you tell you how to load a
webpage usually not you have to know
which library to use some there is a lot
of choice of libraries right so this is
where where it gets interesting now in
panda you can ask for be HTML and we can
choose to put it in them in iframe and
so it does that so if fetches of HTML
and gives a diaphragm usually the
function names in panda are given as to
what they return what you want to
extract what you want to get right so we
have this HTML we can now walk into HTML
by a get method and we can ask to get
all the h1 tags all the h2 tags all the
bold words things like this we can then
easily also get these words in the list
item so with the shorthand syntax where
you just use a tag as a function and it
gets applied to the element which man
gets converted to HTML and displayed is
all is robber robber simple but write
the same same program this also takes
only one or two sentences to explain but
how long it takes you to actually go and
write it oh can you go to this web page
this URL and can you get all the bold
elements from its and and show them I
would actually take maybe two minutes
whereas maybe the first example is a
little bit little faster so so to
describe it we can say describe and it
generates a description of what it does
of course this works well for for toy
examples but hey we have other examples
which are more complicated and that may
be possible to but this is automatically
generated from the help system and they
help system is built on that when you
define a function you also define the
documentation for that function you also
define test cases and so if we want to
look at a function let's say we sorry
I'm not used to this keyboard square
functions in the system these are the
square functions we have let's say that
we looking at the square function of a
number now we have it here and it knows
that it's a safe function it's a pure
function and this information we tagged
the functions you implement see my
background in the JavaScript or whatever
environment you have you tag them as to
what they are because it's a safe and a
pure function we know we can call it a
million times you also know we can cash
it you can catch a result of it so this
bill gives you the ability to reason
about the functions used in the system
and we can also just expand the
implementation it's just a simple math
square root function writing the
background and this is possible to do
for all all the functions so let's see
here we have a function same faction
more less with different type signature
where we have examples these examples
are actually not examples really they
actually test cases but the test cases
serves as an example to how to use a
function and and so they run it and you
see it says space leave here and it says
basically but this you can actually run
this code by just clicking on it and you
can see the result of it and yes it's 16
so I'm very happy right
so I like the idea of documenting things
when you go along when you add a
function you add at least a minimal
documentation to it I noticed however
way tulip we're saying that we need to
write documentation and that is that
it's interesting and it's a big job and
maybe one person sits down and writes
the documentation for whole system but
if something changes will that
documentation get updated maybe maybe
not right so I think it's a great idea
to combine documentation in code you
keep it in one place so you update one
thing you update the other thing right
now if we look at all the functions in
the system it's quite a lot of functions
interesting enough a lot of functions
deal with functions so that's both good
and bad but we can let for example Oscar
which functions are pure we can ask
which functions are safe and things like
this right so means that we can make a
sandbox mode where user defines the
function and we can say like oh no this
is not safe function we won't allow you
to run it because this is a user input
function so we can actually check the
safety or something so you can limit the
amount of data we have you're welcome to
ask questions if there's any during the
talk because the slides are not here
that's a very interesting scenario so
feel free to ask yeah sure
yeah yes so what it actually is a
function called it takes a string you
give it you call the function port
creates a porch and then you can send to
that port or you can listen to the porch
or you can of course create a port from
you l so those are two distinct ports
and you can also have a port you can
create a a Dom element it's also
consider the porch so you can send
messages to to a Dom element train so
sorry the question was can you create a
any port or do you have to use the
syntax be a literal syntax right yes and
no because I have no variables in my
language you so here's here's the thing
state I try to avoid having state state
is not necessary for processing because
processing take data changes and
produces other changes and these go
somewhere and so you don't always need a
state there's other ways to handle state
right like a like you could have a pipe
which aggregates things for example
right so that's a would be a countering
a counter state but you don't have a
variable which you updates they put and
get directly because this is often not
needed in interactive interactive system
so for example to create the I mean we
can just create that we can't do because
it's not not a actually if you say 80
port that creates a portal in know Jas
which listen which you can listen to and
actually gets web requests so a web
server is one line in nodejs and it gets
a web request from vero
you could extract things then you send
data back you send HTML back to to that
porch but if we just quit the string
here and let's say we concat foo then we
can create these ports so you can create
a port when you need it usually if you
want to have a like a constant port you
use in your program which is opposite of
what you ask for you can create a
function you call on to to generate this
orbit each time and it's a possibility
from a system to cash it because it
would be a pure function which it can
derive from all the functions involved
right it I understand your question
because you're saying like oh we
actually write big systems then we
handle connections and we have state and
we need to assign a port to specific
user maybe or something like this and
that kind of makes sense but because you
can construct these port names as the
URL for example you can you have your
own namespace of how you can actually
build build this thing so you don't need
to keep a pointer to it it has a name so
you only have to invoke the name of it
and the name you can construct very
cheaply when you need it so that's
that's one approach okay any more
questions on that ok so I'm sorry about
the slides issue using old old laptops
is apparently not a good idea in the
future and we are in the future here so
of course you want to do different
things than these simple things right so
we can easily create a aggregation by
just calling some and use the special
syntax and you can imagine this is curly
braces squishing the expression in the
middle sending all the data to the sum
function which returns a single value or
maybe no value at all ok you know see if
something else works so
there is ways to improve interactivity
and naturally there's no reason why we
shouldn't be able to just type and get
the output for each keystroke so this is
this is trivial in these days in a
browser of course now it turns out that
the programs you need to type this way
and interact with the system don't need
to be very long so it takes essentially
no time at all to do the analysis and
compilation by the way so panda gets
parsed so we can look at our silly
example it gets parsed to something
called I call it panda log data log his
data log base so this panda expression
will generate essentially a typed data
log as you know data log is a
retractable prologue which means it will
terminate it has a termination criteria
because it enumerates existing data okay
and then from this we can very easily
generate JavaScript and you can create
your own functions which generates its
own JavaScript about how you can create
special syntax of special type operators
one interesting thing the data log which
which most people may not be using is
that you can you can introspect it and
if you assign cost functions to cost
values to your operators and fan out and
selection so for example we the odd
function have a selection of fifty
percent because in principle half of the
values of integers will fulfill the
predicate and the fan that is one it
only gives one value in this case we can
see that I order function it will
actually generate 10 values so the cost
increases in a plan and we also see that
so the square function will generate 10
values and the less function estimates
the output to ten percent in this cases
will give giving giving a maybe three
values right if you change this to 100
we see how the cost says that there's
going to be a hundred element in output
so this is a simple simple thing we can
do I was looking at other things for
example how you sure okay so for example
you are getting a web page from a URL
that's a big cost and it's maybe on the
dignity of 10,000 compared to doing a
square or something like this right so
you can estimate the time it takes to
run something to run some code and you
can use this to decide to catch an
operator or not on the language level
right and also you can decide if it
should be run interactive you're not
while you're typing because if it
actually takes too long but you can
estimate it from a cost you know this so
you won't run it very often until the
user may be press this return right and
so these are things you can do just want
to show another thing like for example
if you want to shake if a number is a
prime number right so they have a P is
43 and assignment doesn't give the
values you have to say P a prime number
is essentially when the values where's
two numbers multiplied with each other
which yields a which yields the
numbering question right so we can say x
so when these values multiplied together
yields a a value P then we know it is a
prime number so if we give it 42 we
don't get an answer at all so Panda has
a fail at log it right so if there's no
result race notice
nothing this return okay I think we have
might have a one minute for question or
more I'm available afterwards okay so we
finished I'm here please come up and
talk thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>