<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;PureScript (Maybe This Time We Get JavaScript Right)&quot; by Bodil Stokke | Coder Coacher - Coaching Coders</title><meta content="&quot;PureScript (Maybe This Time We Get JavaScript Right)&quot; by Bodil Stokke - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Strange-Loop/">Strange Loop</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;PureScript (Maybe This Time We Get JavaScript Right)&quot; by Bodil Stokke</b></h2><h5 class="post__date">2014-09-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yIlDBPiMb0o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to stray schloop this is the
first talk that I'm actually able to pay
attention to an account of essentially
having been writing my own talk up until
this very point so this is going to be
exciting I got a lot of code I got a lot
of code in my slides that is a place to
work and it's probably going to be a
catastrophic failure but that's how the
fun of it isn't it so I'm here to talk
to you about pure scripts and I suppose
yeah you know what let's just get
started let's talk about JavaScript
actually let's not talk my JavaScript I
think at this point going on and on and
on about how how frightful it all for
JavaScript is has spin stead already I
mean for one thing two years ago almost
to this very day Brendan Eich was
standing right here on this stage
apologizing for JavaScript I think we
saw to the point where we are arguing
whether or not JavaScript is a great
language it is not it's generally
something that every every growing
functional program we really wants to
avoid so we are all out there looking
for alternatives and that certain have
been been my position on javascript for
at least the last five years if you're
still not sold on the the hor-aha
javascript let me give you a brief
summary it's a mass Cmdr
so yeah anyway let's talk about me
people keep congratulating me for this
picture I'm not sure quite sure why it's
a lovely night anyway so since I was
here Oh strangely blast things have been
happening in my life so for one thing I
decided to move from Norway and
essentially where I used to live for the
last many many decades Norway is this
picture pretty much sums it up very
neatly
the weather's absolutely depressing and
the music adjusts to cope sort of goes
beyond this screaming your rage at
existence and and you have to scream
about that much tea to actually cope
with living in Norway I know what you're
all thinking no it looks like this right
this is like well yeah I mean it's said
that summer in Norway's is the most
beautiful day of the year and sometimes
something like this happens this this
looks Photoshop day to be honest blades
in an occasion in Nice but for the most
part it looks like this
literally that the hot seems from from
the Empire Strikes Back were actually
fitting in Norway coffee shop for must
be type theory I think so I decided to
finally come to my senses and move to
London of course I was gainfully
employed in also at the time so I needed
to find another job
in London to be able to do this and so
as one does one picks up one's electric
telephone and one course one's friend
the Internet's and asked for advice so
that essentially that's literally what I
did I also on Twitter and ascend would
have a job for me and after talking to a
few people I ended up working for this
little startup in shortage which does I
hate to say the word advertising that
what they do is and gave me fried
advertising and merely is to sort of put
the the ads in what were they don't feel
utterly obnoxious like they're the
initial product brought which caught my
attention was they put tiny little games
in place of captures that you have to do
sort of play through very simple games
like just drag this thing to here and
you don't have to do a capture
essentially and they were doing this
using essentially building the games
from scratch using jQuery every every
time so it was obvious that what they
needed was a game engine and that's been
my project for the last year that's this
wasn't supposed to be a commercial
message just leading up to the fact that
I've been building a game engine and let
me show you the sort of game that we
have built with this the the initial
version of it just to give you an idea
so this is my demo game I very carefully
chosen the game with it with no branding
but some very very good good dogs so the
idea here of course this is well I've
ripped everything that the graphics out
of this game called flap Edition
which is of course essentially a flappy
bird and except with a better character
so this isn't of course the full game
the idea is as I said just do to drag
this Doge over through the pipes
and drop him on the other side which
completes the game so let me try oh so
very very carefully and oops that didn't
work let's try again so there we go whoa
I win
so that's best essentially the sort of
game I had to write a game engine for
and I had a few ideas about how to do
this for one thing of course I wanted it
all to be very very functional
I want it are things like immutable data
structures rule
this isn't data structures then and at
least if I because we're in JavaScript
if I can't necessarily have this at
least I want to be not doing mutation of
state which we all know this is very
very uncomfortable and and of course be
writing everything in a function of
starting as much as I can I also felt
like I've been playing around with rxjs
and previously and I felt like it should
be possible to just take this this game
logic and sort of squish it into you
into a reactive stream that gets input
from from the input devices like the
mouse drag and and does something in
between and out at the other end of the
stream comes a description of what
happens on the screen which you can just
pass a render function essentially then
there's there's impure input and there's
impure output because they have to
actually render to the physical world
that's the side effect and everything
but in between should be as pure and and
referentially transparent as possible
essentially being was the F function and
I felt like you should also be able to
simply feed animations in as reactive
streams into the system so I've been
using it at winning library which
produces reactive streams to describe
animation stunts laughs he's very neat
lent into the game loop function and so
when I was thinking about the design of
this I realize I've actually read this
paper and there's somebody I mean
there's quite literally somebody who was
on this stage right before me who has
had the same idea and actually been to
language out of that so the obvious
choice of course was to use help and if
you didn't get an impression of I'm
already from heaven I like to describe
it as sort of if Haskell were designed
by by a usability expert so it's very
it's very intentionally designed to be
to be ease of friendly is my impression
of it good God
a picture is truly disturbing but I had
some constraints of the width for one
thing as you're making this very compact
little abs that have to be delivered
very very quickly the size of the
deliverable really really matters and L
has well cost in the area because there
is a room and not inconsiderable runtime
that has to go with the system is until
terrifyingly huge but it's what was it
about 100 kilobytes that's still tube
too much sadly I also have to deal with
very unpredictable environments and I'm
the and runtime I leave that at the
state where I evaluated it I know it's
improved since then but still it it sort
of makes assumptions that I can't afford
to make I need to be able to to work
around things like your ads being
embedded in pages built by idiots
youth who extends JavaScript prototypes
in crazy ways and you can't really
predict we're going to be so I needed to
be in complete control of the run time
which sadly I mean I love em absolutely
it's it's been an inspiration throughout
the process of building this but sadly I
couldn't use it so I ended up having to
use typescript instead because tie
script essentially the childhood code
actually could post time to something
that is it's smaller and then the sort
of dissension takes total grip strips
away the type annotations and produces
JavaScript and the tie script is very
very tightly coupled to the resulting
JavaScript obviously but you get type
checking for free so that was touch crew
isn't it's not what I would describe as
him there's a very very powerful type
system missing
I've seen worse I've been a Java
developer but still it is a far cry from
Haskell let's see so I ended up building
this entire script because it was the
best I had at the time I did toe script
obviously I used rxjs at first but you
remember the thing about the size
constraint rxjs is big so I ended up
eventually going to bacon I own shares
is in my opinion more powerful so if you
don't have this time constraint
constraint and you're looking to do
reactive using javascript I would
recommend it bacon is not far behind and
it compresses down to what was it 30 or
40 kilobytes so that was well it wasn't
ideal but I I got along and we just
essentially built the the game reactive
stream that I described and feed it into
an HTML canvas rendering function and
it's it's pluggable so you can do you
Dom leaf if your browser doesn't support
canvas and so on domes not grateful move
on though
but throughout the process I mean
actually built this this entire game
engine using this stack and there is a
working prototype that we are actually
using production now but I mean
throughout the process I felt like why
why couldn't this language be a little
more like Haskell because once you've
done Haskell you kind of Miss the the
expressiveness of the type system all
the crazy things that you can do with it
and nothing ever really feels the same
again especially no typescript and
unfortunately I wasn't the only person
to have this idea just essentially at
the same time as I started development
on this project
pure script came along your script is
implemented in Haskell currently there's
work going on to see make pure strip in
pure script currently the implementation
is in Haskell it's essentially the
selling point is it looks a lot like
Haskell and has most of the power of
Haskell but it sticks close to the
JavaScript and produces very very neat
JavaScript code and there's some there's
a little bit of a runtime but it's much
negligible like 10 kilobytes I can't
exactly remember so pure script is
written by originally written by Phil
freeman whom I could not find a high
resolution picture of on the Internet
so as one does when Google's fulfilled
Freeman cosplayer in stat and I'm not
sure this is a film frequent cosplayer
but it's a frequent cosplay anyway um
let me go through the bullet points that
made people appear to me
it's got as I mentioned a very Haskell
syntax which is nice it's very close to
the drum script it's actually pure the
pure impure scream is is not a joke the
whole language is is
and it's very targeted towards staying
and a purely functional language is that
of course you have to manage so it
affects some in some way so you got an
effect system that looks look like the
one in a dress instead of in Haskell you
would have ayan monads but instead we
have the effect more than that in pure
script you've got obviously a foreign
function interface to JavaScript which
essentially lets you do anything you
please there are a few functions in the
Pio script pre-lit them start with one
unsafe and they essentially use the FFI
to to escape purity and do things you
shouldn't be doing at all I think of
that as sort of a pragmatic choice but
you'll notice the place we're touching
it you know coming from closure I'm I
have this any other you try to stay pure
for them for the most part but if you
absolutely have to do nasty things and
you are able to do nasty things and in
feels group that happens through the FFI
so I figured instead of giving you like
a point by point tutorial and I'll
actually just show you some pure script
so this is my rebel
I erased it yesterday it might or it
might not work um and our first exercise
is to show you some very very basic
PostScript if you know Haskell this is
not going to come as a surprise to you
so your script a lists using the list of
attacks are actually JavaScript arrays
and JavaScript arrays can be a little
inefficient living over them in the
tradition and Haskell way so one might
want to create a list data structure
this is an algebraic data type which is
called list of a which means that the
list contains values of type A and
and one constructor for that is the
Coons constructor which takes one value
of type a and another list of type a and
there's the empty list to corn in and I
added an implementation of the show type
class with different hypothesis which is
yeah how to summarize type classes
essentially they're like interfaces in
Java pretty much yeah close enough
anyway the show type class you have to
implement that report for the record to
be able to to print the value on the
screen so I've just pre pre build that
and let's strike constructing a list
comes one quantity cons three nil well
maybe I should compile it first well 1 2
3 n that's essentially an economist as
an ELISA would know so let's create a
function for that let's have a map
function there cool so of course this is
a taupe language we are going to have to
type variables a and B in peel strip you
have to declare them unlike in Haskell
and then it takes a function from A to B
and it takes a list of a and it returns
a list of B and if you map a function of
the anti list you get empty list
actually then we didn't care about the
function so we replace it with an
underscore which means I don't care and
if you you map it over in pattern
matching here on the Const constructor
so usually in Haskell is tradition to go
X and XS meaning they had in the tain I
do have some whisper routes that are
going to call Caron cutter which I find
much clearer
so that would be constructing a list
with the head being function applied to
a and the tail being a recursive called
to map on function and sorry a car and
this one on the cutter so wonder if this
works so let's take that list map plus
one over that and that gives us two
three four net let's do two work we got
the map function of course what that
means is what sort of word from category
theory could we choose for this it is a
a functor very good so I'm going to
write a function information I'm going
to provide an instance or the functor
type class for list and that just need
constraints it should be just funked a
list where and we have to implement the
aptly-named a less than dollar greater
than function and we have an
implementation for that it's map so it's
said now of map plus one over the list
we go plus one however you pronounce
that functor properly and actually i
pronounce it map it's just a funny
spelling so that should now do the same
thing
whoa we have implemented a functor we
are getting into you category theory
so I figured out I'd well a little in
this subject because it's my favorite
subject ever now a lot of people already
have already done the tutorial at this
conference so I'm not going to I'm not
going to go into that but I'm thinking
we'll be talking a little bit about my
favorite my favorite thing in category
theory semigroups so this is another
algebraic data type which I've called
Pat are in my game engine I deal with
coordinates so the pair data type it can
be quite useful think of it as an ax and
y coordinate back and I got a function
add pass which takes two pairs and add
them together and so essentially the
other axis together and they're what the
Y's together and form anyone so let's
see if that works
first pair 1 T that works and pass pair
1 2 let's get crazy and go with / 3 4
here that's 4 6 yeah so um the same
server an associative property say what
does that mean it forms a semi group
let's look at ahead of ourselves it
could format mono that's what we get in
that patient so instance semi group path
so in case you didn't catch that if you
have a data type and you have the
ability to perform an associative binary
operation on that data type meaning for
instance adding two numbers together
that counts that forms a semi group so
the rule is essentially let me type that
out for you in pseudocode if you got a
plus B plus C and it equals a plus B
plus C with the parenthesis like this
then that that means it has the
associative property and thus it puts a
semigroup
now let's implement the semi group the
semi group function is called less than
greater than and we've implemented that
as add pass so now this forms a semi
group and of course the semi group type
Clause is generalized
so you have a few functions that can
operate over semi groups and so you get
just by implementing this this hopeless
instance you get a lot of functionality
for free
what is the same way now did somebody
say monoid should I try
we should be dwelling soon watching this
I've got a game to write as well ah
that's I like one night let's do one say
being very strange with your scrolling
today aren't you
so that was a semigroup and one night
and that would just be one they'd pass
where so what sir what's special about
someone right sorry I would go with the
empty value actually
so um anything that has the associated
property is a semigroup and if there is
also a value for which you can take any
value and add that value you get the
original value unchanged and effectively
like this then you + empty equals a if
there is social value you have a monoid
so I'm empty is what is called what do
you think sarin seriously so we only
only category theory this is fun so I
need to import phantom on ID to be able
to access that so now instead of per 1 -
1 / 3 4 I can go 1 2 + m empty and pure
scripts type system is going to infer
that when I'm talking about an empty in
this case I'm talking about the
particularly mminton for for past
because the other one is a pair so this
one has to be so that should get us what
if you get as per wanting course and
indeed it does I'm much much relieved to
see you this one more thing I want to
show you before we get on to the game
right yeah so Wow
stop doing that
I totally all right visit this yesterday
so I lost my semigroup ammonia
definitions now but that's fine I don't
think wouldn't need them yes we do
actually the semi-group instance
semigroup pan and so many group per
where this one is and pass and not your
do it now i want to show you a quick
check because quick check is amazing so
i ended this this in oh my god yeah
never minds quick check oh yeah okay
this is broken so i wanted to show you
are how i can actually show you the code
at least i'm not going to type that some
of it one more time so this is an
implementation of the arbitrary type
class which essentially provides a way
to generate random values for pass in
this case so you could write a function
it's not going to work but i'm going to
do it anyway for a semi-group and the
cool thing is I can just give a type
signature and it yield results and quick
check when I run it on this test
it's going to be able to understand that
it needs to generate three values for
pair and call this test with those
random values and it goes just that like
a hundred times and it's a very good way
of checking okay I'm so deep into it I'm
going to do it okay
so a group that I don't touch the mouse
is ant pass okay now I'm able to
actually call this function out I built
elsewhere called verify semigroup which
essentially takes anything that forms a
semigroup
and runs tests on it to see the
confidence the associated property so I
go test quick check and it's quick check
pure zero is the seed 100 list the
number of tests I'm totally not going to
be able to finish my game no but you see
it runs a lot of tests let's just your
10 it's easier to see and they all seem
to succeed we need a failing test so
let's multiply by x1 a nice it fails and
I actually see it's failing it's telling
you what's faint now suddenly pure
scripts code check out permutation isn't
doing this automatically this is my
verify semigroup function which is
printing the output of the input of the
tests that failed and you see there are
also random alleys here so that was a
very very efficient way of writing a
test wasn't it so generate your tests
said junkies don't write them alright
that was fun now actually let's actually
do something ring so I got 12 minutes
minutes left let's see if we can build a
game in that time I think I'm pushing it
but let's try so fortunately I got some
pre-written code here I got a game
object type which is a record which and
complaints exactly to a JavaScript
object the record as a few things ID CSS
these this map directly to
and um IDs and classes and we got
coordinates we got base coordinates
we've got velocities because this
represents an object in the game and the
objects can move around so essentially
there should be a rendering function for
this C and I got this intersects
function here that I'm going to need and
I didn't want to type it down I'm going
to show you let's get some video keep
doing this all right well I guess we
stick to the bottom then so I'm going to
show you the FFI because this render
function just does a lot of things to
the Dom and let's do that in JavaScript
oh my god this is a squished in so it
takes pretty good for all e this is an
effect for a computation so it takes a
game object sorry about the tiny lass
but and it returns an effect monad sorry
I said the word oh my god and returns an
effect computation which has the dumb
effect which is defined as 1 and because
here's a bit of row polymorphism it
takes an effect that must have a done
with that but can have lots of other
effects as what is what I'm saying here
and it returns unit which means nothing
so we're lucky if I can even get the
ground-living
so the effect type must return a
function so it should be this
I wish didn't keep sitting at the bottom
I can't see what I'm doing okay let's
try and deal with it so the first thing
we do is get the document element by ID
object dot ID which is from the game
object type Oh Phil we need a multi-line
strings please I hate typing these back
slashes cool okay we need to set the
class and that's so CSS sorry this is
the most boring function in the whole
game
of course because it's JavaScript ah
this is so much typing I should've just
left this in now for the CSS we set left
plus Oh base x plus o x floor this is an
asm.js trick to chop off to turn a
number into an integer and pixels
semicolon top column and string please
base why why bear with me please
applause pixels and so sick of this
number even Dinu lines where I should
okay and return nothing that should do
it
yes I see
it's not good
last line oh yeah thanks did not see
that okay so very quickly now this is
where I should have elaborated on how I
have actually taken Evans very lovely
album signal library and sort of tried
to port it to Pele script and instead
I'm just going to horribly type it out
so we need a frame rate it takes this
England that eats a number and we got a
function every takes a number of
milliseconds and use the current time
every 33 milliseconds in this case
that's going to give us a frame rate of
about what is it 25 30 frames per second
keep this one here and the ground I'm
going to create a stream for that that's
gonna yield game objects and we're going
to sort that off with a frame rate and
then sorry this is this is the mac
function actually but it's got this very
neat syntax in Adam that I felt like I
copied oh I could do it in the
traditional Haskell way some reason Evan
didn't find that very readable don't
know what his problem is but actually I
kind of agree please much nice nice it
so I'm saying here is why we we got a
function n is going to be the number
that comes out of frame rate and we need
to create a game object it's going to be
called ground and the CSS is going to be
nothing special
X is going to be now this is some
computation I arrived at through science
which means trial and error
she's going to make the ground move the
way I want it to x minus 8 and y should
be 0 and the base axe that social the
zero position of the coordinate system
for this object is minus 128 + 3 8 4
I've got five minutes left
hopefully that's going to be a hint of a
pony at least the x0v why is there a I'm
not going to be using the velocity
system for this now we need a main
function so this is stu notation which
has to do with the M word and
essentially this is you're going to be
doing effect computer effect for
computation here so we are going to be
doing this in the effect where retail as
they are sometimes called so I'm gonna
run that signal with an effect full and
point so I go ground ground is a signal
and I map the render object function
over right now my god it doesn't work it
doesn't work
as it crashed the probably has actually
yeah so I've got it on the clipboard so
nervous right now I need to refresh the
page and can I select this place oh yeah
I have to do that manually okay it's
moving now let's see if we can do a pony
in five minutes the pony should be
jumping and first of all let's see we
need the velocity function it's going to
be useful for all of them I'm just gonna
skip this type signature here I think
cuz I'm running so much out of time so
take the game object and it modifies the
game object with X should be x plus over
the x and y should be o y plus ovy and
that's essentially that's the velocity
function and we need a gravity function
as well which essentially takes a game
object and applies a downwards gravity
on it so that means that the V art dy is
increased by what's gravity point ninety
Newtons to Newtons and so we need a pony
which ponies are again for yes
good choice because it's the only one I
have graphic and assets for and I think
it needs a key stream as input because
she's going to jump will do a lot better
we're going to create a fold that is
essentially we're going to have a
function that modifies pinkie for each
frame and we're going to do that using
the pinky logic function that we're
going to implement I'm going to have an
initial pinky value and I'm going to map
that over
sorry fold that over sample on frame
right keys which every take a frame rate
should be it should give us whether or
not the keys in in the key stream will
be pressed the key stream let's see
let's go with a spacebar so that's code
32 on the ground current independently
let's go with another one be render
object let's define P as pinky over
spacebar so I think I'm actually out of
time that's just the we can actually get
pink around drink fest shouldn't be too
much left let's do that I wanted to get
it to jump but I think I got carried
away with a category theory I didn't I
why are you pinky pinky logic
takes a space bar and it takes a pinky
and we apply gravity and we apply
velocity and always crashed again okay
so here we go this is Gary refresh
okay you know what since we are out of
time we're actually really nice to have
a copy on this game that is complete so
I couldn't be very I'm exciting for you
I think you'd rather have lunch to be
honest
so very quickly running free so pinky I
wish this scroll better so essentially
the pinky logic function I was extended
now I missed that joke sorry why she
falls through the ground because the
gravity and I haven't made the ground
solid so there's a solid ground function
and I'm implemented jump and they as
you'll notice are quite simply
composable functions that grow from game
object to game object so this is very
neat and and pure and functional at
least unless if there are some other
highlights no not really
so there's the jump function and its
initial pinky yes and I also got this
coin that she's supposed to connect and
we simply just just moves from from
off-screen and loops back and if she
jumps and touches it using kolodziejczak
has this but only putt and mushing thing
where if you intersect with pinky whose
stream I'm actually having to feed into
the coin stream because the coin has to
react to pinky so it needs to know where
she is and I put the coin on screen and
I put think it on screen and let's just
see if it works it seems to I miss that
coin she can jump as you can see and she
can get the coins and
and that was a not very much pure script
at all wasn't it and ah something good I
got the worst letter to member this
happen this is what happens when you
write your own but you know at least
then you know that you're using it
before it was cool so this is all the
corrosive foot for a game and apart from
this ugly bits of JavaScript right here
this is all purely functional which is
pretty cool and enough of that I won't
keep you from lunch hello pinky okay so
that was it now before we go I usually
put links to my slides here but as you
can see I need to get the bugs out first
and I'm also just about to publish the
signal library and and some of the other
things that I've been been building on
the side towards this game engine I'm
also going to hopefully publish the game
engine itself once it's done but I
wouldn't hold my breath for that that it
needs a bit a little more thinking so
well thank you very very much I hope it
at least piques your interest in pure
scripts also and and make that was cool
and yeah go have lunch please I'm sure
there and there's absolutely no time for
questions
go
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>