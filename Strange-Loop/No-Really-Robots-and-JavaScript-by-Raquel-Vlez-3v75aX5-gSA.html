<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;No, Really... Robots and JavaScript?!&quot; by Raquel Vélez | Coder Coacher - Coaching Coders</title><meta content="&quot;No, Really... Robots and JavaScript?!&quot; by Raquel Vélez - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Strange-Loop/">Strange Loop</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>&quot;No, Really... Robots and JavaScript?!&quot; by Raquel Vélez</b></h2><h5 class="post__date">2015-09-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3v75aX5-gSA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome my name is Raquel Bella's I am a
software developer at NPM Inc I'm on the
web team it's really fantastic we do
lots of node and javascript and stuff
and once upon a time I used to be a
robot assist that was pretty cool so
first I want to get a sense of who's in
the room how many of you like to play
with robots how many of you would like
to play more with robots okay and how
many of you JavaScript of you how many
of you node okay excellent how many of
you ever heard of node bots good spoiler
these are node bots they're about two to
three years old now they've been around
for a little while they're totally a
thing and we're gonna get into them in a
minute well a few minutes so my goal for
today is to first talk about robots then
talk a little bit about node and then
we'll kind of marry the two and talk
about node bots in general so let's
start off with some basic background
robotics 101 starting from the beginning
what is a robot you ask 10 robot assists
you will get 10 completely different
answers so let's just ask the dictionary
too many words okay so a robot is for
lack of anything else it is a machine
that is programmable by a computer
that's it that's it's very very simple
right
super basic it's a machine programmable
by a computer okay we see them in our
homes we see them in industry and we're
actually already starting to live in the
future this is the 2004 Caltech entry to
the DARPA Grand Challenge which was a it
was a competition to have an autonomous
vehicle drive from Los Angeles to Las
Vegas
and nobody actually got very far but
that doesn't matter because in 2015 this
is the Google self-driving car and it is
street legal so we are living in the
future that we all imagined we would
hopefully one day be in something
something but a lot of people think that
getting a job at Google tomorrow to work
on these things is completely and
totally out of reach right how many of
you think that this is a job that you
want tomorrow but and that you can get
tomorrow
not very many yeah why why is that why
is this so hard well it's because
robotics is hard these are some of the
problems that we need to solve in
robotics before we can really have
robots everywhere right things like
understanding the layout of a room or
understanding speech or determining
whether or not that is actually a cat in
that picture or even something as simple
as thinking okay how do I get from here
to the exit door cuz oh my god this talk
the crux of all of these things is this
notion called sensor fusion and for me
the easiest way to explain sensor fusion
is to think of ourselves as robots you
two are robots we have lots of sensors
right we have our eyes so we can see we
have our ears so we can hear we've got
these little balance things we've got
touch and taste and we have all of these
streams of information coming in all
together and our brain is parsing it all
at once and giving us some sense of
state right right now I can tell you
it's a little chilly that's why I'm
wearing a hoodie and I'm on stage at
Strange Loop and the door is right there
right these are the things that I know
and my brain does sensor fusion really
really well but a robot that's really
hard really really really hard so
more than that the path to robotics
engineering is fraught with danger right
you need to spend forever in school to
get some piece of paper it says I'm a
Doctor of Philosophy and something that
we still don't understand yet do a whole
lot of research published some papers
and hope to goodness that you can find
somebody to give you money because let's
be honest these things aren't cheap
right none of this is cheap that this
ASIMO hundreds of thousands of dollars
none of us is gonna go out and buy one
tomorrow although if you have the check
to do that let me know and I will
happily take some money off of you too
okay but what if it didn't happen so
hard
what if it didn't have to be this in
order to engage with this industry keep
that in mind
now we're gonna kind of OOP to the other
side with some node so brief overview
note is JavaScript but it's on the
server because you know we've had
JavaScript on the client side for so
long let's put it on the server - what
could go wrong I but really what's
wonderful about node is this notion of
async IO and I'm gonna get to a little
bit more on what async is but the beauty
of async is you can have lots and lots
of input and output all at the same time
and things don't go totally awry and
that's kind of awesome which basically
means that you can have lots of
real-time applications
lots of people hitting your servers lots
of things happening all the time
superfast fantastic oh my god node yes
great the other thing is that node has
they're super super tiny small core
which allows us to build really anything
that we want I'll get into that in a
second so the thing that throws most
people off is this notion of async
people like okay I'm coming from a
synchronous language why would I call
backs what that's super weird I like
analogies a lot so to me ace
is like it's like going to like
understanding async is like going to
them all you want to buy an outfit shirt
pants and shoes so you go to this the
shirt store and you're like okay I'm
found a shirt I'm gonna pay for it have
the shirt in hand then go to the pant's
store do the same thing shoots or same
thing but the key is that you have to
have an article of clothing before you
can move on to the next article of
clothing right contrast that that's sync
that's synchronous i/o do you want and
then async is like buy something online
so you get a shirt store calm pants
store calm shoe store calm you buy all
your things your shirt may come first
but then your shoes might come next and
then two weeks later because I got lost
in the mail it's coming your pants and
that's fine because at that in that
point you didn't necessarily need to
have an article of clothing in hand
before you moved on to the next article
of clothing to buy it does that make
sense yeah sort of not really look at
the picture okay the other beauty is
this super tiny core right other
languages they I love every language
it's totally cool but some languages
kind of ask you to install everything
plus the kitchen sink which is great
right because it basically means that
you have everything in your environment
that you need to build your application
no decide to do something totally
different they're like super super tiny
core just the basics thank you very much
anything else you want go and get it
from NPM so NPM is our package
management tool that allows us to share
snippets of JavaScript code amongst
developers whatever fantastic but it's
kind of like building blocks right Lego
blocks I want to build whatever I want
to build and for this particular
application which is gonna be a web
service I'm going to get something like
Express which is an entire framework or
for this tiny thing let's call it I
don't know a robot then I can grab a a
framework like johnny-five and build
something off that but it's still node
at the core and we can just build on top
of it with these wonderful Lego packages
cool yeah okay so let's marry these two
things together robots and node
make note bots it's a very happy
wonderful wonderful thing so what is an
ode bot a node is a node but is just a
robot programmed with JavaScript really
basic what does that look like this is
the hello world of node BOTS this is for
it's really kind of hilarious it's super
simple it's just a button that when you
press on it the light turns on and when
you let go of the button the light turns
off and this sounds really silly right
you're like okay this isn't that
exciting but let me tell you when you
have a group of developers like
yourselves and everybody's trying to do
this hello world people start struggling
they're like I don't understand and then
all of a sudden there's this moment
where every single person in the room
one at a time will go I am Prometheus
they've brought fire onto the world
because this thing turns on it yes it's
armaid hardware blink and then you move
on and you move up on to this this thing
called the sumo bot I know it's cute and
adorable but it's actually angry what is
the point of Sulu lots the way sumo BOTS
work is you have two sumo BOTS in a
circle last one in the circle wins again
super simple premise but imagine looking
at a room of developers like yourselves
screaming and cheering on these tiny
little robots it's hilarious I recommend
you do it at some point it's really fun
but what's really wonderful is you don't
even have to make your own robot you
don't have to actually dabble into the
hardware at all you can get
off-the-shelf components or entire
things right this is the parrot ar.drone
it's a quadcopter you can buy one off of
Amazon right now and then you can upload
node to it
and you can use node to make this thing
lift off
spin around flip come down whatever it's
super fun super exciting just the best
but I know what you're thinking you're
like of all the languages that currently
exist why would you choose the one where
undefined is not a function right of all
of these incredible languages but here's
the thing you don't need anyone to write
you a piece of paper saying that you
know something more than somebody else
you don't need a PhD you don't need a
masters you don't need any of that and
on top of that it's completely open
source every single bit of it totally
open source so what does this mean it
means that we have a super low barrier
to entry here right none of this is like
you don't need anything to get started
with this you could build a node bot
this afternoon tomorrow whenever you get
your Arduino whatever nothing else is
necessary
speaking of arduino z' there are lots
and lots of microcontrollers out there
and they don't cost very much these are
the tehsil to the particle photon the
Arduino Uno all of them less than $30 a
piece and they're all open source so you
can hack on them as much as you like
whatever and if you break one it's not
the end of the world
as opposed to breaking a multi-million
dollar self-driving car that could be
the end of the world if you had to
self-fund it I'm just saying but more
importantly node with the robot what's
going on you're sending commands you've
got sensors you've got information
you've got data coming in and out and in
and out and you're pushing out two
actuators in this back worth everything
what does that sound like that sounds
just like node note is kind of exactly
the whole point of of this right this is
perfect this is a perfect application
for node absolutely perfect and then on
top of that how many of you remember
linear algebra just a few
I have some bad news for you robotics
involves a lot of linear algebra what if
I didn't what if I told you you didn't
have to actually know all of that linear
algebra just to get started with this
because all of these packages what's the
whole point of these write the note
ethos is many tiny modules many tiny
packages that do one thing really really
well and then you build your application
with Legos right there's a package that
does linear algebra for you so you don't
have to yeah but my favorite thing of
all of this is this notion of rapid
prototyping you can break you can
iterate and you can make something truly
unbelievable here are a couple of
examples this is the node sash how does
it work basically you tweet it though at
the node sash and you give it a hash tag
color
it's a hex color and then it just adds
it onto the queue onto the sash it's
really fun because people are just
tweeting colors at this thing and it's
just like boom so many different colors
you know imagine if you have it as like
a cummerbund so cool this was created by
a cast perch cast came to the very first
node BOTS event ever ever at J's comp us
in 2013 she didn't know hardware at all
she was a client-side JavaScript
developer which was you know great fun
uh and then she came to this event
because why wouldn't you go to an event
that's free that allows you to play with
robots I mean it seems kind of like a
no-brainer but she left totally
transformed she left and this is one of
many many projects that she makes now
and she spends a lot of time organizing
other events she's fantastic and you can
also see this this light-up skirt which
I think glows when you favorite a tweet
or something just really really awesome
this is far p-- it is a hexapod it's got
six legs and it was created by Donovan
Buck Donovan had also never played with
hardware before he had an Arduino that
was just kinda
sitting collecting dust he didn't really
he wasn't really interested in learning
the Arduino language which is cool and
he went to an event actually organized
by Kass and he decided okay he did the
HelloWorld that's really cool and then
he decided for a second project he was
gonna build this I don't know why he
decided to do that but all the power to
him okay the thing is he needed some
pretty hardcore math to do it which is
fine he used one of my modules called
vector which is a robotics focused
linear algebra module and then he built
more on top of it and I want to show you
what this looks like a creepy trigger
warning this is creepy really creepy I'm
sorry
did I mention creepy
okay so why is it so creepy it's so
smooth right
this is creepily smooth Chris Meowth but
why is it so smooth why is it so smooth
it's smooth because donovan had the
brilliant idea of combining JavaScript
animations with robotics and so he's
actually using a browser to animate
these legs and then transcoding it over
to this robot and that's why it's so the
things that you can do is just amazing
okay that's just too creepy okay
there's this old saying in the node
community jippy sniff javascript is fun
because node is fun and it's why I
decided to totally take it over and
change it up a little bit but javascript
is fun and so node bots are fun and we
could end this talk right now
and this I think would be enough but
there's a little more ok so no talk is
complete no argument is complete without
a counter-argument so there are some
downsides and because it's kind of sad I
have asked the NPM wombat to kind of
join me on this so ignore all the
sadness look at the cute excellent so
the first thing is that between
abstraction and understanding there is
that's a trade-off right yesterday our
keynote morning keynote talked about how
abstraction can be bad and I have to
agree just a little bit not totally but
a little bit because the beauty of the
node ethos ecosystem is that there are
many tiny modules which means you don't
have to know everything but it also
means that you don't know everything and
so you don't fully understand everything
that you're doing with all of these tiny
modules so for example if you have a bug
three modules three dependencies
deep and you don't understand the linear
algebra enough to fix that bug when
you're kind of out of luck and that
really stinks I don't want anybody to
have to stop playing with robots because
they don't understand something so it's
on the onus is then on you to actually
fully understand all of the different
things eventually eventually but not at
first so that's a good but yeah we don't
really have a process I was on a podcast
once that asked me so how do you build a
robotics application and I was just kind
of dumbfounded because I don't know none
of us do this is totally the Wild West
there's no how do we how do we how do we
handle errors how do we test how do we
architect our application in a way that
we can have robustness and performance
and stability I don't know I don't know
any of those things I'm just you know
putting things together and hoping it
doesn't blow up right I don't want to
see the magic smoke that's my only goal
right now but there is something deeper
to be asking here we don't know what
we're doing which is fine to a point and
then if we think about how long these
things have been around this is super
young technology combine that with the
fact that robotics isn't completely
ever-evolving technology who knows what
we're doing who knows what's going on
there's a lot of stuff that we still
have to figure out and if we compare it
to the ages of kind of similar similar
things right like node is six years old
cool you can play with you know whatever
maybe you make some spaghetti JavaScript
spent 20 years old now can almost drink
and C++ is 32 solid years old
well-established probably has a great
hair or two that's fantastic but when
you think about the time to be
established nodebots is definitely not
there yet we've got a long ways to go
before we really can say we are node
bots we are here we know
we don't that's okay because I think
ultimately this is this is an
opportunity in disguise despite
everything there's still some good stuff
that comes out of this and if you like
this sticker I have this in sticker form
come find me okay I want you to consider
this what happens if you give power to
people who didn't even know they had
that power to begin with
think about that you don't even know
that you can do something until somebody
says hey did you know that you could do
this the entire time how do you feel
first you're like oh that Wow that's
annoying but then you're like oh my god
I have power what can I do right
maniacal evil fingers but think about
this how long does it take to set up a
Ruby environment or a c-sharp
environment a Python environment a C++
environment how long does it take to set
up a JavaScript environment javascript
is everywhere everywhere all you need to
do to set up your JavaScript environment
is open up a browser and open up the dev
tools that's it
BAM you have JavaScript you have a dev
environment instantly so whether you
have the fanciest shiniest newest
top-of-the-line MacBook Pro whatever or
you're just using the Public Library
down the street you have JavaScript
enabled for you any step of any moment
right I like to think of getting into
engineering as as a carrot sort of thing
right I like to give people M&amp;amp;Ms excites
you about fun things to do with
engineering so that by the time you get
hit with the stick you are just like
well but I like the carrot so much I'm
just gonna stick with it right I want
you to get into the syntax way
way way way way long after you spent an
hour playing with the drone right I want
you to have fun first and then say to
yourself okay there's a bug to does have
two dependencies deep why let's learn
that okay time to play with some demos
yeah let me show you what I mean with
all of this fancy stuff all right let's
all pray to the demo gods I sacrificed a
sticker earlier today we'll see what
happens you can't see any of that gotta
work does that work okay
so I'm going to start off by going to
this really fancy website called
localhost
okay so this is this is just going
online to this website and this is a
serial manipulator so what is a serial
manipulator it's basically a bunch of
links or joints tied together with links
all in a row and you can move the joints
around the links don't change but that's
okay and the easiest way to think of a
manipulator is to think of the ones that
we have attached to our bodies like this
arm actually I'll use this arm with
these microphones okay so what's going
on we have two joints we have the
shoulder joint which is linked to the
elbow joint which is linked to the end
effector you can call it the claw if you
like I'll call it my hand but it's
really the claw and there's a really
interesting thing that you can do with
manipulators and you can study with mini
bleeders it's called kinematics
kinematics is just the study of motion
really simple but in robotics theory we
we talk about forward kinematics and
inverse kinematics so forward kinematics
works like so if we input our two angles
we can calculate the position of the end
effector right so if I change this angle
cool I can see where this is changed if
I change this angle cool I can see where
the end effector is changing but I
change both I can always calculate where
the end effector is and this is a
one-to-one unique solution right any
single random whatever set of angles I
will always know where the end effector
is inverse kinematics is hmm the inverse
so I have the end effector location as
my input and then I can calculate what
my joint angles are instead so if I have
my you know and the factor here then
these are my angles and whatever but
it's a little tricky to write because
this is not a unique solution because I
can have my end effector here but my
joints could actually be here or here so
it's not unique and therefore it's a
little bit more
stuff so but we can see this online
right we have our wonderful website and
we can say I wanted to do yet that's
okay so I can change the first joint and
that's cool and I can see that I can
change the second joint and that's
pretty cool I can see that too and we
can play with inverse kinematics and
you're going to see what happens it
jumped why did it jump because it's a
non unique solution and I've basically
closed down the the solution set so that
we can just kind of maintain some sense
of happiness so that's really cool
fantastic awesome anybody can go to this
website assuming I put it up in the
cloud and learn about robotics from this
standpoint but what happens if we decide
to go a step further so
all right so I can move this around it's
going backwards or not no it's good okay
cool
and and so I can move the first joint
and I can move the second joint right
okay and then I can play with inverse
kinematics as well and it's not totally
working and that's okay there's a bug
somewhere where is it I don't know let's
find out cuz this is cool
we're not going to find the bug today
but what's what's going on here I'm
gonna disconnect that robot so thank you
robot you're done yeah yeah you can do
that
love applause just bring it on that's
that's the best so what's what's really
happening here so let's take a look at
some code so we are can you see this
so we're requiring some different
packages what's the difference between a
package in a module and node not very
much a package is something that you put
in NPM a module something that you
require in your code that's it they're
essentially the same thing tiny
differences whatever but this is this is
one module vector which is for all that
linear algebra stuff that we don't want
to have to think about and then we have
another module called Johnny five and
Johnny 5 is this beautiful language that
our framework because it's still
JavaScript
it's a beautiful framework created by
one of the board members of jQuery and
you'll see how that why that matters in
a second but what am i doing I am
instantiating my board and I am
instantiating my servos so what did I do
I just said okay I have an upper servo
which is located at pin 9 with this
limited range of between 10 and 170
degrees what is a pin a pin is just a
socket on my microcontroller and they're
all conveniently numbered so I can say
okay pin 9 that's right that's what's
happening there and that's it I've
instantiated my servo which then means
that when I want to use my servo I can
just say servo dot 2 and then give it a
value and that's it
none of this keeping track of pointers
and getting rid of memory because I
don't want any memory leaks or whatever
BAM that's pretty easy and so all I'm
doing and then there's you know math you
can ignore this if you want or you can
love it I choose the latter
and so I I have some math happening
right now to calculate the forward
kinematics and the inverse kinematics at
any moment in time
and it's really really cool okay I want
to show you how easy it is to turn an
LED on and off because it's the hello
world and I want you all to feel like
Prometheus bringing fire to the planets
can you all see them well hopefully you
will see a blue light soon okay so LED
what are we doing we are requiring
johnny-five
we've instantiate it a new board when
the board is ready we have a new LED
we're instantiating an LED at pin 13 and
we're going to strobe it every 100 every
100 milliseconds right so it should be
blinking a lot so that's not it ignore
that one there now it's going nice and
fast right and then I can change it I
can make it go a lot slower let's go
every 800 milliseconds and so ignore
that there that's turning on and turning
off turning on and turning off we have
brought fire by an LED in hello world
right this is super super amazing think
about it
somebody who may have never ever touched
Hardware before I didn't have to think
about pointers I didn't have to think
about types I didn't have to think about
anything I just had to think about okay
what what pin is it connected to so I
can turn it on and how fast I want to
strobe that's powerful powerful stuff
okay done with demos that was fun
so because things didn't work perfectly
here's a nice video how does it work how
does this work basically we have
JavaScript by a johnny-five or we have
JavaScript and then using johnny-five
that JavaScript gets turned into firmata
which is the language of the arduino
we've I've flashed it with standard
Fermata which is just one of the options
that you can flash in Arduino with and
I send the Fermata over the serial over
the USB by a node serial port which is
another package
it's a dependency of johnny-five and
then there goes on to the Arduino and
the Fermata there says okay you're
talking to me in Fermata I know firmata
then it says okay you want me to turn
this servo but that's really more of a
pulse with pulse width modulation so
we'll just kind of turn it to just the
right thing and it'll go to that that
measurement that's it
very very simple if you wanted to build
one of these how much is it it's
actually like 50 bucks not really that
expensive comparatively so if you're
looking to play more with this I highly
recommend you go to Johnny v dot IO
there's an incredible community behind
this and a lot of people often ask me ok
well how do I get started what hardware
do we need to buy like how much should I
expect to invest this is about a hundred
dollars less less than a hundred dollars
the ARD AK starter kit I think if you
can find one of the remaining
RadioShack's you might even be able to
get for like 40 but it's really great a
lot I mean the components are pretty
cheap and you can feel it you can you
can figure you can you notice but at the
same time if you're gonna have the blue
smoke let it be with something super
cheap that you can replace for you know
cents on the dollar start with this play
around magic smoke all you like like an
LED alright a 9-volt battery you know
really go all out and then once you
fully understand everything then go
ahead and start buying the really
expensive servos and make your super
creepy hexapod
whatever you want definitely learn more
about nodebots
such an amazing community anybody can be
part of it I mean you saw some of the
projects that have come out of people
starting things for the very very first
time it's really really incredible so
what's next showing you what's possible
hopefully I entertained you at least a
little bit and and now you know a little
bit more about know that's in the
community and what they're working on
but if there's one thing one thing that
you leave here with it's I want you to
leave with the understanding that
JavaScript and robots is probably the
silliest idea ever invented but if our
goal as technologists is to build a
better internet and to bring more people
to the forefront of technology no matter
where they are whether they're at this
conference or across the street then
gosh darn I really think this is a
pretty good starting point so let's get
to work thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>