<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build Real Web App with React #07.1 - Navigation Bar | Coder Coacher - Coaching Coders</title><meta content="Build Real Web App with React #07.1 - Navigation Bar - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build Real Web App with React #07.1 - Navigation Bar</b></h2><h5 class="post__date">2017-09-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UEF4EUVm4e0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to the series where we
built real web application with react
and OGS so at last we are ready to
implement actual features for the
application itself so in this episode in
this session we're gonna start by
building our user collection of books
and it's gonna be quite interesting
because we will have a little bit of a
complex UI stuff so let me show you the
overview of what we're going to build in
several sessions in the next several
sessions so here you can see what we
want to have so we want to build the
empty dashboard first so right now it's
too empty there is nothing there so what
we want to add is the top navigation bar
so we can navigate around the site and
also add new book call to action button
so when if or when a user has no books
in the collection we display this button
otherwise we'll have the collection
itself so when user clicks on this
button we go to the new route add books
slash new for example and here where the
interesting parts come in will have this
search form and the search form will be
just just one field and user types in it
and we make in this search we don't want
user to type it by itself by photo the
cover etc what we want to do is to fetch
this data from Goodreads so that's what
we're gonna implement a little bit later
we're going to search for books via
Goodreads a P I and come back with the
results and here it we're gonna be not
just a simple search but the drop down
the outer complete field and we will
populate it with variants depending on
the search query and when you use a
clicks in one select one of the books we
display this form and populated with
data here at the the cover we have the
cycling cover button so each book could
have several covers and
the way for user to select one he likes
so today we're going to focus only on
client side stuff so before I begin I
have couple of announcements so the
first one is this particular series will
be published twice a week on Tuesdays
and Fridays starting next week and start
the next week as well I will launch new
mini series and what topic would I cover
I have no idea that's gonna be a
surprise but leave your comments below
about the car about the topics that you
want me to cover watch what you interest
it slice into so I will take note of
them as well another thing you will
notice that I try and use things here in
this particular session with the layout
of the editor and other stuff so let me
know what you think about this but they
like it not or whether you prefer the
previous way of doing things also I want
to thank my patrons thank you very much
for support thank you for posting in the
forums and in private community it's
awesome thank you I really appreciate it
so let's get started so we're gonna
start with the this top navigation stuff
so for that lets go to our react code so
as you can see here where I changed the
line so here I have the editor when I'm
working with react application and here
I have the live reload in browser and
now here in dashboard we have nothing
blank page nothing here so we want to
fix it so first of all let's go to app
dot GS file here and I'm gonna hide this
sidebar so we have a little bit more
space I do not use a usual sidebar when
I develop so here right at the top of
the UI container I'll add top navigation
contain top navigation component and I'm
gonna input it from components let's say
navigation because maybe we will have
several other components
to navigate around or books like by tags
or something like that but that's going
to be a top navigation stuff and let's
create one so we'll go to components
navigation top navigation GS
there's going to be a functional
component we do not need to have state
or something like that here and we're
gonna use menu semantic UI component so
let's import menu a semantic UI react so
here in this menu let's add a secondary
and pointing that's just the style of
the menu inside we'll have menu items so
that's how you can read about all of
this in a semantic UI documentation so
we'll have item we call it dashboard and
then we'll have the right side menu so
we'll define another menu here menu that
menu and position of this menu is going
to be right and instead of this we'll
have the drop-down with the user avatar
on top of it where we can logout
actually so let's start from this
dashboard first we wanted to be a link
and in semantic UI react components we
have this as property and we can define
that we want it to be as link and we'll
import we'll import link from semantic
from reactor out the down ok now we can
pass to as we do for a link dashboard
like this so now we have it right here
and in menu here what you're gonna have
is the drop-down so we'll have drop down
and inside of this drop down we'll have
something drop down item actually so
let's define it right away
drop down item and that's going to be
logout
and the in drop-down itself will have
trigger and inside of this trigger we
want to define image avatar and we need
to provide source and to make things
simpler we'll just use Gravatar for our
emails so user have emails we just can
generate graviton URL and use it here
Gravatar URL and we pass user that email
to it so for that we need a couple of
things first of all we need this gravity
URL so let's input it gravity URL from
gravity your - URL so this is the
library that we're gonna use so let's go
to terminal and here I'm in book one
react and I'm just run yarn add gravity'
URL and let's go back to here so the
next thing is we need to have user user
also we need to import drop-down awesome
component from semantic UI and image so
now to get this user let's define it in
our prop types so user is just the shape
and what we are interested in here is
SML and now we need to get it and we get
it from by connecting this element so
we'll connect this element with map
state to props and also we'll have we'll
need to have logout as well okie-dokie
so here I need to import prov types now
let's define our map set to props and
here it's gonna be user state that user
and logout I'm gonna import a logout
from actions of and I need to add this
logout right here as well
as a function and now here where I have
this logout I'm just gonna add on click
oops
logout and I deconstruct here okay
look at that we almost there so we have
log out but it doesn't work because I
forgot to add here the drop down menu
drop down that menu and inside of this
menu will have items so it's gonna
reload and we'll see yeah much better so
we have dashboard here and we have
logout link here but we have a problem
with es lint it doesn't like that logout
is already declared in the up scope so
we have log out here and we have forgot
here so you can add you know ignore for
this excellent rule or you can use
something like this you'll just input
all actions as actions here and in this
patch you'll define that it is actions
that log out and that will fix it so now
when we try to log out we'll have a
problem let's have a look look out
nothing happens why is that why is that
I expect you Tara to be honest so have a
Edit drop-down menu unclick oh yeah log
out so now we can have an error so log
out and we have an error so as let's
have a look here yeah we have an error
because of user email is not defined so
this top navigation stuff right here
that we have right here I want it to be
visible only for authenticated users so
if you're not authenticated if this is
the public page that that will be just
the home page the marketing page and
login logout there is no need for the
top navigation bar in this particular
cases so let's implement this and there
are a couple of ways to achieve it the
first one that I think we're going to go
with is just to connect this app
component
Gettys authenticated and make this thing
optional or you can just delete it from
here and in every component that need to
have top navigation you just place it
there so both ways are pretty good so
let's connect this component so I'm
gonna have connect here I have connect
map state two props I do not need to
have anything here so now I'm going to
define map set to props is authenticated
it's going to be this state user let's
say email so if we have email we
consider is authenticated so now we need
to edit here as well is a is
authenticated to be boolean and we added
here as well is authenticated and now we
can use it right here
is authenticated then we render the
stock navigation stuff yep we've been
redirected back to home page nice so
let's login test test ok and we have
gravity' displayed to us and now we can
log out and log out nice so this is the
default image for gravity if if user
doesn't have any kind of gravity there
ok so now we have the top bar nice top
navigation so the next step is to
display here they call to action in case
we use it doesn't have any books and to
do that we need to define books so let's
go to root user and here we'll add new
reduced books books and we light it to
here as well
books and let's define in reducers box
dodge yes and here I'm gonna define
reducer done so in this application
going to use normalized state and that
means that all our entities will be
stored not as collection like an arrays
but as objects like this so we will have
something like ID 1 1 1 and then they
object itself and then ID 2 to 2 and
then
object itself okay so this way it's more
like a database and it's very easy to
reference entities in other parts of the
database but the problem is that usually
we and stage will be normalized so each
entity will be separate so if we have
even like boo could have many tags for
example we do not embed this into the
books but we will have separate tax
entity and that means that we need a way
to combine all of this for our
components and that's where selectors
will come up and we'll actually use
selectors right now in a second because
we own on a client in our components
usually we want to have arrays not
objects so let's go to let's go to
dashboard dashboard page right here
where we want to have something like
this right here we want to check if
sublime you've been to smart
so right here what we're gonna have is
something like hey if we have box length
two equals zero then we'll have some
kind of call to action like add book
CTA that's a terrible name okay so we
want to have books length is the method
on array so we expect and usually we
work within components we work with
arrays because it's much easier to
iterate through them for example and
they are supported by react out of the
box okay so here we'll add books and
instead of doing this state books we
can't do that because books right now
here is actual object and we want an
array and we even can specify here that
books is basically an array of objects
of particular shape like for example
title
okay so we do not we are not going to
use this thing instead we're going to
use selector all books books selector
and we pass state into it so now where
do we store this selectors you can store
it any way you like as usual in
JavaScript you can store them in in
separate files you can store them in one
big file or you can store them with
reducers that's what we're gonna do
we're gonna store them with the reducers
because we crazy so I'm gonna add here
books as well so I'm gonna import this
all books selector from reducers books
like this so of course I need also to
add books ETA but we're gonna develop it
in a moment so now I'm not gonna need
juice anymore so we have books here so
let's add selectors so I actors and the
first one expert Const selector is gonna
be books selector so it takes state and
it returns state books so that's
basically the books hash that we have
here in our reducer so and the second
one is going to use this selector and
converts it into an array so this way we
can compose complex selectors using
simple simple ones okay so we'll have
export Const all books selector and
that's gonna be create selector and
create selector the method that is
provided to us by very select library
that we can I use to compose our
selectors and this method takes any any
amount of arguments and each argument is
the selector so books selector and the
last argument is an actual new selector
that you can pose from them
so it takes books hash because we have
books selector if we have something else
here for example tags selector so the
second argument of the of this function
will be tax
but we have only one for now and what
we're gonna do we're gonna convert this
into an array so we'll get only values
of this object so we'll have object dot
values and we passbooks
hash there so now we need to improve
this create selection so as inputs
create selector from we select and of
course we do not have we select so let's
yarn yarn add reselect receive liked
okay so now we have selector let's go
back to dashboard page it should be an
array and we check the length and if
it's zero then we have this add book CTA
so let's add box ETA from CTAs add book
CTA let's create one CTAs add book CTA
dot yes that's a functional component
and that's gonna be a card so we'll use
card this card gonna be centered and
inside of this card will have card
content with text-align:center because
we want everything to be centers
basically and inside of this curve
content we'll have card header with some
motivating message like add new book and
in the content we want to have huge plus
button so we'll have image on that image
icon with name plus
circle and the size of this we want to
be massive massive is the biggest
possible size for the icon so now we
need to import all of this so we will
import cards will we'll import icon from
semantic do I react
and here we go we have a new book we
have button but it's not centered and
that's the problem we need to update our
semantic UI because right now this
version is not supporting it that we use
if we go to package here you can see
that we use semantic UI rect 72 but the
latest version in 73 and this bug is
fixed there so let's go back to terminal
here again and let's just yarn as a man
take you I react so this will update all
the dependencies as well now right let's
reload page something wrong text a line
on d4k I think that I probably need to
restart real yarn stud yarn start and
we're loaded yes now it's good we have a
new book right in the middle so this
icon actually should lead us to the new
route so we're gonna use link for this
two books books dot slash Nia I'm gonna
close it and I'm gonna import link from
react wrote it down
so now it has this nice blue color so
now we can go there and we need to
construct our main thing okay so for
that let's go to application to app that
gso let's add another user round it
points to books slash new and that's
gonna be new new book page so let's
import it like a page new book page and
let's create one in components pages new
book a chance there's going to be a
class component because it will have
state and in this state it will have
book by default this book will be not so
what we're gonna do we're gonna have two
sub components to this one so we'll have
this search converge form and the book
form so in search form when we when user
chooses the book will populate this book
here in the state and we'll pass it from
this component from this form to the
book form and this way we're gonna
populate the data in the book form
exciting yeah I think so
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>