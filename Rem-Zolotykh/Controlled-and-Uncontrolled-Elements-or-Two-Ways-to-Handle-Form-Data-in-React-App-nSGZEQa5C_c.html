<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Controlled and Uncontrolled Elements or Two Ways to Handle Form Data in React App | Coder Coacher - Coaching Coders</title><meta content="Controlled and Uncontrolled Elements or Two Ways to Handle Form Data in React App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Controlled and Uncontrolled Elements or Two Ways to Handle Form Data in React App</b></h2><h5 class="post__date">2016-11-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nSGZEQa5C_c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is RAM and in this video
we'll learn about two ways to handle
form data in react application the goal
of this episode is to create simple form
gather data and console that log it
pretty easy here we are in newly created
react application let's open app the J's
component and there let's add game form
to render method now we need to improve
it from game form and of course let's
create new file named game form dodge s
and there let's create new react
component we call it game form and it
renders empty form tag the form itself
is going to be very simple just two
fields title of the game and checkbox to
point out if I own it or not so first we
define text input field with placeholder
title and let's add another one with
type checkbox and let's wrap it in to
label tag and a description dude own it
question mark and the last dodge button
with submit type and label it save so go
to the browser and see this beauty we
created ant we awesome as you may have
guessed from the title of this video
there are two ways you can get data from
your form via refs using uncontrolled
elements or via state using controlled
elements let's start with uncontrolled
one uncontrolled element in reactors
element without set value and without on
change event in other words react
doesn't control this element so what we
define here right now is two
uncontrolled input elements if we'd like
to specify some initial value to the
field we need to use default value prop
instead of value one because that will
make this element controlled so let's
try it out let's add value and set it to
title string now in the browser in
console we see warning that tells us
that we used value without on change
Handler and that makes this element
read-only
okay so let's remove this line and
continue this approach with wraps is the
easiest one to grasp for those of us who
come from jQuery for example what would
we do if we use something like jQuery
well first we define on some
two vans to catch users submit in the
forum and now let's define this function
we define it as class property handle
submit equals to function that takes
event this is another way to bind
contacts without explicitly binding it
we're using modern JavaScript to the
fullest here so let's call prevent
default to cancel standard form
submission and now we'd like to get old
data from the form for that in jQuery
with either find form and serialize its
data all we'd find each element and get
its data like this we find title element
and get its value
refs approach is quite similar to this
we define ref function on each element
and save reference to it an instance
variable let me show you how it's done
let's go to our title field and add refa
to get it equals the function that takes
input itself and then we save this
reference to title variable let's do the
same thing with checkbox just change
variable name to own and now in handle
submit function we cancel that lock
object with title that equals to this
title value as you can see we do almost
the same thing as we would do with
jQuery we get element by reference and
then got value from it second field is
own and it equals to V zone checked
value now we go to browse and submit
form you can see that it works let's
type something in text input and check
the check box submit it and it works we
got our data and now we can validate it
submit it to server etc cool let's try
another approach with form state and
control elements controlled element has
unchanged event handler net which saves
data into component state and values
also set so let's delete ref line
instead specify value to equal this
state title and unchanged to be handled
by handle title change function let's
define handler handle title change in it
we set state title to equal targets
value now we need to initialize state
for this component there are two ways to
do that the first one is what we did
before we
constructor it takes props then we run
super props and after that we initialize
state or we can use modern JavaScript
power and just define status class
property like this state equals object
title is an empty strain so now in
handle submit we just consult that log
this dot state now if you go to browser
change title and submit we see changes
what happens is every time user changes
input value this unchanged event is
fired and title field in state is
updated so let's add the same thing to
checkbox so here we add checked prop to
equal this dot state that own and we add
on change to equal to this handle own
change and let's add his own field to
state and set it to false by default and
let's define this handle own change
function that sets own field to e dot
target dot checked and that's it if we
go to browser we have the same effect we
change title check the check box submit
form and here we go all data is
available to us with this approach we
have much more power and flexibility and
personally for me it feels better but
that's not an argument try out both
approaches and see for yourself as a
general advice though refs approach is
good for very simple forms with one or
two fields and when all you do with this
form is submitted but if you need to
have more behavior on your form like
instant validations or conditional
hiding and showing of form elements
depending on other elements content etc
then using state and controlled elements
is the way to go and the last thing a
little trick I use in my forms all the
time so let's say we need to add another
input field tagline and for that we need
to do three things we need to add new
fields to State tag line equals to empty
string we need to add element itself so
we just copy it and we change both
holder to tag line and value to tag line
and unchanged to handle tag line change
and then we need to define handler that
looks almost identical to the one we
already created for title field
we just need to rename it
to tagline so let's unify this handler
for common cases let's rename it to
handle change and inside it will use
target's name to store states field name
for that we need to add name prop to
both input elements so here in title we
add name title and we change on change
handler to handle change and the same
thing we do with tagline name tagline
and changing the on change event handler
also let's remove handle tagline change
because we do not need it anymore this
way we don't need to create a lot of
almost identical handlers but on the
other hand you will need to always
specify a name for your elements and
that's it for this video I hope you
found it useful and if you did please
like it subscribe to my channel and
share it with your friends and
colleagues if you have any questions or
comments leave them in comment section
in associated blogpost thank you very
much for time and have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>