<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>I Rock #01.  Set up | Coder Coacher - Coaching Coders</title><meta content="I Rock #01.  Set up - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>I Rock #01.  Set up</b></h2><h5 class="post__date">2014-01-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9EkLUdOCm7E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is RAM and welcome to the
series dedicated to developing rails
application from scratch in this first
episode will install all required
software and set up our project for
development and testing we'll write our
first acceptance test and make it pass
and also we'll deploy our application to
Heroku so first of all we need Ruby
rails and PostgreSQL installed as I use
Mac OS I'll quickly demonstrate you how
I do it by the installation of these
tools are quite trivial on Mac I use
homebrew so let's go to the homebrew
homepage to the brooder SH scroll down
to the bottom right here and copy and
paste this line into the terminal so now
I can install any Ruby version manager
alike I used our VM our BNF and now I'm
using true B which is very simple and
minimalistic to install it i type brew
install Truby and i've already got it
installed also we need to install Ruby
and for that we need some kind of Ruby
installer so let's brew install Ruby
install and I also got it
so now let's install the latest Ruby for
that we do Ruby install Ruby so that
will download and compile Ruby now the
true B is installed to activate it we
just need to run the command true B Ruby
and now peer on Ruby - V we can see that
we use in the installed 2.1 version ok
so now we need to install rails so we do
it with gem install rails and it will
take some time okay
rails is installed so let's have a look
rails version I need to open new tab and
again Ruby Ruby and let's see the
version of the rails 4.0 excellent so
the last piece of software is PostgreSQL
we will use it from the beginning
because we will deploy application to
Heroku again it's very easy to do it
with homebrew just do brew install post
grass ql
installed earlier you had to initialize
database by yourself
but now Hubbard makes it by itself so
the only thing we actually want to do if
we want a Postgres to be started at
login just to create this link into the
launch agents so and now let's lunch
pause rescue excellent so now we are
totally ready to create our application
so let's do this I'm gonna sed in to
Rancher folder and here let's create new
application and we call it I - rock with
- capital T to skip tests because we're
gonna use our spec and the database is
going to be positive SQL
okay now let's CD into it and let's
initialize each repository and add
everything to it and create our first
initial commit okay nice so first things
first let's start from readme file so
I'm gonna go to Ramsey IROC readme file
and first of all I'm gonna rename it to
readme MD because I prefer markdown now
I'm gonna remove everything from here
and paste here readme text okay so let's
go back to terminal and commit this
change okay so now let's go to the
database yeah mol file so here in config
folder we have database dot EML file and
here we need to go to this IROC right
here and I'm gonna change it to my
username round here by default
PostgreSQL is installed by homebrew with
the username as the username on your
machine so I'm gonna do the same thing
right here in test and let's save it so
now let's go back to terminal and let's
run ready to be create okay nice now
ready to be migrated and ready to be
test prepare okay everything works so
let's give me a change okay so now let's
set up our spec and clip bar for our
testing needs so for that let's open gem
file and here at the bottom I'm gonna
add group development and test and here
we have our spec rails and capybara
let's save it go to terminal and run
bundle install okay nice now let's run
rails generate our spec install to
generate spec file spec helper also I
prefer to use guards to auto run tests
and background in pan file change so
let's set it up also so right here I
also gonna add two gems the first one is
guard our spec and the second one is
terminal notifier guard which makes this
pretty mac OS notifications right here
okay i'm gonna save it and a gay go to
terminal and run bundle good now let's
generate guard file so we do bundle exec
guard in it our spec okay so let's have
a look here I'm gonna open guard file
and it just watched the files and we
have here the rails example and KP
barrio features we do not use turnip so
I'm gonna remove Turner from here and
save it okay also right here I need I
want to provide command bundle exec our
specs this way tests will be run through
the bundle exact okay good so now let's
go to terminal and run bundle exec guard
okay we're ready so now let's write our
first test to make sure that everything
works fine for that let's go to spec
folder and inside of it we're gonna
create features folder and inside of it
we're gonna create file page welcome
spec dot RB okay and we need to create
this directory good first of all we you
need to require spec helper and then we
will use feature scenario DSL so we do
feature and we call it welcome page
grits user and inside of it will have a
scenario for now guest user sees welcome
message okay so first what we gonna do
we visit the root page and after that we
expect that this page to have content
let's say welcome ok let's save it and
let's go back to terminal and rerun
guard and now we have failed and you can
see here that we have this pretty
notification so we do not have route so
let's make this test green so for that
let's open route Darby file and inside
of it we're gonna create route to
welcome controller index page like this
and you can see that guard has rerun
tests and now we fell in because we have
initialized concert welcome controller
so we need to create welcome controller
so let's do this in app controllers
folder we're gonna create welcome
controller dot RB so here we have class
we call it welcome controller which
inherits from application controller
let's save it and now our test cell will
tell us when we rerun it
so guard knows about this new file it
will tell us that we need to have this
action called index so let's go back
here and let's define index action save
it and now God will tell us that you
know you we need template so let's go
back and go to views and inside of this
views we can
create folder welcome and inside of it h
index.html dot ER b we need to create
this directory and save this file so now
if you go back and rerun tests we expect
to find text welcome good so tests
actually helps us to develop application
how cool is that
welcome and now we should be green yes
we green excellent so let's give me this
change I'm gonna exit from guard and
everything and committed like r-spec and
capybara setup so next I'm going to
create it hub repository for this
project so I go to github.com into my
account and I'm going to create new
repository I will call it I rock and
that's gonna be a public repository so
just create it now all I need to do is
just copy this two lines go to terminal
and paste them and that will push go to
the github excellent now if I reload the
page on the github I will see my
repository my application with readme
file excellent we will deploy
application to Heroku and so it's a good
idea to be as close to production
environment as possible so we'll use
unicorn and for man to run server in
development first let's install Heroku
toolbelt
for that go to tool belt hero calm and
unload package for your operating system
I have already installed it now let's go
back to our project and let's open gem
file again and inside of here we'll just
uncomment this gem unicorn and again of
course we need to run bundle great now
we need to add configurations for the
unicorn so for that let's create a new
file into the can
thick folder and we call it unicorn
Darby and I'm just paste simple unicorn
configuration which just deals with
active records of disconnection and
establishing connection before and after
forking so I'm going to save it and also
we need to have a prog file for the
Foreman to run server so let's create
one so we go to the root of the
application and we're going to create
proc file and instead of it we're going
to define web bundle exact unicorn so
we're on unicorn with the port the
default port and we provide a
configuration which resides and config
unicorn Darby like this so now we need
just to go to terminal and type Foreman
which is provided by Heroku toolbelt
start and that will fire up server and
you can see that we can go to localhost
5000 so let's have a look I'm going to
open you tab and go to localhost 5000
and here we have our application which
welcomes us excellent so the last step
is to create heroic application and push
code there so for that you need of
course to register the heroic account
and when you have this tool belt to
create heroic application is very easy
you just do hiraku create it it will of
course ask you for your credentials and
when you provide them I've already done
this it will create new application so
it created salty ocean so before pushing
code to the Heroku let's prepare assets
so for that we run command rake assets
pre-compiled and let's commit this
change ok now to push to the heroic we
need to run command git push Heroku
master we add it
and of course the permission is denied
because we need to set SSH keys for our
Hiroko I'm gonna show you how to do that
first of all we need to generate Asus H
key and for that we use ssh-keygen
utility next I need to provide some
password and now I have my SSH key so
now we need to provide this idrs a pop
portion of my key to the Hiroko
so for that I just do cat user folder as
a sage id pub now I just copy this
public key and go back to Heroku and
Here I am on hero con my account page
and I scroll down to the SSH keys and
paste it right here and add this key so
now if I go back to terminal and try to
push to the hero again it will ask me
the password that I provided for this
key and I'm gonna remember it into the
keychain and now it pushes code to the
Heroku and then it will compile Ruby and
install all gems and all dependencies so
it will take some time
okay our application is deployed to
Heroku so to have a look let's go to the
browser or just around the command
Heroku open and here it is our
application on the hero server welcome
excellent okay in this screencast we set
up development testing and production
environments for our project so now we
have application which is ready to be
developed thank you very much for your
time and see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>