<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React &amp; Redux #10. User Sign Up: Flash Messages Reducer (Part 1) | Coder Coacher - Coaching Coders</title><meta content="React &amp; Redux #10. User Sign Up: Flash Messages Reducer (Part 1) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React &amp; Redux #10. User Sign Up: Flash Messages Reducer (Part 1)</b></h2><h5 class="post__date">2016-07-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0goHDxI-5wQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome another thing we want to
show to the user
after a successful sign up is welcoming
flash message and that's what we're
going to implement in this episode we'll
keep flash messages and Redux stores
global data for our application and
we'll render it if it's not empty
and of course we'll let use it to close
flash messages as well so now at last we
need to introduce our first reducer for
flash messages so let's open editor and
let's go to client index file where we
define where we create our index and now
instead of this dummy reducer we're
going to use route reducer and here
let's import it route reducer
and we're going to input it from route
reducer file that we're going to create
in a moment
okay so let's create one route reducer
Dodge yes so to create routes use so
we're going to use combine reducers
helper from redux and we expert default
combined reducers results and we pass
the object with all the reducers and it
will combine it in one state object so
we're going to call it flash messages
like this so now we need to import this
flash messages from reducers flash
messages like this so now we need to
create this flash messages reducer so
let's do this
reducers folder flash messages is and
reduce it just a simple function that
takes state and action and returns new
state so we go into expert default
function and the default state is going
to be an empty array representing the
array of message objects and action by
default is going to be an empty object
and for now is we're doing absolutely
nothing with this our reducer we just
returned state so we take state and
action and
new state so it would be nice to see our
state so let's set up and configure
redux Chrome extension first you need to
go to chrome store and install this
reductive tools extension to your chrome
and you can find the link below in the
description and after that which is
going to follow the instructions all we
need to do is go back to our index the
GS file and here instead of just
applying we're going to compose this
apply meter where with this line of code
so when we have dev tools extensions we
initialize it and we need to get this
compose from redux okay so now if we go
back to browser and reload our page and
here go to readout you can see the
beautiful extension where we can see our
state which now contains just a flash
messages which is empty but now when we
change it we can see actions that are
dispatched and state which is changed
and even diffs and all this kind of very
cool stuff okay so now that we have
reducer we need to create action creator
dispatch it from our component and then
make reducer to react to this action
that sounds complicated at first but
that's our bread and butter and
developing with redux and after a little
practice that will become your second
nature promise so let's get down to it
first let's create a new action so in
client actions I'm going to create flash
messages the GS file and inside of it
I'm going to export function set flash
message and it takes message so they're
going to be two actions spoiler alert
one for setting or edging new flash
messages let's rename it even to add
because it makes more sense we add flash
messages to our collection of flash
messages and it takes message and in
result it returns type of add flash
message and that's the constant we're
going to
in a moment and we just pass this
message object further okay so this is
our action creator classic without any
thunks or as synchronous operations so
now we need to get this ad flash message
so let's import it from a - message
types digest file so let's create one
type GS and inside of here we're going
to define our con constant add flash
message we define constant we use this
constant in our action creator so now we
have this action creator now we need to
dispatch this action from the component
so we go to our signup form and right
here on a success where we have our
direction
before doing redirection we're going to
dispatch this action so this action will
be provided by the parent component to
this component so we're going to have
these props and we called it ad flash
message and the message itself is going
to be an object with the type success
because we're going to have several type
of messages like success or error and
text and let's call it you have sign up
successfully welcome very easy now we
need to specify that our component
actually expects ad flash message like
this and now we need to pass this
function from a parent component which
is in our case signup page so we go in
here and here as well we're going we
expect to have ad flash message here and
we pass it right here at flash message
and of course we need to import it ad
flash message and we import it from
actions flash messages and the last
thing that we need to do is to pass it
to our phone component add fault
H equals ad flash message and of course
we need to deconstruct it here so we'll
have ad flash message okay so we have
action creator we we dispatch this
action from the component now we need to
teach our reducer to react to this
action so let's go back to our reducer
flash messages and now we need to
actually process this action somehow so
we do it usually with switch statement
so we switch by action type and in the
default case we just return state so I
can remove this return State from here
and the case that we want to handle
right now with add in flash message so
we have case add flash message okay so
we need to course to import it add flash
message we input from actions flash
message okay so now what we want to do
we want to return use state and that
state is going to be an array with the
state that we had before and then we add
another object to this collection with
type to be action message that type and
text to be action message dot text but
also we want to provide an ID because
we're going to delete this flash
messages from reduc store by IDs so I'm
going to add another field ID here and
I'm going to use short ID library to
generate unique ID so now I need to
import short ID from short ID and of
course I need to install it so I'm going
to install five short ID okay I got an
arrow here of course I import constant
now from the actions but from types so
yeah so now when I fix it let's go back
to browser
I'm going to reload the page and I'm
going to sign up so now that I have my
form filled I submit it and voila you
can see that adds flash message
dispatched and you can see the action
here with the type of ad flash message
and the data that is passes and then we
have the div and that just means how our
stage changed in this case we added new
element to our Flash messages and we can
see the whole state and now it has the
IDE unique ID it has type success and
you sign up successfully welcome message
excellent so the next step is to create
components to render these messages and
we'll tackle it in the next episode and
for now just let's commit so it adds
flash messages reducer that's it for
this episode and I see you in the next
one thanks for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>