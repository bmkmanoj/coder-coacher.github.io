<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build Real App with React #13: DB Seed and Animations | Coder Coacher - Coaching Coders</title><meta content="Build Real App with React #13: DB Seed and Animations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build Real App with React #13: DB Seed and Animations</b></h2><h5 class="post__date">2017-12-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9VjE0_HiurM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I actually prepared something so let's
go to terminal here and let's go to the
API code and I actually have the cat or
LS LS and here I have the seed data so
inside of the seed data I have
backgrounds I have classes and races in
JSON format so we're gonna use this and
we gonna populate data and for that we
can use the Mongoose I think it is
called Mongoose seed library so we're
gonna take it so let's go to the browser
and let's search for Mongoose seed
library okay so here is first one yeah
yeah we'll do that so as you can see
here all we need to do we need to have
the seed cedar we connect to the
database we load all the models that we
want to seed then we clear models if you
want to I want to I usually clean models
and then we populate it with the date
and the data itself should be
informative of just array of objects
with two attributes model and documents
so what I have now is actually not bad
so let's move this seed folder into here
okay so here is and you can see for
example for backgrounds I have only the
array of objects of backgrounds but now
I need to do a bit more so let's create
a new file here in seeds and I will call
it data done Jason I can use Jason yeah
Jason and that's gonna be array and
there's gonna be an array of objects and
the theme that we have there is model
and the model is say for example
background background and then we'll
have documents documents and that's
going to be an array and I'm gonna
duplicate it three have two times one
two
comments here and another one is rice
and another one is class but class is a
reserved word yeah so we'll use it like
character class okay and then after that
I just going to go here and just copy
everything and paste it here
so that's backgrounds so then like that
I hope so the same thing we go with
races so I'm just gonna go to data for
race down and the same thing goes with
oops this classes they were class that's
right
so classes know there were races
okay I it's too late for me so that's
race yeah and for classes we're going to
back to class and I'm just gonna paste
it into here okay so let's have a look
at the structure of all of this so we
have three models we need to create my
goos models for them so the first one
for example is background so very simple
each object is just have name and
description that's all that we want to
have and all we want to render to the to
the user the closest is more yeah
they're very simple as well name and
description as well but the race is a
little bit more complicated so here we
have name description and and then we
have traits and traders have name and
description as well and then some races
have sub races and this some races have
name and description and traits as well
like you can see here elves they have
sub races and high elf description and
trades of the high off here so there's
this very basic structure of our models
so we need to go to the models here and
let's create a new model let's start
with background that is and of course I
have a snippet for it
so for background we'll have name
and it's type as string and required is
true and description is just string done
so we finished with with background so
next we'll have the simplest one is
class so we'll have character class the
GS again snip it here and I'm just gonna
paste it here as well so name and
description that's all that you need to
have and the last one is going to be the
race race that GS so we have rice it's
also have name in description but then
it has traits and there's an array of
objects each of which have the name
description and then it has the
sub-races also an array and also will
have the it's an array of objects name
and description but also inside of this
will have another traits for this
particular sub race and it's also an
array object like this so three models
nice now we can use this cedar to get
data and to populate data with this
models so for that we need to create
some kind of a script so let's go back
to our seed folder here so in inside of
the seed folder yeah so we have data we
do not need to have these things here so
we can delete it but I will leave it
just for for for reference and yeah
inside of here let's create another file
and we call it CGS so this is where
we're gonna sit stuff so we're gonna
import cedar from a mongoose on goose
seed okay i need to install yarn add
mongoose
- seed
so next we need to connect to the
database and we store everything in our
environment variable but we will run
this file separate from our application
so we need to input this da length as
well so we'll have named dart and from
the length and then we'll just have this
dot and that an config config so that's
actually I think that will do so let's
let's have a look comes on the vlog and
we'll just have the process that I have
that Mongo URL I think we call it so
yeah I'm going to be URL so if it works
then it will work so we need to go to
the package that Jason and I said new
command here we'll call it seed and
there's gonna be the babel node and we
go to seed
that's CGS so now here was yarn seed and
we have monkey to be localhost al hop so
it works that's nice so now we can use
this to connect to the database so we'll
have cedar dot connect and we just use
it and then we'll use the callback
function I'm not sure whether this
library uses the promises so that's just
the throw away scrape so we'll have the
callbacks here so after we connect it to
it we want to load all the models so
we'll have cedar that and they're just
information from the documentation
basically so we'll have load models and
that's going to be take then an array of
paths to files so we'll have source
models background and another three is
rice and character oops character class
so after we loaded it we want to clear
it if it exists and then populate it so
we'll do cedar dot clear clear models
yeah
and then just the array array of our
models like background then we'll have
race and then we'll have character class
character class and when it's done we'll
have the another callback function when
it's done we want to populate it so
we'll have sitter dot populate yeah
populate models and then we need to have
some data so we can I introduced in a
second and after we've done we need to
disconnect from the database so we'll do
cedar cedar that disconnect yeah okay
something is wrong
so now let's import data from data that
Jason and the text should do it I think
let's try it out so as Runyan said
successfully create a document of race
model data to to tune so you did
something let's have a look in the robot
three T I'm just gonna dry it here so as
you can see here we have the backgrounds
we have the character classes and we
have prices and all of this stuff is
actually added from our file and for
each trait for example also object IDs
generated so it worked
nice so now we have races that we can
pull from the server and deliver to the
user to the client that's nice so that's
just the throwaway script basically what
we did we just created this data JSON
file with all the data then we connected
to the database we loaded models that we
want to see data into we clear
everything so this way we can always
start from scratch but keep in mind that
IDs will change so if you have the IDS
it will you know destroy all the data
and yeah and then we just populate this
models with data next
so let's commit this particular change
so what we did here is we created seed
data for races backgrounds
and classes okay Q so let's go back to
react stuff so in react we need to make
requests to the server to get this data
about races so we can render them here
but before we do that let's get rid of
this disabled stuff and let's just try
to have the different steps if you go
back to react so I'm gonna just remove
this disabled for now just need to
remember that I wanted it to be this way
and now what I want to do is every time
when user clicks on it on this button we
change the state we change the state to
step so on click we'll have this state
this set state and we'll have step equal
to one and now I'm just gonna use it
everywhere so there's gonna be step two
that's gonna be step 3
okay step 4
and step 5 let's format it nice so now
underneath the navbar we'll have the
another deep and inside of it we'll have
the condition we'll have so if this
state that step equals to 1 then we're
gonna render something like teeth and
inside of this leaf h2 and here we'll
have step 1 and I'm gonna just copy it 5
times 2 3
for exciting right five okay so let's
have a look
step one step two step three step four
and we need to copy the add active stuff
so here we have the class name I'm just
going to copy it and just replace
everything with step two step three step
four and Step five
so now yeah we have step and we have we
changing the active state of each of
this stuff that's nice another thing
that I want to do is you know this
animation effect that when we change it
we just fade in your data this way just
the way for me to procrastinate because
making this request to the API then just
handle all this data I don't want to do
that I want to do something fun so yeah
let's do the animation stuff
why not so how do we do that well
usually I use the glamorous library for
a lot of stuff so when I need to add
some CSS into my react projects I just
pull up the glamorous so let's install
yarn add glamour and glamorous so
glamorous depends depends on glamour and
now we can define new new component
styles with animations with keyframes so
for that we need to import and we need
to import sometimes this code just
forgets how to do the outer complete
stuff nice okay so we need to have
everything as glamour object from
glamour and then we'll import glamorous
from glamorous so now we can define new
function then just again straight from
the documentation stuff so we can define
Const fade in fade in for example and
that's going to be a function that takes
props but we do not need to have any
props in this particular case and here
we define the style and the style itself
is going to be glamour that CSS that
keyframes so the keyframes we just pass
in an object here and we define the
zero-percent so on 0% what I want to
have is I want to have pass a T to equal
0 and when we have 100% I want to
opacity to equal 1 so basically when we
have 0 it's invisible when we have 100%
it's it's fully visible and it is a
keyframe so it will animate everything
between these two points 0 and 100% so
now from here I'm just return the object
animation animation that equals to this
particular style style and the duration
of this animation so I will make it 1
second so that's the constant that we
can use an hour and you for example
faded fade in deep so let's define you
fade in Dave component and that's gonna
be glamorous component Dave and here I
will just pass down this fade-in
animation fade in stuff so basically
what is this fade in
it's just an object with set up
animation on it very simple ok so now we
can use this fade and if instead of the
divs right here so let's just have all
of these divs and I'm just gonna replace
it is with fading let's just do fade in
Dave because that's the
that was good and for some reason I
removed Eve here so let's back it here
and fadeev of course I need to make it
capital F because that's the component
so now you can see it fighting so and
when we click it fights in it slides in
it fights in cool stuff okay that's good
we haven't solved this problem it wasn't
even on the horizon another thing that
you can do it like this so they're just
the easiest way to do that all we do is
just use and keep CSS keyframes right we
do not use any kind of other libraries
but there is a library react animations
from formidable labs
I think react animations yeah from hero
coup they have its own hero cause but
animations they have it react animations
formidable apps yeah formidable labs
they have this library react animations
and basically what it does it has a lot
of this building animations CSS
animations stuff so you can just input
any kind of animation here and use it
where the glamour so let's do this as
well and I'm working right now on the
animations chapter for my premium course
as well so I know I'm very sorry for my
premium purchases that it taking so long
but they are coming animations and
testing these chapters are in the works
and I'm doing my best to to finish them
so here let's do yarn add and let's just
install this react animations and now
here we'll just import the animation
that we want so for example we want to
maybe slide in
let's try sliding from react animations
right do we have slide in slide in
sliding down the slide and left let's go
with slide in left animation so now we
have this slide and animation but we
need to
pass it down to the glamorous stuff here
two key frames so what we can do we can
just do like one liner like we can have
animation and we can specify that we
want to have one second animation and
the animation itself will be the glamour
glamour dot CSS keyframes and we just
pass down slide in left inside of it and
I can get rid of this stuff everything
this it slides in how cool is that so
yeah very simple for very simple
animations so now you can use this fade
in d if you can actually define it
somewhere else and maybe we will
actually extract it later in some other
d fright now just I don't know why we
doing this but I just thought why not
yeah but let's get back to fade in I
like it much better fade in and we're
gonna use fade in here as well fade in
and here we go nice so now the time has
come to actually fetch data from the
server and handle our form but you know
what I actually need to go to sleep it's
yeah it's 2:00 a.m. right now so we will
handle it in the next coding session
where we actually focus on this
particular form and I will plan it a
little better and yeah we have
everything that we need we have the
foundation to go on okay so thank you
very much for time if you liked this
episode please hit the like button
subscribe to this channel share it with
your friends if you want to support my
work you can donate by paypal or will
become a patron or you can go to the
jays full Starcom and purchase my course
also all the links in the description
below thank you very much for time and
have a great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>