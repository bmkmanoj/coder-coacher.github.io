<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build Real App with React #12: New Character Page | Coder Coacher - Coaching Coders</title><meta content="Build Real App with React #12: New Character Page - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Build Real App with React #12: New Character Page</b></h2><h5 class="post__date">2017-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nvNnPUFkq8E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome back to the series where
we build real web application with react
Redux and OGS so in this part we start
on developing the actual feature for our
application so if we go back to our
Trello board here is user creates new
character so let's drag it into the
progress bar and here actually I get
wise a little bit so as you can see here
I need I needed to create a mock-up and
I actually created it so I have this
very beautiful hand-drawn mock-up of two
pages so and basically can see here I
hope that what I want to achieve so this
particular stuff here is when we go into
the new character page we want to have
this five steps form and form will be
displayed here and maybe on the right
we'll have the summary of the character
that we are creating maybe I'm not sure
yet about the UI because I haven't built
it yet also another thing is we need to
have races backgrounds and classes so
here I have four steps but actually I
redid it when I thought about the forms
and I have will have five steps in this
form but yeah we need to have races
backgrounds and classes on the database
on our server so there's another thing
that we need to do so yeah quite a
challenge so I think that what we're
gonna do today we will not be able to
finish it today but what we are going to
do is we're gonna create page four for
this form then we're gonna create this
tabs for steps also we need to populate
populate
date database with data and maybe make
the request and maybe you will draft the
first step okay so this is the basic
plan we'll see how it goes
okay so let's create here the new
navigation link to the new route we call
its characters so basically what we want
to have is characters page and on the on
this characters page actually
we'll need also to have characters page
and on this page we'll have the empty
collection of characters okay so this is
the first thing
then when we'll have characters we'll
think about how to design this
characters list stuff so that's what we
going to do first okay so let's go back
to our editor okay so where do we start
so we're gonna start with the top
navigation and here after the dashboard
stuff nav alene nav item so I'm gonna
just duplicate the stuff there's gonna
be routing of link it's not active right
now so there's gonna be characters all
right terse and there's gonna be my
characters so message for nav characters
so now we have my characters we can go
there nothing changes
good but you can see that act active
classes actually work which is a good
thing so now we need to define this
route I think we have our routes an app
yeah we have guest routes here and we
have the dashboard here so let's just
copy and paste it and here is gonna be
characters and that's gonna be a pair of
dispatch so now we need to input this
characters page so we're going back here
and we'll import Curtis page from
components pages characters page so now
we need to create one so we go to pages
and create character characters that is
for now there's gonna be a functional
component I think we do not need to have
much we will have the empty collection
so maybe we can do it like this right
away characters and here yeah we need to
connect it that's for sure because we're
gonna get data from the redux about the
character so we're gonna have map state
two props I'm not sure for the dispatch
here so let's create map step two props
and it's gonna be characters and this
time we going to use selection so we'll
have the character selection correct
there's selector and it takes state okay
so now we have bits let's also define
our prop types for this page so there's
a character's characters and that's an
array array of objects basically and we
need two inputs prototypes huge so now
here will will have something here in a
moment but for now we need to have this
character selector as well and for that
we need to have reducer and all the
stuff so let's go to route reducer and
here let's define new reducer characters
characters and let's just duplicate this
stuff characters now we need to go to
reduces folder and we create characters
yes
that's the reducer and the reducer also
will be the hash right and that's that's
actually a Rob that's why I want to use
selectors right away because usually
when we deal with collections in react
components we expect to work with arrays
but here an hour reducer we have objects
so we could use objects and then in all
our components we'll use something like
lodash to map through this objects but
it's better to have the I think it's
better to have the selector so selectors
I personally define them right here in
the reducer itself
is not a good idea maybe we should do it
in separate file but just tell me what
you think about it maybe are you can
influence my opinion on that but for now
we're gonna have all our selectors that
are connected to the particular reducer
in here and then maybe the selectors
that combines different entities into
one maybe there will be separate into
another stuff well think about it
okay so we define constant and the first
selector is going to be just the
selector that gets the hash so we're
gonna have characters hash selector so
the whole thing is is a function to take
State and as the result it returns state
dot characters so and does nothing with
it and the character selector itself is
going to be the create create selector
and the first argument of it it will be
the characters hash selector and the
last is the function that is actual
selector so it takes the hash and it
returns back the object dot values of
this hash so now we need to have this
create so like we input this create
selector now I'm typing today my typing
is terrible today from reselect okay so
I'm not sure whether we installed
reselect or not so let's just add
reselect very select all so I need to
export this stuff and maybe this as well
okay I cleared the cache between the
sessions in my break so that's why it
takes so long to actually set it up okay
so we have reducer and we have two
selectors and one just very simple
selector just takes the hash and returns
back the array and then we expect them
we just passed this array to our
characters page so let's go back here
Kendra's of characters page in app
component okay I see the typo is here
the type is upon us
okay so reselect is installed it's good
camp or comp own and nets okay Mac stop
doing this
so character selector is now defined in
characters page so if you go to
character's page character selector
actually isn't defined yeah I can see
that
so character selector we define it we
take it from reducer reducers characters
so now okay good so now in this state we
have the characters which is an empty
object and if we go to the react and
let's search for characters page and do
to do this there's the characters page
and characters as you can see is an
empty array nice now that we have it we
can go to the characters page we we are
in the characters page here and we can
display different messages depending on
the II do we have any kind of characters
so we'll have live here and let's just
add the very simple stuff so if
characters Delta line that length equals
0 then we just display the deep with
class alert alert info and inside of it
we just have you have you have no
character characters yet how about
creating one and yeah I'm gonna just
enclose it in another div div here and
underneath it will have the button so we
have button button primary
prime Marie and we'll have the create
new character okay
so you have no characters yet how about
creating one nice also this thing here I
wanted to make to be large so I'm gonna
just add it here the button LG large and
also I think that class class name to be
the text center good okay so right in
your face right so this is actually not
a button it's gonna be the characters
slash new or new character it actually
doesn't matter so let's change this
button to link link and we set it to
what's a characters so we could do
something like new character right and
that's totally fine
oh I'm just need to import link link
from react rather than and that's sort
of fun but what happens here when I
click on this create a new character pay
attention to this my character stuff
then he becomes an active so that's not
what I really want I want it to be
active in this particular case while
these routes are not nested per se but
just for this kind of stuff I would make
it characters slash near flash near and
this way if I go back here in characters
and click I'm still active in my
characters which makes more sense okay
so now we need to create route for it so
let's go to app component and down here
user route and we'll have the character
slash new exact and there's gonna be the
new character page
so let's do it like this new character
Paige you character Paige save it go to
pages new character age - yes and this
page will have state so we're gonna have
both components always define state to
get rid of this yes winter okay so
that's the new character page so now
we're ready to actually do something
right according to this model that I
have so we will have this five steps but
let's think about the structure so we
have these five steps we have forms so
we need to have state to switch between
this the steps and we need actual
information about the character so which
we will gather during this process okay
so here I can do like step and by
default it's 1 so we start on the first
step and actually there are a lot of
thing that we need to think about and to
decide so for example we have the form
and when user feels part of it so for
example he's in step 4 and then he
navigates somewhere else like in
dashboard on all my characters and when
he comes back what do we want to happen
do we want to store this information so
when user comes back it is there well we
just you know toss it away or even when
user reload the page what's happened
then if you're Lowe's do we want to
store it
do we want to persist it so these are
the question that you need to ask
yourself and depending on the answers
we'll use different stuff if we
disregard we'll just do what we did all
the time we just have the local state
and that's it if we want to cache it we
need to have we can use Redux and we can
store the form data into the in the
relaxed state and if we want assistance
we can persist in the database or we can
persist just in local storage like
services data and then
get it back right so everything depends
on what you want to achieve what are the
requirements so we'll start very simple
and then I think we will implement the
occasion okay so now we have this step
so there they're gonna be five steps in
the form and here we'll have our warm
for now I'm not going to split it into
separate components I just want to get
the idea
because I have no idea what I'm gonna do
right now so first I want to have this
steps so let's do this first okay so
inside of this Dave will have navigation
and in bootstrap for we have nav nav
Peale's because I want to be you know
like pills basically and as bootstrap
for uses the flights box we can have nav
justified justified so it will take the
whole thing and of course I need to
place this negation somewhere but go do
it out of its later I think so now we
have this navigation and inside of this
nav we'll have just for now links or
buttons let's do let's go with buttons
so we'll have button with class name nav
item vitam and if we want this body to
be active we will have active class on
it just for demonstration purposes
inside of this button I will have two
things I think I will have the header
and some kind of description so mm-hmm
let's see page four and header will be
step one and then in PE tag will have
choose race so right okay so what's the
save it ends have a look what do you
have okay okay so we have step that's
good active is not what I expected it to
be so we have nav nav appeals and nav
justified that worked
now vitam and have I think I never
linked something nav link yeah yeah no
blink so yeah there's good good so let's
let's do it 4 times 1 2 3 4 and for the
second step we'll have the class just
class for the third step we'll have
background background for the fourth
will have faction and for the fifth will
have name okay here we go
all of them are active of course not but
we're going to delete all of this active
stuff because they will be depending on
our step so what we can do here we can
add yeah we can enclose it in to
interpolation string here yeah and color
brackets and here we'll just add that
each step so this state step equals one
we can return active otherwise just and
I'm just string okay good so now we have
step this step is active nice so we want
to to switch between the steps another
thing that I want to do is another kind
of logic here is that the following
steps are not enabled until the first
one is valid so these steps should be
all disabled so for now I'm just gonna
do it for all buttons and we'll you see
how this form is quite complex discipled
okay so now here when we have step one
we want to display races are the list of
races and when you use a Cleveland one
race we want to display right at the
description and when you use a clicks
selects one of the one of the races the
next button appears and so this way you
can click on this button and go to the
step two and this step one will be
I want to make it green for example so
there are a lot of this kind of a small
logic that we're gonna just come up with
the solutions as we go and then we'll
try to maybe reflect the codes and you
know remedy this mess that we're gonna
create in the on the long run okay so
but now we need to have data so let's I
think let's step out from the react
stuff and let's let's create data on the
server because we need to have rises to
work with it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>