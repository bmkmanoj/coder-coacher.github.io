<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ember in Action #09.  Client-side Form Validation | Coder Coacher - Coaching Coders</title><meta content="Ember in Action #09.  Client-side Form Validation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ember in Action #09.  Client-side Form Validation</b></h2><h5 class="post__date">2015-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dys4UOk5pCo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to Ambur and action
series episode 9 client-side form
validation in this episode we'll
implement simple client-side form
validation from scratch so here is our
plan we're going to fix new book route
to use
Amba data instead of a plain JavaScript
object that we use now then will
validate books title and we import
validator NPM package into our ember
application and we'll use it to run our
ability shion's so let's get started
first of all let's use ember data in all
routes if we go to books new dot GS
route you can see here that I just
returned simple JavaScript object that
made sense for us then but now it's
better to use ember data everywhere or
that will give us some pain in the
future so instead of this line here
let's return this dot store that create
record so we just create book record in
our store but now if we go to browser
and we look into our books and we click
on add new book you can see that right
away we have an empty field here and it
is bound to the title here so maybe
that's not what I want to see good news
it's very easy to fix we need to go to
books list that HB s file and here we
need to add another if condition so
we'll use unless book is new then we
have this link to this book and let's
close it so this way if book is not
saved is not synched with server it is
considered as new and it will not appear
in books list so let's have a look now
as you can see we are on a new book and
we do not have this empty thing here
excellent but now if we try to create a
new book we'll have an error and you can
see here it does not implement amber
copyable let's have a look so we go to
routes books
DGS and let's scroll down to create book
right here and you can see that here we
create
record but record is already created all
we need to do is to save it so we can
remove all of this and just to use book
dot safe let's go back to browser and
let's try to create new book again ok
now we're working nice so let's start
working on validations so first we're
going to define errors on our component
we have the book form component and
inside of it we'll have errors so let's
define it right here some kind of errors
and we're going to use data store errors
object and let's create one like this so
for that of course we need to import D s
from Amba data I need to tell something
there are several ways to approach
validation one way is to validate model
itself another validate form so in this
following episodes will validate form so
that's why we place our is in the
component itself so now we have this
errors we need to validate form and
we'll do it in the submit when we click
on submit first we want to validate so
we're on
if this validate and this validation
will return true or false then if it
returns true we send action for saving
so now we need to define this validate
so let's define validate function and
inside of this function first we want to
reset our errors so we do this set
errors to be again these errors that
create next we need to implement our
validation so we do it something like
this if this get book title to equal
empty strain then these get errors dot
add so this add method is the method of
the DS errors so we can add errors we
specify the fields of the error in our
case that's going to be title and then
the message in our case is going to be
can't be empty and in the end we need to
return through a fall from our
validation so we return this guitars is
empty again this property is provided to
by Diaz errors so now if we go back to
browser and let's try to create new book
without any title we still can do that
okay that means that we need to add
another clause here let's get book title
to equal undefined let's try it again
let's try to create a new book without
new title and now we can't proceed
excellent our validation works but we do
not see any validation messages so let's
open book form HBS file and inside of
here we'll add some classes so first of
all we'll have class has error and we
have this class if errors title is not
empty if you go back to browser and try
to submit this page you see that our
styling has been changed great so now we
need inline error message let's do this
so right here we define each errors
title as error and if it's empty just
we'll be ignored
and let's close it and inside of it will
define span that help block and inside
of this whole block we just ran the
error dot message so now if we go back
to browser and let's try to add a book
you can see it can't be empty nice we
have client-side validation okay it
works so let's go back to our component
and you can see that we have very simple
validate methods and here we do
everything manually so let's say now
that we want to validate that this title
is an invalid email format I know it
doesn't make any sense but let's imagine
that we need something like that for
example sake
well we need now to check against reg X
of email and that sounds like a lot of
work why would we do that if node has
excellent package validator so let's
just use it in our ember application is
it right well not quite
we need to install ember browserify to
be able to import any NPM package so
let's do this so we go to terminal
and rerun NPM install save dev Amba
browserify ok done now let's install
with just simple safe validator ok now
we're ready so with these things
installed we can import validator into
our component so here at the top you're
going to import validator from NPM
callin validator so now we have this
class validator that we can use in our
validation logic so instead of using all
of this stuff here we can do validator
is now and then the value so this get
booked that title and let's our email
thing
so if valid data that is email please
get book that title so we need to add
not email so then these get errors add
title and the message not valid email
let's have a look so now if we go to add
new book and try to add one you can see
that it can be empty and it's not valid
email so if we do something and try to
gain not valid email and of course it
will specify valid email then we'll have
some weird book ok so it works in this
way we can use validator with all its
validations right inside our amber
application so let's remove this
nonsense instead of it will have
validator is now for book author as well
and here we'll have author and again it
can't be empty so now go back to our
form book template and let's add class
and errors message like this so we did
absolutely the same just use author
instead of title so let's have a look so
now if you try to submit this form will
have can be empty validation errors so
excellent now we have very simple
client-side validation and we learned
how to use Diaz error class and how to
import validate NPM package into our
Ember
application in the next episode we'll
see how to add server-side validation to
the mix so if you liked this episode
please subscribe to my youtube channel
like the video and share it with your
friends or follow me on Twitter if you
want to ask any questions simply say
hello go to my blog Ramsey dotnet thank
you very much for your time and have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>