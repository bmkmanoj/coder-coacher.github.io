<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ember in Action #06. Update to Ember CLI 1.13 | Coder Coacher - Coaching Coders</title><meta content="Ember in Action #06. Update to Ember CLI 1.13 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Rem-Zolotykh/">Rem Zolotykh</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ember in Action #06. Update to Ember CLI 1.13</b></h2><h5 class="post__date">2015-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CbJWrJ2l4is" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi and welcome to ember and action
series episode 6 ember CLI update so
good news everyone ember CLI was updated
a couple of days ago to version 1.2 teen
how is that you ask it was only 027
before and now in one go updated to 1.2
teen nonsense well from now on all ember
related packages will have version
numbers in sync so this means that we
have amber MSL I &amp;amp; M bday diversions one
point 13 that's really cool and pretty
convenient another excellent news is
next temporal is will be 2 point 0
exciting times right so in this episode
we'll update everything to one point 13
version then will migrate to Jason API
will set amber data to use JSON API
adapter and we'll change our fake server
to respond with proper Jason API so
let's get started update process is very
straightforward we just follow
instructions okay first of all we need
to uninstall globally and bacilli so
after that let's clean cash for NPM and
full power and now we're ready to
install globally new version of ember
CLI excellent and personalized is
installed so now we need to update our
project so for that first of all we need
to remove node modules bower components
dist and tamp folders then we need to
install ember CLI locally for this
project and we do it with NPM install
dash dash save def ember CLI and we even
can specify the version number which is
one point 13.1 okay good now we need to
install NPM packages good and power
packages so the last thing very
important one is to run Amber in it
command and it will ask us do we want to
overwrite router now we don't want to do
that and application HBS also now but
borrow Jason let's see the
of this file you can see that here we
update amber we update amber data queue
units resolver but also we got rid of
bootstrap so just notice out that we
need to re add bootstrap back so yes the
package.json also let's have a loop and
you can see that here we also update
stuff but we get rid of expressed glob
Morgan and body parts are right here at
the top we use these packages for our
mock server so we need to reinstall them
okay note it yes JS hinder see also yes
helpers start application yes we didn't
do any testing so we save there ok so
now let's install our packages we
install Bauer save bootstrap back and we
install NPM slave def Express body
parser Morgan and glob okay done let's
have a look in the browser let's run our
server and here we go our application
you go to book so we can see that it
works actually we can see the hamlet we
can see one floor work its nest we can
add new book so it works but it's ugly
and also in console we see that we use
an amber one point 13 version and data
one point 13 as well nice so why do we
not have put strips tile in here so that
happens because now if we go here into
the file tree you can see that we have
embassy Li built file this is the new
file and this file replaces Brock file
so let's have a look into here okay and
right here I will open the Brock file
just to see the difference and you can
see that now we export the function and
then at the end of this function we
return app to tree so basically all we
need to do is to copy and paste this
from here to here okay let's save it
let's restart server and now you go back
to browser you can see that house
styling is back excellent okay now
starting from version 2.2 member data's
default adapter is going to be Jason API
adapter and as we are not very far in
our development and don't have any
server yet let's use this JSON IP ice
pack you can read about it in JSON API
dot org site and just view the
specification about it but basically
what we need to know now is that we need
to respond with objects inside of it
will have data and inside of it the two
required fields are type and ID of the
resource and then attributes object with
the data about this resource so what we
have now is just a collection of books
it's an array of objects and we need to
have this so let's do this for that
let's open our adapters application JS
file and here instead of this rest
adapter will have JSON API adapt let's
save it go back to browser and now you
can see that we have nothing let's go to
books and you see that we do not have
this list here anymore so a network tab
we can see that everything works we have
no errors whatsoever but now response is
not right and amber data do not
understand it so let's fix it let's go
to marks books digest file and here we
have this collection of books we'll
leave it at that it just as we return
some data from the database but here
we'll make some adjustments so first of
all this one is not correct what we want
to do is we want to return data and
let's define this data right here so
that's going to be a collection so we
return a collection of objects and each
of this collection will have type ID and
a true
subject so let's eat rate through books
for H I'll have item here and we're
going to push objects to data and inside
of this object will have type which is
books and that's the pluralized resource
of the Amba data in mb data we have
booked so the type of the resource is
books then we have ID and there's going
to be item ID and this idea should be a
string so let's cast it to string and
then we have attributes object and here
we'll have title which is item title
description which is item description
and author which is item author also
let's be very cool and let's set
content-type header to appropriate one
that's application / v + d dot API +
Jason and as the header that we must
specify for the JSON API so let's save
it go back to browser and now our list
is back how cool is that it works so
late in the series will implement real
server and then we'll practice with JSON
API for real now let's try to add new
book spoiler alert there's going to be
disappointed in add it and of course we
fail let's look into this request we
made and inheritors right at the bottom
you can see that amba data actually
sends JSON API request which is cool but
also we have an error here attributes
are empty where this old valuable data
that I entered hmm so we need to fix
this for that let's go to component book
form da GS and here instead of simple
both we need to use getter so we'll use
get book like this and let's remove this
so now if we go back and make another
cool request will see here the bottom
that attributes now are filled with
proper data excellent so we are making
the request to the server so now we need
to fix the server to get this data and
save this data because right now I DS
now nothing happens and we've got two
errors here so again hello let's go back
to mocks and go a little bit below to
the post request so let's redo this
round I'm going to remove everything
from here so in the end we need to
return data object and as we return only
one resource we do not need to return
the collection and just the object will
have type here as usual books and ID
which will have new ID and attribute
which going to be new book attributes
okay so now we need to define these
things so first let's define new book
and that's going to be attributes of the
new book that were provided in
attributes in our request so to get them
we use request body data attributes now
we need to calculate new ID so we do new
ID equals box length nothing changed
here plus one and after that let's push
object to books there's going to be
title the new book title description
with new book description author with
new book author and ID with new ID so we
get data from attributes we calculate
new ID then we push books to our
collection in the server in real world
it would be database and then we send
back data object with ID and with
attributes and of course we need to copy
this line from here and paste it here
let's go to browser and let's try it out
and we have an error
we can treat property attributes of
undefined that means that here these
data is undefined and that means that
our body parser is not working why is
that well if you go back here and let's
look in the headers here you can see
that request header actually has content
type as application JSON API and that's
why body parser does nothing about it
because it only parses application Jason
so to fix this we need to go to our
server index file dgs and inside of here
we need to specify option type which is
application / vnd dot a p i+ Jason let's
save it let's go back to browser and
let's try it again and yes we did it as
you can see here we made the post
request and the review is the data
object with attributes and with new ID
with types of books and we have ID here
so everything works as it should so
that's all for this episode one painful
point is updating without task is quite
ex care experience of course our
application is extremely small yet but
even on this small scale i was a little
bit uncomfortable and we'll dive into
tests and light in the series when we
got our basics if you liked this episode
please subscribe to my youtube channel
like the video and share it with your
friends or follow me on twitter if you
want to ask any question or simply say
hello go to my blog rams allah technet
thank you very much for time and have a
great day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>