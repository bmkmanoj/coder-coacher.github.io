<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flexbox + JavaScript Image Gallery — #JavaScript30 5/30 | Coder Coacher - Coaching Coders</title><meta content="Flexbox + JavaScript Image Gallery — #JavaScript30 5/30 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Flexbox + JavaScript Image Gallery — #JavaScript30 5/30</b></h2><h5 class="post__date">2017-01-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9eif30i26jg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we are going to be making this
super snazzy what I like to call a flex
gallery and I really like this one
because it doesn't include all that much
JavaScript and it leans heavily upon CSS
for flex box for transitions and for
some events that CSS is going to admit
to us so this is really cool we're going
to lean on CSS quite a bit let's take a
look at what we're starting with here
we've got this thing I like to call flex
panels and if we scroll down to the HTML
we've got a div with a class of panels
in each of these panels it's going to be
called a panel singular and then inside
of each of those panels is going to be
hey let's dance
give take receive and these are going to
be words that one clicked they're going
to grow in size as well as they're going
to fall from the top and come up from
the bottom so what I wanted to start to
do is I've given you some CSS if we open
this up in the browser now you see we
start with some CSS it looks but it
doesn't do anything and it actually is
not in the right place so I wanted to
write the actual important part which is
a flexbox piece view as well go down to
our or up to our CSS and first of all we
need to get our panels going side by
side so if we go to the panel sieve you
do display flex on them and by the way
if you are new to flexbox I have an
entire series at flexbox IO that you can
visit and that will guide you through
similar to this one as well
and when I make those flex they're going
to go side by side by side by side and
just stick them all there next what we
need to do is we need to go to each of
the individual panels and tell them okay
well this is as much room as the Flex
box
flex child needs it's as big as the
words are so this one's the biggest
because it has the biggest word
experience but when we want to tell it
to do is that we've got all this extra
space here why don't you split amongst
yourselves children so we go to our
panel and we simply just say flex one
and what that means is that each of them
are going to evenly distribute the extra
space among each other and that one
might not make sense but we're
come back to that in just a second so
believe me there we go okay so flex of
one will make them evenly distribute the
extra space in between them so I'm
pretty happy with that now let's let's
move on to each of the panels and get
them visually looking like this where
the items are going to be centered in
thirds so we're going to go to our our
panel here and first of all I'll just
put a border:1px solid red on it just so
that we can see what's going on here
visually I think this will really help
us so what's going on here we've got
each of these panels oh we don't want to
put the order on each of the panels
sorry we want to put the border on each
of these flex items or the flex children
which is here panel angle brackets star
put a border there just so we can see
what's going on here okay so these are
our three items now I want them to again
I have all of extra work vertically how
do I get them to go up and down so we'll
go back to our panel here and we will
say justify content center Zack get us I
guess the centered left to right we want
to say a line items center which still
won't get as much but we also need to
make this panel here display flex and
this is a really good example of when
you will nest flex box because let's
let's take a pause for a second what is
the Flex container here panels what is
the Flex item and null but we're also
going to make panel a Flex container in
element in CSS can be both a flex item
which it is right here as well as a flex
container which we are going to do by
making it display flex so by doing that
we stack them left to right because
that's the default of flex box we want
to change that and we're going to say
Flex Direction column and that will
vertically Center them in the middle but
then I also want each of these items
one third and that's just exactly what
we've done so scroll down to our flex
children our flex items and we've
already put a border on it and here
we're going to flex 1-0 auto and that
will give us these here and we want to
display flex on that as well which
doesn't do too much except bring the
text to the left but if we do justify
content Center and a line items Center
now we've got everything perfectly
centered this is just a lot of flex box
nested and nested and method which
allows us to get this really cool layout
okay so looking pretty good to me so far
now what I want to do is I want to hide
give all the way up and I want to take
you can and today and receive and hide
them all the way down so we're going to
use is translate Y for that let's go
down right here with a dot panel angle
bracket star first child it's going to
be trans form translate Y negative 100%
so each of the first children are going
to be negative one hundred percent okay
so that puts them off screen and then
the last child is going to be one
hundred percent the idea that we're
going for here is that when you take off
this translate Y it's going animate
itself see what's doing it's going to
transition itself in and out in and out
in and out and the way that that's going
to work is that when the panel has a
class of open active we are going to
translate y 0 and when the panel of the
class is open active we are going to
take the last child and translate y 0 as
well so what that means is that if we
take any one of these panels and add a
class of open active it will animate
itself in
take it off and they go away so you can
take the border away if you if you sort
of get it now but where the elements are
on the page I think we've got a pretty
good idea of visualizing it so that is
what we've got so far the last bit of
the puzzle is that when these panels
also have a class of open what's going
to happen is that it needs to get bigger
you see that the font size already
changed but when the panel has a class
of open scroll down to line 85 or so we
want to give it a flex of 5 and now what
does that mean well earlier we said a
flex of 1 means that each of them are
going to evenly distribute the extra
room so by giving it a flex of 5 what
that means is that when it has a class
of open it's going to take five times
the amount of extra room as the rest of
them because they are regular flex of
one and now we are having a flex of five
that means it should just grow a little
bit bigger so if I go to one of my
panels here give it a class of opened
you see that it will animate itself in
take two the way and it made itself out
right I keep saying animate I mean
transition and why that's happening is
because of this the panel has a
transition in which we are transitioning
the font size over 0.7 seconds and we're
using these cubic Bezier that we've done
in previous classes and what that does
is allows us to get this cool like open
and close where it goes a little bit
bigger and a little bit smaller than it
should and snaps back into place now now
that we've got all of the CSS in place
we really just have to write a little
bit of JavaScript so that when we click
them it will do that adding and removing
of classes so first we want to grab all
the panels make sure that's query
selector all not query selector and that
will give us a node list of all the
different ones that we have and then we
want to write a function that's going to
toggle that class of on or open function
toggle open this class list dot toggle
open and then on each of the panels
we're going to listen for a click
good so we're going to take each of the
panels loop over each one of them listen
for a click on each one of them and then
run the toggle functions when it is run
Optima have people ask me why isn't it
toggle open like that because that would
run on page load what we want to do here
is we don't want to run the function we
just want to give it reference to the
function and say hey when someone clicks
me make sure that you go find this
function and run it so let's see we're
at right now oh we got a bit of an error
here missing a parenthesis on line 133
got it doesn't seem to be working let's
debug this real quick on the log hello
there we go hello hello hello why is it
not toggling the class of open oh I see
the error here it's because we are
listening on each individual panel
singular not all the panel's so now when
I click it it's going to add a class of
open to that specific panel and remove
that class add that class and remove
that class now the second step is that
once this has finished transitioning
itself open that's one I want to bring
in the the word from the top and bring
in the word from the bottom so in a
previous exercise what we did is we
listened for the transition end event
which is exactly what we're going to do
here go down to your panels and just
duplicate that line we're going to
listen for the transition and event and
we're going to toggle class of open
active with a function called toggle
active let's go up here and write that
and we'll say Z normally what we would
do is we say this class list dot toggle
open active however there is going to be
multiple transition end events being
fired and I'll show you how to figure
that out we pass the event to this
common set up for now and console.log e
dot property name let's see what we got
here
so I'm going to click on one of these
which is going to trigger a transition
when that transition is finished it's
going to tell us what transitioned Oh
font size and flex grow so two things
are being transitioned here why because
if you look at our CSS when the panel is
open we are transitioning the Flex and
the font size both of those things are
getting bigger when the class is open
and really we only care about the Flex
grow here so what we can do is the same
if a dot property name and normally we
would say Flex grow however I did find
some bugs in Safari where in Safari it's
just flex and in the rest of the
browsers it's flex grow so even though
if we if you scroll up here we have
explicitly stated that we are working
with Flex here some of the browsers tell
us flex grow some of them tell us it's
flex so what we need to do is just cover
both of our bases and rather than
checking if it's explicitly flex grow
we'll see if it includes the word flex
and if that is true then we will toggle
let's cause of open active so again
what's happening here we are listening
for a click on each panel when someone
clicks we're going to open it that's
going to then in turn trigger a CSS open
and when that finishes the second one
transition end will fire and that's when
we're going to toggle open active and
then it will just go is the other way
when you click it off as well so here we
go open it up and they animate itself in
from the sky and down from the bottom
and then you close it up they open
themselves up so this is pretty cool
when you open up multiple what I really
like about this is you do not have to
specify a width for this specific
gallery because if each of them have a
flex of five they will simply each take
a little bit less of the extra room if
one of them it's going to take a lot
more hopefully you like that I'll see
you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>