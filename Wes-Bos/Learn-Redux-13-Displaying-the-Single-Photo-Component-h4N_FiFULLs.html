<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Redux #13 — Displaying the Single Photo Component | Coder Coacher - Coaching Coders</title><meta content="Learn Redux #13 — Displaying the Single Photo Component - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Learn Redux #13 — Displaying the Single Photo Component</b></h2><h5 class="post__date">2016-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/h4N_FiFULLs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now we need to create this single layout
view we've been spending all of our time
on the photo grid here and it's actually
looking pretty good but when you click
through to one of the photos we just see
I'm the single and where does that
happen well that happens in our single
component so let's go and create this
layout right now so we've already
imported react we are going to need and
reuse the photo component right because
the everything is pretty much the same
we've got a photo the caption and the
two buttons the only addition here is
that we have this comments layout right
here so that doesn't mean that we should
redo all of this work we can just reuse
this photo component that's really at
the core of react is the reusability of
these components so let's go and import
photo and we're also going to import
comments but we haven't created that
component just yet so I'm going to
import comments I'm just gonna leave a
comment there so you remember to do it
then we go down to this render function
right here and before we actually return
it there's a couple things that we need
we need the index of the post and that
will also happen is get us the post so
we need the actual post itself in order
to pass it to the photo as well as we
need the index of the post so that our
like buttons and everything is going to
work so how do we get those well I'm
going to say Const I equals we have this
stop Rob stop posts because we have all
of that available to us and we can use
the dot find index if you've never used
that before it's fairly new to the
browser but if it is an older browser we
can always use a polyfill too to fill
that in so we are going to look for the
post that has a postcode is equal to
well which specific one are we looking
for we're looking for the post that has
a code and what is the code well let's
let's just take a quick look here so you
open this up we're looking at let's just
look at one of the posts here you see
that each post has a code and we're
looking for the post that has a code of
BAC je je etc etc so we want to look
where the postal code is equal to
whatever is
is available in the URL bar and the way
that we can actually access that
information if I click on single we have
this dot props and you'll see that we
have this params right here and the
params is made available to us from the
router and that is up in the URL here so
we say this prop stop params
dot post ID so whenever the postcode
it's going to loop over every single one
and then it's going to give us the index
of when the postcode is equal to that so
that should give us the index and if I
just console.log that index right there
we should see there go 1 go back 0 2
click on like the last one here 23 so
it's working it's telling us that it's
actually finding the actual index of it
whoops but we also need the postal say
composts equals this props post square
bracket I and we'll do a console log of
the actual post as well so now let's see
what kind of information we have in here
when I click 1 you see that this is the
entire post object caption code the
source the ID go back click on another
one that's another caption and post so
good we've got the data that we need now
we just need to go ahead and render it
on out you know that we use the photo
component here and a self close that
since it doesn't need any children and a
couple props that the photo would need
and maybe this would be a good time to
actually code up some prop types which
we learned in the react for beginners
course I post equals post we need to
pass it the actual post and then I'm
also gonna pass along all the props that
we need or you could cherry-pick the
actual ones that you specifically want
so and we should now see it rendering on
out to the single give it a refresh not
showing for us just yet and as because
we haven't returned it we need to
replace I'm the single with this actual
photo so I'm really just doing this
right up here just to get all of the
data that we need and the actual return
happens right here this is the JSX that
gets returned so if that refresh there
we go now I've got this
sex they look that everything just works
immediately why because we gave it the
increment in the post and that component
will live on its own so that's great now
we actually need to create the comments
layout if we look right here we have
this comments where sometimes there's no
comments but if we go to one that does
have comments it's going to render them
out we've got this little button here
that I can delete the buttons and we can
also add our own comment as well so
let's take a look at how we're going to
do that first thing we need to do is
create a new component called comments
jas and we're going to import react from
react and we're gonna create our
component and let's just give ourselves
a div the class name of comment i'm
comments so now that we have that
component let's go into our single and
import it so import comments from
comments and we'll go down to our photo
here and just render out a comments
component we got a little bit of an
error here a valid react component must
be returned let's take a look here oh
it's because I didn't return anything so
we need to return the actual element
otherwise that JSX just goes run and
nothing is actually returned to it so
how to refresh and we now have on the
comments showing on up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>