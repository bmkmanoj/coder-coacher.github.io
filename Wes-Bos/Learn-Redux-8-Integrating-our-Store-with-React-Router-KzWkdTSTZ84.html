<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Redux #8 — Integrating our Store with React Router | Coder Coacher - Coaching Coders</title><meta content="Learn Redux #8 — Integrating our Store with React Router - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Learn Redux #8 — Integrating our Store with React Router</b></h2><h5 class="post__date">2016-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KzWkdTSTZ84" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">go ahead and open up our redux to gram
right here and we need to modify this
router here in order to know about our
store because we've done all this work
in creating store and our actions action
Creator and our reducers but so far our
application it doesn't know anything
about that store so let's go ahead and
change that
let's go below the import react read our
dependencies and we'll import the
provider from react Redux and this is a
new package we haven't used this yet and
this is essentially the bindings that
allows us to use redux with react you
may think like Redux and react are
synonymous but redux can really be used
with pretty much anything you'd like
it's use and in this case we're going to
be using it with react so we import this
provider here and then a secondary we
also need to import our store right
because we created the store in here we
exported it and then we also created
this history here so let's actually
import this default store and are named
export of history's import store and
then we also want to import the history
we do use the curly brackets there
because it's a named export we use store
here because that's a default export
from and right now we are in Redux a
gram and we want to grab it from store
give it a save and refresh and it should
be working but it looks like I've got a
bit of an error here so I just want to
run through the debug with you so
uncaught error expected the writing
state to be available as either they
don't routing or as the custom
expression as you specify bla bla bla so
it looks like it's looking for State DOT
routing and what a state state is our
store and it's looking for routing but
it's not there so I'm gonna go back to
our route reducer where we created it
and here's where we combined it it's
post it's not complaining about that
comments not complaining with that but
looks like I called it router and not
routing so we got to change that to see
routing you give that a save and now
when i refresh it looks like everything
is now working you can see that because
in our comments guess and in our posts
jas we are console logging the state and
the action you can see like already some
state and some actions are being logged
and this might not look like to too much
to you but if we open up one of these
right here and open up one of these
right here you'll see like oh here are
my posts and right now the actions that
are being fired are the router changed
locations but we also want to figure out
how do we get like the actions of all of
our action creators firing like
incrementing likes or adding a comment
or removing a comment so let's take a
look at how to do that head back on over
to your redux - gram JS file and we've
already gone ahead and imported this
provider the store as well as the
history and a couple things we need to
do to modify our etta right here first
of all we need to have a provider tag
right here what that's going to do is
it's going to expose our store to our
actual application here so I'm going to
wrap the entire router itself in a
provider tag and then that provider tag
gets a store prop and we pass it our
store that we just imported from here
and then also I told you this browser
history remember that we went into our
store j/s and we created browser history
but we synced it with the store that's
what's allowing us to see this stuff in
here so we're exporting it and now we're
going to swap out browser history with
our actual just history and that's sort
of the the one that we have exported
from here we've imported it into this
file and we've put that in there so go
ahead and give that a save and we
refresh now the way we can tell if this
has all worked we can go over to our
react dev tools here we can click on our
provider here you see that now we have
this provider and here is our store
right here's the store if you click on
provider open up our console and clear
this out of here remember again dollar R
will show us the currently selected
element in our react dev tools which is
the provider and we can call that store
on it that's going to give us the entire
store there and if we want to see all of
the state in there we can call get state
and you see it open that up you can
see that we've got our posts we've got
our comments all the information about
our store so now let's take a look at
how do we actually dispatch some of
these actions that we have in action
creators in order to update this actual
estate right here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>