<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Redux #14 — Displaying and Adding Comments | Coder Coacher - Coaching Coders</title><meta content="Learn Redux #14 — Displaying and Adding Comments - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Learn Redux #14 — Displaying and Adding Comments</b></h2><h5 class="post__date">2016-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/57eIrqJ44pk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's tackle this displaying of comments
in two parts first let's just get the
existing comments displaying and then
we'll build something that where someone
can add another comment and delete one
of the existing ones that's that's one
we're gonna get into the reducer so in
order to render out the comments we
actually need them now since we have the
comments inside of this single component
we get them from our single and pass
them into our comments component right
here and that's exactly what we're going
to do so wherever we found the increment
in the post let's also find the comments
for that one so we're gonna make a
variable called post comments because
the variable comments we've already used
over and over say this stop props stop
comments and that will give us all of
them see here's all of them but we
really only need just whatever the array
is for that specific post which in this
case is BAC why D so we only need that
specific array so we can use square
brackets and use the post ID from the
URL to reference that so how do we get
the post ID is stop prop stop RAM so
post ID we're using that twice now so
what I'm going to do is I'll just say
Const post ID equals the stop props up
params and that will just D structure it
out into its own variable and that will
allow us to just reference it keeps our
code a little bit neater here same with
that as well so that will give us the
array but that's not perfect for every
single situation why because not every
one has comment so you can see this one
of Snickers nobody cares so there's no
comments so how do we fix that we can
just say or a square array and what that
will do is it first will allow us to
loop over nothing as well as when we do
add our first comment here we're able to
push that comment on to that specific
array now I can go down to our comments
component here and pass the post
comments to the actual comments
component so we can hop over to that
component and render them on out
so that's good we're gonna go into here
and now we've got all of the different
comments showing in here and the way we
can see if it's actually working is we
could use reactive tools open it up
click on the comments see we've got this
post comments right here and you see
that we've got all the data that we want
to use so we need to loop over each of
those comments and render it on out so
there's two ways you could go about this
you could create a second component
called comment which is it just a
component that renders out one single
comment renders has the name the hello
and the close button or you can use
what's called a render function in react
which is you still stay inside of this
comments function because it doesn't
make sense to create a second component
for it but you just create a render
comment function which itself will take
the comment as well as the index and
that is going to return some JSX itself
so that's what we're going to be doing
right here I'm just gonna do a console
dot log comment so we can see that it's
working and then inside of this what we
do is we say this stop props post
comments we use map for that and instead
of doing like a function right inside of
here we just say this dot render comment
and that will reference this one so give
that a save go to your console here and
there we go you see that every time I
load the page now each of the comments
is running this render comment function
and it just console logging the actual
comment here but what we actually need
is to return some JSX
right so we just got a return function
inside of here and that will have a div
with a class of comment and it also
needs a key of I for the same reasons we
talked about having a key earlier and we
need a paragraph inside of that with a
strong tag it's out of the strong table
of comment dot user that will give the
comment username give that a save where
we at okay good
we've got everybody's name so far but we
also need the comment itself so beside
that we're going to put the comment text
or under out good it's rendering on
and then finally we need a button let's
we're not gonna hook it up to anything
just yet but the button will have an X
inside of it so I'm going to use the x
unicode and it's going to have a class
name of removed - comment should now
show up oh they are all showing up and
that is because this should be class
name of comments with an S on it and
then the CSS will will show it depending
on when you hover a single comment good
so that is now showing up but what we
need as well is this author comment form
right here so we can go down underneath
here create ourselves a actual form
element it does need a ref and we'll
show you why in just a second so we'll
call it comment form as well as a class
name of comment - form inside of that
input with a type of text ref of author
older same goes for comment
finally a need in input with the type of
submit but I'm also just gonna make that
hit in just because we need a submit
button there in order for the Enter key
to work - hit enter and for the form to
submit itself but we actually don't want
to see it because we're allowing your
user just to enter so I'm going to add
that hidden attribute to it which will
hide it entirely</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>