<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Woah! CSS Variables?! — #JavaScript30 3/30 | Coder Coacher - Coaching Coders</title><meta content="Woah! CSS Variables?! — #JavaScript30 3/30 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Woah! CSS Variables?! — #JavaScript30 3/30</b></h2><h5 class="post__date">2016-12-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AHLNzv13c2I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in today's exercise we're gonna be
talking about something that is brand
spanking new to CSS and that is CSS
variables and now I know what you're
saying was we've had four Bulls into us
forever this is not new but it is new
smart aleck because CSS variables can be
updated with JavaScript meaning that
when you update a variable in CSS
everywhere on the page that that
variable is referenced will update
itself with sass you define them at
compile time and then it gets compiled
and you cannot change it so let's take a
look here I've got three variables
spacing blur and base color and when I
change one of those like spacing it will
just immediately update wherever that
variable is changed on the page same
with blur I'm only using that on this
image right here but as I change it it's
going to update and then finally face
color I'm using it for the background of
this image as well as the color of this
j/s highlight here so when I change that
color it updates everywhere is reference
on the actual page so let's jump in
let's take a quick look at our HTML here
I've got a ch2 which has a span of the
class of highlight or HL around J s then
I've got a label and input for the
spacing which has a min of 10 a max of
200 and we've got a range which does our
blur and we've got a input type of color
which gives you that kind of cool color
picker you're getting at a bit of a
different color picker offer your own
windows or something like that but it
will always open up whatever that
default color picker is on your system
then we've got the image and we're
styling it now let's actually jump into
opening this up in our browser let's
jump into some CSS variables first is we
need to understand how they work before
we can write any of our JavaScript to
update them so the way that CSS
variables work is that you declare them
on some sort of element or in our case
we're gonna declare it on root which is
sort of the highest level that you can
get very similar to declaring it on the
HTML element and here's where we're
going to set our default
use for those variables so we're going
to have a base variable that's going to
be set to the West boss yellow color
we're going to have a spacing variable
which is going to be defaulted to ten
pixels and we're going to give ourselves
a blur variable which is also going to
be defaulted to ten pixels now we've
defined these variables and we can go
ahead and start using them so let's grab
our image that's on the page here and
give it a padding of and now when you
want to use a variable in CSS you save R
and you pass it the spacing now these -
- I know you're like what what the hell
are you doing West that is the standard
in CSS that's how you do it it's
normally like dollar in sass or
something like that but in CSS it's a -
- don't yell at me that's that's how
they decided to go about it so that it
would be backwards compatible with all
the CSS that were older browsers inspect
and look the padding is based on the
spacing and it's giving us some you can
see the green there okay that works then
we want to work on the background is
going to be our variable base which is
going to be that yellow color okay
looking good image take a second to load
then if I were to change this spacing to
50 pixels and refresh you see it's much
bigger back down to 10 it's going to
take that variable from spacing I don't
need to read eclair it and then finally
we are going to give it a filter which
is a blur and we want to use the
variable blur good then we want to work
with this j/s highlight here so we'll
say anything with a class of highlight
is going to have the color of variable
base great so anywhere now we're
referencing this color right here and
right here it's going to be changed if I
were just to change this to maybe like
red everywhere on the page gets it you
get the point right it's a variable and
you reference it and it's going to be
used now how do we write some JavaScript
to update those well let's go ahead and
do that first thing that we need to do
is we need to select all three of these
inputs right here so that when they
change we can then update the CSS
variables which will in turn update the
colors on the screen so we'll scroll
down to our script tags here and we will
select all of our inputs on the page so
const inputs equals and I'm gonna use
document query selector all and our
selector here is going to be docked
controls input so it's gonna select all
the inputs on the page real quick aside
in the last video I said that query
selector will give you an array and what
I really meant is it gives you something
called a node list if I run this in my
console here it returns to you what
actually like looks like an array it's
it's got square brackets it has index
items it has a length but it's not an
array then the difference between a node
list and an array is that an array has
all kinds of methods for dealing with an
array like map and reduce and all the
good ones and if you open up the
prototype for the node list you see we
only have a couple methods here entries
for each keys and values and a couple
other little things here whereas if I
had an array like one two three of our x
equals and I have X I open that up and
look at the prototype of that oh look at
all this good stuff there's everything
that you're used to so um
sometimes you'll see people converting
their node less to an array and in some
future exercises we're gonna have to do
that but in our case what we're going to
use to loop over these inputs is the for
each method which has just recently been
added to the node list so it's not
necessary for us to convert it to an
array unless you're using an older
browser that does not support having the
for each on it so what we want to do now
is create our function called handle
update function called handle update and
we'll just console.log this top value
for each of them and then we'll listen
for a change event on each of the inputs
so let's say inputs dot for each and
then we want to loop over each one we
have an input I'm going to use an arrow
function just to be nice and clean here
with an input dot add event listener and
we want to listen for the change of
and when that is called we're gonna call
handle update good now when we open up
our console here and I change one of
these and I move and let go 75 102 167
you see my blur will change as well so
I'm seeing the values change whenever I
change the value of one of these but one
little thing is you notice that as I
drag it around it doesn't actually
trigger a change so what we can do is we
can also listen for the mouse move
update which when you move over it looks
like it's it's gonna trigger every
single time and there's some flags that
you could set where when you click set
it to true when you click off set the
false we're going to keep it really
simple here where when I move the value
it's also going to trigger a change
rather than just when I let go so we're
listening for change and mouse move and
it's going to call handle update
regardless of which one that happened
now let's go into this handle update
here and let's work on getting the
values out of it so the first thing we
need to know is what is the suffix of
the value that we're working with
because if we go up to our variables
here this base doesn't have a suffix
it's just a hex code or RGB value that's
gonna come out of the input but the
spacing and the blur they're gonna give
us values like 10 but they need to be
10px so what I've done is I've attached
some additional info to each of these
inputs right here where I've created a
data attribute again a data attribute is
just an attribute that you've made up
you just have to prefix it with data -
something and then I've put on a sizing
or a suffix value here called px px and
then this one I haven't so what we can
do in here is we can say Const suffix
equals this thought data set because
what is this that data set let's take a
quick look at that a second console.log
this data set and if I change it you see
data set is an object that will
contain all the data attributes from
that specific element in this case is
just sizing but if I were to go up to
this first one here my data
- name equals wes and a data' - cool
equals we'll put a poop in there
now let's see what we got we got a poop
sure do have a poop here we go open it
up we've got an object of all of the
things so data set is just an object
that already you don't have to select it
you don't use any attribute selectors
from it it will just take everything
that has data - on that element and put
it into a nice tidy little object for
you so we want to go back down to this
will say suffix equals this data set dot
and what do we what did we call it
sizing good and then for some of them
they don't have a sizing like the color
one so I'm just gonna say or nothing
because if I if I don't leave it at that
we're gonna append undefined on the end
that's not what we want so so or nothing
it's just gonna fall back
so let's console.log the suffix see what
we're working with here so pixels good
pixels for that one and then when I
hover over this one you see nothing and
that's because there is no suffix for
the hex code now what we need to do is
update the actual variable so how do you
how do you select a variable and then
the way that that works is we are going
to select our entire document which is
our route here and we're going to set a
property of base spacing or blur and
you'll notice that that we use the name
here name spacing name blur and name
base so we go down here and let's just
concentrate on the set property and
we're going to set the property of
usually - base
or - - spacing but those things are
going to be variable so we can use
because we're using back ticks here we
can plop that variable name in this dot
name and then it's going to be set to
this dot value now that's not going to
get us all the way there and I'll show
you just a sec here let's open up our
elements panel and let's change our blur
you see what's happening here the blur
value is changing but there is no pixels
being appended to the end and that's why
we created this suffix variable so we
can tack on the suffix of a variable
onto the end and now when i refresh i
switched up the image here because the
other one was having trouble loading and
I change one of these you'll see that
the value is being updated 120 4px blur
10px as you change it it's going to be
immediately updated let's double check
that the color 1 works as well perfect
so that's today's exercise again when
you use a CSS variable you can then
update that variable on any element in
any selectors that are inside of that
element that reference that variable
will be using it so one other thing you
could do is you can also scope them to
be just on a specific div so if I were
to take this h2 and add an attribute of
style equals and I want to change the
variable base to be a badass oh look
what happened there so even though this
base variable is right here because I've
specified at the variable lower down and
inside of that this highlight is
referencing the variable this one wins
out over this one
much like the CSS cascade the closer one
will always win out and I can go ahead
and keep changing this value and this
one's not going to change because I've
updated it at a lower scope hopefully
enjoy that see you in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>