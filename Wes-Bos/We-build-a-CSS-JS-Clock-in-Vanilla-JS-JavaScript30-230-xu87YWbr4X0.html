<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>We build a CSS + JS Clock in Vanilla JS — #JavaScript30 2/30 | Coder Coacher - Coaching Coders</title><meta content="We build a CSS + JS Clock in Vanilla JS — #JavaScript30 2/30 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>We build a CSS + JS Clock in Vanilla JS — #JavaScript30 2/30</b></h2><h5 class="post__date">2016-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xu87YWbr4X0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody
West boss here hopefully you're having a
great day today we are going to be
making this pretty sweet CSS clock now
what this does is it takes in the
current time from JavaScript and it's
going to update these hands second hands
that we've got going on here
based on the current hour minute second
that we are seeing so let's take a look
at our HTML that we've got going on here
we've got a div with a class of clock we
have a clock face which is this circle
here and then we have three separate
divs for hand and hand which is our our
our minute and our second now let's open
that up this is the answer this is sort
of what we're going for with this
realistic tick and we're gonna write the
the CSS that is important to getting
this done so I've specifically left that
part out so here we go this is what it
looks like by default I've got these
three hand divs we go ahead and inspect
then we can inspect this hand div and
you'll see that all three of them are
just stacked upon each other and the
idea that we're going for here is that
we're going to apply a rotate to each of
the hands depending on what time it
currently is so how do we do that well
you could just go to this let's try the
second hand we'd say transform rotate 20
degrees now the problem that we're gonna
have here is by default it's going to
rotate itself on the exact middle of the
element and in most cases that's exactly
what you want but this case it's not
what we want at all what we want to do
is we want to rotate it on the very
right hand side so that's right in the
middle here and that's what we're going
to go into our CSS where it says dot
hand and we are going to transform the
origin now the origin is where it's
going to do the rotation off of sort of
a transform origin we're just gonna say
a hundred percent and that will do along
the x-axis by default it's 50% so if I
were to change that
deep scent and I were to transform it
you see it's just in the middle but if I
were to change that origin up to see as
I move this origin it changes where it
goes off of and a hundred percent along
the x-axis will put that pivot point on
the very right hand side that's why we
change it to a hundred percent now
that's going to allow us to pivot them
all then the other problem now is that
because divs go our block and they're
left to right it's not actually starting
at twelve o'clock so how do we do that
well we could just rotate the entire
thing by default 90 degrees source they
transform rotate 90 degrees okay good
now we've got all of our hands pointing
up and down and then the final thing we
want to do is we want to apply a bit of
a transition I put a rotate on here
you'll see that as it's 22 one twenty
two twenty two one twenty two however
many it just immediately goes so we can
go in here and could say transition all
zero point five seconds now when we
rotate it's going to transition itself
and that's gonna be every second it'll
tick itself around now you might like
that but what's kind of cool about this
is you can also do something like this
where you can say transition timing
function and give it like any one of
these like ease in out and what you can
just pick whatever one you want you can
try it out you see how it is itself in
and out you might like that as well
but if you click on this little cubic
Bezier editor you can actually make some
pretty fun ones where if you just Jack
it right up like this now when you
change it it gives you this it goes back
forward and back forward and back so
what I'm going to do is I'm going to
take that transition timing function and
pop that in and then I'm also going to
take this down to 0.05 seconds just nice
and quick so let's see what it looks
like when we do that transform there we
go that gives us a nice snappy little
tick tick tick tick tick that's exactly
what we're looking for where it will go
a little bit over its bounds and then it
will snap back and because we did it so
quickly it gives us sort of that real
tick ticking feature good so we did our
transform origin or transform our
transition and our transition timing
function of cubic Bezier now let's
actually write the JavaScript that's
going to update how we are so far let's
start with our second hand just because
that updates most often we're gonna see
it tick tick tick all the way around so
first thing we need to do is create a
function called set date and that's just
gonna console.log hi and then we need
that to run how often well every second
so how do you run something every second
you give yourself a set interval which
is going to be set date and that is
going to run every second which is a
thousand milliseconds now let's see if
that's working
hi-hi okay good that's working for us
or we don't want to call Ike hi we want
to grab the date Const now equals new
date and then the seconds is going to be
now get seconds let's call some log of
the seconds d6 5758 okay so what that is
doing is it's getting us the seconds of
the current minute now how do we turn
that into a degree well first we need to
turn it into something that is base 100
so that we can get like at 0 it's going
to be zero degrees at 100 percent it's
going to be 360 degrees so we will go
down here and say Const seconds degrees
equals say seconds divided by 60 and
that's going to give us our percentage
that we have and then we're going to
multiply that by 360 because that's that
would be our full so if it's 60 divided
by 60 it's going to be 1 times 360
that's going to be 360 degrees then we
can finally just take our second hand
which we have not yet selected we can
select it you can either select it like
inside or outside and pass it in I'm
just going to select it outside here and
reach outside to grab it however
depending on how you like to design your
functions you could pass it in as well
sort of say Const secondhand equals
document query selector then when you
take that secondhand
and we'll apply some styles to it
secondhand dot style dot transform is
going to be equal to
we'll use some es6 template literals
here rotate how many degrees usually be
like a hundred degrees but that is going
to be in this seconds degrees good so
that should get us most of the way there
let's see where we're at okay make sense
but the one problem is here I'm almost
at 60 seconds but I'm not even nearly
halfway through and the problem we're
having here is because we initially
offset it by 90 degrees because the it's
by default left to right and we want to
by default top to bottom so what we need
to do is just take this that's why I
wrap these in parenthesis it will add 90
degrees to offset that default 90
degrees that were sort of working with
here let's see where we're at now there
we go 15:16 good now pause the video and
I want to see you do both minutes and
hours it's probably a little
self-explanatory but try to do it
yourself otherwise come back and we'll
do the rest together so we're going to
take aunts mins equals now not get
minutes Const mins degrees equal 2 mins
divided by 60 times 360 plus 90 and then
we'll say second hand again we need to
go up here second hand mins hand and we
also just let's get the hour hand as
well okay then we're down here say our
hand style dot transform equals well
it'll take this exact same thing but
we'll replace it with the minutes
degrees rather than that let's see my
editor is yelling at me I forgot
something here
o Partha see there there we go
Oh got a problem cannot set property
transform of undefined because he got a
spell
style right otherwise it won't work
learn to spell folks there we go
both of those two are now working you're
gonna have to wait a full minute to just
see it to actually work and then finally
we'll do the hours one it's gonna be
divided by twelve instead of sixty and
then we will take our hand oops this one
is our hand this one should be min hand
mins hand take the hours degree in there
awesome look like it is all working for
us it's all running um one little thing
that does happen you might notice that
when you hit the 60 seconds you're going
to hit like almost 360 degrees and then
all of a sudden it goes to like two
degrees and it's not going to transform
itself to from like right here to right
here
well let's just wait for this to happen
all right you see how this is about to
clock over oh we get that little weird
look and what's happening is it gets to
that final amount of degrees and then we
go to transform zero degrees or 90
degrees right there and it goes all the
way backwards to get to where it wants
rather than just going forward so a
couple things you could do here is you
could just tell you the amount of
degrees and just keep on counting or
another thing you could do is
temporarily with JavaScript take off the
transition so that when it ticks to that
next one it's not going to go transition
itself backwards and then reapply it
after and that would be done with some
if statements inside of the set date
other than that that's today's one and I
will see you tomorrow</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>