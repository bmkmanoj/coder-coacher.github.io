<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Redux #11 — Displaying Redux State inside our Components | Coder Coacher - Coaching Coders</title><meta content="Learn Redux #11 — Displaying Redux State inside our Components - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Learn Redux #11 — Displaying Redux State inside our Components</b></h2><h5 class="post__date">2016-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lD46f78B4FE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we all take a look at our photo grid
component here you'll see that it also
has access to the post and all the
things and the reason why this has
access to our posts enter comments and
and all of our methods that we created
is because previously when we looked at
our main component we did this react out
clone element thing and what this does
is it will pass down the props from main
down to the the first child so that's
exactly why we're able to access it now
we want to go ahead and take this photo
grid here and week what we could do is
we could say Jason about stringify and
we could pass in this top prop stop post
and you know and give it nothing give
that a save and you'll see that it will
actually just dump all of the the code
on here and actually if we surround that
in a pre tag you'll see that it will
format it just like we used to and this
is all the posts that we have but you
know that it's probably not a great idea
just to loop over them right inside a
photo grid we should probably create our
own component for that specific one so
that's exactly what we're going to do go
ahead to your components folder and
create a photo da Jas and we're gonna
import react from react and do Const
photo equals react create class we have
a render method and we will export
default photo in this render method
we're going to return a figure tag and
in that figure tag we are going to give
a class name of grid - figure and it
also needs a key we're going to get a
couple more things to set in there but
for now let's just go ahead and say I am
a photo so we'll head back to our photo
grid j/s and we need to be able to loop
over them in the way that we do that is
we do give ourselves to curly bracket
and say this stop props is this stop
props is all of this things so we're in
photo grid
stop props and we need posts so this
stop prob stopped posts map and the
reason why we do that is because this
thought props up posts is an array right
here we're gonna loop over it in for
each one we're going to return this
photo component that we did right so
it's going to give us the post and the
index of where it is and for that we're
gonna use a little arrow function here
to return the photo component now we
don't have that imported just yet so
let's quickly do that well it's a import
photo from photo and that's gonna go
ahead and grab this figure here and a
little bit of an error here cannot
resolve module photo oh that's because
it's a relative one right here now when
that reruns we say I am a photo I'm a
photo I'm a photo and that's because
every single time it will render out
whatever we go ahead and put in here so
that's great there's a couple things we
need to pass along to this first of all
we need to pass down the props to it
because if we open up this photo grid
you'll see that we now have all of these
photo components but they don't have
access to the actual photo that we want
right it's the photo information is only
available here so how do we pass all
that information down we can use es6
spread say this stop props and what that
will do is it will pass down all the
props to that specific component there
we go that just refresh and now we have
access to we're gonna need the increment
function and a couple of other ones in
there I could just pass down the ones I
need but in this case I'm just gonna
pass them all down to it we also need to
give it a key I think if we go to our
console here it's going to be yelling at
us for not using a key properly there we
go each child should have a unique key
prop that's because we have so many
different photos beside each other and
it really doesn't know how to
differentiate each one of them so we're
gonna give it a key as long as this
unique number we're in good shape
what is a unique number well we can use
the index value that we have right there
as well as we need to also pass it an
index value that goes along with it this
might seem a little bit strange like why
can't we just use key key is used and
react and you can't actually access it
once we're in the photo you can't say
this top prop sake so if you need the
actual index of
the element you have to pass it along
just like we did right there and then
finally we need to say post equals post
and that will pass down the specific
information about that post so I'm gonna
give that a save I'm going to open up
this and look for one of our single
photo elements so open up the photo grid
so I'm gonna grab the first one and
you'll see that now we've got the
increment value that we have and then as
well as we have a post value inside of
that that's all the good information you
get the caption the ID the display
source the ID and the number of likes
for that specific one so that's great
we're pretty much done here at the photo
grid so I'm gonna close that down and
we'll open up photo jeaious and start to
actually render all of this on out
so give ourselves a div with the class
of grid photo wrap and inside of that we
are going to give ourselves a link tag
why because that link right here
actually we need to import that from
react writer and the like just like we
did up here the link tag is going to
allow us to link to each and every one
of them so I'll get that from react
rotor and the link tag will take a to
prop it's going to link to view forward
slash the post dot code and we'll see
let's let's just put something in there
right now so let's just say post caption
post is not to find what we have to do
is it's normally this stop drop stop
post and this prop stop post dot caption
and give that a save and that will
actually work but that's a real pain to
write this top props every single time
so what I like to do is just use post
and right before my return statement
I'll say Const I comments equals this
props and that will create variables
called post I and comments that we're
all going to use in just a second from
this dot props and they'll be able to
use post code
caption from it it looks like it's
working here see this one's lunch and if
I go ahead and click that you'll see
like oh wow our routes are now kicking
in right we got view forward slash BAC
go back to it click on it you see every
time now we're clicking on one of them
the URL is changing why because we have
react router to set it up and if we look
at our reactive tools here and open up
our main component you'll see that this
single right here it's switched to photo
grid click on one of them switches back
to single and so on you get the point so
what we're going to do now is this is
just a little bit of HTML feel free to
just go ahead and grab this HTML from
one of the answer files because
sometimes it's not super exciting just
to watch me write a whole bunch of HTML
but if you'd like to sort of learn along
as well as do some of the CSS
transitions feel free to to stay for
this part so inside of this link I am
going to actually give us not the post
caption we are going to give ourselves
an image tag and the source of that
image is going to be post dot display
underscore SRC why because I'm just
gonna go to one of them and I go to the
photo I'm going to open up the post and
this is all the information I want right
we want the display SRC the alt can be
the post caption and the class name of
that is going to be the grid - photo
that's just so that it lines up with the
the CSS that we have there so give that
a save and now we should actually see
some photos coming in good good I'm
really happy about that so that's the
link tag closing out now we want this
sweet animation when you click one of
them it will animate in this little
heart and the way that that works is
with the CSS transition group right from
the official react CSS transition group
addon so go ahead and pop this line into
the top of your code and then we're
gonna go down right below the link here
and I'm just gonna paste it in to show
you I go more into the CSS transition
group stuff in my react for beginners
course so I know many of you already
know how this all works but sort of the
one little gotcha
right here is that the key is set to the
post that likes and what that allows us
to do is that whenever we have a new
number of likes it's going to animate
itself in from that initial state which
is kind of cool that looks good and what
we want to do is go below this and we
give ourselves a fig caption and inside
of that we need a paragraph which is
going to have the post doc caption and
that should then show the actual
captions underneath you know good luck
there they're all being pulled in here
and starting to look a little bit like
what we're going for here and then we
need the control buttons and inside of
that you'll give yourself a button with
the class of likes and inside of that
you want a heart that's just the unicode
heart and then the number of post likes
on it right so what that should show us
is there we go the number of likes that
are sort of loaded on page load for this
one and then eventually when we click it
it's going to increment that number of
likes that's what we're going to be
doing next and then below that we need a
link tag and that link is going to go to
well we just did this view ford slash
postcode we just want this to also link
right to it and there's a little little
spans that go inside of it just so that
we can get the span icon there's no good
comment icon so we I've made one so we
want a span with the class comment count
side of that we want
aasif speech bubble finally right below
that we want comments of postcode so
what is that doing well let's let's go
to one of these right here so photos
we've got all the comments but like
let's say we're on a specific one like
this one right here we just want BAC Y
etc etc right so the what we can do here
is the photo will say comments dot BAC Y
right here and then it will also give us
the length so comments top postcode and
what we're doing is reducing a ternary
operator which is sort of like a
shorthand if statement if there are
comments existing because not all of my
photos have comments that are
existing on them then just go ahead and
show exactly that but with a length on
the end otherwise show zero that means
that there's there's no comments been
added to that one just yet so give that
a save and we should now see the number
popping up good is looking good I think
we forgot a class yet we want to give
this link a class name of button which
will inherit all the CSS styles that
were used to good so we've gotten our
hearts we got our number of likes we
click that it will go over to the single
what we want to do now is actually hook
these things up so that when I click on
like button it's going to increment the
number of likes</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>