<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript  Exercise: Follow Along Links - #JavaScript30 22/20 | Coder Coacher - Coaching Coders</title><meta content="JavaScript  Exercise: Follow Along Links - #JavaScript30 22/20 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript  Exercise: Follow Along Links - #JavaScript30 22/20</b></h2><h5 class="post__date">2017-10-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/POP_qri7RA8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">a couple of weeks ago stripe launched
this new page and I hovered over the
navigation out and I was like whoa how
are they doing that because you know if
you have a drop-down and you should hide
one and show the other you can't just
transition the background you can't just
move the unordered list from one to
another because it's two different
elements so I figured out how to do it
and we're going to build a replica of
this in a coming video but what I wanted
to do is start with something simple
just so we can get the ideas because
it's it's a bit of a doozy they
obviously have some really good
developers that stripe to build this
thing but I really want to understand
sort of like the fundamentals of what's
happening so this is what we're going to
start with and then in a couple of
videos down the road we're going to
replicate this sort of thing with the
stripe navigation so here's what we're
doing we've got these links on the page
and when you hover over one of the links
we've got this little pill that's going
to both resize itself so it's short and
long as well as follow you around the
page wherever that is going so let's
open up our index - start and get going
go down to our script tag here so first
thing that we need to do is to get all
of what I like to call triggers things
that will be hovered that need a
background behind it so we I'm just
gonna do every single link that's on the
page that constant rigors equals
document query selector all a every
single link on the actual page then what
we need to do is create what's called a
highlight because if you haven't figured
it out yet how does this actually work
if we inspect it here and we look at our
dome you're gonna see that we have the
span with a class of highlight that I've
just tacked into the Dom here and when
you highlight over something it will
figure out the width the height and
where on the page that actual item is
and because there's CSS transitions on
this element it's just going to
transition itself from place to place to
place and and the width the height and
the transform translate X and translate
Y values
are going to be moved on over so we will
first make that highlight ourselves
rather than having to go into our HTML
and do it we're gonna make it in there
so we'll say counts highlights equals
document dot create element and we're
going to make a span we're going to add
a class of highlight and then we're
going to put it into the Dom when we
open this up in our browser here you
actually won't see that highlight
anywhere and it's because it does not
have a width or height or anything like
that but if we inspect you should see
that we do actually have this highlight
element in here good now what we need to
do is listen for some what for someone
enters into a link so we'll make a
function called let's call it highlight
link and we'll just console.log
highlight and then we'll listen for the
mouse enter event on each of our
triggers triggers for each and take our
link and we're going to take the link
and we're going to add the event
listener or mouse enter and when that
happens we are going to run the function
highlight link good now let's try it out
console highlight over it there we go
we've got highlight triggering on all of
the links on the page and you can tell
that by console logging this and you'll
see it will log the actual link that
we're looking for good so we've got that
working so far but now what needs to
happen is we need to figure out with a
width the height the X and the y we need
to figure out how big is the element
that we hovered and how and where on the
page is that actual element so we're
going to use a method called get
bounding client rect which is a bit of a
mouthful to say but I'll say Const link
chords this is going to give us the
coordinates and this this is going to be
equal to the thing that was triggered
which is going to be each of the links
get bounding client rect and then just
console.log those link Accords to see
what we have here
so I'm gonna hover over this sucker and
look what we get here we get the cron
client wrecked we've got the bottom the
height the left the right the top and
the width so it gives us all the
information about where on the page does
that thing actually live now that we
have those coordinates here we can
simply take our highlight element and we
can apply the style dot width is going
to be equal to and we'll take the link
Gords dot width and you need to put on
PX on the end otherwise it's just going
to be 399 or 409 or something that we
don't know and we'll do that also with
the height let's see where we're at with
that hover one of these okay so that
matches up and then when you go from one
to another it's dynamically applying the
style to it and if you go to our style
that CSS and you look for the highlight
selector highlight here we go we have
this transition on here of 0.2 seconds
so order to change that to two seconds
you'll see that it will just change
itself over that amount of time and like
these these links are a little bit
shorter than these links so it'll grow
both in width and height so that is why
if we didn't have that transition on
there it would just be immediate snaps
and that's not what we want
we want it to animate itself so where
the the fun part comes in is where we
start to animate the left and the right
values and we're going to be doing that
rather than doing it with CSS left and
dot right or top and bottom what we will
be doing is we'll be using the transform
property to apply it and that can have
some benefits when you're doing you're
looking for some really smooth animation
so we'll take our highlight we'll apply
the style of transform and normally how
it works is that we say something like
translate and then you give it an X and
a Y so one hundred and a hundred you see
how it animates itself to a hundred 100
but we want to make these one hundred
and hundred dynamic but we take our
hundred and replace it with our variable
here so we'll say link chords left and
this one is going to be linked chords
top and that will give us the value
right from the top now if we hover over
any of these items here everything is
looking good you can also go up into one
of your ones and maybe put a brake tag
in or something to make it bigger you
can see that it's going to transition
both the height the width and the X and
the y now you might think you're done
and a lot of people do this but they
don't try like open your dev tools and
scroll down a little bit now hover over
one of them Oh what the hell is going on
is there like a little bit messed up if
I just scroll down a little bit you see
how it's off by the amount that I've
scrolled down hmmm that's a little bit
of a pain here and how we compensate
that for that is you can do it in a
couple of ways first we could figure out
what the offset of the actual parent is
and we're gonna do that in the next one
but in this case I think we can just
simply take how far the person has
scrolled down and then take that away
from our actual item so what how do we
do that well let's go into our window
here window dot scroll Y it's gonna give
us zero scroll down a little bit and
rerun that it's gonna give you 67 so
that's how far we are actually are so
let's go back in and refactor this code
a little bit what I'm gonna do is I'm
going to make our own coordinates here
so I'll say consequence equals it's
going to have a width which is going to
be equal to the link cord stop with
those the width and the height are fine
right but the problem is with our X and
our Y or our top and our left so the top
is now going to be a link cords dot top
- window dot scroll Y and then we'll do
that for our left which is link left and
we can also do scroll X just in case you
have any horizontal scroll there then
what we'll do is we'll switch out
reference to link chords with just the
chords object which we've done here
we've done a little bit of math there so
now when i refresh i'm scroll down a
little bit it still doesn't work and
that's because i - them we should add
them in not take them away
there we go now if I'm scroll down
anywhere on the page it's always going
to follow us long regardless of where we
are on the page so that is the very
basics really what I wanted to get down
there is this concept of the get
bounding client rect and then applying
it to the in line style in a couple more
videos we're going to go ahead and build
out the entire drop-down which is a lot
more involved I'll see you then
[Laughter]</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>