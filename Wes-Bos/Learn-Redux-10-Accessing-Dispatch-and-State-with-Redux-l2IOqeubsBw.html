<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Redux #10 — Accessing Dispatch and State with Redux | Coder Coacher - Coaching Coders</title><meta content="Learn Redux #10 — Accessing Dispatch and State with Redux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Learn Redux #10 — Accessing Dispatch and State with Redux</b></h2><h5 class="post__date">2016-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l2IOqeubsBw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we're actually ready to start
displaying some items the big question
that remains for me is how do I get my
state which is all of our data about
posts and comments how do I get that -
to go into Maine and and regular react
how we do it is we take it at whatever
level that lives on which in our case
would be provider and you have to pass
it down every single level every down
and you keep going down and down and
down you pass it via props until you
finally get to the thing that you want
however with Redux what we have is this
thing called connect and what Connect
will allow us to do is inject that data
at whatever level we actually need it
and then we can pass it on down or if is
a couple more levels deeper than that we
can connect it at whatever level we need
the actual data so that's what we're
going to be doing right now we are going
to both be connecting the data into the
component that we need in our case we
have this main component where we need
to inject the data into and then we also
need to make these action creators like
increment add comment in roof um these
are sort of our are things that happen
when you click or submit or click the
heart or whatever action that you have
in the application these need to fire so
how do we expose both these functions to
buttons as well as how do we expose the
actual data to our component and that's
where the react Connect will come in so
we've got this main.js file and this one
is pretty much like a presentational
component where really this is just HTML
or Dom markup that we have here now what
we're going to do is we're going to take
this presentational component and infuse
it with both the action creators so if
we can click on them and run them as
well as the data and the way that we do
that is we create a second component
that will sort of like sprinkle the
stuff on top so what I want to do here
is I'm gonna go to my components I'm
going to open that on up I'm going to
make a new file called app j/s and
inside of that I'm going to need to
import a couple things so we're going to
import bind action creators
Redux and I'll explain all this in a
second we want to import connect from
react Redux we want to import everything
as our action creators from we want to
take all of these so we're going to take
increment add comment and roof comment
everything that gets exported that's why
we're using the star there from the
actions for such action creators yes and
then finally we want to import mean from
the main so we want to take this
component import it good I'll pop a
quick little M on there make sure it's
spelled right and now what we need to
make is our actual app component so I'm
gonna say Const app equals and now
instead of saying react create class how
it's going to work is we say connect
because we imported this connect method
right from react Redux and it takes two
things we first need map state to props
and we need map dispatch to props these
are two functions that are going to take
the state which is our posts and our
comments and our dispatch which is our
action creators here and it's going to
surface those data and the functions via
props in our component so we just create
two functions here and we haven't yet
created them but I've typed them and now
let's go ahead and go ahead and create
them so I'm gonna say function map state
the props and that's going to give us
the state and we are going to return all
of the state that we need so what are
the two pieces of state that we need we
need posts is going to be state dot
posts and we have comments they're just
going to be state comments why do I do
that because we're gonna have this
thought prop stop posts this stop prop
stop comments and it's gonna take
whatever it is that lives in our store
or our state and map it to this stop
prop stop whatever so I like to line
them up I like to name them the same
things but it's not necessary so that's
the first one and then we also want the
dispatch
to prop some function map dispatch to
props and that's going to pass us the
dispatch
that's the dispatch method that we are
mainly running every run console here
and we were running store dot dispatched
by ourselves
we no longer have to manually run
dispatch because it's going to pass us
this these action creators via prop so
well if that's a little bit confusing
you that'll make sense in just a second
and what we do is we return the bind
action creators function we pass it all
of our action creators which is
everything these three functions that
we've created in there and then we also
give a dispatch and these sort of two
little functions are going to do the
magic in surface both our data as well
as our function via the component so
we've got here and then I think the last
step that we have here is we need to
make this app component available to us
so I'm gonna say export default app and
what that will do is make it available
to the other ones that import it and we
need to go back to our redux to Graham
J's file why because right now we are
rendering out this main component right
here but we need to change that main to
actually be a pas right so we're gonna
instead of importing main directly we're
going to be importing the app file and
then if we take a look at our app right
here we've imported the main component
and actually one last thing we need to
do here is when we connect it we call
connect but then you can immediately
call it against main and what that's
gonna do is it's gonna take a regular
main component which is just a div and
h1 and the link and the child component
and it's going to add all of the props
all of the data from state to props
it's gonna add all of our action
creators which dispatch to our props as
well so give that a save that was a lot
of coding we did there and let's go back
to our app go to refresh and open up the
provider open up your read or open up
your outer contacts ah look at this now
we have the connect which is connecting
the data for us but if you click on this
main component you should now see look
what we got going on here a whole bunch
of stuff even though we are rendering
out
the app component it still is showing us
that it's rendering the main component
and this is all the information that we
ever possibly want here look Add Comment
what is that that's the action creator
that we just made right here we've got
the posts that's all of the data that we
have to have about the posts I'm sure
we've got all of our comments in here
yep look there's all of our comments
that we could ever possibly want and
we've got remove comment and then we
also have our increment right so all of
our action creators all of our data is
now available to our main component and
that was me done because we used connect
so if you have ever grown about having
to pass data down multiple levels you
still do have to pass down data from
component to component if it's just a
couple levels deep but if you're in this
case we're like one two three four five
levels deep and for us to pass that down
via props all the way is a bit of a pain
so rather than doing that you can simply
just connect it and connect will inject
the data from our store into whatever
level component that we actually need so
that's great now we've got the data that
we're looking for let's go forward and
get some stuff showing up on the screen</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>