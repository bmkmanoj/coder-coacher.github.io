<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CSS Text Shadow on Mouse Move Effect - #JavaScript30 16/30 | Coder Coacher - Coaching Coders</title><meta content="CSS Text Shadow on Mouse Move Effect - #JavaScript30 16/30 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CSS Text Shadow on Mouse Move Effect - #JavaScript30 16/30</b></h2><h5 class="post__date">2017-09-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zaz9gLI-Xac" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we are going to be learning all
about mousemove and we're going to
recreate this I've created this on
flexbox
I oh it's a website for one of my other
courses and when you move your cursor
over top of the window the shadow sort
of follows you around and just show you
what's going on here if we inspect this
right here you see that I'm just
dynamically updating the style of that
h1 tag depending on where your mouse is
on the actual page now you can also do
this on your phone where I've tapped
into the accelerometer and depending on
where how far you're tipping your phone
it will also follow you around so it's
what we're going to be building today
this is we kind of go crazy at the end
here moving it up and down but we're
going to start with just this which has
our emoji whoa and you can edit it I've
put a content editable on there and we
have a hero here so what we're going to
do is we're going to listen for a
mousemove event on our hero and then
when that changes we're going to figure
out how far and where should we put the
text shadow on this whoa here so we're
going to go into our script tag here and
first we'll grab the hero and we'll also
grab the text inside of that hero which
is our h1 tag now what we need to do is
make a function called shadow that's
going to pass us the event and then down
here we're going to take our hero and
add an event listener for mousemove when
the mouse is moved we're going to run
the shadow good maybe we'll just
console.log the event inside of here see
what we're dealing with go to our
console now anytime I'm mouse over what
we're going to do is we're get all this
information about what happened and in
there like many of these other videos we
find out that we have some information
about the offset left so let's go into
here and first of all what we need to do
is get the width in the height of the
thing that we have hovered over
which is the hero so say Const and we're
going to use some es6 d structuring here
because let's code it without
destructuring first and then we'll
rename it so width is equal to hero
offset width and height is equal to hero
dot offset height if you're a hotshot
you can do it in one line so UK Const
offset width is going to be equal to
width and offset height is going to be
equal to height and that is where did
you structure that right off the hero
element so these two things these two
lines are like this whatever you prefer
to read you can do that and then we also
need to get the information about where
the person's cursor was so we'll say let
and I'll tell you why we're going to do
let instead of constant just a second
offset X it's going to be equal to the
variable X offset Y is going to be equal
to the variable Y and we're going to be
taking that off of the event that's the
same thing as doing eat out off set X
and eat off set Y we want these values
right here 180 and 100
now let's console dot log X in Y hey
look at this okay so go go to the top
corner and you see zeros go to the very
bottom right and you see seven hundred
or however big your actual one is so
that's looking good we're seeing
information but one weird thing is if
you hover right in the top corner of
this h1 tag you see that these values
are close to zero now what's going on
here if we put a background on this
element here and I hover over top the
top corner of the red it's giving us
values like zero look at its like 140
right here and then zeros right here huh
and what's happening is that the event
even though we're listening for the
mouse move on the hero if there are
children elements inside of the hero
it's going to give us the X and the y of
the actual element that we hovered which
is kind of a pain so we need to do a
little bit of normalization here to say
okay if the thing that we're actually
hovering is this h1 instead
the hero then modify the X and the y
values so that they're going to be
consistent across all of them so what we
do here is we say if this does not equal
event dot target then and hold on but
what is this console.log this this is
going to be a div with a class of hero
okay what is going to be event target
the target is going to be the thing that
it actually triggered on whereas this is
going to be the thing that you listened
on so it's always going to be hero for
this but the target what it got
triggered on will sometimes change so
hero hero hero watch this I'm hovering
over here and you see that I see this is
equal to the hero but the target is
equal to the h1 so if those two things
are not the same which is what this if
statement is doing right here then what
we need to do is we say x equals x plus
event or target offset left and same
will do with Y and offset top so what
essentially what we're doing is we're
figuring out if someone hovers in the
top left-hand corner of whoa this h1
we're just going to add the like two
pixels that it's given us plus whatever
it is from the left and whatever it is
from the top so dealing with x and y is
a bit of a headache in JavaScript and
this is the the best fix that we can
find to work with that so now if I
console.log x and y and that by the way
that is why i use let because it's
possible that we needed to reassign the
values here now if I hover over the top
left hand corner you see those values
aren't back to zero it doesn't change
depending on where we are good now what
we need to do is figure out how far
should the text shadow actually go so we
need something that I like to call a
walk if you look at this if my cursor is
all the way at the top left
how much over and back should it go if
it's all the way over how much over
should that go how much all the way down
should it go and I like to call that the
walk how many pixels at its most
to be stretched so let's go up here and
we'll say Const walk equals let's make
it a hundred pixels just one hundred and
we're going to use that inner math
equation so now we will say Const X walk
is equal to and here is where it gets a
little bit tricky because if it was all
the way over like right here it's not
going to be 200 pixels and if it's all
the way over here is not going to be
zero if it's all the way over it's going
to be plus 100 and if it's all the way
over here it's going to be negative 100
so say X walk equals x divided by the
width times the walk - the walk / - whoo
what what are we doing here so
essentially what that is is if 100 is as
high as we'll go zero is not as low as
will go if 100 is our walk then 50
should be as high as we go and negative
50 is as low as we should go
so our walk is a hundred but we want to
go from 50 to negative 50 and that's
what this little bit of math is doing
for us here it's sort of offsetting it
so that we go to plus 50 and negative 50
instead of zero and plus 100 and then we
can just swap out this X walk Y with
this is going to be height then we
should console.log our X walk and our Y
walk we got here ah there we go so now
we've got a bunch of pixel values it's
just giving us and those are a little
bit long so we could pop a quick math
dot round around them there we go now
it's giving us some good if you go all
the way to top left you get negative 50
negative 50 if you go all the way to the
bottom right you're getting plus 50 plus
50 so now that's all left to us is we
take our text and we can grab the style
attribute and set the text shadow to be
and I'm going to use back ticks here
it's going to be and the way that text
shadow works is it's like 10px 10px blur
which is going to be zero and then you
want to give itself like
something like that however this this
10px is not going to be 10px it's going
to be X walk this 10px is going to be Y
walk and we can leave this red as we
have it here give that a refresh and oh
it's working so give it an inspect you
see how those values are now being
updated as we move they get a 50
negative 50 50 50 we're moving it all
around that's pretty cool what you can
also do with that is just do multiple
colors as you like so RGB a 255 0 255
0.7 something like that and then comma
I'll do it again which X walk x negative
1 we'll make that one negative and we'll
make this color to be 0 just going
around the spectrum here take off that
leading comma there we go
so now one of them is going the opposite
way of the way it would go so go left
one goes left the other one goes right
do it again with we want to give that
first one our Y walk value and this one
our X walk times negative one and
finally take our Y walk times negative 1
and X walk change these colors around so
they're not exactly the same 0 255 0 and
0 0 255 take that off that last trailing
comma and there we go we see all of them
going every which way that we have
looking kind of fun you can do some
crazy stuff by ego up change your walk
value where did we set that here you can
change out to 500 and it goes woo all
over the place you could set some blur
modes and CSS so that they change each
other when they overwrite there's all
kinds of fun stuff that we could do
there the real big thing that we learn
there is that when you're dealing with
events you can use offset X and offset Y
to get the cursor where your cursor to
get the position where your cursor is
whoever if you have nested elements
inside of the
thing you sometimes will need to do a
little bit of math to deal with it
hopefully you enjoyed that and it wasn't
too tough on the old noggin
I will see
[Laughter]</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>