<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn Redux #4 — Setting up React Router | Coder Coacher - Coaching Coders</title><meta content="Learn Redux #4 — Setting up React Router - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Wes-Bos/">Wes Bos</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Learn Redux #4 — Setting up React Router</b></h2><h5 class="post__date">2016-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iNzMIoBNnNU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if you've taken the wreck for beginners
course you know that react writer works
that you render out the router to the
page and then it will then dictate which
components it should and should not
render out to for us to see and that's
why if we look at it react dev tools
here you see all kinds of different
components being rendered to here so a
couple things we need to do first of all
we need to import that single and that
photo grid component that we just
created into our redox or Graham Jaso
I'm just going to go rename this one to
single and I'm going to rename this one
to photo grid so we just did that next
up we need to import the dependencies
that we need from react router and if
you are British I just learned that you
call it a Rooter which is wrong so we
will say import react router depths
import so we need a couple things from
react writer here a couple different
methods we need the router we need the
route we need the index route and we
need browser history which we just need
for now because we're going to go back
in sort of put redux into that browser
history so we're going to delete this in
the future but we need it for now just
so we can get something working so we're
going to get those from react router and
finally you'll know that instead of
rendering out this main right here we
actually need to build a route component
for us so I'm going to say Const router
equals and I'm just going to use
parentheses here because I want to
render out a whole bunch of JSX because
at the end of the day you know
everything in react is a component well
so is the actual rudder so we have a
router component and that router
component needs a history object which
is going to be our browser history
that's going to allow us to do push
State with changing the URLs without
without having to reload the page and
then in here we just we just write all
of the different routes that we want to
match and if you've ever done any
server-side route matching this is
fairly similar to that so we need to
route component here say path equals
forward slash and the component equals
main component right you'll see that
that's why we imported
this main component here because we're
telling it to use at the very top level
forward slash use the main component so
uh that makes sense because we're on the
we're on the home page here and we use
the main component but then when I click
through to one of them we're still using
the main the only thing gets changed
here is the child a single or the photo
grid component so that's why we're going
to nest these route ones right here so
first of all we need the index route
which if we are just going to forward
slash in the URL bar here what component
should it then render out so we give it
an index route component here and we
simply say component now you tell me
which component are we using for the
home page we're using the photo grid for
the home page right so index route is
essentially this parent route will match
everything that is forward slash and
then if we go a level further if it's
just forward slash that means it's the
index route and we're going to use photo
grid otherwise we are going to give
ourselves a nested route which we can
give it a path to match so there's a
view forward slash post ID and why did
we do that well let's go to this working
example over here I'm going to click on
Snickers and you see that the URLs view
forward slash something and that's going
to be a variable that's available to us
called post ID see that's why we put
this little colon in front of it and
then we also tell it which component we
should be matching and which component
do we match in that case it's going to
be single so this is something that took
a little bit for me to get my head
around and the way that this works is
that we tell we tell it that if it
matches for slash or anything grab the
main component but then depending on the
URL structure either pass main photo
grid or pass main single and that's what
these are going to be children single or
for photo grid they're going to be
children of the main component which is
exactly why we went ahead into this main
one into this clone element thing so
we're passing the children down to here
let's take a look at our app and we
still have this red screen of death here
and that's because we have created the
router here but we have not yet passed
it to a render function so I'm going to
delete
and pass it the actual rudder here going
to give that a save and refresh and now
we start to see I'm on the main page so
photo grid is taking place I can open up
my react dev tools here and we'll
clearly see that the router is working
we got the router contacts we've got our
main and then we have the photo grid
showing up now if I go to forward slash
view for slash any of the URLs oh shoot
we still got red and it's because I
can't spell component right here so I'll
give that a save it didn't know which
component to actually render now if I
give it that a refresh or go I'm the
single and if we click on the Redux or
Graham here I'm the photo grid you can
also see yourself open it up here go to
the main you see it's photo grid here
but if I press back single you can use
your back and forward buttons and you
see that with push date it's immediately
swapping out these different components</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>