<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 16 - Create Tournament Form Part 2 | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 16 - Create Tournament Form Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 16 - Create Tournament Form Part 2</b></h2><h5 class="post__date">2017-07-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rS734DJL6zM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 16 in a c-sharp from
start to finish course my name is Tim
quarry and today we're going to continue
working on the create tournament form in
the previous video we started working
the form by wiring up the lists in the
drop down now we get to connect our
create forms to the create tournament
form so let's jump right in
before we get started in the lesson I
want to remind you to subscribe to this
channel if you are subscribed click the
little bell icon make sure your game
e-alerts want add a new video and while
you check on that could you also give us
video like I know we're just getting
started but liking a video is a simple
way that you can make this course more
popular and that helps everyone it
increases the visibility of my videos on
YouTube which generates more income for
me it helps others out because they get
introduced to this valuable content and
it helps you out because I'm able to
produce more free videos ok so let's get
back to the lesson here we have our
create Prize button and we have our
create new look a link here but that
does the same thing only for a team
instead of a prize so these two are the
first round wire up and this may seem a
little intimidating because we're going
to call a different forum and have it
talk back to us and how you do that this
is one of those areas where people often
get it wrong in my opinion and that's by
tying this form the creator net form
directly to the forum we need a call for
example to create prize form the create
prize form shouldn't know about this
create tournament form and that's where
it gets a little tricky a little bit you
think a little more about before you
just do something because it's ways to
get it done and then there's ways to get
it done right and so we're going to try
and get it done right so let's start
with a create prize button so in here
let's just list
steps we need to call the create prize
form alright next we need to get back
from the forum a prize model that's the
tricky part and then finally we need to
take that prize model and put it into
our list of selected prizes that's the
easy part
so let's start off with an easy part
let's call the create prize form and
please notes right here are great
they're one-liners so I can then put
code right underneath them and then this
line describes what this code down here
does so it starts off as notes of what I
should do and it ends up as notes of
what I am doing for each of these
sections so to call a forum we do create
prize form let's just call it FR m FR m
equals new prize form because it's a
class and so we have to instantiate it
so create prize form and then it's just
FR m dot show and that's it and now that
form will pop up whenever we click our
button let's just check that to make
sure
the button for create price up pops the
create prize form so that least works so
now how do we get so that when that form
does pop up we fill the form in that it
actually puts the prize into this list
over here so when you pass back our
prize model and that's what the
questions going to come in so first
let's look at our prize form and just
verify that when we create this prize
button click that we have a prize model
that we've created and we do now we
don't pass we have pass it back to
itself so let's do that that way it has
the ID back in it so now we have the
fully completed model with ID but now
what well actually if we get there I
want to point out one thing this is
actually not necessary to do I often
forget about that and just do it but the
reality is that this is again the
address to our house so it says you know
1 2 3 Sesame Street that's where this
house lives
so in this create prize if we look at
that I can't go directly to it because
it's an ID - connection so let's go to
the sequel connector and look at the
create price if we look here we see that
the model we take in we then add in the
ID property this value that means that
without doing anything else we've
modified this model therefore we
you take this return value and do
anything with it because we've already
got it so it is one of the things that I
often forget about I forget that we are
passing around essentially reference
types not quite reference types but that
address we're passing the address around
not the actual house so that's just
something to keep in mind before we
continue but we have this model it's now
fully complete so when we create the
price button the next thing we wanna do
is send that prize model back to the
caller and it's okay here is the value
and we're done you know so we're
complete so how we going to do that and
the first one we could think about to do
this is simply have a constructor here
create prize form we could pass in a
prize model so over here we could pass
in a prize model that we know about in
this form and then add that to our list
of selected prizes and as either
populates it and saves it the formulas
close because it's the same address
again number so that when when the
living room gets filled in the other
form the living room is filled over here
because it's the same house they're both
using the same address the problem with
that is what happens if I say oops I
made a mistake I don't want to create
price well then we have this weird prize
with nothing in it in our list of
selected prizes and that's just not
going to work now the next idea is the
one that people often do and that's the
idea that we can pass in the instance of
this create tournaments form to our
create prize form pass this whole
instance in and they have a public
method that something like
save prizes on my back well what that
means then is in our create prize form
in the constructor we have to say create
tournament form and so happy tied to the
create turnit form and no other form can
then create a price and that doesn't
seem like it's a great idea
I mean maybe right now we don't have any
other location that might want to do
that but we might in the future and
especially if you're in a organization
where you have a large application you
definitely don't want to lock your forms
down to being so tightly coupled to each
other it's called tight coupling and so
instead you want loose coupling the idea
that they don't really know about each
other but they can work with each other
and so that's what you want is some kind
of loose coupling so what we're going to
do is in our tracker UI project we're
actually going to create an interface so
like right click on tracker UI and say
add new item interface and let's call
this the I prize requester okay memory
call I to the gang for interface make
the interface public and this is going
to have just one method in it and it's
going to be a void me returns nothing
team complete oops not team complete pry
is complete and it's gonna pass in the
prize model and the easiest thing for
that model
so what does interphase do well it says
whoever implements this contract will
have one method called prize complete
the returns nothing but that takes in a
prize model how is this helpful
we'll check this out if I take this
interface come over to the create prize
form and say you have to pass in let's
call it caller I prize requester caller
so now it's saying someone's going to
call you I don't know who but they will
have this contract so pass it in as
caller and then up here we're going to
say I prize requester calling form and
then in our initial I after initialize
components we can say calling form
equals caller so what that does is it
creates a variable app the class level
that stores whatever is passed in to our
constructor and why is this valuable
well we need to know this outside of
this scope so right now caller is only
available inside the constructor scope
but now you want to have it available in
this create prize button on ask or click
event because what we're going to say is
calling form dot and notice here we have
the four standard from Microsoft equals
get hash code get type into string we
also have its method called prize
complete and takes in a prize model we
have a prize model called model
and with that we have called our parent
who ever called us we've called them and
said I'm done and here's that model you
asked for the fully completed model and
this model will only be created if it's
a valid form and they said yes I want to
create that price now you can actually
get rid of these I'll comment them out
for now because we're actually going to
then close our form this dot closed
which will close this current prize form
these we're done we have said yet we're
complete and here is the completed value
you asked for so now we can come over to
our creator net form and we have an
error create price form frm equals new
create prize form nope we have pass in I
prize requester well we don't have one
of those or do we hope we don't but we
can say I prize requester this class is
going to be our I prize requester this
class being our create tournament form
we just need a control dot here and
implement that interface and now we can
pass in this now what is this well so
this keyword represents this specific
instance meaning inside of our fully
built house we can say I know who we are
I know where we are and so basically we
look outside the front door we read off
of the mailbox our address and hand it
to you and say this is where we're at so
this
represents this specific instance this
instance being a creator net form class
but more importantly for the create
prize form we're also an AI prize
requester contract FULFILLER we said yes
we'll fulfill the I prize requester
contract therefore we can pass that into
this create prize form just fine now
does that mean we're locked into then
only this form can call create prize no
anything it doesn't have to be a form
anything can call this create prize form
as long as they implement the I prize
requester now we're loosely coupled the
prize form doesn't really know who we
are it just knows that we implement the
interface now the create tournament form
knows about the prize form because it
has to know that specific instance to
call and that's okay so now we have to
actually implement this interface so
what happens when the prize is complete
well that's actually these two right
here
so let's cut them out of here and now
really the create prize button just
opens up the form and here is where the
magic happens
actually this step is already complete
the get back from the form a prize model
that's right here so now we just need to
take that model and add it to our list
selected prizes dot add model and the
final step is then to wire up the lists
again because our list has changed and
you want to see that
would be everything we need to do let's
find out if it actually works
we're going to run this and we're going
to say create price and that pops up our
form let's call this prize the place
number is four fourth place and the
place name is almost bronze the prize
amount is five dollars create prize it
went away and we have now a prize in the
list called almost bronze so that's it
we've actually accomplished our mission
of wiring up this button it really
wasn't that hard we just had to know the
steps to do and now we know the steps to
do we can do this one much easier much
more quickly because it's the same
process so this time let's do it in a
little different order since we know we
need that interface let's right-click on
our property I'm sorry our project and
say add new item interface and we'll
call this AI team requester we'll make
it public we'll add that one method to
it void team complete team model control
dot add the using statement and now our
interface is complete copy that
save it and now in our create tournament
form we need to add that interface as
well and we'll control dot to implement
it now notice that this class inherits
from form and you can
Herot from one thing but inheritance
means it brings with it the methods and
properties and other public items from
that form class but then also implements
not one but two different interfaces and
you can implement as many interfaces as
you want because an interface doesn't
actually bring in code it just is a
contract and it says you will fulfill
this contract you can have extra stuff
and boy do we we have lots of extra
stuff and that's okay we just need to at
least have the items that we said we
would when we said this contract is
attached to this class so we implement I
team requester let's go down and
actually wire it up it's pretty easy
selected teams dot add model and wire up
lists and that's it so now this is wired
up so we can come back over here to our
design double click on the create new to
the link click notice it's a link click
link clicked versus the click and that's
because this is a link versus a button a
little bit different but the default
event is what we want so that's good so
when you do a create teams form frm
equals new create teams form we're going
to pass in this now it doesn't take that
yet and that's okay
frm dot show so the last thing to do is
modify our create team form to take in
our interface
caller and we will say private eye team
requester calling form and then after
initialized components we will say
calling form equals caller so now the
create team form at least knows who to
call when we've completed a team so now
you can come down here to the the button
that actually creates a team and if
you're not sure which one it is now it
says create team button on a square
click you could open up the form double
click on a button and we'll take you to
that event as it to do here if we aren't
closing this form of creation reset the
form we can actually take that out if
you are closing the form and also going
to take out this t equals we don't need
it instead we can say we need to call
the calling form dot team completes T
and then this dot close so we called the
parent and said yep we're done and then
we also close this form and now if we
run this we should be able to add a team
as well as adding a price so you have
one team here team first place let's add
them and now we can create a new team
and brings up this box right here let's
call this place the uncanny losers and
you only have two people let's add a
member whoops
such a movement member let's add new
person Joe Smith
Joe and smithy calm five five five one
one one one and then his brother Billy
Smith bill at smithy calm five five five
two two two two so now we have a new
team called the uncanny losers with Joe
Smith and Billy Smith we create that
team and there they are uncanny losers
so it looks like everything is wired up
the way it should be
now we just need to wire up these delete
selected and actually I believe the
other one said remove selected let's
check that out the create team says
remove selected let's keep that same
syntax so and let's get rid of all these
pins out need let's close all documents
and open up this one all right so let's
change this go to properties and set
delete selected we're going to say
remove and we'll come down here and also
change this language to say remove and
do the same thing down here change both
the name and the text to say remove and
then let's double click on this one
right here and now we remove one from
the list again we've done it before so
let's go to our create team form open it
up double click on remove selected and
here we have the remove selected member
button I'm going to copy this close it
out and
close out this as well oops not this one
this one and over here may not paste
this in and comment it out again this
just given a pattern so I know that yep
I'm doing this right and so we first
need to grab the selected player or team
so team model T equals team model in
parens team members list box that's not
it
what's it called its called tournament
teams list box tournament teams list box
dot selected item so we take in a
selected item cast as a team model is
the team and then put that into our
variable and said if T is not equal to
null selected teams dot remove t
available teams dot add T and then wire
up lists so it really is almost exactly
the same as here it's just a little bit
different in how we do it so in this
case we have term a team list box and
selected teams and available teams so
that's how we do the remove a selected
team or player from this box now for the
prize and I'll do both in the same shot
since they're pretty similar I'm going
to say prize model P
equals prize model prize list box prizes
list box selected item if P does not
equal null selected prizes dot remove P
and available you'll have an available
prizes so we can take out a list but
here is the one the one rub the one
issue and that is if we take it out of
this list we have nowhere to put it
because we're not storing those remember
these are specific to the tournaments
and we're not going to worry about
reusing them for different tournaments
so if we take an autist list box we're
really saying we don't want to get rid
of it now here's where a debates gonna
come in means if we get rid of it here
we should probably delete it as in
removed from the database removed from
our text file everything but that raises
the question database is fine because a
database keeps track of which IDs it has
used in it and makes sure that it
doesn't reuse them but what if instead
of this being the creator net form well
if you're modifying tournament and we
said I don't want those prizes remove
them and they get deleted and then we
say oh never mind I'm not going to save
this what's kind of too late those prize
has been deleted whereas if we didn't
save it and we also didn't delete those
prizes then those prizes would still be
there and nothing would have changed so
that could be an issue it's definitely
an issue with a text file because if we
create a price that is an idea of one
we create three more they get ideas of
two three and four but then we delete
those prizes so we delete two three and
four now we're going to add a new prize
it's going to get an idea of two not
five because it doesn't see that the max
ID is actually supposedly five there's
nothing to tell at that so that could be
an issue if we remove something but then
didn't really save the record or had
some other kind of issue and so in this
case I'm thinking that even though we
may create prizes and then disconnect
them from everything and it's going to
sit there I think we should leave them
where they're at and just not delete
them and so that's that's something very
new way but if you want to say no you
know what I'm going to delete it then
all you do is put that in the code right
below this line but for us this line
does all we need to do we're not going
to save anything we're going to save a
delete or perform a delete so now let's
test to make sure this form works the
way it's supposed to let's add a team
actually add two teams notice uncanny
losers has been saved let's create a
prize prize the place number is let's
look at a 1 and say first winner which
makes no sense that's okay
hundred dollars create the price now
let's test removing let's remove uncanny
losers they go out of this lists and
back into this list let's remove the
first winner and nothing happens and the
reason why is because we didn't actually
put that wire up lists
after this item right here because it
got distracted that's why it's always
good to follow pattern because it's very
easy to see what you haven't have not
done so let's just test this again
always test again you know your theory
students going to work we will create
the prize create a prize for 10 10 place
$1 create that prize 10 place in the
list
remove selected now nothing is in the
list perfect exactly we want and that
wraps up all the pieces that we needed
to do today we wired up the Create new
link and the create the create prize
button both those add to the respective
list boxes and we also wired up the
remove selected for both the team and
players box and also the prizes box now
you fully wrap up for today there's one
thing that you may have noticed and some
of you may be going crazy thinking that
we've already broken our application and
that's because in the last video we
wired up the selected team the list box
for the teams and also the prizes and we
implemented everything in sequel but we
didn't implement anything in the text
files so that was an oversight and
that's one of those things where we use
that not implement exception to our
benefit in the fact we can compile for
sequel but we never actually tested it
by switching over to type text file and
if we did that we get that error throw
new not implemented exception now the
good news is that no matter how far down
the road we got if we try to switch over
text we'd get that error so we know that
yes we've got a problem
so let's go ahead and actually in this
video finish off this get team
underscore all entry and if we look up
here to our create team we see a list of
team model called teams team file dot
full file path load file dot convert to
team models that is the code we need we
copy it paste it we return it because
this returns a list of team model which
is exactly what we need let's make sure
that works we'll run this no crash and
now we have no teams so let's create a
new team and we'll say the team name is
let's call it the best team will add Joe
Smith and Sue Storm and we'll create
that team and we have the best team now
in our list which also remove the
selected and now in our drop-down let's
close this out start it up again and
notice that our drop-down is empty so
you have some kind of issue going on
we're not quite sure what yet so let's
do a little bit of diagnostic work as to
why this isn't getting us what we need
so let's put a breakpoint on this line
and run again and this
we break in this line where I step into
our code so first get the full file path
then we load the file notice here's the
file name it reads all the lines then we
convert to team model I notice here is
all the lines of our file this is one
line it says ID of one it's called the
best team with verse number one and
number two in the list great so now we
create our output model which is empty
that's perfect we load our people model
let's step back out of that and step
over that code that gives their list of
people and we have Bob Smith Sue Storm
and Joe Smith notice IDs 1 2 where Joe
Smith and Sue Storm
so for each line in lines we have one
line so this once we're going to split
on the comma and now we have 3 columns
and those columns are one the best team
and that one cup one pipe too so now we
parse that int for ID the ID is 1 the
team name is the best team that's fine
we take calls too which is our one pipe
- we split base of the pipe and now we
have two person IDs a 1 and a 2
and we say for each string ID in person
IDs and rest say ID parse and rest say
people where X dot ID that's the ID of
each individual item so 1 2 &amp;amp; 3 equals
the parse value of ID which is 1 take
the first one add that to our team
members skip over that and look at our
team members we have 1 and that first
person is Joe Smith ID of 1 that's great
and I'm going to step over this again
and what step over does it kind of skips
going into anything in this line instead
just continues on the next line in this
file so now team members is - that's
great now have any more people I'll have
more lines so I returned our output
which is 0 well that doesn't seem right
why is output 0 well if we look we
create a team Model T we populate it we
never said output dot add T there's our
problem so as I step into the code does
this shows you where your problems are
because you start seeing unexpected
results and that's where you start
looking even heavier at what's going on
now if you run this it should be that if
we start this that we can go ahead and
take this breakpoint off and just hit
continue now we have in the drop down
the best team if
we add that team because oddest lists if
you remove it goes back into this list
so now we have a working text version as
well as our sequel version all right so
that's a little bit of back work stuff
we've forgotten stuff that we needed to
work on making right and that's going to
happen you're not going to get
everything perfect the first time you're
not gonna remember everything and
especially when you're starting off you
get a lot of bugs because you forgot
where you were and even noticed when
I've been doing this I've had a couple
bugs where I just forgot to finish what
I started and so that's where I
encourage you to write things down or
make notes or add to Do's and especially
if you're thinking about things that
aren't really on your the line you're
working on right now instead of thinking
down those paths stop write it down and
get back on the main path and what I
mean by that is I remembered that I
hadn't implemented that that text side
of things I remember that a while ago
but instead of stopping what I was doing
and interrupted that flow I just made
note of it and then I didn't have to
remember to do that and that remembering
cut eats up brainpower and so instead I
put on my legal pad and said do this and
then I can come back to what I'm doing
and give it my full concentration
because I'm not worrying the back of my
head I'm enough forget something so
that's I encourage you to do write
things down use patterns like I've done
so in the code behind for this we have
these patterns here that actually copy
and pasted from the other form just I
could see the same pattern and do the
same pattern because doing the same
pattern every time makes it easier to
spot when you've forgotten something
like even here
kind of obvious to see that this pattern
doesn't quite match up to this in that I
have two items here and only one here
now it's intentional because I don't
have anything to add it to by the same
time you're going to wait wait that
might be an issue and that's great it's
triggered your brain to say I recognize
this pattern and it's a little different
and so I make sure that that difference
is okay if you didn't have this pattern
you would never look at a line of code
and just go and look right so those
patterns really help you keep yourself
in line all right so let's review one
more time make sure you've got
everything
we have wired up our drop-down and this
link these two buttons these two lists
these two buttons and now we're just
waiting to wire up this create
tournament button which takes in the
tournament name the fee and then the
values for these two entries and saves a
database now the cool thing is we're
going to do more than just save the
databases this next time because yes
rest save as information but then we
actually have to take this information
and scaffold out our tournament meaning
if we have four teams we have to pick
which to play each other in each of the
two first games and so we have to create
that list so that we can start our
actual tournament which is it could be
great we actually see something working
so make sure it's the ground for that it
will be a lot of fun before you go
you'll see a link in the left pilots
course check out the intro video on this
playlist for more information what you
get if you pay also if you are ever
wondering what you could do to help this
channel out without paying money I've
listed six things that really help
I appreciate if you consider doing one
or more of these thanks again and don't
forget to keep practicing what you
learned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>