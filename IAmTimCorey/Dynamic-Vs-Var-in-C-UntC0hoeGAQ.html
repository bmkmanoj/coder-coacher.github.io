<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dynamic Vs Var in C# | Coder Coacher - Coaching Coders</title><meta content="Dynamic Vs Var in C# - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dynamic Vs Var in C#</b></h2><h5 class="post__date">2017-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UntC0hoeGAQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">using the dynamic keyword versus the VAR
keyword in c-sharp can be confusing in
this video I'm going to walk you through
the similarities and the differences
between the two and when to use each my
name is Tim Corrie and you're new to
this channel welcome my goal is to make
learning c-sharp and related languages
as easy as possible if that appeals to
you go ahead and hit the subscribe
button down below also have a mailing
list and a Facebook group down the
description below they can click on and
join if you join a mailing list you get
access of special discounts and insider
news if you're a regular viewer don't
forget to give this video a thumbs up so
let's jump right in to visual studio
here I've got a console application
started if you want to follow along just
make sure you create a dotnet framework
console application I set up a bit of
sample code so we can jump right into
the demo I'll start by showing you how
to create both a dynamic object and a
VAR object so let's start with a dynamic
object and we'll call this dynamic let's
call it test dynamic play install
dynamic and will sign it nothing at
first
and that works and now let's say var
test var and sign it nothing notice the
very first thing happens is we get a red
squiggly on the taskbar and that's the
first real difference between these two
under the hood dynamic is really just
object that's all it really is whereas a
var actually changes at design time to
be whatever you assign it to be
initially the problem is that means you
cannot create a variable without giving
an initial assignment even if I came
down here later and said test var equals
one that still won't work
because it needs to know right up front
what data type is going to be we unlike
dynamic which is under the hood and
object Lavar under the hood is whatever
you actually assign it to so for example
if I were to say var test of R equals
two now taskbar is actually an int that
means we can only assign int values to
test far meaning if I change this to one
point one that's not going to work and
says one point one of the double but you
can't put that into an int if we zoom in
here notice actually says int test far
even though I get the key word of var so
that's the first and most important
difference dynamic is just essentially
an object and can actually change
whatever type it is at runtime whereas a
var is a statically typed you can't
change and given that type once as
creation so that's case when we create
it we put in two therefore it said I
have to assume I'm an integer
because you gave me an integer to start
me off if I said 2.1 now look the air
goes away because now var is a double so
your initial assignment of var is very
very important now before we go on I
want to talk a little bit more about
dynamic I keep saying under the hood
it's an object but that doesn't mean
it's the same as object we could say
object test object like so so why would
we ever do dynamic well dynamic takes
object to the next level it allows us to
kind of hide away a lot of work
boxing unboxing all the rest that comes
with converting value types and let me
show you I mean so let's take this test
dynamic and do something similar to we
do a task VAR let's say test dynamic
equals 1 so that could be an integer
because 1 is an integer but now let's
say test dynamic equals test dynamic
plus 2.1 guess what that works in fact
we could say let's output that to a
console just so i can see the value of
it and we'll put the console dot
readline at the end so it pauses let's
run this and see the value the value
right here is three point one that means
it took that initial int and added a
double to it that's an int that's a
double now it did that by converting
this and it said okay that int can't be
an INT anymore it's got to be a double
now it will convert it and then add the
other double to it so behind-the-scenes
doing some conversion now you may say
this is awesome I can use dynamic for
everything but it takes care of all of
modification slowdown dynamic is not
something used very often in c-sharp so
I want to get that out of the way right
away so don't you know stop the video
right now walk away and say you know Tim
showed me how awesome dynamic is all the
variables are dynamic now don't do that
and here's why there's a cost to this
conversion adds a pretty significant
cost when it comes to processor cycles
so that that conversion isn't something
you should do all the time it's not
something you want to do if you can
avoid it that's one thing another
thing is that we lose all of this design
time error-checking
there's practically no error checking
around dynamic there's no intellisense
around dynamic in fact pretty much
Visual Studio just gives up on dynamic
and says do what you want to do I don't
care I'll figure it out at runtime the
problem with that is it's very hard not
to introduce bugs and they're all at
runtime and runtime is not the place you
want to have bugs especially ones that
don't always show up so for example I
could say test dynamic dot say hi now
yelled at me and says use of unassigned
local variables test anak so there is a
little bit checking but check this out
let's go back up here and I'm going to
say equals empty string look at that my
error went away the only thing it
checked for is did you start off with a
value so since I started off the value
it says you might have a method in there
called say hi we don't but you might we
run this I get an unhandled exception
string is not contained definition for
say hi but notice that's at runtime not
at design time if I were to say on this
taskbar test var dot set notice
intellisense first of all say hi it goes
no no you don't have a say hi on this
double because again it's strongly typed
it's essentially the same thing right
now as this is let's have a little more
fun and actually wipe out most of this
stuff right here and start over instead
of assigning them initial values of
empty string a double let's assign them
a new person
now I create a person class over here it
has two properties first and last name
and a public void say hello that writes
the console hello and your name that's
all there is to it
so I said test dynamic equals new person
great I'm going to do a same thing over
here for my and it's not a double
anymore actually a VAR they both seem to
work so now let's say test dynamic dot
notice no intellisense first-name equals
Tim doesn't yell at me because it won't
test dynamic dot last name equals Corey
now the problem here the first problem
that I see is with no intellisense what
if I did this now C sharp is case
sensitive that's not valid does he yell
at me no so if I don't notice I miss
type something I've got a runtime error
that's a problem for me test var dot
first name again intellisense equals su
test var dot last name equals storm now
I can say console.writeline let's do
test dynamic first and the method name
again is it stuff come back over here
and says say hello so say hello and
we'll do the same exact thing only we'll
do with test var now again it's in the
intellisense list and saying here
because i originally assumes say hello
returns a string but notice it returns a
void it didn't yell at me here but here
it says no no you can't do that in a
console.writeline well console.writeline
inside of it so we just need to call the
actual
there we go so now we're calling that
method let's run this pull over here
hello Tim Cory hello sue storms they
both work the difference is this is
harder to use but it works versus this
one is really easy to use if you have
same as having person test var equals
new person now let's get a little
squirrely here and say test dynamic
equals hi then let's say test var just
to show off
equals hi and it says no you can't do
that you can't assign a string to a
console you i dot person so you can't do
that but we can with test dynamic or at
least doesn't yell s let's see if it
actually worked so I'll say
console.writeline test dynamic that
should be a string now I'll run this and
we'll see hello Tim Cory hello Sue Storm
and hi so I changed the type of test
dynamic on the fly at runtime and it was
ok with it so it wiped out that instance
of person and put instead a string now
can you imagine the problems you could
cause with this type of solution
imagine you have a method that has say a
hundred lines of code in it probably not
the best method you should probably have
shorter smaller methods to do one thing
and do it well but say you do and your
side I'm going to create a variable the
top it's going to say maybe a variables
name is first name and you put first
name equals Tim and then later you say
well get this first name object that I
want to use and so I'll create a new
instance of it and put it into a
variable named first name
well and that's a contrite example but
say you do you've just stepped on the
toes of your variables and you don't
even know it you don't know that you're
overriding that variable is a different
type you can't tell what that type is
and so you can cause a whole bunch of
weird reactions in your application
because you can change the type it will
imagine if you had a addition formula
and you had a value of X but then you
put a string into X well if you take a
string in X and then add 2 to it it's
going to append the number 2 to the
string not add 2 to your number so weird
reactions can happen very easily and one
last thing just to reiterate I can do
this test dynamic dot email equals test
add test calm and dynamic says sure why
not until I hit the start button and
that says no because there is no
property called email in a person object
so again dynamic versus var var is
strongly typed and it is statically
typed meaning you can't change it like
we can dynamic dynamic is changeable
it's flexible you'll switch from a
person instance to a string no problem
whereas this this test bar has now been
locked into being a person instance it
can't be anything else for a lifetime of
this variable now let's talk about one
more type a way to use dynamic so let's
clear all this out we really don't need
it
in fact we don't even need these here so
we'll actually now let's start them off
as strings for both of them just we have
something there but we don't really care
what
right now so this is a method it returns
a string a string is this is a test so
we can say console.writeline get message
and that will return this is a test on
the console all right so that's that's
pretty straightforward
nothing to do with dynamic or var what
we cannot do is this we can't return a
VAR type that won't work but we can
return a dynamic type and if we do that
this is a test so it comes back is a
dynamic object which in this case is
just a string so if you're creating a
method the return type cannot be var
because we have to know the return type
specifically and it can't infer it based
upon the signature line in so that since
I can't read infer it then you can't use
it so you can't return a VAR but you can
return dynamic because at the root of
its dynamic is just an object with some
extra stuff attached to it so go ahead
and do it not a problem
now you should for most instances I'm
not saying do this I'm just saying this
is possible now let's talk about why why
and when so let's start with dynamic
when is dynamic needed well Microsoft in
c-sharp has built a strongly typed
system meaning everything has a
definitive type like a string of the
string it can't change other languages
say JavaScript JavaScript only has one
fatal type with called var
and anything can change of our me of our
can strop as a string it can change to
an int it can change to a double it can
change to an object and so if it acts a
lot like the dynamic keyword c-sharp is
not that way it's not designed to
operate with dynamic variables it's
designed to operate primarily with
strongly typed variables strings
intz class instances and those shouldn't
change over their lifetime they should
always stay the same but microsoft did
see a need for a dynamic keyword when
we're talking to other languages or
other systems for example if you try and
bring in a Python application or a
Python API or Ruby or a comm object it
makes it much much easier to work with
those if you have the ability to have a
dynamic object and so that's what the
dynamic keyword is for so if you're
using things outside of c-sharp and
talking to them dynamic might be useful
in that case and it might be the best
solution however if you're doing just
c-sharp code Dhyana is almost
universally not the right option
conversely VAR some people swear by
using var for everything so if you're
going to declare a variable it gets
declared as var and that's actually a
preference that can be set inside of
intellisense so it says you know if you
say string first name it goes how about
you use var instead and as actually
people will argue all day of over let us
say var or string for a type I'm not
that type here's here's the argument for
one side and on the other the argument
for the var only side is that your code
should be self documenting
and you shouldn't rely on seeing that
says string in order to know that this
is a string so it should be obvious what
the type is by your variable names so if
you have a variable name that's not
obvious
having the var in front of it kind of
forces you to say wait I should call
this age number or you know age in round
in whole numbers or you know some kind
of descriptive variable names aren't
great but descriptive variable name to
say what this is not doing the Hungarian
case of int age that's not they're
talking about but just good naming and
so it says you know what if you really
know that type is just mouse-over
they'll tell you and so they've are
everything the other side says you know
what it's clear to say the actual type
is and so if you have the opportunity
say string why make things more
difficult by not giving an actual type
and making the reader actually mouse
over something to figure out what it is
so that's the general argument there's
more much more to be said on both sides
here's where I'll and I typically in my
programming will use the actual types
for the normal ones okay string ends
double decimal and all the rest one of
the reasons is because double versus
decimal that's a tricky one because if I
say let's go as a test of our again
equals 1.1 cool what type is that well
it's um double what if I intended to be
currency which should be typed decimal
well I should have add the end of it a
capital M and now it's a type decimal
that's easy to forget but if I were to
say double
my money equals one point one that's
going to work but if I said decimal my
money it goes no no that's a double this
is the decimal so having a specific type
especially this this one case really
helps me because if I've said I want
this to be a decimal then it's going to
force me to make sure I use that capital
M at the end to indicate that static
number is in fact a decimal so that's
one little edge case the other thing is
I like my code be readable now I try
very hard to make good names out of my
variables but I don't think it hurts
anything to also have in front of it
string so if I have int age you know
it's an integer a whole number for the
age where if I have double age you know
I could I could mean you know 1.2 years
old so those kind of things I like to
specify and just just make sure it's
clear however there are times when I use
bar one of them is when something is
long okay I came across this the other
day when I was creating a video where I
had a list of a list so a list of a list
of let's just say string roast a person
that's kind of long to type out it's
even long it's also as long when you say
for each and you have list of person
item in P well here I cut out that
typing by saying var
here at Kappa typing by saying var now
since I have this right away in the
assignment it's pretty clear it's very
clear what this variable is and here if
I had named things right then it'd be
cleared well now in my case I had the
variable name was rounds this is the
tournament tracker so it had a number of
rounds so I had var round in rounds
that's pretty clear this is multiple
rounds this is one round so that's one
time I use var when it's long
another time I use var is when I don't
know the type you might think well why
wouldn't you know a type well let's look
at this var my my item equals new
anonymous method and I can say first
name equals Tim and email equals tests
at test comp this is an anonymous object
it doesn't have a name I created on the
fly so how can I then say what type it
is doesn't have a type of anonymous
therefore I have to use var now just so
you know how this demonstrate is real
quick if I were to say console.writeline
and let's just do our dollar sign double
quotes and say hello I can say my item
dot check us out intellisense anonymous
object hello first name your email is my
item dot email like so if we are run
this
it does in fact run answer to load team
your email is test a test comm so that
works and the only way to do this is to
use the VAR keyword
similarly if I'm using a link query
where I'm creating a I'm returning a
subset where I'm saying select these
items I'm creating a list of anonymous
objects in which case again I use the
VAR keyword so that's how I use it I mix
and match what I have the simple types
or like even my class instances I
typically type it out but if it's long
or if I don't know the type or if I come
across something where just make sense
to use var in my opinion so that can be
you know it can be a subjective but I
don't feel a problem using var there's
no problems it is strongly typed but in
the normal cases I use the actual type
so that's that's my differentiation of
when to use barbara's is when to use the
actual type name but as far as dynamic
goes I almost never use dynamic it's a
really powerful object but it's
expensive and it's not designed for
typical c-sharp application it's also a
lot harder to use inside a visual studio
because of lack of intellisense
and a lack of design time error checking
so that's a difference between the VAR
and dynamic I hope you got a lot out of
this but I'd love to know what you think
so leave a comment down below let me
know you think of this and if you
understood also I love to know what your
personal opinion is on using VAR versus
the actual type alright thanks for
watching and as always I am Tim quarry</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>