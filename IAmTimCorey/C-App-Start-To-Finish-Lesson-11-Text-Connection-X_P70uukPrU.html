<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 11 - Text Connection | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 11 - Text Connection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 11 - Text Connection</b></h2><h5 class="post__date">2017-06-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X_P70uukPrU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 11 in the C sharp from
start-to-finish course my name is Tim
quarry and today we are looking at how
to save data to text files in the last
video we wired up our connection to
sequel we also did a few housekeeping
things that hopefully will set us up for
success going forward now we need to
make the text connection work like the
single connection does in that we take
Enterprise model and return a prize
model with that ID filled out so let's
look at how to do that before we get
started in the lesson I want to remind
you to subscribe to this channel if you
are subscribed click the little bell
icon make sure you're getting the alerts
when I add a new video and while you
check on that could you also give this
video a like I know that we're just
getting started but liking a video is a
simple way that you can make this course
more popular and that helps everyone it
increases the visibility of my videos on
YouTube which generates more income for
me it helps others out because they get
introduced to this valuable content and
it helps you out because I'm able to
produce more free videos ok so let's get
back to the lesson here we have our
solution you can go directly to the text
connector into the data access folder
and this is what we need to wire up so
right now this is a sample code and just
like before grab delete that out now
again just like with a sequel connection
the very first thing you need to do is
figure out where we're going to store
these text files now it is plural we're
going to store our data in more than one
text file my thought is that for each
one of these models so match up entry
model match up model and all the rest
for each of these we're going to store
them in their own text file so
essentially it's a list of that item in
each file or if you think of it in
single terms it's one table per text
file and text files are really cheap to
make and that's the best way to putting
data in in a way that's efficient
in getting back out and not confusing
one with another so we're going to store
our information in multiple text files
in this case we'll store the prize
information in the prize text file so we
need to know where to store these files
and so instead of storing a file named
regress toward the the path to where all
the files go and then all the files will
be in one folder path and that seems a
little bit like the connection string so
we'll actually store this information in
the same spot so go over to the app
config of the tracker UI project and
here we have our connection string and
we're going to in here a new section
under configuration and call it a
petting inside app settings we're at add
a key equals file path and the value
equals and in my case that value equals
this path right here so C colon slash
data slash tournament tracker no slash
at the end of that so it depends if you
want to put the slash there or not we're
going to have to add that slash in when
you put a filename but I like to have
this without a slash because that would
be the more correct syntax for Windows
so let's leave like that so this now is
a key in the values with key value pair
kind of like a dictionary object so if
you look up based upon this name and get
this value just like we look up by this
name and get this value the only
difference is this is more generic just
any app setting whereas this is specific
to a connection string so back
over here in our text connector class
when you start wiring up the helper
methods that will allow us to talk to
those text files but before we start
writing code let's work on the plan and
I'll show it my plan is so here when you
say write a price you know create a
prize so save that created prize to the
text file what I'm going to do is first
read the text file of the prizes will
load all the text for the prizes that
are currently in that text file and the
reason for that is because I need to
know what the new ID is going to be
unlike sequel text files don't create
auto incrementing IDs so I'll load all
the prizes up I'll read through to find
what's the highest ID and use the
highest ID plus one as a new ID so I'm
first going to load the text file then
I'm going to convert the text to a list
of prize model and from there I'm going
to find the ID add the new record with
the new ID and then finally I'm going to
convert the prizes to a list of string
and from that I'm going to save the list
of the list of string to the text file
okay so it's a lot of work but when
you're talking about text file data
access you're going to need to some work
that's just what it comes down to
because text files are not the
intelligent system
the relational database is there pretty
much just stupid and so we have to be
the smart ones we'd secretly rely a lot
on sequel smarts but with text files
it's all in us so in this case we're
going to load in a text file that's
going to come in as a list of string
we're going to convert that list of
string to a list of prize model we're
going to find the ID the maximum ID
there's a max here we'll add a new
record with that new ID which is the max
plus 1 to our list we'll take that list
then the list of prizes and convert it
to a list of string and then save that
list of string back to the text file
overwriting what was currently there
seems a kind of simple right now these
steps right here each of them is going
to be a different action and we're going
to try and keep these separate because
loading the text file that isn't based
upon which type of model you're using in
this case prize model we just load the
text into a lesser string which means
that we don't have to limit that code
just to this method converting the text
into a list of prize model yeah it's
pretty much limited to just this method
there are ways and tools we could do if
we got really complicated where we could
have one method convert anything to any
kind of list and if you want to pursue
that path I recommend using a tool like
Auto mapper to map from one type of
object to another next the final max ID
that's pretty simple we use some the
link queries in order to get the max ID
adding the new record is just adding one
to a list
but then converting that prizes to a
list of string that's going to be a
custom to the this type of model but
then this right here again is something
that anybody can any method can do which
is say the list of string to a text file
so you kind of break these apart first
of all so that each method does one
thing and does it well and then also so
that other methods can use the methods
that are kind of generic the ones that
don't really rely on a specific model
type now I do this I'm actually going to
create a new class and it's a lot
different ways you can do this new class
there's a lot of different places you
could put and there's not seemingly a
great place to put it I'm going to put
it right in data access but it kind of
fits with data access it's just as more
data processing and it's related
specifically to the text connector so
I'm going to add a new class I'm going
to call this text connector processor
dot CS now this is the system I'm sorry
in the tracker library data access
namespace right now I'm actually going
to change that namespace IMSA dot data
access dot text connector and the reason
why I change that namespace is because I
don't want everyone to get cluttered up
with what I'm going to do in here so I'm
going to give a separate namespace so
that only people to have that using
statements get the extra clutter this is
going to create and I'll show you why in
a minute
but the key thing to plan on here is
these namespaces they're really anything
you want them to be you can change them
however you want as long as the valid
string I would stick with just letters
and the dots to separate
trying to go crazy with special
characters that can just make things
ugly but in this case I'm going to say
dot text connector this class I'm going
to make it public static class text
connector processor that's a mouthful
that's okay
the very first method I'm going to put
in here is a public static string full
file path takes in a file name and what
this method does or is going to do is
it's going to take in the file name the
file name would look something like
let's go to prize models dot CSV that
would be the file name what this is
going to do is take that file name and
return back the entire path remember
that in the app config we have this C
colon slash data slash term a tracker
that's the path where all of our files
can be located and currently just so you
know that's an empty folder right here
so right now it's empty but once we
start saving things we'll start seeing
files appear here for each of our
different models so this whoops button
right here it's going to take this it's
going to prepend this right here so it's
going to put this first then put a slash
and then put whatever you pass into the
file name in this case prize mile dot
CSV how do we do that well this is
actually pretty simple I'm going to
one-line this I'm not always a fan of
one-line here's why when you do things
in one line it's harder debug because
with one line it does everything in line
and you can't see what the value is a
one step as easily but in this case it
makes sense so I'm going to do that
return give a dollar sign syntax
which this allows us to concatenate
strings together put them together kind
of you know add them together easily in
a way that's more intuitive and also
more performant just put my cynical at
the end just on complete before I go
back and start writing here I'm going to
start off right away with my curly
braces and say configuration manager and
it says nope I have no clue so I control
dot and say using system configuration
so configuration manager dot app
settings file path inside quotes and
inside those square brackets file path
close curly brace so what this does
right here this section is it goes out
and says okay configuration manager app
settings well that just happens to refer
to these app settings and it says here's
the key remember
the dictionary so here's the key and say
ok that looks like key found it I'll
return the value so that value comes in
place of this so now we have that C
colon slash data slash torment tracker
after the curly brace we need a slash
but here's the kicker inside of a string
if you put a slash that's the escape
character with the escape character
allows us to do is to escape out of that
string to put a special item but we
don't want that what we want is a slash
now if we weren't if this is a regular
string we could put the @ symbol in
front of the string and it would say no
everything inside string is just text
it's not a special character or escape
character but in this case it can't
we're using the dollar sign so instead
we have to say flash
- because now we are escaping this is
the escape the first one the second one
is what we're escaping so it's saying
treat this next thing as a real string
and it's the slash so essentially this
will translate into one flash all right
next we're going to put the curly braces
again right after no space I'm going to
say file name we'll take the extra space
at the end so file name is the file name
pasión so in this case what we do is we
start off with C colon slash data slash
torrent tracker that's this right here
then we have a double slash which boils
down to one slash like so now we have a
file name file name is prize models dot
CSV and that looks like a valid file
path and name it is except for one fact
and that is the file doesn't exist yeah
and that's no big deal
so today your comments out here so this
method all it does it it says you have a
file name cool I'm going to give you the
full path in fact we can change this
save this so now it says this string
file name and what does that do well now
this becomes an extension method and so
anytime we have a string since this is
this string that means that we're
attaching to this string right here and
said ok that's whatever we're passing in
goes into filename so it's going to say
whatever string we have dot full file
path
open closed paren we'll return the name
of the file in the full path so again
that C colon slash data / Tracker /
prize models CSV let's get a little
easier to understand when you see it if
you're confused about extension methods
I do have a video on my youtube channel
they'll help you out with that and we're
going to use a couple more of these but
and this is the reason why I have this
special main space that only this file
uses because I don't want this extension
method everywhere otherwise if I'm in my
single connector and I have a string and
I put a dot at the end it's going to say
full file path well that makes no sense
the sequel connector doesn't need to
have this txt file manipulation stuff
the only place really needs to have this
is the text connector class but in order
to have these extension methods I have
to have a separate class it has to be
static class in each method in here that
says a extension method has to also be
static so that's why I had to create the
separate text connector processor CS and
why it's static and static alright so
that gets us started by saying OK in
here we're just going to pass in the
name of the file which we can hard code
if you want to say prize models so we
can pass that in and it's going to give
us the full path to that file before you
leave this right here we need to add
another extension method public static
and this is going to return a list of
string and this we load file and grab
say this string file
and what this will do is it will take in
the full file path which we're going to
get from here it's going to take that
and it's going to load that string now
let's let's grab this over here let's
grab this right here because we'll be
easier to see once in here all right so
this right here load file corresponds
this first entry right here load the
text file all right so first thing to do
is check to see if this file right here
exists remember I said that this folder
is empty and that's okay which it really
should be we don't want to create these
empty files for everything we need we
won't let the system do that so the
first thing to do is say if not file not
lower case file upper case file and it
says I don't know what that is so I do
my control dot and say using system
Daioh if not file dot exists file okay
so what that is there we go what this is
it says this method right here file
which is built into Microsoft it's in
the system dot IO namespace so if system
dot IO dot file dot exists so the exists
returns a boolean mature or false we
pass in the full path to the file and
it's going to check to see if that file
already exists and I'm saying if it
doesn't exist that's the not in front of
it if not exists now that confuses you
or if you really think you might skip
over this you can most definitely take
this out at the end here before the last
paren put double equals false
if file exists equals
guys the same thing in fact there's no
performance hits to doing this versus or
not therefore if that's what you're
comfortable with please by all means do
that you will see government f there you
will see this more commonly in the
production environments of businesses
it's just a more accepted syntax because
a little cleaner a little tighter and
it's what we do
so you're going to see this and a lot of
people will swear by us and say that's
the only way to do things it really
doesn't matter except if you're trying
to match somebody else's standards if
you're just learning how to develop do
what's going to make sense to you okay
that's my little soapbox just do it make
sense to you don't get suckered into the
well you know this is the best practice
for when I'm a boo-boo developer that's
great but if it's going to limit you
from becoming a good developer don't do
it do what's going to get you to the
next level don't try and jump four
levels up all at once okay so the file
does not exist we can't read from it in
that case return new list of string but
if a file does exist we're going to
bypass this right here and come down
here and we're going to say return file
dot read all lines again baked right in
here's the file the last thing to do is
say two lists open closed paren and
semicolon so now this method takes in
that full file path and returns back a
list of string and that list of string
represents all the lines in the file the
first line is in the first value of
first entering the list and down it goes
so that is this right here
next we need to convert the text to a
list of prize model now this is going to
be a method that is specific to prize
model we're not going to have a generic
method for this but I'm still going to
put it in this file here because it
makes sense from a standpoint of I'm
going to use it as an extension method
the eventual goal here is I want to be
able to chain these together so I can
read it very easily where it's going to
say give me the full file path of this
file and then load that file and then
convert that file to a list of prize
model and so on and so forth so down
here I'm going to say public static list
of prize model auntie's my using
statement so control dot and then hit
enter it will call this convert to prize
model the eternal prize models and say
this list of string lines so it's going
to take in a list of string where I get
a list of string well that's the lines
from a text file right here it's going
to spit out a list of prize model that's
the eventual goal now again it's an
extension method on the list of string
type so here's how it works
we're going to start off with our output
list of prize model as our output and
we'll initialize that output
we have for each string line in lines we
do have for each it's okay to have a
single letter if you want and we'll
probably do at some point but you know
it's make things shorter because you
know what is it's a line in the lines
especially when you have you know user
user M users that gets a little
confusing so I do user you in users but
in this case we'll use line that's fine
and it's a string so now I'm going to
say string array I'll say calls for
columns equals line dot split on single
quotes here not delicates and a comma in
between what am I doing here well if you
watch my text files video you'll know
that for each line I'm going to have a
comma separated we have CSV file in fact
we're saving it as a CSV file we'll see
that a minute but for each line I'm
going to have these entries separated by
commas so I will split the values I will
split the line on the comma value and
that's going to put it into an array of
string called calls and now I can say
prize model I'll call it peak equals new
not sure why's it models that prize
model but you can take that off and we
will say P dot ID equals calls array
position zero and you may say how do I
know that we're at a position 0 well
because that's the first one I wrote at
the first column you
I have to know what your columns are how
they line up that's a little ugly but
that's we're gonna have to do now it's
going to yell tea here because this is a
string I'm trying to put it into an
integer value there's a lot of ways we
can deal with this but remember I said
that we're going to deal with exception
handling in a different video but that
sometimes you want your application to
crash rather than trying to make it limp
along with half-formed data in this case
that's exactly what I don't have happen
I don't want to worry about trying to
protect the application from crashing I
let something higher up the food chain
handle that instead I'm going to crash
if things don't work which means I can
say int dot parse and then in parens put
this string now in top parse is going to
take the string and convert it to an
integer and as long as that's like one
two or three
you know something sometimes integer
that'll work if it has the value of
Frank in that field it's going to crash
the application because Frank is not a
number such as something to keep in mind
this is going to crash if the data is
not correct
now who writes this file only this
application in theory so when this
application reads from this file it
should be correct data but you never
trust things to go as planned but in
this case it's going to have to blow up
until I can put some exception handling
in it's a little more intelligent and
probably farther up the line because I
want this whole this whole method to
crash
if it can't converge one line because if
it's bad data there we've got a big
problem you stop right where at we can't
continue on with half good data all
right T dot the next thing in line
the next column would be the place
number and the place number is also an
integer so int dot parse calls 1 next
we've got P dot place-name method
strings that's easy calls to P dot prize
amount now prize amount is a decimal
uses money so therefore we say decimal
dot parse calls 3 again same thing if
it's not a decimal it's gonna break P
dot prize percentage and the double so
double that parse calls for so there we
have our model being built based upon
the 1 2 3 4 5 columns in this text file
and again they have P in the correct
order and they have to have good data at
the end of all of this we say take our
list
output dot add P and then the very end
we return output and so what's happening
is where I'll loop through every line
our text file and you may say well we'll
oh we don't have a text file yet so we
looping through well I remember we said
return that new list of string
essentially a list of string it's
initialized but has no records therefore
we say for each line in the list well
there's no lines therefore we skip right
over and return the output which is a
empty list of prize model
perfect now you can come back up here
and look at convert the text to a list
of prize model done now we need to find
a max ID well that seems like something
that the method in the text connector
could do since we're doing an insert and
an insert is unique to need to have that
ID because an update would already have
the ID and it's just going to change
some values in that row so therefore
that's pretty unique to this create
prize right here therefore we're going
to put the logic in here so how do you
put this logic in well first need to add
the name space the name space is tracker
library dot data access dot text
connector ID copy that let's come over
here and say using that namespace
and immediately I notice I have a
problem tracker library data access dot
txt connector does that sound familiar
how about tracker library data access
dot txt connector so now my namespace is
the same as a class name would that
survive
sure we just couldn't use a using
statement but that doesn't really seem
like it's a helpful thing for me so
instead I'm going to say let's change
this namespace again we can change it at
will text helpers and so now I can come
over here and say not text connector its
text helpers that looks better okay
here we need to start working with our
our file so first going to come up here
to the class level alright we're going
to say private Const string we're going
to call it the prizes file equals prize
models dot CSV now what is this well
it's a private constant meaning this
value the value inside of this variable
right here will never change
it's going to be prize model CSV forever
so now you can take this variable and
use it as a constant wherever we go and
we know that it's the same value
everywhere and we didn't accidentally
overwrite it somewhere it's also a
little more efficient that's the Const
making a constant now the notation is a
little different in the fact that it's
private and it's a variable of a type
but yet we have the pascal notation of
the uppercase first letter of every word
not just the first letter of the second
word with the first one being lowercase
so typically if it's a if this is a
private string this would be a lowercase
because it's a private constant string
the notation is uppercase I'm not a huge
fan of that just because it is a little
confusing with anything public you know
these things are are publicly used and
so you know we do methods we do classic
as we do main spaces and they're always
Pascal notation whereas private
variables are always the camel case you
know the first letter is lowercase and
all the other first letters of words are
uppercase so if not it's not a favorite
by the same time this is the most
preferred way in the industry of doing
things and I typically try and keep my
stylus as close as possible to industry
standards or the generally accepted
practices just because it's much much
easier than a transition into a new
location and not have to change my style
dramatically so with that being said
prize file prizes file and that's the
location where we're going to store our
prizes now I could say the full path
right there but what would that do for
me well it locked me down to that
particular path unless I change code
whereas right now in the app config we
can change that at any time and relocate
where our files are that means it can
actually put our files onto a network
share or on a different Drive entirely
and this application would still work
just by change in the app config
location for file path so you want to
keep this as it is and we'll have a few
constants here one for every model but
I'm not going to add them now and add
them when I need them
just makes more sense that way you don't
accidentally create duplicates so that
being said I need to take my prizes file
dot and this is where we're going to use
our extension methods our first
extension method is the full file path
so dot full file path that's an
extension method
I don't pass anything in because it's
going to take the first value once is
this from this string right here so
that's going to convert that to a full
file path but I'm not done I then hit
dot and now they have a full file path I
can do this load file so ctrl J to pull
this deck up load file which file well
the full file path of this file I don't
pass anything in because that's this
value right here if it gets passed into
here and then I say dot convert to prize
models so take this list of string that
comes out all right convert that to
prized models and we pass in anything no
because that list of string is all I
needed open close and now that they're
beginning I can say list of prize model
prizes equals and have that full section
right there so it takes the prize file
it finds the full file path it loads the
file it converts that to a prize model
list and returns that to my variable so
kind of compact that is and yet it's
also readable and yet it's doing four
different things
well three different things three
different methods on that data is chain
all together so now I have in one line
my list of prize model from my text file
next I need to and that's these two
lines right here are now done in fact I
could just take this and put them right
above load a text file and convert text
file to a list of prize level
so there's the first two steps done now
this next one I'm going to say int
current ID equals prizes dot order by
descending I'm going to order these this
lists descending by x equals greater
than X dot ID so what this does is it
takes my list and said okay I'm going to
order by descending by the ID property
so if I have two records one of the ID
property of one and one of the ID
property of two 2 is greater than 1
therefore 2 comes first before going to
than one because that's descending order
so now I have my list ordered that's not
good enough that's not an integer
instead I then set give me my first
value and what does that do it gives me
that first record which is the record
that has the highest ID and then I say
dot and the list
I have ID and I'll say plus 1 what that
does is it finds the ID of the highest
ID in a list so if we have three IDs in
our list of prizes ID of one two and
three it's going to find the I record
the ID of three and then get just that
ID so that's just a three I'm going to
say 3 plus 1 now the ID current ID is
for that current ID is when we're going
to use to write the new record so I'm
going to say model and that's what we're
passing in right here model dot ID
equals current ID now to be totally
complete what you should do then
is say current ID plus equals one
meaning now the ideas moved up one
because they've used that ID metabee in
case II wanted to write more than one
record at a time to this list but in
this case we don't go ahead and not add
that extra codes and it's not necessary
and now we have our record want add so
we say prizes dot add model so you add
our new model with the new ID to our
list of prizes so that's fine the max ID
I grab that put that there
I'm going to add a new record with the
new ID and that's right there and now we
need to convert the prizes to a list of
string and save the list of string to a
file that's how that we're going back to
our text connector processor and doing
some more work and writing a little bit
easier in the fact we'll just do one
method and we'll do everything to
because writing is so easy writes a
public static let's say void B there's
nothing we need to return we're going to
write those files
I call this save to prized file call it
theta Prize file rep pass in this list
of prize model call it model models and
then you have passed in also the file
name
okay so you passed in our list of miles
Nets hour is an extension method based
upon this list of models so therefore
when we're over here we can say prizes
dot save the prize file and is passing
the filename so now we have its list we
can say when you convert this to a list
of string so list of string lines equals
new Wow my setup list of string lines
equals new list of string that's better
I'm going to do a for each and this is
going to afford each on our prize model
I call it P in models so I called it P
because I wanted to be as short as
possible because of how I'm going to
have to create this entry now I have a
list of string here and see shoppers
great about writing a list of string to
the database so I will use this but I
have to add a line for every single
model so I must say lines add and I do
my dollar sign double quote syntax top
of my cynical at the end and come back
here now what's the first thing P dot ID
comma make sure to put spaces where it's
actually going to count it keep a space
is limited to inside your curly braces
if you want to use them at all
next we have P dot place number and the
order is important here remember this
order here is the order up here so you
even look up here for your kind of cheat
sheet that's always a good thing at
double check so next is P dots
place
name and then comma P dot prize amount
comma P dot prize percentage so I have
the ID a comma the place number a comma
the place name the comma the prize
amount a comma a prize percentage no
comma at the end and that's how you do a
comma separated line now it's going to
loop through every line in my list of
models it's now at the end of that I
have a list of string that represents
all of my models so now all I do is say
file dot write all lines
answer two things first of all the path
so it's a file name your essay but wait
that's not the path no it's not now we
have to say file name dot and let's see
it's full file path so ctrl J down here
to open up list backup full file path
that's the file name and the contents is
right now if you look it says it's a
array of string but if you do this
little arrow here you can see if
ienumerable of string if you keep going
you can see other options as well we're
going to use the second one the
ienumerable of string and list is an
ienumerable therefore list will work on
zoom back out here we can say blinds and
guess what that's all we need to do
so we take our models and our filename
to the models we convert them to a list
of string we take our filename and
convert that to the full file path then
say write all lines here's the full file
path and then here are your lines to
write and we're done and with that we
come back over here we can actually just
move this up and then right under here
we call this the save to prized file
whoops let's not do that
actually double clicked here and it pops
it into a new window which allow you to
drag it to a second monitor if you want
I use that quite frequently when I'm
trying to both read something like this
right here now I'm reading say the
prized file and come back over here and
using that because I try to remember
things I try to make sure and double
check and verify by reading it just
makes a whole lot less of a mess later
when you go oops I forgot that or write
transpose something so I just don't
remember things intentionally I actually
go back and double check so I could drag
this tab into a different monitor and
read it while I type but in this case
with one monitor it's not easy to do so
I'll just go ahead and go back and forth
I can also split these right click on a
tab and say new vertical or horizontal
group and that'll allow me to see two
files at once but in this case I was
going to make over here and say say
Dupre's well okay and so I'm going to
say Prizes dot save to prized file it
does take something image we have two
parameters the first one is comes from
here the prizes the second one is the
file name and what's the file name well
it's the prizes file a noticeable icon
right here indicates that is a constant
so with that being said we have now
saved our prizes back to our text file
we've overwritten that text file you see
back over here that's right alt text
rail lines if you notice the comment
what it does is it creates a new file
writes the collection strings a file and
then closes it it writes a new file
meaning it's going to overwrite the file
it's already there so if you didn't want
that may be different but in our case we
want to blow the original file away
start over so now we're almost done we
have this red squiggly here and it says
hey you're not returning a value what is
the value to return well return model
why because the model is what we add
that ID to and now it's the prize model
fully formed with that ID so now you can
refer to anything else we do by that ID
and we'll know we mean this particular
record now how we know this is going to
work well we need to test it again will
cover unit testing in a future video but
for now I want to get into actually just
running this thing so let's come down to
our program CS and we have this
initialized connection where use the
data type of sequel no we're not ctrl J
we're going to use the text file instead
now we're saving a text files again
there's nothing in here in any of these
text files there's no text files so
let's start this application and it's
going to start off screen like it always
does I'll pull it over I'm going to
create I'm going to open my folder here
and just put it next to it and I'm going
to say place number is let's go to place
number two
place name of second place the prize
amount is fifty create price and it
blows up off excellence and it says
sequence contains no elements want wha
why is this a problem well we simply
didn't care if our text file was not
there because we would just add that
first model to our list and then save
that list of one but we have a problem
we're trying to get the ID and we're
assuming that's where you get in trouble
assuming we assumed that our list of
prizes had at least one record we could
then sort by the IDS it does not when
the there are no records how do you fix
this
well first you stop and then we say
let's copy this good say that this
equals one and then when I come down
here and do an if statement if I'm going
to say prizes dot count is greater than
zero so I've said is the initial value
of the ID is one now Norway the initial
value will be zero but I want it to be
one because if the prizes count the
length of our our list is zero meaning
this is false they will not do this it
will put the ID of the current ID
everyone into the model dot ID so the
first record now over here you see that
I have the value plus one think of this
as zero plus one that we the equivalent
of what I'm doing down here but it's
kind of silly to do math on an
assignment like this
when I can just do that so that's why
I'm going to do that that should take
care of our bug so now if the prizes
count the number of records and prizes
is not zero we're going to find that ID
otherwise we'll skip over it and put the
ID of 1 into mild ID let's run that
again I'll bring up my folder and also
my file I'm going to do this again say
what's your third I would like to change
the value that I test from the previous
crash just to make sure that the old
crash information didn't somehow slip
into now that's the wrong place for
third that should be three and mission
be third and the prize amount for this
will say is 25 right create price and
look at that we have a file over here
and if you notice on my system it says
hey that's a Microsoft Excel file it's
actually a Microsoft Excel comma
separated values file well sure it is
but I'm actually going to open this with
notepad and look we have one that's the
ID 3 that's the place number third oops
third is the place name 25 is the prize
amount and 0 is the prize percentage
that's awesome all right close the back
out I'm going to say two for second
place name is second prize amount is 50
will leave prize percentage alone will
create that we're going to do it again
for first prize amount is 100 create
that and I'm going to create a fourth
place just exercise my prize purse edge
and we're just say this is 5% and create
the price let's open it up again open
with notepad and look I have 4 records
notice the IDS are 1 2 3 4
the second column is not the idea at the
place number three for third two per
second let's do them in here one for
first and four for fourth notice that
the first three have the value of 25 50
and 100 in this column right here
whereas the fourth place does not have a
value that column has a zero instead we
have a 5 in our percentage column so
it's working we're saving our values to
our text file in fact we could open us
up in Excel if you wanted to and
actually add new columns I recommend you
be careful with that because this is
very strict about how it puts values in
and if you make a mistake with a typo or
adding an extra column or something
weird like that you might actually cause
an issue where your application crashes
so let's not crash your applications
just yet we'll do that later when we're
trying to work with exceptions in the
meantime we now have a working
application that can either save to our
text file or to sequel before we go I
want to point out stats in our text
connector we have all these extension
methods so it's a string dot full file
path but if I wrote a sequel connector
and come in here and just give a string
whatever it is tests and then say dot
full file path it's going to say no I
had no clue that is if I hit ctrl dot
it's going to say add the using
statement for tracker library data
access dot text helpers now I'm not
going to do that but that just goes to
show that all those extension methods
aren't on our values our strings and our
lists and all the rest they're not there
unless we add that using statements
let's just show you out there all right
so let's
and are using statements which up here
we have our using statement when we add
this using statement we get all these
extension methods when we don't we don't
get them and that's actually really good
benefit because as we go on if we have
lots of these extension methods we can
double and triple the size that list of
possible options and we might even step
in our own toes we have two methods with
the same name that do something
different and so the best way to make
sure that we keep those separate is to
keep them in separate namespaces and
only pull the namespaces of the
extension methods we really need so with
that being said we've actually done a
lot of groundwork these two lessons
right here are going to set up really
well to move forward with our other
forms and this is where you start to
actually make some visible progress and
get our app kind of off the ground a
little bit more so make sure you stick
around for that
before you go you'll see a link in the
left of biiss course check out the intro
video on this playlist for more
information all you get if you pay also
if you are ever wondering what you could
do to help this channel out without
paying money I've listed six things that
really help
I appreciate if you consider doing one
or more of these thanks again and don't
forget to keep practicing what you
learned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>