<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 25 - Error Handling | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 25 - Error Handling - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 25 - Error Handling</b></h2><h5 class="post__date">2017-10-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uFz51uX8RLY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 25 in a c-sharp from
start to finish course my name is Tim
quarry and today we're gonna add in some
basic error handling to our application
so let's just jump right in here we have
our Tournament viewer form we just
finished working on this a few videos
ago now we know that in our last video
we said that if a score was tied and we
hit score you throw an exception but
let's see that in action first before we
go any further so let's load up our
testing tourney and here you can see the
uncanny losers vs. team first place
let's give them both a score of 1 if I
hit score I get this error message right
here if the user were running this
application not in Visual Studio but
actually as the exe then what happened
is the application would throw an error
message and then crash when they close
the error message so that's not good but
notice it says we do not allow ties in
this application that's my message that
was from when we said throw new
exception we do not allow ties this
application so at least it passes our
information along if we want to use it
so there's a couple things they could do
one and the code behind for our score
button right here we could say well
inside here the score button is where
that error happens what some people will
do is take all this code and do a
surround with try-catch and say I have
error handling you don't and you have
horrible error handling if you even
pretend to say is error handling
usually it's more like error eating and
no clue why things are having errors but
I know it's gonna surround the entire
thing with a try-catch and hope that
fixes the problem remember I said that
if your application fails in unexpected
ways it should fail spectacularly if
you're not expect
certain data unless the user gave it to
you and you think it has to be in a
certain format and it's not you should
just crash right there you shouldn't go
any further so I am big company I am a
big proponent of saying no shut the
application down but we know there may
be an issue that is caused by the user
there's things we can do the first thing
you can do is right here is where that
error might be thrown so I could right
click on this just this line and say
surround with and say try and that puts
this line of code inside the try catch
block and then for exception here's the
other thing people don't do let's give
it a name don't just have just exception
here actually give a name and the reason
why is then we can do something with it
now note this throw here what this will
do is by default it will throw the
exception or continue throw the
exception after we have completed this
try catch that way we can catch the
exception in multiple spots if you want
to but we're in the user interface we
don't want to catch it
also note that it's not doing a throw
e^x that's bad don't do that don't put
the variable name in afterwards that
actually destroys important information
about the exception so don't do that but
in our case we're going to catch this
exception we're just gonna say message
box dot Show and we'll say the
application had the following error and
we'll say and I have to put a dollar
sign in front of this
II x-dot message and we could make that
a red X in the for the icon all the rest
but we're just gonna put just the
message for now so now when we run this
let's run again we'll say testing
tourney low tournament select our team
or match up put one for each value and
now it says the application is a
following error we do not allow ties in
the application now if I go back to that
matchup
it still has a scores but they aren't
saved in the database and that's pretty
good and I'm gonna leave that try-catch
on there because I do want to catch any
kind of errors that come through from
saving to the database but I don't think
we should get that far and this is one
of my main tenants of application
development is you never never trust the
user the user will give you bad
information all the time they really
will so right now we're saying I trust
you put a number in there well why why
are we trusting them we should trust but
verify and so in the score button before
you any further I call private method
say if is valid
data that's a method if it's not is
valid if therefore going to put the
exclamation point in front and say
message box dot show you need to enter
valid data before we can score this
matchup okay so this method right here
is valid data we're going to say private
bool is valid data and I'll create an
output a bool output equals and let's
start off with true normally I ditch
Eliza's to false but again it's much
easier to set a value to false many
times it is to say is everything correct
and if so make it true so rest of it
true and if anything goes wrong it'll
always be flipped to false now what will
you check well we need to check to see
if team ones score value dot text is a
number a double and also same for Team
two so let's do something very similar
we did here we'll grab will create two
variables and then we will do this entry
right here and then we'll do this entry
right here
and we'll say it says squirt valve say
score one valid and score two valid so
now we're doing is we are grabbing team
one score value text and team to score
value duck text and we're capturing if
these are valid doubles so now if score
one valid and I say if not score one
valid and I'll actually make this really
simple by saying or not score two valid
then output equals false then down below
and I say if team one score equals zero
and team to score equals zero that means
they're both zero and y we scoring
something if they're both a zero value
can't do that so output equals false and
then if team one score equals team to
score now we could have collapsed these
two into one because if they're both
zero then they're equal to each other as
well but I like the idea of separating
it out because it could log something
differently in each of these cases so we
could say for the team one score equals
team to score output equals false and
then return output
so that would work and now it's gonna
pass back a true or false if it's valid
it passes back it true is invalid passes
like a false but let's get a little more
descriptive and let's let's first run
this just show you it doesn't work I
want to improve it next but first let's
run this and so here's our team we're
gonna say leave it at zero you need to
enter valid data okay so I'm gonna say
it's both of their one you need to enter
valid data okay
and it says oops we do not allow ties in
this application that's interesting so
now we have tried and it got through and
the reason why is we didn't say down
here return so that was our bad my bad
so let's run again and this time we're
going to give it something even worse
we're gonna say hi ne-yo you need to
enter valid data excellent so it's not
actually doing anything then with these
values and in fact those of diets didn't
even get stored inside of the model so
that's good but that message is kind of
annoying me he'd enter valid data for
that you can square match up that's
great but it's really generic why what's
invalid about it so instead of having us
be a bool let's make it a string oops no
not string up what return output and
we'll start this string off as an empty
string and then instead of saying false
we'll actually put a message in here
that says the score 1
value is not a valid number now why just
score one well we've actually going to
make this into two if statements that we
can say the score to value is not a
valid number down here I can say you did
not enter a score for either team and
then finally we do not allow ties in
this application afroditi punctuation up
here as well so now instead of saying
naught is valid we can say and we should
say instead of validator
there is no idea we should say validate
data and now we can say validate data
string error message equals validate
data and now if error message that
length is greater than zero so that's my
upgrade so now we're going to capture
the message that comes back if the
message is an empty string we have
encountered no errors if it's not an
empty string then we can instead of
having this we can actually have a more
targeted message we can say inputs error
: and then have our error
so now we run this we have a number of
options for what could go wrong and each
one gets its own message
we've not allowed Tyson's application
that's interesting so let's find out why
that is well if you notice we have team
one score and team to score and those
are outputs but what if we fail one of
the outputs meaning it's not a valid
number well it returns a false but it
also sets that value to be zero
therefore these two will be equal and
they'll both be zero therefore our
output message is going to be we do not
allow ties in the application because
these aren't else ifs these are just ifs
and they don't break afterwards they
don't return afterwards therefore the
last one wins
therefore we should do either an
else--if or a return right here now I'm
not a huge fan of returning early I am
in JavaScript and not in c-sharp so what
I will do instead is make this line into
an else--if and the same for every other
line
now the evaluation is if score one we
fret to take out that or if score ones
not valid that's the message we skip all
the rest if score twos not valid that's
the message we skip all the rest if
these two are valid but they're both
zero that's the message we skip the last
one if these two aren't zero with the
are valid scores if they're a tie that's
the message and we're done
so that should improve our logic let's
make sure it works load tournament let's
start off with invalid numbers score 1
value is not a valid number all right
I'm like at a valid number but then
score 2 we will make into an invalid
number score 2 is not a valid number so
we'll make you into a valid number but
they're both zeroes you would not enter
a score for e2 team all right finally
let's add a 2 for each value and we do
not allow ties in this application let's
make it 2 to 1 perfect it works and now
in round 2 the uncanny losers are
playing Sue's team so there are error
handling worked note the error handling
doesn't always mean putting a try-catch
block in place sometimes it means first
checking to make sure that data is valid
that 2 is error handling these were
errors that it caught and if it catches
the error it stops the application
before it can do any damage so that's
the kind of error handling and you put
in your applications one where the user
has input and they do something now do I
need to validate if this is a proper
round before I check the
box well no because it's a closed system
only valid rounds can be in here do I
check this list box no because again
it's a closed system the only thing I
check for is if it's empty and well we
have to handle empty differently it's
still a valid state for our application
typing in test in this box is not a
valid State for our application that's
an error we just captured that but then
also where you do have the opportunity
to have errors you can use your
try-catch block now this is a very very
simple try-catch block although it's
probably the most common but you could
catch more than one type of exception so
you could say I know I might get this
specific exception therefore I'll catch
that first and then catch it generically
if not so one place you might want to
put our try-catch blocks around do
something with is whenever we're saving
to our text files to make sure those
text files exist the same thing is true
for connecting to our sequel database if
a sequel database isn't there we should
tell the user hey I can't talk to my
database right now and then not do
anything so that's basic error handling
I'm not gonna go through every single
place we should put this in the
application because I always get tedious
and repetitive and really this is all
you need either have a try-catch block
and do something with it in this case
I'm also going to return that's the one
thing I didn't do so if you have an
exception return now in this case didn't
hurt anything then just loading the
matchups but imagine what would happen
if I didn't put this there and then I
came back later and add more logic down
here that might be disastrous just like
I like to have the curly braces for even
one line if statements even though I
technically don't have to I like to have
the return statements in our catch block
if that's what you should do
instead of just allowing to continue on
to the end Eva if it is the end that way
if you come put logic in later you don't
have an unexpected result
so try catch blocks are one way a handle
errors the other way to handle errors is
to do some manual validation and that's
also important and you'll need to do
both and the question may come up where
do I catch these errors typically you
catch the errors in the front end and
here's why what are you gonna do with
the error when you catch it you'll
probably tell the user something went
wrong well where do you tell the user
about stuff in the user interface
therefore that's where most error
hailing goes we allow it to bubble up
through all of our class library methods
until it gets to a user interface now
there are exceptions to that rule if
you're going to catch the error and do
something because I've found the error
for example maybe you have a fallback
where you say to sequel all the time
but a sequel is not available that
exception is gets thrown and you change
the database type to the text file well
that could work so that might be a time
we'd have that in the actual class
library but the most part you have
exception handling and validation in the
front-end now validation also goes in
the backend because just like we don't
trust our users the backend probably
shouldn't trust the front-end because
who knows who built it especially if you
say well we're gonna take this and make
us into an API that webpage can call
well now you're trusting a webpage to do
the right thing I don't think so so when
people ask me where do I put this error
handling I say for validation throughout
the entire application for error
handling it really depends on
specifically what you're trying to catch
don't just do blanket try catches it's
inefficient and it really hides stuff
all right so that's all there is to
error-handling I don't want to belabor
this point I just want to point out ways
we could improve our application through
error handling and checking user input
all right in our next video we're
actually going to wire up emailing the
user when it's their turn in the
tournament so stick around for that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>