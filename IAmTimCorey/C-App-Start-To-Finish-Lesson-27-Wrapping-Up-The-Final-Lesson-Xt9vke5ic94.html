<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 27 - Wrapping Up (The Final Lesson) | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 27 - Wrapping Up (The Final Lesson) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 27 - Wrapping Up (The Final Lesson)</b></h2><h5 class="post__date">2017-10-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xt9vke5ic94" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 27 in a c-sharp from
start-to-finish course my name is Tim
quarry and today we're gonna finish this
tournament tracker did you ever think
you'd make it it's been a journey but
all software projects are it gives you
an appreciation for how much work goes
into a complicated project doesn't it
now you four get started in this lesson
I do want to assure my paying viewers
that there is another lesson coming for
you on texting so it isn't tactically a
last video for you but I consider it
more of an upgrade rather than a
continuation of this course anyways
let's finish strong now in this video we
want to do basically one thing we want
to complete the tournament that's the
one thing we have yet to do and so in
that we need to mark the term as
complete we need term in the prize money
who gets what if there is any we need to
send an email out to everyone saying hey
the turning o is over and Tim as the
winner and finally we need to close out
of the tournament viewer forum so those
are the four things we're going to do
today which means that we're gonna do a
little bit more of emailing and we're
also going to trigger what's called an
event write create our own event now
you'd only events before you know behind
button so the button click event but
this time we're actually gonna build our
own so that's been fun so let's get
right to it
so I'm actually started with this code
right here open because I think this is
where we got to start so we check for
every round and we check to see which
round we're currently in well this is a
great place to check if a tournament is
done so we're going to tweak this a
little bit to let us know not only is
the if the what the current round is but
also if the entire tournament is done
because don't forget we call this at the
very end of our met our loop right here
before we alert the users right here so
he
call it and say after we've saved
everything for our tournaments go ahead
and check to see what the current round
is now so when we finished the last game
we know we're gonna call after we update
the the values we know where I call this
what's the ending round and so at that
point we want to trigger this end of
tournament event now use event there as
in a happening not the specific c-sharp
type called event so essentially as it's
going to say hey you're done now do
something we're actually not trigger it
for right from the check current round
so let's modify us a bit to let us know
if we have completed all the rounds now
how we do that
well right now we have a little bit of
an inefficient loop don't worry it's not
bad it's in fact probably easier this
way and break more code but notice that
if all the winners are marked we go the
next round but if all the winners aren't
marked that means that's the current
round but all we do is just go the next
loop or the next entry loop so we kind
of ignore the fact that we already found
what the round number is and we go on
the next round so instead we're going to
do is we're gonna say else return output
now what does this do for us well
whenever we find the round where we find
one that has a winner
that equals null we return the output
which gives us the same value as before
okay so as we return it earlier but what
if every round there's so unmarked as a
winner if every matchup sones marked as
a winner that means the entire
tournament is complete
so if we get all the way to the end of
this and say yeah I didn't find anybody
that's not where the the entry for the
match of entry the winner is not equal
enough IR is equal to know if I in find
anybody it's gonna exit the for loop
never having hit this else statement
that's how we know the tournament is
complete and this instance we're gonna
do is call a private static void called
complete tournament and I'll actually
have that auto create for me there we go
nice and handy so now this is where
we're gonna do all of the tournament
complete stuff so the first thing you
need to do is we need to actually pass
in this model so let's do that and I'm
not gonna make this an extension method
I'm gonna actually gonna pass it in the
difference is I don't think I'm gonna
call this anywhere else there shouldn't
be anywhere else in the application
where I say go ahead and complete this
tournament and I definitely don't want
that to leave it hanging out there did
you complete the tournament early so
let's make this the only place that can
be called and it won't make an extension
method making an extension method just
makes it too easy to tempt you into
making it public so I just leave it as
it is so now we have a tournament the
first thing you do is say model dot and
there should be an active in here but
there's not so don't have an active in
our model and that's because we only
have that active inside sequel
though is here for the tournament itself
we have a column called active but we
didn't include it in our model which
means it's not saved in our text file
and we don't pull it back out of our
text file or anything else like that so
the question becomes what do we do about
that and it's actually not that hard and
answer to get what we'll do is we'll
come into our idea connection and create
one we'll call it void complete
tournament turnit model and then we have
to implement in both the sequel
connector and in the text connector we
can go find that complete tournament so
now right here we have a throw new not
implemented exception and our text file
connector what we could do is do the
same logic we have and create tournament
you guys just copy this paste it in down
here take out the section about the ID
and saving their rounds and adding the
model well I should go that line so we
still have the add model but instead of
add I say ctrl J here put a list up
scroll down to remove
so there you go what this does is it
finds all of the tournament files or
term entries it removes the one that
matches our model and that saves that
file back which essentially deletes our
tournament it's gone it's done so I take
care of the text file side now you may
say whoa whoa whoa whoa you're deleting
that sure why not it's not doing the
matchups and soundly a matchup entries
it just disconnects them from their
tournament file so you could also if you
want to instead just change the name of
this current model or maybe you make the
tournament names start with complete and
then put - in the tournament name and
then you can have your forms filter out
and hit start to complete if you want to
don't you still have it in case you need
it because it is kind of scary deleting
data but that doesn't really matter it's
up to you what you want to do just put
the logic here so this case I said yeah
for text files I was gonna delete it now
for a sequel connector
I'm going to go to complete tournament
and here's a bit different so I can flag
this entry as having that bit flipped so
the active bit will be set to zero now
if we look down here for tournaments so
if we have a tournament insert let's
modify this and see what we have
available to us that sets the active to
one now we don't have a tournament
update so we'll have to create one of
those new store procedure let's delete
out all of this and we're a pass recall
this
DB OSP tournaments underscore let's call
this underscore complete there's not
really updating anything we're just
marking as complete it will only pass in
the ID and that's a tournament ID
because if this only has one job to
complete the tournament then we don't
need to know anything else besides the
ID we'll say update DB o tournaments
sets active equals zero where don't
forget your where clause remember that
updates can be really destructive where
ID equals at ID and this has to be
marked as an int forget about that so
there we go so now we have our stored
procedure I'll run that to actually
create it and now we can paste that name
in there for now and we just need to
perform a action like this and let's
grab our using statements first and then
I'll grab my insert statement like so
unless a bar in front of P and now you
pass in just one value of the ID and
that will be modeled ID and I'll pass
into this stored procedure done so now I
can complete the tournament on the
sequel side he's always gonna say is
mark that as a zero for active now why
is that work on sequel side well if you
remember we have the get all tournaments
in the store procedure we say get all
tournaments where active
of equals 1 therefore it's not showing
up anymore in our list of tournaments
essentially we deleted it at least as
far as the UI is concerned but in the
database we still have the information
and that allows to keep things connected
which is good all right so moving back
to where you were we can now say let's
call the global config dot connection
dot complete tournament for model so
that's our first step done we completed
tournament we also need to determine our
prize money though and solely to pull
out our prize information and also our
total for how much money brought in now
it could break us off into a different
method I'm gonna put right inside this
method I'll start with if statement and
say if model dot we're going to find the
prizes prizes dot count is greater than
zero because if we have no prizes we
don't give IMI next I'm going to find
out how much money we brought in so it's
a decimal because my is always in
decimal total income equals and here's
where you need to do a loop through our
our people in our tournament so model
dot we have our teams right here dot
count times
and this would be model dot entry fee
and so that takes our total number of
teams multiplied by the entry fee and
that gives our total income so now we
know that now you figure out what each
place gets and then who's in that place
and to do that we first need to know who
won and then who is a runner-up so I
start with those two places and that's
that's the only two places we're going
to do today and I'll show you why in a
minute
but for now let's start with that so
whereas a team model winners equals
model dot rounds dot last so last round
dot first dot winner now that is
confusing so let's look at what it's
doing again this is a link expression so
if you don't want to do something this a
little bit tricky then you can go ahead
and loop through and find the last round
and the first entry which is the only
entry so a last round always only has
one match up that's a championship and
so what I said was rounds now don't
forget rounds is a list of a list of
match up so the last round in my list is
a list of match up and that only has one
item in it but still a list so I said
give me the first in that last round
which is the only one and that one
give me the winner I know that's been
marked as a winner next
let's do the first runner-up the loser
in that championship game team model dot
runner-up equals and we need to grab the
same thing again so model dot rounds dot
last dot first oops dots and we grab the
entries dot where x equals square then X
dot team competing is not equal to
winners dot first dot team competing ok
that's an even longer one-line statement
so let's look at this one we know the
first part does it gets us the this is
the the actual match up so that's our
our championship game and I said you got
a list of entries right of course and
there's two entries in there and that's
the winner in the loser we already know
who the winner is so since you know who
the winner is I can filter this entries
list and say give me the one where the
team competing is not the winner if it's
only two teams competing and it's not
the winner
it's the runner-up or the loser so but
that where clause returns a list of
match up entry model so I need a first
one which is only one so it returns just
the match up entry model but out meet a
match up entry model I need a team model
so I grab the team competing and that's
where I get my runner-ups value from
now if you wanted to you could grab this
value which is the matchup of the
winning round and put that in a variable
and they more easily get the winner and
the runner-up so you could do that if
you want it would be helpful then to
grab the scores if you want to have a
scores for the email it's a possibility
but I'm just gonna leave it as it is and
now I know what the winner got or where
the winner is and who the runner-up is
down here if as prizes I know what the
total income is if I have to do a
percentage or a dollar amount so now I'm
gonna capture just two variables and
call it decimal winner's prize
Saro zero and decimal runner-up prize
now i'm hard-coding these in as two
values because i'm only going to handle
two prizes prize for first place and
prize for second place now you may be
thinking now wait a minute Tim we've got
prizes for any place you want yep we do
this method isn't going to handle all
those it's gonna handle the first two
and if you want to go back to our form
and limit those it's much easier to
limit that is to take away limits so I'm
gonna handle the first two and here's
why who is a third place team now think
that one through we know who the the
first two places are because that's the
people who played in the championship
round the third place could either be
the team that lost to team a and the
championship the championship or a team
that lost to team B so the previous
round had two matchups those two losers
didn't go any further the two winners
went to the championship so of those two
lose
which one's the third-place team which
ones forth do we do it based off a score
that seems reasonable and so that's
probably where I'd go but that takes a
little more of an in-depth application
thought process method then I want to do
at this point just because that seems
like it's an upgrade to our application
rather than a requirement for
application to be complete especially
since I wanna make this video any longer
than we have to
so we're gonna leave at these two but if
you wanted to go further they'll have to
do some calculations based upon who had
a better score ratio or whatever else
you want to do a turn in third place or
maybe say third place is just divided
among the two losers from the previous
round and if that's the case cool you
got a deal with fourth place now what's
that
and so again it's just enough think
through how you how you line it all up
in this case I'm just gonna have these
two values and I'm gonna say if I will
say model dot prizes dot where x equals
don't you love this these lambda
expressions and in this link it's just
amazing so X dot place number equals one
and let's actually put in a variable set
put in the if statement we could put in
the variable but they'll have to get the
information again so I will say let's
call this the the prize model
first-place prize equals and there's
that first I'll set control-j first or
default now what first the default does
it says find the first value but if you
don't find one then put in well in this
case null into this prize model if it
was an int int then it would be a zero
would be the value if it was a string
and be an empty string so that that's
the default actually empty string might
be null I'm not positive or the default
let me know for a string but you can
figure those out but for models or for
any kind of class instance the fault
would be null so now we can say if
first-place prize is not equal to null
then we have to calculate the value now
it does seem like a separate method
private static void let's say a decimal
and we'll say calculates prize payout
this prize model model let's call price
and we'll pass in also total income that
we know if it's a percentage here's how
much they get back and here whereas a
decimal outputs equals zero if
prai's dots amount is greater than zero
America me either amount or can be
percentage but not both
if prize amount is greater than 0 then
output equals prize dots prize amount
else it must be a percentage output
equals total income times I'll put in
parens here prize dots prize percentage
times or I'm sorry divided by 100 and I
do that it yells at me and that's not
fun
and it says operator star cannot be
applied to operands of type decimal and
double so I'm multiplying a decimal time
to double it goes yeah no now I could do
a dot but it can do a conversion here
all right say well this is actually of
type decimal which isn't a wise idea but
you could do that but here's a problem
this will cause could cause some
rounding issues now is it gonna be a big
deal for us probably not and this whole
decimal thing casting it not great idea
either
so the first I'm going to do is change
that to say convert to decimal and now
we're converting this value to a decimal
now in really explain this but I prize
percentage say it's 5050 is actually not
a percentage yet it's actually 0.5 is
the percentage but we wanted to give
round whole numbers to users so there
they put in 50 and they actually mean 50
percent so we're dividing by a hundred
so 50 divided by 100 is 0.5 so
gives us a percentage but we're
converting it to decimal now we're
multiplying it by our other decimal but
that's not really the best way of
multiplying decimals instead we say
decimal dots multiply total income comma
and our percentage that way it actually
properly multiplies it to decimals and
returns a real decimal so that's our
output now so it's either the prize
amount or it is the the actual
percentage multiplied by the total
income return output okay
so if the first-place prize is not equal
to null then the winner's prize equals
first-place prize dot calculate prize
payout based off of the total income now
we do the same thing with the
second-place price so we'll copy this
logic and say second place here and
that's where place number equals two
now again we'll copy this logic and say
if second place is not equal to null
then second place prize calculate pay
out photo income goes into the runner-up
prize and that's well as things we're a
copy and paste might actually bite you
you've got to make sure that you put the
correct values in each of those spots so
now we have the the prize amounts if any
and now we can move on to the next
portion and that's where you actually
email everyone
so now let's create we're gonna create a
really simple email body we're gonna go
crazy with this but essentially we're
going to do the same thing as we did up
above before we go any further this is
yelling ass because we never actually
returned output in a scenario where all
the rounds were complete and the if was
never or wasn't it the else was never
called in that case we using a return
output and actually will say output
minus one and here's why because this
advances to the next round including if
we're on the last round so let's say the
last round plus one we don't want that
so you want to say well I understand
that you're thinking that that were not
on the lap or that were past the last
round but we're not we're on the last
round still even though there's a winner
marked so that takes care of that but in
here for the alert new person we set
this up and I'm just actually I copy
this entirely at least the the part down
here where we actually create the
subject and body let's leave it to alone
for now and actually grab the email
logic as well just grab that I'll come
down here to where we're actually
completing our tournament well this
Marcus is saying send email to alternate
now again this is probably best to go on
its own method but I'm going to put it
here in line just be this a little bit
quicker and we're only doing once so our
our message we don't worry about
competitors being null we can just
create one message so we can get rid of
the if-else statement
we know who the winner is and so we'll
complete the sewage line by saying in
let's say the tournament which we model
dot terment name and whatever
tournaments and it will give the
person's name the winner's name winner
not winner prize we have the winners dot
team name has won let's put for our
header we can put we have a winner in
all caps an exclamation point and we'll
say here let's put in a P tag this time
congratulations
can't spell congratulations to our
winner on a great tournament and then
down here before you go any further I
would notice the even the append line
even though it was a line it didn't
actually keep those line breaks in the
email so we had a dress that now if we
use P tags it's not a problem because
that puts our line breaks in for us so
if now we have to include that
environment dot new line so that was a
little not where the bug is more the
fact that I used to imply P tags in my
email but that's something to keep note
of so now we have our winner and
congratulations and let's put in a new
line or a break again we can do
environment
new line or we can do a br slash to do
the HTML break which seems more
consistent and we can just do we can do
a pen line for all of these it's nicer
to have individual lines when we look
back through them it makes a little more
sense
looking through the stringbuilder so now
you want to say if we have winners
unless let's control X of these but in
their spot say EF and we'll say winter
prize is greater than zero or runner-up
prize is greater than zero now in theory
you can have a second-place prize and no
first-place prize that's kind of cruel
but you could do it so if that's the
case we're going to do well let's do
this let's do one at a time because like
I said you could have one with the other
in this case we're going to say body dot
a pen line and we'll say paragraph tag
the winner was or let's put their actual
name and we'll do the dollar sign in
front you can still do the dollar sign
here
so dollar sign winner winners dot team
name will receive I'll put a dollar sign
for the actual currency and then it open
curly brace and say the what's the prize
amount winner prize winner prize and
let's just close our paragraph tag we
could put more again this is not about
the text of the email it's more about
the the idea behind the email
so let's copy this and paste it and do
the runner-up prize and the runner-up
prize ammount so that's not run-up prize
this runner-up nope that's not that's
runner up there you go
Kaylee's right so the runner-up prize is
greater than zero they're getting
something then we'll say runner up dot
team name will receive X dollars so that
takes care of putting that in the email
and then now we need to just close it
out by saying let's do another P tag
thanks for a great tournament everyone
I'm Willie the exclamation point there
slash P and we'll cyan't tournament
tracker so that has we can wipe out this
so it's not yelling s so that now has
all the information we need for our body
so we have our subject and our body what
we gonna do about our who are gonna
email it to well we can't you know to
each person without how to loop through
this a number of times
so let's actually create an overload so
let's go over to our e-mail logic and
we'll create an overload for this we can
do one of two different things we can
either just call this multiple times
inside the overload or we can do it
where you pass in a list and it just
fills up the two by looping through
internally I like the idea of looping
through it internally so let's actually
copy this signature
is that we use sing at one email to a
whole group of
people write copy the signature and
change this one and the reason changing
this one is because I can make this one
more complex and then just have this one
call the more complex one
so this case we're going to do a list of
string called two and then instead of
doing this we're actually going to
surround this so I say surround with for
each for each string email in to add the
email it's gonna loop through each one
and add to our two lists but we're gonna
get more complicated because I don't
want to put everyone's email address in
the to line that means you get an email
with you know 50 people in that two line
that's just not courteous really want to
put those in the BCC line so let's pass
in a BCC as well
list of B+ of string we'll call it B CC
and BCC stands for a blind carbon copy
so we'll do the same thing as up here
once you copy this and paste it here for
each email in BCC we're gonna say
instead of two field we'll come up to
the BCC field and add the email so now
anybody in this list gets adhere if
there's no bring the list knowing it's
added now up here we have as overload
that is our original signature so how we
call this one from here don't
copy this code pasted in here with the
original logic just don't do that that's
duplicate code you want to not repeat
yourself don't repeat yourself instead
I'm gonna call send email and if this
had a return type I would say return
send an email just to pass that value
right back through so send email and I
pass in a list of string so we could
create a new list up here and then pass
that in or we could say right in line
new list of string and there are curly
braces and say to close clear braces
that will create a new list of string
and put that as the only item in the
list so that's a nice little one-line
shortcut when you just need to create a
list to put one thing in it to pass it
through next we say subject actually are
our BCC is next I don't have a BCC so
I'll say new list of string empty or
gonna say new as a string with our
parens actually and then we say subject
and body
and now this method calls this method
and just gives it the information in the
order expects so we'll still do the same
thing it's just that now we have a
method that does more so now we can pass
in BCC information as well and can pass
in lists so over here let's create a
list we can pass in so a list of string
called BCC these are the values around
BCC these are all the email addresses of
every person on every team to let them
know it turnes completes we're
initializing us to be a new list of
string now we could probably write some
really creative and really read a
complicated linked statement to get out
every email address but we're not gonna
do that instead what we'll do is we'll
say for each and we'll start off by
saying model dots enter teams and that
would be the team model and we'll call
it t and then for each T dot team
members and that's a person model P so
for each person on each team BCC add P
dot email address now here's the rub
what if they don't have an email address
and that's where we'll surround this
with an if statement if P email address
dot length is greater than zero now
we'll only add email address as where
this actually is a valid email address
and now we're gonna pass in those the
BCC values now watch this go to well no
one so we're just gonna say
ooh list of string and the BCC value BCC
and now we've emailed every person on
every team this email the final thing we
need to do is we need to close out of
our tournament now don't forget that
when we when this runs we will have
tournament Viewer open we know we'll
have it open because that's how we score
that last match up the championship and
so we score that we want the tournament
form to close and take us back to the
tournament dashboard we can select a new
tournament or just close the application
now this is already open because this
one stays open the entire time but how
do we tell this forum you need to close
now because you're done well we could
have another check in here after we hit
the score button and after we do
everything we'd come back here and then
check hey is the last round done that's
one way of doing it but it's not the
most efficient instead we're gonna
create an event on our tournament model
so over here if we go a tournament model
in here we're gonna create an event now
what is an event well it's an alert
system so what happens is you have
events and you have subscribers and
inside of this model we're gonna trigger
the event saying something happened now
no one may be listening or we may have
ten different places that are all
listening it's up to them they have to
subscribe to that event if they do when
we hit the point in the code we say in
this case
the term is complete we're going to fire
that event where I say yep it's complete
in that case then what'll happen is it
will broadcast hey I've come I've run my
event has fired if anyone is a
subscriber they will get that message
and we'll run code I find it easy to
think of a button a button has an event
called a click event so when I click
down my mouse on a button that runs code
on the button itself and the button says
something happened and it says oh you
clicked on me therefore it fires the
button click event if I'm listening to
that button click event I can run code
and that's where you double click on the
button and it creates that that method
that has the event args and the object
sender that's an event listener or a
subscriber and so it's subscribed to the
click event a button so let's make this
real simple by actually showing what
we're going to do public event event
handler and I have to give it the type
now that's the type of information I
pass back
it could be a boolean it could be a
string it could be an int or it could be
even the entire tournament model in this
case I'm gonna pass back a tournament
model now do I have to probably not but
this way at least I know that I'm
passing that back and I can say on
tournament complete that I said I : so
now this event I'm saying will fire
whenever the tournament is complete so
that's it for creating event but now I
need to create a method that fire is
this event let's create a method down
here look
public void complete tournament now it's
job as far as we're we care the Olympian
does is actually fire off that event and
you have to fire this event off inside
this class so we'll call this method
once we know the tournament is complete
so we will say now you could do logging
here as well if you want to our other
stuff but we're just going to do the
invoking the event or turning it on so
you say on tournament complete now this
is a newer feature I believe it's a
c-sharp six feature where you say
question mark now here's why it used to
be we'd have a check to see if there's
any subscribers because if there were no
subscribers we can't actually fire the
event but now we don't have to do that
kind of we are doing it but let's
question mark we're saying if it's
available do this so if it's available
dot invoke and the first thing you do is
pass in the object sender this so the
sender is whoever is actually sending
this this message in this case the
tournament model now I have a type of
turnip model that's a redundancy so you
know I don't have to do that in which
case I could pass this in a string or a
date time let's pass a date time in and
now down here I could say date time dot
now does it matter
no we could probably pass in a string
passing a boolean just a complete
whatever because we look we don't care
about the event arcs now you could
create an actual event args
and put that up here and send other
information back through that's cool I
don't care I just really don't need to
worry about this information so what
this does right now is if you have a
subscriber fire the event now we can
come back over to our tournament logic
and down here we can say complete
tournament by saying model dot complete
tournament done so now that event will
fire when the tournament is complete so
let's close everything else out and
let's open up the code behind for our
viewer let's actually open the view up
itself that way just double click on a
score button and go right to that code
again this is an event the click event
notice a sender and the in this case
event args e they pass event marks we
passed a date time so we know that this
is gonna get called somewhere in here
but we don't care we actually want to
come up to and I probably should double
click them that button
we actually want to come to our
constructor and we're gonna say we want
to subscribe to the tournament model
where I subscribe to this and actually
that's waiting subscribe to it when it's
down here is a cleaner
we're assign it to a local variable up
here a private variable so let's go
ahead and say tournament dot and notice
down here we have the one lightning bolt
a lightning bolt means event and the
event is on tournament complete so I'm
gonna double click on that and say plus
equals you have to add
your listener and notice here it says
press tab to insert well yep it's now
Creed and scaffold out that's name of
the method tournament on tournament
complete perfect and I can close out of
this rename and now we can fill in what
happens when the term is complete well
it's actually pretty simple this dot
close just close the form they'll says
back to the dashboard so let's try this
out
so we have our tournaments
let's move this basketball well I
believe I have some information in here
unplayed only the first round is empty
the second round
we don't have match up so something went
wrong there no worries we'll actually go
to emailing one let's see what that one
looks like alright we have no B in the
first round we have one yet not
determined for the second round and
maybe hasn't bad data in here we can
check that out a little bit but instead
let's create a tournament and just
create a simple one well create a
finisher tournament and before we go any
further I'm also going to open up my
email client papercut just so I have
that sitting here so I can capture any
email to go out let's create a $10 entry
fee and we'll do SUSE team greg's team
and Mary's team and we'll create a prize
let's say place number is 1 will say
first place and the prize amount let's
do a price percentage and say 50 percent
and then we'll create another prize
we'll create a second place prize
and for this one will actually create a
just $10 prize amount and say create
prize will create the tournament and now
we already have our three emails the
first and saying
enjoy your round off because this person
MJ gets the round off now there's a new
match up Greg's team versus Greg's team
and this one versus Sue's team so Mary's
team gets the round off so we can say
that sue wins one of nothing and now we
have a new round round to Mary's team
versus Sue's team we have the emails to
back that up and now I can say you know
let's delete these emails just we can
see the difference and now we can say
score the last game and now it closed
out that's great and we have a email
here
and notice it has in the BCC 3 email
addresses one for each person because
there's only one person per team in
these three teams we have a winner
congratulations our winner Mary's team
will receive $15 SUSE team will receive
$10 thanks for a great tournament
everyone so it's completely tournament
it's close it out its marked who gets
what money and it's all set we're done
so with that our tournament tracker is
complete we've got everything in here
now do we probably still have some
lingering bugs I would imagine so in
fact it may be bad data but we may also
have a bug where we're not showing the
second and third round correctly if
they're already pre-loaded we need to
look into that so but that may be a bug
we may have other ones and those only
come out through tests
the way to get your application
rock-solid is to test it over and over
and not just the standard stuff test it
with weird things like having no prizes
having prizes but no entry fee and all
that kind of stuff try everything you
possibly could and see what happens but
for us we're gonna call this application
complete I would love to see what you do
this application let me know and also if
you do find bugs less know and let us
know easy to fix them that's the
important thing because this really is a
process where you learn more by doing
alright so that wraps up the entire
c-sharp from start to finish course now
if you're a paid subscriber you get one
more lesson and that's when we're gonna
add texting but otherwise we are
complete I appreciate you watching
thanks for watching I hope you get a lot
out of it
please let me know if you have any
questions or have any issues or you want
to see something else the way I create
videos is based upon user feedback and
this is a big one for user feedback and
so I create a big video series because
you asked for it so definitely let me
know what you would like to see next
alright thanks for watching as always I
am Tim quarry</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>