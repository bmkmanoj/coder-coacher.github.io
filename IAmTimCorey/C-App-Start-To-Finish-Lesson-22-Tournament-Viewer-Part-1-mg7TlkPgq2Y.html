<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 22 - Tournament Viewer Part 1 | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 22 - Tournament Viewer Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 22 - Tournament Viewer Part 1</b></h2><h5 class="post__date">2017-09-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mg7TlkPgq2Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 22 in a c-sharp from
start to finish course my name is Tim
quarry and today we're gonna get started
on the tournament viewer forum I decided
to break this forum up into a couple
parts so we can make each part smaller
today we're going to wire up all the
fields we won't be saving any of the
data to the database or the text files
we'll leave that for next lesson let's
get started here is our tournament
viewer forum and what this does is it
displays our tournament name the number
of rounds we have and when we select a
round it's going to display the matchups
for that round if we don't check if we
check this box then we will only see the
games or the matchups that have not yet
been played which will mean this list
will get smaller and smaller as we play
games when we select a matchup in this
list team ones name should populate over
here team twos names we populate down
here and then a score for each should be
filled in starting at 0 but then we can
change this by filling in the values and
hitting score now we'll do all the way
through a score button we won't actually
save a data anywhere it'll just be on
the form itself that we make the changes
so let's start by figuring out where we
get the tournament object from and I
think that's pretty straightforward
we've done before we need to pass that
in to our tournament viewer form if
since what we're saying is we don't know
which tournament you want this is not
tournament lookup form that would be the
dashboard the dashboard find all the
tournaments and say which one do you
want the tournament viewer formed just
view as a tournament therefore let's
pass in tournament model
and do control dot and add the using
statement we'll call it tournament model
and then up here outside of our
constructor we will say private
tournament model tournament equals well
let's not do equals yet we'll do that in
the constructor so tournament equals
tournament model and that's a lowercase
T so we pass in this tournament model
object called turnit model notice the
lowercase T versus the upper case T
allows us to differentiate between the
class name and the parameter name and we
do have case sense of c-sharp usually
familiar that by now so we pass it and
turn up model as a parameter whenever we
construct a new tournament viewer form
the first thing you do in the
constructor is we take that model and we
store it into a private variable app the
Forum level which means that anything on
the forum can have access then to this
tournament object the next you want to
do is we want to actually create a
private void set up let's call it lode
formula load form dia and what this is
going to do is take this tournament
object and it's going to populate the
information we need for example this
right here is called tournament name so
we can say tournament name dot text
equals tournament dot
tournament name so taking the value from
the prop from the instance we're
grabbing a property tournament name and
putting that into our text box actually
a label on the form putting in a text
value so they should say which one we're
using now let's call this method we've
only done one thing so far that's okay
we'll call this method right after we
accept the tournament model and now we
can go and fix the tournament dashboard
form we'll have a problem here actually
won't help problem maybe we haven't
actually even called this yet solo
tournament in here we need to call the
tournament viewer form tournament viewer
form frm equals new tournament viewer
form what's going to ask for a
tournament model we don't have that yet
how do you get that well we're going to
take whatever is selected in this box
so we're sa tournament Model T M equals
I'm gonna get the the drop down so we
need to find the name of that I always
forget its load existing tournament drop
down load existing tournament drop down
that selected item I'm gonna cast that
to tournament model so we're going to
take whatever is selected here make sure
that we convert it over to a tournament
model and then we got past that into the
viewer form and then finally we're going
to say frm dot show so that modification
this button is now wired up to call this
form
and this forum is wired up to change
this label to have a tournament name
let's hit start and see if it works
let's pull over our forum so you have
first tourney and second tourney let's
grab the first one and say load
tournament and this pops up tournament
first tourney notice the matching names
here so we've got a winner
we actually have things wired up
properly now let's continue on with
wiring up this forum now so far I picked
the easy one because that's just giving
the name but the round drop-down here
says these are the rounds in a
tournament so so far we've used the
example of a three-team tournament with
the the 4th team being that by team so
you have a three team tournament which
creates two rounds the first round has
two matchups the second round has one
matchup so this would be should say
round 1 and round 2 in this drop-down so
we need to now figure out how to put
round 1 and round 2 in here let's create
a private method private void load
rounds let's call it a load round let's
call it load round that's fine and then
up here we're going to create a list of
string recall this rounds equals new
list of string so this will be what we
wire up to our drop-down and it's just a
list of string
and actually let's make this a list of
int make our lives a little easier now
I'll explain why so this list of rounds
whatever it is is going to populate this
drop down now if we have a list of int
or a list of string it's very easy to
populate this list because it just grabs
a value and does a two-string and puts
it in this box if we put a int in here
then we can grab that back out as an int
and then we know this is the round that
we need if we have a string we have to
do a conversion on that especially if we
say in a drop-down instead of just one
or two if we say round one round two in
which case we have to take off first the
round space and then grab just a number
and then convert that we could do that
it's a little more complicated but it
work another thing they could do is they
could create a model and the Mollett
have a string representation for the
round name but it also have in there a
list of matchup and then they could grab
that immediately and use it we could do
that and maybe come back at some point
and say yeah I wanna do that but for now
let's just go the easy route the simple
route and say we're gonna have a drop
down has one two three or our case for
example one two for two rounds so your
list of int four rounds will always have
one round so rounds dot add we're add a
number one we're also going to say int
cur round equals one and then we're
going to loop through for each and we
will say for each item in tournament
dots rounds
and this would be a list of matchup and
we'll call this matchup matchups sorry
and we'll create the appropriate closing
angle bracket so in here we now have a
list of our matchups these are each of
our rounds and we're gonna say if
matchups dot first dots match up round
is greater than current round this look
familiar
we've done something similar before but
in this case we're looping through just
our list of matchups so basically each
round is all we're looping through we're
not looping through each of value inside
matchups putting the first value inside
matchups and we're saying what's the
round that you have well the first one
is match up round and it's gonna say one
and so we already have a wife at it
already but once we get the two then
we're gonna say is rounds dot add and
we'll put the new round in and we could
say current round plus one we could add
a current round first or we can grab the
actual value which I kind of ground the
value even though it's the same as the
current round plus one I just like
having the actual value in case anything
were to happen
it's weird I know but I like to have
that so actually we can do let's change
this
per round equals the round so it's
different and then we'll put her round
here all right that makes you feel a
little better so we're going to start
off with a 1 for the first round and
we'll add that to the rounds list but
then if the current set of matchups if
the first values match up round is
greater than the current round the first
time through being one so if it's a 2
then take that value put it into a
current round it's not current round us
to add that value to the rounds list and
loop through again it should be that we
have a value entered for every single
round we have and now once we're done
all of this then we can make sure that
we connect this drop down and this drop
down is called round drop down so let's
create another private method and we
will say that the round drop down that
data source where I start off at null so
I'll wipe it out there's a value already
there and then we'll say round drop down
dot via source equals rounds and then we
will say we don't even have to give it
the display member because it just gotta
display the actual value to string which
is great so we'll call this wire up
lists after we change the rounds so
after you've updated the rounds to have
the correct values and the other thing
here is let's make sure that
we initialize the rounds every time
otherwise what could happen is if for
whatever reason we run this twice if we
don't initialize the list to a new list
we'll have duplicate rounds and that's
not right so we'll start off with some
from fresh every time and add the rounds
all over again again let's start this
and make sure that this part works first
tourney
load tournament and we have nothing in
our drop-down no worries we'll figure
out why and if you're astute you've
already noticed that I never called load
rounds let's put our break point there
we'll call load term again after load
form data let's say load rounds let
continue and now we pop up with this
form the first tourney we have one
already selected we also have two
there's a rounds now we should populate
this list now that list should be
populated based upon a change in the
value here so let's go over to our
properties window let's first stop this
our properties window
I just got pin this and for this drop
down go over here to my events change to
events and if you notice the selected
index changed is the default event
that's what I want so in the right hand
side over here I'm going to double click
and it create the event for me now every
time we change which item is selected in
this drop-down it will fire that event
and we can update this matchup list box
I'm actually going to call a private
method
how'd you guess I love private methods
private void load matchup list actually
let's call this load matchup since so we
can be similar to load rounds so load
matchups will call that from our
drop-down and let's not worry about
passing anything and will over here our
load matchups the very first thing we're
going to do is grab the value of our
drop-down so we're just say int round
equals a cast to int the round drop-down
dot selected item is selected I owns an
object but we know it's an integer
therefore we can cast it to an integer
just that we do in other areas would
cast it to our model so now we have the
round we need and now we can loop
through our tournaments let's look
through a tournament rounds I'm sorry
it's gonna copy that code and paste in
here we're already doing that up here in
our load rounds we loop through our
turnit rounds but this time instead of
seeing is it different we're gonna say
is the first match up round equal to our
round we want if it is then we're going
to do something with that value and what
we gonna do with that value well up here
at the very top we're gonna have another
list a list of match up model I'll call
it mashups equals new list of match up
models and I believe it actual caused a
conflict yes it will
so let's call it something different
let's call it the selected matchups all
right so we're gonna have it selected
matchups and this will be what we have
for our matchup list box dot data source
equals selected matchups and we'll
actually set it to null first and then
we'll also set our display member equal
to something and we'll come back to that
in just a minute but first when you come
down here and actually set our selected
matchups equals matchups and where'd you
get that mattress from well that's we're
looping through we're looking through
each round in our tournament and we find
a round that has the first entry has a
matchup round equal to the rounding wand
we grab all the matchups we grab all of
them and put them into our selected
matchups and the last thing you do is
call our wire up lists so the only thing
we have left to do then is come back up
here and change the display member for
our list box well let's look at the
matchup model by the way if you haven't
been following or didn't catch wise city
for where you select an item object and
hit f12 that goes the definition that's
a really quick way to get where you need
to go so here I want to say what is the
the matchup how I display this matchup
and that's kind of hard
because there's not really good value as
an ID that is only help anything there's
a winner ID doesn't help there's the
winner well we don't know if there is a
winner yet there's a match of round
don't really care we know what that is
already so therefore we're left with
entries which is a list of match up
entry model not helpful
so let's actually create a new public
string display name no parens we have a
career aces because this is a property
we have a get but no set and so what
this get is going to do is it's going to
figure out based upon the entries in a
matchup entry model what the name should
be and so the idea would be that the
team Navy team name space vs period
space the other team name so let's do
this for each matchup entry model am II
in entries and we'll create a string
output equals empty string and they're
going to say for each entry here if
output dot length equals 0 so what I'm
doing here is checking to see is this
the first person we're entering if it is
I'll just put their name so I'll say
outputs equals me dot team competing dot
team name
else outputs plus equals let's add the
dollar signs string notation the string
interpolation if you want to be precise
and it's a big word for putting stuff
together in a string so I'll put a
dollar sign inside it close up a space
then vs period space and then my curly
brace me dot team competing dot team
name and then the crater brace to close
it so why can I call the same the same
value
well we're looping through each entry in
our list of entries our list of entries
are up here so if we have one entry it's
gonna come down here and say okay the
first entry output length is zero
because we have it set to empty string
to start with therefore the output is
going to be the team name so think about
the by week with by week we only have
one team in a matchup therefore the by
week we just have a team name whereas if
we have two teams after it does this it
sets the output it's going to loop
through for the next team and say nope
the output length is not equal to zero
therefore I call this so I have team
name over here and ask me space versus
space and the other team name and now we
can return all of this and this is a
read-only property now we can have
access to copy this value say your model
come back over here to the splay member
and paste in display name let's see this
work I will select our tournament and
notice already we have uncanny losers in
the first entry and team first plays
forces SUSE team in a second entry round
number two
we're gonna have an issue I can't select
round number two we have an a bug that
causes a problem so let's see what that
problem is before we go any further I
think I have an idea of what that is
because when we select round number two
what's gonna say is oh wait wait I don't
have any team names so what I do and
it's gonna throw an error so that's my
guess
let's go over to our matchup model and
actually put breakpoints at the very
beginning here and then try to change
our round to round number two
excellent we get there and it says
there's one entry and it says the team
competing there's two of them nope this
is a this is still round one we run
again entries to this is still round one
but now we have entries to with a team
competing of Sue's team and team first
place it's still round one entries of
one team competing - it's the uncanny
losers so we've got some kind of issue
here we got to figure out because that
shouldn't be what it's doing so let's
take a step back and go to where we're
actually changing this in the event and
that's down here we say load match ups
now let's fire off as event and change
this to two and we're gonna go right to
the load match ups the very first I'm
going to do is find a selected item and
if we see here drop-down selected item
equals two so the round is going to be
two and yes in fact is and now we're
loop through all of our rounds and in
round two we should find this object but
notice we have this display name error
I'm wondering if that's going to causes
a problem even though we don't actually
throw an error but let's see it's gonna
save the first round items do we have a
match on the round number
so the first I'm going to say match up
round that's one there's one equal to
nope therefore go the next one and say
does the match up for this does its
round which is two equal to and it does
therefore we go to selected match ups
equals this list we're wire up the lists
immediately we fire this event again it
says load matchups so we have another
issue let's actually stop us right now
you found two issues now the next issue
is that we are recalling this list
because we are refreshing both the
drop-down and the matchup list box so
let's separate these out wire up
drop-down or wire up a square up the
rounds list it will create another one
called wire up the matchups list and one
will do just the rounds and in the other
we will do just the matchups and then
instead of wire lists we'll call a
specific list we need we update the
below the rounds we'll call one we load
the matchups we'll call the other so the
matchups is down here oops there we go
and the rounds is right there so now
that should fix problem number one
problem number two is our model where we
say give us the team name but sometimes
the team name the team competing is null
so what we need to do is we need to wrap
all of this and ass around with if me
dot team competing is not equal to null
otherwise we get all at the end and our
display name will be whatever we started
with but actually let's change this to
say else
ouch puts equals matchup not yet
determined and that's because you're in
a round where we don't know the winners
of the previous round yet so we can't
determine what the matchup is so if if
we have a problem like that we'll just
say match up not yet determined and
maybe two teams competing which again a
problem here and so what we need to do
is we need to break out of this for each
loop otherwise we'll have matchup not
yet determined twice and that's know you
want so let's do a break and that way if
we encounter a team where we have a null
value we're gonna say match up not yet
determines that means even if it's the
second team we don't know yet we'll
still say match up not yet determined we
may know one team we don't know both
teams so we'll wait to determine who
that's gonna be
so that should fix that other problem
but let's see if it actually does always
test your assumptions so we have round
one that's cool round two matchup not
yet determined excellent round one
uncanny losers team first place versus
Sue's team perfect now let's modify it
so that whenever the value here changes
we update team one team two mean actual
team names and as scores to have the
actual score values if there are any and
then we can wire the score button after
that so let's start off by just saying
where we're selected here update this
information
so let's go back to our code behind
let's actually close out these other
things I like having an uncluttered
workspace up top now unpin this as well
i'll unpin this okay
so now we want to do is whenever this
value changes which one's selected you
want to populate this information so
let's go our properties for the matchup
list box selected index changed
double-click in the way is a black space
for me or almost black double click here
and create the event now we can create
another method now this method might be
a little bit close the other one for
your taste but I'm going to call it
private void load matchup singular
notice rep here we have load matchups
plural so if if that's too close for you
feel free to rename it but I like the
symmetry of having load matchups with
which is a list of matchups versus load
matchup which is one matchup so the
first thing I'm going to do is I'm going
to say matchup model M equals matchup
model and this is the matchup oops
matchup list box dot selected item so it
grabs the selected item and says okay
that's a matchup therefore give me that
model and by the way when you call this
method from our event
I could put all logic right inside the
event but if I did so then I can't call
the logic again without calling the
events method and that means at the pass
in an object and event args and I can do
that like I kind of faking it but that's
just ugly so instead I create a separate
method and call that method that way I
can call it again from other places and
not have to worry about calling an
actual event signature so now we're
going to do a for loop for I equals 0 I
is less than m dot entries dot count now
why am I not doing a for each loop well
a difference is in a for loop I have the
int I which I can use to determine is
this the first one or a second one which
is important because if you notice I
have team one and I have team two so if
I equals 0 then I can do something now I
I could ignore the for loop not put in
there and just do a MD entries with a
position 0 and 1 for position 1 the
problem is I then have to do a check to
make sure there's two entries remember
that for our first matchup we have a
bi-week there's only one entry therefore
you throw an error when we try to reach
entry number two in that matchup so this
way the for loop it will loop through
the entries however many there are 0 1 2
and I only care about one well actually
0 &amp;amp; 1 so therefore if I do more than 2
it's not gonna do anything
if I do less than 2 it will just take
care of the first one so if I equals 0
let's grab these properties
this property name is team one name and
this is probably team one score yep so
team one name and team one score value
team one name dot text equals m dot
entries array position zero dots
team competing dot team name they may
have already realized we're gonna have a
problem here a bug here if the team
competing is null so we'll surround this
with an if statement if m dot entries at
zero team competing is not equal to null
otherwise we have to do something
team one name dot text equals not yet
set now we also need to get a score so
we're gonna say the team 1 score value
dot text equals m dot entries position 0
dot score we have to do a dot to string
on that big a score is a double and you
cannot just put a double into a string
you have to convert it to a string which
this method to string does for us now if
a team is not yet set watch the score be
they should probably be just blank
I'll assume not even zero so let's just
put it at blank
so that's for position one you guys copy
this and do it for position back to well
a second position which is I equals 1
again 0 based counting makes 4 look
confusing talking because this is the
first one that's the second one the
first one is uh position 0 the second
one is at position 1 so I apologize if
it's a little confusing but I'll try
keep it clear all right I change all the
values to 1 instead of 0 and now I have
to change all of the team ones to say
team 2 and it looks we have a problem
with our team to score value and let's
find out why what's this called team to
score text well we need to change that
because we can't have one called taxin
one called value so let's change this to
say value consistency is key alright so
back over here those should now work and
now whenever we select a different
matchup where I come in here and
populate the values for our matchup
let's see if this works
our first tourney will lo the tournament
and we have the uncanny losers now
here's an issue the uncanny losers is
playing against the bye week but we
don't actually have a value 14 - that's
kind of a problem so what to fix that
for when our loop only goes through one
but down here team first place versus
Sue's team the scores are correct if we
changed around two interestingly enough
we don't change this list yet but these
do say not yet set which is correct so
you guys figure out we got a bug here
somewhere with our update where it's not
yet showing us the new values for our
list so let's close this out close this
out let's address the easier of a two
bugs first of all and that is if we have
a bye week we don't get through to this
second if statement there's only one
entry therefore we never hit this
therefore we don't even put not yet set
we put nothing so let's change that so
that if we get through the first set
we'll also set the second set so we'll
say team two name equals and we'll put
in brackets be ye for by and add value
of her score is zero so that should
solve the first problem now let's look
at the second problem the second problem
is when the dropdown selected index
changes the round drop-down we load the
matchups so what does load matchups do
let come down here the first thing it
does is it says give me the round that
you're in find the matchups that if it
matches and then put those matchups in
the selected matchups okay so it grabs
the whatever round we're in grab
all those matchups and puts them in
selected matchups
then it says wire up the matchup list so
that sets the matchups display list so
it seems like that should work I'm not
sure why it's not working let's look at
this wire up looks like the rounds list
rounds changes round drop-down we load
the matchups after you load the matchups
we change the wire up matchups list box
so it should it seems like it should
work so you have to figure out why
that's not working and we'll get to that
in a minute
let's first load our tournament and see
that uncanny losers now is versus the by
and SUSE team vs. team first place works
we can switch back and forth that's not
a problem we switched to round two and
we get nothing and why is that so let's
figure that out
since this kind of breaks the form let's
actually close it out and reload it now
it's working correctly because we have
not yet changed the round let's find out
what happens we do change the round so
we'll put our breakpoint at load
matchups grab our form again and say
change the round it hits this that's
great we find the round that it is we
find the matching matchup which is
second one and now selected matchups
should have a count of one that does has
one item in our selected matchups and
selected matchups
is this right here so therefore selected
matchups has one entry we go now to the
wire up the matchup list we take the
list box we set the data source to null
now we take the selected matchups which
has one matchup and it says the display
name is match up not yet determines it's
okay and we say show that and set the
display name as what you should show and
now we're going to run again the
drop-down selected index changed that's
interesting we ran it twice let's find
out why
oops I'm sorry we're not rang it twice
we are just ending we're finishing up
that method but yet somehow our list has
not yet updated or refreshed now that's
a really head scratcher and partes has
to do the fact that the way that's list
boxes the binding works is a little
clunky I mean saying some null and
saying back is is a clunky way of doing
things and I could do a binding list but
that introduces other problems so let's
start a debugging by figure out what
happens we select an item in our matchup
and we have that matchup list box
selected index change so let's grab that
and change our index and does change
so let's first step into this code and
find out the selected item where it says
match up not a determined that's the one
selected so it knows about the new model
and we should be able to populate all
this information if we
continue it says not yet set not yet set
so it knows at least what the values are
in this list we can keep doing this and
she say it's selected item
it's got it it continue and so it knows
every time I switch what the values are
but yet the display has not yet been
updated so we've got issue in here where
we're not actually updating our list box
we're not refreshing our list box and
just test a little bit further if we
change to round one and we look the
selected item for round is round one
that's great
and if you go wire up our matchup list
so let's go through all of this and say
okay now we need to wire up our data
source for matchups and our selected
items as to that's correct
in the original two and so now you set
our data source to be null then we set
our data source to be selected match ups
set the display member and now we're
done with that and now we have uncanny
losers in first place team back but I
can't actually change my list box the
selected item doesn't actually refresh
so as I'm walking us going on with our
list box in our drop-down there any a
diagnosis and fix and it's gonna be a
little bit of trial and error which all
debugging is the first thing I'm gonna
try is I'm actually going to change how
we do our binding it used to be that we
have this idea of let's actually stop
our application
we used to have his idea of binding
source and we'd call it something like
rounds binding equals new binding source
and then we have another one for our our
matchups so we call it matchups binding
equals new binding source and then when
we actually wired things up we wouldn't
wire directly to our list instead we do
is we would say rounds binding dot data
source equals rounds and then we'd say
the drop-down it's the source is the
binding and so is that to wake that
two-part connection there where we're
connecting to the binding source in the
middle so and one side is our drop-down
on the other size our list and in the
middle between the two is our binding so
we do that and let's do the same thing
for matchups just we have everything set
and so we'd say matchup binding
what's our matchup binding called
matchups binding dot data source equals
selected matchups and then our binding
source is the data source for our list
box we keep the display member as it is
so that's what you should do but then
anytime we called these two instead of
doing a wire up rounds list would say is
rounds binding dot reset bindings
and it's going to ask for a true or
false for the metadata changed and that
means that the information around the
data has changed which we can pass in
false we can spell it right and now
reset the bindings just for the rounds
and then down here wire up match up list
instead of doing that we would say match
ups binding dot reset bindings false to
reset the bindings for the match up list
now I'll put these in methods but I want
you to see what we do I want to test it
out and see if putting a binding source
in the middle will help our issue so I
run this again and now we have nothing
here excellent so we got some kind of
issue we have to take care of first
because our tournament comes out as
blank even though we have a first
tourney in the tournament name so we
didn't do something quite right with our
binding source so we have our rounds
binding and matchup binding and once we
load the rounds right here we have us
load rounds we should load the rounds up
and we do need to at that point wire up
our rounds list or short of that we can
do is in our constructor we can wire up
the rounds list and wire up the matchup
list so that's like the constructor the
first time you set it up you configure
the binding but after that instead of
saying it's null what you do is you do a
reset binding let's run this again and
say load tournament and we still have
nothing for our list so we've got some
things
still kind of nagging ass let's find out
what that is
and so after looking at this a little
harder I'm still not getting this to
work the way I want now I had keep
fighting with binding sores but I dunno
that's the old way of doing things I
don't want to keep doing the old way of
doing things and there is a better way
going forward kind of and that's the
idea of binding lists now you can bind
directly to a binding list and things
work great so whenever you refresh data
it gets updated automatically and you
don't have to do any calls to refresh
the data the only problem with this is
we can at least eliminate the idea of
wiring up our data sources or at least
mostly eliminate that so we get back to
this in a minute and we'll change this
to a binding list and we don't need to
do resets and so now we have only a few
errors left but one of the errors is
this right here
selected matchup which is a binding list
equals matchups well we can't convert a
list to a binding list essentially when
it convert every one of our lists to a
binding list instead whenever we're
using it as a binding list fortunately
as it's not too hard we can say equals
new binding lists of match up model and
then pass in an I list which list is an
i list remember I in front of something
usually means interface and this case it
does list implements the interface I
list so therefore we can pass in this
list to the new constructor so new
binding lists pass in a list it will
populate
and these selected matchups so that
should work for that and if we scroll up
here then we don't really need to do
much with our bindings except make sure
that we have our rounds going into our
data source I'm sorry our drop-down so
we can just say there is our rounds goes
right into our combo box and then also
we have our our drop or our list right
here which goes right into our list box
we can get rid of this and we'll still
set display member like that so now we
should have a binding list for
everything and we shouldn't have any
errors a quick way to tell if you have
errors that open up a solution Explorer
look for the red squiggly underneath
your file that you're in and that should
tell you pretty quickly or you can look
on the right here in this bar which gets
kind of cluttered but in here you if you
see any red you can move to that so
again this is an experiment let's see if
this works and if it does we'll clean up
our code we load and now we have nothing
again so that didn't work so now at the
point where we've made code change after
code change and we kind of get in our
code cluttered up so let's first of all
figure out if there's anything we can do
to debug this first and then we'll worry
about cleaning up our code so let's put
our breakpoint right here we'll say load
tournament it comes right to here I
selected matchups has nothing in it and
our rounds has nothing in it and we say
the Drowned dropdown dot data source
equals rounds and now it has a dais or
two count of zero it's great
the matchups the datasource currently is
null for the list box we're going to put
it into it the selected matchups which
is 0 in it and set the display member
now you'll load form data well that's
just the text name of the tournament
named now we load the rounds now rounds
which goes into a round drop-down we're
a set to a new binding list of int we're
going to add 1 to it it's now rounds has
one item in it and then for each other
round besides round one we're gonna add
that round as well to our rounds so now
we have 1 &amp;amp; 2 and now our rounds has 2
values 1 2 &amp;amp; it should be that we're all
wired up if we mouse over the rounds
drop-down Deus source we can see that
nope it still has 0 so something's not
right
with the display there because not
actually showing us what we want is not
actually binding a list and keeping that
bound let's figure out why so this is
where a little bit of guesswork comes in
and a little bit of intuition made some
googling look on Stack Overflow to find
out some or find some solutions but I
have an idea and that idea is this we do
this rounds equals new binding list of
int what if we didn't do that you see
when we set a new binding list maybe it
disconnects so instead let's see if we
can do rounds dots clear
and that sure move all the elements
instead so instead of a new list we'll
reset the elements and then we have to
come down here and look and well let's
just store the rounds that's the only
change rounds let's see if that works
for rounds and if it does we'll apply
the same methodology for the matchups
and let's take our break points out and
now we see that rounds we have two so
that is the the issue we cannot set the
value to be null or new list we can't
say new list otherwise we have a problem
can't do that we can clear out the list
which also means that whenever we come
down here we can't do this so how do we
put the matchups in the binding list
well let's be a little bit more complex
this is why I'm not a big fan of binding
list but okay it's what is it is what it
is so selected matchups dot clear so
that gets rid of all the items currently
in there and then for each matchup and
match up model em don't have Emma's
current context that's good am in match
ups selected match ups dot add em
so now we're adding that item in one by
one after you clear it out so that
should solve our problem
we hope let's try it again load
tournament and we still have a blank
list but now we have one item and now we
have both so how what's the issue here
well the issue is we're not actually
calling these all the places we need to
so let's figure this out first
alright so let's first of all clean up
what we have we've got a whole lot code
in here that's not needed or not named
well or whatever and so let's just clean
up the stuff that we were messing around
with and let's reset our flow here for
our constructor so our flow here is we
need to wire up the rounds list and the
match up list and that's just these
three lines so I'm just going to say
wire up lists and go back to that and
I'm gonna move this code into here and
I'll call wire up match up lists or wire
up lists right there we load the turret
model we immediately wire up our lists
now that means we should have any other
errors here these are not calling that
anywhere else but now you got a load
form data and that's just this form data
here then we load the rounds
well the let rounds loads up our rounds
list with all the rounds that we have
and that works so that's that's great
but what we don't do is we don't select
the first round in anyway
and what's not happening here is we're
not actually selecting the loading the
matchups I think the issue here is that
we're loading our rounds but we're not
firing that selected index changed by
loading those values we can test this by
putting the breakpoint right here and
loading our application to see if
anything happens when we hit this spot
in fact know this this was never fired
so in order for us to fire this we
actually to manually change the value
well that's not ideal so instead let's
do this let's move this logic copy it
for now I'm gonna paste it into the load
match up and I'll get to an int round in
our load matchup and here's why now I
can call this the very end I can call
load match up load match up sorry plural
and pass in a round of one we always
have the first round and that's always
the first one a list that's right here
so therefore as soon as you load all the
rounds make sure although the matchups
for round one before we go any further
let's make sure we test this we hit load
tournament and now we have the selected
list actually selected if we change it
to networks if we change back to one
that works now note though when I
selected my changed to the matchup has
not yet been determined and yet the
values over here are still unque loser
and by but yeah if I switch them
manually they seem to work
so we have a same issue here where we're
not actually selecting the first value
so when the load matchup happens that's
repopulate the information that's the
exact same thing let's first of all grab
the matchup model and we'll call it m
and we're going to pass it in from the
event like this and that events down
here so pass it in from the event like
that
that way when we load the matchups after
we're done loading the matchups which is
where we load them all but we don't
actually select one we're gonna call
load matchup and we're gonna say
matchups dot not sort the matchups we're
going to say yes selected matchups dot
first so that's the first matchup in our
list let's try this again we have our
first tourney we hit load tournament and
now it's uncanny losers and by that's
great we've switched to round two and
it's not yet set and not yet set back to
round one it switches back so we we do
have that now updating like we expected
all right so there's a little bit
debugging there a couple of issues that
that cropped up but that's really all we
needed to do we load this list we load
this list we wire the two together and
we displayed the information based on
which item was selected over in the
matchup list box now the unplayed only
checkbox has not been dealt with yet and
the score button has not been dealt with
yet we're gonna put those in the second
video because when we score
we're gonna mark an item as plate a mark
a list a matchup list
I'm sorry matchup and so when you say
score the matchup will get marked as
played and therefore we'll see if this
checkbox works I will actually have data
to work with and so we'll do the score
and the unplayed only checkbox in the
next video and they'll move on to
actually saving the data once we've
changed it alright so that's the next
video stick around for it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>