<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 15 - Create Tournament Form Part 1 | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 15 - Create Tournament Form Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 15 - Create Tournament Form Part 1</b></h2><h5 class="post__date">2017-07-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gpCrmbZR9yE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 15 in a c-sharp from
start-to-finish course my name is Tim
quarry and today we're going to start
working on the create tournament form
this is the big one once we get this
form completed we'll have a mostly
working application the best news is
that while this is the most complex of
our forms by now we've already done most
the parts we need
that means we shouldn't encounter too
many issues please we hope not so let's
jump right in
before we get started in the lesson I
want to remind you to subscribe to this
channel if you are subscribed click the
little bell icon make sure your game e
alerts when I add a new video
and while you check on that could you
also give us video like I know that
we're just getting started but liking a
video is a simple way that you can make
this course more popular and that helps
everyone it increases the visibility of
my videos on YouTube which generates
more income for me it helps others out
because they get introduced to the
design of content and it helps you out
because I'm able to produce more free
videos ok so let's get back to the
lesson whenever I start a forum I like
to break down the different chunks that
I'm going to do until I review what the
forum does and then figure out what the
logical chunks are and right away in my
review the first thing I notice is these
two boxes right here are different and
you have their labels are the same I
just need a copy paste error so I'm go
ahead and resolve that before you get
any further along you know change this
to say prizes and that just fixes that
little issue right there the actual
label is labeled prize label and the box
is prize list box so we're all good
there it was just the actual text right
here for this label now as far as the
chunks then I'll break this up into it's
a little bit different we're doing on
video versus you to yourself because
here's the chunks if you're doing
yourself
I would populate this select team drop
down first
and then one chunk then I'd populate
this list box right here and that's
another chunk then I'd wire up this add
team which takes squares in this drop
down and puts them in this list box as
the next chunk because that way can
validate that this list is working and
fun I'd wire up this list box now
because we're doing this on the video
I'm not going to do six different videos
for this one form we're going to try and
do it in three and so therefore we're
going to do all of these in one video so
with a drop down the add team this list
box this prize box all of these we're
going to do in this first video the next
video will wire up these delete buttons
and the create new and the create prize
buttons why are those up as well make
sure they're working the final video
will concentrate just on this create
tournament button so those are chunks
we're going to do they're bigger chunks
to not have you do if you're just doing
on your own because on your own you can
break it down to smaller parts and makes
a little more logical sense so let's
start with this select team drop-down
called select team drop down
three-letter code for this hit f7 and
here's our code behind for our form the
first thing I want to do is this is a
list of teams so I want a list of team
model take control dot add the using
statement now I'll call this teams
four available t no two available teams
equals new list teams and what that's
going to do is it is going to give us
all the teams there in the database
every one of them it will put that in
this list now right now I have this as a
equals new list team model we're going
to go ahead and change that to either
low the teams from the database or from
the text file so what we this way from
now just we have something and then
let's work on getting that read for the
team model so we have a create team but
let's do the list of team model get team
get team underscore all so matches up
get team and create team get person all
get team all so kind of matching the
same patterns here this is our new entry
in our I did a connection which is our
interface or a contract and now let's
implement that so do a control dot here
and then we'll also do our control dots
in our text connector so that both are
implemented we'll come back over a
single connector we'll go find this so
here's our get team all in a sequel
connector so let's first of all copy
this code for get person because it
seems to function fairly consistently
with what we're doing
I'll change output to be a team model
instead of a person model and we'll have
to change the query gets
the team model instead now first of all
we need to figure out what store
procedure this should be instead of SP
people get all so let's look for the SP
team get all we have an SP team get by
tournaments and if we modify this to
look at it we can see that we get
everything from a team and we join on
the tournament entries so that we know
okay it's this specific tournament well
we're not asking for specific tournament
yet we're creating a tournament so this
isn't quite right so now how you use
that instead we going to create a stored
procedure get rid of stuff up top and
we'll say the name is going to be follow
same convention so DB o SP team
underscore gets all you will have no
parameters because we're getting all the
teams and for our select event be very
simple select star from DV o dot teams
alright we'll press tentacle at the end
and that's our store procedure very very
simple now if we run this just a select
statement we have right now one team ID
of one and a team name of team first
place so you have one team in there so
let's create that store procedure we'll
take that name we're not pasted here and
now we have a populated team model list
correct well no actually we don't
if we look at the team model we see that
we have ID the team name does within the
Gaston database but then you have this
list of person model called team members
we didn't get that from that single
table so how you gonna fill that well
remember that we have as other table in
sequel we have this table called
team members and if we look at this
let's select the top thousand rows we
see team ID of one for both of these
I'll zoom in here and then the person ID
is wanted to so we have this linking
tool that says okay here are the entries
for this particular team so we need to
get team members get by team so this
looks like it's probably what we need
this spt members get by team we passing
the team ID and get back a list of
people and that sounds correct so we
need call this store procedure and we
have pass in at team ID and how we do
that over here well we're going to have
to loop through and call this for every
team that we just download because if we
have eight teams each one that needs to
have that call by team ID to find out
which people are part of that team
so therefore we're going to do a for
each for each team model team in output
so the output right now is team model
but it doesn't have anything for that
team members list and so for each one
we're going to say team dot team members
equals connection dot query and this is
a
list of person model D do dot as I start
procedure name to list and now what this
does is for each team in our list of
teams we're going to query the team
members list now if you look at the
store procedure we're not actually
returning just that this right here
we're not returning this just IDs
essentially instead with the joins we
are returning the people so ID first
name last name email address and cell
phone number their people records
therefore we can do it right here we can
return a person model which is ideal
because we whole list of person model
for the team members so each team we're
going to run this query and the results
we get put in the team members list now
our output is not only our team name and
ID but also all the team members fully
populated so now get team on our score
all should be correct so now over here
in the code behind for our creator met
form instead of saying equals new list
of team L we can say global config will
add the using statement there dot
connection dot get team all now we'll
get all the teams and put them in this
list of team model
next we need to hook up our drop-down to
this list so let's create a private void
initialize lists where I say in here
that our lists which we called select
team drop-down select team drop-down dot
data source equals available teams and
selected team drop-down dot display
member equals and we have take a display
member to show so let's leave a team
model if you didn't notice
why duty for didn't realize what I was
doing if you click on object like team
model and hit f12 it finds that
definition so it goes right to team
model it puts it over here as a not
quite open tab more a preview tab you
can say keep it open and then I'll make
it a real tab otherwise this will change
based upon where you need to go so I
need to pick one property to identify
this team model in this case is pretty
simple team name seems to indicate
exactly who we're talking about can I
copy that and then here inside double
quotes for display member I'm going to
paste it that way my casing is perfect
and I know that's not an issue now
before we go any further let's go ahead
and check to make sure this part of it
is working
so let's come down here to our program
CS make sure we change this from text
file back to sequel and then we also
need to change
instead of create team form we're now on
the creates tournament form if we run
this we're going to get this error now
you own knowing my something up well
yeah Kyle we did but don't panic
read the information so additional
information which in the newer versions
of Visual Studio they fix this so that
this is much more clean and it puts the
real information up top but in this case
the real information is under additional
information and says procedure or
function SP team members I scored get by
team expects the parameter at team ID
which was not supplied well that kind of
sense doesn't we in passing the team ID
therefore we don't know which team to
look up so let's stop that and we need
to create a dynamic parameter list so
let's grab just going to copy it from up
here so you have a same pattern and then
we're going to say down here let's just
put right in here and we're going to say
instead of model dot this is add let's
check make sure it's called at team ID
okay copy that this is at team ID and
it's not model we're inside a loop so
it's team dot ID so we pass that in by
doing comma P all right and that should
be all we need let's start again see if
what happens nope it says procedure or
function expects a parameter at team ID
which was not supplied well we passed in
the P so why is this not working
again not the kind of panic this time is
just look at what's going on here in
here we said P and I may give the
command type which we didn't do down
here so let's just do that and pass it
in and this time runs okay so we needed
that command type of store procedure to
tell if there is a store procedure now
in the team list we have nobody that
hasn't seen quite right so let's debug
this as well this is all those things
where you get you get going you're like
I'll nail this thing and then this kind
of things you know hits this is natural
this is normal the way you've been going
so far we've kind of had to easy and so
now we're starting to see a couple of
bugs and errors and that's a good thing
because us debug what's going on and
those debugging skills are really
important because you're going to need
them every day so in this case I'm going
to find out if I actually even getting
teams so I am putting my breakpoint
right after I get all the teams and I
put right there I'm going to start and
that's already at the breakpoint notice
the yellow highlights say we're at the
start of the for each so let's mouse
over outputs and you can see output says
it has one record it has ID of one and
team name of team first place and no
team members which is great that's
perfect because we load those down here
so let's step into this for each and
before you start going any further let's
look at the team to make sure it is the
correct team ID of one team first place
the name so yes that's correct
we're going to add our team ID which is
one
we're going to call and ask for a person
model back we're going to call this
method and we get back the team ID of
one team first place now has two team
members the first person the second
person I'm sorry is sue storm and the
first person is team kori so that's
right so let's keep stepping through can
return output that's good
and now to step into an area that I
didn't really need to this is the other
half of the class notice to create
tournament form this is the we have a
partial class in two different spots and
so this is the other half of that
partial class I'm going to step out up
here which brings me back to this
creation I can keep going and it's
actually taking me too far I shouldn't
have stepped out because it treats the
partial class like it's a whole class
and doesn't know one from the other so
I'm going to stop it again and this time
going to go to my create tournament form
and put my breakpoint at the end of the
constructor you have to add break point
out of this for each loop and start
again and now I'm here at the anim
constructor my available teams is one
team first place ID of one and it has
two people in the list Sue Storm and Tim
quarry
so my team list is correct
so why is it then I drop down is empty
now hopefully this doesn't take you too
long but don't panic if it does it's one
of those things where when you stare at
something too long it actually makes the
problem worse not better and so if you
ever get stuck in a pot like this why
did I encourage is that you step away
for five minutes and do something
totally different I play a game my
iPhone I pull the iPhone out play a game
it gives my mind off of what I'm doing
which actually helped me solve the
problem I'll come back and be obvious oh
that's why I did in this case the
obvious is I didn't actually call this
method if you don't call the list or
initialize list method that never
initializes the data source and wires
everything up there for nothing in a
list now team first place is in that
list so step one is done it's a little
rocky we have a little issue but we are
back on track and got some valuable
debugging steps in along the way and we
realized that we have to make sure we
follow through on every step we're doing
when I was down done here I said I'm
done I didn't review how this fits into
the rest of the application now let's
tackle the next chunk I'm going to close
out everything else so close all of this
just kind of clear and plate I'll press
up re populate it with all those tabs
but I want at least start fresh for now
now the next logical step you might
think is to add the team because you've
already started working on teams let's
complete that but and here's the issue
we don't have anything to add to yet
there's no place for it to go
so therefore we need to come out over to
here and populate this listbox
tournament players list box so f7 to our
code we're going to say list of team
model selected teams equals new list of
team model the reason it's a new list of
team model is because we don't have any
team selected by default now if you're
thinking man this feels familiar
it feels like we've done it before we
have create team form so let the team
member that's a person add them to the
selected person list box so it's the
same pattern as over here
it's just now it teams here versus
people in the previous form so it should
feel confident and should follow same
basic pattern so in the same way we have
our turnip players let's change that
name to well we're here it's really not
turn it players as tournament teams we
have over here a select team drop-down
so we should have tournament team teams
list it's a little more consistent with
what we're doing here so we have
tournament teams list box so down here
in the initialize list we can say
tournament teams list box dot data
source equals selected teams tournament
team list box dot display member equals
a copy from up here team name and paste
it down here because these both hold a
list of team model and so there
splay member should be the same for both
of them and that's really it for wiring
up this list box there's nothing more I
do because there is no list so it's not
if you can say oh yep we're working
although we could put some dummy data in
there just to be sure but I think we're
okay seeing how we only have to write
three lines of code I think okay for now
and because that was so easy let's look
at the prizes list box that would seem
like we have a list of prize model
selected prizes equals new list of prize
model and down here prizes list box dot
data source equals selected prizes and
then prizes list box display member
equals that string let's go over to the
prize model and look at the prize
identifier I think probably place name
it's going to be good all the way might
want to have some type of property that
combines two or more but for now I think
place name is good so let's just copy
this let's grab place name and then
paste it into our quotes and now with
that little bit of code we've wired up
these two list boxes now that they're
wired up we can come back over here and
work on this button this buttons job is
to take the value from here and move it
over into here so I double click to
create the event
and then before I go any further just
because I know every does once with the
create team form I want to see what I
did to the add member button just see
the pattern so I know yep that's what I
want to do in fact I'm leaving copy this
code and paste it over into here and
comment it out then I can kind of follow
the same pattern for two reasons one it
keeps my code consistent that way you
don't see things done two or three
different ways depending on which form
you're in and two it helps make sure
that since I have a system that works
that I use that same system which
reduces the amount of errors I have in
my code so the first thing I did was I
converted my drop down value selected
item to the type so in that case I'm
going to say team model T equals team
model and parens select team drop down
dot selected item so that takes the
selected person
I'm sorry team in the drop down converts
it back over to a team model since the
all our team models that's not a problem
if they weren't it'd blow up so now I've
done that I can say if T does not equal
null we can say available teams dot
remove that team so not is not available
anymore because selected teams dot ad
t see it's not available anymore because
it's now in a selected list the final
that we did what we call the wire up
lists we don't have that or do it well
we kind of do we call it initial eyes
lists so let's go ahead and change that
so it matches so the patterns stay the
same but one more thing that we did here
in this wire up list we first assigned
the data sources to be no remember that
reset our list and allow us to rebind
and so let's do that here I'm actually
going to copy and paste just make sure
that you do copy each time otherwise
you'll copy the previous your page the
previous one and that wouldn't work okay
so now we're I call the wire up list to
make sure that our lists have been
updated I can get rid of this comment
and now let's run this again we only
have one team if we add team it moves
out of here and into here perfect that's
exactly what and believe it or not the
first four chunks of this form are done
we wired up this selected team list so
it populates with all the available
teams we wired up the teams and players
selected box as well as the prizes
selected box and wire this button up
that takes a person from the available
list and moves them to the selected list
so that's it that's all we had do in
this first video for small chunks
and those chunks were really fairly easy
we had a couple of glitches but they're
fairly easy and we're really quite a
ways towards getting this whole form
done in the next video we're going to
wire up this create prize button
remember we already have a form that
creates the prize but we still have to
call that form get the data back and put
in this list because create prize works
a little bit differently in that we
don't have a drop-down of available
prizes we aside back in our planning
stage we weren't going to do that
because we fear that prizes we're pretty
much specific to the tournament and
wouldn't be reused so we'll create
prizes specifically for this tournament
so we'll wire this up to that form and
get the data back and put it over here
we'll also wire up this right here this
button it will be a similar mechanism as
is create prize button in that it will
call that other form we just did that
creates a team and then when it comes
back with a filled out team it's going
to put that team in this list and
finally we'll wire up these two buttons
to remove people or remove teams go and
remove prizes respectively so it's kind
of a bigger chunk it seems like but a
lot of ways most what's already done so
that's the next video make sure you stay
tuned for that
before you go you'll see a link on the
left of bias course check out the intro
video in this playlist for more
information what you get if you pay also
if you are ever wondering what you could
do to help this channel out without
paying money I've listed six things that
really help
I appreciate if you consider doing one
or more of these thanks again and don't
forget to keep practicing what you
learned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>