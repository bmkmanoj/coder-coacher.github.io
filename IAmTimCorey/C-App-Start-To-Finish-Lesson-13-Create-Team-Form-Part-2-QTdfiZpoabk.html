<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# App Start To Finish Lesson 13 - Create Team Form Part 2 | Coder Coacher - Coaching Coders</title><meta content="C# App Start To Finish Lesson 13 - Create Team Form Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/IAmTimCorey/">IAmTimCorey</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# App Start To Finish Lesson 13 - Create Team Form Part 2</b></h2><h5 class="post__date">2017-07-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QTdfiZpoabk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to lesson 13 in a c-sharp from
start-to-finish course my name is Tim
quarry and today we're going to continue
to work on our create team form in our
last video we wired up the add new
members section of our form in this
video we're going to wire up our drop
down and our list box as well as taking
the add new member section taking that
that object we created that new person
and adding them to our list box as well
so that's the plan for this video now
let's get started before we get started
in the lesson I want to remind you to
subscribe to this channel if you are
subscribed click the little bell icon
make sure your gave me alerts when I add
a new video and while you check on that
could you also give this video a like I
know that we're just getting started but
liking the video is a simple way that
you can make this course more popular
and that helps everyone it increases the
visibility of my videos on YouTube which
generates more income for me it helps
others out because they get introduced
to this valuable content and it helps
you out because I am able to produce
more free videos ok so let's get back to
the lesson over here we have our form
here's our drop down and here is our
lifts box now if you've seen my previous
videos where I've wired up forms before
you know that behind this combo box and
behind this list box I'll have a list of
in this case list of person and for each
of these between a list a person so
let's go ahead and create those this is
my code behind I hit f7 you can also
come down here right click on your
create team form and say view code that
works as well now at the class level not
inside of my constructor or inside a my
methods I create a private list of
person and called this
available team members this new list of
person private list that a person model
but persons find selected team members
those new list of personnel so it's
going to happen over here it will have
all the people that are available that
could be on this team in this drop-down
we're going to select one hit add member
and they come over here into this list
box now if you decide I want to add a
team member directly you can create a
new person they'll create them and then
take that object input directly into
this list the next time you open up its
form that newly created person will now
be in this drop down one up in a note is
you might be thinking well I could limit
this so that the second team I create
doesn't have those team members
available to it so as Coble boskie is
smaller and smaller and it could
probably maybe kind of the problem with
that is this create team form is not
directly tied to a tournament now in our
system a tournament kicks office form
but let's think this thing through we
can have more than one tournament going
on at a time so if we have basketball
tournament and a ping-pong tournament
wouldn't I be available to be on a team
for both therefore then two different
teams so it would get really complex to
try and figure out how to limit this
combo box to only people who are
available to be on Team let's think
worst-case scenario ferment what if you
had a a ping pong doubles tournament and
she had two people per team in the
office you have seven people well ideal
the eight so maybe one person does
double duty and done two different teams
that's a possibility so instead of
trying to do all its crazy logic to
limit this combo box where I leave it
alone the only limiting will do is if we
have add a person to this list they
won't be in this drop-down that's the
only limitation will do which actually
makes our job easier okay so you have
these two lists the available will go
over here and the selected will go over
here so that's our two lists now let's
create a method that wires these lists
up so then create a method called
private void wire up lists and what this
will do is it will wire up our drop-down
or comma box and our list box to our
list so we can say look at the name a
drop down the drop down is is the
properties
it's select team member drop down select
to never drop down dot data source
equals available team member now we
didn't use to be able to do this we used
to have to create a binding source
between our drop down in our list
because the drop down didn't know how to
deal with a list directly we don't
anymore which is great that makes life a
little easier the other way to do is
look at our display member now our
display member is a string the bat
string represents one property inside of
your in this case person model so let's
look at the person model and see which
property do you want to pull over that
represents the person
and I don't see one I mean we have first
name that's great until you have to
Tim's then it's a problem and lasting is
great except when you have two Smiths we
could do email address but do we all
know each other's email addresses it
doesn't make sense so let's create a new
property that's a read-only property
that uses the values from more than one
of these properties now you could do the
prop full and then just delete the stuff
you don't want you delete that can
change out to a string change this
delete this and then modify this you
could do that or you can just type it
out it's up to you type it out to see
and see it public string I call this
full name and just needs a get alright
this get needs to return dollar sign
double quotes semicolon inside semi
quote pretty double quotes will do first
name that has space then more curly
braces last name now we could return
last in comma first name if you wanted
to if so I probably call this full name
reverse or full name last first you know
some way of indicating that's the full
name but it's got a last name first but
I think we're fine with doing the full
name as it is that copy this normally
don't copy and paste very much inside a
code because that's where your bugs come
in we need copy and paste and could
forget to change all the different areas
need to change but in this case I really
highly recommend it because we have to
put this name inside of double quotes
and that means there's no intellisense
there's nothing saying that's not right
or that is right even if I type this
wrong it wouldn't tell me that until run
time in fact run time it wouldn't really
tell me that it would just give me a
weird value in my list box or color box
so I copy and paste there so that's our
select team member drop-down and then we
have as team members list box so team
members list box dot div source equals
selected team members and then the team
member list box dot display member is
going to equal full name as well and a
gang-up ASA in there so both will have
full name now let's call this instead of
our constructor there we go
and before we go any further I'm
actually create one more method private
fully create sample data and what I do
with this is I create a sample couple of
records that I then add to my different
lists that way I can make sure the lists
are working the way they're supposed to
so let's say available team members add
new person model curly braces twice and
I call at the end first and come back
and say first name equals Tim last name
equals Cory I don't need to fill in the
other fields because this is sample data
and only displaying just at first and
last name
all right and now also do selected team
members add oops new person model same
thing put our prey braces put the clinic
on the end come back copy that and paste
it again and Jones there we go now put
this method before the wire up lists in
my constructor so now add two records to
each of my lists and then wire the list
to the the data sources of the drop-down
in the list box why is that important
well if we start this I want to start
you'll see that I have sample data in
both lists here's a drop-down with Tim
Cory and Sue Storm and here is the list
box with Jane Smith and Bill Jones so
both are working as they should and now
we can start working on putting actual
data in here and then moving data around
once we start wiring up these add member
button delete selected and even tap into
what this button is doing so that works
so now I can actually get rid of the
create sample data just by commenting it
out and the reason I do that is because
I might want to come back later and put
that in for testing purposes and it
really is a matter of uncomment and
that's it the great thing about the
compiler is if I were to send this code
of production this create sample data is
never used and it will not really do
anything to my application
it run slower angkot that it's just kind
of there
so now let's wire up actual data
collection here or at least data display
from our database or our text file and
how we do that well we need to come over
here to our idea connector and in here I
create a new rule or a new item in our
contract let's say I see a list of
person model I'd call this get person on
our score all that sounds a little bit
weird what I'm saying is I want to get
not people I'm going to get person
because that's the model the person
model over here get person all just like
create person so my my scheme or my
naming convention is going to be create
for any kind of insert statements get
for any type of select statement where
I'm getting records back now you don't
need a patch anything in we were doing
all the people and therefore that's all
we need for our contract now it's for a
sequel and say well you're not currently
implementing so control dot implement
the interface can scroll down here and
see that we have this right here so now
we can say using I DB connection
connection equals new system dot dot
sequel client that sequel connection
global config dot CNN string tournaments
put one more at the end of that we hit
enter and now inside here we can
actually call our store procedure which
is over here you have it already created
it's the people get all so if I run this
oops
CBO Dodds SP people get all and right
now you have one person in our database
that's Tim Cory and that's from our
previous example or we were writing the
sequel to test to make sure that the
form worked so that's all T we have
that's ok going to call this stored
procedure before I call that actually I
create an output variable a list of
person model output I'm not going to
initialize it instead of say output
equals connection query if you a person
model and I will say here is the stored
procedure and that's really it dot to
list that converts it to a list from
ienumerable and then at the very bottom
here we can return output now you may be
looking at that and saying I can make it
simpler take away this take away this
and take away this and just say here
return return this call and yes that is
true that is simpler but here's the
caveat to this if I have any kind of
issue where I wanna be but catching this
before it returns the value can be
tricky especially
you have just a return statement here
now with this way I can put my break
points right here right after this is
loaded and then inspect this variable it
makes a little easier for debugging so
I'm going to leave it that way
so I have it in place for debugging
after I'm comfortable with it I might
return it back to just a return but I
probably won't because down the road
when I need to debug something I don't
want to have to rewrite code in or a
debug so I'll probably leave it that way
and that's something you're going to
think through on your own is this one
going to do it or not and that's rigged
up to you okay
so we have this list of person that's
getting returned we call the get person
underscore all and just we don't have
any problems here with compile time I'm
going to do my control dot and implement
the interface but notice it has that
throw new not implemented exception
which is great because I don't want to
implement it yet when other hand note is
now that I start to fill this in and I
have more items in here I'm starting to
notice a repetition this magic string
tournaments I'll want to fix that and so
let's actually do that here
all right so let's call it D be and now
I can replace all of these instances
where it says tournaments with that
string constant and that way if I ever
need to change it I change it here and
changes for everything not just one
location so if you're repeating yourself
figure out if you can do something
different to make that a little easier
or a little better
okay so we can come back over to our
form here and now instead of create
sample data I'm a how 'add it says
private void load list data and here I'm
going to start by calling the global
config dot connection dots and then
right down here we have get person
underscore all and I will put this in
the available team members now I could
put this directly in here and I might do
that it seems like it's a ways to create
this method to do what's already been
done and it's also kind of waste to have
an initialization that then gets
overwritten by this so let's do that
let's like a little cleaner do it just
like that
so that's the available team members
list get rid of this and notice nothing
happens to the selected team members and
that's intentional because we don't need
to change anything that list it should
be empty to start with we don't have
anyone in the team
start with now if we run this form just
as it is let's make sure that we are in
fact writing from sequel or not let's
change that to sequel and now I can run
it and now if you notice we have just
Tim quarry as the selected team member
or all the team members in this list
consists of just me if we wanted to we
could add a new person but it won't add
anywhere yet instead of doing that now
let's do that once we have wired up
where this goes but first I want to wire
up what happens we hit the add member
button want to take the person from this
list remove them from this list add them
to this list and refresh both so let's
create our event for a button let's
double click this time and there's our
button event and so the button events
job is going to be to take the person
out of this list put them into this list
and then refresh so how we know who's in
that first list well we're going to say
person model P equals select team member
drop-down selected item now that won't
work until you cast it we have to cast
it to person model in a sense what we're
saying here is this normally is an
object if you notice it says object
right here so type but we said no no
it's not an object we know that well
everything's a base object but this is
more specifically a person model now
will happen is c-sharp will say okay
I'll trust you I will say yes this is a
model and we'll take you selected item
and try and shoehorn it into a person
model variable if it works that's great
if it doesn't it will blow up but since
we were the ones that filled in this
drop down with a list of person model we
know that's correct so we're okay that's
case now that we know who's been
selected we can say available team
members that remove that takes in a
person model it's going to find that
person and remove them from the
available team members list SP selected
team members it's not selected our list
is selected team members so selected
team members dot add P so I've taken
this person I found out who they are
what the actual person object is I've
removed them from the available team
members list I've added them to the
selected team members list now remember
the way object instances work we're not
making copies here we have taken the
blueprint of the person model class a
create a house and we've said okay here
is this house it's at 1 2 3 Sesame
Street and so when I say find which one
is selected it's essentially saying the
house at 1 2 3 Sesame Street has been
selected so I say remove the object at 1
2 3 Sesame Street from this list it says
okay that does not destroy the house it
doesn't bulldoze the house it just takes
that address of our address list and
conversely we add that address to
this address list so we aren't making
copies here we're just moving who has
that address around in this case we now
have it removed from one and add to the
other I'm actually gonna call the wire
up list method again and now let's come
through and do that same thing you'll
reset the data sources that way they've
been refreshed and one of the benefits
here is I can actually have a limited
list meaning a list is ordered by or has
a where clause in it something like that
did I have my data source list and so
what I can do is I can actually do that
limitation here and every time any kind
of data changes like down here you'll
refresh that list now let's see this in
action you can only do it once so that's
okay
we have Tim corn the lists we hit add
member nothing seems to have it and so
let's find out why it's a great
opportunity for us debug when something
we think should happen doesn't happen
what we do and so let's come down here
and put a breakpoint in our event I'm
going to say add member and as I say
giftee selected I don't have to step
over that now the selected item is Tim
quarry so that's good now let's look at
our list our list of available team
members has nothing in it so we can't
remove it from them and I selected team
members has one person so that seems
like it should be displaying the right
thing so why is it that nothing here is
displaying the way it should
well it seemed like the issue has to do
with our wire up lists it seems like
this wire up lists isn't actually
refreshing our data source since it's
the same list now we can play around
with like select team member drop down
dot refresh and see if that works
actually going to take this I cut it
move it down here instead of wiring the
lists again and do this instead this is
a great time to debug there we go this
is a great time to debug because we can
learn a little more about how things are
actually working and had tracked on
problem because here's a deal so far my
application is just kind of worked and
that really doesn't happen out of gate
that often at least into your well down
the road of being a programmer and even
then that's pretty much a rarity I
typically spend half my day debugging
why my awesome logic didn't work and so
debugging skills are really important
and they also help you learn because as
you track down problems you may even
find a bug in in how c-sharp works now
here's the deal with that don't assume
that it's a bug in c-sharp until you
you'd eliminate everything else I mean
everything else because 99% of the time
it's your bug so in this case let's do a
refresh
instead of rebinding its list and see
what happens so I have
Tim Corrie selected I had member and
nope that didn't do it
so I read about this is when I was
googling things I read about a solution
that seems a little wonky but it was
suggested as this is the way I do things
to the drop-down and say data source
equals no and then down here there's
source equals no so you have set to no
first and then your list and that should
work every time because it changes that
listen forces a refresh let's just see
what happens add member now he's over
here and not over here and that worked
so work the first time we get a display
Tim Cory over here and it worked a
second time when I hit add member and
moved him over so that seems to work so
our solution Italy found so far that
works is to set it to null first
does that hurt anything probably not but
it would possibly trigger some event
loops to happen but we're having anyways
for example the selected item is going
to change well that's because that's
going to be happening anyways because
Tim is done move from here to over here
therefore the selected item over here
will change so that's going to happen
anyways do we like the solution it's not
the best do I have a better solution for
it not this time and so what I might do
is I might put to do in here that just
says hey when you get a chance or a low
priority to do we need a chance why
don't you look into
who is a better way to do refreshing of
the data-binding
so but otherwise it works and it's not
terribly inefficient therefore we'll
leave that as complete so now we have
this wired up we have this wired up and
we have this button wired up we have a
couple more to wire up we have the
delete selected which is probably miss
named it's probably removed selected in
fact let's go ahead and change that now
and also change the name up here that
way everything is set before I create an
event so remove selected takes the
person from this list and puts them back
over here so let's create that event so
it really is the same pattern and I'll
copy and paste here but I have to
remember to change things the drop down
is actually the team's member list box
so instead of being the select team
member of drop down is the team members
list box so we'll select it in there
pull them over and then we'll do the
opposite of right here press a selected
team members dot remove T and available
team members dodge add P and then wire
up the lists again let's test that out
so we have
Tim over here we add him we select him
we remove him and now his back we fire
this off nothing happens because we
don't have anything selected but notice
I just broke my code what just happened
well we've got a bug in our code in that
if no one selected weird things happen
so let's start this again
get fresh set here and we're going to
pause it on removing the selected person
so add Tim that's cool don't select them
hit remove the selected item is null we
step over it we now have a no person
model well we're going to move null from
the saga team I guess we're add null to
our available team yep that's kind of
ugly so now we have we still have Tim
and he selected and the available we now
have one is null we continue select Tim
and say remove selected it knows you've
selected one we skip over that and it
says that person is Tim we removed him
from the selected team members list now
it has 0 we add him to the available
team members list he now has to the null
and Tim and wire the list it looks like
these are both blank but if I drop us
down we have an a weird error in this
list why is there weird air in this list
well probably because we have a null
value int so I studied Hale exception
handling in a video and that's true but
we do want to have some at least some
basic error checking or some way of
validating our data
when you do this so let's create a
validation here wrap this right here I
select these three lines actually for
right click and say surround with if and
tab if P does not equal null we're going
to do that so the same thing up here
right click and say surround with if P
does not equal no all right so there's
our two checks one for each of our
buttons let's see if they work we can't
unselect Tim he's already selected
but if we don't select anything here we
hit remove your Tim he goes back over a
list so it looks like there's only one
entry here even if we hit the remove
selected without selecting Tim alright
so that's a a bug-fix already out of
gate and that's one thing you want to do
when you're creating this type of thing
we're why perform you want to try the
things that might break it it always
amazes me the things that users do just
out thinking they're really awful they
do think that you're like why would you
ever do that and so instead of
reinventing the user which we can't do
you know we can fantasize about it
instead we have to reinvent our
application to handle these users
therefore we have to try things that are
just wacky like not feeling anything out
a hand creatine or create member
wherever we selected and what happens so
try those things out as you come across
them your code fix them
and if you can have some really good
testers test your application with the
eye towards breaking it because you
don't want testers who are all nice and
you know follow all the rules which some
testers can be very conscientious to do
you actually want testers who are
Ribble's who say nope I'm going to break
this thing and try every different way
to break it and that's really good for
your testing experience because you'll
see what users will do when your
application is in production all right
so we've wired up our lists our both our
drop-down in our list box we've wired up
the add member button we've wired up the
remove selected button now let's modify
this button so it adds a person to this
list to do that let's just double click
on this button there's already an event
created so it just takes me to that code
which is really convenient so we already
have this person model P which gets
created and updated in fact we can
actually say P equals golden fig
connection dot create person that we
create we capture back the ID as well
and before we wipe out the values or a
presently matter but let's see for we're
essentially going to put them in to take
it down here we're going to put them
into the selected team member and do the
wire up and copy this it's the exact
same code we're going to add them to the
selected team members list and we're
going to rewire the lists up to refresh
to show that new value and that's it we
run this we have Tim Cory let's add a
new person will create sue she
immediately goes in this list I can
remove her she is now in this list I can
add her back I can add Tim back and I
can do no more
I've been removed him to add Tim I can
remove sue we can do all the different
iterations and testings out but
essentially everything we we start out
to do is now wired up we can add a
number remove a member
create a member and it all works
correctly they're always different the
drop down the list the last thing we're
going to do is going to the next video
and that is to actually create our team
this is a little bit more complicated in
the fact that we have to save a couple
different pieces of information into our
database or text file so we're gonna do
that next but before we go there's one
thing we haven't done yet I wouldn't
find that out not to remember until we
did this if we do this we're going at
this error right here not implemented
exception was unhandled so what happened
well what happened is we didn't
implement the get person on a score all
method so let's do that let's implement
that method
and you're going to love this because
it's going to kind of blow your mind I
think how easy it is return people file
dot full file path dot load file dot
convert to person models guests rise did
I have implemented that get person Auto
square all how do I know it's a type
right here well it's actually right here
eyes read it because whenever we save a
person or insert a person into our text
file we first read all the people out of
that text file so how to get all people
Auto text file that right there
therefore we just put that line down
here I use the direct return instead
creating an output variable we have said
for testing purposes that might be a
little more difficult to test but that's
okay in this case I was going to leave
it as it is if I need to test it later I
will I'll work on changing that but now
if we hit start no error and we have Joe
Smith and Sue Storm in our list don't
get confused Sue Storm is not from the
database we just created instead I
created Sue Storm in my text file as
well and just a show we can say Bob
Smith Bob at Smith e.com and cell phone
is five five five seven seven five six
there's Bob Smith we also remove Bob
Smith there we go and now if we close
this out start up again we will see that
Joe Smith as brother Bob are both in the
list because we add Bob the last time
so implementing text files not a big
deal so now our part two is complete so
we have these are all implemented right
here
we just need to implement this button
create team which takes in a team name
and all the other dailies we created and
creates a team out of it and that's the
next video so make sure you stay tuned
for that
before you go you will see a link in the
left of biiss course check out the intro
video in this playlist for more
information what you get if you pay also
if you are ever wondering what you could
do to help this channel out without
paying money I've listed six things that
really help I appreciate if you consider
doing one or more of these thanks again
and don't forget to keep practicing what
you learned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>