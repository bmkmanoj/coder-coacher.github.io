<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to stop wasting your time and start performing useful code reviews by Maria Khalusova | Coder Coacher - Coaching Coders</title><meta content="How to stop wasting your time and start performing useful code reviews by Maria Khalusova - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to stop wasting your time and start performing useful code reviews by Maria Khalusova</b></h2><h5 class="post__date">2015-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VRnMzMpSeag" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone it's so nice to see y'all
here I'm really flattered that you
decided to come to my talk my name is
Maria Halawa I'm from jetbrains you guys
know what would you write how many of
you do not know what jetbrains does oh
there is one person come to our booth
we'll tell you what we do but yeah
everybody knows mostly IntelliJ IDEA and
not so many people know that we do other
tools as well so the whole thing was
intelligent started when we wanted some
smart Java is er it's not like there
were no Java editors at the moment but
we wanted something smarter with
refactorings and cool features so we
create IntelliJ and the same story
pretty much happened to all the other
tools that we have when some years ago
we create our own continuous integration
server then there was issue tracker and
some time ago we started doing code
review and we try a few tools and we
ended up building their own naturally
but today I'm not going to be talking
about the code review a tool that we
have we're going to talk about the
practice itself and how to make the most
of it what are the things to consider if
you haven't started doing it or if
you're already practicing code reviews
how to be better at this so how many of
you already do code reviews in your ok
so I'd say about 50/50 ok before we
start I just wanted to ask if you have
any questions you can fire them at me on
Twitter that's gonna be easier that you
don't a lot you don't lose your thoughts
and then we'll be well 100% sure to
answer it so my Twitter handle I don't
know if you probably can see it it's in
the right bottom corner ok so
code review the idea
normally that people say when you ask
about code review what are you what do
you expect from code review people say
this finding bugs and to tell you the
truth it's only a little part of what
code review actually gives to you and
your team and we've been doing this the
code reviews and our teams for a while
we have discovered there's so many other
things to it
one thing is team collaboration because
the whole team can engage in a technical
discussion over the codebase and the
context of the codebase and solve
problems together and it's it's very
efficient because you communicate
exactly in the context of what you're
doing then of course there's no is
sharing you learn from each other you
learn from senior developers you all
have different areas of expertise
different backgrounds so that's a great
way of learning from each other if you
have new team members it's much faster
to bring them on board if they if you
make them review codes that you already
have it increases buzz factor who knows
what it is okay it looks like I need to
explain it so the whole idea is you have
your team how many people with how many
people would have to be hit by a bus so
that nobody so that the rest of the team
doesn't know what to do anymore so
pretty much if you have a module and
only one person knows what's going on
there the number is one you hit this
person with a bus and nobody has a clue
what to do now because nobody knows
what's happening in that module so I in
ideal world everybody knows about
everything it's not
always achievable achievable of course
but you want to increase it as much as
you can so the more people you might
want to make more people know about the
majority of the stuff that you already
have and code reviews help with that
because basically there are two ways to
increase this Factory
either everybody commits everywhere or
everybody reviews everything and then of
course there is improved code quality we
do find problems would you find issues
that still one of the benefits of code
review and it helps to maintain the code
to make it easier to read and so on and
so forth so in the end these are all the
things that you want to have as your
goal if you were going to do code
reviews not just finding bugs but these
are the aspects that you want to achieve
as well you want to have better team and
better software and code reviews help
with that there's one thing that you
should not do when you want to adopt
adopt code reviews in your team and
there's this some people mostly managers
are attempted to use it for that and the
problem is if your team knows that code
reviews are used to evaluate their own
performance and/or if they're suspect
that it might be used for that they will
do their best to look good and they will
not care about finding problems learning
collaborating finding solutions they
will be focus on one thing not getting
fired
so you basically cancel all the other
benefits if you decide to use code
reviews for this reason so don't do that
this is what code reviews are and what
they are for the the rest of the talk
I'm going to be
talking about things that you need to
consider to keep in mind if you want to
have a smooth start with code reviews if
you haven't started but if you already
have started and if you see that some
things are not exactly working and you
make a go back to the these things and
maybe change something then we're going
to talk about how to make them really
useful next thing is what is it exactly
we're looking for in when we're doing
code review what kind of problems do we
want to address with code you because
there are so many tools out there that
already help you improve code quality
and there are so many tools that help
you with collaboration so what is it
exactly do we need code reviews for them
and the last thing but not least it's
human factor because people are doing
code review people give feedback to each
other and there are so many ways it can
go wrong so I feel that it's important
to talk about this as well so as with
any software practice if you want to
adopt code review there are four key
aspects that you have to have in mind
your team these are the people who are
going to go to be doing code review in
the first place so you need to get them
on board you need to explain to them why
do you want to do code reviews we'll
explain these goals that you want to
achieve they may they may have questions
like how is it gonna change my routine
will there be a new tool and the many
other questions so you have to explain
the changes you have to communicate the
goals that you want to achieve and you
have to listen to their concerns and
then there is change impact we're going
to talk about this
more in detail later as well process and
the new tool now I talked to already a
little bit about the team and I talked
and I said that you need to communicate
the goals clearly you also need to
address the problems that your team will
may may mention some people just don't
like to change like I'm I'm happy where
I am I don't want anything different it
works for me that's fine
some people may have valid concerns
that's not understanding why do we do
this why do we need this or how it will
affect their process and some may have
had a bad experience before like in that
comic I showed earlier so it said it's
very important to listen to concerns and
then address them and then possibly
adjust the process and work on the
process with the whole team and bring
everything on everybody on board another
important thing is cultivate code review
culture there are many many articles and
talks on this topic but pretty much is
it it means that you need to understand
as a team what
why are using code abuse what for and
maybe work on some sort of checklist
guideline and possibly you may or may
not need to talk to summary of your
colleagues or maybe all of them about
how to give feedback to each other
that's also part of a code review
culture the change impact implies three
questions who is going to do reviews now
if you have a team if you have a
start-up and there's just five people in
it that's pretty easy everybody but it's
getting more a little bit more
complicated if you have a company with
hundreds of em
and you want to start doing code reviews
it may make sense to pick a team or two
of early adopters and start with them
see how you need to adjust the process
based on them and then it's gonna be
easier to explain the benefits through
the rest of the teams because you will
have example before your eyes now there
is what if you haven't done code reviews
before it probably doesn't make sense to
start reviewing everything you have
normally it's better to start reviewing
new commits that you have and maybe
later you may want to consider going
back to what you had before and then
there is when this one is pretty easy
but I still felt like it needs
mentioning you don't want to start doing
code reviews
two weeks before release or some major
event nobody is gonna appreciate that
and let's say two days before Christmas
nobody you will care after that another
key aspect is process so this this is
pretty much how we do it we feature
branches a developer works on a new
feature or bug fix then commits it to
the version control assigned somebody to
review it then if there are problems
found or if there are questions that
needs to be on each boy answered then
it's back to square one to the author
who needs to address the problems or
answer questions and clarify what what's
happening there so the most important
thing is you need to decide on the
process and agree on the process with
your team and in you need to look at the
process that you have already so for
some teams post-commit review works
better for some teams who already use
pull requests
that's another perfectly fine way to go
you may want to think whether you want
to review everything or just
certain commits for instance if you have
a critical system reviewing everything
makes total sense
you may want to specify for instance I'm
just critical path if the change happens
to be there then it needs to be reviewed
we're pretty much flexible some teams
review everything some teams decide that
they want to review particular changes
some teams decided developer can decide
on his or her own that this particular
change needs to be reviewed or not but
it's generally a good idea to keep
workflow simple the more rules you
introduce the more people you're involve
they're longer it will drag the more
time and will take and the more it will
create unnecessary confusion you don't
really need to over complicate your
workflow but we need to understand that
code review is an iterative process and
iterations are good it means that
there's they actually bring something
either their problems found or there was
question some misunderstanding so when
there isn't there are iterations that
means they are actually working they're
actually bring something for you best
practices suggest that average of two
reviewers is the best number you can
have because first reviewer normally
will find 50% of the issues the second
about 25% of possible issues and after
that it's a diminishing return and waste
of time and money for everybody but
here's the thing if you want to onboard
team members then it's probably better
to have them review code and pair them
with experienced developers so this way
you can kill two birds with one stone so
both find possible problems and
onboarding new member and it's generally
better to review often the same
as with committing often the more you
review the faster you familiarize
yourself with a new changes and find
issues and spread the knowledge and then
of course there's a new tool yes you
need a code review tool nobody does it
in I don't know in a meeting or through
email or something like that code review
tools there are many of them there's
dozens of them on the market you can
find the one that you like that works
for you and they're good for doing code
reviews synchronously and keeping the
history of discussions what happened why
there was this solution they're also
good for sharing code with each other
and providing the context in which you
can collaborate and it's important to
find the right tool for you but pretty
much find the one that fits in your
environment works with your process you
may have some particular needs for
instance how many of you use git well
you will have no problems finding a code
review tool almost all of them
supporting it
what about subversion well you still
have some choice let's say clearcase
well I don't have good news for you but
yeah you may want to consider choosing a
version control first so summarizing
what I just said
if you want to start doing code reviews
it's important to have an open dialogue
with your team but why are you doing it
and how it's gonna affect your process
you you should have a good plan and you
need to write too so at this point
you're already ready to start with code
reviews but now let's look how we can
act
make the most out of them how we can
make them useful and the first thing is
code reviews do not substitute all the
techniques and tools you use to ensure
code quality it's not it's a cherry on
top
it's of the cake it's not the cake
itself so you still need to write tests
you still need to run them in continuous
integration server and you static code
analysis all the things that you do you
still need them code reviews do not
replace them and I know spell checker
and whatever else you may be using and
one thing is really really important
code reviews is a code reviews not a
place for coding style words if you want
to argue about indentation and spaces
and things like that you can agree on a
cou style with your team have coding
style templates the same one in in IDE
and you can use some tool like textile
or something to make sure everybody uses
the same code style and the code is
formatted in the same way could be
wasting your time on counting the number
of spaces in a code review it's a very
sad way to spend your time so do not do
that there's a number of things that you
can do to as a curl author to make sure
the reviewers spends their time
efficiently and these are the things
actually that are generally best
practices and these are the things that
you you should be doing anyways whether
you do or do not do code reviews review
your own code there were studies that
showed that reviewers who were looking
at the code double-checked by their
authors they found 50% less issues so
just by simply
a few more minutes looking at what you
just did you reduce the possible issues
by half that's impressive
commit small changes we do all know that
it's generally good practice it's good
for continuous integration they're less
merge conflict it's easier to revert and
imagine if you have a commit where you
have a feature a bug fix and a
refactoring on top it's gonna be really
really hard for the person reviewing
this code to make sense of it which what
happens here what why is it just
separate these things it's really
confusing and it's better to try to
avoid it when as much as possible
document your code to provide more
context to the reviewer and provide
minimum full commit message that's also
helpful to give the reviewer more
context as a reviewer you should not
postpone doing a review now it doesn't
mean that you have to drop everything
you were doing as soon as you receive a
notification and start to because of you
know but it's possible to find time
within 24 hours you can do it after
lunch you can do it before you leave the
office the same day or first thing in
the morning and it doesn't have to take
too much time now there are studies that
say that six to ninety minutes is enough
is the time that you need to spend on
code review but some people argue that
it's actually 10 minutes and then again
it depends how familiar you are with
your with the code that you're reviewing
how how big is it the change if the
commits are small they're generally
going to take a lot less time to review
them so it may be 10 minutes it may be
half an hour or an hour but it's still
possible to find that time within 24
hours
it is important to understand your
project needs and what I mean by that is
if you don't know what to be looking for
you made one to consider in every
project there are complicated areas
there are hotspots and you you may want
to pay special attention to those parts
for some projects different aspects may
be more important for instance if you
have a performance critical system you
may want to pay more attention to that
aspect or if security is a very
important for your application that's
something you need to pay to to consider
and pay more attention to so from just
from understanding the how the
application you're developing is used
and where are the problematic zones or
you will help you to understand which
exact things you will you may need to be
looking into but you may also want to
apply your expertise like I said in the
very beginning that we come with
different background we have different
experiences and if you are particularly
knowledgeable in certain areas for
instance speaking of performance that
could be some practical tricks that you
know of and if that's simply applicable
to the new change then by all means
bring that to the table it will make the
code better and your team better what is
it do we want to look for in a code
review the topic is huge there's so many
things and that the problem is it
largely depends on your project on how
it's used in which language is written
and what do you want to achieve with it
but I'm not gonna give you magic recipe
there is none but I'm gonna give you a
few pointers of the things you may want
to consider or maybe that they will give
you some sort of idea which you will
develop and see what what is it use what
is it that you can find useful in your
particular project so there is general
and business logic things like
correctness does the code do what it's
supposed to do if you have requirements
does it mean they're the requirements
then we have coding errors this may be
accidentally using and instead of or
off-by-one errors or accidentally point
into a test database stuff like that
business rules and logic if you send a
notification twice instead of one time
that's annoying but not as bad as if you
accidentally give fifty five percent
discount instead of five percent that
can seriously damage your business
that's something that only you can spot
understanding the context user facing
messages are they clear are they correct
then there's things like architectural
design for instance is the code in the
right place for instance if it's related
to orders is it in the order service is
it reusable or could it have reused
something that you already have
is there maybe a necessary application
other correct data structures used it's
surprisingly how it's simple to misuse
data structures if that's it follows
solid principle
or the main driven design or any other
design pairings that your team follows
is it over engineered for no particular
reason
sometimes the code may be too
complicated because there's an intent of
a future feature but in some cases just
a person showing off and that's not the
the best reason for over complicating
the code because the normally when the
code is too complicated for no reason it
brings more problems than a simpler
solution and then of course there is
readability and how maintainable the
code is everybody familiar with this
quote right right so you may want to
consider knee if the names reflect what
they represent
can you understand just by reading the
code can you understand what it does
because chances are if you can't
understand it the next person who ends
up maintained will not either
is it documented test coverage the thing
is with test coverage yes you have tools
that will check how well this code is
covered by tests but 100% test coverage
is in real goal for any team so it is
important to understand which important
cases have to be covered by the test and
you as a developer have the
understanding of the context and which
parts have to be covered by tests so you
may want to check if those are covered
or not then a huge topic is performance
and the first thing you want to check is
if you have requirements
if they're met if you have performance
tests you may want to see if the new
changes had a negative impact on those
and then there are common causes for
performance problems for instance when
remote services are overused when it
could have been done with a single
remote call or you could have cashed
things or or badged and then the key the
problem is also in for instance mobile
and wearable devices it's not only a
performance problem it can also cost you
better life better battery life not
better life but then sometimes using
locks can result in poor performance and
deadlocks you can check for potential
memory leaks or if connections and
streams are closed it's really easy to
forget that and then one of the
offenders has too many calls to database
like for instance on a you should be
able to see right line 19
it seems innocent but these are
individual calls to database inside a
for loop and you have no idea how many
of of those you will have in the end and
there's a huge topic of security again
the worst offender here is third-party
libraries so of course you can there are
tools that allow to check for
vulnerabilities independent
and you can run them on your continuous
integration server but as a reviewer
when you're looking and you change one
thing they can you that you can do is to
check if it introduces new dependencies
do the new paths have to be
authenticated does this data needs to be
encrypted do you manage properly
passwords encryption keys and other
secrets and there's also a gray area of
potential problems for instance
java.util random it is not cryptic prick
cryptographically secure this may be
perfectly fine if you're just generating
a random number but if you're using it
for session IDs or password reset links
then you may want to consider using
secure random and there are many many
things like this that are hard to miss
because they are may be a problem or may
not be a problem if you're interested in
the topic of security here are a couple
of links I find useful so the first one
is a dictionary of software weaknesses
more like a small Wikipedia of software
weaknesses and then the second one is
open web application security project we
have a lot of interesting article on the
topic of security and they have a code
review guide which dedicated entirely to
security issues the first one they
release in 2008 so it's pretty old but
they're working on the version two right
now it's in the alpha stage and
it's incomplete but already contains a
lot of interesting useful information on
the topic of security so if that's
what's important for you check it out I
said I will not talk too much about code
review tool but I felt that there are a
few things that I need to mention about
app source code review can be sometimes
a frustrating process because you're
used to all the power of your IDE you
have static code analysis navigation you
have many many many features and tools
there and most of cool review tools give
you syntax highlighting and that's it so
you feel like you have no contact to
contacts no understanding what's
happening and it's maybe really
frustrating that's why what we did we
got IntelliJ on the server side in our
code review tool so you get static
analysis like in IntelliJ and code
navigation and find usages and and if
that's still not have we have IDE
plugins so you can just do all the code
review inside IntelliJ IDEA and we
thought this way it should be a lot more
easier and these are actually
screenshots from up source not from
IntelliJ so even if you know how to do
code reviews if even if you know what is
it you're looking for even if you have
your process working smoothly there's
still a way to mess it up and there's
that there's us as humans who have to
leave feedback who have to deal with
feedback a funny thing is we have to
deal with Oh
feedback from QA or users from each
other and yet when it comes to us when
we need to provide feedback many times
were just terrible at it and I'm sure
some of you have seen this to it so
there's a person or several people there
reviewing code probably happened to some
of you that you saw something and you
felt that way and then they go ahead and
they write comments and the way they
share the ways to improve it and they
write everything they think of it and
then the next morning the person who
wrote it probably happened to this guy
it comes to work and raise the comments
and feels like this did happen to you
how many of you felt that this way at
least once be honest right happen to
everybody at least in the junior years
so we have to learn how to give feedback
and there are many people who are saying
that it's not personal that you have to
separate code from the author and that
is not true the author of the code put
some thought in it some reasoning his or
her experience so well hopefully not too
many motions though but it is personal
it is this person's thinking and that is
exactly why we need to think of how we
provide feedback there is no such thing
as code that is no one's and if we
review it we need to understand that
there is a person behind it so there are
extreme cases
sure there are some people who feel that
it's fine to review code like this I'm
sure you've seen this it was everywhere
it may work probably for some unique
teams but in the majority of companies
in the majority of teams being rude will
not bring you much or it will bring you
nothing except for people pissed at each
other
and generally this will not go anywhere
you will just be fighting over calling
each other names and things like that so
it is important to learn how to give
feedback and the first thing is normally
not to be rude it's as simple as that
just don't be rude we're all people
we're all team mates we're colleagues
were all professionals there's no point
in being rude do not dictate if you see
a problem and you say well this is wrong
fix it without any reasoning without
anything anything the person who
receives this comment has few options
the first one just all shut up and do it
the second option is to start defending
themselves because they probably thought
of the solution why did they do it this
way and this third option is just to
ignore it if there are people dictating
their opinion you can just ignore it and
that's the worst thing that they can do
because if there was a problem it
doesn't go anywhere it's not fixed if
the person dictating their opinion was
wrong there's no discussion and the
whole point
is to have a discussion technical
discussion engage in one to find a
solution to a problem together so the
best way to achieve that is to ask
questions did you consider this did you
think of that what happens if and so on
and so forth this way first of all you
give the person credit for already
considering this scenario if they didn't
they will they will not be as offended
as if by your question as if you were
dictating it but if they did consider it
in fact you may learn something because
they will explain well I did it this way
because in this case this is the best
solution and you will learn something
from them and in the end by asking
question questions you engage in a
technical discussion and by dictating
your opinion sometimes you get things
done faster but not always it is the
right way to do it and yes it is okay to
argue it is okay to defend your position
it is okay to disagree because every
problem has many solutions and the
question is if the solution that you see
is up to the quality standard that you
have in mind because we all have some
quality standards and above it it's all
about trade-offs you can't expect
everybody to do things exactly as you
would have done so if it meets your
quality standards maybe there is no
point in arguing about how you would
have done it but if it is below then it
makes sense to try to make the person
see how it doesn't meet the standard
it is important to be sensitive to
cultural differences some people are not
do not speak the language very well and
they may appear to be too direct or rude
sometimes and not necessarily meaning to
be but some people know the language too
good and it's hard to understand what
they're saying like in this famous
example can you read from there all
right
it is equally important to to know how
to receive feedback and the first thing
here is to contain your immediate
reaction so if you see some comments on
your perfectly written code and some
people are attempted to get very very
defensive and well I'm not saying go to
the desk of a colleague up and punch in
the face but some people are have have
temper and they try to defend themselves
without even giving in giving it a
thought and the best thing to do is just
to stop for a second maybe four or five
minutes give it a thought if the person
is not right or you think is not right
then again ask questions ask questions
engage in a discussion and try to
explain your reasoning behind your
solution the other person may learn
something from it and then the last
thing
it doesn't have to be all about problems
when you see somebody's code and you
learn something tell about it if you see
an interesting solution say good good
job because we receive a lot of negative
feedback so this doesn't work this
doesn't work and this doesn't work and
look this looks ugly and this is slow
and so on and so forth
we received tons of that and when you
see particularly elegant solution to
your problem say it because we all
sometimes need just a little bit of
encouragement and to see that somebody
appreciated what we just did and that's
it for me thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>