<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Implementing IoT Architectures with Open Source by Benjamin Cabe | Coder Coacher - Coaching Coders</title><meta content="Implementing IoT Architectures with Open Source by Benjamin Cabe - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Implementing IoT Architectures with Open Source by Benjamin Cabe</b></h2><h5 class="post__date">2017-04-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LK_a1RtCspo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the next 40 minutes or so we'll be
talking about IOT and especially what we
are doing at eclipse for providing open
source technology that help you
implement IOT solutions so we've been
doing this for the past five years
actually I'm with the Eclipse Foundation
myself and we are as you may know
providing lots of lots of the open
source software that you acquire for for
billing IOT just maybe a quick show of
hands how many of you guys in the room
would consider themselves IOT developers
ok I see it's ryan otherone if I say
MQTT does it sound familiar interesting
not necessarily the same people actually
ok so I like to start with this as an
intro especially when I'm in the Silicon
Valley
I guess IOT
yes there's lots of gadgets around IOT
right everything home automation putting
a sensor somewhere on your dog GPS
sensor so as you can track where the dog
is going sure that's not like but what's
the point of just putting a sensor for
the sake of putting sensor rates for me
it's really about thinking first about
the kind of solutions and the kind of
applications for IOT rather than
thinking yeah let's let's create a
freakin cool gadget for my four dogs and
let's let's call it IOT it's rather how
can we improve the health of our pets
and then maybe it will boil down to
being able to track their and their
activity and and quantify how much food
they're they're getting every day and so
for that at some point yes you will need
to create some kind of
equipment and by means of sensors that
will get data or by you know actuators
that will allow you to effectively
interact with the physical world then
yes you will be able to access the data
and that's where the value of IOT is and
especially if we go beyond the pure
consumer market this is where you can
really change things like think industry
right if you start being able to to to
predict whenever an engine is going to
fail because you back to the interaction
with the physical world you have maybe a
vibration sensor on the engine and you
have lots of H analytics etcetera and
that's actually interesting and so how
do you bridge the physical wall to the
Internet well this is where most of the
new stuff I guess coming from IOT I will
come into play maybe new dedicated
protocols new frameworks that you will
require to effectively implement the
embedded software that's required in the
field right and there's also lots of
stuff let's be honest that's existing
technology right it's not like the UT is
reinventing everything and so yeah
that's kind of the typical IOT
architecture probably oversimplified but
how do you get from the physical world
to the actual applications that I was
mentioning earlier the mobile labs
the data stores where you will be able
to do your all the data scientists in
your company will be able to do their
job well it starts with the devices
right typically very constrained very
small sensors this is actually where
when you hear in the news
IOT is going to be billions of devices
that's typically the kind of devices we
are talking about right super cheap
sensors where actually they are actually
also very constrained right maybe
battery-powered and it's not like you're
going to run a full stack a few Java
stack there or have an issue
a complete operating system etcetera
we're really talking microcontrollers
and we're also talking devices that do
not necessarily have access to the
Internet right and that's what we want
to do we want to be able to and that's
very small for you to see but the kind
of the flow of information between the
physical world and the applications is
in the form of telemetry information
like data sensor data are being acquired
and also the other way around commands
like the ability to to tell to tell a
light bulb that you want to turn it on
or off or to tell a device that is what
there is a firmware upgrade for it and
you you want to actually perform from
our braid so how do you get those
constrained devices to communicate and
to make it to the internet eventually
well this is by means of of gateways so
Gateway think Raspberry Pi right
although in an individual solution it's
probably going to be something more
ruggedized and more industry ready but
that's really like a small computer if
you will that's going to have a way to
to interact with the with the devices
with the sensors over Bluetooth Low
Energy or over maybe canvas if we are
talking automotive etc etc and on the
northbound interface if you will it will
use a protocol such as mqtt actually or
maybe HTTP to effectively upload the
telemetry data to the cloud and this is
where maybe most of the stuff is
actually going to be very similar to the
good old internet right it's not like we
are reinventing ways to create where
Internet backends and web backends but
there might actually be also some
specificities there and hopefully the
the the server infrastructure is going
to expose api's that organelle allow the
data to be accessed by again the mobile
labs the dashboards etcetera so checking
nothing particularly fancy I guess
one a few things to keep in mind when I
think devices and when I when I when I
talked to you about devices it's really
constrained sensors cheap
typically right you want them to be
cheap if they are to be vibration
sensors in every in each and every
equipment in your in your shop floor if
you can save 10 cents by getting rid of
a GPIO a on the microcontroller or by
getting rid of 10 case of RAM because
well you actually don't need them and
they're actually not cheap well you'll
do it so there's lots of choices to be
made when it comes to developing
developing them the device the sensor of
software that being added to the fact
that you typically want you to save also
on on the on the power consumption side
of things probably that the sensor is
going to be battery-powered so in terms
of software in terms of developing the
actual software stack for the device it
means that it means that you will have
to make choices written you will you
will have a very specialized software
running there the good news is by means
of the gateway there you have way more
room to to basically communicate with
your devices and maybe yeah more room
for first connect bringing the
connectivity part like the gateways
typically be something that's mains
powered and that does Wi-Fi cellular
maybe satellite depending on where you
are and the first aspect is really going
to be about providing the connectivity
and turning the information that you get
from the physical world from the sensors
from the devices turn that into actual
meaningful messages write messages that
are going to be sent to the server and
also the ability because we're talking
something like yeah one gigabyte of RAM
in the comfy fairly capable Linux box or
very capable box you can start also
doing some
so-called edge computing right what does
this mean it means that again back to
the example of maybe vibration sensors
in each and every engine on your factory
floor this will be a lot of data that's
going to be generated right maybe every
second you're going to acquire data out
of a thousand sensors on your factory
floor at the Gateway level maybe you can
be installed being smart and realized
that well if they're if the values are
not changing that much I might decide
that from the Gateway to the cloud the
kind of data that I'm going to kind of
telemetry information that then I'm
going to upload will have been processed
pre-processed by them by the Gateway
right so how do you develop this
software stack we'll see as well and in
the cloud I'd like to stress that
there's probably nothing that's
incredibly specific to to IOT except
maybe that in terms of scalability
billions of devices that means lots of
information
so first scaling in terms of scaling
Horizonte if you will so and using all
the kind of techniques that are
available they're scaling vertically as
well probably that is if you are - if we
are all our to build a IOT our back-end
systems they will have to deal with very
different use cases right a shop floor
where you have thousands of sensors
sending data every second to the block
the backend it's probably very different
from maybe a home automation system
where you acquire data way less often
and the use case is very very different
and that means that the architecture
choices on the backend might actually be
slightly different so long story short
the cloud it's all going to be about
enabling integration with third-party
systems right it's we when you build an
IT solution you want to allow people to
access the data so as they can create
their own and add their own value on top
of whatever
sensory information you will have made
available right so in the past few
months at eclipse we spend some time
with our community actually to think
about what are the typical building
blocks in each and every software stack
of an IOT solution right and then I will
be digging into it a bit more in a
nutshell I did at the device level it's
about its many two things I would say
providing a good hardware abstraction
layer in that when you build an IOT
solution there's there's going to be
lots of different microcontrollers out
there
lots of different architectures for
effectively implementing sensors and
maybe some of them will be on base and
maybe you'll realize that it's going to
be cheaper or more power efficient to
switch to 2ti and and whatnot
so how do you create software like the
kind of software you put in your smart
thermostat or on the actual vibration
sensor are there ways to make that
somehow portable right and second is
remote management capability we however
constrained your sensor your your device
is if you cannot really if you cannot
update it and if you cannot remotely
manage it as in not only monitor the
health of the sensor like the parable of
etc but also being able to upgrade the
firmware the actual firmware
over-the-air then you're going to be in
trouble real soon right because you
don't want to go and send the technician
update each and every thousand sensor
that you have on your shop floor if you
realize that there's a security issue or
if you realize that there's just a bag
right so how do you do that what what's
available and to do that we are going to
see see that at the gateway level it's
really about enabling like I said
earlier turning at the the
the information that you get from the
sensors into meaningful messages so the
role of the Gateway will be to support
protocols such as the field protocols
that allowed to talk with the sensors
here with speaking about talking about
Bluetooth and maybe canvas mud verse if
you're doing industrial automation and
also support the IOT protocols that are
going to the Gateway to actually send
data to the cloud so maybe here we're
talking MQTT or maybe a co-op or maybe
lightweight m2m and at the gateway level
what you want is essentially a router on
steroids in that like it's just like in
the good good old internet you want to
bridge devices to an another network
essentially devices sensors that don't
necessarily have an IP stack yet you
want to bridge them to the Internet and
what's more you want to deal with the
fact that in a typical IOT network that
the Gateway it's likely that it's going
to rely on some kind of maybe cellular
network right because you have a gateway
sitting in the middle of nowhere or like
yeah I don't know you're monitoring the
electricity production in your in your
house in the middle of nowhere and this
is being sent over cellular right and
maybe the cellular network is not that
reliable how do you deal with the fact
that you as an application developer
when you want to send data to the to the
cloud you don't really want you have to
deal with the fact that err the network
is down I need to store the data locally
and maybe eventually it's going to be
back and I'm going to push the data
that's not really convenient right so
that's also a feature that you will
expect from from from the Gateway in the
cloud it's about being able to store the
data
so I guess nothing really new they're
exposing API so as people can consume
the data from from the firehose pretty
much but it's also about being able to
so that's for the applications but
you also want to operate your equipment
so how do you do the device management
from from from the cloud I would do you
have a representation of what is the
version of the software that I'm running
on my devices in the field what if I
want to update my my fleet of devices
and push software wait there and monitor
how well it's going over time so that's
the kind of feature you would expect
from from the cloud back-end some frost
layer concerns such as obviously
security I will make sure that the
solution is secured and that goes all
across the three stacks I guess ontology
is how do you make sure that the data
that you're manipulating you kind of
know what it is you are manipulating
when you have a temperature data and
temperature value ending in a data store
that says that's a float that's 72 is
this 72 Fahrenheit or Celsius the how do
you all the way from the sensors to the
cloud keep track of that kind of
information and everything tools and and
SDKs what what what can help support IOT
developers maybe simulators debuggers is
there anything specific needed there
probably so that's like I would expect
everyone building an IOT solution to
some somehow fit into this architecture
and actually there's lots of existing
commercial solutions out there that do
just that however what's really
important is that if we really want to
be in IOT that's interoperable as
opposed to silos where I don't know you
have a nest thermostat at home how are
you going to get the nest thermostat to
interoperate with another gadget that
you may have fun from another vendor
right the nest architecture is very
likely looking like this there is a
there is a sensor and before the gate
weights relying on on your Wi-Fi box at
home and maybe the DSL box and it's it's
probably probably providing this kind of
functionality and this would be the the
Google cloud back-end but in like the
communication between here and and there
it's likely that it's the nest is
actually expecting to talk to the Google
cloud back-end that's not necessarily
desirable what's what's important is to
identify here interfaces between each
stack so as they are all loosely coupled
including within each tag the ability to
replace possibly one component by
another by this I mean say you're
building a gateway stack and you will
start creating software that's going to
access again maybe your vibration
sensors the the gateway might come maybe
with a communication layer that's
relying on on HTTP for for publishing
the data is there a way to replace this
by maybe and mqtt communication layer so
as the communication is effectively
going to be more more efficient but the
rest of the software that's running on
the Gateway is going to remain just the
same and it's it will be communication
and standard agnostic pretty much any
platform independence that's I guess
particularly important both from a
constrained device point of view as well
as in the cloud for the constrained
devices like I said you may want to
write software that targets arm
initially but realize later on that
there are cheaper options out there so
you want you to tune to move on in the
cloud that's the ability to at docker to
make it to make to make it simpler but
that's also the ability maybe to run
your your your software stack on top of
open chief on top of Cloud Foundry
that's something that that's to be
expected from from IOT software right
many open standards that help in that
regard
basically it was my long introduction to
walk you through how we do it at eclipse
we are eclipse has lots of stuff around
the Java IDE yes sure that's that's a
long time ago actually now there there's
there's way more and especially around
IOT we have those companies big guys
actually like Bosch canonical Red Hat GE
IBM daemons Cisco many others they are
working on on providing the software for
for implementing the IOT stacks in open
source if you've been involved or
following and tinkering with IOT maybe
in a somewhat in the past five years you
may have heard about some of our
so-called building blocks so there's
lots of there's actually 30 different
open source projects at Eclipse many of
them you can use independently write
which is which is great but we hope that
we can also get to a point where those
those different components can also be
used in the form of stacks right rather
than just getting a communication stack
that you will have to integrate yourself
in your microcontroller what if this was
combined with some kind of hardware
abstraction layer as well as the device
management stack and then you basically
get a stack that you can run on your on
your controller right that's what we're
trying to do for for devices so fall in
in the next few charts I will be doing
lots of name-dropping I guess I would
hope that if some of those projects
sound interesting to you you will either
check out their websites some of them
will be featured in my demo later on and
all you will come and find me if you
want to want to ask questions
however abstraction layer that's there's
a very cool project that you might want
to check out it's called Eclipse edge
that's essentially Android for
microcontrollers it's providing a Java
API for upset obstructing out the
capabilities of a microcontroller so
then access to the to the the you are
the GPIO
if those names sound familiar to you
guys the access may be too
to a file system if there's a file
system and then it's expected that so by
means of having this common Java
abstraction then you can start writing
Java code essentially so that's going to
be portable but by definition and there
are actually out there some
microcontrollers that that do run an
embedded JVM and so no matter the actual
flavor of the VM there is a very small
minimal subset of api's that you can use
to effectively develop and develop code
on your on your micros for if assuming
that you're a constrained device has IP
connectivity which sometimes happen
happens maybe it's been it's gonna be
able to talk Wi-Fi directly you may want
you to use the mqg protocol therein and
just maybe a few sentences because i
think many of you didn't seem to know
about MQTT it's a fairly old actually
protocol invented in the mid-90s I
believe by IBM and are calm and it's a
pub sub protocol and nothing
particularly new here except that it's
meant to be super lightweight in terms
of footprint on the wire freedom of the
actual messages lightweight in terms of
complexity if you will like the the
workflow of an MQTT communication
scenario is fairly simple so it means
that it will be kind on your own on your
battery life and yeah there's lots of
flavors of pahu and if you want to run
sorry of MQTT implementations and at
eclipse that will be under the eclipse
PAHO umbrella and if you want to run an
eclipse tahoe and MQTT embedded stack
you could certainly get it from from
eclipse power
it keeps waka ama that's the kind of
stack that's an implementation of the
lightweight m2m standard which is a
standard for device management so on top
of UDP and and on top of the core
protocol it provides a standard way to
query a device to obtain battery level
information or to query a device and
obtain a how much memory is available or
to tell a device here's your new and new
firmware please please update your
yourself and it provides all them all
the workflow for doing just that I think
if we have a rock-solid implementations
or what karma is being used by the likes
of Borgia are wireless they actually put
it in very constrained modules and they
have a way to control the modules like I
said earlier it's a very important
aspect of IOT yeah a few few more words
about edge so I think I told that
already it's we need the hardware
abstraction layer and just to tell you
how small it can get in terms of actual
targets this is an STMicroelectronics
board it's kind of slightly more
powerful than an Arduino for those who
more familiar I guess it's close to the
Arduino mega this can run Java and you
can actually write some Java code to
access the LEDs maybe if there's some
kind of display attached to the
microcontroller you can be able to drive
that as well so that's um it's a very
cool project issue them should check it
out moving on to gateways to - solutions
available for kind of full stack
solutions for gateways one is Kura and
I'm gonna show Korra in my demo later on
it's all the features for having like I
said earlier and a router on steroids
so the ability to build an IOT router /
gateway space on Java and OSGi and it
has lots of built-in features for just
like Windows open wrt in the room is
something that sounds familiar
so that's an open wrt is an open source
stack for and for Internet routers and
for Wi-Fi routers so the features that
you expect there is the ability to
manage maybe a firewall the ability to
do to manage all the different
connection
that you will have such as Wi-Fi
cellular etc you want rock-solid support
for that especially since maybe hua and
your Gateway might be there might be
different flavors of the underlying
operating system yet you want a
consistent way to effectively manage
everything network management you want a
consistent way to have access to all the
protocols such as again canvas Modbus
etcetera
you're going to require to talk to your
devices or maybe to talk to your cloud
and you want features as well such as
because the goal eventually is really to
enable people to build their own
applications right there's going to be a
gateway with role and that's how what
Qura is built for the role is going to
be to provide the connectivity to the
equipment that's and making sure that
that it's remaining connected to the
Wi-Fi and maybe if the Wi-Fi dies it's
going to fall back to cellular and
that's going to make sure that that this
happens but that's not enough it's also
been allow you to create your own logic
deploy your own plugins if you will so
as assuming that the connectivity is
there and Christ taking care of that
you're going to be able to to be like
okay I'm building a vibration sensor
monitoring solution I'm going to deploy
code that's going to interact with
sensors over maybe ble and use the Qura
api's to to publish data to the cloud
right so that's that's how coral works
provides a nice GUI for effectively
controlling and configuring the gateway
the kind of interface that the operator
of an IOT solution might use right when
you start deploying the vibration
monitoring solution in a new factory
floor someone is going to effectively go
and deploy a gateway and let me
configure it right right from the web
GUI or maybe configure it over the year
like as soon as there is connectivity
you can do that over the air which is
quite convenient because when you have
thousands of shop floors you don't want
to go
on site to do to do mention that's right
another option for building an IOT
gateway if as one other person based on
open source would be it keeps Matt home
there's actually a talk later on this
afternoon from the smart home project
leader there it's all about home
automation so built-in rules engine for
doing if then that kind of you know if
if temperature in my bathroom is above
20 Celsius then turn the heating down
and stuff like that built in support for
many of the protocols if not all that
you would find in home automation
Philips you and effects and KNX and
whatnot and yeah fairly nice really nice
actually
UI for for manipulating all all the
gadgets moving on to the cloud we have
many building blocks that can be used
for helping you build the server-side
components of an IOT solution
two very interesting ones would be
around device management I mentioned
lightweight m2m so that's like the the
protocol that's being used for doing
firmware upgrade and monitoring the
battery the memory etc of your devices
with Eclipse what AMA you have a very
light weight stack lightweight
implementation of light weight and film
that you're going to put in your
microcontrollers with Eclipse elation
you have the server side counterpart of
what Hama that's going to be what the
devices are going to be talking to right
but that's not necessarily enough like
leash on and what comma that's basically
just the protocol stack when it comes to
upgrading IOT and that's probably very
very unique to to IOT actually you have
actual devices that you need to manage
right and when when we build I don't
know a a mobile lab we probably rely on
on Apple and Google for everything
software upgrades they that's going to
be there their stores that going to take
care of that in IOT you're actually in
charge of
fleet right and so you have a thousand
gateways and there's a bag there's a bag
and there's a new there's software
update that you need to push and it's a
hundred megabytes of binary if you start
like if you tell all your devices to go
home at the very same time and the load
a thousand megabytes worth of binaries
you're going to have many issues first
maybe the server will just not be able
to handle the load second what if in
this update there's a bug as well
basically you you're taking the risk to
break all your devices at the same time
because well you thought it would work
and okay geo devices go and download the
update oops sorry it doesn't work with
hope it you actually have the way to
mind the workflow of rolling out the
software over time maybe creating
partitions so as you start on like a
very small subset of your fleet check
the success rate there and and take it
from there so that's something that you
really want to check it out it's being
used by by Bosch extensively these days
for for doing their their own software
rollouts data ingestion in the IOT a
back-end platform if it mosquito and can
take care of that
that's a server implementation of the
MQTT protocol it's it's a really really
popular and you did he broker that they
may want to use but yeah that's that's
billing blogs and that's not really
enough in that what if like when you
want to build a real IOT cloud you may
have many many concerns in mind well
first all those building blocks they
don't necessarily communicate with one
another so authenticating the devices
that are going to send data to the MQTT
broker is going to be required just like
you will need to authenticate the
devices are going to do lightweight m2m
stuff and maybe there will be users as
well etcetera etcetera so you need some
kind of integration platform right and
that's what Kapua is about kappa why is
there
the platform where all the building
blocks will be deployed if you will as
as microservices so kapwa provide the
infrastructure for having one single
notion of a user one single notion of a
data store and so there's going to be
like description of how how data data is
expected to look like in a kapooya
context and then maybe the data store
effectively that the microservice is
going to be implemented by means of
elasticsearch or maybe some other people
are going to will want to provide an
alternative implementation based on open
TSD be in which case what they will do
effectively is create a new micro
service in the Kaipara
runtime and and take it from there and
Capra is also taking care of providing
top-notch integration with with cloud
infrastructure such as urban OpenShift
or Cloud Foundry and so these days
there's lots of development happening
around Capua with lots of activity from
Red Hat Eurotech you can go check out
the code there's like it's available as
a docker image essentially so what I
actually highly encourage you guys to do
is check out cora you can get cora on
your on your Raspberry Pi very easily or
run it in docker get kapu as well if I
wrap a cap for instance using using
docker in in some VM somewhere and start
connecting your corrugate way to Kapoor
and and see what you can do there you
can start doing device management you
can start having Kapua behaving as a
device registry and whenever new
gateways are going to be connected to it
you will see them you will be able to
maybe revoke their credentials if you if
you if the gateways are being
compromised that kind of after a quick
few words about the cross layer concerns
keep keeping on and on the name-dropping
aspect it clips Katie that's proposed by
by GE GE digital that's worth on
steroids so that's essentially the
ability to model roles
for either having read access write
access from Reb great access to two
devices to two to two attributes in a
data store and the ability to to use
these these these rules that are being
modeled to to be like okay I'm Bob I I
am a data scientist so I have the role
data scientist I have the role I live in
Northern California
dear Kapua or Giachetti
can I get a token to access this device
to read data from this device and
depending on whether you actually have
the the rights or now you will get the
token so that's a really complete
solution you can go and check it out the
code doesn't be moved to eclipse yet but
it's actually already on github though
it's called
ACS predicts for now and it's got move
to eclipse ontology is check out the
Eclipse voto for everything data
modeling and the ability to use models
like the description of the capabilities
of a sensor or of a an actuator and use
that to maybe generate code or to do
data validation or to the data
conversion that's something that's
that's really taking off actually and
there's an online repository with all
the other information models for for
sensor that people can can populate in
and incur eight as well in terms of
tools a few things that you may want to
check out if you're doing MQTT MQTT spy
is a really nice JavaFX UI for spying
and monitoring and QT communication so
you can create charts you can you can
use mqtt spy for recording and qtt
communication scenarios do post-mortem
analysis that kind of stuff
it clips of course the Eclipse IDE for C
or C++ development
it keeps J and oops
it keeps Titan is for testing for
testing communication scenarios like at
scale you want you to
maybe load testing and that kind of
stare for MQTT co-op etcetera and that's
what they don't provide so there's lots
of building blocks like I said there's
also stacks right that you can use such
as chloride it's not home capper for for
building your IOT solutions at this
point I'm going to move to the demo can
someone confirm that I haven't killed
1110 right that's 50 minutes correct
okay thanks I just wasn't wasn't sure so
the next the next minutes are going to
be a demo so we have 30 different
projects so it's kind of like I won't be
showcasing them all I will be focusing
on using kora
and Kapua to to build an actual solution
what's my solution I am a shipping
company like such as FedEx or UPS I
guess and sometimes the the parcels that
I need to to deliver are like super
valuable think like if I'm shipping or
if my customer is shipping Monalisa to a
museum somewhere from from the Louvre or
to to the Met
it's like super valuable and I want to
be able to tell my customer your Mona
Lisa is fine it's not going to be
damaged in any way because we're
basically going to put a sensor on on
the parcel and we're going to be able to
track that we as FedEx we're going to be
able to track that and you your customer
you will be able to do that as well so
how do you do that in practice well the
central part is probably fairly easy for
the sake of the demo I'm going to use a
Texas Instruments sensor tag so that's a
ble temperatures humidity / a few other
things accelerometer etc sensor so
that's going to take care of like
monitoring the physical information but
then when Alyssa is going to go through
a couple airports couple delivery tracks
and how do you make sure that this guy
was not like IP capable in in any way
finds a its way to the server so as
eventually like I want to create a
dashboard for my customer I want to
create a dashboard for my FedEx
employees so data needs to make it to
the to the back end right you need to
make it to the data store so what's
going to happen is that by means of
korah we can deploy gateways for example
in the delivery trucks and deploy
software that's going to talk ble get
the data from the sensor put the data to
the cloud and what's interesting with
with with Kura is that maybe my trucks
my FedEx trucks yes I own them so like
I've some flexibility to create my
software but when it comes to deploying
software in the kind of gateways that
would be within the airport or within
the the trucks on the on the floor in at
the airport there I don't quite know
what those guys are going to running
what kind of hardware it's going to be
but by means of couric who I can be
easily ported to many to many platforms
and it's actually already been 42 many
platforms and run on many flavors of
Linux it can run on Windows and can run
on our own based architecture on Intel
based architecture so it's certainly
going to be easy for me to provide some
software that hopefully the airports are
gonna or gonna run and that means that
the this guy is going to be able to get
connectivity and to be routed to the
Internet hopefully all the time right so
what's happening is that in Korea I'm
going to have some code that takes data
from the sensors uses mqtt to put the
data to the kapooya back-end and then
from Kapua by means of api's i can
easily create an angularjs application
that's going to consume the data and
display the data in maybe do more in
terms of sending alerts when it comes to
okay the the parcel is effectively too -
too hot right now - one let's let's send
an SMS right so maybe some of the rules
will be executed here maybe some more
complex processing will be will be done
in the backend so let's switch to Cora I
have so this is my truck
pretty much and that's the the Raspberry
Pi the Gateway running clora that you
would find in the track right and so
that's how hoorah looks like let's just
refresh to make sure we start from
something that's nice
and so the karai you I that's the web UI
that's something that a technician and
the field would access to to configure
the Gateway and to like I said earlier
one of the things that that that Cora
will be taking care of is the network
configuration and no matter whether
you're using a Windows operating system
or a Linux operating system underneath
or Debian or a fedora there's a
consistent way to configure the network
which is important we're talking gateway
so the in the track the Gateway will
need to talk Cellular to get the
connectivity so you will have a an
interface that you need to configure
there or here in my case that would be
maybe Wireless so configuring wireless
for those who try to to configure Wi-Fi
on Linux like in the command line
that's quite tricky actually so by means
of korah
you have a consistent way to to connect
to your at your hotspot or to actually
basically have the Gateway behave as a
hotspot so everything network management
including configuring firewall and
having some some DMZ maybe mounting a
VPN that's also an a very interesting
feature for for m2m kind of use cases
correct we can can take care of right
but else the ability to do everything
device management like from from my
console what are what's the what's the
app time what's the GPS location of the
device what are they different OSGi
bundles that are currently running the
ability to maybe execute some shell
commands I think I have a password for
that so let's execute a command and
that's going to be ups or ring where am
I now
execute the command right and no matter
what's the underlying OS I have a
consistent way to do troubleshooting
mostly right that's the contents of my
file system it seems and what else well
that's that's what curry will do like
out of the box it will manage the
gateway but I want to do more I want to
be able to run my own software my sensor
access kind of software so there what
happens is that you're going to use the
Qura api is to create an OS GI plugin
essentially so you have api's for
accessing the serial port of the Gateway
API is for accessing Bluetooth
low-energy api's to communicate with the
cloud api's to communicate with the GPS
if you have a GPS and you're going to
create a java app which eventually
you're going to package you're going to
create a zip file if you will and you
you can use the color web you want to
install new software which I actually
already did so I have looked like I have
at least two two components deployed
onto my Gateway right now and what
happens then is that those apps that you
create they will provide new
functionality of the senior services
into your current time and you can very
easily make them visible in the UI so as
people can configure them right and
that's exactly what what happened here
next to some of the built-in services in
kora such as the web console service or
the the common service and whatnot I now
have also more in the form of my own app
that's going to talk to the to the to
the ti sensor tags and it exposes lots
of configuration parameters and they
have a standard way in Korea to do that
and it will automatically show up in the
UI another have to reinvent the wheel
there in terms of making my app
configurable and what happens there is
that my app will scan for GI sensor tags
in proximity and
reset in every five-second it will
acquire acquired the data and publish
the data that it's acquired every ten
seconds and so what's happening then is
that these data is being we want the
data to be pushed to the cloud right and
so me as the application developer when
I built this app I don't really want to
kind of hard code what cloud back-end I
want to talk to of course I want to I
want to have this as a configuration
option and I I do not want you either to
to have like I said earlier to manage
the complexity of the Wi-Fi hasn't been
configured yet or is is down I'm not a
conference to Wi-Fi is down I was about
to send data to the cloud but it's it's
down so I might as well Wells thought
that wait thought that locally and
pushed that later on no Christ taking
care of that once and for all
if if we go in the in the correct
configuration UI once and for all
I can configure what cloud I want to
talk to and what basically what MQTT
back-end I want to send the data to and
I do that once and for all and I can
also configure how long I want my local
buffer to be when when the network is
down how many messages do I want the
Gateway to store locally before
discarding messages so that's that's my
corrugate way being configured being
connected to the cloud hopefully so the
cloud in my in my example is actually
that's for the sake of demoing the
interoperability that's actually a
commercial cloud from from one of our
member companies which is built on
eclipse kapua so it certainly provides a
bit more in terms of eye candy and of
like fancy dashboards but apart from
that it's very close from Kapua and here
just quickly quickly checking that data
is being sent I am not logged in so I
need to there was a time out there I
guess
so let's see if the data is being sent
to the cloud so that's really like the
kind of back-end this cloud or the cap
or cloud would be the kind of stuff that
as a fleet of a radar you would use to
see all your devices to troubleshoot
them maybe to push software upgrades
upgrade the OSGi plugins over the year
et cetera but if I am to look at all the
devices that were connected
it looks like my gateway is actually
connected right now by the way so this
is again this is a commercial cloud but
this particular UI is just exactly
identical to the one from Kapua the
things I could do include the ability
just like I did earlier execute a shell
command locally onto the the Gateway
here that will be from the cloud that
I'm actually doing just the same
accessing the very same service that we
saw earlier but this time from the club
and executing the the command and
getting a result trying to check what
are all the software bundles that are
running just like I did earlier I can do
that over the year and as opposed to
doing it on one gateway here I can do it
across on my world me apparently I only
have three devices here but I could have
obviously thousands and so that that's
my back end and this back end is
exposing api's those api's allow me to
build a UI right and the UI in my case
could be this this UI over here where
I've been using angularjs and a bunch of
other things to basically display
display the data I can maybe also
discover like if there's new new devices
new sensors new process or showing up I
can start adding them to my dashboard
query the kapooya backend to discover
the new new sensors that are and the new
shipments that are being made available
but in my particular case the shipment
the current one is a this guy and we can
see that here every 10 seconds we get
new information so let me try to be
to warm the temperature sensor and
hopefully either the humidity all the
temperature will go up and if they don't
touch as demos that are against me right
maybe twenty six point seven Celsius is
already kind of maximum okay I can get
you you get the idea and with that I
think I'm actually running out of time
for good so let me just so that says
like lots of code lots of projects again
if some of the names some of the
features that I described
Rango Bell please please come and find
me afterwards I'd be happy to chat some
more yeah lots of lots of companies
adopting sorry that's actually from a
Bosch conference last year at the last
week sorry and they were telling how
they are building on top of eclipse hog
bit eclipsed elation and it keeps water
etc so that's that's really good to see
we do a lot for education if you don't
know the virtual IOT Meetup check it out
on meetup.com we do webinars every other
week we organize developer challenges we
make the software available on the
eclipse marketplace just like you can
install plug-ins in your Eclipse IDE
from the marketplace you can install
plugins in your Eclipse kora environment
from the marketplace or any keep smart
home so that's that says that's it IIT
dot Eclipse the road is our main website
this is where you will be able to find
the links to the project the links to
the getting started tutorials and
whatnot
I hope this was informative I realized
that there was lots of information that
the demo is also a very small subset of
all the things that I mentioned but yeah
I'll be around if there's questions I
think we might want to take them of the
room and apologize for that there was
really too much information I guess
that's it
contact info here as well thank you very
much
quick question
no sure it is yep so um so on the slides
they were equipped there was a proceed
all eclipse me lo Eclipse me lo is an
implementation OB of OPC UA so that's a
standard for industrial automation and
each meal provides the the Java stack
for billing both clients and servers as
well as the test shoots for making sure
that maybe you're going to use Milo
against something else you can maybe
test that it'll work well the security
story is also pretty nice in the middle
like you seem to be familiar with OPC UA
I would assume so certificate okay so
yeah OPC UA is kind of the next gen I
guess I'm at beso they use certificates
for security etc and so yeah Milo would
provide all that and they have lots of
great sample code actually so yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>