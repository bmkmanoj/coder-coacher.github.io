<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>g ∘ f patterns by Mario Fusco | Coder Coacher - Coaching Coders</title><meta content="g ∘ f patterns by Mario Fusco - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>g ∘ f patterns by Mario Fusco</b></h2><h5 class="post__date">2016-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Rmer37g9AZM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys thank you for coming
my name is Marie Fusco and I mean to
speak about an old book is the Gang of
Four book apart and I started doing this
work I started programming
professionally about 20 years ago maybe
a bit more and at time that book was the
Bible so you first of all you if you
want to do object-oriented programming
you have to study the book you have to
learn all the pattern and and and most
important you have to use them and the
the most you use them the the battery
the better you are as a programmer okay
and I believe are actually that that
book at time had some quite good benefit
the first of all it gave me it gave us a
common background a common vocabulary
okay if I say to my colleague okay I
used a strategy pattern here everybody
knows my colleagues knows what I did
there okay with without the need of
further explanation okay
the biggest problem of that book is that
was totally bias it or it uses only one
tool the object-oriented programming
tool it was totally biased toward the
object-oriented programming side and it
would seem at normal a time but I think
now it's time to review this pattern and
there are more functional programming
line alight and see if if we can do
better okay so
that book was divided the in section
there are different kinds of pattern and
probably the most relevant part of that
book was the behavioral pattern okay I
believe that if today I give that book
to a smart student the first feedback
will be hey why there is a behavioral
section on this book on this over
object-oriented a book an object is not
a behavior okay a behavior is not
unknown a behavior is a verb a behavior
is a function a being a mirror is not an
object
so why this book why the most relevant
part about this book or an
object-oriented programming is speaking
about behavior it doesn't make much
sense okay this thing now I believe it
is pretty clear now it wasn't that clear
at time of course okay so my idea is
that to start from a typical problem
solved with the the typical Gang of Four
solution and check if we can rewrite
this in a more functional in a more
compact hopefully in a more readable way
okay so my the the example that I'm
showing you today are available at this
repository in case you want to download
them give them a second look okay so
let's start from very simple but I think
a very typical example okay what they
did since they there wasn't there wasn't
the notion of function in that book
everything has to be an object okay so a
behavior as to be wrapped inside an
object this is typical for instance for
the comment button okay a comment is an
action a comment disappered a comment is
a function is not an object okay what we
do is we take this action and
we artificial erupting inside the a
comment because we need to wrap the
function inside an object okay
so what we did for example we have this
common in the face there's only one
single method and then we have different
implementation okay we have a command
that all of us to log something we had a
condom - all of us - to save it and we
had another a third implementation that
allowed us for example - to send that
message via the email okay and then we
have an executor of those comments okay
that cycled the comments and and execute
them one after the other and then what
we did is put all this command inside a
list of tasks to be executed and we pass
it to this executor okay this is how to
comment paternal work that worked it's
very very simple but it's also of
unnecessarily verbose I mean we don't
need this object infrastructure we need
to keep the only the senior among all
this noise and when what's the scene
earlier the signal is just this is the
direction not the command object
wrapping it okay so what for instance I
can do is taking this and putting inside
our function okay
I call this log okay what is it static
because I want a pure function I don't
want an external state so the aesthetic
method is today in Java the closest
thing to the common notion of function
okay so I have this function or method
if you want static method to
log my message I have of course another
one - what was it is to save and another
one to send it okay
and then what I can do okay I have to do
this stuff of course probably I could
just also rewrite it in a more static
way okay I don't want a list of comment
I don't want to create that is other
artificial interface I already have in
Java and an interface with exactly the
same signature
okay that is runnable of course so I can
say that I want a list of runnable here
and what I can do is just iterate all
the tasks and run them okay so now I can
do exactly the same thing as I did
before in my main sorry I didn't show
you what happens here but should be
clear
all these tasks are executed okay so I
actually of course want the same effect
so what I can do is this
of course okay and now I can replace
this command object with plain lambdas
so I have the loquat the logging one the
one that does
the saving and the one that does the
what was it the sin okay and at the end
I can just say execute my list of tasks
my list of common okay so same result so
this is I believe very simple very
trivial but again shows one very common
thing okay I don't need to wrap my
function inside the object anymore they
are functional let's treat him treat
this stuff as few function okay and also
that's another point I think one of the
main critics against Chavez that it is a
very very verbose language and of course
is true compared to some a bit modern
language but one of the reason why
people say that Java is verbose is
because I believe is because people
started using Java this way using the
Ganga for pattern and of course they
ended up with this very very verbose
version of doing things instead of just
this okay so yes Java is a bit more
verbose that some other languages I
don't want to say this is not true but
there are way especially in Java it of
course to make it a lot more compact
okay so so we replaced the common with a
function let's see another similar
pattern that was the strategy one
so I have a tea strategy okay my
strategy here is a format of a text and
they des to behavior again to function
that is filtering the test to decide if
I actually want to print the the text on
or not and then format it before
printing okay so I have again different
implementation of this that these are
plain text for matter that just filter
in everything and it doesn't transform
the text doesn't do any transformation
on the text then I want forest then I
have for instance an error Turks
formatter that prints only the text that
starts with error and see see since it
is an error it prints everything in
uppercase okay and the third one okay it
is just prints short sentences and all
in lowercase okay just a trivial example
so how I use this I have a text editor
okay this tag text editor is created
with one of these strategy with one of
these tax formatter so when I say to the
text editor publish text it uses this
strategy the behavior encoded inside the
the strategy to filter and transform the
text before printing it okay so in this
case the result is this I'm using the
error strategy so this is not printed
and this one is freed at all in
uppercase okay
but once again instead of having all
this infrastructure the very relevant
part of my code here is just this method
okay it's just these
okay and now I need the two thing
I need the behavior of the strategy
what's what is the behavior I have the
filter and in my case the filter it's a
predicate right that is passed with a
string okay and the second thing is the
formatter
that is just our function from a string
to another string okay so what the text
formatter did before can be just express
it by using that this predicate and by
using the formatting function it's
exactly the same thing right so now I
would do I use this stuff
I can say publish my text okay and then
I have to pass this for to function what
did error tax formatter did it accepted
only the text starting with error so my
predicate will be will be this okay and
then I want everything in uppercase so
the transforming function will be this
okay and then of course I expect the
same result
okay feel free to interrupt me if you
have question of course okay let's see
another something different okay that
the template pattern okay why I need the
t's button why this pattern were used
let's suppose that I have a resource
okay
these resources a few method I can use
the resource or I can employ the
resource okay but but both this method
are risky operation okay both may fail
I'm filling it with a random factor okay
and if if it fails it throws a runtime
exception okay but the problem is that
after I have used this resource
I want to dispose it I need to dispose
it to avoid the memory leak to avoid the
file pointer leak and whatever okay so I
don't care let's say if if the resource
fail when I use it but I have to make
sure that I'm disposing it okay and of
course this is not happening here
because okay this was a lucky run
of course I will have lucky run forever
okay it's failing so what's the problem
here that the the resource is created
then the first operation fail and I'm
okay with it what is really not okay is
that the resource is never disposed okay
so how do you do I solve this problem
with the template pattern okay I'll make
a template of how I want to use this
resource okay and that the template is
that I want to open the resource I do I
want to do something with it and then I
want to make sure that the close
research method is called inside our
final block okay
and I want to make sure that all my all
the client of this FBI will will do that
close inside the finally I don't want to
give the possibility to my user to have
a leak okay so of course I have this
template and the template of course have
an abstract meter that is what you want
to actually do with the results with the
resource okay
so how you use the template of course
you have to extend my template my
template and do you have to implemented
the abstract method okay and then you
can say execute tease or execute this
other and the execute method makes sure
that everything is done inside this and
that the the resource will be disposed
okay once again okay now you learn the
joke I just need the signal I don't want
this noise okay and for me the signal is
this method okay for me the signal is
just this okay
so I want to open the resource let's say
create a new resource and I want to
close it inside the finally block to
dispose it inside the finally block okay
and of course I need to do something
useful with this resource how can I say
to this method that I want to do
something useful with these results
I'll pass to it a consumer of the
resource
okay and then what I do is just
accepting the results inside the
consumer that's all okay so I obtain
exactly the same result so what I can do
now is executing this method and I have
to pass to this a lambda and what is the
lambda is what I want to do on the
resource okay so this is also called the
land pattern why because this method is
lending me the resource now I can use it
the resource do something with it
whatever okay and then the execute meter
to take the reserves back after I have
uses it and dispose it okay and of
course of course it may or may not fail
but even if it fails I'm sure that the
resource will be correctly disposed
making make sense okay next example the
observer pattern okay of just for reason
of time let me allow me to just skip
this for now but because it's very
similar to the former one you have
instead of having a consumer of the
event you have enough consumer of the
reasons okay I want to do the the other
force because they are more interesting
in my opinion and and I'll be back on DC
file if I left time so let's see the
other decorator
okay that shows another very interesting
concept under a functional programming
point of view that is the function
composition okay so what I have in this
case I want to
to implement our flexible salary
calculator okay so what I have is that I
have a set of taxes that may or may not
be applied to my salary okay so I want
to a flexible way to add or remove tax
calculation from the salary calculator
okay so what I typically do I do this
with the Ganga for a button using the
decorator pattern so I have a salary
calculator interface that is just that
contains just an abstract method that
transforms the double inside another
double okay and then I have a different
implementation as usual of this
interface this one is just divided just
the gross annual salary by twelve of
course and then I have to decorate this
initial of function this initial method
with the taxes that I want to apply to
them okay so I created an abstract class
that contains the decorating logic
because I don't want to repeat it inside
the each decorator okay and this
abstract decorator contains another
solid salary calculator okay so what it
does is calculate the value using the
salary calculator containing inside it
and then apply the text that is the
operation done by the decorator itself
okay this is how it work so I can have a
deco
that applies the general tax I have a
second decorator that applies the
regional tax and I have a third
decorator that apply the health
insurance okay so our use this stuff the
other problem of this this pattern is
that you have to read ET from inside out
okay so the core is the default salary
calculator that takes the gross annual
and divide it by twelve
okay and then I'm decorating it with the
general tax I'm decorating it with the
regional tax I'm decorating it with the
health insurance so if Ferranti stuff on
this gross annual salary I will have the
monthly income net okay and what's the
advantage of this as I said it is just
that it's flexible
so for instance if for your specific
case the regional tax as not to be
applied what I can do is just removing
the the regional tax decorator and 40
specific calculation it won't be used
again and then I will have a higher
value of course right okay so this is
very fair boost but not only where boost
is very very complicated complex but not
complex complicated destroyed work I
think because these lots of incidental
count incidental complexity what I'm
doing here actually I'm doing just this
let me just take this first function
that is my starting function and I don't
want to use this interface I want to use
one of the functional interface inside
the Java 8
what is this is a transformer to add a
transformer of
doubling to another double so it's a
double unary operator okay so a double
unary operator is just a functional
interface where the only abstract method
is this one okay is this method that is
called applies as double just change it
changes the name but the name is not
important as you know but what is
important is the signature okay so of
course I have to change the name here
and I'm done okay and I'll do how I do
this tux decoration it's very stupid in
functional programming because I can
start from this function with okay and
then what I do I just do function
composition this is this is the first
function that divides my gross annual
salary by 12 and then and then I want to
applies the general tax right and then I
want to applies the regional one and
then I want to the same with the health
insurance and then at the end I can say
apply a stable I pass the original value
okay
and I'm done that's all it's just
function composition if I print this
stuff I will obtain exactly the same the
same result
okay and the other advantage is that I
read this in the in the in the right
direction from top to down load from the
inside out okay and of course if I don't
want original talks pretty easy I just
comment this out right
so you see the difference here right
it's quite evident okay we could also
try to do another exercise if you want I
would like for instance to I want to
show this to emphasize the function
composition of button let's try to
provide to our user of to the user of
our API emitted that is called calculate
that takes the gross okay and then it
takes average of function okay that are
the function that I want to apply to
this Cross salary and so I I want to
pass through this method the gross
salary
Arviragus of function and I want to be
returned with with the net the net
salary okay how could I develop this I
could just put all this function inside
the stream okay and then I can create a
single function out of this stream of
function by a results operation okay I
want to do function composition about
this function so I do I reduce okay and
I have to pass two of two value to this
reduce the first value is the zero okay
and what is the zero of the operation of
funkin of our function composition the
identity function of course okay right
and what's the composition operation is
just that and then okay so what this
does it start from the identity function
and then that that doesn't do nothing of
course and then it composed with the
first one inside the stream and then
with the second one at the end of this
reduction problem approaches I will have
the function that has to be applied to
my gross salary to obtain the result
okay so if I want to use this I could
just say okay
sorry oh yes but there is something else
that is going wrong I don't understand
what's going wrong here
okay okay I have to use the end not the
generica and then of the function but
the end then of the of the of the double
ornery operator okay and then how are we
how can I use this stuff
I can just say calculate by passing the
gross salary and then I can pass my
varargs of function okay and you you got
it
okay that's all okay so next button
any question okay channel responsibility
this is another one that is pretty
interesting okay what I want to achieve
here sorry let me just comment this out
for now I don't know why it is not
compiling okay
still not sorry I need a Celica I don't
29 okay no but there is something that
is not compelling here I don't
understand why okay
let me fix this sorry I have my original
solution stupid me okay yeah okay okay
you need to double unary operator buff
on the identity and the on the on the
inside okay thanks a lot
the chain of responsibility okay what I
want to achieve with this I have a file
I have a file this file can be either
text presentation audio or a video okay
and I have a set of parser each parser
is able to parse one of this kind of
file okay so how do I use this parser
using the chain of responsibility button
I create a chain of of this part of this
parser okay so I have a parser that is
able to parse the text the file of type
text sorry I have a file that is able to
parcel the file of type presentation I
have a file parser that is able to pass
file of Thai value and so on okay and
then I have to create a chain of this
parser
okay so I have
encoded this chain inside this absurd
file parser okay so each parser as a
next that is the next ring of the chain
is the next item of the chain so if the
first one is not able to parse the file
what it does is that if he doesn't next
it will it will delegate to the next
otherwise it will throw a runtime
exception and all the parts are do
basically the same okay so what I have
here and then I have to of course
instrument this part and I have to
change this pattern together so I done
said it before parser and I'm saying
that the presentation pattern comes next
the text one and so and the audio parser
comes next to the presentation one and
so on
okay so I created by chain of parser
okay and then I have a file that I want
to pass that is the wonderful the
astonishing album of Dream Theater that
is an audio file of course and so what
happens here if I run this stuff
is that the first pastor that is able to
passing on the text file don't know what
to do with this so we pass it forward to
the other one and to the presentation
one same thing for the presentation one
it pass it forward to the other one the
other one finally is able to deal with
this and we'll print the result and
since he they eat is able to deal with
this it won't involve the video parser
at all
okay this is what happens let's try once
again to put all these parts are inside
function okay so I will take this this
one and I will do the same thing okay I
don't have a chain of a function now so
I don't have something to delegate if
I'm not able to if I'm not able to
participate if I'm not able to
participate
should I throw a runtime exception in
functional programming as you know if
you throw an exception or kittens die so
you shouldn't okay and what what is the
other option I could maybe return now
okay but if you use null in functional
programming the whole of family of
kittens die so you shown as well okay so
what is the third option the optional
okay so this is a typical usage pattern
use case for optional okay this method
dysfunction may or may not return a
result okay so I modeling the fact that
I may or may not return a result by
returning an optional year okay
so I will do this and of course in this
case I will return now an empty option
right and of course I can do exactly the
same for all the other parts so I will
have a parts presentation function that
you it will be good for presentation one
for audio and the last one for the video
okay now how can I use this stuff okay
yeah I will I have the file that I want
to pass once again I have this set of
function I have more or less to put them
again in a chain okay but I don't want
to encode this chaining thing inside the
function themselves even because in this
way they would they will be far less
reusable okay what I can do is once
again putting all this function inside
the stream so I will have sorry let me
make all of this static
so I will have the the path text and
then I will have the the one for parsing
presentation and the one for parsing
what was the audio and the last one was
for the video write this okay
in this case Java is complaining because
it's not able to inference which kind of
stream this stuff that I'm putting
inside the streamys okay so I need to
help it okay I need to up the Java type
inferencing in this case so whether this
stuff are of course functions from file
to optional string
okay so what I can do now I have I can
pass the file tool dysfunction so I can
just do a map and for each function I do
a function that apply passing the file
okay what I have D are at this point I
add a stream of function now I have a
stream of optional okay that is the
result of the application of the file to
all the parsing function told the
passing function okay then I want to
filter I want only the optional that
givemea gave me a value so I filter only
the one that are present okay and then I
can take the first one and then I'm I'm
almost done okay
so I add the stream of function applied
the file to all this function I obtain
at the stream of optional
I feel the read only the optional that
is present that will be at most one in
this case I end I do fine first okay
what I have at this point there's a
small problem sorry
yes you are missing a beat I will have
an optional of an optional actually okay
because I have at this point I have a
stream of optional I'm saying fine first
and fine first return an optional of the
result so I'll be returning with an
optional of the of an optional of the
result okay
of course I don't want that is a double
nested optional but I can fix this
easily by doing a flat map I don't want
to do any transformation here so I can
just pass the identity function okay
this is just to flatting the two level
optional okay and at this point I can
just say order set row let's say an
exception okay and I can possibly print
this stuff okay yes
why don't I use flat mat why should they
use flat map for the first one I will be
you mean here
you mean here
I can't I mean let me think
sorry good question I have a function I
have a streamer of a function here I
cannot use flat mat I mean I want at
this point after the the mapping I want
a stream of optional because I have to
select the one that is present I cannot
do flat map at this point I want a
streamer of optional here do you agree
okay please let's take this offline I
want to to try this okay I think it
won't eat one word because you will you
will need the stream of optional at this
point and then filter the one that is
present you cannot have a stream of
value you need a stream of optional at
that point so that's why I think it
won't work but let's take this offline
Thanks okay so it is of course pending
the result but
what is actually happening here okay if
you remember in the original
object-oriented solution it invoked the
the the text the text parser and then
the presentation parser and then the
audio parser and the auto parser was
able to get the job done and and didn't
bother the video parser at all okay what
is happening here
I'm I'm invoking the video parser or not
or think that I'm in vogue in the video
parser okay a few of you let's give it a
try so let's put here a system out to
just to check if the stuff is invoked or
not
okay as you can see I'm not invoking the
video parser so it is a war it is
working exactly as the chain of
responsibility example as the Ganga for
example why not because the stream is
lazy okay
you are forgetting the laziness of the
stream so what is happening here it is
not executing the mapping function on
all the four parser at the same time it
is doing it with the first one and then
it filtering it and the first one will
not be present so he doesn't have find
the first one that is okay we'll do the
same with the second and the third one
will be okay so it will be present he
has found the first one and it doesn't
need to invoke the fourth makes sense
okay okay oh there interpreter okay okay
I want to write us a very simple
interpreter that interprets and
evaluates this expression the expression
is written in reverse polish notation
not because I'm a fan of this notation
but because it's very easy to parse
using a stack okay so what I do is that
I put seven ten three on the stack then
I find the minus ID I do 7 minus 3 I got
4 I put four on the stack and so on
until I get the result okay so I created
a parser of this expression using the
interpreter pattern okay so I have an
expression that can be interpreted okay
and then I have different kinds
different implementation of this
expression I have the one I had one that
is interpreted by
adding a left and the right expression
the subtract ticket that of course does
the subtraction the product that
multiplies to 2 and then I have one last
expression that is the number itself ok
because I have to rub the number inside
our expression in order to create this T
stock of expression okay and then I have
a lookup method that tells me if
something is an operator or not and in
case it is an operator I have this
switch that returns me the right
operator ok I'm not doing an any error
check here just for brevity ok
and then I interpret this stuff so I
started with an empty stack that is the
way to evaluate reverse polish notation
expression and the fit is an operator I
take the first I pop the first two value
from the stack and apply the operator to
it and otherwise it is a number I take
the number and I push it on the stack
ok at the end of the operation if the
expression is well-formed I will have
only one value on the stack and then I
can pop it and it will be of course a
number so I can call interpret on it and
then it will return this value okay
so let's give this a try and yes so it
is doing 7 minus 3 that is 4 then is is
doing 2 plus 1 that is 3 and 4 by 3 is
12
ok so this is the result let's do this
in a functional way as usual
ok what can I do I can create for
instance a map of this operation
ok at how this map is made I have the
key that is the symbol of the operation
and the value of the this map will be
the operation itself that will be of
course represented by a function Eric
and
is a binary operator between to wind
okay so I can say something like this
okay and then I have to initialize this
so I can say like that the plus is
mapped with with a function that does a
plus B and of course same thing for
subtraction and multiplication okay and
then as usual I can take the main method
of my original solution okay and I can
create a stack but this time it can be
simply a step a stack of integral okay
what I do is taking the operation from
the map
okay so if this is an operation I will
take as usual the left and right value
and I will put on the stack the the
result of the operation okay and in this
other case I can just put on the stack
the number itself okay and of course I
don't need to call this interpret
anymore because I have integral on my
stack okay so I can do exactly the same
thing and hopefully obtain exactly the
same result
okay make sense okay last one is the
visitor pattern okay so this is another
quite common problem I have to visit to
apply a given function to a different
kind of object okay so what I do is that
I implement this visit pattern I have a
visit that can imply that can visit on
the object on my domain that in my case
are square circle and rectangle and I
want to have different implementation of
this visitor okay the one implementation
is one that calculates the area so when
it visit the square it returns the area
of the square and same thing for C for C
colon for rectangle and I have a similar
visitor for the perimeter okay so when I
I have a list of figure and I can use
these two visitors to calculate the sum
of both the area and the perimeter of my
features okay so let's try to do once
again this in a slightly different way
the functional analogy of the visitor
pattern is the pattern matching inside
in a functional programming style okay
so what I can do is take in all these
classes okay
and of course I just need the domain the
domain object I don't need all these
visiting infrastructure okay and of
course I don't have pattern matching
inside we with Java okay I created my
poor man pattern matching class that is
pretty simple this is very basic but if
you want to do to have something more
powerful you can give a look at java
java slang that is a very powerful or
functional library in java I suggest to
give you to give a look at it
anyway I have this I have this visitor
let's say that takes a class it returns
me
it is this other object that takes a
function from that class to the result
that I want to obtain okay let's see how
it works because it will be easier so I
want to have a function that given an
object a square a circle a rectangle in
my domain will return
for instance the area of death of that
figure okay so I want a function from an
object to a double okay that is my area
calculator in this case okay
and how can i define this I'm want to
say that when I get a square then I want
to result in this case the area of the
square okay so I have the square and
here as you can see is a strong retarded
here the Java type in Spherion sees
working I said that I'm matching a
square and here the code completion is
giving me a side that is the side of the
square okay so this is of course the
area of the square and then I can do the
same for the circle this will be of
course
and same thing for the rectangle
okay so I have this function that when
is faster with a square it will return
the area of the square if it's busted
with a circle with believe it or not
with the area the circle and so forth so
if I want to calculate the sum of this
the sum of the area of this stuff I can
just put this list of object inside the
stream and then use this function as my
mapping function okay and then I can do
a reduction operation and this will be
my result okay
okay same result make sense okay sorry
I'm done with my time I can take
question of offline if you want I we can
review that flat map thing thanks for
your attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>