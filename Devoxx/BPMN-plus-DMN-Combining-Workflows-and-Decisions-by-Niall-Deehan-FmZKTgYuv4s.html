<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>BPMN plus DMN: Combining Workflows and Decisions by Niall Deehan | Coder Coacher - Coaching Coders</title><meta content="BPMN plus DMN: Combining Workflows and Decisions by Niall Deehan - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>BPMN plus DMN: Combining Workflows and Decisions by Niall Deehan</b></h2><h5 class="post__date">2016-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FmZKTgYuv4s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey hello folks
so before I start actually I want to
just get an idea what kind of people we
have in the room so can I get a one who
has got BP event or knows what beep yeah
okay great here has BP man we got who
has beep okay production okay what about
a man you know we got bit does we all
right now yeah okay maybe so oh my dear
madam folks okay like four okay not bad
hey so that's good I'm gonna be able to
tailor this more towards understanding a
man in the context of BPMN we just cover
the point of this I'm not bein I'm a
consultant of a commander and I'm just
gonna use some of the sort of the power
that you get when you leverage DNN along
with BPMN is this thing gonna keep
cutting edge okay okay so first of all
what we call the case for workflow what
they use workflows at all
and it's I think everyone here is sort
of already convinced but to go through
the points of it first of all generally
within a process your work is
distributed in various ways so I've here
where we're deciding something at the
beginning there we are sending something
there and these are two different parts
of a system maybe two different systems
in tight ropes we in this process have
to handle stir fence so some like we
have a receive task there we sort of in
this thing here where we are
receive events so we're waiting to
receive some kind of message and write
us a point and respond to it so it has
to be oriented towards handling events
well time of birth well I and if it'll
up does the process forward we so
there's also a requirement for me I'm
sure we
okay we're back for a second this
process slowly
maybe it'll pick up most hope you got
yes but no there we go step we all look
lies so I'll try and use a lot of hat
yes well the very bottom thing there is
prosody
you can even be and process a process of
our own which is this guy so here's a
running process within commander it's
the lead generation process I think the
marketing guys call it and this is when
you go to the website and you ask for
something like let's say you're
interested in like a trial for the
enterprise version of our software or
you're interested in a poster or
something so you see that every inquiry
comes through at this point and what
this sort of visibility gives us is the
points at which obviously the far end
there is where people actually purchase
something so you see that we have a
certain points where this drops off a
little bit and we see the point at which
most people get or enough people but
most processes reach a certain point and
sort of I think as opposed to this area
here they seem to sort of dip off around
that area and what this is is a
visualization based on the history of
our process it's the most common path
through our process based on the token
flow so it's how the tokens have
actually or the process instances have
moved through the process and how these
things have actually been added or how
they've been executed and that's a very
nice part of processing it means that we
can also we can handle events we can
handle asynchronous processing we can
handle different types of different
types of distributed work of course all
the same time getting this visualization
things
really really handy so processes are a
really great thing to actually implement
when it comes to that way but it does
have a little problem and that's to do
it rules of course those of you have
maybe used BPMN as a method of
describing rules have maybe come across
the problem that have rules are a bit of
a pain to create and beep a mountain in
this concept it's really simple we have
a certain season a certain number of
guests now we have to decide what to
cook for that particular scenario
unnecessarily to parameters but we have
to take into account loads of different
combinations and this has all sorts of
problems BPMN is very easy to understand
as a itea line business IT alignment is
a big factor in that and this sort of
breaks the concept because it's really
hard to actually understand what it is
is going on here
so oMG and their wisdom decided to
create a decision model and notation I
think 1.1 was released in December of
last year and this is a similar concept
in that it's allowing you to build
executable models but instead of
modeling processes were simply modeling
rules and with dmn we have a series of
inputs one or more and for each of those
inputs if runs down the the table and
then eventually each line is referred to
as a rule and when it finds one that
matches in this case our input is a
skill level of principle it's got a
language of German and it's got an
estimated hours r44 and you can see here
that irrelevant of it doesn't matter
what what less skill level you are as
long as they are in German partly hours
don't matter to Wolfgang because he will
do anything so this is a job that can be
assigned automatically to that
particular output so the concept is or
the idea is is that we should be sort of
moving away from trying to model rules
at all and B pin if you already do a lot
of people don't die there a lot of
people can also implement rules engines
but for something like this which is
true the relatively simple decision it's
sort of between this gigantic sort of
rules engine thing
that you're going to need to have really
complex rules and instead it's sort of
it's a it's something that probably
should belong in a easy to manage easy
to add an easily understand business
idea I'm in sort of space so instead of
that we would sort of remove it we would
use the existing Beekman symbol for
business rules tasks and this guy here
would actually call our rules engine
okay so that is actually look enough for
me all the slides for now because I'm
going to just go ahead and maybe create
something with this so I'm going to
generate a BP man model I'm going to
create a DMM table and just gonna make
it run and see how quick and easy it is
to actually manage this things that it's
the most important thing so let's see
what you can do fantastic
so so I'm going to do this inside
eclipse again the ID doesn't really
matter but I happen to have built a
project in here using our our maven
archetype and if you can see that me a
salsa but you can see that it's got sort
of a process application class it's got
a logger in there it's got two models
and the resources and importantly enough
it's just got all the dependencies
required to run commanders engines so
that that's a dmn engine and the BPMN
one so i'm going to start by really
simply creating BPM process in the
modeler so yep this is a very quick
process but will maybe add to it to make
it a little more interesting
so i'm going to just use the modeler
here to create a simple little BPM thing
we're going to have a let's see
enter I'll be very topical now and
decide to choose it and that'll be a
user task and then then we can have a
nice gateway here or maybe we'll put a
DML table straight after this and this
dmn table will call let's say a sort of
decide on reaction and yeah and then the
reaction can be is the neck
or Gateway so it'll either be this guy
here which would be moved to Canada or
also maybe I don't know
stay where you are
okay and these guys are just futile user
tasks fantastic and as I said right now
I'm just actually defining this in as in
design time so I'm just like so far
nothing this is necessarily executable
beyond the XML of the beef man itself so
while we built all that the XML for the
BP man which is you know adherent to the
standard and is being created in the
background so we have this nice model
that's gonna allow us through some stuff
I'm going to also create the dmn model
for there so I'm going to end the same
modeler actually might even have it in
my thing how you do there is so this is
an empty table so this will be let's say
go with a vote and we will have again as
an input which is going to be called our
choice or Canter's I'm also going to
change the hip policy because we're dmn
a nice ability to DM a has that really
does change how tables work is how the
hip policy works so unique means that
only one and only rule one rule is
allowed to match and that's really
useful if you have a table that you
intend to carry add to cover all
impossible input and options but without
actually any crossover in our case we're
gonna go with first meaning that it'll
go through each rule individually and
the first one that matches will actually
be returned so the order is really
important in this one so candidate we're
going to have let's go with oh yeah so
I'll also have an apple of course
because that tends to help and let's go
with reaction or and it's going to be a
string as well so the first thing I'm
going to do is I'm just going to add
some input values these are the values
that are allowed for the same part so
I'm just going to simply put a Clinton
Trump Johnson
I need Johnson fans no
okay 9% that's about and then maybe
other circling was popular before okay
and and I'm just gonna decide okay well
if maybe Clinton is there so that's our
first one and in fact maybe let's say
Clinton or Johnson then we can have a
certain output which could be let's just
type it in here it could be just say
everything is fine which is a bit of an
overreaction but okay so and then we can
maybe have this guy I'd whoever that is
and we can maybe have something like
move and finally of course we could have
the other option which is just great
choice okay
so it's a really simple table it's going
to go go through and the the fact I have
two guys here and little comma means
that if Clinton or Johnson are decided
we get the same output and if Trump is
the input then we get move and if other
we get great choice so again I've done
nothing but do design-time stuff so far
so now I'm just going to go into
actually making this giving it the
execution parameters so in this case I'm
just going to click this little guy here
which just gives us a couple of extra
fields to play with so this is first of
all the actual key of the table this is
the the cue the engine needs for
something like versioning so if I change
this table I could have multiple
versions of the table running but it
always have the same key so I'm going to
then say candidate and the output is
going to be reaction okay and that's
essentially available to have to be sort
of deployed and run that's pretty much
all you need to actually make it
executable if you're interested this
little language in here is I'll go into
more detail later is feel the friendly
enough expression language and that's
again part of the dmn standards so that
can do some other bits and pieces like
it can have ranges on numbers and things
of that all the usual expression
stuff the concept is that it should be
easy to read by an analyst and so it's
maybe not as powerful as like a ver as
an explicit expression language but it's
still pretty good for business IT
alignment
okay so I'll save that now I need to go
to my beep in that model and turn this
into something a little more executable
so let's have this guy here and I'm just
going to create so I can use commanders
form fields as a prototyping mechanism
this will actually describe the fields
required for this UI usually you would
actually maybe create a proper UI and
not embed it in the XML but this is what
this will be doing so I'm just going to
create kind it it's going to be an enum
and your poison and I'm just gonna have
the names of the folks so and then
another one for Johnson and of course
our personal favorite author okay and
that will actually create a variable
called candidate from the selected from
whatever the user that he selects so I
don't need actually any data mapping at
all because it's all part of the same
context instead I just need to tell have
the engine how to actually implement
this business rules task so you can see
there were a few different options we
can still of course just run a Java
class to do the rules if you want we can
call some sort of external process that
would pull and try and run it that way
but in this case of course going to use
dmn and I'm just going to use the
decision reference which is the same key
as I have here okay and put that there
and now we're just gonna have a results
variable so the thing we get back is
going to be let's say it's called a
result right and that's going to be a
single entry so the reason if this
drop-down is
because it's of course possible to have
in my case I have a single output column
and I have a single rule that'll match
but with dmn you can actually have loads
of rules that match and multiple outputs
so you could go from having like it's a
single variable to a map of maps
depending on your output in this case so
it's pretty straightforward next we need
this guy here so we're going to execute
this part of the the model is just the
gateway so we wouldn't just create a
condition for this gateway in this case
it's going to be again abusing an
unified expression language to say if
the variable move is a call result so
I'm going to say if result equals let's
say move then we'll go this way and I'll
just turn this into the default flow so
for any other scenario we'll go this way
okay so I'm not going to do too much
with these guys they'll probably just
run themselves so I'll just save that
and now back into our dev environment so
I'll just refresh that and right now I'm
actually running commander on a Wi-Fi
container so I've got the engine there
and I've got the rest API but I also
have the front end which is written in
angularjs which communicates the engine
over rest and in cockpit we can actually
have an overview of our processes so we
can see here that we have three
processes currently running I'll talk
about this guy little later on but now
I'm just going to deploy my new fun
process and I'm going to give it a nice
name which is sorry got a nice name and
I'm just going to see if I can deploy
that from eclipse I'm going to use maven
mavens deployment to do
deployment and on.for for eclipse to be
able to just use this wire fly deploy
thing so I'll send that along and
that'll hopefully find that I have Wi-Fi
deployed here and we should see that
it'll get this process application
deployed the engine will then pick up
that it's got some tables there we go
and it'll then appear on the front end
so our faces here we go okay so there we
have our devoxx thing we also have in
decisions we have vote so we have our
table which is there which is great so
that's all fantastic but now I'm going
to run this process so I'm going to go
to task list which is our sort of front
end and tender for people who would
start processes or complete work as part
of processes and just start a notice
like that works I just start the process
so now we have our first task which is
here it's a cute candidate as I showed I
just sort of created a really simple
front end just for the to make it quick
rather than useful and so tough choice
honey any preferences many one and then
I'm too scared to say too soon okay I'm
going to go with other justice good why
not and oh look we have a new task
called stay where you are
so we can see that we have progressed
through the process and of course you
went through the default version and
I'll start a few more just to make sure
that my gateway works do and do one more
and you know do the unthinkable and dump
that's spelled incredibly wrong this
would probably feel the same way
oh no it didn't okay so yes so now from
cockpits perspective if i refresh this
is more of an admin point of view so we
have all of the points in which the
other processes running in their current
location so that's a really simple way
of just being able to create these DMM
models and add them but I kinda want to
show you a more interesting example a
more sort of useful use case and that's
with this guy here so this is a
a process that actually combines two use
cases that people use that we've
actually helped develop a for so the
first one is a user assignment and dmn
table so this is given certain criteria
we want to make sure the right person
does a certain task in their BPM process
and that's a that's a really common use
case for that we've come across four dmn
we also have another dmn use case here
we're given some information I would
like to know in this case the fraud
score so given all this information what
are the chances that what I'm looking at
has the possibility of fraud and again
these come from use cases in that we've
actually come across from people using
dmn and and bpmn so I'll just start this
process which the concept of this is
that someone has some sort of insurance
payout and they've broken something and
they want their money for the insurance
I've been paying the whole time so I'm
going to start application and we first
need a client name and his name is raka
crocodile apparently I'll just choose a
file to upload okay and start so next
time at the point now where I'm at my
user task and I have again a nice file
but this time it's a little more
interesting I can download the file if I
want I have the name acquired but now
being asked for three different
parameters and that's for the region
we're currently in let's go up erlynne
and claim type car and let's say it's
600 is the amount so when I complete
that it does go to the next process but
you can also see that we now up here
have Dave as the assignee so Dave has
been automatically assigned to this task
from cockpits perspective if i refresh
this page we should see that the process
is moved to here and if we wanted to
find out why Dave for instance got
assigned to this task we take a look at
the history of this processes and see
the path it took and then we can select
here and find out the DMM table that
actually ran and the actual values that
were actually passed into it so here we
have this again is the same table we saw
a similar table same hit policy its
first meeting that it'll take all this
it'll take each rule one at a time in
the order and
terming everyone is true first which
mean multiple could be true but the only
one will be returned so the first type
is car the claim type is car so we went
as far as here and this person if you
leave a blank indium enemies that
doesn't matter what the input is we'll
just accept that as a true value we also
have a region which we brilliant and at
the claim amount is between zero and ten
thousand then Dave can handle it ok so
we can also then just that's why Dave
got assigned to that and from an
execution perspective what that looks
like is pretty simple let's see if I
actually have that model somewhere I
shall show that later on so next stuff
let's actually complete this part of the
task so unfortunately for Dave I'm going
to take this off him and claim it for
myself so this is something that is part
of the history of the task so a task
itself has its own life cycle because of
course it can be passed to different
users so we can see here that we
unassigned Dave and assigned ourselves
we could also if we you know preferred
Mary or something we could give Mary
access instead it all depends on of
course permissions and things so now
that I actually have access I can answer
some questions about this so again from
a process perspective we are now at the
enter application details and we are
being asked how many payments have been
rejected for this client or have how the
pain and beauty for this client we can
say know how many payments how we
actually put out there in the past we
can know paid a number let's say to move
nineties hi 10 does this client have a
history of fraud we can say no but do
you personally suspect there's some sort
of fraud involved we're gonna say yes in
this case okay so we are now at this
lovely new task here and we've passed
through the fraud check table which is a
far more complicated table and what
we've got in the end is we've got two
things we have first of all the fraud
score that was generated so let's take a
look at why that got generated
- there's our instance so we can go to
history
select the instance and then go to our
fraud score and let's take a look at the
decision instance so this is a much more
interesting table it's a little more
complex so in this case you can see way
more than just one row has been
activated but I only got one result so
that's down to the hip policy in the top
left there that's a collect some meaning
that if the output is going to be an
integer then we can actually add up
every rule that matched and send back a
single variable so in this case we can
see that we have a rule saying that if
payment has been rejected in the past is
know then we get 20 points and if
there's no history fraud we also get 20
and also if those things are combined
and it's a very small amount it's plus
75 we also have a thing here where if
there are more than 10 pets then maybe
and the still history fraud we still
maybe give them minus 10 so in the end
we ended up getting this 105 score so
there's one other nice little addition
to this which is of course that this
also just task is also given a priority
so we use that fraud score too as well
as inform the user of the score we give
this task a priority than the engine so
that you can say ones with the least
likelihood of and being fraudulent will
be like dealt with sooner this is a nice
way of actually dealing with that sort
of thing so I am we also have the
analyst opinion which is true and we
also have the option of doing one out of
this claim so one of the really nice
thing about dmn is the fact that we can
actually edit these tables in real time
or run time which is kind of the point
of being able to use rules so I want to
actually use this analyst value this
whatever this analyst the size as part
at the table because I wanted like give
points at the analyst things it's not a
fraud for instance so to do that we
would actually go to do output here I go
to our decisions
and go to let's see probably term fraud
score okay so here's our table and I'm
just going to go and find out the name
of that variable and it should be here
somewhere
there's the process so you can see that
I have the output variable here as the
user name and in order to I just reuse
that thing right here as an expression
so in run time we just get the value
from this table and just assign it to
this task we also have a form in here
that's of the form fantasic
so let's go find the form I can just
check here just I could make sure you
check they're very opposed that exist a
smarter idea so I can eagle the
variables there is see the variable user
determine fraud is the one I want to use
so I'll just take that and I'll just go
back to my decision here and I'll just
edit this table so I'll just edit this
and then I'm just going to enter it in
advanced mode I'm gonna add a new row
and this is just thoughts or let's go
with good feeling and this is going to
use the variable user trimmin fraud and
it is a boolean and because of the
boolean we can then exit Advanced Mode
and we can choose yes or no so I want to
add a new row maybe here just drag it up
a little bit and I'm just going to say
okay if it is then we're going to if the
gut feeling a fraud is yes then we're
going to give them like - I don't know
how'd once you trust an analyst 15 that
seems right and we'll say that we'll add
into the row below it just copy Paulo
and we'll say I don't know +15 okay and
so that table there has been edited and
I can proceed this is going to deploy
this as the new version of this table so
as you can see we have a lovely warning
you're playing with fire because
obviously once we deploy this any new
processes that come across this table or
have been calling this table will end up
by using this new version so we can
deploy that it's also possible to call
other versions specifically by IAD but
generally it's good idea to just say you
can just link to the newest version of
the table so all right stuff so now we
do have that living table that is
deployed there but of course it's too
late for us we're more beyond that point
so I'm going to just actually take this
token and I'm just going to drag it and
drop it back I'd know here maybe to run
that table again so this is just going
to just the ability to sort of change
state a little relatively easily and I'm
just going to apply that and what should
happen is we should be in the same place
and in task list we should if we see
this have a different score which is
possible so we can actually check the
history of this so if I check the
history of this process so far we can
see that we've actually run this twice
and by selecting here and checking which
how this thing worked out if I got that
variable correct it didn't even run the
new version I don't do that instead
maybe I should yeah I okay fantastic
thank you for that mm-hmm that's a
problem then
okay well had to we had to go wrong
eventually oh wait I've got aa tenant
stuff okay so there is my yes and both
occasions you're right
instead I'm actually going to do because
so I'm actually using tenants in this
particular example which is probably a
bad idea so instead I'm going to
login to vote and just change this thing
see if this works so I can edit this I'm
just in a really simple way in that I'm
just going to replace this with
fantastic get rid of great choice
fantastic
okay and proceed and there's generate
that okay so unfortunate doesn't really
demonstrate things greatly but it hmm my
tenant problem is going to be an issue I
like and redeploy from no tenant I could
work let's do that
so I'm going to turn the tens off this
is all sort of okay but identity so I
mentioned that we have multi-tenancy
supported and now let's su see
ah we get a fantastic demo of versioning
as well so that's actually a blessing in
disguise so I'm going to just select our
workspace it's going to be just dev and
I'm going to deploy that and what'll
happen sure we'll see okay hi so
building ok seems ok so let's reverse
this Oh fantastic so here's a fun thing
so we have our process on the rung in
the wrong place so let's see if I can
start it again or come a migrate it
mm-hmm yeah probably can so I'm actually
going to just
hmm where is myosin son
what a process hmm you can work out
there already that's going after the
hard way and just actually start it
again so let's speed through this a bit
do let's go to a different place let's
go to Dublin for a change let's see here
my home broke and it didn't cost me too
much and okay Wolfgang got assigned this
time sorry okay and I'm going to say
that yes no 555 and you know see that
works okay so now you got 10 to the
fraud score and let's take a look at
where that is so that should be here
somewhere
okay great now let's take a look at the
history and do do i ran their own one
fantastic that's probably cause I
created the wrong thing so that's it's
version to the definition mmm okay do-do
let's try this one more time
see
we shall again grab that variable name
which was called user fraud I'm going to
again add that as a expression this is
going to be just the good feeling and
hopefully is good feeling about this
actually working so we'll see let's add
a new row below and let's just say
that's gonna be a boolean and don't here
let's just say yes and 15 I'll leave out
no for now
okay enough the moment of truth
fantastic it actually worked so barring
some tenant problems
it does actually end up working pretty
okay in the end you can also actually
deploy things via the REST API as well I
happen to be using Eclipse during most
of that that's perfectly fine but also
if you wanted to actually change this we
can sort of change this from either a
safe place like right here I could
actually do a change to my model and
also just decide to have a second input
and then sort of verify that using the
Java API locally so you would actually
make changes to your model and then
using are really simply simply using the
Java API to test it we can actually
start up the engine and run through it
to make sure that the dmn table or the
new version that actually will run
correctly and actually give us the
required results that we would expect
and so we can sort of start this
instance and let's say this process this
lovely guy here would have a certain
requirement so I'm just going to start
this up in here the first thing is the
first line here is just saying to get
the engine get the runtime service and
start a process instance by specific key
so this wooden line here will sort of
take our current deployment it'll
actually deploy from the engine in
memory and the nice thing is it will
also catch some problems you might have
like if you forgotten to implement
gateways or if you've forgotten to
implement service tasks that sort of
thing that'll be called at this point so
that seems to work but now I want to do
some a little more interesting so we can
then say something like let's get the
task service because the first thing is
going to be is we're going to be out of
tasks so I'm going to just create a task
query and reality of course you would
normally add loads of parameters about
trying to find tasks for a certain
process that
a certain user but in this case I'm I
know I've started this in a test so I
can simply ask her a single result and
that's just import that I know we can do
some sort of a search at this point and
then to work out actually what in this
task we've actually that this has caused
when we expect but instead I'm actually
soon complete this with some variables
so we can then say say due to rule don't
get task service dot complete and then
we just give us the task dot x4k there
tastic interesting i get i d-- and of
course we should also maybe pass in a
map of some variables we actually need
specifically the let me just grab them
up from here because it's already there
so we need the input that would have
been given to us from this particular
user tasks and
okay I'm going to put in what we want
which is if we want to candidate let's
grab that and that candidate is going to
be good okay and now we just complete
this task with our variables mmm
and save okay so this will then run our
process and then test our table or break
either or I'll fantastic it's got some
sort of problem to task okay let's see
actually what we're gonna have happened
so okay I see the error so nicely enough
actual about the error is it actually
shows you how far we got so we completed
the task there's some sort of problem
there and I said that no decision
definition deployment vote are fantastic
so what's actually happened is that we
have to find the resources for this and
you can see that I've defined just the
BPM model so I actually just forgot to
add the our our second dmn table which
is a photo demon so I just say Hope
Diamond okay so I should find that now
so useful error is quite nice
okay we go little tick box there settle
when turn went pretty well so we can
then sort of ask for what variables we
get back so we would expect that and
from a from that table that we would get
back a variable called I should let's
open it in the modeler do we would get
back everything is fine as a as an
actual reaction so we can specifically
ask for let's say rule get run time
service get variable from the execution
mmm we could very well query I mean it's
a bad idea to do that actually sterilize
you just list and then I'll just see
what sort of variables we have in our
system at that point okay so let's see
what happens so they'll get that far and
then print out the variables it's also
going to use asserts okay and we have
there that name is Candice
there's the execution Wow way too much
information there
do well name is kind of here somewhere
in there is - let's see values mmm it
does show that okay so the final thing I
want to do is actually actually show you
how to sort of versioning works from a
beef men perspective so we saw that we
can change our our diamond table and
reel in in run time but we also change
these models of course and the main
reason that using dmn might be a better
option than usually be from them for
these because using beef men requires a
certain amount of redeploying of
agreement running instances so if we
take this guy for instance and we decide
that we also have let's say we want to
maybe calm down before making a decision
I might want to maybe add a timer here
or something so I can add maybe a little
timer that's just yeah maybe just in a
few minutes and have a curation of PT 5
minutes so before anything happens we'll
just wait for five minutes and let's say
we also want let's are just some other
bits and pieces to make it more
interesting so let's also have a
parallel gateway or something in here
so that'll also maybe run some tasks
here let's say for instance and there
can be a user task and so I've changed
this model kind of quite a bit so and we
can see that a lot has changed about it
the xml is completely different and i
want to save that and that should be
enough to deploy i'm just going to make
sure that I have some stuff actually
running so I'm going to start a new
instance of my dev box process just a
few of them because we right now have in
our DevOps process we now have five in
is running so deploying this new thing
will actually run us let's go and deploy
that so an important thing is how this
affects for running instances the nice
thing about dmn of course is that
because the thing is is going to run in
memory it's never going to have the same
problem as having to deal with long
running processes it's going to be
called and in fact you can call it
directly from the REST API as well so
you don't even need a big model to to
run these so let's see so right now I've
deployed that we can see that our
current version if i refresh this we
have this living thing where yes
everything is still actually running and
that's not a problem which is you know
that's what happening so far we have a
second version right here that's also
running the same DNA pmn tables being
called but the process has been updated
by default of course we have this lovely
thing here where we have loads of
instances running in the wrong version
and you kind of end up then having the
option of being able to migrate those so
to migrate these you can see that we
have version 1 right here and version 2
here it has an automated migration plan
because it's pretty easy because they
have the same IDs on the tasks but you
don't have to go with migration plan so
you can actually decide that if we're
here maybe we want to go down here
instead for whatever reason so you can
change the migration plan you also don't
need to move it to the same process
definition you can also change the
process definition as well so I'm going
to just select some instances here I'll
just select them all and we are getting
there you're playing with fire again
you're moving all these processes to a
new version so you need to make sure we
have the payload here for the rest code
that would actually be made to to run
this so it might be nice idea to test
some of this and you can do day
synchronously if you have maybe a couple
of maybe thousand tasks or something but
this is only four so we can do that
pretty well and that's the migration
done and if we go back to our process we
still have five instances running but
now of course
and running in the new version which is
you know really really handy way of
doing it but it's still of course it's a
nice way of being able to maintain
multiple versions of both BPM models and
dmn models okay
so I'll just return to my slides for the
last few minutes okay so it's also kind
of a good to know where these things fit
in and sort of what use cases exist for
these and they're actually kind of all
over the place one of them would be
zalando which is a large fashion
retailer online and they of course use
commander for all of their processing
and and decision making so they have
this very very nice process that's very
treatable it's very interesting it's got
maybe over a thousand instances lines
per second they need a lot of throughput
and needs a lot of work behind it and
these are the features really helped it
but also the other end of the spectrum
we have and it's very user focus which
is important so we get data and based on
what the user is inputted will to change
a different direction also another
company that's been using commander for
a completely other side of the world and
that's the NASA and they've been using
commander for something we're not
allowed to talk about but I have a
picture there so we that's sort of a
concept is entirely throughput so that's
no user interaction whatsoever but
instead it's used our rules and the MN
for our MVP meant to orchestration to
highly automated processes you can do a
lot of both and so the the the options
are pretty pretty vast for this sort of
orchestration doesn't necessarily have
to be about user tasks but it can be
about fully automated systems ok so now
we have about 10 minutes left so I'm
wondering if we have any questions for
me yes
oh great questions so the let me quickly
mention that the engine itself like
everything we saw in terms of abilities
is open source so there's no secret API
or something in the close respiration
come on itself as it is an open source
project for those who don't already know
some things I think did in cockpit our
enterprise only implementations of our
API so the two main ones were dragging
and dropping a token and that's a
commercial version and migrating process
instance this is also in the commercial
version
I think that's if possibly editing dmn
tables though I don't remember precisely
so the actual implementation it's an
implementation of our open API so
everything you saw there was over rest
so if that REST API is totally open
there's nothing about the engine this
closed source at all okay super yes sure
Oh sir so am I used them during my unit
tests I called they essentially the
process engine which is injected
actually in to be a unit test that's
what I came from super anneals ah yes we
over there so you asked about I can I
simply drag the instance of my process
from one place to another but could I
actually duplicate a token instead of
dragging it as I correct yeah so let me
just actually show you that cuz that is
possible so if I instead I happen to
cancel one token and then produce
another one but in runtime you can do
something like this where we can select
an instance and then it's right here so
I can decide to actually use this little
guy here to start a token from sort of
scratch so you can start before this is
a really useful feature for testing
especially the API was so I now have two
tokens running in a single instance and
the really important part of this is not
that I can do this here because it's not
actually all that useful to
a second token in runtime it's far more
interesting for testing because I can
create a token at a starting point at
any point in my process using the API so
I don't have to start at the start event
instead I can decide I've got a really
long process and I just want to test
this bit so I want to start the process
but I want to start here with this
payload you can also start a process
with multiple tokens and payload and
it's really useful for that okay
anything else nope okay it is indeed
yeah so that's actually to do with yeah
so there's a reason why we have a
history drop-down and a runtime
drop-down
so we've I had two sets of tables and
that's kind of important for performance
so runtime tables actually contain just
all the running instances of your
process so that would mean that we would
have any running processes and all
information the engine needs to run is
in the runtime tables as soon as the
process finishes it disappears from
those we're not interested in that
process anymore but the history tables
they actually store all processes that
are currently running and all processes
that are finished so the history tables
themselves are not a requirement for the
engine you can actually run the engine
without any history at all be really
quick but you wouldn't be able to see
anything but that's finished so the
reason the history is a separate thing
completely is because we're now
accessing a different API we're asking
what has happened and we can do stuff
like being able to see and something
like this which let's see something more
interesting would be something like to
do there we go so this would be the most
this is just querying the history of the
process to find out what the most common
path to the process is as far as history
is concerned we also store every single
point which the token has passed but
also every version of each variable so
for variable is changed throughout the
process
you can always find where it was change
what timer was changing what the old
value was and that granularity is
actually am
sort of selectable you can actually
decide whether you want to do that or if
you just want to know where the tokens
have been so you don't really have to
you can change that the history works
the view the history view um I think
actually might be an Enterprise version
but the the actual API of course is
totally open so you can always access
that if it's available already are your
questions nope okay well we can leave it
there and I'll just say thanks a lot for
for him attending and joining I hope it
was useful if you do have any more
questions you want talk to me and myself
we do have a booth somewhere down there
on the on the floor below you can come
in chat to me about any specific things
you'd like to talk about come under or
the standards themselves super so thanks
everybody and maybe I'll see you later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>