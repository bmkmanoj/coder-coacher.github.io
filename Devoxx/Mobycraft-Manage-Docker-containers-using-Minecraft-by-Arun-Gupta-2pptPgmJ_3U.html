<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mobycraft: Manage Docker containers using Minecraft by Arun Gupta | Coder Coacher - Coaching Coders</title><meta content="Mobycraft: Manage Docker containers using Minecraft by Arun Gupta - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Mobycraft: Manage Docker containers using Minecraft by Arun Gupta</b></h2><h5 class="post__date">2017-04-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2pptPgmJ_3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right I think we just get started
now just giving it a quickie 15-minute
sessions so this is about managing your
doctor containers using minecraft my son
business as a hobby project last summer
actually lots of injured or so of we
have been to that so if you bring
minecraft for a while all kids do and
then no we started asking me that what
soccer that are predicting the concepts
to him doctor or containers and then you
know he looked at soccer crack
essentially and then dr. Kraft is
basically a server-side mod which says
okay well if you look at minecraft in
this game there is a server-side concept
in a client site content so a
server-side mod is something we
installed on the server that is
accessible to all the players and then
there's a fine sight mod that can
swallow your client which is only
acceptable see you sicko players
multiplayer server multiply server so
the darker craft is a multiplayer server
dr. Graf is a plugin for a multiplayer
server that's why basically you hadn't
written already so the ticket started
here well mrs. starts off the his level
and is pretty good in Minecraft he saw
poking in Java and his level in to occur
was 84 over here is heard me talking or
writing presentation so very low in that
sense what does it do well it's a
client-side docker mod basically
inspired by the server side rock of
crack and that was written by greater
than Adrian so he looked at taco craft
as I was saying and he saw the Aquacraft
was written using you up and you are is
the server-side language in that sense
or he went he doesn't know lower but
it's a server-side mod and on the server
side you only have limited capabilities
on what we can do with the mod so he is
familiar with java and he knows how to
do minecraft mods using Java so he saw
it is I'm going to take that man
translate dive into the servers and on
the client side of it so it does give
you more capabilities in that sense but
essentially what does it do it it manage
your docker containers visually using
minecraft and what does it mean well you
can run your darker command
the game you can say start a container
or stop a container so all the docker
container run docker container stop
docker image pull all those commands
will be there but there are additional
convenience commands that he built into
the game as well of each docker
container essentially was visualized as
a Minecraft block and an item and I'll
show you some examples of that very easy
oh it's basically built as a Gradle
project and then you can easily learn
from any Java development environment if
you want to you can debug it right tents
and stuff like that the coolest part of
the whole exercise was really
visualizing the containers itself and so
you can see your containers in Minecraft
and by that what I mean is each
container essentially is a box so this
is sort of how a minor law would look
like you know in the game or a docker
container would look like it puts a
kinda nice cute logo of darker over
there there is a start and stop button
so you can hit the container to start it
and stop it there's a slight name sign
there there's an image what image is
using so this is sort of a very close-up
view of a container visualizer in
Minecraft picture and i'll show you this
is a month this is the minecraft custom
minecraft block that he created and
that's what is being representing a
docker container and i'll show you a
live sample of this and how this looks
like on a much bigger scale now the look
of the container itself changes based
upon the status is the container is
running is great the container its top
is all red and you will see a gator
sample of that we also created what we
call as a container one and that's a new
minecraft icon so you can run around
with that one and you can just smash
smash a block and the whole block
disappears and basically the container
dies in the back end it was all about
tying with the back end darker host and
the front end minecraft client using
docker java library which is a standard
library that everybody uses if they want
to talk to docker host and then he also
added capabilities using java java
library again on when Eric was pinging
the doctor who's see if you spin up some
containers on the back side that okay
you know what I have spin up three more
containers how are we going to be
visualized in Minecraft so it's pinging
dr. Ho's with a certain refresh rate by
which the number of docker containers or
the Minecraft block so to say will
change accordingly what's going what are
some of the darker commands in Minecraft
now this is based upon one that not one
dot ten of docker actually so the
commands are a bit old so we do need to
update that so you will see how it's not
using the new doctor 113 restructured
CLI so here basically the commands are
docker PS soccer run so dr. PS now is
docker container LS dr. run now is
docker container run docker images is
now darker image LS so as I said this is
the older version a talker so those are
the commands that are supported in that
case but then there were some
convenience commands and this is what
was fun where I want to kill all the
containers so you take darker kill all
typically what you will say is sort of
container RM dash F and you will quietly
list all the container IDs so there's a
little cryptic command particularly if
you're starting from the minecraft angle
of it so we just added a convenient man
similarly you could have stopped some
containers you know with your wand till
the stop the containers only and you can
remove all those containers and heat map
was particularly useful if you're
running you know a few containers like
15 20 containers and then you will see
which containers are occupying more
memory and more CPU for example so you
can give certain parameters and those
containers will lit up there will be a
different light in the continual
essentially so I work for cosplay so my
son would spin up a lot of engine is
continuous and a lot of college based
container and it is that see your
container master later the database
after all as virtual web server but that
was this test in our engine X and cash
base and how he was verifying the heat
map part of it just like you know the
darker CLI is wonderful with dash dash
are they said a number add / to offer
health the focus was done on is how to
keep that experience not to bring the
docker experience to Minecraft but
rather ain't that minor of experience to
daughter
and minecraft a player would play like
you know / doctor helps oh okay what
command that's going to map to and I
sort of the whole exercise was about
some fun stuff it did the one of the
left side is where he built a 3d
minecraft model of a movie he built it
using some tools and basically exported
a PNG and a bunch of java files so he
put in that entire 3d model and then
what you could do is wherever you're
going you know in the game you can spawn
a bunch of movie and they'll be floating
around in the ocean so that was pretty
cool and one of the things that we also
work was with netflix so i'll show you a
video of netflix netflix has this
concept of a chaos monkey and geography
or a job is it is goes around kill
random processes with local random vm
and see how the application recovered
footage i'll show you a video of necklet
but essentially you can only create the
model for chaos monkey as well and then
what you're doing is so if you see here
in this device essentially right here
these are the bunch of containers are
not running all of these are a whole lot
of containers that are running and then
this and this these are my chaos monkey
so these chaos monkey lives are now
floating around containers with a
continual one in their hand and randomly
clean containers just to make sure that
you know your act behaves properly the
advocating part we didn't do it but it
leaves the chaos monkey concept was
introduced and i'll show you how Netflix
really use that the best part is all of
this code is completely out in open
source this is my son's github repo
ideabooks 01 / movie craft or if you
search a movie crack now you will find
the links to it in the business trip
over there for Jeff relevant you can
right there are multiple ways by which
to write minecraft mods for bukkit you
know a whole lot of that he I wrote a
book together on how to mind that model
with force so you were definitely more
familiar with sports and that the client
side not so essentially he use that to
all add all the faculties so this is
what you are seeing this actually so if
you go here in the rape me go and ask a
dog again come
instructions are there and if you were
on run it in your own in Chaldea or
eclipse for a greater project as an
example what is Netflix Titus well
Netflix itís is the container cloud at
Netflix you know you can learn more
about it at this bitly link this was a
talk given by Andrew Spiker and I'm who
works at Netflix and who runs this
netflix Tigers team so what I'm going to
show you is a video of Titus in
production this video is collected over
four hours time lapse and respite care
is the one who created this but in those
four hours essentially if you think
about it there are 130 are 38 exhales vm
running these are all on all on AWS so
which is equivalent to almost 4000 v
CPUs 31 terabytes of memories and at
peak we had about 325 containers running
so next what I'm going to show you is a
video where you will see this 325
containers running and how the
containers are starting and shutting
down slow question sir oh ok it's ok
just four of us anywhere how are we
recording this one oh well so here we go
now what I'm going to show you is a
small video on how that mobile app was
captured in production ok so bear with
it this is about a minute and a half
long video you of course get an ethics
commercials before to begin with so this
is about the movie crap side this
right around our Kirk on last year we
showed this a darker con las tierras
very exciting so now this is minecraft
and essentially this is Tigers in
production and you can see oops sorry
I'm going to pause it and then talk
about a little bit so this is where the
containers are getting spawn and you can
see each container is different color so
this was a bit of a custom work we did
so now you can see about 150 odd
containers that are running over here
and there is some work done over there
depending upon the container image we
used sheep wool to color that particular
block and that's why it was a single
block where you can add different colors
to it so you can see depending upon the
image that's coming there is orange
there is green purple blue all different
colors were there and now you will see
you know at the peak how about 325
containers are running so you can see
the visualization and again as I said is
a time-lapse again no no no chaos monkey
in these cases so one of things I want
to highlight here is every night for
example Netflix machine learning
algorithm wakes up it looks at what
movies you watch what pages you click
and then it creates what you call as
lola more lists of lists of movies and
so essentially when you log into your
netflix home page it shows you that low
LUMO and that low LUMO is created by
this machine learning algorithm so using
that you know and so essentially the
purple one here this one over here and
the red one over here you see the most
yeah this is this red one and the purple
one here these are all the machine
learning algorithms coming up at night
and these are all the containers that
are coming up at night and running late
algorithm
yeah yeah this is Netflix Titus in
production now we give this talk like my
son gave this talk actually at the Aqua
card and that was very exciting I know
because showing this in production with
Andrew being in the audience it was it
was quite an exciting time you know and
the occoquan particularly look for those
cool ideas where kids are engaged I
think that was a good part on darker as
well so this is about four hours of data
and you can see how minecraft world is
changing from night to day is about it
oh yeah yeah so the what what was done
is essentially it was a fixed structure
in the sense is a column of 10
containers and if you have more
containers getting spawn a new column
was created and then accordingly you can
zoom out or zoom in to see and what view
you want to see now what you could do is
once the containers are all created you
can zoom in now take a container one and
kill a container and within the
container again there are stark stark
buttons and you can go into the
container and you can say show me more
information that's why we don't want to
create a simple block but we created a
complex block which is like a room
because then you can get into the room
and get a feeling for it other things
that we also played with this for
example now that the room is created how
do you blow up things in Minecraft you
blow up TNT so you get into a room you
put a TNT over there and you blow a
bunch of containers over there and then
you see how the things behave so it's
basically a fun project essentially but
it was a very good way for him to get
introduced to the concept of docker and
applying his passion where is excited
about to learn the darker concepts so he
already did this
one thing cool that we also did was and
we also connected multiple darker
providers so by default for example we
were using just the basic commands so in
this case for example you are seeing a
mouse is not working but essentially
what we have is different darker
providers so for example by default we
were connecting to the local docker host
now within we could connect to Dhaka for
mac or the awkward machine at that time
dr. machine was more prominent so we had
to provide different darker providers
because the library had different
connectors now for testing we also
created a local JSON provider where we
don't have to connect to order a talker
host because end of the day if you think
about it darker host is giving you a
bunch of JSON documents it's a REST API
so we created a local JSON provider we
captured those JSON documents in the
local file and so that's a JSON provider
and for the last what you see is the
tightest had their own provider because
it's built on sort of mesosphere in that
sense so they build their Titus provider
which is using the same interfaces but
actually pulling the data from the
tightest implementation because the JSON
API or the rest api is a bit different
how you can help well he is he's a
freshman now we built this about a year
and a half ago so you can definitely
have with code review that those were
his ideas send pull request if you want
to contribute in any sense try it out if
you find any issues testing in your own
environment and there's a good player
there's a bit ly laying on the github
that you can play with well his this was
his party line when he says if Netflix
can use mobile app to manage their
containers you can do it too so that was
my quick quickie
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>