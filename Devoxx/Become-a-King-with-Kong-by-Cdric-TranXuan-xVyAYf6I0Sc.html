<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Become a King with Kong by Cédric Tran-Xuan | Coder Coacher - Coaching Coders</title><meta content="Become a King with Kong by Cédric Tran-Xuan - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Become a King with Kong by Cédric Tran-Xuan</b></h2><h5 class="post__date">2016-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xVyAYf6I0Sc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay let's start so thank you for being
here I'm silicon John I am part of snow
com that I 0 which is our technology
call conference as well which takes
place in France in Grenoble so you've
got one day of university and two days
of conference and you've got one day of
unconference and the unconference is key
party in the mountain so that's quite
cool so wish our speaker feel free to to
apply but my full-time job is at stream
that I oh so I'm a developer and then
stream data yo we are developing your
proxy as a service that enables to
convert any geez an API into a push
real-time API which means that if you
have a nap I that exposes data that
changes a lot instead of trying to pull
it often which is not efficient because
between the two poles it may happen that
you don't have any changes you do it
through us through the proxy stream that
I oh I'm stream that I Oh will push only
data when they are changes and you can
do it in your clever why because you can
only push what has change in your design
document so from other application web
application three convenient and as we
are working on dipi word we have studied
all the api platform onk-onk is one of
them so what is gone come with a
platform so this is the tagline of Kong
so the size it is platform to secure
manage an extent yup he is there is also
the microservices buzzword it is not a
platform to deploy or manage
microservices but if your microservices
have some RP I definitely can help you
so what's this you are with up here so
often if you have appears that you want
to deploy in a cloud private or public
you have some technical feature you have
to
implement your API for example
authentication caching rate limiting and
stuff like that if you are in a micro
services philosophy it may happen that
your API is implemented in a different
technology java Ruby and stuff like that
so every time you have to add this
feature this technical feature and you
have to reimplement them in the
different technology if you have a bag
in one hour future technical feature
like authentication for example and it
may happen that this bag is in the
different implementation so you have to
fix it fix it in the different
implementation so what composes come
properties to act as a proxy between
yoke is a client of your IP is so
consumer on your IP I am even further
you have a lots of future so this
technical feature weight limit
identification and you can choose for
every API you want well which feature
you want to apply so authentication in
stuff like that and this feature are our
broad sense to plug in sao khong is
really a plugins oriented platform which
is quite nice and you've got lots of
play gift for authentication you got to
plug in for x key by basic
authentication so username password you
also have authentication with GWT token
or Roth you also have plugins to
transform your request so you can inject
address query parameters modify the body
you can also rate limit the request the
size of the request and you can also do
the same for the response you can also
apply ssl to your IP i perform some IP
restriction and so on and so on and if
you don't find your you don't find the
technical feature that fits your needs
you can also develop your own why
because kong is an open source platform
it's based on engines and especially use
the plug-in system is a
in a language scripting language called
Lua and fortunately the developer team
has developed a small framework or so
that you have a need to implement some
pseudo class and you've got a plug in
 really straightforward as the
other thing is khan realized under
cassandra our postgresql to store his
its configuration I'll for the platform
support it's mainly supported on the
Linux word so Santa wears red at debian
ubuntu you also have docker images are
vibrant images as well now you have also
accessed to the marketplace for a WS
Google cloud platform is coming soon
Microsoft Azure as well there is a
partnership between reddit under
Microsoft Azure also you can also deploy
a reddit image inclusive tiger on then
come on it the first thing I really like
King Kong is the fact that all is done
through a REST API so your client the
which is called consumer income will
consume his your API is through khong by
default its port 8000 but if you are as
the administrator of the platform you
will also configure come through another
port 8000 one by default and perform
some resco what do you configure in cone
so the first things is you need to
register your API in Kong so you do it
through a scissor through the port 8000
one by default and you want to apply
some technical feature like
authentication and stuff like that so
you will configure some pregnant stuff
as well and some plugins need to need to
identify the user of your API so you
have to defend what phone calls
consumers for instance for
authentication and that's all you have a
nice tree notion
yeah i plug in on consumer and it's
really simple so let's start with a demo
so for the demo i prepared the small
demo so just assume that you have a
manager that love your love meetings and
he like really to an his meeting with a
wisdom call god sorry and for him the
best philosopher of the word is chuck
norris so what she asks you is to build
mobile application so they can pick a
quote and anne's is meeting with that
unless that's what you do anne is so
happy with that that he has told all his
friend digital marketers to about this
application and all of them want to
include the jack norris facts in their
website so you are in contact with bub
another developer what you've done
you've done a micro services so it can
be consumed by a mobile application a
web application or server application so
the only things you have to do is to
give the address to bob and
unfortunately but told you that it
doesn't work and so you just have an
access to web application which is this
wonderful web application and if you try
to run it what you will get is no access
control origin others in the console so
an error and what does it says basically
it says that you have a cross origin or
so sharing exceptions which means that
if you are for example developing an API
server and this appears on the API needs
to be consumes outside the domain name
of the server for bi web application you
need to inject a special others in the
response so what you can do is just
patch in your code with the on google
the solution are you can use cone and
that's what we do so the first things i
need is
to register to register cone in my toe
edge accessory my IP I income income so
Maya so I will do it through in through
the VIP I which is exposed here in port
8000 one I will give a name to my API so
check api and i telled cones that i will
proxifier my IP I which is a there so
here it is so no instead of trying to
call my IP I directly i will call it
through cone so it's in port 8000 and I
got a result fortunately but doesn't fix
the program of Bob as a program of
course unfortunately there is a plug-in
that do that in a cone so let's do it so
since i created my IP i called checkup i
I'll just tell khong that in the plugins
section I want to create to add the
plug-in names cross and the
configuration of the Cross plug-in
applies for HTTP gets method so the only
thing I need to change know is the code
of Bob so instead of coding directly the
API server I will call it through cone
just refresh the page and here it is
I've got the result so no just assume
that your API has so many success that
you have lots of people that trying to
call your IP I so probably if you are
lots of call you can crush it can crush
your server on frozen raw you can have
Danielle of services attacks and usually
what do provide our API to prevent from
that is having some rate limit on their
API and income there is a plug-in that
do that which is called rate limiting
and again
but i will do is i will tell calm that
I'm hiding the rate-limiting plug-in and
I configure it to unbell only five
requests by minutes if no I'm trying to
access to my IP I one two three four
five here it is I've gotten a an
exception thrown Biko Biko so your bus
is a piano he wants to earn money with
your IP I with the API and to do so
usually you have to identify the
consumer of your IP I what do what can
do API providers have a mechanism to
authenticate their user and to do so
usually they provide a key
authentication and guess what there is a
plugin income that do that so I will use
it so it's the same so no I applied a
plug-in that is called cute and if I'm
trying to access to my up here I've got
an error message things that i have no
api key so Bobby's no stuck to be able
to identity to give a cure to Bob I need
to identify him so I will create
register a min the the platform so in
the consumer space I say ok I had a user
called Bob and for Bob I will give him
her key and the key is done and with
another rest cold so for my bub I've for
the cute pregnant I'm adding a key
called ABCD ABCD 123 and right now but
will be able to access to the api's
through a query parameter our
restaurants request headers let's change
the code so here I will call my p.i with
a query parameter just refreshing this
so good our veggies I've got my techno
is code so you make your boss happy and
it was quite easy because you've done
this with only few call so Rascals so in
conclusion I would say that if you are
if you are deploying API and add mare
worth having a look to to come because
instead of reinventing the wheel with
technical issue you can focus on your
business I've around near the business
of your API and as I said before if you
are in the micro services philosophy or
RP I can be implemented in several
languages and in this case if you have
an issue for authentication or stuff
like that or you want to add a new
feature you actually implement this
feature in the different language while
whisking you all of them in a 1-1 place
so thank you yes
right knows I know there are on
distributing these two database I'm not
sure they are planning to add any other
database but maybe I'm wrong but in the
world map I haven't seen anything about
that no question okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>