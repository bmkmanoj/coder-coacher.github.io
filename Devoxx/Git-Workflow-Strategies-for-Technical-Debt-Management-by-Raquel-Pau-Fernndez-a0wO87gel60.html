<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Git Workflow Strategies for Technical Debt Management by Raquel Pau Fernández | Coder Coacher - Coaching Coders</title><meta content="Git Workflow Strategies for Technical Debt Management by Raquel Pau Fernández - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Git Workflow Strategies for Technical Debt Management by Raquel Pau Fernández</b></h2><h5 class="post__date">2017-05-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a0wO87gel60" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">furgus inflatius do it make sure cool
thank you for coming to this talk about
beautiful strategies for technical debt
management my name is Raquel pal and you
can find so my staff that I personally
have built in Whatcom just few details
about me currently I'm working in
engineering and productivity team of
shifted so so our mission consists of
creating tools to standardize the way
that we work in different teams and make
it as external as possible and for
example we are investing time on
promoting good test practices across all
the toilets like Google has performed in
a in our past
also I'm a founder of Walmart a little
static code analysis tool and they have
almost 10 years of experience in Java
because in a past was working in
companies to create new equal solutions
and I have been a speaker also in
different conference this is my second
time on devoxx
and also in the organizer of a local
meetup that it is called legacy code
rocks Barcelona but it has a more global
initiative that is called legacy code
rocks so what is true is that software
is everywhere we can find it in our
mobile phones or in our local service
are also in your houses right but please
raise your hand how many times have
those that sometimes have you ever work
with legacy code please good good and
which is a reason usually we we think
that lazy code comes from projects that
has been started some years ago but this
is not the reality in my opinion there
relatives that there are many
initiatives many projects that comes
from a very basic idea and to be
validated but there are not enough
checks
to continue with the maintenance of that
project right and this missing paychecks
means that for us we feel like we cannot
change it because we are not we don't
have enough confidence to ensure that
after we deliver a new release
everything works properly however there
are consequences even if we don't change
it and you can see in that screen that
recently two years ago French helper has
real problems only to maintain a Windows
3.1 person okay so even if we don't
change so what we could have our
experiment problems we usually try to
describe all the good practices that we
have avoided invest time in creating new
features as technical depth but in
reality there are many several technical
depth categories involved in the server
development process in my opinion we can
classify technical depth in three
different categories
the most common technical depth is
knowledge that because is a lack of good
programming practices the lack of a good
architecture and also the lack of
knowledge of those libraries or
technologies that we are currently using
in our projects and this is the real
Tolan that you usually the finest
technical debt okay but the reality is
that we also have some problems where we
don't have enough space coverage that is
what we call technical testing depth but
also it includes when we are right when
we have problems executing test and they
take so much time okay
and this is a consequence or indirect
consequence of having a vitally textured
and finally infested to that that
includes all those automatic Esther
apps that we need to execute since the
moment that we create a new commit until
it is really into production and the
necessary politics to undo the last
changes until the system is currently
working however all these problems has a
very clear solution that constantly is
promoted over the social networks or
blogs and as we can see continuous
delivery that promotes having an
assisted pipeline personalized so we
create a new release contains the
various ones continuous inspection which
is an initiative that was a promoted by
Chanel cube which consists of analyzing
the code quality of each contribution
and also continuous integration because
will in a continued delivery process we
need to ensure that there are automated
tests and they are executed right and
which is a common factor about all these
good practices and a specific git
workflow because a feature branch
workflow promotes to create new branches
for new features or even book fixings
and the main goal is to maintain a real
client a branch that it's the master
branch and avoid collateral branches to
maintain and why because if we try to
release after a while when we try to
deliver of software into production
maybe it's too late to understand if
something has the sales why it has
failed
okay and then as a conclusion this a
workflow promoted to have always little
contributions as much little as possible
because our main purpose is after a
failures
being able to understand why as fast as
possible
so these are among good practice in code
reviews that always they recommend to
use little patches in fact one personal
experience that I that I have had is
that after for example formatting all
the source code of a project according
their own code inside conventions they
didn't accept my patch okay but
ironically it is correct that bad but
which is the real reason about this they
cannot ensure that I'm saying the truth
that I haven't modified anything else
so having short contributions make code
reviews faster and also in case of
having a failure I insist we are able to
understand why more a in a in a fast way
so continue delivery as a practice
ensure that we are able to create
releases faster sooner
and finally better and which is the main
challenge we we need we need to be able
to orchestrate all the build steps until
we have a new contribution until it is
at the end in the production environment
in order to validate or ideas or
validate a business value that the new
contributions are performing right this
is an example of continuous delivery
pipeline where witnesses are coming so
we need to define how we can receive the
last contributions who can create a real
test it and create artifacts to finally
deploy into production and notice what
we say the main the main purpose of this
having real feedback as fast as possible
so working in a clean way it's not
opposite to create software faster
and this is the main reason that we need
to argue when we create the software and
the monitors or technical or business
people them understand why and we say
the most recommended way to implement
continuous delivery well in a previous
in the greatest artistic that we will
labs perform the most common solution
was Jenkins and the next one are the a
it did no solution right so the next of
the thought we will continue explaining
how can we implement continuous delivery
with the new version of Jenkins because
Jenkins is as you know of an open to
solution you can continue to knit but
also for this reason there are lots of
integrations already available that you
can easily use and probably your
technology stack is among them but which
is the real problem that we have
experimented in Jenkins if we want to
work with a microservice architecture
and we need to scale or projects
continuously well Jenkins server is our
interface right we are at least
originally and we need to create our
build process as I script sentence if we
are in the world of microservices this
is a problem right because what we
consider a monolith as a rental price
system needs to be a splitted into
multiple projects and the problem is
that we need to create manually attended
configuration for each of that
micro-services
and what happens if we need to change it
and which is the most important problem
what if we are not the maintainer of
this continue delivery process it
becomes even more hard so the solution
consists of avoiding this step from a
visual interface and using pipelines us
code which is also renamed as interested
2's code that you probably know and with
thinking to this the main feature that
they suggest and one of the main
contributors contributions that you need
to realize is that the Jenkins pipeline
systems allows us to create our own
Jenkins libraries to use inside the
pipeline's and it makes makes us to
reuse the same release process across
different micro-services right so now
the thing is configuration has been
simplified because we also need to
indicate that we will use a Dinkins file
for a given particular Satori
but what contains that Jenkins file only
appears in the repository and we can
have multiple configurations for all our
prices because belongs to get and this
is one example of this Jenkins pipeline
where here we are setting that for all
or Jenkins cluster any of the machines
that composite classic and execute it
and all the steps that contains all
continue delivery process are called
stages and we can define the set of
steps that we want to execute at this
stage that has no specific meaning and
finally we also can define a post
process after the death cells has been
executed this is a real pile and the
most simple way of using the a denken
files but look at this we also are able
to have or on the
images to create or a built environment
and reuse that some thankings with a
joker tag so this field is run inside
this docker image that contains a very
lightweight modern version or even more
we are able to modify to the file which
is the process that we want to execute
in case of failure of Bill failures or
asking for feedback which is very
valuable for many solutions like I will
present you afterwards and who has
changed the tanking configuration well
right now we just need to create to a
indicate or repository here and say what
is or Jenkins file that indicate in that
case is in the root directory of the
project cool we have one methodology and
tool to implement continuous delivery
and share this configuration across
teams ok but in the case of micro
services it's well known that you don't
need more people than those that you can
set up with two pizzas and in that if
it's not true that we have a problem
then but then we we need to be agile as
used in order to create new micro
service constantly and all these micro
services needs to be created by
maintaining with a similar or equivalent
technology stacks who can automate this
part Red Hat has a solution that is
called surrogate that tries to be a
common development platform which
research is really simple to use it but
it is a better state right now and
allows to have templates for each of the
technology stack that we want to to
maintain so in case for example of melon
or granules
project it creates a micro service hello
world and directly it deploys it to a
Cuban ID so you don't need to configure
anything else because it also computers
Jenkins configures or git repository git
up or by default box that is an open
source solution so and finally it a
protected it to to qnet so we don't need
to learn how to configure anything and
only things share the same configuration
that's a good point but what happens
when we have several teams across the
world distributed teams and all of them
has have a different culture about what
what is good code or data standards it's
hard to share these conventions across
settings and sometimes they are not
respected and when we try to maintain a
project Athena started from one thing
from another we realize sometimes that
we have technical debt and probably this
is too late in order to control
technical debt what I suppose that you
agree with me is that we need tools and
metrics because otherwise we only have
opinions and for Java the most common
tools to control technical debt that you
probably know I static code analysis
tools one of them is PMD that takes
source code analysis and pull this water
the code smells fine bugs that uses a
byte code and reports to you what are
the potential works of your code has and
take a style which is focused mainly on
formatting issues finally we have a
sonarqube that initially started with an
integration of all of them but right now
is directed to create or maintain their
own rules
and which continuous inspection in
details I have said that this is a
practice that was a promoted by
sonarqube
because they think that the most
important point is to control that you
are not increasing your debt because we
don't have time to invest fixing depth
that maybe they are not maintaining
anymore so focus on what you are
investing right now your time and make
it as clean as possible and how it works
in the context of that of a feature
branch workflow we apply checks doing or
build ok this text could be with Chanel
cube but also we can use P and D or
whatever it doesn't matter
and if one issue is retrieved our
unreported by Jenkins during the wilt we
need to work a little bit more and fix
it with a new commit after the school
because we can control what we are doing
but what happens when we have hard
deadlines we usually remove these steps
because we don't want to spend time
fixing dead code probably because it's
not relevant enough to make also work
better or working but after a while that
we realize that we have some technical
debt beyond that and we will sonarqube
for example we have several hundreds of
slaves - of works to work with and
improve what's called what is code does
but and these are a real screen about
Astrid so that is a common framework but
there are good news here and the good
news are that most of this coding aside
relations could be a fixable in an
automatic way because they are only one
solution for those errors
and this is what we have done with
Walmart that it's open source and you
can integrate it easily with maven org
Bevin and ruling this task you will get
a part get that this Alif about those
fixes that you can freely apply with kit
drive into your repository so you can
review if it looks good for you and then
apply it and for example for these
little micro service that contains some
a bit code and in this case an import
and also a pre 8 attribute that is not
use anymore because it's over eyeballs
we wondered how to move this and also
according or PMD Rose we have said that
we want that all those parameters that
are not modified please make us make
them final and for those conditions that
can be rewriting in a single sentence
please do this but ok we can run wall
mode for those static code analysis
relation but why what if we want to run
or on code fixings because there are
many possibilities to focus on a
specific problem and we're going to do
by ourselves in an automatic way
internally well Maude is running a chain
of code transformations ok and the
common the common are tassel we run some
more poet avi is to clean import write
and houghton it is proceed with one mode
with three lines of code and it's really
easy because well not allows to resolve
with what are the definitions and the
references that contains that piece of
code and also the specific type of all
of them most importantly after a
representing or changes in a logical way
when we dump this change agent or source
code
it respects or previous formatting style
please raise your hand if you have any
question in some moment
okay so there are common description
about 16 plus because well why not is
for Java okay but there are other
similar tools like like warmer for other
programming languages like PHP PHP and
for those tools there are a common
description about if we can't rest on
them or not for me the solution or the
answer of this discussion is you always
need to ensure test coverage in your
project so if this tool changes your
code it should work afterwards but in
case of not having enough test coverage
well these two should have test coverage
and but you you can you can decide if
you want to threaten up to that fastest
coverage or in a human okay so we have
seen that we can run well not as a plain
melon or Gradle task and which is the
next which are the next steps are really
transparent we just need to apply this
patch that has been generated by Walmart
vomited patch risk it try if your tests
are working and finally we are creating
a new commit and most importantly we are
using a specific git commit flag option
that is fix up which creates a new
commit with the same methods during the
six sub prefix and if it had common
convention for that get implements to
use this kind of to apply this kind of
commit and finally we just update a
remote repository so then we can talk
about continuous fiction right because
we can use Jenkins to run this produces
it as a part of or built and
then if or initial build fails because
like technics says okay you have some
according a circulations you apply well
not but breaks the commit it may a bad
break the build creating a new comet and
if we run Jenkins again we have a green
status and hope a pipeline looks like
well there is nothing source library for
Jenkins that contains and one not a PA
that you can easily integrate in your
build process remember you can define or
your own library test and I'll show you
you want to deploy or create a new
release in Jenkins across different
micro services so in that case we are we
have created one example running wall
mode and you can decide if you want to
check the patch before submitting or
clicking directly into thankings and
also you can define the branch that you
want to use by default this these are
the values and the branch is decremented
it is going to be analyzed okay well
multiply its one of the tests that you
can run with this library but runs all
the workflow that consists of checking
is there are changes as for your
feedback and if you agree push the
changes and break field but you can also
refine this work so as you want using
internal tests that do that to part of
this process so let's let's series with
a real demo
this is my Jenkins configuration for a
micro service that I have in in God's
that is an open source tool very similar
to github and it is prepared to run
without internet so then we just need to
add here the repository I have as I have
described and also say here we need the
Jenkins file and if we check in or
repository we have Malin descriptor that
uses or one mode plug-in and in or
thanking file we are using wall mode and
in this case we are taking p.m. vehicle
mentions because we have the
configuration there and afterwards we
check PMD again why because maybe there
are other rules that cannot be a 60
elevate wall mode right if there are
there is a lack of documentation one
cannot create it for you okay and or
rosette in this case are in
conditionally statements collapsible in
statement that we said they produce if a
simplification and that code and also
for final a members of the method okay
so we thinking - we can also have a more
modern interface that is wo CM and now
if I run the build
this is these are common steps now we
are running vomit
okay and also if we want to check using
the previous a visualization we also can
do that and we can see the same thing
and then in this case are asking for
feedback and here is the part that one
mode has applied okay so if we continue
you will see that the build will sail
because it forces to create a new bill
to ensure that the new committee is
working and then this is same thing and
if we run again the same a step is
executed
but in this case the patch will not be
produces and then the after checking DNA
it will pass it
we are running Miriam package from the
test
and okay now it's been cool and most
importantly if we go back to the old
visualization and we analyze the various
built we can see which is the pipes that
have been applied in a nice way because
there is inside the HTML it's at pineal
plane for Jenkins
but now the question that is raised is
how if we need to create an incremental
execution because it works fine if we
are creating consumers cards because
it's changing changing everything that
has a code violation in there so in the
context of micro-services
it's it's cool to use that also but what
about legacy code if we have a
monolithic application if and we run
well not we will get a very big pad and
we are not able to get that bad and it
we maybe not have enough confidence to
write this for this reason there is an
alternative project that it's called one
would have very similar to sooner queue
that allows you to analyze r16 by fixing
and you can download that patch and
apply it we also have some productivity
metrics to understand who is fixing some
coding style issues who are producing a
issues and how the team is evolving
during the time and finally we have the
whole commit history to understand coded
depth is increasing or decreasing over
the time as a summary we have been that
the problem of technical debt consists
of having fear of sending a features
that was already implemented without
enough test coverage maybe and the day
code is not a good enough well-written
we have seen that the main issue that we
need to to protect is how we can define
a release process in a declarative way
without using visual interfaces finally
we have the fine business process using
Jenkins pipeline and this are part of
the or get a positive and now we can see
the history of our build configuration
we have been we have seen also fabricate
at a solution for our development
process to maintain the same technology
technology standards for micro services
and we have seen a new workflow that is
for continuous fixing to apply changes
directly into a repository and not not
spending so much time fixing a calling a
cellulation manually and finally we have
seen that for legacy code applications
we need to do this in an incremental way
to make sure that it works and there is
one mode hub that can do that for you
if you have questions and answered
questions so please tell me yes
one mode can be configured for textile
PMD or sonarqube whatever so it uses
your PMD ETX if you are using PMD like a
style or sonarqube
and applies those rules for you the
fixing for those rules for you are you
users of thinking - how many of you are
you familiar with check inside I think
good ok so that's all from my side and
if you have any questions in the future
just contact me I hope that you have
enjoyed</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>