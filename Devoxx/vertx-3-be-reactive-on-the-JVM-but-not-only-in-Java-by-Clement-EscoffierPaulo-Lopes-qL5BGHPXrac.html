<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>vert.x 3 - be reactive on the JVM but not only in Java by Clement Escoffier/Paulo Lopes | Coder Coacher - Coaching Coders</title><meta content="vert.x 3 - be reactive on the JVM but not only in Java by Clement Escoffier/Paulo Lopes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>vert.x 3 - be reactive on the JVM but not only in Java by Clement Escoffier/Paulo Lopes</b></h2><h5 class="post__date">2015-11-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qL5BGHPXrac" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello so my name is Clemens Kofi has
Paulo Lopes we are vertex call developer
and we are going to present you vertex
everything you need to know about vertex
today about vertex 3 1 so squeal 1 is
the last release with it and the first
thing you can see that well this is no
port this is not PowerPoint this is not
keynote what we will do first is to say
well what about using vertex to serve
just slides so one thing they did so I
just used reveal.js to do my slide so
it's a simple HTML page with plenty of
image you will see but I move that
inside of a jar so jar files that
contain absolutely everything all the
dependencies and I'll just start it to
start with vertex applications that is
package to the Phaedra so Java does
wrong I'll just use this transport just
to not correlate with a different demo
we are going to do set of studies and
don't normally hopefully I shall get my
slide here yes yeah they are so far
we're just okay so our slides so this
slides are actually served by a vertex
instance so the title is b rekd even g
vm but not only in java q things are
important here being reactive what does
that means and not only in java so we
are going to explain that we are going
to expend much more hole within the new
vertex is mod into dev ops where how you
can build micro-service application
while you can build game so stuff like
that so what is vertex first vertex is
not a container is not an observer it's
a framework it doesn't come with
anything any type of each you do
whatever you want it's an opinionated so
unappealing it what it means it means
that we provide you everything to do
whatever you want but we don't force you
to do anything you don't want Phaedra
don't do Phaedra you want dock your
container
do the container you don't want to
explain all this like that you want to
put
sources in the Lib folder you can there
is nothing you can't do it's completely
unaffiliated so sometimes it's really
cool because you can only adopt via text
to your own needs sometimes you might be
a bit lost because well how you organize
your shoe so you organize your tests and
so on so it's about that well everything
about that would be explained here it's
reactive so that means that it's these
new trends of Sydney where things are
reactive and so I'm going to explain
that in the next slide as well as a
polyglot aspect and the last point is
it's distributed Wow today 2015 finally
it's distributed so what does that mean
it means that whole are where vertex
application can interact each other can
discover each other can send events can
get reply and so on you don't have to do
anything so reactive a couple of years
ago one or two years ago a couple of guy
I met and decide to write a manifesto
about what reactive means actually there
is no any consensus about what reactive
means today but if we read the manifesto
there is two big pillars there one in
need to be a responsiveness what does
that mean that means that your system
must always reply to your user to your
request in an acceptable time I'll let
you define what acceptable means so if a
couple of seconds is acceptable or just
a couple of minutes counts so it need to
be responsive on various workloads so it
can be one user at a time or one million
user at a time need to still be
responsive and the second thing is it
still need to be responsive even if
there is an earthquake and everything
crush it still need to be there and
replied to the requests so this is
pretty big properties and to do that as
said in this manifesto that the message
driven a synchronous message passing is
the best way to achieve it so vertex
implement such patterns the second thing
is that it's polyglot vertex need a JVM
Java 8 open JDK or Oracle or whatever or
Java 8 you can even use John VM for
people that want really lightweight GBM
you can develop your applications in
Java
groovy Ruby JavaScript soonish Ceylan
before the end of the year we also
support by the community Scala Python
code lean and typescript but you can
also mix all those language together in
sides of very same applications so if
one part of your application say well
GUI will be much better because I want
to do files things and so on or it's
more like a script you can do it if you
prefer using javascript to implement a
server-side JavaScript you can do it you
can use any of this language and you can
mix each other so I let follow your the
whole concept of vertex is that we live
on the reactor pattern so basically we
have one single event loop so we see
event loop as a single thread and
because we have a single thread it means
that we can never be blocked if we are
blocked and other application stops so
in order to overcome this situation we
have handlers so and leur basic
basically is annular is is a way that we
we have to work around the blocking
model so in a typical program you would
have the return of your function b
return on the return statement in our
case we have to create these kind of
objects we call them handlers and where
we would put a return value we now -
handler the result so one thing about
the heaven loop is that you must never
block it because what happens is that it
will get the first event and then finds
a Hamlet receive it dispatch it next
event dispatcher as we have only a few
threads for one event loop if one of the
amla blocks then also also events cannot
be delivered anymore so you must never
ever block the garden or even it is a
vertex garden wars so but sometimes you
have learning ready earlier lots of
events so what happens when you
this well when we have lots of events
for people of the Torah familiar with
other framework like not yes what you
usually do is that you need to fork your
process and try to use all the course or
because no gs1 core means one event loop
in vertex this is all managed for you
when we start we check how many cpu
cores does your machine have and from
that moment we spawn as many event loops
as CPU cores so this this means that for
example this this letter for example has
8 cores if I would run normal no GS
application here I would only be using
1/8 of its CPU potential and if I start
here the same application using vertex I
will be poor I'll be able to use 100% of
its CPU power so it's a pretty big
difference and we call this pattern so
multi reactive patterns well I spoke
since the beginning about events but
what can what have events in equality
justin objects so it can be a message
can be a string can be a notification
and can be a nasty TP request it can be
a tcp request it can be a command so for
example if you interact with wadies or
file a result any or it can be anything
so this is really important to say even
if it's call event it can be any of your
objects so something that is wearing a
proton here is this a synchronous
development model as Paul said we don't
have return
we don't use winter because return means
that the caller is brought until the
return is emitted so what we do here we
have this operation with two parameters
and we pass a homeless hundreds in Java
just a lambda expression or a reference
on a method it's up to you so my method
can compute the result and when it's
done it just called my hunger what
actually it can still do stuff after
calling my hunger
for example logging that okay it's
completed and so on while with a return
you come to anything after the return so
it's one of the powers that this model
gave so as as Clemmie just explained
handler is a functional interface so
what you need to do is to implement the
handle method and because we use also
generics you can use specify the type
you expect err and because we are in
Java 8 you don't need to make anonymous
classes anymore you can just use a
lambda expression as we doing right here
for example if you look at the initial
example we could say like this operation
takes argument 1 and 2 and we use the
compressed lambda expression where T
will be the result so it means when that
piece of code was there that you see
hello dot handle T is called what it
happens is that in the end the T will be
executing system.out.print line T so
let's have a look at to a much bigger
example this is typically the code that
you will write in vertex to start an
HTTP server again vertex is not the
container a vertex is not an observer so
if you want to service gtp request you
just do create HTTP server so we have
200 the first one girls is a request
owner it will be invoked every time and
as TTP requests arrive that means HTTP
request will be dispatched by the event
loop and when it will be its time this
hollow will be called with this HTTP
request so here what I do with the HTTP
request it just get the response and say
hello there so here my type of message
is understood to be request the circle
of low is a bit more interesting so when
you start an HTTP server a text time
so here we pass a hablar to say well let
me know when you are done but the thing
is when you start an HTTP server there
is many many reason while could fail
wire for example and what happens often
for me is that I already have a TTP on
server on the same port so here it will
be 8080 so
this humbler get an I think result so
it's a structure which is provided by
vertex which give you an idea about what
happened in the operation so I think
result will tell you if it has failed
and if it's successful can give you
access to the to the result yeah
something that is pretty different
we don't have return but we don't have
really try catch an exception because
the exception will be in the event loop
and you should never block the event
loop and you should definitely not kill
a group so we don't throw exception we
create features that failed so I think
returns that say well I've I've failed
here is my cause of the causes of
cerebral object do whatever you want
with it I'm done so it so it works oh
yeah it looks really different from what
you do in Java and other language but
actually it makes the code very very
readable with Java 8 and miss out on
stuff layouts so something that is
running a proton we have for lots of
people are asking who knows means
threads how many sweets do I need to run
this so it's already very complicated
code that just do an ad between two
numbers so odd so first integers the
second integer and when the competition
is done
I call this hunger so that would be my
synchronous method and then I do
something with it
I'll just call one one and get the
result so this part I will be called by
the color thread so it will be my thread
obviously this will be called in the
same thread and this will be called
exactly in the same thread so it can be
a synchronous with only one thread so
don't think that we are lots of thread
on your across thread to be a
synchronous that's not true okay this so
yeah ask
so it was welling River GS you see so in
the event the in in vertex we've been
talking about these messages we need to
press message receive messages and we
have
we have we have a mechanism where we
that that allows us to distribute these
messages messages so think of it like
the postman the postman is our event bus
so in you every time you want to send a
message you create an object you put it
on event was an event buzz we'll look at
this a park string which is an address
like your home address and they will
look well which part of the code is
listening for this address and will
deliver the message center to this we
have several kinds of modes we have the
typical point-to-point messages when I
when I when I say I want to send this
message from A to B we have the mode of
pop pops up publish subscribe when I say
I'm gonna have several pieces of code
listening on the same address this will
be really messed up for mailman and then
we say okay send it to everyone and we
have the last mode which is the request
response which is kind of an RPC model
where you can say send a message from A
to B &amp;amp; B says okay I'm done send a reply
back to a so we have all these three
models so using events through this
event bus but the code that we receive
these events are hundreds busy so it
will depend on the type of message but I
credit there and locally some sort
umbrella it will be delivered by the
Evan group while locally it's important
it's every part of your vertex app can
access the event bus and it's important
because even bus is distributed so you
don't have to do anything to send an
event to another GBM another part of
your application as soon as you know the
address so it can be topic on whatever
so vertex will create a cluster
automatically and will so hold this all
these three are part of your application
will be connected and can interact using
events and locally you have the event
loops that will dispatch the events so
this is really interesting
oh it works but in three one
and really further by providing the
concept of bridge where not only vertex
hub can interact with Evans lab but also
other things like an odd application
like you've been every application like
anything so we provide bridges for so
here would be a stock GS bridge TCP
bridge stone bridge I'm QP bridge and so
on and what happens is it's a bit
direction or bridge when I never to
arrive we map it to the vendors and when
something comes even bus need to be
delegated to some to the outside world
it will be transformed and sent so we
can really bridge or even well or Haven
bus with almost anything so that means
that in addition to be reactive polyglot
you can use it as an integration
framework for almost anything so let's
do a demo of this and here I have a
small program so as you can see there is
no rural development models you can use
it you act like that so it's a main
method something we was doing and so at
school so you would not need anything
that would be your entry point we create
a vertex instance which is close down
here and as close to take time it's a
synchronous and I get this hollow here
that will say hey I'm done so when I'm
done what this piece of code is doing is
that every second C will send an event
on this is my headless events and this
is my miss aid here I use JSON object
but you can be anything so I'll just say
hello from Java producer so let's start
this and let's see if the network is
working it's going to be interesting so
after this okay so here in this demo I
will use the other cast cluster manager
but the cluster management system from
vertex is pluggable so right now we
support as I'll cast G groups and
zookeeper one as I cast is a default but
you can also implement your own if you
have something different as a discovery
protocol and so on and we are looking
going to implement better or different
cluster manager in the next release such
as dns-based and so on so here is my
provider it has started so let's start
the consumer here so consumers also
remain Mossad
it gets even buzz and say well every
time there is an event on this just call
this on low so it will just display it
very simple that so what you will see
here and will see it is working or not
yes it works so it has really discovered
it and we have a cluster of two not so
yeah okay it's only two nodes but yeah
and you will see that every seconds I
displays a message this is application
you go a bit further because here you
see hey configure the suckiest bridge so
Sergius is a javascript libraries that
start with words that let your browser
and your server communicate using a
video action our way like WebSockets
it's a bit smarter because it will start
with WebSockets and degrades mostly to -
everything - - slowly pulling yeah it is
for examining as you so know if I go the
next demo yeah
so here you see say I'm really bad at
web UI as you can see oh yeah I need to
zoom so it just written hello to our
producer and as I'm getting old it's
written it everything on and all the
time so I can remember okay well let's
see if I can get not sending events to
this page so what I will do here I go
there I have a very very simple node
application I'll show you it's very
simple
so it requires this library here that we
provide so it's such GS base in this
case but we provide this and you create
the event bus and it's on NPM GS so you
don't need to do any magical stuff to
get it from maven for example yeah it's
a also package of the web draw on boa on
most all repository you will find it and
what it does it's open the eventbus and
every seconds it just sent Bonjour
I'm French from the not producer so
let's stop this started so and then see
on our page
Hey we now have hello from Java producer
and runs off or not producer so here
what happens is that I have clients I
have a producer in Java I have a
producer on node and sow or
interconnected and sending events I
didn't almost did anything it's really
10 line of code every time so it's
already whoa what we can do is this so
obviously here we're just sending very
simple message but you can imagine
anything so let's stop this vacation
here and come back hey okay so we've
been talking about this pieces of codes
and we and we showed some some code
where we just using a plain playing a
POJO and a main main method however we
have some other classes that will help
you organize your code and your
application we call them verticals
verticals are like this this small unit
where you can easily start your
application and only thing you need to
do is implement two two methods you need
to implement a start method and the stop
method so on the start you will be
already the vertex object instance will
be already set up for you so you can
start right away
right in your code and once you have
these these verticals it also helps you
to with the deployment because you don't
need to as I said there's no need for
the bootstrap so you can just use the
vertex itself and say deployed this
class name and say that you want to
scale say that you want to have several
instances of the same vertical you can
instead of having to do that work
manually you can just say I deploy this
vertical using these options set number
of instance to tree one thing that
this tan shi'ites us from other projects
is that we also have the high
availability support so say that we
deploy an vertical in one JVM and our
cluster is composed by in this example
two JVM say if the vertical crashes on
JVM won and it was deployed with AI
availability set to true this means that
verticals will monitor it and notice
that the vertical died and will spawn it
on same JVM so it will use the other JVM
and it will be automatic deploy there so
your service recovers and you can
continue so let's demonstrate these two
features so several instances and are
available in high availability so the
first example will be kind of weird but
the idea here let's have a vertical so
in Java to have a vertical you just do
extend abstract vertical that's all so
in this example I still have a main
method where just say hey deploy me
twice but this top Mossad is touching an
HTTP server so what will happen one
binding exception because the two
instances are going to try to bind to
the 8080 parts and obviously it cannot
work so here there is a bit of magic
what vertex is doing here is that we
will implement the round robin for you
so it's a non street chrono beam but it
will take the first request first what
occurs second request second matica each
instance will be will be attached to
different even pub so that means that
you can go up to your number of core for
the same vertical so for example here
hate-hate instances and a lot balancing
is made by vertex you don't need to do
anything this round robin works for all
tcp-based connections so TCP HTTP and so
on so let's start this
you should be here so if I go back here
and to curl because comb is my best
balls are seven foot three one two three
even obscure absolutely what happens if
I do that in my brother - zoom - oh
sorry
choo-choo-choo-choo Oh is not working
it's not working should do it a lot man
see actually it's the connection is
still alive modern browser keep the
connection alive so as soon as your
basel start using an event loop it will
keep it it's like sticky station
actually but you don't have to do
anything so that was for the more than
cure for the instance so you can easily
scale your application like that you
don't have to do anything you just say
okay how many instance you want the
second thing is a higher availability so
for this one I will start what we call
bear instance the band stances of vertex
instance that would be on the cluster
and that does not have any vertical
deployed is not required if we are
higher availability works also with
vertex instance with vertical deploy it
just for this example so I will start
this instantly so we'll use a hazard
cast cluster manager here should be and
I have another vertical again so I'm
extent of striker chick or I start a
cluster of attack so it will be on the
same cluster and Ivanov are actually too
soon to true and this one is starting an
HTTP server again so if I start this
it's with Jones cluster yes and if I go
there okay so what you see here I don't
know if it's my career my quest six
specific or not but it's the idea of my
DVM and this is my process of my process
I my PID so right now this page is
served by a PID a 17-9 a sub C 13
so let's kill this one so I can show you
that it's probably yeah yes it's that
one
so failover walks when there is rally
went to GBM crush segfault and so on so
it's not ctrl C won't doesn't it's not
enough it must really crush so a kill -
line crushes if I do that so the process
here has been killed you see it and if I
go back here that's been being grated so
what happens
my first instance is my bare instances
doesn't having vertical deployed so what
happens is while this not as left as
crushed I take what was deployed a I
move it somewhere else so to sustain
node and we started from here so we
don't mean you're at state we just
negate what was deployed and all the
verticals that were deployed but this is
higher availability for free so if you
have multiple instances and high
variability hold together you have a
large really large spectrum of
possibility where your application can
scale up scale down auto repair and so
on and you don't have to tweak anything
to behind now this is given just stop
this application because I'm sure I will
forget later
so as we said in beginning vertex is
also polyglot and until now it just been
showing you Java as you can see on the
top right corner we also support as we
said in beginning a Ruby JavaScript and
groovy as part of our core polyglot
support but we don't do we don't use
just that this JRuby or groovy bindings
we really generate some api's that are
more look-alike and more look more
traditional and familiar for people
using these languages for example if you
look at the Ruby example and on bottom
left you see that we don't use camel
case to define the event bus but use the
the snake case if you look at the
JavaScript ISM on the top right the same
we use camel case to the cat thing and
all the fbi's look look the same one
important thing is that all this poly
god polyglot feature is generated from
our Java interfaces this means that
there they are not N and written on
every release we do so this also means
that if you guys decide to say okay I'm
gonna use JavaScript or groovy for my
from my vertical and there's a new minor
release of vertical and new major
release of vertex you don't need to be
afraid that oh I don't know if the new
API will also work with groovy or
JavaScript because this is all generated
the runtime for 1/4 for you guys so I
always think which side so far can be
summarized in one slide if you remember
on this slide you are vertex expect so
we will do the reverse story everything
I will just say about in the rivers in
the opposite way let's try to do that so
first vertex that you implement polyglot
application so that means applications
that can be developed in JavaScript Ruby
groovy or Java or all together it's up
to you this application can be packaged
or not or organized or not as verticals
it's not one that or it's up to you two
this application will communicate using
events these events will be dispatch on
an event bus that is distributed locally
on each instances we have event loops as
many events as CPU core you have and
locally the events will be dispatched
using these different loops inside
harmless hole if you remember this your
vet access pattern you can get your
vertex diploma or new vertex kickers we
don't have diploma at so funny thing is
that so far we don't worry show anything
right what's not that well I display a
couple of things
hello hello hello but what can we really
do with vertex well we have lots of
components already implemented for you
guys we have we have a web framework we
have SMTP support for mail we have
security with some of component we can
connect to databases you we have plain
old JDBC we have a synchronous read is a
synchronous Mongo you can even use a
shell command to control and check the
state of your verticals week you can
deploy it on Doc you can deploy it on
open shift you can collect metrics we
have bindings with ocular and work
without drop one zero two two zero here
for you guys that are interested in
reactive we have some initial support
for rx for people coming from Java we
have JC a support and then we have all
the bridges to connect say to stone to
success TCP is not your listed and there
is the service proxies to so I don't
know if you know but there is this more
hype right now about micro services I
know if you heard about that probably
now it's a small swipe and we also have
things for you to build micro service
application with vertex so so has been
talking all the time we are synchronous
asynchronous so if we have to think of
JDBC GDC by natives not a synchronous
so what we have we
we have this small component they call a
client a JDBC client which will
transform a synchronous calls into two
JDBC so the way it works is that you you
create a query or a command and you pass
this to the client and you of course you
need to also to pass a handler to get
the result so the client will then go do
its work it will connect the database
get the data and once it's done will
read that in some format that you
understand and then invoke your Handler
and give you back the the result so to
think in terms of code this is more or
less how it looks like so we have the
JDBC client you ask for a connection and
then you pass an handler so this is the
first lambda so once the JDBC Klein has
the connection it calls you with annular
you get the connection from AR dot
result so AR is stands for asynchronous
result but it's the name of where like
you call it whatever you want so you
have this JDBC connection and then you
ask for for date so you make a query
select star from beer and of course DC
would normally would block your your
code so you don't want to block so again
you pass the handler and you called
response and then if the response didn't
fail
well yeah you will get the list off of
the off the rose and you can iterate
them print them do what every one and
continue with your code and you can
drink the beer you can also drink the
beer yes so the second metric component
we are such is very rarely used is
vertex where the text web is a way it's
a framework that lets you implement
sophisticated modern web applications in
a nursing home is fashion so it was
almost the same so nobody it's generally
it's blocking and you have threads at
each connection in under both red and so
on here it's not it doesn't work like
that we have an FTP server via text
right HTTP server this HTTP server we
associate of water which is an object
that come with vertex web and this rotor
we declare a set of fruits
Wow
you get to get requests on this pass
calls this Hummer when we get to post
request on this to that hungers can be
trained and so on so when you get an STD
request the water is cold and say okay
so who is going to handle this he will
find the would cause the Honda and John
will write a response hundred can also
be chained and so on so let's look at
some code so first thing you create a
route so hotel that hotel and you pass a
vertex instance then the first quote I
will declare it okay let's have a couple
of static files from a file system Oh
for my fat John or whatever like these
slides I'll save or save like that so I
create a static on low and positives the
name of my directory you can also
implement REST API with this you just do
Rooter that get the path and then you
attach your handlers that you want to
call with Java head you can use missile
if you like that so you don't need to
have a call back and to call back and
Carell can you know you can really use
references and keep your code really
readable and clean so then we have
special hunger for to pass your body
with just by default is not done because
it takes time so if you expect a body
you need to register it you can register
your hood with star so that means you
can embed several words and then pause
but deletes also expressed variables TTP
valve and so on while we have pass
variables you can we have cookies and
stuff like that everything is made in
ana sakuni's way so an ethics up develop
like that is really well is fast and
what is scalable so at the end when you
have all your rules you create your HTTP
server and a request on let's say who
are the water is going to do that for me
so we just say would accept and unison
on the pot you want that's all so
microservices with vertex so yeah except
if you was living in a cave mist also
taught from the last
days you probably thought of mentioning
at least micro-services so first micro
services are not about rest micro
services on autobot HTTP micro services
are not about kubernetes or docker it's
much broader than this it's an
architectural style it's kind of close
to s away but we're not allowed to say
it because we're whole you guys head I
hate his away right that was a big big
things and so on so we are not allowed
to say it so I didn't say it so can we
build micro service application with
vertex while when vertex was started it
pushed this model was not being without
calling it micro services actually the
first micro service application I found
is the IBM 1901 from October 1959 it's a
computer that has a Fortran compiler
which is based on micro services what's
the IBM didn't call that micro services
actually it's I feel that IBM did the
first micro service application and they
didn't contact s away so they could yeah
faces phrases yes they call that phrases
so so it's ready hold it just a new
heart and in vertex we were more or less
doing this before the hype so what we do
is we generally package our application
as a fat draw so when you go and see
your production guy you did a fine job
so you can do it with brother maven
Eclipse export whatever anything ants
make imagine you can even use make and
you build a fire
you give that to a production team you
say well just do a Java the job that's
all that's all you need so all your part
of your application are going to enter
right using the events so they can cool
it's already sending events and so on so
we go bit further is that we have this
bridges so you can interact with micro
services that interact using different
protocols such as top I am QP TCP and so
on and it's not only vertex micro
services you can interact with not as I
showed in the demo or whatever
a zebra a C code or Fortran code yeah
yeah if you have a photon application we
also provide so HTTP other so you can
expose REST API of course but we can
also we also have an a synchronous HTTP
client to consumers TTP so you don't
need to have your own HTTP client to
provide one it's part of vertex so you
can really build really polyglot system
like that because every all this part
can be developed in different languages
but using different stack some part can
use Mongo some can use dropped without
some cam can use Wellspring be credit
some cap can be even implement in using
while Franco Java EE Wow and all
together can interact we have bridge for
all these technologies so it's really
let you do whatever you want something
to not forget is that for every species
that of vertex you have scalability with
instances and the failover
for free so we go a bit further because
well if your services need to send
advance get reply well it's kind of
cumbersome and at some point at the end
of the day you are a bit tired so what
we do is generate everything for you so
you have a Java interface this Drive
interface contain a synchronous methods
with handlers and no return and with two
annotations vertex will automatically
generate the code publishing this and
wrapping event from the event bus to
this and the clients so the client is
generated for all languages support so
you can consume a service in any
language we go even further we also
generate JavaScript client that you can
consume news from buzzer or not that
means you do a vertex
service somewhere on the cloud you don't
care it will be on the event bus you
have your browser application here your
balls are application can just use these
cells it doesn't need anything
that's very what we can do that's one of
the most advanced feature we saw
micro-services today so let's have a
look at this yeah everything is stopped
so I have an application which is
composed by say well vertical but wait
for this application are deployed in the
same GBM yeah because with a world where
the concerned but actually you can have
more than one vertical in in your
application in your source I'm Vivian
it's very up to you there is no rules
you you it's really up to you up to your
granularity of your vertical and so on
so I just create this so I have this
main verticals that deploy to serve
vertical it's Troy's art I will package
it to the federal so
so here I will use maven to build my
foie gras you can use whatever you want
and the thing is vertex is providing a
launch or class that implemented main
missile so you don't have to do anything
you just say hey that's a vertical I
want to deploy and at the end so here's
my father yes and I want to launch it
like in production so as a background
service so nobody you need an indeed D
and so on and so on but here you just
say start and it's a the status
application in the background you don't
have to provide anything to do anything
so let's have a look to the application
and now I'm definitely consider son an
alcoholic so I'm a whiskey drinker and
as at the end of the year I'm running
out of whiskey
hopefully Christmas is not that far so I
will get new bottle for Christmas if one
of you want to offer me a gift it is
well it's a very simple vertex web
application student REST API everything
is described on our blog on or to build
that when I can show you for example I
can add a new new whiskey so it's a
whisk actually in this case and so it's
a sweetened energy DBC database and so
on so that's just the application we can
have a look at this card so we have a
JDBC clients that I create here and then
I start the application training the
different scenes and I should have yes
here I have my vertex web route so set
and my rest of VI and so on and then I
started on the port 8080 and so on so I
could it's quite simple and it's not
much more complicated than anything else
even if it's a synchronous if I can get
one get one it just get one whisky you
get the routing contacts you get the
parameters which is an ID name you look
up you get a CBC connection you do your
request you get it you send it back so
it's quite simple for all of them and
one of them implemented like that
so yeah okay but I've started my
application in background it's somewhere
and I've ready would like to interact
with it but not using my web browser but
really something more appeared with
something that operating guys want to do
operating guys want to do one thing is
issue command in the shell so what I
will do now is to connect myself to the
application so here I'm using telnet
don't use that in production or avoid at
least so we also still got SSH with a
key and so on so here we have a simple
help yeah you a simple shell where you
can no absolutely everything about you
what about you vertex application like
vertical LS so the list of verticals
that are deployed I can send event of
the event bus I can receive event agenda
members I can spawn new jobs I can get
matrix and so on and so on so you can
almost do everything but hey I want to
know the whiskey I have so I would like
to add a new commands to the shell what
should do as only things that vertex can
do deploy a new vertical so this
vertical will be developed in a groovy
because well for commands could we make
a lot of sense and I don't really want
to write a new commands in Java I need
to compile it and so on groovy I just
send it so here is my groovy vertical
groovy vertical can be organized either
as a groovy class extending vertical or
groovy vertical or just as a script and
just create actually so this will be
calling the starkness sort of your
vertical so it's a simple vertically get
access to the vertex instance and use
connect to the gdb see and display it so
let's deploy it pass
ah do I have my methods my new commands
so it's product list there we go I've
deployed a new command so I'm connected
to something working remotely I don't
know where so I've just connected using
telnet penalty the new vertical deployed
a command execute the command and this
is really something very important if
you want to have matrix you to know all
you Macross is all your services are
running and so on so I can leave but the
thing is is really would like to stop my
application now so I can do a PS and
find it hands-on but that's that's not
really what I want to do so what what I
can do is say hey give me the list of
the applications that are running in the
background and yeah that's the idea of
the come of the application you get it
when you do the start one it's just same
ID and you just stop with this ID no
think I'm running out of whiskey
yeah I'm sada so well we're not
generating nice name is doctor but just
UID
okay let's speak about services a bit in
this application right now it's
everything is together but maybe I want
to extract the persistent part and
interact it using a service and even
best service so it's what we do here so
I did this interface which is a
synchronous interface you can look at it
it's you always pass on low to know when
it's down so get whole so get hold its
own hunger also get an a sync result
with a list of whiskey's and so on and
so it's very simple and this interface
as two annotations one is to generate
the proxy and on lower and the vertex
genuine generate all the clients for all
the non Java language so V Ruby
Eric's because exabytes Morris considers
wait for us and so on JavaScript and not
yes so if I build this
at the compilation times or what
happened here we have a notation
processors that are going to implement
and to generate all the source code we
need so it has generated so very weird
classes to implement it so it's made by
order of the robot don't ask I didn't do
this part what does the robot I was also
implemented your handler so to consume
it but it also did the JavaScript part
so this is a client code if you want to
consume my service from JavaScript and
this is a client code if you want to
consume it from your browser or from nod
so you don't need to have a vertex
application to consume a vertex service
you can use your browser or not or
whatever yeah well if I want obviously
at one point in time you need to
implement two service as it's an
interface its implements your service
you just implement it no surprise and
you don't just apply it as a vertical so
it's really nothing magic behind the
scene here the thing is I was mentioning
also Ruby it will be nice to have there
will be client to and what we do to get
the Ruby client in just adding a maven
dependency or whatever build system you
use dependency so it will be long
if I replicate it at the computation
time it will also generates a ruby
client so you can really decide whatever
client you want according to the
language you you want to support and so
on so if I go back here yeah new folder
and it will be fine
so as I'm not really a ruby developer I
cannot really comment this but it should
be God at least it does the dot RB
extension such for me will be so well I
can run this application
Oh aha Network love it no no it was not
too long after educated yeah did that
one so here it's just us right now I'm
using a cell cast a nozzle caste
speaking is taking and network interface
- Wanda many chosen one sue January is
the first one but sometimes it's not the
right one it won't just happen right now
so I just need to tell him that you need
to use this one start so it will be the
same whisky up
no no wonderful on the persistence
because I forget to launch it right yes
so what happened here is that I'm
calling a service but the service is not
there so please don't die on stage I'll
try not yeah won't be accepting next
year yes I think so I have two
applications one exploiting services
consumed by the other ones both on the
same vertical to use it as I have
generated to Java client Java can't is
always generated it will just be
persistent service created proxy the
service is provided at this address
d7 bus address and I use it as an inch
of object so that would be the last demo
we will do receive this is not the end
if you vertex start to have a kind of
attraction right now we have more and
more user more and more features if you
want to start there with this vertex at
i/o which is a main website we have an
exhaustive documentation for all the
language we support there is a blog post
series because sometimes when you start
doing a synchronous development you say
well why what should I start and so on
so it start ready step by step explained
you okay here is what you will do it in
maven here so you test your application
because it's a synchronous testing to
hedge how you run it you want aggression
test and how you connect with DBC to
MongoDB and so on so we're still
continuing this this blog post series
that first post and in the last you tab
repository we have more than 100
different example using the different
features many features that we didn't
present here
well if you have any question we will be
also right now will be wrong so right at
both so doing the brakes and son thank
you very much for your attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>