<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Against all odds, a cloudless smart home by  Kai Kreuzer | Coder Coacher - Coaching Coders</title><meta content="Against all odds, a cloudless smart home by  Kai Kreuzer - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Against all odds, a cloudless smart home by  Kai Kreuzer</b></h2><h5 class="post__date">2017-04-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E3go5q6pgKk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you everyone for coming here so
late in the afternoon my name is Kyle
Coetzer I'm working in the connected
home department of deutsche telekom and
I'm perfectly dove clip smart home
project founder of the open a project
for automation and well-being day and
night of smart home enthusiast wheelie
so that will be also the topic of my
session here today are smart home enter
actually as I think that there's
something wrong going on in the industry
around smart homes the title is here the
cloudless smart home because that's
really something which I think we should
get to the next after that so if you
look at smart home stuff that you get
today you buy a lot of the shelves
different devices you get a nice
smartphone app for that and you can
control it or get some notifications
information whatever so pretty neat but
you are somehow ending up with a lot of
different silos and you're not really
having any interoperability between all
the stuff and it's not really getting to
a smart solution now if you look at how
the infrastructure actually looks like
is that all of these devices usually
reach out to a cloud service of their
manufacturer because the app on the
smartphone somehow needs to access the
device even remotely and so you have for
all this architecture in the end and for
me this is really rather depressing if I
look at that from a user perspective I
used to call that my rainy-day slide and
it's really not a wave that you would
like to have it because what's happening
here will they reach out to their more
less every single connection is a
henschel burner ability to your home set
up or it might be might be misused all
the devices are sending your own data to
the different services out there and
you're really not in control of that now
what the industry is doing here now to
solve the interoperability problem is
fairly easy well on the website we
moreless have standard for rest api
straight and whatever and it's fairly
easy to integrate then the different
cloud services with each other so think
of stuff like works with nest or if if
this been dead which are actually do
exactly that but again if you look for
me user perspective if you now have a
light switch from one vendor and your
light bulb from another you actually
depend on three different cloud services
just two switches in the light in your
home right and what you always have to
remember is well there is no cloud or
just other people's computers so you
depend on that stuff and as you've seen
such a dependency on third parties is
not always really good for the
reliability of the systems we just said
earlier this month or the problems on
amazon s3 where all of a sudden if
didn't work anymore so people say hey I
can't switch my lighter something's
wrong there um there are situations
where then the services of the
manufacturer that you depend on and they
again depend on amazon for examples or
that doesn't work anymore either other
preparations were actually the servers
are too accessible for people stealing
actually data and trying to to do best
thing and that thinks for that so
organist not a nice thing to see
happening and even if the servers are
available within the
baked in a distributed denial-of-service
attack where actually the internet
itself wasn't available anymore at all
the servers were up and running and
although these declarations are not
really good to have a reliable smart
home solution so from here the current
setup it's really what I would call a
connected home and the difference to a
smart home is really that you should
have the stuff for working locally for
you and for smart home the important
work work for me is also the home part
so all your devices are actually at home
you have in your home local network
where everything is connected and that's
why actually IOT doesn't mean the
internet of things for me but it's the
Internet of Things from a smart home
user perspective and having this
internet in place with all my devices
there are really yeah just need some
some central piece to allow the
connectivity there too now in the
interoperability between the devices and
shevata major moves there and this is
something that eclipses Matt home
actually addresses as a framework to
this is autistic on local gateway to do
all of these things now the software
step tries to go the pragmatic approach
so doing the Hollywood principle don't
call us we are not defining a new
protocol that all the devices have to
speak in order to be compatible with
eclipse not home but we say we call you
so we adapt to your API to the devices
what they offer how they can be
connected to and how they can be
controlled and doing that in a
materialization really there is a huge
community around this project as they
are open source and freely available to
everyone and others just er list of not
even half the integrations that has been
done by the community two different
systems to really get them all under one
hood to work together
now the technical basis that it's open
source it's based on Java it uses
Austria for the modularity so that you
can easily a plug-in support for new
stuff and the framework that provides
more or less for different functional
parts the first is everything around
discovering devices in your network
setting them up configuring them second
part is when all around the automation
aspects or having things are done
automatically third part around data
handling or locally persisting data to
be able to retrieve that later on and
checked on that basis or to also do
charting time series and so on and last
but not least all around user interfaces
each graphical user interfaces
smartphone at whatever or also a voice
interaction so we have support for text
to speech speech to text a natural
language interpretation and so on now
eclipsed matt home itself is a framework
to build solutions on top arm we are
deutsche telekom we actually build a
commercial solution using that called
magenta smart home which are in Europe
available on the market which you can
buy really as a piece of art wherever
the steak is running on top there are
other solutions and the one that I'm
going to use for more demo here is our
open house that i mentioned which is
really just open source pure software
that you can download yourself run on a
raspberry pi very easily and you have
really the whole freedom to play and to
think of that good and you see a hot
couple of devices here so first of all i
have open up running directly from my
computer here so my notebook actually
serves as my upgrade high as my own
gates a right now
right here for my own personal router so
my network connection as you can see
here it's Martin vemos on look now I'm
hooked up to my own local networks or no
internet connection at all here because
that's anyhow always dangerous are the
conference to rely on any kind of
internet connection and hold up to the
walls around here it's almost weaker
Phillips you gateway so for the ones who
don't know Phillips you how it
technically works it's a case very
connected to ethernet and this thing
then does the radio protocol to this
light bulb so it's very close here but
it's doing radio communication between
here so it's really all stuff that you
can buy off the shelf and just connected
locally here and you know last but not
least that's actually something I built
myself on which I'm very proud of its my
my doorbell and just should should show
that they're very cheap and easy way to
start also with home automation stuff
because the main features here in rs-232
to USB cable where the daughter just
shortcuts two pins on that to serve as a
kind of input device and you can easily
do that as at home with your existing
doorbell to do something with that so
that much just about the hardware
actually one other device I thought is
my mobile phone which I also used for
for the demo and let me just quickly
check if everything's on the network
because I didn't do that on the
preparation
okay looks good because they're so what
I want to show you is or not everything
in step in detail how you would set up
open up to make it so use but I've
prepared some setup and trust guide you
a little bit with who the future so that
you get an impression what it can do
what you can do with that and if you
want to know details so we can discuss
that later on or here you can check the
documentation and later to stuff
yourself so first of all it's so
important to know that in open happier
actually start modeling your home and
the stuff that you want to work with
actually so it's really on an abstract
level not talking about devices or
anything specific but more about
information and stuff you want to
control and interact with so if we look
here this is the so-called items file
you can define our different kinds of
information I set up here 5 our number
values which would represent
temperatures of the different rules I
can give them a label an icon and the
coop association and this group is
defined up here so the food cans elf
have some type number in this case and
it actually derives its own state from
the state of its members by using the
average from other members here so this
is just some some part of her the
information I have set up some further
items or like the color light which
represent them here in the end my my
real light music player volume or as a
kind of information it doesn't have to
be that one actually the present
information whether i'm at home or not
or somebody is at home or not and will
the government i'm just using to to do
some census stuff afterwards so
the debt information or you can set up
some more stuff like persistence
information so what I've defined in this
file here is that actually I want to
persist all items from the temperature
group and the presence and the lights or
every 10 seconds and I've defined what
every 10 seconds means simply by for an
expression here so there's something you
can confirm that up for your system in
some way and then are simply make sure
that you have that data available okely
as I don't have my home with me and the
temperature tenders for the different
rooms what I've also set up here is just
some demon with which actually there's
nothing else then at the system start
going through all the members of my
temperature group and posting a state
update for every single member and just
calculating some random Fahrenheit or a
number here okay and afterwards doing
every 10 seconds or little shift of this
number and changing it so there's just
some rules now simulating the wheel
devices now once you've set up or your
items and your information you can also
declare how you want to use them in the
user interface these are the so-called
site maps which is also just a
decorative approach to say well this
kind of information i want to show on
miui here i'm saying first please when
the music group of my temperature then
do a color picker for my life unless i
can switch that present information
music okay with that information we can
directly now have a look at one year I
so this is the dashboard that gives you
the different options what is available
the user pure West ati which is not so
nice for the entries of course the
basically I now excesses the site map
information and actually it just when
does me exactly that what you've seen
there
so the coupe of temperature so I see
that the average value now as we click
here we see the single values and shall
they tread update regularly so this is
here we can go to the color picker if we
do something here and not much is
happening because we didn't connect any
of our devices here yet right so this is
all just really still a virtual models
setup of what you actually want to have
in your home what you want to control
its at one time yeah setup up this stuff
now going to another your ire the paper
your eyes which is mainly meant for
administration purposes we will actually
see that this has now already discovered
some things on my network the Phillips
you bridge here and the sonos speaker
let's start with the Phillips you put we
can just say okay let's use that one we
add that to our system and if we look at
it still complains here that it's not
authenticated because so the Phillips
you bridge less is more button which you
now have to press your first or in order
to make sure that the application that
wants to connect to it actually has then
the right to do so so after a short
moment the message disappears and we
actually should soon find then further
device because now open up was able to
create the bridge what i it's actually
connected to it and so we've now found
out about the you bloom here which we
can now say okay let's at that one and
this is now on lines are available and
it shows the channels which are the
functions that this device actually
provides where we can now say okay we
want to use this function the color
function to actually control our light
item so we're creating a link now from
the physical device to our models set up
and once this is linked there's no
directly we work together we can do this
very same for the phone on speaker so
we're adding that and so we see this as
some more functionality that even just
the smallest do so more easy it's a long
long list of stuff that you can actually
do from there what we are only
interested in is here Lee controller for
the start we can link it here and the
volume which might be important okay so
this one is set up there as well now
another device that has been found
automatically is my smartphone because
this I will actually just use by
checking its existence by pinging it and
that it doesn't want to do or networks
can automatically at startup you have to
manually now ask for it that's actually
now going and maybe I should have it on
to be available searching for network
devices when you check which IP it as it
is 116 I think I had that one to ignore
already no that's not okay but doesn't
matter so if it doesn't find it by
networks can it's very easy to actually
at a device manually so we can now go
here and Sadie oops increase that the IP
address of the device that I want to
track us 116 we have a good network here
so we don't have to do it that long we
check it every five seconds and we can
actually use all the listening for the
HTTP request for a device that is
joining back to the network
which is also quite useful so are we
have that here and we can say well the
online information whether it's there or
not we want to link to our present
information so that all that set up as
we go back here if you see that it
automatically already switched onto at
home because it's already checked the
phone and we should be able to use the
speaker here good and also switch the
light from yeah yeah okay so all of that
setup is working one first rule then I
want to show you the classical way which
I've prepared here it's a it's a
scripted cool with what I can do now
these devices here a lot let me go here
add that to my rules and then show you
so there's no a simple rules angle which
i'm actually leaving my home the music
can be turned off and it should actually
check if are there still any light on
and notify me and even then directly
turn it off for me to make it most
convenient okay so that's really a very
simple scripting mechanism here that you
have available if we save that and we go
back here with the music play
and now let's try to actually activates
my rifle so after at milk five seconds
that return notice it who have left the
light on I will turn it on for you okay
no it's a bit slower than I am in
turning the light off but it should do
it it stopped the music already talked
to me pretty good start i can break up
to the network at all yeah ok so let it
be a scripting world of whose but that's
something for for tech savvy people
answer not yeah not for everyone in the
end but there's a nice and mechanism or
available and open up now where you can
actually prepare such things and share
that with other users and well the use
case i won't throw with that is smart
doorbell that's why i have to toggle
here so first of all i need to define
that in my items fire i take that from
my snippets here as well and there is no
simply switch increase that switch for
the doorbell and here's actually now a
shortcut to hooking up or physical
devices so this one is using now the
serial binding and just defining the
poor to it and this will automatically
now or discover if you have short cut it
there of the pins if as i said it should
automatically reload the configuration
and actually once this turns off I know
that it's are connected to the network
so let the door there and we can go to
the resection the paper I here and they
let's create a rule from a template and
there is a template motto go which we
can select and there's no asks of
or to fill out some information so what
item is actually my trouble with other
item what is your presence information
at this one what is the light that you
might want to flash that some optional
information yeah it's here so we fill
out the configuration say okay let's go
for that and the rule is there now let's
check the were at home right now if
somebody rings the bell oh so I have my
automatic doorbell here and also some or
light notification in case i don't hear
it was a school of music or whatever and
if i'm not at home right i shouldn't
press there i should just leave the
Wi-Fi again but i'm not at home you
should have it updated they assume come
on five seconds I said okay so there's
some guests he will be scared away okay
wonderful well that's likely working
here the next cell short example is used
as an energy meter for that again I need
to define some new item i say i have an
energy consumption of my home so i just
have some number value let's define that
here and on the rules there is a
template that's someone prepared called
an energy meter so the idea is here you
want to visualize your energy
consumption in your home to a color
light queen follow right for I and so on
and so again we are asked for some
configurations of what is actually be
consumption value that's that one
which is polite to switch what is the
maximum consumption word should be a
threat that's 10 kilowatts let's put
that here and again as I didn't bring
any device that could measure energy
right now I can do so to a user
interface and so for this i want to show
you another one that exists and so
called top panel and so here I now can
play God and decide what's likely my
current energy consumption in the hole
by clicking here and you see the rule is
directly automatically working so
something in the middle it's yellowish
tone getting orange to red the more it
is that we're not consuming anything
it's green so again very very easy to
have a more complex whole being
instantiated by a regular user here
another feature hero on this dashboard
and control use the statistics part or
here we actually can have timelines of
information like when were we at home
when was our light on and so I have that
really shown on a time line down here we
have our interactive charts so with all
the three different temperature values
here now that are written directly to
the database and visualized here so
that's pretty neat okay so its last
example for the rules there is one
called fire alarm which are is also
something that people created before to
say well okay if I have all these
temperature values in my rooms and so I
might not have smoke detectors available
everywhere but if I notice that some
temperature goes beyond the critical
value then I want to have an alarm being
in there and being notified about that
again let's add whoops let's add a new
item for covering that again just switch
information so whether an alarm is on
off and this now has some special
information here in its so called a
semantic tags so it's also feature which
is rather new not not used much so far
but you can put semantic information on
your items to actually say what is it
about and so this one now says okay this
should be up this should be our started
so whenever there's anything around an
alarmed and this one is relevant this
item I thought unusually in don't
disturb mode let's go here so having
that in here we how you left the light
on I will turn it off for you thank you
very much did I just leave the Wi-Fi
since Oh mr. working wonderful and so
getting back to the rule so what should
actually happen if the alarm is
activated I can do again with a small
rule here which I've prepared so you
could have for example of directly a
siren that or is connected to this alarm
item and which will trigger something I
know again doing the alarm stuff simply
by a rule sailing okay if there is an
alarm triggered then just blink the
lights say alarm and yeah notify me that
way okay so having that we can go to up
here to the paper I back and create a
third who will hear from a template
using the fire alarm again some
information we want to have the
temperature group here and thresholds or
what should be actually the critical
value let's put 100 degree fahrenheit
here when we say it's getting too warm
okay so this one is added this is now I
activated the god mode so that it
doesn't start or continue to randomly
grades or any any values here and so I
can now change the temperatures in the
room to see the average temperatures are
automatically adjusted as well and one
of them no goes beyond one hour along we
get our our alarm automatically here
three times in a row okay and so we see
the fire alarm is activated here and so
have that also nicely in place okay and
so with this i'm actually at the end of
the demo and yeah thank you very much
for your attention
any questions okay the question is how
can you actually access then that if
you're not on your internet products I
can just let me quickly go back to not
dislike sorry to good light so the ideas
we need to have for the gateway at the
point which can be remotely access then
so you have different options you can
have the service provider like the
commercial solution from Deutsche
Telekom for example we of course have a
cloud service that allows you to
remotely connect to that for something
like open up you could do simply add in
DNS or access to your system you could
set up a VPN which is always the safest
solution or you could have a cloud
service that specifically works or for
remote proxying are your local instance
that's actually also an open source
project called open hub cloud which does
exactly that it's a small in ojs
application that you can deploy
somewhere on the web where your local
instance connects to and this allows you
then remote access to your devices any
other questions please
right
very good question so the question was I
show text-to-speech working online is it
also possible to have speech to text or
having offline and this is also
something that I am they are looking for
and would love to see that or being
integrated so far we have an interface
defined in the framework where it can
plug-in implementations but as speech
recognition is really something very
hard and specifically you need usually a
big data set to do good results on that
there isn't really anything decent I
found so far that can be integrated
there there were some initial proof
concepts using pocket things as a
software which is a see implementation
that also works on a Raspberry Pi for
some simple kind of recognition so if
you have a fixed sentencers and you more
less already know what you expect or as
an input that works offline but besides
that most good services are really only
available online indeed
you mean the end devices that are
controlled no that's really as i said we
try to support what is there what you
can buy off the shelf so it really
depends on the device manufacturer what
they offer as an integration as an API
as a protocol that left the light on i
will call it after year I turned you off
now let me kill it so yeah no it's not
that we say this is what we expect and
how it should be but there's really so
much diversity out there and different
protocols for different kinds of use
cases that yeah I don't see anything
like that happening actually for the
home that there is a the one single
standard that will be established
anytime soon okay so thank you very much
again I'm around here for further
questions and enjoy the rest of the
conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>