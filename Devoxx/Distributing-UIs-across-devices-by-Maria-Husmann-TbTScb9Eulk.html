<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Distributing UIs across devices by Maria Husmann | Coder Coacher - Coaching Coders</title><meta content="Distributing UIs across devices by Maria Husmann - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Distributing UIs across devices by Maria Husmann</b></h2><h5 class="post__date">2018-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TbTScb9Eulk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">start welcome everyone my name is Maria
huisman and I recently finished my PhD
here at ETH in Zurich I am now a
part-time lecturer with the Lucerne
University of Sciences and arts and in
this talk I'm going to give you roughly
a 20 minute introduction to the topic of
my PhD so what I spent roughly the last
five years researching and that is how
we can develop user interfaces that are
distributed across multiple devices so
we have more and more devices we have
smartphones tablets laptops smartwatches
and even TVs that are connected to the
Internet however most applications have
been built to be used by a single device
at a time but we have studies that show
that people sometimes already try to use
multiple devices in parallel but that's
not very well supported by most
applications so sure we have some basic
synchronization like Dropbox or Google
Drive and we have accounts that we can
share across devices that synchronizes
some of the data however the interaction
is still quite cumbersome you have to
copy player files into the right folder
and access them again and I don't know
about you but I still email things to
myself sometimes just so I can get them
from one device to the next does anyone
else here do that okay yeah that's
almost more than more than half at least
so why would I even use multiple devices
in parallel I can think of several
reasons so one advantage is that we can
have more screen screen real estate in
for example in mobile situations and I
took this photo of someone who is
shopping for wine on the train and
they're using both their phone and the
tablet at the same time to have
essentially a larger screen then another
benefit of using multiple devices is
that we can potentially get a richer set
of input and output modalities so here
you can see
a phone and a laptop being used at the
same time and the phone is more mobile
than the laptop it has a camera and has
touch input whereas the laptop has a
keyboard and the larger screen so if
you're working with a document on paper
for example you might want to scan it
with your phone
but then continue working with the
laptop because it has a larger screen
and the keyboard and also in
collaborative scenarios it could be
interesting if you have user interfaces
or applications that can distribute
across multiple devices so for example
that each user can work with their own
personal device or they could also work
with shared devices so here we have a
mix of personal devices like the phone
and maybe the laptop and shared devices
like a tabletop and we can even try to
identify the user based on the device
that they are using so to give you a
better idea of what I'm talking about I
want to show you three applications and
that I've built either myself or some
with together with some students that I
supervise and they're all in prototype
state so the first one is a simple
webcam viewer it shows webcams that are
distributed around Switzerland so it's
it has been built to show images on
large screens that you could for example
have in the lobby of a hotel and then
the user can control the content that is
shown on the large screen by pairing
their phone to the screen and then with
the phone they could for example select
the camera location or or change the
angle of the camera and so here's the
screen cost of the application to pair
the emulated phone in this case and I
could I'm just copying the URL but I
could also scan the code now I can
control the angle and I can also go back
and forward in time then when I flip the
phone I can choose different locations
to show
so the next application was built for
mountain bikers it's a trip planner so
Switzerland is a really great country
for mountain bikers and and there are
repositories of bike routes that help
you plan your next trip and they usually
have a lot of information so they have a
summary of the write that you could do
and elevation profiles usually there's a
map in the GPS track that you can
download and there are images maybe even
comments that tell you don't do this I
did this and it was horrible
or there's a bridge that is broken so
you shouldn't do it now so all this
information is nice to have and that
works quite well when you have a larger
device like a laptop for example but on
the phones these applications aren't
very nice to use so either you have to
go back and forth a lot or they just
reduce the information that they present
so we thought what if we take this
information and we distributed across
multiple devices and our idea was that
when you're out with your friends or
maybe with your partner for a bike week
and then you're on the train you could
just take out all your phones and
combine them into one larger screen but
we didn't want to limit ourselves to
just supporting phones we wanted an
application that can adapt to any kind
of device so for example if you go to a
hotel and it has a TV it would be nice
if you could integrate the TV screen as
well and just last week event is in the
mountain biking magazines our hotels are
now advertising themselves with having
huge screens where you can plan your
bike trip so it would be nice if such a
thing could be integrated as well so the
application that we built for this
scenario was built up from a set of
components so for example you have a map
component you have a summary component
we have the elevation chart and so and
some components are smaller like the
summary while some components like the
map or better displayed on larger
displays so we calculate the or we
analyze the components that we have and
we
look at the devices that are currently
using the application then we distribute
the components across the available
space I also have a screencast to show
you here so on the Left I simulate two
phones and when a route is selected on
the device on top it updates the map I'm
on the device at the bottom and then
when we add the third device a larger
one the elements on the interface
redistribute so the map is now moved to
the larger device and we have more room
to display to display additional
components like the elevation chart at
the bottom while everything is still
synchronized so they all show
information for the same bike route then
the third application essentially
targets people like some of you here or
most of you probably it's a IDE that
distributes across multiple devices so
maybe this looks familiar to you most
developers that I know like to use multi
screen setups to have two or three large
screens but there are situations where
you probably don't have access to that
for example if you're working on a train
maybe you're traveling and working from
an airport you're at the cafe or maybe
you're even at the clients location and
you just have your laptop but you don't
have your usual setup so for this kind
of scenario we built an IDE and that can
integrate the users mobile devices so
for example you probably still have your
phone with you so you could add that to
the IDE and what it does is the IDE can
display additional information on these
mobile devices for example if you're
writing a web application you can write
the code on your laptop because probably
with the keyboard and the typing it's a
lot more convenient than to try to cut
it on the phone but then you can have a
look at the at the output that the
actual application on the phone as soon
as you save on the laptop it will update
the phone but you could also display the
console
on the phone so now the application that
is being developed is actually run on
the laptop but you see what the console
outputs are on the mobile phone and then
if you select one of the lines in the
output it will open the editor again on
the laptop so we again decided to always
open their lab to the editor on the
laptop because that's where you type and
so it will be aware of the capabilities
of the devices you can also search so
you can trigger dessert from the laptop
you enter a keyword there and then the
results will be listed on the mobile
phone so you can have the mobile phone
visible to you value may be jump between
the results are you you click on a
result it opens the editor in the right
place on the laptop you have a look
maybe it wasn't what she was looking for
you go back to the phone select the next
result and it opens again on the editor
so these were the three applications
that I wanted to show you and now I want
to talk about challenges because when
building these um you'll probably run
into challenges because at least we had
some challenges building them so one
thing you have to take care of is
synchronizing States across the devices
so if you click something on the phone
this may have an impact on the tablet
and you some have have to communicate
this across the devices you also have to
think about how we distribute UI
elements across the devices that are
there and for example here we distribute
them based on the space that is
available on the devices that's what we
did in the Viking applications you look
at the components you have you look at
the devices you haven't that's how you
decide what should go where but you
could also distribute the UI based on
kind of the device types or capabilities
for example you could say I put em all
the same components on the phone for
example with their with the
webcam application you always want the
phone to be the controller and the
larger screen would be a viewer
application but what if we take away
your device in a situation should the
user interface adapt or does it just not
work if you come with the wrong kind of
combination of devices and and where do
you even determine that so is there a
central server that decides what you go
where or can you calculate this on the
client and then you also have to
associate devices somehow so you somehow
have to tell the system that we have
maybe a group of devices over here that
works together and then the two devices
over there form a group said there
should only be the communication among
the groups and not between them so it
was the goal of my PhD work to
investigate how we can make developers
lives easier when building such
applications and I have explored some
solutions to these problems and one
thing that can make their lives easier
is if we provide building blocks if we
provide libraries or frameworks that
abstract away some lower-level details
and I built a prototype of such a
library myself it's on github you can
see the link there if you want to have a
look it's web-based and it integrates
with the polymer framework so maybe
before I go into the details of the
library I want to quickly tell you about
Charles web technology so one thing just
looking at myself after a Windows laptop
I use an Android phone I also have an
iPad so that's already three different
operating systems so I am we wanted to
have something that works cross-platform
out of the box that it just developed
once and then run everywhere and web
technologies satisfied our this
requirement or at least in most cases
and on top of that they have the benefit
that they don't require installation so
then if you have an amp you don't have
to go install it on all devices and
they've become increasingly powerful
we now have access to the camera to
sensors and we have new protocols like
WebSockets or web RTC the main drawback
I see em for these cases that they don't
support variables very well so on or
smartwatches well yeah now let me move
on to some of these problems and what we
try to do to address them so if you
build web applications nowadays you
probably use some model view whatever
framework like rank reactor
angular view or polymer and they usually
offer some mechanism for state
management and you can hook into that
mechanism to synchronize the state
across the devices so if you have an
interaction with the view on a device
these triggers and updates to the model
you can then take this update send it
across the network and trigger an update
to the model on the next device and it
will there then trigger it an update to
the device to the view you could use a
real-time database like firebase to to
implement something like that we decided
to go with web RTC which is a somewhat
newer protocol for direct communication
between devices so the main advantage of
this is it's significantly lower latency
especially when you have the devices
that are communicating in the same room
and the server is somewhere remote and
this is exactly the scenario that we
think about when we think about cross
device applications that we have devices
that are in the same room and most
frameworks offer some sort of data
binding mechanism and we use this
mechanism to let developers specify what
should be synchronized so with our
library they can bind to this
synchronized component and then use that
again in other places so what you see
here is polymer code and it's actually
from the webcam application so there's
one part where you can select the camera
that should be shown and it binds to
this and sync
object and then we do the same with the
image and now it means that the selected
camera will be synchronized across any
device inside the two components the
selection part and the image part no
longer need to be on the same device and
the system will take care of the
synchronization for you for the UI
distribution our library propagates
information such as the screen size to
all pair devices it's then up to the
developer to decide what they want to do
with this information they can for
example show or hide certain UI elements
they can also attach roles to devices so
we have on the left side you have the
small the the phone which is a small
device and which has been added the
controller role and then we have the
larger screen which has been assigned to
viewer role and this information is
again propagated among all connected
devices and it can be used to decide
what should be shown or not and then for
deciding or or one once you have this
information you can hook into mechanisms
again that are provided by the framework
so most frameworks offer some sort of
conditional rendering in there for their
UI part so you could for example say
that the video controller element should
only be shown if we have this role that
is present so only if you have to
control the role or a video player
element should only be shown if there is
a player role present and then the UI
frameworks actually take care of
creating the Dom notes depending on if
the conditions are satisfied so what a
discharge is quite powerful you as a
developer can can essentially implement
anything but it also means you have to
decide a lot and you have to look at the
device sizes you have to look at the
device types you have to decide what UI
elements should be sure and where and we
also have created a couple of layout
place for what we think are more common
scenarios so in that case you could just
use a template and it would implement
that scenario for example here we have a
remote control pattern where we have
controller devices typically phones and
viewer devices like larger screens and
you could say this is the pattern that
my application uses and as a developer
this is the code you would need to write
so you have to wrap it in this custom
component and then you have to annotate
any Content that should go to the
controller devices with a controller
clause and similarly you need of your
class for anything that should go to the
viewer devices then for the pairing we
have implemented an approach where each
device modifies its URL and adds an ID
at the end and then when another device
accesses that URL the two devices will
be paired and we call the first device
the connected device and the device that
initiates the connection to connect
through device this information that is
in the URL can also be encoded into a
cure code so it can be scanned or it
could also be transmitted using NFC so
using the library that I quickly
introduced in these concepts and this
application was built in less than 300
lines of code and that's in the client
and server combined and here's the most
relevant code for the application so we
have the state synchronization at the
top then we have the pairing based on
the URLs we have this layout them
template with the content for the phones
the controllers which is not shown here
and then the content for the viewer the
the big screens are the viewer
essentially tooth shows to cure code for
the pairing and image itself and the
rest of the three hundred lines of code
was mainly import statements CSS and
then also some JavaScript to handle user
interaction so having seen these
examples I hope that from now on you can
see the sets
devices that the user owns as a whole
and that this maybe opens up ideas of
applications in your own domain and if
you do build something please let me
know I'm very interested to see more
examples so if you like to know more you
could read my PhD thesis if you want but
maybe it's easier if you just talk to me
in the break thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>