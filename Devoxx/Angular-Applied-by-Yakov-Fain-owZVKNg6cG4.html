<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular Applied by Yakov Fain | Coder Coacher - Coaching Coders</title><meta content="Angular Applied by Yakov Fain - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular Applied by Yakov Fain</b></h2><h5 class="post__date">2017-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/owZVKNg6cG4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Yakov fain and today we will
talk about angular as a Java conference
is kind of surprising so many people are
interested and thank you for coming but
myself I am also Java developer and
currently working on the second edition
of the book angle development with
typescript there is a discount code down
there if you are interested to get a
mere petition we are still working on
the second edition and I'm gonna have a
couple of couple of codes for people who
ask interesting questions for 100%
discount so what are we planning to do
today I'm gonna be creating an app if
you want to participate if you have a
computer with you you can we can turn it
into a workshop I'll be doing it on my
computer but I prepared instructions for
you and I'll show you the site where to
download it from as a matter of fact you
can see it down there at the bottom of
each slide oh all the slides and all the
instructions that you would need and I
will use are there so if you if you want
let's do a workshop instead of a session
what's the plan I want to show you how
you can quickly start the project with
angular major concept I'll explain you
the major concept of this framework and
then we will be applying the concept as
we learn them to developing an app so my
goal is to finish their pros in these
three hours and it should be more than
enough for this app in terms of slides I
have slides but it's going to be a
smaller portion of this presentation
most of the time we'll be developing an
app so what's angular framework we are
talking about the latest and greatest
framework from Google
which is at version 5 as of last week
and like this is what I will be using in
this in this presentation it's a
framework that will have an effect on
the front-end development as big as gel
Spring Framework head on the server side
especially for the enterprise developer
this will be the framework of choice
it's a component based framework it's
not an MVC framework it allows you to
cleanly separate code that you write and
the template a template is the UI the
user will see its support dependency
injection most of your Java developers
you know what it is it supports client
side navigation with a powerful router
client side meaning the user clicks on
the main user on the links and within
the app that is already downloaded the
user is navigated from one place to the
other it has an integrated library rxjs
even though it's a separate library for
reactive programming if anybody is
familiar with rx Java it's a similar
concept and you can program either in
typescript language or in JavaScript
language will be using typescript this
is recommended language to develop in
angular and angular itself is written in
angular and angular teams suggest using
typescript and I can tell ya I work with
angular for more than two years and it's
a great productive language especially
if you compare it with JavaScript now
let's see what it means to be component
based framework if you look at this
Twitter page let's say you would need to
develop something like this in angular
when you look at it you need to split
this UI into components in your mind
and in this slide you see how you can
possibly do this any front-end in
angular consists of components it's a
tree of components you have a top level
component which cares child components
children may have grandchildren and so
on
so in this case with this fat red border
you see a top level component inside you
have a nav bar on top on the left you
have a component for profe user profile
another component for trends in the
middle you have on top a component for
new tweets then you can have multiple
components render for each tweet on the
right you who to follow some keywords
and so on inside the inside the
component for the tweets you may have
others a component which will be like
grandchildren of the route the comments
and retweets and so on each of these is
a component when you will be developing
an angular it's very easy to split the
work between the team member each person
can develop different components and we
bring them together angular is a great
fit for creating so-called single page
apps what is a single page app it's an
app that doesn't that is not refreshed
the entire page doesn't get refreshed
imagine Gmail for example the app is in
your browser once in a while you will
get a new email so a new line comes in
in the inbox but the entire page is not
refreshed in any single page app or
s.p.a is recalled you will have an area
that may be changing not the entire page
but the area so that area is called
router outlet like in this example let's
assume that the toolbar stays the same
the Left components the same the right
component the same but in the middle for
example if you click on the
notifications menu on top the middle
portion will be changed you will see
notifications that were mentioning you
so router will replace
the content of that area called router
outlet with another component why
because user clicked on the menu item
and the app that we're going to be
building today is this will create a
simple front-end for a online store as a
landing page will look like this up on
top you have a you have a toolbar and
then you have on the left you have maybe
some advanced search component in the
middle you have a bunch of product that
are on sale in your in your online store
in this case I'm using these gray areas
for simplicity there is a site called
place hold dot it which will just serve
you a rectangle of certain sizes you
want so it's easier to to them or
something underneath you see the title
the short description of the product and
if the user will click on the title we
will replace it using router will
replace it with product detail screen on
the title that you are interested in let
the go for today
what are the main artifacts of angle
framework a component as I said that's
the main guy it's a class class with an
annotation in type scripts they call
them decorators but if you are Java
developers it's think of it as an
annotation it's a method data about your
class not not necessarily only about the
class but four components is about the
class so a component is a class with UI
where they specify UI in a decorator a
directive is also a class with a
different decorate or or annotation but
it doesn't have its own UI it can
manipulate UI of other components but it
doesn't have its own a service it's a
class it's a class where you will put
your business logic services often used
for communication with the server for
bringing data and services are injected
into your component
or into other services using di
dependency injection pipe it's a simple
function a transformer say you want to
firm it format the currency or the date
so you can use like a vertical bar which
is a pipe and then specify the name of
your pipe module angular module is just
again it's a class which lists all
artifacts that belong together they'll
belong is this module you'll see how
this works
here's an example in this example if you
look at the last line of this slide you
see that it's a class but it is
annotated with @anjghie model so in
there we have a section declarations in
there you will be listing all components
that belong to this module in this case
it's just only one app component class
in import state in import section you
will specify which other modules you may
need in yours in this case it's a
browser module forms an HTTP I can guess
by looking at it that this app needs to
use forms and it needs to make HTTP
requests if you use any of the of the
class names over here you need to import
them on top you need to say where in
which files they are implemented and the
bootstrap is the parameter that says
which component out of many typical you
have many components which one is the
main one to bootstrap the top level
components so it can bring its children
and how do you install angle and its
dependencies you will be installing it
using NPM NPM is a node package manager
so what you would need to do you need to
install node.js on your computer which
comes with NPM again if you're a Java
developer you can think of NPM as a
maven so you will specify dependencies
but you'll be installing them not with
me but with NPM nodejs the dork has four
hundred thousand or more packages that
people from around the world submit over
there as an open-source product
anger itself is there so you'll do npm
install and angular or you can use a
generator which we will use angular CLI
that will generate for us project and it
will specify a list of dependents and
I'll show you how to do this now let's
talk about versioning how this framework
is version there is something in the
JavaScript world called semantic
versioning meaning that the version of
your product will consist of three
digits the main one the first one is
about the major version as of now it's
version 5
so if version 6 will be released and
angular will be releasing version 6 in
six months twice a year they will be
releasing the next version it means that
you may have some breaking changes so
you need to be careful you need to think
do I want to upgrade to version six or
maybe not the second digit is a minor
release minor release means no breaking
changes maybe they added some feature
that every single work so it's pretty
safe to go from five point zero to five
point one and so on and the third digit
is about patches bug fixes so it's again
it's no no breaking changes over there
either again now we have five point zero
point zero package.json every project
that you will create an angle will have
its own file called package jason once
again if you are java developer think of
pom.xml this is very specified
dependencies package.json has two
important sections it has more than two
but two are the most important ones
dependencies and dev dependencies
dependencies is a list of packages with
their versions that you require to be
deployed in production with your app dev
dependency is a list of packages that
are required for developer on developers
machines they don't need to go into
production examples the last line type
script
that scripted languages will be
converted into JavaScript anyway so when
you will be deploying the app the app
will be in JavaScript even though you
write it in typescript so you don't need
it in prod machine right because by that
time you don't need a typescript anymore
and angular CLI
it's a command-line interface it is
created for helping developers to
jumpstart the app to generate the first
step with basic module components was
all dependency respected Jason and so on
so that's a first reason to use it to
quickly create a new project and after
that you will be adding component is
needed not only that even after the
project is generated you will need to
generate maybe component services you
will need to do builds to bundle up
together multiple files angle SIL I will
help you with that
it comes with a dev server so you will
be bringing the app using the dev server
that comes with angular CLI how do you
start with English install it first of
all how do you install it was NPM as
everything else in this example in the
middle you see this comment in PMI I is
the short for install NPM install this
is what you type on your command line at
anger slash CLI and minor G means that
you want to install it globally if I
wouldn't use - G it would install it in
my directory and of course in some cases
you want to have a specific package
installed for your project only in some
cases when you use tools that you are
planning to use across the project you
use my energy and of course angle Silla
is needed for multiple projects and
after you install it you will be using a
command called in G new after installing
angle CLI you will get a new command
prompt mmm
on command window and G so you'll say ng
new and name of the project and in 30
seconds maybe it'll take a minute or
here
connection is not super fast but it'll
generate for your project and we can
start it right away without your writing
even one line of code on this slide you
see all these steps mg new I will be
generating a project my store it'll
create a folder my store with files
components modules dependents in
everything in there
I will CD change directory to this newly
created one and then I will do ng sir mg
is angle shall I surf means build the
bundles for me in memory and prepares
the app by default it'll be running on
port 4200 - all means open the browser
from use Ville and after you generate
the project you'll have one component in
there that component will have the
typescript file a file with extension
dot TS you see it on the left hand side
I have a class app component in there I
have a property title initialized with
evaluate PP also in the annotation
component we specify the selector what
you can use in angle brackets if you
want to use it in HTML as any standard
tag where is your HTML is name of HTML
file C clean separation typescript is
here HTML look there and style sheets
CSS files
where are they one or more then on the
right-hand side you see a fragment of
the generated HTML file and in there as
you can see standard HTML tags and one
of them is not standard thing welcome to
and double curly braces in title this is
binding we are binding the value of the
property title from your class to the UI
so in this case it'll say on the screen
welcome to apps4rent of the title then
it's immediately through binding will be
reflected on the UI and on the localhost
4200 you will see this app running
after the app is generated you can still
use as I said angular CLI or ng you can
generate components services and so on
and GG C it's a short for ng generate
component C for component and GG s
generate service for me and again you're
going to be giving names what to
generate module director and so so angle
Silla is useful even after you'd created
the first project then we need to think
about UI we're going to be using for UI
as there any libraries with UI component
that you can use and of course there are
there's maybe like seven eight nine
libraries that people use one of the
most popular in the front-end in
javascript is bootstrap it was created
by Twitter if you want you can use it
and this is what are we going to be
using today while working on our app
we'll be using this bootstrap for at
work I used a different library called
angular material so that library M of
modern-looking components that comes
with a from angular team and I highly
recommend you to use it flex layout is
for laying out components
it's another library again from Engle if
you decide to go with angular material
library which has only like 30 or maybe
32 components for now and if it's not
enough for your app you can add another
one for example in one of our app we use
priming G as well priming G is also a
library of components for angular which
gets like 75 components so your cover
there as well and this is not a complete
list of course of the component
libraries and now we'll start hands-on
so enough talking let me do something
what I will do I will generate the app I
alternated components we will start it
and let's see how it goes down there you
see a URL for the link slides are there
so I see some people are taking photos
you don't need to take photos cuz you
will get them in a minute
if you want instructions that I will be
using are three as well so we'll I'll
show you what's in that file in there in
that instructions files I have sections
if there are number so now we will do
steps 1.1 to 1.3 from from the file that
is called my store three hours HTML and
this is what I will be using this is
next slide but first let's let's let's
do the generation I already have this
file opened actually this is a folder
and that folder shows you what you're
gonna get in angular applied a folder
slide over here it has already an app
called my store I went through this so I
just wanted I just only to have it if
you run into some issues so I will be
generating now another one I will just
will give it a different name but the
it'll be sitting here as well and the
file with instruction is here that's all
you need again I assume that you
installed election or I assume an
instruction file clearly says that you
need to have something installed and
what we need to have installed
prerequisites if you want to run it at
home is download and install the current
version of node node is a runtime that
we will be using and you need to install
angular CLI after you do step number one
install node then you will get a new
command in the command prompt called NPM
no no package manager so after that you
can install other packages so NPM
install at angular CLI minus G is what
you need to do to to get the tool the
generator angular CLI and as I say we
will develop the a little store the
front-end will look like this the front
page and when the user click on the
title of a product it'll bring a
different page with product details the
data is hard-coded in this first
so you don't need any server if someone
is interested tomorrow I'm gonna be
delivering presentation angler for Java
developers in there I'm going to be
using spring boot servers and to serve
the JSON data and this same app will be
talking to that server if we have time
maybe I'll have a chance even today I
moved over here alright so there's a
plan and now the initial project setup
we want to generate is it big enough you
can see that yes yes all right
so and gnew my store that the initial
commands that we will do so I'll go to
that folder
assuming that you that I downloaded it
from there to github repository I showed
you and what I will do what I will do I
will run this command I am in angular
plight ng new my store s per
instructions but I don't want to
override that apps that I already have
so I'll call it my store there works so
now see all files already generated and
now what happens is npm installs all
dependencies required for this project
in particular one of the generated files
is called package jason it's over here
as I said package JSON is a list of
dependencies that are required for your
app so files are generated now npm runs
reads all the dependency from package
JSON and install them inside that
project what else i will do i will while
it's installing i will open up the
project i'm using webstorm i ID from
JetBrains some people use Visual Studio
code which is free ide excellent ID as
well you can use IntelliJ IDEA if you
have it already so all the IDS supported
nicely so what I will do I will open
this project that was generated it's
still installing
the dependency but we at least we can
open up we can open up the project bees
for Belgium apply it where is that file
my store my store devoxx you know it was
just generated I'm saying I want to open
up zip directory you do the same thing
in IntelliJ IDEA if you want it and what
are we having there what was generated
there there's a SRC folder has some
classes and the module that are ready to
run the app the package Jason where's my
package Jason it's right there if you
look at it it has the same thing that I
showed you
no comment doesn't for some reason it
doesn't make it bigger you probably can
still see this
so it has dependencies sections up on
top see we are using the version five
five point zero zero and down there
generated a bunch of dev dependencies
for unit testing library Jason and karma
is a test runner at the bottom you have
typescript all that part is for dev
dependencies the other thing is that the
ide has a terminal of course you know
that integrated terminal so you don't
even need to go outside you can run all
the commands that are needed within the
IDE let me go yeah actually I see it
already here if you go back to the
command line see everything is finished
and when I say finished I mean that a
new directory is created inside your
project this directory is called node
module it's a standard NPM thing when
you install something it creates a
folder node modules and in there you
have all dependencies listed in packages
one other important file to know about
is angular CLI Jason this file is the
one that is for configuring Europe you
may need to add some external javascript
files maybe libraries you may
need to change where you build files
will go and so on angle dot angle
adjacent is the place for you to
configure will use it for bringing in
bootstrap library in here and and a PP
directory that one was generated with a
module which is right there and a
command kept component F component is
the generated consists of several files
F component OCS typescript file simple
one like I showed you on the slide was
titled yep
then app component HTML this one it's an
HTML that was generated the template for
this component for the app component
obviously what we will do we will be
replacing this template with our code we
will replacing typescript with our code
CSS it was generated but it's empty you
can put your CSS Styles in there and it
did generate file that we will not be
using during this presentation it is for
unit tests for Jasmine Jasmine framework
that is typically used with the angular
apps we will not be using it over here
so anyway the app is created generated
how do you start it as per instructions
I need to do ng sir - Bo means not only
build the bundles but also start the
browser open the browser now it's
building the bundles what does it mean
your app will consist of dozens of or
hundred files you don't we don't want to
deploy all these files in your server
you don't want the users to make
hundreds requests to the server so the
files will be bundled together so your
final app will have maybe a dozen files
total not including images of course
anyway see the bundles were created and
down there you see which are the bundles
that were created and the app is running
if I'll go to
if I'll go here to localhost 4200 I'll
see that app the app is up and running
that was a sample app that was generated
for me so what do we what do we
accomplish we generated a new project
with some simple like hello world kind
of app the project is fully configured
the project knows how to how to build
using angular CLI and how to surf it was
using their servers that comes with the
angular CLI so that was the first part
typically how we work so this app is
running and then I start making changes
all these bundles were built in memory
when I need to go to production I will
run a different command to create files
but for now everything is build in
memory as soon as I change something in
the code save it it rebuilds the bundles
and I see a new version within a second
or two so I will kill this app why
because I want to add additional
libraries from outside of angular
otherwise and after I restarted I will
not kill it again we will keep making
changes and you will see how the UI is
changing in front of you how to kill it
control C control C always works so that
part is done so we created it and
started initial app now what I want to
do I want to give you a quick intro to
typescript language how many of you even
heard about this language two years ago
anyone one two five people in the room
so probably five percent I guess as of
now as per developer survey on Stack
Overflow of this year its third most
loved language typescript it is really
good language was created at Microsoft
by under scales Berg who created also
c-sharp
Delphi what else something else so he
knows how to write languages how to
create languages at the point I can tell
you the other thing I don't like
JavaScript and in our company we did
lots of consulting projects in the past
seven eight years using Adobe flex
framework for the front end it is very
productive framework but unfortunately
it requires flash player and you know
what happens with flash player so we
started to look for something as a
replacement we tried different
frameworks with write differently in
different JavaScript frameworks and what
we noticed the productivity of our
developers drops immediately as soon as
they switch to JavaScript and now
finally we see this framework with
typescript with great support of IDE
with typing with type had help with the
compiler as you type so the productivity
is back so this is definitely the right
choice so I will just give you a brief
overview of type script for ten minutes
if you want to see a longer version I
recorded the video course if you have an
account on Safari Books online from
O'Reilly you can watch it if you don't
create a what we call a trial version
for a couple of weeks and still you can
watch it for free then so typescript is
a superset of JavaScript what is a
superset in general it means that if you
have a file written in JavaScript a file
with extension Jas if you will just
rename replace GS into TS for typescript
you got the valid typescript code
without changing one line of code and
you can compile it and you will tell me
what do I need to compile it if it was
your initial written in JavaScript
because javascript is not one thing
there is eggman script specification yes
five years six year seven with different
syntax and you may want to write in a
newer version of JavaScript and still
compile it into older one so every
browser support
so anyway it's a valid typescript valid
typescript file immediately and it
supports typings you can declare a
variable and specify of which type so
Java developers are spoiled with this
but JavaScript don't do this JavaScript
developers entire soups you can declare
variables which types but it's optional
if you don't want to don't declare if
you want to take an existing app and
declare some of the types go ahead and
do so they don't force you to declare
type but obviously it is suggested and
recommended it support typed classes
interfaces generics annotations all the
things that you know from Java in
general for Java developers it's very
easy language to learn if you'll go to
the typescript link dot org
there is a menu item called play this is
a playground you can try something in
typescript on the left-hand side of the
screen and it'll automatically compile
you compile this code into JavaScript
and you'll see media to the result on
the right so in this example you see on
the left there is a class person with a
constructor with some variables and it's
automatically compiled into Eggman
script five syntax basically that the
Java scripts that everybody is using
these days every browser supports it
turns it into a function if I will if I
was sure that my users have browsers
that support newer version of JavaScript
es6 for example then I could specify a
target for compilation year six and then
the code on the right would look
different it would use classes and other
features from JavaScript inheritance I
have a class person on the left in
typescript right with a constructor and
on line number nine I have class
employee that extends person very
similar to what you do in job the
difference here though is line number
three in Java a constructor has the same
name as claw
well in here you just need to use this
keyword constructor JavaScript if you
know or maybe you don't doesn't support
classical inheritance if support
so-called prototypal inheritance and you
can see on the right hand side a whole
bunch of code and it was that would be
equivalent of the typescript version on
the left the nature of inheritance
doesn't change so the compile code still
will use prototypal inheritance in
JavaScript but writing syntax is a lot
easier of course
and by the way ACMA script six which is
supported by the way by 95% of the
browsers these days also have these
classes not know it raises own generics
similar not exactly the same but similar
to Java generics as you can see over
here angle bracket person let's see I
have a class person with a property name
I have a class employee was a property
Department employee extends person and I
have a class animal then I declare an
array workers 913 and I use generic
mutations saying that I only allow to
put person or its descendants in there
like in Java and then I do workers zero
new person workers one new employee
workers two new animal and immediately I
get the compile time error it shows you
on this side it shows you on your in
your IDE so why because it says you said
that you're going to be placing their
objects of type person or it's or
employee for example how come you put in
their animal when I looked at it knowing
Java and I said to myself oh I already
understand generics not exactly there
are some specifics they are not exactly
the same I don't want to go into detail
if you will watch that course you will
see why but overall you can think of it
like like Java generics parameterized
types interfaces interfaces in
typescript are used for two reasons one
of them to declare a type for example if
you would need to declare some value
object
class with certain properties you
instead of declaring a class you can
declare an interface like in this case I
create interface i person with several
properties and line number six we'll
take a look
ssame social security number this is an
ID that every person in the United
States has I put a question mark in
there which means optional which means
you are allowed to create instances of
object that will not have this property
so line number nine I'll have a class
person with constructor and it it
expects the parameter of type I person
and then in line number 15 and below I
create a new instance of the object
again I declare a variable a person of
type I person and I initialize it this
is object literal notation from
JavaScript this curly brace then I
create in line number 21 I create new
person and then I can print it please
take a look I did not specify social
security number why because it was
marked as optional them that's why I
don't have an error what is interesting
on the right hand side if you look at
the generated version of JavaScript you
don't see any mentioning of interfaces
why because JavaScript doesn't support
interfaces so they will not even be
compiled they are useful for you as a
developer to help you if you make
mistakes in terms of code of types but
in the resulting code it's not there
implement similar to Java you can use an
you can declare a mean in the interface
and you can say that your class
implements an interface up on top I
declared an interface I payable with one
method increase pay and let's say we
have two types of workers in our company
employees who who get paid by salary and
contractors who get paid hourly so and
we want to write you create an interface
with increased space so we can
increase pay for all workers in our
company so is I declared an interface in
NSA in a lie number six class employee
implements I payable and I write one
implementation with increased pay
whatever is applicable to employees the
line number thirteen I create another
class that implements I payable and for
that class I write different
implementation of increased pay for
contractors and then in line number 20 I
create an array of workers of type I
payable in the first element I put new
instance of employee in the second new
instance of the contractor and then in
line number 24 I run for each loop and I
invoke increase pay on every object from
there and they'll be properly resolved
so very similar to what you do in Java
how do you compile the code written in
typescript if you'd be just using
typescript without angular help then you
would be using typescript compiler TSC
you need to install it using NPM NPM
install typescript global and then
you'll have a new command on your
command prompt TSC like in this line
last line of the slide what do I do
I say TSC there's there's T meaning
target into which target syntax you want
to compile the your code in this case I
say into a comma script five because
it's supported by each and every browser
what do you want to compile I want to
compile file main tortillas that's one
example the better choice will be to
create a file with the options for the
compiler a separate file like in GS
config dot JSON that's the name there is
like probably three dozens of different
options that you can specify for the
compiler and instead of typing them on
the long line you just put them there
like in this case I specifies the output
directory will be dist meaning compiled
all my classes into this director so I
don't have a mix between typescript and
JavaScript classes how to find how to
find
modules in your code in what resolution
to
is node meaning try to find in local
director if not found find it in node
modules and some other options that are
needed for angler specifically and
target over here by the way I said the
ACMA script five so if you have if you
run the TSE command from the directory
which has this file you don't even need
to specify any parameters you just enter
TSE it will read the options and they'll
do the job in this case it would produce
the output in the folder just do you
have any questions of archive anyone no
questions all right
so data binding a brief overview data
binding is about keeping data in UI in
sync something changing the data in the
properties of your classes immediately
we see the changes in the on the UI or
all the way around you use a user is
typing something in the field we want to
sync it up with the data on the property
of the UI the user clicked on the button
we want to invoke a method in your class
this has also done using binding in
angular it is implemented using
unidirectional binding let's look at
some examples for example if I have a
look at this line h1 it's an HTML right
header 1 hello and something in the
double curly braces
it means apparently there is a class
with a property name so whatever is in
that property will be used in in the
template so it'll ever leave the
expression or in this case just the
variable name and it will replace these
curly braces with the value or the other
example span standard HTML element span
and it has a property hidden square
brackets when you see square brackets on
the left hand side of the equal sign is
also binding binding to properties so we
are saying we want to bind the value of
a zip code well the postal code choose
the property hidden again by looking at
the slide I I understand that apparently
there is a class in this component which
has a property is zip code valid of type
boolean so if it's true hidden property
becomes true so the user will not see
the message zip code is not well if you
zip code valid becomes false hidden is
false the user will see this text about
the error now that the previous slide
was about binding from properties to UI
on this slide I show you some examples
on binding from the UI to the members of
the class the first line you have a
button HTML object and I want to handle
click event on the button handling event
in angular is just placing it in in
parenthesis so when the user clicked on
Z button
I see that as a method place bid will be
invoked once again it's Method written
somewhere in my class or input field
again it's an HTML HTML component and I
want to handle input event and I invoke
another method or if you want you can
create your own custom component or
components and you can fire custom
events if need be in this example I look
at this tag and I can guess that
apparently somebody created a component
which is price quarter component there's
a property selector they put that name
in their price quarter and by looking at
this line I understand that apparently
that component may trigger event called
last price custom event and what do we
want to do here whenever this event is
triggered we want to invoke a method
price code Helmer so that's an example
of unidirectional binding but in this
case it's from UI to the property
dependency injection anger framework
creates instances for you you understand
the benefits of dependency injections in
general in particular it you don't need
to worry about writing all these new new
new statements to create instances and
it becomes very easy to switch for
example you work with one service that
is injected into your component let's
say with a mock product service the real
server is not ready yet so you don't
have the real data so you can create a
class mock product service and it'll be
injected in your component so you can
keep working and see as a result at some
point the actual product service will be
ready that will be talking to the server
so changing one line you can switch what
will be injected so in every place in
your app that was using product service
it'll start using the Casa instance of
product service as opposed to mock
product service in angular how do you
specify what to instantiate the simplest
scenario would be to say I have a class
product service and whenever I want you
to inject this instance for me just use
this class but not always it's as simple
as that sometimes you may want to create
a factory function that factory function
can specify which object to create
depending on some conditions right in
some cases you may want to specify the
value to inject not even an object but
on value so there are different ways of
specifying what you want to instantiate
the and they have a concept of providers
providers specify what two instances in
this class they say sorry in the slides
I I see
whenever you see product service they
have a concept of token
create actual an instance of class
product service or the short notation
would be when the token in the class
name are the same you can just say
providers products service but if you
decide to switch from product service to
more product service you would change
the provider in multiple places the
Constructors of classes will have
product service choc can don't touch you
don't need to change anything in there
the fact that you change the provider
will automatically start injecting
different object into your classes and
how where is the injection point it's a
constructor of the class you have a
class with compose with constructor like
this middle bullet on the slide and if
you'll say product service off it looks
like of type product service but again
it's a token
angle will automatically see do I have a
provider do I know how am I supposed to
instantiate it it'll try to find the
provider line and let's see oh they want
me to just create an instance of
products first angle will do it and
it'll jecht it into your constructor
after that you can start using it no
need to create to use the new the new
keyword the provider you can declare
either on the components class or up on
top in the modules class if you will
declare a provider on the module level
then you technically single create for
me a singleton I need an instance of the
service that every component will reuse
it if you want to create an instance of
the service specific to this particular
component and it's children it specifies
this providers line on the component
level pretty simple syntax for that and
and what we will do actually I'll finish
this slide and then I'll start doing
things so in this case I show you a
command and ggs product - a map mattress
what does it mean ng it's a angles Li
Jing
generate s means service what do you
want to call it product it will be the
name of the class angle automatically
will create a class product whose
capital P service capital S - M means
and add provider line to the module
definition you don't have to do it in
recommend you can do it manually but
still so it will generate for your class
that looks like this on the right hand
side and in the module it'll add this
product service to the list of providers
if you want to change it later go ahead
and do this and this is a sample
injectable service for example class
product service by the way I use the
keyword expert why it's a rule it's from
Ekman script six spec if you have a file
you declare in there some class and if
you want to use that class elsewhere in
another file you need to use the keyword
experts otherwise that other file will
say I don't know what you're talking
about I don't see it so if you want
something to be visible outside you use
the expert statement and accordingly in
the other place you can use import
statement to import things from scripts
in this case I declare class product
services one method get' products which
returns a type product it's like a value
object I declared it as an interface
resolves so many fields and I hard-coded
an instance of a new product in a
real-world situation you will be making
an HTTP request here to get data but for
simplicity for simplicity I just
recorded it here and how do you inject
that service now we will we see a
component once again component is a
class with UI with eight component
annotation let's start reading from
bottom up I have a class product
component with a property product and
with constructor look at the
Constructors argument products
service when angular sees it and
understand that I want injection so that
service that you saw on the previous
slide will be instance of that service
will be created and injected into this
constructor and right after I can I can
invoke its API get product so in this
case I and will get product the result
will be placed in the product variable
and now let's move up the template the
UI that the user will see what are we
see here product details title and
binding I want to bind product dot title
in this line in the next line I want to
bind product description and in the
third line I want to bind product price
in this case I also attach the dollar
sign even though it could be done
differently in this example I'm using
providers on the component level so so
from this code you don't know if on the
module level I have another one maybe
provider maybe not but at least provider
must be declared somewhere in some cases
you may have dependencies of
dependencies and in my example if it
will be a real world product service I
would have product service and it would
need a special object from angle called
HTTP client HTTP client is an object
that knows how to make any HTTP requests
put get pause delete all then so I would
inject HTTP client instance into my
product service and product service into
my product component so this is how
typically works services are for working
with data how do you get data you use
angular HTTP client instance and here's
an example of how you could do something
like this if you are planning to use
HTTP you need to import it in your
module and you need to add HTTP module
into the import sections
section of ung module decorator you're
saying I am planning to work with HTTP
then in the product service on the right
for example you would say inject over
here HTTP client I need it and then you
start using it immediately these dot
HTTP that get product Jason in this case
or you can specify any rest and point on
your Java server or any other web server
in here so you're going to get data back
so this is this is where we injected
HTTP client into the service product
service and then on the Left we inject
product service into product component
so it's a typical situation HTTP client
into a service service into component
and then binding to show something on
the UI and now let's let's do that so
what we will do now we will continue
working as per instructions I will
generate a bunch of components for our
store and the service and let's see if
it works it will where's my instructions
mmm it's over here all right
so so what did we do so far week
regenerated a new new project which we
and we did ng serve to bring it up you
saw that hello world type of project was
big angular logo in there we did control
C we killed it why because we want to
add additional library as I said I'm
going to be using bootstrap that's
popular library with my typescript and
this is by the way an example of how
could you use one of the popular
thousands of popular JavaScript library
you can use third-party libraries with
your typescript project so in this case
what I want to do I want to install no
bootstrap bootstrap next means install
for me version 4
bootstrap it's still in beta that's why
they wanted to be with next bootstrap
has dependency on to other things
jQuery and special every called popper
so now it's installed these libraries
and so installation is done as you can
see and did I specify mm-hmm
yes I specify that so what's next when
you will be reading documentation for
bootstrap for you don't even think about
angular at all you just decided to learn
bootstrap they will tell you you have to
include into your app this particular
CSS and you have to include in your app
these particular scripts if this
wouldn't be an angular app generated by
CLI you would be just opening HTML and
you would be adding script section and
CSS in there but with angular CLI
projects it's a bit different what you
do is remember I said there is one
configuration file dot angular CLI that
jason in there there is a section called
styles so if you read documentation
about any libraries and they say you
need styles to be global for the app you
just add it to the Style section just
because I just installed bootstrap it
installed in my node modules directory
bootstrap folder and in particular has
that CSS so what I will do I will take
this piece Styles I will go to that
angular CLI
and Jason it has its own style generator
section which has just one file what I
will do I will replace this section with
the one from instructions so I added
bootstrap CSS as global now it has also
section script and again documentation
for the bootstrap says that it has to be
it has to include jQuery JavaScript
popper and bootstrap alright so I'll
copy paste and I replace the empty
the property scripts with this one so
that part is done that's pretty much it
so I added bootstrap to my project now
so what I can do now I will just I can
restart I can restart my project and G
serve theirs oh nothing will change
because because I didn't use anything
yet I didn't change anything in the UI
but the very fact that it'll start
successfully with additional dependency
would tell me that I added bootstrap
properly yes the app is running ok let's
move on and do what's required what is
required next we want to work on that my
store app which will have app component
which was generated for us already we
will change it but we have the top level
component underneath we have we want to
have a nav bar on the left we will have
advanced search at the bottom we want to
have a footer component and in the main
area of the screen we want to display
either home component or product detail
component it will be driven by the
router so we need to generate a bunch of
components and how to do this using
angular CLI I will open another terminal
window I I want to leave that service
running it alone I will open up another
terminal window and I will be running
all these commands and GG C C is
component generate for me home component
for the nav bar product item product
detail and search this option - spec
false means don't generate for me file
for unit testing I just specify it we
are not going to be doing unit testing
anyway in this session so you know one
so this copy paste each command one
after the other by the way first of all
I want to open up the second terminal
window and I do this first command done
it created for me three files typescript
HTML CSS
it updates the v-app module so let me
click to refresh
as you can see Jesus folder home it was
generated just a second ago with all
these files we will replace the
boilerplate code of course and if you
will open up the module look at this
this home component it's added just now
because I generated the last line if you
can read it update it it updated the
module all right so what else you wanted
to put a nav bar product and so on let
me let me generate all of them so the
next one will be footer component the
next one will be nav bar I decided to
call them like this it's not something
that required nav bar what else I need
search component it's all in the
instruction search and I need two more
product item and product detail product
detail is the second screen that will be
shown if the user will click on the
product title product item this
component represent one product if you
remember on the landing page of the app
you saw a bunch of rectangles each
rectangle is one product so is it a
product item I didn't do probably tell I
guess for detail this will be the last
component and we will need a will need a
service a service with the data
all right so components are ready if I
click over here look at this the module
part in the declaration section all of
these guys that I just generated are
original distance there and the import
statement were added accordingly now we
want to generate
service which has some data hard coded
data but it's still data so what do we
want to do for that and G G s s is for
service I can do it of course I remember
that but I want you to see that I am NOT
cheating and I go by the manual I want
to make sure that if you want you can do
it at home so I want to generate a
service product but if you see that some
of the services will be reused in
multiple places it makes sense to
generate it in a folder called shared so
multiple components can reuse it so a
copy/paste ctrl-c ctrl-v doesn't work
again I say generate from your service
and - me that module I'm saying take a
look it's still an old older version of
module up on top line 25 providers is
empty now I will refresh it and see
there it added products herbs in there
so I generated the service in this
shared folder
just boilerplate I mean we will replace
it anyway but at least I have it so all
these pieces fit together so what I just
did I generated a bunch of components
and one service what else is missing I
will need another class and the router I
am planning to use router what for I am
planning to use router to make sure that
when the invert that initially in the
area called router outlet the app will
render home component and when the user
will click on the title that router
outlet area will be replaced with
product detail component so for that I
need to configure round look at this
example router module for Road for it
means for route component we specify
mapping miss will we see whenever the
URL in the address bar has nothing after
the base URL like localhost 4200 by
default render home component but if the
URL has a fragment product slash and
some value let's say protocol ad one or
two or three then render product detail
component render where in that area
called router outlet that's router
configuration so what I will do I will
take this little piece router module for
route and I will copy it over into my
module and I will need to remember to do
the import as a matter of fact the ID
may help you was accessible so I going
back to router module I'm saying I am
planning to use to use the router that's
why in the import section I add that
thing alt enter and the ID automatically
added the line as you can see it it's
underlined line number 12 it's in red if
you will scroll if you'll hover your
mouse over it's not a compiler error
it's a linter error the project also has
a bunch of rules in that in that
particular case it complained that it is
using double quotes but it has to use
single quotes I have a choice either I
will disable Tia Slynt so it will not
bother us or I will fix this it's not an
error it's just about the Styles you can
specify the rules about the styles let
me change it to just single
so the redness is gone so I added the
router by the way on the other console
over here there is something where did
it find me you encapsulation no cannot
find V encapsulation in our component
let me double check number component how
it ended up here I don't know we don't
need it
see it's it's a bug actually in CLI it's
a first time as you said it this file it
in right I generated it in front of you
it is using encapsulation property I can
import it of course all to enter but it
shouldn't even be giving me this here
I thought they are fixed now but it
shouldn't be doing it let me do control
C and look clean rebuild in G surf let
me see if it doesn't build the bundles
for will give me some errors again no
now it's built no it doesn't so you
encapsulation in invariant come see this
tool generate generated this view
encapsulation I didn't want I didn't
want I don't want to talk about
encapsulation but I will tell since we
ran into it so you understand what's
going on the thing is that there is
something called web component
specification it's not specific to
angular and one of the parts of that
specification is about encapsulation of
styles within the component as you know
on the front end in the browser there is
an object called Dom document object
model it's sitting behind the UI and
it's like a tree structure so if you
apply styles to different nodes of this
object
tells me interleave and there is
something like encapsulation of styles
and in the web component spec they have
something called shadow dome I don't
know if you've heard about it but
basically a browser can put a wall of
protection so the Styles will not mix up
of this component with the rest so
angular offers you angular offers you
the zoom support of encapsulation but
but as I say
CL I generated these lines but it forgot
to generate import statement for us as a
matter of fact I don't really need to
fix that because I will be still
replacing this boilerplate anyway whose
these components but I'm just telling
you so there are two cases easier it
removes this line review encapsulation
will do me or do an import let me leave
it alone
I will replay this code anyway but but
but what is important to know what I
want you to do to see if there is
something out of ordinary I am expecting
to see an app here but I see something
else what do I do I open up Chrome
developers tools and in the council I
see it it tells me what's wrong so if
you don't see something that you expect
in the browser go to menu view developer
developer tools and you will see the
panel with the sources you can debug him
there you can see the network traffic of
course and you can see the errors as
well so I'll leave it alone again
because I will be replacing this
boilerplate and code anyway so what I
just did
what did we accomplish so far from our
instructions we generated component we
generated one service and we configured
rounds only two rounds are here
typically in a
your world app you will be starting with
asking yourself what kind of navigation
do I need to specify for my for my app
you may have multiple routes in routes
can be sub routes and so on it's a
pretty big component router I can talk
about it for two hours just about the
router pretty powerful thing and it
always keeping think the URL the
fragments of the URL and the component
the corresponding component alright so
this is this is what we just did and now
let's dark slowly let's start slowly
replacing the code the generated code
was real one first of all the app
component that component in our case it
has typescript and it has HTML and it
has CSS file three separate point this
is what I want to be this is what I want
to have in the HTML file of my app my
app component is a top level component
and let's see what do we read here it
looks like a bunch of HTML tags but not
all of them are standard tags look at
look at the top one app navbar where is
it coming from guys what is that
yep navbar anyone the component that I
generated exactly when I didn't write
the component it has a property let me
go to navbar navbar component if he has
a property every component has a
property selector whatever word you put
in there you can use it as a tank
elsewhere in HTML so that this thing you
know what let me let me fix this box
it's annoying it's not not my bug but
let me fix it anyway
and now it complains about you each one
product yeah in every component to that
is this line it shouldn't be there
save a product item and where else for
the full res folder searching for a
search
and footer right there if anyone has
questions please let me know I'll try to
answer or everything is crystal clear no
something else what sales no bar now let
me try to control see and restarted
ccleaner error report it's a very good
question are there some tools to migrate
from older angular to the newer one
theoretically yes if you will read
Google's documentation they suggest
something called in G upgrade it's not a
tool it's a path it's a matte
methodologies they say what to do and
they say initially you would run two
versions of the framework within the
same app and gradually you would be
replacing pieces from the old version
with a new one so if you search for ng
upgrade
there is one ideally if you can rewrite
it from scratch if it's not a huge app
it's not always the case sometimes you
cannot do this
why because you may have an app running
in production and you still have to
maintain the app you have clients you
cannot just say stop and come back in
three month so you have to so in that
case you would need to gradually replace
pieces of your app round by round but
you accept for some time you'll be
running two versions in parallel on the
coin so we still have errors these
errors are where these errors are in
their code would they put what
epidural epidural has all these it's
right there
router module I imported it over here
and I added the I added the route
configuration of Brazil okay let's do
that's the one thing before the break
and during the break I will clean up
this is the rest what else I I wanted to
show you in this code we will be
replacing components bike after
components so in this case you see that
epenow bar at the top at the bottom I
see app footer this will be my footer
component in the middle I have a div
with container and this class row
whenever you see CSS over here this CSS
is from supported by bootstrap library
in particular bootstrap library has
something called flexible grid system
any UI that you have you can think of it
that as if it has 12 invisible columns
and the whole idea is they want to give
you something that is that allows you to
create apps that work on different
screens different sizes and you can
specify again having in mind this fact
that any screen has 12 counts you can
say that in large screen I want to give
three out of twelve columns to the left
nav bar for example and nine to the rest
so for smaller screens you can specify
no I don't want to give three and nine I
want to allocate them one under the
other so you can read about the grid
system I think I have a link over there
but I just want to explain you when you
see this screen and you see something
like this call em g3 and call em D 9 c9
+ + 3 is total 12 what I'm saying is
assuming that you have 12 columns I want
to give 3 of these columns to
to the search component and the rest I
want to give it to the area router
outlet so by looking at it at this I can
guess that search component will be
always on the screen
taking 25% of the real estate in terms
of width on the viewport and on the
right hand side will be my router outlet
router outlet can will show either the
home component or the product detail
component so one by one what you will be
doing you will be replacing like in this
case I'm right in this manual take app
component HTML and replace its content
what what are we having there for now we
have something that was generated for us
by angle say like I don't need I
replaced it now I will take the the next
part would be mmm
the next part would be the next part
would be to to see this screen to see it
works I have a couple of errors that I
will fix and now it's a good time to
take a break let's take 15 minute break
and after the break we will continue
from this point on let's continue so as
I expected when I was quickly replacing
these broken and broken view
encapsulation in one place I put the
wrong import that's why it gave me
errors and also I wanted to say there
are two gentlemen in the audience who
came over and pointed me that I put the
wrong import so you guys will get the
discount to get the book for free so if
you will stop by after I will give you
the code so anyway so what we have now
since the error was fixed in that view
encapsulation this import statement was
incorrect we have the app that looks
like this
navbar work search works full reverse
and so on
this is all generated this is not
written by me when I was generating
components it would generate HTML in
each in each of these that says footer
works were over here home component
works so we will replace these fake HTML
with ours so gradually we'll see how the
app works but even now you can see that
up on top there is a place for the
navigation bar at the bottom for the
footer on the left for the search
component and on the right by default
for the home component so I'll keep it
running and let's and we'll move on with
the code changes so what what did I do
right before the break before the break
I added to the app component no to the
app component HTML this little piece but
I don't mmm
but the navbar is not ready that's why
it says navbar works instead of showing
some nice now bar so now when we will
replace the content of HTML for the nav
bar component you will see it on the
screen and if you'll go by instructions
I should have it somewhere there so
right now we are at this point and we
see the screen as expected now let's
take care of the nav bar component now
bar component in this case I just copy
paste it in nav bar standard nav bar
that comes with bootstrap if you will
follow this link you will find they
ready to go bootstrap so they suggest to
take it and then replace with the menu
items whatever you need so I just a copy
pasted it from from that link from that
link and I will check this code
obviously it's not the navbar that I
want to see in my
little store but at least you will see
that it works so what I will do now I
will replace the navbar component HTML
it's content that was generated for me
was this one save I don't know if you
noticed as soon as I saved at the bottom
you see how it recalculates recompile
and rebuild the bundles so if if I will
go back to the browser
where am I am running my store the air
box as you can see up on top I have a
toolbar yes this toolbar is not a real
one but at least it's a good place to
start I will not touch it but as you can
see we added it next let's move on by
instructions then we did this part the
next part is yes I show you that we see
this navbar it yes it support themes
right now I was using light light
background for the navbar but you can
change it easily by making a really
small real small change for example this
is from bootstrap so light bar if I
would change this to blue or red
actually there are different words for
this for the theme you will see
different colors next let's let's copy
paste the code for the search component
in this case once again I don't have
time to to explain the forms API
I'll just tell you the big picture
angular offers you really good support
for forms and most of the enterprise
apps require works or form which works
angular offers you to api's one is
so-called template driven api and the
other one is called reactive api in this
example i use template driven api what
does it mean it means that you don't
need to write
code in typescript the entire form with
additional features offered by angular
is done in template in this example once
again I'm not going to go through the
details but as you probably know any
form on the UI should have some model
behind it some object is property so the
user fill out the form and the
properties are changed accordingly
so this ng form is a directive from
angular if you use template driven form
what else you give names for the model
anger if you use this API angular will
automatically create for you
the model object behind the scenes that
will hold all the value from the form
how how do you how can you access them
by giving names to each field CI say
name title name price over here name
category and behind the scenes angular
will create an object with these
properties corresponding to the UI so
anyway so I will just copy-paste it if
you want to have more advanced work with
form and typically what we use we use
second API second API is called
reactivity API you have to write a bit
more code you have to create a model for
the form on your own you will create a
new instance of the class but it gives
you a lot more flexibility you can
create and dynamically assign custom
validators as a matter of fact you can
create them over here as well but it's a
bit more recording you can create
dynamic forms say for example you have a
form with a field enter your email what
if the user has more than one email to
enter so you want dynamically keep
adding components to the form reactive
forms API has these features so pretty
powerful but in this example again I am
using template driven API so I don't
need to write any code in the
in the typescript so I'll just take this
HTML and copy paste it into search
component HTML in this field in this
form I have the title field so the user
could enter the title and find the
product by the title I have what I have
price and category we will not be
implementing this for but at least it
will look nice a search component where
is that search component right there so
search component HTML no this is the
typescript right now it has generated
code but now I put it put this and once
again the bundles are originally built
in memory if I will go back and see how
my app looks now and you see it doesn't
look any how so what does it tell us it
tells there are some errors so I need to
open up the console and see what errors
are there and the errors are their
status 404 it cannot find it doesn't
understand what is ng form because ng
form is not something that HTML knows
why because I didn't forget I even put
it in the instructions that you will see
four or four but if you remember in the
beginning I said in the module if you
need to work with forms at four months
if you need to work with HTML and they
should keep image so I did not add form
support in the modules that's why it
complains it tells me four or four and
if you will read instructions I believe
I described it over here
yep the browser stopped rendering the
app right it doesn't know what is ng
four so we need to add it to the module
we want to say yes I am planning to use
forms in my module so add it to the
imports section in the H and G module
decorator let's go let's go and find our
module file see for now I have only the
browser module
and the router module now I will add one
more the fourth module once again you
know you need to import it see it
doesn't know what it is old enter or
write it down manually these Reds are
not because I make mistakes but it's
because T is lint by the way if you want
to turn it off file preferences hair
languages framework typescript and
somewhere down there if you open it up
and it doesn't open up for some reason
which I don't know why oh it's right
there
CTS lint it is enabled I will disable it
so it will not bother me but it's not a
good idea to disable and this project
was generated with a bunch of rules that
identify a nice style you can add the
style based on the rules or preferences
in your organization and TS lint will
help you will help every developer to
make sure that they rides a proper code
ok so let me go back and see how my app
looks now yeah it looks nice it's now it
looks much better see now I have navbar
on top and on the Left I have my form so
far no home components it still says
homeworks and at the bottom you can
still see footer works alright getting
there
moving on this is exactly what we see
food component is very simple typically
you put copyrights terms and conditions
something like this in there so I will
copy paste this little code and I will
put it in the component HTML and once
again take a look I give class call LG
12 it says take all 12 columns on the
large displays so where is my footer
mmm component stop on top footer
component HTML says now footer works we
will replace it save it
precompiled right and we will go back
and let's take a look
you see footer right what our components
which says copyright my store 2017 that
part is done let's move on product
service now we need some data we need
some date first of all I have a service
with hard coded data look at this I had
a whole bunch of JSON hard-coded in the
class product service and I defined two
methods in there get product if I want
to retrieve all the products for my
homepage oh and I have another method
called get product by ID
if ID will be given to this service
it'll return only one product when do I
need that one when the user will click
on one of the titles in the product on
the homepage of the product
I will pick that ID and will pass it
over to product detail and I will invoke
the method on the service called get
product by ID technically this is a
place get product by ID or get products
where I would be making HTTP requests in
a real world app but over here for
simplicity I just created an array
product and I return it right from there
like in this example see I returned
product product is an array with hard
coded data it's Jason
in case of get product by ID what do i
do i do find inside the array i try to
find the product that has the ID
whatever was given to me as an argument
and what do I return in in a method get
product I return an array of type
products product and get foreign body
returns just one so I need a value
object right of type product I need to
describe it
so that's why before taking care of the
product service I want to create a type
I will create a file product es where I
will define the product type which will
be returned by the functions so how to
do that I want to create it also in the
shared folder where my new where my
product services right and I right click
new typescript a file I will call it
product and I will paste this code I
declared it is an interface I could
declare it as a tight as a class as well
but the thing is that JavaScript doesn't
support interfaces anyway so if I
declared it as an interface during the
compilation of the code JavaScript will
have no even no mentioning of this guy
and if I have multiple classes like this
just to define a value object it makes
sense to declare them as interfaces you
will still get help from your IDE if you
make mistakes if you pass your own
properties or so or wrong types but the
resulting code will be smaller because
these this piece are or similar pieces
will not be even compiled it wouldn't be
a mistake if I would replace interfaces
class over here but again I would have
more code generated in the JavaScript
side so I keep it there now
product/service
we need to replace this empty one which
will generate it for me with the code
that I just showed you I will check the
whole thing the whole thing and I will
copy paste it into the product service
instead of that by the way I want to
mention one other thing
you have a class that needs to be
injected typically we mark it with the
annotation at injectable it's needed for
angular for generating some metadata
there are certain things when you may
skip it but general rule just put it
there so we have service and we have
product right let's go back let's see is
there any difference in the app itself
not just yet not just yet
it says homeworks the question is who is
using our service what we are planning
to do we are going to have a home
component and in there we'll have a
bunch of these rectangular pieces each
of them is product item components so
what we will do now we will make sure
that home component invokes the product
service retrieves all product and then
we'll give each and every product to
product item component for rendering so
far we didn't do it yet so let's let's
take care of the home component I
believe this will be the next step no
product I think sorry home component
will get the data and will be passing
them to the product item component now I
want to say about communication between
components there are multiple ways of
communication between components if you
have if your app is a tree of components
the question is how a component a can
fetch the data to component B there are
different ways to do that and the nice
way is to create loosely coupled
components so component a doesn't know
about component B but still they can
send data back and forth there are
different ways of doing this you you can
implement the mediator design pattern
and I believe I have a couple of slides
on that and as a matter of fact 1.7 step
1.7 should be done after I will give you
just a little bit of theory so let's go
back to slides and before dealing with
product item component we will talk a
little bit about inter component
communication first of all you can think
of any component in angular as a black
box imagine that this black box has some
entry doors or input properties through
through these entry doors this component
can receive data from its parent in our
case home component will be passing data
to product item component in some cases
a component needs to send data out let's
say I have a component that connects to
a server to get stock prices the
component gets
stock prices but that the only thing
that it can do so what it can do but
what else it can do it can send this
data as an event through output
properties so output properties like an
black box
output doors through this output doors
the component will be sending data to
the parent and these are two annotations
that we can use with component eight
input if you think that a component has
a property that and the value will be
given from the parent market with
annotation at the input if you want a
component to send data out create a
property market was at output and use a
special class called event emitter the
component sends data out by emitting
events events can carry a payload for
example I can receive a price quote
above the stock and I can send an event
last price for example custom event and
inside of that event I can put the
actual data the symbol of the stock the
price of the stock and so and this Court
shows you an example of how a parent can
bind data to the child
input properties in this case it's an
app component let's read the code and
try to guess what do we see what do I
see I see that it's an app component it
has a properties is talk of type string
and it has some method on the input
event let's read the HTML and try to
guess again what's in there what do I
see in HTML in the template property I
have an input field where the user can
enter the symbol of the stock say I want
to get a price for Apple and I will
never change event happens when change
event happens when I move the focus out
of the field say I entered IBM tap out
or click somewhere else and change event
happens
change event happens and I invoke the
method on input event passing the
standard Dom event from the browser own
input event get this event and assign it
to the property stock the property stock
will have a value say I enter IBM so
what happens with this property look at
this I use this property in other
component angle bracket order processor
I can guess once again yet apparently
there is a component called order
processor and by looking at these
properties in square brackets
once again Sprayer square brackets on
the left side of the equal sign means
binding we are binding data to these
properties by looking at this line I can
guess that order processor has stock
symbol property marked as at input and
it has quantity property marked as at
input so I'm binding the value of stock
whatever user entered so it'll jump
right inside of the child component and
I bind 100 in this case say I want to
buy always 100 shares of the stock to
the property quantity
now the child how the child will receive
the data from the parent
this one is order processor that you saw
that was used in a previous slide and
let's look at it class order component
it has a property quantity marked is at
input and I also have stock symbol
marked as at input but in case of stock
symbol I decided to use a setter not
just a regular property but a setter in
JavaScript that would be set space and
stock symbol in there I do some business
logic check if it's not undefined what
do I do I print something on the console
and I assigned the value whatever I
received to the stock symbol property
with underscore typically we name
private variables with underscore stock
symbol is here and we bind the values to
the template of the child component
justice to to make sure that we received
properly so through input property this
component is getting the data what if
you want to send the data out using
output property how you would do
something like this once again loosely
coupled component let's go slow once
like back this order component it has no
idea who is gonna give the stock simple
to buy and the quantity right it's
absolutely the loosely coupled you can
reuse it anywhere else in this case I
show you how a component can send the
data out once again this component has
no idea to whom the data will be sent it
just shoots the data out in the air
whoever wants it let them get reusable
component so in this example it's a
different example
it's a say we have a price quarter
component we have a component that knows
how to connect to some stock exchange
and get the latest prices maybe every
second see this 1,000 milliseconds so in
this setting
interval I want to repeat this code
every second
obviously for simplicity I don't connect
to any stock exchange what I do I
randomly I used math.random I randomly
generate prices as if they are coming
from somewhere so what do i doing inside
set interval I again this code that you
see over here will be repeated every
second
I declare variable price quote of type I
price quote what is I price pool by the
way on the green on the right I define
the interface with two property stock
symbol and latest price I create an
object I assign stock symbol whatever I
received or in this case it's IBM
hard-coded and I randomly generate price
and this line look at this this dot last
price Amit I fire an event and inside of
that event
I put an object with the value IBM and
whatever price was generated for me i
omit how can i emit what should i do to
be able to emit i need to declare a
property and i need to mark it as an
output this is how i say that through
this variable i will be shooting out the
data this variable has to have a special
type called event emitter even the
middle knows how to emit or dispatch or
fire we use generics right to say that
we will be a meeting specific object or
specific type i price code once again
it's on the green and if you have this
object we can invoke emit on it the name
of the variable that you use becomes the
name of the custom event so the parent
component should be listening to last
price event this example this slide also
has some other useful thing I mentioned
it but I didn't have to show it I didn't
have a chance to show to you but now I
can see we generate a price we generate
a price
which will have multiple digits after
the decimal point
but it's about currents right so we
don't want to throw the 10 digits after
the decimal point so we can use
so-called pipes so angular comes with a
bunch of pipes which are transformers
for matters or you can create your own
custom types if you need to so see we
have price inside the curly braces
double curlies which means binding but
you say not just wrong with the price
but take it through the pipe give it to
the currency currency knows how to
display different currency types so in
this case it would be throwing me
dollars and two digits after the decimal
point so pipe is a vertical bar so
that's how to send the data out now how
the parent can receive the data that can
be coming from a component this slide
shows exactly that once again let's try
to read and guess what's going on in the
template I see that my component has a
child price quarter the guy from the
previous slide and we are listening to
the last price event it's a custom event
right
so whenever we will receive that object
we want to invoke the method handler
price quarter handler and we person
event what's nice about it is that event
handling Dom event handling or custom
event handling is exactly the same you
always put parentheses around the event
name and you always get an event object
in case of standard of event it could be
different properties but in my case I
decided to have two properties in the
event once again coming back a slide I
create an object that will have stock
symbol and last price so whenever this
event is received I invoke my handler
this is a method handler and look at
this in the arguments I also use type
this is not possible in JavaScript but
in our case if I make
mistakes I immediately get help from the
compiler very similar to Java so I say
I'm gonna get an object of type I price
quote from there I extract stock symbol
and light last latest price assign them
to the property of this class and bind
them to the UI this is how parent can
show that yes I receive the price for
IBM and this is a price any questions so
far in which constructor the question
was that I have all some logic in the
constructor which is normally not
recommended yes if the logic would slow
down the processing in this case in this
particular case I invoke asynchronous
method set interval it will not slow
down this constructor a bit it will be
invoked asynchronously so yes if you are
a purist you can say how come you could
do this but if you're not it doesn't
affect you can enforce in the company of
course the rule never ever anything in
the constructor but in this particular
case it's not having any negative input
now I just give you like a really super
high-level overview of how components
can communicate there is the design
pattern called mediator which is
probably the most important patterns for
any framework it is using UI regardless
if it's typescript Java swing or Java
effects whatever mediator is a person in
between or an object in between imagine
you have a family with teenagers they
don't want to talk to each other they're
arguing so the sister talks to mom and
mom passes over the message to the
browser right so in this example mom is
playing a role of a media
Eider so components meaning kids can
still communicate but they do this
through the mediator and in this case
these components can have a common
parent mom in this case so if you look
at this UI I use all these figures but
it's a typical UI of any app you have a
component if some container within it
you may have another container which has
components you may have standalone
components and so on like in this case
number one is a top-level container
which has number two which is a child of
number one number two in turn has two
components four and five six is an
independent component and so on so now
the question for you guys how the number
seven can send data to number six they
don't know about each other how it's
possible anyone number seven for example
in Europe needs to pass some data to
number six how to do this you are too
advanced for this talk this you said you
can do it by service this is the next
slide and you knew about it that I will
have it no let's say we don't know we
want to use the mediator when components
have common parent you don't know
anything about services anyone yes very
good from 7 to 3 from 3 to 1 and from 1
to 6 look at this number 7 knows how to
do its thing it has no idea that it's
sitting inside the container number 3 or
anywhere else it'll say it'll get the
price quote it'll shoot it down in this
particular app numbers 3 will receive it
send it over number 1 will receive it
and using binding to properties of
number 6 will pass it over so this is
how this can be done if components have
common pair which is not always the case
and as
somebody mentioned a second ago we can
use services but first let me finish
with parents as a mediator typical
situation you have a parent component
and two child's on the left you have a
price quarter component imagine that I
am a trader I look at the screen
financial trader and on the left hand
side prices are flashing blinking
whatever the latest price is of the
stock that I am monitoring and at some
point I like the price I know where to
buy so I click on the button by what
happens is price quarter component
doesn't know how to buy just know how to
show prices so I click on the button buy
it suits out the event with the data add
component receives a data and using
binding passes them over to other
component one component has no idea who
gave the prices but it knows how to
place orders right so this example shows
you mediator implementation through the
common parent not always component have
common parents so let's look at this
picture so more generic and universal
way of arranging inter component
communication is by using services
injectable services on this diagram I
show you this the scenario where number
five should pass some data to number six
and number eight as you can see the
number five six and eight don't have
common parent end in this is this is
very very realistic situation the thing
is remember I said we have a router
outlet area and in that area we can show
one component or the other what if I
need to pass data from that component to
the other the thing is that initially
say in our app we display the home
component
Prante component is not in the picture
it doesn't exist it doesn't exist on the
dom when the user will click on the
title home component will get destroyed
detached from the dome protocol
component will be created and rendered
so that's a scenario where two
components don't have common parent they
don't even exist at the same time so
using parent as a mediator is not a good
idea in this case so what can be done we
can use an injectable service so in this
case number 5 6 &amp;amp; 8 may get the same
service injected moreover we will be
doing injection in the constructor so I
don't even care if at this given time
number 8 exists or not and number 6
exists or not at some point that'll be
created as soon as it created it gets
injected this service in the in in the
service you can put something so number
5 can put something in the service in
the injectable service and whenever 6 &amp;amp;
8 are created the service is injected
into those so the service becomes a
mediator so it's much more flexible way
to do something like this I don't have
time to show you in detail examples but
I have a I record some videos on YouTube
you can find it if you will go by my ID
I specifically recorded like 20 25
minutes video explaining and show you
the code how to implement this
communications through the service and
navigation with the router navigation
with the router again I will just touch
the surface the surface when you have
when you need to do routing and you
always need to do routing when we work
with single page app the whole idea is
there the code is downloaded as a
computer it's on the client already we
don't want to make
quest and refresh the patient on every
move on on every click that the user may
do so what we do is we create and we
declare in the area called router outlet
by using this tech router outlet and
closing router router you can style it
using CSS the way you want and only the
content in that router out that will be
changing the toolbar stays the same the
left search bar in this example stays
always the footer states but that area
will be changing moreover you can have
more than one router out on the page but
if you have it you need to configure
rounds in the beginning we added router
module dot for route and we said if the
URL has nothing in the client portion of
the URL render home component if there
is a fragment slash product / ID
rendered for detail component they would
be rendered in this green area one at a
time and this slide show you a sample of
route configuration we did it already
when we edit this we added this route
configuration in the module directly but
typically and realistically we have a
separate file in there we declare all
the route and then we import these
routes declaration in the module there
is I need to mention this anyway there
is another consideration how can you how
should you build an app on the client as
one module or as multiple module and the
answer is as multiple modules of course
modularize Europe don't create a huge
app the whole idea is to make sure that
the landing page of your app is loaded
as soon as possible that's why there is
no reason to bring the entire app if
there is a menu that the user may not
even click on
so router in anger support so-called
lazy loading of rounds so which the code
of this so what you need to do you need
to split the app into modules for
example you can have shipping module all
functionality about shipping your
product product billing module all
functionality about the billing module
so when you start working on a project
you need to ask yourself how can i split
my app into separate modules you will
have root module always plus you will
have some future modules after that you
can decide do I want to load them
eagerly whenever the app starts or I
want to load some of them lazily that's
the second question but yes you need to
load you need to split your app into the
modules and make sure that the root
module has the minimum just the core
functionality so the uploads right away
there are really good techniques of
loading other modules asynchronously
behind the scenes you can specify pre
loading strategy all all is it there but
just an advice split your app always
split you up into module okay so in the
root module if let me go back a slide
again so if we had routes configuration
in a separate file
I created the constant route and I
invoke router module for routing here
and I export this variable see I am in a
separate file then I need to import this
routing variable in the module or share
Jesus instead of placing router module
for route inside the module itself I
import it from a different file and
let's say we say we want to support for
route we added router much we did
configuration of the routes
and now we need to add something to cui
what what if she will click on this link
if we wouldn't be using angular if you
if it will be a regular HTML app we will
be using anchor tag a tag right with
href and in there you'll specify the URL
but that would be requiring
communication with the server we don't
want this instead of href look at this
up on top I use a directive router
linked in square brackets and what do i
bind to it in the first a link I am
saying whenever the user will click on
the home link renders a component that
was configured for the case for the case
where there is nothing after the service
portion of the URL if the user will
click on the product detail link renders
a component whatever was configured for
the slash product fragment and so on so
the user will see the links standard
links but behind the scenes the angler
will tell which component to render and
the component is already loaded on the
client once again this is a router for
client side navigation browser has no
idea about all these fancy router linked
and square brackets so by the time the
application is rendered rendered it will
be compiled into pure JavaScript and all
these angular things such as router link
and square brackets will be replaced
with standard a travÃ©s so if he will
just open up the browser's the chrome
dev tools in the elements tab you will
see that during the runtime there is no
trace of router link there are standard
route href
passing parameter to around make sure
let me go back a slide see in this
example I have two links on top home and
product details if I'm moving from the
home component to the product detail
component to show details about some
product obviously I need to pass an ID
of a product typical situation not only
you need to be able to navigate using
the router but you may need to pass the
data over as you navigate so this
example this slide shows a configuration
with the parameter so once again let's
let's look at the rouse configuration
for empty fragment you render home
component but if the URL has a fragment
products less a value then rendered
product a component so in the router
link down there we specify when the user
will click on product detail go we'll go
and render component which is marked
mapped to product and pass one two three
four over as a parameter in this case
for simplicity I use hard-coded one two
three four but it could be property ID
value and so on and we will do it in
five minutes while generating the
navigation in our store so this is how
we consent so the router will go to the
product detail component and it'll it
creates actual special instance of the
object called activated route which
always knows what route is currently
active and this one two three four will
be placed inside that activated round so
the other component the destination
component will go and say I'm expecting
an ID give to me to the activated route
so the next slide shows you how the
destination component can get the value
that was passed to
so what do you say what do you see here
throttle detail component has a
constructor and inside the constructor
we say - angle please inject an instance
of activated route I needed I expect
some souvenirs and from there once again
there are different api's but what we
are saying route that represent this
activated route it has a property snap
snapshot which has a property per our
maps and we say I expect a value under
the name ID so what do you think will be
the value you given the code in the
previous slide what will be the value
here 1 2 3 4 of course so this is how
it's gonna get this 1 2 3 4 so we
previous I knit to some variable in this
case I bind this variable over here just
to show that the navigation went through
fine and the data is received okay so
now let's go back to our store where we
are we created did we we didn't create
we didn't finish this we need to finish
the home page which will display a bunch
of product item instances and when the
user will click on the title inside the
product item will ask the router to
navigate to product detail that's the
plan
so steps 1.8 to 1.10 of the menu so
let's go back to the menu 1.8 product
item component it's a one rectangle that
represent one component so let me copy
paste the code and then I'll explain you
what's what is this code about so this a
part that I highlighted is going to
product item component dot TS type
script piece we are going back to the
product item component this piece was
generated we don't need it we'll replace
it with
with Michael as you can see on line 11 I
have a property marked with with an
annotation 8 input so you can guess that
apparently a parent component will
provide a value of type product who is
the parent the parent will be the home
component for these product lines now
you I this product item supposed to show
somehow the information about the
product right and that's the next piece
next piece in the instructions we use
standard html5 text figure which allows
you to specify an image and some text
figure is for an image and fig caption
is for the text under the image instead
of real images I am using this nice
handy site called plate called dot it
it's very nice site that allows you to
to get it uses gray squares of the size
that you specify so in for prototyping
is it's very convenient instead of using
real images so in this case I'm saying
give me a square of types 320 by 150
pixels so that will be my image right
now what else look at this piece I have
a title product title product title once
again in the typescript piece we expect
to receive the product object from the
parent product club that has different
properties one of them being title so
what I'm saying in HTML I'm saying over
here
show me the product title but it's a
part of the link a tank inside that link
I am using the navigation with angular
router I am saying go I mean change the
URL to be product followed with product
ID
that's exactly what we configured for
the route so now this title becomes
clickable and the router will see what
should I render if I have products less
one two three four oh I should render
probably tail fine
so it'll replace product replace home
component in the router outlet with
detail component up on top not up on top
over here I show the product price using
pipe whose currency and over here I
shall throw this short description
so that's HTML for product item
component going back product item
component product item works
no no more recipes record is recompiled
but I don't expect to see anything new
in the store why because the I didn't
finish the home component home component
is the one that will use the service
that will grab the data and pass the
data to product item component so the
next step is to do the home component
any questions so far
no questions very good either you are
too smart or I am doing a great job you
pick all right so now the home component
actually one more thing i mmm I want to
add just little margin I will have a
bunch of these rectangles I want to add
some spacing around it so this is I
added some simple styles for the element
of type figure I need to put it in the
product item component CSS somebody
asked me during the break oh man what
happened
something is miss for matter let me do
it again
I don't know why there it's not what oh
of course of course I'm pissed I'm
pasting HTML into a CSS file stupid me I
didn't copy it properly yeah that's
better alright still we don't we won't
see anything new on the UI until we will
finish the home component now the home
component check it out I am injecting
our product service right in the
constructor of home component and in
there I make a request to get product
and now I can enter the comment that I
had earlier about placing or not placing
the code in the constructor in this case
I am using a method and G on init anger
comes with a whole bunch of so-called
lifecycle hooks that are invoked at
certain place in particular
ng underneath is invoked after
constructor we have the property of the
component are initialized yeah that's
why I put the code to make requests for
data in the ng on it it will be called
on my component by angular
ng onin it is a method that is typically
used for fetching data and this is what
I do over here
so I invoke get products hopefully the
data will come back I have hard-coded
data and I will place them in the
variable product which is a array of
type product right and then I'll use it
in the HTML but first let's modify the
typescript so this is a home component
that TS
home component somewhere up there yep
home component that yes this was
generated piece I replace it with my
code and now HTML HTML so this will be
the HTML for the home component let me
explain you what's in there ng for this
is a directive from angular that know
how to loop through the collection of
data and repeat fragments of HTML let's
see I have a div and I'd say ng 4 let
product of products let product means I
declare local variables to use in the
loop to iterate the product product is
an array that we declared a minute ago
inside the component right there and
hopefully it is populated with data so
I'm saying I don't know how many
products you have but for each product
for each product it renders this dip so
it'll repeat it for each and every
product so what do we see here inside
the product inside this div I have my
product item component and I am passing
the current product as we iterate
through the array of products we are
passing for each for each app product
item we are passing one particular
product what else isn't here and I
already mentioned that before but let me
do it again and I actually I I think I
have somewhere and note in there
call SM for l LG for md for this is from
bootstrap
you can specify different layouts for
different sizes of the screen for
example small is is I believe a device
which is 600 or less pixels with
medium is don't remember
I think 1024 with pixel something like
this so you can specify a different
number of columns for different screen
sizes but the point is that
mg4 is a directive that loops through
the data and render this piece the piece
where it's declared in class row it's
also from bootstrap so let's go back and
make it HTML of the home component
homeworks no more save now I expect to
see a different UI let's see if this is
the case my stored a rock and this is a
case see that
so it'll loop so what happened home
component got the product service
injected it invoked a method get product
received an array of products right and
inside of HTML using ng for asterisk ng
for it rendered these pieces it happened
to be six products that's why it's
render six it will be more it will be
more do you have questions so far no
look at this remember I said that the
product title will be a link clickable
link right with the router and it is the
link you probably can't see but all the
way at the bottom you see the URL under
this link localhost will do hundred
products where zero if I will go over
here its products last one I'd probably
want let's try to click what do you
think I will see if I will click on do I
see anything yes or no
what exactly I will see a message
product detail werkz
that's what will generate it for further
details click see the router outlet area
was replaced the the product ale
component was rendered it's not exactly
what we want to see but the whole
mechanics works right do you understand
how it works I hope so so what's left we
need to replace the product detail it's
a piece of cake let's do it let's go by
the book I explain a few things
a little bit over here and we see
exactly what's new I have this little
sidebar explaining these call the same
call LG and so on I also want to tell
you once again we try to use angular
material components not bootstrap we use
in our real-world projects we use
angular material library and for layout
and for responsive layout we use a
library called flex layout so you use
these two instead of bootstrap okay so
anyway so our screen looks beautiful you
can't argue that but let's see if it's
responsive right so this is what I
suggest you to do in the instructions
let's see how what will change if the
screen size is different screen width
what if I will look at this store in the
smartphone let me go back where is my
store I will open up the chrome dev
tools and in there this is an old
message no worries let me reason
in here you see this little toggle
button toggle device toolbar I click on
it see it shows me for the size 320 by
578 this is how much my app will look
like product its actual why I'm a my own
throat it works
let me go back to the home Kampala tech
show see look at this on the small
device it'll be allocated one before one
below the other
or let me change it a little bit let me
pick iPhone six-plus still it's not big
enough let me pick iPad pro see now on
the iPad pro it'll look like this you
can even try to play with landscape and
so on you can enter specific sizes if
you want so you can always check how
it's going to look like on different
devices it is important and I suggest
you to have on staff a web designer who
prepare for you the prototype for the
site and not only for the desktop
version typically you ask for three
prototypes how it looks on the big
screen on the small screen small is iPad
and on the on the phones okay so we are
fine for now and now we need to finish
the probably tell component protocol
component is pretty simple it's pretty
simple what what do we need in there the
probably tail components supposed to
receive a parameter remember we click on
some product title and we are passing
product ID to this guy
this parameter during navigation with
router parameter are passed through that
activated route component
in this case I am injecting it right I'm
saying you're gonna need it and also
what I inject I inject my product
service what for so protocol component
can make a request and receive details
using the API get product by ID remember
we have it in the service there are
different ways of doing this if on the
home component I would have all the data
about the product
I could I could have just passed the
existing object product to this guy so
it will not need to request the services
data but over here for exercise I
decided to inject product services role
so the product so this component is
saying give me the product ID parameter
I am expecting something in the product
any property in the activated route it's
gonna get it and it will invoke the
method get product by ID on the service
this is how it's gonna work
that's the typescript piece and then
we'll do the HTML portion product detail
component which is there replacing the
code saving recompiled and now HTML HTML
is also pretty simple i used again
figure class title will be shown here
price product description we had short
description now we have long description
product rating and categories which
category it belongs to by the way take a
look in this li i create another list
and inside of that li i use ng for again
i don't know how many categories is in
this particular product i loop through
that array to render them as a item in
the list so this is going to be my UI
for product detail
product detail component HTM oh let's
see if it changed the UI the stores here
click now see the details it works
and finally this is this is all gray I
want to make it a little nicer so what I
will do I will just add just a little
bit of styling this is a figure a Czech
figure element I will just color them a
little bit first of all I will add some
one relative item on the top for each
four elements I want to make them blue
and for h5 elements I want to make them
brown I have them over here ch5 are
these and title is h4 so I will just
copy paste this piece in the CSS of the
component CSS of the component is here
save see it's even show you the colors
the ID I'm going back here it fails the
compiles he doesn't like something
copy-paste here one doesn't belong there
see see now it's beautiful look at these
colors it's not gray anymore
do you enjoy do you like the UI come on
guys you like three hours ago you didn't
even know anything about angular now the
app is working hmm it's perfect
different story
thank you very much thank you see ya in
my my opinion it's pretty impressive not
my work but what you can do obviously
need to learn these things but it's it's
it's productive framework I mean people
who move from Java background to
JavaScript background they suffer and I
was one of them
but moving to typescript is different
story
I mean it's very natural for us we
understand what's going on and one
gentleman during the break mentioned
this tonight also think it would be a
pain point CSS so most of java
developers have no clue what it is how
to make it nice all these rounded
corners and how to style it and it
started two different sizes of the files
and it doesn't fit you will spend some
time in there but typescript is very
natural so we are done we're done with
this part I just want to tell you I just
want to tell you that we can change this
app to remove hard-coded data about
products and to hit it hit the server
actually I'll be doing this tomorrow and
I will repeat this a short version of
this presentation tomorrow during the 45
minutes lot but in there I will start
the spring boot server and I will be
hitting that server but I want to tell
you how you can do this because I
prepared the instructions for tomorrow
short session as well and you have the
code already and you have instructions
but first before I mean showing you
where you can find them let me ask you
this we created a product service with
hard core indeed if I will ask you what
do you need to do to hit the server to
remove hard coded data what would you do
let's think about product service what
do we do with the
hey we hard-coded the data in there and
we we inject it into component or
components right if what would you need
to do if I will tell you you know what
Java guys created the server for us now
we can grab the data from their normal
no need to know need to use hard-coded
data
what would you start with what
yes recipe I know I understand that its
rest they would give you endpoints
similar to this one like slaves Product
ID or slash product so what would you do
safe chickens I've heard the world
inject that's correct
first of all I would create another
class remember I said the dependency
injection allow us to easily switch what
to inject imagine that whatever we just
did with the product service was a mock
product service and now Java team tells
us we have a real thing great so I will
create a new class I will generate it or
create it real product service I will
not have anything hard-coded in there
there are two methods get product and
get product by ID in each of those you
said correctly we would need to make
HTTP requests HTTP GET we know the end
point right so in that real product
service we will need to inject HTTP
client and on that object we will need
to say HTTP GET and hit that endpoint
the rest remain the same of course given
the fact that you have the server up and
running and now let me show you where
you where you can see that and do it on
your own at the end of this all these
instructions
I have PSS
if you want to run the server version
you need to open up the folder angular
for Java depth in there
there is another file with instructions
and in that file and you have it if you
will download it recall handout from the
get from github there is a folder angle
for Java depth this is what I will use
tomorrow and in there there is a file
called my store spring bootie HTML I am
using ASCII dogs so these instructions
start with I mean this part is the same
but it starts with how to start this the
spring boot server there is a folder
server in there it's ready to go very
simple spring boot app so open it up in
IDE in your IDE or just run on the
command line MV and spring boot run and
it will start the server with on port
8080 with the data which is exactly the
same JSON it'll return and then again
you develop this part you understand
already and this all this is the same
the only difference will be with the
server see product service the interface
product is the same but look at this
this service will not have hard-coded
data anymore we inject in there we
inject a HTTP client over here scissors
and then we use it if you want to go
through this file I also want to stress
that I am dealing with a special
situation which we always use during
development we have a rest server
written in some technology let's say
spring boot up and running on port 8080
on the other hand I have a convenience
of my little
they have servers that comes with an gun
the one that was doing all these builds
hot reload and everything I want to keep
it right so we have a situation and what
is the situation I have a local little
dev server that builds and served my app
on the port 4200 correctly and I will
have a rest server on port 8080 my
spring boot server right so now we have
a situation that kind of violates
so-called same origin policy meaning
what my app came from the server on port
4200 and if I will start making requests
to the other guy to the other server
that runs on port 8080 we got a
situation
it's not allowed unless that server will
configure special headers or an easy way
out is to create a nice and little file
called proxy config in the angle project
and started with this proxy conflict
saying whenever you see certain fragment
in the URL for example slash API and
James Lafleur slash API then redirect it
to the localhost 8080 where you
Springwood runs and now we resolve the
situation what happens is the server at
the transom port 4200 sends me the UI I
hit just server back but since the URL
has API slash something that dev server
talks to the spring server which is
allowed and this is a typical scenario
how we work in this what I suggest for
you to do have a rest server somewhere
and have your own dev server that serves
you in your apps and bills and
everything do you understand this I
explained this in here in the in the
instructions and if you want by the way
back in March I think
there was a dev axe us endemics yes I
was delivering a short presentation
anger for from Java developers it's
recorded it's on YouTube it's like 45
minutes and I was explaining that
example I'm telling you as if I don't
want you to come over tomorrow to my
presentation so I mean there are plenty
of nice speakers so go there especially
you're in all this material but what's
that presentation I explained all this
with spring boot and web dev in angler
any questions the question was if I have
a contract using swagger can you
integrate it easily the answer is yes
and as a matter of fact I need to
mention another great product yesterday
these guys did the deep dive most likely
there will be some video maybe they will
do more there is a product called Jake
hipster have you heard this
so Jake hipster is a code generator that
generates angular on the front spring on
the back different architecture you can
generate monolithic app on the server
you can generate micro services I mean
you name it doc your deployment it is
really good product is an open-source
product and I recommend you to look at a
Jake hipster and they use figures under
the hood as well no more questions yes
how do I do back easily just I go to the
browser I go to the browser
I have something broken of course
let me see basically what happened is
when you it was not me no my wife was
not broken my airport works fine let me
turn off the thing when you generate
bundles in Engler it also generates
so-called
resource map files if you look at the it
doesn't show it doesn't show here no but
it does generate source map files
what are these files for they are used
to map the source code in typescript to
source code in JavaScript so when you
load the app source Maps comes in when
you open up the chrome dev panel and you
see the typescript code and you just
place breakpoints in there as it was
normal ones even though it runs
JavaScript it also has the source map so
you just debug typescript inside the
browser console you would need to go
somewhere here to the sources tab and
under the web pack web exit by the way
is a use under the hood to use the
bundle called the web pack I mean
English 11 generates somewhere in there
there is a folder that looks like empty
if you'll scroll down you will find the
code of your app with SRC and the app
and all the components are zrc
and typescript you can put breakpoints
in there just as you would with
JavaScript even though trans JavaScript
so you can debug it nicely really
convenient this is what we usually do so
do I have anything in there I already
explained you all that if I have a
couple of more slides explaining HTTP
client and I yes
you observably mean see I didn't have
time for this
to mention this but there is a library
called rxjs which is a included with
life with angular and all HTTP requests
returns you unobservable and you have to
subscribe to there are different types
of built I don't have time with you but
that's all thank you very much for
coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>