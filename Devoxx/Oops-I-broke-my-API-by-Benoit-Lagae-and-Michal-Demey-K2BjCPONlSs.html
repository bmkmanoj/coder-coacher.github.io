<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oops, I broke my API by Benoit Lagae and Michaël Demey | Coder Coacher - Coaching Coders</title><meta content="Oops, I broke my API by Benoit Lagae and Michaël Demey - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Oops, I broke my API by Benoit Lagae and Michaël Demey</b></h2><h5 class="post__date">2016-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/K2BjCPONlSs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome everybody to our talk
we are i text and we broke our API last
May and we would like to talk about you
about our experiences our preparations
the mistakes we made the mistakes we
could avoid and everything related to
that so talk is called of course oops i
broke my api this is michael and the I'm
benois we are we will try to guide you
through this entire talk we have five
important questions that we try to
answer beforehand and during and
afterwards first of all for you to know
who are we what is I text and how did we
break our API what does it mean when you
break your API of course is short
definition then Michael will talk about
why you should break your eye or why you
may want to break your API at any point
and I will then take over again to say
how to break your eye or how to broke
break your API or at least how to avoid
breaking your API when possible and if
you have to do that Michael will take
over again say when when you want to
break your API how would you do it and
when you do it so first who are we or
what is ITEX at least I ethics is an
open source library and licensed under
the GPL for creating processing and
manipulating PDF files in Java we have
broken our API on several occasions so
the initial release of i Tex was I text
appoint 30 and 2000 we broke our API is
on to further occasions in 2009 we as
switched our licensing our license our
open source or open source software
license we went from lgpl to a GPL and
in order to notify our users of that
change we broke our API deliberately
then afterwards we had an undelivered
broken release because we didn't check
for it correctly whether we were
breaking it then we didn't know
api change in 2013 for a 5.3 for digital
signature functionality in our library
and now recently in May as I said
already may 2016 we wrote our rewrote
our library we're over we rewrote I text
from scratch and so we were not
backwards compatible because there was a
lot of craft let's say in general in our
legacy code which was very old some of
parts were very old so we decided to
throw away and just make a clean break
we're not the only ones who broke our
API so there you can see a number of
other projects that did the same thing
at some point or another whether
deliberate or undelivered so we're going
to use those as some kind of guidance
for us and our talk about what we learn
from their breaks and their lessons we
didn't learn as well what exactly is
breaking an API the it's tight very very
deeply into the concept of backwards
compatibility which is of course the
ability to execute input designs for an
older version of the same program there
are a few examples with which you are
very familiar of course the Java
specification anything you wrote in Java
1 dot 0 or 1 dot 1 at any point should
still run on any JVM so that's the basic
concept there's different kinds of
compatibility backwards compatibility or
cross compatibility as well first one is
binary compatibility for the compiled
file to be able to run on multiple
systems of or multiple versions of the
same system there's also a source code
compatibility for which the one which
with which you're probably most familiar
where you may have to recompile your
file or your input files but you do not
have to change your source code just the
compilation process has to happen again
and of course a big one which is maybe
overlooked sometimes behavior
compatibility that your behavior when
processing the input file or documents
etc is the same of course the third one
is covered by testing unit testing
bounine testing integration testing
anything the other ones need a bit more
specialized approach yeah so now we're
going to look into why you should break
an API but our reasons to do it and why
did we break our API so first off you
have involuntary API breaks sometimes
your API gets broken for you by third
parties a familiar case that I text was
accounted a few years ago is bouncy
castle bouncy castle is an open source
library that deals with the encryption
and hashing and in a certain point in
time android added bouncy castle to its
to its system and every android system
shipped with bouncy castle but because
of the way that bouncy castle is
organized structured and we can't have
to a version of the same bouncy castle
of two different versions of bouncy
castle on your classpath so that means
that if you have an ITEX application
running on android it breaks but you
don't know why it took us some time to
figure out what happened and luckily the
guys at dance acaso already solved this
issue and they renamed their version
it's now spongy castle it's functionally
the same thing as bouncy castle they
just move it to another namespace I
think it's org dot of combat gag or
something and but it works I text on
Android uses the the api's of spongy
Kazan side bouncy castle and it works
but this is an example of somebody else
breaking your API for you because it's
also partially partially due to how
bouncy castle structure of course and
then an i text we have an example as
well um we have we have moved from two
to five we changed the license agreement
the licensing s permit told you and some
people like that some people didn't and
people that didn't like it some of them
made a fork of i text and call it i text
for and that's okay the licensing allow
set you can fork open source projects of
course but what i did is they push this
fork to maiden under are a group ID and
this was not allowed by the apache maven
guidelines this is strictly disallowed
so it took some time for us to to come
across this issue until some customer of
ours mentioned that i text for was
giving him some issues but we never had
an i text for solution so what we did is
we took control of the group ID and we
pushed everyone who is on my text for
and
even to i-65 this breaks a lot of things
because as been already mentioned and
the API broke from three to five just
because we changed the name spaces all
those people were angry we got with us
because they automatically updated to to
the next version but yeah this isn't
really our fault and we never really
wanted to have an i text for on Maidan
just want to that fight x5 and so people
are angry at us and out that the real
culprits so um this is another example
of somebody else breaking your API for
you but in our case we had to deal with
the mess they made so what can you do
your for breaking the API unpossible
yeah that's very simply put of course um
but how do you do it and you use
internal reimplement ations you we try
to fix your problems your bugs or a
reimplement ation of something i use an
internal re-implementation do not change
api that is exposed to the public yeah
that's an obvious one you just add a
second method with the same
functionality and you deprecated the
older one but sometimes functionality is
exposed without you actually knowing it
or it's an oversight i text isn't an
architecture that's been around for for
16 years now it's at from 2000 and last
year a user came up to me and said I use
tables and I do this with the table and
i get an error and i told them yeah
you're not supposed to do that but it
was a public method so we weren't really
able to change it without breaking our
API so what i did was i updated
documentation I deprecated it and I
added the bug fix as well because the
customer still had to work with this
solution of course so but defecating old
methods and introducing new ones that
leads to redundancy another example of
redundancy is in the PDF specification
I'm not going to bore you with details
but you have operations that you can do
and that's line operation stacked up
text operations and one of the
operations that you can call as a fill
operation and in PDF syntax that's an F
an uppercase F was used in the earlier
versions of the specification and other
case in the later versions the uppercase
ron has been deprecated since well it's
still you can still use it and it's
forced Oracle reasons because of the
backwards compatibility that's PDF
guarantees but it should be no longer
used but it still is and it still is
functional so redundancy is one of the
answers that you can use but it can get
painful xfa is the first example I'm
going to talk about it's a forum
architecture and PDF you can have two
different kinds of forms the PDF on a
static on is dynamic and the dynamic
corner is the x fa one is based on XML
very briefly it's to xml that work
together it's one describing the
template of the of the form just this is
a field as a field text field and then
another xml that describes the data and
at runtime a PDF viewer like adobe
reader will merge those two together and
you can have a dynamic form that can
grow or shrink depending on the content
of your data XML one of the main issues
with xfa is that we at least think is
that xfa is very convoluted you can do
one thing in many ways for instance
adding a text field can be done in nine
different ways for instance and it's too
much to complete to complex in such a
way that no vendor not even us
implements the ex a face back completely
not even Adobe does it completely so um
redundancy yeah sure but to an extent in
Python 3 um you have it's more about
Python to impact and read relation
between to invite until you had like
template strings and u hadlay solar and
strings it's somewhat similar to swing
that format in in Java with a percent HD
and they had the summer a similar system
and Python too but it was a bit messy a
bit disorganized and people really had
to learn how to use and get get get to
noted to the difficulties of it and
fighting 3d through that out it made it
really nice they redesign that system so
they broke the API but what I did is
they backported the functionality of
fight and three to fight them too so now
you have two systems living next to each
other one is deprecated or should be
deprecated and the other one is the new
one that leads to a confusing situation
an i text we also had some redundancy um
one of the most obvious examples is HTML
worker some years ago Bruno our original
developer he valid HTML worker to p2 I
text and its original use case was to
just port very small HTML snippets to
PDF like a one-liner of a paragraph it
with some attribute set to it yeah you
just bar set to an I text object and
added to the document
but people start abusing it and start
demanding having bigger HTML status to
be supported or functionality more more
more bigger faster but that was not the
intention of HTML worker so um but we
saw the need we created a new product on
top of a text 8x5 at least the name is
XML worker it's a generic way of parsing
XML to PDF we provide one implementation
that's HTML it's a very basic
implementation of HTML to PDF but it
works and it's a service / serves its
purpose but hTML worker is still around
its deprecated but people still use it
instilled amount of us to to to extend
to to work on it but we can't do that we
deprecated that once you deprecated
something it's best not to touch it
anymore so um yeah we're not doing that
anymore but we focus on XML work around
on the future another example is within
our own API of I text um a night x5 we
had we had the rendering so solution we
had a few runners next to each other
that people could use depending on
situation that the day the day that they
need but they did the same thing
functionally functional wise but there
were subtle differences that you had to
know you could know this by reading
documentation but it was very specific
and customers are not going to read
pages of documentation and you know that
so that was a bit messy and we
constantly call ourself educating the
user on the sole differences between
between the two rounds rating systems
that we had so for I text 7 we said yeah
we don't want this anymore let's have
one rendering framework that's nice and
clean but to do that we had to break our
API and remove the redundancy and
present in 8x5 so you can also break
your API in response to advancing
technology for instance the PDF standard
it's a standard that's been around since
late 90s about 20 years now so it's
changed a lot one of the things in pf
specifications set at the PDF file and
the early versions could not be more
than 10 gigabytes which is ridiculous
it's it's not enough but in later
versions they change this to one
terabyte and how did it is was by
compressing the contents inside the PDF
there's the table that's as you
you can find object one at byte offset
10 and object to 200 can be found out by
its offset 2000 if you structure your
table differently you can make sure that
you can go beyond the 10 gigabytes but
this required an epi breaking change in
PDF and all the PDF viewers cannot read
the doer PDF files that are bigger than
that use the system and our bigger than
10 gigabytes so you have to adapt and
have to make sure that you can follow do
the new revolutions in hardware as well
so how do I changes you have the
processing power that increases for
instance we all know that hashing and
encryption algorithms day by day they
rely on being secure and processors that
get better and stronger and faster they
can break the algorithms and when an
algorithm breakers breaks it's best to
to just deprecated it and use a stronger
one this has an impact on digital
signatures in PDF because you have to
keep on top of your game you have to be
sure that the technology I use that the
algorithms that use day they still
should be relevant should be working for
instance shall one it's not that secure
anymore it's best not to use it so the
PF standard should move forwards and
other standards using algorithms dealing
with encryption hashing should move
forward that's also a reason to break
api's but yeah you have to keep looking
at it um internalization is also
something everybody knows esky it's it's
it's a Western text format system but
it's not sufficient anymore we want to
talk to people and Asia and two in Japan
and China Korea that that s key is not
enough for that we need Unicode and
invite them to depended heavily on S key
for instance and they moved luckily
towards Unicode and Python 3 but that's
that's also an example of breaking your
API or at least your underlying
structure that we use um this might be a
surprise to some of you but you can
change change your API as strategy there
can be economical economical strategy or
just a two bdr competition a fun example
is PlayStation Xbox and then any
home console games that you can have
some of you might know the PlayStation 1
worked with CDs to worked with dvds and
3 onwards worked at blu rays and the
second flow station was compatible with
the first place issues games and the the
first iterations of the PlayStation 3
console were also compatible with DVDs
and CDs but later versions and from 4
onwards only workable erase that might
be a technical strategy because it might
be a bit more work to do at DVD support
and CD support and support the old API
set the playstation 2 sdk of course but
it might also be in the strategy
strategy dealing with financial business
um why should you support an older
version of your system if you can have a
new system that just releases new games
under the name of old games under the
name of HD remastered or 4k or whatever
yeah I fell for this trick as well I
have four copies of Final Fantasy 10 at
my home so no shame yeah but this can be
a strategy and it worked for PlayStation
and Xbox and they happily take advantage
of advantage of this another strategy
can be to reduce server load the api's
of twitter before 2013 were very
insecure and you're very easily used and
abused so there was all of spam a lot of
calls being made to her and everybody
who was on Twitter before 2013 knows the
fail will luckily the past few years the
fail whale has been flown far away and
we haven't seen him anymore so they
changed their API Twitter and included a
waste to authenticate yourself to
authorize yourself and to register
applications and that is a breaking
change in your API but it allows you to
reduce your server load and to make the
experience for customers more yeah user
friendly of course and the last one on
the slide is a very interesting one this
is one to really read out your
competition so sharepoint 2013 is a new
version of sharepoint a few years ago
and the previous version 2010 had an
implementation an architecture setup for
plugins you could add an i filter and
that could you could do all kinds of
things in files
if you would search for a file your i
filter with extra details extra metadata
and such I worked great we had There
Were vendors for instance Adobe foxit
reader they had special plugins for for
PDF processing and parsing and they
worked perfectly fine but time in 2013
this functionality was removed to PDF
microsoft added the native support for
pdfs and destruction this function was
just removed from 2013 effectively
rendering the the the computational
useless yeah this can be a strategy if
you want to yeah just read out your
competition by changing your API sure
how effective it will be but yeah you
can go and then why did we change the
ITX design so this is from five to seven
so as mentioned five it built upon i Tex
to nothing change functional you eyes
except for the namespaces so the design
that means that the design was still the
same as it was in two thousand not to be
disrespect this respectful towards
pronoun but he's a self-taught developer
he says this constantly himself and the
design since 2010 has not been changed
every wasn't much better developer now
than he was back then so the butter
design hasn't changed nobody ever added
deprecated democrat methods to the API
and we did add the delicate tag to
everything but we never removed those
methods so the deprecation tag didn't
really mean much up until now for us and
what also happened is that because of
the open-source nature of i text and
because of the it was more of a hobby
project and it's in start it was a bit
yeah how should i say very very lucid
informal and we had an organic growth we
had a lot of contributors pudding code
into i text from left and right and for
some contributors that wasn't a lot of
communication in between the stoop for
instance you can have forms in PDFs as i
told you before but a night x5 there is
a bit of a convoluted system we have to
form models and a night x5 the planning
of where the form came from if you
create a new form then you have one
model and if you read an existing PDF or
the form for a form fields inside then
you have another model and those to work
independently of each other in at least
five and there is no way to combine
these two this is a bit ridiculous
because yeah a for model shouldn't
really care where it came from the
Nightosphere ichu that out and we just
have one for model that can be filled
out can be created from very creative
PDF file whether you read in a new PDF
file so that's um let's redesign your
api to be a bit more clear more
user-friendly because it doesn't make
much sense to your customers to have the
text field that accounts use it and then
when you mandate read the file yeah that
doesn't also mean that we threw out
everything we have a new code since a
few years that we reused for instance
evan well already mentioned it but we
broke our API in 2012 11 something like
that to improve PDF digital signal
signatures in 2011 or something around
that time the european union came out
with a guideline around surrounding
digital signatures it's called pas des
it's a very interesting standard but i
text five before the change wasn't able
to support badesh signatures so we had
to rewrite our digital signatures
implementation to support but as this is
an this is another example of breaking
your API because of external feature
external factors you can't go around the
european union's guidelines of course so
we did redesign that we reuse that code
is nearly the same we just moved around
some parts to make more sense but it's
almost identical at least in
functionality and the world has changed
since 2000 and since 2000 i don't think
anyone could have imagined 16 years ago
that everyone here in this room would be
sitting here with a mobile phone in his
pocket that is stronger than some
computers back then so yeah if we come
back if we apply this to i text Nigel
Bruno Bruno did not foresee that I text
could run on a device that's as small as
your hand I text five Jarvis monolithic
it was one big jar filled with classes
filled with methods and I Android has a
limitation at least bird X file that you
can have only this amount of classes and
methods there is a way around that but
you can't go telling people that want to
use your product from hey you want to
use I text yeah sure use this work
around on Android at least another three
ebra
to change our ITEX design to accommodate
accommodate these people so what we did
is just make a text more modular that
they can cherry pick whatever
functionality in it and they can just
drop out to the rest of I text so it's a
smaller footprint and a smaller
application Android so how do you break
your API you probably don't want to but
if you do when you do what should you do
to limit the damage and what exactly
should you try to avoid one thing you
should do if you have to break your API
is use semantic versioning or in general
in your project you know you probably
know that's the XYZ notation major
version minor version and patch version
worse so it's not very another very good
idea to include breaking changes in for
example as PHP did in 5 to 25 or 50 for
so it's happened multiple times or was
also not a very good idea unfortunately
we like bouncy castle but their release
strategy was at this point not very good
they said in their change logs for the
release for 146 they said well the next
release is going to be 2 point 0 and
that's why we're going to break our API
that's when we're going to break our API
it's going to be going to be great
everything is going to be fine and now
currently five years later there at one
point 55 the API has been broken so in
one point 47 but there is no such thing
as a new major release so it caused some
confusion if you say oh wow a new
version of bouncy castle is coming out
I'll just check it out and all of a
sudden your code doesn't compile anymore
it's probably going to turn you off of
the of the projects so or at least make
you hesitate about well maybe they'll do
it again and my code will be broken
again so what actually I text does is we
try to be we keep the same version even
though there's new bug fixes and new
stuff coming out on bouncy castle we we
still are at least 48 x 5 on one point
49 I guess right and this one yeah and
fri dec seven as well because you
it's not like they've broken our trust
but it's gone you know dangerously close
especially for bouncy castle is a
security cryptography library you don't
want surprises there in general and
especially in this case you know you
want some predictability part of the
problem with bouncy castle is of course
is that it's an community project and no
one is really well there is a there is a
foundation let's say and they're taking
a leadership about funding etc but about
the technical stuff I am not aware of
any you know clear leadership or goal
setting or where should we go from here
strategy and if you don't have that then
well things like this might occur and
then so you probably want to avoid that
if you want to avoid that it should be
smart from the get-go if you want if you
don't want to break your API the best
thing you can do is have a good design
from from the start like for example
spring did so the big conversion from
spring to to spring three was the adding
a ditz annotation support but the good
thing about spring too was that it was
already the XML configuration was
already very future-proof was very well
written so they only had to add another
way to make the configuration just no
longer XML will then go through go to
annotations so there was no need to
break your API so that's that's great
you know the that's the kind of thing
you really want unfortunately reality is
sometimes as michael already said
catches up to you when he drove an
awesome in that I think it's 1989 came
up with you know the original idea for
Python I think I don't think he could
have foreseen the concept of Unicode I'm
actually not sure if it already existed
and only gained mainstream traction in
the late 90s early 2000s so it was
impossible to foresee that so the
reality changed you know the emerging
markets of for example eastern Asia and
the rest of the world they also you know
the manager share the demanded support
rightfully so but that's the kind of
thing he couldn't first see at the time
because people were happy
to be able to communicate over the
internets you know as a concept they
weren't thinking about writing Hindi or
Arabic or at least not in the Western
world of course another one the the
print statement well it used to be a
print statement was changed in Python
342 a function that is probably just
some design decision maybe he original
designers never even thought twice of it
and then you know 15 yearly 15 years
later comes back to bite them to say hey
you're not being consistent and those
kind of weird small decisions can catch
up to you and at a very unexpected time
or when you realize well this was a
mistake it's you know it just happens
that's the kind of thing you just have
to deal with and then it might be time
to break your API but one you want to
avoid it there's several ways this is a
java audience so i've only focused on
java tools so you had you have clear
which is a plugin for your continuous
integration server we can just you know
run an extra maven plugin profile and or
maybe just included in your quality
control like sonar cube something like
that there's also if you have like if
you already have a release ready but you
haven't outputted yet you can also just
do the do it if let's say an API diff
between your two versions and the sky
can be done with Jayde if it's very
handy you can you know give out support
and then you realize em that you may
think you're a good programmer but then
those weird little things come up and
say well this breaks your API for
example adding constructors that's or RM
and of course more obvious stuff like
like removing classes but also very
small things like changing return types
of methods that can break inheriting
classes etc this can be the kind of
thing you never think about unless it
happens to you so in order to avoid
having to do this all manually at the
the best thing is probably to do is to
use a tool that can think for you
another thing to try to do is to avoid
being a moving target I text
both aight x5 and I tech 7 rely for a
certain specific functionality on apache
commons imaging at some so they haven't
made a release yet there's no release so
it's just a snapshot version you build
from source and then or you just
included in your code as an a it's under
the apache license so they just open
this was this year i guess they said
well we're just going to only going to
support java 7 and up it's you know
sensible in a way but anyone that you
know already use your code also has to
move to the java 7 of course that you
know maybe trivial for most of you but
if you have a library then you have
sometimes you have very conservative
users you know there was in 2009 or 2000
then there were people really really
hating the facts that i text moved to
java 5 even though java 402 was already
deprecated since I think 2006 so yeah
you have conservative users if you're in
a library don't want to you know get get
in the way of your users so please avoid
doing this of course they haven't
released yet there is no real thing you
can you can hold against them but also
because it's an open source project but
it did bother us for a while we actually
asked them to release for java 5 and
then you know for any further
development go to java 7 they refused
righteously so but you know we could
have we could ask we could only ask as I
really mentioned PHP it's easy of course
to to make fun of some of the less
savory parts of PHP but one of the
biggest problems i already mentioned is
that if you have no leadership same
thing happened at a certain point with
the bouncy castle there will be breaking
changes may be in minor versions there
may be ways those things you haven't
foreseen if you don't use the right
tools and then you just released a minor
version turns out that you broke your
API because sometimes you only realize
that after user start complaining and
then you know of course it's too late
one of the things we did for I tech
seven so was a big project to redevelop
I tech seven we took over two years and
the what we try to do is to keep
everything internal until we were
certain of our API because the the
biggest problem with having an API is
that it has to be consistent and that
you have to document it anytime you
write examples for an API it's going to
be obsolete in a few weeks you will have
to reach Ainge that every time and every
time so we at the release time we were
sure that our API was more or less
stable that's you know at least we could
say well maybe we'll deprecated
something in 701 and then remove it in a
text 8 but we had the opportunity to
keep it internal because you know that's
not always an option because we're a
company we had you know some resources
to be able to set available for 8 x 7
and the fact that we were able to do so
also i think was it was a good idea that
we could say well this is not just a
project this is already a finished
project it's still of course in a beta
phase in the beginning but we have
something that we can release right we
have something that you will be able to
rely on once you write your hello world
application it's not going to break in a
few weeks when we actually release right
so that's a that's a big difference and
if you can do it of course that's not
always possible please use something
internally until your API is stable or
at least you have you know the
definition doesn't have to be defined or
really implemented fully at least a
stable API will will help you a long way
another thing good thing to do is
provide documentation of course it's
should be it should be obvious to all of
you if you want to write code you use an
external dependency you want it to be
documented and as I said if your API
isn't stable yet then your documentation
can be stable and yeah in the long run
you're going to have you're going to
irritate people so what I text right to
do is we so we wrote a lot of tutorials
Bruno so the original developer of I
text had to actually rework some of his
tutorials you know just before released
because some API is a change of some of
its tests broke etc but leave
you can manage that and the so the fact
that you're making an API change really
needs to be documented so you can of
course you have to deprecate it but the
annotation is not enough just please
also add it in the javadocs right the
rationale for it if it's just a method
that's changed maybe you there was a
typo at some point and just something
like that and it's trivial but you know
the user is going to be are going to
feel a lot better when they know oh this
is the reason oh so there was some
unfixable bug or the there weren't there
were too many parameters in the method
and I know didn't really do anything
just say so just tell them so you know
the reason why so why not communicate it
to the people who are you know going to
wonder the same exact thing it's also
for bigger for bigger tools or programs
that said let's say for example you know
the Python language if you can and if
you have the resources available because
that's not the real thing to consider
you can provide a conversion tool the
syntax of Python 2 and Python 3 is very
similar but there are some changes
because it but because they're similar
enough its easy to provide just a
conversion to buy just say well this is
my source code and to convert it to
three now I have perfectly working a
fully functional Python 3 code that's
you know that was a great thing that
they did it probably took a lot of time
to really build that but once they did
was great the same thing for it's not
only microsoft word by the way so
everything in office a conversion tool
if you load a doc document in microsoft
words you know one of the newer versions
that use the docx format Microsoft Word
will suggest do you want to convert this
to docx so to be more free future-proof
etc and and you know that's probably
trivial for them in the long run because
they know they're both document formats
but it never if it if they haven't done
that then maybe docx never would have
caught on because you have a whole batch
of legacy doc doc doc files that you
know you wouldn't be able to use anymore
so why why change why go to the new
version if there's no painless way or at
least
in a very easy way to switch so big
maybe something to consider for the
bigger projects among you a big thing to
do as well I'm I keep mentioning Python
not because Python did a lot wrong they
didn't they just had bad luck that they
were trying to over prepare I really
love Python but some things you know
went wrong in immigration it took him
four years to rebuild by tom it's
probably the same thing as i texted
rebuilt from scratch python3 was rebuilt
from scratch took four years with the
planning etc but developed on the python
to continued and not just bug fixes but
also new features and the result was
that veteran users never migrated there
was a survey done in 2014 so six years
after the release of Python 3 and it
turned out that at least half of the
older by Thome to users have never even
used python 3 that's you know that's
shame for all the four years of hard
work everyone put in there so it's
starting to shift now because you know
there's a new general generation that
never even used aya Python 2 but the
older uses the power users they are not
migrating or they weren't migrating at
the time so if you can avoid this then
you know please do do not well you can't
disallow people especially for open
source project from back porting but if
you can at least try to discourage it
not not you know by being harsh or
anything by just saying well as ever in
this instance Python 3 is going to be
better please give it a chance instead
of just back porting you know if you can
encourage people to to to have that kind
of mentality then you'll probably go a
lot faster with your your adoption rates
so them so this is a lesson we learned
from studying Python or the migration
history of Python 2 to 3 so we took a
decision to not implement any new
functionality and I text 5 there's going
to be maintenance releases bug fixes etc
that's you know we have a commitment to
our customers and our users in general
but no new functionality will be
developed everything you will be in I
text 7 and I'll have to talk again about
by thumb they procrastinate it's
said in 2008 they said Python 2 is going
to be end of life in 2012 I think it was
at 2010 they say it's going to be 2015
and then now the the most recent
announcement that I'm aware of is was
made in 2014 and it says the end of life
date of 25.2 is 2020 so you never know
is this going to go on or people ever
going to have an incentive to migrate
you know the power users the veteran
users that you know really power some of
your projects you really want them to
move on at some point it what you want
them to create the right great code for
your new project not the one that's been
you know out of date for the last 10
years so if you can you know please have
a fixed end of life data fixed way of
saying try to get your my users to
migrate just you know this is the
problem with this is that at some point
people might start presenting you and if
feeling that you're strong arming them
but the best thing the best way to avoid
that is have a better project that's the
best thing you can do so let's talk
about it-- expert down now I'm I'm we're
trying to make AI tech 7 of course a
better project but one of the biggest
things we learn from this is that we
need an end-of-life date so for example
for I text the end of life date is now
end of 2018 fright x5 so and we already
have one for I tech seven if we develop
a new one then there will be fixed of
course if there's no new one then we
will be able to extend it without any
penalty but you know if at any point we
start developing a new version then we
can say well I think seven is going to
be end of life in so many years please
consider migrating okay so now we
discussed why we discussed how you
should break your API but um there's
also the matter of one when should you
communicate you you're breaking changes
when should you talk about and when is
it acceptable to make a release because
you're not going to push you the first
breaking change that you have into
production that's not not something you
do not something you should do so
there's marketing we have a saying in
the office it's the fault of marketing
it's just a funny thing that we say what
marketing is always eager to announce
things to have a big buzz around your
product so if you have a new version
coming up they want to release
information as soon as possible to make
sure the adoption rate is very high in
the beginning and big example is the
universal Windows platform uwp it's
released in 2015 and the announcement
was very very marketing marketing like
there are a lot of talks about yeah you
can do this with your apps you can do
that with your apps you can make money
if you do this and this and this but
they never told you how or why you
should do it I produce we don't know a
universal Windows platform is a
cross-platform Windows platform so it's
basically you can develop for for your
Windows Phone for xbox for for your
desktop in the same platform but they
released this and they didn't release
any technical information on how to do
this it's based on that we know that is
based on top net core which is
incompatible with a dotnet framework
that we all love and use sometimes but
it's not compatible with wits with you
WP and so there was a general boarding
guide but then never really went to the
details and they said yeah you can do
like this or you can do that but never
giving exact advice on how to actually
migrate your application to QWP and this
leads to very confusing situation for
all vendors for all integrators
using.net platform we have a net port
it's called itextsharp arite ex-wife and
I text for.net 487 and we got a question
last year and is there uwp support for i
text and we looked it up and there isn't
because there is an incompatibility
between the api's but we don't know how
to fix it we have a list of things that
we need to do to make it compatible at a
uwb but we don't know how so if there's
anyone in the audience who can help us
come see us at the booth afterwards but
yeah we don't know how and that's a
major issue with it uwp because the
marketing went a bit overboard without
technical a bit with their marketing
side of things but not with the
technical technical side of things
switches one of the more important
things if you if you want to release a
platform of course and then next to
marketing there's also this
is kind the sales point of view sales in
the case of I text and they wanted to
sell I tech seven as soon as possible a
new version a new better bigger faster
stronger harder they want to sell now
now but if you if you announce that
you're developing on 97 as soon as you
start developing it as soon as you
create your repository on on your guitar
system then then you're going to stop
the sales of your previous product I
text five Cs we'd have grant and grind
it to a health and it wouldn't have sold
as much as it did so there's a bit of a
struggle but for the sales department
you want to release now we want to tell
people that they can buy an upgrade very
soon but we don't want to stop the sales
that we have right now so what they do
is they put a hold on communication we
don't communicate about I textile until
a certain point in time and we still try
to sell I text five it's a delicate
balance a delicate line that you try to
walk and it's it's a hard case to
balance so but in any case don't let it
happen unnoticed if you change your API
if you break it you should at least a
deprecation tag you should at least one
your user when you try to encourage
subjected change for instance in the JVM
you have the some packages those are an
internal implementation that can change
depending on the platform that you're
running it on an example is p kc s 11
it's it's a far its implementation of
digital signature standards and directly
implicate a implementation and sun is
different on platforms and it's included
in the 32-bit version of java 6 but it
isn't included in the 64 bits java
implementation but you know that you
shouldn't use this on the song packages
you know that they tell you don't use
this code that subjected change it can
change from platform to platform so
that's a good case you should tell
people those kind of things and be aware
of non technical changes but i texted
and 48 x 22 x 5 has change its license
it doesn't really affect the api and
such but if you just don't change your
what we did the namespaces then users
can just upgrade
i takes five for instance and then
without noticing that the license
changed from lgpl to a GPL this is also
breaking changed about in the contractor
to user rated at the customer they
should be aware of these kind of changes
this would also be communicated towards
your torture customer so let's take a
let's take all the lessons that we
learned today and apply them to I text I
take 78 x 5 so we've got some new
insights we got some lessons that we
learned and we made the development
future-proof we took our insights that
we had and we apply them to I text when
we rewrote it into a text seven so we
made a modular we took the comp the
functionality that we had you put
similar functionality together made
components out of them suffered jars
that you can cherry-pick from you make
it extensible the original design it was
extensible it's been around for 16 years
and you don't stick around for that long
if it cannot extend it but at a certain
point in time we had reached the ceiling
of i65 so we had to meet customer
requests for instance we won't do to a
customer asked us do you support tunnel
do you support other Indian languages
and we told them yet I tx5 doesn't
support it if we had to support the
night ex-wife you would have spent so
much time implementing it that we still
wouldn't be ready so what we did was we
rewrote the font implementation entirely
in such a way that was very easy to
extend our I textile an implementation
with new phone systems on a few weeks
before release a customer came up to our
sales guy and he said yeah I want to buy
I text seven already but I want Donald
to be included it's an Indian language
and we didn't have support for thermal
did we no not at the time now so um the
sales guy came to us and he says yeah I
have a solid license for 87 yeah we were
very happy because it wasn't even
released yet but we have to support
tunnel and we were like okay let's take
a look at how extensible this this
really is this the system that we
designed and it took us like a day I
think yeah it's a day a day so I took a
day to implement a new language
something that we have taken ages a
night x5 so a new system can have lots
of benefits breaking your API isn't
always bad you can have always new
functionality that we can be can be
improve
very fast and you also want to remove
the functional overlap I mentioned to
the rendering systems that we had an 8x
five we removed those four for a better
rendering functionality and I text seven
well it's uniform and that's very easily
extended by the customer or by ourselves
if you have to do somewhere for the
customer that's easily maintained and
it's easily used when we need to debug
because now it's very clear I feel
they're looking at that back report the
rendering system is much more clear to
debug than it was a night x5 you could
really be lost the night x5 if you had
to debug it but in seven it's better and
faster so then the question that we had
was when do wheelies do we do a big bang
release do we release everything at once
surprise every customer that and blow
them away or do we an early release
release early release often yeah the
benefit of a big bang is yet you can
surprise people you can have product
that's finished a project that's
finished and sellable but what if we got
it wrong but if we go to the customer
and high-tech 7 is finished and we tell
me I hear is I tech 7 and he says yeah
it's great that you did it I can see why
you did it but how you did it is not how
I would use it so that's a big question
that still hangs over your project if
you break your API is it is it going to
be better it's not going to be
necessarily better if you break your API
to improve your product the customers
needs and also needs to be included in
the equation we also thought about
releasing early but that would be a
heavy burden on support yeah if you have
a husband while already mentioned you
could be a moving target and there's
customers the users that you have they
will come to you with questions that
will come to you with migration
questions and that's something that we
didn't really we weren't really able to
put up with during the development of
high tech seven we don't I resources to
be constantly busy with with migration
so we chose not to release early to
alleviate the support requests that we
would get so what we did was something
in between we had an early adopters
program so we had customers that we have
earth for a few years trusted customers
and new customers for instance that the
guy who wanted tunnel and we gave them
my text 7 and we said yeah this might
change but try it out give us your
feedback they did some didn't some days
yeah that's what what happens and we
took that feedback and we improved our
implementation and we also released as
open source as soon as possible because
high-tech 7 was first released a
developed as closed source internal II
but we released as soon as possible as
soon as the API stable because as we
said you don't want to be moving target
you can do some minor changes about
nothing too big anymore so as soon as a
pio stable we pushed it to to github and
of course before the work is completely
done because you want that that really
relevant that really necessary feedback
from the community because we you come
out with I tech 7 you need feedback and
you still need to make some minor
changes because of things you didn't
think of or that got that the user will
to do differently than than you would do
so it's a bit of a something in between
and you should think about how you would
do this and your project with the
questions that we just raised ourselves
so this was our presentation if you have
any questions you can shout them towards
us and we'll try to understand them yeah
otherwise we're also still at the booth
in the vendor area so no go ahead fire
away no questions doesn't seem like it
ok great thank you thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>