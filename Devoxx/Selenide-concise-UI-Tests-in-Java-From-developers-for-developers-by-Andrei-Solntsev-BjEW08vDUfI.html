<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Selenide: concise UI Tests in Java. From developers for developers by Andrei Solntsev | Coder Coacher - Coaching Coders</title><meta content="Selenide: concise UI Tests in Java. From developers for developers by Andrei Solntsev - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Selenide: concise UI Tests in Java. From developers for developers by Andrei Solntsev</b></h2><h5 class="post__date">2015-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BjEW08vDUfI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today I'm going to talk about Scylla
night this is a library for writing to I
test angel browser tests I am a
developer I guess most of you are also
developers and we will talk about not
about tasting but how we are developing
software let's let's look what is the
evolution of developer as for me the
first phase of developer the first stage
of developer is developer who can write
code whatever complex code you write
whatever complex technologies you use
sorry whatever complex technologies use
Mike receives the he / services whatever
your big data you are still on this face
until we can write clean code so clean
code not only machines but also people
can read the next phase is developer who
can write unit tests being sure that
every every piece of code works actually
works and the next stage is developer
who can write integration tests being
sure that the entire application works
as expected mmm i quess yeah I guess
most of developers probably do not write
absolute latest and some some part of
developers probably can write unit tests
it's it's quite not separate quite what
simple part problem many of us can it
but quite a few of developers can write
integration tests or browser test yo a
test whatever because the developers
typically think that this is complex
this is not easy and I will show that
actually nowadays it's much more easy
and actually nowadays we can do it can
write
it's quite easy and fun let let's look
out how's a typical your test can look
like nowadays in our Center this I am
talking about UI tests for for web
application first of all our your test
could open a browser window and nowadays
we can do it very simply with just
comment open that's it next week we can
find an element by name by selector
whatever by ID league spot and we can
manipulate it can set valla type some
text click select some options and so on
and yeah click and we in the end we must
verify that some state has been changed
on the web page for example we can find
some element and and I said that it has
some text or sun valley or some property
and so on so isn't it simple quite
unbelievably just four lines of code and
some web application is a little bit
taste it already it's pretty simple so
can you write such tests I believe you
can nowadays you can a few years ago it
was not that simple fields ago we had to
write pretty pretty much much of code
you had to run pretty complex like
selenium grid servers and so on and
nowadays it's just simple i just
mentioned once more that what is
difference between unit tests and your
test or integration tests in unit tests
you test the piece of code so you must
run method and clarifies that it returns
some character allah and there are
plenty of technologies like a unit and
the unit for this and your tests are
almost the same but it will try to level
so your tests must open a browser click
buttons field texts and so on and
clarify that some
text or some state of elements has been
changed almost the same but little bit
like complex and we created the library
open source library selenite fraud for
this type of testing which is pretty
simple social Emmet is a free open
source library that brings concise API
and that helped you to make your test
stable because typically all integration
tester browser test suffer suffer from
from common problems like a lot of you
need to write a lack of boilerplate code
and your tests typically are unstable
they suffered from speed of attacks
sometimes Ajax is slower and like you
just fails and so on many many times
test fail because of some time out
conditions and so on you in order to
understand why i test fail to you need
to research screenshots like and it's
not easy it was not any until today it
wasn't easy until today no no it's easy
now this silhouette results all these
problems and now you can just start
writing tests and you can concentrate
concentrate on business object instead
of bothering with browser details Ajax
diamonds problems and so on it's cool
great news let's dive deeper welcome to
the vault of your test how it look like
looks like there are several problems
that selling the results first of all
silly they can do smart weightings what
I mean as I mean problem number one for
tests is like timeouts or timing
conditions the racing conditions so
every shoot method of selenite can work
can wait a little bit so if you write
something like that like some element
should be visible and typically most of
tests fail fail because it was visible
yesterday by but now it's not visible
right now something has been changed on
the server site or a Jackson has been
changed to a little bit slower and so on
but it to resolve this problem selling
that can wait this should be a method he
will it will check if element is visible
right now and if it's not yet invisible
tonight we'll wait for a few seconds and
you have a plenty of different
conditions that you can check you can
check that something is visible
something has required text and so on
and even that something is not selected
is not visible disappears disappears
after few seconds and so on plenty of
checks and once more every of every one
of these methods will wait as much as
needed but no longer than by default for
seconds and this time out is of course
configurable for some slow applications
probably need more error messages we we
try to make our messaging like very
readable so it so it would be very easy
to understand if test fails why it felt
so for example if you write such a line
in your test some 11 should not have
text for example and if this test fails
selenite will report like this text this
is very readable it's very clear which
element which what would we expect it
and what actually we good and what what
was actually the text and like all
attributes of these elements the next
cool feature of cellulite is working
with collections I repeat one dollar for
ends the first matched element if there
is many of them and two dollars turns
like collection of elements array of
elements and there is also plenty of
conditions that you can check you can
check that collection contains so many
elements or you can check that
collection contains expected texts for
example and so one yeah you can filter
elements of collections and probably you
you could see that that
selenite suggests using chaining you can
put dot should be dot should have and
dot filter and so on so you can chain
methods a lot it's quite usable for
writing readable test the next cool
feature of cellulite is automated
screenshot this is typical pain of
quality engineers they need to take
screen shots they need to store
screenshots on all I screenshots and so
on we sellin light it's pretty easy
selenite just will take screenshot
automatically on any exception you do
not need to do anything to enable it it
just works out of the box so if you run
tests locally it will take screenshot
and put a link right here it's it's
already clickable you can click and
investigate what the test failed and if
you run tests on screenshot or any other
continues digression server this link
will be like this it will be clickable
all the rage on the server it's it's
pretty convenient to investigate why i
test felt also silhouette has plenty of
helper methods for example for uploading
file you can easily upload files it's
not it's not trivial with built in
selenium functions and you can also
upload multiple files and you can also
download files oh this is my favorite
this is my favorite this is a typical
script for downloading file in your test
you know the script find some link on
the web page tries to download it does
uses its pretty complex this is what you
had to write before silly need existed
it pretty complex it tried to emulate
user behavior tries to emulate pressing
enter space alt s and since it sleeps
two seconds once more two seconds and so
on it's pretty flaky and and slow test
and I believe here if you can write such
tests you you must you must feel feel
like Bruce Lee this is pretty pretty
complex and now we selenite you can just
use one method just require a tournament
download that's it you have this file
before we go next probably I would like
I would show some code some live coding
do you see do you want to see live
coding yeehaw ok let's test for example
Google do you see well too small too
small progress let's try to enable in
print a note let's try to test google
it's the simplest test that I can
imagine can you hit or so let's let's
write a test as you see typical tree on
it all testing g or whatever test user
can search for any k award whatever so
first of all we need to open a browser
window easy static import next we need
to find an element with probably no with
a name Q and we need to type search
keyword or type file into this and we
need to press Enter that's it at this
moment the page should be refreshed we
can try it ok and and in the end we
finished wave we need to verify that
some expected results are shown on the
page
so we using two dollars we find a
collection of elements all expected
results they look like this one is like
this a smell of apple you know my
results and we need to verify for
example that we have 10 of them by
default google shows 10 results and we
also can verify this first of them has
text white probably good tests let's
let's see what happens so lets on will
this test fail yeah sure good test is
not enough bread to test you see it
works it just works pretty easy
everybody can write such a test where is
my code ah ok here it is so and let's
look white the test failed as I said it
writes quite readable message at element
should have text good tape tests but
actually it has test text like this one
so let's fix the test and as I mentioned
selenide took screenshots automatically
this is clean shot we can browse it and
can't investigate white it felt
okay so how this is how it works the
next cool feature of silhouette that it
allows you creating extendable tests I
mean that you can if if you know that
doesn't contain some condition some
check you can create new checks new
conditions for example if you happen to
want to check that some element has some
CSS property and telling that doesn't
contain this condition you can create
your own condition it's typically very
very useful for creating your dsl like
domain-specific language forbidden
building your tests typically QA
engineers name it test framework this
dsl so in order to create this like CSS
check you just need to create an
instance of condition class and to remit
override met at apply pretty easy this
is this quite powerful mechanism for
creating diesel so the next thing you
can find elements by text and so by text
search for for sent our texts and bliss
text search for the sub sub tank and I
personally think that this is a good
idea to search elements this is
dissipated opposite for the standard
practices in testing typically people
prefer to find elements by expert or CSS
selectors and so on but i personally
like searching for text by four elements
by text because it actually emulates
user behavior real users do not find
button by ID real users actually find
buttons by text or even more by color
unfortunately we cannot yet find
elements by by color but by text it is
possible the next thing that is very
convenient in tests is searching parents
and children of elements for example
method some element dot parent looks for
it around closest looks for its
grandparent and find looks for a child
so there is useful for to navigate
between elements you can also use sizzle
selectors insulin ID as you see this is
pretty far from ism for like searching
for inputs and so on for first element
and last element and so on and also
silly night contains a built-in profiler
when you have a lot of tests when you
run them periodically you pretty quickly
run into the program that you have to
load of tests and they take to a lot of
time and this is the moment when the
profiler comes into the game profiler
will show what does the slowest part of
a test or what what actions takes the
most of time in the test so chillin I
just has built-in profiler it can use it
and of course selenite contains much
more much more functions that i am going
i'm not going to describe there is just
too too many of them you can scroll to
any elements you can use their text or
HTML or you can check if something is
image and so on you can emulate
movements of mouse and so on and me more
but the good part of it that you do not
need to remember all the stuff don't
they think that I ask you to remember
about selenite that you do not need to
remember anything because yeah do not
need to remember to don't need to read
out of the contagion because we design
it selenite so that it was it would be
easy to use from ed ID integrated
environment so you just start typing
this is things that I personally like
you just put dot and start typing and
good environment will
just you all possible options this is
that I demonstrated here so who knows
how to put it okay it disappeared okay
so you put dot and just look for all
possible options you do not need to
remember anything pretty convenient for
writing tests this is what I named good
software I like to say that pool
software does not have documentation i
am i'm often often asked with this
question at does selenite has half a lot
of documentation and they like to answer
that pool software doesn't have
documentation but brilliant software
does not need recommendation this of
course doesn't mean that silly net
doesn't have documentation but it
actually don't need documentation a lot
and I will show okay i will show one
more example a example of rank gmail
test like of running tests at tests
gmail like checking inbox and creating
new mail it's it's typically a very hard
hard problem to write test for gmail
because i don't understand okay okay
let's close gmail okay i will show you
another example example of running tests
or for one real internet bank and before
we start it it starts a real application
right now it starts a real internet bank
as you see this is one of main points
that I wanted to show that good test
should not depend on any installation
only external server installation the
good test should initiate application
itself in like linen test configuration
should prepare all the initial data for
all the application on all the initial
state of all services like of all parts
and then should start clicking this is
what now happens the tests have started
the application have prepared the
initial database and now it will click
buttons and as I see as you see i can
start tests on my machine and i can
start a real internet bank in test
configuration you on my machine this is
test configuration yeah it's like test
set up some few official accounts and so
on it yeah so so how it looks like this
is absolutely real example of my
everyday work we do develop in turn back
and do create automated tests for it
okay and let it run so so finally some
best practices our best practices in
many companies the process of developing
and testing is pretty ineffective what I
mean developers when they do some
changes they cannot right now check that
that these changes are good nothing is
broken they sent an email for
administrators for system administrators
asking to do to install the updates to
some test server administrators and
install these updates to this server
like taste your company come and
probably if you
if you have some continuous integration
server typically in most companies
automated tests run against disturber
and when they run the test report comes
to testers quilt engineers who need to
analyze the results of this test and
they sent back send feedback to the
developers so this is very very long
chain I believe that test much must give
quick feedback this is a main point of
tests tests must help developers to
quickly get feedback if everything works
or not this is too long chain and that's
why this is ineffective process
effective protest should look like this
one developer one made some changes
should be able to run tests locally on
his machine be sure that everything
still works and only then can commit
changes some contingent aggression
server can run tests again on localhost
on the Sun shower without requiring any
installation without requiring any
manual work of administrators or whoever
and only then administrators can install
these changes on some test server
hopeful and on the design QA engineers
can analyze if if everything work they
in this case they get almost walking
like software and developers do not do
not are not afraid of committing changes
because they can always test okely if
everything works so rule of thumb for me
our best practices is that developers
can should be able to run tests before
commit meaning locally on their machine
this doesn't mean that they will run
tests every time because sometimes it
takes time but it should be able to do
if you want if they want to be sure if
everything work in other words your
project should always have to commons
Gradle like something like great
test for writing unit tests from comment
line and like Gradle UI test for rank
browser tests or any other UI test right
now run right on my machine from common
line this should be able to have really
efficient development process I can
demonstrate this for example this is
absolutely real working project I can
type play unit tests and and it will run
puny tests all the interest of this
internal bank as you see it it will
compile all the code and like with one
click and run all the tests this should
this should be easy like this so how to
enable it home to make it possible this
is up to you but typically the best
practice is that your application must
have test configuration it like in you
you can run real in turn bunk with real
money and you can run tests internal
bank absolutely the same code base but
in test configuration that use some
mocked data or some predefined data set
some like fiat official accounts and so
on and you must be able to run your
application on localhost I mean on your
machine without need of manual
installation for some administrators you
can run you can use JT you can use
embedded Tomcat whatever you can run
whatever for this but do it the next
best practices for us is using in-memory
database it's it's not pretty good for
using in production i quess but in tests
it's either you can run in-memory
database with it without need for
manually set up anything for install
oracle or everything anything else
and in-memory database also very easy
preparing some data set for testing and
you can very easily reset database state
before every test it's pretty it will
quick and easy for example h2 over our
favorite in-memory database but you can
use anything else and of course this is
must you must mock external services
your tests must not depend on any
external system like sending SMS or
anything else for example one technology
that allows it is wire mock this is open
source library allowing very easily mock
to mock some HTTP or esterases so it's
up to you you are smart use whatever
technology to make tasting easy thank
you for the attention makes the work
better for writing automated tests I
believe that world will be better when
all of us will start writing code on
with tests thank you
up what about questions I don't know
yeah please let's sorry what browses
solenoid supports actually all all
browsers all browsers that selenium
supports Chrome Firefox phantom JS
htmlunit yeah we have some problems with
Safari it's officially supported but
doesn't work yeah my question is it
possible to test angular application yes
it's possible why not but probably not
no probably angular has some its own
testing framework probably it's better
i'm not sure but yes technical is
possible to test whatever i don't see ya
sorry yes if application opens a second
window or second frame whatever yes it's
all supported sure no progress so please
feel free to ask more questions for me
here thank you for attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>