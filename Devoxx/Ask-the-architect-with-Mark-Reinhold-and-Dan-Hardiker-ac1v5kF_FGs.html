<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ask the architect with Mark Reinhold and Dan Hardiker | Coder Coacher - Coaching Coders</title><meta content="Ask the architect with Mark Reinhold and Dan Hardiker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ask the architect with Mark Reinhold and Dan Hardiker</b></h2><h5 class="post__date">2017-05-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ac1v5kF_FGs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">forgive you play kit do it make sure
I've got mark along I'm getting a really
easy time honest that's why I told him
but I thought we'd get together have a
chat and we're going to ask the
architect pretty much hopefully all the
questions that you've got so I think the
next slide is yes we've rehearsed this
obviously so it's a hashtag if you can
tweet it I've got my tech and hopefully
the Internet's are working in here so if
you can just send the questions due to
me if we're chatting and you want to
call please do I'll quite
happily do that on your behalf if you
want to take the conversation down
different tangent please do as well but
actually I think we probably should
ought to start with jigsaw Java 9 the
events of the past couple of weeks have
been really easy for you - I can tell ya
totally stumped so I get to talk now
it's not a Penn &amp;amp; Teller thing good Oh
Betty thank you it's early this week
heard the job community process be a
festive committee both it and they voted
not to proceed with that the votes in
front of them so what's your plan now
right from here so what they voted was
was not to approve the public review
draft at this time we have 30 well known
we have 20 26 or 27 days to submit a
revised draft and then if we did that
they'll take another two weeks to vote
on it the my plan is to is to work on a
few key issues that are of concern to
some executive committee members the
those those three high-level you know
high-level those three are what one is
there was there's this raging issue was
this raging issue about automatic module
names which we just recently resolved
and some members of the executive
committee one just want a little more
time for that debate okay another is
there's some there's some basic well
there's some question they're really
legal questions essentially about
what it means to license a custom linked
image if you link if you get a full JDK
and then you link a custom image that
has just a subset of the modules plus
maybe some of your own code what's the
licensing for that you know his
oratorical going to come and like charge
you ten bucks or something stupid now
know the intent is absolutely you can
like you can do that you can
redistribute it but there there were
some details in the spec that we needed
to iron out I proposed text for that I'm
guessing that some other companies
lawyers need a little more time to
review that find a problem and there's
also this issue around the there there
were some quite some questions from the
Eclipse ecj team you know the other Java
compiler in the world and they try
really hard and they actually do a great
job of only only only implementing
what's in the JLS right they don't read
Java C source code they only read the
JLS they want a spec that's complete
enough so they can do an implement
independent implementation and some
stuff was missing so Alex Buckley has
been working with them to come up with
revised text and we hope to resolve that
in the next few weeks so well we'll work
out those those three things maybe a
couple of other you know small open
issues and I think that that will
satisfy some easy members anomaly one
who so we're not going to classify them
all are we and so there's been a big
thing talked about mostly in your blog
post is we don't need everyone to agree
doing the JTP does not mandate consensus
and there's a good reason for that and
this is it this is basically an exemplar
of why consensus is not mandated some
sometimes members of expert groups come
in and they're only looking out for the
narrow interests of themselves or their
employer and I think that's what
happened here so in you know in brief I
think the EEC members who won't be
satisfied by fixes to those three issues
I just described they follow three into
three buckets one it one is some of some
of them are very technically minded and
even though this project isn't going on
for years and years and years they chose
this point to wake up look at it and
decide oh you need to implement this
other feature too
and we're going to vote no unless you do
it it's like well no this is not a
technical renovation because Executive
Committee is not a technical review body
now is a really bad time to be giving
fundamental technical feedback where
were you a year ago the second group are
there they're bunch of EC members they
just like consensus they wouldn't really
be happy and they're only gonna be happy
with consensus but consensus in this
expert group will mean doing everything
that red hat once and then of course
there's red hat and red hat it's not
going to get what it wants sorry
you know the red hat it's been
advocating very strongly for what
amounts to what a lot of people
I put have been calling a metamodel
system it's a it's not a it's not an
approachable module system for everybody
to use which was one of the primary
goals of this entire effort rather it's
a toolbox that model system experts and
rocket scientists who implement app
servers can use you know to enhance
their applications that exist today well
that's an interesting thing but it's
most likely not going to be approachable
and from the standpoint of acting as
responsible stewards of the Java
platform it would be a really bad move
due to not only delay 9 to do that which
would take a year to but to put that
into the Java at the platform which I'm
sorry it serves many different many
kinds of users other than people who
implement app servers so no we're not
going to put what could risk becoming
the eg B 2 of module systems into the
Java platform not going to happen so why
do you think there is so much angst
around Java 9 and jig so there's there's
a lot of angst 8 but I think basically
for two reasons one is people don't yet
understand the key benefits and the
other is there there's a lot of
misconceptions flying around partly
because of fear uncertainty and doubt
eventual end of things but well the
benefits so jigsaw elevator pitch here
we go to the two is the two main
features strong encapsulation you can
you can hide internal api's set a second
main feature reliable configuration of
module says what other modules it
depends on
you don't just keep throwing stuff on
the classpath and hope until it works
and then hope that that works long-term
which of course it usually doesn't so
but from those two features we get a
bunch of benefits one is everybody gets
a chance to escape from class path hell
you know we're all familiar with class
path hell gee wouldn't it be nice if a
jar file only you but the code in a jar
file I could only see the stuff that
it's supposed to see rather than every
other random thing that happens to be in
your system people who maintain
libraries have the ability to hide
internal API so they can involve their
evolve their internals knowing that they
will not break the code that uses those
libraries we can modularize the platform
itself so we which is critical to
bringing the Java SE platform to the
cloud smaller devices I mean there's a
cloud it might not be obvious that it's
important for the cloud but believe it
or not believe it or not space is
important to the cloud if you're docker
image you know bloats by a factor of
four or five because you're carrying the
entire JDK when you only need a little
part of it well that's a waste and then
finally it's and this is the indirect
benefit that's that's been the hardest
to explain is modularizing the platform
what the real nodule system is a it's a
big down payment on the future evolution
of the platform it allows us to improve
the security of the platform the
integrity of the platform and the
performance in ways that we're only
beginning to leverage in this release
and we'll be going much further over
time sure so there are the benefits but
yes I've heard lots of different things
but not so positive yeah so what would
you say the say top 10 misconceptions
that you've heard and about but funny
you should ask I have a live take it
away so just you know just imagine Dave
Letterman I've got my my favorite hot
beverage here and somebody with a
breaking glass effects old dolphin and
let's stand up for this part top 10
misconceptions about jigsaw in Java 9
number one maven doesn't work on Java 9
let's ask somebody who should know
Robert salt a PMC chair the Apache maven
project
maven 3-0 and later runs fine on Java 9
if there are issues they're always
plug-in related in such cases try the
latest plug-in version last last I
checked they're still up there there's a
bug in the Surefire plug-in but most
others that we've looked at anyway
seemed to work the Surefire plugin
there's an issue for it hopefully
somebody will we'll work on that soon so
now maven does work on Java 9 that does
that statements incorrect number 2 my
favorite library framework or tools
doesn't work on Java 9 well now actually
quite a lot of things work on Java 9
just to give you a little list here
maven as I said aunt J unit tests ng
maketo Eclipse IntelliJ NetBeans tip
those those work on Java 9cg Lib Java
assist all those all the different
logging frameworks hibernate validator
nettie Jersey Tomcat 2 we've seen I
think solar does to spring boots spring
framework closure more stuff that's not
on this list and more to come
we've spent a fair bit of effort over
the last couple of years reaching out
maintainer z' of popular libraries and
frameworks and tools to work with them
encourage them to test online and ok
come to us with questions on the jigsaw
dev dev list and we've given them advice
and assistance so know a lot of stuff
already does work on Java 9 and I think
around 9 GA or shortly thereafter a lot
a lot more stuff will so that's not true
number 3 I'll have to modularize
all my code and wait for all the
libraries that I use to be modulized
before I can use Java 9 wrong the class
path is still there and the class path
works great you have a class path
application today that runs on Java 8 or
an early release it should work on Java
9 as long as well a few things like it
doesn't use and hidden internal api's
and stuff like that which I'll get to in
a minute
number 4 existing module systems such as
OSGi don't work on Java 9 wrong the
class path is still there and it works
great if OSGi doesn't nuevos TI doesn't
use internal api's you put it on the
class path you run it it'll work if it
doesn't work that's a bug in the jdk
that we will fix and we actually have
tested
via the popular OSGi frameworks and
guess what they work okay great
number five jigsaw will split the Java
community just as Python three split the
Python community because code on the
class path can't make use of modules
wrong code on the class path can read
all the public and protected types and
elements of all resolved modules we've
we've gone to great pains to make all of
that work so you can have you can have
code on the class that's reverted
modules and and and that just works you
can gradually migrate an application
over time if that's what you want to do
not only that if you maintain a library
or a framework that you ship as a jar
file you can convert that to a module it
can be used on nine as a module and on
earlier releases just throw it on the
class path the fact that it's module
will just be ignored by early releases
because well those early releases don't
know what modules are number six the
strong encapsulation of platform classes
is the only roadblock to Java 9 adoption
so because they're strong encapsulation
a bunch of internal api's that people
use despite the fact that we've been
telling people not to do that for 20
years a bunch of internal api's that
people used to use are gone I mean
they're still there but they're hidden
you can get to them with a command line
flag if you absolutely have to but but
they're hidden this is not the only
hurdle there are many other changes in
Java 9 that are the fall into the theme
of investing in the platform for the
future the fact that rter is gone been
replaced by a much more efficient format
our zip file is about the worst possible
format for a bunch of class files in the
base of the system we've changed the
layout of the of the entire system image
to get rid of a bunch of technical debt
we D privileged a bunch of system class
to improve security this means that some
system classes are loaded by a different
class loader rather than the bootstrap
class loader there is code that
sensitive sensitive to that and you know
it's just going to be part of operating
we changed the version string format
sorry the old one was was just just too
problematic and that has affected some
code is
as well so there are you know with every
major release there are sometimes
breaking changes in nine there's a bit
more than usual but this is important
for the evolution of the platform number
seven son Mis gun safe is going away in
JD p9 and that will break lots of things
wrong son risk unsafe and a small number
of other critical internal api's that we
know are used by lots of existing code
they're still there
they'll stick around we're working on
making supported proper replacements for
them that will be part of the standard
API after those replacements have been
around for a release or two then son
this gun safe will go away
number eight jigsaw is going to solve
the multiple versions problem no jigsaw
is not going to solve the multi version
problem at least not in this release
number nine jigsaw sucks because it's
not going to solve the multiple versions
problem it's horrible what's the point
why bother with Java 9 I'm gonna stay on
Java 8 for the next 20 years jigsaw
doesn't solve the multiple version
problem because if it did you probably
wouldn't like it very they're there to
two aspects of this one is the behavior
of a lot of well-established api's that
have anything to do with class loaders
will change in incompatible ways this is
this is a bit subtle but it's very real
you know things like resource lookup
they don't work like they used to any
code that makes assumptions about class
loader relationships not going to work
like it used like it used to so so
there's that the other thing is to solve
the multiple version problem in the
module system we need build tools to
solve the multiple version problem does
what what does may even do about
multiple versions hmm no so the build
tools need to be enhanced in a very
serious way or in a more serious way
than they've enhanced already for what
we're doing now in order to support
multiple versions so sorry at least I
don't think jigsaw sucks because it not
going to solve that we can solve it
under future release we've laid laid the
foundation for that number 10
modularizing my existing large software
system is going to be easy
no there's one thing the OSGi folks are
correct about modernizing the existing
software system is really hard it took
us like nine years to do the JDK only do
it if you really think there's going to
be a huge benefit by all means you're
writing a new system use modules from
the start an old system it's an
investment you want think carefully
about all of this stuff is false target
are a little longer than I was all right
but never mind so we had all the pieces
there are lots of other questions that
there are a lot of other topics and
you've got a session later and went
today one tomorrow
so absolutely if you've got more
questions on modules the man himself is
here please do come and ask me and I'll
be hanging around at there hanging
around at the Oracle boob-tube
absolutely now then but job and I'm not
destination it it's not what beyond job
nine and from a language point of view
what do you hope from for the future so
I'm really looking forward to what we've
been working on in the Bell holla and
kind of my projects you know I think
that Valhalla is going to be Anna the
next big step for for the entire
platform by just vastly improving memory
consumption by fixing some long-term
warts in the language the you know the
division between primitive types and
reference types that were from a
technology standpoint were the right
decision in 1995
you know today when memory accesses are
a couple of orders of magnitudes longer
that not the right thing all right and
obviously that Java is bigger than just
a language and usually Java releases
nine got jigsaws it's big headline
release five obvious at generics what do
you think tens big headline future's
going to be well that kind of depends on
when ten is politics aside so politics
aside so some of us have work on the JDK
have been giving serious thought to the
whole full release cadence issue I mean
the these big feature driven releases
where we where we say okay this big
feature where these three biggest
features are going to be in this release
and we're going to keep delaying the
release until we get them all done it's
sort of a 1990s methodology and in the
modern
age for Java to keep up I think a faster
cadence would be a really good thing
where we where we were where we do
something that's time bounds we ship on
a fixed schedule of some things ready it
goes if something's not ready it waits
until the next one and a release becomes
something that you you look at the
calendar for and then if you're
interested in the feature you figure out
well which releases is is it going to be
in so what if what if Java released
every year
good idea about six months six months
anybody you know including features API
changes well people have how many people
prefer three years I'm not gonna not
getting much date out of it I'm sorry
we should go so a lot of different
conferences and talk to a lot didn't
types of developers and I'm talking to
people who were notes Ruby hell even PHP
and I'm envious about the advances
they're making in their languages and I
come back to my home and I think come on
I know yeah so yeah I think rapid
cadence and if we switch to a more rapid
cadence you know if 10 is six months
from nine and 10 might be a boring
release but that's okay maybe 11 or 12
or 13 will be exciting so Java side yeah
what's your favorite jvm language
closure and do you think this we're
going to ever move away from Java maybe
something like Rockland something
simpler mmm I think I think having many
languages on top of the JVM is a great
thing but I think I think Java as long
as we we continue to invest in it it has
quite a bit of a future ahead of it okay
so we're coming to time here but I'd be
here I'm quite interested in the man the
myth and legend please do oh you've done
a PhD yourself yeah believe it was on
garbage collections that you you put to
work they actually didn't use at all
fine but if you had to come again yeah
what would you invest your time in doing
your PhD now other spaces in people
doing academic research now that you
think hey this area is Andres lot
well my high love will answer that
question is it doesn't matter right
anybody in the audience you're listening
to this you're considering doing your
doing a PhD don't don't worry so much
about advancing the field if you're
going to do a PhD it's going to require
a tremendous amount of dedication and
effort pick a set of ideas you're
passionate about because you don't have
a passion then you're just you're
wasting your time you're going to have a
miserable several years it's not worth
it in terms of what needs more
investment on an irony of my own PhD is
when I started out programming language
design implementation was in fashion by
the time I finished it wasn't and so the
academic job market was even more dismal
for me than many of my many of my fellow
students but I Sally I think the
programming language design
implementation is a has become a bit
more fashionable in the academic world I
think it's still a little down and and
it needs more needs more love and
attention so you wanna make it dent
that's a good place to go and I mean all
of us look back and we make some changes
and I have throttles in my hands
previous Java architects but what do you
think the three biggest mistakes it's
job was made from the past govern ativ
serialization there's any other that the
fact that you can make an object without
going through its constructors the file
view it's like I've got what back it
back in the day some of us tried to
tried to fight it we failed sorry the
fact that we didn't do a module system
in 1998 would have avoided a lot of pain
and would have been we wouldn't be be
having some of the drama we're having
now third the fact that final fields are
not really final which has inhibited a
lot of advanced JVM optimizations and
that's something that over time now that
we have a module system and we can get
closer to ensuring that over time we
hope we hope to make final really do
mean final and performance will improve
a lot thank you okay that's Java what's
your biggest mistake maybe if you thing
and if you were able to talk to your
younger self what advice would you give
to avoid it um I my biggest my biggest
mistake was I stopped playing piano why
does that matter well
you know we're all here because we're
passionate about technology but there's
more to life than that and you know what
I started taking piano lessons when I
was I don't know eight or so and did
their career four or five years and then
stopped other other stuff was computers
room or interesting whatever and I
realized not that long after that no
music is actually really important to me
in a deep deep way and you know I've
always listened to it passionately and
intensely but I felt this loss that I've
been too busy now for decades to correct
but I hope to correct soon of not being
able to make music I think a deeply
important thing just good you've had to
pay young people career and I've been
lucky there's being in the right place
the rikta let's see you what mics well
are you heading well I hope to be
working on Java for a while yet but it
and when I'm done with that I don't know
I'll probably retire to coast of Maine
northeast us gold a sailboat out of wood
say welcome to today say the sail every
day in the summer with with my wife
played the cello every day and invented
programming language has been well well
we still got you I think we also
appreciate you and thank you very much
sir talk moving thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>