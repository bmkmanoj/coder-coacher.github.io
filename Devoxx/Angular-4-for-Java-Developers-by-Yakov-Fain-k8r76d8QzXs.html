<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 4 for Java Developers by Yakov Fain | Coder Coacher - Coaching Coders</title><meta content="Angular 4 for Java Developers by Yakov Fain - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 4 for Java Developers by Yakov Fain</b></h2><h5 class="post__date">2017-04-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/k8r76d8QzXs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody my name is Jack of pain
and we will talk about angular for Java
developers I am a Java developer myself
so it's going to be easy for us to
understand each other first legal slide
of course as Oracle teaches us and then
a couple of words about myself I work
for the company calls for other systems
I
it's a consulting company and I do
everything related to angular these days
or in that company this is my recent
book I wrote it with my colleague and
discount code if you want to get it
meaning at the end of the presentation
on the last slide you will see the link
to this slide deck so you don't need to
take photos or anything so the slides
are already up there so what do we talk
about today I'll give you a big picture
of what is angular and I will show you a
couple of demos and then we'll start a
simple spring boot server and deploy
angular up in there so you'll see how
angle talks to job couple of demos will
be there as well so but first I want to
give you a big picture two years ago
Google decided to rewrite super popular
framework called angularjs or these days
they call them angular one anchor gs1
and they did they did it in the language
called typescript from Microsoft and the
other contribution from Microsoft is the
library RX j s actually it's not like
that
Microsoft Street is this library but
they created first libraries reactive
extensions erect that net and then it
was ported to many languages and angular
2 was released in September of 2016 when
I submitted this proposal for this talk
it was 2:00 and tomorrow the next
version angular 4 is released will be
released so that's why I change the
title to angular 4 but every six months
angular team will be
the next version which is upgraded
seamless easy so don't get scared by all
these numbers angled framework has an
excellent dependency injection model and
I will show you how it works I have an
example then you can write application
and angular using any of these languages
like typescript dart or JavaScript but
typescript is a recommended language for
writing angular applications and it
makes sense and I'll show you the
language and it'll be very comfortable
for you being Java developers what about
you I are there in your libraries for
angular with UI components which is very
important so angular team is working now
on the library called angular material -
yeah I will show you some of the
components it doesn't have too many
components these days but there are
certain party libraries for example I
like the library Prime and G and we use
both angular material 2 and primary what
else is great in angular they have
separate rendering engine so when the
the piece that renders HTML can be
replaced not by you but by the companies
who are developing software and there
are already framework to render UI not
as HTML but you can create application
for mobile for mobile devices and for
example there is native script they are
replacing the rendering engine so
instead of HTML that you would be
rendering layer tags which are mapped to
native components on the mobile plus 2
link tooling is great in terms of
tooling you have bought a bunch of
different IDs that support typescript
and anger I am using products from
JetBrains
usually like I you I will using IntelliJ
IDE and now I'm using webstorm but there
is another great ID called the Visual
Studio code it's free and it's it has
excellent support of angle in terms of
deploying there is a great tool
so actually this tool generates the
application and allows you to deploy and
bundle and everything so this tool is
called angular CLI and it has inside
other frameworks and in particular it
uses web pack for bundling how do you
start when you have a picture exists
from your web designer that you need to
create a front-end for the online
auction for example so what do you do
you ask yourself what components do I
need to create and your app is a bunch
of components you have a route component
two children grandchildren so so if you
look at this picture you identify the
components that you want to create like
in this example I have a navbar
component up on top at the bottom I have
footer on the Left I have search
component
I have product item components each of
them would render one product right I
have some cursor and so on so this is
what you need to start with you need to
ask yourself which component do I create
and how the code looks like when you
will be developing this UI the UI
portion will look like tags like HTML
tags if you look on the right these are
HTML tags not all of them are standard
HTML tags of course there is div it's a
standard HTML element on the other can
you see auction navbar or option search
or router Outlet all these things are
yours or angular's so for example if you
will create a class and you will give it
a selector named auction navbar then you
can use it in angle brackets as a
template but behind this tag there is
your component in this example router
outlet is a directive that comes with
angular so router is is something that
allows you to navigate on the UI on this
screen you see this navy blue area we
have a single-page application but we
assign one or more router outlets
and the content inside of these router
outlets can change based on say user
actions so you can show user this
component or that component within
designated area and the class represent
a component a class annotated with
special decorator in our world it's
easier to use the word annotations right
so let's let's take a look we have a
class AB component which is annotated
with the annotation at component inside
this annotation you say what is the tag
that you want to use on the UI selector
approach where is your HTML if you have
a lot of HTML keep it in a separate file
if you have small HTML keep it on line
in line
do you have styles we have CSS files
where are they
justify the name of the file if it's a
separate one if it's a small CSS just
included here in line so and inside you
have code so basically have class and
inside your rights constructor II write
methods and so on
this is typescript now let's talk about
typescript I'll give you like 5 minutes
crash course on the language if you look
at this book it's a pretty popular book
which are you in second edition and it's
called secrets of the JavaScript ninja
but if you look at the picture this is
not ninja this is some writer why this
happened because JavaScript doesn't have
types right it couldn't catch this error
in the compile stage so it went in
production and it's too late right so
that's why we want to use typescript to
avoid this kind of problem so let's take
a look at a couple of example
typescript first of all it's a superset
of JavaScript what does it mean it means
that you can take a file with extension
j/s JavaScript program rename it to TS
extension and it's already a typescript
program you can compile it why would you
want to compile a program written in
JavaScript because javascript has
different flavors right
what if you wrote it in like my script
five and now you want to compile it in
like one script six so it still makes
sense to compile JavaScript with
typescript compiler anyway instead of
war it is recommended to use let lets
has several benefits including you can
have you can declare a variable inside
the code block inside the curly braces
net israel not leaked out or hoisted as
they call it
they have lambdas like we do in java the
only thing is instead of - you put a
equal sign over here so that's why they
call them fat arrow function but
technically it's an anonymous function
very similar to what you do in java with
lambdas when you want to compile
typescript into JavaScript look at this
on the left hand side you see an example
in typescript on the right hand side you
see what is it you compile to in
JavaScript one of the great thing about
typescript is that it compiles into
human readable JavaScript as opposed to
many other compilers from different
languages a class you write a class
class person in this case and in there
you write a constructor this is not the
only way to write it but I show you the
most concise version in this constructor
I have four arguments a first name last
name age and SSN so since I put access
level fully fires like public private
protected which exists in the language
it automatically creates for me a class
level variable member variance you don't
need to take to write code over here and
say this is that AG college or this that
it's a semicolon and so on so it's
automatically created for you and you
can you can use them right away
inheritance typescript supports
inheritance it looks like classical
inheritance take a look
class person and class employee extends
person like in Java the only thing you
need to understand that this is syntax
sugar under the hood it's still
prototypal inheritance like
javascript heads take a look at the
amount of code generated for this little
piece of code but syntax wise it's much
easier to read of course and write
classes
generic that trip support generic in
this example have class person employee
and animal and I have an array of using
parameterized type right person so I add
new person I add new employee and I try
to add new animal and I'm getting
compiler error from the Java perspective
it's perfectly fine put anything you
want in the array but typescript user an
error which is very helpful of course
interfaces type script has interfaces
there are two ways of using interfaces
some of them are one way is to define
the structure of the data and the other
one is our familiar interface like a
contract implements right so interface I
payable defines one method and plus
employee implements a payable plus a
contractor implements I payable and we
can declare an array and again using
generics or vet I payable and for each
we iterate through this collection of
type interface interesting thing is that
interfaces don't exist in JavaScript so
during the calculations they are
evaporated
they are vanished you don't see any
interfaces on the right hand side and
just for you for your convenience now
let's talk about angle CLI by the way
this was all you need is all you need to
know about typescript to get started
angle CLI command line interface you
know like about a year ago people who
started working with angular 2
they often complain there is too much to
configure you to configure typescript
compiler you need to consume you need to
create take it JSON and download a lot
of dependencies from NPM repository you
need to configure build system test
system and so on so the tool was created
to simplify all that
so to create a new project it's pretty
easy now angle CLI is not only a
generator that will create your starting
project but it's also it also includes
the build to wear pack it also includes
and configuration and the libraries
themself jasmine for unit test it
includes protractor for end-to-end test
and you have the project immediately not
immediately in 30 seconds you have a
working project and using angle Silla
you can easily create bills for for
therefore broad optimize not optimized
and so on and let's start to do
something like this let me generate a
new project for you I am where I'm in
the directory devoxx let me get there
real quick
so I'm in this directory and G is a
command for angular CLI after installed
it of course I want to create a new
project my app for example and since I'm
using version for angular I would I will
let a key and there's - ng 4 and it'll
take probably like 30 seconds and
depending on the internet connection of
course now it's downloading tons of
stuff but when it's done we'll get a
project you'll get a project actually
all this try all these files are already
generated at this point it installs
dependency there is a popular package
manager and PM that many people still
use but there is a better and faster
package manager called yarn and I am
using yarn as you can see down there it
is installing it using yarn let me see
if I have internet connection it should
be done by now let me see
cnn.com apparently there is a problem
with internet connection let me try it
turn it off and turn it on unless CNS
become is out of business
yes now it's back somehow I guess it'll
it'll continue so yeah you know what let
me do this let me do it one more time I
don't know in which stated is it in
because of that let me do another
project in my app too so this time it
will work properly in 30 seconds it will
be ready when it'll be ready I am
opening it in the ID I don't have to I
can run it right from the command line
but of course we want to see what's
going on over there so I will be using
webstorm to open this app and show I
will show it to you the ACF consists of
subdirectories SRC directory a PP and
every component that you will create is
a directory that directory will have
type script file HTML file see it's done
already and it'll have CSS file and what
else HTML CSS typescript file and the
file for unit tests the spec file so let
me open it up in my IDE this new project
I created file open it is in there works
my F true that the one I'll open it up
and you will see what was generated and
again it's not only generating the
project for me it also installed all
dependency and there is a lot of
dependency out there so there's the
project there's the project and if I
open it up you see that there's a SRC
directory generated for me a small
application and terms of configuration
so for example take adjacent is the one
that configures all dependencies a tiny
as you can see I'm using version 4 of
regular and angular component is right
there it just generates free app works
in generative HTML CSS and there right
there HTML file for example just have
this little header so what I will do now
I will build this F I will bundle it up
your application may have multiple files
hundreds of files we don't want to
deploy hundreds of files so we want to
bundle them up into small
number of files to do that I'm using
again in your CLI so for example I'll do
ng serve at this point it'll bundle up
this application in memory and it'll
start the servers that comes with
angular CLI but actually it's a web pack
dev server it'll start it and it will
run it in memory this is how your C
bundles already created so if I'll go
now to localhost port 80 port 4200 then
I'll see my application working see it
works so the application is up and
running and you created it in no time
and this is how you work in development
the bundles are built in memory and if I
will go back to the app and I will
change it I will change the code for
example this is F works and really I
will change it to their works works
their works works look at this I hit
save control save it's free compiler
builds a bundle if I'll go back to the
browser is already recompile and
rebuilds this is how you work in dev but
this code is not optimized I mean the
size is large it's probably like two
point five megabytes of code now came
through the wire if you want to optimize
it actually let me show to you let me
open up dev tools in network refresh and
you will see not too many files but two
point five megabytes of code it was
downloaded in their modest fine I'm I
work locally every single local
connections fast if need be
now if I want to optimize it I wouldn't
be I wouldn't be using ng serve I've be
using ng build
ng built and there is a key prod ng
built there's there's prod this time it
will not be a creating in memory the
bundle it'll actually spit out the file
that I can deploy somewhere on the
server where I'll show you basically
it'll be deployed in the same place
whatever Java server or any other server
you use where would you put index.html
if you know that place this is where you
put all the bundles in
including index.html so now now it
created the folder called dist and I've
if I will go there if I will go to that
folder just you will see that the sizes
are much smaller now see now I have 304
this is bundle for the framework itself
vendor bundle my application is a really
small main bundle 9 kilobyte but but if
I would gzip them they would be
typically this application is under 100
kilobytes
deployed and optimized let me go back to
my slides single page application is
where angle shines of course and what a
single page application the page is not
being reloaded you start the page you
have certain areas on the page which
stay all the time but you define an area
in the cold router outlet and this area
is where you want to put changing
content say the user will be clicking on
the links and inside the router outlets
you want to display different components
based on the user actions of may be
based on some programmatic actions so is
there a special tag router outlet and
this is what you do this is where you
where you define the UI router itself
again I'm talking about client-side
router we talk about client only
navigations in the client client side
router support multiple useful features
for example when you move when the user
moves from one place to the other by
clicking the links maybe you need to
pass some data while you are navigating
to a particular route you can tell the
data there you can have routes
configured in the parent component and
in the child component so you have links
in the parent and links in the child you
can use something called guards so the
user can click on the link actually can
the user click on the link is he or she
allowed to click on the link so you can
put guards Ian for example these are
clicks and you just assign the guard and
it checks if the user is not logged in
you don't allow to go
they're lazy loading of modules when you
will be deploying applications you will
be deploying modules and if you have
some codes in your app that does not
require to be loaded initially whenever
you start your application there is no
need to load it you can create a
separate module and it'll be loaded only
if the user will click on that link so
this will minimize the amount of code
that comes to your landing page when you
first load it
so router it is a really really really
powerful component in angular dependency
injection everybody knows what
dependency injection and the benefits
framework in this case angular would
inject services for you what is the
service it's a class all business logic
that you want to put in your app you
would put in a class and instances of
these of these classes will be created
by the framework and they will be
injected into components what is the
component component is a class with
annotation a class will UI where service
is just a class here is an example we
have a simple service I have a class
called product service and I have a
function called get products inside and
it returns me this hard-coded value
technically typically I would put HTTP
request over here to go and grab the
data from some server but in this case
I'm just recording the data so what do I
do is it now I have a component product
component that needs to use product
service so what do I do I want to inject
my product service into product
component how do I do this in English
only through one area through
constructors
so constructor is the constructor of
this class and just the fact that I
declare the very end argument
products arisen in this case I declare
the type they call it token it tells
angular in this case take it find the
class product service create an instance
of it and inject it into this component
so it will be using it so in this case
see I never said new product service I
start using it
I invoke get product on the perfect
service a sonnet available in the class
the variable is bound to the UI the
product object is bound to the HTML here
here and there and this is how by using
binding as soon as the variable product
will get the data the UI refresh
automatically through binding in this
case we are using double curly braces to
to denote by nick i'm in this case i'm
checked only i'm jake just an object
built on the clock but you can create
create a factory and say i want to use
the secretary to generate object so you
can inject single value as well all that
is supported in Inger the other really
powerful thing in angular is it's a
reactive part our XJ is that is sitting
inside the framework and I'm sure it
even in this conference UI probably
attended at least one talk about
reactive programming in one of the other
application framework rxjs is the
libraries that comes with angular it's
about pushing data instead of iterating
over collections instead of pulling data
instead of bothering the server multiple
times do you have something from you
know maybe now no and now no so you get
the data pushed to the to your client
whenever it's ready instead of you
pulling so there are the concepts like
observable which is a d/deaf pusher so
to speak there is an observer the object
that knows what to do with the data when
it comes in and there is something
called subscriber subscriber of Brin six
brings together observable and observer
pretty nice and simple API and very very
powerful powerful operators that you can
change before the data comes to the
subscriber you can transform the data
nicely by the time you come to the
subscriber I don't have time talks to
talk about rx I spoke about it yesterday
but I can tell you that inside angular
they use it a lot you can use it of
course the way you want it but
we already use it for example you can
subscribe to the router object to get
the changing data up coming to this
component shown by the router when you
create a form on the UI you can
subscribe to data that the user types in
the fields of the form or you can
subscribe to the status of the form it
was not valid now it's valid and the the
signals the data will be pushed to you
any HTTP response that you make comes
back as an observable and you subscribe
to the result of HTTP if you want to
create WebSockets you can create a class
in typescript in angular and you can
make it you can connect to the WebSocket
on the server side and the server will
be pushing data to you to your class and
this class in turn will be pushing data
as observable so you still use the same
style subscribe subscribe subscribe and
now let's take a look at this example
HTTP how do you use HTTP in angular HTTP
and objects that come to the angular
it's a separate module if you decide to
work with HTTP you include it to your F
and first of all let's take a look
class a PP component and in this case
I'm saying I need a cgpm I'm planning to
work with it how do I say that I just
say I just declare an argument in the
constructors that's all I need HTTP with
a small age of type HTTP with a capital
H just a sec that I use private
qualifier in this case means that a
variable this dot HTTP will be created
for me so I can research it from other
methods in my class so what do I do I
say this dot HTTP GET I want to make a
get request to some rest endpoint get
API products when the data comes back I
want to extract the JSON out of it and
turn them into regular JavaScript
objects so what do I do here and I
extract the JSON and then I say
subscribe
when that would only when I say
subscribes the data will start requests
actually is being made and the data
comes back if I wouldn't say subscribe I
wouldn't have anything even though it
looks like I make a get request so what
do i express if I to the subscriber
three things what to do with the data if
it comes in second and there's the first
function when the data comes in I want
to assign it to the variable Z dot
product this dot product is an array and
apparently array is bound to the UI to
show some data and error if error
happens I want to print data on the
console and finally the third functions
the circle back is what to do when it's
the stream is over so this is an
observer these three combined is an
observable in my example inter component
communications very important part since
this is a library of that your app
consists of a bunch of components you
they need to talk to each other how
what's the proper way to arrange this
inter component communication it has to
be done in a loosely coupled manner
right so component a and component B
should be able to talk to each other
without even knowing that each other
exists how to do this first of all there
is a clean API so-called input and
output properties on the class if you
have a class say order components in
this case the class that knows how to
place in order in order for watch to buy
some stocks who's gonna give me the
stocks I don't know I am a component I
just defined it somebody whoever wants
my parent component whoever it happens
to be will be giving me quantity and
stock symbol to buy right so I undertake
these two guys this one is a is the
variable and this one is a setter i
annotate these two with eight input
annotation so whoever once they would
give it to me I don't know who it's none
of my business who is that guy let's say
you have a parent component and in the
HTML template of the parent you say I
want to use order processor see this
selector order - processor that's why I
can use it in the parent
it was angular bracket order press and
what do I do here I am using binding
again this time I denote it with square
brackets I'm saying take the value of
the variable stock apparently I have a
type 3 class somehow we'll get the stock
and bind it to the order processor stock
symbol so this is how we pass the data
inside through the input property seek
the chorus clean this guy has no idea
who is going to give the stock or in
this case I am using 100 as a quantity
I'll record a component can pass the
data out without any tight coupling
using events in this case we define last
price and we marked it with an
annotation output meaning that this is
how we're going to send the data out to
home it's none of my business I am just
a component whoever wanted let them
subscribe to it so what do I say here I
declare a variable last price of type
event emitter by the way event emitter
is a subclass of the class subject in
our X library similar to what we do in
JMS for example with topics so I'm
saying I'm going to be emitting a custom
event called last price in this case and
this event will carry a payload of what
type here's here's the diapers I price
quote apparently I declared an interface
and I will be shooting out the objects
that are of this type in this case I am
randomly every second i creating an
object with random price and i also I
will be shooting it out how the parent
will get the data simple and unique
I mean unified syntax parentheses in
angular in HTML then you want to process
events you put the event in parentheses
being that standard on the event or your
custom event regardless so in this case
I read this line in ICU I'm using price
quality component great and apparently
this component can dispatch an event
called last price what I want to do when
the last price is dispatch I want to
invoke the function
ice water handler and fast this object
to this price photo handler what will be
in that object exactly what I define in
my interface I price quote so no you
know miracles or miracles there you know
exactly what's happening and over here
I'm saying last price dot emit this is
how you are shooting out the event to
whoever wants to hear clean
communication how do you you work with
state say you want to have some class
that remembers the state of your app of
course there are frameworks that allows
you to do that in a fancy way but in a
simple way if you have imagined that you
have an app I use all these geometrical
figures or shapes to illustrate this how
your app can be structured you have a
top component then you have another
container number two which in turn has
two components four and five you may
have another container three which has
seven and eight and six tend only the
components shouldn't know about each
other and how do you do how do you
exchange data and say number five the
usual typing something in there and this
needs to be known inside the component
number six and number eight how can you
do something like this you create a
service a class you define in there a
place to store this data variable or
variables right and you inject this
service into all interested parties like
in this case I would be injecting it
into number five into number six and
enter number eight components right so
number five then can put some value into
the state variables inside and it can
fire an event number six and number
eight can subscribe to this event and
whenever it happens if it happens they
will get it so every time number five is
changing the state number six and number
eight will get notifications again
number five six and eight have no idea
that each other exists loosely coupled
communication forms API actually there
are two api's for working with four
one of them is called template driven
API and the other one is called reactive
API what's the difference with template
driven API you define the form right
inside HTML like on this slide this is
the form for example for the user
registration form a user Social Security
password and so on
looks like a regular form right but I
want to handle it somewhere I don't want
to I wanted to send the request to the
server as soon as I hit the button
submit it's a standard default behavior
so what do I say first of all I say I
want to intercept the submit event this
is how you do this in parentheses in
this submit what I want to do when the
user hits submit button on the form you
want to pass the values that the user
entered on the form for validation made
so how do you do this how do you grab
the handles for the Dom object that
represents the form how do you find it
in the Dom very simple you define a
local variable in this case I decided to
call it F with cash sign and this
variable right there it gives you a
reference to the place in the dome where
this work form was created so if I want
to analyze the values on the form I say
F dot value I pass it to my function on
submit and I can do whatever I want to
the data so the value will have an
object with key value pairs each key
will represent the field on the form
very simple reactive force on the other
hand is allows you to define a form in
typescript northern HTML but in
typescript you have to program more but
you have more flexibility now
deployments let's talk about deployments
it's important part how do you deploy
there are different packages to deploy
like grantor golf are popular in
JavaScript world but there is a simpler
way too that can conserve most of your
needs in deployment so it's called NPM
scripts in package JSON you have a
section if you have a section script you
can define commands
that you want to run you can run these
commands like start it's like like an
alias the start command is an alias to
ng serve and this long longer line
orange e build instead of typing in G
build their prod I could have typed npm
run build and so on moreover this system
is really smart why it is smart because
it uses prefixes and suffixes like post
and pre and let me explain you how this
script works but first of all whatever
what does it mean to deploy we need to
build a bundle right using webpack or ng
build and we need to copy them into
certain destination is that if something
was there from the previous deployment
we want to delete it leave the directory
all sub directories and copy a new
version that's it right this is what you
do regardless of what language you use
so let's see what what I can do I can do
ng build write and G build we'll run
this build this command this command
will create bundles for me in a
directory dist
by default and NPM scripts are smart
enough to see oh actually there is a
post build command as well which means I
must run it right after the built it'll
run it automatically what do I want to
do I come up I want to run NPM run
deploy oh there is a command deploy yes
but there is also command pre deploy
right so it won't run this deploy to
mount it first to run pre deploy which
what are we doing there rim ruff is
these little utilities that knows how to
delete directory in sub directories
regardless of the platform works for
Windows Linux Mac so I want to remove
stuff from the server build public in
this case m'kay derpy again it's a
cross-platform utility that knows how to
create a new directory and then I do
copy files from my J's directory where I
build my bundles into the directory
that's it deployment is done I guess I
have time I will show it to you how this
works and now let's take a simple
example with spring boot I created a
really simple spring boot app within
endpoints that Richards mystery
hard-coded
products right and I want to create an a
consumer in angular and deploy it under
spring Bush right so this is the code I
will show to you the IDE now this is the
codes that I have in spring proto
controller and simple product but
angular code I will build I will build
it in my directory this and then I want
to make sure it gets copied over here in
if you put static resources which is the
HTML CSS JavaScript inside the resources
static then your deployed the deployment
in spring boot is done so now let's
let's see if we can run it real quick so
this is my my app in spring boot what do
i do i created the proto controller i
said that whenever the requests come to
the api in the URL it has to come to
this class right and what else what else
do I say also I see whenever the there
will be a word product after the API
I want to invoke this method this method
get products it's supposed to return
products where are the product this is
my database an array of products three
products so let me run this little app
by the way as of now it doesn't have
anything deployed so directory static is
empty that's why when I will run this
server spring boot which comes with
Stonegate it automatically will start
the tomcat for me by default and it runs
on port 8080 if I will just go to my
browser and if I will go to localhost
port 8080 I'm going to get an error why
I'm getting an error because I didn't do
the mapping for the endpoint if there is
nothing after the server side right but
if I will do slash API slash product
which I did mapping for then I'm going
to get my Jason right so that's the guy
so my server works but there is no UI no
concern no consumer no angle consumer
just yet let's let let us keep it
running and let's go to the angular app
which is not that one I don't need this
one anymore
that I generate it
this one is probably the one in the
spring client right so what I haven't
this of this app it's again also very
simple app which has one component and
what do I doing here I'm saying run HTTP
GET to api products right and once the
data comes back subscribed subscribe and
if it's an array then assign it to the
variable data otherwise add a new
element to the data and the the products
will give the data the products is an
array and in the HTML in angular I
haven't g4 which loops through the
elements in this case of the product
array as many as they are over there and
will repeat this piece it's an unordered
list it will repeat the piece of life as
many times as they have elements in the
product that's it so if I will run this
as in reserve on my dear machine I will
create a situation which is kind of
interesting I will be running my dev
server on port 4200 right on the other
hand I'm running spring boots on port
8080 right so we have a situation a
conflict situation with cross with the
same origin policy I cannot make a
request from this app from my ABS at run
for poor 4202 the other port that is
running somewhere else so in this case
if I will check the error it will tell
me that it couldn't find the API
products if there is no resource on
portfolio con which is correct
my spring boot runs on port 8080 right
so what do we do so what I can do I can
define a proxy there are different ways
of doing this but I can define a proxy
right there saying whenever you see an
API in the URL redirect it actually to
the port
dded so how to how to run this with the
proxy I can type this command
the whole command manual to see where
this proxy file is or I actually
configure the command start which will
do it for me the whole ng serve like
that so what I will do I will run NPM
start and it will run and reserve with
the proxy it'll build again the bundles
in memory and when it's done I'll hit
the same URL localhost 4200 and and they
are here see these guys came from the
spring boot we contain now I have
situation in the dev mode I am running
two servers it's convenient for me to
run their server to build all the UI in
memory right using this epic dev server
but realistically when I'm done I want
to deploy this stuff right so I want to
deploy my bundle under the spring boot
container correct so this is exactly
what we will do now and it's pretty
simple coming back to the NPM script
section look at this these four commands
I will run an NPM run build which will
build the bottle for me after this
command is done you will see a directory
disc or here in the UI part then it'll
run deployed and pre deploy in pre
deploy it will remove stuff from here
look at this server says you mean this
is my spring boot guy let me show you
the directory structure that I have I
have this dev ox and I have this I have
this spring directory which has two sub
directory client and server server is
the air that I showed you
that's my Java F spring boot and this is
the client so I go one level up and then
two server and where I need to be where
is that I go to server as a see main
resources static so it will remove
anything if anything exists from
previous deployments it will recreate
the directory and it'll copy files from
my death directory right there so let me
do this
- you're quick npm run what build it'll
run built and post built and pretty flow
and deploy if you will watch down there
you'll see right now trance and ng build
- prod when it's done it'll do pretty
fluent deploy she's done it dot you did
dream rev client did copy file if I'll
go to my spring boot projects look at
this I got stuff under static now see
all the files all my bundles from
regular real copy that's all I need to
do let me actually restart the server
the spring server now I have a spring
boat app with deploy angular underneath
so when I will restart the server I can
just hit the port 8080 and I am expected
to get my angular app with three
products properly rendered let's see
this one is portfolio 200 but I will do
now 80 and it works so with what did we
just did we created the spring boot up
we created an angular app we deployed it
pretty easy pretty I don't have much
time so let me finish the presentation
and then if you have questions you can
ask me finally look at this guy it's a
site that was created in 1995 and
surprisingly this side is still alive it
is horrible and you'd hate right to buy
stuff on this site but this is how
things were done before so people from
Google decided to come up with some
proper standards of how to design site
so they are pleasing to the users they
created the spec material design and
different library started to implemented
for example they created all these nice
Colette's they gave all the number
saying that you can see use this as a
primary palette and this is a number and
you can use these 50 shades of grade
grey or anything else so the site will
look better they define how to do
animation from the UI how the button
should look and so on angular material
is library that angular works in the
you works on it scares already like 25
components but it's not enough for a
real-world application so what we
usually do we start with angular
material really good quality components
and then we run into an issue for
example it doesn't have a calendar
control and we need it right so we use
third-party UIs for angular this is this
is something that I could recommend you
prime energy we tried another one but
primary is a good one if anybody used to
work with primefaces
before in Java server faces that the
same guy the same guy from Turkey who
created this library back for Java and
now he created it for Inger I don't have
time for the demo because I have 75
seconds left that this last slide take a
picture
up on top there is a URL for the for
this slide deck if you if you care if
you want to unload it so you can do this
so thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>