<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>From Monolith to Microservices with the help of Hazelcast by Will May | Coder Coacher - Coaching Coders</title><meta content="From Monolith to Microservices with the help of Hazelcast by Will May - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>From Monolith to Microservices with the help of Hazelcast by Will May</b></h2><h5 class="post__date">2017-05-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/82mgDiT_qzM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">where again you make it do it makes it
right
my name is will May I'm a senior
consultant sets open credo where
hands-on consultancy arm I seen our
booth down in their home
I'm a certified hazel class developer
and I'm going to give a talk on moving
from monoliths to micro services with
the help of hazel cast what we're going
to cover his brief look at some of the
problems you can experience moving to
micro services I look at what hazel
class actually is how to use hazel cast
and finally go on to what can you use
hazel cast for when I'm trying to solve
them to be something to micro services
so first of all I won't go too much
detail about what's wrong with monoliths
so many other talks out there but
basically it's easy to get into a big
board of Mars when you have a monolith
it's difficult it can be a bit all your
architectural designs can fall apart if
you're having different to scale up your
monoliths not in your official search
citing heavy to use then you also have
the scale out your log in size it's also
the problem that when you choose your
language or framework for your monolith
you're then stuck with that language or
framework it's a long term commitments
you also have the problem of the states
in modernist not only do you have a
usually a single source of your state
such as database which then has problems
when you try and scale but there's also
when you form to spit out your model if
then you have the state that's normally
stored in memory such as simple cache or
you can also have problems then you have
states being streamed in when you're
trying to maintain some sort of order to
that data coming in or even the variable
HTTP session that comes up with a whole
load of problems so where does hazel
cross fit into that well first what is
hazel cost and how's it fit into that
well hazel cost is a
as the distributed memory data grid
distributed which means the spread
across many machines distributed in
memory as in not on disk and data grid
which wikipedia'd finders services that
gives users the ability to access modify
transfer extremely large amount of data
so this means that you can process that
large amount that large data you have
which can't fit into one single machine
and you can posted that data on those
other thread across a whole cluster of
instances and rather having to drag all
that data to one single place make some
modifications and then send it back to
where it came from
hazal class has gives you a number of
simple abstractions over this data such
as we can use maps or sets or lists and
things like that it also comes with
native Jake a CSR 107 support and also
it's open source Apache License with
enterprise support so you so wish to use
it you're getting started with the hazel
cost is important example with spring
boots you just simply have to add a
dependency and then configure it and
that's about it
there are hazel cross ones in two
different ways the first mode is
embedded which means that your
application that you are running will
house likely host hazel class inside of
it
the second method is client where you
have a separate cluster entirely for
hazel cost and then your application
will then talk remotely to it
so here is getting started in the bedded
mode we just simply add the relevant
division spring bootie simply add
relevant dependency at the top there and
then you can configure it's down the
bottom in this instance we simply add
two extra nodes to its intended to go
look at port 5 701 which is the default
port for hazel caste and then another
node 5 702 we also disabled its defaults
multicast lookup you can also as various
other ways to configure its lookup the
areas of module for doing hazel
kubernetes lookup for example and that's
what it looks like when it starts up it
finds a list of is cuz up the list of
the nodes in this case it didn't
actually find the second one and 572
because she didn't start if it wasn't
there so good simply ignore this for
clients mode there isn't built in
support for spring boots do I skip this
to slightly more work there's a pull
request out there which is 7 4 6 9 I
believe is then tending to bring in on
version 2 or spring boots but it's not
not there yet so here in this case you
simply at the tenancy you can figure it
and then you also have to create your
Hazel class instance yourself the
advantage with having using client mode
over say embedded mode is that with
climb mode you can actually have other
languages talking to that cluster say
Python for example it also means that
the size of your Hazel class cluster
isn't bound to the size of your
application cluster and you might have
to sort a large amount of data that
needs a large number of machines to
stall those budgeting application
doesn't process at that manager queries
you know you don't have to have a small
number of instances
so here is yes it's not sorry yet here
is it starting up in client mode in this
case they found an instance running on
45701 yes that's what sort of looks like
so what things kind of debts
hazel cars can do to try and solve your
distributive problems one of the
problems that smaller lists tend to have
especially Java modulus is that they
love their HTTP sessions it's quite
common digitally store data in there you
know you do a search you store it in the
intercession so then you can date to
retrieve it
this makes it much harder to having
these sessions makes it much harder if
you're using any sort of cluster
management's especially something like
kubernetes on may sauce because they
prefer you to be written stateless then
it would be kind of possible to get it
done whilst using sticky sessions so you
go to that particular pod in your
cluster but then you have to then save
your session out somewhere and then you
have to then remount that save data to
another point without port dies and yeah
what happens if the questions in the
wrong point of time fortunately hazel
class has a solution to this which will
tend to quickly show you now if I find
the mods
you presentation mode
gaveta so we have different application
here we have our pom file this is just
simply created from the spring boots
they're getting started regard we also
have a very simple demo controller
scientific it always returns a page as
well so we have essentially we get added
dependency thank you
it faulted
- when you're looking at their
on second thought look at my cheat sheet
the group is coming
so then we go to this application then
we add on you being
why is it not come on Lizzie
oh and what I've done I wanted to save
power so I disables that
nice
yes yes yes that's better
all right so if we quickly
can you start up that and then go over
to Chrome which is wrong
this slide but this is session one saw
some presentations on
please
no sir all right so if we go to
localhost port 8080 see very simple
websites it's - something there it says
it's on HTTP sessions wonderful if we
then open up another
shut up another one on port 8081
completely different instance
it's moment it's using its multicast
lookup so it may take a while so I
thought let you can see it straight up
straight away and all of a sudden Bob
our session takes is 40 present we can
kill off the first one if you want to
and the data is still present
um Henry vector this so what else can he
will cast do one of the common patterns
for using when you try and spit out
something to micro-services each
microservice is responsible for a
particular bit of data and then when
user makes requests you didn't have to
bring all that data back into the single
points this may be your large number of
requests so it's quite easy to have a
simple cache in hazel class and this
case didn't expire after it's been
accessed the last time by but it's
created or it's simply programmatically
expired you can also if you have a
stream of events coming in such an
intuitive things you want to maintain
order you can easily set up a
distributor event else into occurrence
you can do consistent manner to your
cluster of haze across instances and
then protis them one at time on those
instances that you can also have
deduplication with if you have a seek RS
you have commands coming in they have
some complicated commands they don't
want to make sure you don't process the
same command twice then you can easily
use CTRs to try and you can easy sorry
has a opportu duplication check as the
command comes in so finally it can be
difficult to spit out monoliths
especially when you have all the the
states share especially when you're
talking out a UI layer but yes something
like hazel cost can can assist you with
these sort of things we're going left
any questions
Luke okay thanks very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>