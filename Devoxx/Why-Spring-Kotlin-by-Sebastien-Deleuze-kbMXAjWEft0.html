<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Why Spring ❤ Kotlin by Sébastien Deleuze | Coder Coacher - Coaching Coders</title><meta content="Why Spring ❤ Kotlin by Sébastien Deleuze - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Why Spring ❤ Kotlin by Sébastien Deleuze</b></h2><h5 class="post__date">2017-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kbMXAjWEft0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome everybody
I'm Sebastian ders I walk for pivot
errands with pink a Mac Mini and the web
reactive and Kirkland stuff I'm also a
staff member of mix it conference in
France and today we are going to talk
about spring and Kathleen currently is
the most popular way to will do build
web applications is using spring would
injure obviously and we are going to see
how far we can go
using speak boot but with cotton
language at the beginning of the year I
introduced the Copeland's report on
officials report in Spain for Mach 5 and
we see a huge amount of feedback and a
lot of people seem to be excited so we
have continued to polish to improve this
report and today I'm going to show you
what what is available in order to see
what are the features available we are
going to emigrate to typical spring good
application from Java to Kathleen and we
are going to do that using multiple
steps that you can you can have a look
to the code on this github repository
the first step will be switching from
Java to code clean without any taking
any advantage of the new code in Jupiter
so just changing the language then we
are going to immigrate from spring boot
one to spring boot to spring going to
leverages Spring Framework five and it's
official cut in support then we are
going to change the spring MVC web
homework to use new web flex
non-blocking and reactive hammock using
the same annotation based programming
model and the last type and server-side
will be using the new functional and
function LEP I encourage in DSL
we are going to finish the walk by using
cotton instead of JavaScript to develop
you from ten because one of the goal is
to be able to leverage the same language
the same knowledge for you values values
part of your applications so let's start
by migrating from Java to Kathleen the
easiest way to start a new Springwood
project with cotton is using the stubs
da spring the tayo web site
it's reports kirtland in addition to
seven groovy and you can use this this
special URL to press select the continue
edge so when you share a starter spring
data link you can use that to make
continues by default when we started to
build the spring project with codeine
few time ago a typical issue was that
code clean as final classes and method
by default that's a choice that's a
design language choice and it does not
play very well with Java config and
transactional support for example
because at runtime we need to extend
these classes and this method with
surgery for example and you ended up by
using adding this open keyword at a
class and Method level and that was not
super nice so we with this person walk
with the jetbrains team and we ended up
by the zr created a cut in spring
compiler plugin which is set up at maven
on grader level it is automatically
enabled and start the spring data when
you create cutting project and it
automatically open spring and spring
annotated classes and methods and it
leverages
a meta-analysis report so even if in
your company you have custom annotations
meta notated with admin on for example
they will be taken in account and
automatically open by this mechanism so
in summary when you create a project
using status pinata you or if you just
add manually this plugin this is just a
regular class season and methods the
first part where cutscene really improve
our code is obviously by allowing to
write more concise code so for our
domain model at the left you have cut in
code and at the rights July 1 which is
going up to the flow when I display
everything and obviously we can write
very efficiently very fast digital code
because our IDE providers values
automating things to generate getters
setters equals ash code etc but when you
have to read
when you have to debug when you have to
maintain this code I guess I prefer
maintains the Krypton version so here we
are using classes from cut plane with
this short syntax where you declare at
the same time the properties and the
constructor that's similar to what is
available in scalar for example I'm
using the Val keywords because wide in
Java that's usual to have getters and
setters
so mutable classes in coding we try to
use more immutable classes especially
for the domain modem so it's a best
practice to use Val to say it's
immutable and like Val which are mutable
properties I'm using the same
annotations you see that the type the
type is after the name of the property
Kathleen deal natively with new safety
that means that the string and the local
that time most of the properties are not
variable and that means that Kathleen
will check at compile time that you will
you will never put a null value in that
and you when you want to make a type new
label you add this short question mark
like in the description property that
means this field is basically optional
and you can take new value and in
Kathleen new labelled values are a
little bit like the optional type in in
in Java but they also apply to
parameters in in values other use cases
the data keywords allowed to generate
automatically as code equals to string
and also copy and other facilities to to
automatically so let's have a look to a
typical spring MVC controller written in
Java so that's a regular one it
leverages later spring for feature by
using implied auto wire so since there
is a single constructor it will be
automatically over here no need to use
this annotation I'm using also a
shortcut annotation get mapping post
mapping which aliases to request mapping
to specify directly serve as a method
and then if I have a look to the
Kirkland version that's basically the
same with shorter code because people
is the default for classes and methods
because I use this same short notation
to declare the constructor and the
properties at the same time don't forget
the private key word here because by
default that's public so here we want to
make that thing a private no need to
expose that on the public API and then
you see that I'm living readings
Kirkland type inference and the short
notation with equals for one-liners
function to provide a very concise
implementation of my controller some
Java developers and others could be
preserved because we don't see the type
so to point about that the first thing
is that codeine is a statically typed as
Java so even if the syntax look like a
little bit like dynamic groovy we are we
are a statically type as in Java and I
would say curtain is even more
statically typed in Java because it deal
with new safety which is additional
safety and the type system you have the
option to enable type-ins in IDs so I
have enabled that by default for all my
projects in order to be able to see the
inferred type so I don't have to write
the return type but I can see what is in
fear by quadlin you can enable these
parameters in an ID and you will see the
info type like the functionalities for
parameter names another nice feature of
Cochin is to be able to write expressive
test name with backticks so backticks
can be used everywhere in main or test
classes best obviously I try to avoid
using that in my SSD main code and
mainly use that to write expressive test
name so instead of using the usual
camelcase notation for my test names I'm
using these backticks notation emoji as
just for fun you you can just use
regular sentence but when you run your
your tests you see this nice sentence
that can explain in a more readable way
what are you testing and yeah that's
that party useful so until now we have
not taken any advantage of the
contingent report we are just using the
nice feature of the court in engage so
when I say that spring love Catrin
that's me
that we officially support it and we
support it in the various parts of the
spring ecosystem a spring far Mach 5
provides the foundation of such report
and reactor core spring datak a spring
good - which will be available at the
end of the year leverage that report and
also provide some specific but lien
support things we don't provide any
additional code fin extension jazz the
Kirkland report is directly provided
inside the spring form of the spring
data to spring boot jealous so what we
have done is that we have in addition to
the regular drive API which is usable
directly important because a key point
is that cotton has a very good event a
hotel antelope ability we provide a DSS
an extension directly in the spring jazz
and when you use playing with your
cotton project it's available directly
there is a detailed reference
documentation so feel free to have a
look
it details every spring for mock
features and we are working on similar
documentation for other spring projects
there is also an API documentation so
like I said the spring curtain API is
the Java one plus an additional coaching
staff and you have this specific
portunity I documented and available
that's like a Java doc but for for
Kaitlyn so obviously when we walk
richelene we will use that with spring
boots
so reading spring would one application
with cotton is like that you have
top-level functions so men don't have to
be included into a class you can use
that directly at the top level this is
the version that is using spring good
one which does not provide any Caitlin's
reports and whispering good - we provide
a top level function called run
application that leverage curtain type
system to be able to just specify foo
application without using current
current class that syrup which is
shorter you can declare additional beans
using the same type inference feature
that I shown previously
so now now let's talk about the
extensions we are providing so we are
providing additional code in specific
functions just provided in in spring for
mark and we provide extension so total
extensions are the possibility to add a
new function into existing types that
sounds a little bit strange what you
come from Java work but you can see that
as util classes that you can directly
call on the type so that's mainly
syntactic sugar but quite useful
syntactic sugar because that allows
instead of providing some codeine
application context or cutting wrappers
everywhere we just use the right with
the right same classes and we just add a
few curtain extensions on this existing
classes so for example we use this
extension to add an asset operator to
the model class which is useful for
spring formal views and that allows us
to provide this nice array like syntax
instead of using model that add
attributes and make our code notnot
Colinas a much more powerful extensions
is this one red pepper a meters are a
nice feature from Kirkland which allows
to get the generic types Android at
runtime and lecturer so that's a way to
walk around Taipei Reserve so I have
taken the worst possible example in
spring so sorry but that's how do you
get a list of something using restaurant
plate
you can tweak that with arrays but if
you really want to use lists you have to
use
parameterize type reference which is a
trick to get the generic type at runtime
and it's only enabled with exchange so
I'm forced to use exchange and I ended
up with this not so readable code in
Kirkland using the extensions on rest
operations which is interface of
restaurant plate and just leveraging
could fin a feature that is able to take
to get this time from the generic type
and you can see the cutting version is
much much more readable so we provide
this kind of extensions into the
use places where it makes sense in
spring API we also leverage continually
burn information to determine request
param and auto buyer required attribute
so in fact we spring from Mach 5 is able
to understand Kirkland type system he
knows if a type is new labor or not
so in that example foo is a parameter
that we'll be able to wired and it's not
new label and is a new label a new label
parameter and when it will be able to
weigh out the fobian Willman will be
mandatory and the BA bin will be
optional it's also taken in account for
request param so if I add the add
request param annotation on new label
parameter it will be understood as a
request param equal article force
without specifying that explicitly this
is considered by many as the most
important feature of our code Lynch
reports even if it is also useful for
Java developers we have added some new
safety of the spring API so by default
code in consider a Java libraries types
of the API as platform types so you can
see when you are in Kirkland you have
this exclamation mark the platform x
means that curtain is not able to say if
a type is new label or not because Java
does not deal with that information so
what we have done and and yogin and me
have spent a fair amount of time to do
that with huge commits it's to have new
safety annotation in the world spring
formal code base to define clearly the
semantics so the idea is to we have
introduced adnan new api at non-nude
fields at new label and notations these
annotations are meta annotated with just
a few 5 annotations which define
basically the semantics and we have put
the admin API annotations at the package
level to define the default in all the
code which is in this package to nominal
so by default each parameter
each return value is considered as no
new and when specific return value or
specific parameter
is new label we specified that with
admirable annotations and when you are
developing a curtain project and that
you had at maven or greater level the
free compiler arcs equals GS 305 equal
strict it means that Kirkland will
interpret this information even if you
don't have GS F your five jars in your
class pass as a new safety information
and the advantage is that you get a full
nerd safe API in your application so
concretely it's basically prevent any
null pointer exception to occur Katrine
deal with no safety at compile time and
it avoids your code to generate new
pointer exception at at run time so a
pretty important feature which we are
still working with the brains to provide
additional new safety for generic type
arguments verax and array elements
because it is not taken in account by
default currently but it's coming
configuration properties I guess that's
the main remaining pain point where when
you create a spin good application with
Gatlin basically the new safety feature
of Kathleen is not a very good fit with
the current at configuration properties
so when you try to use them in order to
get your configuration files in a type
safe way you ended up by putting a lot
of new label properties with new default
values and it's also Val not Val so
whispering boot to there is a nice
feature coming that will be super useful
with Kathleen it is the ability to use
interfaces to define new configuration
properties and the big thing is that
that's in able to use immutable
properties because configuration is not
expected to change during the runtime
and also it allow you to use just
non-liberal types and Springwood to will
inject by default the right
implementation it's not yet available it
could be also interesting switch for
data classes but it raises a set of open
questions so I think it won't be able
- in spring but-- - but with interface
based configuration properties if they'd
make it for spring but-- - final version
i think that pretty great when you use
that in Kirkland another thing that we
support in unit 5 is in spring for Mach
5 and spring but-- - is the unit 5 and
unit 5 introduced a very nice feature
when you play with Kirkland its
non-static before and after all I guess
you you already knows that with unit 4
ad before class and ad after class need
to be static and what is static in Java
world need to be companion object in
Kotlin I won't show this video that's
not the future I prefer and and the code
is not very nice so when we use unit
with cotton and if you use unit 5 you
can define a new pair class lifecycle
because by default units instance 8 your
class one time per class path test and
you can change changes behavior by
defining in the unit
- platform the properties you can set
the backlash wave cycle by default and
when you said that unit 5 Williston set
your class one time per class and that
allow you to use a non-static at before
all and at after all method so that's a
pretty good fit with Cullen and that's
also I guess useful feature in Java and
if you combine all these things you can
write a very nice pacification like test
with cotton and renewed five code clean
brings its own ecosystem of testing
framework so for example the respect
which is a dedicated cuddling homework
to write specification like tests but
the integration with the IDs is not
super great the spring integration is
not that great and also it's usually
difficult to write integration tests so
I prefer using Kirkland and unit 5
leveraging the nested classes reports
the expressive test method names and by
doing that you basically ended up with a
nice specification like tests from
Rockwell supported in your IDE and I
think that's a that's a good fit for
most use case
this one is a experimental feature so
you can upgrade to the Kirtland - script
that completing example that shows that
it's being able to use Kirkland for
templates not only because I use I like
to use cut in everywhere but the idea is
to avoid learning a new template system
there is so many and Curtin is usable as
a script language and when you use that
as a script language you can leverage
spring emissions spring waveflex GSA 220
freeze report I one use there is quite a
lot of thing to set up so it's a generic
GSA 2223 report so yeah it's not it's
not straightforward you have to add
caching because combining Kathleen for
each page is quite slow so you need to
have caching I have put a quick and
dirty implementation in this example but
the result is that you can use
Kathleen so here is an example of
multi-line string in Kathleen I'm using
another feature which is string
interpolation and basically you can
build an internist is a templating
system that deals with
internationalization with nested
template etc so yeah may be a good idea
if you want to contribute something in
the good clean and spring ecosystem now
we are going to use a web flex for mock
so speak for Mach 5 comes with two web
stack a spring and visions in waveflex
spring MVC it's the same web framework
that you already knows and there is a
spring MVC 5 spring MVC is not
deprecated they still super useful it's
relevant for a wide range of use cases
but we also provide an additional
non-blocking web comic which is based on
reactive streams instead of servlets so
use cases where it is useful our
streaming scalability in spring MVC when
you have a lot of concurrent requests
one thread is used for each request with
web flags it is based on a non working
runtime using nettie or
the non-working api of solid food at one
or undertow of any kind of
engines reported so that's a good use
case for that streaming with the server
sent events and WebSocket is also a good
use case and every use case that imply
latency basically so when you call
remote web services which are usually
slow that's a good fit so if you are
building microservices architecture
that's also a nice use case a very quick
word on active stream that we are using
as a foundation reactive streams is a
kind of specification that specify how a
publisher and a subscriber will exchange
data in a nonworking way using events so
basically you start the transfer by
subscribe us subscribe to the publisher
and the the differences with other
mechanism is that with the backpressure
mechanism nothing happens the subscriber
as to to request one two three more data
chunk so basically no data is sent by
the publisher before the subscriber
requests this data and in practice
that's a kind of volume tuning to
control the amount of in-flight data so
when you have a very fast pretty sure
that avoid to get the subscriber
completely overwhelmed by too much data
and data low basically the publisher and
the subscriber to exchange that I know
in a friendly way it's useful to deal
with infinite streams but also with
finish streams or even for single single
values the data transfer could end with
the complete or annual event and event
as an exception parameter and that's
yeah that's the root of our reactive
nonworking support wet flux
implementation in bay is based on
reactive streams and on rector which is
pivotal based reactive api but that's
for the internals
a new application where you can use
every kind of asynchronous types so
compressible future flow publisher which
is basically reactive streams API
integrated in Java nine reactives eric
server one Eric server to react
obviously and
any reactive streams based rec TV I like
akka streams for example so let's just
focus on rector for my upcoming example
so rector provides two main types flax
and mono flux is a reactive string
publisher so flux implements reactive
stream publisher and deal with zero to n
elements that's similar to a ridge of
observable of label for example in term
of API and we have try to reuse the same
API then you have interactive extension
so if you already know area Java you
know a good part of the Flex API we also
provide a mono type which is a publisher
for 0 to 1 elements so you can see that
as a kind of reactive future or reactive
from eyes and it provides operators that
are specifically designed to deal with 0
or 1 elements typical use cases for
example you want to combine the data
coming from a streaming API like Twitter
with a REST API so you do that by using
the web flex client which is called web
client so that's a kind of reactive
improved version of the restaurant plate
that allowed to request as to web
services but also request some streams
streaming data and expose the result as
a flex you can use the operators of your
reactive API to combine this data
together and eventually expose that as a
rest web service or service ant event
streams or web sockets like you want a
key point to understand is that reactive
api's are functional api that means you
will you will write different code than
the regular imperative style programming
that you are used to in the blocking
world and key difference is that you are
going to use this kind of dot notation
where you build your pipeline use
transformation so here we are getting
the data from a main fetch weather web
service using this mono based API then
when the reason we log a message and
when the array we define a timeout of
two seconds and when the timeout to
occur we use a backup service
which was maybe outdated data but
locally and we transform the domain
method object to a message and here we
don't exactly that we just defined the
transformation and at the end we need to
trigger the processing effectively so if
you do that manually you will call that
subscribe when you use that in web flags
that will be done automatically by the
hammock so is this kind of new way of
writing your code is as drawback because
you have a lot of new things to learn
and that's a different kind of
programming but it come also with a lot
of advantages because you can do much
more powerful things so yeah drawback
and advantages we use Cathleen to
provide extensions to react taco which
is like I said mean out to Eric Java so
you can use for example the two mono
extensions with aloe to transform any
kind of object to a mono instance we
have the same kind of extension with two
flags on iterable and corrections you
can transform easily an exception to a
monoi oil flex and since testing
facilities in rector are in a different
project in rack vector tests we have not
been able to put directly a dot test
method on on flax and mono but the nice
thing is that with the test extensions
you can apply that on every rack if
stream publisher even other for example
you can write that on flowable from an
exhibit who as well and that were you to
write this nice code drawback effective
applying device that you can't add
additional operators to them directly
because reactive api's are using 300 PS
and basically you can't add something
after in Java so a nice use case of
curtain extensions are to be able to
plug the reactive extensions of like for
example we have some mathematic
extensions of rector which allowed to do
the maximum the some of our other edge
operation on flex and in Java you have
to use this kind of utils method to
apply it on the flaps in Kirkland we can
directly use and add an average method
that will be available if that's a flux
of integer but
if that's the flex of string now let's
have a look to this kind of web flex
annotation based controller so you can
see that the programming model is the
same even if in terms of types and codes
the implementation will be different
because we are dealing with mono and
Flagstaff users instead of dealing with
pain values another key point to
understand is that when you are building
a nonworking or reactive application you
stack need to be reactive and and non
working from the web part to the
persistence part and also on the HTTP
client part so spring that a que
provides directives report for MongoDB
reddy's guess on language base and you
can use that in Java and in Kirkland and
yeah SP report will maybe come later I
can discuss that after the talk if you
want more detail this is an experimental
feature not supported yet so v1 but
there is a very interesting feature in
Kirkland which is cool routines so cool
routines are lightweight threads a big
limit of regular thread is that you
can't create too much sweat because it
consume a lot of resources a new in your
machine to routine lightweight threads
and you can create many many thousands
of them the main use case from my point
of view for co-routine in the spring
world there are two main use cases the
first one is to use the web flags and
the spring data reactive new feature
which allow much better scalability but
while keeping the regular imperative
programming the other use case is
creating new apparatus for actor because
creating new Piratas in Java is super
difficult I usually ask to Simone best
way worse than a staff imagining to do
that instead of me and yeah it's it's
it's a bit difficult so by using
co-routines
and cutting extensions you can basically
write new operators more easily and also
plug them on flex and mono easy so there
is reports officials report for created
by JetBrains directly
for active streams and reactor in the
cut vinick's co-routine project which is
the official JetBrains co-routine
library in this report a mano of t will
translate to a function that return the
mona lefty will translate to a suspender
belt function that returned a new label
of T so you remove the wrapper basically
so that's pretty interesting a function
that written the Flex of T we returned a
su span will be a sustainable function
that returned a receive channel if we
are talking about the stream for example
for sale sent events or you can just use
you spendable function of lists if you
want to use some kind of just some kind
of asynchronous list mono of very
translate to responsible function that
return nothing so be aware that this
report is available as been contributed
by the community so Conrad Comiskey has
done a very great job to support that on
both bring family for because there is
also support for springing Missy
even if that much less powerful and
spring for Mach 5 and wave flags and
spring that directive MongoDB we are
currently evaluating that because some
people ask us to support that officially
so be aware that kuru tina experimental
in kathleen 1.1 and what not to say will
be may be funnel in : 1.3 there is no
official support yet but there is an
open open issue where we discuss and we
have began to work with Conrad to see if
that's something that we couldn't
integrate and there is an ongoing
evaluation of the performances because
obviously
co-routine as a cost it's an eye level
abstraction there is some open issues
about back pressure interoperability so
and we need to fully clarify these
limits and also by seeing that we can
see that coroutines a good fit when you
deal with mana of something so mono of
least mono of a value but i think there
are less pool of much less powerful when
you begin to use advanced operators do
streaming etc so so if you just want to
put your regular spring MVC application
to something that is using the new
non-blocking a runtime I think that's a
good use case if you really want to do
powerful things
rhaggy of api's are still super power of
much more powerful and Alberta fit so up
up to you feel free to experiment with
that
so what look like spring MVC web flex
with school routines using the energy in
poly model you can see that that's very
similar to our regular blocking example
except that we are using the Swiss bank
II world to say this function is
responsible and internally nicotine will
transform that to a non UF user or a
mundo of list of user and we can
leverage the regular web flex and spring
that are reactive non working stuff even
that's not streaming but that's non
blocking even if less powerful than
reactive api's so functional and yes l
okay so spring waveflex server in two
flavors you we have provided support for
the regular annotation based for me
programming model that is super popular
via spring MVC and we provides the same
for web flex like shown just previously
but we also provide a new functional api
so this functionary pi is available in
Java and in Kirkland
but in Kirkland we provide some nice DSL
to be able to use that with nicer syntax
so the building blocks of this
functional thing is buta function and
under functions
Ruta functions are basically pure
functions that take several requests as
input and return a mono of under
function and general function so with a
function is equivalent of the request
mapping thing and under function as the
equivalent of the body of you on the
methods and it's a pure function that
takes several requests as input and
return a manual server response so kudos
to inputs Mao who has provided that on
the Java side and on the country in part
we leverage that to provide a better
API we also provide a first-class report
for the client side with the web client
fluent API which is much more powerful
and fun to use compared to rest on plate
so what look like a functional web flex
application it looked like very
different from the annotation based one
so this is a DSL so the
there is a kind of I love a dpi so the
idea is to provide a syntax that is both
decorative and programmatic to declare
your routes and to provide unreal
implementation so here I'm providing a
water that we use you can see that it's
report nested routes so everything in
the nest every request that will match
with the text HTML except others will be
routed to will apply to the underlying
routes and we see that we will define a
route with slash which will return an
index view /ss fee that will return an
ACC view and on the slash users I'm
rendering a user's view with attributes
model attributes I can also use that to
expose server-sent events and thing like
that so here I have put Reuters and
unless in the same thing okay
just if you wonder the syntax with
string and long after it's because in
curtain you can redefine the invoke
operator on strings and I can I use that
in the GSL to provide a shortcut for a
path with the string notice also that we
provide a wide range of requests
predicates
so you can use request predicates on
paths on ITER's values media types in
the except table produces so you UK and
you can combine them with uses and a
keyword that that's not a cut in
operator that just a regular function
that is defined as in fix in fix means
that we can we can call a function
without the dot and the parentheses so
in fact this n thing is just dots and
open parentheses and the parameter
that's just a trick to to provide a more
readable and functional
syntax so the question is how do you
plug that into Springwood because
obviously nowadays everybody is using
Springwood so you will generally define
admin hooter okay so and and you will
you will be able to split so hotels and
so usually in my application I'm
defending that so I'm defending a Rooter
and using credible references I'm just
giving the reference of the function
that I'm cutting and under
implementation is like that in
Springwood it's a regular component I'm
using a construct or base injection and
I'm writing this kind of code like we
have seen previously but yeah so big
application usually I split the root and
the only notice also that you can use
multiple hotels I mean in the annotation
based programming model you have to put
annotations everywhere here you have the
choice of the granularity so if you want
to create a single monolithic route
route that's perfectly fine but if you
want to create a hooter for your web
pages another for you design API that's
up to you you can create as many route
as you can and you can also use the nest
thing to be able to compose them so
that's quite powerful Spring Framework
fibers were introduced is a functional
bin definition which is the most
efficient way to create bins so in
addition to its ml which is not used a
lot anymore
in addition to Java config which is used
everywhere in Springwood spring from
Oxfam introduced a new way to register
your bin and that's the most efficient
one it does not use any reflection does
not use a necessary proxy it's super
fast it's using lung disease it of
annotations and a key point is that it's
like for the routes it's both decorative
and programmatic so this functional bin
definitional a look like that so this is
the second we provide only two DSL you
can use the SL everywhere but we try to
keep that in control so we provide the
rooted SL and we provide the bins DSL
obviously both could be used together in
that way so you define bins like in the
old XML world except that's just regular
cut in code
okay so here Ben Ben is a is a function
that takes a lambda as parameter and is
in this lambda it's a kind of different
sensation of
you bin that will be cool by spring
during startup so I can use this syntax
to provide directly via implementation
and you can see that it's plugged quite
well with with the rooted SL if you want
an equivalent of the Java config
parameters when you can have a
dependency from one bin to the other you
can use this kind of ref method that is
leveraging container a vital parameters
and internally it is calling application
context that get been with the class
okay this is there is nothing new that
just a new way to describe that as a
syntax but underneath that's a regular
spring dependency injection you can also
provide just a class so for example in
this example for HTML only based on user
Honda and Magnum converter you just
provide the class and it will
automatically do the auto wiring so here
the values parameters of the constructor
will be automatically over Yahoo we
don't have to provide that it will be
done automatically you can also provide
some kind of dynamic thing like I said
it's programmatic so we provide profiles
and environment block to be able to
create bins anew when there is a profile
define or using some crystal merging
like that if you want to initialize your
database only locally and you can write
your own if for statements that's up to
you that's a declarative but you can't
put a programmatic thing into that so to
plug that with spring boot which is also
a question I have usually you can use
this nice syntax because on the new one
application function we have provided a
way to with the lambda to customize
created spring application instance
sadly it works for a running application
but it will be not taking in Econ for
tests so currently what I advise to do
it's it's less sexy but we may provide
some shortcut for that later maybe I
advise to create a context initializer
because you know the bins DSL is it's in
fact we're using an existing spring type
which is application context initializer
so technically
Bin's DSL is just an application context
initializer and I create an application
context initializer class that call in
terms of the values bins DSL and I'm
specifying that in the context that
initializer that places and three in the
application properties and it will be
taken in account for both running spring
good application and test yeah my mega
feeling is that it would be it could be
interesting to take even more advantage
of this functional thing into spring
boot in the future maybe so that just
opened description there is nothing that
will come I think in spring boot to but
feel free to experiment and give you
ideas on this open issue maybe you you
could have some nice and interesting
ideas to share about that and we will
finish this presentation by using
caffeine foster front end because I
think using the same language to develop
the back end and the front end is
something that could matters so in my
sample dip dive application I have just
a simple JavaScript code I'm not using
angular ember or complicated things I'm
just using regular JavaScript code to
display a notification where there is a
new blog post in created and I can use
Gatlin to generate JavaScript side
because code clean as a first class
report for the JVM but it's also support
generating JavaScript code until two
months ago it was not very usable for me
because it was generating two megabytes
of JavaScript for a single element so I
just said it was just impossible to use
that in my project but the nice thing is
that with Kathleen team is that the
exact level people which listen users
feedback and they have introduced two
months ago the dead coordination tool
which basically leverage all the
information from Kathleen static typing
language to remove all the news code so
that's a little bit like in on over the
world with the ProGuard thing that
remove a new thing and with this dead
code elimination tool which is just a
plug-in you plug in Gradle for example
you you able to write your front-end
code using the same coding language so
you have
type safety near safety extensions
auto-completion etc and you just
generate a very small javascript files
and yeah it can be usable in in real
real life
notice that curtain window to lows to be
mobility platform modules so you could
also leverage that to share more code
between your back end and you your front
end
the first thing I would like to say is
it's a little bit out of topic but I
think that's interesting it will be hard
for Kathleen to complete we state food
for example on the front end because Ted
Script is a superset of JavaScript and
it's designed to work with the
JavaScript ecosystem so I push very hard
for getting support for web assembly and
Kelleen so web assembly is basically a
native platform for the web so instead
of running JavaScript code you you run a
native bytecode it's already supported
by the for measurables off so that's not
something that it's something that is
really supported for now if you don't
know what webassembly have a look to
this very nice explanation by Lynn Clark
which is a very good explanation of well
assembly with a nice cartoon and I was
at Katyn conf last week to present the
very same talk and they announced web
based on this report in carton native so
in addition to JavaScript and JVM
curtain allows to compared to native and
web assembly is very close to this
native thing and could be generated with
with the LLVM tool chain so it's super
experimental is super young so don't use
that in production but there is initial
support to compile front-end native
application I know front-end and native
are strange things together but that's
coming and you begin to be able to
generate native web application using
Kathleen for your front-end and while on
JavaScript none it will have a time to
compete with typescript I think there
could be a need a cut in native
ecosystem that arise for the front end
and that's a nice nice place where we
could experiment and I also think that
would be nice a nice compliment to a
spring boot on the server side so thanks
thanks a lot
I hope you add a good overview about how
you can leverage
a spring official content report to
write a application with more fun and
more efficiently I will publish those
slides in a few minutes
in this way ahead you can follow me on
as the rows for fresh spring and
continues and everything in this
presentation is coming from real-life
example so you can go to this github
repositories to have more details
Thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>