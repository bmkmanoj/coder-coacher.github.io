<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Styling a design system based on Bootstrap 4 and Web Components by Andres Galante | Coder Coacher - Coaching Coders</title><meta content="Styling a design system based on Bootstrap 4 and Web Components by Andres Galante - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Styling a design system based on Bootstrap 4 and Web Components by Andres Galante</b></h2><h5 class="post__date">2017-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mlSdqUods0A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so if two minutes past so let's get
started right hello and my name is
andres i am from Buenos Aires in
Argentina and I am a designer and that's
why I have these very sexy Argentinian
accent so I'm part of the user
experience design team as well head and
I'm also a core contributor to patterns
I and you in the next 40 minutes I'm
going to talk about styling design
system based on butcher for run web
components which in other words it just
means I'm going to talk about CSS
modularity so first I'm going to give
you a brief introduction of what design
systems are and the importance of
modularity and consistency then I'm
going to talk about CSS specificity and
the program that i can bring to a large
code base then we're going to explore
two different solutions either using web
components and the shadow Dom or just
right really good CSS and finally we're
going to bring all of that together in
an open source water-based real design a
system project and show some examples
and at the end we are going to have a
few minutes for questions and answers
but if you have a question during the
presentation just stop me at any time so
let's start with design systems
according to Mark auto the creator of
boots web design system is everything
that makes a product and that's
everything from typography layouts
creeds and colors to your voice on terms
style guides and documentation a design
system is bringing all of these things
together in a way that allows your
entire team to learn build and grow and
with all of these main lead to keep
consistency and according to Jacob
Nielsen consistency is the most powerful
usability principle because when themes
always behave the same a user that they
have to worry about what will happen
instead they will
well we have been based on earlier
experiences but let me run an experiment
with you guys to try these a concept of
consistency so what is 5 plus 8 it's 35
you don't have to think about it but
what is a hundred and twenty three plus
34 yeah it is 857 so let's write out one
more time what is a hundred twenty-three
plus sorry for ya it is a hundred and
fifty-seven you will have to think about
it and that's what we call gosh memory
but for you it's called human cognitive
gosh and as long as you experiencing
something familiar you don't require any
effort to understand it but if you are
experiencing something generally Neil
you need you don't have anything on your
cash to evaluate the data you have to
evaluate it in full but this human cache
memory is becoming smaller every day
because according to the national center
of biotechnology information the average
attention span of human being has
dropped from 12 seconds in the year 2000
28 seconds in 2015 and that's one second
list than the attention span of a
goldfish that's right a goldfish has an
attention span of 90 seconds which is
one second more than any of us and for
example at redhead we keep consistency
by following patterns I recommendations
per employee is our ring to rule them
all when I'm going to talk a little bit
more about verify later on so the only
way to scale a maintain a design system
while keeping this super-important
consistency is to make it more sugar and
think about the design system as a set
of you I building blocks like Lego
blocks each one of this glog goes
through a process of design research
interaction design then a visual design
and finally a grafter implementation so
when you arrive to your users hands they
will have tested and beautiful UI
components to
applications and modular design system
equals two happier users and of course
better consistency but while modularity
sounds amazing at the concept it is
really tricky to internet mainly because
CSS isn't the most friendly of languages
it's globally operating very leaky it is
depending on location hard to
encapsulate and it's based on
inheritance but none of these comes even
close to the horrors of CSS specificity
so by show of hands how many of you know
what theater specificity is and how it
works right so CSS specificity is how
the browser decides which CSS decoration
to apply to an element so every CSS rule
has a particular weight meaning that it
can be less or more important than other
rules or equally important so as a rule
one selector can be more specific than
if one selector is more specific than
other it over righted and if two
selectors share the same weight a source
and specificity they will the later on
that appears in the code will be applied
and there is a way to calculate the
weight of a selector for example a type
selector that for example a paragraph or
an h1 a ways 1a class selector for
example this class success here weighs
10 and ID selector for example the ID
header weighs a hundred and in line
selectors for example a paragraph with a
color of red weighs a thousand so this
letter here weighs 11 14 the paragraph
and then 10 for the class success and of
course we have the silver bullet which
is the important slide so once
reparation is slightly but important it
over rights outweighs anything else so I
know if you guys have use important
before I have done it and I shouldn't
have done it but yeah that's something
that you can use
so basically this is what CSS
specificity is and it is confusing well
it should be because what's more
confusing than an Argentinian designer
talking about CSS specificity so let me
show you some code so you can have an
idea of how this works exactly so here i
have a h1 which is inside it leaves and
this can you see the gold watch me back
yeah right so it has a glass of cut and
then an idea of elephant so let me at
first a background to it which is pink
so the header is going to be pink right
so what if I uncomment line size is it
going to be red or is it going to be
pink well it is going to be red because
since they both share the same
specificity then the later one gets
applied now let's write with the first
delivered line the glass cut if I
uncomment that is going to be orange or
is it going to be red yeah it is going
to be orange because a glass weighs 10
and then it's out waiting the h1 even
though it comes later on the code so
what about if I uncomment line 7 is
going to be great or orange is an
elephant heavier than a cut well in this
case here is because it's an idea
anyways and more so let's try with the
last one a div with an h1 and then a
class of that if he is going to be
yellow or is this going to be remain
being great well yeah it is great
because these selector weighs 12 14 a 24
the cut 110 for a cut and then one for
h1 and the reef so if I command back
line 7 is going to be yellow and of
course I mentioned before if I right
here background let's say blue oops
sorry then it's going to turn blue
there you go and as I mentioned before
we have the importance flood that it
will add a outweigh the in like lass
even though that it doesn't weigh that
much so as a rule class selectors will
kill type selectors I this week in
classes in line selectors will kill IDs
and then the important murderers
everything else and if that wasn't clear
for you guys you should check out and
discard CSS specificity word charts that
explains everything with some troopers
Darth Vader's and emperors and it's a
great way to understand it so this
specificity is really hard to work with
but fear not because there are ways to
work with specificity and i'm going to
show you two of them today the first one
is using well components of the shadow
DOM and the second one is just writing
really good CSS so let's start with web
components a Twitter with custom
elements and each HTML imports and HTML
templates and shadow Dom they form
before standards that make up web
components so we'll components in a
nutshell they allows us to bundle markup
into custom HTML elements so what should
remain about these new elements is that
they fully encapsulate all our HTML and
CSS this means that the styles you're
right will be displayed as you intended
and the charity behaviors will be native
to a browser but the shodam is by far
the coolest one of the four of them
because it's called shadow DOM and I
lopat name is a great going to to have
for specification so we use it together
with custom elements so the custom
element will create the HTML elements
and then the shadow will provide the
HTML and CSS the HTML structure and the
CSS saga style for the element now you
can use custom elements on their own but
if you combine them with the show them
you will get cells contain HTML see
and JavaScript which creates modular
bits of code and at least for me as a
designer having multiple bits of code in
substantial to build my applications and
every time i think about the shadow Dom
it reminds me of Dragon Ball which is a
cartoon I used to watch when I was
younger and they have these little
capsules so when they when you press the
capsule you will get something like a
motorbike or a huge spaceship or
whatever inside and the shell on to me
is the same is a little capsule of gold
and you can get like a small job menu or
a huge navigation and this means that
since its encapsulated you can use a
common class names and common type
selectors without having to worry about
conflicts as where else and it also
means that you are kidding specificity
in a way but before I move on and show
you the shoulder let's address the
elephant in the room which is of course
the browser support so although we are
not there yet with the shadow Dom the
future looks really promising because H
is considering it and Firefox is already
developing it but that doesn't mean that
you can now see we cannot use the shell
dog today because well components are
all has body feels that will make the
shadow Dom display the styles in Firefox
on edge now I've tested these policies
and they are leaky meaning that the tiny
capsulation is not a hundred percent
there yet that starts inside a shadow
will get applied outside the shadow Dom
but before you jump into any conclusion
let me show you exactly how it works so
you can know what it brings to the table
so remember that the sholom will provide
the HTML and CSS structure and then a to
a custom element so we first need to
create a custom element and then attach
a shadow root so let me show you how
that looks
so here i have on my HTML a custom
element which is my component and then
on the javascript i am first defining
the custom element which is my component
and now i'm going to add my shadow roots
here so in this case my shadow root has
a it creates another route i'm going to
show you exactly what that means and let
me inspect this so you can see i need
more room here sorry yeah so a and then
this shallow root will create a NH one
and a paragraph with the color red so
here in my component I have another
route and I have my styles and my h1 and
my paragraph completely isolated from
the other route so you create two dogs
in a way you have your normal DOM and
then this is separate parallel dome
which is the shadow Dom so if I want to
introduce any mark up inside so for
example I write something here and it
doesn't really get displayed because if
I open this that something is there but
it doesn't get displayed because nothing
gets into a boundaries of the shoulder
it's a completely different Dom
structure anyway if I want to style it
so for example here I have like all my
power of our blue and even if i want to
add the slug of important it doesn't
change it is still red there because the
skies are applied to the dome route they
are not applied into a shallow root now
in some cases you do want to give the
user the power to introduce mark up into
your components right it wouldn't be so
useful if you wouldn't be able to do
that but before I show you how to do
that let them introduce it to some
terminology of the shadow Dom so we can
speak the same language
so they like them is the markup that the
user wants to introduce into your shadow
Dom now the shadow DOM is a structure
that you guys are authors will structure
your component now the Sheldon allows
like them inside the shadow Dom through
things called slots and the result tree
of that is they composed on now all the
notes that move from the item into the
Sheldon we call them distributed nodes
so slots essentially are just place
holders are a way to say render the user
mark up inside the shadow Dom so it's
like if you have a fortress you're
opening some windows to let the users
inside so these distributed knows get to
cross the boundaries of the Sheldon
through these slots and these loads can
be named and they can have a placeholder
so let me show you how they work so in
the same example I had before and let's
create a slot around this element here
and you will see that as soon as i
created a lot my text here will change
to something because i have something
inside right so if i remove these the
placeholder barbara that is there is
going to take place it's going to take a
place instead of a nothing that is
inside of the component now if i write
the barrel for example here you will see
that the paragraph is let's see if i can
push this yeah you see that the
paragraph is blue because these
paragraphs is outside the dome right so
it's outside the roots of the shadow
root so the shuttle route is here and
this product is still outside so the
light dom is get rendering side but it's
physically outside adan so now it now we
come to the place where we talk about
styling the shadow DOM and so
the main benefit by far that the Sheldon
brings to the table is sculpt CSS right
but before I talk about that let me tell
you a story this is my son Federico and
he's eight months old and that means
that my life for the past eight months
has been the space of time between
changing one diaper and the other so
this is him then he's doing hissing now
 happens and then he kind of
realized that should have been happen so
diapers are really really really
important in my life and the shell dome
is basically a diaper right it keep your
it keeps your gold and your contain
so as a rule the CSS selectors that are
applied outside the page they don't get
up tight inside the base and connectors
and ties that are inside a shell them
they don't bleed out to your a Dom
element but sometimes you don't want to
style the host element which is the
component itself from within the shower
room or you want to style this light on
that comes from the outside from within
your component there are free ways to do
it the first one is with the whole
selector and hoe selector will target
the component itself when it matches the
selector so for example you want to
interact with the user when they are an
absolute for example the attribute of
disabled you want your component to look
disabled so you will use the whole
selector now the host context selector
will allow you to target again the
component itself whenever any of these
ancestors have the selector and it is
very useful to style when you have
themes for example you want to create
your component to change when you have
the dark theme on the body child and you
want to everything to go along and
finally this loaded selector will target
the lights elemental are loaded into
your shadow Dom so let me show you these
free selectors and how they work so
an example here which is very similar
that the example we have before it has a
class of dark theme on the body Todd
then each otha class of glue on the
component itself and the attributes of
disabled so first I'm going to style
from within the shadow Dom the whole
selectors so in this case first I'm
going to make it display block because
and filled a custom element by elements
by default they are in line so I'm going
to add a background I'm gonna padding
you will see that the box itself will
change now if I want to interact with
the user and I want it to change to blue
whenever the user adds a glass of flu
then I can do it from within the element
so if i change here for example i remove
the blue glass then it will be back to
color ton and of course i can do the
same with attributes so the attribute
disabled here will make the component
look disabled now the host contact
selector is essential your weight to
create things so in this case I have a
body I have a glass of dark scene in my
body here and I want all the page to
look as the dark theme but I cannot
select the complete Sheldon from outside
so in this case we are real ting from
the inside so whenever the class
darksome is present with the host
contact selector I will invert the color
and making the blood with font a black
white font and finally this loaded
selector will select a delight Dom so in
this case I have a some light on inside
a paragraph so my eyes lot i'm selecting
every paragraph that is loaded from the
outside and i'm going to make it big I
know if it looks pink maybe I can change
it to yellow so it looks brighter cool
so these are the three ways you can a
interact with the outside and change the
styles of the component itself
but what if you want to style a
component from the outside now there is
a way to do it but that's by giving the
user the power to change your component
but as you know with great power comes
great responsibility we all learn that
from spider-man so if you're going to
open the doors for your users to change
your component you must be aware that
they can probably change whatever they
want so only open the doors that you
really really want them to change so you
know that with CSS custom properties
which are variables on mixing and they
are native to the browser so variables
are supported almost everywhere except
from edge and mix it mix things are not
supported almost everywhere what I'm
going to show you you them anyway
because they are completely awesome so
in the same example I had before and
here i have a dissonant were here which
is every paragraph inside ash atom or
every paragraph that comes from comes
from outsiders show them I want them to
have a background of the variable
background color and then it has a
default of red so in this case it will
look read write and then I'm going to
apply a big theme and this apply here is
applying a mixing I know if you know the
concept of variables and mixing from
preprocessors they it works exactly the
same when these synthesis made it to a
browser then you can change it with
javascript is not preprocess so it is
pretty interesting now on my CSS from
the outside I can change the background
color to be yellow or I can apply the
mixing pink theme which will change the
border and the color now let's bring all
of these together in a real or actually
an example I build now I work from my
house right I never ever go to the
office actually go like three or four
times a year and every time i go i use
my badge and it to me is like christmas
because I open the door and it feels
like magic so I peel this
budge here which is a shell Dom custom
element and I can actually interact with
it so I can go here and add the
attribute of contractor to make it a
contractor badge or I can change it to
employee and make it an employee badge
now I can use a lot of spaces inside my
shell them to add my information so I'm
adding my picture and my name and with
the host context selector I can change
these this card by seeming it with a
glass of bottom fly here in the body so
this will be my way my bottom side
that's right but this is no completely
accurate so I have a variable here that
it will actually put my real thing the
real thing at you for paraffin oil so we
shall them in my opinion is really
really interesting and it's awesome to
to work with CSS and encapsulated CSS
which is one of the biggest challenges
challenges we are facing and the very
good thing is that it defeated it
defeats all the CSS violence including
CSS specificity and projects like
polymer and other projects that you can
see well components or already proving
that it's ready for mainstream but of
course not without its side effects the
shells on policies is leaky meaning that
a silent capsulation is not a hundred
percent there yet for Firefox and H and
older browsers but of course there is
another way to write CSS and keep CSS
sanity and that's basically writing
really good CSS so there are four basic
rule two rules to keep your design
system CSS died in use and
space to avoid conflicts over sells eels
BAM classes anatomic to make your design
system modular keep your selectors
floods to avoid problems with
specificity and write really good
documentation so let's take a look at
these ones so to avoid conflicts all
classes related to your design system
and your projects should have a global
namespace for example at param site we
prefix all our classes with BF + n
hyphen now to improve modularity I
recommend you follow the beam
meteorology bem class names divide the
user interface into independent blocks
so them stands for block elements
modifier a block is the primary block of
your components which for example is
Pierce mustard in this case an element
is a child of these and main component
in this case PF musket section and
inspired with two underscores and then a
modifier is Molly foyer of the studies
or your component such as for example d
SPF not said in verse which has two
hyphens to devise a modifier now to
avoid problems with specificity you must
keep all your selectors flood it's just
the only way to do it so as a rule
whenever possible if you're using a
preprocessor never nest selectors if
you're not using a preprocessor don't
combine selectors to increase to reduce
specificity on your selectors then
always use classes I never use IDs and
never use important and the main
takeaway here is that the lower you can
keep specificity the easier it will be
for your users to customize your design
systems or your projects and combining
them with a global namespace and shallow
selectors will allow you to create more
explicit and encapsulated class names
and finally right really good
documentation good development of course
is document driven development
and good CSS documentation is crucial to
a correct implementation of your design
system Styles initial includes at least
all your class names where you apply
them and what is the outcome of that
class if they are required not and any
general remark and also of course
accessibility and remarks so for example
this class here PS mosshead it should be
applied to a header or to a bit or to a
diff it initiates the masthead and it is
required also you should always use it
with degrees and the accessibility notes
they are for a larger than that but you
must use our role you should always keep
link area tax etc and putting these four
rules together you end up with better
CSS and happier users it gives your coat
dry and modular and it's easier to read
and contain so we learn about design
systems and the importance of modularity
and a consistency then we've seen the
horrors of CSS specificity and two ways
to work with it which is right in really
good CSS or using the shadow Dom now
let's bring all of that together in a
real project so as I mentioned before I
am a core contributor to bottom side
which is an open source design system
with a thriving community of designers
and developers and as we were looking to
the new version of patterns I we got
interesting in web components so we look
into each one of the four specs and
although we decided toward with custom
element after elements after testing
them and making sure they work we
decided not to use the cherem at least
not for this version because browser
support is not there yet now templates
and imports are still way under
discussion so we are not using them so
we decided to write a really good CSS
guideline and follow it like by hard and
use the atomic design thing suppose to
keep our
bonus modular now perez is based on good
job and think about boot shop as an
extension actually sing about butterfly
as an extension of boot shop for
enterprise use cases so we've added new
components like data tables charts and
new menus and things are really
important for for these use cases and
then we change it we change the way it
looks with like better typography better
spacing better colors and a ways to put
lots of information density in a screen
now we're currently working on paarin 55
which is based on book shop for and as
you might know wood shop for a remove
support for i9 in its latest alpha which
is alpha six it was like two months ago
something odd and they're using flexbox
for older structures so overall they're
using utility classes which are super
nice and older components are shallower
run much much nicer so butcher for this
in my opinion it's awesome it makes me
happy so these are two dash words from
paradigm one has a horizontal navigation
and the other one has a vertical
navigation but they both share a thing
on the top that we call the mass head
and this method has a logo or the brand
name on the list and then utility links
on the right is the navigation for for
example user information on logout and
supports help on things I thought so let
me show you how we build it and how we
are using wood shop for to do that so
the new grid system for boots are for as
I mentioned before it's still based on
the 12 column layout but it is super
flexible because it's based on flex box
and also butcher for has these utility
classes for flex that they allowed you
to do any of the properties that flex
has with classes so i have here the
brand name and the navigation right so
let me add some borders so you will see
that that exists there so first on i
will create us you will before a
container to my grid right this is the
same class as boots are free now i will
create a row and this row will trigger
the flex so these are really looking as
two columns even though i don't have
columns inside now i can create columns
and if you see now i am creating columns
without any number right so this means
that the space is going to be divided in
the amount of columns I have inside so
for example I have two columns now but
if I create two more columns here i will
have the space divided into four columns
now i can use it 12 column grid system
as before so if i got here at nine for
example I'll hear it free and it will be
separated into nine columns and then
three columns like I did before we put
from free but it is much flexible than
before now I can also use a things like
break points for small devices or large
devices as I did before but a really
good thing about this one is the
flexibility you have now I can also use
the class called auto and that will
stretch the container to the to the
content of the each container it will
not stretch it out all the way through a
meal and I can use the class justify
content space between so this is
justified content between which is
actually doing justified content space
space between from flexbox and what it
does is it creates the same space
between each component so it puts one in
the beginning one at the end and then if
I got another one it will reach us in
the middle so if I add another column
here it will appear in a exact middle of
the page and the spacing between them it
would be the same now I can justify
content to the start and they will be at
the start or even I can put end and then
they will go to the end but the very
nice thing about is a way of building
the UI is that we are giving the user
the possibility to change the structure
without having to change any CSS right
we are leveraging all that wood shop has
to offer in this case so on our example
let me make this nourisher right well
let's try to do it like this
sorry LVN photo is going to be so small
right so in this example here you will
see that again I have the logo on the
left and then the links on the right so
all the structure is done in the HTML
there is no structure on the on the CSS
the CSS is only here for makeup it
renders scholars and font sizes and the
lines and everything but it doesn't have
any structural thing everything is done
by butch up with the point system and
the utility classes so for example if I
increase the height here to be lets say
something like five frames you will see
that this increase and everything is
aligned in the middle in the center
vertically which is something really
really tricky to do with CSS and all the
links are completely clickable so try to
do that would float and position and
like the old way to the grid it's almost
impossible so in the same way we are
building all our components trying to
leverage as much as we come from good
job and making them shallow and reusable
and giving the user the most amount of a
of power to change things as I can so I
hope that everything I show you today
whoops raised the presentation here and
I hope that everything I show you today
is useful useful for your project and if
you need to build an enterprise you I I
recommend you check out butterfly
because it is made specifically for
those use cases and parasite is a
healthy community full of open and smart
designers and developers and I know
we've been able to continue to an open
source project is a privilege but if
you're interesting in JavaScript design
or CSS at all I invite you to join the
community we are on slug on Slughorn
five dot org you can check the website
to know where the main list is or the
ether people or actually if you're
interested in CSS at all you can see me
a twitter which is something i really
love to talk and discuss so anything I
can do to help you guys and I am they
are always and I am really happy to be
here today and thank you very very much
for being here in the room</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>