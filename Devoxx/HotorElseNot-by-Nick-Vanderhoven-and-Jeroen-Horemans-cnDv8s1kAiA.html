<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hot.orElse(Not) by Nick Vanderhoven and Jeroen Horemans | Coder Coacher - Coaching Coders</title><meta content="Hot.orElse(Not) by Nick Vanderhoven and Jeroen Horemans - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hot.orElse(Not) by Nick Vanderhoven and Jeroen Horemans</b></h2><h5 class="post__date">2016-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cnDv8s1kAiA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome devoxx to our talk my name is
Jeroen this is my colleague Nick we have
a presentation for you a hot or else not
now you you know the the whiteboards in
the in the hallway where we we vote on
the frameworks we use and what we think
is a good practice and who uses which
version now we thought we always thought
that was really cool but well it's 2016
it's an analog voting system so Nick
came up with with a cool alternative
cool I don't know about cool but I have
an alternative so I thought what if we
make a tinder like application but
instead of swiping photos you can just
swipe code snippets and you can say I
like this one or I like it I don't like
this one ok can anybody read that it's
not it really important actually so we
made a little little tiny micro website
and you can just swipe left if you don't
like the code snippet and swipe right if
you like the code snippet and with this
one it actually works with this one we
went around with the tablets and we got
some Java champions and made them foods
but we also reach to the video community
and how many votes did we happily in
total on all the different snippets we
got 8,000 votes that's pretty cool and
thanks to the video that's that's pretty
cool that's pretty cool 8000 in such a
short amount of time we have a really
active java community that's really
great so the point of the presentation
now is we are going to present the
results of the voting so all the code
snippets we will see how people like the
more people don't like them so let's
just start with the first one the first
one was about string concatenation and
it's it's actually a really simple easy
example it's just a return statement and
the concatenation of some strings and
variables nothing really fancy about it
so still seventy percent of the people
thought this
a big knot we don't really know why
because that was not part of the
investigation but actually if you do
just string concatenation like this the
comparable optimizes with the
stringbuilder internally yeah in the in
the old taste this was a real
anti-pattern the amount of objects
created the amount of string created to
resolve this string Wes tremendous so
that was a big no but nowadays this
shouldn't be a problem anymore right
yeah with a modern compiler so if you
look at the other language specification
it says to increase the performance of
repeat string concatenation I Java
compiler may use the string buffer class
or similar technique reduce the number
of immediate string of this problem but
it says may use so then maybe we should
do it ourselves then well I don't think
so i think the compiler is a little bit
smarter than us well at least it's
smarter than me i think so i trust the
compiler a little bit more than I trust
my own code so i think we should just
leave it to the compiler but maybe it's
just people just don't like it because
it's just in the old days it was an
anti-pattern or they more prefer the 4th
string format the convention but you
know look you oh right we probably all
use these goats this type of codes
hopefully a long long time ago in a
galaxy far away so what it actually does
is give you the number of milliseconds
it took so you get the current time
Millie's from from from system and then
you subtract it from the new current
Millie's and you got your results and
we're glad to see that most of you
didn't like this kind of code because it
has a problem with it the current time
Millie's give you gives you the Milice
since 1970 or something but from your
operating system from your computer and
your computer isn't always exact well it
is exact but um time-based it can be a
little bit off but once the day he
corrects this if you would run your
test on the moment Igor exists this will
give really weird solutions right okay
okay the what you can do however is used
in nano time but the nano time is always
relevant within the same container you
can't use this to compute a date or
something but if you just want to
measure how long it took the system dot
nano time is a precise timer but even
better would be of course use jmh not
yeah it's the de facto standard if you
come a lot of defects you know it's a
defect of standard for micro blanching o
streams and state through streams
streams yeah this is one is a little bit
more elaborate so let's first look at
the code we have a list we make it into
a stream then we sort it we get a little
peek into it and we remove an item from
the list and after each item we do a
system out print line to the control now
we have sixty percent of the voters
that's it it's hot and forty percent
said not and we think that the hot part
is because if you see stream yeah yeah
we likes icy streams I'm merely do with
it if I do a good review in US history
no no but there is a little problem here
at third line at the peak there is a
list remove and checks actually removing
an item from the packing list so that's
a really important to do you should
never modify the same list in an
iterator it was it was already like this
but which streams it's still the same
you should never change the backing list
and the sorted function at the second
line is actually a stateful intermediate
operation that's quite a mouthful but
what what does it actually mean is that
the subsequent operations will be
invoked on the internal state and not on
the original packing list so actually
this code will actually work and
developers will come to you and say oh
why shouldn't I do this because this
just works that's not that's that's
wrong I mean
and the reason why it's a bad idea is
because it will break if you use
parallel and you should be able to
interchange those so if you make it the
stream partland and a lot of threads
wats bound up and threaten try to to
change the state of the of the the
collection actually is more general you
should never change the state of a
mutant all shared for you more and if
you go to venkat stocks you will
certainly understand why also we showed
this part of ain't gettin just said well
big no i don't like it i swiped it to
the left that's also possible the
primitive constructors we're glad to see
and the other community should not be
okay with this it will be deprecated in
java 9 but what is actually the problem
here the problem is that you create a
new object you allocate a new memory
address and the gvm can't optimize it
normally when you do do stuff like this
with the off you can also get an object
out of a pooling or get a better
implementation for for your kind but
with the new you you come to anything
like the gvm come to anything with that
but luckily this will be deprecated
normally in 911 make it appear kids the
boolean will also be deprecated normally
with boolean there's there's a cool
extra if you knew a boolean you actually
get a new state so you think it's
boolean true or false no we also have no
can't go around that one when we knew it
you start getting more truths and more
falses which is a bit weird is it's
paradoxical it's great if you have
multiple personalities but we should
only have to rain falls oh this one is a
nice one a lot of people thought this
was a joke this code snippet because it
uses the VAR keyword but it was actually
not a joke is Java enhancement proposal
from Brian goats and I don't think he's
joking about it it's actually a feature
candidate and it's about local variable
type inference in so we introduce a new
keyword
and it's about enhancing the yeah the
system just the compiler just knows
about the type it knows it's an errand
list so you don't have to repeat it and
it's actually about reducing boilerplate
yeah so you do not lose your your your
objects I want you no no no type C Java
will always be type C we don't lose type
safety here it's not that we are going
to be the next PHP PHP language but
actually it's a proposal and you if you
are interested in Java you should look
it up and see and read about about it
and but it's probably coming because
there are 72 p person to ya peeps so
Brian if you're here go ahead with its
delphox have proved your your jet
optional dog gets its it's a contestant
one it's really really new but there's a
little bit of a problem with it actually
the problem is then when your optional
when it sits in capsule age and no no
value then on the gate you will get a
runtime exception so that's not that
good because you're just trading in a
null pointer for a for a run timing
another runtime exception but the actual
issue is that the guest doesn't show you
what it's going to throw an exception
doesn't show anything so the effect of
optional gets lost in between because
the optional should make you think about
what happens if it's nll so or else or
throws is far better to use then get and
Brian goods all in the mailing list yeah
said I think calling this method get was
our biggest API mistake in Java 8 if
that's the biggest mistake in Java 8
which we agree on actually then I think
they really did a real cool job on on
the JDK yeah they are going to make it
deprecated but they first want an
alternative a better implementation that
that's more explicit in the option yeah
now is a gate went present there's some
more on table open Internet hola como
como
we have a lot of hot and a lot of not so
yeah lombok if you look at the code
snippets its Lee its really concise but
it's doing a lot instantly reading code
the data annotation will generate Gator
sitters equals method and hash codes
hatch code and so forth also there is a
builder going on there is a singular
annotation that you'll create extra
methods for our builder and we think
that developers like it because they are
lazy but yeah meet me to a middle east
but they don't trust anything they don't
understand because there is a lot of
magic going on under the hood it's yeah
they use a notation process like we all
do in our projects don't we but they go
a little bit further and they use the
internal API and that's maybe where
people when we show this one to the one
of the GDK are she takes a set phone
well we never intended annotations to be
used this deeply into the codes they
shouldn't generate lines and lines of
code because if you look at this one
this will generate tens to maybe a
hundred lines of code depending on how
many annotations and how many many
objects you you create with it so it's
contestants and we get Y and get why but
we're lazy so you like it two exceptions
exception handling as a difficult one
first tell you what is this when you
create a new string with the bites and
the encoding with it it can throw an
unsupported encoding exception now we
all know what what versions are our
servers run on and we all run in good
environments so we know this will never
happens so why you can do is use the add
sneaky throws it will just wrap your
your checked exception in the runtime
exception and throw it one up now there
is a big issue with the checked
exceptions and the runtime exceptions
but yeah well that's too dangerous to go
into we leave that to the really smart
people that's good little it go oh wait
before you go further we have still
something we have to tell the people
yeah we took the matches from from all
your guys voting and then from the video
coding and we got some some data from
the from the GDK and GDK architects and
the real yaffa champions like thank yet
and we we try to match we did it
manually we don't have an automatic
system yet to see what's the devil's
community who we matched with so Adam we
took all the all the votes from the
devil's community and we matched it with
the Java champions and let's see hookah
oh thank yet so apparently we are really
a match with Finn cat and I don't know
if it gets here but I think yet know if
you are doing a talk you have a lot of
influence on that we great power comes
great responsibility all right actually
if we can make this really we make it
can make this a real thing all right
let's do this if we voters in the top 10
talks of this week then Nick will make
the the application so weary life real
matches and you can vote on it and make
a great I thought you would be
implemented the maybe we should do it
together okay if you are at opt-in if
you vote present were in topton we will
make real dating matching application
where you can match with your java
champion so that's hit and right Oh Kira
joined it thank you very much see you
next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>