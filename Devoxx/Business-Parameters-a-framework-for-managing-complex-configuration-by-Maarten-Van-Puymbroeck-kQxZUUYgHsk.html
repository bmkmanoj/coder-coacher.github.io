<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Business Parameters: a framework for managing complex configuration by Maarten Van Puymbroeck | Coder Coacher - Coaching Coders</title><meta content="Business Parameters: a framework for managing complex configuration by Maarten Van Puymbroeck - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Business Parameters: a framework for managing complex configuration by Maarten Van Puymbroeck</b></h2><h5 class="post__date">2017-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kQxZUUYgHsk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello good noon everyone and welcome to
my talk about business parameters if you
haven't read the little abstract
you probably wonder what it is about
well that's what I'm going to explain to
you so this is a brand new open source
project so I'll first give a small
ensure about that then I explain what
the use case is that will try to resolve
with this project I'll tell you where we
want to go with it where we currently
are and then if I have some time left I
will attempt to give a small demo so we
are an open source project
we're actually brand new we're that
brand new that we don't even have a
website yet but we do have github so
there you can find all our source code
and we have an email address so if what
you see here interests you or you have
feedback or you want to follow us send
us an email to that email address and if
you want to get feedback on Twitter you
have my Twitter handle below and you can
use the hashtag be parameters okay so
what are we trying to do I'll give a a
short an example of the thing that you
can do with our project in the form of a
pet shop store sales no not a pet shop
store just not a meta patch up a real
pet shop that has a sales period so if
you for example your shop wants to do
something like this we have sales we
give 10% off on everything then you need
to to tell to your web application that
you're actually that you're in a period
of say
so that is some little item of
configuration and typically you put that
in a properties file so somewhere in
your application you will have a
properties file where you have all your
database configuration and and stuff and
which has a switch that says our cells
are currently active true or false this
is not really very handy because if you
want to start or stop your cells it will
have to be adapted by the system
operator and depending on the server
you're on that might not be picked up
automatically but you might need to
restart your server so that's not not
really nice from from well with all the
dynamic stuff going on today and then of
course you might want to do something
more than just have sales or no sales
you might for example need to say ok in
July we give 10% off and then in August
we make it 20% if you want to do that in
a properties file ok you would have to
put your your percentage as a as a
property at least and you might think ok
I'm going to try to try and be smart
I'll put multiple properties and encode
the month in it so I can encode my
percentage as a function of the month so
this properties files if you mangle the
names of the properties you could
automate that a little bit of course we
all know if you try to outsmart the
marketing department they will come up
with some incompatible requirements like
if you want to have sales during the
Christmas holiday that doesn't fit well
into the the number of your month and
let's say that we during that period we
also give 30%
for goldfish because they won't survive
the winter anyway so that becomes even
more complex so if you want to have that
in a properties file you could do
something like that but as you your
requirements evolve that can become
quite complex difficult to manage and
you'll have problems what you really
want is this a table it actually seems
quite simple this is a table where you
encode what you want to represent it
seems very simple but to do that you
will have to develop a database schema
to represent this and you want your your
business users to manage that so you
will you will also have to implement
some kind of user interface so the other
kind of the problems that that we see
today in this kind of configuration so
all of these things that are really not
not part of your core business that are
not in your core domain but that you
need any way to configure in your
application and that is what we are
trying to resolve in this project so we
want to be a generic framework where you
can have a more declarative definition
of your configuration parameters so for
example here what we are trying to do is
we want to map some range of dates
possibly including a species of animal
and we want to map that to an integer in
this case the the percentage of discount
there are other use cases so this was
kind of business-related configuration
you can use it to represent
master data you can store user
preferences in it nowadays with
continuous delivery
you need to have feature toggles to
switch functionality on and off if it's
not yet ready for production you can put
that in it to a be testing you can do a
lots of things with just this concept so
what we what we want in the end with
this open source project I'll show you a
slide of what we are currently
envisioning as an architecture for this
so you would have an application your
application which will use a Java client
or or possibly another client to
communicate with our business parameters
back-end and aside from that there will
be a web application that is used by
your business users to manage the values
of this configuration and into that
system you will plug your definitions of
your parameters of your configuration so
that's where we want to go and one
important thing in the in this project
is that we want to be extensible so we
want sorry we want it so that you can
enter in the system your own data types
that you can use your protocol to
interact with it and that you can use
your backing storage to make it easier
and not to require you to install other
servers or database servers that may not
already be in your infrastructure so the
goal is for the most standard
technologies to provide this out of the
box and we also want to make it possible
to write your own extensions of course
that is all in the future
so here I just as an introduction I've
noted down the basic types of group that
we currently want to support so we have
mapped parameters which are basically
just a map so here we see a mapping of a
capital of a country another type is
ranged parameters so you give a range of
values and if you request the parameter
value for a certain value so if you want
to find the kind of school at age four
then we will find there the kindergarten
and then a third type is just simple
parameters you will have one parameter
which can have one value and the
strength in this approach is that you
can combine these which is actually if
we go back to our pet shop which is what
we see there because we first want to
use the date range to see where are we
today so what what sales period are we
in today and then we might add for what
kind of animal are we trying to find the
the discount percentage and if we give
those two values then we will find the
percentage to apply to well to this to
the sale to the order so what you see
here in code is kind of the definition
of this group so we have a ranged group
that is the parameter period of type
local date which maps to a mapped group
that has a parameter species and those
two will map to the actual percentage so
this is kind of a fluent API it may not
be too readable we also want to make it
possible to specify that for example in
XML I know it's not popular anymore but
we want it to be able to be specified in
anything because it's it's
business parameters so you might want to
to use Excel because business people are
mostly confident in Excel so they know
they might want to specify it in that so
and then that's that's for the
definition part then you want to use
that in your application for that we
also envision some kind of fluent API
that you can just use in your java code
and say we want to have sales for today
for goldfish and we want to get a
percentage then you get a value and then
you can use that to do whatever
calculation you want so that's what we
are envisioning where are we currently
I'm afraid that's a bit less than what I
showed you so given the architecture we
basically currently have a very basic
implementation so we only support very
basic data types in our back-end we are
currently using an elastic search
database and the communication between
the application and the web application
is in rest
oh yeah and to use it in Java the
current API is very clunky so we want to
replace that with this fluent API in the
end so that is our current focus so to
have this fluent API we're also
investigating the deployment how we will
deploy this it might be very useful to
have that just as a docker image so you
don't need to setup any servers are
stuff and documentation of course
because if you're going to use it you
need to know how so that's one of the
things we really need to get started on
to have that more clear so that you can
go and try it out so I have basically
two minutes left for demo
which isn't really much but we'll see
what it gives so I need to go to my pet
shop
so actually I've made a server that
basically starts up my pet shop and my
parameters stuff oh the screen is really
more small than I imagined
so I need to reduce that okay so this is
the pet shop that we saw some
screenshots of earlier so if I have one
cat I pay eighty euros if I have two
cats I pay one hundred and sixty but I
don't actually have any parameters
currently defined so if I go to my
parameters application it will be empty
so I need to change some code for that
just kill it and I'm getting out of time
here so I probably won't be able to show
you so that's why I have this panic code
which will allow me to paste it in if it
wants to open my class my actual class
it doesn't want to open my I'm not sure
what's going wrong something's going
wrong so that's this one it does want to
open this one it doesn't so I'll try
with this but my time is up so sorry I
can't show you right now which is a bit
of a pity but I hope you get the concept
if you're interested to follow this we
actually you can find it there on github
we have an email address which you find
there and my twitter handle and I'm
afraid I have no time for questions
so thank you very much for your
attention and I hope you to see to see
you again next year where I may have a
bit more time in one hour slot to show
you some real stuff thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>