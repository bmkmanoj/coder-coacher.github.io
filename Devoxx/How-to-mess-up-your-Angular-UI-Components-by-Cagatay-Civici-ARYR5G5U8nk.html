<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to mess up your Angular UI Components by Cagatay Civici | Coder Coacher - Coaching Coders</title><meta content="How to mess up your Angular UI Components by Cagatay Civici - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to mess up your Angular UI Components by Cagatay Civici</b></h2><h5 class="post__date">2018-04-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ARYR5G5U8nk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to have to mess up your regular
UI component session my name is Jedi I
have a now name there
it's hard to pronounce this chart I so
don't worry about surname so anyone
using angular sphere in English - and
okay and more about you guys react
anyone react any JavaServer faces or
primefaces users alright now we're
talking okay my name is chatty I'm the
founder of I found a couple of UI
libraries who first one in spine faces
primary primary AK
I'm recent I recently became as a Java
champion due to my contributions to the
open source java EE and especially with
primefaces and since like a couple of
years ago I found a prime tech to create
a business around these open source UI
libraries although I see myself as a
Java developer to make my life I'm just
working as a front-end developer you
know that happens and I'm currently
interested in fitness and Spanish but
not at the same time okay it's not like
uno dos tres is like I taught it to say
when I have free time I said Spanish you
know it's a new habit that I developed
to get my mind away from all this
happening in the developed world it's
crazy I'm you know it's just crazy wild
this guy's primefaces it saved my life
back in 2018 I was unemployed I moved to
London I had no visa I had a lot of free
time so I created primefaces then I
applied for a private job a year later
and I got it so it is still popular
believe it or not it's like that
almost 15 years old pictures have but
primefaces still popular because of
enterprises although a lot of things
happening on the front a troll
enterprises like to move slowly watch
things watch what's happening and you
know primefaces does jabber enterprises
and the prime you are it is my attempt
to create something that should work on
all other non java or related
technologies like php.net but when I did
it the the community just left jQuery
you know nobody does Jake way anymore
right you know it's become spaghetti but
once people decided to move I'll develop
pram UI so as I mentioned timing is very
important in open source you can do some
nice product but it may not get picked
up by the community if the you know if
the technology is getting old so I just
waited some time watching what people
are using I went to conferences asking
what what are you guys using I was
trying to what to do next I was playing
on what project should I invest my year
because creating a library takes at
least a year so I was just you know
watching things modern web development
you know what's going on so I heard that
I missed the train on angularjs because
it came really popular and I heard that
or actually it's it's like this I read
that a Google decided to rewrite it and
it's was my okay I'm doing angular so it
was in 2016 January I told my wife it's
happening again
like primefaces okay I'm just gave me
six months see you later yeah she gave
me six pounds and the first release
we're not like a couple of months later
now two years old
and it's quite popular I will discuss
about it so thanks google for deciding
to rewrite angular so primate is for
angle it's quite popular with 200,000
downloads per month so it makes it out
to a half million per year right now
still going up how many primary users
here okay I hope you guys are happy then
I had some free time of course then I
decided to do primary act as well so
it's just a year 2007 until 2018 it was
primary act so all of these libraries
are open source everything is free so
you may be asking how the companies you
know making money and making a business
to keep her head above the water
so we do offer a couple of things so the
primary is open source everything is
free eight plus components two data
tables not one to date one is slow one
is faster both of them are free though
so we offer premium templates like you
know the free ones are looking okay but
if you want something material bootstrap
whatever then you may check out the
template I work with our designer every
day sometimes he designs free themes as
well I look at it and it's usually
because he's a designer he designed
something great and I said okay this
looks awesome but you need to know call
it a little bit down not much moves are
shadows for example
Apolo so this is a polo team for exact
it gives you a layout with options for
note dark mode things like that you can
switch if you want something material
you have the options of material teams
and or an something maybe hour-long
bootstrap there is a bootstrap team and
so so
so that was the farm part now we are
going to the technical parts I've been
developing angular for two years and I
made a lot of mistakes so I'd like to
share these mistakes for you so that you
don't the title is about angular
components but UI compounds but these
practices apply to regular angular
development as well so one may versus
two-way binding so suppose you have this
component with a property named size and
you bind it right this is the you know
syntax of angular and to do two-way
binding the syntax gets you know a bit
weird and you have this parenthesis as
well what this actually does is you will
get is the it's a shortcut you actually
have a callback called size change and a
size binding so the left one is one-way
binding and second one is X we'll call
back if you call this callback you will
actually say that I'm going to write you
back
so keep this in mind and we will move on
to ng model so whenever in your
component you want to do you want to
write back to your to your property you
need to call size change that has to
change because it's what angular
provides as a as a shortcut so you need
to create an event emitter and call it
so that you can write it but if you just
point the read it you don't need to have
size change you can just have size ng
model is you need you can have it in
reactive forms or the regular forms or
less it non reactive forms so it's the
same syntax but it's special its ng
model right so here we have a name
property so whenever the user types it
will be written to the name property as
well so how to support the ng model this
took me like you know a couple of days
to figure out because there was not an
entire or not in resources so I've
developed this calendar
I used regular value like that sighs I
had value and value change and people
start complaining that they cannot use
regular range because people who are
writing ngmodel this is what angular
community are used to right and they
cannot really use reactive forms okay
then I figured that I used to support I
have to support ng model it's not easy
but it's intuitive actually so I had
first this paleo property but people
again I start complaining saying that
cannot part the ng model since it is not
a known property so if you try something
like this if you don't support ng model
you will get the salary
the answer is control value accessor
it's an interface like it's Java
developers it's you know I was like ok
nice and interface right so it has four
matters right value its angular gives
you the value so that you can use it on
change and on touch are two callbacks
that you can use to say ok my component
has changed so that angular can add some
styles and they recent let it set
disabled state so it is quite hard to
support it first unity import this
interface you need to create some
boilerplate code like it it should be a
provider and then at the provider
section you're saying that my component
has this my calendar value accessory
otherwise it will not work and make sure
to implement control value accessor as
well okay now since you got it working
you can implement these methods right
value register on change register on
touch and set disable state once they
are done your component supports ng
model and it will support reactive forms
and the model driven forms as well so to
read the value angular will call right
video so that you can keep the value
somewhere and to write it back just like
that ng no size change angular will give
you a call back so that you can do
two-way binding and write you back using
that own model change call back whenever
you type on an input and
let's classes have you seen those
classes into the ng touched ng 30
whatever in to you know help angular
that your your component has been
touched you can use on model touch and
at the for the disabling of the
components you can also have disabled
state so let me show you
challenger
so I have this calendar value accessor
here right and it has a provider here
you know how complex the calendar can be
you have this calendar value accessor I
implement here control value accessor
and see what happens
at right video this is the right value
so angular gives me the value and I can
send it back
here and I'm just calling update model
on model change whatever so this is one
trick to support ng model if you don't
do this your component will not work on
reactive forms it will not it will be
outside of two forms API so it's better
if you are doing the form component you
should better implement ng model so the
content projection when you're writing a
component you usually move things around
we get the headers we get the contact we
get the footer and move things around
right so when we were doing a dialog we
had a couple of problems like we have to
get the header and put it some inside
some div and get the content in some
other live so again a couple of search
resulted in saying saying that okay
there is this energy content thing and
it has a nice way of doing that for
example there's a select property you
can select elements and saying that okay
Heather goes to here and the rest of it
it's angle is quite clever it can just
take it out and the rest of it goes to
the contact section but the problem is I
I was trying to avoid rendering that
dialog header when there is no header so
how can I do it I got again after some
more trials and errors I came up with
this my header or P headers actually he
had a component it's saying that okay
this is or dialogue head or whatever you
can call it so the dialogue header is
there and I can just say okay select my
header and put it inside my dialogue
hello but this gave me an error which
you might probably you have faced it's
not a non element right usually happens
when you first start English so I have
to define my header so I created another
component it's like a wrapper it's just
a selector and it just gets its
continent passes away to its content and
that it does the job so how can I use
this anyone heard of contact child it
allows you to select your contact
there's also the view child which is
different content child is what your
users have provided to your view child
is what you have in your template so the
contact chart is what my contact is I
get my header and I place this tiny
ng-if if the header is provided then
rendered this division or death and it
does the job
so let me show the dialogue as well
so dialogue is used like this you have a
contact some Peter or P Heather and here
you can see that we have ng contact put
the header here put the footer below and
anything else inside the section so
contact projection any questions about
contact projection simple right luckily
there's a new way and that I really like
is ng tablet outlet but I will come to
that later so changes to the children I
first created a table component and it
has children columns the first problem
we faced was that people usually you
know in the enterprise would you hide
columns you displayed new columns it's
dynamic so people were complaining that
when they remove or add columns the
table was not updating I said it's
officers you know it's apples just send
the PR luckily people's and I couldn't
figure out so we got some peers so the
PR was really fixed this job because
there's a content children the decorator
it's you know it's used to select
multiple compounds like multiple columns
and it gives you a query list it's like
the Dom you know then you know the Dom
query so it gives you a couple of
columns and it's it's an observer so you
can subscribe to the changes if
something happens to the columns you it
gives you two new columns it's it's
quite it's quite nice so we place this
code when the columns change okay this
is my new columns array and that's it
and make sure to unsubscribe otherwise
you will have a memory leak which
happens so tap you case
tabview is used like this you have a tap
and tap panels and it's quite common to
have dynamic taps you can have you can
hide or you can add Neve taps so what we
end up doing is we have
so at after contact initialize callback
we create each we subscribe to the tab
panel so whenever they change our tabs
have had been updated
okay this is I really had problems with
it it took like a couple of months to
solve it because you know it's it was
2016 no Stack Overflow posts whatever
even I was the one who did this post
later so you have you're doing a
component where you can get some
template and Randall it like a data
lists or data tables or whatever so the
idea is to use ng for where you have a
collection and you repeat it provide the
contact the angular composite to
something like this you have this the
syntax is actually like this so you have
a template element it's actually now the
ng template but at the ng template
there's an NG for and the value is
repeated and it div will be generated
every time so but what I need to do is
to have my component receive a template
because I want to for example I want to
create this drop-down very drop-down
list countries every country has a flag
name flag name so I need to ask the user
okay give me a flag I'm not going to
create a flag property right so give me
a template whatever inside it I will
just repeat it so first I come up with
something I came up with something like
this
this is my list and I need a template so
I can content child it and just rear-end
it so my list creates a ul because
because it's a list and here there's
this ng4 template which is pretty
useless so I get the content from the
user
okay you are giving me some contact and
I can just repeat it using the ng4
template what I what we get in the end
is this structure which is not really
semantically correct right because there
is no list element there's nothing so we
need a list element so I have to tell
the primary users that you have to give
us a lead list element which is not very
intuitive right so this worked
we could have we can render a list with
their content but the problem is well on
a drop-down I need to select it right
whenever something whenever the for
example user clicked on Romania I need
to select it so I need an event on the
Lea element I cannot tell my users that
okay define an on click and call
drop-down select ok that was our
blocking part it took like a month like
and I was very happy when I sold it I
had to create this template wrapper so
it you give this it's a directive you
apply it on another template and in
angular there is this API called
credibility which is actually you give
it a template you get Dom real reusable
Dom element so this very detailed tab
page wrapper gives gives us a Dom so the
usage was like this I need to control
the list elements right so in my
component I get the list elements and I
wrap the template I get the template
from the user told flags I give it to my
template wrapper and my tab page wrapper
creates it now I have full control over
Lea I can just by the vents
now this is this cause and other
problems because I forgot to clean
things up as usual now when people had
new items changed for example people
should write countries cities you know
villages and so on but things get very
complicated because the drop-down was
not clearing anything so I had to create
some destroys and things but luckily an
angular for I guess if I'm not wrong
they have introduced this ng tablet
outlet dragged which does this
internally it saved my life actually
because I in one day I changed
everything to ng tablet outlet it's it's
quite easy because here I I have the
control over Li and are saying that okay
inside the Li elements get the stamp
or from the user and you know that
context that lets blah blah things in
angular give the context of the what I'm
repeating and index whatever so the
angular is just gets the call and a
template from the user and Bree renders
it for all the countries this it's just
an awesome directive so whenever you
need to do something with the templates
make sure to check out the ng template
outlet as well so you know that context
whatever I given the context ends up
here at lead car the implicit one is I'm
implicitly giving the object what I'm
returning so it will end up as let
whatever you have it's up to you to name
it okay data view for example
so I two weeks ago I have created this I
went into a ecommerce website to get
something and they had this little thing
the website allowed me to switch between
the list you know you probably seen
those websites in gridview and listview
and I was like okay here's an idea I
will name this date of you because we
already had data grit and the Italian
mother so data view enables you to it
gets a collection every its renders this
collection in list mode or grid mode and
you can you know sort and filtration
aids originate things as well so the
usage is quite simple actually the
component asks you to templates one
template is for listing and the other is
in when the layout is in grid mode so
you can change stuff what I ended up
doing is that I get these templates here
you see that here I have this ng
template ng for is I am looping through
that value and I am creating the contact
by giving it the item template is
dynamic if this is in grid mode it gets
the grid template if it is a list mode
it guest list applet so I will just make
it a bit bigger so I'm just creating a
template and the contact default one is
row of data and I we are passing Linux
just one line actually there are a lot
of things going on behind this this
angular is creating an embedded view and
things like that but luckily with
chaplet outlet it's just very very easy
so ng container is another new addition
if you haven't heard and so in the past
for example this was not valid so you
cannot use ng of an NG for at the same
time because what it ends up is
semantically incorrect so you you don't
want to render this content if the item
is not visible how would you do it you
will probably add some wrapper which
will be like this but you will end up
you don't need that div right or span
whatever that I mean it will cause
styling options which happens actually I
I did this in the calendar component and
people's styles were broken because I
used the child selector somewhere in the
CSS to style the calendar cell but a
deal and the top there which broke the
CSS which the calendar looked really
ugly and the next version I switched it
to ng container ah sorry
yeah and you don't need that div anymore
so everything is fine so whenever you
need to
you are looping through in ng4 and you
need something dynamic and you want to
use ng consider using ng container ng
container is also useful on ng tap it
outlet as well
so change that it's my arch nemesis
change direction we also do react JSF
I'm checking out view to see if we can
prime do prime view so none of those
have changed them so it's the framework
does not really mess with you it just
runs your code but in angular a lot of
things going on because whenever the
date the bindings change it tries to
update the view in the past ice anyone
heard of ice faces in the past the eye
spaces were doing this in JSF you need
to explicitly tell update this part of
the page or in react update the state so
that this component gets rear-ended or
in rich faces you read render stuff but
in angular you don't do that you just
click things and magically everything is
updated that's great for the user but
then developing a component library it's
really really extremely dangerous
because each component has their own
change detectors and they have a tree of
change detection there's a change
detected tree at the back end so if you
are doing something that triggers change
detector every time the page will halt
I caused I'm sorry for this I've done
this in the past
I'll caused various applications to get
stuck somewhere I will explain how I did
this so
changed action usually on vending
component development we need to get
notified of changed action so that we
can do things right there I can offer
three ways to date setter on changes
lifecycle hook and the do check and my
favorite will be I will tell you later
so own changes so vehicles I have it
component will mount or something
component will update where it gives you
the new props so you can check the props
and the new props which is quite boring
actually an angular is the same there's
a callback called ng on changes it gives
you if your properties change it calls
us and it gives you the new value old
value the name of the property I don't
like it because it gets really ugly okay
in table I have like 50 properties if so
I need to write FL switch whatever to
change if that particular thing is
detect if your components small then
yeah you can go for it but for complex
components this is not very you know
Java like so I as a Java developer I'm
used to setters luckily there they have
setters
I don't like this so I never use the
tech you cannot see it this in primary
maybe you cannot mushroom so ng to check
ng to check we were using it still on in
one component we use it because I don't
like the idea of doing this diff
checking because it's it it causes the
performance to you know really slow down
so you this is mostly for arrays so you
have an array so you collection let's
say if the collection changes you want
to do something first to do that you
need to implement this do check
interface at ng do check we are saying
if there are changes to something that
if the really if there any changes part
is quite expensive suppose you 100,000
records it will just start but we use it
on Google Maps compound because it's
really really nice in in this case this
ng to check gives you what has been
added to your array and what has been
removed so in Google Maps I place
markers so when some marker has been
removed I call the Google map API or can
remove this marker and so that I don't
need to mess with the map in journal so
I can just add markers remove markers
so here let's see @ng do check there's
this overlays property
I get overlays from the users so if
there are any changes in the overlays
for each removed item I'm just calling
set map null so that it will be removed
from the map and for every one that has
been added I'm just adding a marker so
at this section the the ng to check is
really intuitive and doesn't jump but
are not really fun of that in in other
cases so that's why I use this guy
setters you know ts6 has support for
setters you know you can use object
defined property to do that so in page
nater
you see that one two three four five
five page links and those are calculated
according to the total records so for
example if you have 100 P courts or more
those links in the middle get kalki
sometimes we need to display two links
sometimes ten links and so on
things like that so they are calculated
based on the number of total records so
whenever total record change I need to
get modified so that I can update the UI
so I can use do check or own changes
which I don't like so I use this
technique called setter and input is a
decorator - for your properties so
instead of using that on a single
property I put it on getters as far as I
know setters as well also also work when
you put it on seller so we need to
provide this internal variable usually
with underscore total records and in
together we just return it in the setter
set it and do something like updating
pagelings
if you accidentally you know add here I
did this and get you if you omit this it
will keep returning itself and the page
we'll give you unresponsive script so it
will just keep returning itself so I use
this technique almost and everywhere
for example page Nader let's see in the
data table filtering so we have this
page later here and the filter right so
if I filter against something oops
you see that the page nature is updated
to do that in my page 830's I'm just
watching the changes so that whenever
the total record updated I just update
UI there's one thing with the Sutter
unfortunately I mean this is the Java
scripting vue.js has this on their
documentation when their rate changes
it's not called and how it's changed if
you have this array argument or
something if you just push or pop
whatever if you just change it the error
is in the memory right it's new
reference yeah you have to change the
reference which gives you which gives us
the term immutable so it's like you know
four reactors or it's quite the same but
in angular you know it's not forces you
to use immutable objects but in that
case why my setter is not called is
because of this reason so if in primary
we had to add this to the documentation
saying that you have to use immutable
objects when you are changing otherwise
I had to use what ng to check which I
don't like and so instead of using ng to
check we have decided to enforce that
okay give us a new era so that we can do
our job so there is one thing with the
change detection let's get back to that
suppose you have a big page and you have
this component in the middle and you
have a lot of compounds at the top bar
menu if you click something on at the
middle of the page a button let's say
the angular runs changed X on the whole
page to see if something has changed the
documentation says it's quite fast they
can do a check for for thousands of
checks and bill seconds but that's not
always the case
nothing is that fast believe me so
angular has this nice idea of push
change the extra push so
the components chase the action only
runs if its properties change so I have
this component and I have I'm using
another compound called my user to
display the user carbonized photo and in
a first name last name so I can use it
from the server and I changed the user's
name from a button click and I'm
changing the name to Amir so if the
component is using push that will not
work
again this reason would be the same so
we have two versions of my users one is
not one is using the default change the
exit strategy and the other one is using
the on push on push it has this user
right so it expects the user to change
so that it updates itself in that case
again with the Ray the reference is same
so it will not happen
the solution is creating a new user it
will be a new reference and that's again
immutable objects and that's why we have
libraries to call to help us with
immutability so that is this something
called in if you check out the primary
issue tracker blah blah compound does
not work in push change text and
strategy so that's why I always come and
first that are your objects immutable or
you are just changing the properties
luckily the angular gives you some
control so that they can trigger change
the action in case you need that you can
get it from the constructor change
direct reference it gives you to change
the actor of that component so that you
can't call detect changes it will to a
cycle change the action cycle so let's
see drop down in drop down we have this
case
so I will show you a better drop down
awesome
okay this so when I click outside I have
to hide it right because otherwise it
won't be really intuitive so outside is
document.body it's outside of my
component so I have this event to listen
to the document clicks but if the user
is using push that click does not
rerender my drop down so what I ended up
doing is detect
yeah it's document click listener at the
app you see that I'm calling mark for
check if I don't call this or detect
changes when the push detection
strategies used then the drop down will
be there always all the time
okay there is one problem with these
approaches and something to worry about
how does angular do the South it listens
your every move the users it listens to
mouse mouse clicks whatever you have
defined it listens to set intervals it
listens to Ajax requests so that it
hooks in this is called monkey patching
right yeah that's the good name but it's
called monkey patch so angular does
monkey patch this is probably Kapadia
markup as a way for a program to extend
or modify supporting the system software
locally without you know the actually
because it only affects the running
instance so angular boots it just hooks
its you know arms like an octopus to
whatever you do events timers and xhr so
but they call it something cool
it's called zone API zone Jess so the
zone jest when anglers has this zone so
in that zone it listens to your events
things like that the problem with that
is if you trigger change detector too
much the page will just halt for example
I had this mistake I was very happy oh
this is so simple I can just bind
everything with angular it caused my
event emitters so I bind this I was
doing reorder double columns I was
moving one column to another so of
course I need to listen to the drag over
so that I can just drop something right
so I used angular events drag over drag
start and whenever when you do this when
you want angular to listen to your
events at every event it does what
change that so when I started dragging
at the middle it cut stock because it
was like the engine was over power CPU
was like 100
it happens again at scroll so when the
body was scrolling in a data table
there was a headers were fixed but it
was scrolling I had to listen to the
body scroll to do some things and when
the user started scrolling as passion on
ie it's just it was very very slow man
the browser halts down actually like
this it's easy to replicate actually if
just try to bind it to the scroll of
your window or whatever the angular will
just go in crazy mode and it will just
give this error so it happens in data
table a lot and drag drops so we had to
find the solution right again another
problem to solve
thanks to angular it doesn't give you a
break
so the Game of Thrones I call this you
can tell angular to run things outside
of angular so you can every component is
in a zone you get the zone instance and
when instead of using the drag over API
with you bind it using regular
JavaScript so I was getting the day
table headers table body and using add
event listener if you don't use run
outside angular you know Mangler listens
that add event listener right even if
you call it bit like this it still knows
that because they listen to add event
listener monkey-patching right so I was
able to avoid angular and I was just
binding my events of course we forgot to
destroy things so they were there that
we removed events it's funny because you
move to another event page with the
router and still your event is getting
triggered so that that is quite
interesting and gives I mean to to
improve the performance of angular we
had to run things outside of angular so
something to think about
so we have two tables one is data table
the other is turbot table actually it's
called table but I give this name turbot
table so the problems we had with the
old one was of course I've changed these
but for example in the reordering
section when I was doing this mouse move
it was triggering the change direction
now with this run outside thing it
doesn't know that I'm moving things
luckily angular does not mess with me if
I'm doing this or changing the rows and
changing the scroll it was really
noticeable if if I just scroll down you
will see that the frames of every Dom
update and table is quite complex so you
can see here I have a couple of things
for mouse drag events I'm just I don't
need anger to do anything with me here
so I'm just running things outside and
there are some things as well because
which I called game of zones sometimes
you go outside of angular but you have
to get back in so that you update the UI
for example I drop things I drop the
column but at that moment I need angular
to update because I update my model the
columns have changed okay now it's your
turn but I'm outside of the zone I have
to get back in so there is this API call
this starts on that run so it gives you
it gets you back inside of the angular
so it updates it so I had this problem
in Google Maps again so I was when the
user for example here
the map gets overlays the markers let's
say when the marker is clicked I was
doing something and then the map is
clicked I was opening a dialogue right
so where is this method yeah this one
whenever the map is clicked call on map
click and on map click is this one and
on map click and it opens this dialog so
let's see how it will work
Google Maps runs inside and under
content like I guess it's iframe so
angular has this problem for example if
I I'm just clicking by the way nothing
happens right but actually event has
been there it's waiting for the next
angler does change they change cycles so
it's cute the change is there it's cute
but the UI is not updated so if I can't
do something for example there's a tab
view component at the bottom right if I
just click it now since it's cute the UI
is updated so it was interesting because
when I was working on it I accidental
sneezed when I was working so it was why
it's not working I'm just thinking about
it so I was sneezed like some and it was
there the dialogue was there because I
touched the you know I touched my
keyboard and I I was like wow ok
something is going on to scare anglers
I I called my friends my colleagues
located selfie something's wrong with
this computers and it turns out I had to
run this
inside the zone
so let's see
now it works instantly because I'm in
the zone
yeah we have started a bit late so I
think yeah I can speed up five five five
five okay
sometimes you need to communicate
between components like we have this
three three components that I need to
drag things between each of them right
so the idea was how can we do this
implement this stuff the best way about
I mean the services are I really like
them about angular so what I created is
that this three drag-drop service
whenever something has been drag and
drop
trees get modified and each tree has
gets a hook of the drag drop service and
when something is dragging and dropping
it gets what has been dragged and what
has been dropped so this case with the
tree let's say you have three three
components I can move things around
there's a service behind the scenes that
helps me these three three compounds are
actually communicating using it serves
we also have the three drag drop and
grow wanting to watch out is if your
trees if you inject your service to each
of these components they will have their
own tree services so when you drag drop
everyone will have their own events so
they will not get modified and
everything will be empty so what you
need to do is that move it a bit top of
the you know tool an ancestor it could
be a bit self ordered or they call the
component that contains all these trees
actually it's okay I like this component
trees too much the turbo table for
example whenever
for example whenever something is
happening if the user source this
behind-the-scenes let's say you are
giving us a sorted data the table calls
these sorta Consort accounts actually
listen to data change so when data
changes sort state changes they update
themselves so it's all these cells for
example can render the data changes so
they can update themselves a couple of
tips before we end whenever you the
angular says don't access the Dom
directly right and I love because my job
is position gives around move things
around I need to access this sorry
so to know position the most of time the
best way to do it is called using add
view child it gives you give the
template local variable name and you get
the native element but best way to do it
as it angel after vivillon in it event
that will be the one when the angular
gives you two don't ready yet ng
audience or somewhere it'll not work
whenever something changes angular calls
ng after view checked but you need to
you know be careful about this because
this is called every time it change the
ex runs just like scroll and things
avoid doing expensive stuff adhere or do
it no control of it with NF
global event so you want to listen the
windows tool or documents club can you
do it there's a nice nice API called
granular to Dragon one was also nice I
don't know why they renamed it to Raptor
- I'm not sure if you live in render
three but Randhir - we'll give you the
listen global that's you know it jquery
reverting document but the click you can
do the same with the angular and ice
think about is if you call that function
it will remove itself so it ain t on
destroy we do it for you know the drop
down menu click outside we hide it
that's how it using the renderer to
again I mentioned the push detection
strategy this is the null pointer
exception of angular it happens all the
time sometimes I close my eyes I'd says
an expression was changed after it was
checked it only happens on development
you wants in production so angular runs
cycles after the cycle if you do it
change of the bindings before that next
cycle angular will say ok you change the
binding but I had no chance to catch it
so it says expression was changed so the
easiest way of doing that is that after
we were in a view in an event if you
change something that's bound to your
template it will give you it to say that
the expression was changed after it was
change checked - avoidance you cannot
avoid it actually it happens so it's
just no no you just need to avoid doing
at the end and at ng after we minima
make sure it's in the cycle so
third-party integration of course it's
not suggested to you the glory days of
jQuery over and you should not use it
but sometimes for specific widgets if
you some if you found some nice jQuery
widget then you want to integrate you
can use it with jQuery and it's not that
bad actually if you just use jQuery for
creating divisions it won't mess with
angular it's in schedule we are
currently using what jQuery plugin which
we pop to replace in the future but this
is maybe order full gallop
this one this this is it and it works
fine the implementation is simple as we
get a div and let's see somewhere or I
can just show you the charts we are
using charges here here we are calling
new charts and I'm giving that native
Dom element from the Daggett from the
angler okay I think we ran out of time
thank you
I hope you find this useful</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>