<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Generate client stubs &amp; document your REST-API using Swagger &amp; Spring by Johannes Fiala | Coder Coacher - Coaching Coders</title><meta content="Generate client stubs &amp; document your REST-API using Swagger &amp; Spring by Johannes Fiala - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Generate client stubs &amp; document your REST-API using Swagger &amp; Spring by Johannes Fiala</b></h2><h5 class="post__date">2015-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/43GhBbP--oI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to my session
my name is Johannes viola and I will
speak about how you can document your
REST API and generate client code using
Sega and spring first of all the short
question who in here is using spring and
who in here is already using swagger
yeah thank you so in the next few
minutes you I will show you how you can
provide a documentation for your REST
API access your API with a browser using
swagger UI
generate client code for accessing your
API and finally how to get a nice
picture of your API services and models
so what is swagger swagger is a language
agnostic interface to REST API and it
allows to discover and understand the
capabilities of a service so it removes
the guesswork in calling the service and
it renders the API in JSON syntax so in
short words it's simply a standardized
way to describe how an API works and
which services and models and properties
it provides so the technology stack we
will be using for the demos is spring I
use spring boot but you can use the
libraries for spring rest applications
as well so you just have to use spring
and I will the next is the spring Fox
integration libraries they are providing
the API Doc's so they are necessary to
generate the swagger a speaker's spec
API Docs then the swagger UI to access
the API using a browser
and finally Sega Coach n which allows
you to generate client stops in the
Python fewn and quite a few languages I
will show you later so this is the big
air picture on top you have the rest API
this is your REST API and you add the
spring Fox libraries to your web
application and then the API is
automatically documented so you have the
draft documentation for the operations
and the attributes in the model and this
is used for bias Vega UI to generate a
UI which can you can use to test your
REST API and to explore your REST API
and on the other side a swagger coach n
which allows you to generate the client
stops and it's important that swagger UI
and swagger coach n use the API Doc's
only for analyze analyzing the
capabilities of the service you provide
so for the analyzing the REST API during
the call me if them when they're Sega UI
or the client code calls the REST API
this is this is done directly so there
is no interference of the API Doc's here
so it's the generated client code is
able to work independently of the
documentation a few words about the
Springboks libraries they provide a
complete API Docs for every rest
controller in your application so for
all the services the supported verbs for
example get post and so on the request
parameters and the request body the
response codes and response body and it
also provides many customization options
so it allows you to hide attributes or
to provide custom data types if you need
to
so I got you I is a JavaScript
application to access your race to API
with the browser it will list all
services directly from the dynamic API
Doc's so you do have no no additional
requisite it's just just providing the
services and the big advantage is it is
always consistent with your API so you
don't have to generate DPI talks
manually or with a build task the API is
always up to date so your code chain is
the kind code step generator it's a
simple command line program which is
responsible to generate the client stops
which are completely customizable the
support languages are for example Java C
sharp dot flesch groovy checks RS
loaches Objective C perl PHP Python Ruby
scholar and so on so this really a big
number of languages that are supported
right now you can immediately use and
you can put this way you can provide an
SDK for your REST API in the dis
languages and yeah you don't have to
stick to Java and if if your if the
other developers want to use PHP taken
too so and stay to get all the features
of the generated kind code so why should
you generate client code it ensures
consistency of your client code with the
API so it makes sure the client code is
valid with the API and it makes code
completion possible so you get for the
generated kind code to get full code
completion and you don't have to
remember all the methods to the user
support or the model classes and it
makes using your API really easy and if
you add a description to your operations
and to what your models developers will
be able to read it directly indirect
generated a kind code and
finally if you if the API changes and it
breaks somehow which shouldn't happen
you get compilation errors so we will
immediately notify if there has been a
breaking change so let's start with the
demo first of all I want to show how
much you have to do to activate the
swagger libraries and activate the
generated API Docs first of all you have
to add dependencies so this is
everything you need it's the spring fox
I got two libraries hopefully you can
see it
so this is the first step and the second
step is on the application
cause you have to add this notation
enable swagger too and that's pretty
much it so this is all you have to do
and the library will then pass all the
all your for all your wrist controllers
for example I have this really simple
rest controller class which is providing
a method to read a user and to see it to
search for users by state it's just an
enumeration and to save a user so it's
really simple just for demo purposes and
if you want to use the swagger UI or the
swagger cochin this is all you have to
do so if you don't want to put
additional work to it you simply can use
it right now
and I will show it
so first of all this is how the
documentation looks like so you have a
list of all the paths that are supported
by your application you have the HTTP
verbs and I will take a look here you
have the request parameters a list of
the request parameters and the list of
the response code that are supported and
here is a reference to the class and the
class definition is right at the bottom
so this is how the your class looks like
in in the swagger
documentation style it lists all the
properties and the data types so just
for comparison this is subtle gasps
looks like in Java and this will in this
Vega spec the swagger specs looks like
this so it's a bit larger so a long gets
converted to into 64 and an enumeration
looks like this so it's human readable
you can read it but well it's it's not
automatically generated and for usually
you don't have to read it you want to
use your API and this is how it looks
like this is the controller class I can
click on it and I have all the HTTP
verbs that are supported and let's let's
create a user and for the first
operation I think it's really nice you
have you see the request body here and I
can click on this body and then I can
simply fill it in
so for a forest for the enumeration here
below I can he'll switch the to the
model class definition and I see which
attributes are optional and I also see
the enumeration here so I don't have to
guess which values are supported I
simply see them indirectly in the UI and
I can create it so let's send it to the
server
and worked so now let's verify it
there's the get operation and I see the
ID is required simply enter their ID and
I also see the data type so I know what
I have to enter here and I asked some of
this and here it is so it's really nice
to explore the API if I don't have any
knowledge of it I can simply click
through it and well if you would like to
provide water commentation you have the
description here you can add a
description for your operation you can
also add implementation notes that get
displayed here and you can add the
required attribute to the to the
attributes and you also can add a
description for the interview so that's
finally what documentation is about so
you can add documentation if you like to
but you don't have to so just verify in
the case whether you need we wanted to
give the user more a much description
you can but it's up to you and something
I really liked is if you are searching
for an enumeration the UI also allows
you to pick from a list
so it's really nice if you have an
enumeration in your as a parameter you
can simply pick the value and search the
server that's it
so it's really simple to use and I think
it's nice for exploratory testing and to
to provide first access to your API
however um usually you like to access
the API using a programming language so
I picked Java for the demo and all I
have to do is I need to run the code
tsegga Kochan to generate the client
stops and this looks like sure if you
can see at the top but looks like this
so it's simply a command line call and
they say I want the language Java I say
the where should the files get stored
and where should I reach the API Docs
from and then I can simply run it let's
try it so now it reads the API
documentation from the server directly
from the server and I can refresh here
and then the generated services and
model classes will show up here and I
can open my test class now and if I look
at the object I get code completion here
for all the properties it supports and
for the API as well so I simply get this
list of the supported operations I can
directly use the API with the language
alike and well I think it's it's really
nice you have known learning overhead
and you also get can reach the
description of the service so it's
the same as if I would call the Java
service directly so I'm so different I'm
simply using the REST API it's somewhere
out there but it's like local java
application now i'm let's change a bit
here showed how to break this add a new
attribute
just make sure I'm really using it
now I have to start again
and when I take the look at the swagger
UI act simply refresh it and the see
oops I to change this one okay so i
changed the minimum you saw here and you
see the location is here and step out
attribute has vanished
so it's immediately updated and if i
generally generate the client code now
you see it is breaking so it's really
nice and you saved give a really if
there are new attributes you also see
them immediately so I have the location
here and can immediately use it
so
and if you want to add that
documentation I'll show you how this
looks like you have different
annotations so for the operation level
you have the API operation and notation
you can add the description you can add
which API response codes you want to
support and message to show in the API
and for the model class
it's the API model annotation on the
class level and the API model property
annotation on the property level until
you see how I specify if the attribute
is required or not so it's so I got
specific right now so finally I want to
show you how it looks like graphically
so I get this small green icon here at
the top you can click on it and this is
what it look like so you get a nice
picture of your API you will see all the
operations that are supported you can
click on them and then you get a nice
picture window which shows their
supported verbs and the request
parameters so if you want to show what
you have done in the last day very up to
your boss you can show this and you see
how the API CROs if you are adding
additional model classes and operations
and you can also click on the model
classes and 210 you see the properties
and the data types
so yeah what I showed to you is first of
all the spring Fox libraries they
provided the API documentation they are
completely dynamic always consistent the
swagger UI which you can use to explore
the API it's I think it's great for
testers and co-developers just to just
dry out the API I it's like a Cochin to
generate a client stops and get code
completion and keep your clients so you
up-to-date automatically and finally the
chrome plug-in which I showed is
swagger dot ad which allows you to
display the API graphically yeah this is
what we had to to activate it only at
the maven dependencies and enable
circuit two and that's it
this is the list of the Manor
annotations that are supported there are
more not as I picked them so for first
glance so you have to apply operation
annotation for the methods they at API
response annotation to define the error
code and for the model classes the API
model annotation and API model property
annotation for your field and chasten
you can use Jason ignore to simply hide
an attribute in the API for swagger UI
you can ship it together with your rest
service it's simply a JavaScript
application I copied to the web apps
folder of my application and yet it
makes accessing your service is really
easy and you should protect it if
necessary of course for swagger so
Cochin it's a command line program and
you can integrate it with your built-in
environment for example using ant and
finally the sog 8.82 display the API
graphically so who is using Sega right
now
PayPal has picked it up Microsoft and
Amazon is offering an API gateway for
the Amazon Web Services you can import
the swagger definitions there and manage
them using the Amazon Web Services so
Amazon also has picked it up that's
great and if you want to know more about
swagger there is a birds of a feather
session on Thursday at 21 o clock at 9 o
clock in the evening and I will show
them how you can get code completion for
an API using swagger which is not at all
supporting swagger the fight
I picked a Facebook Graph API and it's I
think it's it's really nice because I
guys only at documentation for a rest
service so you can edit the
documentation without touching the API
and you can then you can use the
documentation to use to access it using
swagger UI and to air generate kind code
stops from so if you have an external
library you don't you cannot touch you
you are able to add the second
definitions yourself maybe they will
pick it up somewhere in the future but
you can use it right now if you are
programming over often against the lab
at the API then you can use code
completion with the swagger coach and so
I will quickly show show you how this
looks like
so let's take a look like look at the
Facebook API ah who is using the
Facebook Graph API right now no one okay
so yeah it's I think it's a quite big
API
it supports lots of of attributes and
stay built the graph API Explorer where
you can simply add attributes and feel
for it
I don't and what I don't like about this
is it's something which is specific to
Facebook and they programmed it now the
swagger UI is completely dynamic and and
independent of any API and they are
building a specific specific a specific
web application and I can do the same in
swagger UI I will show it so it looks
like this so the full are schema here
yeah here they are only showing
attributes I requested and I have no
documentation here if I want to know the
documentation there's a special a
special parameter I have to add and then
I get the metadata of the whole of the
whole request that's efficient
so three choose the next list of fields
so this is the meter data that face this
Facebook API is generating right now
so I have a description of all the
attributes but it's not in a percentage
in the standard way it's API specific
and if I take a look at it with the
swagger UI it looks like this so I have
the full list of all attributes that are
provided by the API it's a huge list and
I will show how you can extract this
from an API using swagger coach n it's
just a few lines of code it's quite
simple it's just the workflow how you
can do this and I will show it to those
that are interested and yeah this is
possible for any API which doesn't
support Vega but somehow provides meter
that data you can extract for Facebook
it's just meet the Delta here and if you
have another API you would like to try
this you can also come to my session and
maybe we can take a look at it and
figure out how how you can use Sega
cochin to generate the client stops from
this so this will be really nice and
yeah you can you can also send me using
Twitter or the question application if
you have an API you are interested in so
I can prepare maybe maybe live maybe for
this some resources about Sega the main
page is staggered IO that you've find
everything about Sega and if so far I
only show the spring part so the spring
integration there is a huge number of
open source projects for different if
you're not using spring and yeah just
you can simply look it up and look if if
the matching integration is available
for you the spring fox integration is
independent of spring
just a separate open-source project they
are really active if you have questions
you can post it Darrent usually you get
response within a few hours and for
swagger UI on swagger Cochin these two
projects are directly supported by the
company behind swagger and this order
also very active so let's take a look at
any questions directly from the audience
so if you have questions you can go to
the microphones if you like or simply
shout it out it's the US as much beer
company but it is the standard this
Vegas specification standard is
developed with other companies so
Microsoft and people are already also
using it and this is it's it's a it's as
a standard and that's I think it's the
the mostly used standard right now so
it's but it's not the only way to do it
but I think especially the integration
part is really nice and really
interesting to use and we are just -
anyone annotation and one dependency and
you can try it
any other questions hello yes right now
unfortunately not but I I think it's
it's currently its API specifics where
you have an annotation where you can
switch required flag and you can put a
range of the dis supported but right now
it's it's not supported but I think they
will edit in the future it's the net
next logical step and the other question
is working for Chuck says please look it
up in the open-source integrations its
first bringing uh I showed you the
spring integration for checks RS please
you have to look it up yourself so he's
working with I think so
hello Kent yeah yeah so we're a pun
are great okay one guy told that it's
working with checks OS great hello yes
koe me yeah so using at the moment sir
the annunciate library how would you
compare swagger with a new chase do we
know a new chain I'm no I'm sorry okay
mmm-hmm you can you can show it up to me
afterwards and we can take a look at
together any other question</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>