<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Progressive Web Apps by Cyril balit and Florian Orpelière | Coder Coacher - Coaching Coders</title><meta content="Progressive Web Apps by Cyril balit and Florian Orpelière - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Progressive Web Apps by Cyril balit and Florian Orpelière</b></h2><h5 class="post__date">2016-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zRDZBJIXn9s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon everybody thank you for
coming my name is Serena I'm a
front-hand CTO at sphere of French
Parisian Society and I'm also a google
developer expert on web technologies
like on Google premier and progressive
web app so don't hesitate at the end of
the talk if you have any question just
come to me how will be happy to answer
hi everybody I'm fine offer yeah I'm
software engineer at fair to in Paris
and I'm very happy to be here with you
to talk about progressive of that so
let's go okay so the first thing the
first time we heard about progressive
web app it was about one years ago when
our busque came back from google i/o and
say guys there is a new things coming
here it's cause progressive web apps and
he said you should have a look on it and
because this is the boss we heard we
must have a look on it so we were really
volunteer to try focus on this topic and
the first with we never heard about it
so we try to google google use google
the first time to see what is it about
so we were we were we were really happy
the first time to see that we are
talking about the mobile mobile
ecosystem so before going deeper in the
details let's see let's focus on what is
the situation of the mobile today when
you want to display content to the user
on a mobile you have three solution the
first one you can make a native
application would and this application
will be targeted to the platform you
want the other platform or your user for
example for the Android user you're
going to write an application using java
language and for iOS user you're going
to i right the same application but
using swiftor I objective-c the other
solution you have two day to display
content is to use to make a web
application so every mobile today has a
reader modem broader
so you can display content in this
brother using HTML jars which consensus
and the last solution is a little trick
it with the two first one it's say you
want to make a native application but
you don't want to write it several times
so you are going to use the web
technologies to package the application
on the native format but a user / user
you use this phone this figure the
motorized that a user navigate to a side
on the red side per month in other wedge
and use only 25 apps per month but
however an L users spend more time to
learn apps or as an xenmobile in a
inside so we can conclude to buy by this
grass an abscess I have more
capabilities because you can reengage a
user with push notification sensor
bluetooths all the things and a site
reach more people the idea behind
publicity web app is to merge these two
world in once with more capability and
rich rich people so first time the
possible that appear in is in a article
right by Alex for sell software engineer
at Google and he explained what is a
progressive web app firstly a web app
release web app is a well ok like you
can make today with angular or react or
JavaScript on yahoo or other things it's
a responsive up four-fifths to our
screens with bootstrap frogs on parole
many other things it's safe application
ok we must provide sexual application
with a ticket yes and it's efficient
it's a very important point because we
want to be like native apps so we must
be very performant
it will be it with progressive is
another very important point because for
all user wiggle s with the browser's the
app must run perfectly it's applied okay
um it's very you have the same behavior
like an odd native app and we have some
features like a nap we have connecting
dependent when even if you are offline
you are up continue to run its instil a
ball to keep it on your phone and it's
Ryoga jabber you can with push
notification will come user come back to
your app and other things you up in
linkable we can show you up just when
you share a URL needs to pull off is the
power of the web it discoverable you can
perhaps a search in the search engine
engine excuse me in such engine a your
you up and it's always a too late so the
first thing we saw that is that this
application must be secure so you going
to have to use HTTPS to make a
progressive web app just to focus okay i
need https but when i'm working on my
laptop i don't i don't necessarily have
a certificate so how can i implement
this application this progressive web
app the good news the first good news is
that when you're working on localhost
your browser considering that you are on
https so you can work on on your laptop
without certificate so but after i want
to deploy my application and i want to
make some tests to see if it's working
like as I expect so without having a
certificate you can use some platform
like github with gh-pages or you yahoo
sorry where you can deploy your
application on those platform and they
are natively expose your application on
https so this is a first try that will
be easy to make
and the last one if okay I want to
deploy your application on my own server
but I don't want to spend a lot of money
with certificate so you have now a nice
solution called let's encrypt where you
can provide free certificate that will
be available for six months so with this
you can try and test your application in
rich condition talk about patterns for
for performance we have rail raise
either user-centric matrix for for you
apps with its lofty goal so when a user
input you had pressed on time you must
respond in 100 millisecond before a user
notice a lack your animation must be in
60 FPS is very important you must
maximize idle time for differ work like
payload data for other things or for
other routes and your app must be load
under one second oh it's a very opponent
to but it's important to know oh brother
work and Oh II do when in the frame you
are when you are in 60fps a frame do it
is in SE 16 milliseconds so in 60
milliseconds your browser execute
JavaScript recalculate style and the
render engine do Swiss tab layout for
create a layout for credit layer excuse
me paint it spent on the everyday each
layer and composite match into one's for
it's important to know that lalten paint
are very expensive operation so if we
can remove it is better and for that CSS
properties doesn't funk and the same
thing for example if we want to just
create the translator box we can use
left top left for example that left use
a layer would paint and composite
for the same thing for just translate we
can to use a transform a transformed
yours just composite so demo time to
demonstrate that okay so this is a very
very difficult animation I transfer I
move my grumpy cat and the animation is
like this I i can zoom up okay so i have
a counter very simple a nice set myself
left style understand i start on time
edit or create mini money mission okay
if I use timeline tab in chrome and I
reload and recording once I going okay
okay i can view what my what browser do
so i execute JavaScript time you're
fired I recalculate style I have a
layout paint and composite okay so and
we can view paint with paint flashing up
yeah so I have I have a paint okay I
remove my left and use transform ok just
that remove pin flashing and I will load
okay a nice omit no no say thank you ok
layout disappear I just JavaScript we
calculate i'll paint and composite layer
disappear I can do better because I like
you can see at the top frame rate is 58
because isn't very simple animation but
we can do better our JavaScript engine
and Rob and our render engine is a
d synchronize for that we can use racast
animation frame it's very better because
it's a random if the runner on giant key
is execute the animation so when you
when you do is ready so let's go okay
and normally power K is very very flat
and when I come with my my colleague
here say it's morning I try a new thing
and I want to with a shower with you
because I it's very funny okay I do
paint flashing and we can view we have a
paint and if we use a rotate with zero
degree so nor tight and execute it okay
rotate excuse me rotate keys okay if i
zoom it you know so when flashing
doesn't appear but I and I don't have
paint pen step because rotate create a
new layer and when you master translate
you maybe you doin translate it just
move a layer from a4a another and just
composite is execute okay it's very
simple example so if you want to know
more about CSS CSS properties you can go
to CSS fruit triggers calm and view what
what do our CSS properties for every
render engine but we can do more better
we have more other things to improve
performance we can do compression waves
as if we can do asking the file scripts
we can use ATP to load CSS because you
see we can we float CSS we can
load a synchronous free CSS use browser
cache on many many of the things today
so we are not going to start going
deeper in the progressive real
progressive web app though it's really
important so we put it again on the
slide you have to realize that making a
progressive web app is really first
making a web application and then you
are going to had some feature on this
application to make it program to make
it more like a native application so for
most of the user fault if the user can
use those new feature he will have their
rich user experience but you don't have
to fold the other user I mean the
application must work perfectly so this
is a main concept of the progressive web
app so telling this we are going to see
we are going to see what is the most
important part we are going to use to
make that kind of progressive approach
it's called a service worker so the
service worker give you the ability to
add some feature to a web application so
how it work the service worker is a if
it's implemented it's some things
running on the browser side and hold a
request from your application are going
to pass through him the Heidi you know
is that because it's low so it's a like
a web worker the service worker won't
have access to the dome so you the goal
of the service worker is not to
manipulate the page or to charge
anything in your application the service
worker just have access to the request
and you have access to a cache API and
to fetch API so you can decide in your
serviceworker ok this request is coming
in do i use the cash or do I call the
network but you just you can do whatever
you want as you can see the service
worker is now ok to use in Chrome
Firefox not there
we have strong senior secured from
Microsoft team that it will land in edge
really soon lee but for suffering those
knocks I nerds at all at this moment so
it won't work from now in Safari I think
we are gutted about a little
demonstration here okay so demonstration
and yeah okay we have a little
application it just for search some
people when ended up at in a database
and we add a new tab in in chrome is
called application for for all of all
those features in an application so go
to the code for create a new service
worker you do register it so I add a
first script we need the sales service
workers yes so I go in okay here I'm
okay here I'm progressive because if my
navigator as this feature service worker
I can use it so i use it I widgets all
new service worker service for college
yes it's a promise once premised success
I consulate okay here here i'm in
service worker i console oh whoops
ok it works correctly go to concert ok
ok Ida box my service worker or
explained that it is a variable to be
here so the example is to keep data in
in a cache like you can see in network
my application is the rewrite he has one
dot six megabyte and and we can do very
better we clash all of these data in
cache API so for use a service worker
it's self it's not says because no I
know this is a JavaScript we have to
change the name every time it's a even
drivin so I listened a new annual event
ok for ok I listen fetch event it's like
it's when HTTP request is due ok i have
a function poke in my first one I have
an event ok so I respond with a new
response ok with ok so i go to the cash
and I search I try to find a respond for
this for a particular request so i use
match a chest or request and i can have
a response
if I have a response I wrote on them
oops and done okay but if I don't if my
response is undefined I fetch myself
sorry quest ok it's a promise I have a
response fetch ok oops and I want to put
this response in the inner cash so I
open the cash I call it denied dynamic
dynamic cash ok it's a promise so when
is open I have the cash ok super- when
my cash is often i want to put it to put
my response in on it so cash put the key
is the request and the value is a
response
okay and I've written my response but a
response cannot be consumed twice so I
do clean it before okay so what's going
to happen higher is that the first time
the user is going to reach our page we
are going to look in the car that we are
going to find anything nothing so all
the requests will be made on the network
but all the response will be put in the
cash and the second time the user will
come on on our page or their content
will be available in the cache okay so
go to the application and we little i
remove waiting
oh I have never oh ok I'll even listen
up excuse me thank you thank you oh it
would be ok ok here you have to touch 7
kilobyte transferred ok so my service
worker walk and you can go to the cash
storage and we can see all of data are
in the cage and the service are always
fun for me so even if I I'm in offline
mode i know i don't use network my my
application could continue to work ok so
we are going to continue on that program
of network we make a quick demonstration
of what we can make with the service
worker but the main idea here is to say
that you have the handle on your core
and you can decide what you want to do
when you are talking about network I
think there is three the kind of
situation and the service worker we can
help you in all this situation I don't
talk about the first one which is I'm
online I'm gonna catch 4G network and
everything is going very fast but there
is another situation which is the
offline status I mean what can the
service worker do to help you during
that kind of situation there is a lot of
strategy you can decide for example to
cash a lot of content like we made with
froyo and to retrieve this content when
the user is offline or you can decide to
give access to some of the functionality
of your application but not all so but
the most the most important point is
that you have the hand on it there is
also another situation where we can work
on is the what we call the life I I mean
you think you are connected to the
network even sometimes you think
we are released you have a strong
connection but the data doesn't come
very fast so even in that situation we
can make some things we have some
strategy to improve the user experience
for example you can decide for when the
use of try to have some content in his
application you can say okay i will give
you first the content from my cash and
when the network will respond i will
give you some fresh data so everything
is always to make a better user
experience and telling that we we saw a
lot of pattern starting to come on on
the internet telling you what kind of
strategy you can use according to what
kind of data you want to show to the
user for example we have a first
strategy that we call offline first you
are going to use this strategy when you
want offer further static assets for
example like image things that doesn't
change very often for that for those
assets the idea is to say okay my patch
my page knees need those assets so the
service worker is first going to check
in the cash if you have it and if not
one is going to ask to the next to the
network there is another pattern that
you can put in your progressive web app
it's what we call for example a pay cash
this strategy will be used for data so
the idea is to say okay we want the user
to add the information the more fast as
possible but we have to call the network
to have fresh data so the service worker
will make requests to the network but
put every time the data in the cache for
for example an offline access and then
we are going to see what kind of feature
our application can take to be more like
a native application we talk a lot of
performance from your make demonstration
using CSS properties but it's really an
important point because user don't like
to wait I mean I don't like to wait and
I'm
sure you don't lie to it and this is
specially true native application we
can't spend maybe one second to second
when we are waiting for a web
application because we are more used to
wait when we are using the internet but
when we have a native application we are
used to we are we are prepared to use
this application immediately so we have
to make the things come faster when we
try to make progressive web app we
should always try to make our
application go faster but the idea is
that with progressive web we have to
make better on again so there is a new
pattern pattern sorry coming with
progressive web app is what we call
application shell the ID is to again
with the serviceworker put in the cache
the minimum of HTML asset and CSS assets
so that we can display to the user
something really quickly why even
instantly if we can so we are going to
put in the cage the HTML and assessor
that we use to make this up shayla and
after we are going for example to use
JavaScript or anything else to put
dynamically the content in this
application so for the user it would be
on really more nice users politicals you
don't have to wait in front of a white
page you will have the app shell that
come instantly and the content that will
be loud after instead of all okay when
you upgrade your possible app and when
your respect condition you have a little
pop up here ask you to to add to arm
scream your application for keep it new
phone so for obtain this or this pop-up
you must add a manifest file you can see
it just just after other service worker
serve your site over HTTPS and visit you
view the side at least twice with at
least five minutes between visits so
manifest file is very simple
is just a JSON file that describe your
application and its behavior so when I
had to loud scream the application a
little icon appear to my phone and it's
it's composed by two components short
names on icons when I click on it I have
a splash screen to wait page to load so
this splash screen is described by four
components short names icons began color
ontem color and after my application
it's lunch and I the first screen appear
this drive-by start well and display
this based on alone I'd the browser the
bar very high bar to of browser so when
you have creative as file you just
linked to your HTML and you can view it
on Chrome with application tab like it
like that here and you can view what
icon you are you have put on it and
those are other properties okay one of
the most interesting feature that you
will be able to bring into your web
application is the ability to reengage
your user there is a lot of studies that
say that people are use your application
and after never come back in it so the
idea is to say okay you have now a way
to say a comeback I have something to
show to you this is a maybe I think the
notification the is until now reserved
in the native world so when people
decide to make a nice replicate mobile
application if you want to make
notification it just has have no choice
you have to make it in native now we can
make it in the web application so how it
looks like the D hide is that you Allah
you will have
a subscription channel that because you
have to ask the user if he is a hello
you to send him notification and you
will have some notification that will
appear on your phone like this and the
the main idea is it's a nut chief
notification it's not some kind of
popping in your web application of thing
like that it's really not a real native
application and even if your application
is not running in the background the
notification will be able to show to pop
into the user how are we going to make
that kind of notification the first
thing is that we have a channel where
we're going to ask the user if is agree
for us to send him notification so
you're going to have some steps like
this in your using again some new API we
are going to use a push-up I and you are
going to say okay do you subscribe to
the notification and a popping will be
displayed to the user and if you say yes
you'll get you can have access now to
put what we call an in point detail this
it's a kind of ID that the brother give
it to you that you can use after to
target this user so what you have to do
is to some this ID to your server for or
letters and notification ok so how do we
send a notification to you the user you
there is no direct communication between
your server and the user you have to use
what we call a endpoint server so when
you want to send a notification you have
to generate a message send it to the end
point and the end point with the ID that
you saved during the subscription is
haber to send notification to this
particular user and then the brother
receive this notification and the last
steps is ok there is a notification that
arrived on the mobile of my user how can
i display to the user so
the notification arrived and here again
the service worker that is going to
handle that notification to show the
message to the user so we show you that
a service worker is a working with event
so we have a new event called push that
will be raised when a notification is
coming on the mobile you just have to
listen to this notification and then say
ok I'm using that new method called show
notification to display something to the
user and you see that you can you have
some information that you can provide
the mitten die title I cone and some
useful information but this is not a
really useful because there is no
context I mean I just have the
information from my server that I should
notify the user but I don't know how
what to tell him so the ID is for now
you cannot add context to the
notification but there is a trick you
can register to this event and say ok I
know that I have something to display to
my user I'm gonna ask my server so i
have access to the fetch API so i can
ask the sir my own server what hey what
do you have to say to my user the server
can give you the information and then in
the response of your server you can make
a show notification with real context ok
we show you some real tariq concept but
we we want to show you that there is
some will the real case where the
progressive web app are used in
production and you can see that there we
try to show you some different kind of
example in the real life the first one
it was the this summer in google i/o
they decide to make their web
application progressive that that means
that for the user who went to the event
and if they have all the the
characteristic will show you they were
able to use for example this application
offline they were able to install this
application on the home screen and they
have a lot of feature of the progressive
ever even if you say for example that
during this event you want to listen to
a specific talk you got notification
before the total the talk start to say
hey the doc is going to start so it was
very interesting though so there is a
lot of metrics here but I think the most
interesting is the eighteen eighty eight
percent of visitors support service
worker see the good metric they say that
the service worker start to be present
on the mobile attendance oh ok it's a
google conference so you can imagine
that I think most of the user of android
phone or think like that but it's an
interesting point maybe you know this
one devoxx a little conference in
belgium you can use the oratio gonzalez
which is another video just make this
application for the box so it's a
progressive web app also so if you go on
the application on the website i mean
the first time you will see nothing but
if you come back five minutes later you
will see this little pop in death ask
ask you if you want to understand the
appearing for the android user only and
you will see that you can use go into
the session go to see the the speaker
and formation the toc description even
if you are offline another interesting
case it's what we quit card which is a
b2c e-commerce site and they decide to
play more on the offline with the
offline feature so you can navigate into
their website and see for example
categories product had something to your
car and what it's interesting that if
you suddenly become offline the
application will show you
because you can see that the the main
color of the friction is blue and it's
become gray to say okay the friction is
working but you are offline and you can
continue to play with it so the Z decide
to provide some content to the user even
if they are offline so you cannot do
everything you cannot go into a section
that we have haven't been before but all
the things you have already so you can
continue to travel inside you can add
things to your crowd and when you'll get
the network again you can validate your
code for the number so I think this is a
real case that we are going to see more
and more in the b2c side another example
that is really more funny than really
useful it's what the Guardian which is a
newspaper the mecca little experiments
for the offline support they decide not
to provide article or any content when
the user is offline but a game so they
make crossword so that if you reach lose
the network instead of having the
Tyrannosaurus you can play and wet that
for the network to come back we have
plenty of time I think we were already
fast so sorry this is our conclusion if
you have to remember only traffic three
things for progressive web app the first
thing is the progressive aspect I mean
if you so remember what flow will show
you we didn't touch our web application
we have a web application that is
working the only thing we done is to say
if you have service worker register our
service worker and all the progressive
feature is coming with the service
worker performance is really really
something you have to watch on because
because users going to install your
application and if the user wants your
application to work like a native
application you have to make a real
effort the performance
and the last thing is that all those
feature are now available for you you
are not you don't have to take all the
feature maybe you can I have for example
some customer that are only interesting
in the notification process they don't
want to make offline status or thing
like that you can choose when you have
targeting people with service worker you
can choose what feature you want to
bring to the user we had you a lot of
links in if you want to go deeper in the
details for the progressive web app
there is a lot of article technical
article how to use the service worker so
this is a little we were the most
interesting link we have spent time on
it also we put through some
specification that so that you can see
that it is not something coming from
only google for example it's a real
specification that our are going to be
implemented in all the navigator and the
last thing is that we show you some code
so you you can see that we have to write
a lot of code to to make those future
work in your mobile but there is now
some useful tools that you can bring
into your project for not having to
write this code for example you have the
as duplication is really push library
that you can put in your project and
with a few step of configuration you
will have the same effect that what
floor y'all wrote in maybe 10 line of
code oh thank you for watching and maybe
because we have sometimes if you have
some question not easy
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>