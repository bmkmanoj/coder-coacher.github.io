<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Build, Scale, &amp; Create IoT and Mobile connected applications with the Cloud by Tara Walker | Coder Coacher - Coaching Coders</title><meta content="Build, Scale, &amp; Create IoT and Mobile connected applications with the Cloud by Tara Walker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Build, Scale, &amp; Create IoT and Mobile connected applications with the Cloud by Tara Walker</b></h2><h5 class="post__date">2017-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I7k-5MQIqdw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay I guess we are started I am in
la-la land over here so let me bring up
my presentation so we can both be on the
same page Oh wah lah welcome thank you
guys for coming I'm Tara Walker
i'ma AWS Technical Evangelist which just
means a software engineer that also
talks to people and today we're gonna be
talking about IOT and mobile connected
cloud now here's a caveat with this my
coworker literally banished all the
devices I had on my back and checked
them so I will be still doing IOT demos
and you guys are actually going to help
me because this is about mobile IOT so
we're actually going to control some
devices and you're gonna help me do it
since I was banished from from all the
things that I had on the table that you
guys probably couldn't see we've given
that I don't have my dock cam alright
with that we're gonna talk about mobile
and IOT we're also going to talk about
the good bad and ugly on it this talk is
really hard to do in 50 minutes because
I have a lot of code to show and a lot
of demos to do so we're gonna try to
muddle through it if I at any time you
guys are pretty far but you can throw
some at me if I go too fast all right
let's get started so you forgot us
probably already know what this aisle to
thing is right it is this complex
definition right the interworking of
physical devices connect to all that
that's great that's a lot to say and I
believe in the whole kiss method keep it
simple stupid so instead of saying that
mouthful really let's just keep it
simple it is a network of devices and
things it's going to be made smart by
microcontroller sensors and actuators
it's gonna be connected to the Internet
in some type of way whether that be
intermittent whether that's consistent
or whether that's at the edge and then
we're gonna exchange data which we call
telemetry data back and forth and it's
gonna interact with you us as humans and
the physical world that's pretty much
what I ot does now the current trends
you probably have heard so much I
TI ot but then you hear iia which I love
both of them but what I don't think most
people realize is when you're thinking
about a solution with IOT n with
artificial intelligence what connects
both of those are typically mobile you
guys are usually connecting with these
great IOT devices or just AI solutions
they're your mobile phone and so as
developers we need to really think of
this as a holistic solution of how to
interact with this world because of this
we need to make sure we're building
things based upon these data-driven
decisions you guys are making you have
these data that des sensors and
analytics and you can make these data
decisions as a company as well as as a
consumer almost dynamically but of
course with everything that's good there
is somewhat of a catch because with IOT
there are challenges there are a
trillion devices out there there is the
PI there's the spark there is the the
Android things is coming out where you
can do various things with different
little BOTS actually the device is
called little BOTS the Edison is going
away or has gone away but then now they
have the IOT gateway and there are
millions of producers and devices so
think about that now that challenge at
scale just with IOT devices and then
there's trillions of different phones if
we think about the Android platform
itself there are millions of them so you
have to do it not only the hardware
aspects but then there's challenges
software and then when you start talking
about distributed software those
challenges become huge at scale what if
I do I have a network connection do I
not have a network connection how do I
manage a million devices to a billion
devices versus just a few I have in my
home and you can really start to see the
diminishing value of data if one it's
not recent cuz recent data is highly
Vail highly valuable as it starts to get
older it diminishes so we've got to
really think about the timing of all
this old plus recent if we're talking
about trends is then more valuable but
again there are some reasons why this is
not the easiest thing to do so I want to
talk about building mobile
Solutions but I would be remiss if I
didn't talk about the good the bad and
the ugly which I'm sure we all have
experienced the first thing is the ugly
let's just cut to the chase
routing firmware of various different
devices consistently is a pain the
various devices I literally had in my
bag that my co-workers just ban for me
that's sitting on right now in checked
in bags I had 10 different devices to
show you guys it was like there's no
where you're gonna put those in there
and I had to route every one of those
and some of those flashes are not easy
and depending on what version of the
device it can be terrible and then what
about security so I don't know if you
watch mr. robot but if you remember that
data Mountain was hacked by a IOT device
so you need to make sure that your
device is secure and how we do that
respectively is using um using
certificates but now you have to get the
certificates not just on the device but
we're talking about mobile it needs to
match with both of them are talking to a
pain in the butt then let's talk about
node versions no reason want to bring
that up is because a lot of things get
installed no matter what language you're
doing these things in a lot of the
libraries unless you're using C make
gets installed guess why using node but
the no version can then affect which
security version you you have it's also
a pain API versions also affect how it
talks to IOT and then you have the lack
of reuse of code across devices this is
really ugly and it makes the solutions a
lot more difficult and these things
should be really fun and then you got to
play the version game this is the bad
witch library supporting push device so
is a PAHO library for mqtt right up for
this one well I know MQM T MQTT is right
for this one or what if I'm using
multiple languages well wait is the bill
utility available for this version of
MQTT it can be really problematic and
then what about the SDKs well what if I
really want to write this in Java we're
at a Java conference but guess what some
of the devices that I want to write on
like the media tech device which
automatically has things if I want to
send signals and talk for
laughs any purposes they don't really
have a strong Java story what I want to
write in Java so there's a lot of times
that there's not an SDK for the desired
language for your mobile or your IOT to
match and then there's features that are
unavailable well there's no supports for
WebSockets on this one but wait this one
does have WebSockets but I need to talk
to these various devices so these are
the bad things about building solutions
but there are some good things the cloud
right now is a very positive thing about
IOT and so i would be remissed I work
for AWS I'm gonna mention the ones that
I use the most so I can now have an IU T
SDK for my device that crosses two
different languages so on the on the
actual device I have nodes C Python I
can do actually some go in some Java but
there are those SDK that are being
developed a little bit more than what we
have now so I didn't put them up there
but I can now choose the language that's
appropriate and that's really cool for
me and then I have a mobile IOT SDK that
actually knows that I need to talk
across various protocols that can
deliver that in real time that usually
typically doesn't happen and so now
having that thing talk a real time and I
have callbacks is lovely and the fact
that I can use those SDKs and use the
cloud no matter which one you choose to
now make sure certificates talk back and
forth between mobile and the actual
device and so I can be secure is lovely
and then I can have a shadow Delta and
if you don't know what that is let me
explain really quickly what is the
desire state on the device what does my
mobile phone say they should be in sync
well if I click a button and say that I
want this desired state to be on first
it's off
I should know the Delta between which of
my million devices now are now on and
that they actually changed immediately
and ones that did not and so I can have
API version consistency because now I
have these deltas I have this
information I can update the firmware
over-the-air cloud is really making
mobile and IOT solutions so much easier
and so much better so this is some of
the good things that coming out but
again there are some bad and ugly that
we're still working through
so what's the really power of the clouds
the part of the cloud is when I kind of
skipped but oh I won't go back the fact
that I can authenticate I can do it
securely and I can scale that's the real
power and I can now go a lot faster
despite the bad and the ugly that I have
I can leverage the cloud go do fast
prototyping but then at the same time
scale debating the devices that's really
difficult to do when you're dealing with
something like mobile IOT and there
throw AI in the mix so obviously using
the cloud and again I'm from AWS I'll
use the one that I use the most is I can
literally connect a billion devices to
AWS do it from run protocol do it from
run phone do it from one console and
then I can not only have those billion
devices are connected but they can be
connected to you guys via mobile or web
and that in that interface can be the
same and a lot of that code can be
reused so it really helps me to abstract
complex problems into easy use services
all 90 of them because I know we have a
lot so I am going to show the slide but
I'm going to go into a demo because I
feel like I'm talking a lot and I want
to show stuff and I have 40 minutes so
I'm gonna be mindful so I will I'm gonna
skip these and I'm gonna come back so
you're gonna like well she went all the
way past these because I am going to
show you and hope and pray that my demo
works because again it is demo time so
let's hope the demo guys will be kind to
me and you guys work with me all right
so we're going to this is where you guys
got to interact with me so here is a
mobile application it is a mobile
application that I purposely actually
ported to also be a web application
because I know you guys are gonna not
gonna sit there and download this from
for you from your Android to your to
your or your iOS device I already knew
it so if you go if you guys would go to
that bitly and while you go to the bitly
I'm going to bring up the browser
all right so I have a bunch of things
open haha
so as you're voting this is happening in
real time as you vote I you as you vote
this cube is going to change and I can
actually see your voting and how I'm
doing that dynamically through this cube
that's actually represented not even
physically here but actually that's
being tracked about what you're doing is
using AWS IOT so this is happening in
real time so for instance if I go to the
same link and vote you can see that
absolutely it is a real if I could click
on my own link um yes
you don't see my screen ah that is
problematic let me see I'm glad you said
that
why don't you say my scene well I'm just
gonna in the slideshow and just go back
to regular alright now you see my screen
so I wasn't lying when I said you put it
thank you for that catch all right so as
you vote and do things actually the what
I'm doing here with this code is I'm
actually sending dynamically this to AWS
IOT aid abuse IOT is translating each
one of these things in real time using
the MQTT protocol i'm using a service
lambda function i'm gonna show you the
architecture that actually is then
kicking off and then talking back and
forth from your phone in your interface
as you click this back and forth to AWS
IOT and this is happening in real time
as you can see and this is the power of
using a wiat-ii because or a cloud
service for IOT for mobile because i can
immediately get your feedback as you
guys click and can control these devices
so this little cube thing that I have
while I'm here with you guys is actually
sitting in the u.s. actually responding
to this and this is a virtual emulate in
can't talk today emulation of it I
cannot talk anyway so that's again the
power of IOT in me
responses you guys get the scale and you
can see things happening in real time
all right so let's go back to the slides
really quickly and actually so that you
guys can see it I just stuck open all
right so back to the slides I'm gonna
make sure it comes up this time all
right
good all right so back to the
architecture that empowered that that
demo you just saw where I actually have
a cube lighting up even though I'm here
in the UK that cloud can scale and the
virtual image of that that gets
projected with the little IOT device
like I have you get to see real time and
what's actually happening with it and
what enables that is I'm using up
obviously the clouds so I'm using a data
service for mobile and IOT development
and some key things you'll find with
that the first thing is I'm talking back
and forth but you guys are talking back
and forth to that cube but we're doing
it securely that's what's really great
and we're doing that securely because
again I'm using for authentication even
though you're unauthenticated you didn't
have to log in or do anything else I'm
using Cognito to ensure that a token is
created it's temporary so it's not gonna
last long but it has least privileged
permissions that then can say when they
click this I can trigger these services
and trigonis services can then control
my IOT device and you can do that
through your mobile phone and how you
can enable that is as follows so we have
mobile app development we have some
options there if you want to just
prototype and get started you can use
mobile hub we have mobile hub both for
IOT solutions as well as if you want to
build for Android or iOS so you go there
you do a prototype it actually downloads
the actual real product or project to
you whether it's iOS or Android and then
you can go from there and you can see
the code already written for you that
connects to the cloud and or connects to
things like AI or IOT and that is great
if you're getting started but you guys
are professional and you're rock stars
in coding so we
sdks specifically for your language so
whether you're building on Android or
iOS you're doing a browser base or react
native or even dotnet we had that for
you what triggers a server lessly then
is using lambda and so you can use
lambda to create that serverless back in
and you saw that immediate response that
is triggering from your event that you
did to having a response to IOT the rest
of these are just what I call gravy on
top of things so if I wanted to send an
email based upon someone walking into
the vision and I'll actually give you my
github afterwards because I have that
solution actually on there I want you to
try it where you can build a kind of
alarm system someone comes by you have a
camera there I have the code for both
big camera and a little small one that
it can actually trigger motion take a
snapshot of the person send it to your
email as well as immediately come up on
your phone in your mobile app and so
kind of difficult to show that here but
that's why the code would be out there
for you to see it so these are things
you can do to actually have immediate
responses you can create your own ring
if you want to
so with IOT as I explained there are
multiple scenarios of what you can
trigger in real time so I just want to
make sure you know that the best
practice that we found and this is any
cloud and obviously I work for AWS so
I'm saying this file but using the cloud
and starting in the cloud is what first
scales you so you can get the messages
back and forth using web sockets or mqtt
you can use authentication authorization
there's a registry for your devices so
you know what what devices you have
registered where they are and what
they're doing and then you can have
these actions put in place whether these
actions are in the cloud or their REST
API is you're using so this is great
about it but what about those scenarios
that I don't have connectivity that's
great terry you're saying all this stuff
but I don't have connectivity there's a
concept we have we introduced called
green grass and green grass actually
takes all that power of the cloud and
doing things dynamically doing things
service Li capturing that real time
interaction and
puts it locally on your device and when
you connect back to the cloud then it
will sync all that data back and can
update back and forth so it's okay
you're not connected you're out in the
middle of nowhere there are millions of
devices and millions of pieces of
information that do to being on the edge
will never reach the cloud and so we
want to hopefully fix that by allowing
you to have this interaction about at
the edge so again if you are looking at
building IOT solutions at the edge
either being the connection with your
mobile device or with just a device we
have green grass for that as well all
right so we have another demo that we're
going to hope it works and this is where
we're going to talk about getting into a
little bit of mobile as well as IOT with
AI so doing something a little more cool
ok cool I like that you're still voting
all right so what I'm gonna do is I'm
actually going to bring up another one
for you that's not the right one I want
to give you the link if I could find it
ok well I will go to my stack I create
it and I have it I can't find it there
there you go all right so this link is
actually how you would connect if you
have a smart home connecting your
lightbulb and you can determine the
brightness of it and things of that
nature so if you guys would all go to
this link for me we're actually gonna do
a couple of different things first of
all I am gonna control the light bulb
I'm gonna turn it on and off I'm gonna
change the brightness and you guys
should immediately see it happening on
your phone so this is also using AWS IOT
tie it till you've seen all these smart
lightbulbs and things of that nature
well this is how you actually then have
that smart light bulb that you want to
talk to even though like I said I'm here
in Belgium I live in the US I can talk
to these smart light bulbs no matter
where I am and you can use your mobile
device to do so so if you guys will go
to this link now so what I can do is
things like adjust the brightness so
let's say
I want to beat this up to 22% well
there's a difference between yours what
you see in mind you shouldn't see the
link on yours because you're going to a
totally separate that link is totally
separate from me in fact if I actually
bring up that link you'll see that in
fact I will do that that I am in a
different bring it up I'm in a totally
different view than you guys so I'm
gonna connect here and you guys should
see it happen there now only thing about
my browser it's caching a bunch so if I
change it there you guys should see the
32% happening on your end are you seeing
it okay cool
all right so that's cool I can control a
device well what about the AI part of
this you want to do interactions so one
thing I talked about Monday when I have
my talk was creating BOTS but what about
voice interaction it doesn't just have
to be a but what about Alexa or Lex you
can build actually voice interaction and
AI into this and this is tying this
which is great to these services that
you have using IOT in the mobile so what
you see here is I have a Alexa on my
phone you guys if you have things like
this you'd probably do so I've deployed
a skill to actually control this light
bulb that what will happen is when I
talk to Alexa it will talk to lambda it
will kick off AWS IOT to control this
light bulb to turn on and off or change
the brightness now the trick is me to
say things right so it can understand me
and my southern accent so let's see
Alexa make the light bub 30% I think my
utterance is wrong yeah I said that
wrong let's see what is the name of my
scale I think is light bulb let me see
this let's try this let's try Alexa
asked light bulb to go 30%
yes dropping my phone see my southern
accent let's try it again
Alexa make the light bulb 50% no one
save me sputterin says wrong ah ok so
since I don't know let's actually show
you the code for it and then I'll say it
right since I am destroying what I'm
supposed to say let's go to the Alexa
dashboard that actually created this
light bulb skill this is what happens
when you don't get sleep alright so in
building Alexa you actually build
utterances these are sample utterances
of what I want to say so let me try to
actually say something the right way and
by the way if you never use the lexer or
Lex you tell the utterances of what it's
supposed to say and then you can test
the utterance so if I say stuff like
let's say flesh light just to make sure
I'm saying my utterances right hopefully
I have connection is it flashing for you
guys okay flash complete let's see uh
huh it's not flashing for me why not
of course they're flashes for you guys
are you guys flashing okay so let's try
this again alright so I must say it
right this time let me see it
okay so let me try one more time to do
this Alexa asked light bulb to flash
slowly are we flashing now yeah I said
all right so this will happens when you
don't remember your own utterances okay
thank you finally I guess you like
finally said it right so I can
the skill to actually not only talk to
Alexa and infuse AI with a Dobis IOT I
can do that in not control so now I have
the power of artificial intelligence IOT
and your mobile phone and so as you're
building these interfaces and you're
building these solutions you want to
think of the best way to interface with
the people you're writing the school
apps for trying to think let's say I
cannot remember what else to say we'll
say one more thing just to make sure and
again me remembering what I typed it's
probably good but I'm gonna blame it on
jet lag whether that's true or not so
let's say so it's flashing so I can say
ah let's see so let's turn it off first
Alexa s light bulb to turn the light on
so it should stay all right so again and
these are the various utterances that I
can say and what's cool about this is I
can infuse this not only would Alexa but
also the things like Lex and poly so you
can have teletype things that can speak
back to people where they type the text
type to speech and control IOT devices
all right with that let me go back to my
slides I actually want to show you some
you know code to actually do these
various things all right so okay 25
minutes all right okay so how this works
is that that was the cube voting let's
talk about how this works
what I'm doing is first as I talked
about I'm using Cognito for
authentication even though you didn't
log in and I'm doing this also for the
light bulb I need a way to securely
connect from the mobile to the IOT
through the protocols that I'm using
with lambda and things of that nature I
don't want just to leave it to chance
and have a mr. robot moment so I'm using
Amazon kanita Cognito to do that and
hopefully you guys don't put even though
we see it all the time username and PES
in your code so someone can grab it
please don't do that what's great about
this is it actually builds those tokens
for you and you don't have to do that
now after that I want this to work
anywhere so like I said I'm from the US
as you can probably tell about myself an
accent and I want this to scale no
matter where that where I am so we're
using clout front so that we can reduce
that latency there based upon wherever
else I am in the world when I do the
cube and I want this cube to interact
with where I am in US or when I'm in the
US or if you guys are still here guess
what it'll interact and your latency
should be little to nothing so hopefully
you saw the very little latency there
where I'm storing a lot of the
information and the resources to
graphically display this and that way I
can dynamically change either the mobile
application the web application and even
if you're using some of the things
actually on the device using less and
other things I can store those things in
an s3 bucket and that means I can
dynamically trigger different things to
happen from that bucket so if I want to
change an image I can have that image
change in that bucket and dynamically
you will see it both in your web
application or your mobile application
now what's happening when you click that
color so whichever color you will were
voting and you were doing a great job
with it it's triggering a Tobias IOT and
I'm using an MQTT protocol to do that so
that's almost immediate it's saying okay
I got an interaction and I am saying
that device at that point in time I got
a vote to blue or yellow or whatever you
chose trigger that to be written not
only back to the device but I'm actually
writing it to a no sequel database so
then I can actually track things like
voting applications one of my co-workers
Rendell did a great job of creating blog
posts about having real-time call
centers and using the web to have you
vote and get those really dynamic things
so check him out
but that dynamodb is the way I can store
that quickly and easily in scale and
then to verify all of that back again I
can use Cognito to make sure it's secure
whether it's on the phone or whether
it's on the web that we did today
so let's talk about some key feature
of the cloud and AWS IOT my you know I'm
really digging doing the IOT mobile
story first of all a registry there is
no way well you guys may be better than
I but there's no way you can keep up
with millions to billions of devices and
at this point we're at the threshold of
having billions of devices and you
probably have a ton in your home that
you probably don't even realize so what
the registry does for me is to be able
to establish an identity for devices and
manages that metadata for those devices
and what that allows me to do then is to
do over-the-air firmware updates for
these devices or groups of devices which
simplifies my ability to build solutions
at scale then I have a shadow obviously
if I'm here and you're there and a great
example of this my coworker and I were
working together a couple of Rio Vista
ago I'm building the agriculture demo
you probably have seen where we were
rewarding plants dynamically well he was
in France I live in the US but we could
dynamically have the status of whether
the plant was watered both on my phone
both the sugar email and we can do that
because there's a concept in a Tobias
IOT for your ID your two devices of a
shadow it is a restful state but it can
tell me exactly the things state is it
on is it off has it been watered is like
green is it yellow and I can have the
Delta everything in between I've pushed
my button I wanted the light to go green
but because there was an error what you
requested was green what the current
status is is is red and what the Delta
between those what what it was just a
few minutes ago was was was yellow and I
could have all the information so if you
think about it what if a pipe is about
to burst or a dam you want to know the
pressure immediately and you want
something to be triggered dynamically to
happen so instead of having human
interaction even though our mobile
devices are great you want immediately
that Val but the dam to be turned off
and triggered so I can write rules based
upon these shadows that can serve as Li
trigger the information to the device to
turn off our on and then send the alerts
after the action has been done so
shadows are great for that and then the
rules and actions what drives that so
the rule is if my threshold of the
pressure
the dam got passed I don't know eighty
whatever I want to trigger that bell to
be shut off and trigger someone to say
something is wrong or turn another valve
oil so again some of these key features
to help you not only scale but to really
make a robust solution is this I'm so I
am NOT going to get into this because
you guys will get slides the key of this
is we support all the protocols you know
mqtt HTTP over WebSockets we have a
pub/sub model and then it's secure by
default and again the key if you take
nothing away is this is how this
platform kind of works you have the
device if CK you have the registry I
talked about that I want to get into how
you program these things because we're
at a developer conference so one of the
solutions that has been really
interesting is what if I want and you
see this with things like the iRobot
Andalite the robot has no concept of the
Wi-Fi in your home and how does it get
that concept of the Wi-Fi unless you're
using the mobile device well how does it
translate your Wi-Fi the appropriate
security security of your Wi-Fi to the
diet the robot so that it kid and then
function well one way you can do that is
over Bluetooth so you Bluetooth and talk
to a device you probably have like I
have on my watch and other things where
it talks to my mobile device well if I
was building this for Android and this
is actually my real code for the
solution we did with a dynamic plant
watering where I take a Bluetooth
manager and I connect to bluetooth to my
device and write the characteristics and
so when my device picks up the
characteristics that I'm actually doing
for the IOT device I can connect to it
this is actually believe it or not I
literally couldn't place a code for my
solution now on the Bluetooth from the
AWS IOT device then I need to have be
able to accept what it's sending out as
it advertises the Bluetooth so I need to
advertise the IOT device or not me but
the IOT device needs to advertise and so
that my phone as it's turning on that
Bluetooth can pick up that what's being
advertised and connect successfully and
so on my device then this is how you
actually connect now I'm using nodejs
and I'll tell you why on the device in a
minute you obviously can you see in
other languages but I'll get to why
node.js was my choice for this solution
but again you see that I'm using the
blender library I'm starting advertised
this is like I said actually my real
code now what about sending device to
AWS what from the actual device the IOT
device so I can do a couple of things
the first thing is I need to make sure I
set it up and securely so I need to just
establish what port I want to send if
I'm gonna use mqtt which is mam
preferred for it I usually have a root
path where I'm gonna dynamically store
my certs and by the way you can do your
service
obviously in advance you can do it in
the console you can do it CLI but what's
also great is I can dynamically connect
securely using kognito and dynamically
create assert to be downloaded to the to
the device and that way I can have a
rule that I can only happen one time and
it can only happen from certain devices
so I can again make rules to trigger
this but here's the thing I want that
root CA to be on the device as well as
the client cert because again I need to
match that with a public and private key
and then I will give it a name so this
one of these solutions we did multiple
devices the code that I grabbed for this
and it's probably one uses as much
anymore is the Edison and then IOT
provides for you and ia to end point of
how to talk back and forth securely and
you choose to region and then once I had
that information that's the preliminary
information just setting up then I can
initialize the communication from the
device by literally just saying AWS IOT
device you see that I required the IOT
device SDK in the previous step and then
I just pass it the using adjacent
attributes what my criteria is that I
have said over here with my bars and
then after that I just said device on
connect and then I can trigger other
things at that point now what if I want
to send data so I got connected that's
great I'm on this is where I want to do
stuff so I can do to one or two things
here here I'm using actually the MQTT
library so the device
on message when a message comes in grab
that payload I can actually then take
that message and send it out because you
haven't subscribed and publish it to a
mqt topic at AWS iot and i can do this
with various things but what i also can
do this with without using MQTT is using
what we call a device shadow so in our
solution when we were war during the
plant every time the plant changed is
device shadow would actually send the
desired state that it wanted to the
Edison and then sorry go back I did a
little too fast the mobile device the
synth estate it's a shadow picked it up
it looked at the Delta and then based
upon the desired state versus the
current state that taught you then it's
sent to the aid of a society did that
kind of fast so it would turn on the
pump and so I can either have the shadow
which is a different state that says the
pump is on which is one in any light
bulb that came on we had a light bulb
that triggered that the pump came on is
now at a certain color step or a
timestamp there's that could be on now I
can have a reported state if I want to
constantly like I talked about the pump
understanding what's the state of my
device at all times so I can look at
another shadow that is like a reported
state and then I can have a rule that
says based upon this report at state do
something
send in mobile device send them a push
notification trigger something to go on
and off and that state can report that
it's one well what if it should not be
one then I can either have that report
of State this is what accepted this is
what's on an advice and do something
different with that
actually I'm we did this already so I'm
gonna skip and talk about actually what
is with that really quickly so this
solution I actually changed a little bit
just to say how different you can do it
we use skim qtt over WebSockets still go
into AWS iot using the iot shadow so
what is the state of the bulb even
though like I said we're here and the
ball must elsewhere what is that state
then I could talk to it with Alexa you
saw the skill that I created and again
that's securely done with ADA
ái Amazon kognito and this telemetry
dashboard again with the UI you can
build it for web mobile and actually
physically on the thing as well so I'm
gonna skip this a little bit because I
want to show you what the SDKs look like
and how you interface with them so for
us in talking about mobile and IOT there
are two main ones I use a lot on the C
SDK because most embedded devices is you
devices usually typically have support
for C and what I would do here is using
that C device it actually again this is
actually real code very similar to what
you saw a JavaScript I have a QT version
I'm gonna have a client ID at the host
URL that's from AWS IOT and then I'm
going to connect so very similar to what
you see and then I showed you the item
AWS IOT device SDK for JavaScript and
then I could do various things so this
is just turning it on and doing a pub
sub model this code is actually doing
the shadow so this is again a real
shadow where I see a desired state is
for my LCD to have this let's say I have
an LCD light bulb that does red green
blue then I can us our RGB a light bulb
is red green blue I can say my desired
state to create that color that I want
for that LD LED lamp is this and
registered that shadow so it all period
of time that shuttle tells me what the
state of it is for the IOT when you talk
about mobile and I know this is a chart
but bear with me I wanted to let you
know guys know what it supported so we
had the latest SDK released as far as
the final GA is not the latest we've
obviously made my revisions happen in
December 2015
it supports device and apps for iOS and
Android
you can add JIRA for process
improvements if you want to we support
MQTT HTTP clients we had the device
shadow strategy we also have which I
skipped over if you go to AWS labs in
also and you can see the sample apps and
then finally I want to talk about open
source because when we first did this
and I first created it I
didn't have the code I didn't have a IOT
device I had none of that and I want you
to understand the power of doing things
with the cloud you don't have to use any
of the SDK that I talked about any of
the solutions you can use open source
things that are out there today this is
also my real code to connect to a Wi-Fi
when I first started this using the
power library so the Pahoa Eclipse
Foundation library I actually used and
created on my actual Android to be able
to talk to an IOT device both with
raspberry pi Edison and a mediatek using
the PI whole up open source library now
there's a little bit more code involved
but I wanted to let you know that what's
great about these solutions is you're
not tied down to people forcing you to
use anything the world is your oyster
about how you want to code and the
method and the solutions you want to use
and this is the code when I changed it
when we actually got a mobile IOT SDK so
I won't go through all of this the last
thing I'll show is I showed a lot of
Android before those of you guys who are
working with iOS obviously we have an
iOS SDK and this is actually the code
from this and one thing I want you to
note is I'm not putting a certificate on
here I'm actually creating the dynamic
certificate on the phone and using
kognito secure that communication to
create that certificate so you don't
have to do the model of okay do I want
to download certificates and things of
that nature just like if you had an eye
robot you don't download certs and they
don't know when you're going to activate
it you can do that automatically and as
a developer this also enables me to do
this in the browser so again the same
code is very similar so I can have
interfaces and various things the final
thing I guess I will say about this is I
can actually use kognito in a very least
privileged way and with having the cloud
that means I can say only this bucket
can talk to the cloud with my mobile
device only this section of the bucket
can talk well only this section of the
bucket for this specific user can talk
only the section of the bucket for this
particular region at all and so you can
really get
regular about the identity once you guys
get an identity back to do that you can
also do this people who don't like it's
absolutely okay using consoles or SDKs
you can use the command line to a lot of
this so there's access to the AWS IOT
with the command line and also the web
console alright the final thing I'm
gonna skip my mobile solutions because I
have seven minutes in 30 seconds
like I said it's really hard to go
through this talk but I want to talk
about cross plat I only have a couple of
slides on it so I said I would come back
to why I chose note for the device well
as you can see like I said I've been
recommend by having a bunch of devices
here I have a bunch of devices and when
we talked about the good and bad and
ugly each time I get a different device
the way I program on the BeagleBone
versus the Raspberry Pi versus the
now-defunct Edison is totally different
and I have to totally change gears
either with language
I can't reuse code easily that bothered
me and so the reason why I actually
chose note was because of two libraries
that I've really found to be really
great in supporting the sensors has
anyone heard of Johnny Five and not the
movie well maybe I'm just old and I know
about the movie but anyone heard about
Johnny Five javascript library no one
okay so it is was created by buku and
it's sits atop of a library that is a
C++ library and what it enables for you
is to be able to write code across all
the devices you want to you install you
have node preferably four point two one
or greater and I can just tell it what
board I'm on so I can pass it in this
command line and this code will run
whether I'm using a Raspberry Pi whether
I'm using a MediaTek whether I'm using a
BeagleBone Arduino it doesn't matter my
code can be the same so I can actually
get reuse out of it so that's what was
the choice why I use on the physical
device use the nodejs library there's a
second library you should know about is
called Cylon Jas same thing it supports
the while Johnny
I've supports about 50 different
hardware devices cylon is relatively new
but it is a great library as well it
supports about 35 different hardware and
software platforms and it supports
languages like if you're really into go
they have go for cross-platform so you
can start doing IOT and robotics
development using go and again very
similar model if I want to use this
across all the devices this hello world
I just require that library and then I
can have this code actually run on the
different devices which is invaluable so
finally with five seconds left I would
do my due diligence as a employee and
say we have a bunch of successful case
studies on running and building mobile
and IOT devices and solutions on AWS all
of that code is out there in AWS labs so
go and play with it yourself and we have
analytics analytics sorry to do this for
you so if you want to track what things
are it's a no-brainer you can do it I
can do things like have a bunch of my
raspberry PI's and have a visualization
of it alright with that what's next you
guys tell me
I appreciate what your attention and we
have five minutes left for questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>