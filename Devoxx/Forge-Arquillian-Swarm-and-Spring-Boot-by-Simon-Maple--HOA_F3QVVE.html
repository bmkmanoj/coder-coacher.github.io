<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Forge, Arquillian, Swarm and Spring Boot by Simon Maple | Coder Coacher - Coaching Coders</title><meta content="Forge, Arquillian, Swarm and Spring Boot by Simon Maple - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Forge, Arquillian, Swarm and Spring Boot by Simon Maple</b></h2><h5 class="post__date">2017-03-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-HOA_F3QVVE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you very much
Wow I really pity the person who has to
do some live coding after Josh long
sorry it's me but I'm going to talk to
you about a number of tools I'm really
going to be talking about how you can
actually be more productive in your day
job what we're going to do some java re'
we're going to do some spring I'm not
gonna do too much spring really because
josh has kind of done a fair amount of
that and it's pointless me go over the
same stuff or a lot of a lot of similar
kind of stuff so we're gonna be focusing
mostly on the on the on the forge cases
I'm gonna start off with the story
stories about a bunch of monkeys a
ladder and a bunch of bananas who's
heard of this story you know if you've
heard this story I don't know if it
exists I kind of want it to but we'll
see
so there's five monkeys and they're in a
room this is a scientific experiment
we're used to these kind of scientific
experiments here I guess but this is
this is maybe a little bit simpler we're
not we're not going to be we're not
gonna be flying these these monkeys
around 27 kilometers at super speeds but
these monkeys see the bananas and they
naturally just want to go and grab those
bananas so one monkey goes up tries to
grab the bananas and what happens these
happy fluffy monkeys turn into these
kind of little wet very very sad monkeys
because they sprayed with cold water
they're being punished for one monkey
going up to this search to the to the
ladder to grab those bananas so what do
they do every single time a monkey tries
to go up the ladder what they end up
doing is beating the out of that
poor little monkey and they're now in a
state where they're policing themselves
because these monkeys have learned that
when a monkey tries to go up to get the
bananas the others beat them up because
they don't want to get sprayed at this
point they get to a stage where none of
the monkeys are actually going up to get
the bananas they see it but they
understand us the self-imposed rule that
they don't go up to get the bananas then
they take one of these monkeys these
these conditions monkeys out the group
and replace it with another monkey this
kind of weird-looking fluffier monkey
and this monkey sees the banana so he
naturally tries to go and get the
bananas so what happens then all the
other monkeys go and beat the crap out
of this poor monkey for just trying to
get the bananas and they start leaser
they slowly condition this monkey he
doesn't know why because he hasn't been
Radia they then replace every other
monkey with a non conditioned monkey
till they have five non conditioned
monkeys if we were to introduce another
monkey into this group now all the other
monkeys would set upon this poor monkey
and beat it up why do they do that they
don't know because none of these monkeys
have been sprayed okay that they've got
a self-imposed rule that they're
following that they don't know why they
don't understand the consequences but
they're still following this rule and
this is one of the things around
productivity which I think is very very
key and when we join a new group or a
new team or a new company and we learn
about what the tools what the processes
are in this company
people very often say ask as many
questions as you can and the reason is
because it's all too easy to get stuck
in this rut where we do the same thing
again and again without asking ourselves
why and without realizing it
we're we're at one of these you know
conditioned monkeys okay don't be a
conditioned monkey let's move on to
something completely different from
conditioned monkeys to me this is this
is me I work for zero turnaround we are
a company that create productive tools
tools that make developers better
developers I also create the virtual jug
who's heard of the virtual jug a few
people good reasonable number the
virtual jug is a virtual jug it is a
Java user group that is completely
virtual we don't really have meetups at
all we do things completely online as a
result we get speakers like James
Gosling like Josh Bloch like our own
good to mark sighs I all the best
speakers in the world come to speak at
the virtual jug
oh one other thing I should probably say
about me maybe this is just an admission
I used to work for IBM for 12 years on
WebSphere application server
hello groups my name is Simon I used to
be a WebSphere developer I'm sorry
any WebSphere users here it sounds like
a drug case any web so any users in the
room just one person what version of
WebSphere you one which version eight
eight five seven six
you just want to make yourself look
better in front of the group now I okay
so I used to work from about version
four up to about version eight eight
point five and then I moved to zero
turnaround about four years ago so what
is productivity who knows what
productivity is who thinks they know
what productivity is one person two
people three people productivity is
about making a turtle go faster by
sticking a rocket on it we're talking
about basically making things go faster
that either shouldn't go fast or take
time we could do that in a number of
ways one of the ways is removing
non-essential tasks tasks that we don't
need to do like the monkeys right
self-imposed rules how can we are how
can we remove things that we're doing
today that we genuinely don't need to do
another way optimizing tasks when we
know we have to do tasks how can we
speed those tasks up back in 2005 I used
to have a three-character smiley I
increased my productivity 33% in 2015 by
being able to be the two character
smiling another way is retaining
important tasks making sure that when
you go forward you don't actually remove
too much to try and speed up your
process because don't lose sight of your
goals speed is just a measure of how
fast you reach your goal we don't want
to you know move from websphere to
tomcat necessarily if it's not providing
us everything we need maybe consider
itami or something which provides us
everything we need while being
productive I love this picture are you
too busy to improve when we look at when
we think about productive tools tools
that make us it's all set help us and
generate code for us write things we
don't need to write ourselves it's
really really great but it takes time to
learn it takes time to adopt and we have
to make sure we spend time in our jobs
trying to understand how we can how we
can be better in our jobs so it's not
good enough to just to say I haven't got
time to do this I need to do work ok who
agrees quite a few people do you know
see a dog doing some chemistry yeah
let's do let's do some of that instead
right so let's first of all talk about
JBoss forge who's used forge in the past
couple of people anyone heard of Forge
a few more people so Forge JBoss Forge
is can you see that is that type fun
okay at the back you can see that cool
so what is Forge forges it is let's
write Forge and see what happens you can
brew you can brew install forge forge is
just an environment and environment that
allows you to rapidly generate code from
scratch and you can also use this for
new projects as well as existing
projects and what it allows you to do is
scaffold code which is typically a pain
in the ass to write so for example Java
EE has a whole bunch of artifacts a
whole bunch of boilerplate that you need
to write in order to actually get
anywhere Forge will in a way scaffold
and create all of this for us just by
writing some kind of scripts it's an
environment so show kind of environment
so if I hit tab but we get sync we get
some nice commands here you can see some
similar commands Taconic unix command so
cat CD clear grep all these kind of
things but also a whole bunch of forged
like commands so I can use tab
completion so let's let's create a new
project so if I was to say project new
if I hit tab after that we then get the
information about what we need to
provide so these are all the options
that I can provide to my project new the
green option named there this is my this
is my required attribute so I have to
give it a name I let's call it let's
call it Vox discern just to be really
interesting and original if I hit tab
again named has obviously been used
already in this combined now so I don't
need to add that but what else can I
have I could have a build system maybe
what build what build systems do you
guys use maven CB NZ SBT the simple
build tool the the simple build tool
yeah mote the worst named build tool in
the world the most I'd not or Rana clean
a build tool any ant users and he make
file uses hardcore users Gradle quite a
few great in I'm gonna hit build system
in in Forge you can actually use
whatever built as students you want to
song as you actually include
the add-on so far as to type whoops oh I
see if I was to type build system then
hit tab I get may even automatically
because that's the only add-on that's
that's available to me if I was to come
over here and go to add-ons there it is
here you can actually have community
contributed add-ons that you can install
into forge so if I wanted to type Gradle
for example in here we have our Gradle
plug-in so what you need to do is come
here grab this this add-on command throw
that into your Forge console and you'll
install you'll install the great the
Gradle the Gradle build system in here
but we're going to use maven I don't
need to try this because it's gonna be
my default anything else I can type in
here I could actually have an
application type so here in fact what
I've also done is I've installed the the
fabric eight plugin as a result I can I
can create a spring boot application if
I wanted to as you saw just doing but
just hit just here I wanna do this can
create a regular a regular wall kind of
type now you'll see that I'm actually in
the Vox Sun project so if I do a print
working directory you can see we've
created this Vox earn project but I do
an LS you'll see I've got my maven pom I
can cut that maven pom and you'll see
it's actually very very straightforward
nothing really there are no dependencies
because all we've got as an empty
project what I'm going to do is I'm
going to import this straight directly
into Eclipse how many Eclipse users here
actually a reasonable number any
IntelliJ NetBeans there's always one
NetBeans but or three NetBeans people
Wow
any hardcore vim via well there we go
this is the place for it so I'm gonna
I'm gonna import my I'm going to import
my maven project in here okay d so
that's all what did I call it
where is this I was it in my home phone
so I used to as an IBM Oh I used to use
rational application developer and here
ad uses here no one right views er the
rest of probably just what still waiting
for it to start up I guess and didn't
quite make it as an X rad user huh my
let's stop this let's go out of this and
let's do this again I was in the yeah
you're right so let's do this again as a
rad user I'm perfectly happy with my
Eclipse it runs very very fast for me
because of what I'm used to
okay so it wants to it wants to scan
everything so what I'm going to do is
I'm going to come out of this let's just
go into my downloads directory and I'm
going to run the same command and I'm
gonna come here and I'm gonna go into my
downloads directory and these select all
and there's my turn I'm gonna import
this and in box soon you'll see my pom
script you'll see I've got everything
that a good maven build should have but
actually no code we just have our we
just have our package and so forth so
let's create some code now when I hit
tab I have a whole bunch more it kind of
operands I can use and the one that
we're going to use we're going to create
some JPA I'm going to create a new JPA
entity so I type JP a new entity and the
options that I have are named obviously
so what shall i what should I call my JP
entity I'm really bored of books I'm
really bored of people persons libraries
what can we what can we call it here so
again protons there we go and what can I
have here I can actually choose my JP a
provider so you can choose exactly what
you want to deploy it against hibernate
is the default here but you can pretty
much just choose what you want you can
also choose the JPA version
if you choose to zero or to one based on
your preference but that'll pretty much
do I think let's just create that JPI
entity for us to go back into my Eclipse
a refresh my refresh my package you'll
see that now we have a proton Java it's
pretty simple and we've got an entity
here we've got a a field which is a long
ID we have a private inversion we have
our setters and getters we have a two
string equals and a hash code so it
fills in it fills in a fair amount for
you but what we can also do from within
here Oh actually let's also show you if
I was to refresh here we also get a
persistence XML within a persistence XML
you can see we have all the usual
hibernate stuff but so far I haven't
touched a single line of code haven't I
haven't even needed to touch any XML so
what we're going to do now is going to
go into the JPA
new field and we're going to create a
field what does a proton 1/2 quarks like
that we can also choose some types let's
have a type long we could make it a
janina's not make it transit but we can
do whatever we want we can actually map
that to a column name if we want called
quarks now we have a new field created I
can come back into the protons we see
that we have a new private long quartz
we have mapping that to a column name
and we also have our getters and setters
at the bottom also you'll notice that
since I created the entity we're now in
the protons dot Java scope so if I was
to just type in LS there rather than get
a kind of directory structure we
actually see that currently we actually
see the schema of the class so we see
the fields we see the methods and so
forth if I wanted to add a constraint to
that I can say can constraints add and
here I can just choose what I want to do
if I just hit return because I don't
give enough of the information it puts
me into a it puts me into an interactive
mode so I can say well let's have a
constraint on quarks let's say it has a
max out of constraint
yes groups don't need to value that's
we're allowing a 50 quarks is that
reasonable I have no idea let's say yes
message not allowed more than 50 watts
I'm sure if I'm spelling it right how
much how do I spell quarks
like I did spell right what payload
don't need okay so now if I go back to
here you'll see that we have on our here
on our quarks we now have a max
constraint value of 50 plus a message if
I go and have a look now we also have a
validation XML so we're using beam
validation so as you create a new
construct and you generate code through
JBoss Forge you're automatically getting
all the artifacts the XML needed to
bundle it together in in your
environment from here let's let's do
some rest
everyone loves rest from here what I'm
gonna do is I'm going to generate my
rest endpoints from my entities I need
to point to my targets so I'm going to
say my targets are going to be the the
protons entity and I think that's pretty
much all I need to do so I'll create
that now if I come back here you'll
notice that we're going to have a rest
endpoint here on my protons endpoint you
can see exactly where we're going to be
we're going to be showing that so now
we've done this let's actually build it
to build it because you have these
add-ons where you get you can choose
with your maven Gradle whatever you want
to do you don't actually call the
command directly but you can if you
wanted to you could call run run see
which is going to run a native command
on your local environment but what we're
going to do here is we're just going to
call build and build as effectively just
going to run the the build environment
underneath here we have build success so
now we have we have our war which is in
our target directory so now let's let's
go and deploy this to deploy it we can
either do it in two ways we could be
boring we can go outside a forge and
deploy it manually to our app server or
we can do it from within forge so to do
it from within forge we're going to
wouldn't use something called AAS setup
now is set up is another add-on in which
you can control application servers
whether you want to use wild fly or
whatever app server you have it doesn't
support all app servers but you can
actually create plugins if you wanted to
use your own so within is set up what
we're going to do is we're going to
choose our server our servers gonna be
wild fly we're going to choose what else
can we choose we're gonna choose our
version of wild fly version that we're
using today is 10.10 dot final we're
gonna choose the install directory so
that so that fortune is exactly where to
where to go
this is going to be in users SJ maple
it's in downloads because I'm really bad
at putting stuff in reasonable places
and it's in wild flow and we're using
wild flight ten what else do I need to
do let's have a look I think that's
pretty much it if you want at this point
you can you can add JVM are you can
change a job a home or whatever you want
to do but that should be enough for now
for us so that's now creating the air
set up all that really does is just
create create a file called dot dot
forge set dot forward settings at the
base directory of this project and
that's just gonna provide us with all
this information from here we can do an
a s start and this is gonna just start
us over so you can see we're actually
connected to it and we have a wild fly
server up from here now once this has
started what I need to do isn't actually
no I haven't finished because what we've
got with our application is we've got
the front we've got an application with
no front so what we can do now at this
point is we can scaffold it so we're
going to call scaffold generate and this
is going to provide us with some you
know nice front end so we can actually
test and we can ask a file generate with
a provider and our provider could be
whatever we want to do in this case
we've got I think angler jarasand faces
we're just gonna stake let's just stick
with faces because we seem to be going
the Java reroute here and I also need to
add my targets so I targets in here and
my target needs to be protons I think
that's pretty much everything we need to
do so I hit that will see if I come back
to my environment here
and refresh you'll see we have our new
view with a Connor JSF gonna exist in
there
so now let's build this one more time so
that we have everything built into our
war and then that's just simply a s
deploy there we go and this is now going
to deploy this straight across to our
our application server which is running
and we are up so now if I come here and
I just go to my local host and what do
we call it we called it protons we call
of proteins
oh no boxer sorry the name was box turn
protons with our entity okay we go to
protons and we have this nice little
environment running up for us which is
surrounding our surrounding our business
logic we have our entity here we can add
some quarks so let's create a new number
of quarks let's say this one has 10
let's say this one has 20 and just to
show you something
where were for is to go over 50 hit save
not allowed more than 50 quartz which
was the message to the constraint that
we've got so we use the jsf to render
this we're using bean validation as we
saw we're using JPA
and i haven't got an application that
I'm testing on my fly I haven't written
a single line of code for and I haven't
written any XML the world is great also
I showed you we did some rest if I was
to go into my rest interface here and
what was the what was the end point was
it just protons yes it was protons so if
I go rest protons we can also see the
the in in Jason the entities that we
have there I can also if I wanted to go
slash one and you can view an ID and
instant an individual instance of that
entity so life is good what else can we
do let's I'm going to jump back out of
this what I'm going to do is I'm
actually going to I'm gonna shut down
the server and I shut down and what I
want to do is I want to show you another
tool which will allow me to actually
have an insight into what's going on
into my run time so what I'm going to go
back to my settings here we go
am I set up I'm going to add a JVM
argument and this JVM arguments going to
be a
agents and this Java agent is gonna be
found in the users SJ maple it's going
to be X ruble slash X rebel sure and
what this is gonna do a terrible dark
Jack trouble is a performance monitoring
tool and it allows us and I'm just gonna
restart this server and it allows us to
grab an insights into what's happening
beneath our application what's happening
in terms of both application profiling
what's happening in terms of our
interaction with any third parties
databases web service requests and so
forth but the interesting thing about X
trouble is that it does it during the
developer time so because it's a Java
agent it can it can bytecode minute
delay class loaders and all kinds of
things data sources whatever you want
under the covers and as a result it can
grab really flying data and push it
straight back to the user because what X
level does is it injects the the the
widget the the toolbar directly into
into the into the response object of the
application so I'm also going to deploy
my my application again and then when I
come back to my runtime when this is
finished come on come on Forge come on
more flow there we go there we go
now we've got this Forge we can also see
we come so CX rebel here in the
background and the nice thing about X
rebel is when I click through and this
is going to this is going to be quite
interesting when I create a new item
you'll notice straight away that there's
actually a problem within within JBoss
and there's an exception found here
which is quite interesting that I
haven't actually sent this back to the
JBoss yet but I will an exception this
is based a hidden exception exception
that's that's created may be thrown and
caught and nothing done with but an
exception that's in the code which is
kind of just potentially bloating system
out and but I'm going to canal create
let's create a quarks create my entity
in the background what you'll see is a
number of things first of all we have
application profiling so you can see
exactly where we're spending our time
either cumulative Li here where you can
see the amount of time in the forward
branch or the absolute amount of time
being spent percentage-wise relative
in that instance of that method and you
can see it by you can see the
bottlenecks simply through knowing that
if it's over 1% you get a little blue
box if it's over 10% you get a yellow
box I have a 30 or 50% maybe you get a
red box so you can see your bottlenecks
fairly straightforward the other thing
you can do is you can actually see what
is being driven through the data sources
so in this case we have some hibernate
and you can actually see what is being
driven through you can see here we have
a persist call which is just a statement
we have a select here once we've
actually you know pushed to our to our
back-end database we're going to do that
get to actually view what everything in
the database so we can see under the
covers exactly what's happening there's
some other stuff there as well but I'm
not going to go into that now what I
want to show you I'm going to is under
ploy the next thing I want to show you
is how we're going to use our Kilian
who's heard of will used arquillian
before just a few people okay so our
Kilian is a testing tool and a testing
tool that allows you to in a very unit
test style way mechanism allows you to
actually push your code to a container
and run your tests like they were unit
tests so unit tests are great you were
able to write them you're able to
quickly test small pieces of code but if
we want to actually push that into the
container so we're not doing as much
mocking not doing as much scaffolding
round then we need to use something like
our Killian you can run a clean in a
couple of ways either a managed way
whereby our cleaner will completely
control your container it'll start your
container deploy test under ploy and
bring your container down or you can run
our Killian in a remote way whereby you
control the container and our Keon will
just deploy in tests to it so here I've
already installed the our Killian add-on
into forge so the first thing I'm going
to do is our Killian set up for our
Killian setup I'm going to use a test
framework the test framework I'm going
to use is going to be j-unit you can use
J unit or test ng or any year for wanted
use any add-ons you can you can install
them as well with that J unit I can
choose perhaps which test framework
which test framework version you want to
choose a specific version of J unit but
what I'm going to do is I'm going to go
into the container adapter and I'm going
to say that
container is wildfly remotes as I
mentioned world flow remote allows me to
control my server my wildfly server is
currently up so I just leave it like
that I also need to say which version of
my wildfire I'm going to be using so
this is container adapter version and my
version is $10 1.0 dot final and that's
pretty much where all I need to do to in
order to set that up let me just double
check yeah that should be fine
so I'm gonna set that up that's going to
add everything I need add to my settings
the next thing we can use create a class
file which is actually going to be our
test so I'm going to write our kill iam
is it create test or test create create
test so let's create our test and in
order to create the test I need to point
them to my targets so I'll say targets
whoops
targets I hit tab completion get to my
targets and in this case what I'm
actually gonna want to target is the
protons beam so I'm going to go to view
and protons being so that's that's what
I want to do let me see if there's
anything else I need to do let's enable
JPA yeah that sounds good and that's the
only thing I need to do so that creates
a that creates our test let's go back
over to eclipse here and let's refresh
test here and all of a sudden we have an
application here
that's why class file here now in this
test it's actually kind of reasonably
still it's similar to our j-unit all we
need to do is we need a run with
annotation here to say this is actually
going to be pushed with a Killian we can
use injection because we're running in a
container we don't need to mock up
anything so we'll just use injection to
push in our protons beam we need a
deployment and this is gonna be shrink
wrap this is effectively creating our
war archive that we need to do then
deploy onto onto wild fly the only thing
I'm going to do here is I'm just gonna
add the protons entity class
let's also import that in and then we
have our test in this case all we're
doing here is just making sure that
class our protons beam is actually going
to be injected in so that's that's we
can leave it at that but pretty much all
I need to do so the next thing I need to
do oh actually let's go let's actually
check our palm that's an important one
because when we actually enable our
Killian in our palm what we're gonna see
if I let's just have a look at our pond
because since we're since we've been
doing that we've actually got a whole
bunch of dependencies which have been
added to our palm including j-unit
including our Killian including the JSF
including some CGI including some
servlet validation API some hibernate so
every time we every time we're doing
this before just keeping my keeping my
environment update keeping my palm up
today but since we've added our Killian
what we've got is this arc here and
wildfly plugin profile I'm gonna grab
this and this is what we're gonna use in
order to actually invoke here so to
actually run now I'm gonna hit build I'm
gonna run test but we're gonna run with
a profile and this profile is going to
be they are clear and wildfly remote
profile so I hit go it's going to be
doing our build we're going to run our
tests we're running our tests
that's the deploy or well that was quick
that's the deploy we then see testers
run then we do our under ployment
and then we just say yes your test route
so we're running it with every build
we're using a container so we don't need
to mock anything up and it's running
very very similar to it to a unit test
we're seeing the results in the build as
if it was a unit test so that's our
killing you can just write our killing
and run that with your build the next
thing I want to show you swarm everyone
loves microservices it seems to be the
buzz word so now how can we use swarm
with in something like JBoss Forge so
I'm gonna come out to the users let's
cheer maple let's go back into my
downloads directory and what I want to
do is here I've got a I've got a file
called here called Deb no I called Devin
Nexus warm I thought it was I thought
I'd changed that I think I did but one
of the things that Forge allows you to
do one of the big powers of forces that
you catch the executor script you can
execute a script from within forge if
you chose to just using the run come
or from outside if you actually run
JBoss forwards with a - e followed by
the filename it'll actually load up
forward run your script and then and
then drop your top your forward to that
drop your instance of forge down so it
allows you to then generate applications
with large scripts and if you want it to
just subtly change your application you
just subtly change the scripts and kick
it off so it's very very easy to
automate what you're doing to create
your to create your scripts so here all
we're doing is we're creating a new
project we're calling it swarm CERN
we're going to create a new endpoint
called swarm endpoint which this has a
simple get method and then we're going
to call wildfly swarm set up you'll
notice wildfly swarm set up has no no
arguments at all because all that does
is just add a dependency to our pom and
with that dependency we then generate a
fat jar and the fat jar allows us to
bundle a world flight into our
application and then we can run it as a
stand-alone application so if I was to
run this I think I've got it here
run swarm as I call it run swarm some
dot FSH so if I run this now we create a
new project we create a new end points
and wildfly swarm is now set up so if I
was to look at V if I was to look at the
palm let's just go from here users as J
maple downloads and article that's it
was swarm CERN I think no doesn't that
type completion right now okay
so I'm CERN there we go and in here if I
was to cut my pom.xml we just have this
dependency here which allows us to which
basically will create a fat jar for us
if I was to then build that this is
going to build and I'll jump into
another browser here another terminal
here are going to swarm swarm CERN and
I'll go into the target now that's built
if I look in here we have our swarm
swarm CERN war and a swarm CERN Jarrah
files to actually look at the size of
that you're gonna notice it's gonna be
pretty big now the when we when we talk
about JBoss JBoss is one of those nice
application servers that while it can be
pretty big under the covers it uses
something called JBoss modules and david
davis modules component sizes the
application server so that when you
throw it into a fat jar using something
like swarm you only put in the modules
or the fragments that you act that you
actually require so if I was to just
Java - Jarvis and what I'm first gonna
do actually is I'm gonna go into where
am I
I'm in downloads so I'm gonna go into my
what was my previous boxed wasn't but so
go to Vox
there and shut down I'm my fortune okay
come on forward enemy down there we go
so I mean Fox scent already out so I
just say I shut down so that shut down
JBoss Forge oh sorry war fly okay okay
now I can very very simply just Java -
jar why swarm here and this is gonna
you'll see in just a second these are
the where are they this these are all
the modules that were actually that were
actually going to be using if I actually
go so it's already so if I go to to my
browser again
let's go local host 8080 and what was
its warm actually that's something look
at a rest endpoint I think it's just
gonna be rest swarm swarm or something
like that and we get some text this
method do get invoked FAR's actually
going to go in and have a look at the
code back over here if I was to come out
of this and go into my swarm CERN if I
was to go into my source main job doing
Alice here and actually just edit swarm
endpoint will see that get method will
see I get method here and all we're
doing is this returning method do get
invoked and of course using swarm you
can start up these as many as times as
you want and you can have your micro
services environment very very simply
and straightforwardly so that's that's
swarm any questions about Forge or I
think we talked about so far all good
okay so the next thing I'm going to
briefly talk about is is spring boot as
I mentioned Josh pretty much covered
spring boot but for those who who
haven't since spring brutal
spring boo I went straight to the spring
boot site to have a look at what how
they describe spring boot and this is
this is the word they use so it takes an
opinionated view of building
production-ready spring applications so
it's an opinionated view spring boot
gives you an opinionated view because
what it does is it uses very much users
convention over configuration it decides
how its housed bring configuration
should or should by default look and it
will provide you with that with that
easy view so all you need to do just you
need to you know pull in a planner
startup kind of dependency and and
you'll have all your all your default
set for you its production ready because
if we use an actuator add-on to tune in
spring boot and actuator dependency we
can get a whole load of metrics we can
check some health and we'll have a look
at that as well we it says we favor
convention over configuration designed
to get you up up and running as quickly
as possible because essentially it's
going to bundle our Tomcat for us it's
gonna it's gonna run our app as simply
as an application so you can drive a -
Jarra or java your your your main method
so let's actually that's actually go to
spring dot start start on spring dot IO
maybe you saw this with with Josh's
session as well we're basically here we
can generate whatever we want maven or
Gradle project we can choose which
version of spring beat you want to use
and you can add whatever dependencies
you want so that's wet add a web h2
let's go for some spring security let's
go for an actuator and the actuator is
effectively what will provide us with
that production ready information what
else can we add one of the other things
we can do is switch to the full version
which will provide you with the full
list of information of a full list of
add-ons that you can choose but I think
we're pretty much done with this or
anything there's anything else or maybe
some JPA let's add JPA as well but yeah
once once you've done that you can
effectively give your give your artifact
a name we can just call it demo if we
want here generate a project it will it
will create me a zip file hopefully now
it is demo dot zip here if I open this
up you'll see just our usual pom
environment I
can open this directly in Eclipse so
let's get out of this that's open let's
import the import export import new
maven existing maven project in this
project aren't going to import my demo
there it is and what we're going to do
is in here we get started with our demo
application you can see our demo
application here you can also see that
it provides you with some tests so you
can add some some tests as well just to
show you this is actually working we
have our spring boot annotation which
allows spring to understand this is
gonna be running as a spring application
when all we do is just effectively you
can run this as a regular java
application let's create a let's create
an application endpoint we'll call it
hello in this all we're going to do is
just return hello
they're going to make this a at a
request mapping we'll call that hello
and also we need a rest control here
import everything whoops import
everything save that and now to what's
wrong with you oh okay there we go and
now we can actually just run this
straightaway as a java application and
when we run this it's effectively oh it
looks like it's actually enabled J rebel
as well we can have a play with that a
little bit later but what it's actually
doing is its embedded Tomcat directly
into our demo application and now we'll
be able to see hopefully
when this finishes endpoint oh yes I
labeled spring security Tomcat failed to
start and that is because swarm is still
running so we can run that again because
obviously I've enabled spring security I
need to log in when I first access this
so I'll grab that as well so there is
our password so let me just grab that
while I'm here copy that and the other
thing that you see is all these
endpoints that have been registered and
these are the endpoints this is what
this is what this is why spring boots as
its production ready as a result of
having these at work there are two
reasons first of all spring boot is
completely support to the in production
so you can just deploy your your boot
applications into your live environments
but also it provides you with a bunch of
these much of just showed you these as
well a bunch of these endpoints where
you can actually see the health of your
application the metrics how many times
you're hitting your application and so
forth so it looks like spring is up
spring boot is upset for us to come here
and go to my local host and actually
added hello is my endpoint yes so I need
to use spring security and there we have
hello so our endpoint is actually
working it also had Jay rebel actually
let me quickly show you what Jerrold us
yeah terrible is enabled so that was
actually pre in able Don a previous
project that I had called demo but one
of the things that durable allows you to
do is make changes to your application
code while you are actually in Europe in
your runtime environment so rather than
keep restarting I can write code and I
can test it in products in in my runtime
instantly so for example if I was to
change this let me just do a couple of
things
gee this one is dirty it's much better
stuff
and in my dreams I've kissed your lips
thousand times
I sometimes see you hello
too slow there we go good luck and turn
off if I knew I was Tania I could type
as fast as Josh that would have been
spot-on and nailed as Lionel was singing
it but yeah obviously with terrible you
can make those changes and see it live
in your runtimes you don't have to do
the restarts
so we're production ready are we Celeste
let's have a look at that if I type in
metrics we see some metrics we can see
for example that bottom hello has been
called once we can also see in fact
normally if i refresh this we can also
see that metrics has been called once
it's actually been called twice now but
it's kind of a little bit like that kind
of cat in a box thing if I was to if I
was to call hello a couple more no not
you let's go here localhost call hello
oh I don't know Adele song so I just
type the dough hello Adele okay so now
if I come back here we can see from the
bottom hallo name there we go that's
been called twice so this is just our
usual hello without a kind of path path
variable long so yeah we can see some of
that faster type in if I was to type in
end this could be sometimes quite useful
to see our environment variables as well
if I was to type in what else can I type
in let's type in mapping and that shows
it's actually everything that is
actually available to us our runtime we
can also choose health if I wanted to we
can see what's happening you can see
that the status is up you can see how
much disk space is remaining you can see
our database there what's being stored
and things are so the the production
star view actually provides you with
endpoints that you can use to actually
monitor your environment as well so how
would over time pretty well we have four
minutes left for questions so does
anyone have any questions on a one other
thing I will actually show you as well
is that from within forge if I was to
come out of
and just actually I could just say
project new if I wanted to if I go
project new let's just hit return
project name is spring boot app we can
go yeah yeah yeah final name whatever
whatever or whatever here now we can
choose spring boot if we choose we can
choose maven as well that's fine and
here we can actually just select however
many however many dependencies we want
so I can type 106 105 and you'll see
them you'll see them checking off here
as soon as I hit return then we have our
spring up spring blue application one of
the differences between this kind of
spring boot which kind of does a lot of
water generation as well as Forge is
that 4G can use on existing projects or
or new projects as well so I can
actually go into my an existing project
and add some entities do whatever I want
and view view the application there
whereas Springs boot is typically
something that you would do from scratch
rather than migrate and a spring app
into spring boot and so forth that's
something I had to show you I hope you
enjoyed the session any questions if you
have questions please turn on the
microphone right in front of you thank
you
new add-ons it's that there are because
ever because JBoss forges open-source
you can see all the add-on code already
in github so in order to actually get
started you can you know pretty much do
it very very simply it's not too hard at
all it's not too much and and the JBoss
Forge guys will help you there's you
know Georgia Lincoln backs during people
like that that will help you create them
if you run into any problems there JBoss
forged twitter handle is also very very
responsive for example I had a problem
just recently whereby I couldn't
actually get when I was running
arquillian my tests were literally not
being run even if I skip tests false on
on everywhere in my palm and I just ping
them within thirty minutes they replied
with a with the kind of new build that I
could use so it's it's you know vert
they have very good support and it's
open source so you can contribute
yourself as well I notice any other
questions yes about the Jaipur sport
ok I've used for example Spring Grove
which is kind of similar in yeah in a
concept and the thing with spring spring
Roo at least it was that it was great
for prototyping but we weren't able to
really use it because like automatic
generated code is kind of difficult to
maintain and the later study states of
project is the same the same generally
yeah I mean I would say I would say when
you actually generate when you're doing
anything where you're generated code as
soon as as soon as you go into that kind
of environment yeah it's gonna it's
gonna be terrific tough and tricky one
of the one of the nice things about the
differences between kind of spring Roo
for example and Forge is that because
forge is so open it's entirely pluggable
to any application type you want but
yeah that those are that's typically the
a problem for anything that you do the
generated code really ok any other
questions
listen well thank you very much for your
service is absolute present today
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>