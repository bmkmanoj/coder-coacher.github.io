<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Conversational Bots : Amazon Lex, IBM Watson, Microsoft Bot and Google Assistant Tara Walker,Eric Ca | Coder Coacher - Coaching Coders</title><meta content="Conversational Bots : Amazon Lex, IBM Watson, Microsoft Bot and Google Assistant Tara Walker,Eric Ca - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Conversational Bots : Amazon Lex, IBM Watson, Microsoft Bot and Google Assistant Tara Walker,Eric Ca</b></h2><h5 class="post__date">2017-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/s2KBma0TPgo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone welcome to this deep dive
session on conversational interfaces
chat bots etc so I'll be the first one
to speak in this session I'll talk about
dialog flow which was initially called
API that I but that got renamed a few
weeks ago into dialog flow which is a
tool from Google which allows you to
define your conversations and design
those conversations will speak a little
bit as well about the Google assistant
and how you can actually enrich that
platform using the actions on Google
let's call it a framework in order to
extend and enrich the Google assistant
but for the design of our conversation
will be using dialogue flow in the demos
etc so I'm gonna force I'm a developer
advocate for Google Cloud you can follow
me there on twitter ji LaForge i've been
speaking for a batterer year also on
this topic and i sometimes accompany
some companies into their chat bot
experiences and I'd like to start with
just a few slides to quickly give some
concepts some a little intro but the
kind of concepts we'll be using
throughout the the demos and it's also a
concept that are usually also with the
same names usually on other platforms so
yeah it'll be certainly familiar for you
with the my other co speakers so let's
say we've got two little minions so
we've got the one on the Left who's your
user basically and the one on the right
is gonna be the chat bot so let's say
the first one wants to eat badass of
course and the the chat bot may be
replying okay how many of them do you
want to eat so there's a request
there's a response and we when you
design chatbots you define a certain
number of questions or sentences or
topics that a chatbot should be able to
cover and we usually call that intent
and the intent here is the user wants to
eat something okay so it's not eating
some bananas but it's really about
eating something but inside that
sentence there's also a parameter which
is bananas what does that little minion
wants to eat it's a banana and the
entity is if you were speaking about you
know programming concept it's like the
class and banana is an instance of that
class so the the parameter inside my
intent that's going to be the food that
the minion is going to eat but the gum
the conversation can go on and let's say
we have some more questions coming up
like okay how many calories are there
we're not saying in bananas or anything
like this we're just saying how many
calories are there and the chatbot can
remember that we are speaking about
banana so there are 89 calories in a
banana the important aspect here is the
the notion of context which is how
chatbots can remember the topic of the
conversation across several several
requests and responses the the context
can also carry you know your own data or
things like that so if you want to
iterate over released or something of
results list of results you could do
that so intense entities context and the
other one I'm I'd like to tell you about
because I'll show that as well in my
demo later on it's the notion of
fulfillment it's actually a web hook a
URL that you define to say okay if I
need some business logic or if I need to
look up some data for example perhaps I
have database data store that stores the
number of calories
a food or ingredient or something then
I'll be able to configure a special
webhook special URL where my chat bot
platform will just you know send a
request to and we'll retrieve the data
so here in this little example I would
have a web hook that would be called to
request the number of calories for the
the bananas so here are the the concepts
we see pretty much in every platform for
designing conversational interfaces I'd
like to say a few more words about
dialog flow versus actions on Google etc
because we really have different
concepts or tools to speak about so
dialogue four is really the place where
we're going to design the our
conversations define the intense defined
the entities etc but dialogue flow can
be used with and without actions on
Google without the the Google assistant
platform so if you use if you have a
let's say Google home or if you install
the iOS application for the Google Earth
system if you create your own chat bot
your own app for it you can use dialogue
flow but it's not necessary you could
use something else can use dialogue flow
and there's a direct integration between
actions on Google for creating your own
apps for the Google assistant and
dialogue flow but dialogue flow can also
be used alone with different integration
mechanisms so if you have if you want to
create a Twitter chat but there's also a
special integration within dialogue flow
to create Twitter chat BOTS slide chat
BOTS SMS chat BOTS with Twilio etc you
can also there's also REST API that you
can use if you want to call directly the
API of tile flow and then if you need
some fulfillment some business logic to
retrieve some data or do some
calculation then dialogue flow will use
the web hook and fulfillment
aspect that I mentioned earlier in my
presentation I'll be using for the the
business logic I'll be using clad
functions the Google cloud functions
serverless platform I'm going to talk
about it by the way on Wednesday but you
could also ping some other URL your own
server elsewhere not necessarily on
Google's cloud so it's a really agnostic
there as long as you have something
that's able to parse some JSON and
produce some JSON in output you can use
that for the business logic of your
childhood all right so about dialog for
it's really this tool which allows you
to create those conversational
experiences and to communicate
communicate naturally with your users so
it's using natural language
understanding to be able to parse
sentences or voice whether it's voice
based or text based that come from the
users so it's some advanced use age of
machine learning especially for
understanding the language and what's
interesting there as usuals in the demo
you're gonna focus on providing samples
examples of phrases rather than trying
to create some well understanding
yourself the sentence the the syntax the
grammar of a sentence or use let's say
regular expressions to figure out where
are the the variables in those sentences
etc so it's really fairly easy to use
even for people who are not you know
machine language machine learning
experts language experts etc so why some
some of the key differentiators I'd like
to highlight dialog flow is a pretty
popular tool used by more than 300,000
developers worldwide from 150 countries
using 4044 teams or it not 14 14
different languages there's a real plus
because there's there are also variants
like British English American English or
French Canadian etc with a diode flow
you can really
bill your chatbot conversational
experience faster thanks to the the
samples that you're gonna use or the the
utterances that represent what the your
users are actually saying they are also
pre-built agents so what is a prebuilt
agent and a prebuilt agent is an
existing piece of conversations for
example if you're working for a pizza
delivery company there's a food delivery
agent which already has various
sentences like how you you know ordering
a pizza delivering that pizza etcetera
there's also small talk features which
is so it's like the special pre-built a
pre-built agent before common phrases
like hello how are you thank you etc and
as you shall see we can build things
pretty quickly
what's nice is that you don't have to be
as I said an expert in machine learning
or natural language understanding that's
the platform that learns automatically
from the samples of sentences that your
users might be saying and also you have
other things which are interesting
things like analytics or training for
example if users say something that's
not recognized later on you can
investigate and see ok this stuff wasn't
recognized but I think it maps to a
certain in sense and then you can
progressively improve the the quality
and the understanding of your chat BOTS
with more possible queries also what's
nice is that if you use dialogue flow
you write your chat bot once basically
and you can deploy it in on other
platforms whether it's a Twitter chat
bar or slack chat BOTS etc plus the
languages I mentioned but I'll show you
the integrations at the end so now let's
have a look at the dialogue flow
interface so it's demo time
so I prepared a little dummy project
perhaps like this might be easier on the
eye so yeah there's this little warning
that Apia I got renamed into dialogue 4
which is a bit irritating I click on it
every day several times so let's have a
look at the interface here on the right
we're gonna use this the right side here
where you can actually type some queries
as if that's the user typing on the left
you have things like the list of interns
the list of entities how you can train
your chat BOTS with things that haven't
been recognized etc and here fulfilment
will be useful we also have the the
pre-built agents and small talk that I
mentioned so here I have a list of
agents of sorry of interns in the middle
and we're going to go through some or
all of them depending on time so let's
see so I usually nomenclature 0 1 etc so
that they are ordered visually so that I
know which one I should show you first
so let's say a user is telling about the
favorite color his fairy his or her
favorite color so what you actually have
to do is to enter some sample sentences
that users might be saying so people
might be saying just the color right
away or say blue is my favorite color or
my favorite color is red etc so you can
try to guess different examples of
different ways of how people might be
saying which color is their preferred
one so let's say I say my let's say my
preferred color is one that wasn't used
here oh okay and
so I didn't have so I had preferred
color ease but I didn't have my
preferred color or I could use let's say
what kind of variant I could think of
white is my preferred color that should
work as well
white yeah I heard your favorite color
is white so each time even if I didn't
use the exact sentence that was in the
sample it actually managed to figure out
that oh it's pretty close from the other
sentences that are mentioned there so
that should be that intent that should
be triggered and again you don't have to
do you know look at the grammar of the
sentence look at stop words or remove
stop words and things like that but it
figures out that it Maps it's pretty
much the same structure as all the
samples which are here and also you
noticed let's say another way to say
that or I prefer red and when I enter a
new query and you kind of sentence
notice that automatically it could
recognizes okay there's some kind of
parameter there and it's actually going
to point to a predefined entity which is
of type color ad sees that the system
types ad sees dot colors you need to
recognize that okay that must be the
same variable that you have here and
here in this place
and this area in this section you can
also see the various types that are
pre-built so let's say airport codes or
units of weights and city names date
time etc so M color is right there
flight number etc at the end you'll see
my own entities which show up right at
the bottom and you can filter them etc
you can change the parameter name as you
can use the this notation dollar five
color which is the name of my parameter
in the response so when this intent is
triggered it's going to
extract the value of that parameter and
it's going to reply okay I heard your
favorite color is dollar fav color just
points at the variable that was found
here for for the color and I could also
define different responses like I'm glad
to know that color is your favorite
color okay if I save that and it's going
to iterate over the various responses
randomly so that you don't always have
the very same synthetic on cerb it's
something that feels more lively more
quiet more like a human being because
human beings don't always reply with the
very same sentence so if I say preferred
color is white and yeah this time it
used the other variant but if I tried it
again chorus white perhaps yeah it's
back to the the first one so I don't
know if it's wrong though more
round-robin or something okay so that's
the first example second example so I
have two variables this time for the
weather the CTE and the on the date and
let me see if I used no I think I used
that later on I'll show you default
values as well as not later on so what's
the weather tomorrow in Paris and it's
going to figure out the different
parameters see T equals Paris and when
that's the the date here that it's
automatically yeah actually I have
different answers there's a bounce I can
ask the same question again to have a
different answer
so it's sunny in Paris tomorrow what I
want to show you there is when you use
variables in your response you can use
dollar when which is the the computed
value so when I say tomorrow you're
going to get
the you know 2017 - 11 etc but you can
use dot original in order to have the
same word that the user actually said
rather than the numerical value of the
the date which can be handy okay and no
different value there as well okay right
what else also the weather yeah for
example if I forgot to say the the city
so let's say what's the weather like
tomorrow and it's actually going to also
select the right response depending on
which parameters are actually already
filled so you you can provide different
answers depending on the data that was
provided by the user or not yeah made
some changes I don't care okay so next I
used two variables one of my variable
and the last example wasn't actually
filled but I can also use an mon date
that some of the parameters are required
so here I want to book hotel so by
default I want to have a three-star
Hotel so I put a default value in this
variable but for the other ones I really
want to know the number of persons and
the number of nights for the booking so
let's say I want to book book what yeah
mmm
perhaps book me a hotel let's see so
it's gonna say okay for how many persons
okay three persons for how many nights
two nights and then it is that okay I've
got two nights three persons and by
default the default value stars what's
interesting is that I actually defined
prompts which are ways to actually
request for the doing some request for
the required parameters of my engines so
if the user does
give the number of persons or the number
of night automatically I'll get an
additional question asked to the user to
fill in the slots so that we have all
the data that is needed to fulfill the
request so I can define one prompt or
many prompt for the the missing
parameters and the default values so
this one had a default value of three
for the three stars about three star
hotel one last little comment but that
one is exactly a bit tricky because the
three parameters are just numbers but it
properly figures out that so I just I
booked me a hotel but let me say
something else booked booked a hotel for
three nights one person yeah something
like this let's see four oh yeah it
didn't work for the number of persons
that's interesting
I don't think matters the number if we
say yeah so perhaps it thought that one
wasn't a number but was rather you know
part of the the sentence but not part of
the number so sometimes it's tricky to
get that right on chat block both
platforms so that it properly recognizes
that okay the the this three number is
related to the number of nights and this
too is remain is related to the number
of persons all right let's say I want to
do some recipes what do I want to show
you in that oh yeah
so here instead of using the the types
the default types of entities I actually
created the food entity and in my food
entity I listed the various ingredients
that are allowed
tomorrow cheese ham pasta salad potato
so if I come back here recipient
gradients so let's cook let's cook
tomorrow okay tomorrow okay it replies
cooking and regardless of whether I type
tomato or tomatoes if I use the plural
or singular form it really recognizes
that okay that's really the same kind of
food so you don't have to define all the
variants of a single word you know
paroles in singular etc yes I think
that's fine
okay so when I when you define entities
you can also sew the clothes are here
you can define synonyms so when you
speak of about let's say shirt you might
be saying long sleeve shirt shirt etc or
for jumper it could be jumper cardigan
sweater etc but you want to just kind of
get the category of those things so if
you go back here the clothes
so what let's say cardigan should I were
and it's gonna reply
okay nothing no jumper grenades and in
parentheses I put the original value so
the original value dot original that's
Carrigan but the variable that I got the
value that I got for the clothes
variable variable was actually Carrigan
some I'm able to get just this the main
representative of the category or the
actual value that the user sent so that
can be a handy the other type of custom
entities that you can do it's so I'm
gonna watch some movie or series and I
have intense entities so I have a movie
entity with Blade Runner and that work
watch on Thursday I also have series
here and the user wants to watch either
a movie or a series so I could create
two distinct intense and repeat the same
kind of sentences for both or I can
define a kind of innum movies or movie
or series which is actually a list of
the other entities that are allowed so
it's kind of the union of both movie and
series so when I say movie series well
if I say something like I won't need to
put the cursor on there I want to watch
orange is the new black okay let's watch
orange is the new black or and let's
wanna look at Blade Runner okay and
let's watch Blade Runner and you get the
value there and yeah that's pretty much
it so that's an enum type being the
union of other entities six seven oh
yeah this one is interesting so you can
make your own entity entities yes you
can create enums which gather different
entities together but you can also
create some kind of composite entity so
here my robots can move move focus is
when you know in steps backward
something like this okay okay let's move
fifty nine step backward and I'm gonna
show you that ten steps right which is
here it's off type move my own entity
and if I show you the entities here I
can define small sentences basically
like it contains a number steps and a
direction so the number is the default
system types and I also have a direction
type here
direction forward backward left all
right and I can also use synonyms move
ahead move back etc so it's a nice way
to describe your own kind of Units like
number of steps and such so it's pretty
advanced fast food what I have here
fast food yeah so I want to oh here you
can create a list so one variable can
hold a list of values so for example I
want to eat I'd like to eat cheese
burger and coke and I'm gonna get okay
the list of fast-food cheeseburger and
coke
I don't know what I'm gonna have some I
don't know why I've put some color I
guess that was for the default value
something like this and here and notice
that it so this is the the the output
that you see here and notice that it
also asked a question because I'm using
a follow-up intense which is okay you
reply this now I want to go on with the
conversation and the I mean to say yes
or no I won't you know yes with fries
then is gonna say okay let's add fries
so I went through the yes case let's add
fries on top of cheeseburger and cook
because inside the so I should show you
the follow-up intent so this is this one
yes and the answer is here so let's add
fries because I went through the yes
branch with and notice the syntax is a
little bit different instead of the
usual dollar sin taxes
it's the hash sign because the we used
contexts to carry some data between the
follow-up the original and follow-up
intent so the fast-food City X context
actually contains some data from the
previous
request/response and in the previous
request/response we define okay
cheeseburger and cook so I'm going to
add fries on top of that so I'm able to
reference the previous query and also
have well I don't have any variable in
that one but we are in the yes branch so
I know that we also have fries something
I wanted to mention is that you can also
see the kind of JSON content which is
exchanged between for example if you use
an API rest call or something like this
to see what's exchange between dialogue
flow and the integration mechanism that
you've chosen and yeah you're not seeing
here for the context but you'd be able
to also see information about context
okay 8:00 what time I think I'm getting
over time yeah one last thing perhaps I
can show you this one with a little bit
of sound and I integrate I added the
integration of customer responses so
here I use a format called
s SML for adding some audio etc so let's
say let's do some squats or I can use
the actions on Google console might be a
more fun to see the results so talk to
my dialogue for deep dive and then let's
see if you're gonna hear that let's do
some squats okay taking a bit of time so
I'm not hearing it there should be some
sound hey no well so normally you should
see you should hear perhaps I can play
like this it's not gonna I'm gonna
remove it if I do
so I did some yeah nevermind it sir I
think we might be hearing it a little
bit no sorry
well there was some sound so I don't
think I need it anymore alright so well
there are all the things I wanted to
show you things like hotel reservation
where you can have some custom responses
for for example if you use the oh yeah I
need to get back into the conversation
if you want to have some Reacher
some richer output for example if you
want to see things like cards carousels
my shopping list or chips
that's the little buttons that you see
so this one's going to be a little yeah
list of things so when you use the the
Google assistant on your phone you are
able to see what's what's in there
visually what yeah no need to save okay
I forgot the functions but it's really
just showing the the fulfillment like
when I say what time is it it's going to
call what time is it so it's a GMT time
I think but it's I can calculate that
more correctly there's a built-in crowd
function for fibers integration within
dialogue flow so if you want to do some
computation fetching some data etc so
this is where I enter the the code but
you can also use define a remote URL
like well I don't want to change it
right now define a remote URL as well
okay so just a few closing thoughts you
can train your agent for sentence that
haven't been recognized that you can
match and recognize sentences to
existing intents
from your chat but the small talk for
the small interaction like okay how are
you you're so sweet
or hello goodbye prebuilt agents there
are many pre-built agents for things
like food delivery currency conversion
flights whether hotel booking etc that
you can use you just for the
conversation and integrate that and
customize that in your own chat but
these are the various integration
mechanisms that are available so you can
plug the Google assistance you can
create a slack chat BOTS and customize
for the the slack special UI widgets
Skype Twitter etc if you're unhappy with
the existing integration mechanisms you
can also use SDKs for things like okay
if you want to integrate a chat bot in a
Unity game you can do that or you know
from different languages from server
application etc or even from the you
know JavaScript client on the on the
browser side we also have a new tool
that is being worked on in in beta which
is a chat base which is called chat base
for advanced analytics and this is
pretty interesting for groups for things
like showing the showing the the things
like where you you actually lost your
users and all the conversations all
right some references we've got some
nice documentation on the on this
website on the the Google website if you
want to learn more about how
conversations human conversations
actually work I have a buff tomorrow
night with my friend was him about how
we actually try to build chat BOTS for
the devoxx conference and that's about
it so thanks a lot for your attention
and I think I'm out of time for
questions so unless there's one question
perhaps and there's a mic over there if
you want to ask any question all right
so yeah one question
what about using another language so
let's say I want to I speak French I
want to add French on top of that so
there's a little very quickly there's a
here you noticed a little chip with the
so I'm going to show so show it with
this here there's a en for English but
you can also add other languages here we
can also probably that's about it and
then it's gonna you're gonna have to
write the same sentences in French in
you know what the language okay thank
you everyone
okay thank you there was interesting
interesting stuff so next up is myself
so I'll be talking about how you can
build chat BOTS using the Microsoft
platform so my name is Nick Groff I'm a
software engineer at Microsoft and so
what we gonna cover and these like 30 35
minutes so first we're going to look at
how can we create a frequently asked
questions but in under two minutes so
putting some stress here after lunch
always difficult and then we're going to
go into we've kind of converted our
frequently asked questions into a
frequently asked questions but so how
can we now create a more custom wet
robot to advance it so we know what the
weather is due to our frequently asked
questions now we want to get the weather
information so we're gonna do this in
custom code and then in the funnel and
in the next step we're going to add some
more intelligence to our weather bot so
once our bot kind of adding on top of
what have you said before make it more
intelligence understanding natural
language so doing natural language
processing and then finally we're gonna
wrap I kind of put all the things
together to get this amazing amazing bot
which will be all about once we finish
this session now let's start what is
kind of the problem when you're creating
BOTS specifically kind of for the last
last year or so I've been talking to a
lot of companies a lot of developers
that want to create chat BOTS and kind
of the the key message is that well we
have already this extensive set of
frequently asked questions that people
are still calling or our data center or
our call centers to ask the same
questions that we already answered in
our frequently asked questions document
nobody seems to be able to find it and
that goes both internally as externally
to to consumers and so wouldn't it be
nice if we could kind of convert that
existing kind of knowledge base that
frequently asked questions that
into a chatbot where we can reach the
users where they are using their
messaging applications but still
leverage that information that already
has been written we don't want to
rewrite all of that stuff or start copy
pasting information in some new format
to be able to expose it to a chatbot and
so yes we have chatbot platforms and on
the other hand we have these these
knowledge bases how can we bring them
together how can we build kind of this
frequently asked questions bot and so
what we did is it's kind of a an
internal project at what we call a
collage project I kind of worked on that
specific thing and they came up with the
Q&amp;amp;A maker which is basically an easy and
easy way to convert an existing
frequently asked question set and that
could be in a Word documents could be a
PDF documents could be a website
containing questions and answers kind of
sequences and take this and expose it as
a chatbot and so make sure that not just
literally copy the questions as as is
and that the user needs to ask those
questions as is but that you can also
also use natural language processing so
that you as a user you can use
variations of those questions and still
get the proper answers and this is what
we're what we're trying to achieve it is
a Q&amp;amp;A maker technology and so it's
offered as a cognitive services one of
our AI services so let's already go into
a demo and a stratus to do this in under
two minutes so putting no pressure so
what you see here is basically the
website from the CDC center of Disease
Control and the US and they have here an
existing frequently asked questions site
about winter weather winter is coming so
we want to get some some information you
want to be prepared for winter and
typical questions that you might uh
might have is what is hypothermia always
good to know that you'd better dress up
where your deaf Fox t-shirt when you're
going out that you're really nice and
warm and so we can click on this so this
is structured and it's just a web page
you can format it as you like it's not
really extremely structured it's kind of
semi structured so we're going to take
this information and so in the next step
what we're going to do is going to zoom
in first we're going to go to the Q&amp;amp;A
maker service so you just go to Q&amp;amp;A
maker day.i and there we can create a
new service and you Q&amp;amp;A service and so
we need to give it a name let's call it
the weather FAQ and then the next step
we need to do is we need to provide a
URL so this is going to be the URL where
we can find our frequently asked
questions that's copy/paste is by the
way for those people wondering this also
works in Chrome so I'm just pasting here
my URL if you don't have a URL you can
just upload a document or you can even
start from scratch and write your
question and answer pairs as as you go
or you can use a combination of both of
course
so now we're generating this frequently
asked questions what and so here you can
see already our questions that have been
crawled from the specific website so we
have what is hypothermia what's the risk
some warning signs etc etc and we get
the corresponding answers here and so
now we can go and start testing this and
so we go to the tests tab here and we
can start asking what is hypothermia
okay for chatbot and yes lo and behold
we know what hypothermia is so we can
prepare properly not to not to get it
and so you can go and you can ask
different questions we can start adding
alternative questions here if you know
that people might ask the same question
in a different way you can just add
already proactively some some
alternative questions for this so this
kind of the basis so in just a few
minutes the only thing we need to do
here is then publish
and you'll get a endpoint that you can
then leverage for asking your questions
and you'll get the corresponding answers
there you go just an HTTP rest endpoint
which will and later in this session
we'll see how we can actually integrate
it in a fully functioning chat bot okay
so this is really kind of the easy roads
to creating your chat BOTS but it really
corresponds to or answers a lot of the
the basic questions that organizations
or developers already have how can I
take my existing code or how can I take
just a database of questions and answers
and expose that as a chat bot okay did I
manage in two minutes yes three minutes
that's probably switching back and forth
it should not have mentioned Chrome
maybe that would have gotten me under
two minutes so now let's take the next
step it's good to have our question and
answers there but we want some custom
logic there if you want to know the
weather it's pretty hard to create a QA
combination for every single location
every single temperature and put that in
a Q&amp;amp;A but yeah so we want some custom
logic in there so for this we've built
over a year and a half ago the the bot
framework bot framework and we've heard
it before you write basically single
time your your chat bot implementation
and then you can publish it across a
multitude of channels there's a whole
range of channels ranging from Skype and
messenger and as well you have a REST
API so if you want to have kind of a
chat interface and existing mobile
application maybe on a website where you
don't necessarily want to integrate in
for example in messenger or Skype what
you can do so as well so you got rests
you get a web chat control that you can
just plug and play a plug and put it in
your website or in your mobile app and
so what we get on top of that is the
approach that we've taken with the
Microsoft bot framework is really a code
first approach so very
often when you're building chat
interfaces it's good to have a visual
designer but very often very quickly you
get into a custom code you need to
integrate in existing systems you need
to do some custom logic which is really
hard to put into a visual designer for
all of the all of their cases so we've
taken a code first approach however if
writing code of course comes with
there's a source control integration you
need to have continuous integration
maybe you want to have local debugging
support you need to run your your chat
bot locally those kind of things how can
you get a rich developer experience
while writing these chat BOTS so this is
really something that we that we wanted
to help you with and using the marks of
about framework and so this is what
we're going to look at so what is what
is a chat but in in essence it's it's
it's pretty basic a chat bot is
basically just a REST API it's just a
rest endpoint that contains the
implementation for your for your your
chat BOTS of course you're going to
integrate with this this microsoft bot
framework because you want to tie it to
these messaging channels so that's all
the stuff that's the bot framework going
to do you need to handle state
management you need to deal with context
across different messages you'll have to
integrate with these intelligent
services to do natural language
processing those kind of things but in
essence a chat bot is just a rest
endpoint and this is what I'm gonna see
here so another demo did I mention it's
gonna be a demo heavy session okay so
what I've done before is I have already
created on on Azure a herbal service so
what is the azure bot service is
basically just a bot back end as a
service whatever everything can be put
as a service it's basically just how can
we quickly get some hosting location for
our chat bot for our REST API
so that's for why we created the diet
robot service is it going to give you
all of those capabilities for tying into
these channels for giving you some
publicly available an endpoint for
adding some analytics doing the
continuous integration all of those
things come basically for free it takes
a minute as I only have 30 minutes I've
kind of skipped that one and I've
already created one so here you can have
you can see our a Shabbat service you
have to build section or and so we can
actually start right our chat bot in the
browser so if you want to do
browser-based development of chat BOTS
you can note that it may be somewhat
dangerous to start writing and modifying
chat BOTS in production modifying them
on the fly technically yes you can
should you do it probably not so you may
want to do some continuous integration
but here you can actually see the the
implementation of a chat bot and as it's
it's very simple as you can see here
we're setting up here is the example
written in nodejs so we're using Resta
fire to expose our chat bot as a as a
rest endpoint so using Resta fie and
create a server we've got some
properties to set to connect it to the
bot framework and then finally here at
the bottom you can actually see the
implementation of our bots which is
pretty pretty much an echo bot yeah
we're just sending a session you said
whatever you had entered in the chat
window so very basic bottom now I said
we're going to do continuous integration
so I'm just going to quickly copy and
paste some stuff so how do we set up
let's do base in here so this will just
set up a github sort of a git repo on
our back-end so ionizer there we have
there we have it so we have a URL now
that we can just copy and which will
clone so straight from there we're going
to do a git clone
of that specific URL there we go that
would probably ask me for a password
there we go now we go to my weather and
let's take a quick look what it looks
like okay let's look at the AB dot J s
and it should look pretty familiar to
what we saw in the browser it's exactly
the same file but now it's continuous
integration so we have we can now just
push to our remote and it will end up on
our back end running an azure and so
here we could see we have our echo bot
how can you run this locally so we have
built a emulator a cross-platform
emulator so which you can see here has a
chat window you can get some details
about messages we can put our endpoint
there
so let's now quickly run chat bot we'll
need to do an NPM install need our
packages so in terms of getting started
with both the bot framework what do you
need well you'll need some way of
exposing your rest endpoint so for this
in the specific case we're using Ressa
file but you can use your flavor of
choice and you need to the bot builder
NPM package that's the only thing that
contains all of the packages all of the
libraries that you need for connecting
to marks on bot framework so all that
one is going on what we'll do then we'll
connect from the emulator and have our
our local developer and experience so
you can test basically everything
locally you can actually set up
debugging set your breakpoints inspect
messages do whatever you like for for
local development I don't win this
machine on a Mac on our Linux and so we
sports pretty much every platform to do
so and looks like this one is taking
some time so what I'll do in the
meantime let's make our bot a little bit
more advanced already another terminal
alongside here and I'm going to copy
a rap fall one there we go oh this cat
is coming okay so what we've done here
and I think our npm install' should now
be completed yes it has so meantime we
can start our bolts and so what we're
going to do is just use no daman MJS get
it running so if you have some
experience with nodes you should all
look familiar and just to note or note
month and it seems there's something
missing
oops yes I'm already missing my my
weather lip file that's what you get
when you're fast forwarding and so for
our wedding bells I have already written
the code my wetter lip switching back to
my litter terminal
sorry for our there we go so our rs.25
server is listening on port 39 78 which
you can now go to here and connect say
connect and then we can start saying hi
to our boss asking us what location are
you looking to whether for sake
maybe Brussels and so what we get here
is already some information so we have
connected to an API from its API Xu it's
a free wetter API endpoint and here we
get a carousel of weather information
back all running locally here just
connecting out to a remote API service
so we got these rich cards support we
have text support and basically what
what we do is you write your bot once
and we publish it across multiple
channels depending on the channels
capabilities will modify the actual
layout of the of the results so you
can't you can imagine if you create a
bot which is accessible through as a
mass messages these cards don't go well
with SMS messages yeah so we're
converting the information into
something that is readable and is
acceptable on the specific channel that
you're using that you're publishing your
bot on till you write it only once so
what have you done here so basically
we've written like two functions we're
asking for the location and then next
step is just based on that location
we're going to retrieve the weather
information create what we call a
thumbnail card which is these these
little rich cards that you saw we have
receipts cards there are different types
of cards available for you and then
we're just returning this message to the
user
it's pretty pretty straightforward to
know GS code and you can do pretty much
whatever you like and there is no GS
it's a service just right in there
whatever you like if you want to
integrate for the backend system you can
do so so this is pretty straightforward
now but it's still pretty dumb right
each time we need to it's it's single
purpose there is no real intent
recognition so it always asks us which
location and then returns we want to
make this more intelligent and so for
this similar to what you saw in previous
session I'm not going to dive too deeply
in it is we have a service which is
called Luis Lu is we always say Luis
because the actual name is language
understanding intelligent service which
kind of have to say it many times my
session has ended before I've gone into
the content and so this Luis service is
basically our natural language
processing service and it's pretty much
the same capabilities that you saw
before where you define intense as we
got to get a weather forecasts we have
our entities that we can specify whether
it's built in entities about time
location you can create your own custom
entities defining an intent goes by
creating sample sentences and then will
generate possible variations for it and
so here you can actually see some of
those sample sentences or utterances and
if we switch it to two tokens or
entities we are able to then also test
and train our system and then eventually
we'll publish this kind of natural
language processing service again as a
rest arrest endpoint which we can then
integrate in our which is not responding
let me switch to Chrome here there we go
I already had it pre baked probably
Wi-Fi and so you publish your endpoint
as a rest service which you can see here
so you get this endpoints and now this
information this endpoint is what we're
going to need to tie this to our chat
bot so the approach we've taken again
but the the bot framework is just plug
in any recognizer that you like so why
not why not use dialogue flow as your
intent recognizer and plug it into
Microsoft bot framework can be done
should be pretty easy it's it's open
source so if you feel free just go ahead
and write this and this plug-in or
otherwise we'll probably write it
ourselves and so what we'll do is I'm
just going to add this NLP in there that
it's gonna be two Jas
there we go let me hold everything
changes and so in our chat bot what do
we change if we want to have this NLP in
there well we're going to add the link
to our model we're going to add it as a
recognizer so here we have a Lewes
recognizer potentially you'll have a
dialogue flow recognizer and then we
define basically our dialogue so we get
one for the weather forecasts is the
same logic that we had before and one
thing we need to specify is the trigger
action how can we trigger an intent so
you can trigger it too using a regular
expression you can trigger trigger it's
using an intent coming from Louis which
is what we're doing here so our get
weather forecasts is basically the name
of our intent we can add a greeting
intent you can add any any number of
intents you like and so if we run this
and it is already running what we can
then say is what is or let's say is it
called in Oslo see and then we get the
weather specifically for Oslo yeah
because we recognize the intent of the
user is it cold so you want to get
weather forecasts and also we are
retrieving the entity from that specific
sentence you already have asked for Oslo
okay now pretty much come to the end
here I'm going to put a number of things
together now so initially we created our
Q&amp;amp;A but to ask about information about
weather we added some natural language
processing to really get weather
information for a specific location so
we add some some end points in there
what if you put this together now can
these both work in one single bot Q&amp;amp;A is
just another intent so let's let's see
how we do this and cue to the magic of
copying
I'll see what we have changed here to
zoom in here so we have our natural
language processing recognizer it's
still there that continues to work but
what we're adding here on top is our Q
and a recognizer so we're adding a QA
maker recognizer which takes a key and a
knowledge base ID so for the duration of
this session you can still play with it
and copy this stuff I will change it
afterwards as this session is being
recorded and then I'm adding this
recognizer this Q&amp;amp;A recognizer to my bot
okay so this kind of the setup that
we're doing tie it to the Q&amp;amp;A maker our
chat bot and then the next step we need
to do is we need to define here another
dialogue a Q&amp;amp;A dialogue which was just
listened to a Q&amp;amp;A match which is what
comes back from our QA recognizer as
soon as it recognizes something which it
is not triggered by Louis because we're
using kind of the tiered approach first
we try Louis if it doesn't get a match
there we're going to pass it on to the
Q&amp;amp;A recognizer if it doesn't get
anything there we're going to use kind
of a default answer and so QA comes back
as a match for our Q&amp;amp;A maker now we've
copied this and one thing I should do is
change my package on Jason because
actually it's using a specific extension
of the bot builder and so here
well builder cognitive services
you can see intellisense for a package
of JSON files and Visual Studio code
humblebrag
and peer install ok shouldn't be
installing this specific extension this
allows us to kind of integrate with the
Q&amp;amp;A maker I should not take too long
there we go
it's up and running and it's quickly
check that everything's good here yes
and so now if you go back to our
emulator so we had so yes we can ask for
the whether we had some questions there
in the QA so there was hypothermia we
could also ask for what is frostbite not
you not referring to the game engine but
actually the definition for frostbite is
an injury to the body whatever wherever
this comes from our Q&amp;amp;A makerbot nice so
we're combining natural language
processing frequently asked questions
but now let's talk about continuous
integration
let's now push this because all of this
is running locally push this to our
production environment so here we have
let's put a commit message there final
version and everything in there we're
going to commit locally so we have our
local commits and then we push it to our
environments running in Azure so we are
now pushing it to Dublin so let's hope
you don't have too many headwind it's
now pushing that stuff all the way there
and once it's up on our target
environment we can go back to our
weather service let me close this here
for a second so here on the right hand
side you can see our test interface
see I should probably say that it
doesn't recognize hi still pushing still
pushing I guess
in the meantime any questions so far if
you would ask the question about
languages yes we support multiple
languages as well
okay hi says hello yet hello information
was actually information coming out of
our Q&amp;amp;A but because the initial one if
you create a Q&amp;amp;A makerbot the first
intent or the first answer that it puts
in there okay you may answer is hi and
it answers hello so we could ask for
what is frostbite and we get our answer
like is it cold in Brussels that one
should be triggered by Louis Louis
coming back to our no des code which
will return these rich cards now just to
really show off I'm going to add another
channel that would be the final part of
my session let's show off it Cortana who
is using Cortana okay you will be using
it now by proxy so feel energized okay
so my weather bot service I need to have
their folks weather so when coming home
you will be able to say I have used
Cortana by proxy so I'm now saving this
this information and so adding a new
channel to my chat bot and then what
happens is it saves it it configures it
in Cortana based on my Microsoft
accounts it is now available on my
machine here and let's say what did I
call it ask my weather service writer
should have taken a shorter name is it
called in although using also because
it's a short city name now can I have
permission of course you can you are my
friend getting connected and the weather
for Oslo Norway is partly cloudy there
you go and we can scroll through a
thumbnail cards with that I want to
thank you for your attention
and hand it over to the next speaker any
questions yes yes I will um yeah I'll
post it yes okay did you get my name
yeah otherwise my Twitter account it's
in the speaker profile I'll uh I'll just
send that out so the whole setup is
available for you to use yes
other questions I guess we have a break
right now
so feel free to shoot your questions you
have time okay thanks once again and
enjoy the conference lovely okay welcome
back hopefully you guys are still awake
if not I will throw things at you so you
won't go to sleep I haven't been known
to do that just kidding
alright so I'm Tara Walker I'm from AWS
and we're gonna talk about how you
integrate chat BOTS with Amazon licks so
I'm gonna introduce Lex to you and we're
gonna do some hopefully some cool things
and build a few bots and see how it goes
and hopefully you'll want to play with
it with me all right with that Amazon
Lex so Amazon Alexis our you've seen so
many chat bots so far so it is our a
conversational AI interface for you to
build chat BOTS it has a few things
that's already integrated into it one is
it voice recognition so if you want to
add voice to your bot once you create
your but we've already done the plumbing
for you so that's one thing that Lex are
features um it also has natural language
understanding so not only does it
understand what you're saying both in
text and invoice and can't rents like
that just back and forth to your bot but
while you're getting people to talk back
and forth to your body it's actually
training your body as well as the
backend and then it's using the same
deep learning technology for those of
you guys are familiar with a little tool
called Alexa and what's cool about this
some of the things that we've done here
lately is that if you build a Lex bot I
can quickly export some Jason and
automatically have an Alexis skill so
we'll show you how to do some things
like that the final thing I'll say is a
fully managed service so you really
don't have to do a lot of heavy lifting
to get Alexa started and get your chat
bot started as I hopefully will have
time to show you how I can quickly turn
a bot I created into a web bot that's
actually running with the ICD or take
the same bot and go through mobile hub
and have a mobile application running
hopefully by the time I'm still up on
this stage so let's go through a few
little things we're gonna skip some of
this because I want to get to the code
the main thing I want you to know if you
can see that I actually used the there
vods presentation thing no one else did
and now I feel guilty I could have used
my beautiful organized slides but okay
here we go um I just seen with the other
ones we have intents you probably have
heard this now three times we're no
difference in that regard you're going
to use intent to tell how you want your
chat bot to respond once it receives
input from the user and this vote from
text as well as from audio then we have
this concept that's called utterances
this is very similar to if you built
Alexa skills it's the same thing in Lex
utterances allow you then to say okay
this is a spoken thing they're going to
say I want to take that utterance and
use it for something so we're gonna
build a coffee but so I want to know
what's the beverage type do you want it
to be code or ice hot or ice that kind
of things so it's a phrase that you want
for the user to communicate back and
forth with your bot and how we
communicate once we get that utterance
down is called a slot so if I want to
know the
beverage size after they've created
their iterance I'm gonna create a slot
for beverage size so every time they say
something that's related to that slot I
can capture the size and do some cool
things with it and then finally we have
fulfillment
so because Lex has the ability to both
do voice and do text automatically you
can determine how you want to fulfill
this do you want the fulfillment to
continue on with voice very simple you
just let Lex do its thing and it will
return that verbage back to the user if
you want it actually would text you
actually just say hey do not return
voice even though they've been talking
about go voice I want this to be your
return back in text and again we support
both naturally unless you decide to turn
it off you are at the helm and when it
comes to this how you fulfill your bite
you can either allow Lex to do it you
can do it within the concepts of the bot
without writing any code you can let it
just kind of this is the fulfillment
message this is how I want to go I can
really do some things there that I don't
really have to fulfill it with any other
code however if you want to really get
granular with it and make it do some
really cool things you can use lambda
now lambda automatically integrates with
Lex
so it'll automatically do the
permissions for you you'll see this in a
minute as well as since I have then this
integration with lambda not only can I
kick off other rest api's I can kick off
other AWS services I can kick off other
BOTS in Facebook and Twitter if I want
to do something with Twilio all of those
things are already ready for you and
prepared so we support all of the bot
messaging but again if you really want
to get granular what you want to do you
use lambda now hopefully you have time
because I was thinking about we're doing
a bot but I didn't you know like so five
hours ago I was like oh why don't I make
a bot for the conference yeah you
probably should have thought of that
earlier but I actually finished it
believe it or not and that's how quick
we can do it no mind you I probably
don't have all the sessions in because I
was a little lazy but we're going to
show you how quickly did you you can do
that and again all this code I'll post
on github so you can play with it as
much as you want
the concept of the workflow which you're
gonna find with Lex and this is probably
gonna be my last slide because I hate
reading off slides I'd rather get to the
code is once you create your butt and
build it in Lex you tested you're going
to save it and you can sail it save it
automatically with versioning so you
have versioning built into Lex and I can
alias that version so this is the
version that works for XY and Z this is
the version I want maybe for the web
maybe I want a different version for the
mobile and all you have to do is change
the alias that's required for that
versus changing a bunch of code and I
literally can publish in different
platforms with all the different nuances
of course then I can publish with
different platforms with the same bot as
well but again that we have a concept of
versioning that's already built in so
you build your bot it creates these
versions you can test and then you hit
publish with that alias and then again
you can go back and test other things so
this is kind of a version support which
is kind of an eye chart so I'm going to
skip this and then the it Lex enables a
full solution so you can do dialog
management
I want sometimes for you to say XYZ but
other times if they set this type of
message I want to change that completely
so you can dynamically change your
dialog management you can deploy with
one-click we're gonna actually show that
you can create a CIC the pipeline for
your body just simply by doing a few
clicks and you're off to the races we're
actually them saith as well unless I
notice Texas speech is integrated and
how is that integrated you've probably
heard about a thing called poly if you
haven't if you would bear with me and go
to the blog I've written a bunch of code
about poly and how you can actually have
different speech coming from poly and
what that means is then you can also use
speech marks SS ml and things of that
nature when you're having your bot
communicate so your bot doesn't just
have to spit things back out it can
actually have expression when it does it
so you know if you were doing something
about oh my god you had this which I did
this injury where you almost cut off
your finger the other day what do you do
to stop the bleeding you know you can
have your bot come back to me like ah
stupid you do X so again
kind of the messages I probably felt I
needed to get back for myself after I
almost cut off my finger but anyway we
have business logic we have analytics
all of this is baked in it's like prego
it's in there and then we have security
so it encrypts the data in transit as
well as rest so you can feel confident
that your body is secure all right so
I'm going to get out of the slides we're
gonna do a quick demo and I'll talk
about Alexa in a minute let's go in to
AWS Lex so I'm in Lex right now you see
I have a bunch of different BOTS and
you'll see that I actually created a
couple of them just because I wanted to
do something different on my way here so
let's do a really simple bot like you've
never done about before you have no clue
this bad thing is this whole AI thing
yeah we really you all are really
geeking out of it but I don't know what
it is but I want to do a bot I can
simply hit create and already we have
samples baked in for you now what's
great about some of these samples is not
only other samples baked in but it also
has the fulfillment code and lambda
baked in it as well you can say I want
to do something like try a sample of
order flowers or book a trip or a
schedule an appointment so let's do I'll
just do what everyone always does we'll
do the order flowers first and then Oh
show you how easy it is to do it so I'll
just say order flowers dev box because
that's where I am and I'm going to it's
gonna automatically provision that
appropriate I am role that's our
security role for how you can address or
I execute this bot now we also have a
provision for because we have a lot of
people doing buds for different reasons
and some of them are doing it for kids
so because we're trying to make sure
we're doing the right thing we actually
ask you to indicate whether or not your
bot will be used for children because
there is a privacy for children who want
to be respectful of that so I am NOT
building the bot for any kids I don't
think I think we're all over 18 so if
not I forgive me we're gonna go forward
with that anyway so if you want to do
something for kids just make sure you
check that box it'll ask you a few
questions is just trying to make sure
you're doing the right thing so at this
point I'm using a sample bot it is going
to automatically build my body my bot
will be functional once it finishes so
while it's building that bot let me talk
about what you can do with the butts
because this is awfully slow and it's
typically not but hey I'm up on stage so
why wouldn't it be slow so let's talk
about what I can do from a fulfillment
perspective with this bot while it's
thinking about being created so one of
the things you can do what talked about
is with lambda so lambda is our service
functions came out this is 2017 so about
3 years ago almost for now and while we
were while that is building I can
actually I can actually build something
to hook into this bot so you'll see that
when you play with this bot and if you
go to blender if I say create function I
can type on from a keyword to say Lex
and then it can give me things like oh
you want to use the book trip a sample
so you might want to do something
different than that of course we support
multiple languages so we support pipe
lon we support nodejs
we support c-sharp we support Java we
support pretty much all the languages so
if I wanted to do this just because I'll
do it and know just to show you I can
call this you know the order flowers I
don't know
Hooke and dev box because I can't think
of anything else I can choose an
existing role again remember security
for AWS it's always always going to be
paramount so anything you do we're gonna
ask you for permission first so we are a
least privileged type of company so you
have to determine what you want to do I
can create a new role for it from a
template so if I want to do this and use
this as a micro service there's actually
a role that's for micro services if I
want to create a custom role I can click
that and it will go out and say okay she
wants a custom role let me start
creating something for her for our
custom role for this and then it'll come
back and do that as well so while that's
thinking let's go back see it's already
saying oh you want a execution role this
is what you probably need so I can hit a
Wow and go forward with that it is
successful and now I have a role created
for it now here is the code it's already
written for me because like I said we
have a bunch of samples where we've
already written the code for you so you
can get accustomed to how to build a bot
now before I get into that let's see if
it's oh great it's finished so now this
is my bot is for our order flowers it's
completely finished and to prove it I
can actually talk to the bottom do
anything with it now I can do this right
in this browser but I will also show you
how easy it is to immediately take this
as it's finished and put it into a web
page or either into a mobile app so I
want to talk to my bot and I say okay I
want to actually I'm gonna add one and
says order flowers just because that
seems really long just type all the rest
of stuff so I'm gonna add order flowers
I'm gonna hit build because I wanted to
make a change there and then I'm gonna
be able to talk order flowers and this
is because I'm too lazy to actually type
out the rest of this stuff forgive me
yes I have a broken finger we're gonna
go with that usually I type a lot faster
but since I don't I am slow all right so
that's building let me go back to the
order flowers what you can do to make it
even more granular so we've created this
for you you'll see that it has an
illicit slot this will make a lot more
sense with that finished building here's
a close four from the filament you see
why is that all gray probably because I
didn't hit create function that could be
why talking faster than my hands are
moving all right now I have a lambda
function that can actually fill this I'm
gonna explain these slots for a minute
but when I go back so totally make more
sense so if this seems a little crazy
right now this illicit slot this
delegate disclosed what is she talking
about
bear with me it's gonna all come
together I promise
so illicit slot I have this function
already written for me I have a close
because I want to fulfill my bot and I
have a delegate function these are
helper functions that you
can literally cut and paste and using
any lambda function if you want to tie
for your leg spot these other functions
are specific for the order flowers so I
want to parse the local date so the time
zone that's appropriate for where I am
and not actually did a good job and
change my laptop to be on European time
versus in US time that was a little
interesting as I was doing things so the
rest of these functions are specifically
about the order flowers
I want to validate the flowers I can do
this in in the function as well as in
let's I want to determine what the
source of Lex is coming back so there's
this concept called dialog code hook as
well as a fulfillment code hook and then
I can dispatch that request based upon
which one it is so right now that all is
like yeah that's great I have no clue
what you're talking about
so let's actually put it in practice so
those things make sense so now I have
this but I it's finished creating you'll
see that at this point I have no lambda
validation on the initialization at all
I'm going to do this completely as it is
I can have a confirmation prompt that
when I'm finished it say okay your
flower type will be ready remember this
is a sample so it did all this for me it
was real nice and then I have to film it
and at this point fulfillment I want
anything that happens to return back to
the client at this point the client is
the browser in the console but your
client could be anything all right so
let's see how this goes I'm gonna say
order order flower and I put flowers and
I just started it so it hasn't learned
yet but what's great about that is and
you're back in you'll see it says okay
you asked for order flowers I believe
you want it order flowers and that'll be
something when I do it the next time
it'll actually learn from that so that's
a good thing
so you'll see that it I typed in the
right thing and it says let me see if I
can get a little bit more real estate
here let's drop it just a little alright
what type of flowers you'd like to order
that's the next thing now here's the
what that illicit slot means it says
okay I
want to order flowers what type of
flowers would you like to order now this
slot that I want to store the type of
flowers in is not filled in as as of yet
and to make sure I know what I want if I
said I want to pick up some flowers I
know that that flower type is required
the pickup date is a require and the
pickup time is required why do I know
that because I actually when I create it
these slots said these should be
required now
the pickup date is using a normal Amazon
date so it'll do all the heavy lifting
when it comes to dates for you which is
great so if I say Monday it'll translate
Monday into okay today is Monday she
must mean Monday it'll validate that for
me I don't have to write any of that
code and we have a bunch of custom built
in slots that you can do the exactly
that what about flower types now flower
types isn't built in but it's something
that of course it did it for me but I'll
show you how you can do it yourself and
in this case it is using the expand
values which means I have these three as
people type I'll learn more about these
types of flowers that is for the spot
now what you can do and I think you've
seen this with some of the other BOTS is
I can restrict the slots to values but I
can also use synonyms so if I said
tulips and of course I know nothing
about flowers so I don't know what the
synonym for tulip will be but let's
pretend it was I don't know what's
another flower anyone good in flowers I
don't know but yeah there yeah
so let's pretend they were synonymous I
could then change this to restrict the
values to tulips but anything that was
similar to tulips that maybe you were
trying to figure out that you wanted to
Louis but you didn't really know a name
like me as AI stuff obviously in flowers
and it can say okay if they say any of
these other ones I'll immediately know
they they want tulips and then I don't
have to write any more of that code
either and I'll show you that with my
own custom bot so this is how you would
create your own custom slot you just
give it a name I would say you know what
I want and that's it and I would add
that
slot either to the intent or add it so I
can use it in future box alright so now
that I know that I know that I don't
have any of these slots filled and how
do I know that even by testing it says
that I need a response to fill these and
so it says ok I have no flour type no
pick up date no pick up time you see all
of these are null so it is going to want
to get those answers now how do I
understand what to ask the user when I
create my slot so I have as you see the
custom flower types as my slot I gave
that flower type a name that says flower
types I'm gonna show you how you can add
these to the ABAT in a minute and here
is what I want to prompt to get this
information so I want to prompt what
type of flowers would you like to order
and all I did is type their Lex would
handle the rest
now when I type the kind of flowers so
at this point I have no validation in
here I just created it I'm not tying it
to lambdas on I'm gonna say tulips it's
gonna ask me now ok I know that now you
have tulips I've now have elicits that
type it'll automatically put that slot
in and it knows the next thing it needs
to get and this is automatically is a
pickup date pickup date if you remember
I said is a custom Amazon built-in type
and this is both for Lex and Alexa so I
don't have to worry about whether I said
you know the actual date that I put it
in right 11:6 2017 if I said Tuesday or
if I said tomorrow so what if I said
tomorrow it knew that tomorrow means 11
7 2017 so all of that I don't have to
write that code for which is lovely if
you ever had to deal with date
manipulation it can be a little dicey
Lex also allows you if you're trying to
lambda to determine what time zone you
want to be in so it will pick up your
time zone that's it registered if you're
in your browser your client or you can
actually set the time zone in lambda by
just using a simple process
Ian vtz a node or a similar concepts in
Java C sharp or Python ok no worries so
it asked me ok wants to prick up the
tulips
at what time on tomorrow because
remember all I said was tomorrow it
handled the date for me now this is the
only caveat of this now I have a pickup
time it is also a built-in slot let me
screw down so you can see Emma's on time
so again I don't had to handle that the
only thing I will have to do is if I
choose this built-in slot and I don't
have a fulfillment hook which I don't
right now is I need to make sure I put
in PM I am only caveat could be good or
bad because if I just put in three it's
gonna say ok and remember I don't have
any customizations here at all ok three
I don't know what the remains because
you have no PM no AM what does 3 mean if
I say 3:00 p.m. however it knows that
and it will convert this dynamically if
you want it to be more customized you
can obviously do this but again this is
me not doing anything else just the
body's ready to go ok your tulips will
be ready for pickup tomorrow at 3 p.m.
of course it's using the GMT time and
does it sound ok at this point you'll
see every time I did something that
dialogue state here changed to see what
state it was for the intent this is
something that happens without you
having to do anything first it said I
need to elicit slots remember I told you
those code helpers would make sense in a
minute
Alissa's slots means the things that
I've asked to be required for my bot
have yet to be fulfilled and so I can't
complete what you're asking is of yet
when I get that information it's going
to then say ok great I have this
information I want to confirm that what
I have is correct so when I get to the
confirm intent that's a dialogue state
and again Lex does this for you I either
say yes or no and based upon the yes or
no this is where that confirmation
prompt comes in and again I can
customize that to be something different
but again I just said hey use this plain
vanilla buy and the confirmation here it
says ok
your flowers already if we pick up at
this time it'll be a cost if I compete
which I will in a minute configure a
different cost does this sound ok or I
can just say your flower type we ready
for pickup does this sound
okay again this is just something that's
built in I can add more prompts of what
I wanted you to be confirmed based upon
other slots that I have so it is up to
you but once I do that it will give me
this back based upon the slots I've I've
completed if I say if the user says no
you want to say something you just don't
want to go gently into that good night
right so you can say cancel if the user
says no okay no worries
I won't place your order so this time I
guess I want the tulips so I'll say yes
you'll notice that then because I'm just
giving data back to the client and I'm
in test it says intent flowers is ready
for filming flower two loads pickup date
etc etc and this is because in my
fulfillment I'm not saying I want a
custom goodbye I'm just saying return
the data back to the client so if you
are in a browser or something else and
you're using this this will absolutely
be there for you now all I have to do to
get this even more granular like I want
to calculate price for instance or I
want to make sure they only select
tulips lilies and roses because and I'm
so I'm not gonna set those synonyms like
I talked about I actually want to
validate that they're doing it now I can
do that easily in Lexus well like I said
with the synonyms but let's say I didn't
want to do that for whatever reason I
can do that also in the fulfillment bot
so once this code as you see is done for
me I'll show you a custom one in a
minute but that's done I'm good with
that code all I have to do is to tie
this to Lex is a scroll up and click
this button here and it says okay you
want to initialize your values and
validate with a code hook and then it'll
show me the lambda functions now I have
a bunch of them and I totally don't
remember what I named it so I think
that's right hopefully it looks right it
says you're about to give Lex permission
to invoke your lambda function you don't
have to go out to create the appropriate
role for it we will do that for you to
give lambda just the permissions
remember AWS is lease privileged
to evoke this specific leg spot with
this specific lamina function so if I
say okay here it's going to add to that
policy that I created for that lambda
function just to run this by so now I
have a code hook and a code validation
there great well what if I want to
change my fulfillment where it doesn't
return just the parameters to the client
because that's what I have it doing
right now I don't have anything fancy
coming back I'm just saying returning
values that you get to the client so I
want at this point to use and I can use
that same lambda function or I can
create a new lambda function it's up to
you
I being somewhat lazy and crippled
typing here lately we'll use that same
one and all I have to do is determine
what the dialog hook is coming back so
we're going to go back to that code in a
minute once I show you how this works so
now I have a code handler if you will a
plow function and that is going to a
serb list by the way so it's not
something I had to go and do a web
service for and none of that I just did
it right here it's already ready to go
now what I'm going to do at this point
is I'm going to save my intent but wait
what if my lambda function let's just
say I was really lazy even though they
kind of did it for me so I kind of am
lazy but what if it did not have an
appropriate goodbye message right what
if I just skip that part it was like
great you I gave you the data back I
don't want to say goodbye because you
don't need to hear me say goodbye I can
actually put here what do I want to say
when it's finished so I can put a
goodbye message here now mind you if I
have a goodbye message in my lambda
function it will override this if I
don't here's what we call a fallback to
say something other than it just went
away and the user doesn't know what it
is so I can and also I can put slots in
this so I can say thanks for your I
think I knew that flower type order so
if it's tulips it'll say thanks for your
tulips order and do the and then I can
see it saved
so it's gonna say that has saved this
intent and now when it runs this instead
of just eliciting things just from what
I have in lamp in lambda sorry and Lex
it is actually then gonna go to lambda
and say okay I want to do some
validations maybe I want to call a back
in on no sequel database or RDS or maybe
I want to call elasticsearch and have it
do a search across the web or anything
at this point the world is my oyster
because all I did was add that hook in
so I'm going to go ahead and build this
one now it's going to say you can start
testing what your build complete
successfully now I promised that I said
and I do not want to be made liar that
it can say it do voice so when this
finished building this time when I go
through the bot what I will do this time
is actually speak to the bot turn it up
loud cross my fingers you know that the
volume works here that it will then do
the same things but we return voice and
I want you to pay attention to the
inspect response because you'll see that
it takes what I said it goes off to poly
and it will translate what I said you
don't have to do anything for this to do
this and then it will create a
transcript of the verbage in text so
that you can determine what happened so
I have it's finished building now okay
so I'm gonna do sound am i good for the
sound wait maybe okay aha okay
the little crazy noise as I am so let's
cross the fingers so now I want to check
order flowers you'll see that it says
audio input so now it's talking back to
me I didn't have to do anything that I
make that happen
what am I supposed to be ordering will
do roses this time roses let's say
remember I don't have to do anything to
do this dates as well because they're
built-in so if I say Thursday well
spelling is probably good to do if I
type Thursday it will still take it and
it will send it back in text
if I say Thursday's same thing will
happen Thursday no need to have to
manipulate what is Thursday do any
calculations that built-in slot will do
it for you and then remember if it's the
only caveat with the time you got to do
that p.m. or a.m. now here's the trick
and I'll show you this in code now I
have this lambda fulfillment in there
and I said I only want to pick up the
roses when the store is open kind of
makes sense right so if I say 3:00 a.m.
because now I have this lambda back in
it should tell me no let's see what
happens
3:00 a.m. picks up flow to 3m right so
let me do the right thing now 11:00 a.m.
now before I go on remember I told you
guys to pay attention to this down here
the slots are being elicited it's going
to confirm in an intent now remember I
this confirmation is okay your roses
will be ready for pickup is my
confirmation prompt now my fulfillment
will say it can say thanks for your flow
order or if I have a fulfillment in my
lima function which I actually do it'll
give me that response so I think $25 is
okay we're gonna say yes or I can say it
say I want two types of ed yes
and I'm done so now I have this bot
ready and we're gonna get into a custom
own but what if I want to put it now on
the web how difficult is that
and remember this is supports all kind
of languages so I'm gonna cheat a little
bit because I actually wrote this for
someone the other day who so I did a did
a stint at another company that was up
here so I see sharp as a good friend of
mine I know why people don't like it I
like c-sharp so one of my co-workers
needed c-sharp bought for his enterprise
and so I took this standard one and I
created this and I'm going to show you
how I did that because it's really
simple this is actually if you go to
this link you can play with it now
and this is where you can interface the
ICD with it
just by going to code start and say I
want to create either a asp.net core
like I did here or an ojs or a java
spring and then all I have to do is for
permissions go to kognito we're gonna
walk through this but I'm gonna tell you
first go to Cognito say these are the
appropriate permissions I want to have
and then I can spit this bot alias out
to it and I'm done and this is what I
actually did for this other than trying
to make it pretty and if I know you guys
don't know me but that is really really
hard for me so that took the most time
versus the building the bots um so here
I have the this is an asp.net core so
this is running on both I have a link
for it running on Windows and running on
Linux on different flavors of it but all
I did to create make this bot happen
other than the painstaking trying to
make it look nice because that's the
part part for me is to actually just say
what alias what permissions and using
kognito so you don't have to do any kind
of user name password please don't put
those out and github we find them all
the time and then I'm ready to go
so I kind of put instructions here so
order flowers because I add it that in
and all I do is hit enter because that's
kind of what you do and then it says
okay what type of flowers you want to
order you know the
situation you know I'm not going through
that again I'll get it out right now
that's great this is all built by Lex
what if you want to do your own cuz I
know that's what you're thinking that's
great
you just cheated no we're gonna do one
that has nothing to do with this and to
prove it I am actually going to my
closest now I'm gonna show you my
coworker did a blog on book trip he did
a blog on this about book trick let's
spots it's one of our samples I'm gonna
literally take half his code and just
make my own bot work within his code by
changing three lines I mean it's his
code and whatever so I can once I create
a bot no matter whether it's custom or
whether it's a sample or whether you
want on a table at slabs and found it
once you create a bot now I can deploy
this even to the mobile to the web and
also to talk back and forth of the
things like Facebook Messenger and the
like so okay so let's go back to Lex to
prove this so I'm finished with this one
I'm gonna hit clear so I I did two BOTS
the dead box one is more complicated
we're gonna get to it I'll do the one I
did simple so I want to do a coffee but
so here's was a book trip I figured it
was code here I'm from Georgia so this
is really cold for me by the way and so
I wanted to do coffee or tea or
something warm so we're gonna do a
coffee bot and by the way all this all
the code that I'll show you I will push
to either the AWS labs repo or my own
personal github repo so you can have at
it so you'll see that as I was shivering
here I was thinking about okay what do I
want so I talked about beverage size
beverage type do I want creamer etc etc
I don't have to require by the way all
of these slots I can just have some of
them and I can say how I want this to go
so let's say I wanted to add something
that says order if I could type a if I
want to have the slot in there all I
have to do is open the
braces and then put the slot name so I
want to say beverage type so I hit plus
and now I've added another utterance to
my much my coffee but it's literally
that simple so at this point I know that
beverage type needs to be required and I
require beverage size but I can also say
things like I want a creamer or in it
and everyone doesn't want creamer so why
did I didn't require that or I want to
say how hot or cold it could be and so
in this same thing that you just saw me
do I created an alumna function now
let's go back to the lemon function so
now hopefully those elicits lots things
you saw and the clothes makes more sense
so back in my line the function that's
that hook let's go to the one that I
actually created call coffee bot a cafe
bot Oh what did I say cafe order coffee
obviously I need coffee because I don't
remember the old name or what I did so
here we go
consistent so I have a constant here
mind you I don't have to do this and
when I get to the Deb box one I'll show
you that I didn't do it I have a
constant here there this for a beverage
type because I want to restrict these
beverage types I'm just showing you all
the ways you can do it
your is up to you you're the developers
you decide what you want to do with this
so on a chai I said I only want to
accept that chai can say you can either
say a small or a short depending on how
you want to order it but for a mocha I
can make it can be a short a small and
medium or large so I can restrict it to
those so I've created just a simple
little JSON array that that's what it's
going to do now this should make more
sense not as you saw me do the bot
Alissa's slot means that all the slots
that are required are not filled and so
I can create a little hyper function
that says I want the next step that Lex
should do is illicit this slot and I can
give it a custom message what I also can
do is elissa slot to have a response
card there and that's just as simple as
creating adjacent of what I wanted it to
be and links to images or links
other things on the web and just pass it
back to the helper function illicit slot
confirm intent remember we looked at
that when you were going through the
browser confirm intent means just what
it says I am finished I have all the
slots I want to make sure that I got the
information right so the user is gonna
say yes or no and what do I want to do
when they say yes or no so I have a
confirm intent function and close
remember I said I can put the goodbye
into the Lex service or either into my
function so I have a close now these
things that you here see here you kind
of should see things are repeating
session attributes are things I want to
send back to the client like when I did
my order flowers I calculated the flaut
literally the calculation for that was
the length of the word times five that's
how the price came to be seriously and
so I wanted to send that back to the
browser as the price and so session
attributes could be things that are not
slots are not things that are related to
your body at all but you want to send
that back to the bot as information and
go back and they can be stored across
that user ID and it can you can add as
many as you want so that's what the
session attributes come in and then I
have delegate delegate means I have
everything I need but I don't want to do
anything Lex you handle it so I
literally can say Lex you have it send
back this to them and Lex whatever
prompts you have or whatever
confirmation you have you handle that I
don't want to validate anything so I
also have a function that says I'm gonna
delegate the responsibility to figure
out what's next to Lex
as you see it can handle that and then
finally have a few helper functions to
build the message and build a response
card because remember I can have a
response card about saying hey you can
only do these certain things for the
different beverages so that's kind of
the function here that I have nothing
really difficult I have a few things
about key exists and everything else
just because I was playing around now
order of beverage is where some of the
heavy lifting happens so I had this
function called output session
attributes from arrests that I can store
things I want here and then I want the
source the implication source is what's
really important
and if you saw if you paid attention in
the browser when we were writing through
those whether or not it was invoice or
text you would see it change to be
dialogue code hook because I said I
wanted this dialogue to be validated
from a code hook so when you do that the
what comes back to lambda as far as
what's been implicated is a code hook
and that will do the validations on what
is there so I want to get what the slots
are if the Beveridge type has
information then okay I want to track
that as a constant if not it's known
we'll go for it it also passes back null
but this is me just again being a
torrent in time just making sure that no
got there correctly beverage size
beverage tip then I can say okay if the
beverage type is not it's not there or
and or both of these the key doesn't
exist for the appropriate one which
means I said chai latte but I wanted a
large chai but we're only offering small
and short then I need to build that
response back and elicit that slot that
they need to do it over so you remember
when I said three and it was like we
don't know what you're talking about it
came back with a she's a question again
this is where I can do that
and then I can customize that message
instead of saying just repeating what
time again like duh instead of doing
that I can say hey sorry we don't do XYZ
a mocha and child what kind of beverage
do you want and then I can build a
response card as well and say okay menu
today's menu menu item that they can
actually click on those buttons and that
will fulfill the slot as well so this is
what this function is doing very simple
again we support multiple languages I
showed you the dotnet one so I wrote
this function in dotnet I also have one
for job Star Wars that I work with one
of my co-workers Arun that we wanted to
have a job of one so you'll see all of
that on github and again it doesn't
matter what language you want we we
support it another thing that you should
notice I have a few you can do a few
environment variables I don't have one
here but I'll show you in the dev box
environmental variables is that what if
I want to dynamically change the table
that I get data from you don't want to
read
build this all over again you don't want
the to have to wait for Lex to catch up
because now something happened and it's
building again you don't want to do that
you want to dynamically be able to
change your data to be another table
well I can automatically whether this is
due to see alive through the console
there were API switch out an
environmental variable and then in my
code as long as I have process that I MV
with whatever the environment of
variable is it will dynamically pick
that one
so now I don't have to worry about
dynamically changing the data source
let's say I went from production of dev
but this code is good but now I have to
rebuild and with the rate to push to Deb
I don't worry about that I can just then
change the environment a variable to
point to the right thing all right that
is that but so that is finished
let's see if I can use my co-workers
code so I have his code and I'll copy it
over if you don't believe me just cuz I
don't think you guys believe me he has
this here so I'm gonna take not all of
that scrolling a little too fast let's
try that one more time I just want his
code the whole finger thing is you never
know you needed all of the fingers to
type until now okay so I'm gonna just
get his code and try to do it slowly
this time and not let my bandage hit
everything okay I'm just gonna take his
code as it is and I warn you it's not
gonna be pretty cuz I know him well he's
not good at pretty either but it'll work
so that's all that counts all right so
I'm going to take this HTML code you see
that he's doing it against book trip and
all I'm gonna do at this point is I'm
gonna create a new file I'm gonna do a
HTML page so that's what it is I'm going
to take all that out I'm gonna hit paste
this is his bot not mine alright so now
what I'm going to do is I'm just going
to change the alias of this so that my
bot work because that's all I have to do
Ollis see he has his alias here
lalala so he has a Cognito identity if
you guys are not familiar with kognito
identity I can use a federated identity
versus passing in username and password
as to access any services so if I go
back to of course I created my own you
see I have coffee but ID Poole and I've
given it to permissions here all and I
can also do unauthenticated well it
would dynamically create a temporary
token the only thing I need to do to use
this pool is I'm gonna Chi cuz I'm just
gonna go on sample code and copy it here
it's easier is take this key right here
which gives you access to nothing
without the rest of the permissions
that's what's great about it so I can
show it on film and I don't care what
you do with it because you can't really
do a lot with it because I have
granulated their permissions down to my
account but if I copy that and then I go
back to visual studio which I actually
love visual studio and copy the ID pool
into his coat there so now I have
permissions to get to the right one
let's see he for his user ID he's
passing in for a unique user ID chat by
demo now I'll leave that that's fine and
then he is somewhere here it is
he has his bot alias has been whatever
the latest alias is so I can either do a
specific alias from arrest at versioning
inspect in or I could say just take the
last one
now his bot name is book trip because he
used that and my bot name is not that so
let me go back to my bot my bot is named
coffee bot demo and if I hit I'll just
build it one more time just for just to
make sure everything's good I'm gonna
hit publish and the minute I hit
published what it's going to do is ask
me about do I want to get an alias for
this version or not so I can either put
an alias so this gets a specific version
and you'll see every time I publish and
build it'll get multiple versions I
think I'm on two or three because I
built this earlier before I came awfully
slow and I think just because I'm
standing up here in front of you guys it
wants to be slow but okay whatever we
can wait for you thank you
then I'm gonna hit publish it's gonna
say the alias I can choose an alias or I
can you know create a new one it's going
to publish and that says it's gonna take
a couple minutes but now that I know
what the alias is I'll let it think and
I'll go back here and I'll put in the
the name of my bot which I said was what
coffee bot demo okay yeah I just read
that don't know why I didn't know that
okay Coffee bot demo now my alias is the
same as my name so that's kind of easy
but I want to get the latest one I have
multiple versions of it I can either do
the alias for the last one or the alias
for ones before create a new alias blah
blah I don't need to do that I'm just
gonna say take the latest one so at this
point I shouldn't need to change
anything else let's see a he has his
coat where he's gonna show response in a
div okay great I've changed my
kognito right now I'm in u.s. East
that's what I wear I built the bot in
okay I think I'm good so I'm gonna save
this umm damn Fox coffee demo hit save
alright let me just make sure that's
finished building it is great you see
I'm on version 2 of this alias but
that's fine I don't care
now I'm going to go back to coffee but
demo whatever and if I take this
I'm just open the containing folder and
I'm just going to open it I have a bot
going now it says book trip because
remember I didn't change his thing so
just so you know that I didn't make this
up let me go and change it he says shows
it how but I bla book trip I'll say
coffee but he'd say go back hit refresh
okay coffee bot so you see I did not
cheat and then I want to order I'm gonna
say a large which it doesn't like
because there are no large room but
that's what
in there it's like a tight order olara
shy no sorry we don't have this size
consider a small what sighs now I'm
purposely for demo purposes spitting
back out what the next step it will be
so you see it says illicit slot you
obviously don't have to do that this is
literally just for demo purposes that's
why I'm spitting that back out so it
says consider a small so what if I say
order a small or a short because I know
that it likes that and then they don't
ask me do I want an iced or hot because
that's the next thing and murmur is
soliciting a slot so right now it's a
listening eliciting the slot for the
beverage temperature the beverage temp
it's the name of the slot so I must say
hot because it's code here and it's
gonna say you like you would like me to
order a short cha-cha-cha is that right
you'll notice that now it says change to
confirm intent this is where I should
get my confirmation message that's why
showing that yes or no so if I say no
it'll say something different yes
remember we went through that I say yes
great your child would be available for
pickup soon checking at time okay thanks
for using coffee bot and my slot just
now for field and I could do it again or
whatever so that is how easy it is to
get this out to the web it is also
really easy to push this to mobile so I
could literally go into the console and
go into what we have is mobile hub and
choose a selection that says
conversational BOTS and at that point
guess what I have a mobile application
that I can download either for Android
or for iOS that is completely functional
that also has a body I know my time is
almost up so let me just show you one
more thing and then I will be done for
it for it but so I won't do the mobile
thing unfortunately I'm out of time if
you want it to take your but so as I
said and I won't obviously have time to
show you the dev box PE session bot but
if I wanted to take this bot and to push
it to Alexa because you guys have Alexis
and you want to walk around and say
what's the next session that's happening
in dev box all I would need to do to
make sure this skill is functional
is select which one and we'll just do
coffee because I just did that and hit
export it'll say what version do you
want one or two since two is the latest
and then I want the format to be in the
Lexus Skills format because I want now
this coffee bot for you to be able to
order it by saying Alexa or whatever so
I can hit that and hit export it will
download and once it does that then all
I have to do is go into I thought I
brought it up yeah here it is
Amazon's portal and create a coffee bot
test now I haven't uploaded anything
because I wanted you guys to see how
simple this is
I can hit launch a skill builder it'll
open up the skill builder test and at
this point in time all I would need to
do to make this happen is to cut and
paste the jason for this into my intent
my build model I have very little time
left so I'm gonna open it up for
questions while I bring back my bring
back my slides so any questions so far
anyone anyone Bueller okay all right
guess not
so I am going to finish up with my
slides and I had a bunch of them but I
kind of covered all of this because who
wants to look at slice anyway so I'll
just do the good employee things to let
you guys know that we also have
monitoring monitoring so everything
you're doing in here actually goes to
Klout Ralph you know what that is it
tracks all of the api's calls with my
lambda function I can click a button
that says x-ray and now I can have
distributed tracing so that means
whether or not I call the REST API
whether or not I call other AWS services
whether or not I called Twilio and
Twitter or whatever I can have a trace
log of all of those so I can debug that
better so we not only have mutter um
hmm no not quite muttering so you can
have the Miss utterance count so as I
said it was learning but you can track
what your body is doing
I get asked this question so for once in
my life I actually put pricing in a
slide be amazed cuz I have never done
this before because I never know what it
is so but I've been asked this enough
that I thought it would be good so
there's a free tier where you have four
texts 10,000 requests per month for the
price for a thousand Texas seventy-five
cents and for speech it is four dollars
and for the free tier you get five
thousand requests per speech a month I
had a little es what the sales guys how
to say that right all right and then the
final thing you should know is that with
Amazon Lex technology you have a
multi-platform client you can do
responses you can tie to facebook
Messenger again these were some of the
things I wanted to show you in the dev
box bots but don't worry I'm gonna push
it out in github and so you can have an
SDK to customize for whatever language
you also can tie this to IOT so if
you're really interested in eight of its
labs we have a very cool thing where we
have a Raspberry Pi that is functioning
as a button talking back and forth and
making robots and other things move and
that code is also open source as well
you can do this through the console with
the API so there were HTTP requests or
the console I showed you the console
today and again it has both speech and
text so ASR as well as in Lu and then I
can do lambda for fulfillment and all
those services whether you want
authentication incognito cloud trail and
cloud watch give me all the logs and all
the tracing all right I am done with
five minutes to spare I'm so proud of
myself all right well if you guys have
any questions I'll be around enjoy the
rest of the conference
okay good afternoon
so the topic you probably already know
it's conversational boats but we're now
going to look at the IBM implementation
based on Watson and I have here my
colleague so I'm Erica - I have my
colleague if the bear and we will first
I will introduce a few things explain a
few things we can probably go a bit
quicker because a lot of the concepts
are obviously quite the same and then we
will show you also how it works how you
can build such a boat based on some of
the content of the devoxx presentations
so in fact we have in the cloud this
bluemix.net website where one of the
collection of services that you will
find as a set of watson service so what
what's this in fact this is a split of
originally IBM made this Watson engine
to participate in the Geo / request what
we've been doing now we split this off
in a number of smaller API smaller
components that you can use and there is
various kind of things in there that
will beat the chat bot capability which
will be the conversation but there is
also things there like translation there
is visual recognition the rest peach to
text if you want to
speak to a chatbot for example there is
some sentiment analysis which you could
use to analyze your conversations your
conversations and see how the sentiment
of the the person reacting is at cetera
so the the the the thing is you can
combine all these api's and and and
bring it together with the chat bot for
example you could have a chat bot where
somebody sends in an image you could
analyze that image and use the what
comes out of that analysis also in in
the chat conversation let's now look at
the the principal ones because that's
also the ones which we gonna use in the
demonstration so first of all there is
the conversation service the
conversation service will be a lot like
some of the things you have already been
seeing it you will be able to train it
based on so many hands and entities and
then it will allow you to create a
dialogue function and and you will be
able to interact now we have a nice
addition to that and that is the Watson
discovery surface what is the discovery
service about it's actually a cognitive
search engine so what can you do with it
you can feed it a lot of text and it
will try to analyze those texts find
relationships and so on and you can then
use that to answer also quick questions
so you can ask a question the discovery
service will search into the content and
try to find pieces of content that
correspond to that kind of question and
in fact in a lot of chatbot scenarios we
see the combination of both capabilities
to implement the full solution and we
will go further into that later on so
the basis in fact
as you've seen by at at some of the
previous speakers you most in most cases
you want to have these multi-channel
capabilities we do that based on the
both framework so you
able to deploy your boat to towards
various kind of channels whether it's a
slack channel a messenger interface your
own webpage where you add a boat or also
things like Internet of Things you could
also add the robot so we have quite some
examples with papal robots and those
kind of things so then the next step is
the the application which will then use
the the Watson conversation service it
will make use of the concept of
workspaces so you can in fact create
multiple workspaces for different
purposes things like supporting multiple
languages supporting different kind of
dialogues for different purposes and
there is also the possibility to enrich
your conversation with content coming
from the from other back-end system so
you could interact with your customer
relationship management system you could
interact with some API that is available
to get some more information and enrich
the conversation with with that kind of
information
a typical example could be in the
bluemix we also have a weather API so
you could use the weather API to enrich
the content now in the end in the
building blocks of this conversation
surface there is again natural language
processing so what is what this does
gonna do that is gonna identify what the
question is really about so and we will
see we also use the concept of using in
in pants so what do you really want to
achieve and then you can specify or
clarify those intents by using entity
extraction out of the out of the
the text and that's the kind of things
you will also need to provide examples
for to train the conversation service
and then that will then be arranged into
a dialogue flow where you can do those
other things like and retching that the
content water in dance it's typically
some action that you want to do I want
to locate something I want to order
something so that that is typically the
intent how you will you train the system
you will give it some examples of how
does somebody locate something I for
example you could let's assume be doing
a boat for a hotel reception desk you
could ask put example current questions
like where can I find the gem how do I
get to the gem and and all those kind of
things which are examples of the intent
I want to locate the particular location
and in the hotel next it will you will
need to know what does the the person
asking the question want to locate and
that's going to be done by entities and
the entities you are again gonna train
the system by giving some examples I
already did it so it could be in the
example of locating something you could
say examples are the gem the bar the
breakfast room all those kind of things
could be examples of entities again you
can train by adding some examples but
you can also use things like regular
expressions and in there to do some more
complex kind of matching and the will
also be some system and titties because
there is a number of topics which you
don't want to all program yourself so
there will be things like dates so you
will be able to say I want to order this
tomorrow
and the system will be able to interpret
that and know that tomorrow is the
seventh of November for example so that
is the entities how are you typically
gonna do that you will start from your
frequently asked questions your helpdesk
knowledge whatever subject matter expert
and is gonna then put that the
information create those examples and
feed that into the system and one of the
nice things about that is that you don't
really need to do any programming for
this so it can be done we have some
examples were some people with almost no
IT knowledge have been creating the
discontent and and feeding the system
with that kind of content once you have
the intents and the entities you're
gonna create a dialog flow so there you
can basically graphically decide how the
dialog is going to flow what will be
certain input conditions you could do
some pre creation you could get some
information out of the context so your
dialog will also keep track of a context
which you can then gradually enrich with
either information coming out of the
conversation or information coming out
of some other sources some other API
calls that you have been doing etc and
then of course you can always use those
values in the response that you're
giving to to to the user and those
responses you can either have a fixed
response on a particular dialogue node
you can also do some things like
randomize so that your booth becomes a
more natural kind of speaker and is not
always answering exactly in the same way
to a particular question in the in the
context you will keep track of all the
information bit similar to some of the
other examples that we've see
so I could say I want to order something
then of course you will need to add
additional information ask additional
questions like what exactly do you want
to order which product what kind of
quantity and all those kind of things
you will keep that into the context and
that can then be used in the further
interactions with the same user we have
also some possibilities to and that's an
option to store some of the data of the
conversations really have that
optionally because there is some
discussions on privacy if you store
information about interactions with
customers but you have the option to do
it when you do it there is also
possibilities to perform analytics on it
which can them again be used to enhance
the training so you can figure out where
were there are some questions that we
couldn't answer where where did we lose
the customer in the dialogue etc and
then use that information to retrain or
enhance the treatment of the boat now
what we notice is that in many of the
cases we analyze you have this kind of
difference between the short tail and
the long tail and what do we mean by
that the short tail is typically those
questions that come back over and over
again and in many situations we presume
that's like somewhere between 30 and 100
questions and a typical helpdesk that
come over and over again and it of
course those are then easy for to create
and 10 so you would create intense for
them you would handle them with entities
and you can proactively handle those
questions there is however many
situations where you will have some
question that doesn't fall into that
kind of section and there that's what we
call this long tail so it's the
questions that come up
occasionally we can try to handle that
in different other way so one other way
will be to use the Watson discovery and
feed that discovery with a large
knowledge base so that hopefully there
we can find some answers and that's also
what we will show in the in the
demonstration the the other thing you
can of course do is when the dialog
doesn't flow anymore is that you hand
over to for example a call center and
then really use some of your human
agents to continue the conversation
where you left off and for example then
hopefully provide that human person with
already all the contacts that was
collected so that they don't have to
react all those questions again we have
some examples where you could also use
the the sentiment analysis to already
warn your your agent that a customer is
getting upset or the customer is happy
or whatever so let's then move so this
was just a short overview there's lots
of more things we can do but let's now
move to two short demo showing how you
can use those things together and now
you can build the solution and and Eve
is actually gonna explain how that is
built and and how we can do that okay
thank you Eric so what we built for this
session is in fact a sort of devoxx chat
bot which i will provide you the link
afterwards before to start playing with
it during the demo so what it's made of
is we're using a react as a application
front-end to interact with the chat bot
is calling an API which is exposed as a
sequence within our open risk cloud
functions within the cloud platform so
it's a service component that runs in
the cloud as a sequence and the
sequence contains in fact two calls the
first call is a call to the conversation
and that will handle typical
conversations like hello and what you
want to achieve and if he doesn't find
the answer within the conversation it
will trigger it off to the discovery to
have research in that repository to see
if we can find an answer so what I did
was for the discovery services I loaded
up all the sessions from devoxx
which are available in fact as an API
typically there they give you back one
JSON file with all the sessions for one
day so I had to write the night ditional
script to make a JSON file for each
presentation each session so and in the
back I will show you how we will use the
Watson conversation and the discovery
service
let's see if I can
so here I'm in the the bluemix dashboard
in the cloud platform where I have
defined the conversation and the
discovery service now first of all I
want to show you how the chat bot will
look like so it's a react application
and it says okay what would you like me
to do I can just say find if I can type
it find session and then he says okay I
can help in finding a speaker session by
topic or by by speaker and for example
are you looking for a speaker or a topic
I can say in speaker what is the name of
the speaker looking for I just put in my
colleagues name and of course this is
not something that you will find within
the conversation dialogue but we detect
that it's not something in that he finds
so we need to call off to the discovery
servers and that's where all the
sessions have been loaded up and it does
a search within that catalog of sessions
so here we see that Eric is doing this
session and also another session later
this week and we included also the links
you can find the full details of that
session now something else you could
well typically you can always say hello
to the chat bot or other questions you
could answer and ask in a conversation
but I can also use the query language
from the discovery service for example
if I'm looking for a topic
which topic are you interested in I can
use the query language for example I
have here room for as a day I can paste
that one in something room ID for sorry
so what we're doing here is we want to
know all the sessions that are having
place in room four on Monday and again
it goes search to the discovery service
and then we find all the sessions that
are happening here in room four with the
time slots available in there so this is
basically the kind of chatbot we built
now looking back to the conversation
itself so we can see how it is all built
up we can launch the conversation tool
and then we will see that by default you
get the car dashboard as a sample you
can start with and the devoxx is the one
I created for this again here you have
the the type of language that you can
choose at the moment until you create
the workspace when I go in there again
you see the intense for example the
DevOps session info I provided some
information for example can you tell me
more about a session a speaker that kind
of thing so the more sentences you put
in the more correct in the system
becomes we also have the entities for
example a category where I defined a
speaker a track schedule and some other
entities and you can add synonyms
multiple synonyms to identify what
you're trying to achieve here so once
this is defined we can set up the
dialogue
and typically while you have a welcome
to start the conversation here you
already see the debug information which
is effect just adjacent output that is
sent and as Eric mentioned we also have
context information in there
so you see when the session starts
it sets the application action to off
meaning that well we don't want to call
the discovery service when we start the
conversation and we want to put in this
context as soon as we are ready to talk
to the discovery service and then as I
did in the end the demo he will go
through that scenario where we detect
that it's something we want to know
about sessions and then we can drill
them more deeper now the nice thing
about this service is that I don't need
a front-end application to test this as
I'm defining all the entities and an
intense I can just try it out here so if
I would say find sessions same as I did
in the web application I get some more
details about which entity which intent
is called so I can drill down and see
how it's reacting same thing here you're
looking for a speaker or topic what's
the name of the speaker I see on the
left that at which point at the dialogue
and currently have entered what's the
name of the speaker again I can type it
in and as you see here it outputs
something that we didn't see on the web
interface it says that question is out
of scope but what we do in here
his effect in the context as you see we
are setting the application action to
call discovery so when it goes to the
API it detects that there's an
application called a application action
call discovery and he will call the
discovery service to find the right
answer for that so typically that that
is something that you can play with with
the context to drive the full
conversation and even to store user
information or credit card information
things like that
now the other service we're using for
that if I go back to the dashboard is
the discovery service the discovery
service allows you to put in lots of
data can be XML JSON PDFs whatever kind
of text documents and it will try to
structure that in order to be able to
query that that data so what I did is I
took if you want to see this is the REST
API that is available from the devoxx
conference discovery service so I have
243 sessions that are happening this
week are loaded up into the discovery
service as different documents now the
same thing I can choose here to query
this collection and it can be queried
within using natural language and I can
also for example say give me the
sessions on day equal to Monday add
another rule and say
this is room ID needs to be equal to
room four and I can just run the query
and I get back five and JSON files and I
can also drill down and see what this
jason accidentally actually looks like
so this is the data that we get back
within our web client and that we can
treat and then present as you saw and in
the chat interface or we can also search
more particular doing some natural
language or any question you want to ask
here and then I see on Monday indeed we
have one session we find back and this
is the session and that is has a require
so another so that concludes mainly the
the whole set up as we saw here so the
set up calling from the react.js
application calling a sequence handing
off to the conversation and the
discovery service now to close things
off this is not the right one
I want to show you how the cloud
functions so based on based on the
Apache Open whisk how these are created
to handle this application so we have
one discovery sequence so that is
triggering first the conversation and
then the discovery if we listen to the
conversation which is an OGS small
application that infects calls the
Watson conversation and then calls out
to the service using parameters and that
we put in as a user name/password things
like that in order to get to the
conversation service that we have
defined and then the other one the
discovery service
which also calls to the discovery
service but there we see if I find it
back that for example as we defined in
our context that we want to call the
discovery it detects that the
application action is there and then it
goes and call and does the same query to
the discovery service as we have defined
it over there so basically this is how
these functions the service functions
work and then we have defined this as an
API so my react.js application calls an
api from this side and then is able to
get the response back there's also a
monitor capability here so we can see
that the last interaction was here
conversation with the sequence first so
this is the main entry point it calls
off to the conversation we can see the
whole details about the intents and
everything we have some logging is that
we can define here so this is nice to
debug and then at the moment where the
discovery service is entered then we can
combine those boat and have a view here
how it all works so this allows also to
extend it with other functionalities for
example if we would say what's the the
weather currently in Brussels and we
could add another function in here and
maybe call off to the to the weather
service which we have in in the catalog
and then make that result also appear in
the conversation
okay so this is the end of the demo and
we also provided some resources that you
can find back some example code that you
can download for free from the github
repository and then there's the
community for Watson and also the dev ox
chat bots which I shown you here you can
also play around with that and let us
know what what you think of it okay so
then I think there's still time left for
a couple of minutes for some questions
okay okay or if there would be any other
questions you can also try and the chat
button see if you can figure out where
we are or send us an email we'll be here
the whole week at the boot as well so in
fear of it there's no questions okay
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>