<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The truth about code reviews by Sebastian Greulach | Coder Coacher - Coaching Coders</title><meta content="The truth about code reviews by Sebastian Greulach - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The truth about code reviews by Sebastian Greulach</b></h2><h5 class="post__date">2017-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/35iBUEIYHU8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome to like talk the truth about
code reviews my name is Sebastian grella
i'm working at encoder record as a small
company in literature and we do have a
very lively ryu culture we do review not
only the code we'd review our
requirements really with the design it
is involved in every step so it's not
like a process step for us so we do it
along the way it's been doing peer
reviews wearisome synchronous at the
desk so the question is why do I come up
with the talk about code reviews if this
is working for us so well it's simple it
didn't we we had some problems how we
conduct the code reviews and we had the
impression we could improve really what
we're doing so and there was also we
have your small team but also we have
some home office work and all the home
office work was not reviewed so we were
thinking about maybe this is a problem
this is process problem and then but we
are not the only ones lately there was
this call of IBM which they also have
problems with remote work and they they
try to forget this so what I was doing
was Sam I was going on the research and
the first thing you encounter when
you're doing research about a certain
topic you see all the benefits and the
benefits these are the things that
really get you going and the first and
most important benefit you see there is
finding defects
there's also a lot of people the main
motivation of starting covetous or
conducting them forty-four percent of
the managers decide for doing code
reviews because they do want to find
defects and this is only true because
they were convinced by charts like this
it's a charts of chasing cone i would
say Jason Cohen is the expert for vocal
views he did a lot of studies published
a lot of papers for the book or even has
now product which can conduct code
reviews and here in this charge on the
left side you see the amount of bucks
after each phase done without Cody views
and on the right side you see them down
with Cody news and then the fixing costs
for a buck is is more expensive if it
goes Nero to production so you can
calculate this through and you can say
okay if I do early bug fixing and if i
can find my defects very early in the
process it's a lot cheaper in this case
it was even half but really do you feel
this if users when you go to your peer
are you looking for defects do you go
there and for the purpose of hunting
bucks I don't think so it's only fifteen
percent of the comments we get during a
review that really refer to a defect and
the defect here is what i call a
malfunction or really maybe a deviation
of the requirement so what it is is what
is it what we really see in the reviews
fifty percent of the comments about
maintainability how is my lesson names
can we restructure this in a better way
and this is really something I feel more
to be true during a code review I really
look out for how the codes proceed for
me as a fellow developer
so there was another study and there was
a comment about from a developer and he
said Cody view is the discipline of
explaining my code to my peer and when I
explain my code to my peer I really I
really get a feedback from them and this
is what i want to emphasize i really
want to get some feedback from my coat
so what is the code review then if
you're not hunting bucks it's a
technical discussion we really we really
go back and forth we want to challenge
what we did we really want to get
feedback and this feedback it's not a
high level talk maybe during lunch or a
dinner over a beer what we really have
is we talk about our code their words
happens really at the problem cracking
really at the source and this is when we
see then the benefits we have their
about code reviews this makes a lot more
sense we have team awareness and
transparency so I explain my code to my
peers and they exactly know how I'm
working how I approach my problems I
improve my code it it's because of the
maintainability of the nature somebody
read already my code and try to
understand it we have knowledge transfer
as well I share my staff people yeah
keep it can have a look at this they can
also have a look at the details and then
if I'm if I'm going if I have well
reviews and I conducted very often we
also find alternative solutions this is
really due to the discussion I get
another point of view and to what to the
approach I have done so maybe I get a
better approach to my solution there and
also here this is true we still do we do
find defects also not so many but there
it's the cases to nonetheless but when
you are having a lot of benefits they're
also drawbacks and the drawbacks are
Acosta bail over time the developer is
available resource
and we want to keep them going and this
is also the thing about interruption
when you get the developer interrupted
and it takes for more than 30 minutes to
get into the flow again where he was
before the interruption this is because
you need to be highly concentrated in
what you're doing with everything
together in your brain and then this
takes time to to ramp up and as we are
not predicting se con cannot predict
that we are really finding bugs this is
not a good quality assurance measure it
really is a quality creating measure
because I rate maintainability very high
when you have code call us can be done
in different sizes there are different
types for years ago Michael Fagan was
one formalizing it in a study and then
they were called code inspections really
big meetings where teams were going
through printouts of codes and checking
line by line if there is a bug or not
normally this is done but that isn't
done anymore today but it may be has a
valuable case so and then it goes all
the way down there's all different sizes
until you maybe just conduct them and I
don't know very very seldom or a very
lightweight what I want to to see the
difference here is what we have nowadays
a lot of tools and how we can use them
in which benefits they have the tools we
have they'd certainly do work for
scenarios but if people are not working
in a team together it's maybe for open
source community where there is no team
so they need a tool to somehow
synchronize and this is this is a very
good good approach for them it's at
synchronous when you are you used a tool
that's nice because I get not
interrupted I can have myself going
there and see when to conduct the review
but there's a little but I would come to
this and this is written when when I've
where do this face-to-face or maybe over
phone call or a video or share
go back can share my screen this can be
a lot more faster I get immediate
feedback I can ask questions I can get
kind of answer them so the synchronous
approach is is very fast compared to the
asynchronous one it has also benefits if
you can I would emphasize you to do this
I'm get written feedback it can be can
have different flavors when you're very
attached attached to your product and
when somebody is then conducting reviews
conducting new new stuff to your to your
product s and then you can have very
emotional reactions like Venus 12c in
this example but what the case is in
written with written comments is the
people they try to be sarcastic they try
to be ironic and maybe also abusive so
this gives a lot of negative bias when
when things are written they are
nonetheless not understood as well as
statement from from the one that that
was writing the comments so and when I
have a negative bias to my comment or to
my review comments it is not very
received so there is certainly to how I
want to do my review what the bowl is
what we want to drive there is really is
a discussion and this discussion that
should be healthy it should be a good
back-and-forth and really facing on the
technical side of what we are talking
about there are two parties involved
this is the author of the code and the
reviewer and the author what she can do
is list is quite short to contribute to
this discussion he can receive the
feedback and this is maybe not that easy
as it sounds because if somebody is
approaching you this is totally
not working what you build up and then
you immediately try to defend yourself
ye ye is working why this is a good
approach so but maybe if you get some
feedback try to to embrace it try to
maybe think about it first before in the
immediate direction the reviewers the
one really driving driving the
discussion another example is generate
generalize generalizing and somebody
says always use this or never do that
you also get in a defence automatically
and when you talk in absolutes the other
one always thinks about exceptions to
this rule and then the author of the
code only thinks now then why this what
she did is an exception to the rule you
just just just told him and then the
review is kind of over so this is not a
discussion this was just the defending
incident and in points so another
approach would be asking a question can
you show me what you meant with this and
by asking the question the author feels
trusted he really he really thinks okay
yeah he pities valuable what she did so
then there's no defense lead at all and
then it starts the conversation and
asking a question it is already the
sword of the conversation so this is
kind of the way to go when you do a code
review better to ask not to tell what do
you think about moving a code block to a
method or did you consider to check
arguments only in public markets and not
in private ones and when this is really
not working well then maybe we can you
clarify what you did there so even even
the harsh question is better better than
an absolute statement there
this is the conversation side so this is
what I learned is also part of code
reviews but there are also more
practical approaches and more more
technical approaches to this some
numbers for best practices on code
reviews these numbers are again from
Jason Cohen it was on a study with cisco
systems and the numbers are pretty high
I know they are high maybe if you adjust
really encode and tools maybe just look
at the dis and they're only I know
certain lines of codes but if you're not
then you try to really have the whole
context where the code lives or where
the change was fun you need to read you
a lot more lines of code and that was
what they counted there in their study
so far lines of course Australia maximum
so we should not do more than lim
foreign lightest code and the most
important thing there is you really go
slow it's like it you shall not aim for
covering a lot of code in your review
it's really the other way around focus
on just some lines the most important
lines and review them and there's also
maximum time limit it it is really 60
minutes because this is kind of how long
we can concentrate on one topic and a
code review is is very demanding of both
the author and the reviewer so really
after one hour at least make a break let
you perform the review and do it another
time and that's also another number
which i got from a 12 from jetbrains
they say ok it it's good to have
multiple reviewers but everybody can
afford to have multiple reviewers but
when you have the possibility it is
sufficient to have only two of them
because the first one finds about one
hundred percent of the findings there
are the second one only half of it or
half of it additional ones
this is and the third one after that
even less so it's even much less so it
doesn't bring more value to have a third
reviewer and in this whole process what
is really important at what can also be
driven by by the author of the code is
to have to provide understanding because
only when I have good understanding I
can really benefit form from the pros I
can I can have when I conduct code
reviews so this chart kind of shows the
level of understanding the darker the
color gets the higher the level of
understanding is needed it is centered
between low and high this means
everything that's more on the Left needs
less understanding than everything
that's more kind of on the right and
that's the whole bar there and on the
but we see you later on the left are the
benefits we have so when we start at the
bottom to avoid big breaks I do not he
have to have a lot of understanding of
the context why I did the change at all
so everybody with the technical know-how
can can we do this and can immediate
this is a built break or not for this we
have certain tools or the flagon of
leave it at all but you'd see kind of in
the middle range and a C code
improvement team assessment this is also
more on the left side so I do not have
to gain these benefits I do not have to
have a lot of understanding but then we
when we go up higher there's really a
gap so when I want to find alternative
solutions or really when I really want
to find defects in my code the level of
understanding needs to be high and this
is really something i want to aim for is
low I want to have the best solution i
possibly can provide for my coat so as
an author i can i can really provide
this understanding and this is two
things I need to tell the reviewer first
the motivation of the change why did I
change it
I need to provide the context and this
is kind of which requirement I want to
wouldn't want to reach for this and the
second thing is your design approach so
this means really what did you thought
or which way you were going down the
route on implementing your solution you
can ride this may be in your commute
message to keep it safe for history
because when you need to revisit your
changes these things get often forgotten
it's just a proposal also what's good to
do is to do lightweight do not have a
big process don't make it too big for
you guys in the meetings and stuff
because you can find kind of the equal
amount of findings or defects there with
doing a chest maybe over the full folder
or just at some time and then we use the
human factor SS can have very heated
discussions maybe if we use tasks or
spaces or something like this then
really just have like agreed on with
your team on what you use you want to
want to apply to your code and then have
tools to just enforce these rules and
that's again and then it gets in a
neutral level so the team server and it
don't server then tells and what is
wrong what is not and the tooling is
good nowadays it comes better and better
but in the end it's a culture and it's
not like a set of rules you can follow
for your team it's it's just like that's
what the learning what I did this
research it is something you need to
decide for yourselves what works for
your team and for your setup or if you
do not have a team at all and maybe in
your environment and it's a cultural
thing it is it takes time you need to
start it at some point and it will
evolve over the time
so I possess you to foster strong review
culture just by starting just by doing
it without a process just going there
and as we saw emphasize the discussion
and with the discussion really get the
feedback and with the feedback we we get
to our long term goal or less and this
is to become a better developer thanks
any questions we have time just for one
question I don't see the problem with
reviewing code that was written at home
like homework code how what's the
problem there I probably bought it it
wasn't read it at all for our four hour
because they were you do not have a
strong process there for getting the
code into maybe your master branch so if
you're working on gates maybe you're
distributed team you have a big process
there they were full requests and
certain people who can contribute and we
don't and what the big this is for us
and what the big companies have is
really the problem of the roast leg that
you cannot exchange with each other very
well so the code it really it gets
pushed it lies there and until it gets
to your master branch it takes very long
time and this was too long for them so
you want to be fast and that's why they
also decide to to get the teams together
to read the sit next to each other
thank you thank you remember to vote
outside the door thank you to listen</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>