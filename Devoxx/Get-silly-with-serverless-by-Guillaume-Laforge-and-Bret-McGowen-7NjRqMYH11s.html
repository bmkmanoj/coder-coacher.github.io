<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Get silly with serverless by Guillaume Laforge and Bret McGowen | Coder Coacher - Coaching Coders</title><meta content="Get silly with serverless by Guillaume Laforge and Bret McGowen - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Get silly with serverless by Guillaume Laforge and Bret McGowen</b></h2><h5 class="post__date">2017-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7NjRqMYH11s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I know everyone welcome to this session
about Savalas let's see how silly we can
get at least somewhat funny
I'm Jim Ross I'm a developer advocate
for Google cloud platform and you are my
name is Brad McGowan I am also a
developer advocate and Google cloud
platform focusing on service super happy
to be here at devoxx I live in New York
City but I have to tell you I'm from
Texas
all right much better so I guess that's
the beginning of the silliness of our of
our talk thank you all right so labeled
a little bit of buzzword status alert
so it's not silly which is the buzzword
of the day but it's gonna be service
service it's something that we've heard
of in 2015 although so you see the the
nice trend going upward but it's not
really something new and actually back
in the the old days of the caveman where
you are handling your own infrastructure
provisioning servers etc we've come a
long way from that
but already in 2008 Google released
Google App Engine which was the the
pioneer in terms of cell s because it
was the pass platform as a service
infrastructure which was provided by
Google and the unit of the plan was an
application you were deploying
applications you didn't have to care
about scaling about provisioning servers
your infrastructure
you didn't have to operate it or
anything of that kind and on a regular
basis we released different service
solutions or managed services as we
might have called them back in the day
for example bigquery will do a demo by
then which is a analytics that our
warehouse platform cloud storage for
storing all kinds of objects files etc
cloud datastore an early nor sequel data
store cloud dataflow if you want to
filter your data create pipelines of
data and do all sorts of analysis on
that we acquired firebase which is a
solution for developing web mobile
applications on a back-end as a service
cloud pub/sub for all the your messaging
fabric so you've got topics and you
exchange messages all around and last
year we announced cloud functions which
is going to be a big aspect of this talk
and cloud machine learning engine to run
on machine learning training prediction
in the client directly as a service and
fire store which is the new real time
database no sequel database for a fire
basin yeah so what is service so server
list I think the explanation it's in the
name right obviously it is code that
runs without any servers there are
actually no servers at all so I'm very
excited to show you an exclusive look
into Google cloud platforms dedicated
server list data center so this is what
it looks like an insight your code runs
in there somewhere no just kidding
obviously this is not our server list
datacenter server list there are servers
it's just who's managing them who's
running them and are you worrying about
them that's the difference sort of
fundamentally between server list and
not server list but we'll dive a little
bit more into what that means and let's
start with an example so I'm going to
build an application and we'll start
with a pretty typical application where
I have some app maybe a mobile device a
website it's gonna submit a photo of me
to to my app and it's gonna make a
cartoon out of it right so here we've
got me I think I'm actually wearing this
exact same outfit right now so this is
not live this is not running but this is
a pretty simple diagram but you can see
already that the simplicity is a bit
deceiving because I'm not just managing
the code it turns me into a cartoon I'm
also managing these other things I have
to know what version of operating system
I'm running if there are new security
updates I have to update them or someone
my team has to update them I feel
worried about networking even in this
example can my server that's running my
cartoon code can it get to the Internet
can people on the internet get to it
what happens if that connectivity goes
down it's all things you're worrying
about
what webserver am i running what version
of that is compatible with the libraries
that I have to install and I have to
manage those so it's a lot of work even
for a pretty basic application and even
if you as a developer aren't worrying
about this someone on your team someone
somewhere is it can get complicated
deceptively pretty quickly but now let's
say our cartoon app becomes super
popular and we actually need to scale up
because it's more than one machine can
handle so we have introduced three more
servers and not only do we already have
the same problem with each of those
servers managing and still in deploying
an update but we've got a few few other
problems to worry about for example are
all of these servers running the same
version of the operating system are they
all running the same version of our
application and there are tools to help
us with this like puppet and chef but it
can get complicated pretty quickly and
those are all things that still rules
that have to be written and processes
that have to be created so my cartoon is
starting to look a little bit sad about
this already because I just want to
worry about this cool cartoon app that
I'm building I don't have to worry about
all this other stuff also I have to come
up with a load balancer just sit in
front of all of this right up my my app
doesn't talk to the web server directly
anymore there's something that sits in
between but now we get more really a
really popular and we have to scale up
beyond even three virtual machines so as
traffic increases and continues to
increase we could just add virtual
machines and add vm's and add beams to
infinity but there starts to be a budget
constraint where we just don't want to
scale to infinity so we want to cap it
but we also don't want to lose requests
so a common architectural program up
paradigm will be to have a messaging qrq
that sits in front of it and absorbs all
these spikes and requests so as you have
sort of this uneven traffic pattern is
it ebbs and flows your queue absorbs all
those requests so it gives you time just
to spin up and spin down virtual
machines on the backend as your load
changes but again this is still a lot of
stuff that we have to worry about when
at the end of the day we just want to
worry about what is delivering business
value which obviously is always cartoons
so this is
the dream right the dream is I just have
code and it runs and I don't have to
worry about any of that so I won't tell
you that we're there yet but that's the
philosophy and that's where we're headed
because then this is when we breakdance
this is this is the quality story of
server lists so a little bit more
concretely what are some of the
principles around server lists so I
think there are a few one kind of in the
name that we talked about no need to
manage or even think about servers how
many do I have what versions of the OS
how does a load balancing how does a
networking work those are all abstracted
away and the cloud provider takes care
of those for you um this is key you
don't explicitly provision so if I'm
gonna launch a new service or new
application I don't have to guess am I
gonna have 10 users a thousand or 10,000
if I get this TechCrunch effect where my
startup is on the front page and I just
get overwhelmed with traffic and now
that my first impression to all of my
potential users is that my app is down
or that it doesn't work because I didn't
guess correctly how much traffic I would
need we want something that scales up
automatically and you don't have to
explicitly provision and then also pay
per use which is very different I'll
talk about that in a second and then
finally service is often stateless or
ephemeral which means if you have state
that you need to save you don't store it
in your application anymore but you
actually just store it outside and
something dedicated like a database or a
distributed or a cloud file system it
doesn't live in your app anymore so
paper use is interesting sorts I think
sometimes people think cyrillus is
similar to cloud in that I only pay for
the services that I use right but in
server lists you literally only pay when
your code is actually executing so if
your request finishes you don't pay
anything so back to the uneven traffic
spike that I was showing earlier in the
down times your cost is literally zero
if there are no requests coming in and
you can kind of do this a bit in a cloud
virtual machine world but you have to be
responsible for monitoring your traffic
and you have to explicitly create and
delete those virtual machines as they
come in so I had this sort of four
principles of server list but for me
personally I like to boil them down into
two overriding prints
like what does it mean for something to
be serverless and that has in so I
consider it to be one it's invisible
auto-scaling infrastructure so you just
aren't thinking about and you aren't
worrying about it and to you aren't
paying for unused CPU cycles so for me
if you're using a service or a product
that conforms to this then yeah it can
be part of a service application so
let's delve a little bit more into
specific examples of serverless tools so
there are two categories generally
speaking of service one is back-end as a
service and the idea here is if you're
building an application and there
already exists a service that does what
you want to do it oftentimes makes a lot
of sense to consume it so email is a
great example you could create your own
servers you own virtual machines you can
install an SMTP server you could get
whitelisted with ISPs you could worry
about being in the correct geo region to
handle all the the email routing and all
that or you could just sign up for a
service like Sen grid or mail grynn done
right and you sort of outsource that bit
of your application and there are a
whole bunch of these so from these
serverless databases to doing SMS you
can use something like Twilio you can
use auth0 for authentication and so
these are different than software as a
service which you tend to consume
directly as a user but these are back
into the service that you actually
integrate into your application right so
with some core component of your app
that actually runs outside of your
application it's hosted elsewhere and in
the other type of service is as we all
know is called not yet a service as a
service or nias right I see a lot of
blank looks okay fine this is often
called functions as a service or faas
but the reason I like to use the term
not yet a service as a service is
because if you want to do something in
your application tend to use to try to
use something on the on the left side of
the screen write something that's
already out of the boss it box it exists
if it's not your core like business
competency but if it doesn't exist as a
service you can actually use functions
as a service to sort of create it as a
service for either external users or
oftentimes just for other users and team
within your application they're actually
consuming this new thing you created as
a service just like they would consume
one of these others so if you have some
prediction service or some pricing
service or something like that
I functions as a service makes it really
easy to deploy it because you don't have
all the overhead like we saw in the
first few diagrams of managing operating
systems and deployments and all that so
it makes it really really easy to build
a function as a service I tried to get
hashtag in the SS trending on Twitter it
is not going well it's because I'm a
help yeah exactly if you tweet hashtag
me SS I have some stickers up here
Google cloud and cloud function stickers
so so help me out here and we'll get it
trending but there's a reason I'm an
engineer and not in marketing apparently
serverless or functions as a service is
way catchy er yeah then yeah sass so
anyway you know me want to give us a
little bit of a deep dive into functions
as a service actually initially I
thought the end on the wire was because
you were in the New York office in
Google right well when I'm calling Brett
as a service need even less sense yeah
so let's focus on functions as a service
and in particular product called card
function which is part of the Google
cloud platform so it's a no GS based
environment at least currently but other
languages will be coming soon including
perhaps I was thinking of Java something
like this but you know as soon as Java
supported any other alternative
languages like Apache groovy will be
supported anyway so currently your radio
code in JavaScript and node.js so it's a
service environment to build and
basically connect cloud services we've
got together for me that's kind of it's
a it's a glue to connect things together
think about it like this so all you've
got virus micro services together and
you can glue them together
thanks to this fabric they are so if you
look back at the principles that Brett
mentioned there are no server management
whatsoever so you don't have to
provision your infrastructure
create clusters ask for machines or the
end or anything of that kind
it automatically scales for you so if
there's a zero user there's going to be
nothing running but if you've got
thousands of powtoon fans going crazy
generating cartoons then we'll be able
to create as many functions instances of
functions as needed to handle the
requests for making new nice patterns
and as it scales up and down zero or to
infinity in behind you only pay for what
you use so if there's ten years or it's
going to be proportional to the number
of users basically no number of
invocation calls ten years it's gonna be
a fraction of some sense but if it's 1
million users might be a few I'd never
remember thee either the amounts but
it's it's gonna be a few well
technically there's two million in
vacations among zero for your hero
million so you you still have time you
know to be famous and have a popular
website generating cartoons and then
after the first two million invocations
yeah we're gonna have to pay some sense
or dollars they are different types of
cloud functions they are basically two
categories so purely synchronous
functions and directly synchronous
invoke able functions so the first ones
the first one reacts to for example
cloud storage evens so as soon as you
upload a picture of yourself on this
carton service or application then the
your function is going to be triggered
another example is if in your on your
platform you're gonna have you're gonna
use the cloud pub/sub service to do the
messaging each time there's going to be
some kind of message that appears on a
topic then again you're going to be able
to invoke a cloud function and the
synchronous functions with HTTP you
actually already
have four for you if you declare your
functions to be triggered by via via
HTTP you're going to have a URL for your
function so anything that can call a URL
basically will be able to invoke your
function synchronously called functions
use cases let me highlight a few
interesting use cases if you those who
are using something like github for
example are suddenly familiar with that
with web hooks you can tell and instruct
github to ping a URL of your own
if something happens so for example
let's say someone start the open source
repository of your cartoon generator
then perhaps you want to tweet something
about it yeah one more star on our you
know account so you may have a function
that reacts to this call made from
github as soon as someone starts your
repository another aspect if you have
some small API is for example you want
to expose quickly some logic so that
people can can call your your your
service you can expose a cloud function
just because you know with the when you
expose it via the HTTP trigger then you
have a URL call so you don't need any
other additional service like a gateway
or something like this your functions
are invoke able very easily and quickly
let's say you have perhaps invoices
coming up or some kind of files that are
coming up that you store on Google Cloud
storage and perhaps you need to extract
some metadata for example the the
amounts the the the amount of the the
the invoice or something like that and
then you want to store that kind of
information in a data store so again you
could use functions to be a kind of
lightweight extraction tool solution
another popular topic these days it's
IOT let's say you have tons of devices
like you push a button and it's going to
generate a picture
or something so let's say each times
each each time someone hit that button
or let's say we've got various sensors
temperature temperature essentially
since sensors not sure how temperature
is related to Caltrans but bear with me
then perhaps you're gonna send some
event and then you're going to invoke a
function a little bit similar to this
idea of web books I mentioned it hub if
you have a complex infrastructure hosted
on the cloud and you want to react to
things like perhaps you build some
docker container some you know the
various bits and pieces of your
infrastructure you can also use cloud
functions to uh synchronously react to
the changes in your infrastructure - you
know plug into your CI CD pipeline all
that kind of things functions are a
great solution for reacting to such
events and basically it's quite simple
so let's look at this little example
here it basically just three lines of
code you just export a JavaScript
function and then you can well this one
it's an HTTP HTTP function so we're just
going to handle the what's coming out in
the in the request and on the output the
response we're going to send something
out and you've got the HTTP endpoint
available automatically with a secured
connection because of SSL TLS and that's
going to scale to matically as you have
more users coming up and with sub-second
billing Wow
that's pretty cool and your URL is ready
your function is deployed you just you
know hit the the function from your
browser it's fairly straightforward so
we showed the code but how do you
actually deploy it that little function
well there are different mechanisms
first of all you can use the Google
Cloud console UI from there in the
functions code function section you can
upload your code directly by writing
code in an inline editor with syntax
highlighting etc so it's not really an
IDE but at least for simple
functions it gets the job done but you
can also upload the the part of your
functions of your no GS project with a
zip file or you can also point to a git
repository in order I mean to each you
know developers usually use some kind of
distributed version system control
system etc it's a best practice rather
than cutting directly within the UI so
these are the way you can configure
things from the console UI or you can
also use the G cloud SDK which is a
common line tool which allows you to
deploy things from the command line and
all other another kind of deployment
it's a local deployment we also have a
local emulator two node modules that you
can install on your machine and which
allows you to run the function directly
on your machine why do that so deploying
cloud functions it's quite fast right so
it's not gonna you know you're not gonna
you know spend an hour waiting for
function to be deployed so it's pretty
fast a few seconds to one or two minutes
maximum but when you're developing you
want to see changes live and if you use
the emulator actually there's live
reloading taking in in action basically
so you as soon as you make a change
you're gonna see the change is live in
running it taking taken into account the
other cool aspect of the local emulator
is the the debugging capabilities and so
you can plug like the chrome dev tools
or any IDE to do you know the usual
debugging sessions and go step through
your code etc the fact that crowd
function is the sort of managed
environment you also benefit from the
other services which are part of that
platform so for example there's the
stack driver logging and error tracking
solution that's built in into the Google
cloud platform
so in your code you might have some
console log statements then those
statements will be collected and be
available via
the the console UI if there are some
input exceptions you didn't handle
something you will also be able to see
what was going on something I mentioned
about the logs is that you can also see
from the console the logs related to one
particular invocation so you don't have
to search okay where was my function
actually called in in all those traces
that I have now you can also see per
invocation just look the logs for that
particular invocation and then with
those logs you can do you can access
them on the common line the the the UI
or the rest api or you could also export
that to bigquery will mention bigquery
later on to do some further analysis we
also have monitoring going on so you can
look at the invocation account of your
functions you can look at the execution
time of your functions and things like
memory usage to see how your overall
application is performing with all those
little functions going on sometimes we
find introduction we mentioned App
Engine as being kind of like the the
pioneer in Southwest solutions sometimes
what I'm seeing with customers
developers etcetera is that sometimes
developers write beat fad functions I
don't know how can we is there a term
for you know monolith but the function
Maloney's or something I don't know
sometimes I see people you know oh yeah
let's we can deploy functions I'll be
I'll build a full app inside one
function well it's not exactly how it's
supposed to be used to better you know D
people that into smaller functions and
sometimes and I'm guilty of that myself
well I don't have to be ashamed of that
but I used to be using App Engine for
small services which were I mean in
terms of scope or business logic it was
small enough that it could be just a
function so what's the you know how to
choose from a path versus a fast
sometimes at least my take my role of
them is that something that's simple
small you need usually and something
that's even driven it's usually more a
function thing whereas if you've got
some bigger business logic or in
particular web from 10 or something like
that it is probably better as an
application on a platform
app engine and if you just zoom on
something like the scaling aspect with
an application you have to scale the
whole application whereas for example
with the function you might have like
the authentication functions for
authenticating users is not used all
that much but perhaps the reporting tool
that analyzes all the patterns that have
been generated perhaps it's used a lot
by the the salespeople or something like
this and it's those two functions can
scale on their own at their own fault
for their own needs so let's have a look
at a concrete demo let's say we have
some pictures here raccoon and we're
gonna invert cloud function as soon as
the picture is uploaded to Google Cloud
Storage then we're going to invoke the
cloud vision API to get some labels so
what's inside that picture oh yes it's a
raccoon that's in that picture that I
synchronously in parallel without having
to actually synchronize things together
orchestrate things together you can also
have another function which reacts to
the very same event and this time it's
going to take the picture but create a
thumbnail for that picture and store the
DeMeo into cloud storage and I'll let
you show sure this demo so let's
actually take a look at a live demo of a
pretty similar architecture toward you
I'm just talking about so we are going
to live whoops
take a photo so let's do well look at
that all those like okay I didn't
actually start it ah alright so we'll
count it down three to do something
silly all right that's ridiculous but so
let's go ahead and export this this
picture and I'm gonna drop it into cloud
storage so we weren't able to get car
tuna fiying to work in time let me so
you know how it's like hard to use a
computer oh my goodness am i holding
something down all right so we're gonna
use the UI to upload through because
apparently I'm incapable of dragging and
dropping so similarly we're an uploaded
to cloud storage and it's gonna
immediately invoke similarly those two
cloud functions one to do an analysis I
have no idea what it's going to say
about that image and then the other to
resize it and do a thumbnail so let's
take a look here and whoops oh wait did
I upload it to the wrong let's try this
again because I was in the wrong I was
in the wrong bucket yeah
okay so let's upload it once more all
right so this is what photo 226 okay all
right and now let's look in here and it
should have created a thumbnail alright
so a very very tiny ridiculous version
of us and then we should also get some
vision analysis let me zoom this in so
you could see product event a recreation
all right fascial here but most
importantly fun in fact I'm curious what
what percentage fun 50% Oh so which half
of y'all is having fun I don't know but
we can do better and we can do better so
a question I hear a lot is just should I
use service there's a lot of advantages
we talked about right you're not
managing your own infrastructure you're
just caring about your own application
code but it's not always that simple so
should I go service cloud yes see you
see you outside well we'll get you
started
no just kidding there are definitely
some things to think about before you go
serverless if you have an existing
monolithic application you almost
certainly can't just lift and shift it
to a server list technology instead if
you have an existing app the best way to
approach it is to identify certain
pieces of it that would make sense to
extract into their own micro service
either it's something that is looking
for an a something that you could have
respond to an event in a cloud like a
file event or a message coming in or you
can directly invoke it over HTTP so if
you could extract something into a
service then that starts to to let you
slowly migrate pieces of your app to a
server list environment similarly though
if you're starting a new a greenfield
application like go nuts something else
to think about if you have long-running
compute tasks so right now cloud
functions timeout at a maximum of nine
minutes so if you're rendering the next
you know Pixar
movie we may be using this cool cartoon
technology that we totally wrote it's
it's probably not a good use case you
know nine minutes as a maximum moreover
if you just have long-running compute
and this is just true in general it's
generally going to be just cheaper for
you to create a virtual machine and just
run it for a long time to do some kind
of tasks these are designed to be these
quick ephemeral is spin up they run they
spin down that type of use cases some of
if you need a guaranteed response time
this may not be a good fit by which I
mean if you need like very consistent
performance so one of the advantages of
server lists is that it scales to zero
which means if your functions are not
actually running you don't pay anything
which is which is great but it has these
sort of drawback that the first request
that comes in it may take a bit to sort
of spin everything up just serve that
first request and it's not very long
it's on the order of like a second or
two potentially but like if you need sub
second guaranteed response time all the
time you can't necessarily guarantee
that so it's not a cloud fiction it's a
cult function a cold function yeah so
yeah it's called a cold start exactly we
do our best and we're you know working
to get that better and better but it's
just as right now sort of the reality of
the server let's ecosystem and then
finally they need to be stateless or
ephemeral it talked about this earlier
but if you have existing code that just
assumes for example if I write something
to disk
the next time my function gets invoked
that'll be there it's not necessarily
the case it may or may not be because
we're sort of spinning up and spinning
down instances as load changes so if
you're gonna store a state you need to
store it in something like a server list
database or a distributed file system or
something like that
and you can cheat a little bit right
like if you want to do some kind of like
local caching and pre-compute some
values and save it and then the next
time your function runs it just checks
is it exists
okay cool that saves me a bit of time
but if it doesn't maybe I need to redo
it right so you can't assume that
anything you do in this particular
execution of this function to like the
operating system going quote will still
exist because it might be an entirely
different instance so just kind of some
things to think about as you're moving
towards a service application and a
service architecture
so that was functions as a service or
not yeah service as a service hashtag me
SS but what's the other kind of
surrealist so this is called back end as
a service so back into the service it's
kind of that first category we talked
about these are these are things that
you can integrate into your application
easily and so we're going to talk about
three of these briefly we're going to
talk about using firebase as a database
and bigquery as a big service big data
analytics warehouse tool and then a
conversational tool called dialog flow
and these are all service tools you can
plug into your application so first
let's talk about firebase is anyone
using firebase a couple cool is anyone
heard of firebase anyone else okay a
fair amount so firebase is a
cross-platform SDK and sort of suite of
tools from sorting supporting Android to
iOS to web there's also a unity plugin
if you're doing things for games and
there's also a C++ if you need to do I
owe T or embedded devices so what is
firebase do it does all of these things
we're not gonna talk a lot about them
I'm not gonna talk about all of them I
mean we're gonna kind of deep dive into
one which is the database specifically
just to give you a sense of just a
compass the mindset of back-end as a
service these are all things that
normally you would have to write for
your application and most people have to
write so sort of that common
functionality has been extracted out and
firebase can provide it to you as a
service it's great and it gets you up
and running to build applications really
really quickly
so like I said I'm gonna focus on one
which is the real time database so this
is a server list no sequel database it's
JSON base and it's its service in the
sense that it scales for you you don't
have to manage any servers you literally
just sign up and you start interacting
with firebase but it's killer feature
one that's super super cool is it's real
time synchronization so if you have an
application with multiple users say on a
tablet and a desktop and a phone and
they're all talking to the same database
any change you make in firebase almost
instantaneously will be pushed to all
the connected clients it's really really
powerful and normally we take a lot of
work you have to set up all the web
servers and do web sockets or long
polling if it doesn't support it and so
I'll do a quick demo of that here in a
second one thing I like though living in
New York City is that
it has offline support specifically for
Android iOS from mobile devices and
we've probably all been there you're in
the middle of using some app and you
lose connectivity and your app just
crashes it just bombs because they just
assume you have connectivity or they
have a whatever termed life.i which is
your phone says yeah of connectivity but
like it does it not really and so it
just gets into this weird state so
basically a firebase will queue up all
of these changes you made to the
database and once it gets connectivity
it'll take care of synchronizing all
those up to the cloud and then any
changes that have happened up in the
firebase database while you are offline
you'll de then push back down to your
device and it works really really well
it's quite powerful so let's do a quick
demo so here no this is not it
so it's not a very sexy demo but it is a
demo where I'm gonna dynamically change
this title where it says firebase demo
so when a value changes in the firebase
database in the cloud
I want my client to automatically update
so the important thing to notice here is
I'm gonna do this actually with not only
not managing any servers but not writing
any server-side code at all zero so
sometimes I like to joke that firebase
is more serverless than surrealist
because in this case you're doing
everything client-side as far as code
and this is good from the perspective of
you want to spend time in your client
because that's what the users are
interacting with right so the better you
can make that experience for them the
more time you spend in your client the
better your application is going to be
so just by way of illustration here is
literally all of the code of any kind
there well there's some connection code
in another file so this is all
JavaScript and again it's running in the
browser so I'm just listening to this
node called title anytime the value
changes it's going to actually fire an
event on the client which i think is a
cool like sort of mindset and an event
is happening in a cloud and all of your
clients get client events sent to them
so let's sort of show this off so I've
got the firebase database over here so
anytime this value changes I want this
to happen on the left but let's up the
stakes a little bit let's not actually
just have this in one browser let's have
it in multiple browsers so we've got
chrome up here on the upper
we've got Firefox down here we've got
anyone use Opera is always one guy yes
keep the faith my man it's coming back
it's always someone and then let's
actually just head it up here let's do a
little fake mobile device so these are
all now these are all like literally
running on my workstation but there's
actually all happening over the over the
Internet so these could just as easily
be you on your phone or someone anywhere
in the world on their device so instead
of firebase demo I will say hello box
and whoops and then hit enter and let's
see awesome well are these isn't
firebase awesome everyone huh wait a
minute
huh well it worked a second ago hold on
let me see make sure there's not a
JavaScript so now we're gonna do some
live debugging what's that itself a base
demo in the under database
something oh it said something oh yeah I
didn't change yeah Oh interesting oh
thank you I didn't actually notice that
let's try again that was on purpose I
was just seeing if anyone was paying
attention thank you hello
no box ah well three or four ain't bad I
don't know I actually never tried this
like random emulator I installed it
today so hold on so all of my demos have
now updated so anyway I don't know what
was up with the emulator but I think I
just got I think it was the Machine
froze or something um so that's super
cool right so with changing value
eventually in in the cloud it updated
and it pushed a client events to all of
those and one thing that's additionally
cool and this is new as of last year
we've actually integrated cloud
functions which we've just talked about
with firebase so we talked about cloud
functions responding to like file events
in the cloud or pub/sub events in the
cloud one of the other events they can
do is they can listen for firebase
database change events which means if I
do something like this like title two I
pre deployed this I will say greetings
friends and enemies of server lists I'll
hit enter and you should see a change
instantly but then a second later it
actually should invoke a cloud function
second later remember oh and it'll
translate it to Spanish for example
saludos amigos anyone that corrects that
a good friends translation it was in
amigos it seems like too good to be true
but it's a great word otherwise but it's
cool so again you can start to see how
these cloud functions are sort of the
glue that puts everything together
because they're being triggered by all
of these events so let me just back up
go for a second so there's a bunch of
events that in firebase the cloud
functions can respond to so database
which we just saw authentication events
so as users are signing up for your
application analytics which is sort of
like if you know google analytics for
web there's Google Analytics for
firebase which is for like mobile
devices so as users get to certain areas
your app or whatever you can actually
trigger an event in the cloud and the
function will run to and then hosting
which is like a big static CDN which is
really really cool so as requests come
in for certain assets you can have a
function that runs and then I'm not I'm
time to really get into it just very
briefly I want to talk about so
traditionally and Google we've had three
or two databases we've had firebase
which is the database that you use if
you're building a web or mobile
application and we've had cloud
datastore which is the database that you
use if you're just sort of running in
the cloud and cloud datastore is great
because it scales really really high has
really powerful querying abilities and
so we thought like wouldn't it be great
if we sort of semi combined the
advantages of both of these products and
had like a highly scalable highly
queryable database that also was did all
this real-time syncing and so just a few
weeks ago actually we announced cloud
fire store which is in beta which is
something you should check out if you're
interested in alright so that's it for
firebase so you want to talk a little
bit about one more about a service and
I'm actually gonna use the functions
from from firebase in this example
dialog close so that's the the this tool
for creating conversational interfaces
for you know your chat BOTS and there's
a functions integration that's been
added pretty recently just you know a
few weeks ago a couple of weeks ago and
there's in the in their dialogue flow UI
there's actually
new area where you can just like on the
cloud console UI but here in dialogue
flow you can actually put the business
logic that you need for your chat but
directly within the within the the
dialogue flow console UI and I'm gonna
show you that concretely but I'm gonna
need a volunteer who's ready who's doing
some fitness so it's gonna be very fast
but I need someone to step up and play
are you gonna make me do it yeah
although wise it's gonna be impressed
yeah
anyone I should have said that because
now they're like they want me to do it
yeah
so where is it it's here so I have so
this is the volunteer yeah all right so
I created a little here so I've got an
intern so people come and I'm gonna say
hi we're going to so I've integrated
that with the Google assistant actually
so the the job will be to do some squats
for a certain amount of seconds it's not
gonna be it's not it's not gonna be long
so okay let's do some squats and then
for how many seconds and I'm gonna reply
but the thing is that okay is that when
someone replies I need to craft response
to prepare the training session and I
need some logic for that so that's why
here I've used I've been using the crowd
functions for firebase integration and
then I'm creating so I've got tick-tock
sound and as many seconds as you have
replied I'm gonna play the tick-tock
sound okay so I integrated that in the
actions on Google here and okay which we
should probably
sorry just point out that the actions on
Google this is creating custom actions
for Google assistant yeah so if you've
seen Google home which is like the
little you know talking candle thing
that we have Google assistant runs on
that via the voice or but also runs on
the phone and Android auto in your car
or Android wear and mobile devices so
yeah okay so it's done Tok to squats
muster
okay here's the test version of squads
master okay let's do some squats for how
many seconds how many seconds then is it
okay ten okay let's do ten ten seconds
ready for 10 seconds of squats go and
you can have that relations all right
yes I showed that good all right here
back in slide mode all right
thanks thanks a lot so that was one
example of using pod functions in non
other context and using chat BOTS and
another example I'd like to show you we
mentioned a little bit bigquery a couple
of times already imagine now nine
analytics data warehouse solution it's
very complex to run to a parade to
manage etc but at on Google cloud
platform we actually provide a tool
called bigquery which is a kind of
analytics that our warehouse as a
service managed environment so you don't
have to provision anything and it's able
to go through terabytes of data in mere
seconds you're using just a simple
sequel syntax it's interpreted with many
languages and you even have a free quota
of one terabyte or two to go through the
data so I'm gonna do a demo with
bigquery oops I hit again so it must be
here so let's say and I'm gonna look at
the the github archive which is
available as a free public data set on
the through through bigquery so do you
know how many Java files there can be on
github although although all the other
repositories that there are available
won't give any any idea one file 1
million 1 billion nobody okay so let's
run this little query a simple sequel
query throughout the the bit of data set
so there are 56
million files Java files on github let's
do something more interesting perhaps
the number of repositories with Java
files any idea if we have 56 million
files don't be shy you know three
million something like this so let's see
there are three 380 mm repositories it's
it's only open source
you know project so it's not your
private one but that's interesting and
I'd like to finish with one last little
query about maven versus Gradle so I'm a
big fan of Grails you might guess with
my Apache groovy past experience and we
are hearing from the Gretel advocates
that's you know Grail was gonna take on
maven and gonna be you know there's
there are gonna be more projects you
know using Gradle versus maidens who do
you think maven is still ahead or is
Gretel already on top of maven great on
the head man on top you should ask who's
using you know or who's using Gradle oh
yeah who's using maven oh it's bright
now it's been using our cached results
so if you do show options yeah and then
uncashed so yeah
so talking about several is how billing
works in bigquery is it's like how many
what how much data is it literally
querying and that's what you get bill
done so what do they do
oh no that oh no because I remove the
alright okay lets me do that again sorry
up and this way we can see how much data
if you're actually looking at in this
query so look so it's gonna take a few
seconds but it's gonna go through in a
few seconds it's gonna grow through a
hundred and seventy three gigabytes of
data in 40 and 40 in 40 doing and doing
wild card matching no it's doing just a
you know regular expression on each and
every
yeah well welcome watching sorry so yes
maven is still ahead but not by such a
big margin alright alright so just kind
of wrapping up we looked at a bunch of
things like what is the ecosystem of
server lists what are some of the tools
what is the back end as a service
sources function as a service or the SS
not yet a service as a service platforms
as a service just kind of how it all
fits in and fits together
so I put a couple of use cases that we
see people using completely serverless
architectures particularly on google
cloud using some of our tools we also
have this available at Google cloud
google.com slash server list if you want
to see what your use case is and what
some of the server list tools are that
are available to you so I also want to
point out of all the demos that we did
just to encompass the spirit of server
lists we didn't manage any servers we
just wrote code before we started all
these demos today we were not paying
anything there were no resources
provisioned as soon as we started the
demo where there's a big query query or
a firebase web load it's scaled from 0
up and then once the demo is over it all
scaled back down to 0 so very very cool
and I think a big sort of paradigm shift
and how you build applications and so
kind of tamiya sort of a parting thought
people ask what does it mean to be a
service application more than just one
particular tool so a server application
is just composed of on-demand services
and micro services some of what you
write some of which you just consume but
all of which have an invisible
infrastructure and you aren't and
managing any of it at all so with that
being said here are some resources if
you want to learn more about it and
stuff we talked about or you can reach
us on twitter at geo forge or at brett
MCG and thank you very much all the
Google cloud booths you want to further
you know discuss with this and we have
stickers yeah and we have stickers all
right thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>