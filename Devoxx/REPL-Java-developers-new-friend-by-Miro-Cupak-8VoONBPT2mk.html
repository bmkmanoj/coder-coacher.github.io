<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REPL : Java developers new friend by Miro Cupak | Coder Coacher - Coaching Coders</title><meta content="REPL : Java developers new friend by Miro Cupak - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REPL : Java developers new friend by Miro Cupak</b></h2><h5 class="post__date">2017-04-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8VoONBPT2mk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody thank you for joining me here
today I know it's a long session so I
appreciate the sacrifice my name is Miro
to Prague I'm a software developer at
DNA stack where we were building a cloud
platform for genomics but i'm here today
to talk about jay chou je show is
something that i started using a couple
of months ago and it's basically made
its way into my day-to-day usage so far
we've useful to share this experience
and basically do really fast-paced demo
of what Rachel can do hopefully using
some cool examples so Jael is java
implementation of rebel so read eval
print loop so it's basically a tool that
loops and continuously reads your input
evaluated and prints out the output so
thank interactive shells as you know
them from other languages to the Scala
groovy item so it's particularly good
when you need to do something very
quickly so let's say you're doing some
better matching you're writing a regular
expression most of us would need a
couple of tries to get it right so it's
a perfect example of something that you
could evaluate using rebel traditionally
before Jay show you would have to create
a test case or create a class in your
code at the method put the code there
compile late-round age then if it
doesn't work go back edit the code
compile and run it again with Jay so you
can basically just type the statement
and you immediately see the result so
you don't need to wrap it in a method in
a class and all that stuff so it's
really useful when you're new to the
language you're just starting with Java
racial can get you to basic hello world
program pretty quickly you don't need to
worry about concepts such as the main
method classes compilers all of that but
it's also pretty useful for experienced
developers when you're prototyping just
sort of creating more and more complex
code Jay show is a really good cool tool
that takes you that first mile it's good
it gets a bit awkward to use when you
start doing some complex things but it's
not an ID and it's not meant to be an ID
it's also really useful for exploring
new api's on language features and just
in general when you're switching
technology stacks you did a project in
Python you're coming back to Java in
either reminder of how something works
it's really really easy to prototype
using a shell and that's far that's as
far as I'm going to go with slides so
I'm going to switch to something that I
usually try to avoid doing during a talk
and that's a live demo so what I have
here is JD canine this is the font size
okay is everything redouble by the way
great so this is built 159 so it's
probably a week or two old and seems
quite a few bills ago jdk comes with jay
chou bundled in so i can just run it
here it's in my java home it's on my
path and you can see the prom coming up
so the first thing that you should know
about jay shell is that it accepts two
types of inputs there's snippets so Java
code that I want to evaluate and there's
commands to the tool to the J shell
itself and these always start with a
slash and we're going to show a couple
of these but let's start with something
really simple I'm just going to do
simple expression 2 plus 2 and you can
see two interesting things here first of
all two plus two equals four which in
retrospect is not that interesting I may
have oversold it example but you can
also see that it designed to something
called dollar one and dollar one is an
implicit variable that Jay shall created
for me and it does that whenever you
have an expression the result of which
you don't assign to anything it just
creates a variable for you and I can use
that in my own expressions i can create
an explicit variable and so it's going
to be dollar one times ten and you
consider it sporty i can also modify a
dollar one which might seem a bit
counterintuitive at first that the
employees variables are also mutable but
you can definitely do that and that
brings us to the first command which is
worse the bars commands lays all the
variables that i have defined and rachel
has this prefix matching on comments so
you can just do with unique prefix and
it's going to execute the command so
let's say I can do something like this
and get the same result so these are
very simple expressions let's try a
couple of statements
so let's do a simple hello world system
out print line how old the box and here
we go you might have noticed that I
haven't specified a semicolon at the end
Rachel takes care of that as long as you
have sort of single statement snippets
you also don't need to worry about
checked exceptions you can do something
like sleep for let's say two seconds and
it's going to go through so let's say I
want to find what the current time is
i'm going to use zone date time for days
and its method now if i try running this
jco tells me that doesn't know what this
is and i need to do an import which is
fair enough so I'm just going to import
Java time and run it again and it goes
through but this brings at an
interesting point I had to do an import
to manipulate time but I didn't have to
do anything to just bring stuff out or
manage threat and that's because Rachel
comes with a couple of default imports
and there is a command as you would
expect / imports that allows me to reach
those so there's a bunch of them there's
sort of initialized at startup and you
can customize this and then there's the
one that I did right now so that's farce
and imports in the first two commands
there's also methods and types for
listing methods and classes respectively
so let's try to create a few and see how
that works so I'm going to create a
method to say hello it's going to take a
name and it's going to return hello and
the name you gave it so it's here I can
try calling it
and I can list the methods similarly I
can create a class and you might have
noticed that i'm not using access
modifiers anywhere that's because
they're basically ignored at this level
so i'm going to create a class called
how will printer and just give it one
method public static void say hello and
make it prints to standard output so
let's do this hello the box and i made a
typo somewhere yes thank you great so i
can list the types can call the methods
and everything works i can also manage
on my snippets from here so i can decide
to remove the methods and i can for
example edit the class which brings up
an editor and i can take advantage of
you know proper formatting invitation
things like that yeah you can also
change it and instructional to something
else but by default it's just picks up
whatever you have in the editor variable
so I'm just going to do something like
this you can also open external files
and I actually prepared one here we show
you the file it's very simple there's a
single class it's called hello handler
and it implements the HTTP handler
interface from the jdk you will find
implementations of this injector as for
example but i just created a really
simple one and my handler basically just
takes a request and always responds with
200 everything is okay and it touches a
greeting ending the body of the response
and the greeting is always just to hell
of dialogues so i'm going to use this
HTTP handler to show two things i'm
going to show how to load this external
snippet in today's show i'm going to
show you how to create a simple HTTP
server in Java which i think is a good
example because that's something that
people usually
thing is really complex to do in Java
it's going to take a lot of code but in
reality it's actually very simple and
you can do it with plain jdk so let's go
back to Jay shell and let's open the
file I'm going to use the list command
to show me all the active snippets so
there's stuff that I did before and then
I at the end have my handler so
everything was lovely properly so now i
can try to create the server and i
remember there was a static factory
method on this i don't remember the
parameters position tells me i need to
give it a porch let's say eight thousand
and that's basically age i'm going to
add an endpoint let's call it / hello
and i'm going to attach my new favorite
handler to this there we go and now i
just start the server so if everything
went through correctly i should be able
from n-terminal to do a curl request
against localhost 8080 we see hello
ducks so we've seen how to explore stuff
in the JDK and how to load external
snippets what we haven't seen yet and
that's where the power of jail she'll
really is is exploring first by to party
libraries or just playing around with
your own code and that's something that
you don't usually see in examples but
it's actually pretty easy to demonstrate
so what I have here I don't leave your
jar file of guava which most of you
probably know it's a pretty cool library
from google that basically bundles a
bunch of cool utilities for doing
various stuff with java it's it's very
useful one of the useful things that
they have our immutable collections so
we're going to try to load it and
explore the API a bit so I'm going to
modify the context and at my jar file on
classpath conveniently I have it in the
directory where such detail from so this
is pretty easy i'm going to import
collections
which is income google come and collect
and now i'm going to try and create
something immutable there's quite a few
things which is going to do set and use
one of the convenient factory methods
here that allow you to create small
sites of various sizes so I'm just going
to do something like this and we have a
set and this is actually a nice segue to
a completely unrelated feature in jdk
nine they edit these static factory
methods and collections so now we can
actually achieve a similar result just
by using jdk so i could could have done
something like set of 123 and indeed if
i call get class on this so any musical
collection from what in the jdk so I'm
going to leave you with the history of
everything that we've done here I'm
going to export it to a file and post it
on Twitter somewhere just in case you
want to come back to this because I
don't really have proper slides and
that's basically it so if you want to
know more about Jay she'll definitely
tried to help command shows you what the
available options are I haven't covered
a bunch of things and they stoled
because there just wasn't have space I
haven't talked about navigation there's
a bunch of cool shortcuts for incurring
variable types for shopping javadoc or
just you know browsing history searching
in history that sort of thing and I
haven't talked about configuration at
all you can also customize a few things
around jay chou je she'll also has an ID
I and a really cool exercise is trying
an explorer JSON API from Jay shell and
if you want to do that you should start
with the jail class in this package here
there's also check to 22 which is the
Red Bull job it's a pretty good reading
they describe the motivation for
creating the tool and just overall how
it works so definitely check it out also
check out project Cola which is a code
name for the Red Bull project in openjdk
they have a mailing list there
some more information and then tomorrow
there's a longer full 50-minute session
about Jo given by Robert here and he's
the lead engineer on Jo so he definitely
knows what he's talking about so if you
have any questions please the ragged I'm
Robert no please do at the Bell I could
you are any of them okay great thank you
and if you have any questions I'll be
around</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>