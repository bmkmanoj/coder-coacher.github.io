<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Managing Apache Tomcat TomEE with tFactory by Cesar Hernandez | Coder Coacher - Coaching Coders</title><meta content="Managing Apache Tomcat TomEE with tFactory by Cesar Hernandez - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Managing Apache Tomcat TomEE with tFactory by Cesar Hernandez</b></h2><h5 class="post__date">2017-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RbcelBn_1dA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so welcome we're going to start the
topic of today is managing Apache
content atomic instances with tea
factory so for those who don't know me
my name is Sarah mandes I am a software
engineer for conforto me drive and I
have a champion and the last year the
prick that I am presenting you yeah it
was awarded with the Duke choice of
words in Latin America and you can
follow me on all these social media
channels the agenda that we are going to
cover today is we are going to start by
seeing the the landscape that we have
four different tools to from different
perspectives they usage the technology
the commercial versions available and
also the develop side of how we can
manage apache tomcat and a particular
atomic instances and then we're going to
see what we can do with the factory some
common juices cases the scenarios the
features and the general detector along
with that with a with a short demo we
are we have a short time so we need to
make sure we can cover everything so
when I started to to thinking about
about the project the first thing that I
think everybody tried to do first is to
see what is the Korean estate at that
moment was that late 2013 according to
the Christian community survey more than
sixty percent of the Java applications
are we're being development with apache
tomcat we also have on the right the
rebel labs report that they produce
every year and in that graphic you can
see that apache tomcat is getting fifty
percent of the of the of the toolset
that is that was currently use it at
that moment if we for work a little bit
the statistics we see that the landscape
report for 2016 for the trouble
report is still showing a lot of
traction for apache tomcat then i also
research and clumber has another market
search statistics that is showing again
that tomcat is more alive than ever
before so that's that's one of the
things that we in the project we'd like
you to keep you to get updated with so
you can take advantage of of the usage a
brief history about how tom cat and has
been evolving throughout the years day
and also how apache tomy in 2011 started
to growing with all the community and
all the contributors currently today we
are in Tomcat 8 5 11 and a bunch of
dummies on 703 in which when we do a
real little research about the
commercial side of the tools that
currently we have for managing budget on
sat on a potato me we we see that we can
segregate in different groups we have
profile tools that could easily
throughout DMX p.m. recollect data for
us to check how the internal components
are behaving jbm we also have management
part of tool sets that allow us to do
configurations deployment data sources
all these kind of configurations and
multi service environment some of the
examples we have on the right side there
are many others and since the past 45 45
years we starting to get more traction
with a DevOps concept in there you are
seeing some of the currently trends of
how you can manage infrastructure not
just not just application server were
actually infrastructure so so this had
this also has been providing to the
entire industry more alternatives and
uses cases to
apply this business concept
configuration I put in management
because management goes as a prefix in
all the holder column that is that
configuration the point and security
data sources multi-server environment
when I when I embedded to talking jokes
about the project I like to call it like
no person is an open Sorak but I like
you to talk about it at as a tool that
you can use for manage apache tomcat and
Thome instances in a very easy way we
know that we have all these fancy tools
and height extra tools that we currently
have it good with today with the
convenient tool set that we use but the
people ask me what are the common use
case scenarios that people face in day
to day at work to use tea factory so if
you give each one of each of these
questions all the other tools can bring
kind of kind of the answer for that but
there are so many organization that
currently are mostly in Latin America
are not so eager to adopt new technology
so fast like the containers and I think
that there is a global feeling also but
we need to be aware of the region when
when we also are trying to implement new
new technologies and methodologies so
one of as I am presenting here some of
the questions the same questions are
starting to provide the features that
the tool has for example if you are in
an organization and you need to do a
report of how are your instance is
behaving it doesn't matter if the
instances are deployed on a easy to
environment or a docker containers or if
all the premise and private again there
are some things that management that's
when the tolki look at the with manage
and they took the talk has the title
management the people that is so focus
on level there are some focus on doing
it faster
to look like a cold but sometimes the
management Park who has another view
that I need the report that's what I
need to report to see how many
infrastructure we can acquire or scale
or see if we can take advantage of the
usage of it another thing is for example
create a new instance everybody when
sure they work Rainier instance we can
we can think about for example let's
create new doctor containers but what
happened is the organization is not
using docker containers for some
organization this might they might be
using hypervisor that being that means
let's trigger another neutral machine
even though the industry's go moving
forward to containers which we cannot
take prevented that all the
organizations and companies are using
drying out containers and there are
other group of companies that currently
are manually building up their own tool
sets to try to deploy new application
new new instances without even gay beams
so if they are legit in JVM they are in
using hypervisors they are not using
docker containers that is that that that
that slight of the cake is when the
factory can can be can be a very useful
tool to use create instances with custom
settings based on templates the reports
that I mentioned and this to end and how
we can manage this in a distributed
manner how the features that
self-described the previous question was
are the creatures that the software has
how to remove new servers I'm going to
show in the next slide a general
architecture diagram that describe the
concept of t minus 3 factory agents but
just by the names you already I think
you have the idea how these things work
how to register and register instances
that have been already created before
how we can create new instances on those
remote services
how we can manage the catalogue of the
instance that we want to deploy or my or
maintain and these are just to have
configuration tracking of what is
happening at this moment we we can
update server.xml variously all the
other configuration files that Patrick
competence but it only has are on the
road map for everybody to contribute and
be a graphic user interface well we
added the international
internationalization as one of the first
features when we start to play back in
2014 in terms of the general
architecture well we follow the approach
of having one server and then on the
remote nodes or service that you want to
install and manage the instances on
those who are going to need to install
the agent that basically is not not
intrusive agent this is not a work that
you're going to deploy inside of the
server that you wanted to manage like
other instances so this is not intrusive
in the sense that is just like a robot
that is going to start to listen to
whatever the server is going to instruct
instructed and that allows also to have
a nice kemah of having our own premise
server with the agent so you can manage
different instance on top of it on
virtual machine and also in containers
it is exact Gnostic to whatever you all
have like the base but upon further
further infrastructure I'm gonna provide
you with a brief demo
so this is the two pages that we have at
the moment the first one is to add or
register new servers remember that we
have we have first to register each
server that that has already the play of
the engine in this case I have
everything here in my machine for demo
purposes so I have also the agent
running here the asian is a basic is a
basic jacks or a 10-point so it is
nothing that you already know nothing
different after you register the server
well you can to information about it the
version of the agent that is running on
the remote servers and you can get the
status of the agent it if the Machine
goes down low obviously they the agent
is going to be also down from there you
can in this case create instance that is
one of the features that we mentioned
and as any other graphic user interface
world you select first the server which
you want to create a new instance the
type of instant that my current catalyst
has for example is great and your chunk
at seven then we we can select the
version or or the template that we want
to apply and then the JDK version that
we want to use for that deployment I'm
going to my g7 then you can select basic
configurations we are using july eight
well the firm space is not going to be
too much useful but another another cool
cool feature that we have here is that
the agent on the remote server it says
it's able to twist can provide you the
available ports that you provide to
provide the range in the configuration
of the server and the agent gives you
the available ports that are on the
remote servers when i was doing
consultancy a few years ago I found that
this is this these are some of the cool
question to us too
two people in operations because they
are we have an axle we have a
spreadsheet and we shared their one of
the available sport would actually keep
tracking of that this is not a scalable
so here we are taking advantage of
actually they they tip factory agent
taking that job for us and then we have
a summary of the instance that we are
going to create and as you can see we
have the basic information some
filtering by naming of the local host
name of the of the name of the of the
remote server I'm going to create
another one just to check me out of this
cover pork feature this case I'm going
to create and we'll talk at eight u t8
instance ok default and as you can see
the ports were out assignments this
basically went to the agent the agent
check what what what was the the range
of port that I was available to choose
from where with which part was available
and then it tripped the matrix of the
other ports one useful thing that I have
had on on some talks when I do this demo
is that at this moment the instance are
not running so it's also very useful
because the items are not running how
you can have how you can keep track of
the visibility of the botetourt at the
moment we cannot start the instance from
here we need to go to actually today to
the location of the remote server and it
starting instances but that is something
that the current architecture can
support as many people start to
contribute to a break for existing
running instances we have the concept of
register existing comes in so for that i
have here a tomcat nine
and at the moment the way we have how to
register instance you to provide the
foot pad on the remote server that we
are working on so when I was doing
consultancy services many people have
like this concept of organizing how the
instance are deployed so this is this is
like the first stone that we can put in
there to build something on top of it
again because the instance the port
instant of the ports that the current
instance is using are between the range
that one we have it will shows a green
light if the agent to take that okay you
can add that distance from because he's
from another server that doesn't
interfere with a with other words that
are currently running the configuration
at the moment that we have is the
Refresh interval for the monitoring
pages monitoring the port range that I
was talking about also the available jtk
versions that you can install along with
the template that you that you have and
the same the path where those systems
are going to be created and remotely so
let's start one instance to test i'm
going to start this gt8 she will be
created here
so at this moment as you can see we have
I had a previous very new t7 before I I
start a the demo we have the instance
that we created based on a tomcat seven
and we have the internet we create on
Tomcat 8 so from here I can go to elect
a new TT 8
ok
and as you can see the port that was
used for the instance is the one that
the factory in this case assignment with
the agent so there is no no issue at all
to to to step with another port that you
already have in that remote server
the road map that we have for for the
project currently this is stored in
memory so obviously we need to improve
their the persistent layer
authentication and authorization the
locust improvements are also that that
we found that is it is something that
the pregnant adjust more parameters of
the core of the instant that we are
creating configure flight configuration
of the jmx port another another another
and other configurations just completed
cetera and over jar if they if you don't
want to deploy even want to send an
entire spa be cheap file 12 the network
data source management real-time
refugees your interface for editing the
configuration that that we saw so again
the purpose of the project as you cease
providing a sometimes we don't we don't
need a automatic accrued Iverson's we
need a small one that can actually do
the work that we that we need to do and
this is the purpose of the plague how to
contribute into a break well we have the
github io web page the github and the
twitter account which you can send any
type of questions or your what you if
you want to try there is already the
links for don't let it not just the
agent but also the server so far i am
from Guatemala and i had a collaboration
from alex lopez from columbia the other
commuter so he added some some of the
features that you saw today and we are
looking forward to have more people
involved in the project that can benefit
from it I don't know if we still have
time for questions for too many
questions I don't know if anybody has
any person
how to factory wife t because tom cat
Tommy you know and factory because it's
like a factory Oh instances yeah right
anybody else okay thank you so much for
your time for being here we have some
cool t-shirt to me try two shirts so
feel free to come on pass by and grab
one or two yeah don't worry so thank you
so much havoc I have a good have a good
day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>