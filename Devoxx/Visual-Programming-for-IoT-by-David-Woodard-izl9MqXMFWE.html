<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Visual Programming for IoT by David Woodard | Coder Coacher - Coaching Coders</title><meta content="Visual Programming for IoT by David Woodard - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Visual Programming for IoT by David Woodard</b></h2><h5 class="post__date">2017-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/izl9MqXMFWE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so my name is David Woodard I'm an
engineer with eurotech focusing on our
IOT opportunities mainly in software but
kind of branches over into our hardware
products as well
some here today to talk about a sort of
new paradigm and I tee application
development that's based on visual
programming like data flow model
programming just very few people in the
room so we'll make this may be
interactive how many people here have
actually heard of eclipse kora or have
used it perfect so I can skip those
slides so today we're going to be mainly
focused on industrial IOT this kind of
why this product came to be but it's not
you know it's not a requirement to use
this is more of a general methodology
that can be used for any IOT solution so
as I said you know this came about
because you know we do a lot of business
with industrial customers and you'll
hear things like AI IOT and IOT or
industry for ATO and this is kind of a
roadmap of what we're talking about
right so it's the generations of how we
came to be where we are in
industrialization so you know we started
with just plain mechanism mechanization
through steam and water those kinds of
things we moved from that to mass
production so repeatability started
getting some of the human error out of
production then came robotics so you
know most most factory floors now you'll
see all kinds of robots and smart
devices doing some of the dangerous and
repetitive jobs and these scenarios
which brings us to for auto which we
bring connectivity to these into these
systems and that is at the heart of an
IOT solution
so from our standpoint when we look at
IOT products and IOT solutions on the
market you know there's some serious
challenges
if fragmentation so lots of different
protocols lots of different disparate
devices that are trying to get connected
you know you see complexity like some of
these systems can be incredibly complex
and lock-in which is one of the worst so
some vendors will come and say you know
we have an IOT solution as long as you
use it from the ground up and they
really interoperate with other vendors
which can cause limitations on what you
can accomplish in your in your solution
so for us you know we broke down the
complexity and the tiers and this is a
architecture you probably have seen many
times if you're in the IOT field where
the bottom layer you have you know the
the your sensors or whatever it is
you're trying to measure your PLC your
Modbus device whatever it may be at at
the bottom and here's where you're gonna
put some type of intelligent get way
some type of an intelligent product that
can speak all these different protocols
but also provide connectivity
you know upward but it requires more
than that because you also need you know
device management down on this layer you
need some intelligence to run your
applications possibly analytics down
here so you're not you know flooding
your cellular connection was data that
you don't need then if we go out one
layer like your integration platform so
this will be your cloud back-end
this is incredibly important for doing
your device management your software
rollouts aggregating your data and above
that is your your actual application
like what is it you want to present to
your user base be it your engineers or
your customers but for today we're
focused on this on the bottom layer
since everybody here so they at least
had heard of korah I'll be brief on this
but you know what Korea is is an OS GI
Java framework
I meant to run on one of these
intelligent gateways it's meant to run
on any most any kind of hardware it's
pretty can run pretty small devices I
know the original raspberry zero ran
fine on that so it doesn't have to be
really industrial hardware it can be
very
simple OpenType hardware but I can also
run industrial hardware it doesn't
really matter you know it's Java based
so as long as you can run the JVM you're
okay on top of that as Linux
right now we're would require Linux to
run the run the framework we're working
on Windows but it's been a little bit
tricky and of course you have Java OSGi
and on top of that swear choruses and
the key point here in the next slide
we'll talk about that more is the your
application what it is that you have to
do becomes very small because the
framework is taking care of a lot of the
connectivity a lot of the protocol
management and those kinds of things and
this is why we you know the reason we
went with Java and OSGi is for that
reason so we could be you know somewhat
hardware and not be Gnostic so the same
framework friends on the ARM processors
it does an Intel based processor
you know OSGi gives us flexibility and
marginalizing the framework so if you
need to update your application you're
only updating that piece of the
framework you're not having to do
massive software rollouts and updates ok
so more to the point so I do a lot of
customer facing opportunities and this
is the sort of train of thought I see
all the time as I go in and say yes we
can connect your PLC to the cloud with
this gateway and people get very excited
about that but then the next thing they
say is oh no I have to learn Java no SGI
and when you're an environment where
people were life taunt wife long you
know embedded C programmers or ladder
logic guys this this is this is a real
stumbling block for them not because
they can't learn it but they're already
you know working long hours and that you
know what is there you know incentive to
learn this new language in this new
framework so that's where we kind of
came up with this notion of you
abstracting away that Java OSGi learning
curve and put it in you know a dataflow
programming model so it's very simple is
very similar to what you probably seen
in node-red you know the drag-and-drop
connecting component
it's a completely different approach to
it so we're not trying to compete with
no red anyway this is all that this is a
a wrapper around an OSGi specification
so there's a thing in the West gie
called wire admin that does message
routing within the framework and we just
put a visual layer on top of that
so what we're calling it as coral wires
so it is like said us this wrapper
around this existing specification we
put a canvas into the UI and if you've
seen that the core UI then you'll know
what I'm talking about if not we'll have
this short demo that we can we can
discuss it but it just provides the
ability you know to connect these
devices without writing any Java code
right so it removes that barrier of
people being scared to get started in
something that they don't know little or
they know little or nothing about but
it's also extensible so you know if you
are a Java person if you are a know SGI
person you can still use this framework
that's what I'm saying this is not just
about industrial IOT this is all you
know Java code Java standards you know
you can extend add your own assets and
components and wire up your own
application okay so that I'm just gonna
kind of show you show you what we've
done
okay so this is the korra web UI and
again i don't know if you've used this
or not but this is this is the
administrative page of the gateway so if
you're physically connected to the
gateway over some TCP connection this is
the UI you get and from here you can
program the Gateway install applications
and do those kinds of things so what
we've added is this canvas which is the
core wires so what I've got here is to
save time as I went ahead and put
together a pretty small demo with some
of the components we have available so I
have you know at the top left here I
just have a timer which is just a right
now it's set to be just a you know every
was it 10 seconds it's gonna go and tell
the other components to do something
this could be set up as a cron type
timer as well I have a Modbus device so
this is the actual driver the actual
service that's going to communicate with
this downstream Modbus device and right
now what we have is Modbus and OPC UA
but we're working right now on siemens
s7 and we're gonna keep adding more to
the store I have a publisher so this is
just gonna publish whatever comes out of
my Modbus read to the cloud I have a
database it's an own device database
that's going to also store this
information and then I can filter my
database so just using standard sequel
as you can see down here your standard
sequel queries I can actually query my
database and start putting some
intelligence into my into my graph so I
can start looking for values looking for
alerts you know and then maybe sending
something to the to the cloud based on
that I stead of just sending all data
and then over here is just a simple
logger so something just to log to your
to the standard log4j Java logger ok so
what's it doing so what I have is a
Modbus simulator so this is a pretty
handy device
it's just simulating Modbus over TCP so
it's just sending data or holding data
in a red
that I can read from from my gateway and
this is your attack gore-tex cloud on
this does not dependent on your text
cloud I'm just using this because it was
easiest for me to connect to you but
this is where the data is aggregating so
I can look at you know so I can look at
the data is coming across if I go to my
Modbus simulator and just change the
value in one of the registers over a
couple of seconds and wait for the reads
to kick in you'll see it shows up live
in the cloud so pretty trivial demo as
far as what it's doing but the key point
here is that I did all that really with
three components I asked the mother zone
here but just the timer is a Modbus
driver and the publisher is really all I
needed to connect the Modbus device to a
cloud back in and I can tell you that
that is a very nice thing to have for
customers yeah you show them this and
they get very excited because there's no
Java I don't have do any programming the
things on the canvas and it's going
okay so that's where we are right now so
we just released our mouths tone release
of Korres Cora 3.0 milestone that's
available now you can get our website
and find it you can download it and try
it out for yourself when a raspberry pie
or whatever your hardware is the
official release should be coming late
April is what we're planning we're right
now we're in the process of sort of
beefing up the back end to make sure
it's really production writing so we're
changing some of the API layer things
but you know the canvas will remain
mostly the same so that's coming end of
April if you're interested you know
that's the github site the mailing list
which is monitored pretty frequently
we've got questions post there you would
definitely trances and the Twitter
handle it's just not as much activity as
it probably should happen so yeah that's
pretty much anything everything I have
if you have any questions I know we have
some time and it's a small Krauss I'm
happy to answer any questions or show
anything else in the in the in the
emulator simulator any questions yes
please
mmm wood from me from the different
nodes on the graph or from the actual
device at the hardware level that's all
I can get back and show you
so as far as connecting the Modbus are
the gateway to the Modbus that requires
a driver of some sort like you have to
have something that speaks my bus or
something that speaks OPC UA so we have
those available and in the Eclipse
marketplace so if you go to eclipse
marketplace you'll see under IOT Eclipse
kora you'll see things like ma bus
driver for Eclipse Cuero or a PC you a
component yeah so we so those are the
drivers that's what creates the
connectivity
down to whatever you're connecting to
and then at as far as between the
devices the actual nodes are completely
agnostic from each other so you can
connect any two nodes together it
doesn't matter the node just has to know
how to respond to you know the record
that's coming in but it goes but I can
take any component put it on the graph
and wire them together and it's
completely fine
whether or not that makes sense that's a
different story and if you wanted to
implement your own wire component or you
don't ask that that would just be
something that you would have to think
about as you know as you get this data
object coming in you have to be able to
process it and do something on it does
that answer your question okay
right so again this is not no trip so
it's a lot simpler than node-red
to do what you want to do the probably
the easiest way is just to create your
own wire component and then have the
java code do what you want you know I
can think you know one of the things we
really want from the community again
this is all open source
ember it's almost successful if the
community gets involved there's no
people to contribute to the marketplace
to add your own fire components or your
own assets so I could see something that
did exactly that is where you it was
just a kind of a dummy wire component
where you could paste in whatever you
know something the processes you know
JSON or whatever it might be because any
you know all these components have like
this these sort of input dialogues that
you can define so this could be just a
plain editor to which you could enter
something and have a process and in fact
that's what we do with the the filter
you know we have an input for you know
sequel query strings
so yeah so that the list on the right
will grow over time right now we just
have bare minimum components to do
things like this but we want to see that
grow over time so we can have more
functionality in the graph more possibly
like analytics and those kinds of things
that you can plug into the graph
so this is mostly like I said this is
mostly just based off of an OSGi
specification component so that was
already in the container that we were
running on the only open source piece
that we used was for the JavaScript so
this thing called joint J s so it's just
a graphing library it allows us to
create these boxes and wire them
together and the neat thing is all of
this is just a JSON this is just one
giant JSON object so down the road yeah
we we won't be able to make it so you
can download this you could upload it
into another you know instance of joint
J s running you know we have a mmm cloud
back in we're in the process of opening
open sourcing that as well so we think
that'd be really cool to have this
replicated like in the cloud so you
could do this remotely as well so but
that's really the joint J is really the
only other open source sort of
technology involved but it's just a
JavaScript library ok anything else
well call it good so I'll wrap it up
there thank you for coming and now be
around so if you guys want to talk about
it I'm happy to answer questions okay
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>