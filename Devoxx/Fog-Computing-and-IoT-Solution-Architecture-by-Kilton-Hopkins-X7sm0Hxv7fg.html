<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fog Computing and IoT Solution Architecture by Kilton Hopkins | Coder Coacher - Coaching Coders</title><meta content="Fog Computing and IoT Solution Architecture by Kilton Hopkins - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fog Computing and IoT Solution Architecture by Kilton Hopkins</b></h2><h5 class="post__date">2017-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X7sm0Hxv7fg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we'll go ahead and leave the door
open because I imagine some people
probably drift in and let's go ahead and
get started
now there's a there's a ton of stuff
that I want to cover here and so I'm
gonna move pretty quick and then
there'll be an opportunity at the end
I'll stick around if anyone wants to ask
me additional questions and if by chance
I talk too fast and we get done a little
early then great I'll be able to expound
on some more topics but okay so what
we're gonna cover here is fall computing
specifically eclipse IO fog although fog
computing in general to an extent and
IOT solution architecture and so just so
you know that there's some credibility
behind this who am i I spent a year
advising the city of San Francisco on
all things IOT and that resulted in the
emergence of a fog computing layer which
is something I'll describe to you in
this talk here I've been programming
since I was 8 years old and I'm
originally from Chicago and I escaped
the cold and now I live in the San
Francisco Bay Area and I'm currently
serving also as IOT program director for
Northeastern University so we teach IOT
and we just want you know the world to
be full of IOT talented people so I'm
also founder and CEO of a company called
IO tracks and IO tracks makes open
source file computing and the whole our
whole goal is to make it possible to run
software in any given physical space
around the globe and be able to securely
and remotely administer that that
software and so the result of it is that
we have created a project called Eclipse
io fog and it's part of Eclipse IOT and
so you can use it now it's fully
distributed which means that you know
typical for Eclipse it's an eclipse
public license and you can use it
commercially and you can put it on your
own infrastructure so that's that's
quite different than a lot of IOT
infrastructure which usually involves
some proprietary cloud and what we're
going to talk about here is we're gonna
do an overview of IOT the purpose of
which is to set the stage for our
discussion about the challenges of IOT
solution architecture we're going to
look at some common architecture that's
taking place today the reasons for
having fog computing and then what is
the emerging
patterns in enterprise IOT architecture
so let's get right down to it and talk
about defining IOT succinctly this is
what I used to say and it's kind of
close right that everything in the world
is interconnected can share data and
destructions and so on but there's a lot
of misconceptions that need to be
cleared so one misconception about IOT
is that it's all new this is the
Greenfield assumption and in anything
other than consumer products this is
absolutely not true so you've got to get
past that if you're going to properly
frame up IOT it's not about mobile apps
oh well that's really unstable
it's not about mobile apps and wearables
even though that's a component in a way
our smartphones were the original fog
computing that enable wearable
technology to come to the rise and it's
not just about smart homes
that's one Li one component and it's not
just about predictive maintenance it's
not just about smart cities and it's
certainly not just about data the
instructions that are given to the
physical devices and the actuators and
so on eyes is just as important as the
data that sensors and things generate
and it's not just about the sensors and
it's not just about connectivity you can
have the world's best wireless network
that costs nothing and reaches you know
every single square inch of the planet
and you still don't have an Internet of
Things you have an extended internet you
are missing a lot of the pieces to
connect the things so the reality is you
know it's all of these things and so
much more and so what I tend to say now
is that it's really about extending the
Internet to a greater range of digital
much larger set of digital devices and
systems things that don't necessarily
have screens and keyboards and so on and
the question is like is this really a
useful definition no because you can say
that to somebody and it still doesn't
answer any of their questions we're just
simply too early in the Internet of
Things to try to be concise but we do
have a lot of misconceptions starting to
brew that usually need to be brought up
brief history Bruce to reach through
this because this is not that important
for this talk but we're coming out of
MTM
and so a show of hands anyone familiar
with machine to machine
m2m have you worked in m2m okay cool
yeah and we've been doing this for 30 40
years right so this is not
this is not all that new thing is what
we're coming out of an m2m is closed
loop systems on private networks that
are incredibly fast they use real-time
operating systems and operational
technology has been really the business
driver of having all of this you've got
stuff like embedded software in SCADA
networks and we also have over 1,500
protocols so anyone who thinks that IOT
is about settling the protocol debate
this has never been the case and we've
gone for you know as many decades in m2m
and never settled any kind of protocol
debate so it's not likely that a single
protocol is in any way going to help us
so yeah I came from the 70s and it's
about 75 billion right now as a market
size we're talking about trillions of
dollars of impact of IOT within the next
10 years are we really going to reach
that and we might right it might be it
might be the time for the breakthrough
but we're not coming out of m2m at 1
trillion and going to 4 trillion it were
not really that close at all to what
we're talking about for IOT predictions
but as the two plates collide it's
really the internet colliding with m2m
and so here's what's enabling the
transition we have new types of
connectivity more connectivity than
we've ever had before and we have
dramatically lower or dropping hardware
cost and so in fact commodity computing
hardware is just so cheap I don't know
why you would build a board yourself
anymore although there are cases and
very important we have new battery
technology so to go from em to em to IOT
you have connectivity and then you have
these great batteries to power it well
we're not where we want to be yet but
we're good enough that we can do deploys
and for the first time ever we have what
I would call standardized data science
we've always had data science but these
were very elite folks that you know
probably sat in a back room and really
only managed very large scale problems
for a conglomerate or a a large
corporate now we have data science
taking place in all circumstances and
it's actually kind of a skill set that
that most people are tacking on to their
existing engineering we have cheap
sensors MEMS is a great example we had
vibration sensors in the past that cost
hundreds of dollars at a minimum and now
we have vibration sensors that are MEMS
based that cost dollars so it just
sometime and we have economic incentives
that have emerged it's never been so
expensive to employ people to do
processes that could be automated it's
it's we just don't live in a world
anymore where you can say well if I hire
twenty thirty more people we could just
keep that thing running you have to look
at ways of automating and you need data
in order to do that and it's just
there's just a lot of incentives to to
cut down on on the human labor there so
the origin is we've been looking at the
term in and out of things since 85 and
we've tried many times to bring this
about but I think the reason that we're
finally actually succeeding is because
of some of those things that I mentioned
with regard to connectivity and the cost
of things so what we're doing to the you
know a great extent is we're looking to
consortium
this for us which is good I mean it's
you know this is there's there's an
impact there but it's not going to
produce any kind of a prescriptive
architecture that's one and done and so
you know here's some of the the
consortium of them I work with I work
with the IIC and of course Eclipse IOT
and you know they're going to a break
new ground they're going to provide like
security specifications that can be
useful and so on but we we can't
consider them the the solving entity
right the I Triple E takes forever
usually when they do solve something it
works but it takes a long time and so
let's take a look at the drivers behind
building the Internet of Things so that
we can get a frame up for what we might
want to architect one of the primary
ones from a business perspective is Cost
Reduction if you get the right data you
might be able to make greater you know
utilization out of the tools that you
have out of the machinery and so on
enhance customer experience so in a way
you want to be the the best selling
television set or the best selling
refrigerator the best selling automobile
and I Oh T can help you get there and
we're looking for greater efficiencies
just in general data about the flow of
operations there's going to give some
opportunities to save five 10% and
really important these days is we're
also looking for waste reduction so you
first you have to measure and then you
can start to make improvements when it
comes to things like saving lives or
improving safety and so on we actually
are looking for this technology to help
us produce greater outcomes and we're
looking to do a better science through
better measurement and so on and
avoiding losses and catastrophes and so
there was one really good example of
this is in the oil and gas industry if
you have a breakdown on an oil pump
there are certain types of breakdowns
that cost several hundred thousand
dollars and that's in the labor and the
parts and and you have outage of that
pump for a while and often to prevent it
you just needed to spend a couple of
thousand dollars doing some routine
maintenance but not sure which pumps
deserve it and you can't do it to all of
them because then you would you'd be
paying as much as the loss so just
preventing that that breaking moment of
downtime or catastrophic catastrophic
failure is it's good and it's
controversial but we are actually
looking to automate and eliminate what
you would call kind of routine efforts
in in business so right now adopting IOT
is is very hard there's there are very
few companies that have an easy time of
doing it maybe the ones that have been
pioneering already for the last 20 years
have it easy but but there are some key
reasons to be doing it and we're looking
to build a competitive advantage in the
companies that'll last maybe five years
or so I mentioned the efficiencies I've
mentioned the cost reduction and also a
lot of companies are pursuing IOT
already and implementing IOT
infrastructure because today it's a
competitive advantage and in a short
number of years it's just going to be
table stakes so if you don't get out
there ahead of it now you'll be the
company that is left behind and you'll
be copying everyone else instead of
having any kind of a IOT infrastructure
inside your company so but let's look at
the the technical perspective of why
we're doing this you could argue that
we're doing it just because we can we
tend to do you know as a as a species we
tend to do things like that but really
technologically the Internet of Things
is about finally getting our computer
interaction with reality we've been
talking about it for a long time and
it's in science fiction and everything
and now it's it's finally coming to
fruition different type of automation
we're looking to have
eliminate errors we're looking to have
precise measurement in in daily
processes and things so that we just in
general improve outcomes improve the
world and we're looking for new sources
of data there are things that we've
always wanted to measure but we lack the
ability to measure them because of cost
or because the the benefits just weren't
you know worthwhile and now if it's
super cheap we can do it and we're
looking to gather vast quantities of
data so that we can do better science
really this is my favorite one
ultimately we're also extending the
human-computer interface to include
devices and things that are completely
unrelated to our past
HCI so keyboards touchscreens mice these
are all going to stay in place
but eventually here we'll be able to
wave our hands in the middle of a room
and if we make the right gesture we'll
lower the lights or in a workplace when
somebody makes the gesture that means
they need help on the assembly line will
automatically stop so that if they're in
a position where they can't safely reach
the pull cord they're able to still stop
think so
and from an industry-wide perspective we
are so far from this but we're looking
for a dynamic interconnection across all
business systems and it has to be secure
it has to be you know kept private when
needed and so on I have no idea how
we're gonna do it we've tried with
electronic data interchange and we've
done a fairly good job of mixing some
systems but ultimately we the true
Internet of Things has everything
connectable to everything if permissions
are granted and we're looking for a
large common talent pool and we're
looking for standardized security models
this one is especially tough there's I'm
doing a lot of work in this area so I'm
happy to talk about it outside of this
presentation of what's being done and
what I think is going to be successful
and ultimately also we're looking for
the low unit costs that come from
finally arriving at some standards why
can't we do it yet conductivity is good
but we are still really far away from
having the type of conductivity we need
in all places speaking again of oil and
gas there's a lot of satellite
connectivity being paid for and
satellite although it provides a private
connection it's not actually that
reliable sometimes because of fog
rolling into a low-lying area
and so on and you're just not going to
put a bunch of cell towers out into the
Sahara Desert because the only customer
is the company that's asking for it so
how do you manage this conductivity
there's a big lack of talent I think
that's one reason why you're all here in
this room is because this is an
interesting area for you and we still
don't have the types of batteries that
we want we've got security problems and
the one that I work on regularly is an
interoperability problem there's a lot
of silos out there and so architecture
early we're gonna need to address this
no standards and one of the reason
there's no standards is because of rapid
changes so the tech ultimately that
we're waiting for this is what I want is
I want something that's long range and
low-power wireless and it gets decent
data rates we're talking like maybe 600
kilobits per second and I don't have to
pay for it and it's everywhere at all
times when we have that I'll be a very
happy man and I'd also like some
batteries that that have infinite charge
cycles and they hold about a thousand
percent more than the current model so
if anyone's working on that and has it
please come see me and our energy
harvesting will also help with the
batteries situation but it's it's pretty
poor solar is okay and in sunshiney
areas it can work to power sensors but
we can't harvest some vibration very
well or anything yet still thermal so
the thermal is not too bad
and we're looking for a security that
holds up well in IOT scenarios but it
doesn't require absolute geniuses in the
company to implement and that way we can
hit scale and then I've mentioned again
the lack of talent in the area and
talent pools are growing so let's look
at the IOT stack and this technology
stack is very similar to anything you
might see elsewhere but there's a couple
of tweaks that are in mind they're based
on just like what I've experienced in
the real world
obviously we start at devices at the
bottom and this is everything this is
sensors this is you know legacy systems
doesn't matter and immediately above
that is what I call connectivity one
this type of connectivity is generally
not tcp/ip it's often really constrained
the reason that Wireless is the primary
mode for the devices is because the
devices need to be located in areas
where you can't run cables they move
around they come
on and offline you know with some
regularity and so your connectivity
tends to be low-power wireless so that
they can work on a battery and this just
does not connect to the rest of our IT
infrastructure very well at all and so
immediately above that we have something
to handle it which is IOT gateways or
hubs or base stations and this is kind
of what I would call like the edge
hardware layer to be able to handle that
that type of connectivity one problem
and on top of that we get to edge
processing which that includes edge edge
computing / fog computing it includes
just kind of like scripts that run in a
smart gateway and this is your last
opportunity to work with data before it
interests a larger system then we enter
connectivity - this is where you tend to
leave the building this is where you
tend to go over cellular as your
backhaul its tcp/ip and it's pretty well
understood so there's not not much need
for innovation here although some comes
up with something good I'd love to hear
about it and then we enter into the the
backend ingress in the ingestion layer
the reason why we have a real layer here
is because you have volumes of data and
speeds of data that are just
unparalleled compared to prior
situations and so it doesn't have to be
a separate piece of software then then
what else you've got but you do need to
make sure that you look at the scale
that it's going to need to handle
because it's centralized and that's very
different than on the edge where you can
spread out your processing and so then
we get into some kind of central
processing this is such a numeric layer
but this would be your business logic
this would be your data analytics this
is all the stuff you do with the data in
the backend and finally we arrive at
some kind of application layer where you
can make use of all this stuff now
something to note which is not often
discussed is on the presentation and
application layer you probably have
something making a decision how do you
enact that decision in the real world
well this stack unlike other IT stacks
it goes in two directions and this is a
really big challenge from a solution
architecture standpoint because now you
have to talk about opening up edge
scenarios if I have a warehouse that's
just been instrumented with sensors do I
really want that warehouse to have some
exposed network ports on the public
Internet so I can reach it probably not
so I would say oh I want to keep it on
the wind well there's even problems with
that that we'll look at but so
bi-directional is the name of the game
and this is from a talk I gave over at
Amazon and so the new landscape is you
know I differentiate between old cloud
and new cloud because there's a lot of
new cloud infrastructure being stood up
to deal with specifically with IOT
that's fine but it is going to need to
integrate eventually with the stuff
that's out there that works at large
scale and the stuff where there's a lot
of value no one's going to migrate from
their existing infrastructure to the new
they're just going to add the new in and
so we have edges and we have devices and
the state of our IOT architecture right
now is a little something like this
you've got brand new devices that talk
to a brand new cloud maybe they talk
through a brand new mobile app to reach
set by a new cloud this is just like the
bare beginnings and yet this is most of
what we see out there so the development
boards that you can get for IOT that
allow you to prototype rapidly and so on
a lot of them talk to some private cloud
that the company who makes the boards
hosts and so it makes it look really
easy for your prototype IOT board to go
and just get connected and you you
connect to via Wi-Fi and you know you do
that by plugging it into your you know
your computer and then you do your
programming right you flash the board
and you give it like the Wi-Fi password
and then the thing connects and you say
this is incredible I've got an IOT proof
of concept that we can run so then you
take it in the warehouse and the Wi-Fi
only goes you know so far past the
offices and then into the deep warehouse
you don't have Wi-Fi so now it breaks
down but if you do have Wi-Fi then
somebody asked the the killer question
so that company that makes the board how
do we know that their cloud is compliant
for our data and can we get a private
version of it and it just all starts to
fall apart so prototyping boards are
really staying in the prototyping area
and when it comes to enterprise IOT you
really can't use them you have to think
very differently about it and if we do
it right we start to mix in with some of
the old m2m stuff that we've had which
is you have devices within a building or
within an edge
talking to other devices right there
that's your closed-loop opportunities
and we also start to route around the
public internet to do interactions
ultimately we want to get to something
like this and so if you were to really
abstract out those arrows it becomes the
cloud extending into the edge and vice
versa how do we do this because you
can't just go and open up public IP
addresses everywhere and so on that's
what we're trying to get to so let's
talk about what fault computing really
is and there's so much to be said about
it that I'm just I'm just gonna give you
enough that we can start looking at some
architectures but so it's also called
edge computing it doesn't really matter
to me I prefer the term edge but fog is
starting to dominate mainly because fog
I think is it's got a catchiness to it
and it also is just an edge can mean a
lot of things but fog didn't really have
a great definition until now so I think
it's a kind of a namespace that's
available plus cisco spent a lot of
money spreading the term fog computing
and you know that's that's in play so i
piggybacked on that with naming eclipse
i/o fog so but so the basic idea is that
the cloud is coming down to the ground
and that's what fog is right so although
a little bit misleading because as we'll
see in a second the fog in the cloud are
entirely different from an architecture
standpoint but so your whole goal is to
get flexible processing in the edge
environment and yet still be able to do
remote administration and so in order to
make this possible you're going to need
to have security models built into the
fog that you can bank on as a software
engineer or your team can bank on
because if they're not there and they
have to be built-in with every
application then you're no better off
than flashing boards right and just
having some kind of a remote update
script and then that needs to have fog
services if Amazon if AWS was lacking
some basic infrastructure such as s3
right for file storage and and retrieval
if that wasn't there and all you got was
just kind of VMs right as you spun up
the cloud server and you had to write
all that cloud really wouldn't be so
much an infrastructure as it would be
just kind of a different way of
deploying servers dynamically right so
cloud service is a
and fog services exist and we'll look at
them they're very different and you can
think of fog computing as being almost
like a universal runtime or an operating
system that you can rely on at the edge
and in fog computing such edge computing
micro-services architecture is already
dominant it's not really a question
anymore so if there's a single language
plug-in or script model that is gonna
get you you know down the road a little
bit but ultimately we already know that
micro services in the fog is the way
that things are gonna pan out so be wary
of anything that doesn't talk about that
kind of model and so let's look at why
or how fog is different from cloud so
cloud has very stable internet or sorry
not just internet but network
connectivity between the elements of the
cloud and it's got a high speed high
bandwidth network there's physical
security you don't open the doors to
your cloud data center right and say
just come on in yeah it's all good you
know poke around it's fine this the
physical security is the founding layer
of the security that you can trust for
the cloud which is that no one can touch
my the cloud the servers that are
running the cloud stuff no one can touch
them except the people that are supposed
to and you don't really care which
server stuff runs on in the cloud you
spread it across and you say this one's
running on box 17b I don't care I don't
even know what that is right it just it
runs on something that looks like
everything else we spread load and the
to do that the hardware is pretty
homogeneous not entirely but you don't
have boxes that are just a completely
different architecture than others
they're all x86 and you know 64-bit and
so on and the hardware tends to be
pretty capable and you've got all the
electricity you need so fog is obviously
very different and that the connectivity
comes in ghosts somebody's on their
bicycle and they pass by a point where
it can connect and then they're not
connected for the next 20 miles and the
network tends to be very constrained
both in terms of speed and bandwidth so
a really good example of this is how
many people have heard of a cig Fox do
you know this company okay a couple so
it's I love sig Fox but you're looking
at getting about 20 bytes through in a
transmission
and it'll take you about four seconds to
get it up and 15 seconds to get it back
down so if you want to lock the wheel of
something that's being stolen probably
not going to cut it because 15 seconds
is enough time for someone to just roll
that right into their truck so self
locking bicycles should probably have
some edge processing going on so all of
your Fogg you need to assume is publicly
accessible so if you put a sensor and
then a little fog compute box on the
side of a building it might be above you
know where people can reach without a
ladder but it is generally public
publicly accessible and so if you think
about what happens then if somebody
grabs their fog box do they actually
grab a piece of your network do they
grab the ability to take that home
reconnect it with Internet connectivity
and get into your network there's a lot
of IOT devices that are this way you
think that your home security system
which is connected is very secure and
maybe it will detect someone intruding
but if somebody manages to nab one of
those cameras they can probably shut
down the rest of it unless it's been
well protected there's been multiple
examples of these types of IOT products
you know getting hacked and spoofed and
so on and in the fog this is actually my
favorite difference between cloud and
fog in the cloud you spread processes
around you don't care where they run in
the fog you care very much so if I'm
going to run an employee ID detection
microservice and I want it to run in the
fog rate at the entry gate for my from a
manufacturing facility if I deploy it to
the fog and it deploys to the broom
closet I'm gonna be pretty upset I want
it to run rate of the gate because it's
gonna pick up the RFID or the Bluetooth
low-energy signal coming off of the
employee ID badges and therefore it
needs to run where I told it to run so
this is just a complete difference from
cloud and if there's like one thing that
you think about in the way that you
architect edge stuff is that edges are
sharp and cloud is fuzzy and that's just
the way that that's gonna be I can't
think of any other way to do it unless
you run everything on every fog box
which is really stupid
and so fog stuff tends to be a totally
heterogeneous you've got an armed 64 bit
and then on 32-bit and then you've got
an x86 you know Intel Atom processor and
so on and you're trying to mix all these
things together and they don't tend to
have a lot of memory and they don't tend
to have a lot of processing power
they're decent but it's nothing like
you'd put in a data center and sometimes
also you have to be very mindful of
doing like wireless transmission because
they don't have big enough batteries and
they're gonna run out of juice so you
say I can get my data once an hour and
you would need your software to be aware
of that so let's look at some of the fog
services and I'm just gonna point out
what's in eclipse IO fog because while
there are other fog systems that have
similar services there are some of these
are I think sorely lacking from some
from from some fog systems that are out
there so the primary one is a
distributed data bus and so if you're
gonna write a micro service for the fog
if you need to know which fog box it's
going to run on so you can tweak your
code that's pretty crappy because now
you're gonna write what 15 versions of
the same microservice to run in the 15
deploy locations you should have some
abstraction of the flow of information
so that the one micro service can look
at the data and always looks local to it
and so to implement this we have a dual
mode bus with Eclipse aisle fog it
spools to disk because you might have a
power cycle you might need to query
history but it also does in memory and
so the in-memory data bus is used to
achieve a low latency and we clock at
about the 15 microseconds of latency at
a million messages per second so that's
pretty good now that's on decently
capable Hardware on a little ARM
processor it can't get that good but
it's still still good and so you should
also have this transport of information
between fog nodes and nobody should have
to employ a network engineer to make it
happen so think about if you had to
stand up a VPN between the vehicles that
are driving around and the warehouse
that they're going and picking stuff up
from and so on and then you add a new
vehicle to the fleet and so now you got
a flash the you know the thing with all
the VPN info and so on and so you have
like this endless network engineering
effort that goes on in order to
interconnect everything if you're going
to dynamically interconnect stuff then
you
then they really have to have someone on
call right where you're like oh we just
brought online two new machines can we
get you within the next 20 minutes to
connect them we want their data
something's got to be better than this
and so automatic dynamic interconnect
and that's all part of the distributed
data bus and it has to be super secure
and if you look at how many people get
the Eclipse Foundation newsletter cool
it just got published last night and the
primary article on IOT technology in
there is this is the it'd the dynamic
interconnects and how they're secure for
Eclipse i/o fog so I recommend reading
it if you're interested in like how do
we do it but basically because we can
push code to different things
dynamically we use that to embed
security models and push them out at
runtime so there's no way to have prior
knowledge of how to do the interconnects
you have to be authorized and so also
microservices configuration so let's say
that you write a micro service that
passes data up to your AWS instance that
is your main ingestion layer right for
IOT data you want to write software that
embeds the security information or do
you want to have it delivered at runtime
and you'd rather of course have those
secrets delivered at runtime if you're
gonna have a universally you know
reusable micro service well so part of
the fog should be the ability to deliver
dynamic configuration to a micro service
and have it be the same for all micro
services that way this kind of a
standard build so that's a fog service
and then a hardware abstraction so I
think this is one of the the most fun
things to play with that I have seen in
the last year and we have this thing
called arrest blue and it'll probably
become an eclipse project of its own
because it just should
it's a REST API for Bluetooth Low Energy
and so how about any Bluetooth Low
Energy developers in the audience or has
anyone ever even tinkered with with ble
like on an iPhone app or an Android app
or something
anybody built with it all you guys are
in for a treat you may never know how
bad it is it is pretty tough to work
with it just the connection drops and
you got to go through this whole stack
of cycles again stuff so we abstract
Hardware in the fog and that's so that
when you port your fog processing from
one
frog box to another one piece of
hardware to another you should be able
to access the underlying stuff like the
Bluetooth radio without needing to write
different code for each of the hardware
implementations and this is an essence
why you know Android and iOS development
works is because they open SDKs for
getting the gyroscope and it doesn't
matter if it's an iPhone 4 and iPhone 6
it all works the same and so just we
need that in the fog common logging
remote debugging the remote debugging
needs to be a lot better and I'm even
saying that about you know Clips IO fog
but just in general when you put stuff
out to the field it's super expensive to
go and try to debug it you've got to
send a person out there if you can't
remotely get access to the data that you
need so how do you attach a debugger and
look at what's happening at the edge
it's pretty tough we've got some of it
figured out but open to suggestions on
what would improve that and and also you
should get low latency control signals
like such as you've got new config or
we're about to power cycle use right so
you're about to restart you might want
to store some of your stuff or use like
the the abstracted storage to go and
drop something into the fog itself so so
there are some key reasons why do use
fog computing and this is gonna these
are going to be the drivers that come
from
you know this determines the budget and
so on but one of the main ones is cost
so if you pay for cellular or for your
IOT devices and they're gonna take a
picture and on the sensor and use it to
do you know visual analysis of the state
of degradation of the machinery right
you take a picture once a day
well one photo a day one megabyte a day
right you know but then do that times a
thousand so you're sending a gig a day
over cellular if you've got a thousand
of these sensor nodes out there
forget about ten thousand right so the
cost start to get astronomical and you
really want to do the processing there
on the edge if you can and when it comes
to the way on if anyone's done
Enterprise IT where you've set up you
know wins between manufacturing
facilities or whatever you know it's
expensive to get it in place and so you
put it in place in order to have like
long-term 20 year lifetime connectivity
are you really gonna set up LAN
connectivity to something that only
gives you incremental value from data
you're probably gonna say to skip it
right we don't
data from that device because it's just
too expensive so you want some other
method you want to take advantage of the
public Internet which is essentially
everywhere if you can get connectivity
to it and then your hardware choices
really open up if you're using fog you
don't have to have a special specialty
base station or specialty IOT gateway if
it's running fog because you can use
software to solve most of the stuff you
can do Dumber sensors so if the sensor
has to have Wi-Fi so that it can talk to
the the cloud in order to give its data
off you have a whole bunch of devices
that although Wi-Fi chips are cheap
right so now you can do sub $10 for a
whole pre-certified Wi-Fi module you
also then have to have a bigger battery
and then somebody has to do the
configuration they put it on the Wi-Fi
and otherwise your Wi-Fi has to be open
and so these are you know you don't have
a lot of good scenarios so having
devices that are a little too smart
actually drives up costs and
implementation or I would say like
deployment cost and with fog you can
retain legacy so if you've got stuff
that was never intended to talk to the
internet of things you can use software
to talk to it and then the software out
the other side talks to the internet of
things and you can keep in place stuff
that was really expensive that you want
to use your development costs go down
and then third-party micro services are
part of that if you can use something
someone else built and just deploy that
and be saved from having to do custom
dev and
performance is also really important so
that some of the best round-trip cloud
connectivity you can get is with systems
like PubNub and the best that they'll
give you I think they're awesome we even
work with them I have integration with
them but the best you can get is a
quarter of a second and that's
guaranteed you might get 50 milliseconds
but you you know as architects right you
don't think about what is my best case
all plan around that you think what is
my guarantee and the guarantee is a
quarter of a second so in manufacturing
you often need sub-millisecond and so um
it's a case for edge computing right
there and so processing very close to
the source of data this is great for
security and privacy and stuff too and
you can split the workload logically
it's really easy to take a single stream
of data and put it through something the
equivalent of like a BeagleBone black
write in the industrial environment
massage or manage the data or filter out
junk and then have all of the the final
data aggregate that's a lot easier to
handle than the pure stuff that comes
from off the machines and element
filtered so it's another common or main
business reason for fall computing is
security privacy and compliance and so
with the fog you you keep the data where
you want it you do the processing there
in fact I put this here at the reach-in
to the edge you can actually keep the
data where you want it and go peer into
it like without moving it to the cloud
you can actually open portals into the
edge and go see it without having any
kind of edge ports open right so it's a
it's a call to double opt-in method in
which both sides opt in to the
connection and both are outbound
connections so you punch through Nats
and firewalls and stuff and so and that
goes to the second and third point which
is you don't want any open ports on the
edge that's kind of obvious but I'm
actually an advocate for not having any
open ports to your data center or your
cloud either and that might sound a
little crazy but really think about it
if you have an IOT data ingestion point
that is your this is where you gather up
all your your IOT data across the globe
and this is you know like you hosted and
maybe AWS or something similar once it
becomes public knowledge that this is
the ingestion point which someone will
find it then it can be denial a service
attacked and you just don't want to have
anything open if at all possible but up
until now it's been a little difficult
to do that because how can you have
connectivity right so it would all be
win based and nothing would use the
public Internet you can use the fog to
go point-to-point now I'll give you an
example why should a fog layout of how
to do that and so you can use software
in the fog to add security and one
really exciting thing that we're gonna
publish maybe in about sixty days with
it's a testbed with GE my startup
company IO tracks Cisco and Samsung and
we're publishing a paper on how to use
the fog to implement novel security
models that would be you know really
impossible without the the basis of fog
computing so and it starts with the
device and so another reason for using
fog is connectivity
if you don't have a smartphone and then
your Bluetooth low-energy device is
completely disconnected from the
Internet of Things and so I mean it's we
have because we all have smartphones in
our pockets our consumer devices
generally don't need any different fog
right an iPhone app an Android app is
good enough fog but in the industrial or
enterprise IOT space you're not going to
use phones to instrument a warehouse
right you need something very
inexpensive and and durable that can sit
on the warehouse shell so that it can
talk to all of the RFID and Bluetooth
Low Energy stuff that's floating around
you just simply can't use a smartphone
for it and you know you want to talk to
things that are on serial and parallel
ports and so I'm protocol has become far
less important when you use software to
do translation at the edge you don't
care really any more if want to speaking
Co app and the other speaking mqtt and
the other one is Modbus it's fine we can
make it all work and so that leads to
the last point which is finally we can
connect devices to each other within the
edge environment without having some
kind of a central IOT platform in the
back end and you know there's a ton of
IOT platforms out there and some of them
are from very large companies but the
main sticking point with a lot of them
is that they're trying to centralize
everything so that they can then branch
it back down and you've got the
round-trip probably you've got the
security problem and just in general
who's going to write the software in the
backend just say oh I receive data from
you know 24 hundred different device
types across the globe and my job is to
normalize everything and make them all
look the same you should probably do
that real close to where the device is
instead of trying to do it centrally so
as engineers with the fog you can write
in any language and you can use
skillsets that you already have so this
is probably important if you run a team
because you don't want to train people
up on how to write a proper C code so
that they can flash the firmware in a
device and make it work with the cloud
and you can use whatever libraries and
frameworks and you can use one micro
service across different fog hardware
and you get a deployment model now for
IOT solutions which is how are you going
to update all of the edge processing if
it's on specialty gateways each gateway
is going to have its own version its own
version of flashing the binaries that
are there right and so
you might have 15 20 different companies
that you have tooling from this gets out
of hand pretty quick well if all gets
done properly you have one place to go
and push new code and you can push the
code kind of in on mass right which is
let me push out to a thousand fog nodes
all the same updates and then we're on
some edge tests and then we'll roll it
back if it fails so you know QA and the
edge environment is not usually talked
about and that's because we don't yet
have deploys to the edge environment
that are big enough but when you think
about it if there's a water valve that
is used to do the cooling in a
manufacturing facility and you're trying
to automate it and you go ahead and you
update a micro service that runs and
then maybe the business logic and the
edge analytics changes don't you want to
run some QA tests on that on the actual
you know equipment on the actual fog
node before you decide that it's ready
for production because otherwise you're
operating in a vacuum and then you push
it out there and you discover that the
valve never closed and so you actually
ruin product and you ruined your
manufacturing run so this is some
dangerous stuff don't think about the QA
and so some of our concerns are the
location and the condition of data at
rest and the condition I mean encryption
I also mean normalization so where are
you keeping data at rest and are you
protecting the data in motion and
there's going to be three four
disjointed pieces of an IOT solution so
you know can you really guarantee that
they're protected between the device and
the first gateway that takes in the data
from the device and once you go beyond
proof of concept what's the scalability
and then this is actually with some of
my customers with the the startup IO
tracks they know that the investment
they're doing now is going to be
leveraged in another 18 months in other
24 months to do new things that they
can't predict so is it really I ot
infrastructure that's being architected
or is it the backing infrastructure for
a single business case if it only works
with a single business case what are you
gonna do when you have a great new idea
and then you say well the thing we have
doesn't hold and we I got to scrap it
and start over so there's an emerging
title which is enterprise IOT architect
and in that title includes this this
kind of foreseeing of well we're gonna
want to lean on this stuff more and more
with new applications how do we get the
right infrastructure
you're gonna want to retain your data
center investments and break down silos
and this is the interoperability problem
and you want to do end-to-end security
if at all possible it's kind of hard to
think about that and then you want
failover and system continuity so now
let's get into a little bit of details
on the fog hardware that's possible show
you with some contrast and then I'll
show you some solutions and then we'll
have some time for questions so the
smallest thing that can run Eclipse i/o
fog is a raspberry pi zero and they're
actually a little hard to get a hold of
because they price them at five dollars
retail and you'll even find people on
eBay selling they have a new version
called the Raspberry Pi zero W which has
Wi-Fi and Bluetooth Low Energy in it
actually a full Bluetooth it includes
Bluetooth Low Energy so it's Bluetooth
four and that one is you kind of can't
get it right now and there's people on
eBay selling them for a hundred bucks
those go for ten dollars retail with the
Wi-Fi and stuff and then a hundred
dollars and that's because of the the
short supply well they'll you know
they'll get it up to speed and you'll be
able to get them in large quantities but
so you can typically get about six
microservices to run on a Raspberry Pi
zero so for five dollars I'd be willing
to throw one of these underneath every
table in this room if I had a promising
business case for running software right
there where maybe students were sitting
or conference attendees were sitting
Raspberry Pi 3 we often give these
others dev kits and $35 you get about 12
micro services out of it and the PI 3
has Bluetooth and Wi-Fi so it's really
common some people call this a blue box
because it's you just take it and you
mount it to the wall and now like you
have 30 feet of Bluetooth and so you can
run software against that 30 feet of
Bluetooth listening and there's even a
company in the UK that is starting to
put not Pi 3s but equivalent boards in
lighting fixtures that they sell so
whenever a light fixture is installed it
doesn't come with like you know IOT
fixed Hardware like you know ZigBee or
z-wave it comes with generic fog
computing that 64 bit architecture so
you can push code into it every lighting
fixture in the building and so they're
perfect because their overhead so you
get this range and you can fix little
antennas around the
and stuff you can get incredible
coverage for a hospital which is a very
common use case for Bluetooth Low Energy
by the way and then a prize IOT is
hospital scenarios so then let's go next
step up I don't like this product I
really don't I have it is expensive and
it doesn't it's not that better than
that much better in performance it has
all kinds of radios and stuff in it and
I have spoken to Dell about improving it
so the product manager is aware of what
they need to improve
they I'm sure I'm not the only one who
gave such feedback but it just for the
cost the physical form factor is
fantastic and the rest of it is mediocre
twice the micro-services but ten times
the price it's terrible more than wait
way more than ten times the price yeah
so um next the comparison to the Delhi
IOT gateway is something that has been
around a bit longer as link has been
doing this for a long time and so as
they graduate from MTM you might want to
look to companies like this
digi ad length are doing a great job of
taking their m2m hardware and
infrastructure and turning it into IOT
so you can get the same 24 micro
services on average and it's only 1,200
bucks but this thing's great I just I
love this box and then very common in
the back back office rack in the
building or in the data center just use
a regular Linux server and you can get a
ton of processing out of it on Monday I
did a demonstration here at Eclipse IOT
day and I brought in a 1u you know just
a super mikro box that cost like 750
bucks and used it to do a demonstration
with with a camera stream that was right
here in the building and it's just it's
amazing what processing you can get out
of those with with the fog and so this
is a view of the the user interface for
that style fog called io authoring so
you've got this thing called the fog
controller and that tells all the fog
nodes what to run what microservice is
to run on which fog node and so on but
it has a REST API and so if you're going
to do any work outside of you know sort
of of programming it you'd want to use a
UI so we've got this UI that's available
and so what you got here is this is
actually from that demo so I started
with a micro service that was written
for the Linksys camera and this is just
an IP network camera
so it streams the stuff and it makes it
available if you want to query it so
this micro service was written in nodejs
and it was written by a third party and
it goes and it takes the queries this
camera on the network the config you
give it is what's the MAC address of the
camera and so that way it can go and can
find it on the network for you okay so
this micro service is pretty cool and so
it'll go a little get and we're taking a
snapshot from the video stream because
we're going to pass that over to Google
tensorflow
we made a micro service out of that to
tell us what the camera thinks it's
seeing in the room and so normally we
would send a megabyte photo up to some
cloud and do image recognition but as I
mentioned if you're gonna do a thousand
cameras you're gonna start to accrue
some real cost there of data
transmission so do it in the building
and so one more thing I'll mention about
that Linksys micro service there it had
a cool feature where you could open a
port which the fog lets you open ports
you could open a port to talk to port 80
inside the microcircuits and it would
recognize that and i'll and send the
photo that it captured out and then you
have this capability with the fog of
opening it's called a public pipe where
the you can open a URL on the public
internet that allows you to connect
directly into the room directly into
that single micro service on port 80 so
then I had a URL that you could use on
your own phone and look at the camera in
the room and the camera directly sends
through the fog maker service directly
sends the image over a secure pipe to
your phone there is no intermediary no
stops in between and it routes over the
public Internet very similar to a VPN
but it gets stood up and taken down
dynamically so if you think about this
capability and what it causes you to do
from an architecture standpoint you stop
thinking about what pipes do I need to
put in place and what's their capacity
and you start saying what how can I get
the best connectivity as a backhaul
because I'm going to make use of it for
you know everything in the fog up and so
the tensorflow
is written in Python of course because
that's a python-based library and we did
we held up some
photos and then we said let's see what
this thing says and we hold this up and
it told us that was a Granny Smith and
this is all staying in room which is
pretty cool we held this up and that
told us it was a Sorrell SOR re L which
I didn't know what that was and that's a
chestnut colored horse thank goodness
because otherwise that would be a pretty
bad image recognition I learned
something from the for this microservice
we held this up which is a seahorse and
it got a kind of right it said an isopod
which is I think the family of it I was
that pretty impressed but it did not get
seahorse and it also it had a whole
bunch of other crazy suggestions and we
held this up and it said a hockey puck
and a lot of other stuff and it just had
no idea what to do with it it was pretty
fun and it's not just photos we were
holding up somebody did yesterday water
bottle and then it was like 98 percent
chance that that's a water bottle see
this thing's pretty impressive so then
but then what do you want to do with it
well we go 1 megabyte into the
processing and this micro service and
this json rest api micro service is in
the data center it's not in the room at
all and what it gets us output from here
is it gets the text of what's being seen
in the room so we go from 1 megabyte to
200 bytes I'm happy to send 200 bytes
every 5 seconds I can I can handle that
and so I can handle that of the quantity
of a thousand right so you just get this
massive cost and traffic reduction by
pushing the edge processing there but
you have a model for doing it that makes
more sense and so then the last one I'll
show you here is we do a lot of demos
with this but also this is great for for
production releases so this is a a
heartbeat monitor that is optical based
you guys have probably seen these ones
that you wear across your chest and some
of them even require you to kind of like
gel up this isn't you're not going to
put those on a patient in a hospital if
you can if you can avoid it but you'd
love to get heartrate so this thing
works a lot like the Apple watch and you
just wear it it'll go on the forearm or
the upper arm and the band comes off and
can be cleaned so it's like this is
great for hospitals because you can take
the band off and wash it and I'm sure if
you do a bulk order they can give you
ones with more attractive colors for the
hospital but anyway so it has no
interface other than a button to turn it
on and speaks Bluetooth Low Energy so
what we have here is this is an
implementation that used this
thing and this is the this heartrate
input is it's the adapter for this piece
of hardware it just it knows how to
speak to it over Bluetooth Low Energy
and we take it and we pipe it out to
JSON REST API in the data center with no
patient affiliation no context just
heartrate and we do that because what we
want there is we wanted to open an API
for all of the data scientists at Kaiser
Permanente for example to be able to
look at heart rates across you know many
patients and have that data kind of
coming in streaming and start to find
some correlations but there's no patient
data just a heart rate but locally on
premise we pipe it into an adapter in
the fog that talks to epic so epic is
the number of leading patient record
on-premise solution right so epic is
this big monster it's kind of like the
SA P of hospital systems but you do it
on premise and you pipe it over now we
get patient context because we've
associated some identifiers that's built
into this MAC address is typically a
good one but you can also do other
things we've associated with a patient
record when we check them in and now
we've wanted to gather the heart rate on
premise we're okay it's HIPAA compliant
still to merge that data of the heart
rate with a patient record where do we
put it from there we have a data lake
that's on-premise and we do it with a
Hadoop micro service each of these can
be written in a completely different
language and many of them are and then
let's say that we have a HIPAA compliant
implementation using force comm and we
pay a lot you can pipe it from epic into
there and start to reach your broader
systems so that's how you get out of
building is you finally have an adapter
that goes to existing backends so I hope
that this gives you some insight into
the different ways you can think about
leveraging fog and get away from I guess
they tried-and-true architectural
approaches of saying well we're gonna
you know spec infrastructure and then
how do we leverage it what's our
bandwidth constraints over time and so
on and it starts to get you into a
different mode of saying well
dynamically what would I allocate there
if I had edge processing and so on so it
looks like we've got we're at one
o'clock now we started late feel free to
stay for questions but I figure you know
if it's lunchtime or whatever
wouldn't mind if people head out so I'll
hold their questions about the
presentation I'll also stick around if
anyone wants to do private chats yes yes
that's that's a very interesting point
so it appears local in terms of the
ability to access it but one of the
things that we have a constituent
company using eclipse IO fog has asked
for is prioritization and quality of
service ratings because you're right
this might be data that appears local
but you need to know that this is data
that was very expensive to get there and
so you should not go and query a ton of
it for example right this is a very good
point that's true too right exactly yes
and you would want to know before you
take an action on it right new desks you
want to get a high priority delivery of
the latest that's very good point very
good point
any other questions all right thanks
everybody I hope this was informative
talk and enjoy the rest of your day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>