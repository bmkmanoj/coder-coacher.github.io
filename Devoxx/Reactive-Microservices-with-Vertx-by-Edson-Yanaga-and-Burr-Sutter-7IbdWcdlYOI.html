<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Reactive Microservices with Vert.x by Edson Yanaga and Burr Sutter | Coder Coacher - Coaching Coders</title><meta content="Reactive Microservices with Vert.x by Edson Yanaga and Burr Sutter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Reactive Microservices with Vert.x by Edson Yanaga and Burr Sutter</b></h2><h5 class="post__date">2016-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7IbdWcdlYOI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright ok I know it's late in today and
maybe you guys might need a little nap
this is not the place for a nap we're
going to move fast we're gonna have some
fun hopefully show you a bunch of
interesting things and if you don't find
them to be interesting my name is Edson
Onaga
now I'm kidding my name is X rebirth
Sutter Ansan actually specifically
registered for this event and put the
abstract together and everything for me
and when he submitted it hit course went
under his name but my name is bursa derp
so that's who you if you liked the
presentation you know you can send a
tweet to at bursar if you dislike don't
like the presentation it's at your
noggin does that cool I'm kidding of
course I do have some t-shirts and some
books to give away later I think what
we'll do those will let those go though
as prizes to the winners I thought
originally
you know bribing you with good ratings
for the presentation you know if it's
show me a good rating I'll give you
something that would be totally uncool
right but we have a we have a game we're
going to play with you guys a little bit
later so you'll need your phone and
you'll have to be ready and you're going
to have to help me test this application
this demo that we've created and set up
for you today for now we're going to
walk you through some slides show you
some other presentations just be aware
at the very end there we're going to
actually do something kind of fun ok so
again this is reactive microservices
with vertex eclipses vertex it's an
eclipse project I work for red head
specifically Red Hat developers if you
go to developers ahead comm you can sign
up for many things that develop red hat
including downloading of books and
actually have some of the physical books
here for you to to actually sample if
you would like them and then you also
you can do get all the various Red Hat
products that you might be interested in
of course like JBoss I come originally
from the JBoss team 10 years ago it was
part of JBoss when Red Hat acquired us
but we also have things like Red Hat
Enterprise Linux there if you want to
check that out as an example and this
presentations at bitly slash reactive
MSA that's the next question so it says
well we're going to get the slides yeah
that's the URL to the live slide deck
and you can actually follow along with
me looks like three people have already
signed into the slide deck so it's just
a Google Doc all right so let's get
rockin a role in here the first things
you note at developers to write comm we
do give away books this is no longer the
whole homepage but there is this micro
services for job
developers book it specifically covers
spring boot multiply swarm and drop
wizard not vertex we're going to work on
the vertex one next but I do like I said
have several copies here for our winners
a little bit later okay
redhead actually participates and a lot
of open source projects people know Red
Hat for Enterprise Linux people know Red
Hat perhaps for JBoss and application
servers but we do a ton working with the
Apache community the Eclipse community
within the JCP and numerous other open
source projects this is just a subset of
the projects we contribute to we
actually tried to track down the number
of projects all our various you know
thousands of engineers contribute to and
it got to be over a million so we gave
up counting at that point so it's
literally hundreds of thousands beyond a
million of projects that we work on and
this like I said as a subset of them so
one thing I always like to put my
presentations is the concept of the
developer evolution and the way I'd like
to think of that is if you're a
developer you've committed to lifelong
learning and more important if you're
here at devoxx you're actually very
special you're one of the elite you know
you've committed to lifelong learning
and you're here to learn and I really
appreciate that I ran a Java user group
for many many years
I specifically ran my own developer
conference for many years and that's
still going strong in Atlanta Georgia
now and what I really love about these
kind of community events is that you
guys come together you come to learn and
you come to grow and so that's kind of
what this part of the presentation is
about because in the 70s as software
engineers software developers we only
had to know really three technologies
COBOL and either with or JCL and most
you don't know a wiffle is WFL that was
for the unisys mainframes my company
wasn't wealthy enough to do you know
like a cool IBM mainframe we had a
unisys and some of you don't know what
that is I appreciate that some of you do
right but you only had to know those
kind of technologies then of course in
the 80s we might have picked up C C++
for GL technology was super popular in
the 80s we also had this thing called
case remember computer-aided software
engineering was going to cure cancer you
know feed the hungry drag-and-drop
software development all that stuff that
ended up being UML and all that that
never really worked out we had things
like net where I was a network
administrator for awhile I actually set
up you know lands and not everyone knows
what net wear is anymore I'm sure but we
learned about relational databases
sequel and we learned about UNIX and we
learned about a
EML on HTTP in the 90s you know get put
post and delete well at least get in
post maybe we didn't figured out the put
and delete until well into the 2000s but
you know we picked up things like Java
and servlets in the late 90s and maybe
you moved to Windows NT and certainly
you'd move to things like Solaris and IX
but in early 2000 we had to learn even
more things as software people write MVC
struts was the king of the MBC world for
so long
spraying di dependency injection ORM
hibernate right object relational
mapping but we learned a lot of XML in
the early 90s because we had to use it
for re JB's originally if you remember
that but we also did it for all the soap
and wisdom stuff too but we didn't also
kind of mid midway through the 2000s I
should say is the agile and Ajax stuff
we kind of figure it out agile but kind
of fair to Ajax but if you notice the
list keeps growing and growing and
growing and that's got to be okay so
even today as we look for vertex for the
first time they start exploring it
there's gonna be a lot of neat things
you see and there's going to be things
you like huh I wonder why they did it
that way because it doesn't work the way
Java EE works okay it works in a
completely different way and hopefully
you'll get a chance to see that and
understand that but of course if you
keep up the date you're going to be the
mythical beast like the github pink
unicorn with the rainbow mane I love
this particular image I like to use them
a lot but just just give you a little
context right you guys are here because
you're always learning like I said
you're the elite of the the
approximately 9 to 11 million Java
developers on the planet there's not
that medium in the room today and as a
matter of fact all the Java user groups
and developer conferences I visit it's a
tiny fraction of that universe that gets
to come to conferences and visit their
local java user group so I encourage you
to keep doing that because you can
always get a chance to keep on learning
now this is actually content for Martin
Fowler he basically talks about the fact
you must be this tall in order to take
on micro services they really love
harping on this particular item and I do
too because if you want to be a micro
service person you really ought to do
some prerequisites there should be some
stuff that you've already had to do
before you go hardcore for micro
services now what I found as I go out
and give presentations a lot and overall
half the people think they're doing
micro services already because they've
had to because the boss said they were
and you might you PI think that sounds
funny but I'm not kidding I literally
have found development managers have or
people we are doing micro-services here
because they have to convince the
business that they're doing the right
thing we also do devops here which is
neither which are true right but it's
actually got to that point where it's so
buzz worthy of a word and think about
how much that word has already been used
in this conference that's really the
problem are seeing within that space but
number one on this list is you have to
have self-service on-demand elastic
infrastructure as code here's the test
by show hands how many people need at
least two weeks to get a virtual machine
when they request it oh okay yeah
exactly - how many people need three
weeks to get a virtual machine our new
server when you request it still a bunch
of you how many more in three weeks
okay still so this is a great test I can
tell you even with in Red Hat for own
people if we need a new virtual machine
it could take weeks if not months
that is a massive problem for developer
productivity if they need a resource and
keep mine developers are not cheap you
guys aren't inexpensive resources if you
have to wait a month to get a resource
to then do your job that's kind of
problematic and so we're seeing this all
throughout the industry and as we go
through this concept of digital
transformation we have to solve that
problem first that is going to be
problem number one if you need to
resource you should be to access an API
or a web portal immediately right
request that resource and get it within
seconds if not minutes no tickets
required and your quota will
automatically be depleted accordingly
right they'll keep up with the inventory
the system will keep up with the quota
and you'll be able to get that resource
instantly so keep that in mind if it
takes two weeks three weeks four weeks
to get a resource that's a problem also
and this comes with the dev versus ops
if you want to do DevOps for real and
actually bring those two worlds together
from a cultural standpoint there's one
thing that has to fundamentally change
you can no longer as a developer know
law you can donor be irresponsible how
about that you now must be accountable
you must be on the pager yourself if the
system goes down and those users
actually call the operator or helpdesk
first that's a massive problem they
should call you first you're they're
accountable party it's your bad code
that fell over you fix it and as a
matter of fact you're the person who
specifically put it out there and hosted
this thing in this new elastic
infrastruc
the acquired in seconds or minutes
therefore if you have to restart it it
only takes a few seconds for a few
minutes to restart it but this is the
kind of thing you have to be thinking
about in this world of DevOps okay so a
lot people talk about DevOps in various
ways I like to think in terms of
developer accountability because that's
who I speak to her primarily developers
if you're not working in that world
where you have accountability you have a
problem okay if you're separated from
the business if you're separate from
operations separated from runtime
production through this other set of
teams massive problem automation so
Martin likes talking about Phoenix
versus snowflakes right so Phoenix
servers are fina are servers that you
can burn to the ground and they'll rise
from the ashes come right back to life
versus snowflakes servers servers you
ssh into and you do a little this a
little that and i've been speaking to
numerous like Red Hat customers as an
example and they're like oh this is
amazing you know we can actually update
two or three hundred servers
simultaneously whenever there's a new
you know bugs critical vulnerability
that has to get patched so if you think
about it in this day and age Linux
particular software right is under
attack all the time now there's a new
CVE that's found like every month of
subsea a new worm or a new thing that
has get patched and if you can't get in
there and resolve that quickly you have
a problem okay and then let's talk
quickly about CI CD that I love jazz
humbles tests about CI and we'll try
this real quick let's see if this works
for you so how many people here are
doing some form of continuous
integration see that's like everybody
right excellent keep your hands up leave
your hand up if you're doing continuous
integration and you follow this Golden
Rule
what's in trunk is always deployable to
production trunk is always ready for
production ok we lost about half of you
there next rule and every developer on
the project checks into trunk daily ok
we got oh great but maybe it's okay
we've handful are you there ok and if
trunk breaks it's all hands on deck we
fix trunk within 10 minutes even it's on
the weekend ok wait I think we lost all
of you now so these are the tests like
jazz the guy who wrote the book on
continuous delivery speaks to and likes
to talk about these are the key
principles you have to have from a CI
standpoint that's true continuous
integration if you have feature branches
that run off for weeks at a time and
eventually get integrated back
that's not continuous integration that's
eventually integration right and we're
not talking about eventual consistency
here we're talking about an eventual
integration so you want continuous
integration so keep that in mind you
need to have some form of pipeline and
most cases large organizations have a
pipeline that they could probably sit
down on the whiteboard and draw out
that's their level of understanding of
the pipeline some people have it
committed to PowerPoint slides because
they're executives
okay but no one has an automated
pipeline it seems like these days even
though there is the capability within
Jenkins down the Jenkins file to easily
craft out a real deployment pipeline
without a whole lot of effort so try to
do all these things you must be this
tall this is a reference to by the way
for people like me when I was a little
kid and I want to get on the ride at the
roller coasters they had a sign said you
must be this tall to ride this ride and
I was always the kid a little too short
yes I appreciate this concept of you
must be this tall to ride this ride all
right if you've not read these two books
you must you must read these two books
the Phoenix project is absolutely
fantastic and if you've written in kind
of a parable or kind of a you know it's
kind of fiction so it's actually super
easy to read I've actually read it and
done an audio book so this is the kind
of book you want to go back to you know
probably every six months or every year
it's a phenomenal book you need to read
it and then the follow-on book there's
actually several follow-on books there's
you know Lean Startup Lean Enterprise
there's also continuous delivery by jazz
and the course jazz and Jean you know
got together and they did this DevOps
handbook along with Patrick gwah the
inventor of the DevOps terminology and
then John Willis famous for his podcast
as an example the devil happen if you
read the first few chapters of the
DevOps handbook your mind will be blown
with the practices and ideas that you're
trying to provide you to say here's how
you can do things differently in your
shop because there's one thing you
really have to get your head around from
this point forward is we're actually
looking for more humane ways to treat
software people and operators within the
organization so they can build better
software faster and so I really love
these two books how they recommend them
okay so let's talk quickly about what
you do as a Java EE developer if you're
a Java developer today an Enterprise
Java developer you have an operating
system you have a java virtual machine
you have an application server and
you're all good with that I'm sure right
okay we'll keep going you might have an
enterprise archive there an ear and then
you might have a couple Wars in your ear
right and then you might keep those jars
and
there and Wars and jars and more jars
and here's the gotcha with all of this
this was great we did this with j2ee we
did this with Java we got it here's a
challenge with this architecture we all
have to agree on every aspect of this
stack we have to agree to the same
version of the operating system from the
same provider same distribution we have
to agree to the same java virtual
machine and the same patch level of the
JVM because I tell you I've been burned
with a different patch level of the JVM
still 1.7 point something but a
different patch level and the software
did not work I don't know if anyone else
has seen that problem before but it can
bite you
all right you have degree to the same
level the app server for sure and more
importantly same configuration of the
app server saya we all agree to WebLogic
or Webster or JBoss or whatever it might
be and we agree to the exact same
version the same patch level and same
configuration these things all bite you
as you're going to production if you
want to go to production fast this is a
problem and so this is the concept of
the monolith right this is how we refer
to it one real big gotcha is we have to
agree to the third party maven
dependencies that we pulled in from
maven central and when we don't agree we
end up with like 60 versions of spring
and production and this happens to
people all the time you really start
noticing it when you run your own maven
repository and you do some audits then
you realize what everyone in your
organization is doing and they're using
the same for it's like different
versions of the same kind of jar files
so just keep this one in mind this is
the real equivalent of the monolith and
of course do you have a big old team
supporting it you might have 18
programmers for business analysts to
compliance security compliance people
right who basically validate that the
software is ready to go
you have operators you have DBAs because
it's not just the programmers it's all
these folks that are involved this is
what DevOps covers it's everybody I've
had multiple people tell me well bird
you don't DevOps does it say security
the security people aren't involved and
of course if you read the two books
they're deathly involved and the problem
is their name is not specified they feel
a little bit jilted and I told this
person I said well why don't they read
the book and he goes they don't have
time to read oh there's the problem
right there when you run out of time to
learn you have a problem and so that's
what we're talking about now in the case
of this monolith though you break it up
into micro services we this is all well
known information break it up break it
up break it up separate into separate
teams that separate little pieces
software that can pick and choose their
own stack but here's the most important
thing they can pick and choose their own
OS version they can pick and choose
their own app server and version they
can pick and choose their own software
dependencies and software configuration
and therefore they can write their own
code this does allow individual teams to
move faster without waiting on the 40
people to actually agree to something so
that's why micro services might enable
you to have greater speed right when you
break these things up and I purposely
made the shapes a certain way and the
ten individuals a certain way all the
same people we saw in the previous slide
are still here
just broken up across the different
teams because I get that question a lot
- was this mean we're laying people off
of course not okay so here's the key
microservices principles we're going to
keep going pretty fast we allow the
ground cover number one is deployment
independence I cannot pound on that one
enough if you cannot deploy your
component with zero downtime and no
negative impact to every other component
system you're not practicing micro
services so this is not rule number one
for micro services in my book if you
have to build a deploy at any given
moment and have no negative impact on
the system if you can't do that you
don't have a micro service you might
have a service in a traditional so a
sense service wanted architecture sense
but you don't have a micro service in
this new-age world okay
you should have full independence
redeploy any moment any time and with
zero negative impact okay you also want
to be organized around business
capabilities right typically you think
in terms of siloed user interface people
database people Network people business
logic back-end people mid tier people
you know we've done that the Java people
over the years well I'm just an EJB
person you know any people used to tell
me I'm just a back-end person
I'm just an EJB person those years ago
at this point and I used to make funny
statements like well what is that so I
don't know are you kind of like the
proctologist is that what it is you just
deal with the plumbing yeah okay well I
don't have something to be proud of
right and of course in this day and age
we want full-stack developers we want
people who have cross-cutting skills
which unfortunately for us means we have
to learn some JavaScript but that's just
part of the situation in a full-stack
world in this case the organizers are
organized around business capabilities
not siloed development silos right not
by skill or anything like that you
organize around a business function what
does the business need and how quickly
does that business component need to
iterate and get their functionality at
the door okay that's how you'll focus
focus on a product not a project this
was actually super critical as well most
of us as developers work on these long
month projects where it might take us
three months to get to production or six
months to get to production or twelve
months to get to production and often
because it's project-based work and the
developer resource is engaged in the
middle of that waterfall in many cases
they might do a lot of scrum and you
know sprints in the middle of the
waterfall water sperm fall but by the
time the fall is happening and the
things going into production you know
they've done three months of development
now it's four months in and they're
going to production the developers are
offering a different project so
therefore is there if there is a bug as
it's moving to production you got to
call that person back they got a context
which remember what they did and then
figure out what the bug is and that's a
problem in a product world they're on
the product all the way to the end
they're on the product when it's in
production because they're on the pager
they own it it's their product you're
the product manager to the engineering
team and you own it you own the SL A's
you own you're all your happy customers
and your course and the next one here
you guarantee your public API you're
married to your API and you will ensure
that it doesn't break because of breaks
you will have a downtime and I said
before if you want real microservices
you have no downtime ever okay so just
got to think all these things in these
are actually very hard tests when you
start to think about what you guys agree
some of these are incredibly hard bars
to cover smart endpoints and dumb pipes
is one they'd like to talk about a
thought work specifically but this is
where we don't use that concept of
Enterprise Service bus anymore you know
what happened to us with Enterprise
Service bus because well it was a great
piece of technology but like all great
pieces of technology you do not want to
be in a situation where it's so great
that you start to worship it and this is
what happened with the ESB and I was
around for those soya days I used to
talk about ESB s here at devoxx many
years ago like you can go look through
the archives it's like 10 years ago or
something and guess what happened we
it's like at Stonehenge but all the
Druids showed up and their cows and they
would sit around and worship the ESB and
they're called the enterprise
architecture team by the way and
everything would have to go through them
right every transfer every time every
time they had to prove your standards
what you could use what tools what
technology what frameworks of course you
cheated and went around the corner
and they didn't know what's in a pom.xml
they didn't understand that right so you
could kind of skip that but they tried
to roadblock everything and they did and
that was problematic so what we're
talking about now is smart endpoints the
things at the edge those micro services
and the thing in the middle is just a
pipe
you don't put transformations there you
don't put business logic there you don't
put routing logic there you don't even
have central governance there and that's
what decentralized governance means and
you don't have decentralized data
management so that one number seven is
the one that breaks the bank for most
enterprises they refused because they're
DBAs are too powerful to actually split
up their database and split up your
schemas and hopefully saw Edison's
presentation earlier we talked about the
journey from monolithic databases to
micro you know microsomal attic database
but that's a deal breaker for most
organizations that I've spoken to the
DBAs have too much political power in
the organization and developers you
forget to take your DBAs to beers after
work DBAs are people - they like beer I
promise you or if not they will you know
take you they'll go out for lunch if you
ask nice nicely and guess what you get
out of them you get your schema changes
in a little bit faster okay so we can
keep on going here on this stuff for a
long time but I want to keep jumping
right in at the highest level for micro
sources concerns all right you have to
have some form of load balancing scaling
elasticity you have to have some form a
discovery mechanism resilience
mechanisms so that's your circuit
breakers and bulkheads of course you
have to be married some form of API you
got at least address the public API that
you're committed to when you produce a
micro service you think you're in
vacation model is it gonna be rest is it
gonna be some for a message through a
message backbone of some sort is it
going to be some other mechanism because
micro services by the way is a style you
choose what you want within that style
okay you didn't want to dress it up or
dress it down you can and that's the
beauty of the style and so if you want
rest go for it it's not it doesn't
require you to have rest in this world
okay if you don't like rest don't use it
think through your distributed tracing
you got to have some form a way to track
a transaction from A to B to C to D and
that's where like something like zipping
Zipkin comes in you have to think
through your build and deployment
pipeline you have to think through what
you want from distribute I'll just
tribute authentication mechanism so we
have a project called key cloak is an
example that'll help you walk through
that scenario where you can actually
have a
touken associated with all the different
services in the network you got to think
you're monitoring distributed logging
and distributed monitoring okay so these
are all just key attributes you have to
think through I want to show you though
just some a real quick demo that I have
here to kind of make the point let's see
if I have it here so what I have is a
simple little hello world just to kind
of show you what you can do with a
vertex application and let's actually do
that real quick let me find the right
window here because I just have this
already running okay so this is what a
little simple vertex application looks
like and actually it's not so simple it
actually grabs the host name of the the
host it's running on and the reason I do
that is because you'll see that it
thinks it's running on a various sets of
hosts every little service I'll be
running here all runs on 8080 all on
this laptop and they're all and I have
actually at this point probably a dozen
different JVMs running right now all on
8080 because it's all running inside
kubernetes and criminalities is dealing
with that port for me and so a list
let's go and change the code alright
let's go here
dunt-da-daaaaa Bonjour and alright
maven clean compiled package alright
hopefully that's nice and visible ok
good fantastic alright so we're doing
our maven compile fin there it goes and
let's look at a couple things here let's
do a docker PS you can see actually I
have a lot of docker instances RNA
running as I mentioned earlier but what
I want to do now is actually let's just
do this real quick let's do a docker
build there's a docker file here I
should have said all right there's my
aqua file right there in the directory
darker build - tea or my verdicts : V -
yeah there we go
have to make sure did that right so
there's my docker built and of course
with the docker magic you basically have
wrapped your little application my
little expat jar my uber jar in this
nice little linux image in this case I
guess we can show you the necrophile
real quick let's do that
ok you can see right there it's it's
this case it's an Alpine image but you
can use almost anything you want
specifically and I actually I'm running
right here on system release I'm running
on a rel VM specifically let's do this
let's do a docker run - I T - P 8080
colon 8080 and we're going to do burr my
vertex V - if I did that right it'll pop
up the server there it is it's deployed
so it actually bootstrap the whole thing
and actually just go over here and let's
look at let's this is the this is the
one
8080 like that alright so it's very tiny
but it's just hello world
so here's the cool thing with docker
running something with getting your
stack exactly right the nice thing about
a docker file is you can specify exactly
what base OS you want in the patch level
you can specify exactly what app server
you want and exactly how that should be
patched exactly what JVM you want how
that you patched and exactly how your
configuration all the data sources JVM
passwords things like that you want can
all be set up in that docker file this
allows you to take that package right
like it is from your desktop if you will
then move it all the way through the
pipeline of production this is the magic
of docker it helps you go faster but
there's a challenge with this if I want
to run more of these right I can easily
do instead of a - IT I could do it addy
alright so now it's going to run as a
daemon running in the background I do a
docker PS I got a bunch of things let's
do a docker PS grep and my vertex yeah
yeah let's do that and you can see I
have a v1 there and some v2 so I have a
bunch of these vertex images already
running so just kind of make that a
little bit more visual if I flip over to
the overshift web console stop doing
that it thinks it wants to get giant
there's three of these pods burning so
criminate is calls these a pod they're
just a docker container so I've three of
them running right now and the cool
thing is the load balance across all of
them for free I don't worry about load
balancing and on to worry about service
discovery because it gives everybody a
DNS name it updates that dynamically as
soon as one of these things goes away
they all get their new DNS name so if I
come over here and let's just say let's
do this
I think I have okay you have these
namespaces running and as we did the
docker PS already but let's see I
actually have one here to show you the
get pods I just have script but it's
just cube CT I'll get pods right there
and that's the namespace I put them in
cube demo there's the three pods and if
I curl those guys let's see here don't
don't don't don't
let's see there there's the one
that I that's the version one that's
previously running okay what we want to
do now is roll version two really into
the production environment because I
just ran v2 kind of on the fly and if I
want to come over here now and dr. PS
grep you have to remember what you're
doing here otherwise all this could all
get bad fast I got the v1 s got the b2 s
let's go there docker let's do this
stop I got the right one yep I think I
grabbed the right idea of that guy stop
stop stop okay
so that one so when I got right yep okay
docker remove all right that guy should
be gone now and we'll do is let's see if
we killed them so v1 v1 there's my 3 V
ones v2 has gone fantastic
so what I'm going to do now is I stop
that so again what a carbonate
environment allows you to manage these
things at scale so I have three at the V
ones running I'm going to launch v2 now
through kubernetes I have that script
set up over here but let's see let's see
here and done what we'll do is we'll
roll the update okay and we're going to
dent it so this is going to basically
you can see Bonjour is already coming
online there and well you can see also
what's happening here in the console but
basically because we're load-balanced we
have the service setup there's three
vertex is already running there is just
a simple rest endpoint what's happening
is kubernetes is doing a rolling update
it's doing that with zero down zero
downtime right basically the users are
still hitting it and they're seeing it
change as it flows and the cool thing is
if you want to roll that all back you
can so normally in a presentation like
this we'd spend time talking about
Bluegreen deployments Canary deployments
see ICD through a canary deployment but
there's no time for that and actually
James track and is talking about that in
the other session right now anyway but
this is the kind of concept you would
have in a crew Nettie's world this is
why I like kubernetes it's pretty
awesome this helps me with that zero
downtime deployment concept that I
mentioned earlier
it helps meet the independence of Micra
service and it can take any payload it
could be a Python app it could have been
a ruby
app it could have been a Java app of any
sort in this case it's a vertex app but
to kind of make that point let's say I
want to let's actually roll it back why
we have some book you know we don't
watch we we don't need the watcher we
need the updater all right so you can
see it's pretty straightforward
duh all I got to do is change to be one
all right
huh oh don't want that yeah
undo undo all right let's try this again
v2 yeah not that one we do there do I
make a comment all right let's try this
all right if I did that right it's hard
typing front oh you folks all right
let's roll that update should go through
it's rolling update again let's watch it
you can see okay there it is it's you
can see through the console there it's
moving from the original three that was
load balanced across now going to new
three and what it's displaying here is
its hostname
because every one these JVM stinks it's
running on its own separate servers own
separate host this gives you that
flexibility to basically move back and
forth between these two worlds again
that's kind of a Bluegreen deployment
with Canary deployments inside it the
kubernetes rolling update that's how it
works
but we actually have situations where
you truly do a blue green all or nothing
cut back and forth or canary roll one
ten percent out ten percent of users see
this so only certain users see it and
then you decide you can roll it back if
you want what they're we're going back
to the hello so that's when I talk about
microservices and the concept of having
a lot elastic of structures code and
having that ability to a zero downtime
deployment and talk about that
independence of each service this is the
kind of stuff that I like to point out
and like to stuff I like to work with
this by the way is just running in a
simple JVM here running on my machine
and actually I have a lot of memory
associated with this because I am
running a ton of their services here I
have services running and spring boot we
have some things running about by swarm
things running a vertex things running
in ojs they're just in a different part
of the demonstration so there is another
dozen things Oh Jenkins is running here
as well to run my Jenkins files and
pipelines I have a lot of things running
in this VM but you can actually download
this thing is called the cdk2 container
development kit from developers
to calm and try the stuff out for
yourself it gives you a whole openshift
kubernetes docker environment to play
around with okay but that kind of
hopefully gives you a little context
what I was talking about in the micro
Services section is that good
alright I told you were going to go fast
we're down to 29 minutes got to keep
going here let's talk about vertex
alright
so vertex is an eclipse project got a I
got I don't I get scolded for not saying
that enough it's an eclipse project it
was actually boring at VMware originally
Tim Fox used to work for us way back in
the day then he went to VMware and it
gave birth to this project and he want
to come back to Red Hat in which case we
said ok let's neutrally or let's agree
to a neutral location for the project
that's eclipse so we do numerous
projects at Eclipse vertex is one of
them we employed the core engineers for
the specific team I think Jillian's here
so our in the audience were way over the
under ok so if you have really hard
questions you want to ask him or he'll
make fun of the answers I give one of
the other verdicts is a toolkit for
building reactive applications on the
JVM so that's kind of an overloaded term
but here's a simple thing it's a jar
file you throw it on your class path and
you use it ok we use it by putting an
air palm XML you don't have to put in a
palm X milk you might hate maven you
might want ant you want to make you can
do those too it's actually incredibly
unopposed our file on your class path
and you're ready to rock with vertex as
an example and what I showed you earlier
was just a simple example of a little
HTTP listener we'll go back to that in a
second it's easy to bundle it into your
spring based application your java
application or anything else else that
you want and we'll show you more about
that in a second because at its core
that jar file that i mentioned basically
has HTTP and https of one and two
Julian's presentation just yesterday I
think it was was on HTTP 2 but you can
listen on HTTP transactions right any
kind of traffic coming through HTTP
listen on that you can listen for
anything over UDP you can listen for
anything over TCP and you can basically
write your own socket listener to talk
to anything all right it's just a
listener you just open ports do you just
receive streams of data and you interact
with it that's the easiest way to think
of this world right is just I open a
port here comes some stuff I deal with
it you also have this concept of the
event bus and shared data in the core
itself so you'll see an example the
event bus when I do that demonstration
but the idea is simply that it has this
ability to share a piece of memory like
in the case of shared data or
messaging across the backplane of all
these different nodes all these
different JVMs this is not traditional
enterprise messaging that's question
number one
Oh is this work like you know my IBM MQ
series hell no okay not like that at all
it's basically an in-memory clustered a
message bus that allows you to ship
messages from one place to the other you
can actually do pub/sub you can do
request a reply you can have a single
receiver you know you can just pick
those different messaging semantics and
the whole purpose of this is as you
receive the data you can move it around
the system cluster management by default
it actually uses a hazel caste actually
established the cluster members it does
not use hazel caste for sharing the data
or for sharing piping the data through
as a matter of fact I don't like hazel
caste I know there's probably someone
here from hazel caste but it causes me
all sorts of problems and the question
we had already from one gentleman that
came up just a moment ago was like you
know the hazel caste thing doesn't quite
work and we're like yes go to zookeeper
that's the answer
I'll just say that that's my personal
opinion obviously it does not reflect
necessarily been my employer probably it
does - I don't know there's also the web
concept you have the web browser will
show you some web router stuff but you
have templating it does it is a full web
stack right if you just want you
traditional web applications which do
get put post in tallit with server-side
templating and shipping HTML to the
browser or rich internet applications or
PWA is in this new world right you can
do that too so you also have thing
integrations with the vertex platform
right
you can then keep mine these are all
optional components you just stack these
on as you need them if I decide I want
to speak stomp a RabbitMQ AMQP I can
bring that component in I can also use
multiple languages if I want by default
I've been showing you Java because
that's what I like to work with I have a
groovy example in Ruby example and
JavaScript example later there's also
Ceylon and there also you can use
different languages and they all have
the same api's because all that's on
based on the same api in vertex and
that's kind of cool therefore these guys
are all first-class citizens on that
event bus they're all first-class
citizens on that shared data
there's even an NPM if you want a pure
v8 nodejs application to be a
first-class citizen on that event bus
you can have that too
and there's other support for other
runtimes also there's also a my sequel
Postgres asynchronous data sort a dated
database driver the Mongo one was
probably better and most because the
Mongo team do a great job with her async
database driver
but this is you have to live in this
async world so just keep in mind that
not everything like okay my Oracle
database my db2 in the mainframe yeah
that might not quite work this is an
async world we're living in now lots of
good stuff in here you're going to see
more of this as we go again vertex is
that onion pinion ated toolkit for
building reactive async ramifications
all right so we're all async now
okay so just keep that in mind we're
going to keep going here quick we're
done reactive when we say reactive a lot
of people think oh that's like our X
Java observables sure that's reactive
programming right in this case we're
talking about reactive systems and the
reactive manifesto specifically talks
about these basic concepts like being
messaged ribbon so vertex by default is
a hundred message driven all all
communication is done through some form
of you know communication mechanism you
can make up your own or we would
recommend using the event bus that's
what most people use to communicate from
A to B to C to D you can also make rest
calls if there's an example I'll show
you what rest calls across a B C and D
but message driven super critical this
means you don't share classes between
different JVMs necessarily and as a
matter of fact if you use the event bus
a recommendation as you always use a
JSON payload even if you think the other
guys at JVM because as I said earlier it
might be a v8 nodejs runtime at the
other other internet event bus it could
be a ruby app a JavaScript app it's not
necessarily a java-based AB so JSON is
the actual payload don't send serialize
Java objects over there where you didn't
have a problem and you lose your
independence right because if you send
the serialize Java object they have to
have the same class the same version of
the class if you don't things break you
want elasticity so this is a bit a scale
out or scale back that's super critical
in this new world right if you can't
scale out easily based on load and based
on demand and you can't maintain your
responses in this and your SaaS
you have a problem going to fix that you
can ensure that you handle that is SLA s
so responsiveness means that we will
respond in the time frame that is
expected by our customers by our users
by our individual individual players
actually well when we play the game with
you'll see what I mean by responsiveness
hopefully it all works assuming in the
network holds out for us and of course
you got to be resilient in case of
failure in case of things getting so
this is where back pressure and things
like that come in the resiliency simply
means that if things fail the whole
system doesn't collapse upon itself all
right you'll see some nice especially
that there's a circuit breaker built
into vertex also ok
on the reactive programming side so
reactive programming is a subset of
functional programming and functional
programming everything's a stream and
reactive programming you know you deal
out streams you can also you can just
use a callback mechanisms built into
vertex but you can always use arcs Java
observables or you can also use futures
you decide the programming model there
from a reactive standpoint but the
reactive programming is on one side this
equation you also the concept of
reactive systems as we mentioned earlier
and that's the world like vertex as a
system our akka you probably heard of
akka as well out here in light band land
right they also have a system for the
sort of thing and so by system we mean
it's not just an individual thing that
you include within a single application
it is the infrastructure and platform
giving you access to all those things
you saw earlier right I have the event
bus have two shared jada I have cluster
management I have the ability to do a
high availability as an example should
something fail the other thing picks up
its workload all that's part of the
vertex ecosystem ok so just keep that in
mind we'll keep on rock and roll in here
alright so from a vertical standpoint
these are the programs you write a
vertical is a program you write all
right think of that as your class right
in the Java land you're just going to
build a a program it's called a vertical
it shares the event bus in the case of a
single vertex instance which is running
within a JVM I just think in terms of
JVM okay it has this one a thing called
an event loop the event loop super
critical to understand because you
should not block it and I'll show you an
example where I block it just to you
know where it was funny actually sent
the code and some one member of the team
they freaked out like oh my god you
blocked it and like I know I did on
purpose the seafoot break so that's like
a thread not sleep by the way so the
event loop is a single single thread
from a JVM standpoint single thread and
that means everything every request that
comes in gets handled by the event loop
and then hand it off to handler right
away so you never have to write any
synchronized code you don't have to do
anything worried about multi multiple
threaded world okay so this concept of
you know the events come in from the
browser from any other source messages
within a queue other HTTP transactions
or TCP transactions coming in you grab
the it basically grabs that event hands
it off to your Handler and your handlers
do as they will with it okay you're not
supposed to block that thread and so
just keep that in mind you write with
this handler metaphor in if in case of a
multi-core processor if you have several
cores it
the lights up and sets up an event loop
perk or so this is where it goes beyond
something like an OGS where this idea
was really popularized the concept of
the event loop and that Kate in their
case they don't have multi-threading
therefore they only attached to one core
if you have a four core processor you're
not really taking full advantage of
those other cores vertex out of the box
looks for the number of cores that you
have and basically sets up an event loop
for each one so the first thing is kind
of the reactor pattern right that
concept the event loop we refer to this
as two multi reactor pattern okay this
is the vertical two mentioned earlier
you saw this and when we did a little
demo it's just a little HDPE super
simple basically sees a request coming
in here whoa I shouldn't click there and
then of course that's the response you
can of course stack many responses I'll
show you an example the router in a
second if you want to get started you
just do the gate clone and then you CD
there and maven package and you don't
have to use maven if you want to but you
then have this super jar that you just
say Java - jar to run it it's that hard
ok that's how hard it is to get started
with your very first vertical as an
example let's talk quickly about the
concept of web apps you have the web
server here basically there's a web
server built into vertex you receive an
HTTP request like get put poster delete
over that port right you have the router
that would then interpret that and then
send it off to handler and I'll show you
an example that code base the handler
then formulates the response and the
response comes back to that user
asynchronously all right everything's
asynchronous in this world so that's why
this is all Delta's handler metaphor and
actually here's the code here I have the
slide but will actually show you this
let's actually just run this code let's
see if it'll run for me while we're here
might we'll run some stuff okay let's
see here what should these is it yeah
this one yeah the font on my screen is
so small it's hard to see everything so
let's do a build and run and if I've
done everything correctly it'll pop
right up so this is actually a fairly
large application and meaning that it's
more of a crud style application let's
go localhost 8080 if I did it right okay
acids and they're okay and in my case I
actually added my Carolina moonshine
that's not a proper whiskey I did this
by the way for the gentleman who wrote
this this this demo application his
name's come on and he's very serious
about his whiskey so
did this just to see if he would notice
we'll see if you notice is it when he
sees in recording any case I can delete
that one here I can come over here and
edit one of these guys and I can you
know just put in some new data hit save
there it's a full crud style application
so you can do regular web applications
that's the point of this right and as
the code is super simple and if I come
over here let's see if I have that one
open OOP don't bump Darrin turn turn
turn turn there we go it is fairly
straightforward there's an example of
what we saw on that code earlier you can
see right here by the way don't forget
the body handler going to create I've
done that before it lost hours of trying
to figure out where all my post and put
data was actually going in case you have
the add one get one you can see right
here on the get ok this is the handler
to get one and there's the ID the
parameter so that's what it is on the
URL for roughs a restful style
invocation here's a post on this post I
want to add one so let's go look at the
add one dun dun okay you can see what
it's doing right here
it's grab is JSON decode the value right
so it's taking turning that into JSON
what was posted in and it's basically
moving it into a whiskey object right
it's just a Java pojo in that case and
then adding it to a collection that we
have and then ascending back this
response okay fairly straightforward
stuff that's how you would add one so
the programming model here is super
simple I like it because it's a not it's
not your Java EE world it's certainly
not JSF JavaServer faces and it's super
cool and super easy and one thing that
should be noted is if you want to just
run something like this you saw what I
did I just ran a script there but here's
a here's hello world again I can just do
vertex and hello world vertex run hello
world there we go and now I'm running
that application okay so you can treat
Java as a dynamic language I love that
aspect I literally would just go hack
something up real quick vertex run it
and see if it runs and then of course do
a compile time it'll compile it and
syntax check and all that all right
let's do here and let's see is that it
there it is so that's the hello world
running right there and then when you're
done running it ctrl C okay I'm gonna
make sure I don't run a time here I get
a lot of ground to cover done I okay so
but that's that concept is fairly
straightforward let's see
let's jump back slides make sure we
cover all the key items here okay
getting started and done we did the
router okay all right the eventbus of
course is destroyed across multiple VMs
and actually let's show you the event
bus all right let's show you the event
bus because I think it's super cool
right the here we go not that one all
right that one let's run that one okay
so that one should be running let's see
if it comes up correctly turn up I have
a different browser open at this point
and there it is okay
so what's happening is basically we have
the HTTP listener setting up and it
basically sets up on the browser it sets
up the event bus on the browser in this
case the browser can also be a
first-class citizen listening on the
event bus and just means you can
certainly push messages to it but you
can actually stream data either way back
and forth between the browser and the
server and it takes almost no lines of
code to do this and so this concept is
kind of kind of powerful because if I
bring other members up in this cluster
like I can bring up another publisher
here let's see here and I can bring up
another consumer here and let's see if
all this will work let's just try some
stuff okay let's not do that one not the
bad vertical things break with the bad
vertical we try to make a point there
but there we go let's see what's
happening here notice there's now two
different three different messages to
different Java messages and a ruby
message streaming out to the browser and
we also have other people communicating
back here on the server side okay so you
can see there's my there's a publisher
and there's consumer so this is the
magic of the event bus and again if I
open up the code for you real quick it's
very straightforward okay but like
here's a consumer okay so this is a
consumer JavaScript consumer of that
message here is a Java publisher of the
message here's a ruby publisher of the
message and you can see syntactically
they all work basically the same and
they all are first-class citizens on
that event bus and again if we use no GS
we could do that also but you can see
it's all pumping those messages out now
okay so the event bus makes these
real-time reactive applications super
easy you can actually do incredible
incredibly responsive style applications
and one of the things I'll show you is
we have a few min
left is we're going to play this game
together so like I said have your phone
ready we're going to we're going to
actually do that because I've not
actually tested the system properly and
you guys look like you'd be a great test
audience more importantly I know that if
you're coming to dev ox you've got to
bring your best game game get it not
your eighth game I got a game for you
we're going to have a game so let's do
that so that's an example the eventbus
will keep marching along though because
there's more things i want to show you
in here room to Danny and Tenten okay
let's keep going
alright so let's talk quickly about
micro-services patterns yeah we should
have enough time for this so the concept
of the browser actually making
invitations to different services is
certainly very powerful is actually very
very common so specifically from the
retail industry you've probably done
this already you actually have multiple
services on the back end that your front
end is interacting with specifically
like the pricing engine here how is the
price being determined the description
that you see here these in these
detailed specifications the number of
reviews we received one that I
particularly like is this in store pick
up 15 available based on your location
these are individual invitations from
the client to the server the browser the
client is doing the business logic in
this case and making calls to the
back-end server and sometimes the
backend server is actually then call in
the mainframe and you might think okay
why would anyone do that but this is
actually how lot retailers do it I could
speak to a few of them that I met with
the talk to it exactly this way so just
keep that in mind that this might be the
pattern unit used for micro services I
basically have a series of services that
the browser is just invoking
individually ok the browser has the
aggregation logic what happens if you
fail you should always think in terms of
failure ok watch what happens closely
here when you fail your store 15
available goes away so you have to have
these fallback positions this business
logic that says isn't in case of failure
my business logic says ok I can't show
you how many available in your local
store but I still know your local store
based on your location you have to have
good fall backs that you have to
negotiate with your business to make a
decision as to what you do when the
component fails because it will
especially in a micro services
architecture where you have 15 2,500
services some of them are going to be
down at any given moment in time and
this is where you leverage things like
circuit breakers as an example so you
don't also have a cascading fail
the concept of the API gateway or an
edge services some people refer to it
you move the business logic aggregation
logic to the server side and it and
calls all those different components for
you and it deals with failure at this
level as an example you might also chain
these things together and this is how
the Netflix would talk about how they do
it you would actually have maybe 15 of
these things chained together and for
those you've done enough architecture
probably looking at that going oh my god
that's horrible what if that breaks do
we have a cascading failure this is what
you must avoid in this architecture so I
talked about you know having reactive
systems we talked about the reactive
manifesto as we did earlier this is not
resilient if you have a cascading
failure so I encourage you to think
about that what are your strategies for
dealing with any failure in the system
and if you're one of these components
because you're a product you're one
engineering team you're two Pizza team
responsible for your component may be
the star if that pyramid there blows up
I don't blow up all right I just deal
with it
I suck it up all right I eat that
failure and ensure that my user my SLA
is still met this is why micro services
are so hard now I encourage you to think
about one thing we have just released a
blog on developers Redick on Riesling
about fast moving monoliths so basically
we worked with one organization that
basically went from a it was a bank that
were three month deployment cycles to
one week deployment cycles all with
their monolith they did all those other
things about you must be this tall they
did proper CI CD they make developers
accountable for the item in production
they incorporated all the other key
principles you saw on that list
including things like kubernetes and
docker images like you saw in the demo
earlier and they now can produce new
features every week that's how fast they
go to production they did that without
breaking up the monolith that's still a
monolithic application okay so I just
encourage you to think about that the
circuit breakers super simple if it's
closed we're good right and the idea is
you have this concept of half open and
open it basically means if you over draw
the circuit like you would in your house
when you plug in your hairdryer and your
curling iron in your TV and the portable
heater because this has happened before
in my house don't sure if in your house
because it's the middle of winter and
everyone's decides they going to dry
their hair and also cook something at
the same time on the same circuit in the
same socket you know what the thing with
the power bar that's over loaded and of
course it flips the circuit you got
around the garage and the code or
outside or down the basement and you can
fix that fuse flip that circuit back but
the purpose is
and you're probably complaining oh my
god I gotta go flip the circuit but your
house didn't burn down that's the wind
okay
yes it's inconvenient that things didn't
work but your house didn't burn down
that's the idea of a circuit breaker
even in software and in this distributed
system so just keep that in mind and
this is what the circuit breaker looks
like and we don't have time I won't run
the demo but that you can actually using
this example here right there's an
example I have out there on github you
can actually look through this yourself
and get a feel for what that looks like
and but I will show you a piece of code
that I thought was pertinent when we
talk about that let's see here yeah
there's lots of examples but you can see
circuit breaker options there but
where's my bad one those the bad ones
kind of interesting turn turn turn turn
dandy out yes so let's just open this up
real quick and so I'm just using visual
code here but like here's bad vertical
reason I calls your attention this
because there's the thread dot sleep
that's what you never want to do okay
but I did that on purpose so you show
that the thread is just taking too long
to respond because in a circuit breaker
architecture the more insidious thing is
not that the services down that's easy
most of us can deal with catching that
exception oh I made it try to make a
connection nothing happened
service must be down try catch the
problem in this world is what if it's
slow and then if you if it's slow you
are slow and then everyone who's bait
depending on you are also slow and a
good circuit breaker architecture deals
with slow or dead and this case it does
both and so that's why I slowed it down
to show it basically tries to make the
call it waits for the reply it does all
this asynchronously
and it bails if it doesn't actually get
a response in appropriate time frame
okay and it calls its fallback we won't
spend time on that because we're going
to write a time let's go here okay
because I we do have a game we want to
play so the micro services demos ok we
might have enough minutes do this this
is going to be the game we're going to
play in a second actually let's just
spend time on this because this is so
fun if it works this is we're going to
go high risk here okay so we have set up
on a server a vertex gaming engine right
so it's just like the vertex stuff you
saw earlier with a vent bus and
everything else basically and what it
does is has a real-time web socket open
to your browser so get out your phone
you're going to need your phone
and what happens is every transaction
every tap on the screen every button pop
is a transaction for the system okay so
we drive a lot of transactions really
fast so we go from zero to fast really
quick it goes to this game engine all
right the game engine specifically then
communicates for a traditional Java EE
application
I mean traditional Java EE application
well maybe not so traditional
it runs drools and the drools engine and
jbpm engine specifically calculate the
business rules associated with the
balloon pop and it says oh you got this
many in a row or you did this many
things here's your achievements and
here's your calculated score it also
calculates an aggregate score across
teams and then we have this these two
dashboards that basically show you the
team score aggregated as well as the
individual achievements on in real time
okay so here let me let me run this for
you real quick just so you probably
think I'm you're probably think I'm
messing with you right let's pull these
windows up let's see where did my
dashboard things go ah one of these
browser windows nope not that one okay
you got to remember which one all right
here we go all right listen let's see if
these guys sometimes they fall asleep
bombing okay so we're going to get here
we're going to get here and I want I'm
just going to play a little bit to show
you what's going on here all right and
boom okay refresh my browser here there
we go so you can see as I pop balloons
here notice what happens in the
background we already have 15 players
involved 17 players and already 300
pumps are going in but actually I can
pause you also okay let me refresh this
one because this one needs to be
refreshed
lissa quicker and leaderboard look at
that we already have a bunch of people
in the system and let's go here and let
me start the game up again
okay so I'm gonna pop some more balloons
here and watch what happens as people
get achievements like if you get three
in a row that's been calculated through
the brms the the drools engine running
in that java application and go away mr.
VirtualBox but basically you see now
what's happening in real time so as
people are playing the game and these
are people in the room playing
game the URLs demo bird read that's all
it is
demo duck bird out read and that'll take
you into the client side of this
application this guy right here and you
can and you can basically start clicking
away and earning achievements and
getting scores and pounding the system
like crazy so you guys are doing a good
load Ted test for me sixty-one players
3000 plus transactions through 4,000
transactions each one of those Pops's of
transactions with the whole system to
the main vertex game engine the verdicts
achievement engine and of course that
regular Java engine and vertex is
managing all that traffic for me and
again I can pause you that's kind of fun
isn't it and what's kind of cool your I
think oh this is this game is way too
easy okay let's make them kind of
microscopic and super fast alright and
I'll change the background color and
make this some more interesting boom and
let's go alright there they go now you
got some those blues hard hit so this is
how you this is how you deal with the
fact that you don't want people to pound
your system to death you just make the
game really hard to play you know so if
I was worried about the actual bandwidth
you guys are hitting me on here I could
do that but what if I want to do this if
I want to make it super easy for you I
can make it you know make crank up the
opacity so it sees your see make them
bigger slow it down oh by the way I want
to do 10 points red 10 points or blue 10
points and let's just change the
background again and update
configuration and real time there so
everybody sees that right so it does
take a second sometimes for the ripple
out through your little slow 3G
connection to get your actual phone but
now we have 96 players playing
concurrently and over 11,000
transactions just in the last few
seconds all right that we've been
playing the game together and you know
if you don't like that I can pause you
again okay so this is an example when we
say reactive real-time kind of style
application with vertex this is what we
mean this is actually a fairly large
little application at this point that
we've spent a lot of time on last year
to build for our keynote demo that we
did at Summit this past year but this
gave us an opportunity to really make
the point what can vertex do for you
here if I stretch this out a little bit
more you actually see it's truly keeping
up aggregate scores across all those
players all those transactions are being
scored and the different players on
different teams are being updated
real-time and of course you see our
leaderboard here look kitten is still
number one with 21,000 points he gets a
t-shirt
you got to keep that in mind we do have
prizes for you folks but let's do one
more thing here I'm going to then turn
on the Golden Snitch alright this is a
50 pointer be ready all right let's make
it green now just so you had a different
background and go and for those who are
playing in real time but now it's green
and they're go service system you can be
popping balloons all right say let me
pop in my balloons there and there's
also my face you can pop my face and but
the the idea is that you can do an
application like this negative thinking
I don't build games I know you don't
build games but if you can do this sort
of thing like this can you imagine what
you could do you could build your own
Google Docs if you wanted you can build
your own ether pad if you wanted and I
see one gentleman up there hammering on
his phone trying to catch up quick cat
has moved to first place and wheat
rabbit we do we actually give you
default names because we learned if we
let you enter a name it can be rather
awful okay so we changed that but you
can kind of see how the system is
behaving here we're just you know it's
ruined really well we're almost at a
time but in just a few minutes we've
been playing the game 37 transactions
into the system transactions of the
system with 95 people paying playing
concurrently so thank you so much for
playing along with us here in the
audience today because it does make the
demo suck no one wants to play long so
let's do this here's our leaderboard and
go back over here to my Amman console
and we're gonna say game over okay and
this is what it looks like when I bring
it up here game over and you notice see
there's a few transactions still flowing
in because everything is done
asynchronously yeah so if you notice
there's a few points still being
calculated there because everything is
still backed up and those through
asynchronous mechanisms and still
flowing into the system so now it's now
it's not quite almost but let's OH
mercury zebra might pass tweet rabbit
there might be enough there goes but
that's the idea of a reactive system so
if you see yourself up here in the top
10 it doesn't matter if you're first or
10 right I have some books and I have
only a few t-shirts so we'll let people
the top list get if you a t-shirt if you
want and I have some books for you but
that is kind of what I want to show you
Oh what oh do you think but um but
actually what it is it does caught our
you mercury zebra Oh we'd say you never
got this transaction to makes a stop we
might have a book I just hacked this up
last week to make it work just in time
for you guys so I might have left
something in there just actually not too
good okay but if you need us feel free
to reach out to us at developers of red
comm the vertex project is course will
be are here to talk about day and follow
me at twitter at birth Sutter but we're
out of time if you have questions feel
free to come up see me and if you're on
the top leaderboard come get something
thank you so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>