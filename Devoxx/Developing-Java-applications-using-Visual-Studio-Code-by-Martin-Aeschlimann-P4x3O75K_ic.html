<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Developing Java applications using Visual Studio Code by Martin Aeschlimann | Coder Coacher - Coaching Coders</title><meta content="Developing Java applications using Visual Studio Code by Martin Aeschlimann - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Developing Java applications using Visual Studio Code by Martin Aeschlimann</b></h2><h5 class="post__date">2017-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P4x3O75K_ic" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone good evening my name is
Martin work in Zurich for Microsoft I'm
a part of the Visual Studio code team we
are 10 people in Zurich and template in
Redmond and I want to show you some of
the latest developments of issues to the
code but also of the Java extension
which has recently got so a lot of
attention I know maybe you heard of it
Red Hat has started the extension
together with us Microsoft and in the
recent months there has been more
manpower to it even Microsoft joined
with some developers I was also working
on it and now we came up with a yeah new
cool features including a debugger so
maybe let me quickly start with a bit
introduction on Visual Studio code how
many of you know what users do code is
yep so it's a lightweight fast editor
that you know should help you modify
your configuration files whatever files
but also kind of aims to be useful for
software development you can open
folders you can open now you can open
multiple folders so we really want to be
more than just the simple editor we run
on multiple platforms Mac Linux windows
we are an open source project we're
actually one of them on github we are
most one of the most active open project
open source projects right and I with
lots of contributors lots of PRS and
yeah we we are trying to do open
development that means all the sort all
the plans are open we can listen to the
feedback whatever issue is voted up the
most will come on the next plan
yeah we should so you came out two and a
half years ago in a Tibetan and one half
year ago it became the one oh release
and it has yeah good for us being quite
popular at the moment we have over two
and a half million active users a month
and there is a micro system of
extensions for visual studio code which
is so growing and growing there's I just
we just just checked lately it's about
over 4,600 extensions now on the
marketplace for various things like a
editor extensions new commands new
languages SCM integrations you may
wonder Microsoft they have Visual Studio
but what is lucious to your code is that
is that going to be the new Visual
Studio is that the replacement and no
it's it's not it's it wants to be an
editor and we place ourselves actually
very close to an editor we want to help
developers in the areas of
multi-language projects where an IDE is
just not the right fit right we've
started so i I've worked on I've worked
on eclipse when I started I joined IBM
and for like over seven years I was an
eclipse JDT UI developer so I'm really
much an IDE guy but then once I swap to
web projects I realized this is a
different world right you have lots of
different file types there's new
frameworks coming up new languages
coming up it's very hard for an IDE to
keep up with that right and really build
you know deliver you an integrated
workflow over all these languages so
many people went back or you would stay
that editors all the time and so there
was the feeling that Microsoft also
needs to get an offering for for these
people that really like to be editor
centric and that's where every s code
fits in so we want to be light
lightweight and fast we want to be key
for centric we want to work on files you
want to work on folders but we want to
be more than an editor
we won't actually include a little bit
of the in what we call the inner circle
of development things that are very
close to your source code and that
includes the reset that includes
debugging where you would like to step
through your source code and write right
away go into the source code and maybe
make a change and some of the debugging
scenarios actually allow that right you
can even continue debug value edit we
want to we added the source code
management use to our editor so you have
that closed your fingernails fingers and
then we also have an integrated terminal
but we do we don't want to be an IDE you
will find no Vizards
there is no great UI our configuration
editor is just a text file we have some
of the code assists for it there is and
that's I think most important there is
no built in project system right we we
don't want to invent another project
system and then you lock you in into
that we going to use the ones that are
out there so if there is in Java if
there's may even in Gradle we're going
to support that but we don't want to
come up with our own project system and
there's also no build system we rely on
you to have your build scripts and you
just use your intern in you know it
doesn't integrated terminal to run it
and the all thing we do is we are for
you today are at key bindings to it so
you can run your build command on a key
binding and you can also attach a
problem detector to it so once the
output comes from your build command we
will detect the errors and show them the
problems view so you can navigate to
your problem and another thing that this
we kind of focus a lot on is the
multi-language right we we want to have
the big big breath on languages and we
want to support them as good as possible
but of course
yeah that's it's not easy to have a good
integration of all the languages the
ones that we picked are the most
interesting one for Microsoft right this
or Microsoft technology here typescript
is a typed JavaScript that I could have
done a lot investment then there's of
course C sharp c plus plus F sharp
already all these language we could of
course a lot of tension and we
bringing our tooling that is there in
Microsoft to the visual studio code and
but there's many many more languages and
we hope that the community you know
comes in and check today there's over
1,000 language extensions out of the
4,000 at the moment is pretty impressive
but of course they're not all different
languages so there's a lot of people
probably trying to same extensions
they're one ones one way we tackle that
so what you want to bring languages to
an editor you cannot have the full
language support right away so there's
different levels of integration and
that's you have to admit that most
languages that are supported in Visual
Studio code are really just where you
basically support it they just have
syntax highlighting and maybe they have
some you know brackets matching and
that's good but the API is of the extent
the extension APIs official studio code
are formed in such a way that you can
you know increase the support by adding
new and new using so all of these terms
I have here are supports that you can
add to a language and actually a
different extensions can for the same
language contribute the different
supports and then we even tried you know
merge these supports so like if two
extensions provide code assist for Java
then of course you will see them both
and it's up to the user to install
whatever extensions you want and I can
see whatever extensions and consider
echoed assistive ones quickly going to
this list and this list then comes again
in the demo say next ironing is exactly
one of the easiest things to do because
we are paid based on text made grammars
and text make grammars or that quasi
standard of all editors so you will find
probably already if you search a bit to
find the text of my grammar for for your
new language and if not you would just
start using an existing language and you
know changing the way that gives you
some same things syntax highlighting
another easy one is the brackets and
indentation rules these are all based on
ticular tak tacular declaration so you
have to give a list of brackets you have
to give a red X and out of that we can
already give some useful tooling you
know
imitation after a curly bracket
increases one few after closing bracket
we decrease it
there's snippets which are not contacted
context-sensitive so they show up
everywhere well that's not really super
useful but still it's a start for your
language and then further down now comes
more and more work you have to do and
actually the next things like document
symbols that's the outline right you
want to see the class the files the
methods in your class there you probably
already have to write a scanner and a
parser that is really working for your
language you can still try to do it for
verax but yeah things get fish it in
together with that similar thing is
color decorators write in CSS you've
probably seen it we show the actual
color of a value they're formatting to
want to do a formatter you actually only
need a syntax tree to find out where the
right spaces are and then you can start
working on that removing them adding
them and say next validation so this is
still well it's not simple now I think
writing is scanner writing a parser
that's quite some work and we shouldn't
forget it's the maintenance that is
actually the most the hardest thing
especially in languages that change and
involve a lot so you can never you know
you can never finish some to declare
something finish because as soon as a
new language features added and your
parser declares this new thing as an
error people will get back to you back
to you and say yeah your stuff is not
good enough and then you have to work on
it more things then you really need
simple lookup you need to resolve across
files and then you can do features like
hovers code assists then you do code
actions that quick fixes right you
select a problem you get suggestions to
it semantic validation then of course
all the references and go to declaration
code lends you will see it in the demo
is basically mostly a fine references
but it's you know allows you to add much
many more kind of searches right in the
code like fine declaration go
implementers and things like that and
then refactoring is what we the moment
have only rename refactoring vs code but
there is the
to bring this language framework to more
and more so that you can also you know
contribute ritual refactorings another
and then last we have the integration of
a debugger well you probably cannot
write the debugger for your language
yourself but you can adapt to some of
the debugging capabilities your VM has
so and that's what we did in Java
so all these things I will show again in
the demo but this just shows the various
degrees of integration that we as code
allows you know now you say well that's
great right I mean I just did all that
we just implemented the Java support for
Eclipse and you serious you're going to
do that again for which to your code you
know just wanna write everything now in
typescript and then I'll do it in a year
again but the new editor comes out which
is even cooler than wishes to your code
this doesn't work right you cannot we
implement all the language supports for
all the editors all the time it's it's
this huge matrix which gets bigger and
bigger write more languages more editors
and well yeah we of course also don't
like that and out of that came the
language server protocol which is behind
most of the language supports that we do
so the idea is that you implement these
supports in your own process in your own
language of choice and you communicate
back or you are asked from visual studio
code through a standardized protocol
which is called the language server
protocol that's a very simple protocol
based on JSON mostly request/response
and then there's also notifications
flowing back and forth and these api's
are very close to what the editor wants
right so the editor says I want to do
code assist at offset 50 what you get is
first you get the document which is the
current dirty document that is there at
the moment and then you get the offset
50 and you give back the proposals you
will not give back an ast there is no
knowledge on the Ria's code side at all
on the program structure you give back
the finished results and they can show
as is in the editor
and this language of radical idea has
also quite resonated and there's a lot
of integrations for other editors around
now - you get Emax integration atom
integration even integrations on web a
web IDE so I think this is pretty cool
just show the list like we have the only
sharp server it's implemented in c-sharp
the powershell servers also in c-sharp
then the goal the go tools implementing
go and they actually really interesting
go has many of the language services
modeled as command line commands so all
that the language server does is running
commands and taking the output of these
commands and you bring in bring them in
the form of their language server
protocol so that's that's an interesting
way for you know tool providers to kind
of not only you can model their commands
in such a way that they're also useful
for development especially mostly the
the persons who provide the VMO provide
the compilers are the ones that have the
fullest knowledge of the language and
are actually are the most suited to
provide the tools for tool at the
commands for such tooling and yeah in
the list there is each other and there
is already see it it's an eclipse Java
server because what we did is we just
you know took Eclipse we took out the
core parts of that JDT tooling and all
the core parts related to resources and
files and every UI all the UI is gone
and it's bundled in its own process so
we of course get a quite some quality
out of that right it eclipse charity is
a proven component and its are still a
lot of development going on especially
in the space of Java 9 and we can profit
from that there's some restrictions and
then you're gonna see them later
yeah III think I already said everything
about the language server protocol it's
it's a JSON based it's basically
communication of your open buffers they
go over to the other process and then
it's basically all these services that I
listed they're direct commands where you
give me a hover at this position gave me
code completion at this position and so
on servers can you know just implements
the things they want they the first is a
they first negotiate together with the
client what can they do and the client
negotiate eles and what do I want the
server says that's what I can do and
that's the way that the whole thing is a
setup and I mentioned right we added
also debugger and and the debug adapter
works in a very similar way so at the
moment it's not yet part of the language
server protocol it's it's a separate
thing it's it's kind of Microsoft II
only but the plan is to also bring that
in the language server protocol space
it's it's really an adapt it's a it's a
protocol that is talking to an adapter
right the debug adapter is the one that
starts the debug II like the Java VM and
then uses already existing protocols
just at JDI to talk to the VM and then
once it gets the results like you know
then it brings them into the form of the
table debugger protocol okay that's the
slides and now I will dive into some
demonstration use any questions already
now which I should answer before I go on
I work on the Mac nor normally I work on
Linux
now its stomach that's the cool thing if
you work on a cross-platform project you
can choose your platform I open III just
for demonstration I use this pet clinic
maybe I've seen it it's a part of spring
boot it's a simple project as an SQL
database and has a data layer and then
it has pages that are served it's not
super exciting but I think it serves the
purpose here
it's a magnum project and when I open it
you have to be very you know quickly see
if something is happening right away
while I open it already there is already
things going on in the Explorer over
there files are generated what's
happening is I installed the Java
extension now here I go to the
extensions for you I have already some
extensions installed one interesting is
the extension pack it's like it's like a
composite it has in there debugger it
has in there the language support and in
the future maybe more things that we
think are you know kind of an essential
for Java here is the core part of it
it's the language support for Java it's
by Red Hat it was created together with
us in a hacking session like over one a
half years ago most of the people in our
lab so in the CEREC lab actually from
eclipse so you know Eric gamma and
Irvine and Dirk Guinevere all the old
eclipses at some point joined Microsoft
switched over to web development and now
we are there in Visual Studio code so it
was Kenna always very it was always our
secret plan or innovation to actually
bring back the Eclipse knowledge and and
this happened in a code camp session
where everybody sat together red hat and
was also there they are now also the
owners of the J online editor and so
have interested in that bringing Java
language support to there and I said
yeah as a second can gain someone
momentum in in lately it's only it
doesn't it doesn't support all that
eclipse features it only does maven and
Gradle projects you can open eclipse
projects but it is
kind of limited and we really don't want
to go in the Eclipse space but we don't
want to be in a replacement for Eclipse
I think if you are an eclipse project it
probably everything works well for you
this is really for multi-language
projects and you have maybe some java
part of it or and you you could profit
from a code editor that not only speaks
java but many other languages to that
the other thing is the debugger for java
so it has already a list of features so
it just got you know open like a month
ago and there's a lot of there's four
more features coming the ones that we
have now pretty basic but expression
evaluation hot core replace and that's
all in the makings okay I go back to my
project know some quick in envious code
everything is keyboard-driven so I just
have to tell you what I'm doing here
command P is it's the way that the open
files I'm sorry
couldn't quickly open go to two files
ctrl shift P is the ones the command
prompt if you want to quickly find a
command you go here these are all the
Java commands but there's not much Java
commands we need at the moment let me
just look at the files you see syntax
highlighting is there there is of course
bracket matching some indentation is
working here that's more cool that's
probably you already expected and oh
there is already a warning
oh the serializable yeah yeah let's look
at all the problems yeah Chavez of
course workspace aware based on the from
XML it knows all the files source files
and where they are and so we can build
on that open that you see there is a lot
of other serializable warnings really
not so interesting but here's one Oh too
many imports oh there's a light bulb let
me try it and - all gasp import yeah and
of course all the Eclipse is here we'll
already see it's so similar and then
most of the features that I show you now
and maybe not surprise you right it's
it's really we really
eclipse is really nicely layered right
isn't there is the core part and
especially the tragedy core is very
powerful
and has very good api's that can be
leveraged this control-shift always your
outline again we kind of go away from
views but rather to typing and filtering
in this one quick you is like yeah that
the Swiss Army pocketknife of all our
that all the you guys we have now using
it that's the outline is going like that
you can select feels and see where are
you know the occurrences of it and this
is not textual this of course really by
resolving you can do we do some typing
now let me first go into more than
you've ever already seen here this is
what we call the code lines it's
something out of Visual Studio it's in
place information which is extendable so
by any extension some people have here
their get information you can have no
history information it's this line where
the eye one references this is
extendable there one references opens
the peak view it's not in place
results view it's not an interesting
result so you can you look at all the
references without having to leave the
editor that you are working in and when
you double-click you would open it of
course all these actions are also in the
command line a command menu but you
probably rather would find them to the
command prompt and then find out the
shortcut of it typing so maybe before I
do some changes let's let's run the
project and I go to the terminal
and I run ambien I'm sorry oh and this I
just the compile that means that it's
compiling into the target here and that
lets me now run my comb and debugger
the your blogger is not yet set up but
on the first run you are asked what type
of project is that it's a Java project
and it does some automatic detection it
found out that the clinic application is
our main class it's the only main class
we have so it's really loud already so
this works as is we can now really run
the better run button and we go on so
you see the server started up and we're
waiting for the fourth to be opened here
it is it's port 8080 I go to my browser
and see if this works so this is the pet
clinic yeah you can say it's it's a
database with pets and doctors and
owners and so on yeah son let's now of
course try can we also debug that and I
have to find in some interesting place
where it's a little bit going on here
it's at the breakpoint here go back to
my browser open one of these guys editor
pet ok and Here I am in the validate
routine let's step through and you see
some features like the inline variable
the variables of course you see them on
hover but you can see them also right
away at the end of the line going to the
debug view and you have the local
variables view you can browse through
that you can have some watches on
variables you cannot have it's
expressions sorry
expression evaluation is not yet there
that's coming we have two different
threads that are here you can pause
threats but not at the moment we across
be a middle of the debugging then yeah
stack views
it's it's the basic set of things you
expect from a debugger it's a hopefully
useful for you for development okay well
yeah I want to conclude with some
editing and yeah sorry I probably not
really useful stuff I'm gonna do now
we're just gonna show you yeah I'm gonna
add an extra
I use a method before it is initialized
I can create it I can add a parable to
it and also immediately create the
parameter I can of course the code
assists
oh no I'm sorry
I want to find out if there is already a
visit of a so this is a I did a database
of pets that go to the doctor I want to
find out if the pet has already gone to
the doctor that is when he was born
yeah basically just showing a little bit
of Java 8 syntax
okay oh I'm sorry yeah okay
now I remember us embarrassing myself
here it's not easy to type in the front
of the stage yeah okay
so that was my demo I hope you give it a
chance try it out and be active so there
is a various web pages where you can get
active
so first there wishes to do code page it
has the Downloads official pseudo code
in for all the platforms there is stable
and insiders right this is a daily build
this is a monthly build we have a four
monthly bills you can see what's up
every every time so the new next one is
coming out in a week then this is our
report with the issues you can file new
issues you can make pull requests this
is the marketplace with the extensions
it has the same content that's what you
have seen here over there where I
already installed some of the Java part
then here is another git repo so the
Eclipse is two part the language server
is under the eclipse foundation it is
used by many many projects and then you
we also have a repository that is just
for for vyas code for the villa's code
adapter that's this one
that's it thank you very much yeah yeah
so the question is it's it's an editor
what about refactoring features are they
still fitting into features that ya
renamed we already have and there is a
big pressure coming from C sharp which
has a lot of these refactorings too at
the moment they're in the category of
code actions right so you can invoke a
quick fix on a position that is not not
an error it's just a position and then
you see some refactorings but that it's
maybe not really a nice UI and many
people will not find it so there is now
it's coming now that we have more of
these providers and there will be more
prominent actions the like extract
method extract local that are may be
useful that are useful or across
languages or that will be used across
languages yeah yeah so yes there is more
refactorings coming also in Java we all
have these refactorings and then we
wanna use them yeah what key human
control space or for the light bulb it's
control for control dot yeah and that
the cursor has to be on top of the error
yeah yes yes
yeah okay hmm
yeah yeah okay so your question is
should you just install all the
extensions for all the languages you
need or would you rather have one you
know instance that has only these
extensions I think you should install
them all because we have a kind of
different architecture than we should
studio or eclipse everything is running
in their own processes so the UI is a
known process and then there is the
extension host that's the one that
actually serves the different extensions
and then these language servers there
are different processes again that's
pretty cool for you know you cannot
crash the UI
you cannot freeze the UI in your
extension if you freeze the extension
host we will be detected and restart the
extension hose same for the language
servers so this is one of the lessons
learned from from eclipse right and of
course they were probably also at a time
when there's so many processes running
that we have to you know look at that
but yeah that's the underlining
architecture yes Ryoga is coming back
right it's just just a few days and this
back yeah yeah yeah nobody liked orange
yoga's over we still have the same logo
unfortunately if there it's the family
it's the family logo for visual studio
and so we we are part of Visual Studio
family and yeah everybody has same kind
of similar logo with the bending and
folding yeah thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>