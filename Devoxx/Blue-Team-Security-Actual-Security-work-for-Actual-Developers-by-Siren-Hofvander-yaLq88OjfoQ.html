<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Blue Team Security  Actual Security work for Actual Developers by Siren Hofvander | Coder Coacher - Coaching Coders</title><meta content="Blue Team Security  Actual Security work for Actual Developers by Siren Hofvander - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Blue Team Security  Actual Security work for Actual Developers by Siren Hofvander</b></h2><h5 class="post__date">2017-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yaLq88OjfoQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay
so I had my talk change at that very
last minute so if you're not here to
listen to blue team security the doors
right over there no one's running out
the door
this place is way bigger than I thought
it was gonna be so no pressure
my name is siren I flew all the way here
from Sweden to hang out with you guys
I'm the head of security for a medical
company digital medical company that
puts you in contact with a doctor
through an app so we take security
rather seriously given that we have
patient journals so I work a lot I have
a bunch of certs they're really boring
if you care deeply about them you can
ask me later
in essence I've been doing this over a
very very long time
I run a security group in the southern
part of Sweden so if you're ever in
Sweden I want to learn more about
security come hang out with us we have
free beer and free pizza and that's it
it's a free beer free pizza and tea cuz
I don't drink beer you can follow me at
twitter at security pony i don't tweet a
lot but i tend to answer questions so if
you have questions after this you can
talk to me and my superpower is that i
get lost i get lost a lot and everyone
needs a super super power so that is
mine i get lost super easily today we're
doing blue team security which is
defense which is what i do so if you are
expecting a talk where i was gonna stand
here and madly like hack away at a
system showing you a vulnerability i am
so sorry to disappoint you that's not
what i do i do defense which is way
cooler so yeah i'm gonna convince you of
this whenever we talk about defensive
security i hear the quote a lot rome
wasn't built in a day so chill you can't
possibly build that system immediately
cuz rome wasn't built in a day and it
needs to be slow and you want a big bang
approach so calm down because that it
takes time and you need to kind of calm
down i hear this a lot so we're gonna
have a little bit of a history lesson
here because
like stories this is Emperor Nero he
ruled in Rome a very very long time ago
he ruled for 13 years in Rome and he was
ruling Rome during the time of the great
fire has everyone heard of the great
Roman fire Rome burned what most people
don't realize during this quote is that
rome wasn't built in a day but it burned
in one is the end of that quote so
Emperor Nero ruled when Rome burned and
Rome actually burned during for six days
but Emperor Nero gets blamed for this
and I think about Emperor a lot because
he didn't build Rome all by himself it
wasn't him Roman existed before his time
and it kind of existed after his time
but there he was and he gets blamed for
Rome burning down and there are a lot of
different reasons that Rome burned some
people think he burned it intentionally
some people think he actually lit it on
fire while he was playing a lute and
just kind of watching it burn and other
people think he was actually trying to
stop the fire but he was in charge Rome
burned to a bloody crisp and he got
blamed despite the fact that it wasn't
actually his fault
so remember that Rome didn't wasn't
built in a day but it burned in one
bringing me to my next most often heard
quote we can't predict everything and I
get this one a lot so I'll bring up a
risk when we're trying to build a fence
and it's when is that going to happen
tell me is it going to happen tomorrow
in six months twelve months 18 months
how do we prepare for this risk that
you've discovered you're waving your
arms you look really scared how do we
prepare for that particular risk and I
give them a number I give my best
estimate and then they say how do you
know and I gave them some more facts and
they say but we can't predict everything
you're probably wrong and they'll bring
up some horrifying disaster like this
one this is 911 and they'll say we can't
possibly predict horrible disasters we
can't predict when the next attack is
coming we can't predict earthquakes we
can't predict we can't predict we can't
predict we can only take into account
what happens today and this becomes a
big problem when I'm trying to
Proactive security I want to protect
from the next attack and it's not really
great to protect from the next attack if
it's already happened
puts me in kind of a bind so I'd like to
talk this is my second story I'm only
telling two stories today so this is the
second one this is rick roll ascoli he
is a physical security engineer he
worked for Morgan Stanley in the States
came from the UK military joined the
American military and he did security
and so he has a very very interesting
story so he worked around the World
Trade Center
when the Pan Am bombing happened in 1988
Pan Am flight 103 blew up in Scotland
was a terrorist attack on the plane and
he looked at that and he worked around
the World Trade Center at that time
anyone this is gonna be a problem for me
plane blows up in Scotland he works out
around the World Trade Center he goes
aha this is gonna be me so he hires
another physical engineer he consults
with another physical engineer a man
named Hill in a 1990 they wrote a
physical security report around the
World Trade Center and they turned it in
to their bosses they worked at Morgan
Stanley had worked around the world
trainer and their bosses read it and
they kind of went this is interesting
ok ok put it down 1993 crazy dude drives
a truck into the bottom of the World
Trade Center blows up a couple's
supporting beams they're a couple of
people died very very sad and Morgan
Stanley dusts off the report opens the
report reads it this time and realized
in the report they'd pointed out that
the bottom of the World Trade Center was
highly unsecured and they went shit dude
has a point so he earned some pretty
good some pretty good credit at that
point and so he's talking to his bosses
and he said we're still a target we've
we've secured the bottom of the World
Trade Center
shit's much much better I think it's a
plane they're gonna come for us with a
plane and his bosses went you were right
last time we should probably listen so
they looked at their lease and they
realized they couldn't get out of the
lease until 2016 they were stuck in the
World Trade Center he wanted them to go
to
but they're stuck in the World Trade
Center and so they go okay every three
months every single person that our
company is gonna have mandatory
evacuation every single person we're
gonna stand up and we're going to get
out every three months from the CEO down
and they did now this is the great part
so first plane smashes in the World
Trade Center over the PA the information
that the people and the World Trade
Center it get is stay or desks stay calm
and realistic Olli jumps up on the desks
grabs his mic and goes get up get out
and every single person at Morgan
Stanley every three months they stand up
they get their buddy and they get out
and every single person at Morgan
Stanley lived rickroll ascoli was last
seen on the 10th floor going back up he
saved 2700 people that day and he died
he called his wife on the way up and he
said she was the love of his life and
that he was you know please go on please
be happy and he went up he was looking
for the next company to get them out and
unfortunately he died and I think about
that a lot because 1990 he knew it was
coming and so I go back to that quote we
can't predict everything so this is my
spot at work this is my whiteboard he is
on my whiteboard every single morning
and I look at him every single morning
and I make everybody that comes into my
office look at him every single morning
this is my lovely Kanban and so I work
defensive security and I meet this a lot
you know that's never gonna happen and I
think at least I don't have to scowl to
my boss and say they're coming for us in
a plane because I don't have the
strength to do that I don't know how I
could make that argument I don't have to
worry about planes because we work on I
work on the second floor so it's very
short very short and I just think about
the strength of that person to get his
boss to believe that they're coming for
us in a plane in 1993 and they didn't
hit till 2001 but every three months out
the door out the door out the door out
the door and that is super impressive
so I want you to kind of keep it in mind
as we go through this talk I do a lot of
talks about the difference of security
and I hear this a lot from developers
and they go that could never possibly
happen it's never that bad no one could
possibly be that stupid I personally
would never do that and I love that I
personally would never do that because
that means that they are the developer
that works with no external code
libraries has no external dependencies
their code never touches anything else
and they work in a complete isolated
bubble and I have never met that
developer so your code may be perfect I
doubt it but for the sake of argument
let's say that you are that person
you're a genius you're amazing you work
with other people who are for the sake
of my argument lesser mortals so you
have to take their failings into account
it's sad but it's a fact of life and so
then we're stuck with all right I have
lesser mortals to deal with because you
are that shining beacon of hope and
unfortunately we make mistakes and we
make them over and over and over again
and one of the greatest shocks of my
life was I started my career as a pen
tester I started attacking systems and
when I was young and naive I thought I
am gonna start finding new bugs I have
found you know wasps top 10 a million
times now I'm gonna find the new bug I'm
gonna do it it's gonna be new and
amazing and I've been doing this for
many many many many many years now and I
still find the exact same bugs I still
find sequel injection I still find
cross-site scripting I still find
configuration errors I still find
session errors it's still happening so
despite your utopian state of your
amazing code that touches nothing you're
stuck working with lesser mortars that
apparently can't read and well they
can't and they can't learn from their
mistakes because I am finding the exact
same bugs now that I did 10 years ago
that I did 15 years ago because I
started doing you know I started playing
with stuff when I was 14 15 so I've been
doing this for a while and and we're
still making these exact same mistakes
and I guarantee that these big hacks
that we've seen that are big and scarier
and they're on the news I promise if you
really like
put a gun to that CEOs head or a gun to
that you know CSO's head and said what
was the root cause of this I can
guarantee that it's going to be sequel
injection crust that you're scripting or
a validation bug or that they don't have
control of their accounts it's gonna be
one of those four and that is not a sexy
headline that is not a sexy headline to
say we've known about this issue for
thirty years and our developers have not
improved that is not nearly as much fun
as super hacker takes over bla bla bla
bla bla with mega bomb I don't know if
you if you if you find a hack you get to
name it and it's always something super
cool so it's gonna be mega bomb I don't
know so oops there we go and then as
security becomes more popular more sexy
more fun to write about more and more
and more companies get hacked by the
exact same bugs over and over and over
and over again over and over and over
and over again we st. keep making the
same mistakes let's despite our utopian
state despite our perfect code and we're
still we're still kind of tripping over
the low-hanging fruit and then we go to
security conferences and it's some some
person in some pre-configured
environment hacking away you know
showing some super exploit that in
absolutely and utterly no way reflects
the reality of your particular product
you don't work with mobile you don't
work with that database you don't work
with you know pick your poison
and so the hack that you're seeing
doesn't actually affect you so you sit
at that talk and you go that person is
great at their job I would never do that
and then you leave and that is that is
your that is your lesson that that
person is great I am amazing I will go
home and so we're talking about the fact
that that think things keep happening
over and over and over again but where
we're secure is a rising to meet that
challenge and I would say we're not and
that is something that we in the
security community they're not here but
I'm just gonna take ownership for them
that we need to be doing a better job we
need to be selling defensive security
and we need to be doing it now and we
should have been doing it since the
beginning because this is way cooler
I've done both ends and this is this is
the cooler end so if I could just
convince like that dude right over there
who said yeah I said I was gonna pick on
you dude over there
the security isn't his thing you're on
I'm just it's it's the cooler end so I'm
gonna I'm gonna change your mind dude
over there so this is a talk about the
reality of security work not not I'm
hacking away at a pre-configured
environment here we have the beautiful
front end any front-end developers here
hand up wow we're mostly back-end here
or mobile wow that's cool so the fronton
is going to work with a back-end and for
some reason for some reason there's a
security problem between this and this I
have I don't see it personally and I I
love back-end developers my heart will
always be back-end and every single
back-end ur ever always says my back-end
doesn't look anything like that and it's
true I mean if you look at this back-end
there's technically a house that you
could probably live in and if you just
focus on that teeny-tiny room there at
the top I mean there's a roof there's a
door there's a window it's functional
we're gonna be fine so it's it's it's
definitely it's it's kind of a you know
you're looking at this and you're like
this is amazing we don't need to do
security work and this is what most
people see so we're fine right and then
we're looking at this and we're like
alright it's such a disaster I don't
know where I could possibly start with
this because Jesus Christ it's a ruin
and most security this is what I'm
presented with fix it these are your
resources they're standing here next to
you I will give you ten dollars you have
ten minutes
are you done and I'm like damn it no and
then most developers when we started a
new company unless you are the person
that's built the entire back-end
yourself you usually brought into an
environment where you didn't build most
of it and so if it looks like this where
can you possibly start to actually make
an effective change to improve the
security of this I mean if I came into
that and I was a developer I'd be like
shit I'm out of here but I need to eat
and I need to pay rent because I don't
want to live in a tent so I'm just gonna
keep you know I don't know I'll add a
log somewhere and I'll just say that's
good that that'll be me I'll just add a
log and just hope for the best sand
I don't know I don't know the more snore
more screws we're gonna be fine and then
I'm just gonna hope that nobody notices
because everybody's looking at this at
this point at the talk this is usually
where people are like we're done I'm
doomed
I should clearly should have gone to the
talk over there this is way too
depressing
or I was expecting something else so if
anyone needs to go I totally understand
but as I promised dude over there this
is a talk about hope and this amazing
graphic that I found last night that
totally is like perk this slide up
because it was getting a bit dark this
is the reality of working blue team
security you will never be over funded
I've been doing this for a long time and
I have never ever ever been in the
situation where I'm like what could I
possibly spend my money on
I have oceans I have never been in a
situation where I've been like aha I
have nothing to do it's never gonna
happen I will never be done and this is
actually what makes me love my job so
much it is the absolute best job I've
ever had I have never had a job that is
more rewarding it is the most difficult
job that you will ever have and it is
the best and it is amazing and I am
Telling You that it is so resource-poor
right now that if you write security on
your CV you will be hounded to death by
recruiters seriously and the best part
is it's not particularly hard it's a
stretch but it's not particularly hard
most people look at the dude banging
away the pre-configured environment and
I think that is security work and it is
absolutely not most security work the
real security work is hygiene it is
trying to protect us from whatever it is
and we have to do it immediately because
it is coming I'm also kind of afraid of
clowns haven't seen the movie yet but I
will and we have to figure out what it
is and defend against it and that is
really really difficult if we have to
protect our entire castle we have to
find every single hole we have to
protect all of them and we're there by
ourselves with our my invisible pile of
money my giant team of me and oh god oh
god
ten minutes so where do I start honestly
this is the most important slide you're
gonna get from me honestly
validate your inputs you will kill
ninety-eight percent of the attacks out
there I swear to you I swear on my life
if you do this you'll get rid of almost
all the security problems you will have
not all of them
absolutely not all of them but you will
kill so many of them you will be making
an effective change in it's a really
pouring boring thing to do when I hate
that it's true but it is so just just
validate your inputs just do it full
stop the reason most people don't is
because this is the this is who we think
our attacker is it's hacker man if you
haven't seen King fury do it it's
hilarious they think that we need to be
protecting from you know super hacker
Edward Snowden you know the super super
super hacker I don't even know all of
them but there are some scary talented
people out there I'm not one of them but
they're scary talented and honestly
that's not who you're most likely threat
is it is this dude he has just
downloaded the latest hacker bot he is
you know using denial of service boss
like hammer that he can literally rent
from Amazon Cloud and he doesn't know
how to do anything and you can't get
past the validation on your front end so
as long as you can just kind of kill the
98% of I'm just gonna call them peons
you're making an effective difference if
we're looking at you know in France a
couple years ago a million zillion sites
were defaced every single one of it was
due to the fact that they didn't
validate their inputs every single one
they could just switch out the pit you
know chout the picture they had a new
picture on their validation would have
solved that entire problem boring
problem to solve would have solved the
actual attack so this is not the enemy
and honestly neither is this this is the
most likely threat the most likely
threat we face is unfortunately bad code
and I would argue that there are no bad
developers there are developers and bad
suit
tuitions that are understaffed
underfunded and uninspired and I do mean
uninspired so I'm trying to make that
change here by blue team and defensive
security they don't know where to start
and they're looking at that back end of
the ruinous house and they're thinking
what could I possibly do what could I
possibly do to make this you know turd
fire of a situation even slightly better
and in that situation I don't know if
without my security knowledge if I would
be any better and then I meet front
Enders and they're like efferent then
security is stupid because they'll get
around it right away and I'm like yes
and if you're looking at Edward Snowden
yes probably but 98% of what's out there
isn't Edward Snowden thank God Edward
Snowden's a great guy but you're trying
to get rid of you know validation
attacks you're trying to get rid of bots
you're not trying to get rid of a mega
hacker because if a mega hacker is
coming for you there's nothing you can
do honestly it's a matter of time before
that person gets in so it's just kind of
me to you we're done so what I'm
actually talking about is risk so we're
trying to figure out what is the
riskiest thing that could possibly
happen what is the where where can I
make the best impact where can I solve
where do I get to use a buzzword which I
truly hate the most bang for my buck and
I feel a little sick singing it because
it's all buzz wordy but bosses like to
hear a bang for buck so we're talking
about risk so we're looking at three
possible things that we want to kind of
meld together into one giant thing and
its impact possibility and ease of
exploitation and I stole this image from
Google I didn't make it myself because I
make shitty slides so I stole this one
right from Google and what I'm talking
about with impact is how bad is it
possibly going to be how bad if I steal
your entire database how bad is that
going to be and if you can answer the
question it's encrypted with AES 256
super encrypted we have good key
management bad yeah
worst case scenario you'll have a little
PR thing your PR personal trot out and
be like it it's super encrypted if they
have a server Hall in five hundred years
they'll find your personal information
but they don't so we're good
not not super bad if your database
in clear-text you're gonna have a bad
day and I'm sorry don't do that
so possibility and this is the one where
people tend to get tripped up because we
think in terms of it won't happen to me
it could never possibly happen to me or
we don't have anything of interest and
this is the one that drives me nuts
because every single website every
single app has something of interest in
its reputation phishing is still one of
the most lucrative things you can do on
the Internet
if I can take your website and fish
people's information through it I will
be making money so even if your website
is puppies calm or look at my amazing
kittens or I don't I don't even know
think of a website that contains nothing
of interest you have a reputation as a
trusted website and you will be a target
probably not from an Edward Snowden type
but from someone trying to fish
information fish or certificates use you
for spam whatever the case may be they
will they will use your reputation to
make money so you're absolutely a target
sounds dark doesn't it ease of
exploitation this is where people that
don't have a lot of security work get
tipped up because they're like I
personally would find that extremely
difficult and thank God that they think
that because then no one would be
hacking ever unfortunately you can't
think from yourself you have to look at
what are the techniques being used right
now and what's actually happening around
in the world right now and to your help
you have companies like sands or
companies foundations like sands and
wasp and CBS s that actually do
statistical analysis every single year
of the types of attacks that are
happening so you can actually measure
how much how often this particular tack
is being used and give yourself kind of
a between finger and thumb how likely is
this to actually happen to give you a
better idea of the risk that that
particular attack can do or can happen
so where you start your security work as
always with a threat model if no one
else has seen this this is a threat
model you're looking at drawing out your
entire application and trying to figure
out where you're going to screw it up
and this is always hard if
especially if you've been the person
that's built it from the very very
beginning because it's kicking a baby so
you draw your application and you draw
your threat vectors and those are the
little lines there in red and it's where
you're talking to an untrusted source
someone not to you somewhere that a user
can interact that a service can interact
and send you something nasty and that's
where you want to start and you can
break this down to a service level so
I've broken this down to tampering by
that process so you can actually take
this down to I mean the this frankly the
subatomic level I wouldn't recommend it
if you're just starting out but you
could hypothetically take this down to
any process that you want it's
subprocesses micro processes Micro Micro
processes that's probably a thing I
don't even know but you can take that
down to absolutely any level you want
but where you realistically want to
start is here you want an architectural
diagram of what you're looking at now a
lot of you have the all right I can I
can draw my thing but then what do I do
because I don't know security I don't
have a security department my security
person is a jerk that I don't want to
talk to whatever the case may be a lot
of us are jerks I understand so you're
gonna use something to try and figure
out where the risks are and this is
something this is the one Microsoft
product that I endorse this is my one
product endorsement because it's free I
stole this picture from from Google
again and this is a method called stride
and using stride you can find 98% of all
of the risks on the Internet
there are only six types of Internet
security problems you can see them there
on the left
they are spoofing tampering repudiation
information disclosure denial of service
and elevation of privilege every single
security problem boils down into a type
and it is one of those six the benefit
of this particular process is that it
tells you where those can occur so if we
take spoofing for example it is only
possible that spoofing can show up if
you're looking at processes and
interactors that's the only place that
spoofing will show up so it's not
relevant for you if you're looking at
your architectural diagram over here to
look at spoofing in a database for
example unless the database is running
as
so you take your stride you take your
database or you take your excuse me your
your data flow and you start drawing up
the risks and it's going to look
something like this on the very very
left you're gonna have the bad thing
that you've discovered and it's
tampering for example we're just gonna
put it as tampering and you can stick
tampering in anywhere you know anywhere
that's relevant for tampering to be the
mitigation for tampering is SSL for
example
and when I say SSL I actually mean TLS
but most people they say SSL because TLS
is for whatever reason weird the unknown
anyway so you know that that's the
mitigation for tampering and the benefit
here and this is the true benefit is
that you don't have to know how the
tampering attack is coming because from
a development perspective it's
irrelevant you're building the defense
that if the attack is always going to be
coming and it's going to be coming in
some ridiculous creative way that you
can't think of that I can't think of
despite the fact that I've been doing
this for as iliyan years but the the
mitigation the protection the defense is
always going to be SSL TLS or something
else to prevent tampering from happening
so then you have your dev tasks you have
to implement the SSL TLS you have to
make sure there's actually a version
that's realistic you have to make sure
that the version between the back end
with the front end is the same you have
to make sure that you don't allow HTTP
to be posted to an HTTPS stream there
are a bunch of things that you as a
developer have to be able to do and then
you're gonna toss that over here to your
testing department who's going to check
to make sure that you didn't screw up
it's true and so this is a way to give
you a structured way to look at things
that could go wrong and what you're
going to do about them without having to
sit and think how would an attacker
possibly do this how could I possibly
whatever the case may be this will give
you the the threat and it'll give you
the mitigation now this is going to be a
potentially gigantic list because your
architecture is probably complex I have
done these where I've come out with 250
points and running to your boss so I
need 250 things done is probably not
going to be a good thing to do so we're
going to talk about how to rank these in
just a just a little bit but the idea is
that this list can be very very very
long and it should be very very very
long because
when the bad things happen you can go to
your boss and say I knew about it and
you chose not to fix it but I told you
it's right here in this list you signed
off saying I know but we can't fix that
so you kind of caught your rump so to
speak your butt covered I don't know
what the colloquialism is I want us all
to look at that one at the very very
bottom the zero day horror and this is
the one that stride covers 98% of all
the risks on the internet there are the
2% that unfortunately we will never be
able to defend from and they're the zero
day and the stroke of genius a threat
that is so new a technique that is so
new you know something that's just once
in a billion years that could this
possibly be you know a thing that we
can't do we can't do anything about it
and when that happens I hope to god that
you have a good disaster recovery
process in place that not only exists
and is up-to-date but that everyone
knows what they should do that the
developers are DevOps when they're
trying to get your systems back up that
they know in what order that should be
done so that you don't put up you know a
front end with no back end to support it
or a back end with nothing to talk to a
mobile app with nothing to talk to
whatever the case may be that it's done
any structured order key things here
everyone has to know it exists - they
have to know what they personally are
supposed to do there's a great comic
that I unfortunately could not find
where there where the boss is saying but
the disaster recovery program just says
we all run around going what do we do
what do we do and that's generally the
state of affairs that most people the
disaster recovery plan just kind of lays
there and gathers dust and no one loves
on it and so when the bad thing happens
everyone runs around going oh god oh god
we're all gonna die and then the
security departments gets blamed and
then I have a really bad day
so when you're doing these always have a
zero day whore at the bottom or at the
top wherever you feel like they should
be so that you really point out that I
can't defend against everything and so
we need to defend against things that we
don't know about what are we going to do
what is our plan you need a plan and
this is what you will hear every single
time I've been doing this forever and I
hear the
all of the time I I am fairly well known
I have a big fancy title I you know in
the head of a department and I still
hear this I've been hearing it since I
started all of my friends and security
here this you know the Equifax came out
and I swear to God that boss the day
before it happened had been like that is
never gonna happen I swear to you
I swear to God and when that happens I
want you to think about this man because
I do and I think about this man and I
think thank God I don't have to defend
about planes because Jesus Christ what a
hero to convince his boss that they're
coming for us with a plane and that
really helps me on days when I'm
struggling and when I'm just like I am
going to help me so I think about this
man so find someone that can kind of
inspire you to get over that hump
because this sentence is never ever
going away no matter how good your
information is this sentence is never
ever ever going away and that's because
people think it's never going to happen
and this is interesting because when we
drive cars we put seat belts on everyone
drives and they put a seatbelt on I have
never met a person that gets in their
car and says I am going to crash today
but everyone puts their seatbelt on and
I and I think about that a lot when I'm
when I'm looking at him and I put on my
seatbelt I'm think that there was some
security person that figured that shit
out so don't give up
and now the Nitty Gritty developer part
I'm actually secretly talking about
validation and it's because if you
actually do this you're gonna get you're
actually going to make a difference
you're actually getting rid of security
problems I know it's a boring problem so
I'm trying to spruce this up a little
bit because I know validation is unsexy
so just bear with me now validation I'm
assuming everyone in here knows but
we're basically checking to make sure
that what is sent in is actually what
we're expecting what is sent out is
actually what we're expecting that's it
that is validation we can talk about the
difference between validation and
sanitation but that is a talk for
somebody else to have I'm not having
that one the reason why we want to do
this is there's there's about five
different attacks the validation can
solve for now this does not
that if you validate all of your inputs
cross-site scripting will go away and
you will never have to worry about that
that is absolutely not what I'm saying
however we're trying to defend against a
script kitty low-hanging fruit here if a
super hacker is coming for you it's been
nice knowing you're done you're done but
if you can make my life so ungodly
difficult that I can't get us across I
scripting to work in all likelihood I'm
gonna swim away and go attack someone
else so you're not trying to kill you no
hacker man you're just trying to
irritate me to the point that I go
somewhere else and attack someone with
you know less validation and this can
seem like kind of an uncommon response
that you know you're whacking on the
lesser person and I realize that's not a
great message to be sending but
unfortunately that's true
same thing with injection texts same
thing with tampering attacks denial of
service attacks configuration attacks
all of these can be markedly improved if
you improve your validation and I mean
that going from the front end to the
back end and from the back end coming up
a lot of the times we trust our back-end
implicitly and so when the backend has
apparently speaking to a lot of backup
back-end developers a bad day and it can
happen the front end goes absolutely
nuts
so we need to work on defense and death
we have to have embedded defense you
can't have your entire defense being
built on one component because that's a
single point of failure and that's no
good so you can do a validation in a
bunch of different ways my personal
favorite and the one that is most secure
is whitelisting you should always be
able to guess to a reasonable degree of
certainty what you're getting in and
what you're getting out there's always
the argument of yes but and I hear yes
but but you can make a whitelist that's
flexible you can make a whitelist that's
easy to configure and you can draw
statistics of the what you're rejecting
and add to the whitelist as you go it's
I'm gonna give it ten more minutes
process to maintain but if it's ten
minutes and you're rejecting a
significant number of attacks I would
argue that the ten minutes is worth it
you can do this with boundary checking
if I can my mom is a great example
she'll put in a zoo
characters in the name filled and if the
name field accepts a zillion characters
and the webserver dies my mom is not a
genius hacker the validation is the
problem you can do this with character
escaping you can do this with null bytes
there are so many attacks just because
we don't check to make sure that we
don't accept null bytes null characters
anything that just accepts a drop we
don't check for him because that would
never happen and it's a boring boring
thing to check for utf-8 is probably one
of the more common ones especially as
our world becomes more global and our
browsers become more advanced Firefox
and Chrome and Internet Explorer and now
take and interpret things and twist them
around so our whitelist doesn't work so
even though whitelisting is a great
defense you have to take you t8 and the
browser into account so if I could just
marry those two into some sort of great
concept that covers both I haven't been
able to how to figure out how to do that
so if someone's smarter than me
definitely let me know how to do that
don't trust your sources and this is a
lot of thankfully back-end stuff across
the system consistency checks if you
have three databases they all feed the
in same information make sure that's
consistent this is especially true if
you're looking at authentication schemes
and you have a round round a round robin
system you log into one server you log
out of the other server and according to
session or server a you're still logged
in server sees as you're logged out
there needs to be cross system
consistency check your hashes to make
sure the hashes are actually correct and
make sure the hash is actually are what
you're expecting and I want to talk a
little bit about keys we're gonna we're
going to skip right over referential
integrity but create keys when we're
looking keys make sure they're actually
unique and make sure the keys actually
exist which seems like an absurd
statement I can see on some of your
faces like that is the stupidest thing
I've ever heard and I wouldn't have it
in this slide if it wasn't a real thing
people assume that the you know I've
gotten a key the key must be right I
won't check I won't even check that the
key exists and for whatever reason it's
a real thing because that would never
happen
finally we have post validation I really
did seriously go hardcore for this
validation on this talk after you
validate there are three things that
need to happen or one of three things
that needs to happen in an enforcement
is you have to the the user has sent in
content that you're expecting and you
can even enforce telling the user that
no that was wrong try again and that's
if you have a lot of interactive usage
try again do it again I'm rejecting you
don't tell them you know you can't have
s in our system because that's helping
me but tell them that their content was
wrong and forced them to do it again you
can have an advisory action which is I
know that what you did was wrong I'm
saving it in a sandboxed spot in my
server but I'm not going to reject you
and you can have verification actions
and this is you can see this a lot in
billing you've taken information from
the user and then you present it back to
them is your name really siren offender
do you really work you know do you
really work at this place do you really
live in Sweden and make me look at it
one more time and these three can come
up and you're going to argue with design
because they're gonna say it's bad it's
bad UX it's bad you I don't do that
because I I have designed a beautiful
system that doesn't take into account
whatever the case may be and again ten
minute conversation it's not a plane and
you're getting rid of 98% I don't I'm
gonna think of a giant number just to
sound impressive but a large number of
security attacks and I would argue that
that conversation is at least worth
having just have the conversation if you
lose lose the battle for God's sake
don't lose the war but have the
conversation because it could be that
design comes back and says oh that's a
good point I can eat that add that no
problem no problem but if you're not
brave enough to have the conversation
then mmm then you're stuck with the back
end that looks like a ruin some
standards as I promised the first one is
the most important this is my very very
very favorite standard is that keep it
simple stupid standard don't over design
don't do it don't do it don't do it -
don't do it it makes my job harder it
makes
everything harder just keep it to simple
stupid
please if I could add a P but kiss
doesn't sound as good as kiss so keep it
simple stupid the simpler the better the
simpler the better the simpler the
better
I look at a lot of systems I look at a
lot of architectural drawings and 100%
of the time the more complex the system
the harder it is to defend the more
likely it is to attack the more likely
it will be attacked because I as the
attacker know that the developers are
going to be underfunded and frankly just
have a million things to do and security
isn't highest on anybody's priority to
spiked despite the fact that every
single company has some sort of we take
serious security very seriously we have
a risk designed approach bla bla bla bla
bla bla but you ask their developers and
they're like huh yeah sure we do that
yep and then they leave and then they
just kind of avoid me and now they're
just like yeah but ironically everyone
knows what I do but they'll slam their
computers shut when I show up but yeah
security is a top priority that's done
by uh yeah see I keep it simple um ASVs
and mas BS there are a bunch of
assurance models these are my two
favorites they are lists of security
tests that you can do to make sure
you're not screwing it up they are
produced by a wasp they are designed to
be automated security tests and they are
brilliant because they are described
they are documented and they have
already built into them the business
case that you can present to your boss
you can literally copy paste the
preamble give it to your boss and say
here is the statistic amount of work
that needs to be done and here is the
benefit I've copied pasted this don't
say that and then when he says all right
what are the tests you can like I got
you I've already made this list he's
gonna be like wow that's super
impressive you should get a raise yeah
yeah ASVs mas V is super documented mas
PS is on github there's already code you
can literally just fork it done makes
you look good Oh ASP I've talked a
little bit about them it's open web
application security project I'm part of
them and one of their moderators this is
a totally a plug for
and the reason I'm plugging co-op is
that we make a point of trying to invite
more people into security so we have
best practice guides we have checklists
we have forums so you can come to us and
you can ask us for help and it's free if
you're talking to me then I will try and
be nice but you can literally be like
how do I do this in this particular
language and I can nearly guarantee that
we have a checklist we have a coding
best practice we have something that can
help you you just have to reach out sans
does the same thing sans releases a wasp
and sans release top ten risks every
single year so they do a statistical
analysis of the attacks going on on the
internet and they release these are the
top ten things that websites that mobile
sites are actually looking at right now
that can make you have a bad day look at
those lists because they actually have
numbers that you can present to your
boss and say if we do these three things
statistically we will be making a
marketed difference this will actually
help us see VSS is a global database of
all the attacks and it gives them a
score it has a little calculator that
you can actually put in a risk and say
it's this difficult it effects these
components it's on the network its
physical whatever and it will actually
calculate the risk for you based on its
databases of risks so you don't even
have to do any thinking because CBS will
do it for you and then it will present
you best practices it will present you
test cases it will present you best
standards it will also help you so take
a picture of the slide it's a good one
but the most important one is keep it
simple stupid finally start small and I
know this is really hard especially if
you're looking at the ruinous back end
of my slide a few days ago or a few days
ago with your side's ago it's it's
really hard especially if you're like I
have validated one input one and you
feel like that doesn't make a difference
and one input field probably doesn't but
Rome was not built in one day and
someone had to lay the first brick and
the person that lays the first brick the
next brick is gonna be in line with that
brick and then it's gonna be an oh shit
the cameras gonna be mad here we go the
next day line up yeah I have to the
camera
they said no running around he did so
sorry camera so if you're the person
you're like I'm making a validation
schema I unless unless you work with a
bunch of jerks it's pretty likely that
the next person is gonna be like alright
if you've invested that time I guess all
viola I'll validate my input next next
person from their own will final knows
two people fine I'm just going to
validate my input fine then you're gonna
hire someone the person to be like all
right well we validate our inputs I'm
just gonna validate my input I'm fine in
six months all of your inputs are
validated but if you're thinking about
that first day and you've only done one
that can be really really difficult so
just they don't don't think in terms of
I have to solve everything today I think
I have to solve everything in six months
and the way I'm gonna get here is
putting down that very first brick and
that has to be you so this is my very
last slide I am NOT a developer I work
with a team of absolutely brilliant
developers I've been doing security for
a long time
I can't develop I can read code I can
code review but I cannot develop and so
I have had the great fortune to be
surrounded by developers in both forums
and conferences that have helped me to
build all the tools and have just helped
me to do the things that I cannot do so
a heartfelt thank you
for me to you because I could not
possibly do this job without you and
security gets a lot of credit for
defense and I would argue that the
developer should get just as much credit
if not more because I am one person I am
one function and just like in code I
can't work by myself
so from me to you thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>