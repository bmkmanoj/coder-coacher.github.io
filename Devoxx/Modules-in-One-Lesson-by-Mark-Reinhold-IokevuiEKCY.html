<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Modules in One Lesson by Mark Reinhold | Coder Coacher - Coaching Coders</title><meta content="Modules in One Lesson by Mark Reinhold - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Modules in One Lesson by Mark Reinhold</b></h2><h5 class="post__date">2017-11-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IokevuiEKCY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon welcome to modules in one
lesson my name is mark Reinhold I work
on Java now and then so this is mostly
going to be an interactive talk the the
title modules in one lesson might lead
you to believe that I'm going to teach
you everything you possibly could could
know about modules everything there if
there is no but of course I can't so a
better title might actually be you know
modules the TLDR
modules skimming the surface modules
showing you a few a few cool things and
basically how it works so for reference
how many people were in Alex Buckley's
talk the session before the previous one
excellent
so you've you've already got the
terminology you've already got some of
the philosophy what I'm gonna do is show
you some of how how all this works in
practice so we'll explore a little bit
we'll see how modules are deeply wired
into the system at both compile-time and
run-time we'll look at the modular JDK
fairly briefly and then we'll demo
actually take a little a little trivial
hello world app convert it in a sort of
gratuitous way but it's good for a
little uh striated purposes we'll
convert that into two modules and see
how they interact and see how the strong
encapsulation and reliable configuration
that Alex spoke about actually shows up
in practice and and what is what is like
in in in reality so with that let me
switch over here oh and by the way I
probably will make a mistake or two this
is mostly gonna be live coding so if you
think you can help if you see me make a
mistake feel free to shout it out let's
say I'm here in my my handy command line
I've got a Java Runtime environment and
since I like living on the edge edge
this isn't 9
this is a 10 build that I made on this
machine a couple of days ago so it's
it's it's so it's a little bit past them
the most recent early access build that
was posted last week so you know
hopefully it'll all work I ran through
it earlier and it did but you never know
so this is a preview of 10 but of course
it's largely compatible with 9 so that's
not hopefully it just shouldn't be a
problem so first things first and also a
little side advertisement how many how
many people played with J shell isn't it
great
incredibly useful so we're gonna see
some some cool stuff here let me make a
string variable just a quickie
introduction to J shell for those of you
haven't haven't seen it I can type
expressions I can you know type in 2y
equals 4 plus 3y is now 7 so I've got
the string variable x foo bar Baz and I
can you know since it's a string y can
book methods on it right what methods
can I invoke well hit tab boom and it
tells you is we can find out how long it
is we can take a substring for
subsequence take your pick
we can do a mattres operation on it and
that will be false because its matches
not find anyway you get the idea so you
can you can type contect little snippets
of java code in there evaluated right
right away in a sort of implicit
environment that logically includes a
class but but that's all implicit as
order ste might say the coolest so you
can explore it pretty much anything so
we've got this string object what what
is its class well it's a string duh we
knew that ok new thing as of Java ma
Java 9 every class has a module it's in
a module so we asked what module is the
string class in it's in the Java base
module and if you saw Alex is talking to
the Java Bay
module is the one module that you always
have around because it's got coupling
string and job line object and all those
essentials of life inside it what is
they so get module return something
right what would actually did it return
let's find out it returned me an
instance of a new class of java.lang
module which is the runtime reflection
of the module object as instantiated in
the VM so modules are are deeply deeply
wired in not everything is in the base
module of course we can do for example
timestamp over in the sequel package and
then a dollar 11 there is just a
shorthand for the timestamp I just
created I can ask what's it put as its
class which we know what that is it's
timestamp we just made it I can ask what
module it's in and I see that it's in
the module called Rama that's equal and
we'll come back and and play with this a
little more later on
okay so modules are deeply wired in that
this is this is just run time the same
is true at compile time as we'll see
let's take a look at the jdk module
graph itself and i'll show you the whole
thing
Oh Alex you should mainly show just the
just the Java SE part of it so there are
some edges missing here so Java bases at
the bottom you always get Java base
whether you want it or not you you can
say you can when you write a module you
can save that it requires Java dot base
but if you don't the compiler will
insert that for you so imagine if you
like if you want even if you want to
imagine this graph as complete there is
an edge from every node that isn't Java
based to Java dot base but I didn't show
that here because then it would be
unreadable and then the blue edges show
the show the transit a reduction of
everything else that's left including
the the Java sequel module that we just
saw up there and you see Java sequel we
have this shows all the real all the
requires relationships which modules the
and upon others what do you notice about
this graph even if you mentally insert
all the missing edges to Java dot base
it has an important property what is it
no cycles exactly cycles are cycles
spell doom in a modular system so there
are no cycles here and in fact the
module system does not allow cycles so
let's take a look at the modules that
we've got new options to the Java
launcher it will list all the modules
that it knows about and there are a lot
of them in fact there are 75 in an open
JDK build let's explore those a little
so we've got a whole bunch a whole bunch
of modules let's start with the letters
JAV a those are part of the Java SE
standard as of 9 and then there are
modules that start with the letters jdk
those are specific to the jdk and the
implementation of Java SE there are many
things marked internal there are some
things that are not marked in journal
because they're actually api's that you
can use they're just not part of the
Java SE standard so not only is is the
is the platform modular but we also made
the Java doc modular here's the Java doc
for 9 API specification divided into 3
sections and the this is the front page
you're used to seeing this huge long
list of packages well now what you get
is a shorter list of modules here all
the Java SE modules so you drop it base
there scroll down modules that are
specific to the JDK excluding ones that
are strictly internal because you don't
need to know about those Java FX modules
and other models and we go in here we if
we go into Java base then we'll see the
actual list of packages inside it
including java.lang there's are familiar
java.lang package and
good ependymal cloneable or without all
of those essential things java.lang
object yes we still have java.lang
object let me go back up to the top here
and let's look at the sequel module that
we saw a moment ago so the sequel module
as we saw in the module graph depends on
some other modules and if you hover over
this little picture here you'll get a
bigger version of it and this this
little graph is actually is generated in
the JDK build it's all automatic
generates a dot file that's then
rendered into a pane that winds up in
the Javadoc the Javadoc that you can
browse so the platform is modular the
travedoc is modular all right now going
back here we did all this deep surgery
on the platform to modularize the
spaghetti code that the you know the jdk
had become over 20 odd years we took
great pains as I mentioned this morning
to to make it as compatible as we
possibly could as a demonstration of
that I have here swing set to jar
anybody remember swing set goes way back
to JDK 1.2 1998 it was that it was the
demo of the new swing GUI toolkit this
is the swing set to the jar file as
found exactly in JDK 5 and I'm happy to
report actually Java dash jar I'm gonna
run it and the rumor this is with my
experimental 10 early access build same
is true on 9 obviously and it runs very
swingset yay what stuff still works
this kids you know in grad school now
whatever so yeah the platform's modular
but it's also pretty darn compatible all
right let's let's look at some code so
I've written a really trivial HelloWorld
application not the most trivial
one but a pretty trivial one so we'll go
into my favorite IDE here namely Emacs
and here's hello world in one screen
public static void main looks at the
args and then left as the args so that
the of the actual hello world will show
up on the right-hand side of the screen
with this really sophisticated method
here called left pad logically enough
that just does the obvious iterative
thing all right let's compile this and
just show that yep you can you can do
all this standard stuff the classpath it
still exists we didn't take it away
contrary to rumor last path is still
there in 9 and in 10 let's see
I was seed classes tab completion is
wonderful I'll make myself a jar file
like I said I would make mistakes
let's see Chile world it's chilly in
here
hello Chile world ok isn't that
sophisticated I got a PhD and I'm doing
this whatever ok so we can route we made
a jar file we ran on the classpath all
the obvious stuff so first step is we'll
take this trivial application and since
it's it obviously needs to be reusable
right we'll make it into a module well
that's actually pretty easy so we pop up
a couple levels of directory here we're
down in source org open JDK hello
because I'm using the root the reverse
DNS convention I'll pop up the module
declarations go in the root so they go
in the source directory itself they're
always by convention in a file called
module info top Java I say module walked
me I'm gonna call this module the same
name as the package and module names by
convention should also follow the rivers
DNS reverse DNS a convention otherwise
you know chaos will ensue
now modules if you heard Alex's talk
modules are a module as a set of
packages designed for reuse this is a
little application is it designed for
reuse well no not in its life as a
module so in fact it's not gonna export
anything it's you know yes it's got a
package but there's no API here so we
don't have to say anything I could say
requires Java dot base if I wanted to
but that's tedious and the compiler
inserts is for me so I just finish it
off and I'm done so just to show you the
the logic of how how to how to compile a
module once you've got one you're just
dealing with a single module it's it's
not hard you can you can compile all of
this stuff together of course the I I
understand most of you will be in an IDE
and be using maven whatever it'll just
take care of all of this for you one of
the curses of working on the JDK itself
is you're usually ahead of with all the
tools supports so you just get used to
doing things the hard way on the command
line
with stone knives and bearskins all
right so I've got a class's directory
here's module in class I can run Java P
on it just like any other class file a
module a module declaration in module in
Java is compiled into a little class
file and Java pete l helpfully tells me
what is in there now so that's all good
I can char it up just like I did before
I'll just overwrite that I'll be lazy
but I'll be confused so what we have
here is that is it's a it's a jar file
but it's now a modular jar file it's got
a module in for that class in it
otherwise it's it's really just a plain
old jar file I can now run this on them
on as as a module by telling the Java
launcher where the module path is really
this isn't the class path it's the
module path modules are found on the
module path logical path Lib dash m or
got open JDK hello and this isn't going
to work because that module doesn't have
a main class attribute so I have to tell
it what the main class is I get to type
this one more time and then that'll work
so one of the things you can add to a
module descriptor after you compile it
is a specification of the main class now
as a modular jar file if the cool thing
about modular jar files is they work on
the class path - if you stick out on the
class path the module infinite class is
merely is just ignored so I can go back
to my old
my free is a freebie exhibit reap is
exampling it take the same jar file just
stick it on the classpath and it works
there too so if you needed to if you
need to construct a library say that can
be used on both the module path in a
class pack you can do that and if you
take a little bit of care and for
example compile all of the all the
classes except module info for an
earlier release of the platform then
that that that jar file can be used
unchanged even on you know JDK 8 or JDK
7 if you go that part the module info
class file would just be ignored so this
is a useful tool for migration so to
simplify life a little bit I'm going to
specify a main class when I make my jar
file and now when I run it here I don't
need to specify the main class okay so
I've got this trivial a trivial
application packaged up as a module not
very interesting because well it is a
set of packages it's said one package is
not really designed for use because it's
an application so let's engage in a
powerful refactoring operation we're
gonna take one module and split it into
two to do that there's my source tree as
it stands I need to I need to need to
transform the source tree so that
there's another level of directories so
there's a directory now it's going to be
a directory for each module that I'm
playing with so I'll move source over to
or open JDK hello make myself a new
source directory and I'll move forward
or cope with jdk hello in there now I'm
all set up the better structure and I
can now make a make another module next
to it that's going to contain part of
the original content okay so
I mean you get rid of that and back to
the main main thing here okay so what I
want to do you know you know be you know
inspired by by by JavaScript is I'm
gonna make left pad basically into it
into its own module because left pad is
obviously something that's difficult to
write and you should have a reusable
version of it so I'm gonna make another
module nearby called org open JDK text
and let's go into org slash open text
patter Java okay so we're gonna dump a
bunch of code in here
so we're taking take this private method
here and make it into an API okay
there's our patter class a nice static
method let's change the code in main to
use that doesn't get done anymore we
need to import or go up and JDK text and
here we need to run powder dot left pad
mmm okay so that's that should be all
good as far as the executable go code
goes but now we need to mean you need to
fix up our module declaration so
actually we need to write one so let's
go over back over here write a module
info for this new text module so its
name we know that is org open JDK text
now this module is a set of packages
designed for reuse so we need to export
it's one package which has a powerfully
sophisticated powder API in it and then
correspondingly over in the word open
JDK text module we need to change its
module info lip open hello package yep
there we go we now did the save requires
sorry I'm getting these all mixed up
alright okay text module on the bottom
hello hello module on the top this guy
needs to require org open JDK text so
this is the the kind of fundamental
pairing if there's one lesson about
modules to take away its the modules are
related but in in two fashions
one is by requires that's what gets you
reliable configure
and reliable dependencies and the other
way is by exports and export is what
defines what is strongly encapsulated in
what is not strongly encapsulated if a
package is exported then its types are
available to a module that requires the
enclosing module and we'll see some
further examples of this later on ok so
I've got my module declarations I've
refactor the code we've now that we've
now got two modules in our little source
tree here let's compile them up and see
if we can make this make this thing run
so I mean these little shortcut command
here just to save some time it's a
little shell script that combines Java C
and jar so we don't have to spend all
day typing all of this stuff
so we'll compile the text module dear
you think I could type that by now after
all these years maybe if I had a proper
IDE okay I'm gonna just remove that old
one so we've got that we've got our
modular jar file for the text module
let's compile the Hello module and this
fails it says module not found to work
open JDK text why is that well because I
need to tell the compiler where to find
the modules that are gonna be needed so
I need to use module path here as well
oh now what's going on Oh am I cannot
find symbol or go to open JDK dot txt
class text and package org up in JDK
very good
all right so we've got to two little
modular jar files now I can run this
application Java module path Lib run the
module org open JDK hello and oh dear
now this will be main class thing let me
build this again
there we go so at runtime the the module
system it finds org open JDK hello it
sees at org open JDK hello requires org
open JDK text so loads that module up to
it connects them together it interprets
the require interprets the exports to
set up the access control and all all is
good and we get to write our little
hello Chile world message so reliable
configuration and and strong
encapsulation how how else do they show
up in practice let's look at a couple it
a few failure cases so what here's my
Lib directory I'm just gonna go remove
the ticket the text module and if I try
to run this again what's gonna happen is
it gonna work well no of course it's not
gonna work
but module or go up and JDK text not
found required by org open JDK hello
would it will it work if I try to
recompile the hello module well no it
won't because that's just not there and
exactly related to what we what we saw
earlier module not found work open JDK
text so another theme of the module
system is fidelity at both compile-time
and run-time as much as possible the the
the operation of the module system is
identical in both phases and that's with
regard to both reliable configuration
and strong encapsulation and we've gone
to some lengths to make the error
messages is for as informative as we can
so that you can figure out what has gone
wrong and fix it when that happens
okay let me
we make the text module just so we have
a complete working system again alright
so here's another type of failure what
it what if I forgot this i forgot to say
requires and i'll try to compile this
again well again it does not exist
packet is that the one and what I
expected to see yes
mm right so the model right is an
example of a message so sophisticated I
have to read it twice so Orica openjdk
text is is not visible it's a is is not
accessible and then the compiler
explains well I see that you've got the
org openjdk text package
in the orange 80k text module that you
put on the module path but you didn't
say that
or open JDK hello requires it therefore
it wasn't set up to read it which is the
technical term that requires winds up
winds up enforcing so let's put that
back all right we compiled that
everything is good here's another thing
that you might wonder about or you might
not I said earlier that cyclic
dependences are you know that the the
module graph for the jdk itself has no
cyclic dependences and in fact we forbid
them because they are they do lead to
code that's difficult to make them to
understand difficult to maintain and the
module system detects this so here I'm
putting in the in this other gratuitous
required so each one of these modules
now requires the other and I go to
recompile to recompile the text module
module I found or open or go up and JDK
hello because well I didn't give it the
module path and now it will say error
cyclic dependence involving org open JDK
hello so yes a cyclic cyclic dependences
are bad news the module system for visit
that's actually not quite true at
runtime if you really really need to you
can use the reflection API to set up
what you could to set up cyclic read
relationships but it's basically you
know something that's reserved as a
workaround or for sophisticated
libraries such as reflective frameworks
to use so we'll take that back out and
then a final thing about this is well
what if I forget this exports what if
we're go from JD cake to K text doesn't
actually export that well recompile it
and I'm forcing it this will recompile
just fine but now if I go to run the
application then I get this this fairly
verbose message but it has a lot of
information error in it illegal access
error org open JDK hello main in modular
origami JDK hello cannot access the
powder class in the text module because
the text module does not export the text
package and as I said earlier we also we
have fidelity at compile-time and
run-time if I try to compile the Hello
module then that also also fails because
a similar error error message to what we
saw earlier so the this comes it comes
back to the point that Alex made with
strong encapsulation at the module level
public no Matt no longer means public
you can write public in front of a type
and in front of a class in front of an
interface you can have public methods
inside it but it will only be usable by
code outside of the module that you're
in if the module that you're in also
exports the containing package so this
is this is a big shift in thinking for
for 20-some years public mint anybody
can use it
that is no longer true
all right there we are
working again okay so let's back up a
bit looking at the at the at the module
graph again a really powerful thing that
the module graph of the modular platform
enables is we can now construct custom
runtime images that contain only subsets
of it if if for example I have a little
application that is going to interact
with a database it'll require the sequel
module battle pool and logging in XML
and drop it up base of course and
nothing else is needed while I can
actually construct a custom runtime
system that only contains those modules
let me show you an example of how to do
this for our little hello world app if I
look I've got this environment variable
dollar dollar J points to the the JDK
build I'm using there's a new directory
in a JDK build as of as of JDK 9 called
J mods and that has a bunch of files in
it and if these names looks look
familiar well that's that's good because
these are the modules in the platform
they're in this new format called J mod
which is richer than plain jar files
because we needed to be able to convey
things for the JDK modules such as
native libraries and legal notices and
header files and and all the other goop
that you tend to find in a big
application like the JDK anyway so we've
got these J mod files and there's a new
tool called J link Java now has a linker
just like any other self-respecting
software platform you don't have to use
it it's optional but you can use it so
we've got all these J mod files I'm
gonna make a trivial Java Runtime system
that only contains the base module so J
link I need to tell it where to find the
models
I need to tell it where to put the
resulting runtime system we'll just call
it Jerry I need to tell it what to
include well we need the base module and
it goes off for a while and it thinks
and then I've got Jerry it's got a bin
directory with the drop a launcher and
key tool in it because well key tool I
can look at how how large these things
are for JDK is 491 megabytes and this
little teeny JRE I built is only 44 so
that's cool I can ask what models are in
it and well it only has the base module
which is what we expected but the base
module is are all that are trivial
little app knees so I can run it jillee
and there are there some some interest
some useful Diagnostics for example show
module resolution this will show the
activity of the module systems
resolution algorithm as it figures out
okay we're starting with the routes is
org open JDK hello it sees that org open
JDK hello requires or Goma JDK text it
gives you the URI of where it found the
corresponding jar file and then it ran
it and for a more sophisticated at the
application you can do you'll get many
many lines of output if you use this
option so I can I can not only make a
custom Jerry for an application but if
my application is modular I can J link
those modules into the custom runtime
system as well let me show you how that
works so I'm gonna run J link again
I need to tell it where to find the
j-mods for the platform itself for the
JDK and also my two little modules out
up and I've put this into H JRE say I
need to tell it what the root module is
where to start so I say add modules or
open JDK hello and since it's going to
make a custom runtime system for me I
can ask it to make me a little handy
command in the bin directory that will
launch my application and just for
amusement I will make it even smaller by
using a couple of other options j-link
has quite a few options in it for
customizing its out but I'm going to
strip this trip debug info and I'm gonna
compress the class files in the module
archive and this will go off and do some
work takes a little longer because it's
doing a bunch of compression and here's
my hello world Gerry since it's
compressed and doesn't have debug info
it's even even smaller than the plain
one that just had Java dot base and
there's my Hello command there we go all
wrapped up in one nice little little
Gerry optimized into one little package
you can throw this into into a docker
file deploy it somewhere you know
imagine it's a more sophisticated
application of course and your own
League and you know that your Dhaka file
won't contain core but it won't contain
Jack web services because well you don't
need them it'll be nice and small all
right that is all that i've had i've got
prepared for right now there's a ton of
information about project jigsaw on our
project page on open JDK
most of the essential information
is in the jep's the jdk enhancement
proposals numbered two hundred two
hundred one to twenty two sixty two
sixty one and two eighty two covers the
linker so all of these contain lots of
useful information 261 is probably the
most important one it explains all of
the command-line options and and how the
module path works and in in in much more
detail than i've been able to show here
depth 200 is an overview of the modular
jdk itself 220 discusses the way that
the the runtime image structure has
changed you know our TVR has gone away
we've provided better alternatives jep
260 is about the encapsulation or in
many cases non encapsulation for the
moments of internal api's of course you
can get JDK 9 now at this URL don't
believe the word I've said and we have
11 minutes left for questions questions
applause ah thank you
do we have microphones up there are
microphones there and there so if you'd
use those though that would be great
otherwise you have to trust me to repeat
your question then I might get it wrong
yes sir oh no well Ben cat was wrong
oh no wait think it's never wrong do we
have a hand mic we could give him
so when Vanguard it is talk um Java nine
he also did the module search and he
came up with ninety five modules he did
you're right I can do that too yeah
where's the difference where's the
difference so the difference it all
rests in what you're running so this is
an open JDK build that I built on on
this machine and as we saw it's got 75
so what venkat was using I'll hazard a
guess was an Oracle JDK build and
remember if you're at the keynote this
morning if there's difference between an
open JDK build and Oracle JDK build
because Oracle JDK has a bunch of
commercial features in it and some other
stuff and so it's bigger and say I can
hire you know funny you should mention I
actually happen to have an Oracle JDK
built here here's the latest ten
published early access Oracle JDK build
oh it's 97 he said 95 hmm don't know
don't know where he got that number
oh well maybe yes he was running nine
I'm gonna get to the bottom of this I
don't know okay here my guess is Venkat
was running a stale JDK nine Oracle JDK
early access from early summer or late
spring or something like that okay quick
somebody tweeted out find out good
question though sharp eyes
anybody else holding any faster is class
loading any faster
yes class loading is faster why is class
loading faster because we're not doing
this stupid linear search of the class
path which if you write if you generate
by cut on-the-fly where does it wind up
it usually winds up in the very module
that you're already in but if you need
it to be in some other module you can
arrange for that too
so yeah bytecode on the fly all of that
stuff still still works any other
questions you don't ask a question the
question will be provided for you I
haven't heard the most popular one yet
this is spooky the camera just follows
you do you support the versioning of
thank you the winner is we have a winner
do we support versioning of modules no
we don't and and and why do we not do
that because well the the the short the
short snappy answer is because maven and
maven an IV and Gradle already do that
so we don't do it there they're a bunch
of more sophisticated answers I mean a
sort of more sophisticated language
designer II answer as well modules are
do
for a thing than the artifacts that
define them right there's a de suite we
make a clear distinction between a class
as this sort of you know platonic thing
in your program versus the Java source
file but that defines a pre compiled
time and the Java class file that
defines it after compiled time right
they're different things so a module is
is is like a class it has some you know
some higher plane of existence it's
defined by a jar file or a J mod file
versions belong on artifacts versions
don't belong on modules we don't version
classes we don't version packages we
version jar files and so continuing
diversion jar files from a sort of
philosophical standpoint is what makes
the most sense from a purely pragmatic
standpoint we actually did in a very
very early jigsaw prototype we actually
did have versions and version
constraints and we realized fairly
quickly you know we're solving the same
problem that maven IV &amp;amp; Gradle already
solved they all solved the problem in
somewhat different ways so no matter no
matter what we do it's not going to work
well with at least two of them and
everybody uses those tools and we knew
better than to think that we could make
everybody use some other tool even if it
wasn't some theoretical sense better so
we just backed off and said okay no the
best approach is to leave leave version
selection to the build tools and the
configuration of the build tools and
when you work with maintainer the build
tools to make sure they work well with
the module system and I've been your
pretty pretty pleased with you know the
help we've gotten from folks like like
Robert Schulte it works on maven but
don't you know don't try to compete with
them so that's the sort of practical
answer for why we don't do versions well
we ever do versions someday mmm no
probably not this is a kind of kind of
counterintuitive thing at first it's
like oh it's a big big hairy problem we
don't need to solve cool that's the best
kind
any questions elsewhere obviously I'm
biased towards the lower rows still
related to the versioning question if
let's say a maven project and we need a
certain dependency would we specify the
version in the pom file and we will also
specify the module name in our requires
section of our module yes and it would
be maven job to bring that jar
it's maven job to bring the jar and it's
your IDs job to make sure that the
information in your palm and the
information in your module info are
consistent as indeed both both Eclipse
and IntelliJ or are doing or will soon
do yeah I realize it does seem a bit
redundant it's like Oh module info
pom.xml aren't they the same you know
couldn't we just have one thing and the
answer is that would that would actually
be more confusing than it's worth
three minutes any other questions
questions up at the top there are two
mics question down here hello yesterday
we've found out that in a previous
version to the latest one there were no
numbers in the module names why was that
and why was it removed after all so
numbers are allowed in MA in module
names but they're almost always a bad
idea so they're allowed in module names
because numbers have been used in in the
names of a few popular projects you know
we a lot of what a lot of the design of
the model system we knew it was informed
by you know scans of maven central to
figure out what kinds of names do people
use if we knew what was popular what
wasn't what caused trouble but you find
things like you know SL f4j okay
one of the anti-patterns we really want
to discourage is put it as trying to is
is thinking that modules should have
versions and then putting the version
numbers in the module name this would be
an extremely bad practice so we thought
for a while on this and this was in the
jigsaw design for a while okay let's
disallow module names that had digits
and you know that's that's kind of an
ornery rule to have and eventually as SB
people we're looking at it and it was
becoming more and more widely known
people oh yeah that's that's that's kind
of to me we get your point but it's too
mean so we took that rule out that's why
it's no longer there but please please
please do not put version numbers in
your module names
that's just it will lead to tiers one
minute left one last question
anybody sorry
is linking a custom trhe ie now the
preferred way and what about security
patches when I create a custom greu
which is bundled to the application to
answer the first question well is making
customer Jerry preferred well no it's
another option that you have you know
you don't need to do it you can run Java
from the command line like you always
have you can toss wire files into your
app server that's running on top of nine
you know light like you always have and
it'll work second question was what
would what about what about security
fixes well if you're packaging a JRE
with your app you know and people will
be there people who've been doing this
for years then you are taking on the
responsibility to provide updates
yourself when security fixes are made
available for the Jerry that you're
using so that's one of the costs and you
can choose to take it or not
alright times up thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>