<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android and the Seven Dwarfs by Murat Yener | Coder Coacher - Coaching Coders</title><meta content="Android and the Seven Dwarfs by Murat Yener - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android and the Seven Dwarfs by Murat Yener</b></h2><h5 class="post__date">2015-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ut1umHfJ0cc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to a fairy tale talk so I start
to see but you can just interrupt me in
a time to ask questions so you don't
need to wait until the end so the talk
about will be Android and the Seven
Dwarfs anybody just care to read the
abstract or just came for the catchy
title ok basically the the words are
topics which android needs some help so
i'll have seven topics but more than
seven libraries to solve the problems
where am i I'm a java android web
developer i'm currently working in Intel
although today my talk is nothing to do
with my daily job try to attend
conferences and give talks I happen to
write a book but actually it's the jye
book so not sure if anybody will be
interested in in this room my java
champion and the google developer expert
on androids so if you're still
interested in the book there's a
discount code and let's start the real
session so once upon a time we should
start like this so since we have the
title we had the princess well actually
the Android and and our little android
had some problems after eating the apple
instead of waiting to Prince Charming
let's try to see if Seven Dwarfs can
help so as I mentioned before all I
because I had too many libraries I still
try to keep them in seven main topics
which each dwarf will be
hosting one so i'll be covering some
libraries which will help your daily
development cycling on android let's
start with butter knife actually that's
the library which i needed to update my
slides most lately there has been some
changed from version 6 to 7 basically
it's a dependency injection four wheels
and actions so it creates much cleaner
code it's very easy to use vr notations
so if you're coming from a yellow
background everything looks similar you
can have exceptions if if a field which
you want to inject doesn't actually have
a corresponding XML part which used to
be shown with the which used to be salt
with the optional annotation but which
is changed to nullable now so you need
to use the notable annotation to avoid
the exceptions and it's actually
commemorating code at the compile time
so not really doing any fancy reflection
stuff which would probably slow down the
application so I'm mostly using the
examples from the project websites so if
you're just interested in you on you can
just go to the website of the project
and continue from there so it won't be
changing the example topic or style
those are the basic examples given on
the websites of the project so as you
can see in the example we are using the
binder notation to bind the eczema XML
field to the Java field so instead of
using find view by IDs we can just
inject the real field
into our activity and start working on
them the only boilerplate part is just
calling the butter knife that binds and
passing your activity and then you're
free to use the fields before version 7
the binder notation used to be inject
which was kind of more gel away but it
has been changed to bind with version 7
one thing you need to consider is
there's always a possibility that exam
how doesn't really have such a field so
instead of dealing with null pointers
with the reused code you need to use the
nullable annotation to make sure if the
field is now to not get an exception if
the field is now again if you're
familiar with older versions this used
to be optional at optional annotation
but it has been changed to notable with
the version 7 butter knife also supports
actions so you can just add an action to
a UI elements such as a button and in
this one you can see adding on click
event to submit button and you can also
add multiple one action to multiple
buttons such as in the second example
I'm adding of three buttons to just one
listener which will handle any of the
clicks on those three by the way I have
some marshmallows if you have any
questions so it used to be easier with
the lollipops I can just throw away but
yeah so once you put a library inside
your project most of the time you end up
with some proguard problems so this all
this also
a butter knife also introduces some
problems with proguard so you need to do
the following to make a butter knife
work nice with product or the other way
so basically butter knife just gives you
injection for the wheels and you can
easily use the wheels you declared in
the xml file inside java another
framework which does almost the same job
is dagger it's again dependency
injection it's based on java x that
inject so it can be more familiar if
you're coming from the java background
it lets you make your test your code
easily once again this also doesn't
really do any reflection it's a
compile-time code generation it's kind
of a bit more complicated than butter
knife and it might be hard to integrate
dagger into an ongoing project on light
butter knife which is the cleaner in
terms of integration so for dagger you
have three concepts one is module and
provides which is a mechanism to provide
the dependencies works like the
factories and produces the resources the
other concept is the inject which is the
mechanism for requesting the
dependencies basically declaring that
this part needs the produced dependency
and the final concept is the component
which actually acts as a bridge between
modules and injections so once again
this example is from the website of the
project we have a coffee maker which is
a expecting to have a heater and pump
the heater
palm is produced by the module which
provides the heater and the pump and
those are bind together we had a
component coffee shop which is the
coffee maker and knows which module will
inject the resources into the coffee
maker so this is a very basic example of
dagger and these are the interfaces
which you may need to deal up with when
you work with dagger the nice thing
about degrees also you can use the
qualifiers the names a notation for
injection then may add the nice part of
degrees it doesn't really need any
regard configuration so you just drop in
the dependency and start developing and
not really do anything fancy with
proguard next topic networks and well
anybody if did any network called on
androids we all know that HTTP client is
not really doing well so most of the
time we need to work with some
third-party libraries and one of the
most popular of network library is ok
HTTP it's widely used it's a simple fix
for HTTP client it offers its own
internal cash so unless your cash is not
expert it doesn't really go back to the
backend and uses the internal cash
instead of hitting the network each time
it supports http2 and CPD which is again
a good point it internally uses gzip
without really you to do some custom
coding and
you have a manual control on the
background execution so you by the way
each slide has the dependency which you
need to add to the Gradle file just to
use the library so once you add those it
should be just working fine if we just
check the example of ok HTTP you just
create a client then build your request
using the request builder then just
create a call and execute this will
return your response which is actually
HTTP response so you can just get a
request the body and get the response
from the as a string or whatever
resource you're expecting from the URL
it if you need to do a post once again
you have your JSON and you create your
request then once again using the
request builder you post your JSON and
execute the call which will again return
you the response by the way the response
object is kind of holding all the HTTP
data you're expecting so you can check
the status codes or just anything you're
you will be dealing with an HTTP call on
the product side you need to do some
configuration to make it work with ok
HTTP so it's mostly internal classes and
interfaces which ok HTTPS introducing
and also some warnings so once you have
this basic proguard configuration most
of the time you don't really have any
problem it ok HTTP the nice thing about
ok
HTTP is the development is pretty active
and many people are using it so you can
come across many stack overflow of
responses and the website is also very
active the other networking library is
wally which i really enjoy using and
it's actually referred in the developer
android com so it's kind of official
third-party library but it hasn't been
updated for a long time and it doesn't
actually even have an official grade
Gradle dependency so the line below is
just unofficial Gradle build which you
can just add to your Gradle file and use
it at the library but if you just don't
if you just want to use the official way
you need to download the source and add
the whole source code to your project if
you check the example code it's it's
pretty easy to use Wally you just create
create a new request queue and then
create your requests requests are pretty
simple Java niblets which has a response
and error listener so as you expect if
you have a proper response from the back
end the own response method will be
called with the string of response and
if you happen to have any error then the
error listener will be triggered the
nice thing about Wally is once again it
uses an internal cash so unless your
cash is not expired you don't really
need to hit the network and to query the
back end and if any time you need to
cancel the request
you can just ask the queue to cancel all
tasks you submit it and as seen in the
last line and it will stop the execution
of the HTTP requests and it doesn't
really need any product configuration
which is also nice next we have retrofit
by the way any questions so far good not
marshmallows retrofit is a rest client
for Java basically generates an
implementation of the rest api which has
exposed to the clients nice thing is it
uses annotations to describe urls query
parameters so it's pretty easy and nice
to use it you it has support for object
conversation to Jason request buddy it
supports multi-part request buddy and
file upload which is again not available
in all versions of HTTP client and
basically it's used for rest api so if
you're planning to do something else
than breasts goals it might not be the
library are looking for the current
version the examples i'm going to show
is based on 1.9 there's version 2 in
beta available to use a retrofit first
you need to create an interface with the
urls you're going to request resources
so once again this is the example from
the website you have the we have the get
request and the post the get request
will get the user ripples and the post
will create a new user once we have the
interface we just create a
rest adapter with the URL and then just
call the methods which we provided in
the interface to query the rest service
it's pretty easy to create those
boilerplate code it's not much and
usually since it's mostly kept in one
place it's very easy to tweak if your
back-end services subject to change
retrofit needs some configuration for
the ProGuard to work fine with the
compilation and the ProGuard so you need
to add the following to make the
ProGuard work with retrofit next topic
are the event buses so if you have done
any development or programming with some
functional and even based languages you
probably enjoy doing that which android
and java is kind of not really working
in that way so this might be one of my
favorite libraries I tend to use even a
green robot event bus almost in all
projects I'm allowed to basically it
dispatched events through a bus which
subscribers can just notified when an
event is fired it's even driven and very
very easy and clean to integrate and
implement it easily transfers data
between components from activity to
activity or fragment service you can
just transfer any data between any any
component and it uses reflection on the
run time so to use the green bars you
need to create custom events for your
or events so here is a sample event from
the sample code from the website we have
a sample event which carries some data
which is a string in this case and well
you can create a constructor to easily
create the event and fire it in one
liner so when you want to fire this
event when something is triggered you
just get an instance of the event bus
and post your event to the event bus
that's it and even us will take care of
the whole mechanism to deliver your
event so how are we going to subscribe
it's again pretty easy the classes which
want to listen for the event register
themselves to the event bus then they
need to implement a method called on
events with the even type of your event
so in this case we have the sample event
so we have a non event which expects a
sample event which will be sent by the
event bus so that's mostly it you can
have multiple own event methods on a on
the same class as long as you have
different event types and the event pass
will figure out which one to be called
green bars need some proguard
configuration and since it works with
reflection it definitely needs to keep
the own event name so you need to add
the following to make sure it works with
the ProGuard another alternative event
pass is auto which is again very popular
mostly all event buses help you to
decouple your car
opponents or parts of your application
so Otto does the same and it also again
uses the reflection to figure out to
which part of the code will be triggered
using auto is also pretty simple you
just create a new balls and post your
event to the boss and once again you
need to register your boss with Auto you
are free with the method names so you
can just create any method name but you
need to uh not ate it with subscribe so
any methods annotated with subscribe and
expecting a parameter of your event type
will be automatically triggered by Auto
and once again you can pass any data
inside your event of course auto also
needs some proguard configuration to
make it work after the obfuscation next
from the creators of green robot we
won't pass there's green Dow it uses the
standard standard SQLite but you don't
really need to deal with creating tables
or manual SQL SQL queries it uses code
generation for the model and today also
now reflection may magic bond you just
need to add a step to the compiler the
code sample is pretty easy you just
create a helper and declare your table
name then the day it the DAO helper will
create you can create the session
from the DA or helper and query the
model or just save anyone or just delete
it's pretty easy the model here is also
created by the by the Greendale depended
libraries of you the model object and to
the euro is created for you and you can
easily interact with them to make the
database queries of course again it
needs some proguard configuration
basically it needs to keep the abstract
the gyro the same way it is and also the
table name so it's not a lot of
configuration but you need to keep those
in basic to make the Greendale work
another database helper is somatic which
automatically generate content providers
it's once again backed by SQLite the
nice thing is it can be used with the
android system so it works well with the
loaders sync adapters and permissions
but it's kind of harder to use because
you need to deal with the cursors
explicitly so here is what you need to
do is again this is the sample from the
website you create a interface which
reflects your table picture the data in
your table then you can just use the you
can just query and interact with the
database the way you want the nice thing
about somatic is actually doesn't really
need any proguard configuration so you
can just drop in the dependency and
start working with
next our job queue this this again
another very active library it used to
be pretty active than the development
stopped and mood another git repository
and now the activity looks like resumed
back I use this one in a project a while
ago for a very different reason then
because this is also most of the time
for orchestrating the web requests but I
did something totally different to just
give prior priority to tasks and
orchestrate them that time I had some
difficulties because the library looked
like not really maintained anymore but
the activity reassumed so I didn't
really wanted to take it all of the
slides it's a persistent queue so it's
really nice to schedule some jobs and
prioritize them and you don't care if
your application are crashes or goes to
sleep and eat job is persistent so they
can be loaded back when your application
is alive it's easily it's very easy to
prioritize your tasks so a task we just
created after the after another task can
execute before that you can delay the
job execution which is again a good
feature and you can also group jobs
tasks to executing batch once again
although this is a very nice library
with the version 5.0 you can always use
the new api's and may not really need to
drop you anymore so to use the drop you
first you need to extend the job and
create your own job classes the job
classes are pretty easy you can just
hold any reference of data here and but
you need to make sure they are ok with
civilization because it all jobs need to
be able to saved into the disk and so it
needs to be serializable there are two
methods which you need to implement in
every job the the most important one is
the on run method which will be executed
when your job is going to be executed so
if you're calling your web resource or
back-end service that's the method you
need to implement your code on the other
two methods are on edit and should rerun
on travel throw both on edit is the part
which will be executed when your job is
added to the queue so it's kind of an
initialization code for the job and
should rerun on trouble is only executed
if the own run methods somehow our guts
gets an exception the nice thing about
it is it doesn't really need any prager
configuration so just drop in the
dependency and start using it next we
have timber it's a small logger with
extensible API the default behavior is
nothing so you add the behaviors using
the three instances and each install
initiates itself by calling the timber
plant so it actually output blocks and
for debug build
autotek generations is again a library
by Jake Wharton so you can create your
own logo objects by extending the tree
and just decide on the way your logger
wants to work but the basic usage is
actually very simple you just call the
static method in timber with the given
info or error and you pass your message
to the logging part so it's pretty easy
to use and it doesn't really affect your
rump non debug build so it only works
with the debug build and best it doesn't
really need any proguard configuration
one other logging framework is Hugo
which is I really enjoy to use its
annotation based and the nice part is it
has zero effect on non debug builds
because it only targets the debug builds
and injects the cold generates the code
for the debug builds so as I mentioned
it generates a code for logging and
basically what you need to do is at
following to the Gradle to the build
script so basically it will generate the
code for only to the back part how it
works you just add the debug log and
annotation and this method will be
locked automatically in the debug mode
the following lines are just example for
the get name method
because it's just called injection for
the debug build it doesn't really have
any product configuration and you can
just drop it in your project and start
using so actually we are done with the
Seven Dwarfs so anybody has any
questions so far if not then we can go
to the bonus material with the prince
charming well we're in the Java
conference so you have been listening
lambdas and how Joey it is great for the
sins from the morning or since from the
beginning of the week but we don't have
java 8 on androids right well
technically you can install the JDK but
actually you will be using it in java 7
compability mode just for compiling the
code in Java 7 compatibility and because
we don't since we don't have java 8 we
can't really use the lambdas and android
doesn't really have the invoked I namak
system so installing the joey is kind of
just for fun you don't really make use
of it so what can we do to solve this
problem I came across a project called
red retro lambda which brings them to us
to Android you first of all you need to
install Java 8 because it will be using
july eight to make the lambdas work it
has supports for the lambda lambda
expressions also for the method
references and drive it
versus a statement it offers a limited
support for back porting to default
methods and the static methods on
interfaces once again this is a limited
support so not everything works with
that but still or even for just lump
does its work for a try actually what it
does is because the operating system
does not have the Mach dynamics this
library will generate the code so it's a
syntactic sugar sugar coating it will
just generate the code from your Java 8
style code into java 7 so most of the
configuration is on the build scripts
you need to add the following and also
the plugins or you can just install the
last three lines the plug-in if you are
using the new new version of Gradle and
then you can start writing with Java 8
style lambdas and debate style code it
does need some configuration in the
ProGuard because it's using the Java
ranking walk and also because the
android studio does not really plan to
use version 7 with version 8 with
android you need to add the following
lines to make android studio to accept
working with version 8 so um that's the
basics of retro lante and I think I
didn't put web URL but you can just go
go for it and then it's pretty simple
you just copy paste the lambda codes
which you have been watching since
morning
so that's the end of our fairy tale and
I would be glad to answer any questions
if you have one yeah
are because well I mean it depends on
the project but if you just oh sure let
me the question was why I said a dagger
is hard to integrate into an ongoing
projects so if you check the example
it's more like you need to do some
boilerplate code and do some structuring
to use the dagger however when you
compare actually they're not really
comparable but if you use butter knife
or some other basic dependency injection
frameworks they're just based on 10
notation and it just does the magic but
dagger offers much more flexibility and
much more configurability which actually
produces the boilerplate code and you
need to structure your project so it
really depends on the project but you
need to do some more work to integrate
it to your project so I'm not saying it
can't be done it's just that you need
some manual work to do it any other
question so you don't you probably don't
need to share the marshmallows with
anyone okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>