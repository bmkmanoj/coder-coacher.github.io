<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Developing for Smart TVs by Sebastien Arbogast and Said Eloudrhiri | Coder Coacher - Coaching Coders</title><meta content="Developing for Smart TVs by Sebastien Arbogast and Said Eloudrhiri - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Developing for Smart TVs by Sebastien Arbogast and Said Eloudrhiri</b></h2><h5 class="post__date">2016-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fOm5hIQV16w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi everyone and welcome to this talk
about developing for a smart TV so let's
get this show started previously on
devoxx no it doesn't work where's the
sound ok that's a Miss effect let's do
it again previously on devoxx it's what
a big announcement for me because I'm
letting go of other one of my babies I'm
actually stopping with parlays and the
reason why I'm stopping with parlays is
that these guys you know they've just
basically are at a stage where you can
broadcaster or publish full HD videos in
a heartbeat and it doesn't even cost a
penny all right so I'm actually
migrating all of the the pearlized all
of the deathwok stocks from the last
additions on YouTube and you'll be able
to find them ok so if you didn't
recognize the voice that was Stephanie
and since last year right here
announcing that they were publishing all
the talks videos from all the divorce on
a YouTube and Vimeo and we were in the
room and we started to wonder ok but
everything will be on YouTube and one
big giant bag where it's going to be
hard to find and hard to yeah hard to
consume basically and we were looking at
this new platform that just came up but
back then was smart TVs meaning Apple TV
and android TV mostly and we thought
okay that would be a nice opportunity to
develop an app and that's where the idea
for tea box came up so basically we
already had worked on the Smart TV sorry
the SmartWatch app so the Apple watch
and the Android wear apps for devoxx to
use during the event and even before to
prepare your your favorite talks and
yeah we wanted to do this tee box up for
consuming the content after and that's
what we use
basically to discover the platform and
we wanted to share the experience with
you today so the agenda for the stock
first we'll get to know each other a
little bit then we'll look at why you
would be interested in developing a
smart TV app which devices you can
develop for right now and of course
since it's a new platform it comes with
new rules and we'll see what the general
principles are and then we'll look at
how you design a smart TV app of course
it has a few differences with the usual
apps i would say and of course we'll
show some code and how you can what are
the specific aspects of developing for
this platform show you a small TV box
demo if you have some time and then
conclude so let's get started first of
all let's get to know you a little bit
so who has a smart TV ok quite a few
people so those smarties are just
connected TVs now a little bit more who
has a set-top box of some kind like a
free box bleep box vu box or even more
specific box raspberry box was very
bombs okay quite a few people actually
who has already read dirty okay that's
the kind of thing we you only read when
it doesn't switch on you know why okay
who has already developed a smart TV app
couple of people okay oh who is a mobile
developer other iOS Android okay maybe a
few windows mobile okay who owns the TV
again stupid question we already
appeared on TV some famous people in the
room okay anyway uh just a few words
about us so I'm Sebastian bogus time
I've been a Java developer for over 10
years now also an iOS developer weather
or nine or an apple wash obviously and
also I developed so the smart box up
last year the extension for the
watch by the way if you have enough of
what you can still browse the Dirac
schedule on a watch and I developed the
tee box up also I'm very big fan of
agile and lean startup methodologies I'm
a blockchain enthusiasts it shows
another topic that we gave a talk about
yesterday if you want to check the video
out you can see it on TV x of course i
blog about the future on future loss
disco and i'm a founder for my own
consulting company and I'm c'est la vie
so on my day to day activity so I has I
have started started my career past
century in 1992 and I'm an agile coach
scrum master Ching lead yeah mostly
trainer for the worse for kids and I
develop application I have developed
smart walks that is embedded in my
devotees android smartphone app i have
developed the tee box under TV
application i'm also watching developer
for chain skills i have predicted to
have three kids and yes it's okay I'm a
father ologist and I have an
entrepreneur I've created my own company
so just a few disclaimers before we
start we are not related to any company
there I papal google or anything we're
just working for ourselves and we just
sharing our experience basically we are
not smart to the experts just curious
developers as I said and yeah that's the
lawyer thing anyway so first of all why
would you develop smart TV app what's
the the goal of that and why it could be
interesting to talk about that let's
start by looking at what the old TV
looked like before well first of all was
very passive and everything all the
interactivity was limited to what you
could do by just changing channel and
you had very few of those and even the
advertising itself was pretty much
inescapable so basically you could
either enjoy it or go to the toilets
those where you too
choices basically it of course the only
I mean the main device that you could
enjoy the content on was the TV set and
if you were very rich head while in the
bedroom but otherwise it was just in
living room and it was all channel based
so you could only watched what's on
right now there is no catch up TV there
was no TV on demand and stuff like that
of course the new TV has changed a lot
over the years now its own interactive
it's pretty much all the time connected
to the internet you have way more TV
channels you can also watch custom
content with what we call custom content
is content produced not just by big
networks but also by individuals like
stuff that you can find on youtube and
so on you can also play games so the
smarty do often becomes its own game
console to a certain extent you can
integrate with devices including your
own smartphone that becomes a second
screen you can even connect it with your
smart home installation if you have any
you have catch-up TV and TV on demand to
actually watch content pretty much when
you when you want and not just when its
own and what's even more important for
us of course it has apps and as a big
philosopher of our time said we believe
the future is apps the future of TV is
apps ok so a few example of kinds of
apps that can make sense on Smart TVs
well first of all of course multimedia
content so if you already have a
repository of multimedia content it can
be very interesting to make it available
on this kind of platform so everything
from sports leagues to two hooks for
example of course games are really
interesting on this kind of platform
even though you cannot really go to the
same level of detail and power than what
you can find in in high-end i would say
game console and still i mean you'll see
that the box that we're using here is
very powerful but yeah you can you can
definitely play games on this kind of
things and also there's what we call
for pro services so imagine that you're
watching a movie with your wife and at
some point you say I I'm hungry let's
order some food you can just pause your
content switch to another app that
allows you to order the food and then
come back to your movie all that without
leaving your couch so it can be very
interesting and of course without taking
out your phone and actually enjoying the
content on a big screen and another
aspect that's really interesting with
the TV usually you have you can have
several users and from the TV so you can
offer experience that leverage is the
fact that you have a group and and so
for example you can do Fitness kind of
things and stuff like that and of course
it's not just showing linear content you
can also show interactive content to to
inspire and teach another kind of T of
apps that can be interesting because a
TV is not just used in the living room
sometimes it's also used as a as a way
to show information in a public place in
a public space so for example a lot of
you have our developers I'm sure so you
you you I've already felt the need of
showing the status of your CL guilds
where you can do it on lap like that
using an Apple TV as a as a device and
of course as I said the Smart TV can be
connected to your smart home
installation so you can use it as a hub
for this kind of abuse cases so as you
can see quite a few kinds of
applications that really makes sense
specifically on on a smart TV now of
course when you spend all that time
developing apps the next question is how
do I make money how do I monetize all
that effort well there again there are
quite a few business models the first
one the most obvious one is definitely
upsells so you can sell sell your app
for a small amount it has to be small
for because I mean you're asking people
to pay for it but still it works of
course the most popular model is
definitely in-app purchases so you make
your up free but then you sell content
from within the app basically app
becomes like a Content store I took the
example here of
udemy it's a nap instead elearning app
but you can buy courses directly from
within the app itself you can also use
in content ads so most of the SDKs give
you some great content customization
possibilities to insert advertisements
directly in the content and of course
you have flat forms online to to manage
this insertion of ads so it's also a
revenue model and last one is kind of a
variant of the in-app purchase model but
you can also sell subscriptions from
within the app and then people will pay
automatically every month for example
ever until they cancel the subscription
so again as you can see quite a few
models to to monetize your app so it can
be very interesting now let's talk about
the devices on which you can develop
this kind of apps and for that I hander
Mike to see okay guys you have to
prepare your credit card we are going to
make some shopping and we start with
Apple so as you know Apple is not
building TV sets but a set-top box and
with the upper TV you have yes this kind
of specification aperitif is running TV
OS it's a derivative from iOS the yaris
that is used on smartphone and tablets
so it's the father generation and
unfortunately upper TV is not 4k
compliant so it said and now Google
Google with the unwary TV and well for
Android TV you have this dis television
sets and a partnership that have been
signed between vendors and Google and
you have Phillips sharp and sunni that
provides as well a lot of television
sets and i will say that in this panel
of vendors sunny is really the winners
so if you want to to make android TV
apps and you have a hundred televisions
prince always on directv you first you
have to check that the vendor has not
locked the debugging port
because sometimes you will buy it till
television you will plug it to Android
studio and it will not work because the
vendor has locked everything so you have
to be really careful about that so
television set bundled with android TV
is one kind of product but we are we are
in the Android ecosystem so you have a
lot of setup boxes that are ready to use
ready to buy you have android version
600 version 5 you have 4k and not 4k you
have remote control and you have a
keyboard you have display or not and you
have the Russian black and black and
black and black with an antenna so you
have the choice so when you want to buy
an android TV setup box your face will
look like this guy because you are you
know confused with a fragmentation but
you know we have also the same problem
with smartphones my choice is the Nvidia
shield device this one it's really cool
device bundled with android TV 60 it's
really a game console but able to its
allows you to create media application
such as devoxx of course and it's really
powerful you know up to 5 gigabytes of
disk and and 4k ready so yes it's really
a very good device and you have all of
course the hot topic samsung smart TV
set but samsung yes it's a good you have
great models in terms of smart TV but
it's running a specific version of of
you know specific operating system
called Tizen and yes I think you you
also have other specific smart TV
platforms like that but I mean the more
specific they are the more limited your
market is and every time it's a new OS
it's a new language it's a new platform
so you have to yeah spend some
for to give them specifically for that
let's have a look on the platform and
the rules that we have to respect so
again it's a new platform and it comes
with new rules and especially in terms
of design the first one that you have to
take into account is that contrary to
your smartphone or your laptop the
screen is not one feet away from your
user but it's 10 feet away and this has
a lot of implications in terms of how
you make the information visible the
phones that you use the visuals that you
use and the overall UX design of your
app so it's very important to take that
into account another yeah kind of
problem with that is that the user will
not just stand up and touch the TV to
interact with it so yeah you have to
take that into account another a general
principle is you can use the fact that
the the in front of the TV there might
be more than one user and so contrary to
your phone or your laptop that is pretty
much a personal device your your your TV
is more of a shared device and you can
leverage that in your app and you're
really a yeah you're better off doing it
another aspect is about the input
methods so forget about keyboards really
I mean usually most smart TV devices
come with not that kind of device not
even with that kind of remote that's the
old kind with all the buttons and you
don't even know what they mean because
the labels keep being erased after some
time anyway but rather with that kind of
device so you have like a directional
pad you have a couple of action buttons
and that's pretty much it so the years
our interface and that way is very
limited the one thing that it gets added
compared to most I mean to the web and
stuff like that is voice control so you
can use a on for example on the apple TV
on the remote directly you have a
microphone and you can just input text
and dictate text directly into the app
and you can use that on a lot of first
one TV platforms so that can be very
powerful and the last aspect is that
contrary to your laptop or your
smartphone your TV is always connected
and once you connect it to your Wi-Fi or
to your wire network via ethernet sorry
it's always there so you have to use
that to some example it depends if you
divorce it's not always connected yeah
we won't get to do that so how do you
this how do you design now a smart TV
app we're going to start with the how
those principles apply on on Android TV
so by the way we are just focusing on
Android TV and Apple TV because they are
the most I mean the biggest platforms in
terms of number of users right now and
and probably the easiest to develop for
I guess but but yeah again there are
other platforms just to give you an idea
so let's start with design principles on
Android ok with on our TV when you start
another in TV device you have this this
home screen and this home screen is part
of the Leanback function a lean back to
ensure allows you to you know to present
the information this way on the top you
have the search you have the
recommendation row when you where you
will find some information that are
promoted by application you have the
apps row and they're up show is really
important because there you will find
the prince tool application youtube
google play etc and all your application
that you have developed and deployed on
on google play and google has decided to
split the apps from the games so you
have a specific games row that is
dedicated for games that mean that when
you create a game application you will
you will have to set a value on your
manifest file just to say hey guy I'm
creating a game application and when
Google will accept your application your
game it will store it on all this role
at the bottom of the of the home screen
because of course a home screen is
callable you will find the settings
allows you to ask to plug your or your
TV to the network to install or to clear
your cache or to do whatever you want
for example updating your operating
system so let's focus on these two rows
apps and games and here okay you have a
game and the game is the game is really
complex and Anna media application but
for the games I will tell you that you
are free to develop the game as you want
so it's really just a layout but for the
media application as we as we did for 40
votes you can use you're not obliged but
you can use a version of library
delivered by Google the lean back
support library and you know the
strength the strength of this link back
to polar brary is that all the plumbing
is ready you know it's done for you for
example Lindback supra library is
compatible with the material design a
specific marginal design that respects
the 10-foot UI design rules for the
television and you have a set of views
that are ready to use the broad view
with the the left part that I use to
display your categories or your tracks a
search search area an area for your logo
etc and also the area on the of the
right side that allows you to display
your cart and this card will contain the
information that one you want to to
display to the to the to the user and if
we focus on the on the list of cards
it's really is based and it will
use the directional part of your remote
control and a card if we have to detail
the card so it is quite simple you have
large icon content content text all icon
and of course this this version of view
that is provided by the Leanback is
ready to use you just have to customize
the image the title the
title depending your your requirements
but you are free to not use the wall
provided battling back and to create
your own as we did for tea box when you
click on a cart you have the detailed
view and the details you provide you
action button title subtitle Bo
background image thumbnail image etc of
all these components are provided by the
lean back of course you can customize
part that you want and all the animation
part etc is already provided for you by
the lean back to polar bear and here is
a view of how the image are managed by
the detail view if you have media
content such as video you have something
that is already available from the lean
back to polar bear the consumption you
you can play both for what etcetera it's
already ready the in-app search you can
search information from your app you can
customize your application you have some
rejected that you can that you can use
so you can see that here it's it's quite
easy if you have Android skills it's
quite easy to create a brand new android
TV app you you just have to use lean
back to polar berry and to customize
things for you to create your allergic
and that's it if you are not happy with
what is provided by leading back to pro
library create you are free to create
your custom views ok so on the appletv
side of things well pretty much like for
all the platforms that they introduce
apple provides this human interface
guidelines document which by the way i
entirely always encourage all developers
to read it's not just for designers and
and yeah they define three design
principles and then they dig the
derivate a lot of rules from those so
the first principle is connected and by
connected we don't mean connected to the
internet but connected to the user
because as I said when you're
watching your Smart TV you're doing it
from your from the comfort of your couch
and you just have a remote in your hand
you're not going to stand up to touch
the screen to interact with it so it
creates kind of a disconnection between
the app between the content and the user
and there are ways to kind of
reestablish this connection through the
remote and that's something that Apple
really insisted on so on the Android
sorry on the Apple TV serie remote you
have thus touch surface on the top that
allows you to have all sorts of
interactions that you can see the
feedback immediately on the user
interface so here for example you can
see what happens when when we scroll
horizontally on on the screen and this
kind of connection between the user and
the app is really encouraged as a core
design principle second aspect is
clarity so make your user interfaces as
readable as possible from a distance so
be aware that when you work on the on
your laptop's not the same as when it's
going to be displayed on on a TV and try
to minimize the content that you show in
any given screen use visuals as much as
possible graphics images and animations
of course to show how the content can be
navigated and so on and the last
important aspect is immersion so
basically content is king if you have
some content to show put it big on the
screen minimize the number of controls
use the buttons on the under remotes for
what they are done and don't put I mean
for example cancel a cancel button on
the screen is premature use this because
you always have this back button on the
remote so people are used to cancel by
clicking the council to do sorry to the
back button on the remote so we really
put your content front and forward so
those are the three core design
principles now how'd they translate in
the interface well as on Android TV you
have this on screen the the specificity
here is that you have a special row of
apps like any of your dock the
equivalent of your duck on your
smartphone where you put your favorite
apps and whenever you select
you focus on one of those apps then some
contents can get extracted from
yourselves from this app and shown on
this showcase sorry on the top shelf so
the top shelf is really a way to build
some shortcuts to your content directly
on the home screen and it's being used
for the tee box up you will see to show
the favor your favorite talks and also
the most rated the highest rated talks
so this is really interesting also
another aspect and that that really goes
into connecting the app with the user
again it might seem like a gadget but
it's really powerful the notion of focus
and parallax so again at any given point
in time there's just one control that
has the focus and that means that when
the user clicks the touch surface that's
the control that's going to be activated
so you need to show this focus as
obviously as possible and of course one
way is just to make it more obvious by
using size and fonts and so on but
another way is by using parallax so
basically you can design your content
wherever you you display custom graphics
you can display graphics that is layered
so that it shows like that in a sort of
3d effect when you use the touch surface
on on on the mouse sorry on the on the
remote and of course apple provides some
tools to to make that process easier
again so the Apple TV comes that's
that's one advantage of of course Apple
who does both the hardware and the
software you know what you're starting
from you always have the Siri remote
delivered with all the Apple TVs and the
user interface is pretty much well known
so you have those buttons you have a
button to activate Siri you have a
play/pause button menu a-and home and
you have the touch surface and the Siri
remote also has an mike has a microphone
and the gyroscope and an accelerometer
so you can also detect movements that
way but that's pretty much it you
can also buy some additional game
controllers but that's optional so you
shouldn't assume that users have those
and always if you want to for example
for games if you want to suggest people
to use one I always explain how to
connect it and take into account the
fact that they can use the serum mood
they can even put this remote in
landscape mode can I simulate the game
controller of sorts but yeah I always
take that into account in terms of
navigation again focus you most of the
time you don't have to do anything to to
take that into account except create
some some layered content but yeah most
of the controls already integrate that
and you have all these ways to show the
focused control more obviously by
putting it forward in bigger format with
more text and so on also on a smart TV
you don't have a status bar can try to
to yeah to a smartphone or or a laptop
so you cannot show that something is
happening on network if you're just
loading stuff and you don't show
something to the user then he's going to
think that something went wrong so
always make that very obvious in terms
of layouts well one good thing is that
you only have landscape mode to to
support because it's very rare that you
turn your TV on the side it's too heavy
anyway and most of the time did at least
for now the main resolution that you
have to support is the is the 1920 x
1080 resolution there are still a few
TVs in 720p but it's pretty rare and and
of course you should always take into
account some margin around the side
because the application can be scaled if
there are some differences for that and
always take into account this focus
aspect for your margins and also on
Smart TV you cannot show scroll bars
they would not be visible from the couch
so one way of showing that there is more
content that's what is currently visible
is
show some partial contents on the on the
sides of course the grids are everywhere
because that's how you can scroll
through them with with the TV remote and
the good thing is that apple also like
the Leanback library for android you
have all sorts of basic templates that
are provided that you can use or not and
that you can customize a lot of course
so for example here you have a catalog
with with categories this is an album
this is the content the detail screen
for content and you can reuse those or
you can create your own and as I showed
earlier with the the parallax this is
how basically it works this is the the
Settings icon for the air that you can
find on the home screen and this is how
its implemented so it's just a six-layer
five layer of image in terms of user
interface element the user the libraries
the same as on iOS its UI kit but of
course some of the controls have been
deactivated for our TV is now a few
controls are only available in tedious
and and of course all of the common
controls have been adapted specifically
to the use case of a big screen so for
example tab bars are not at the bottom
there are at the top and they don't show
the same way I don't yeah maybe you can
show icons I'm not trying anyway you can
use tables and collections the same way
as you do on an iOS most of the time its
collections quite rare to show tables
because tables are mostly for text
content and stuff like that but yeah
collection views are really really
useful in this platform you can split
content in different use of course you
have text content elements like text
fields and search fields and so on but
again be very careful use them as little
as possible because it's really really
painful when you have to use the
on-screen keyboard with your remote to
input content so I mean basically
authentication to type email address and
pass
word and research search field sorry but
that's pretty much it of course you have
buttons you have navigation bars you
have alerts and all that to ask
questions to users so in a few the
design stuff we want to see some code so
let's go to how you develop okay what's
behind the scene if we have a lock on TV
box the Android TV version of course
it's under eight you develop it using
Java your IDE is Android studio and the
minimum SDK level is Android 50 lollipop
because already TV has bought was born
with Android 50 the recorder library is
the Leanback library of course the
recycle view it will be used to optimize
the display of of images don't forget
that you are on TV and you have to
increase the user experience and you
have some support libraries that are
recorded by Lynn back if you want to
create an application for Android TV and
wants to deploy to Android TV google
play store you have to respect some with
some constraints because there are some
constraints for example an Android TV
app it doesn't support touchscreen
doesn't support telephony you can try to
phone with your time with your
television it's not working camera is
not supported NFC no gps if you want to
make an application like a Pokemon go
with your TV you know working on your
garden it's not working it's not support
it and no sensors what does it mean it
mean that 400 TV you are you can you can
create a mix up an upset will be used on
your smartphone and on on your Android
TV but if you require some features you
don't have to set required true for
example GPS or sensors otherwise the the
TV part of your application will not be
accepted by by a Google Play team and as
for Apple they are a limitation for the
screen orientation
you just have to do to support the
landscape mode if you are activities you
part portray user portray whatever the
Google Play team will will refuse your
application because it will not respect
the TV app quality and the TV app
quality you have to read this file you
have to check that your application is
compliant with all the the rules defined
by Google and if your app is refused
well you can have some surprise as you
will see a letter so the IDE is Android
studio you already know this this idea
is based on IntelliJ to create a another
TV up so it's quite obvious new project
and here you have to take the TV support
to define the minimum SDK and then you
can create an application with some
plumbing here for example on directv
activity well the bad news is that some
features are already duplicated for
example the details view it's a lot
louder version so I don't recommend to
you too to use this kind of activity so
my recommendation is to create an
application brand new application with
no activity your manifest of your
application so as you can see here the
the features such as touch screen must
not be too you know required by your
application and if you want to create an
application that will be only supported
by Android TV devices you have to set
true for the the lid back support it's
really required and your activity so if
your application the banner of line of
your application has to be displayed by
the Leanback launcher you know the home
screen of your android TV you will have
to set this thing Lindback launching as
the intent filter this is yes just to
customization to to to make on your
manifest file and if we have a look on
the list of tour
this list of torts of tea box well
beyond the scene we have this this
layout Jesus the layout that will
customize the view and that's it this is
what we have because every everything
the magic will be done under the
fragment at the torch fragment that we
use for the list of torched extend the
bras fragment the broad fragment is a
fragment coming from the lean lean back
support library with a set of api's
helpers and of course we get ready to
use and you attend something like that
so with the category the search and and
the roads that you have to of course
customized and filled with your with
your model so here you will have to
customize your your list of adapter with
the presenter the list of role that will
be linked to the to your track to your
category under other left side and
that's it and this is an example of how
to load the rules on this on this view
so we'll get the the data coming from a
remote service application that has been
created using a spring boot but it's
another topic and you just have to to
feel your data to customize your view
and that's it and your view will be
ready and remember we say that if you
are not happy with the what is provided
by default by the lean back support our
library you are free to create your own
view this is what we have done with with
this card because we would like to
display the the watch list icon you know
the the heart number two and also the
duration of of the torque and a no
writing bar at the bottom of of the
count this is what we have done and in
here if you know android development so
it's quite easy you create your own
layout and you inflate your layout on on
your code that's it and to play your
video so on the detail view you have the
play action what we have done just to
call the YouTube API player that's it we
provide it
the video ID and that's it it will call
the YouTube application that is provided
by default on an Android TV you can
emulate your application of course if
you have no device or if you want to
test your application in different
screen resolution or with different
version of the SDK it's possible but
well I will say it's obvious emulator vs
real device ok it's free but several API
the cons is that I will say that the
most important visit problem that we
have with the Android TV emulator that
it's not support you have missing apps
and services for example YouTube is not
provided in the emulator as we use
YouTube it's quite a problem to make an
end-to-end testing of our application
under address you provide the layout
editor but there is a lack of support of
the lean back library so it's not quite
useful and here for example what we have
used 40 votes this is the the set of a
fragment that we have used from the lean
back to polar area the homepage is a
broad fragment safer for the list of
tours speakers and watch list is our
vertical grid fragment we have searched
that is using the search fragment from
from the lean back and also we are also
using the in upsetting that is in back
settings fragment and you know we are
creating another TV app but it's an
Android application this means that for
the tenth food UI design it's the lean
back to polar worry and for the rest
well yes it's the same as a 4 smartphone
where we have used retrofit as a rest
client interface delight for the caching
image caching we cash the information on
the television I think that it's not
possible on on a per te and we use real
mobile database Andre the annotation for
other camping dependency injection
cetera YouTube Android player API
provided by Google and an event bus
because we send messages from between
activities and services so now you are
ready you are ready to do to become a
rich guy so we are ready to deploy your
application to google play the process
it's the same as for a standard Android
application but you don't have to forget
to take the you know the option android
TV otherwise your application your
application will not be published on the
Google Play for Android TV store and if
you have a chance yes your application
will be approved by Google and visible
on this on the Play Store if you have a
problem you will receive this kind of
message oh yes your application is a lot
not approved by a for Android TV you
have to review the TV app quality but
you are no information so you are in
trouble because you don't know what
happened what's happening so you have to
act ask a google play and it takes two
hours 24 hours between 48 or 72 hours so
it's quite painful to receive a to know
exactly what's happening with your
condition weeks from experience yeah
exactly so on the Apple side of things
so on apple TV the development
environment is very similar to the one
that we have on iOS as well as using
Xcode of course and here you have a new
you have new templates for projects
what's interesting to to understand is
that on the apple TV you have basically
two ways to develop your apps either
using native code and Swift and all that
to build your app like you would on an
iOS app but you also have another method
method devised by by Apple that's called
TV ml what TV ml is it's pretty much the
same way the same architecture than
usual HTML apps basically so you have
you can have a server that generates a
tea of empty vml content dynamically and
ttml is just an xml dialect and also
send some JavaScript and then the app
low
those TV ml layouts from from from the
web and and displays them and can run
also the JavaScript code to manipulators
this content this is the method that is
used by Apple for all their content
catalog so the App Store the music store
the movie store and so on they're all
implemented using that the big advantage
of course is that you can modify the
layout and the way that the content is
presented without having to release a
new version of your app so that's kind
of the biggest advantage but of course
it's only adapted to that kind of apps
as soon as you need some custom layouts
something like a game or even some more
advanced media content and you're pretty
confident that your the presentation is
going to remain a stable then you better
off using the the native method so just
to show you an example this is a short
sample of TD ml and this allows you to
create that kind of layout and of course
you have some some TV ml sample code to
code all the templates that we mentioned
before the catalog the album the content
detail and so on but that's not the
method that we used for 40 bucks forty
bucks we used the good old custom Swift
method and there the good thing is that
you can use actually the interface
builder so in the TV ml app you're on
your own for for design you don't have
an interface builder but for native
Swift you can use interface builder so
you can drag and drop components on your
layout it's pretty comfortable
especially in the latest version of
xcode before that you had to be in a
hundred percent zoom mode to to actually
manipulate content it was kind of clumsy
because when you're on the laptop to
your screen is too small so you have to
scroll in it was a miss now with the
newest version of xcode Dave to figure
that out and you can work on your layout
even at fifty percent zoom for example
and yeah and the rest of the tool is
basically the same so you create your
views and your design in interface
builder and then you link it with your
swift code
I mentioned earlier the notion of focus
and that's really specific to to apple
TV so at any point in time you have one
control in focus and you can change
focus by just scrubbing your thumb on on
the the the apple remote most of the
time the runtime is really smart in the
sense that you don't need them to
indicate what is the order of focus in
any direction it figures it out
automatically so for example here the
the content that has focus in there is
the play button and when I scroll down
the runtime is going to automatically
look for other controls that are
focusable and that are downwards of
where I am so for example here is going
to find this speaker icon and it's going
to switch the focus automatically down
now if I move left and go to the other
speaker and then up it doesn't find
anything there so I need to help it
somehow to give it a hint and that's how
you do it in code so you just intercept
some events and and you help you nudge
it in the right direction say okay now
if you're going up from there the next
focus goes there so that's the kind of
its again it's pretty smart usually but
sometimes you have to to handle it
special cases like that this is an
example of providing items for the top
shelf so you don't have to handle the
user interface yourself and so on you
just have to provide some implementation
for interfaces to provide some content
fill in some data objects and that's
pretty much it and then all the loading
the caching of the images the order of
the display and so on this is all
handled by by the upper two here on time
one thing that is important and say it
already mentioned it is that on Apple TV
you don't have local storage so yeah the
apple TV comes in either 32 gigs or 64
gigs of storage but it's only for
storing apps and app content but not
your own custom content so if you have a
for example you download a game and it
has a lot of levels and the levels are
part of the app and it's all stored in
this in
heart storage but if you want to have a
local database for example forget about
it you can't store that in you don't
have a documents directory basically
don't have access to it so you're stuck
using the network for a lot of stuff one
way is to use cloudkit so it's kind of a
server with a back end without having
you having to write any code you have a
database there that you can store plenty
of stuff in there and that's actually
what you use for example for the for the
watch list teacher in tea box I mean on
on the opportunity at least we store
everything there it also means that your
Apple TV needs to be logged in to your
iCloud account and so you need to ask
the user if he's already connected
otherwise you ask him to to do it so
that's a limitation of there of course
for for playback of media you don't have
to do any custom development you already
have this ad player that's provided and
it's really powerful really customizable
you can inject some content some
advertisements you can provide some
metadata to show when the user is
watching a movie and is scrolling down
you can see some metadata like the
chapters and the description and so on
you can you can pause you can scrub
through the content all that is provided
for free and you can customize a dream
up so that's just how you here we
provide the content and in that case we
there the YouTube application is not
automatically installed on the app on
the Apple TV so here we use a little
trick where we retrieve the mp4 stream
from directly from YouTube to display it
as I said there's this concept of
parallax resources to show visually
where the focus is and to make it more
obvious and I said that app will provide
some tools so they actually developed a
photoshop plugin in order to let you
export different layers of a digital
content into a special format called
SR and you can preview this LS our
content in a small app that's also
provided by Apple and then of course you
can import in Xcode and and it does what
it's supposed to do you also have a
simulator to play directly with your app
on your laptop so you don't need an
apple tv2 to develop and it has this
small window on the side that emulates
the TV remote it's even more painful to
use with the mouse than with a finger so
it really makes it obvious that you
shouldn't do any text input with that
kind of thing and and of course it's
still sitting on your screen very close
to you so always test your apps on a
real TV in a real situation to make sure
that it's perfectly readable and usable
from from a distance and what's your app
is developed of course you have to use
itunes connect to deploy your apps to
push it to the App Store one specific
thing that is really important compared
to the android android TV environment
you cannot do i breed apps on appletv so
even if some of the classes are the same
they are completely different code bases
so you need to if you want to have a
smart TV app that as a an iphone
companion app they need to have two
separate code bases so they need to be
deployed to the different app stores and
they have different identifiers and so
on you can though make a link between
the two so you can say that this
smartphone app this iphone app is linked
to this Apple TV app in such a way that
when a user installs one of them then an
automatic installation of course is set
up then it all the companion apples
appears automatically on the other
device but it's really two different
code bases so let's just have a look
quickly at what tee box looks like you
can just switch to the other screen yet
that one that's one so by the way this
Android TV and it's kind of an official
announcement we set it on Twitter before
but
the app has been published to the google
play store a couple of days ago now so
you can already use it to watch if you
have an Android TV either an Android TV
set or set-top box you can already use
this up to to watch all the content from
all the past the box for the past two
years include since 2015 and even those
from this year that I've already been
published so to start the app you have
the TV divx up banners this is the home
screen you can browse you see this is a
bro's fragment and you can hear clearly
your cash or this this is a setting set
the settings view you have the watch
list you can review your the toll that
you have added in this watch lists list
of speaker and your list of torch with
all the the trucks here you can see here
that the rule are following the tracks
and well if you want to to you at all
you can see here that this for examples
is this card is a custom layout with the
watch list the duration the rating bar
and if I click on enter you can review
here the talk you have the images in the
background the description of the talk
the rating and also the speaker
somewhere here and of course you can
play you can play here the talk so the
application is calling normally YouTube
but I know whatever you do a network
connection through talking yes that's
right and you have also the list of
speaker here so you can review you can
check by speaker yeah and you have also
some bugs here I can learn other ways
there's nellore alert it's a it's
YouTube that the the YouTube application
installed in the Android TV so you can
hear choose your speaker and
check here the related towards random
examples for example total that we that
we made yesterday while the block chain
here so it's pretty cool and all the
animation is managed by you the link
back library and if you want to clear
the cache just to force a refresh of
your list of talks you can do it here
and if you clear the cache of quarter
watch list is not clear because the
watchlist are stored in the shared
preferences of your devices that's it
okay so now let's switch back to the
other so if you want to learn more you
already showed that that was our backup
so yeah overall it was really
interesting experience very fun there
are a lot of similarities of course with
the iOS and Android development but with
some specificities that really forced us
to to think in terms of UX design
especially with the ten-foot design the
focus aspect is kind of weird at first
because when you use to multi-touch and
you only have this focus its kind of
limited but again everything is well
supported by the SDKs documentation is
pretty good you don't find a lot of
tutorials they're out there yet but it's
getting there I just got my check out
without it's a google you have another
HEV assets so yeah it was an interesting
experience if you want to learn more
here are the so the code is open source
it's on gpo to you can find it on github
the code for the android TV app is still
on sites account but we'll move it to
the deluxe account soon and and of
course you can we can't give you a link
to install the app but you can search
for tea box on on either the Apple TV
app store the google play store and just
the links to the documentation and
that's it for us thank you very much
we have two minutes left for questions
any question it was perfectly clear oh
thanks a lot then see you guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>