<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ok Google, is there any presentations about Chat Bots at Devoxx UK? by Wassim Chegham | Coder Coacher - Coaching Coders</title><meta content="Ok Google, is there any presentations about Chat Bots at Devoxx UK? by Wassim Chegham - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ok Google, is there any presentations about Chat Bots at Devoxx UK? by Wassim Chegham</b></h2><h5 class="post__date">2017-05-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ean8IclrXlI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">forgive you play get into it make sense
so I'm gonna present you like basically
how you could build a conversational app
chatbots don't call them um but before I
have a little scrape disclaimer for
folks who will watch this video online
later so if you are watching this video
at your home and you own a Google home
device please mute it because I'm going
to interact with it a lot so I don't
want to get a trouble with you but
otherwise it will activate yours online
so so for this talk we're going to build
design and build a chat bot and I'm
going to use an example of course so for
this example I'm going to use a Google
home which is the device and then we're
going to use the Google action SDK like
API to build our chat bot and of course
we need a use case so for our use case
we are going to build a conference agent
like a chat bot which will help us find
talks find more like information about
speakers topics all the stuff now anyway
let me try it
take me check if it's working hey Google
talk to my conference agent sure here is
the test version of my conference agent
hi I'll be your conference guide I
suppose you find a top list on topics or
know more about a workshop or a speaker
what would you like to know
give me the two most popular topics the
team
popular topics our methodology and
culture with 18 talks clouds containers
and infrastructure with 17 times more
topics do you want to learn about quite
all talks about methodology sorry I can
find any session about Bible talks about
methodology is there another topic you'd
be interested in find all talks about
methodology the next session about
methodology is called this is devoxx UK
if you want to hear more about it or
hear about the next session just under
more sure here's more information about
this is devoxx UK the presentation was
given yesterday at 9 a.m. in gallery
hall the extract says join the
organizers for all the essential info on
how to make the most of your 2017 devoxx
UK experience and comfortably a few
surprises - we want to hear about the
next session send it to me on my phone
so if it goes well over 70 cent SMS with
audio simple I just sent an SMS on your
phone is there anything else I can help
you with no thoughts sure I'll be right
here if you need me okay so that was our
basic conference agents so let's see how
we designed it and we build it but
before we begin I'd like to give a shout
out to gilma those who know this guy
okay so he's a famous cuvee guy now he
works for Google on the cloud Google
cloud platform team so he was actually
supposed to be with me today for this
talk but she couldn't make it so thanks
to him anyway a couple of words about me
before we begin so my name is with him
Shyam I do a lot of open source as you
can tell you can find me on Twitter and
github as many clinical so if you want
to follow me on Twitter um I speak a lot
about these technologies so if you want
to catch me after it's all
I'm talking about this five days or
angular or whatever feel free I'll be
happy to answer your questions
I work for a company called sale in
Paris in France I'm a front-end engineer
there and we are an engineer company we
do care a lot about developers and a
picture of developers so anyone from
France okay so if you might collaborate
pick me I am also part of the Google
developers expert in web so I basically
work with the teams at Google like
angular polymer and chrome basically
action as the bridge between them and
the community like us you know not even
feedback to to you giving feedback back
to the to the team yeah basically it's
like kind of developer advocates role
and I'd like to travel a lot meet
developers everywhere so that's all
about reach now let's go back a bit in
time and do you remember this IRC who
has already used IRC but maybe still
using it actually still used today
so yeah with IRC actually we could
already build our BOTS like we call them
commands backslash something but those
comments those bots were kind of like
had a limited vocabulary like a
hard-coded vocabulary but limited they
didn't use like any machine learning or
deep learning arm techniques to really
understand our like like a natural
conversation human conversation but
today and what we call that the new
generation of BOTS uses like different
tools for instance here is
the AP III website so this company was
built by Google a couple of months ago
probably so basically you can build your
box with this tool without any code
later we are going to have a look like
I've seen - we are going to hell like a
deeper look at this this tool during
this talk so this is oh it's the other
stuff we can do this is been Wes or X
jst how can I have I wish to group so I
use based on language choose my voice I
was sick that day I found two operators
for you with the time operator and
buffer times alright so that day was
like just to show you what other stuff
we can do with these spots like other
use cases so the new generation box uses
this machine learning stuff you probably
have already heard of which basically
like a set of neural networks are
trained to I really understand our our
language like the natural language so
here we have an example using the Google
penalty natural language processing API
which basically you can use request the
Web API to analyze your sentence extract
lots of different interesting
informations you could also probably
extract the sentiment analysis telling
you if this sentence it's having like a
good sentiment or bad sentiments for
instance if you have a like support like
client support like people let getting a
to like your product doesn't work all
this or that you can do kind of AP is to
really understand into your code and the
sound like if this
feedback is good or no it is good but
it's okay if it's not good you can maybe
for it to real human to talk with that
customer so this is really a game
changer for the nuclear age a new
generation of dots using text but also
as you can as you saw with this Google
home device I was interacting with it
with my voice so we have also really
liked these days a really powerful voice
recognition comparing to the old days I
don't know if you remember it remembers
the Dragon NaturallySpeaking
software we used to use back in the days
to dictate some text to the computer so
these new API is will work really well
even in like in like the if there's any
noise or outside of anything it it will
work really well so thanks to this
machine learning techniques we now have
really powerful BOTS we can use in our
apps
so for this we need to know some basic
concepts because like it's a new way to
interact with the liquid machines with
machines so we need to have in mind
those comforts so for this I'm going to
take we may provide stripping example so
here we have whole door with goods
obviously arguing about something really
interesting and yeah as you can say
there's conversation there is arm like
some sort of dialogue so we're going to
use this example so for instance when
good says I am Groot so
this concept in like in the bots word it
call is called intense which is in
yellow and we can have some sort of
entities so here we were choosing a
group as an entity but an entity could
be anything like the color time state
some like names anything you will like
you tag it as an entity and of course
hold or respond dialect which is also an
intent so an intent is really what it
means like your intent which you are
trying to communicate and of course
there is also another interesting
concept which is the context the context
is basically it used to remember the the
history of this conversation so as we
saw in the here started from the
beginning to the end we like there is
something happen with recorder and and
growth and we are going to use the same
concept to build our BOTS
so remember intense entities and context
so for this so as you saw from my demo
earlier so I like I'm human human I
interact with the device and then the
Google action actually starts my wheel
BOTS so there is like two things
happening when you interact with the
device you are interacting with the
Google action first and then you tell
you to start whatever but you will you
build cubed and then it starts and then
after that you can interact with that
but until you say stop or cancel or
whether I don't know if you see these
little lines these these these lines
like
from when your bot starts until like
when it ends
 it hey Google stop my conference
agent sorry I'm not sure how to help
with that but I'm always learning great
hey Google stop my conference agent
sorry I can't help with that yet but I'm
learning more every day we're good to
this later
so my preview will look probably
canceled so I need to run another
preview hey Google stop my conference
agent sorry
I'm not sure how to help identify I'm
still learning anyways what I was trying
to say when your bot starts you here's
like small noise and at the beginning
and at the end so this is word which is
called ear con
so this is a flute like all the Bhoots
sound telling you that okay we're
starting your boss at the beginning and
the same sound at the end that tells you
that your boss is now off and so in
order to build your bot as you would do
in any software development you need to
design first your bot I hope everyone is
designed your software first so this is
exactly what you are going to build and
then of course you build you use a lot
but you build it and after that you need
to ship it because the but I am using
here is only like I just so I had to
bring the preview process and I am the
only one who is proving proving this you
on it I mean it's not distributed public
II will I will show you after that how
you can do this
sorry see good to know but if you want
to like use the same boat and make it
public to everyone you will have to go
through the approval process by Google
which checks takes a couple of days and
then you will anyone will be able to
install the blood into his or her device
so first of all you need to design your
bot the first recommendation to have is
to give your boss a personality so this
is really important I like start by
probably give it a name or I don't know
of course you need also to choose here I
was using like a female voice you have
totally have four voice two male 2 to 2
minutes so you choose the one that
corresponds most to your brand like the
core brand attributes and then you need
to have some sort of principle like
design principle principles that are
really specific to your bot to your
needs also and also I said it before you
to choose a style the voice do you want
your boats to have like a formal
dialogue or informal is it that waiting
you imagine your own your own style of
like conversations this is really
depends on who is your public like your
audience are you targeting like for
business for end consumers for young
people I don't know you need to do that
and the last point you need to have is
some sort of sketch some sketch I'm glad
I have a sample dialogue yeah
if you
don't want to end like this you two have
like serious some sort of start like
like use any tool like Google Doc or
we're doing it notepad just write some
sample dialogues okay I need my boat to
say this when I ask this question and so
on and so forth and for that start
always start by like what we call like
DD happiest bath happiest I like when
everything goes well not like my demo
here and also think about the first
experience when the user interacts with
your board for the first time so for
instance you want to probably tell the
user okay
my name is this I can do that I can help
you with this really if any information
that the first user can use and not feel
like lost but of course that first user
will become like a returning user so for
that you probably want to just give as
much quick information as possible and
then because this is like a conversation
like a dialogue with voice there is no
try-catch there is no error like there
is no room for errors you need to have
some sort of backup fullbacks for
instance when I spoke with the Google
home earlier I asked for the agent the
device told me doesn't understand so
this is like the system sort of what we
call like repair a conversation repair
and for the personality questions it's
also like a good point to include some
sort of like small talks small
conversations like hi how are you
who owns a Google device like we do at
home okay so I bet the first time when
you set it up and starting talking to it
like you
some CD questions like I did okay so so
for instance hey Google tell me a joke
one joke coming up did you hear about
the quarry that went out of business
they hit rock bottom
it's not okay so this is what like this
is there an example of personality so
always provide some small really awesome
small talks outside of your like
functional is necessarily line you can
find like more details about how you
really need to design your box there is
a link here and you can get this
checklist from the Google site you also
have like tons of resources on this
website to guide you from like designing
developing and building all what I'm
going to show you I would tweet the
slides later on so you can get the links
so demo time in CIA I serve okay so API
today I is the service that I use to
build this spot so here we have our
intent I told you about earlier we have
the entities and we have other stuff so
we start with entities so for this BOTS
I needed like I've chosen to have three
entities like rooms table types and
topics for instance tourism for instance
our rooms like I said all the rooms we
have here in the building so it's good
to provide like a default name and then
a list of synonyms for instance some
user might say gallery hall or just hold
probably so you need to tell the EPI
agent that if someone says hole actually
this is the gallery hole
or this is more relevant for for the
subtypes for instance we can say hands
on or only workshop or lives like we
think of what like the user will might
say it's really hard ok you can have
like tons of synonyms but try to add
like any variation of any entity so here
I I built my own entities but Apia I
already provide you with some basic
entities like dates color time address
all these like useful and she that you
might have in any conversation and will
see this really now so here I have can
you see only I need to zoom okay so for
instance when I ask the agents give me
all the what to most popular topics and
it's actually when this intent because I
have already provided a like an
expression phrase sample
give me the expose popular topics and
you see that the three here is
highlighted in yellow because um API
automatically detected that this is in
number and then I assign it to this
variable that I called popular topic
number okay so now each time I say give
me the tenth most popular topics in my
variable popular topics number I will
have ten and then I can do whatever for
each intent I'm using here there is this
webhook checkbox so with hook
as the name suggests it will not provide
a direct response like from eji because
I of course I can like give a hard coded
response but it's not very good so I
will request the response from my server
like because I need to request like um
to know what are the topics so I need to
request the devoxx API and for that I
have a slightly back-end code that is
running and I need to push it therapy
from API so for that I need to use the
workbook and of course because it's not
a lot I need to provide the URL of that
REST API so here my code is running on
the Google cloud function which we will
see just after so basically you need to
provide as many intent as you're like
the or design or a functional design arm
questions when I say we send it to me on
my phone I already provide some sample
phrases and then request my workbook and
of course it's to workbook which sends
in the SMS not API
by the way the expressions that you
provide just like provide minimal
expressions and then each III and this
is like the the all the power of the
power of API is that it's using machine
learning to train your boss so even if I
include it like only three expressions
88 ie includes other variations of the
same sentence so for instance if I say
please send it to me on my phone okay
it will run the first the first sentence
I think yeah we'll have to to slide at
the end of the talk about the
integration on the train so let's go
back to our demo so I know the design
part is kind of boring but you really
need to take some time and think about
it because this is going to going to be
crucial for your approval when you will
need to send your bot through the
approval and review process by Google I
think you need to like respect some
basic basic guidelines as you would do
for any Android Apple iOS app by the way
by the way so now jump to the code so we
need now to really build our active
concrete artifact and for that we need
to think about the conversation so here
we have a couple of steps let's call
them steps the first step is when I
interact with the device hey Google
talks for d'ivoire agree then this will
go through the device and then interact
with Google action which is this four
circle which is responsible of like
understanding the speech transformative
text running all the the analysis on the
text and then extract the text which
done and at the same time send that text
to Atia I and API is responsible of like
much matching your expression with the
correct intent
so when ETA when you say like sometimes
this will match some intense if it
doesn't match any instant intent a PRI
will when this default folder content
which have has a couple of hard-coded
responses and then okay so say hi
welcome to the box so this is my agent
started by API AI and then I interact
directly with the agent so remember when
you hear this you come so my agent
started so I can interact with it
directly and because I need I needed to
like get stuff from the the Box API I
ran this through my cloud function code
which then requests TV box API and then
give me back the response the response
which then passed to a API AI web hook
which then give it back directly to the
device Edie
now so for this I am using the calc
function or the function as a service is
anybody all right with this or who uses
already uses using cell functions or
lambda for Amazon or other functions my
name I don't have to eat it okay so this
is absolutely called a surrealist
architecture where basically instead of
deploying an app you deploy a function
with that which does one think like one
particle process so this was good for
microservices and the good thing the
good thing is it's fully managed for you
by like his by Google so all the scale
everything of course you can use a p.m.
or
or any other back-end that you will need
to scale it yourself you need to manage
it yourself
and here like it's really like you pay
when your function runs compared into
like a VM or it's also open so if you're
familiar with JavaScript any JavaScript
developer I do okay guys so for the rest
you need to learn does it I think I'm
not sure but I've heard that not all
functions is compatible with go maybe
you need to confirm this so if you're
familiar with go you can write your
functions and go but for now and I did
this I wrote it in JavaScript like when
I said JavaScript it's note an NPN the
whole stack what's sweet the good thing
about functions it's that you can
trigger them using like three different
ways the a trigger that I use is the
third one like that HTTP code the URL
that you saw on API that lets me like I
am hitting an endpoint which then runs
my function but you can use any cloud
pub/sub message with Google Apps sub or
storage for instance this is like
typical use case of function when you
like you with an ad and then those
pictures for instance here when you
store those pictures on Google code
Google Apps storage this will then
trigger your function and probably you
can use this function to build some some
days or send an email or whatever
or update database if you want so so
really think your functions are like
small process if you may say this and so
for the developer experience because
this like I was talking about tail
functions across functions run cloud so
you need to deploy your function on the
cloud but during the development process
this might take some time like a couple
of seconds like probably some 10 or 30
seconds to deploy your function and
bring it and in 30 seconds
it's a lot when you when you're like
when you're cooling so for this there is
two tools that you can use the first one
is called the cloud function emulator
that you can install your machine and
deploy your function onion which on your
machine like during the development
process and the second tool is called
egg rock so this is the emulator excuse
me they think I like the most about this
emulator that you can debug your
function using your favorite IDE or
editor like vs code because this is the
like really hard when you deploy your
function to the cloud if you have any
error or any like things that might go
wrong
it's really good to debug you will end
up like put in console logs everywhere
or console errors everywhere so this is
really good if you wanna like debug your
function on your on your machine
yeah the other tool is called an ROC so
basically this is a tool that opens a
tunnel to the internet like from your
machine to the internet on the Ingraham
that I your website so you will have
like a public URL which points directly
to Romesh
your machine I will see right now so
this is my I'm using vs code here
microscopy s code this is all my
function I have a detailed we get into
some details right now so for those who
are not familiar with node and
JavaScript so node comes with this
package is manifest package where you
can declare some sort of scripts that
you can run so here I have a couple of
scripts like deploy run and rock ran the
debug and start the function so each
each scripts is mapped to an actual
shell command so here I'm using the
function a me later that I forget to
mention that you can insult from NPM so
NPM install functions so here I have
already started the emulator on my
machine just borrow an NPM start which
of course then starts the function
deployed a box with its fig trigger so
here is HTTP and my function is running
on my machine so it's okay for the earth
because I'm using the get HTTP but the
the API only except post request so
that's fine and then I will open another
shell maybe kay this one and when NPM
ran and rock which will then give me
here a random URL pop sorry so here I
have my random URL and so in order to
tell that cell to each AI to talk their
key with my machine and not with my
clock function I need to update the
fulfillment
URL with the one that Ingrid gave me and
really specify the absolute path to my
function like this save and now each
time I interact with my boss it will hit
the code rain on my machine so let's
test bit yet probably a couple of words
about the code itself so here I will
start from the bottom I have declared
all the intents that I have created on
API and for each intent I have like a
function that friends like a let's say
code for instance popular topics is this
code here so here I'm using like I will
there I have a helper that fetch the
data from the devoxx API which is this
URL with the right day person Friday and
Thursday so I built here loop over this
array and use the fetch API to get the
JSON response and store that in my
schedules array and of course I start
travelling in some sort of cache
location in memory cache just a void
like in every request yeah to avoid
sending like a question the extending HT
because in every request basically so
all my intents have the same pattern
okay so fetch the API filter by some
predicate so here I'm filtering by
topics and when I say okay give me all
sort probably give me all talks about
Java so here in topic I will have Java
you know what let me bring the debug
session live okay so the debug process
is reinforced by a so ho-how it puts the
breakpoint here okay so I need to say
sentence that we trigger this intent so
for instance this is like talk by touch
back up okay so hey Google talk to my
conference agent sure here's the test
version is conference agent hi I'll be
your conference guide I can help you
find a talk with Bill topic or know more
about a workshop or a speaker what would
you like to know do we find all talks
about Java okay so it hits this break
points to have Java in my topic here
this is my predicate and here I have
conference agent isn't responding right
now try again soon so the function
Russians because it didn't get the
response there is some sort of like
sixty like eight seconds
timeout I can't remember in a figure so
I'm not going to I'm not going to
explain everything but this is how you
can debug locally which is really really
powerful up stop the debug mode
okay so just one last thing about the
send SMS so when I tell my device to
send me all the information about some
talk on my phone I'm actually using the
to you a PID to do service to you know
so it's a service that lets you like buy
some phone numbers which you can use
like programmatically to trigger trigger
phone calls or SMS you can also use a
Cisco Cisco strawpoll service I think
it's called trouble yeah basically the
same API okay we have eight minutes left
so let's real quick so in order now -
okay so you've designed your bot you
picture-perfect function your I mean I
forget to show you the collection so
when you finish a begin your function
your cloud function you need to deploy
it so for that I just go to the cloud
function console and then create a new
function which is like here devoxx so in
order to deploy your function you can
use like github applause this zip file
or just cait's come in just copy and
paste your javascript code inside the
enlight editor here which will show
probably few seconds and then hit save
and your function is ready just like if
you like configure your function to be
triggered using HTTP calls just hit the
URL and which run your function
so in order to deploy the function you
could use it like this is the command
line to deployed in production using the
Google Cloud tool or if you're
developing locally you can use the
function emulator so this is the page I
wanted to show you earlier but it's not
something I don't know why so basically
you can copy paste your code here or you
have other ways to deploy a function
this is the trigger endpoint that Google
gives you and then after that I'm like
you really need to go through this
process phase this process like the
approval process it basically happens on
the website also so you need to provide
a couple of information about your
action the audience
description the the house where the
trigger word like I call mine conference
agent so you can choose yours and then
once it goes public you can use the
Google home app on your phone to like
lists all different absolute different
services that are ready public or
install new ones this is the same app
that you use to chromecast your content
on your TV or ah really quick couple of
words about API I so I used it to build
an agent for Google action but of course
you can build the same agent for other
services for a Cisco spark or Facebook
Messenger or our skype all those
services are already available of course
you will have to go through each
design guidelines of every specific
platform I don't know I don't know about
Facebook's design when you design a box
neither slack so so yeah oh the other
goods good stuff with API it's that it's
that you can use like lots of languages
so I developed my news in English but
you can use French or Spanish whatever
it's also machine learning powered this
is really really really powerful so just
you have just to provide a couple of
sentences and then train your the rest
so this is the training arm section for
instance when you say let's say ok I've
say this sentence
give me two most aware of it a lot if
you think that this was not the correct
sentence you can tell it to the avai
interface or fix ok so this is what
actually not this intern but another
intense so where you can go and tweak
the learning face so your boss can get
like better and better over the time
these are ring first okay a couple of
resources some design checklist and one
bonus
great sorry I'm using my camera here
your tasks are handed lumen Shakespeare
whereas to generate the Fibonacci energy
so basically here I use my laptop camera
and then took screenshot of the book use
the Google vision API that converts the
text like using OCR the image to text
and then send it back to the API which
then paid so this um these are some cool
stuff that you can do with BOTS not only
like conversations anyway thank you so
much we have twit left for any questions
or if you are hungry but if you want you
can catch me outside other questions
not on API or box specifically</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>