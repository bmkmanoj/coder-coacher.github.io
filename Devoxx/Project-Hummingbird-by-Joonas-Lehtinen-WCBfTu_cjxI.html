<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Project Hummingbird by Joonas Lehtinen | Coder Coacher - Coaching Coders</title><meta content="Project Hummingbird by Joonas Lehtinen - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Project Hummingbird by Joonas Lehtinen</b></h2><h5 class="post__date">2017-04-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WCBfTu_cjxI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome it's a fairly late season
already I'm going to be speaking about
proteid hummingbird so this is something
that doesn't exist yet so this is
something that we are researching right
now it's a bit carnival always exciting
to speak about something that is that we
are building right now so first we do
background then a bit of bit about web
components how these are related how we
are dealing with a team of templating a
bit about speed in web frameworks and
getting started with this maybe 30
seconds about me so I'm yiannis hey part
boring 20 years back and been working
around web application since that time
unfortunately my share of code base
involved in Freiburg have been going
down from high representative close to
zero so I team has been doing really
good job removing my code lines from the
product so let's see where we are coming
with the web frameworks I would like to
kind of introduce three different axes
so first axis being our the app single
page apps from multiple taps or are we
kind of controlling on templating or
components or are we service ID or
clients are forever so there are
multiple dimensions in every prev web
framework but these are the ones that
I'm part very interested in so look at a
couple of frame jsf pull the page mostly
component oriented and completely on the
server side or a GWT completely opposite
or angular single phase fully based on
templates so this younger one and full
and client-side angular 2 being really
embracing components but building those
components out of templates so it's kind
of interesting trend where they are
going and also they are adding a bit of
service are rendering as well so the
question goes what
optimal balance between this one really
interesting framework is polymer if you
can call that framework it's fully
single page fully client-side and web
component oriented but it's also is
using templates for building those
components body forever traditionally
have been fully single page fully on the
server side and very component oriented
there is a bit of templating in their
ballots very very component oriented so
where we are going next is kind of
shifting to a better balance between
server-side and client-side and also
emphasizing templates more so let's see
what this actually means who have been
using voluntary work anyone so I'll give
a kind of a brief intro to the ones that
haven't been using water in fredburg I'm
not going to be going into detail so
it's a very hook that is really popular
around enterprise applications for
William business apps with Java and we
have our own harvesters and developer
using that the basic idea is that will
kind of combine Java and web or kind of
bridge between java web and how it's
done is that we are building on top of
with top of components we've been doing
that since 2001 so it's really really a
long effort embracing component based
program model so our canova we started
from looking at things like Delta and
this or basic and so that it would be
cool to bring this over the web and we
started building on top of Java on there
we are so if you think of those compound
like layouts and textures and patterns
these all are on the client side really
so they are not on the server side they
are on the client side visible on the
web browser but our kind of key value
have been that you are able to control
these components from the server side
java so for each of these components we
have a server-side counterpart so for a
button
client-side we have a button of the
server side and you can do the same
composition of the server side and then
you kind of add component to that
component free or manipulate component
solution for Evans all of these are
happy with the client side as well so
it's kind of a puppet where you're going
to pull the strings and the client side
pullo's and that's have been a really
kind of powerful development model for
for if you are used to building things
in Java because you don't have to worry
about communication it's already runs on
top of web socket without you needing to
know all the details or it's already
kind of a secure in a way that you don't
have to build out education for each of
the API that you would be publishing or
you don't have to worry about browser
difference you're writing any JavaScript
so it's kind of really product
environment for a Java developer so
that's the background of course we have
some tooling around it as well like
visual designers and testing tools and
so forth we have released the most
recent version eight just a month ago so
there is a fresh new major version out
there for you to try but I'm not going
to be speaking about that I'm going to
be speaking about what comes after that
so if you're interested in eight grab a
wall in book or go to ao.com and try it
out it's free open source apache license
you can use it for anything else used by
many many big companies around the world
for building business so what comes
after that so if you kind of look at
this picture this is by the way one in
trebek logo at the same time not such a
kind of architecture diagram so you look
at this these things they actually are
separate and for past 16 years we
thought that this is one package that
cannot be separated we have bunch of
components and the communication
mechanism between browsers Island
clients a browser sudden server side but
if it can take these two parts part we
do have set of elements that will be
usable for any front-end developer
whether they are using jquery and PHP or
whatever and then we have a
communication bridge
between browser and the server so we
decided it would be cool to kind of
these make these things apart and open
up these things for developers that only
are interested on a part of it so in a
way for a communication part you could
actually use that to control any type of
web UI any type of component any type of
dom and for the elements you can use
these with any framework so we started
exploring that and if we look at the bit
of a history we started from 2001 and we
have a long series of water provoke
releases i mean all of these it's kind
of monolithic it has components as the
communications in one and a couple years
back we started building those elements
on the client side as a completely
separate track nothing to do with
boredom framework and what we are doing
next we are basically pulling these two
things together in a unified platform
where you can use either side or both
sides together so let's take a look at
these two sides first elements parts so
they are test components and actually I
think like four years back chrome team
started talking about web components and
that was a got a really exciting idea to
us we got a thought attained now people
are grasping on the web front-end side
that actually us I built out of compound
we've been doing this for many many
years already but it was also kind of
scary thought so if components are well
implemented within web browsers as a
standard part of the web platform what's
a useful body framework will it kind of
a kill us and without exploring things
on that space and deter that this is a
really exciting development or web
platform that we want to be part of so
the current state of the standards is
that there is a red information under
for a single template that's one part of
the puzzle so to speak and then there
are bunch of standards shadow Dom custom
elements and it's my imports that
together for
a set of standards that could be used
for building web components anybody
building web components yet one guy so
the state today is that a snow templates
they work quite well on all the motor
browsers I don't count ie11 some other
browser but the sad fact is that the
rest of the standards they don't work
that well yet on on current browsers so
shadow Dom part it works in chrome and
that's about it or blink based browser
basically custom elements they kind of
work in more browsers but there are some
limitations as well it's my imports test
blink and that's a bit of a problem so
Google started project called polymer
and that was originally more of a kind
of glue for using these upcoming
standards in browsers that didn't
support them yet kind of polluting those
features in current browsers and that
work quite well and then they notice
that it's not enough to just make the
standards available but actually have to
think about how you should you apply
this stunner to build those components
so former shifted be and become best
practices way of building web components
and when you have web components you
started building application with that a
no polymer is safety to be an
application framework or kind of going
to that direction really exciting
project truly recommended to take a look
of that they are just coming out with
two point O version and it's a really
cool way of building web components and
this is now it's a kind of OPN I thought
I really think that web components as a
starter it's it's the next sleep in in
web platform it will be the way how web
as are built in the future so this is
different framework react and unlearn
and so forth they have been involved in
as well they we have been kind of trying
to build component models for a while
but it's built on top of web platform
that did it
four components now when the web
platform really supports component we
should embrace that and I think this is
something that is becoming after all of
these so how do you use a web component
in polymer you would use Bower to just
download a component in this case paper
slider you can see a paper slider in
here and you just use it as a any
standard element on your web page the
only thing in web components that you
have a dash in between days email tank
that kind of notes that now it's a web
component the key in this is that the
implementation is fully hidden so this
is just a kind of wet API for it you can
set the value and that's about it you
don't see how its implemented how all
the animations that slider implemented
so what our tag was that we started
building those components so now we have
good bunch of components so this is a
component set built on top of polymer
using web best practices having around
70 components when combined with a
polymer paper elements and they're also
good examples on how to build
applications out of this component so if
you go to our site you could use those
and they are all free as well so what's
next in in here so the next steps on the
elements side is that will add a theming
engine in there make this compatible
with polymer to most of the elements are
home but it will be for more to already
but some some of them are not yet and
will basically need to expand the set in
a such way that it could support any
super building any application that they
have been able to build with Warren
framework when we are at that stage then
we could use this for the next
generation of the volume framework so
that's the element part as an example
one component I would say the most
exciting one is data
grid snail with the car number most
interesting components this one is
something that is coming out really soon
I assume best of next week and it has
most of the feature you can imagine in
you know datagrid so it's unlimited Rose
variable row Heights rack and dropping
columns multiple headers and so forth
what is cool in here is that it fully
supports templating from polymer so you
could easily build really customize
features like this picture in there just
with a couple of lines of HTML so if you
need a good data grid regardless of
which framework you or stack you are
using this is a good candidate it
doesn't cost anything so the the actual
topic bought in framework what's
happening around there so now we are in
eight it's a really mature framework
it's used every day to build and run
thousands and thousands of applications
150,000 developers so what's the next
stage with that so to explore that we
started what we call pros at
hummingbirds it is an internal project
at this stage we started a couple of
years back and we wanted to have
questions answered to three different
questions so first one is that if
they're such a technology on the horizon
that will completely change how web
platform is working and how frameworks
are coming together and yeah I think
there is so that's web components that
is a current major drastic shift in web
platform and what we can do with that
one could argue that after that
progressive web applications are the
second shift basically making native
apps at least for business purposes more
or less unnecessary but it kind of
builds on top of this so web components
and procured web applications are really
well compatible things so the second
thing was we saw anger over the years
skyrocket why did
come so popular doesn't have a cool logo
or is it just a fun to use or what's the
kind of power what's the magic sauce in
there and then there's started be many
many other fronted frameworks that were
building around the same concept why are
they so useful could we have some of
that magic kind of built kind of the
isolates the root cause for that and
kind of make sure that this is part of
what remembers well and the third
question was basically what are
limitations that we are having and the
basic limitation that they always have
had is that it's fairly poor for
building websites now as a framework
guys it's a bad thing to say aloud but
that's true so it always have been
building for building web apps
especially internal web apps those that
are running all the big corporations
replacing your swing desktop apps but
for a public-facing web site it's not a
good choice so could we kind of takes
that part as well so these were the
three defining questions we start
researching couple years back and just
dive into the results so first web
components so this is how you could
actually use a web component from Java
so it's fairly straightforward with
hummingbird you just say that I want to
use this paper slider component so the
tag is paper that slider and that's it
you import the component and you don't
have to do anything else so basically
two annotations and empty class on the
client side nothing and with this you
can use this paper slider from from the
server side of course it's not too
useful yet you can slide it around but
that's about it to be able to kind of
put up on the screen you just add that
on a component free to any kind of view
in this case this is a view based on uh
what I did to start kind of changing and
kind of sending and reading
formation from the server from the
browser to deserve ur that's a kind of
tricky part for every web browser every
web framework and we made it super easy
so this is served as a Java code and as
you can see this looks fairly familiar
these are the same methods that you
could use on the client side and Dom
which has made those available to the
server side and we made them fast as
well so you can actually chat traverse
through the dome and read the value or
set the value and rest is automated so
with these everything goes over the wire
automatically and you'll have to do
anything else so you could take anything
web it doesn't even have to be webco but
it can be just plain web page and start
manipulating that from the server side
with couple of methods so this is not
the yet canova listening for evans
what's happening by this out on the on
the web browser side by the user for
that you could just declare that i want
to pour this component little for value
change events with one annotation and
after that you get cold any time the
user going to changes the value and
basically emits this value change event
you get a call on the servers are on
this method so does it seem useful for
developing things from the server side
or just your magic
so that basically kind of a blues web
and Java together in a really efficient
way over web sockets and all the
communications automatic automatically
determines if you have WebSocket
available is not the two-test HX calls
but you don't have to worry about that
that's the only goal that you have the
right so the second part by angular got
so popular I believe that is it they can
attract the similar problem as Excel or
spreadsheet crack for business apps so
they started building templates where
you can refer to data models in a really
easy and powerful manner so we do have
to bring that over to boiling and
actually the name of the talk was also
referring to angular so what we did we
actually brought unload to date to
unload shoot em planning to volume
implement that in server-side and
client-side and it works as well and
then we thought that it's not kind of a
few unified platform to have on road
templates and polymer components so this
is our that will go all in with polymer
then follow me to Bordeaux brought quite
a bit more powerful templates so now we
have a pool mirth place templating as an
example if you would build an app like
this really simple showing my name you
would build a component in polymer as a
template plus bit of scripting this is
how we declare it this is client self
polymer today on the template so I deal
with just declare an input and a button
but the cool thing is that you can also
have like it eats and loops and whatnot
in here and you can buy in today to
directly with this kind of notation so
this is reading from the data model
automatically updating on the screen
with the data model changes and the
server side all services that script
inside is just basically declaring the
tag and adding this tag registering this
tag as a something that you're going to
use on the Honda
and this is actually standardized way to
do that in web browser so this is not
polymer specific and of course you have
event handler so you can call for this
say hello so you could call any method
so that's start a polymer on the client
side on the server side the only thing
that you have to do to be able to use
this template is actually instead of
extending from component extent from
polymers template or if you'll be using
on word templates you can except from
unload template and there is one kind of
key in here there's a date tomorrow so
this declares the data model that
automatically get synchronized between
browser on the server so the data models
look like this we just have a text in
there so when we have declared this data
model you can from the client side read
from this day tomorrow and then you can
also start listening for events by
declaring something as I event handler
so basically the server-side code get
published on the client side and oil add
events get routed to the server side
code so everything is automated in there
you don't have to do anything else so
very powerful way of gluing templates in
there so the third piece of the puzzle
was websites what what could we do about
that and there are it's all about speed
it specially start of speed so if you
start boarding application today it gets
a bit of time to load the IMP the widget
implementation that like 300 k of
JavaScript and it kind of sends back and
for a couple records so it takes some
milliseconds to load but it you can
notice that you can feel that it's not
as fast as I open up further com so we
started fixing that I don't know if we
have enough time to showed so let's see
maybe just a couple of examples so this
example is recorded java one on their
conference network not the best network
and this is now accessing volume based
application
there are traditional body based
application and it takes a while to
actually get that loaded in there this
is actually a huge application with tons
and tons of images in there as well but
it wouldn't be usable as a website and
this is actually is our next website so
we had to fix this so what to do to fix
this so we came up with a pre-rendering
so this is the temp shin or a no caching
same fairly let's say conference network
but pre-rendering enabled so we do the
same thing set the throttling of a
disabled cash and start loading this
right now so now it loads almost
instantaneously and there is no code
changes in this what we did we basically
rendered the web page automatically on
the server side centered over the wire
so they concede immediate us maybe as
fast as a static web page and only after
that start pulling the resources in and
kind of adding the Internet activity to
that so it's kind of fairly big shift
for a server-side framework or actually
any component based framework I'm virtue
is doing the same on the if you go into
the server side rendering mode but then
we started thinking that it is good
enough there is something really
interesting around the corner called ppl
who I heard of this so this is a push
render precash lazy load pattern you can
google for that so this is chrome teams
vision on how to make the loading really
really really fast and the cool thing
about this is you don't have to do
pre-rendering so pre-render is fairly
complex thing due to implement we did
that but it's we would rather not
maintain that if any how possible so
this is riding on top of HTTP two and as
you know in a db2 protocol you can mark
sources that these are loaded
immediately side by side in the same
stream so this is the pushing part it
pushes all the resources needed to
render the first view at the same time
when you are accessing for the first 50
records and this is really fast so you
have everything to render when the web
page loads and it loads as fast as as
pre-rendering and pre casting a lazy
loading some resources that you may need
later on that like fine-tuning part of
it but I don't have time to go into
details with this couple of other magic
tricks that we are building in the
framework is related to compensation so
basically intervention framework you go
to server side to do some actions if the
server happened to be on the other side
of the globe there is light speed that
is kind of limiting that the feel on how
fast is the interaction so with this we
can actually kind of trick the light
speed do guess what is the change that
it's going to be happening on the screen
do that immediately and when life light
goes the server and back then and
correct the state of the of the screen
to correspond with what server actually
wants to show and the final trick is
clients of hybridization the whole stack
is built in a such a way that you can
combine server-side program with clients
are programming so you can build a view
conclude on the server side and if you
feel that it should be on the client
side for some reason most probably
because you want to access at offline
you can use it that way okay that's
basically it and I'm running out of time
so how to get started I have a really
quick tutorial for you no really you can
get started by triangle board and
framework right now it has the same
concepts and we will be supporting all
the applications that you're building
with that on the next relations wealth
all those elements are
available today we can go and try them
out and actually one thing that you
could do if you are really interested
out this we are looking for a limited
number of people who are want to try it
out and comment on it before we release
it publicly so if you are interested
should be an email and I will be happy
to connect you with the development
demon you could try it out so that's it
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>