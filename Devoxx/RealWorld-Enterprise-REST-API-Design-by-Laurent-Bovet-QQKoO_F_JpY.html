<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Real-World Enterprise REST API Design by Laurent Bovet | Coder Coacher - Coaching Coders</title><meta content="Real-World Enterprise REST API Design by Laurent Bovet - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Devoxx/">Devoxx</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Real-World Enterprise REST API Design by Laurent Bovet</b></h2><h5 class="post__date">2017-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QQKoO_F_JpY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone thanks for coming I am
low hand over from this post I work on
many different areas and from
transportation to logistics made and so
on so we are going to talk about recipe
is and we we do recipe as a contract
first actually and one of the main
reason actually because we collaborate
on the design of the AP is and we we
work together we want to have every
stakeholders on board doing reviews 20
signing a P is for example here an API
for the recording the time of employees
here you know people need to to to to
agree on the meaning of information on
their types on constraint on types and
so on so this is an important phase for
us the design of the API with different
stakeholders making reviews this API is
provided by let's say Michael services
and we have a lot of them a lot of micro
services and exposed actually through
this recipe is the Expos and a domain
model a model and we want to have the
smaller that the most consistent as
possible through the whole system so
that's why we strive to reuse and to to
have a common pattern and definitions
for example here in the transportation
area the best the pasta vessels for
total dresses stream through this API
the GPS position and a GPS position is
being defined by coordinates of course
so here we are the type definition for
the coordinates with the description of
which modalities use is used
and we have another API on related
domain which is gates virtual gates on
the on a map where we detect when bakers
are our passing lines so here again we
define these gates with coordinates so
we want to reuse exactly the same type
so we need something that allows us to
reuse type definition across the system
we also need to have this API
definitions of the API documentation to
generate documentation from the
definitions to be part of our of our
documentation badges so we have for
every API such an an API page in our
concerns with sunny structured data
about the API and links to important
other documentation and mostly this this
one is the most important one for us is
how the API is used between the micro
services and we typically draw these
sequence diagrams to show how
microservices stream information through
AP is upon here we have a quite higher
level and he under we have really which
endpoints are involved in in this
interaction so this API pages also
linked to the micro services that
consume and provide this API and also
very important the review process steps
for for this tcp I and the linked with
the Jared tasks for the photo reviews
and these applies to a frozen version of
the API also from the the APA API page
generated by committed itself into the
cool in the comment we also will also
link to pages from confluence for
example here to our terminology or
glossary entry for a given term so we
have this API actually we want to base
our documentation and definition on
swagger and actually we do it more than
shorter alone have you seen we want to
be to have these things with type
definitions but was to label as possible
and that's why that for example here we
have the swagger definition or it is
rendered by default and we want to have
its winter like this in a collapsible
way boxes and convenient to read and
review also the type definition itself
we are we want to use some got something
more programming language level than the
vanilla type definition which is in JSON
schema dialect that's why we use
typescript to define your pipe and so it
is very well supported in many of our
tools food chain and so on also
something that is important for us is
the dependency management we want to
know which API is provided or consumed
by a market service also way to the
exact version and also when we use types
across ap is we also want to have a
clear dependency that is managed with
dependency management management tools
like Nathan or NPM so all these things
combined together we have done an
internal project and actually now we are
open sourced it under the name africana
and this is actually not a real big
thing it's just combining existing stuff
so slider you I at docs on for the box
rendering types
definitions and also code generation in
Java so let's see how it looks like
actually you see that well okay it's an
NPM package so you just have to install
it like this you can sell it globally
and you start an API project with just a
call to an epic Anna in it and then you
give me your project we use the economic
defaults global one and then here you
package it for example of an MPN or
maven module it's seixas NPM area is
created a folder here and we have
actually already generated an example
API so here is it sort of file with a
pet store API example and here instead
of type definitions directly in this
file we have actually an inch to model
files that are here in typescript and so
if i Skype app you can start it with
general just generate the base for the
UI rendering and cover my API here in
the documentation general generated
documentation now we can have oak at the
node for another example this is sales
are two that I just prepared but I
prepared with the maven packaging so
here I have a common common it api is
not exactly the day is just types but i
want to reuse across api's so let's
stake here this category objects that i
want to reuse in another API and I had
removed the API definition here and just
as
dislike the technician here this is the
generated pom file for you just choose a
parent to have all the stuff that is
reused the group ID and so on and from
the other API you know where I want to
reuse this thing so maybe first I have
to go and to build it so this is a
completely normal maiden install two to
build the API for here this type
definition because it does not have let
be a definition so let's see it has
generated code actually so this is the
generated code for my dad technician and
besides the the jackson mappings of jism
we also have this the constraints that
are actually mapped to a jet java
balance validation constraints so you
can leave that also we generate other
things with a generator to didn't schema
themselves in different versions so you
can use tools for validation satisfied
client side anything that is able to to
validate your your-your-your objects so
now let's see let's say I went to reuse
this type definition in a another
project so have the same path towards as
before here but I just have to add a
dependency to my common project with
with a which exports category and write
in my pet CS here I import from common
category actually I just have to even
spell as well
ok so it's done and it should actually
okay if I'd find it so that we have this
this type accessible in in the in the
project and it can be reused so now if I
go to that brother I should know no it
is not worked try it again
so maybe just have to force close my
thing and also mean what in the meantime
we can okay here it is let you start
work refresh things from the previous
example okay and also here if we see the
generated code it really imports from
the other vote from the dependencies the
other type okay so that was it for the
quick demonstration at this response we
also provide some stuff in the in the in
the API economy for example it's
providing exists is playing the role of
an identity provider so web sites mostly
shops will have to we want to use the
suit post login for them customers and
most of it was all of them will also use
API is to let the users manage their
address so they are globally managed and
not in every website so we are at giving
this in this area and we also move
different products into the recipe is
for example the postcode trader which is
quite popular is now also for partners
who want to to let the users send
postcards and so on we move these kind
of products into a REST API
so that was it you can go to the Swiss +
booth we have a quiz to win iPads and
other goodies and maybe you have some
questions right now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>