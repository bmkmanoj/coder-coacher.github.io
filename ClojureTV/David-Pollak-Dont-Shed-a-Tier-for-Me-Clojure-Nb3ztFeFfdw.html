<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>David Pollak - Don't Shed a Tier for Me, Clojure | Coder Coacher - Coaching Coders</title><meta content="David Pollak - Don't Shed a Tier for Me, Clojure - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ClojureTV/">ClojureTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>David Pollak - Don't Shed a Tier for Me, Clojure</b></h2><h5 class="post__date">2014-01-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Nb3ztFeFfdw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you very much for having me and I
want to give a huge shout out
and David Nolan without them there would
be no demo without them I would just be
a pool of Tears a different kind on
stage there's a certain amount of like
magic unicorn this about closure and
maybe it's because it's not trying to do
too much but the fact that closure and
closure script can actually kind of do
the right thing in pretty much the same
way and share data across address spaces
is a really big thing and I mean a lot
of ranting and hand-waving that I do
over my presentations is about how
developers think about things in one
address space or in one way and forget
about everything else and allowing
having a language that has the same
semantics and very similar
characteristics across different address
spaces across different platforms is a
pretty amazing thing so I mean I think
there should be a shout out to rich to
the folks who did closure script just
because they did it right and watching
some other languages flail about it and
not do it right it's it it's cool the
closure did it right so what's my
history I'm I founded the lift web
framework project back six years ago I
actually joined the Scala community
officially seven years ago almost to the
day which was kind of somewhat amusing
to me because I was giving a
presentation at DC skull and I realized
there were more people in the room at DC
Scala than there were on the Scala
mailing list back seven years ago I
traced my roots just after I graduated
from law school - yes similar to writing
software for next step and who here's
ever used next or next step okay whoo
wow that's pretty awesome
I wrote a spreadsheet for next step
called base and it turns out IBM and
Reuters were doing a prior art search
because they were being sued by a patent
troll who had tried to get a patent on
real time trading through spreadsheets
and it turned
that I had the original art back in 1992
yeah but the other thing is spreadsheets
are in my vein and the idea of getting
rid of developers and letting business
people get closer and closer to
computation is really important to me
and you know it's like building
developer tools is great and you know
building a web framework is cool but
building stuff that really let's let's
the business people do what they really
want to do is important and taking a
look at what happened with VisiCalc and
one two three Excel these days you know
excels the most popular programming
language in the world there's something
there and interestingly I'm feeling more
and more like there's something there
where closure is the substrate to enable
it so that's what I'm going to be
talking about today and I also have to
do a shout-out to my consultancy brick
alloy we launched back at strange loop
yes some you know do all the Alex Miller
gigs and so the pain of tears you have
different tears in your computing system
you have different languages for each of
the tears you have different semantics
for the different languages and the
different runtimes at each of the tiers
and there's always an impedance mismatch
how many billions of dollars have
companies spent acquiring business
intelligence bi tool companies you know
it's a substantial amount bi represents
a lot and bi represents a lot of the
thing of getting the developers out of
the ways the business people can ask
kind of questions they want to ask but
if you think about Business Objects in
SQL then going into Excel think of the
impedance mismatch there and this isn't
just the impedance mismatch between SQL
and Java or the impedance mismatch
between Scala on the server and
javascript in the browser it's a much
deeper impedance mismatch because you're
asking questions about tabular data in
entirely different ways you're asking
questions about your tabular data in a
way that has great set theory foundation
on the SQL server and has a bunch of wow
this just works in Excel and sometimes
things are just wrong and you know we're
seeing the the resurgence of Java
because Java enables Big Data Java is
Hadoop Java is what a lot of businesses
are starting to do they're processing in
and it turns out that MapReduce in Java
is just raw Java has entirely the wrong
semantics for doing MapReduce so I think
closure can come to the rescue
I think closure can come to the rescue
because closure can run across Cheers
because closure has great semantics for
data manipulation and the semantics run
in two different forms one of the forms
that the semantics run in is functional
okay I have a function I'm going to
apply it to some data more data a lot of
data this a bullet point that I didn't
put in there which is really really good
tools for doing inter process
communication and Stewart
you know kicked off the conference by
talking about a way of serializing
marshalling data between address spaces
and one of the interesting things about
Erlang and closure that compared to most
the OO languages is you're not carrying
functionality and data around and if you
take if you think about all of the pain
in Java serialization land all of that
pain or a substantial amount of that
pain comes from the fact that you have
functionality methods that are
associated with your data that are that
are intertwined with your data your data
can't live without these things whereas
in closure in Erlang you have functions
that operate on the data rather than
having the functions and the data
intertwined so you only have to
serialize one thing you only have to
conceptually serialize one thing
and finally there's core async and Cori
async is like my new favorite thing in
the entire world I kid you not it's like
you know I'm doing everything I do I try
to do with Cori sync know I you laughs I
mean
first thing I did when I actually sat
down and do closure was okay I've got a
browser here running closure script I've
got a server here and they're gonna talk
by Acorah async and they're not going to
know that they're in different tiers and
that was the presentation that I gave at
Strange Loop and the presentation that
I'm giving today is or the demo I'm
going to give today is a layered on top
of that but the other reason that
closure comes to the rescue is because
it compiles and runs across Cheers
because almost everything I can possibly
think of with the exception of Arduino I
wrote this slide and I realized oh darn
or do we know it's the exception okay
and my Ford SYNC thing in the middle of
my car but that's something else
entirely everything runs either JVM
bytecode for JavaScript and JavaScript
is a new assembly language and you know
it works well as assembly language not
for much else so there are some
exceptions I put the exceptions in
parentheses to kind of highlight the
reason why closure itself is maybe not
the right language for everybody to
write code in and you know I'm standing
in the room full of the people who
believe who spend days and lots of money
traveling to come see come here but at
the end of the day the closure syntax is
very uninviting for the Excel set and
you know you take a look at the you take
a look at our and languages like Python
which are doing pretty well in kind of
Excel plus analytics land they have a
more inviting syntax
closure is not declared if enough and
you can write a lot of DSL Zinn closure
but at the end of the day what people
describe when they write Excel
spreadsheets is not a flow of control is
not a call based hierarchy but it is
relationships so when people write an
Excel spreadsheet they define the
relationships among cells in the
spreadsheet and it is up to the
spreadsheet engine to figure out the
right path for computing the right way
to break the computation up across cores
which Excel got a few years ago a bunch
of other stuff so that when people do
develop an Excel spreadsheet they're
thinking about dependencies and us
humans we actually do relationships
really well we do dependencies really
well I mean you know it's baked into the
fabric of our brains thinking about
friends and you know family and
generations of family I mean these
things are important and we work well
that way rather than do this thing and
then do this thing and then do this
thing but it turns out the core async
and having a dependency tree like you
have in Excel are oddly especially with
with taps and vault are oddly the same
thing this is another reason why quarry
sink is my new best friend because I can
actually develop with I don't have to
explicitly develop the dependency graph
for computation because all I have to do
is I talk about the relationships among
the taps from one channel to another
finally we don't want core a sink in
other people's faces it's a really
really really powerful way of looking at
the problem but it's not necessarily a
powerful way that end users will see you
know the Excel set the are set will seed
solving the problems so we want is we
want these functional semantics that we
get from from closure I almost said
Scala
set the trapdoor over their homes we
want our functional semantics across
tears we want a pleasant introductory
syntax and it excel-like semantics we
want that relationship peace and we want
the same semantics in streaming or batch
so if we're going to apply a particular
computation to a set of data that set of
data that we apply the computation to
should either be a collection of stuff
or we should be able to stream or in an
ideal world we should be able to run
some computations across a historical
data set and then continue to tick data
in and maybe even if we're lucky
serialized states that we can put that
computation away or move it to another
machine and then resume it later
I'm not gonna show you all that stuff
today but that's kind of Fantasyland so
let me talk about flu and talk about how
I got into closure and I've been meaning
to try out closure for quite a while and
every time I picked up a closure book or
a list book I would do it at night and
then I'd have dreams about parentheses
and there was one time when I played
Super Mario Galaxy and then read the
list book and those dreams are
absolutely amazing and no no drugs were
involved so it took me a while to to
cotton on to closure and I've been doing
I do consulting and I've been finding
interesting closure projects so I'm
doing one pure Java project right now no
the client won't let me use anything
else I've pleaded in begged for some
other JVM language now I'm doing a
scholar lift project the most
interesting project I'm doing right now
is a combination of Scala and closure
which is kind of cool and it actually
gets into some of the business semantics
and how you surface dynamic business
rules
businessperson and yet have your stuff
running in a well typed program because
the particular client has done a lot of
work building building up a tight system
that actually does the right thing and I
have a side project that I'm doing that
is closure and Python
anyway pluie is my closure toolkit and I
develop pluie as kind of a joke
do you guys know mean grape J Edwards on
Twitter anyway so no okay
more people use next-step than no J
that's surprising so J and I were
talking and I'm like I've I need an
excuse to learn closure and he's like
okay do a log analysis tool and so I'm
like yeah I hate Splunk and so anybody
here who's played colossal caves
adventures knows that a hollow voice
says blue and it's a magic word and so
the I the idea was I was gonna write a
log analysis tool using closure and
using react and I haven't quite gotten
there yet but it's a slow journey and
then I like signed up to speak at
conferences like this and so I actually
had to open up the source code
repository and put some stuff in right
now the key thing about blue is that it
does the browser to server chat by a
core async so you know basically when
you're building your apps all you have
to do is send a message from one channel
to another and blue knows how to
serialize it and send it across address
spaces and a bunch of other stuff so
you're not really thinking about sending
a message that to the server you're just
saying I'm sending a message to a
channel and the right thing happens
underneath or the server receives a
channel as part of a message and then
can send a whole bunch of data back
it's miscellaneous other stuff and that
includes copying and pasting focuses
Java Script repple and then doing a
little bit of enhancement and focus
actually sat down with me thank you sir
and
did some enhancement for today's demo
visi is a project that I've been working
on for about two years and it's kind of
a back of the mind project which is
reimagining the spreadsheet and rather
than read about rather than thinking
about the spreadsheet as rows and
columns where you have formulas in cells
I think of the spreadsheet as
relationships among data items the comp
you take the the core parts of the model
is you have sources of data you have
computation and you have sinks so as
data flows through your model stuff
flows in whether it's static tab static
data or dynamic data it doesn't really
matter to the computation their stuff
flows in this stuff flows out and you
can cap you can put stuff in and you can
capture the output and you can display
the output and oddly it's like core a
sink on the edges
did I mention quarry sink is my new best
friend and I'd also like to say that
it's the the bluish busy ish thing which
I'm gonna show today is two things in
one and it's to a great degree thanks to
Bodil and to insta parse because when I
was at emerging languages she showed off
her
lispy language I was talking about using
insta parse but it compiled down to
closure and there was like this Blues
Brothers thing where like you know the
the light comes in through the window
and says do you see the light and I'm
like I see the light and I realized that
closure is a perfect substrate for
writing a lot of other languages because
with s expressions that are easy enough
to emit you're not spitting out strings
and by the way if you've ever seen any
of my live presentation so I hate
vomiting strings I hate code that vomit
strings whereas if you can vomit I'm
sorry if you can produce
well form data and that data can then be
consumed by something else and the
wealth yet the well form data is simple
enough to be able to manipulate by
normal humans and if you've ever seen
the Scala AST and tried to write a scala
macro you know you're in the small
minority of people who haven't gone
insane yeah I did a project on that too
but closure is simple enough that you
can actually admit it you can omit a
reasonable West expression that you can
then shove into eval that you can show
the aim to eval or whatever the
JavaScript compiler that Focus wrote
that I literally copied and it's pretty
easy to then use that as the sub
substrate for a language so let's
actually look at the language that I've
been reimagining spreadsheets as and
here we go
we basically and this this is actually
for the closure Python project that I'm
working on basically an analyst firm
wants to be able to do real-time
analysis of Twitter feeds for sentiment
and but what they want to be able to do
is they want to be able to go in and
tune the sentiment analysis based on
specific client needs so we do is we
define our source and our sources
Twitter now that doesn't really
necessarily mean anything it's just a
placeholder where we can shove data into
the system and you could conceivably
have multiple sources the sources are
exposed underneath the covers as yes a
corne async channel I bet you're
surprised there and then we have a
function which is add sentiment to a
tweet and what do we do we get the the
text from the tweet now this is actually
oddly thinly-veiled
take the twitter variable and you have
keyword text on it but I wanted to make
the
the syntax a little bit more inviting to
Python ease and then we pipe that into a
calico
then we create a new instance of the
tweet with the sentiment assigned to it
or with the sentiment added to it and
then so we say with sentiment is a
transformation of add sentiment to
Twitter but actually that I realized
when I was looking at this slide five
minutes before the presentation what
that really should be for people who
think in terms of relationships there
shouldn't be an explicit transform there
shouldn't be an explicit map there
because what they want to do is they
just want to say add sentiment Twitter
they want to call the add sentiment
function on the Twitter feed and have
that be the feed but you know that's for
the next version and then we filter the
sentiment and what we do is we pull the
sentiment out and if it's positive is
greater than 2 or negative is less than
negative 2 then we pass once again I
think this probably could be cleaned up
and made less like Lisp pascal scala and
more like excel but you know it's
something that we can work on and then
we figure out what our average sentiment
is and Flo is kind of like reduce except
it does two things it does it keeps the
intermediate reduce around but also
every time there's a signal to it every
time there's a new piece of data that
goes in there is a new computation that
comes out of the channel the target
Channel so you know oh all of these
things that don't take parameters are
actually implemented as channels and
then there's a shadow that doesn't molt
on the channel so you can have multiple
taps and when you access any of the
things you're actually accessing you're
putting a tap on the thing that you're
accessing and so we flow the stuff
through so that we sum up our positives
and we increment our counts and we start
off with a seed value and then we do all
that stuff to filter sentiment and there
are averages is just the average
sentiment so what we do is we basically
have some data that goes in and some
stuff that comes out so what's actually
sick now let me go back to the slides
whoops come back here ah yes
keynote I would like to play please I
hate when that happens okay so I'll wave
my hands later
I've been waving my hands a lot I have
15 minutes to actually do a demo that
won't take 15 minutes so I'll stop
waving my hands so here's the program
that we had I'll actually change it
around a little bit to change the
sentiment stuff and I'm gonna run it on
the server so we run it on the server
and what we see is we see down at the
bottom we have a negative count negative
sum average positive count and let me
run it again and what you'll see is
you'll actually see it as if data was
streaming in so we see the first one the
second one the third one and the way
that this is implemented under the
covers is that we're actually sending a
chant the all the computation is
happening on the server but there's one
channel that listens to average and just
pipes that channel over to the browser
so to the stuff on the server it's all
looking like I'm typing the data around
we can also run this in the browser and
what I did for running in the browser it
actually will take a few seconds
actually okay so for running in the
browser I only have one data element so
I'm going to take the filtered sentiment
and say with sentiment and we're gonna
run it in the browser and you'll see
that there was whatever the data I had
for
that one tweet turns out to not be
either positive or negative sentiment I
should stop that this is step back and
say what's the sentiment so if you're
seeing their live tweeting and going
this gave guy is a boring moron that
would be negative sentiment and there
are a couple of thousand words that when
they're contained in a sentence or a
paragraph they indicate negative
sentiment and there are other words like
wow this just lit up the room like David
burning down in flames okay that will
appear to be positive sentiment even
though it's not necessarily positive
so sometimes sarcasm can throw things
off but one of the things that it turns
out is very interesting to people who
run bigger shows and Alex does is what's
the live sentiment of tweeters when
they're watching keynote addresses who
are the people who do well who are the
people who don't do well and can we like
take the hook and pull this guy offstage
because he's bombing so one of the
interesting things that one of the
interesting things was the sentiment
analysis of the Oracle OpenWorld
conference when Larry Ellison announced
I'd rather watch my boat win the world
the America's Cup then talked to you
guys that was a huge negative there was
a huge uptick in the number of tweets
but they were all negative and actually
let me show you the data set that I'm
using which is right over here so the
data set on the server I pulled from a
couple of weeks ago I guess it's about a
month ago and it was during the
government shutdown so I basically
pulled live Twitter feed let me see if I
can make just go away and so the live
Twitter feed is everybody who had the
hashtag shutdown in their tweet I
captured about 10 minutes worth of it I
figured there would be some sense
in there what do you think and then we
run it through an analysis that splits
the center holes out punctuation splits
by word looks up the word in this list
of about 5,000 words which and the list
of about 5000 words II was done as a
research project and I'll have the
source code up probably tonight and
you'll be able to actually see the link
to the research project so what do we do
for the sentiment analysis the sentiment
analysis is actually just a single
function over here it's not really a
hard function you know what do you do
you split it it's a couple of regular
expressions to split up the sentence and
then you filter for whether or not there
were the words that we care about appear
in in the list of positive or negative
and if they do we increase the negative
count and if they don't we increase a
positive account so let's run this on
the server and you can see that we have
a lot more stuff coming in so we have we
have a lower negative sentiment and a
lower positive sentiment because in this
case we're not filtering out the zeros
so basically you know tweets which is oh
yeah plan to go to dinner shut down okay
that's gonna be neither positive nor
negative but you'll you'll have ones
that have more words um the key thing
and let me go back to the slides
thank you keynote
maybe if it's not one of the things that
I think is really important for people
for humans is to be able to play with
things and manipulate things and we're
all we're all repple fans here and by
giving people the ability to play with
data in the browser and then play with
data on the server is really huge
because you can play with your limited
data set you can say okay you know what
happens if I pardon me while I caught
him it passed the sentiment filter you
know what happens if I filter this how
do things change what if I want to check
for people who are particularly positive
but don't care nearly about as much
about people who are negative you know
you start asking questions like that and
by being able to run data with a limited
set or run your computation on a limited
set of data it's really really important
and you know for the people who are
doing the big Hadoop jobs what do they
do
it's batch processing who here was old
enough to use an IBM 360 in batch punch
cards yay
I'm not the oldest one in the room I
still have my green card what people
couldn't do in batch processing land was
people couldn't play with their
equations I couldn't play with what was
important to them why the PC took over
was one two three because you couldn't
load some data in you could play with it
you could get your formulas right and
then you could could chunk kachunk
kachunk that stuff over and over again
being able to play in a repple or being
able to play with your data in a browser
is really important and then you ship
the data across to the other tiers so
the playing with things that the direct
manipulation is so important for us
humans because with the exception of a
few people in the world almost nobody
can deal with a pure blinking cursor
almost nobody can deal with something
where they're not standing on the
shoulders of other giants
and yeah it's actually side rent one of
the reasons open-source is so great is
because we're all standing on the
shoulders of giants and those giants is
us and it's really cool because we can
each take and tune and tweak and learn
from what other people are doing rather
than having the data siloed and that's
also enabling that power or reenable a
net power to people I think is really
important because businesses will do
better when the business analyst doesn't
have to like wait three weeks for the
Hadoop job to be written and then go
play with it and realize well it's close
enough so I'm not going to spend another
five thousand dollars of my budget money
and wait another two weeks to get the
thing changed around so we've done the
JVM server we've done the browser demo
the thing that I don't have and I'm
shedding a tear about this was I
realized that I couldn't get I was I had
the demo set up to work with react
accept react for their MapReduce takes a
JavaScript function I didn't realize
this until late last night
it takes a JavaScript function and
expects a value and there's no way of
doing anything asynchronous so there's
no callback and so what that means is
that with the way that I have the whole
pipeline set up I can't say golly gosh I
have this pipeline set up I'm gonna put
a value in and get a value out during
the same function I tried it and I sat
down with David and David was like no
but anyway so we're gonna gum I've
actually been having a good conversation
with the react guys about enhancing
their MapReduce stuff and really I will
have a MapReduce demo with the exact
same code running on react in by the end
of the year because it actually means
something for one of my clients so
that's the demo that's the rant you guys
have questions I've got six green
minutes left
nope oh I'm sorry hang on let me put my
other glasses on because I can't see
worth a damn my reading glasses on okay
they're on the back the the sentiment
analysis was not weighted let me let me
go in and show you the code so if we go
to so here's the code for the sentiment
analysis which splits replacing some
symbols and then I should let me go to
the other one let me go to the closure
stuff it turns out the regular
expressions between closure and closure
script are a little bit different and so
anyway so we basically get rid of all
the punctuation we get rid of all the
control characters we turn it into a
lowercase then we split it spaces with
that we then filter by positive or
negative and the set of negative is just
these words and the set of positive is
another set of words but there was no
there's no waiting the the research
paper was actually really interesting to
read and I'll I'll actually tweak the
link so that you guys can take a look at
it and but at the end of the day the
amount of extra value you get from being
really good about things like trying to
identify sarcasm and other stuff isn't
really a lot compared to just like the
kind of words we use in everyday
language because those for the most part
show our sentiment other questions
I don't know I for the last year and a
half I've had grid backlash because I
think that so it I can't remember but
there have been a couple of talks I
can't remember which ones but they've
been a couple of talks today about how
the paths that we follow are the paths
that other people follow and we kind of
go down particular paths you know we
think about closure and Lisp and the
kind of paths that we've gone down and
closure and let's blend
they've been fundamentally different
than the kind of paths that people have
gone down in c and c++ land and they the
tools shape what we think and they shape
how we approach the problem I think one
of the big problems with spreadsheets is
they're two-dimensional and people
approach the problems by thinking about
the formulas and cells rather than by
thinking about the computation as an
orthogonal piece to their data and that
their data can be represented in
entirely different ways and so with that
all being said people think in grids and
they're really easy and I should try to
figure out some way of doing it
does that not that does that not answer
your question appropriately other
questions Oh sir
the ways languages advanced Scala is
radically more academically driven than
closure closure is more practical and a
lot of the pieces of closure reflect
that practicality that is in most ways
for the better and then you see some
interesting adjuncts like the core type
stuff which is like okay you know what
the language closure doesn't have this
but there's a lot of interesting things
that we can do with the type system and
looking at what Martin is doing with
dotty which is his new type system
language he is kind of going back to
first principles and saying the type
system is important but it shouldn't
necessarily be all of the language or
what has become with Scala which is it's
almost all consumed the language so
Scala programs are less about the data
and more about the types than they used
to be and from at least from my
perspective that's sad because I rarely
find that the types help me either as an
end developer or as a library author as
much as the effort that has gone into
making them better I'll be giving a
presentation on Scala versus closure at
the closure exchange in London in about
a month a little bit less than a month
and so I've actually been thinking about
it a lot the other thing is that the
build tools in closure just so much
better than the build tools in Scala and
I have 44 seconds so one more question
so thank you all for your time and</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>