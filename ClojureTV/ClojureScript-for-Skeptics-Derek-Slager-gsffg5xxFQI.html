<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ClojureScript for Skeptics - Derek Slager | Coder Coacher - Coaching Coders</title><meta content="ClojureScript for Skeptics - Derek Slager - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ClojureTV/">ClojureTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ClojureScript for Skeptics - Derek Slager</b></h2><h5 class="post__date">2015-11-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gsffg5xxFQI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome skeptics I assume everyone in
the room is very skeptical indeed you've
self selected you see so what what do we
mean skeptics right I think you know
it's kind of a heavy word but the
definition is rather simple right not
easily convinced having doubts or
reservations I think that described like
all programmers about all technology and
I think this is actually a very healthy
thing to be I'm a skeptic about just
about anything I hear we deal with a lot
of marketing and so I would encourage
you all to be very skeptical and so
welcome fellow skeptics now you might be
thinking why is there a talk called
closure script for skeptics at a closure
conference that sort of doesn't make
sense and yet they accepted the talk and
you guys are all here so maybe it kind
of makes sense after all but but but
actually I think there actually are some
skeptics in the room and yes this is the
closure community and and maybe it's a
little bit easier sell because you guys
have already sort of embraced some of
the aspects of the ecosystem but I'm
guessing that there's a decent
percentage of skeptics in the room and
in fact I'm going to poll you if you're
pretty much skeptical if you meet this
definition about closure script
specifically you could just raise your
hands I can kind of get get a sense okay
I would say that's about 30% of the room
nailed it so
so and so yes we're at closure Kahn's
not close your script Kahn's right so
this is this is not not terribly
surprising right so so yeah there's some
people in the room who are not skeptical
about closure script and that's that's
great and I'm guessing there's probably
even fewer people here who are skeptical
about closure itself or the closure
ecosystem in general and I think that's
fine and and I want to be clear my goal
here is not to convince all of the
people who are skeptical about closure
script but not skeptical that closure to
embrace closure script because that's
actually not going to earn us very many
people right if we had all those hands
that that went up all of a sudden become
not skeptical we've grown by a very
small amount right so in this room this
is not where we're going to make closure
script happen and in particular if we
zoom out and we go into the world of
those JavaScript people the ratios look
pretty different right and and I didn't
actually count how many people I put on
the left hand side but I think this is
probably pretty close to accurate and
the reality is I think if you go and
tell the closure scripts story again
we're at closure Cange and 30% of the
hands and the route went up right if 30%
of us are skeptical about closure script
in the broader programming and
JavaScript community in particular Wow
right that's that's a that's a really
tough sell and yet I think the closure
script story is powerful I think it's
actually compelling for these mainstream
people doing JavaScript
and I know this because I've been one of
those people for a very long time now
you may be thinking okay yeah you've
been a JavaScript guy but you don't
understand skepticism about closure
script you're selling us closure script
at a closure conference and and you
might be right in fact if you think
about me right this describes me three
or four years ago when I first tried out
closer script and I was in the center of
the bullseye right so for those who
don't know a big part of closure script
is Google closure right which is a
pretty large set of stuff that closer
script is built on top of and like
nobody's ever heard of it
but I had and I'd been working with
there for years and years building
really really big JavaScript stuff so I
knew that I had it looked I knew all the
Java ecosystem stuff I know about class
paths
all that fun stuff I even have an expert
in emacs and have proficiency and
closure right so closure script for me I
should have been the easiest sell in the
world and yet three four years ago I
tried out closer script and it was
terrible it was a disaster I had a
horrible experience so what went wrong
right if there's one word it's tooling
the tooling was a mess I probably spent
90% of my time experimenting with
closure script three four years ago just
fiddling with tools right and and it
actually hurt me coming from the closure
world because I expected all my closure
stuff to work right it was like why
can't I jack in why does none of this
stuff actually work and just getting a
browser repple I had to figure out like
Austin has to piggyback on the weasel or
I don't even know like to this day like
does anybody understand this stuff if so
talk to me later because I couldn't
figure it out I don't think I'm smart
enough even when I could get through
some of those tooling challenges though
they were just missing things right so
I'd been using Google closure building
really really large JavaScript
applications and yet we didn't have
modules right so we had no way of kind
of breaking up our compilation units
there were basics missing like source
maps and a lot of these were kind of
known and acknowledged gaps but they
were gaps nonetheless and they hurt the
experience of using using closure script
documentation was a disaster what
documentation was there was always out
of date because it was constantly
changing right everything was moving
around all the time and you never quite
knew what the right tools that was it
was very very frustrating and in the end
even sort of you know being pre biased
to like closure script and having all
the requisite knowledge to be successful
with closure script it just wasn't
enough better against the stack that I
was already using and successful with
for me to really give it further
consideration so you know I stamped
myself with with the skeptic mark and
moved on I just put closure script back
on the shelf and said not interested
right and I went right back to the
JavaScript world which which had served
me well so I am still here on stage
selling you closure script so something
happened between three four years ago
and today and it looks something like
this right this is a partial list of all
the amazing things that have happened in
the closure script ecosystem in just the
past most
the past two to three years in fact so
basically a lot of rough edges got
smooth and I think others in this room
may have had the same experience I did
dabble with closer script a little bit
in its very early days and have a bad
experience like things have gotten way
way better and there's a lot of cool new
stuff as well so we'll talk through some
of this stuff in specifics we don't have
time actually to talk about all the cool
stuff and closer script so I'll leave it
to some other some other folks who are
giving talks to fill in some of those
gaps but seriously if there's people in
the room who helped with this stuff you
guys are awesome really impressive
impressive momentum and impressive
collection of stuff from a very small
community so what else changed right if
we if we think about over the last three
four five years things have changed
really dramatically in the world of web
development the world JavaScript in
particular right in the old world five
years ago there was this default right
and and the default was we're going to
put jQuery on the page and then we're
just going to keep adding stuff till it
works right and and that was how
everybody started their application five
years ago with very very few exceptions
and and it didn't matter if you were
building form validation for your
WordPress blog or a rich Internet
application or whatever we were calling
those things five years ago you just
started with jQuery and started hacking
away until it worked and as applications
got more complex that started to break
down right and by the way jQuery is
still you know here in 2015 fantastic
for doing form validation on your
WordPress blog by all means use it but
our problems in the world of web
development have gotten way more complex
and as the old toolset started to break
we did some bad stuff right this middle
ground was not pretty right and so new
tools have started to form in the last
three four or five years there's just
been an explosion of new stuff I just
really want to emphasize this new stuff
is all about the right side here right
angular wasn't developed to do better
form validation react wasn't developed
you know for WordPress plugins right
this is really these technologies are
for these larger single page
applications and this is a really
important point right because this Red
Square is where all the new stuff is
happening and it's where it belongs so
when we talk about closures
script we're right there in that in that
red square we are not we are also not
designed to help you with with your
wordpress blogs form validation that's
closer script is too much for that
and jQuery is just fine so I really want
to emphasize that because I think I
still see confusion in the broader
community about what closure script is
for I'm just going to state that it's
for this until proven otherwise this is
what this looks like via Google Trends
there are actually believe it or not
five different technologies on this on
this slide and then Google Trends just
relative search traffic on Google that
purple line you can probably guess is
jQuery right and then if you look in the
bottom right there's a bunch of static
right that's all the other technology
and by the way closer script is not one
of them because I doubt it would
register so if we take jQuery weight and
zoom in right we see a very different
picture right and so the four remaining
technologies are some of the the you
know you might say hotter technologies
for building single page applications
and sort of MVC style applications in
the JavaScript ecosystem and you can see
right Wow look at this tremendous run up
for for angular that's actually quite
impressive and yet its static right
relative to jQuery relative to the whole
of the community and I mention this not
not to say that none of these
technologies are important they're all
very important but I want to emphasize
it's early right and we're still
figuring this stuff out if you're
wondering why every single week there's
like a new framework or a new library or
new something that you have to learn in
order to do web development it's because
we're figuring it out like we are right
now just figuring this stuff out as a
broader community right and close your
script as part of that community right
now we're contributing ideas but I think
we can be more than that so if you go
and talk to your friendly local
JavaScript developer and say hey have
you thought about closure script right
you can probably imagine pretty easily
the list of objections that they're
going to come up with right I think we
all know the first one yeah exactly I
see a lot of people making making hand
parentheses in the audience so so yeah
clearly we all get this one and and that
makes sense right lists and you know
parentheses this it's different it's
really different right it's not a little
bit different it's not typescript to
JavaScript different it's really
different but a point
I make and I find this really
interesting is that JavaScript syntax is
also getting really scary right so a lot
of people who have been using javascript
are starting to get scared by changes in
JavaScript this is the operator
precedence table for JavaScript right I
would show you ours but we don't need
one so here's a fun thing I did I took
this code snippet which by the way I'll
clue you guys in is completely valid
JavaScript it's mostly es6 with a little
tiny bit of es7 you can compile this in
babel this works so this is valid
JavaScript
I told more than 200 JavaScript
developers that this was closer script
for people called me on it
four people knew that that was
JavaScript and not closure script so I
think we're at an interesting point
where a lot of JavaScript developers are
being forced out of their comfort zone
and and I think we can sneak in a little
bit and say well actually our syntax is
very stable it doesn't change every year
we'll see how it goes
but also kind of cool that javascript is
getting you know D structuring and
sequence comprehensions and other cool
things so that's good too next objection
community right well nobody actually
uses this stuff so if I get stuck on I'm
really I'm really I'm really stuck
that's not true actually
we are a small community let's let's not
kid ourselves relative to some of these
larger communities relative to even you
know the ember community we're very
small and yet we're a really great
community if you look it and by the way
I didn't doctor the screenshot on
left-hand side just go to stack overflow
and look at the closure script tag
people are answering questions right so
people are getting stuck and then people
are getting them unstuck right small
community but very active community
really nice numbers on github for some
of the some of the more popular closure
script projects right I mean you know
star counts in the thousands that's
actually really impressive it's it's not
normal to see sort of these smaller
communities have have such impact and
there's some companies using closure
script and by the way we need more
companies using closure script we need a
few marquee name
and so if you're in this room and you
work for one of those marquee companies
I'd love to see you guys do something to
get your logo on this list that stuff
helps a lot with easing people's fears
about adoption debugging right I'm
writing in this weird language and I'm
compiling to stuff that runs in the
browser that's going to be a mess not
really actually
so it's pretty straightforward there's a
technology called source Maps and this
isn't something we invented right this
is just like stuff that exists in the
broader community and it works great
right so I can set a breakpoint on
closure script code and that works fine
and again a lot of JavaScript developers
are now using this because they're
writing code in new-school interesting
JavaScript that compiles to old-school
browser JavaScript and so you know this
stuff this stuff works really well
another interesting thing I want to
point out you may notice that this is an
actual screenshot from Google Chrome and
see those things that are colored it's
actually syntax highlighting my closure
script code right and that's not a
plug-in there's code that ships in
Google Chrome and not some special
closure script developer version of
Google Chrome the same version of Google
Chrome
everyone at the coffee shop is using has
code 2 syntax highlight closure script
code so I think that's that's a pretty
interesting sign that we're on an upward
trend here ok great
but you guys are bringing lots of value
there's lots of stuff in close your
script so this is going to be really
blody right I'm gonna have to pay a huge
cost in terms of code size nope I wrote
this they're complete source code on the
bottom so you can you can check my work
later if you're really really bored but
I wrote to essentially equivalent
applications you know a lot hello world
one enclosure script and one using
jQuery plus the minimum amount of
JavaScript code seen there to make it
actually work
and after gzipping and in the case of
close the script passing through
advanced compilation we're actually
smaller than jQuery for HelloWorld right
and in fact this 23kg that includes the
overhead of persistent data structures
so that's pretty good that's pretty good
and particularly we'll talk more about
code size later but as you add more
stuff
you're going to pay a much smaller
incremental cost with closure scrip so
this is kind of a worst case scenario
and and so if you want to add immutable
data structures and make it a little bit
more fair we're about half the size of
jQuery plus an immutable data structures
library pretty good tooling right and
and I totally amped at this emphasize
empathize with the the JavaScript
community on this stuff they have had to
figure out what all this stuff does and
I mean all this stuff they don't get to
choose like two of these it's really
challenging to glue stuff together in in
the JavaScript world right you have to
know browserify or web pack or gulp or
grunt or Babel or like everybody has to
know all this stuff and it's a lot of
stuff and they've you know they sort of
earned their battle scars figuring this
stuff out and so you can understand that
they're going to be a little bit
reticent when you say wait you don't
work with any of my existing tools like
yikes that's that's a pretty reasonable
objection the good news is that we're
basically just asking you to pick up one
new thing right and yeah maybe you can
you can do it without line but I think
if you're doing anything even a little
bit interesting you're gonna have to
pull down some libraries right in line
is line is still definitely the best the
best sort of ease of use story for that
everybody puts lining in coordinates on
their github pages so you know this is
kind of the tool that you have to learn
but that's kind of it actually if you
look at what lime does it pulls your
library as it compiles your code it
makes your output files that concatenate
stuff it doesn't bounce compilation it
kind of does everything that that other
stack does in JavaScript so it's not you
know maybe a super great story but it's
a lot better than yeah here's eight
other tools you need to learn Interop
our story on this is actually
surprisingly good so let's say that I
want to use a popular JavaScript library
there's this really cool kind of under
the radar thing that was added to
closure script called clj SJS and it's
basically it's a combination of a way to
package up libraries that are closure
script friendly and a registry so if you
want to use react you just add the
library just like anything else that you
would depend on in closure script
whether its closure script or closure
it's just it's the same thing right it's
packaged as a jar you
and then you just start using it right
they package up all the externs and
other things that are required for
advance compilation it just works
it's really awesome and given how much
stuff comes in the box with close your
script it's very rare that you would
need to do something more complicated
than just that to consume external
javascript code so really good what if
you want to go the other way
I want to write some closure script code
and make that available to JavaScript
totally trivial right that export
keyword that's that's it right you put
that export keyword in there and then
you just call it from JavaScript you're
done really really easy what about my
existing API is right those talk Jason
and you know Jason Jason works well we
have transit right and transits a great
library it lets you work with existing
Jason it also lets you take Jason and
kind of decorate it and do you know
cooler and more interesting things with
it so so transit really good stuff can I
trust this right that's that's
definitely anytime there's something new
and scary if I said hey guys like
Fortran script is the next generation of
web development you'd say I don't know
about this
can I trust it and that's a hard
question to answer right it's hard to
give a data-driven answer to can can you
trust something other than sort of
giving your own anecdotal experience but
here's something that I think is good
there's less than 5,000 lines of code in
the in the closure script compiler right
and that's the closure code in the
closure script in the closure script
codebase right so there's some library
code pleasure script yeah we're almost
20,000 lines there but if you really got
stuck and you had to read all four
thousand six hundred lines of code which
is very unlikely do you have to do that
I mean that's a weekend right that's not
too bad we're not talking about two
hundred thousand lines of stuff this is
not an insurmountable thing most
JavaScript developers I believe this is
a fact right 4,600 lines of code every
day so
somebody's asking for a citation I can't
yeah okay that's great close your script
has all this useful stuff but I'm gonna
pay for it right okay maybe it's not
code size but like stuffs going to be
slow not really right so if you look at
the stuff that comes out the closure
script compiler it's just JavaScript
right we didn't like reinvent Dom
there's there's really very little that
we could do even if we wanted to affect
performance in a strongly negative way
now you might reasonably say okay but
what about those persistent immutable
data structures we all know and love
like those are expensive right we're
going to we're going to pay for those
and that's a reasonable intuition except
this thing came along called react that
completely flips that intuition around
so basically because of the fact that
the Dom is unbelievably slow and a
virtual Dom JavaScript engines have
become really really fast this intuition
kind of flips around and so now if you
go to reiax page and go way to the
bottom of the advanced performance page
which i think means the most advanced
performance tip that they have they say
by the way use immutable j/s right and I
won't get into all the details but
basically you know shallow equals is
cheaper than deep equals when you're
doing checks and deciding whether
whether to update the Dom so oddly
enough the thing that should cause
performance problems does the opposite
so it's an embarrassment of riches for
performance in the closure script
community so I think those are frankly
some of the most common objections and I
think we have a really good story for
those there's some somewhat less common
objections but there's things that I
think we don't have quite as good a
story on just yet there's sort of
developing stories but we're not there
yet so I put an asterisk on this section
of the objections the first one and I'm
going to say this surprised me a lot
I've talked to close your script with a
lot of you know real experts in
JavaScript people who really know their
stuff some of whom have even dabbled in
closer script and tried it out and Java
surprisingly comes up as a thing they're
like yeah I love closure script love
persistent data source man there's so
much good stuff in there but Java right
and I'm like really job like we have
strong opinions about Java you don't
actually have to write Java all right
leg that's not that bad is it
what but in fact I think and you know I
kind of query in there like you know and
it really kind of comes down to it just
doesn't feel right and and to be
perfectly honest with with you I get it
right like when you type node it's just
there right like imagine typing noted
hitting Enter there's like you don't
perceive any delay
now imagine typing line anything and
hitting Enter right we're reaching for
the coffee cup and I think that you know
it's kind of deaf by a thousand cuts and
especially when somebody's just getting
started that hurts a lot and and I think
if we're also talking about class paths
and other things from the Java ecosystem
that is you know thoroughly uncool right
and dates back to 1995 I think it just
it's it's a problem and and I don't have
a good solution because we're not
getting away from Java anytime soon but
it's something for us to think about I
think you know finding a way to make the
introduction of Java a little bit more
delicate in the process of telling
people about closure script might help a
little bit I was surprised by you know
how aggressively people reacted
negatively to Java just being there
speaking of new people our first run
experience needs some work so industry
standard metric TTFN X we're worst in
class if you're not familiar with TTFN X
that's okay I just made it up it's time
to first XML which is defined formally
as the number of pages after you google
the language name until you see a block
of XML we're not actually doing very
well on this metric and in case you
don't believe me you're welcome to try
it yourself but I'll save you the
trouble right so if somebody Google's
closed your script and clicks the first
link as many people I'm sure have done
this is what they see right and imagine
yourself as an expert JavaScript
developer who's just heard you know a
very compelling pitch for closure script
by maybe someone in this room who you
know is it now has a great thing to talk
about they're going to come to this page
and that's not cool right there's this
is just a bunch of stuff that nobody's
ever heard of right I guarantee you that
the vast majority of expert JavaScript
developers have never heard
of any of the stuff that I highlighted
here right and in particular once they
see maven and that block of XML they are
like darting out the door like we've
lost them at that point so I think our
first-run experience needs a lot of work
I think our first-run experienced
foreclosure developers has gotten
dramatically better right
oh go check out QuickStart that's that's
really good right if you already kind of
understand the closer ecosystem that
gets you right in awesome but for a
JavaScript developer for the bigger
community needs needs a lot of work
types so the JavaScript community I
think has been doing a pretty good job
of adding types to JavaScript right this
is a difficult thing to do
historically languages have kind of been
binary on the type decision right you
have lots of types or there's kind of
minimal types but in the JavaScript
world because there's so much JavaScript
code existing the approach has been well
let's give you types but you can kind of
put them where they make sense which i
think is a really good model I mentioned
I have experience with Google closure
that is you know one of the one of the
language frameworks in the JavaScript
world that allows you to kind of put
types in where they make sense and
that's really nice right because types
are not always useful but when they're
useful it's nice to have them because
we're built on top of because we're
built on top of Google closure we can
use that and we should and I think a
very minimal amount of work I've seen at
least one ticket on this so I know it's
on the radar too to actually take
advantage of what exists in the base but
but there's more that we can do and I
think really what we need to do is just
have an answer to the question what
about types right this is a really hot
thing right now in the JavaScript
community typescript and flow like
people are really thinking a lot about
this kind of stuff and they're thinking
about this stuff because the writing
bigger and bigger and bigger
applications and one of the things that
people start to long for when they're
writing big applications is types and
refactoring tools and all the stuff that
they're used to from IDE s and the Java
world in the dotnet world and so on and
so forth so we needed we need a way to
answer this question we have tools right
we have the underlying Google closure
stuff we have some stuff that we can add
to the closure script core we have you
know kind of an interesting extension
for runtime type schema totally supports
closure script today so that's really
cool for a certain category of use cases
core dot type down the line will likely
help us out a little bit on the compile
time stuff but none of this stuff is
really baked
so we need to kind of compose this into
a story ah you like types let me tell
you what we have right now and right now
the best story is well we do arity
checking by default right there's some
things we can say but we need a little
bit more editors this is a problem this
is a big problem Oh
closer script sounds great but I don't
like Emacs right people are either sold
on Emacs or they're not by the way I'm
sold but I certainly wouldn't suggest to
somebody that you should learn Emacs and
closer script and all this other stuff
all at the same time it's a bad idea and
these lovers I think all of these are
the great tools for building closer
sorry vim users I just there wasn't room
on the slide but I hope I want to be
clear these these are the power tools
and and everybody who's doing serious
closure or serious closure script should
get here eventually but it's a tough
place to start it's a really tough place
to start if you don't already know how
to use it and so you know if you don't
have experience in job I tried to use
cursive just to kind of see well what
does this look like even as an Emacs
user I spent 20 minutes and I couldn't
really figure it out right I had to like
make a Java project or something it was
it was confusing now the tools that
exist over in the JavaScript world tend
to be pretty simple right editor focus
there's a tool called Visual Studio code
Microsoft has made a cross-platform
development tool somewhat similar to
atom these are tools that are built on
something called electron it's a
JavaScript core designed as a
programmers editor and these are things
that you can download and have running
you can have code open them in like 30
seconds right you just download it open
it and you're you're coding away both of
these come with syntax highlighting out
of the box again cross-platform tools
for closure script a cool thing that
happened just like in the last week or
so is pardon fur which is this really
really cool kind of evolved take on par
edit and it's written in JavaScript and
actually can plug in to these kind of
simple editors so I thought well it
would be fun to try this out and
literally 90 seconds start to finish I
was able to download atom open it up get
par and fur in there and play with it
that was like a really good first run
experience and I think that's a much
easier place to kind of get people
started Hey closure not only is our
syntax simple and very
stable I'm going to keep selling that
until somebody somebody tells me that it
doesn't work but look at this par 4
thing lets you do it in a really cool
way so I think it's it's it's kind of a
new way to sell without you know without
it being so heavy and scary so obviously
there's a lot of things that people
instantly think of when you when you
pitch close your script I don't want
that there's also stuff that we make
better and we have to talk about
templates because templates are like
just a thing that annoy me so everybody
loves templates right like ah templates
are so great and oh why do you love
templates well temples are great because
you know then the designers can build
the templates and pass them off to me
and then you know I just plug them in
and everything works amazingly right
does that and does anyone actually do
that no of course not right like that
just doesn't work at all and if it does
work it works in those kind of old
WordPress type applications for single
page applications your templates don't
look like this right because it's not
welcome name right it's okay we have
some conditional logic and maybe
actually we need to escape some stuff
and actually that that needs to be in a
loop and okay we need some mobile click
that's what everybody's templates look
like and yet the people who love
templates are building all this stuff
they're like reinventing everything in
order to have this it's madness it
doesn't make any sense at all we have a
better story for this right I think we
have a very nice syntax using the syntax
you already know right there's nothing
new to learn you've learned that closure
script syntax which is really basic and
you didn't need an operator precedence
table so that's cool and then it works
for this too right and so you go from
this to this and and it's just better
right there's less stuff there it's
vastly simpler it works better and I
don't think you really lose anything in
readability
my two cents workflow we're the best at
this right now our workflow is awesome
if you haven't seen fig well I don't
time to demo it here but like go that
you have to go look at it it's
absolutely amazing it's the best thing
out there the JavaScript community has
some hot loading stuff and that's great
I want them to do more of that stuff and
I want us as a community to do more in
that model but we have an advantage
right we build with immutable types by
default it's much easier to write
reloadable code in closure script and
our tools are awesome every time i demo
fig wheel i always say and by the way I
started fig wheel 3 days ago and it
still works right like it's so awesome
having a robust tool that does something
that cool so I can't say enough good
things about fig wheel it's the best
thing out there we should be screaming
it from the rooftops
dev cards another recent addition that
kind of builds on that same concept
we're building sort of you know style
guides for components super awesome
we're the best of this for now callback
hell right you might think yeah but you
said javascript is getting fancier and
they have destructuring
they probably also fixed callback hell
right nope not yet well I heard about
promises no no it's still callbacks
right it's just with some stuff around
them so so we haven't fixed callbacks in
the JavaScript universe and in fact if
you if you ask somebody to take this
this problem statement from the golang
presentation and say hey solve this in
JavaScript you're going to get people
scratching their heads right I mean
that's kind of hard to solve if you
don't have the right primitives and
obviously go has a really nice way of
doing that and we have core async in
closer so we can emulate that but we
also have core async and closure strips
right so this right here works in
closure script right and and so you've
got this kind of this great feature of
golang that was designed in go lang from
the beginning and it just works in
closure script I mean this is crazy
right no callbacks here right that's a
really hard problem that you're solving
very very succinctly and it matters
right because there's a lot of
asynchronous stuff happening in a web
browser right there's users there
there's events happening there's stuff
coming from the network there's a lot to
coordinate and it's a very hard problem
so having good primitives for doing that
it's not superfluous at all it's really
really really helpful and we have a
great story on this right now
we should be talking about it if you
ever want to be entertained if you're
bored go to stack overflow
click the JavaScript tag and find the
most popular stuff and you will find
example after example of this write
somebody asking a very simple question
how do I get the current date in
JavaScript this is the answer with 934
upvotes and I'll let you guys all come
to your own conclusions about whether or
not that's a good answer or not I have
my own opinion but I do know that I
don't have to fuss with this because in
close your script one-liner
right we've got all this great library
code from the from the Google closure
library we don't need to mess with this
I came across this course I'm like what
are they even trying to do like it took
me like five minutes to read and
understand the question and there's all
this code yeah it's another one-liner
for us like we just don't even need to
worry about this and it goes on and on
and on again you could spend probably a
weekend looking through all this stuff
and cackling or whatever it is that you
do but
the complete absence of a standard
library in JavaScript is a problem it's
a big problem and people deal with this
stuff every day by copying and pasting
crap or adding libraries that are way
more than they need to solve the one
problem that they care about all of this
stuff it's just these are one-liners
it's just it's so easy we don't we don't
need to go and fuss with all that stuff
we talked a little bit about code size
earlier a few months ago somebody wrote
an article that got reasonably wide
distribution saying the mobile web sucks
right Wow
that's a that's a bold statement you
know I like the mobile web why does why
does it suck somebody went and looked at
this article and the article talking
about how bad the mobile web was had
seven megabytes of JavaScript I can see
how they reach that conclusion might
have been on their own website but the
reality is I'm not picking on this guy
because this is not uncommon right like
go around the web and if you want to be
depressed open the network inspector and
look like ouch it's awful it's awful
page after page after page has megabytes
and megabytes of JavaScript and people
aren't using all this stuff I guarantee
you of the seven megabytes of doubt of
download time every single user mobile
or otherwise has to endure when they go
to that site they're probably using 150k
of it right but they just don't have the
tools to shrink it down so we have a
story for this right we have advanced
compilation so if you have this C of
code that you want to call from it this
is seven or even seven hundred megabytes
of JavaScript and close your script code
close your script will automatically
figure out what you're actually using
and it'll just find that and that's all
that will go into your compilation
output this is crazy powerful right we
talked about that hello world example
earlier that's the worst case because of
this because if you pull in some
utilities you know utils dot C ljs and
it has 700 functions in there and they
use two of them you pay for two
functions not 700 functions this is
super super powerful stuff
we're leveraging Google's closure
compiler for this which is a really
robust tool it's been in use for
probably about a decade now it's the
tool that powers Gmail and all of
Google's own really high-profile
applications it's a really robust tool
it works fantastically well and we just
get that we get to use that so it's
really really awesome I think it's one
of one of the biggest strengths of
closure script and I would argue as
somebody who's used Google closure for
many many years
closure script right now is the best
tool path to use Google closure that's
kind of a big deal
so I think we can we can talk loudly and
proudly about how great we do at
shrinking code but it gets better right
I referenced this a little bit earlier
closure script didn't have modules three
to four years ago that was a big gap
especially for me coming from that
Google closure background because we
wrote really big applications and
modules are really important it's great
to only take the code that you need and
put it into an output module but even
that might be too big right if that's a
megabyte of code I don't want the code
for the settings page to be downloaded
when somebody goes to the home page
right this used to be really easy right
back in you know five years ago we would
just throw in jQuery we would write all
of our utility code directly in utils
j/s we would provide all of our other
code and in the module that it made
sense so our development time module
system was exactly the same as a runtime
module system so it was pretty easy to
reason about that but then we started
building bigger stuff right and we
started breaking up files and doing code
organization stuff we changed the way
that we do our dev organization but we
didn't fix the runtime organization
right so now we've got all these small
little files in the JavaScript world and
they're all referencing each other and
you've got you know everybody's you know
organizing their code and all this crazy
stuff but the problem is it's really
really hard to go from this broken up
thing and then get back to the optimal
runtime modules right so most people
aren't taking the code for their
settings page and taking the code for
their home page and optimally separating
it or even trying to separate it at all
if you go and look at most single page
applications BAM they just put
everything into one big file and that's
what you download that's what you get
most of the time when you go to a single
page application you're getting the
settings page code whether or not you
visit the settings page and I don't
think that's very good again we've got
this licked and again we're borrowing
from the Google closure compiler this is
really really powerful I want to
emphasize how awesome this is I put a
little bit of declarative configuration
into my build profile
out I say this is the namespace for my
settings page
everything else is automatic so that
aforementioned utils CL Jas file if
that's reference from both the home
module and the settings module I don't
put that into both and in fact I don't
put it in a base if there's some
function that they both depend on that
goes into base if there's a another
function from that utility ljs that's
only referenced by settings it goes into
settings so it'll actually reach into
that code file and put everything
exactly where it belongs it's called
Kraus module code motion it's really
awesome when you're building big
applications the stuffs really important
more people should be doing this they
don't because the tools are terrible we
don't have that problem we should we
should take advantage of this stuff so
this is relatively new and in the past
year or so but this is this is something
I'm really excited about because I've
use it a ton in the past so I'm actually
very curious of the people in the room
especially the people who were non
skeptical to add some knowledge of
closure script how many of you knew
about all this stuff okay
I'll point out that rich Nikki's hand
didn't go up so that's that's that's
interesting
haha but I'm always amazed when I go and
look at closures and especially the
momentum right how much has happened in
the last two or three years especially
since sort of the the dawn of the react
era to think about sort of where do we
go next we have an incredible story to
tell and I think our story fits really
well with the problems that people have
today so I think what we should do is go
out there and tell our story I think we
need to do a lot better job of
proactively going out to the JavaScript
community let's stop trying to sell
clothes your users on closure script
right let's go out and sell JavaScript
users on closure script right now we're
considered I think amongst the
JavaScript elite a great idea Factory
but I think we're more than that our
story is a lot better than just here's
some ideas from ohm that you can use in
a JavaScript library we're better than
that
and we aren't done by the way what I've
talked about is the stuff that exists
today all that stuff is usable today
there's stuff coming down the pike and
there's libraries that people are
writing that that cross compile between
closer and closer scope that's awesome
do more of that if your closure library
author please consider making that
available to close your script if it's
relevant if core async can do it so can
you trust
me ohm next is coming coming down the
line a lot of people really excited
about that
David's talking about that tomorrow
react native this is a big deal
native mobile applications with closure
script sounds good to me I believe the
next talk in this room is going to talk
more about that that's exciting
I think ohm next and react native are a
really powerful pair right because some
of the challenges that you have with
mobile applications like people using
things using versions from two years ago
and things like that are things that um
next is particularly good at so think
about those two together that could be a
really exciting story for closure script
we need to fix our first-run experience
right we can't be showing people Maeve
in XML on the first link from from
Google we got to do better than that I
want to plug there's an unsession
tonight at 7:00 p.m. about new closure
org and it didn't state whether or not
they were thinking about closure script
but I'm going to show up and tell but I
think they should think about closure
scrip because I think having having a
new website and a new way to tell our
story is a great first step for fixing
that and we need to work on some of
those unsolved problems again I don't
have answers for this but I really want
us to think about tooling right like
when somebody says yeah this is
interesting enough to try how do we make
that as simple as possible for them to
get up and running let's not sort of
shove classpath down their throat until
they're necessary right I do want all
these people to be using closure in
cursive and Emacs and all this other
great stuff in the ecosystem down the
road but that's that's too much all at
once so I really want us to think about
that that first run experience and the
initial tooling and you know less Java
in that case is probably a good thing so
that's all I've got and and we're at
time if you have questions I'll be
around and feel free to to grammar thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>