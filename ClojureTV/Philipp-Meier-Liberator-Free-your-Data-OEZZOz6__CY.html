<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Philipp Meier - Liberator - Free your Data | Coder Coacher - Coaching Coders</title><meta content="Philipp Meier - Liberator - Free your Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ClojureTV/">ClojureTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Philipp Meier - Liberator - Free your Data</b></h2><h5 class="post__date">2014-01-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OEZZOz6__CY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hello everybody it's been a great
conference until now I ha
I will not spoil you this experience I
will be talking about Liberator free or
datum with RC 2616 I suppose most of you
know which are see this is so it's the
HTTP 1 dot 0 specification and it's
about liberating all the data um what is
Liberator it's the closure library it's
not a web framework or a bigger thing
it's a library to implement rest
resources arm Oh on the server side so
let's start symbol what is HTTP actually
HTTP is a huge specification it has
request and response headers and body
method status codes content negotiation
conditional requests and even more and
that's only HTTP 1 dot 0 there's out it
should be one to one which is most will
use that moment or even speedy which
will like will be incorporated into HTTP
bits which is in the working group at
the moment so let's start with methods
the core specification has eight methods
which are I think most of you will know
an RC 2 62 1-6 getpos delete had options
trades and connect I suppose many of you
will never have heard about trace and
kinect kinect method and at a regular
web project you mostly care about get
put post in delete so then there's even
one more which is patch which is rather
coming up and the in the last year's I
think when we talk about rest api staff
currently liberator has some undergoing
planning how to support patch and
there's for example even more wet tough
add some methods and that are seven for
example so https a whole like ecosphere
of protocols actually so we have header
fields in HTTP arm so my clicker need
some multiple clicks which are 47 i
guess nobody would be able to like in
right them from the head me neither so
it's accept until WWF etiquette then we
have status codes which fall into
several like classes which are five
classes of status codes the 100 ones are
informational status codes then we have
success to signal success redirection
client errors and even serve errors when
you're a good citizen within the HTTP
environment then you make use of this
error codes or not like stuff in an
exception into the body and return it a
situation containing like a custom made
up error code you use something like 403
forbidden or 404 not found who so they
have 41 status codes in total only for
HTTP one dirt 0 then they come web tough
and digital status code which is four to
two unprocess herb or entity I think
which is very useful because it fills a
gap in the original specification the
better actually actually supports it and
there's for example there HTC PC P
protocol which is the hypertext coffee
pot control protocol and it adds another
status code I'm a teapot nothing will be
using in your next project I suggest arm
so let's go on we have 41 status codes
when we want to make use of all of the
status codes we must make a lot of
decisions when you when you think about
a binary tree of decisions we need like
two to power 6 decisions and when we
caught some some branches down we still
need like 40 branching points so it's a
lot of work but in general we will won't
you won't need to like use every status
code in your project so let's look at
how we could implement this like full
HTTP specification Liberator sits on top
of the ring specification which i think
is the most common specification to
the web applications enclosure and it's
basically a ring handlers a function
that transforms or have a laser pointer
nobody can see this but I have a lot of
fun which conforms a request method map
our request met with can take on state
contains for example request method
headers bodies to a response map which
consists of a status code header which
is itself from a nap and some kind of
body representation it's actually bad
wording because in heb we don't talk yes
technically it's a body but we always
talk about representation so you have
loved some kind of octet stream which
represent the requested resource or
which encodes the entity that
transferred over the wire within a post
request but most people talk I'll call
this a body which is fine so um we have
like a basic structure which means we
thread the request method somewhere in
some way through a function which is a
ring handler sort of bring handler map
and we get the map with the status or
the response returned or have some
highlighting no nobody use so um when we
think about how important plement this
decision tree to make use of all the
status codes we must fill something here
the red question marks which may be will
look a little like this a list of cons
where or some if L structure or when
structure if lead and like to return all
of those different status codes I don't
know what what these are at the moment
for example is I think for three would
be forbidden or like that um let's go on
try how this should look like so we have
we have to make a decision at some point
whether to return this particular status
code like five four three or five for
one or not so we have another set of
question marks here which we need to
fill in so let's start simple we have a
handler which returns a static response
which is 200 everything's well and the
bodies are event whatever are my toy to
Manor will
player in the demo part of the
presentation later will be about events
or talks or schedules or whatever so I
took the data from the use of Europe
closure conference schedule so we talked
about the event in event and we must
check that the client actually uses the
correct request method so so in this
case we first check whether the method
is get and if yes return status 200 and
if not returned 45 method not allowed
then we would have to check whether the
session or talk exists if not we would
have to return for for else we would be
able to return two hundred and like a
prince during the session data then we
will go on and add some more content
representations for example application
closure and text HTML if not we need to
return for six if the request immediate
hype is not available we can add some
conditional requests like checking for
what is this last modification date and
I think it gets worse no I stopped
yourself what you can see is we have
like a whole tree of binary decisions
which are encoded in if and if left here
and out for outfalls of this decision
thing a bunch of stuff which is mostly
the status codes and maybe some some
media type in the response for example
character sets and all of us and that
does not show like it would be very much
a fun to do it on a daily basis and you
would have to repeat all this for every
resource in some way and that's annoying
and what we want to do is we want to
liberate all the data and not care about
all this FL stuff so liberators
basically the extracted decision flow
that we have seen here but more complete
to reach all of the those 47 status
codes so I have a visualization in
background it's so such a large diagram
that I show only a only a
certain part of it or even more and what
you can see at the lower part we finally
end at some some location where we
generate a response with different
status codes and i color-coded it the
yellow ones are the redirection status
codes we green ones are successful
status codes so that's how liberator
looks like or the decision flow looks
like in an abstract way but it's not
very useful for closure programmer so I
have prepared a little demo I will
switch to Emacs here and start at the
beginning I have some like a boilerplate
here I will do a full screen I think
everybody can see this arm and some
Emacs magic going on so I can jump
around so I will declare some some stuff
this is basic common setup to start a
jetty web server and I have a top-level
bar which which will contain our demo
handler which I will call event because
of the codes like a better would have
called the talk because it encodes a
resource representation of a single talk
at the conference and I use them a
little bit of middleware with the rebbe
parents to be able to have a simple
access to the query parameters later on
so the most basic event we can create is
by using the resource function which
returns a ring handler so now you can
guess what would be a reasonable default
implementation but there's no single
bruise so Liberator has has a default
implementation we can try it out I have
a safari instance you oh I'm cheating so
I don't need an idea because we don't
processing yeah so the default response
is somewhat unexpected to most of you I
think which is no acceptable resource
available because we did not define
which kind of media type our resources
able to to produce and the web browser I
think it will request like any resource
but we have no idea and under the hood
this is a hazard correct status code i
would start up the debugging mm-hmm I
like to start up the debugging extension
I don't know why it doesn't work so we
can't fall back it's the same at the
last time at your closure I did the talk
it also failed to chart with the debug
extension um so we do a basic basic web
request to our resource and a dash e
means include all the header stuff so we
can see the status code returns 46 not
exact oh which means that it requested
media type is not available or not
acceptable so that's pretty boring i
guess so let's continue here and so we
declare that everything available media
types are text HTML you can pass a
sequence and wow we have an answer it's
still boring but the default well you
get we will receive for 200 status will
be okay so you have like a little bit of
things arm we can also make this a
little more compact when we compared
with this arm we have like a definition
and a resource which generates a
function and we have a convenience macro
which is def resource to make things a
little bit more shorter and compact we
can further proceed and add actually
some representation for our requested
resource here I implement a handler for
the ok status that's for HTTP 200 and
return a constant string and as you
expect their car we have a the exact
same value returned to the browser oh we
can use a function to declare a value at
one of those hand low points and this
function will be called and evaluated at
runtime so we could return different
representations depending on some
parameters for example in this context
we can we can look at the request
parameter
so in liberator every decision call back
and hemlock whole back here receives a
single parameter which is the context
map and within the context map you have
at the key requests original web request
and we can dig down until we have like
the parameter ID we use this to call a
function fine talk which is like an
in-memory look up of list off of data
and return this data this actually
returns a closure map define talk
function call and now see what happens
when we request like certain talk I on
gas on use number number ten who nothing
happens okay I have to evaluate this
first so we have an HTML representation
of the data when we look at the source
code of this I hope this notice though
it's works you can see that is actually
HTML but we have not specified HTML
representation for the data in our
resource definition this is one of the
of the things we're liberator is like
batteries included because we have a
default represent a way to do default
representations fall for a handful of
media types for example text it's a text
HTML application Eden arm close Jason
and even text CSV for some kind of data
structure so I will make this little
swim a little smaller but what happens
if we crest like talk with the ID 1000
as you can guess there were less than
1000 sessions at you your clothes your
last month so we receive like an empty
document the HTML that you can see here
i think is like made up by by some
plugin in safari at this at this time so
let's look at the at the wire level i
have some zooming capabilities here sir
oh that looks a little wrong because can
you see it what's the status code 200
and 200 means okay a way better status
code would be 44
actually because the resource doesn't
exist so what we can do now is like
implementers implement this in our demo
code and we have an exists callback and
the exists called egg is required as to
return a binary value through a false
and if it's true the processing proceeds
and which forwards we land up at a fall
for representation and the handle okay
thing remains the same and they exist
call we simply ask our in-memory
database whether the talk for this ID
exists and as you would expect oh we
have even a default representation a
nice message resource not found and when
you look here at the at the status code
in the lower pane you can see that it's
404 so that sounds not too bad um but
when you look at the code you can see
that we have some repetition and
repetition is bad we know all know this
we could use like a helper function
extract this but in this case the
function would be called twice so we
have some problems with data consistency
or even performance so what we can do
now is that we do not return simply a
boolean value I will highlight this here
but we can also return a pair which is
encoded as a vector the first value will
be taken as a binary decision outcome of
the decision function binary value and
the second part or second element in the
vector will be the new context so i can
update the context and threats state
through the processing from one decision
point to the next one and when you look
at the handle okay function we can
simply instead of invoking our or
database call again extract the value
from the context this is like a default
pattern pattern and enclosure and in
liberator excuse me and in case of that
we want to return false value we return
a pair with falls in the context but
this is rather verbose and Liberator
bought some some shortcuts on this for
example in the Fords case we can simply
return new and then the context will not
be changed or we can simply when you
look at like the last and this last
version this version we can simply drop
the new because we have live with
defaults to live for the new for the
else part or we can even return a map
which just contains data which is as a
default merge to the context so that is
like the basic pattern you use Liberator
to to extract some some data and to pass
it on and if you're smart which was not
my idea to be honest then you recognize
this a data closure keyword is even a
function so you can use the keyword
directly as sa handler function so
that's nice what we can we can improve a
little more using structuring and like
that make things more concise and we can
add more functionality for example more
media types so in this case i declare
that my applique my marisol should also
be available in text HTML application
Jason an application Eden and to make
things more visible I use like the
command line and I will in this case
request arm Jason oh it's a funny son
arm not accepting okay I had to evaluate
first still not acceptable oh that
that's not good arm what should we do
now I think retry is a good option no
error except okay now we have a nice
Jason representation of the data or we
can request Eden for example which looks
a little but the same and which is Eden
and what you also can see is that we
have content-type header generated at
that a character said this is all those
things that liberated asked for us and
if you're a little bit into web that
development and conditional casino that
you now need to add this header to
enable the time to tell apart different
versions of the of the resource when
only like the representation chains for
example the encoding the media type or
the language it's easy to forget on like
confuses caches and and even the browser
cache a lot so let's see what we can do
also we can add more handlers for
example in the case that that we request
now an an application type which is not
available we have a very boring default
answer which is no accepted resource
available and when you want to do like
hypermedia you want to guide the client
to impossible next stage so it would be
nice when we could return a list of
available media types to make life
easier for a developer or a clue or user
so we can implement a handler for the
case not acceptable in this case we
simply will return a string
representation containing all the
available media types we can even
improve on this butter I have liked not
so much time so in this case available
media types will be returned as a
message in this a custom handler
implementation so conditional requests
arm to leverage browser browser caching
we need to specify for example last time
the resource representation change so if
you come back to the web page and
request of the same URL again then you
have the chance if the server
representation didn't a chance that you
will not fetch the whole page again but
simply receive the three or four not
modified I made up some automatic change
functions rounds down to the last minute
I think and I added another declaration
here the last modified time when the
resource was last modified is simply
this dysfunction so I hope it from it
works I works in
Safari as well so as you can see i will
make this a little legal bigger when we
lot the resource we have status code 200
and i hope it did not change already
okay you can see we requested the same
resource again it did not change on the
server side and the server simply
returned three or four and the requested
size was only like two hundred twenty
six bytes basically there's no body
contained so when we wait some time I
hope it's hope it's enough still three
or four ok now the resource changed the
representation change for example
another process would have updated your
database row or like that then the
server returns two hundred and the
client would fetch the whole
representation again that's this is how
HTTP caching works basically and there's
another mechanism which is e tag which
is like returning a more offer of a
fingerprint of the resource of
representation as you know depending on
time stamps is a little little fragile
heart because you need to make sure that
your client and server I have a common
understanding of time a time or are like
in sync and when you use fingerprinting
even if the resource changes back to an
older state and your client happens to
have exactly this stage cashed it would
not need to fetch it again so this works
basically the same I will not show it to
you so what we have also and this is a
very helpful and great feature and we
have some way to debug the execution
flow when I forget to reload I had an
unexpected status code returned like
three or four slides ago and in this
case reloading help but from time to
time you need to have a more detailed
view into your system especially when we
talk about more complicated processing
like for post requests or put requests
and like that and Liberator supports a
debugging console so when I do this
request again
and dig into it i will have over here
somewhere a very weird-looking header
which is a link header which contains
like a relative relative URL part which
i could use to which i can resolve
actually but i would cheat here and just
go directly to it because i do not want
to to file an and use this link and here
i have like a list i had a list of of
the latest liberator request and this is
the debugging you for this request we
made just 25 seconds ago containing the
headers and the trace about all the
decisions that have been taking and the
outcome of the decision sometimes it's a
boolean value in this case I think it's
a default value and here I have the
appetite updated representation during
content negotiation all those stuffy I
have a CI outcome of the exists handler
the actual closure data that we use to
build up the representation and he below
this is a nice part we have a graph
which is highlighted dynamically yes i
will zoom in i will zoom in so oh ok we
have some screen size resolution thing
here and i think also with safari oh
this seems better ok i have to do the
pinch or whatever gesture so you can see
method allowed authorized allowed well
it can't inherit the thing that i showed
in the background of the slide before so
it's very nice red red and green
labeling and it's very helpful to so
even more fun is that this graph is semi
auto kelly automatically generated from
the source code so i extract the source
code feed it through some processing
generate about 5 feet into graphis make
some SVG embedded into the browser and
then comes the men were processing power
to make it more useful and having like
having some dynamics CSS attached to it
using javascript is a little bit of ugly
but it works
so let's return to my them to my slides
this is what we ended up with in the end
we have the available media type
declaration the the way how to check for
existence we have a specification how to
how to do representation for 200 okey
okay case we have the declaration how to
find out the last modification date and
even a way to to build up a somewhat
bogus attack in this case and this was
where we started and this was I think
not even complete compared to the other
one so i think it's a it's a slight
improvement so that is what we have now
and i want to analyze this a little bit
so basically it boils down to this
structure we have a def resource
declaration and we have a list of
declarations for decision points and
handlers we have even more you can check
on the on the web page and it contains
on the right side as values functions
and these functions like declare the
sense of your representation or your
resource so this is the essential
complexity of the resource
implementation you cannot go without it
whether you use perl Erlang ruby red
plain ring or whatever or no GS you have
to implement this at some point and this
is the essential complexity of our
example so like it's not too much for
for that what it does I think click
click click so I want to talk a little
bit of about liberators execution models
so we have seen the context the context
is the state of the computation
throughout the whole decision flow I'm
rather but rather irritated or confer
use in some way that I will be now the
first one who will drop the n-word where
the closure conference and nobody dare
to use word monad so it's a little bit
like to state more not but we don't need
an enclosure so forget everything that I
said so the context will be threaded
true and it starts by by being very
simple it contains four exam the
requested to contain some additional
things but you will like deal with the
request most of the time then in
existence of Quebec we added some some
data to it whatever it is during content
negotiation that was filled in the
representation map which contains all
those technical details how to represent
the resource data in the end as a as a
as an octet stream and this is a very
very nice part about liberator that it
takes care of this it's not comfy chair
complete but it's rather good at the
moment so this is how a representation
looks like it has a media type its head
some language that most text-based me
that hide have a character set would not
make any sense for in foreign image for
example and we have an encoding which is
for example deflate orgy Sybil like that
which we don't care about a lot I think
on this side of the server because we
can use let live transparent proxies who
do all those on the fly gzip thing for
us but it's possible ok yeah add some
highlighting by the Edit um how does it
work that when we return a data value
from our handler function that it ends
up as an octet stream that's a protocol
in Liberator which is called
representation contains a single method
as response which receives the data here
ma marked as X and the context and we
have default implementations which are
returned literally so when you when you
return this kind of data type from your
handler function string file input
stream the first three
then they will use directly as the ring
response as the body of the Ring
response but when you return a closure
map or sequence likes thing then we have
some additional processing so the first
three end of this body of the ring this
bronze and the last two ones have some
magic attached to it and we can
represent automatically at the moment
Eden Jason text play next year HTML and
text CVS depending on the exact shape of
your of the returned at about inner
Jason's like possible for every data
whatever your return it's very neat
thing for fast integration of services
or to have a quick way to to to provide
data by HTTP you can of course extend
this is real implementation so you can
either extend a multi-method which
receives or which is with dispatchers on
the negotiated media type and return for
example a string in this case we have a
book artificial media type bar and it
will receive like am a person
representation and you extract the the
color key and return what you're
supposed to be a string or whatever and
simply concatenate this to a string and
now we are able to render the media type
fubar given that you return a map of the
of the correct shape from your handler
so this is an example how this would
work we return like this special kind of
a special map containing at the key
color green and hen Loki would be like
the keyword function return actually
this this map value and when the client
requests fubar all this magic what
happened would happen I would go back
one slide in the end you can always
return like a string and this will
return literally from your handler or
you can return a byte stream or in I
think it's an input stream which will
also be returned dielectric directly to
ring a liberator were all will add all
this necessary hair header things like
content type and
barai and last modified and all this
there are more methods we also looked at
yet I have do not have the time to go
into details here but liberators suppose
supports processing of post put and get
I'd think completely so we oh I can do
this this was about the about the ring
response thing I I think I shuffle to
slice around a little bit I also talked
about this okay we can also as an idea
return sure sire fresher I learned about
yesterday or the day before yesterday
whatever I called PMG we can use in life
wake up summer to build up HTML
representations but back to this we can
we want to be able to have more methods
for poster a whole bunch of decision
points which you can or must implement
which more or less relay to the status
code returned for put it's basically the
same their little different the
semantics are different between post and
put in the end you will at some point
need to read our see 2616 to be to be
able to implement it but it's not too
hard it's I think it's rather rather fun
to read this more fun than look at this
academic paper which wasn't just under
11 when fair okay maybe it would even be
the same level fun but I could make any
sense are some sense out of the HTTP RC
but not out of this paper so Liberator
doesn't live login its own world we need
some integration in my example I use
strategy to do the integration to have
like something that connects to the
buyer it's a ring handler or to be to be
to be more precise it's it generates
ring handler so it integrates well with
the standard close your web development
environment you can use ring routing
libraries like composure or cloud you
can use ring middleware for example when
you want to use friend for
authentication or like the reloading
staff or maybe even session handling
which is not very restful about
it's very practical to have like a user
session and make the user key block in
and like that so this is how a typical
implementation would like and somewhere
would look like in some way you have
like two resource is defined with
Liberator you have a routing
specification which in the end
dispatches to the to the Liberator
functions or liberated resources we have
some middleware reducing and we have
your rep trays which enables the
Liberator tracing and debugging console
so in the future we want to implement
patch for example actually before the
conference some guy asked me what I
would be at the conch and because you
wanted to implement patch I don't know
if it's if he's around here so I guess
not ah thought that maybe he's sitting
at his computer right now in
implementing patch I want to be able to
do request body processing which means
that when you send a post request
containing Eden data or JSON data even
binary data we have at the moment no
support for this in liberated which
means you can process the body of course
but we have not a thing which like
resembles the representation generation
so you have to do the dispatcher on
media tab yourself it's not so bad but
it would be nice to have this easy way
to do for example Jason or even passing
have Liberator do it for you so I want
to be able to enable custom decision
flows what we have at the moment is that
the decision flow of HTTP 1 dot 0 is
hard-coded which means I have some funny
macro where I can in the in the
Liberator namespace declare the
execution flow for HTTP 1 dot 0 but
there are people who want to implement
like that tough or add for example patch
as a method and there's no easy way to
extend it at the moment what I want to
do is to like declare the decision flow
is a closure data structure and this
could be then maybe using some macro
kungfu or some interpreter used to run
the decision flow in a
able that you manipulative decision flow
itself and even would enable as far as I
understand a better integration into
Podesta which is requested from time to
time I have no idea about this I know it
run right that is able to run ring
handlers but we do not make any any
advantage out of this this thing um so
future whatever I don't know how we're
tdb biswal and if there will be
available more status codes requests
handle so this will be ball if I think
so that's it and I'm up for questions
now have she's gone so repeat the
question and a question was whether when
you when we think about it that
liberators declarative you have still no
like in which all the others decision
functions are being processed and how
the context flows through a system
question was if this was like an
essential property of how to implement
web resources or if it was like a
particular property of Liberator and if
there would be another way so another
way would be to use middleware for
example standard ring middle where they
are middleware implementation to do like
I think conditional requests but they
fall short when you have like multiple
endpoints or multiple outcomes I think
it's it's a necessary property maybe it
gets more more transparent when we have
a more decorative style for the flow
itself so at the moment when I implement
Liberator resources I often look at the
diagram or even at the source code rasu
get just know like the order in which
things will be happening in some
vacations of rest that you see in other
say web frameworks they do some things
that are non-standard with useful like
for an HTML request that is a post
you'll get a redirect as the response so
they have redirected to that but it
doesn't JSON yes is there support I
don't know what you can what what you
can do at the moment we go back some
slides when you have like the typical
post decision points where you can hook
in there is a callback point which is
called post redirect when you return
true then you will end up at the 302 I
think and when you return false you will
end up at like accepted or like that way
you can hook in a custom handler to
return like a JSON representation and
what is important is at every decision
can take a function so so you can there
I on very on the individual use case
whether to run return true or false
great so we have one minute left one
question yes I don't know I know I'm not
in there in the high-performance
business at the moment but it's one of
the things the things why I want to have
like the distance decision flow encoded
as a as a data structure sure so you
could hook in like a compilation step
using mattress to have a very diode way
at the moment we have for every decision
like a map look up and like that so I
don't think it's unreasonably high but
there is some some sub coast so when you
I would should say suggest when you have
a high performance thing to look into
maybe look into using plain ring or
maybe just measure before so 20 seconds
a fast question
no actually Richard they return a
function a lambda abstraction in some
way but you can simply store that what
the deaf resource accepts is a map so
you can store the map and manipulate the
map and like use a default
implementation and just associate some
custom things on top of it and use the
updated or the enhanced map for the
actual def resource or use you fall back
to the single simple resource function
which accepts like the map and early
stuff so that's it thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>