<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Clojure Tools for Symbolic Artificial Intelligence - Saul Johnson | Coder Coacher - Coaching Coders</title><meta content="Clojure Tools for Symbolic Artificial Intelligence - Saul Johnson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ClojureTV/">ClojureTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Clojure Tools for Symbolic Artificial Intelligence - Saul Johnson</b></h2><h5 class="post__date">2017-08-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jzLSnadyYso" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so my name is saw-like the
sleazy lawyer from Breaking Bad if you
watch that show I'm going to be talking
today about some closure tools for
symbolic AI it was actually these tools
were created by a friend of mine dr.
Simon Lynch and I was I had to use them
as part of finishing up my my university
degree and final year and I've used them
a few times since then sort of I've gone
on to sort of help develop and
contribute to them so which tool
specifically well first of all we're
going to be talking about a pattern
matcher a fully-featured symbolic
pattern matches a closure which was
ported over from from common lisp would
you believe it
this being a symbolic AI talk and in a
nutshell you can flexibly iterate over
collections of structured data just pull
out the information that you're
interested in so for example if we've
got a set of data about a whole bunch of
different foods we need to know the name
of every red vegetable the symbolic
pattern master can help us out there and
here's a little bit of an example so if
it's a little bit small to read no
actually it's huge from my perspective
anyway so first of all we're pulling out
every vegetable we're using the question
mark a little question mark form here
which which is a massive variable that
creates a variable in kind of a
behind-the-scenes pseudo namespace a
separate from the closure namespace for
closure namespace concept that we're all
used to and it binds that to the
combines the middle symbol here to the
to the name F and then we use the
question mark function at the end to
pull that F back out of that pseudo
namespace so m4 will do that m4 asterisk
or m4 star or m4 many
whatever you want to call it is going to
do that with multiple tuples so now we
can find the name of every red vegetable
also we're going to be talking very
briefly about operator search mechanism
which is a kind of a partially optimized
breadth-first search mechanism for
applying strips style operators anyone
heard of strips fantastic in there I
place them all right so a strips
Stanford Research Institute problem
solver it's kind of a bit of a dated a
bit of a classic but also a very robust
way of creating a set of operators that
you can use to interact with a world
state so I'm going to have a little bit
of a demo for you coming up in a second
so I'm going to give you an example so
we need to move a keg of beer into the
living room we're having a really sick
party and we need to move a whole keg
into the living room things getting a
bit wild but right now we're in the
garage and the beer is in the kitchen
under the celery so under the assumption
that we can't move the keg of beer
without first moving the celery because
you know you don't want to be bringing
in a packet of celery into the living
room along with your cool keg of beer
what do we need to do and towards us
humans that's very intuitive we can just
say oh well me to move the celery and
just go to the kitchen go to the kitchen
then move the celery excuse me
keep your sleeps we need to go to the
kitchen move the celery pick up the keg
move into the living room and drop the
keg gently but yes how does the Machine
do that how do we get a machine to do
this planning for us so it's example
time so if the stars align I should be
able to show you a quick demo now are
you seeing what I'm seeing
yes you are wonderful so on the on the
cognizant github no relation to our
wonderful hosts cognate act cognizance
is the name that that our organization
has we have this shred thing that Shrek
client and ash rep server so the Shrek
client is in net logo who's using that
logo before couple of hands nice one for
this for the purposes of this demo we're
going to be just using that logo as kind
of the UI it's kind of a visualization
of what is happening in the world state
in the closure program and then we've
got this closure thing server side so
let's give it a command
say make a red box and put it on top of
b1 which is our blue box so you can see
we get b2 which is a red box and we just
pop that on top of our blue box
now we're going to make a yellow box and
we're going to put it somewhere else
we're going to put that on s7 stack
seven and here comes our little winch
dropping our yellow box onto s7 so
there's quite a simple case but what if
we need to move b1 now what if we want
to windows thank you very much they
never did quite get the whole command
line thing down diddly all right so
let's start that again we want to put b1
on B 3 which is our yellow box and there
we go so our planning mechanism has
worked out that b2 is in the way right
now so we need to move B to put it
somewhere else and now finally we can
realize our goal of having b1 on top of
b3 spoilers okay so how did that work
let's get back to the let's get back to
the presentation here once the game
fingers crossed
nice so how did that work well we start
off at the very low level with a legal
move generator illegal move generator is
just a function that takes our initial
state and produces a set of successor
states so we said we do one move
essentially we apply one operation so
yeah that's my has my little diagram of
an LMG of a legal move generator in this
structure we start off with our initial
state s0 and we produce s1 s2 and s3
from applying each of our three
applicable operations so let's play
countdown countdown is a simple game
that we played in my maths class in
other school and we need to get from one
number to another number using only a
limited number of mathematical
operations there are some examples I
love that I love countdown actually I
didn't love countdown very much I hated
it as a 14-year order didn't enjoy using
my brain very much thankfully that's
changed sort of all right so now let's
capture this in an lmg so we define our
lmg function it takes a state N in this
case n is a simple integer and we apply
an operation or three relevant
operations to N and return those in a
vector so if we if we do LMG we do LMG
ten then we go excuse me that seems like
yeah LMG ten is going to give us 1320
and three back it's going to apply each
operation to town and hand it back to us
in the collection so let's just run a
breadth-first search on the resulting
tree now this breadth search
implementation is available it is on the
cognizant github but it is literally in
just a few lines
it's a breadth-first search that runs
along the tree of state generated by
this legal move generator and gives us a
solution so we add 3 x 2 x 2 and add 3
and we get from our initial number to
the number we're trying to get to we get
from 5 to 35 so let's get a step more
complex let's apply or let's declare
create formulate and apply a set of
strips style operators to our LMG so
rather than hard coding the operators
directly into the LMG let's pass in a
set of operators instead this will
create our state transition graph and we
can search that state transition graph
for a state that satisfies our goal so
strips Stanford Research Institute
problem solver like I mentioned there's
a paper on this quite an old paper from
the 70s but still a very very good read
we have a set of preconditions now not
every operator is going to be applicable
in every case if House salary is on top
of our keg of beer we can't leave the
care get there in my mind anyway so our
preconditions are our agent needs to be
an agent meaning it needs to be animated
we can't have the keg of beer take the
salary off itself we need to have a
manipulable object in order to pick it
up we need to be at the same place as
our objects so our agent needs to be in
the same place as our keg of beer and
the agents hands need to be empty holds
agent nil when we perform this operation
we're going to add a supple to our world
state and we're going to add a fact and
then we're going to take two facts away
we're going to add the object in the
agents hands and we're going to remove
the object from wherever it was before
and remove the fact somewhat
counter-intuitively
that our agent is holding nothing that
might seem a bit strange at first but
what we're trying to do is maintain a
world state containing every fact that
we're going to need to know and the fact
that our agent doesn't have anything in
its hands right now is relevant to the
application of our operator so they're
going to have to remove it okay back to
the repple so we're going to run the
operator search mechanism now that
underlies the the example with the winch
that I just showed you
and hopefully shed some light as to how
it worked so please tell me I've got my
other Apple open wonderful okay so let's
load in an example this example by the
way contains the the world state with a
book on a bench and we're going to be
moving that book to a table so load file
if my memory serves examples there we go
AEE
so ops search I can never remember the
order of the parameters for this
function
is it this small yeah okay so as you can
see our goal state is the book being on
the bench in the initial state it's on
the table and this is a gigantic
printout of each step we've taken to get
from our initial state to our goal state
so they're little TL DR is at the bottom
here grass book move to bench drop book
okay so closely you know obviously the
matcher than which is the main reason
I'm here to talk to you all today is
very plays a very integral part in that
operator search mechanism because it
allows our operators to be general so we
can use these massive variables to
create general-purpose operators we
would not need a separate operator for
moving to the kitchen and picking up the
keg of beer specifically it doesn't
matter if we you know our name is Frank
and we're picking up the keg is there in
the kitchen or whether our name's Hannah
and we're picking up our laptop in the
library it doesn't matter we can write
one operation or one Operator
and we can apply it that in many
different to many different world states
to achieve a whole variety of different
goal states closely related then is
inference so this is another you know
this is another example using the matter
really showcasing what it's capable of
excuse me should have taken my allergy
tablet this morning I think about and
sniff into the microphone
maybe well okay so if Pierre is Jack's
father bound jack is Mary's father we
know the Pierre is Mary's grandfather
but we don't have that fact in our world
state right off the bat we need to do
some inference so what we can do is
define this grandparent rule so if a is
the parent of B and B as the parent of C
we can safely infer that a is the
grandparent of C we can then add this to
our fact base and maybe the fact that we
have some grandparents in our fact base
now it's going to allow us to infer
additional information about our world
so we can repeatedly apply this process
of inference until we stop inferring new
facts and that can be extremely useful
and I'll give kind of an example real
world scenario a little bit later on in
the presentation
so the natcher or the the matcher
library we just called it the matter
you know suggestions for call names are
welcome from from anyone here we
we define a matter function using this
deathmatch macro so we declare a compile
rule master function and we pass in a
rule with an ID and a set of antecedents
and a set of consequence so it's
essentially a set of causes and a set of
effects
so using that syntax we can pass we can
turn these tuples of role ID antecedents
consequence into a map which we can more
cleanly work with so let's apply our
rule so we have our set of family data
and we have our apply rule function and
we're going to apply the compiled
version of our of our grandparent rule
to this set of facts I believe the
compile function was yes the compile
rule functions back here so we're going
to compile that grandparent rule and
we're going to apply it to our family
data and what we get out at the end is
that Ellen is Tom's Tom's grandparent
and Rob is Sam's grandparent and this is
you know just by looking at that sort of
as a human at least for me my head would
start to spin there are so many
parent-child relationships there but we
can very effectively infer in for
additional information in an automated
way from what we've got here already so
let's talk about how we might bring this
theory into practice
hopefully that's readable so say we've
got our phones voice assistant serial
serial lexical whatever you call your
phone as serial XO giggle you say hey
Google or whatever let my grandparents
know it's my niece's birthday on the
25th that goes through a speech-to-text
end engine and we do some basic
information extraction on that to arrive
at the state in this orange box here so
we need to inform the grandparents of
the user that it's the user's nieces
birthday on the 25th so there's actually
a project that
has in the works I'm taking part in
importing a library called El kit which
is written in Common Lisp over to
Clojure and hopefully that will that
will provide sort of the missing piece
of the puzzle here going from this free
text to this to this set of information
here that's a l kit I've used it before
it's pretty cool there is for natural
language parsing and it's not it's not
machine learning based it's sort of a a
I based thing sort of all sort of cold
cold hard functions in there so not as
cool as the the machine learn stuff in
my opinion but still a really
interesting tool to add to your toolkit
so we'll keep you up to date on all that
anyway to not get sidetracked for a
second here the grandparents of the user
might not currently be known we might be
pulling these these parent-child
relationships from the Facebook API for
example and to my knowledge that's
certainly possible so it seems like
something that should be possible with
Facebook's API find the parents of this
person if you have Facebook integration
turned on on your Google smartphone or
your you know your your iPhone or
whatever you use it can totally see it
integrating with that service in that
way so what we need to do is gather the
family information that we can because
you might not have a grandma on Facebook
and we need to infer as much as well as
possible so we infer from the parental
relationships who the users grandparents
are from there we formulate our goal
which is that the grandparents are aware
of nieces birthday and we use a set of
operators that we might have coded into
our AI to look up the grandparents phone
number and send an SMS and that realizes
the goal of the grandparents being aware
of the nieces birthday at least from the
perspective of the system so then we
carry out that plan we have something
that we can action in an automated way
that we've also planned in an automated
way from limited information
that we had initially so yes the code is
on what the releases are on closures
everything is online again and github
the cognizance github organization is up
there too it's got most of most of our
closure code up there right now but more
is certainly on the way and obviously
feel free to comment criticize PR if you
have a spare if you have a spare moment
of an evening and this talk does have a
companion paper now there's a whole lot
more detail in this paper and then I've
covered today I anticipate you guys
probably have some questions I'm very
happy to take those and it really does
document dapi quite extensively
certainly to a deeper level of knowledge
than I myself possess around the matter
in particular right now so well worth a
read it's up on code mesoscopic UK
forward slash zero closure 2017 that was
a lot of brilliant choice of font there
but you know that's PowerPoint for you
so I guess that's everything I have for
you guys today are there any questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>