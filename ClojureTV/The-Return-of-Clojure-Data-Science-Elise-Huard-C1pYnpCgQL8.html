<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Return of Clojure Data Science - Elise Huard | Coder Coacher - Coaching Coders</title><meta content="The Return of Clojure Data Science - Elise Huard - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/ClojureTV/">ClojureTV</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Return of Clojure Data Science - Elise Huard</b></h2><h5 class="post__date">2017-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/C1pYnpCgQL8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this as far as the bastard child
between science and math and computer
science and programming or increasing
processing power increasing storage
space interconnectedness has meant that
suddenly we have large amounts of data
we can use and mine for information the
fairy godmother to this child is
economics obviously at the scale of
organizations we rarely seek information
and knowledge just for the sake of it
when we want insights
it is because we have an objective or we
have metrics and when we transform data
it's usually to make a process more
efficient and ultimately save money so
there is always an agenda it's not pure
science its data science and this is why
we always have to be very careful to be
a little bit rigorous because it's very
easy to go this way but we've seen you
see in this xkcd basically you start up
the data pile until you reach the
results you want to reach which is
obviously not exactly how you want to do
it but yesterday I'm going to talk about
the return of closure data science why
do I say the return is because there was
clearly a sort of golden age sort of
rush of enthusiasm a few years ago and
encounter came to be and gorilla Apple
etc but since then things have timed
down a bit
and when you want to do data science
usually reach for Python or are Audrey
Leah or octave but not necessarily
closure and that sort of bothered us so
I work for a company called Macedon C
it's a london-based consultancy
dolar jury remote as well I'm a remote
worker and we were building a product to
support city the state decision-making
and we also do some data consultancy on
the side and so a large part of our day
job is I guess data science and working
with data and we noticed that while or
production codes is closure and we use
quite a lot of closure script as well
when it came to data exploration we did
reach for our instead and our CEO Bruce
darling is like a big closure advocates
and he would rather have the whole
process enclosure obviously which is
also easier to share between different
members of the team just have to learn
one language also a closure in a code is
data etc so you know you can see there's
there's a fit there maybe my talk is
going to be structured as follows some
talk about the basic tooling we started
using to do the two data exploration
with closure the data structures a
couple of examples a 5-time a possible
road map open for discussion so very
happily discuss later and credits
obviously this talk is about our
experience and you you may have a
different opinion which is perfectly
legitimate so basic tuning we since
we're talking about data exploration
were not going to be talking about big
data we're going to be talking about not
small data but what we called awkward
cell size data which is like data which
fits in the RAM but possibly slightly
exceeds Excel spreadsheet level so maybe
a couple of cake
and if you want to do the X data
exploration on a very large data set
obviously we're going to do sampling
anyway because you don't want to you
know wait for the night to have a few
graphs of how everything is
is distributed so and then you're going
to use sampling and our skewers or
library for that's even something that
doesn't necessarily store your data in
memory so data science is about making
sense of data but it's mostly about
making sense of data with that agenda in
minds for other people so it's all about
communication it's a bit like
programming really you want to do some
magic on the data but you also want to
immediately explain it to other people
and that's why notebooks are fantastic
because notebooks mean you you have a
sort of running expert explanation and
you save your outputs as well in the
notebook and at the end you have you
practically have a report you can share
with other people and so I try we tried
a few notebooks actually the most
well-known open source notebook we found
out there is Jupiter which is built in
Python and was originally built only for
Python but now you can do our and other
languages in it so you can also use
cluttered as a closure kernel but I
found it fairly awkward to work with
dependencies you have to sort do some
dynamic loading magic and which didn't
work first time around for me at least
then there speaker which has a very nice
sleek look and has some communication
between courier and Java so that means
you can use its facilities for
representing graphs for instance fairly
easily again it was pinned down at
closure 1/7 and we're quite keen on
moving forward from that which meant
intervening which we didn't really want
to do and also the sort of cover to
JavaScript
situation makes made us a little bit
uneasy so the thing we settled with is
guerrilla rebel guerrilla rebel is
mostly
closure and a front end which has a
WebSocket interaction with the ripple in
the backend and it's quite handy because
it's just the lining and plugins so you
include that in your project you do lime
gorilla port whatever and then you have
your web page and again just start
working and evaluate everything with
shift-enter and it's quite easy and
interactive and it has a few shortcuts
which are good it's not perfect with
quite like for instance the closure
squid front end and any could you be
written and upgrading to online seems to
be a bit of a difficult one because
there are some some interesting hacks in
there but that is good then let's talk
about data structures so in our
specifically which we have a quite a lot
of experience with you work with data
frames which is like a certain data
structure you can do a number of methods
or functions on and it's made to to work
with like a number of observations and a
number of features it's basically a kind
of a matrix with with labels and there
was a an effort inspired on that in core
dot matrix code matrix dot data set
however it's quite a sort of involved
structure like this is only part of the
definition there's like you know 10
interfaces in there and I've tried to
make some some tools for it but it's
it's it's a little bit hard work and so
we come back to sorry actually skipping
and so yeah I found I found it very
complicated and and coincidentally
that's also the choice encounter made to
work with that
accorded matrix datasets they decided to
for the first they had their own data
structures and and then they sort of
branched into core dot matrix data set
so here you can see the the live the
commits
sort of numbers for in cancer and you
can see there's a big rush of enthusiasm
in 2010 and then that's when David Edgar
leap started the project and did quite a
lot of good work then in 2013 ish
I think Mike Anderson who is from Gordon
makes matrix same came to it and started
to be working it so it would use matrix
data set and then it sort of died down
you can see that in 2016 2017 there may
be a few patches but there's not much
more happening so I'm not in love with
in cancer it's the best layer it was the
best player in town it has a structure
which I find awkward it has lots of
modules embedded in the project and it's
a it and but it's also it uses its own
sort of awkward data structures and so
well there's good bits in there I don't
feel compelled to use it because it
feels like you have to immediately take
on board a lot of baggage and so I'm
sort of a proponent of plain old closure
data structures which is basically
vectors of maps if you want to be more
efficient than maybe you can make it
vectors of vectors but for or awkward
size data vectors of maps works
perfectly fine and that means that you
can start using courier specs for
instance to validate your data fairly
easily which is nice because validating
your data or checking whether it's valid
is part of the job
big part of the job and you can also
write your own conformers or cursors to
to transform it to where you want to be
to where it's useful for you then
there's a with vectors of maps we can
obviously use or transducers straight
away and
one of my colleagues Henry Garner has
developed a really nice library of
statistical transducers called kick see
stats so it gives us gives you a lot of
nice nice things to start your analysis
with like for instance here we want to
find the correlation matrix between X
and y and that and you know it just
gives you that and very very efficiently
which is nice and obviously you have the
whole world of transducers to combine
and mix and match and play with your
transducers so you have X form Redux and
hooey is actually a library by simon
bellick which is which aims to make data
science fairly easy and I've not
actually dug into it very much but I
think there are a few gems in there
which could be very handy as well
interestingly he took a different route
that came to the same conclusion as we
did which was a vectors of maps are
really the way to go if you want to do
closure data science or data exploration
at least then let's come to an example
my first example is based based on the
kaggle datasets how many of you are
aware of skagle ok quite a few people so
goggle has data competitions but it also
exposes a number of public datasets for
people to play with and explore and the
one I chose was a universal basic income
which is the idea that we should pay
everyone a sort of minimum basic level
of income so let's say everyone in this
room would get a thousand euros a month
whatever they did what are they they sat
at home or whether they you know decided
to go and work and supplemented income
with something else which is interesting
but so you see I started a guerrilla
repple
notebook where I gave some explanation
what is this data set where does it come
from how many records does it have 28
countries of the European Union
okay let's start some dependencies you
see it's a bit like just starting some
code except you you can you can make it
nicer although you can also do that with
Emacs to be fair with organoids
but it won't save your output which is
what is missing for Emacs then okay
let's have a visual check what does this
data look like display a few records I
find myself reading vectors of map quite
painful so I wrote a we plug-in that
that just makes it a table then let's
let's visualize some things like how
many people vote for the income how many
people vote against and how many people
don't care or have no opinion and you
see there the graph is not not amazing
so what what I did there was farm mod
two are basically I used a plugin the
writer of guerrero rebel Johnny Hudson
Rose which is basically shelling out to
our and then importing the output of our
so that that's one points that I think
guerrilla rebel could be improved on and
I started playing around with with using
thing gem to have nicer graphs and the
who re also does some work but I think
it still shells out to our which which i
think is a is a shame everything should
be encoder
in my opinion but so we have a few
visualizations then it becomes really
easy to sort of see to sort of analyze
and process this data with with your
usual box standard closure so what I do
here is filter out the part of people
who voted for then
sort of reduce and sort and then we can
see why people voted for universal basic
basic income first reason it reduces
anxiety about basic silencing needs
see then the people who voted against
what are their reasons also fairly easy
to extract and how many voted for that
it might encourage people to stop
working that's legitimate as well and
then what are the correlations between
the factors which is slightly what is
interesting so we have data about the
demographics so age whether they have
children whether they're who rule
whether they have an education that's
all etc and because I like to live
dangerously I whipped up a transducer
for the Kramer's V which is a stop to
tell you how nominal factors are
correlated and it's between zero and one
maybe zero there's probably no
correlation and if there's one then it's
they're basically the same same data and
you see that there's some correlation
between vote and awareness and some
correlation between the votes and the
country people are from the rest is
fairly weak and the last number was a
sense check which is the correlation
between age group and whether the group
has children obviously people will have
children in certain age groups so there
will be a correlation there and that's
what comes out of this as well
so that was one example you see all this
is fairly sort of friendly and and even
better with gorilla rattle you can also
cite or connect from your Emacs and sort
of have helper libraries in your in your
normal Emacs and rebel situation
so that's your end result to notebook
only contains the code you really want
to want to display very easy to work
with
then our next example is a bit more on
the showy side and full disclosure it's
not my example I run an example from the
core-tex library so interestingly for
neural networks which are very very
fashionable right now you have already
two two players in the closure universe
which is cortex also partially you've
written by Mac Anderson who did the core
matrix and a deep learning for G which
is really Java library that has grower
bindings so the example I'm going to
talk about is recognizing handwritten
digits this is like the textbook example
for neural networks if you have any
course on neural networks that's what
you're going to to learn and you see
cortex has a very nice DSL to represent
a neural network here they're going to
choose a convolutional neural network so
when you learn it in textbooks
handwritten digits are usually analyzed
with a perceptron which is a very simple
sort of feed-forward neural networks
convolutional networks are a bit closer
to the visual cortex in that the
neighboring cells are more
interconnected and you also have a more
3d structure of of neurons and that
works apparently even better and what is
really nice with cortex I was really
wowed by that is that's when you use the
train for ever function so you define a
network and then you give it the inputs
and you train forever then it opens a
webpage with closure scripts and that
closure script shows you the progress of
your training so here we have a
confusion matrix which shows how well
the digits are classified whether you
know 0 is classified as 0 1 is
classified as one as well and to what
percentage etc how many and and so you
see this evolving you see this is a
dynamical page
that is just evolving as you look which
is amazing and you can also see the
accuracy with every iteration you can
see it's sort of progressing and you
also have a visual visual field that
shows you how the handwritten digits are
classified so that was really nice and
I'll definitely go back to that one
again so unfortunately that's there
isn't that much show we I guess going on
in closure yes and so that's why we
could use what other people have done in
Java my colleague Henry Garner again did
a fantastic set of bindings for mallets
mallets we use that quite heavily for
topic analysis of text and and it's
doing really well
however there are so many other things
out there there's Weka
there's xxg boost which is a which is a
so bad guy for also natural language
processing xj boost is for gradient
boosting which is basically you use a
set of weak weak learners together to
produce a nicer a better results for
your classification and so that there is
there is a long list of of bindings that
could be could be used and transformed
to nice closure libraries so as a
roadmap I would be would like to propose
the following again open to discussion
notebooks so guerrilla rattle really
nice needs to be upgrade that he could
be improved and maybe there's better
options that could be made I quite like
how it interacts with your Emacs rattle
your cider and it makes it very easy but
you know it's not perfect graphs could
be much improved the design could be
possibly improved as well it's not
massively sleek cetera so and also the
Delhi
every because now it's possible to to
use a viewer to represent it as a
webpage but it would be nice to say
export a PDF very easily or export the
graph very easily etc that would be make
it much easier to to work with them
produce output so that's one thing then
obviously or statistic and tooling will
continue to grow or that will definitely
going to we're definitely going to
continue to work on that but pull
requests welcome
then encounter has a lot of nice stuff
in there in between all the modules etc
so if you ditch the data structure if
you ditch the graphs etc there's
probably a lot of stats that have
already been loaded there and which
potentially can be extracted and
transformed for for good use that's my
feeling at least and then obviously we
want more nice tooling from the Java
world that would be that would be really
nice or or if you feel very very brave
and are very good at mathematics and
then obviously writing it from clora
from scratch is also an option so this
presentation is standing on the on the
shoulder of giants as they say the
author of in Ganser David Edgar Lipka
Michael Anderson cited multiple times
core matrix
Johnny Hudson who wrote career Apple and
now works for deep mind so he has no
longer time to work on this obviously
and then Karen Mayer did some really
good blog post and it's also an angle on
going interest for her simon bellick did
some good presentations and and he's
also working on it and has his own
library cooee
so that's it and thank you for listening
and any questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>