<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript Tic Tac Toe Project Tutorial  - Unbeatable AI w/ Minimax Algorithm | Coder Coacher - Coaching Coders</title><meta content="JavaScript Tic Tac Toe Project Tutorial  - Unbeatable AI w/ Minimax Algorithm - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript Tic Tac Toe Project Tutorial  - Unbeatable AI w/ Minimax Algorithm</b></h2><h5 class="post__date">2017-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P2TcQ3h0ipQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I will be showing you how
to create a tic-tac-toe game from start
to finish using JavaScript HTML and CSS
I will also show you how to create the
AI using the minimax algorithm I expect
you to have basic knowledge about HTML
CSS and JavaScript but you don't have to
know anything too advanced however it
may take a few rewatch this to
completely understand the minimax
algorithm if all you are interested in
is the minimax algorithm feel free to
skip to that section by clicking the
link in this description for section 7
to get the most out of this video you
should create the tic-tac-toe game along
with me on your own computer if you get
lost while writing the code you can
check out the github repository that
goes along with this video this video
has many sections and there is a folder
in the github repo for every section in
the video the folder has what your code
should look like at the end of each
section check out this video's
description for links to the code for
the each section as well as links to
skip ahead to that part of the video
before we start creating anything let's
make sure your development environment
is set up an easy way to create this
project is to use code pinned Daioh just
go to the site and then create a new pen
there is a section to put your HTML your
CSS and your JavaScript and then
everything you create will show up right
over here also don't forget to give your
pin a name and save it however I'm
actually going to create the project
locally on my machine instead you can do
that with any text editor I'm using
sublime text I'm gonna open sublime text
and then go to file open now I'm
selecting a folder I already created for
this project inside this project create
three files I use the sidebar
enhancement package add-on so I get more
options when I right click here so we're
gonna create the three files we're gonna
create Tic Tac Toe des HTML
now style.css and then the last one is
going to be script is in tic-tac-toe dot
HTML I'm going to paste in basic HTML
boilerplate code that should be included
in most projects you can see that in the
head there is already a link to style
dot CSS and also at the end of the body
there is a link to the script jeaious
javascript file so that's how all these
three files that we created are
connected the first thing you should do
is insert the title so right inside the
title here I'll put tic-tac-toe and if
you're accreting the project in code pen
you actually don't need any of this code
all of this is automatically included
now let's start setting up the basic
HTML structure first of all I want to
let you know that just like any
programming project there are an
infinite ways to create a tic-tac-toe
game there's not really a right way to
do it as long as it works we're going to
use a table to create the 9 by 9 grid
needed for the tic-tac-toe board after
we get this code in we'll add some CSS
to make it look more like a traditional
tic-tac-toe board now press command
shift D to duplicate that three times
and we'll just change this to one this
to two and then command shift D two more
times three four five six seven eight
we're also going to need to display who
is the winner of the game so at the
bottom we'll add a div with the class of
endgame
also we'll add a button that will allow
the player to reset the game after it
ends while we are putting this at the
bottom
later we'll add some CSS to position the
in-game message on the top of the
tic-tac-toe board also that reset button
will eventually go into the in game
element next we'll start working on the
CSS
okay before we switch over to our CSS
file you can see that I opened up a
browser window right here
and it's going to show everything that
we've created right now the table
there's nothing in the table so it
doesn't show the table but we can see
the replay button also I didn't realize
I named one of my files and correctly
this was supposed to be script J s so
I'm going to right click and rename now
this is with my special add-on here so
not everyone can rename right from in
sublime so now we have the right name
script J s not script at CSS okay we'll
go over to our style tab here and the
first thing we're gonna style is the TD
element the TD element if we go back
into our HTML that's what all the cells
in our tic-tac-toe game all the squares
are the TD elements so we're gonna set
up border and I hide in a width we'll
just stop for a second just to see what
that looks like so far so it's already
starting to look like a tic-tac-toe
board let's put in a few more things
and let's see what that does I'll save
that refresh the page and now you can
see well we did add this cursor:pointer
so it looks like you can click each
square when you're on it and you can see
it still doesn't look like a tic-tac-toe
board exactly so again a few more things
for the styling now I'm going to add
some styles to the table element so
that's going to style the whole table
element that includes everything else
here so border-collapse:collapse that's
what is going to make it look more like
this so we don't have the two lines for
each cell
now this is just some stuff for
positioning it's gonna make sure it's
centered position:absolute means it's
not going to be related to other things
on the page and the left fifty percent
and then margin left negative 155 pixels
is just a way to Center it so it's gonna
move 50 percent to the left and if we
just if we didn't have the margin left
with the edge would be at the center so
if I take that out and then refresh that
you can see the edge is right in the
center but we have to move it back over
so the negative 155 pixels the whole
thing is 310 pixels
310 divided by 2 is 155 so that's why we
go negative 155 pixels left and the top
50 is just so there'll be some space at
the top because it's absolute now it's
not related to where this button is so
this button just pops up at the top now
we want to make this look more like a
tic-tac-toe game by removing the edge
border all the way around we're gonna
use the first child selector so let's
see what this would actually select
table T our first child TD so first
we're gonna go to the table and then the
T our first child so there's the first
child this is the second child this is
the third child so we're only selecting
the first child which is basically the
whole top row here and TD which is going
to which will be every TD element so for
every square in this first row here
we're going to do something border top
equals zero let's save there and refresh
that page you can see now there's not a
border on top so I'm just gonna copy
this scroll down here let's copy this
let's get that more toward the top here
so we have more room pasted here so now
instead of first child we're going to do
last child it's a border top and a
border bottom and then if we just look
what that looks like we just removed the
bottom now we're gonna just change this
up slightly we're gonna cut that and
then put it on the end of the TV so
we're gonna select every table TR and
then just the first child TD so we go
back here this is the first child this
is the first child and this is the first
child instead of border top it's gonna
be border left and we can see what
that's gonna look like and then just the
same thing instead of first child last
child and border right okay now it's
starting to look like a tic-tac-toe
board now I'm just gonna add some code
that's going to style this this in-game
element this in-game element is gonna
look like a little a modal that pops on
top of the tic-tac-toe board at the end
of the game so let me add code for that
okay now I got this whole end game
element you can see we have it
display:none because it's not going to
display until the end of the game and
actually just to see what it looks like
let's just remove this display:none for
a second and see what that's gonna look
like see it's gonna just pop on top just
like that and let's put that back
again you can change styling any way you
want to make it look a little more
exciting than what I'm doing
now we're gonna finally get into the
JavaScript code the JavaScript part of
this video is broken up into four
sections first we're going to set up
some variables and add the ability to
click a square and show a mark second we
are going to add logic to determine the
winner and show the winning combination
third we'll create a very basic AI and
add the code to notify who the winner is
and finally and this is the most
complicated section will create the
logic for an unbeatable AI using the
minimax algorithm I'll demonstrate how
it works with some diagrams so like I
said this first section will set up some
variables so first we're gonna
initialize the board so the bar or edge
board means original board and this is
eventually going to be an array that
keeps track of what's in each square the
tic-tac-toe board if it's an X or it's
an O or nothing and now this is how will
show that the human player is going to
be 0 and we'll have also have a Const of
the AI player which will set to X now
you can create these as anything it
doesn't even have to be X and O and
it'll show up in the boards over there
and now we're going to create an array
that's going to show the winning
combinations for the tic-tac-toe board
and inside this each winning combination
is going to be an array so it's an array
full of arrays so we have 0 1 2 so each
square this is square 0 this is Square 1
and this is square 2 if if we have
oh-o-oh across that would score for
tic-tac-toe and the other two ways to
win across 0 3 6 this would be 0 3 6 so
that would be a diagonal win and now I
just put the other winning combinations
in there so cells equals document dot
query selector all and dot cell and
let's zoom out a little bit so that
means the cells variable is going to
store a reference to each cell here
document that query selector all is
going to select each element on the page
that has the class of cell which are all
these TD elements and then we're gonna
have to call a function to start the
game which is just gonna be the start
game function and now we've defined the
function so this is what will happen
when the game starts also one thing to
point out is that remember when you
click replay it's also going to run the
start game function so this start game
function will run at the beginning but
also whenever you click replay it will
run the start game function we have the
document dot query selector and we're
going to select the in game element and
we're going to set the style so we're
gonna modify the CSS style specifically
the display property we're going to set
the display property to none now if we
go back into the style you can see that
this the display property is already set
to none but remember this will also
happen when we hit the replay button
that will run the start game function
and at the end of the game the in game
element is not going to be set to
display none is actually showing up so
when you click replay it will be set to
none again and now we're going to
finally load something into the original
board variable that we have up here
we're gonna set it to array dot from
array 9 dot keys this is just a fancy
way right here to make the array be
every number from 0 to 9
so it's gonna create an array of nine
elements and it's gonna be get just the
keys for that element which is 0 through
9 and it's gonna create an array from
that other array so just to show you
what I'm talking about I'm just going to
console that log that here so if I save
that I'm going to run this now I'll open
up the JavaScript console you'll see we
have an array of
Elmas 0 through 8 here but let's remove
this for now now throughout the course
of the game we'll actually be adding X
and X's and O's to this so whenever we
restart
the game we want to remove all the X's
and O's from the board so we're going to
do that with a for loop so we're just
gonna go through cells that length and
remember cells is this up here so it's a
reference to every cell up here I'm
gonna go through every cell up there and
we're gonna do three things each cell so
cells eye is gonna be each item of the
cell when it loops through this for loop
I'm gonna set the intertext to nothing
so there will be nothing in the cell and
we're going to do remove property
background color that's because I
already know that when someone wins
we're going to highlight each square
that's part of the winning combination
in a certain color and if the game is
restarting we want to remove that
background color so we're back to having
no background color and then one final
thing we're gonna add an event listener
on the click event and we're going to
call the turn click function so now
every time anybody clicks one of these
things we're going to call the turn
click function and the turn click
function is the next thing we're going
to define in our program for now just so
you can see what's going to happen we're
going to do a console dot log and
actually inside the trunk click function
we're going to pass in something so I'm
just going to call this square it's just
gonna pass in a click event so we're
gonna console that log Square target dot
ID so now it's just going to log the ID
of whatever square was clicked so I'm
going to save this I'll refresh this
page and then let's see what happens I'm
going to click oh I'm getting an
unexpected token let's see what I did
wrong there says number line 28
oh I just forgot to put the word
function here so this is supposed to be
a function let's save that refresh and
okay
cannot read property remove property it
looks like I spelled this wrong this
would be style so maybe you already
noticed while it's typing it in earlier
but this is a good way to troubleshoot
your code just look in the JavaScript
console and they'll give you an idea of
what you did wrong so now let's refresh
this that's why it's good to try things
out periodically while you're
programming so you can catch things
quickly I'm I'm actually gonna clear the
console and then refresh so you can see
that there's no errors and now if I
click it oh six because that's the zero
one two three four five six C I'm gonna
click there click there wherever I click
you can see in the console here's 0
here's 8 you can see it appearing down
the console down here I know it's kind
of small but it's showing the ID of the
square that I'm clicking but we actually
don't want it to just console that log
every time you click somewhere so I'm
gonna delete this here and we're gonna
call another function inside the trunk
click we're gonna call the turn function
and we're gonna pass in the ID that
we're clicking and we're gonna pass in H
you player because it's the human player
that's doing the term so actually that's
the only thing that's going to be in the
turn click function is calling the turn
function and the reason why we don't go
directly to the turn function is because
the turn function can be called with
either the human player or the AI player
so if a human is clicking we're gonna
call the turn function with the human
player and not the AI player so now
let's define the turn function this time
I'll remember to put the word function
the turn function is going to take two
parameters the square ID and the player
and you can see that's what we pass it
up here the square ID and the player
this is the human player and so we're
gonna set two things
so first of all we're gonna set the
board array or ridge board at the ID
that we've clicked to player so on this
array it's going to show the player who
just took a turn in that spot but we
don't actually see that array we're also
gonna have to update the display so we
can see where you just clicked okay
document dot get element by ID that's
going to select an element with the ID
and the square ID if you remember from
in the HTML we have the square IDs here
so we're gonna select the element that
was just clicked and set the inner text
to equal player so if I save that and
refresh if I click here wherever I click
you can see an oh it pops up so right
now we can fill that all up and then
that's all we can do but let's see if
the replay button works yeah we can
click replay and we can keep putting an
O in here so this is kind of fun for a
few seconds but I think we need some
more functionality of our game here
so now we're entering the second part of
the JavaScript section which is actually
the fifth part of this video where I'm
going to add logic to determine the
winner and show the winning combination
remember you can check the link in the
description of this video to link to the
github repo where you can get the actual
code that I'm using and remember the
folder for each section shows what the
code should look like at the end of each
section so if you get the code for the
end of section 4 you'll be exactly where
I am now
so whenever a turn is taken we are going
to check if the game has been won so I'm
gonna add this let game 1 equals check
when and check win is going to be
another function we're going to define
in just a second but we're gonna pass in
two things the original board array
which is an array that shows everything
on the board where the X's and O's are
and the player the current player
because we want to check if a certain
player has just one if game one so if we
find that the game has been won called
the game over function with the game one
variable you'll see here that this is
not just going to be a true or false
variable we're gonna have some other
information that will be passing into
the game over function okay now I will
define the check win function which is
going to receive the board and the
player the reason why we have to pass in
the original board here and we don't
just reference the original board
variable in this function is because
later in this program we will be passing
in things that are not the original
board there are different versions of
the board than what the current version
of the board actually is you'll
understand that when I get to it now
this line that I'm typing is really just
a fancy way to find all the places on
the board they have already been played
in let's bring this down to this line
here
so we're going to use the reduce method
the reduced method is going through
going to go through every element of the
board array and do something and it's
going to give back one single value the
accumulator is the value that's going to
give back at the end and we're going to
initialize the accumulator to an empty
array the e is the element in the board
array that we're going through and the
I's index so if the element equals the
player then this is a ternary operator
so then we're going to do this we're
going to just contact I that just means
we're gonna take the array the
accumulator array and we're going to add
the index to that array and then if he
does not equal player we're just going
to return the accumulator just as it was
so we're not going to add anything to
the accumulator so this is just a way to
find every index that the player has
played in and we're going to set game 1
to equal null and then we're gonna check
if the game has been one we're gonna do
that with a for loop so this is a for
loop actually this supposed to be winged
combos dot entries so remember at the
very top we have the win combos this is
every single thing that could create a
win every array here could create a win
so we're going to have to loop through
every wind combo every possible way that
a player could can win so when combos
dot entries is just a way to get the
index and the win so we're gonna have
one variable that's 0 because this is
index 0 that's gonna be the index and
the win each win that we're looping
through the wind is going to be this
array with 0 1 2 so we're gonna need the
index of the winds we need the index and
the win in this for of loop
if when dot every when de every means
we're going to go through every element
in the wind so for instance the first
one with just every element would be 0 1
2 so if winda every so for every element
in that 0 1 &amp;amp; 2 we're gonna check if
plays that index of L is more than
negative 1 so the plays is from up here
plays is the all the places that the
player has played on the board and index
of so we're gonna see if the index of
the element is more than negative 1
that's just a fancy way of saying of
saying has the player played in every
spot that counts as a win for that win
so has the player playing all these
spots and then it's a loop has the
player playing all these spots has the
player playing all these spots we go
through every single one to see if the
players play in all the spots that
constitutes a win combo if so that means
the player has won so we're gonna set
game 1 2 equal index index player player
so now we know which wind combo the
player won act and we know which player
has won and now we're just going to
break from the function and after all
that we're going to return game 1 so if
nobody wins Game one will be null if
someone does win Game one will contain
which when it was and which player 1 so
let's go back up here if game 1 then run
game over if game has no if game 1 is
null this will be false if game 1
contains this
here this will be true and we'll run the
Gamo over function so now let's define
the GAMEOVER function and the GAMEOVER
function is going to accept game 1 our
game 1 was defined right up here and
we're gonna pass in here and that's
gonna go into here inside the game over
function we're gonna have two for loops
first of all we want to highlight all
the squares that are part of the winning
combination and then we want to make it
so the user cannot click any more
squares because the game is over let
index of win combos and we're gonna pass
in game one index so that was the index
of the winged combo that was the winner
for this game so we're gonna go through
every index of that win combo and we're
going to do something document dot get
element by ID the index that's the index
from the win combo dot style dot
background color so we're gonna set the
background color to something what we
set the background color will depend on
who just won the game game one dot
player that's who won the game if game 1
dot player equals the human player now
this is a ternary operator we're gonna
set the background color to blue if it's
the AI player we're gonna set the
background color to red and that's the
end of this for loop now we're going to
have one more for loop and now we're
going to go through every cell and we're
going to make it so you can't click that
cell anymore so we're gonna remove the
event listener the remove the click
event listener and we have to also pass
in what that click event event listener
was to the term click and set this to
false okay so now let's see how this
works we're going to refresh here with
all of our new code
ooh we have some air here missing
initializer and destructuring
declaration 41 so let's go up there hmm
oh we just I think it's just so we have
an extra parentheses here let's see if
that solves the problem now let's clear
the console and refresh unexpected token
44 so let's see what happened there and
here it looks like here I was missing a
parenthesis it should be index of
element is less than negative 1 so let's
try that we're gonna refresh this and
another here ok let's see what we did
here I don't think we need this
parenthesis so let's see if that fix the
problem I think it just fixed the
problem so let's try this out okay if we
put three in a row
it turns the blue and we can't click
anywhere let's replay now we should be
able to click three in a row turns a
blue and we can't click anywhere turns a
blue we can't click anywhere so that
works we can now determine a winner next
up we're going to create a basic AI and
show the winner box
well I hope you're still falling along
and creating your own program along with
my program we've just started Section
six so if you get the code from the
github repository that shows the end of
section five
you should be caught up with where I'm
at now again just check the link in the
description for that code right now
there's no AI so the computer doesn't
even do anything when you play you're
just only putting O's in there so we're
gonna change that in this section this
will just be a basic AI without the
minimax algorithm in the next section
we're going to implement the minimax
algorithm so let's go back up to the
turn click function so when the turn
click function is run the human player
is going to take a turn but right after
the human player takes a turn the AI
player will take a turn so before the AI
player takes a turn we're gonna check if
it's a tie so if it's a tie game that
means every square is full and nobody
has won yet so if every square is full
the computer player is not going to take
a turn so if there's not a tie then the
computer player will take a turn turn
that spot AI player so just up like up
here we put in the target ID that was
clicked here we're gonna get the ID
based on this other function the best
spot function is going to return the ID
to click and instead of the human player
we have the AI player taking the turn
let's do one last thing while we're in
this function right now you can click on
a place that's already been clicked so
we want to make it so you cannot click
on a place that's already been clicked
so let's add that logic right up here if
typeof a ridge board Square that target
dot ID equals equals number so if you
remember the original board array gets
filled with the numbers 0 through 9 and
then when a turn is taken that
index will be replaced not with a number
anymore but with the X or the O the
human player or the computer AI player
so if the type of the ID that was just
clicked is a number that means that
neither the human nor the AI player has
played in that spot so if nobody is play
in that spot then let's cut those out
put it right here then we'll do this
we'll run the turns here so the human
player and then the computer play right
there so you can see we made two
functions check tie and best spot so
let's create those functions let's go
down to the bottom here and we'll start
with the best spot function now this is
how we're going to find the spot for the
AI player to play remember I said that
eventually we'll make it more
complicated but this time we're just
going to make something really simple so
the best spot function is just going to
run a different function we still have
to create that's gonna find all the
empty squares and just get the first
element from the empty square so it's
just always going to play in the first
empty squares so before we create the
check tie function let's finish creating
the empty squares function I'll put it
right up here so function empty squares
so we're going to filter every element
in the original board to see if the type
of the element equals a number if the
type of is a number we're going to
return that so all the squares that are
a number are empty and the squares are
an X or an O are not empty and the best
spot is just going to find the first
square that's not empty so now like I
said we're going to have that checked
eye function so to check if it's a tie
we just use the empty squares function
that we just created if the length
equals equals zero that means every
squares filled up
and nobody's won yet because normally
every time someone plays a turn it check
to see if someone's won
so if every square is filled up and
nobody is one that means there's a tie
we're gonna do a few things inside a for
loop because we're gonna do something to
every single cell in the tic-tac-toe
board so we're going to set the
background color of every cell to green
and we're gonna remove the event
listener so the user can't click
anywhere right now because the game's
over and we're going to declare a winner
this is actually a function we sought to
create declare winner
tie game that's what we're gonna pass in
the words tie game and return true
because true it's a true that it's a tie
or if this if statement is false we're
going to return false
okay we just create a new function so
now we have to define that function the
clear winner let's put that one right up
here declare winner oh and we've passed
in whoo right down here we passed some
tie game but we'll also sometimes pass
and if the computer wins or if the human
wins so inside this function we're going
to do something so we're finally going
to show the in game section it was set
the style was set to display none but
now it's gonna be set to this display
block I'm just gonna duplicate this line
I'm gonna select that in game dot text
so now if we go back into the HTML
the dot txt he is here so the ink inside
endgame and then inside text that in our
we're gonna set the inner text to who
that's what we passed in here so if it's
a tie game it's gonna say
tie game so we also wanted to say if you
win or you lose so let's go over the
game over up here and when there's a
game over we're going to also call the
declare winner function and we're gonna
have a ternary operator to see what
we're gonna pass into the declared
winner function so if the game won that
player is a human player we're gonna
pass in the words you win else we're
going to pass in the words you lose so I
think we're done
implementing this basic AI so you can
actually play a full game of tic-tac-toe
let's save it and test and see if we get
any ears no error so far let's see yep
so I played here the computer I'll I'm
going played on the next open spot the
computer play on the next open spot and
it says you win so let's replay now
let's see if I can get the computer to
win you lose now let's see if we can get
a tie game
tie game so we just saw every in state
you win you lose and tie game at this
point you have a fully functional
tic-tac-toe game however as you can see
it's pretty easy to beat now we will
create an unbeatable AI using the
minimax algorithm after we implement the
minimax algorithm you will never see the
message you win on the screen
much of this section on the minimax
algorithm is taken by a great article by
Achmed abdul Saheb on the topic I have
linked to the article in the description
of this video I definitely recommend you
check it out
a minim X algorithm can best be defined
as a recursive function that does the
following things one returns a value if
a terminal stay is found in this case
positive 10 zero and negative 10 to go
through available spots on the board 3
call the minim x function on each
available spot a recursion for evaluate
returning values from function calls and
5 returned the best value I'm going to
go through the code for the minim x
function don't worry if you don't
completely understand it at first after
I show the code I'm going to use an
example and diagram to demonstrate the
algorithms function calls one by one
also if you're anything like me you may
want to watch this section more than
once to get a grasp on it before we
define the minimax function will change
the best spot function it's actually
just going to return the result of
calling the minimax function it's going
to call the minimax function passing in
a ridge board and a I player because
it's the AI player playing and it's
going to get dot index because the
result of the minimax
function is an object and dot index will
be the index at the computer to play in
so we'll define the minimax function
with two arguments new board and player
then we need to find the indexes of the
available spots in the board using the
empty squares function and set them to a
square called avail spots
we'll check for terminal States meaning
someone winning and return a value
accordingly if zero wins you should
return negative 10 if X wins you should
return positive 10 in addition if the
length of the available spots array is 0
that means there is no more room to play
the game has resulted in a tie and you
should return 0 next you need to collect
the scores from each of the empty spots
to evaluate later therefore make an
array called moves and loop through
empty spots while collecting each moves
index and score in an object called move
then set the index number of the empty
spot that was stored as a number in the
original movie then set the empty spot
on the new board to the current player
and call the minimax function with the
other player and the newly changed new
board next you should store the object
resulted from the minimax function call
that includes a score property to the
score property of the move object if the
minimax function does not find a
terminal state it keeps recursively
going level by level deeper into the
game this recursion happens until it
reaches a terminal state and returns a
score one level up finally minimax
resets new board to what it was before
and pushes the move object to the moves
array then the minimax algorithm needs
to evaluate the best move in the moves
array it should choose
with the highest score when AI is
playing and the move with the lowest
score when the human is playing
therefore if the player is AI player it
sets a variable called best score to a
very low number and loops through the
moves array if a move has a higher score
than best score the algorithm stores
that move in case there are moves with
similar score only the first one will be
stored the same evaluation process
happens when player is heyou player
but this time best score would be set to
a high number and minimax looks for a
move with the lowest score to store at
the end minimax returns the object
stored in best move I want to emphasize
again that it's okay if it takes a few
reviews to understand this I had to go
over it multiple times I first learned
it but this next example should help
before we go over the example let's
actually just try this out just to make
sure I didn't make any mistakes when I
was creating the code so I save that
refresh over here and let's see ooh
reference air or rigid board not defined
JavaScript 76 let's go up to 76 up here
and this should be there's be an eye in
there okay let's save that refresh and
let's see if we have any more ears and
this seems to be working
let's see if it's possible when it's not
possible to win they did something right
okay gonna try it out a little more
later but let's go over to the example
in this example we are starting with
this board configuration and then
following how the minimax algorithm
determines the next move assume the AI
is X and the human players oh I'm gonna
use this figure right here to follow the
algorithms function calls one by one
remember in this example we're
pretending R at the end of a tic-tac-toe
game so there's just one more move left
so the board looks like this so we're
gonna go through the code to figure out
the exact logic that the program takes
to figure out where to play so in Figure
1 we're at the very beginning of the
minimax algorithm and a ridge board and
the AI player is fed into the algorithm
and the algorithm is going to make a
list of the three empty spots that it
finds so if you see right here we have
the spot here here the middle and then
the bottom-left it's gonna check for
terminal States and then loop through
every empty spot starting from the first
one here it's going to
the new board by placing the AI player
in the first empty spot after that it's
going to call itself with new board and
the human player and wait for the
function call to return a value so we're
just on the first function call we're
not to the end of the first function
call yet but now we're already going to
the second function call so while the
first function call is still running the
second one starts by making a list of
the two empty spots at vines just these
two that's here where it's making list
of the two empty spots it's going to
check for terminal States and then loop
through the empty spot starting at the
first one then it changes the new board
by placing the human player in the first
empty spot after that it calls itself
with new board and the AI player and
waits for the function call to return a
value we're at the third function called
which is right here still function
called two and one have not finished the
algorithm makes a list of empty spots
and this time it's going to find a win
the human player is going to win
therefore it returns an object with the
score property and value of negative ten
and since this second function call up
here listed two empty spots the minimax
changes the new board by placing the
human player in the second empty spot so
B right here and then it calls itself
with the new port in the AI player so
from function two we got two function 3
by placing a spot here in the middle and
then we go from function 2 to function 4
by placing a spot in on that bottom left
the algorithm is makes a list of four
spots the algorithm just makes a list of
empty spots and finds a win for the
human player after checking for terminal
States and then it's going to return
negative 10 again on the second function
call the algorithm collects the values
coming from lower levels the third and
the fourth function calls since the
human player's turn resulted in the two
values the algorithm chooses the lowest
of the two values on the second function
called algorithm collects the values
coming from the lower levels so we
already had the index and then
we're gonna assign the score here and
we're gonna assign the index the new
board and then we're pushing all the
moves on to the moves array so that's
how all the values have been collected
from the third and fourth function calls
since the human player's turn resulted
in the two values the algorithm chooses
the lowest of the two values so here's
if the players the AI player else which
is what we're at now because the player
is a human player it's going to run this
code to select the lowest of the values
since both values are similar it chooses
the first one and returns up to the
first function call that's down here
when it returns moves best move at this
point the first function call has
evaluated the score of moving the AI
player in the first empty spot next it
changes the new board by placing AI
player in the second empty spot so this
was the first empty spot here's the
second one in the middle it's gonna call
itself with the new board and the human
player and I'm gonna skip through some
of this of every single thing that
happens but you can see in function call
1 there are three empty spots and that's
why there are three and level one so the
first empty spots function call to the
second empty spot function call five and
the third empty spot function call six
to empty spots here two moves here and
here since we found a terminal State you
don't actually go any further and here
there's two empty spots so we try these
two and then eventually you get down to
eight and because of the recursive
nature and like I was showing before
this gets passed up to the top now
toward the end of ring the algorithm the
three branches of the first function
call have all been evaluated we got the
negative 10 the 10 and the negative 10
but because the AI player's turn
resulted in those values the algorithm
returns an object containing the highest
score which is the +10 at index 4 which
is the middle index so in this scenario
the minimax concludes that moving the X
to the middle of the board results in
the best outcome now to speed things
along I didn't explain every single
function call but if you check the
article they link to in the description
it goes into even more detail
about this I hope with my explanation
and just being able to play with the
code a little bit you'll be able to
understand the logic behind the minimax
algorithm okay and there's one final
thing I still need to do you can see
that the replay button is right up here
in the corner and we want to put it in
the popup box so I'm just gonna go over
to the HTML file and I'm gonna select
this button and then at least on the Mac
it's control command up so it's going to
move that line up and then I'm just
gonna tab it over and that should put
the button in the right spot so let's
refresh here and now the replay button
doesn't show up until the game is over
and you can put the replay button right
on that little pop-up and you now have
an unbeatable tic-tac-toe game there are
many ways this game can be improved so
for extra practice you can think about
other features you can implement for
instance maybe you want to make it
two-player so there can be two human
players instead of a human and a
computer player well thanks for watching
my name is Bo Carnes don't forget to
subscribe and remember use your code for
good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>