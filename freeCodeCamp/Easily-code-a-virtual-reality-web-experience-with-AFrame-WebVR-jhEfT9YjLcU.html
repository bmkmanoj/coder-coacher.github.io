<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Easily code a virtual reality web experience with A-Frame (WebVR) | Coder Coacher - Coaching Coders</title><meta content="Easily code a virtual reality web experience with A-Frame (WebVR) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Easily code a virtual reality web experience with A-Frame (WebVR)</b></h2><h5 class="post__date">2017-09-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jhEfT9YjLcU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello this is Ben gjs I'm Benji and
today I'd like to show you that anyone
who can write HTML can create a virtual
reality scene using the framework a
frame first I'm going to show you a
frames website it's a - frame Daioh and
you can see on here they have some
examples we're gonna be creating
something similar to this so it is a 3d
scene using behind the scenes a frame
uses three j/s and if you happen to have
a mobile device and a Google cardboard
headset you can pull up examples like
this on your phone and tap this little
button and you'll be able to explore the
world in first-person 3d okay to get
started we are going to find an a-frame
CDN which I just do by searching for a
frame CDN on Google a CDN if you don't
know is a content delivery network which
is basically a way to make files
available globally at high speed with
high availability just going to click
this result here and scroll down and
here are links to a frame itself and
also a minified version of a frame if
you're not familiar with minified files
they have been compressed such that
they've lost a lot of legibility but
also they can be downloaded more quickly
we're gonna be using just the regular
a-frame file because if we do end up
needing to debug inside of a frame
itself it'll make it a lot easier so I
just have an empty index.html file here
I'm gonna create a script tag and set
the source to the path that we just
copied so what's awesome about a frame
as I said before is you can create a VR
scene just using HTML tags the first
thing you need is the a scene tag and
then inside of that you can build other
shapes like a sphere I'm gonna back up a
little bit and Hey look there's a sphere
kind of hard to see because it's a white
sphere and a white background but we can
just use HTML attributes to change the
sphere color to whatever we want so I'm
just gonna make it black for now or you
know you can use hex code or you can use
any sort of styling string that you can
use with CSS I think you can use with a
frame as well so now here we have a red
sphere and as I promised we have created
a
virtual-reality seen on the web using
only HTML i know not too exciting as it
is I still think it shows that a frame
is a really powerful tool now if you're
a JavaScript developer and I'm sure most
of you are you're probably thinking
right now huh
I could set those attributes
programmatically and that's actually
exactly what we're gonna do next so I'm
gonna add another script tag and I'm
gonna set it to a local index.js file
which I'm gonna create right now and the
first thing I think I'm gonna do is set
up a little shortcut for selecting Dom
elements the API will look basically
like jQuery we're gonna use document
query selector which is the query
selector that's built into JavaScript
and we're gonna pass it a query string
and we're going to return what that
returns so now if we wanted to set the
color of that sphere you can just say
dollar sign a sphere dot set attribute
color and let's say we want to make it
blue we do that and hey look it's blue
now no I don't want to have to adjust
the camera every single time that we
change a property I'm going to go ahead
and set the XY and Z position of the
sphere to a value I happen to know that
will Center it in our camera view this
is X Y Z now obviously just setting the
color once programmatically isn't super
exciting so what I think we should do is
change the color over time using
programmatic animation the way you do
animation in JavaScript is with a
built-in function called
requestanimationframe which will accept
a callback requestanimationframe will
fire the callback when the browser's
ready and it can do that up to 60 times
per second so we're going to create a
function here to pass as our callback
we're just going to call it animate it's
not going to be doing much animating as
of yet but we'll get there and then you
also want to call requestanimationframe
within your callback so that it keeps
firing endlessly
again pass animate into
requestanimationframe
and then the last thing you need to do
is call requestanimationframe and pass
in your animation function no whoops
type that wrong okay so now it should be
setting our sphere to blue 60 times a
second instead of setting into blue 60
times a second though we want to set it
to a new color sixty times a second so
I'm going to create a new function
called shift hue it's going to take an
integer that represents a hue as a value
from 1 to 360 degrees and it'll just
return that hue plus 1 we're going to
use modulus 360 so that the value never
goes over 360 we're gonna create a state
variable for a hue started out at 0 and
then every frame we're gonna create a
new hue which is going to be we're gonna
use HSL because that's just an intuitive
way to build colors for me the first
value is the hue second value is
saturation which I'm going to put it a
hundred percent and the last value is
lightness which I'm going to put it 50
percent and we're actually going to
build that string with the return value
from shift Q so it'll start out at zero
then the next room it'll be one the next
frame it'll be two so on until three
sixty at which point it will set itself
back to zero the last thing to do here
is set the color well let's call this
color not hue and we'll set the color to
that color oh we also need to be setting
the value of Hugh ever 'iframe so let's
do it this way
shift hue hue and then we can pass Hugh
directly in here hey check that out now
our color is changing over time another
thing we might want to animate is the
position so I'm going to go ahead and
grab our starting position I'll set up a
variable to hold our position we will
set the position each frame
and that shouldn't change anything yet
but then we're gonna change this
position to be a string template and
we're going to update the y-value every
frame we're gonna make it 1.5 plus let's
say math dot sign and pass in date now
which will give us how many milliseconds
have passed since January 1st 1970 or
something like that let's see what that
does it's a little fast let's divide
what we get back from date now by say a
thousand and see what that does
yeah that's pretty nice and of course
this is a VR application so we can look
all around it if we want we can pull it
up in our Google cardboard and see it in
3d it would be nice if we had some sort
of a grounding effect to give the sphere
some context so let's add a plane below
it just gonna add the a plane tag here
we can get rid of the color we're
setting on our sphere since we're
setting that programmatically now we can
do the same with the position actually
we will need to set its rotation we'll
rotate it along the x axis the reason
for that is that it's it starts out
standing upright we want it to be flat
because it's gonna be the ground and
let's set it to black just so we can see
it looks like we want to push it back in
the Z position maybe also set the width
and height let's do this first so X Y Z
with the 10 height 10 remember we're
using height because it starts out like
this and we've rotated it let's do this
and I'm gonna go ahead and set the color
of our plane to match that of our sphere
might be fun to spin it around so let's
pull out the rotation
and you go ahead and capture this value
call it variation
that way we can reuse it with our
rotation and we'll make this one 90
times variation let's see what that does
whoa check it out our platform is
rotating I'm just gonna do one more
thing one thing that I like to do is go
to jiffy calm and just grab some random
image I happen to have found one I like
for this you can set the texture of your
3d objects by setting the source to an
image if we reload one more time chris
farley is really into this experiment so
I'm hoping that after seeing this you're
getting pretty excited about the
possibilities imagining all sorts of
really cool stuff you can do with a
frame I know I have been excited about
it myself
I've actually released kind of a funny
little project where anybody can hop
onto the meta verse set their texture to
a jiff and run around with other people
now once again I would love any feedback
on the video always happy to hear your
thoughts and let me know if you have any
questions in the comments and I'll be
happy to answer them thanks and have a
good one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>