<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Former Google Engineer Mike Turitzin on How to Organize Code - Senior Developer Skills | Coder Coacher - Coaching Coders</title><meta content="Former Google Engineer Mike Turitzin on How to Organize Code - Senior Developer Skills - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Former Google Engineer Mike Turitzin on How to Organize Code - Senior Developer Skills</b></h2><h5 class="post__date">2017-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5CSKJv1qXoA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is boots Absa ha I'm a
teacher for free code camp the goal of
this tutorial series is to learn the
skills of the senior software developer
in this tutorial we're gonna chat with a
senior developer we'll walk through a
specific challenge that he faced and get
into the nitty-gritty of how he thought
about it what was his thought process
and then we're gonna do something new
that I haven't done before we're gonna
walk through some code that he wrote one
caveat it did get a little complicated
don't worry about understanding every
single line of code that he wrote
instead pay attention to what comes
afterwards the key takeaway or the
insight that you can then apply to your
own code finally there will be a call to
action where I'll explain how you can
build something for your portfolio that
demonstrates the skills you see in this
video today we're here with Mike to
Ritson who previously worked at Google
and within Google he worked on the
search engine itself which you can
imagine Google might be pretty
protective of that code more recently he
co-founded a company called workflowy
which is a way of organizing your
thoughts plans to-do lists and it's
pretty cool last time I asked to add
around 1 million users I myself use it
for a few things and this is me
good sub so today mike is gonna talk
about a specific skill that he believes
separates senior developers from junior
developers and that is the skill of
knowing how to organize your code so
that could mean for example organizing
it so that it's flexible to change in
case the requirements of your project
change and it could mean a lot of other
things too and let's hear how Mike
thinks about it you said flexible agenda
that's a good point and I guess flexible
to change partly means understandable by
other people or understandable by
yourself three months from now because I
mean I would say that that is a big
thing I've noticed
less experienced programmers is is the
tendency to write code in kind of an ad
hoc way where it makes sense like in a
particular frame of mind at a particular
time but then even for that developer
three months later I've seen people have
a lot of trouble making changes to their
own code because it wasn't it wasn't
kind of structured in a way which I like
maybe each function made sense but at a
more high level there wasn't some sort
of overarching thought process regarding
the structure and the of the code and
the data structures used and such so it
doesn't it doesn't have kind of like a
logical simplicity to it and it's hard
for anyone else to make changes to or
even the same person who wrote it later
down the road
okay great so Mike I'm hearing that you
have a particular passion for this skill
writing well design code that's flexible
to change yeah I'm working if we could
drill into that a little bit more and
I'm wondering if there's a specific
example from your history maybe a
challenging situation that you dealt
with that could maybe demonstrate how
you approached this but this issue of of
how to design your code well sure so I
mean we can talk about this VR side
project that I've been having which is
like pretty early stages and doesn't do
a whole lot yet but I definitely had to
think a lot about it I'll just kind of
describe the general idea that so I'm
partly to kind of like get started on
doing this development I'm not sure how
serious and that's project in terms of
like making it to a real professional
thing but the thing I'm starting out
with is a VR music visualizer so I don't
know if everyone is familiar with music
visualizer but like you can see them and
like iTunes and this older program
winamp where you know you can play your
mp3s or whatever kind of audio you have
and you'll see often kind of trippy
psychedelic visuals that are you know
will move around in response to like
what's going on and music so you know I
thought this would be a cool thing to
experiment with VR where you are kind of
inside the visualization instead of just
looking at it on your screen sure no
this has been a project which I keep it
keeps ending up being more complicated
than I originally thought it's going to
be which i think is pretty typical of
software projects I think it's
especially typical of projects when
you're going into a new area you have
that much experience with
maybe it would be helpful just to know
at a high level water
even the how do you even approach
something like this what's like no
overall its ratted to you for building
it right so I think I like to design
things in a top-down way at the
beginning so I think you know first of
all what am I trying to do here I'm
trying to make computer graphics do
stuff in response to music so I mean
that suggests I would say three
components at the very least those three
components being one capturing the music
and and I guess I would say that I
wanted to be able to capture the music
the operating system is playing as
opposed to making like an mp3 player
within my software and partly because I
want to do a void having to write that
code and partly to allow people to like
play Spotify or whatever and you and use
that audio so so that suggests step one
capture the audio step two process the
audio for information that can be used
to drive a visualization because without
any processing all you have is this time
ordered list of audio samples which are
just numbers and all you really know
from that is like what the average
amplitude of the sound is in a
particular time you don't really have
any more interesting information about
it no so you need to process the audio
and then the third step would be
generated graphics based on the process
audio okay so those are sort of like the
bare minimum possible things I knew I
was gonna have to do those three things
but then then then I but then that
doesn't necessarily suggest how the code
is organized and so forth so what I
decided to do was I basically have one
component the captures the music and and
that component is evilest plus class
that it that class and cap slates a lot
of platform-specific code and by that I
mean Windows operating system code
because this is running on Windows so
that that's one thing I generally try to
do is if I'm writing platform-specific
code
I try to isolate it into a small of an
area as possible because one one
alternative would be to be you know like
intermingling that audio capturing code
with the audio processing code the
problem with that being that if if you
wanted to port the application to
another operating system you would have
a much larger chunk of code where you
were making changes as opposed to just
swapping out the windows audio capturing
class with the Mac audio captioning
plastic basically to have all of that
code and nothing else in a single module
with a generic interface that didn't
assume that it was for Windows right and
and so that was one decision I made was
to decouple the audio capturing from the
audio processing code
oK we've thrown around a bunch of
concepts here platform-specific code
encapsulation generic interfaces
decoupling what do all these things need
let's take a look at a quick example so
here I have this function extract audio
that's going to read in the audio data
in a JSON file here and it's just gonna
print out that data notice here that the
C colon in the file path means that it
only works on Windows this is an example
of platform-specific code if I were to
run this on my Mac it wouldn't work to
make this code more portable to other
platforms we'll put all the
platform-specific code inside of a
separate module here we have a module
windows code notice that the file path
is now stored in a variable called audio
location now I'll import the module and
call it platform specific code and I'll
refer to its audio location variable in
this way the extract audio function no
longer needs to know the exact file path
that detail is hidden away inside the
module behind this generic variable name
called audio location this process of
hiding details about your data inside of
a module is called encapsulation now how
do we make this code run on a Mac we can
create a new mac code module and paste
in a different file name that's valid on
Macs then back in our extract audio
function we can simply swap in the Mac
module for the Windows module and this
will just work because the variable name
is the same in both the windows code and
the math code is both it's called audio
location in both cases that's it this is
what Mike meant by a generic interface
notice that we had to change very little
code when switching between Mac and
Windows this that means we can say that
the extract audio function and the
platform and specific code or
okay so you just saw me walk through a
very simple example
next we'll start getting into the code
that Mike wrote and we'll start with a
high-level overview of how he organized
this code you one second here I want to
find a way to draw that somehow do you
have any recommendations I mean you
could just have two circles how do you
capture process or something I don't
know okay
audio capture and the cat I'm gonna
capture is like sending information to
the processors with an arrow okay well I
like that and then processing and then
you were saying that that the
platform-specific stuff was mainly here
in the audio capture land right yeah
what's it's in terms of audio it's all
there no there's no platform-specific
code in the processing section right and
that's that's to make it so in the
future if I want to port this which I
may very well want to do
I can literally swap in a new audio
capture class versus if they were which
which will duplicate virtually zero code
with the old audio capture class whereas
if I if I had them combined then I would
be to either duplicating code or be
doing a bunch of things would get ugly
basically if I didn't decoupled them and
wanted to extend to another platform so
I think that's just a general principle
I would say is if if you're doing
platform-specific code try to have it in
as small of a as small of an area as
possible and with no non
platform-specific code so we're about to
walk through the code that Mike wrote
for this project one morning about this
it's written in C++ it's complicated it
might be hard to follow I don't expect
anyone to be able to follow along with
all the details here the most important
thing look for the key takeaway at the
end of this walkthrough where I'll
explain what are the main principles
here that you
apply to code that you write whether
it's two blood spots of JavaScript or
any other language okay so I'm gonna I'm
gonna briefly show the classes that I
was discussing earlier so we have the
first one which is the audio capturing
class and this so right now it has a
very simple interface so it has down
here at the bottom it has a bunch of
really because one unfortunate thing
about C++ is you have to define in your
header file all the member variables of
the class so so I mean they're privates
and nothing else to actually access them
but it does create these kind of massive
stuff anyway on the bottom we have in
desirable window specific stuff but on
the top in the public section we can see
there's this constructor which is it
basically takes no arguments you can
take one argument to write the captured
audio to an output file and then it has
two methods and one to get the sampling
rate of the audio like you know CD
quality audio would be forty four point
one kilohertz and then this callback or
this function process new frames so a
frame is a collection of audio samples
captured from the operating system and
then that takes a callback and then I if
I remember correctly I think I used a
callback to avoid having to do
unnecessary data copying basically it's
kind of like a optimization e-type thing
but it's done in a way where doesn't
really add much additional complexity so
basically you call process new frames to
get the most recent audio cut that the
operating system is outputting and you
give it a callback which takes a pointer
to the the audio samples and how many of
them there are so you can see that I'll
just briefly look at the implementation
of that just to show how incredibly
long-winded and ugly it is so we have
like co-create instance UUID all this I
mean basically there's just like pages
like and it's kind of crazy how much
code needs to be involved just to
capture audio anyway that is why that's
in its own class as to all that stuff is
not elsewhere so then we have so I think
well briefly there's I separated I have
the application which the way I view the
application is it's it's the thing which
is actually visualizing music it's not
it's not capturing the audio it's not
processing the audio it's not like
setting up the windows the window it's
not like talking to the VR device it's
just like generating a scene and then
rendering it so application class in
relation to the two decoupled modules we
talked about earlier there's a capture
and the processor work word is
application fit into this okay so the
application so if I remember correctly
the application is instantiating the
processor so the application actually
owns the the application owns an audio
processor object which is defined right
here and but but the so I have another
section of code which is the platform
specific non application code which is
the code which is like you know like
capturing keyboard input and on Windows
and like opening up the window on
Windows settings like initializing the
VR headset son and also initializing the
auto capturing code so basically the the
application is getting sense audio
frames from the audio capture using this
method I'm highlighting and then it's
passing those on to the up closer to the
audio processor which get instantiates I
could I could have had the audio
processor be something which is earned
outside of the application module but I
decided that I think I basically decided
that all I was going to have the
application on all not non
platform-specific code alright so I want
to emphasize an important principle that
came up in how Mike organized his code
he paid special attention to
dependencies in his code so first of all
what is a dependency a dependency occurs
when one piece of your software relies
on another piece now in Mike's music
visualizer the music visualization logic
depends on audio captured from the
operating system so the app depends on
the operating system now my mic was
concerned about the dis dependency and
here's the cue that he noticed that let
him know that hey there's something
dangerous about this there are two
factors one how is how likely is the
dependency to change significantly in
the future and two how many parts of the
code touch this dependency if both of
these numbers are high this can create
problems because then you may find
yourself having to rewrite many parts of
your codebase over time so in Mike's
music visualizer the operating system
could change in a very big way let's say
he moved from a Windows platform
to a Mac well Mac could have a very
different way of capturing audio so it
could change in a pretty big way this
number was high
now what about number two how many parts
of the code touch this dependency well
it turns out that the music visualizer
needs to interact with the operating
system in a few different ways and it
required a lot of ugly code as Mike put
it so this number is high - okay so this
was concerning to Mike because if the
operating system ever changed well he
would need to rewrite a bunch of code
maybe every part of his music visualizer
logic that interacted with the operating
system so he designed his code in such a
way to make it flexible to changing the
operating system now the solution for
this situation that he came up with was
well since this number is high let's try
to reduce this number and reduce the
number basically reduce a number of
parts of his code that interacted with
the dependency and he did this by
introducing an audio capture class now
all of the
operating-system interactions are now
handled in here you could say he took
all of the operating system logic and
isolated them in one place
meanwhile the music visualization code
only interacts with the audio capture
class with this one function process new
frames this process is called decoupling
or you can say that these two things the
music visualizer logic and the operating
system dependency are now loosely
coupled the advantage of this is this
allows Mike to swap in a totally
different operating system in the future
and none of this music visualization
code which is the core business logic of
this app would have to change okay
I want to address some of the nuances
around this topic of dependencies you
saw one example here how the dependency
was concerning to Mike and so he put
that dependency in a small part of the
codebase and minimized how often other
parts of the code touched it that's
definitely a pattern that you can learn
from and apply to your own code but I
want to emphasize the dependencies are
not always bad remember the key Q here
was the dependency changed a lot and
many parts of the codebase touch the
dependency there are other situations
like the dependency might not change in
life or it could be somewhere in between
and there's there's a lot of nuances
here and so in fact these nuances were
covered in the original case study I did
with Mike but it was just too much
information to put in one video so I'll
release another video covering some of
the nuances from the original interview
I did with Mike
okay you've seen Mike demonstrate the
skill of how he organizes his code and
I've shown you a key takeaway that you
can start applying in your own code that
you're right now I want to make sure
that you do actually write some code
that demonstrates the skill I want you
all to have a solid portfolio project
that you can showcase at your next job
interview in front of your future
employer where you can explain the
nuances of why you organize the code the
way that you did one powerful way to
build your portfolio is to contribute to
an open-source project now free code
camp happens to be the most starred
project on github it's a respected
open-source project and I put together a
guide which will help you get up to
speed on the codebase and start
contributing you can go over to
apprentice comm slash free code camp to
get that for free look down in the
description below the video for a link
to that and as an extra bonus if you go
through the guide I'll personally help
you find a feature that you can build
for free code camp and I'll help you get
started I'll even give you some pointers
on how to think about organizing your
code for the feature that you build all
right now I have another call to action
specifically for folks who are from
minority groups that are
underrepresented in tech like racial
minorities and women this goes back to
the reason that I teach people to code
and the reason that I make these videos
I personally enjoy a lot of mentorship
growing up and I believe this is the
main reason I was able to even have a
career as a software developer I believe
that if everyone enjoyed as much
mentorship as I did then everyone could
also find their dream tech job just like
I did I believe there's so much that I
bet my future on this I left my job as a
software developer two years ago to help
develop a system of mentorship that
won't cost you anything to enter in fact
you can even get paid as you as you're
going through the program you can find
out more about this at Apprentice comm
slash free cooking all right thanks
everyone for watching stay tuned for
more videos if you have feedback on what
you liked about these videos or what I
can do to make them better please leave
comments down below or reach me at each
table
Penza calm i got some great feedback
from a few of you last time so please
keep doing that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>