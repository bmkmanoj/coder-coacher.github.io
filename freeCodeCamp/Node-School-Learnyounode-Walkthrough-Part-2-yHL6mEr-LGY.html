<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node School Learnyounode Walkthrough Part 2 | Coder Coacher - Coaching Coders</title><meta content="Node School Learnyounode Walkthrough Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node School Learnyounode Walkthrough Part 2</b></h2><h5 class="post__date">2015-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yHL6mEr-LGY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right folks I am back sorry about
that
alright so let's see we just finished
filter LS right yep yep sure did so
let's go down to make it modular I have
a lot of questions that that I guess
specifically about this problem in going
on well so if you read the directions it
says it's pretty much the same as the
last one but it introduces the concept
modules so you're gonna need to create
two files to solve this arm create a
program that prints a list of files in a
given directory filtered by the
extension of the files and it's going
it's going to so it's got some rules the
module file has to do most of the work
your module must export a single
function that takes three arguments the
director name the file name extension
string and a callback function in that
order the file name extension argument
must be passed must be the same as what
was passed to your program don't turn it
into a reg ex regular expression or
professor with a dot or do anything
except pass it to your module the
callback function must be called these
in the idiomatic node air data
convention right and you must not print
directly from to the console from your
module file only from the original
program in the case of air bubbling of
the original program file simply check
for it and print information to the
council ok so the four things are the
contract that your module must file
export a function that takes the secular
three arguments call the kulluk directly
exactly once with an error or some data
as described don't change anything else
like global variables are standard out
handle honors that may occur and pass
them to the callback ok
perfect so it's it's sounds like a lot
it's not so let's make directory and
we'll just call this modular LS alright
so let's go into here and let's touch
entry Jas and arm module okay so we have
our two files in here let's open it
split the pain into two columns and in
this column let's of the module over
here so we have them both all right now
I don't like to reinvent the wheel so
let's open filter LS real quick and
let's just copy all this and we'll paste
it over here okay and we can clear
filter LS there so
let's uh let's think about our module
right so it said we have to export a
function that took exactly three
arguments the directory named the
expansion name and our callback so let's
do that so come over here and I'm just
going to say module by exports as a
function it takes a turning extension
and call back okay let's put that all
under here so if air let's book our call
back with air otherwise I'm going to
so I'll get rid of this because this is
console information here so we have
doubted up filter so let's sign this new
returned array into you itself and then
we'll just call back with null and data
okay so let's think about what we need
over here we need a callback function so
and it's going to handle the errand
adage just like it said and if air
return console got error air ok
otherwise it's just going to do data it
up for each
console.log they on it right
and let's uh oh so I'm a threat to
import my module so let's import their
fair we'll just call it worker equals
require and will just require our module
okay and so let's just do worker and
process duck are to be to process our 33
and our callback
ok
so let's run entry jas see if it worked
okay we're getting we're getting some
stuff out all right so and then we'll
verify Oh failed does not appear to pass
an error back
from FS reader
well it certainly does
okay okay all right so it says it's not
handling an error but we are I flailing
an error here so we will call back there
at null data come back in we check for
error if we have an error console dot
error the error that was the console log
from FS read error oh maybe I should
change this to your name and then
extension aim
okay maybe I don't like that
no certainly not
traditional module file hmm let's take a
look at this
so that want me to
Oh
I should actually probably return here
maybe
there we go all right I just forgot to
return so if you don't return you're
going to have to provide an else no so
what will happen in and butter if i were
to delete this we're in the same problem
that I had here because i'm not using
else in like I see this a lot perhaps
perhaps as bad practice I don't know but
so you should always check for your
first and if you have an error condition
then you just bail out like the reason
why you check for an error first or like
check check for an error first check for
nothing there first like check for the
the thing that's the smallest thing
where you have to do the least amount of
work first because a lot of times like
if you write a function that's going to
expect data in a certain way or it's
going to expect an array to have you
know elements in it versus being an
empty array so you should always check
for an error first check check you know
to make sure that your array has
contents first that your object like has
keys on it you know stuff like that and
if it doesn't then you bail right away
like fail early it is the way I heard it
described so you essentially want to
fail early and what we're doing is we're
saying when we the the return key word
that ends the execution of that function
like nothing below the return line will
get executed if this is true so if
there's an error it returns console
error it doesn't even look down in here
same over here if there's an error it
returns to call back error and it
doesn't even go here the reason I'm not
returning here is because there's an
implicit return so we're just invoking
the call back and then
and actually would return undefined I
think you know of Kyle Simpson or air
like Eric Elliot's watching beat they
could tell me when I'm stupid if that's
not the case but I'm pretty sure that's
what happens is so there's some
programming languages that would turn
the state there the last calculation
that you did Java scripts not one of
those if you don't explicitly return
something javascript just returns on to
find out of your function so um but
we're just invoking our callback and
it's being done it's over
um ok so that was make it modular
no problem any other questions from chat
I don't know how many people are
watching all I see it's the chat like
call out
while I move on okay and let's take a
look at HTTP client all right so I just
be quiet says that we need to write a
program performs an HTTP GET request to
a URL provided to you as verse command
line argument right the string contents
of each data event from the response to
a new line on the console and then the
hints that tells you to look at the HTTP
core module and then a spigot is a
method and unlike other callback
functions this one has a signature it
just gets a response and their response
is a no to stream so streams are are
pretty interesting so there they they
cut yeah they emit events for files and
buffers essentially i think is well
let's take a look
I wish it were quit opening in the chat
window so stable and let's find get net
yeah HTTP yet
Perez this
ok gives the options more options
all right well that's uh what
information we have on it so let's
navigate up a directory and we'll call
this H to get okay compare needs to pick
it no just do this good not close ok so
it said that so we know that we have to
use the HP module then and I've gone
through the documentation so
so again we're invoking it with this
response okay so let's response set
encoding to utf-8
ok
and let's just console dot error here
and then we'll console log data
yeah it's missing met okay
what are they of linting like real-time
linting
probably runs as a as a wee spoiler
there I don't see that immediately
available yes sorry tangent squirrel
oops should I ran that oh and I have
been going for 50 minutes because i took
that ten-minute break so stable is for
an hour okay there if i get that is and
we patched awesome so so what i did here
is I did HTTP GET request based on and
then I gave it its callback which is a
string and then i set the encoding utf-8
which just you know makes it like is
essentially calling t string on it i
guess and then if i get an error in the
stream then I just console error the air
otherwise on data I just console.log the
data out of the stream
um now definitely like keep this
information in the back your head like
honestly I'm written any like get
requests that just use nodes HTTP GET I
with you use a module that provides some
additional functionality but the idea of
events and emitting events and
responding to them like on air on data
because if you make your own event
emitter you can omit events that have
whatever title you want them to have and
then you can set up specific actions to
respond based on that arm and you might
use that in sockets or you might use
that if you're doing rhaggy flux so I
mean it's it's good to get an idea of
events now but yeah so this is it right
here any questions and hello gorilla 076
all right I am being told that the gun
stuff well so
awesome alright let's let's do one more
and then I'm going to stop and restart
the stream and I'm going to pivot off
laarni Ned and the official hour of
stream arm and we'll see if one of you
wants to get on and play around maybe
with some rat or whatever doesn't matter
me so let's find out what the next
challenges and then we'll go from there
so HTTP collect let's see what this
wants us to do so we can close our
javascript file and it says right
program from San HTTP GET request to
y'all provided to you as the first
command line argument collect all the
data from the server not just first out
of it and then right to lunch to the
console the first line you write should
just be an integer representing the
number of characters and the second line
should contain the complete string of
characters sent but server so there are
two precious you take this problem
collect data across the pole blah blah
blah BL which is like buffer list I
think is what it's short for you know a
string pipe to them directly piping is
interest is something you guys should
know so definitely checking the
documentation more um let's see
I'm going to go with comcast stream so
let's uh let's open let's copy this and
paste here let's read about it writable
stream that can catenate strings of
binary data and calls callback with the
result examples buffers so file system
okay can cut is the comcast stream so
the restream is file system great
restream from cat pee okay so we won't
be needing file system will just be
using HTTP and instead of a stream from
a file will be getting a stream on a
response from the nation's we get
requests so can cut picture so it's got
picture is a just function that handles
the buffer alright so it buffers it for
us and puts it in here um then we check
on the air and we handle our error okay
super awesome and then below that then
we pipe into comcast stream so then caca
stream can cats into the buffer that
calls our function here looks legit
let's spread it out
so just call this click and it's going
to it and we'll just clarify will
collect jass it does it does in fact
exist so open a file up so let's do HP
equals require and concat it goes
require count that stream
and before I forget scout the directory
npm install concat stream and run so
we'll save it so we have concat stream
now available alright so
alright
ok
spawns so single air
and
hate it when it does it
ah and then let's just response that
pipe and to you know yeah it let's
define our function
and then we're just console log buffer
got length and then console log buffer
to string so I have to use to string
here because I couldn't sit actually i
could probably set response to utf-8 so
yeah why don't we do that this response
dot something gooding utf-8 see if that
breaks it
then we should need this anymore so we
have that much just type our response
into concat buffer okay
from this collect ass Oh sponsor on
error Oh restaurants is not defined I'm
going to have to talk to the tc39
community or the node maintainer see if
they'll go ahead and add that into
library for me all right yeah I guess it
would just be the nut maintainer
alright and saw it passed and we can see
that mine is definitely divergent from
the official solution for HTTP collect
Ruthie awesome yeah so what I did here
guys just to recap I required the HTTP
module and then I require the concat
module or they can catch stream module
that I went out and installed off and PM
was included in that I issued and they
get requests based on the argument that
was proud to me and then I gave it the
response string to the callback function
i set the encoding of the response trim
to utf-8 i checked to make sure there
wasn't an errand runner a smut stream if
there's an error then I just bail
cosplayer down here I created just my
function to pass in where concat buffer
is a function of this that takes the
function which takes a buffer I guess or
whatever and I logged out the length and
then I logged out just the contents and
that's it so learning owed up to up to
juggle a sink so the first one two three
four five six seven eight nine yeah not
bad so the first date so perhaps next
next stream I will do the next five and
we'll call it done
so thanks for watching if you guys want
to stick around feel free I'll find
someone else dream will play around will
go something up and other than that have
a good night</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>