<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mediator Design Pattern - Beau teaches JavaScript | Coder Coacher - Coaching Coders</title><meta content="Mediator Design Pattern - Beau teaches JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mediator Design Pattern - Beau teaches JavaScript</b></h2><h5 class="post__date">2017-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KOVc5o5kURE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the mediator design pattern is a pattern
that provides a central authority
through which the different components
of an application may communicate if
unit of code has too many direct
relationships between components it may
be time to have a central point of
control that components can communicate
through this diagram shows what the
mediator design pattern is like though
you have one mediator up here and then
you have these other components called
colleagues that communicate through the
mediator and then the mediator
communicates back to the other
colleagues an analogy would be an
airport traffic control system so a
tower this would be the mediator right
here handles what planes can take off in
land because all communications are done
from the planes to the control tower
so flight 77 communicates to air traffic
control that they're ready to land and
so the air traffic control tells flight
112 that they have to wait a little bit
before they land the planes are not
communicating between each other they're
all communicating to the control tower
and then the control tower communicates
back to the planes so the centralized
controller is mediating all the
communication this design pattern can be
implemented in different ways but here
is a simple example in this example we
have participants that are joining a
chat session by registering with a
chatroom which is the mediator so the
mediator in this example is the chat
room right here and the mediator is
going to define an interface for
communicating with colleague objects
it's going to maintain references to the
colleague objects and it's going to
manage central control over the
operations now in this example that the
colleagues are going to be the
participants write it right up here and
these are going to be mediated by the
mediator and each instance is going to
maintain a reference to the mediator so
in this example the participant is going
to have a name and then it's going to
have the reference to the mediator which
is the chatroom it starts off with it
with null and there's two functions that
the participants can do they can send
where they're going to send a message to
people in the chatroom so it's going to
pass it you're going to pass them
message and who you're sending the
message to and when you call this
message it's actually going to call the
mediator this dot chatroom dots in so
the chatroom is defined up here and
we're going to do the sin method from
the chatroom and send over the message
this which is the reference to the
participant sending a message and to who
we're sending the message to and then to
receive a message we're just going to
have the message and from and we're just
going to consult out log the message
so let's look through the chat room now
so we're going to maintain a list of
participants here which is just an empty
object right now and then you can
register with the chatroom by passing in
the participant and so we're going to
add to this participants object the the
name and set to the participant and here
we're going to set the chatroom to this
so up here in the participant the
chatroom is not going to set to the
current chatroom and remember the
participant calls the chatroom that sin
function here so it's defined here where
we pass in a message who it's from and
who it's to if it's to of someone in
particular it's just going to be a
single message what we call to receive
remember to is the participant receiving
a message and we're going to call the
receive function and pass the message in
the from if you do not pass in who the
message is to we're going to broadcast
the message to all the participants in
the chatroom so we're going to run this
for loop that goes through every
participant in the chatroom and you can
see instead of just calling the receive
function on who we're sending it to it's
going to call the receive function on
every participant in the chatroom so
it's get sent to everybody so let's see
how that works
we're going to create five participants
here with five different names and then
we're going to create the chatroom here
and then we're going to register all
those participants with the chatroom so
they've all entered the chatroom
now here what I call Quincy send and
we're going to pass and how is it going
and we're not going to pass in who this
message is going
- so it's just going to go - to
everybody and the next few messages
we're actually going to pass in who is
going to and each of these messages goes
to Quincy so when we run this you'll see
in the console that those just go to one
person so let's run that so you can see
the first few messages
Quincy Singh's sends a message to all
four of the other people how's it going
how's it going how's it going how's it
going and that just happened just
because of this and then the next
message is only gets sent to one person
so you can see the rest of these
messages here are these messages sender
sent directly to Quincy so our chat room
is mediating all of these messages
thanks for watching
my name is beau Carnes don't forget to
subscribe and remember use your code for
good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>