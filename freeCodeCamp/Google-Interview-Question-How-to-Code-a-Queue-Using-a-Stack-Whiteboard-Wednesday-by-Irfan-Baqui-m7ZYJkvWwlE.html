<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Google Interview Question: How to Code a Queue Using a Stack. Whiteboard Wednesday by Irfan Baqui | Coder Coacher - Coaching Coders</title><meta content="Google Interview Question: How to Code a Queue Using a Stack. Whiteboard Wednesday by Irfan Baqui - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Google Interview Question: How to Code a Queue Using a Stack. Whiteboard Wednesday by Irfan Baqui</b></h2><h5 class="post__date">2017-10-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/m7ZYJkvWwlE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to whiteboard Wednesday
I'm in front Bucky and in this series I
solve coding problems on a whiteboard in
a real interview setting and the
problems are chosen by my wife who is
also a software engineer and she acts as
an interviewer as I solve the problems
on the whiteboard you will see how I
interact with her and also how I
approach those problems and this time
she has chosen a Google interview
question so let's see where this okay
so here's this week's question how would
you implement a queue using stacks so
I've actually encountered this problem
before and if you don't mind how to set
it up over here and we'll go through it
yeah sure so let's say in this case
let's say I have an input of random
integers that are coming in and I want
to mimic a queue using two stats right
okay so let's say inputs are just
integer let's say it's an integer stream
which is basically pushing off integers
and output should be a queue with stacks
and let's say the input may actually
even be a stack you know stack and then
the input to the stacks will be the
integers okay so the way I would do this
is I'll have one stack as a non queue
stack
and another stack as a DQ stack okay so
in this case anytime let's say this is
the input stream I for inputs and I'm
inputting 1 2 3 4 5 6 7
let's say in a row no DQ yet to be 1 2 3
4 5 6 &amp;amp; 7 so basically you are just
pushing to the NQ stack I'm just pushing
to the on cusack now the moment there is
a let's say D is for DQ mm-hmm the
moment there is a DQ command then I will
need to reverse this entire thing mm-hmm
so that's when the DQ stack comes in so
basically I will see hey is there
anything in the DQ stack if there is
then you output that that would be the
result of the D but if there isn't then
you pop everything out from here and you
push it into DQ so basically as you pop
these out you'll have 7 6 5 4 3 2 &amp;amp; 1
so you have to pop all of them out so
for each DQ command basically you need
to empty the on Q stack okay so now you
will see that this is like when we're de
queueing this mimics our queue mm-hmm so
using these two stacks you know I can I
would I would go about implementing it
it this way so in this case the on cue
the on queue command will be constant
time okay the DQ command would be
constant time as well in the best case
scenario mm-hmm because we DQ 1 right
now with this D command let's say I have
D again I'll just be popping things out
but that one time when this tag is empty
or yeah this tag is empty and I want to
DQ then that would be linear time okay
so the worst case scenario is still
your time and the space complexity would
be what billion year as well so
basically we have to stick you stack and
if that's empty that's the only time V
and T there any on queue stack yep so
the next time I encounter an NQ it will
just push into an q stack and it doesn't
have to do anything with the houston yes
exactly so the next thing the next time
you encounter let's say seven then you
want to on q8 at this point this is
empty yeah
so then I on q8 there and if I want and
then let's say there's a DQ again mm-hmm
then I DQ'd one and two so these two
don't exist anymore and then the top of
the stack is three so i DQ that let's
say I have one two three four four more
of these DQ's mm-hmm so this whole thing
goes away mm-hmm so now if I have
another DQ then I see oh this is empty
so I need to reverse this entire on cue
stack on to DQ stack again I would like
we did before
okay I see so basically you are
implementing this queue using two stacks
right yep so can you do it with just one
stack just one sec yeah okay let's let's
think let's think about it so if I do it
with just one stack let's say this is
the stack so in this case I won't have
that so if you don't mind I'll just
erase that erase this entire thing but
yeah I'll just keep one stack
it's not a non-key stack anymore so
let's say this is my stack mm-hmm and
I'm on queueing things so I will have
one two three four five six let's say
I'm on queueing the first six now if I
want to DQ something right now
in some way I will need to reverse this
entire thing so if you say that I'm just
implementing it using one stack is it
possible for well I wouldn't really make
sense for me to have an array or
anything else right so basically you're
saying oh the only data structure I have
he's a stack nothing else okay okay
actually we can we can do it so the
purpose of a DQ stack was just to have
the things in memory the integers in
memory right and if you're not using a
data structure you can still have them
in memory somehow so I'm not saying have
them in memory using an array because
that would be in a sense as long as the
program is running like a persistent
memory but if we don't want to use
something like that then we can store it
in memory so basically I can I can say
okay look at 6 is that the last one if
it's not the last one then look at 5
look at 4 look at 3 look at 2 and then
look at 1 1 is the last one so we return
1 mm-hmm
and that's and that's the answer and
throughout that time all of these would
be in memory mm-hmm then goes back again
it says okay we found our answer
push 2 back in 3 back in four back in 5
back and 6 back in I I want
I think looping would be one way to do
it the thing I was thinking was just
recursing through this stack so if you
don't mind let me just lay out the
operations yeah or we can actually I
think it'll go ahead and let me think
about this how will it go and then I'll
lay out the operations as well so let's
say these are the ops if I want to
recurse through the stack and go all the
way down the end condition for me would
be so some way I'll need to I'll need to
take into account the length of the
stack right so one of the properties of
the stack would then be length as well
so I'll say if if so let's say let's say
there's a function right so this is
let's say function DQ and let's say this
is inside of the scope of a bigger a
bigger class or a bigger function that
already has the stack in it so it has
access to the stack so it's a part of Q
it's part of Q yes it's part of the Q
class so in order for me to do this I
will need to recurse so basically even
even before recursing let's say I define
the end condition which is if if stack
dot length is 1 if stack dot length is 1
then return stack
dot pop so in this case if the length is
1 and this return this right now if it's
not 1 then you want to store each one of
these in memory somehow so I will say
let well at pseudocode but basically I
will say I will say value or curve value
let's ax equals stag pop for this
situation mm-hmm so in essence I just
stored this in in memory right so I will
say okay cur value stack pop I know that
there are more values because this
condition didn't meet I'm still going
forward so I said stack pop and then I
say DQ again maybe I could have named
this function better you know DQ I'm not
like D queuing multiple times so just
just so we're both clear let me just
name this vicar's just so we don't
confuse ourselves mm-hmm so I say of
course in once after i recurse I want to
make sure that okay I store this in
memory now I'm recursion see I'm going
all the way down at the end I want to
push it back to the stack right so I'll
say stack push curve value
mm-hmm and of course we won't even go
into this recursion if our first check
says that the stack is empty you know
then we won't then our cue class won't
even call the recurrence function mm-hmm
right so basically assuming that the
stack has at least one value and we
embark on the series of operations then
we will have we will basically you start
with six right we start with six I store
this in memory six then as soon as I
stored in memory
I say recurse so I go into five I store
that in memory for memory three memory
to memory and then as soon as it hits
one now the stack length is one so what
it does is it returns one right so in
this case actually I need to I need to
store this for a curse as well so I'll
say let a result equals recurse mm-hm
and then at the end obviously I need to
return something so I'll say a return
result so what happens is one is
returned right and then for the second
one the recursive alyou that is returned
is one and then it pushes to back again
so two is now in the bottom of the stack
and then returns three then three put is
pushed back against part of the second
returns 4 so on and so forth so it's the
same stack that we are operating on
mm-hmm
so the final result of the stack will be
two three four five and six so this
would give me the result mimicking a
queue using just one stack and obviously
I get this function mm-hmm is dqe right
so can you write the entire queue class
for me yep
yeah so let me let me erase this and
let's say this is a function inside of
the Q class it's called a Q and what it
has is let's say it has a stack now the
implementation of a stack optimally
would be with a linked list but just for
the sake of this let's say I have an
array that mimics a stack so instead of
this let's say I have stack equals and
all right mm-hmm
now I have another function that says
let's say this is yeah there's a
recursive function let's say I have this
dot so it's basically an instance
function this dot on Q would basically
take the value and what it'll do is
it'll just say stack stack dot push
mm-hmm let's say start out push value
right now on the other hand when I have
this dot DQ let's say it takes in of it
doesn't take in anything right so it's
just a command so in this case it'll say
okay I want to DQ something let me make
sure that there is something in the
stack already so this will basically
have the condition if stack dot length
is not equal to zero recurse so it'll
basically call return recurse mm-hmm so
it would basically return the result
like me like we did else else basically
that they're trying to DQ something
that's not even there so depending on
what the business logic is maybe we say
return error you know else throw
exception but basically this would at a
high level and be the Q class looks good
perfect so let's see what you learned
from this interview well sometimes the
interviewer may make the problems more
complex as you going through them that's
okay just make sure you ask a lot of
clarifying questions and that the
problem is clear in your head before you
proceed and then just go ahead and solve
it so I hope you like this video if you
did make sure you like it you subscribe
and also subscribe to my youtube channel
which I have in the description below
where I post a new whiteboard Wednesday
every week take care</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>