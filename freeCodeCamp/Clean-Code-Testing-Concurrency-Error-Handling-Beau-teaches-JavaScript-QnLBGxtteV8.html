<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Clean Code: Testing, Concurrency, &amp; Error Handling - Beau teaches JavaScript | Coder Coacher - Coaching Coders</title><meta content="Clean Code: Testing, Concurrency, &amp; Error Handling - Beau teaches JavaScript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Clean Code: Testing, Concurrency, &amp; Error Handling - Beau teaches JavaScript</b></h2><h5 class="post__date">2017-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QnLBGxtteV8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I will be covering how to
make your code clean in testing
concurrency and error handling it's
always good to strive for 100% test
coverage of your code there are plenty
of good testing frameworks for
JavaScript and the following principle
applies to all of them you should just
use a single concept per test so in this
bad example we're using the the assert
test framework and this test actually is
testing for three different things you
can see we're trying trying out three
different things in regards to the dates
and this make moment.js grade again so
this is the bad way to do it the good
way to do it is to create three
different tests so now we have it
handles 30-day months it handles leap
years it handles non-leap Peters before
remember we just had it handles date
boundaries so you should just use a
single concept protests the next thing I
wanna talk about is concurrency you
should use es6 promises not callbacks
callbacks aren't clean and they cause a
lot of nesting sometimes you need them
but in es6 promises are a built-in
global type so here you can see we use
some callbacks when we're getting the
free code camp Wikipedia page so we get
that page and then we have this callback
and then we have to see if there's an
error then we're going to write the file
and then there's another callback then
we have to check on the error and then
there's a lot of nesting here but if we
just use promises it's going to look
like this so here you can see that that
looks a lot simpler we're still getting
that the page but then we're going to
use the dot then notation the dot then
function to say what what's going to
happen after we get the page which is
we're going to write the file and then
we're going to use the dot then function
again to login files written and then we
can catch all the errors in one place as
opposed to having a bunch of places
where we catch the errors so promises
are cleaner than callbacks however if
you're using es8 I know most people at
this time around es6 but es8 async and
await are even cleaner than promises so
the bad code
this section is actually the same as the
good code in the last section because it
is good to use promises but it's even
better to use async/await if you can so
this is how it looks like with promises
but with async/await it's even simpler
all you need is a function that starts
with the async keyword and then you can
write your logic empirically without a
then chain of functions so we have a
sink and then we can say we're going to
await this and when that Sun we're going
to await that and then you can just
console that log just like we did before
and then catch errors down there this is
all in a try-catch block the last thing
I want to talk about is error handling
but just one main thing to know about
for this which is just to not ignore
caught errors don't ignore caught errors
logging the edge of the console with
console dot log is sometimes not even
much better than doing nothing because
it can get lost in the sea of things
prejudiced to the console a lot of
programs have a lot of things log to the
prop console so it's just console that
log you may not you may miss it also any
time you have a try-catch block you need
to do something with the error because
that means you're you're expecting to
possibly have an error so one thing you
can do instead of console that log is
console dot error console that error is
better than console that log to log
errors because it highlights the error
in red and gives a little extra
information and these other functions
notify user of error and report errors
of service are not built into JavaScript
this is just showing that you can create
functions that do these things and you
probably should treat functions that do
those things if possible and as you can
see above you should always make sure
you handle errors for rejected promises
or the rejected async/await functions
okay that's all for this video this
video is based on Ryan McDermott's
excellent article on clean code and
JavaScript
check the description for the link my
name is Bo Carnes thanks for watching
don't forget to subscribe and remember
use your code for good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>