<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Full Stack Web App using Vue.js &amp; Express.js: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Full Stack Web App using Vue.js &amp; Express.js: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Full Stack Web App using Vue.js &amp; Express.js: Part 4</b></h2><h5 class="post__date">2017-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1NSPAz1Qc-I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everyone I'm Cody and welcome to
part 4 of building a full stack web
application using view Jas and Express
Jas
so if you remember in part 3 we built
this login panel and we built that login
endpoint
in the backend we also brought in view X
to kind of manage some of the shared
state of our application such as a token
or the user or this boolean is user
logged in and we used it to hide and
show different things in this header so
another thing I'm going to do are I
guess what we could start doing now is
let's add a logout button and okay so to
do that we should be familiar by now is
how to add a button to that header so if
I go to the header in my components tab
I could easily just copy and paste that
copypasta and then go ahead and say
display it if the user is mmm is logged
in right so I'll just say log out what
we could do is when the user clicks this
we could just say logout and then down
here under methods we could just go
ahead and add a logout method which is
going to do a couple of things the first
thing is going to do is dispatch so I do
this not stored dispatch it's going to
set the token equal to null and then we
also want to set the user equal to null
and because we're calling set token all
remember in our store it should set is
user logged in to false not sure if this
is the best way to do it but hey it
works for now and then finally I think
we could probably go here and just do it
to do redirect to home page or something
in fact I'll just I'll just do that now
right so I'll do rat it up push and then
I'll say go to my route
so go ahead and save that header file
and if I go back here I have a logout
button if I click it it logged me out
you saw that it did set token and I also
did a site user and now in our final
state of our app we have token as in all
users and all and is logged in is also
equal to false and then of course
appeared login and sign up or displayed
now because we are logged out all right
so go ahead and log back in so I think
the next step is we gonna actually start
working on that whole browse button that
I added earlier in part 3 so if I go
back to the header I had this to do
implement me comment I'll go ahead an
uncommon that stuff and what we want to
do actually let me go over here there's
quite um copy this button you know it's
buttons got some good styles so go here
and say if the user is actually I don't
need to do an if just always display the
browse because you want users to be able
to access your tabs regardless so if
they're logged in or logged out so what
we can do here is we'll say when you
click on this browse button it's gonna
take you to the songs route so then of
course we don't have a songs route so if
I were to go back to my router and I add
a songs into my routes array and then
here I'll just go ahead and add a songs
component which again we do not have yet
so I'll go ahead and say songs dot view
and I should probably find some type of
like generator that makes these blank
files for me I guarantee you vs code has
it but I just haven't really taken the
time to look at it so anyway that's
gonna be our bare-bones file
in fact I'll just do blanked out view
here just put a blank template there so
I can use that in the future alright so
we have a link called browse and when we
click it it takes us to that songs URL
and the first thing that we want to do
is we want to have a panel which
displays all of the songs so starting
off we could have a panel called
let me just clean this up a little bit
go to the register page I'm gonna grab
all of this
all that goodies and go ahead and just
paste it right there so now we have a
blank register tab which we don't really
care about so I'm going to say songs and
in here we can just go ahead and clear
that out alright so we have a blank
panel which we can put all of our songs
or you know song renders here and so one
thing you might notice now is that we
have all these different pages which
have this like this panel and I'm
copying pasting code throughout a
majority of my application right so if
you notice that you have the same
component which is being shared
throughout your application by just
sharing code what you can do is create a
new component so I'll say panel dot view
and then inside this panel now go into
blank put in the panel cool beans
we actually want to just go ahead and
create that same type of panel structure
so if we go back to the register and
find the div or we declare that panel so
I think is starting here boom alright so
we have a panel now and we want to make
this a very generic component so it's a
panel that you can change the title as
needed so I'm going to change that to
curly brace curly brace
which is a binding a one-way binding in
view so basically if title is defined in
my data so down here remember we have
data or if it's defined in your props
which we'll cover in a second so here I
could say title is equal to hello world
so if title is defining your data which
it is on line 40 it's going to render
whatever the value is right there and
then something else we want to do is
just go ahead and add a slot here and I
will show you what a slot does in one
second so I'll go ahead and remove all
this extra jazz that we don't need and
go ahead and save this file so again
this should make sense we just made a
new view component called panel and it's
just gonna display that white panel with
the top sign in toolbar and then it has
the content here with some padding and
then a slot so if I were to go back to
let's say that songs page I can go ahead
and import that so I'll say import panel
from component slash panel make sure to
capitalize that that's right and then
here I can say I want to be able to
access that components so I'll say I
want to be able to access the panel and
then here
remember that same code that was copy
and pasted throughout those three
different pages we could just say panel
I can close that off and now if I were
to save this file we get hello world no
slot content defined all right so that's
that should make sense we're just making
a sub component and just playing it
inside another component and we're
including it here on line 13 to be able
to access it online form there's a
little bit of magic behind how this
panel gets named basically if your panel
is named like my awesome panel this is
going to be converted
to my awesome panel just like that so
it's a little bit of magic going home
going on behind the scenes that you kind
of have to know going off of what I was
going to talk about for slot basically
if inside a parent component you want to
pass down something so let's say here I
want to pass down something special like
an h3 yo yo yo and then maybe like a
paragraph tag and this is the one thing
I sometimes hate about autocomplete
maybe I just don't know how to use it
correctly huh all right so now when I
saved this you see yo yo yo hello there
I'm a paragraph tag we inspect this
element you can see oh wow we have an h3
and a P that was kind of passed down
into that panel slot so if you remember
here we have a slot and basically what
this is going to do is we're gonna take
when you do this when you declare some
type of content inside panel you're
basically just copying and pasting it
over there so whenever this panel sub
component renders it just takes
whatever's declared inside panel and
puts it directly into wherever you had
that panel or wherever you had that slot
defined and you can also name slots so I
think you can do like name equals like
hello and then I could say like slot
name musical - hello and this time if
this doesn't work I'm gonna go ahead and
look up the docs
all right so this is gonna be putting
the slot hello and then if I do by 5 5 5
a little bit of extra place know anyone
okay so if I go here and do where's that
in sync I don't know I mean I listen to
electronica so now if I add a by name
slot I think this should you know what I
don't know what I'm doing so let me look
up the docs
so you guys can watch me struggle with
this just as well so you can do named
slots down here inside you can do slot
name equals whatever and inside the
parent easy to the slot equals to name
okay so I had this right in these songs
or none of the songs and the panel down
here I had these two slots with
different names hello and bye and then
if I were to do I already forgot what I
was looking at if I do slot equals by
instead of what I have there and go back
I think I actually need to like change
this to give there we go okay so again I
haven't really messed too much around
with slots or named slots but it's just
good to know that you can name the slots
and kind of insert HTML from a parent
component down into a sub component like
whichever way you like but since we've
kind of already covered what slots are
we can just go ahead and get rid of all
that since you should understand her at
least kind of understand what I was
trying to achieve there so again go
ahead change that up now we want to make
this sub component panel a little bit
more modular so something useful is we
want to be able to pass in a title so
let's say if we want to pass in
something called songs instead of having
data title defined here instead we can
have props defined and just define title
like that and we can actually get rid of
data because we're not even using data
in that case so now if I go back we see
that probably didn't save something one
second
there we go yeah sometimes the hot
reload doesn't reload and you have the
hoe do a hard refresh probably have to
look into that but now we can easily
just pass in whatever you want inside of
an attribute so you saw live edit hello
and it got passed down to my mice panel
and that's because we're saying this
panel has the ability to be passed in a
title prop and then we're using that
title prop here so very cool very cool
if we wanted to let's say go back and
refactor so let's go ahead and just go
back to those other pages like register
go ahead and import panel now it's kind
of a pain that you have to declare an
import in every single one and I'm
pretty sure you can do a global include
in view but honestly I think it makes
more sense than not even use Global's
because then when you try to copy and
paste stuff from one app to the other
you're not really sure what the heck
like why did it fail it's like oh
because you have like 15 Global's that's
trying to access of course it's going to
fail but if you just have it like
explicit that this requires a panel
component and that's it it makes it much
easier to understand like how everything
is working so for the register and login
pages we went ahead and included the
panel and up here I could just say panel
titles equal to register and I'm gonna
go ahead and just get rid of all that
stuff I think goes just like that
template layout Flex panel typically
I'll flex panel
I don't think I need that all right
let's see if the register page is
working so I go to sign up and a hard
refresh just in case and yep it's still
working so that's awesome and then I go
to the login page again we can just say
a panel is gonna be called login and get
rid of all that extra fluff and then get
rid of that and say that could be a
panel and unand into all that stuff so
now we've got a login page
card refresh just in case it's also
working just as fine as the other panel
instance cool so again should all make
sense recap I made a panel sub component
which takes a title as a prop and you
can pass that in and now in my register
login in songs page we simple simply
just call panel pass it whatever title
we want and it will Rindell render that
panel for us all right so now at this
point we have this song's panel and we
want to display a list of songs right
our tabs in this case we're calling song
something if you dive into it's a song
it's a tab but anyway so if we go to
this songs panel we can first assume
that we have an array or collection
that's going to be returned from the
back end and we need to loop over it and
render it X amount of times right so in
view j/s you can do AV for like this
so basically this is a for loop so I can
say for song and songs we want to go
ahead and render something so if I were
to go to make a data thing and return
songs as an array actually you'll see um
float on - Mouse album good news for
people who hate love bad news I think
that's the album I don't know so first I
need to wrap that in object
oh I think I'm just forgetting to bind a
key
nice okay so the issue there is any time
you do a v4 and in the error like if I
go back to the air it was actually
telling me exactly what was wrong I just
wasn't reading it so it says the
elements in iteration II or iteration
expect to have a V bind : key directive
so what that means is we need to pass it
a key directive saying okay the title
will be the unique identifier for the
song so now if we were to go back to
here we see that it's printing out float
on Modest Mouse good news for people who
love bad news and if I were to add just
little hyphens in between there we see
that's bring that out and just kind of
show you what the 4v4 is doing if I were
to copy and paste this like a lot and
save it we see that it's rendering let's
see five times and that's because I have
five objects inside this song's array so
at this point it should make sense as to
how and why the v4 is working so it just
loops over the songs array for each one
we have access to that song object or
just telling it to print out the title
the artists the album and then we also
need to pass in a key and that's being
passed down into the slot of the panel
and then rendered here so what we want
to do at this point is we need to
dynamically load songs in from a back
end right so if I were to instead just
set that equal to an empty array you
know let's go ahead and delete all that
actually I think if I set that to null
let's see what happens okay so I'll just
set it to knopf right now but what we
want this component to do is the moment
it's mounted onto the page we want to go
ahead and do a request to the back end
for all the songs so at this point
you remember how to make services so if
we were to copy and paste authentication
service and we can rename it to songs
service J s and in here we could just
say make a index call it's a get request
to slash songs it doesn't require any
credentials or anything so basically we
have a song service which will make a
get request to songs in point and that
should return some amount of songs to us
and you can name this whatever you want
like it could be called get all songs
but if you use like Ruby on Rails I
think index is typically used for just
like slash songs show is used for like
songs of ID so I like to keep it
consistent and you'll see me using the
same like paradigms in the backend most
of the times for like your crud methods
but again you're welcome to name this
whatever you like to make it make more
sense to you when your web app so anyway
we have a service is a song service on
J's file and we can now use that so go
ahead and do import song service from
services song service and then inside
the mounted function we can just say
song service dot index gusu constant or
actually this dot songs is equal to
await song service index and of course
if we're doing a wait we need to make
sure we have a sink here and this is
going to do a get request the moment the
page is mounted or the moment the songs
view component is mounted on the page so
if I save this and go back go to the
network tab and refresh the page with a
hard refresh we see that it makes a get
request here to the songs endpoint of
course you'll get a 404 not found
because we haven't yet implemented a
songs endpoint
so with that being said let's go ahead
and implement the song's endpoint in the
server so I'm gonna go ahead and just
minimize clients go to the server I'm
going to first go to routes again we
need to get a songs in point so I'll do
it after I get meaning listen for a get
request on the songs in point I'm gonna
go ahead and just pretend like we have a
song's controller here and pretend like
it's already defined and we could just
do an index call on it mm-hmm and say
that and at this point we don't have a
song's controller so let's go ahead miss
copy and paste this one name it songs
controller J s and then just pretty much
cut it out
we don't need JSON web tokens when we
config and we don't need any of this
stuff so I'll just remove pretty much
all this stuff and just change this one
to an index keep the try-catch because
it's gonna be useful so we have a song
controller now with an index function
and what do we want to do well first of
all we don't have a song model defined
right so if you wanted to keep track of
all the songs that are in our database
we're gonna have to have a song model so
I'm gonna do the song J is file and
again just copy and paste existing code
and get rid of that Chimayo so I'll just
keep that format in case I need to do
something special don't either worry
about hashing it don't need to worry
about any of that okay so what exactly
would go into a song so maybe think
about it we would have a title
and that's this gonna be a string we're
gonna need an artist we're gonna need a
genre we're gonna need an album we're
gonna do an album image which is just
gonna be a string that points to some
freely hosted I don't like image girl or
something image title our image album
art we're gonna need a YouTube ID
because we want to kind of link or
display an embedded YouTube player for
whatever tab we're trying to learn
you'll be nice to keep track of lyrics
and of course most importantly we need
the tab for the song so this shouldn't
be foreign to you at this point we're
just declaring a new sequel eyes model
called song it just has these attributes
here and they're all gonna be strings
actually this should be text
because typically string and sickle eyes
I think is a 255 of our care
so 285 of character limit hopefully the
images the image URL doesn't bypass that
I'll go ahead and rename it the image
URL then the youtube ID is only like
what eight characters or something so
where should be good lyrics and tabs
could it be a lot of characters which is
why I'm setting them as text so we have
a song's model we have that song's
controller at this point we can go into
our songs controller and say we want to
create the song using constant song is
equal to song dot create wrecked out
body and that's going to call our sequel
eyes object pass at the wreck top body
whatever we pass in it'll create a say
song object and then we can of course
just send that back like so and actually
I am creating the wrong method I'm
actually creating the post so sorry
about that but anyway we're gonna need a
method to create songs so I'm just gonna
go ahead and create a post method here
and then above that I'm gonna create an
index method so again apologize for
jumping around but so assuming we have
an index method here we can actually do
a find and then we can pass it where and
just pass it an empty where clause so
that will return us every single song in
fact I don't even think actually I think
we need to find all here so instead of
just to find all limit of let's say just
give us back ten song because I don't
want the UI to be overloaded with you
know potentially a million songs change
that the songs change that the songs
okay so now we have two endpoints in the
controller we have this index method
which is going to find all the songs in
the database and limit it to ten and
return that back in the payload and of
course if there is an error we can just
say an error has occurred trying to
fetch the songs and then for posting I
can say an error has occurred trying to
create the song alright T and then
lastly I think we need to add a post
method for the songs so if I do a post
request to slash songs that's gonna call
the song's controller dot post method
which is again what we accidentally
created and we also intentionally
created our index method and at this
point I think everything should be okay
knock on wood
what we can do now is let's go ahead and
create a new endpoint to try to test
with
let me rename this to songs and I'm
going to change that to a get request
change it to slash songs save that if we
hit it it should return an empty array
let's see is fulfilled is rejected oh
alright so I haven't actually restarted
my database yet so let me just create
these anyway so Isis a crate song get
all songs I just think it songs and then
for this one it's going to be a post
request to these songs in point and it's
going to be contain all the necessary
data which you see here the facts and
let me just make this a little bit
easier
that's weird you can't do that in visual
Studios huh
good thing I have Adam opened all right
so we need to be able to easily create
new songs here so if I try this I think
this should crash as well because
obviously we don't have that defined
in fact now I'm looking at this why is
this returning a 200 is fulfilled equals
false is reject to equals false so I'm
pretty sure we should be getting this
catch let me just I'm just going to try
something out really quick
well this must be crashing at a earlier
point must not be at this point maybe it
is bear with me just one second
it's always fun looking into why stuff's
working and why stuff isn't working
yeah so I guess if their database table
doesn't actually exist seek allies will
not throw an exception when you do song
duck great oh I know why so this is the
one pain that I'd noticed with these an
async and wait is that for some reason
you forget to put that keyword await bad
things happen because you'd expect that
exception to be caught here and then
thrown down here right but for some
reason it wasn't so now I want to change
it to a weight in air has occurred when
trying to create your song and we're
actually catching that exception here
alright so async/await is also something
that I'm trying to learn I've been using
promises
it says the beginning since I started
working so since es6 is loud a sink and
a weight I'm starting to try to use that
more but I haven't really used it much a
node but yeah just remember do not
forget your a weight if you're trying to
make a promise call like this all right
so now that we're done trying to fix
that bug if I go back to act app j/s and
I say force true remember we can kind of
clear the database using that and save
the file it should have restarted and
dropped all the tables which it did and
I'll go ahead and set that back to false
save it and we get those tables
recreated so now at this point Oh
okay take a breather I was a lot of work
nice nice fun debugging we can now start
posting songs so if I wanted to say
float on artists is modest
genre is alternative rock or something
album blah blah blah and I'm actually
gonna find real album URL so we can
actually start playing around with this
so I'll say mod as a mouse go to images
this one looks good
go to view image copy image address
YouTube ID so now I can go to see Modest
Mouse YouTube oh hey flow it on the
number one just probably just my history
so put that in the YouTube ID
and I'm actually gonna do real data
because it makes it a lot easier to
design and see what your app looks like
with real data but for lyrics and tabs
maybe I should not worry about doing
that because it's gonna be a lot so
anyway if I were to save this and just
send it to the endpoint it's going to
create that song and send it back to us
and now if we were to go to get songs
hit that endpoint it returns us an array
of all those songs so if you remember
now in the UI we were already set up to
fetch from that songs in point so when i
refresh the page it's hitting songs over
here which is going to return us that
one song inside of an array and the
reason it's rendering these is because
we need to update the key so if I were
go back to the client and go to songs
and go to the key what I actually want
to do is probably set it to the ID
that's the unique identifier for the
song so I say ID go back over here
that's why I keep forgetting it's not I
need to do on the response dot data so
it should be that is actually what I'm
looking for there we go all right so
I'll make a mental note to just always
remember to do dot data because that's
how Axios returns us our data cool so
just I'm probably gonna jump around
again to a way to create songs mainly
because that was very painful to do it
in a UI at least we have an endpoint
here that we can just quickly create
songs if needed but it makes it easier
in my opinion to be able to create and
fetch songs from a UI so I think the
next step is let's go ahead and work on
creating a song by having like song such
create end point I said to create that
crate songs view or whatever I can say
I'll just say create songs dot view
create song dot view okay go to my blank
paste that in and then of course go to
our router and we need to put in that
new view so here I can do song / add and
I could say or just say create since you
know
songs - create create song import that
creates a song component that we just
created and go ahead and save that and
make sure we can hit two songs / create
up here and we can so what would be
useful is we need to have the same
amount of input boxes for all those
attributes that we have for our song
model so if I were to go here
and just say data and then return that
array remember we have all those
different attributes let's see if I can
find them really quick go to songs go
here
all right so we have all these same
attributes which are on our songs model
so at this point we need to create an
input field or text field for all of
them so the first thing we can do if
again we're probably gonna wrap it in a
panel just because it looks nicer so I'm
going to say import panel from
components panel and then down here I'll
say components panel which gives us
access to custom panel thing that we
created and I'm going to say panel title
is equal to song metadata inside the
metadata panel we can go ahead and
create a text field for all the metadata
related stuff so if I go to be text
field in fact I much rather just
copy-paste this from like our login
controller so go ahead and copy this go
back to create song and put that in
right there and the label here is going
to be title and it's going to be a type
of guest text I could just the type off
I think
but basically v-model is going to be
text mm-hmm our title so if I save this
go over here we have a title thing
awesome
and we want to do the same for all the
other stuff so we need one for artists
we're gonna need one for genre waiting
alone for album we need one for album to
imageurl so I'll just go ahead and copy
this what is left
lyrics in tab oh and YouTube ID and for
the other ones I'm actually going to be
using a multi-line text field so to
start off let's go ahead and just save
this make sure this seems like it
creates all the necessary metadata
inputs which it does cool go ahead and
just minimize this a little bit so we
can see it all and what I want to do
here is on the left I want to have the
metadata and on the right I want to have
a much larger view of the lyrics in the
tab so what we can do is using that
Holvey layout thing so CB layouts and
then here we go say v-flex and i want to
flex it of a six and just put all that
stuff that was defining the panel inside
that v-flex save that and we see that it
makes it a swigs in fact that's a little
bit too big let's make a four or five
maybe just a four but then underneath
this we can just go ahead and make
another V flex
and that's going to be a with of I think
the opposite of that so 8 9 10 11 12
columns I have two 12 in this beautified
framework and what we want to do now is
for the other ones which would be of
course tab in lyric tab and Dericks we
want to go ahead actually update the
label as well we can add a multi-line
attribute to V text field and that's
going to basically make it multiple
lines so you see here we can do new
lines and stuff like that and you notice
here I completely forgot to put that in
a panel so I'll put the panel here I'll
do title and I'll do a song structure
maybe there's a better name for that but
that's what we're gonna do for right now
save that we're given a panel that says
song structure and I want to give a
little bit of padding or margin to that
so I could say class margin left of for
maybe two we'll see what that looks like
I guess two is okay it's really small
space but that's good enough alright so
we have now two panels and all of these
are going to be updating the song data
down here and we also finally want to
add a button to create so if I were to
go down here and just say V button in
fact I'm not gonna do this off my head
anymore too much to remember to put that
here and I'll say create song and on
click it'll call create we don't have a
crepe method so again let's go down here
and say methods create and then call API
cool
so we have a button called crate song
which will hopefully send all this stuff
to the back end so at this point if you
remember under services we have a song
service has an index call what we want
to do is add that post call and we could
just pass it whatever song data here
make it do a post request to the songs
endpoint and pass the song so here I can
say import the song service from
services a song service go here and say
post and this dot song and at this point
song is not defined so let me just wrap
all that stuff inside something called
song and dent that one and then anywhere
we have v-model
I'm just gonna say song dot and again
wrap this in a try-catch just in case
for whatever reason this airs out right
now we don't really need to display a
message to the user we may want to say
like hey like this stuff has to be
required or defined and we can actually
do that in one second but first of all
let's make sure that this is working as
intended so if I were to go here and say
ABC one two three and just fill in with
some blank data and click create let me
go to network tab first and clear it and
hit create song we see that it does a
request to slash songs with a post we
got back a 200 ok we got a response back
with all the song information
and right now it just kind of stays on
the page which is not that great what
I'd rather do is just redirect us to the
song it created but since we don't have
a way to view the song we just created
let's go ahead and just go back to this
stunt rat or dot push let's go back to
songs so I'll save that do some more
stuff here and now when we click create
song we should go back to our songs page
and look it's creating the songs from
that's create songs endpoint that we've
been using alright so that's pretty cool
maybe we could add a button here to be
able to dive into that create songs
whatever it's called view so to do that
if we go to where are we doing that so
in our songs panel here again what I'm
trying to do here is I just want to add
a Fab button here so it looks like a
plus sign with a circle when I click it
it'll navigate me to that song and I'm
trying to get to
so I think what we can do is I think we
may need an additional slot so if I go
back to panel this is how you do this in
beautify basically you just have a V
button here and also do a V icon and
give it an icon and I'm not sure if the
icons work yet let me just see if
something shows up
yeah I don't think icons work yet
because I haven't even included the
stylesheet for the material design icons
so I think that's a easy change let me
just go to the index.html file really
quick go to head and add that in and
then hopefully that will refresh and
have a plus sign yes okay so another
thing that I forgot to set up as you
just saw let me just
I'm getting overwhelmed there's too many
tabs open so the icon is another view
thing that you can do and just pass in
the name of the icon and there's a bunch
of material icons so if I were to go to
material i/o such icons any of these can
be displayed so if I wanted to change it
to sir check circle because they check
circle save that go back to my page is a
check circle but we want to add so let's
go ahead and keep it at add but
originally we wanted a fab icon right so
in order to achieve that there's a
couple of attributes you need to add to
your button so the first one is of
course add fab so if we say that I think
the button will become around awesome
and then if we do class sian accent two
just to give it some color
let's do green you know green for add I
don't know I'm not a designer but and
I'll do that what I had before probably
looks better all right so really light
cyan Add button we want see we add light
it makes the color ooh yeah I'll keep
light if you don't know if you saw that
but the the font color is darker when
you do light I can say I want it to be a
medium button you could also do
something like large here separate large
it's going to be much larger but I'll
keep it at medium I want it to be
absolute positioning so you see how that
changes to be directly in the center
and that I wanted to be on the right and
I wanted to be in the middle so the
reason why this is over there is because
I do believe this is supposed to be in
the toolbar so if I were to cut this out
and put that in the toolbar instead it
gets added right there and so what I was
going with are going at originally is we
need to have another slot so let's say
slot name is action I guess we just need
my action for now and we want to be able
to let's see if they don't have it
defined we don't want it to do anything
so I'll do this I'm going to cut this
out and we actually want that to be
configurable and passed in from our
panel because we don't want every single
panel to have that action button
necessarily so what we can do is we can
say div slot is equal to action and I'll
paste that code there save that and our
button will show up over here on the top
right in fact I think we could just add
it to this if we want it to and that
might make it go back to where it was
yes
cool so basically by adding slot equal
action we're passing that down to the
panel and rendering it right there in
the correct position that we need and so
what we can also do is I'm going to use
a router link mm-hm
in this instance where I can say if
someone were to click this go ahead and
go to the name song's create I think
that's what we named it
all right so let's see how this looks
if we were to instead make this slot so
position got jacked up a little bit but
hey it's still working as intended good
thing to do when your program is just
messing around with stuff like C see
what happens if you change around stuff
or you can go to the docks and reroute
reread the docks but again since router
link seemed to have messed up the
positioning of that plus sign instead I
am just gonna go here and say add a
click listener and say navigate to and
I'm gonna say name is songs create so
using router link and again if you have
a better way of doing that like if
there's an already a directive where I
can just say like navigate to let me
know maybe I shall read the docs after
this make sure it's called songs create
an inside methods we need to create that
navigate to method I'll say route say
this router dot push route
cool so easily navigating through all of
our pages that's all working we can go
to this page and add our new random song
and it gets added to our songs list and
again this obviously looks pretty
horrendous right now so we can kind of
sell this in a second but I think one
thing I'd be nice to do is I want to
make sure that all these are required I
want people uploading bad data to my app
so what we can do is if we were to go
back to that create song view or
component an interesting thing you can
add to all these is required so if I
were to add required the title we see
here that a star appears next to it and
then if I fail to actually add something
in it doesn't turn red yet because I
haven't defined any rules so first I'm
going to add required to it and then
second we can add a list of rules so if
we pretend like we have a rules object
with some required stuff attached to it
we can go down to the data so I'll say
data here and I'm gonna add some rules
which is going to be an object and
basically the rule is we're going to say
make the required thing
make sure the value is actually defined
so basically this is going to pass that
rules not required and it's going to
make sure that the value is defined for
that in fact I don't know if I need that
rules
I could just say required so up here I
can just say rules is required go back
here and see how it turns red and then
it prints out required if you failed to
fill it in pretty awesome so now I could
just go ahead and do that for everything
cool now they're all required now the
only thing is we need to also check that
everything has been filled in before we
try to create and there might be a
better way to do this but what I'm going
to do here is simply just say are all
fields filled in and I'm going to just
loop over all the keys of my song and
verify that every single value of those
keys so I can say key so make sure that
every single value using that key is
defined because that's kind of what we
we care about and then if for whatever
reason you did not fill that in so if
that's false we can say this I error is
please fill in all the required fields
and then return and of course we don't
have an error sing so I say eridan all
and then up here we need to actually
display it above button I'll just say
span class is equal to error
and only display it if ear is defined
and what we could do here is say is such
error is equal to null so kind of set it
back to a default state every time you
click the button this needs to be this
song I think yeah alright so please fill
in all the required fields let's
actually make that a div and not a span
and it's also super ugly as to why it's
like that so I think the beautify has a
built-in error class so maybe instead
I'm just gonna add a red alert
or maybe danger alert so if I go back to
view over here and just do danger alert
color red and then go back here
cool it's red now and we should not to
be able to fill in anything let me just
refresh the page to make sure that goes
away so we should not be able to fill in
anything or create the song until we
filled out every single field and I did
and it added the song okay so for the
last thing I'm gonna do in this part of
the video is just try to style these
songs so if I were to just start with a
blank slate and go to the songs panel it
would be nice that for to have these
actually have like a nice style to them
so with that being said let's go ahead
and try to create a you simplified
layout here so if I were to go here and
basically for a super simple layout we
can just do the layouts the layout and
then inside this video out is going to
be so we're gonna have a row here and
inside the row we want to kind of split
it up
actually I think what we could do you
know has songs be layout yeah let's just
go with this and see what happens but
basically we want a left in a right side
so I'm going to do AV flex of six in and
then another one of six so we have a
left and a right side and on the left
side let's just go ahead and do a SC
song title so you do song that title
here and I could do the other ones so
artists and songs onra let's go get rid
of these and then on the right side we
want to include an image I'll say a
class album image and we want to point
that so in in view we do the colon I
think it's the same as doing the bee
bind so basically we want to bind that
source attribute to whatever the song
album image URL is so hopefully if we
save this let's see what happens all
right so one thing we'll notice is that
this image is expanded to its complete
size so which is why we added this class
album image here so if we go down to the
scope we can say album image is equal to
width of 100% so it looks a little bit
better there
even so I think that's a little bit too
big and then we also want to Center it
so I'll do that all right so that looks
a little bit better and for the title
the artists in the genre we can say song
title song artist song genre I give that
font size of 18 pixels I'll give this
one a font size of 24 pixels and then
I'll give this one a font size of 30
pixels alright so that looks a little
bit better now and then let's go ahead
and just wrap all this into a song so
say give it a padding 20 let's say
height of 3 30 pixels overflow:hidden
because we don't want anything
overflowing and then up here where we're
doing that for loop I'll just say class
of song of course all the songs other
than these that are missing the images
are being displayed in such a way
so it looks a little bit better still
not that great but hey it it's a start
and then what we want to probably add is
a weight too if I were to say like a
view button here so I can easily go in
and view the tabs of that song so we
should know how to do that if we want to
add it to the left column here we of
course have to go here and say V button
and again let's just go ahead and find a
V button let's see how about the create
song button that's a great thing as
after your app starts becoming a larger
you have a lot more copying pasting
resources so here I guess a navigate to
I'll say name song prams song ID of song
Vee
and it's always nice to make sure you
format your objects so they're very easy
to change and read all right so now we
have a View button which if we click it
it calls navigate to which will go down
to the songs or go to the song view and
then it will pass a parameter called
song ID which will grab from the song so
again right now we don't really have a
song route so let's go ahead and add one
and then we can implement that later in
the next part so if I were to do song ID
here so path is slash song / : song ID
what this does is it allows us to put in
variables inside the URL parameter
alright your URL query or whatever you
want to call it and so change that the
song and I'll change this to just view
song which means we have to come up here
and say view song and over here in
components with this a view song dive
view and I'll go ahead and just create
it from a blink alright so if you go
back we now have a view button and if we
were to click it it takes us to song /
one and the one is coming from the song
ID so remember in the database every
time we create a new record it's gonna
assign it a unique ID and auto
incrementing unique ID so then again if
you think about the future we could just
have this page load in that song
information and display it so I think
that's a good stopping point for this
part 4 of the full stack tutorial again
be sure to subscribe to my Twitter it's
in the description link if you want to
get updates for when I pasted the latest
part 5 video and again feel free to
leave me comments or give me suggestions
or if you
as to how to make these tutorials better
or we have maybe a different way that
you think I should be doing something in
view because again this is more of a
learning effort on my approach it's not
me trying to say I'm an expert I'm
trying to teach you it's more of hey
let's try to reinforce what I have
learned from view and make sure I can
teach it well alright so again thanks
for watching and stay tuned for the next
part that should be coming soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>