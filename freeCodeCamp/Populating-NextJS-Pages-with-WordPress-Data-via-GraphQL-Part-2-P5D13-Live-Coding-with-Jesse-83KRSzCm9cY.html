<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Populating NextJS Pages with WordPress Data via GraphQL Part 2 (P5D13) - Live Coding with Jesse | Coder Coacher - Coaching Coders</title><meta content="Populating NextJS Pages with WordPress Data via GraphQL Part 2 (P5D13) - Live Coding with Jesse - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/freeCodeCamp/">freeCodeCamp</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Populating NextJS Pages with WordPress Data via GraphQL Part 2 (P5D13) - Live Coding with Jesse</b></h2><h5 class="post__date">2017-12-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/83KRSzCm9cY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody welcome to live streaming
with live coding with Jesse and I'm
Jesse
sorry I was a few minutes late thanks
for your patience so today before I
start anything we've got important
business so Star Wars came out if
anybody has seen Star Wars do not say
anything about it to me in this chat or
at all I'm gonna go see it tomorrow so
if anyone says anything about Star Wars
about the new movie or anything that
happened in it then you will be
permanently banned from the live chat so
no spoilers alright so now that that
that's out of the way we have we have
some data coming in now so I've I've got
some stuff working I'm gonna show you
it's not working exactly how I want it
to so we'll have to work on that but
I'll show you what we have harsh it's
done a regular expression that achieves
everything that we wanted to achieve
from what we were talking about
yesterday we'll have a nice slug that
matches the current site so that the
URLs are not broken for the new site
also just a little update I have been
promising for a while to do a video
review of the Udacity react nano degree
so I did one yesterday and unfortunately
when I went to look at the recording my
face was cut off like from here from
here up it was cut off so you could only
see my mouth so I did would it I mean I
it came out pretty nice in terms of
content but I can't use it so
hopefully it maybe I'll try to rerecord
that soon while it's still fresh in my
mind and and get that up on my own
channel but I know a few people had
asked about that so I just wanted to
give you all an update okay let me check
the live chat quickly before we start
okay it looks like somebody mentioned
net neutrality rooked it yeah so I'm
sure you all have been hearing about the
net neutrality thing yeah I guess I
don't really have that much of a comment
on it because it happened it got
repealed I really can't do anything
about it
I mean I know it's good to you know sign
petitions and Cola and all that but at
the end of the day they didn't really
listen to the people that did that so I
don't I just don't know what to think
about that so it still might it might be
mitigated depending on what else happens
with the government but my opinion on
this is personally for me is trying to
figure out ways to work around it if the
worst happens of what is possible with
us so yeah because ultimately if the
government says it like that's how it's
going to go businesses you can do what
they're gonna do so we just got to
figure out some way to deal with it so
anyway that's where I'm at now with that
so I don't know we'll just have to see
how it how everything goes I only have
one internet provider where I'm at so I
don't really have a choice so whatever
they do I'm gonna have to deal with
unless I can figure something else out
so I'm kind of hoping that my internet
providers behind the times on everything
like way behind the times like you
couldn't even they didn't even accept
credit card payments for a really long
time so I'm hoping that they're still so
behind and they just don't even change
anything
uh-huh so that's this by open up anyway
I just I'm not an expert on that so I
just don't want to say too much cuz I'm
sure I'll say something wrong
all right so let me I can't forget to
switch my screen huh
all right so I guess I could show the
regular expression first let me show you
that because it's it's pretty cool oops
over here
okay so I've pushed this up to github so
this is that secd be migrated repository
on github and now I've added I've just
copy and pasted this right from what
Harshit gave me basically we're taking
the post content title which if you
remember from yesterday will have like
titles in it like doctor or tio R or
father so we don't want those in the
slug because the original URLs don't
have those we just want last name -
first name all lowercase so we take it
first thing we do is we make it o
lowercase then here's the regular
expression that checks you can see we're
checking for doctor we're checking for
father or we're checking for tio r and
then if we find anything else as we go
along that shouldn't be in there we can
add it in right with the same pattern so
I don't know enough about regular
expressions to read everything that's
going on but generally this part is
pretty easy to understand and then we're
replacing a space with a - horse should
also included commented outs some stuff
that just in case we need to reverse the
name so right now all the names are in
good order but if we come on some that
aren't in the right order we could also
correct that here so now as this is what
we pass in to create the the post and
WordPress so now we pass in the slug and
it's the name so now we have a custom
slug and what it ends up looking like
let me move some stuff over to
the screen when I was working on it
earlier so let me move it back so what
it ends up looking like is this so you
can see the slug in this case is Haney
Eric and you can see the title that we
originally had was Haney comma dr.
period Eric right so we went from that
and then with that few lines that harsh
it gave us there and turn it into this
toes perfect exactly what we wanted so
now we have the proper slugs and what
I've done with that now is so as a test
here's what I've done so it's not ready
yet so I took I don't know if if you all
have looked at the latest updates to the
Franciscan site repo on github but
Harshit added this test page to test out
graph QL and and he was doing some other
things with that just as a test and it
worked but I've gone in now and I've
replaced the the test URL with the URL
for our actual WordPress installation
into our innate Apollo file and then in
our our tests graph QL page right so
it's in the pages folder here so in our
test file I've added a little bit so I
was getting an error that it was
returning null so I did add this this
little bit in here so if loading is true
it returns loading and then I added this
div so there was an h1 there that was
displaying some data like a title so I
changed it out of this also I added this
down here so I passed in two sample
query as an option I passed in the
variables name all right and that's
basically slug right so and I just
manually put in Hany Eric but eventually
what I'll do is I'll replace this with
the slug that we're gonna grab from the
URL
so right now as a test its hard-coded
our next step will be to actually use a
variable here and you can see in our
post j/s we have sample query and it has
we're passing in a name as a string so
this then then this variable name this
dollar sign name goes here so we're just
we're looking up the faculty so the the
faculty member the faculty posts we're
name is this variable what you end up
being in this case Haney
- Eric and then I'm just grabbing some
data ID title slug content and then some
data about the department's right which
was our category our custom taxonomy
okay so I'm not using all this data
right now but eventually I'll probably
use it all so I just just added that in
and now here's the weird part but what
happens so when I did this I was getting
a 403 error let me double check that and
confirm that it was a 403 I've had this
open for a while and I can't get back
there we go
not the fourth okay so four three let's
see yeah that's all maybe uh let's get
rid of all this and let me refresh so
I'll show you what I got so here's what
that page looks like you don't get the
image by default because it's using
relative URLs so you can see we got that
loading first and then the data came in
so the images right now are pointing to
a folder on localhost that doesn't exist
so we'll need to figure out what we're
gonna do with those but we get all the
data that was here right so on this page
right the images work we have this data
but it's all visible by default and so
we have all of this but it's just you
have to click it to actually see it and
instead of being in multiple columns
it's all just in one column which is
fine so that's what we got but if we see
we're getting some errors here so we're
getting a 403 and I'm not exactly sure
what the problem is or what's going on
but to be honest I haven't really taken
very much time at all to look at it what
I've done is simply check where the data
is coming in because we are actually
getting the data so you can see
obviously we got the data but here's how
it went
we've got this props data error Network
err result data faculty edges and it's
an array so we went with the first of
that array
and then node content that's how we get
to it all so that's that first of all
that's a long way to go and a lot to
write but also we should not have to go
into the error section right so
something's wrong so we'll have to we'll
have to figure that out at some point I
mean realistically we can still continue
on with trying to style this page but at
some point I think we need to figure out
you know what's going on here I mean
realistically though it works right so
it's not really the end of the world let
me check the live chat because I see a
lot going on over there see if you all
have any thoughts on this
I'll get control you I want to see it
server-side render okay so all right you
want to see open WordPress all right so
what do you want to see in WordPress
Harshit
all right while I'm waiting for Harsha
to respond I'll answer questions some
questions that I saw Christopher asked
what exactly does a net neutrality mean
and all right so like I'm not an expert
on this so please correct me if I'm
wrong and don't take this as being like
for sure you know 100% accurate but it's
my understanding that net neutrality is
were some rules put in place a few years
ago I don't remember exactly when that
were supposed to guarantee equal access
to the Internet and it restricted
Internet service providers from like
throttling or blocking in different
different areas of the internet from
from doing things like charging more for
certain places in the internet making
we're doing things like making websites
pay for like I mean there's a lot of
weird things that could happen in terms
of like segmenting out the internet and
charging different amounts essentially
they could block some parts of the
internet you know really so my
understanding that's my understanding so
now because that's been repealed um
there may be some other legal things
that have to happen before corporations
could take advantage I'm not really sure
but now corporations could potentially
segment parts of the internet and make
you pay more like if you just want to
access your email with so much a month
but if you want to look at Facebook you
have to pay more if you want to look at
you know YouTube you have to pay more
Netflix is more I mean it could be weird
to them I think of an Internet service
provider got into the business of I
don't know for instance let's say like
Comcast somehow bought out Netflix right
it's probably not gonna happen but what
if it did happen Comcast bought out
Netflix Comcast then allows everybody
access to Netflix but you have to pay
or it completely blocks Amazon Prime
video and Hulu and YouTube right so I
mean you could have weird things like
that happening it's not unheard of that
big you know companies like internet
providers have partnerships or parent
companies or something with you know
going on with this kind of stuff so that
could happen one of the arguments I
think against that neutrality was okay
well if you introduce competition
everything will work itself out in the
market but my opinion like I said this
is my unqualified opinion is that
normally I'm okay with the fact that
market forces work pretty well with some
exceptions right so sorry I'm gonna go
off on a tangent here I apologize so
there's some exceptions to that right
and one exception being if you have a
monopoly already in place with high
barriers to entry okay so basically
meaning you have a sorry for explaining
this at a real low level but I'm sure
most you already know some of this stuff
but I want to make sure I don't leave
anybody out who's not familiar with this
so you have an industry for example like
let's say the automotive industry right
there's only a few big companies that
control the automotive industry and it
was even worse before you know back when
you just had like floored was the huge
company what was at Ford and was it
Shepherd Chevrolet were those the big
ones I can't remember now but back in
the day those were like the huge
companies and the barrier to entry to
get into making automobiles was huge
because it cost so much for all the
machinery and everything like it's a big
barrier entry there's still a big
barrier to entry to get in but not as
bad as it was so in that case it may it
would make sense for the government to
step in and regulate that a bit so that
it would make it easier for competition
to come in right and it would protect
consumers from let's say like
the prices being jacked up because they
had no no options right so with the
internet the same thing is happening I
think right so for me I don't have any
options for the internet right so for me
what will happen is if there's no
regulations I'll have to accept whatever
my internet service provider gives me
because I can't go anywhere else it
would be more reasonable to repeal net
neutrality if people legitimately had
options you know if everybody everywhere
had let's say ten different companies
that they could go with that gave
equivalent service then you could
reasonably think okay well if one
company does this people will just go
elsewhere and the company that ends up
not doing this is going to get all the
business that makes sense right
you can't jack up your prices or give
somebody a worse product if you know
your competition is just gonna take all
your customers but the problem is
there's no competition in a lot of
places so for some areas I think they'll
be okay even with net neutrality
repealed as long as there's enough
internet service providers that there
are still competition but for a lot of
people particularly in rural areas it's
going to be bad because they have
nowhere else to go if the choice is not
between to inter service providers it's
between having an internet and not
having the internet so that's the way
that's the way I feel about it so anyway
probably I don't know what's going to
happen with it but realistically I think
the long term solution to the problem is
there has to be more companies that are
providing internet something has to
happen and whether the government
facilitates that a bit you know so be it
if it has to happen like that generally
and I studied economics in college so
maybe this is some of that coming
but generally I'm against government
being too heavy-handed in business
because usually there by the time they
actually do anything they're a day late
and a dollar short so it's like they
they're trying to correct problems that
really have already worked themselves
out in terms of economic stuff and
usually that correction ends up causing
more problems if you use down the road
so I think sometimes it would be better
because they're always so reactive right
like the problems there by the time they
do something the problems already in the
process of working itself out right and
in a lot of cases not in every case but
in a lot of cases so I think it's a lot
of fuss about nothing and they really
don't have as much control as they thank
over economics but in the case of
monopolies that is the proper place when
the government should step in so in this
case I think it would be very reasonable
for the government to step in and do
something about what's happening and not
allow these companies to do what they
want anyway sorry that's my economic
stream for the day so I'm gonna stop now
all right so back to a Harshit wanted to
see the source for WP graph QL so let's
check that out
and WP graph QL sorry I made you wait
for so long hardship you could probably
see the source code for this as well on
their github repo if you didn't want to
wait for me I am running version zero
point zero point two two
see
okay Christmas thanks for sharing no
problem no problem
yeah sorry for anybody wasn't really
interested in hearing that but to give a
full answer that question I had to
explain my Christmas says will the
validity of information be protected
still uh yeah that's another issue as
well if you have any info that you
really don't want other people to know I
suggest using a VPN a VPN that you can
trust it's a virtual private network and
you know ad blocking but your block was
tracking you things like that I mean if
you don't really have anything that's
that interesting that you don't care if
people know then don't worry about it
but potentially you know if you're in a
country that you could get in trouble
for the things you do on the Internet
then I would maybe definitely think
about doing using a VPN yeah and yeah my
political views I didn't really get
political to be honest with you it was
more of my my economic perspective which
I actually don't really identify with
any of the current political parties in
the United States so I have my views on
different issues that have nothing to do
with whatever people from different
parties talk about so anyway but I'm not
gonna talk politics here but yeah my
views are my own they do not reflect the
views of free code camp or Franciscan
University of Steubenville all right so
let's I'm still waiting search for or
three in there okay sorry I should I
didn't see that you but you put that in
there it was my fault so I'm gonna
search Oh No X
thank goodness that undo and redo work
in in the browser and chrome okay there
we go
three no all right
hmm
let me go to get um I don't
I really hate using the WordPress code
editor so it's just gonna be easy I'll
find out github and then I'll look it up
in there mmm no four or three huh
interesting
Oh actually that first one looks rare an
object clone let me soon
is that the air I got it looks familiar
could not be climbed
now this
this
let me look back change default status
to 200
all right so Harsha says I should change
my default status to change the full
status of 200 all right so let's figure
out where I should do this didn't think
I'd be looking through PHP files today
all right well this is no that wasn't it
that error had to do with the dawn
all right so I should wear
I'm trying to find where to put this
default status to 200 I'm not sure where
yes so I'm not finding the status I'm
not finding anything in here let's see
what other
so wonder what else if there are other
files maybe she let me check let me
check what I downloaded here
okay yeah so it does have all this stuff
all right cool I should has a link for
me here let's check this out
thank you are
poly status good for three
okay router dot php' all right let's try
to find that then
okay I set the default code of 4:3 to
represent an authenticated request
authenticated request should be set to
the status code to 200 all right so I
just need to set this then to 200
hi Percy that's a lot of calves
I saw it maybe there's just a delay
there must be a delay I think a hardship
between between you and I
but anyway it's it's cool I'm getting
I'm getting all right so let's copy that
and change it over so what I'm assuming
then is potentially if we use
authenticated request this would have
worked without a change right
but yeah horseshit you're right we're
only getting data so we don't really
need authentication anyway so this
should be okay to change this we just
have to remember if we ever update this
plugin and things don't work we need to
change that again or start
authenticating okay I'm not gonna copy
all that since it's right here update
that and now let's see yet so now we
need to change where we're getting the
data right so let's see where the data
is supposed to be I guess this will do
first
and I saw somebody in a video and they
had some command that displayed the JSON
like in a really nice readable way but I
can't remember what it was so data
faculty edges node okay let's do this
let's try this
area oh it was working it's gonna
area I just had it zoomed in okay cool
so now it is working okay cool so harsh
it has says race json.stringify data
coma null coma two formats with two
spaces and then put that in a pre tech
awesome often remember that I don't
often have to output JSON you know right
to the Dom like that but that's that's
really convenient if you can output it
in something that is more readable it it
worked out well and even in our case
because it wasn't nested that far in the
data we needed so it was it was okay
all right cool so now let's double check
our console just to see to verify that
we're not getting area we should still
get errors let me clear that and then
refresh we should still be getting
errors for the images yeah for or fours
for the images and yeah
and what I was okay this is all fine
great alright so now we have this think
we're nuts or next step then is to
instead of passing just this test string
we're actually gonna pass the variable
so actually let's go back I'm gonna do
this let's go in now and our console and
let's check react and here let's go with
our data variables and then no that's
not it
so what I want what do we need
I should be passing URL
okay I know why this isn't working
what I need to do now is let's grab all
this and paste it into faculty to paste
that into faculty we're going to change
this let's change every instance of test
to faculty and what we should be getting
should have paid more attention to this
it's this ID let me see if I can find it
let me just save this for now and then
let's go to a page faculty and they're
gonna go I don't remember how that so er
s easy and and then I okay cool okay so
that's what we should have gotten the
same data but the URL is different now
now here's what we should be getting as
well as some extra data here about but I
can't remember where we get it this is
the query there it is okay so router
yeah
router
query ID okay so let's try to pass that
and then whoops where's our
I had how we did this on the bulletin
open on my other screen as well just for
reference let's see let's see if this
will work okay not sure if it'll work or
not
looks like it did not cannot read props
of undefined I was wondering if I had
access to props there I lost my live
chat window here it is okay let me let
me check the loud chat here
okay cool so harsh is saying get inertia
props returned query all right so let's
put put this in here
I miss pross query
see if that works uh-huh almost dang it
whatare am I getting doesn't tell me
much
okay
oh I shouldn't have to return off of
that right
can I repay props of undefined
all right where am I trying to get
process
all right what am i doing
all right so static
so I lost my window again all right so
yeah we have static gets it good initial
prop so harsha's let me know to do
static get initial props
so I've done static get initial props
and then okay so we've already done
scroll to the bottom okay
okay I'm China's all right Buster how
much of a delay there is between Harshad
and I okay down and then pass an ID and
then pass it
oh okay all right how should let me know
I I just realized from your earlier
messages
it's a D structure ID change match to ID
okay
okay
probably edges
okay now I'm not getting if you all if
you can't see the live-chat harsh it's
directions to me now are like scroll
down scroll up dude I was just trying to
keep up and then there's a delay between
us so this might be a good application
of the like the pair programming thing
where you can both like live code
together like Google Doc style
I know harsh it said ves code has that I
know I know they have it it's really hot
in my office so I'm gonna take off my
sweater
okay I should saying we've got to do
something in get initial props
then I'm not sure what
I want to see my property Adventism
undefined
all right I want to see what data we're
getting again
career Eid and getting a surprise okay
hmm
is that where you met Harsha that we're
gonna return query ID
are we gonna grab it like here like
query ID
and
probably ages hmm
okay hard sang returning objects
he also said come to Twitter I'm on my
Twitter is always open so if you put
anything in there I will see it
alright let's let me show you all what
we had done previously so free in the in
project one now we weren't using graph
QL we're using the REST API but when we
got get initial props we did something
like this where we had query and then ID
and then we were able to use ID in here
and then eventually what we returned the
data and the data ended up we you could
access it as this props data so if we
did that you should be able to access
ideas this props ID right
oh goodness who was that rook ha ha okay
so rookies noticed that our
capitalisation is off and get initial
four ups so let's see if that has
anything to do with it
alright so actually still we're still
getting the same error which is crazy
because it certainly should have made a
difference
Harsha's saying change ID to ID like
this I don't I'm getting the red line so
think that's not gonna still same air
what how is it still typos
I'll get ini TI l props all right there
we go
all right that looks better not enough
te TI n iti ALPR Oh PS alright so that's
that's fine now
all right harsh it saying would still
return this object ID which I don't
think
I'm gonna try to write this exactly how
I have it written in the catechetical
Institute site and it worked like a sink
in initial props
let's just see
I'm just spacing this out so I can see
why am I getting so many errors
that's we
it's just it's weird that I keep getting
the same error no matter what I do up
here all right let me see this again so
all right I'm going to paste in exactly
what I have here and then instead of all
this I'm gonna return ID
No all right
but then
Shh
yes I do alright let me
like this
heeey
what did idea mister projects you know
fqc Twitter I
okay closing tag I never put in a
closing tag for this h1
okay type sring was not provided okay
and it didn't show me this props ID what
is this at least since we didn't air out
we can see what we have here
let's check data
our URLs URL query ID
I keep forgetting I already have this
props tea structured alright ok we got
it there I wonder if I even need this I
don't I don't even need that part ok
alright so that's commented out I have
access to this for of zero query ID
alright let's see let's see what I can
access
soon
that's not what I wanted James has is
web development rewarding financially it
can be it definitely can be there are a
lot of good jobs out there that that pay
I mean I've seen jobs listed here in the
United States that pay over a hundred
thousand dollars a year plus you know
benefits and all that for web
development but it varies if you're in a
small town you know you're not gonna
make that much if you're freelancing it
just depends on what clients you you can
make a lot less than that or you can
make more than that but in general web
development is one of the it pays more
than the average job I would say at
least in this country I can't speak for
what it's like in in other countries
yeah okay so Brooke ass is gettin Ischl
props not a vanilla react thing can't
find it in the react ducts it's yeah
it's not a vanilla reacting so get
initial props is an XJS thing so it's
used so for instance in this case we've
used that here for our to make our API
calls in a way that will still be
rendered server-side so anything we do
within get initial props in terms of
making these calls and getting the data
this will be done on the server
potentially it could be done on the
client as well it works it works both
ways and then that data from this call
gets added to props here so this props
data is now available so it's very
useful and to use with next in in this
case we're not doing you know we're not
putting API calls and every component
like that
yeah rook notice we were using
async/await yes so we're using
async/await here which did I when I
copied it over do not leave the async I
think I did we don't really need to oh
you know it doesn't even matter cuz I I
commented this out yeah so I didn't need
to keep the async and I just didn't
realize I don't realised that I've left
it in when I copied it over alright so
we're still trying to figure out
let's see
all right harsh it's asking for the set
sample query all right yeah let me order
let me paste the sample query in there
and Twitter too harsh it it might let me
put paste code i wonderful let me paste
code in the live chat I've never tried
it
let's see it's gonna look oh no it's too
many characters actually it's not bad in
in Twitter in the direct message if you
paste code it actually keeps all your
spacing and indentation really nice
Bruce says your Visual Studio code looks
so amazing with with layouts yeah this I
haven't done really that much you know
custom with my Visual Studio code except
I switched to the seti theme that's seti
so I switched to that theme and I do
have a custom you know custom colors for
my terminal here mmm that's about it I
have the plugins that I have here are
just from from the react food truck
plugin so you install react food truck
and then it installs a bunch of plugins
that help you out with react I don't
even remember what they all are
hmm
all right let's keep yawning
okay let's go back faculty all right so
we now have we know we can get the this
props query ID we can pass in wait can
we pass it in here
the dispersed scree
I don't know if this will work maybe
this is silly but I thought it was worth
a shot
no it didn't work let's see
I won't have access to that now will I
crops yeah didn't think so
oh no rookie on - it's contagious
I'll have everybody watching yawn all
right so let me think why can't I feel
like my brain is just stuck here like
I've had this problem before and I've
solved it before why can't I think of
how I've done this before
creative undefined all right so I need
to get
loose
all right so let me bring this over that
we worked on before which is very
similar and it works so in this case
this is from the bulletin post detail
page which plays you know pretty much
this it operates in the same way that
this page that we're trying to make
operates now we have here we're using
react router and it makes available this
match
do not
I don't know that we're doing anything
that day I mean other than using next
instead of create react AB
harsha's can you pace the name what do
you want me to paste our
let's I would have access to query
no I don't access the query ID
nope
still not working artists who are oh the
name okay so here's the name that we've
been using and this is the URL that
assuming your your hosting is locally
that's the URL that we're trying to get
to work did not expect this step to take
as long as it is especially since we've
done something similar in streams before
all right if anybody is just joining
just a quick recap we're using graph QL
with react so we've used next J s to
create our react app and we're using
Apollo and with graph QL and what we're
doing here is we're pulling in some data
and we've been able to successfully get
this data and display it if we hard code
in the slug of the post that we won
we're pulling this data from WordPress
we've installed a plug-in to set up
graph QL and WordPress but what we're
trying to do now is get a variable based
on the URL and then use part of the URL
to tell Apollo you know what we want
with data we want and get that back so
that's where we're at and that's where
we're kind of stuck right now we can get
that data successfully if we go this
props URL query ID we get exactly the
data we want just having trouble getting
that data to get passed along the
closest we got I think was we got
something passed along well what was
passed along was not what was expected
so they expected a string and we did not
give a string so that's where we're at
right now so we have one of our our
viewers and contributors here on the
live stream
Harshit is working on his machine
locally to try to solve this and we're
also trying some things here on the on
the stream to try to try to fix this
problem
let's see
do you think about
okay Bruce s would you recommend Visual
Studio code or sublime text 3 or a tool
from jet print JetBrains like webstorm
is similar I have not used sublime text
I've heard good things about it I have
used visual studio code and I like it I
have not used JetBrains or web storms
but it's my understanding that those are
actual IDE s and that for most web
development work you don't need all
those extra features I don't know that
from experience that's just what I've
heard so if you're just going to be
doing web development then I think you'd
be fine with Visual Studio code or
sublime text I was under the impression
that sublime text was not free to use so
if that's an issue and you're looking
for something that's free then I'd go
with is your studio code I've heard good
things about you know jetbrains and
webstorm though but I'm just not sure
that that's necessary to have something
that full-featured and you know
potentially heavy for web development ok
let's see I
I'm gonna look some stuff up here on my
other screen
all right all right harsh it says I'm
not getting any data from the server it
is returning a null array it is making
the request though that's interesting
let's
refresh the page I see the back end
still working its
oops
okay so I am able to get the data still
in graph eqo Dimitar says Jessie can you
explain more about graph QL particularly
in this project okay so the so if you're
familiar with rest api's that was that's
a good way to get data it's a lot of
sites use rest api is now but in a rest
api sometimes you have the problem where
you need you need data from multiple
endpoints right so the way RS that TI is
set up normally as you know you hit that
endpoint and you get back the data that
that endpoint always gives back whether
or not you need it so there may be one
piece of data you need from there and
you get all this other stuff and then
there may be some other data at a
different endpoint that you need to hit
so to render one page you may need to
hit multiple endpoints right that's not
very efficient what if instead you could
send one request tell the API exactly
what you need and then it gives you back
what you need and only what you need
that's graphic UO so in graph QL you get
to say what you need so I'll show you
here an example so right now in this
we're telling it exactly what we want we
want to get a faculty member and we want
to get a faculty member of a certain
name we want the ID the title the slug
and the content we also want to know
what faculty department they're from and
we want the ID of the department the
name and the count meaning how many
members of that department are it do we
have so what we're going to get back
from that is exactly this data nothing
more nothing less if we were to try to
do something with the REST API we would
probably you know we would want to get
the faculty member we could narrow it
down to a single faculty member
we would get a lot more data you know
instead of just ID title slug content we
would get the day publish the date
modified we would get lots of info about
when we get an excerpt whether or not we
even had one we would get a lot of data
I wonder if I still have it I don't
think I still have it up no I don't I
had an example what we get but basically
that's what the benefit of using graph
QL as opposed to you know the a normal
REST API which we've used in the past we
use REST API x' with wordpress and react
in the past on projects okay
Harshit says is ask it says name in the
query but we're using slug yeah it does
do that but that's how I got it to work
I was reading the documentation and for
some reason it was working with name and
not with slug and in a documentation it
was using name as well so I just stuck
with that it looks like harsh it has a
pull request that might fix this so we
will check that out
Oh
all right Bruce's need to go but we'll
be back thanks appreciate the input uh
no problem thanks for thanks for
watching and for joining in and allow
chat okay so harsh it's pushing a pool
request right now so let's let me bring
this up and then I'll move it over to
this screen and we can check out some
harsh it's code and how he's tackled
this problem Dimitar says thanks for
explanation yeah no problem
hopefully that was you know an okay
explanation of why we're using graph QL
okay
let's go back here to faculty j/s and
let's see
hmm
probably won't work but why not may as
well try some things while we're waiting
unexpected errors occurred and here we
go Isis it
yeah did not work this is a reserved
word okay
yeah not working
all right let's check github
all right so harsh it's full request two
showed up now and github oh and I see in
the live chat he has notified me of that
as well
alright so let's check this out
Harshit here's a since there's only a
few things that have changed I'm gonna
do it here I'm just gonna type it in but
if it works I will merge that pull
request so you'll still get credit for
the for the PR but I think it might be a
little bit faster for me to just change
some of this so let's go whoa
that was really weird
that's super weird and for some reason
when I try to copy and paste from github
it's giving me way more than I expected
okay um yeah that's fine I'll just
remove some of this that's okay
hurry ID return ID all right that's what
I had anyway I don't know why I tried to
try to mess with that okay so we're
gonna switch up here a bit and we're
gonna make let's see if I can copy this
properly
there we go and then down here we're
gonna change this to just be ID and you
don't need two sets of brackets and then
in here this is perfect okay so let's
see what we get now okay so I'm getting
let's see what we're getting
okay this is where we're at before if
you remember probably a half hour ago
now we this is the air we were getting
here is that we require two type of
string but that was not provided so
let's see let's see why let's see what's
happening here so we should be able to
see in in our react dev tools what this
data is yeah faculty and
huh
as
all right let's see
should be able to say
all right I'm using the reactive tools
extension for our chrome dev tools so if
you if you don't have this on your dev
tools it's it's an add-on so it doesn't
come automatically all right
all right let's bring this back
he
so we're still not giving what we need
he
oops let me check I haven't checked her
chat in a while
what this.h rockets asking what is hm
our stand for in dev tools let me see I
don't remember that was whoops we're
seeing that in Syria and the console
HMOs I don't know what it stands for to
be honest with you but I it's what I
always figured it had something to do
with yeah it looks like it's it's
something to do with webpack hot module
reloading that's it as a HMR is hot
module reloading so that's why when we
hit safe we can see everything update
that's that's what does that I don't
know how but that's that's what it's
doing
okay
all right so
each other's let's see if we're getting
whoa
did it work this time yes
I don't know why I do not know why but
it words the only thing that I changed
was like console.log ID and I hit
refresh twice I don't understand that
now what was this oh yeah yeah all right
okay then so let's see what we need
faculty edges would be this profs
faculty edges node so the edge is zero
node
okay so let's get rid of these comments
and David faculty edges note content
yeah that'll work
wonderful let's take this out and see if
we can still get the data yay it works
all right harsh it said it probably had
something to do with the cash yeah I
think you're right on with that or
should we just we kept hitting the cache
and who knows who knows how many times
we had it right before because I'm sure
there's multiple ways to do this yeah
Martinez is Visual Studio code available
for Mac yeah it is it's so I'm using it
on a Mac right now so it's available I
think for Linux as well so Linux windows
of course and Mac yay we got it to work
okay
well we can get rid of this now we don't
need that don't need that either
wonderful wonderful okay all right it's
trying to clean things up I think it's
pretty clean yet awesome
it's status and let me push this to
github actually yeah I want to get home
we're trying to figure out how I can do
this and still merge harsh it's PR also
merge it just fix the conflicts
yellow test ran wonderful
okay great
all right so anyway I should I'll pull
your Elmer's your pull requests and then
just fix the conflicts since I ended up
pasting a lot of it over anyway oh
you're just going to close the PR that's
cool too if that's what you want to do
okay um gosh it says I'm having trouble
with your WordPress install what's up
with the WordPress installs and not
you're not getting data back or what
alright so now now what we need to do is
style this a bit so we had made the
decision
I don't know last week at some point I
think that we were just gonna pull in
all this data and then keep it like keep
all the HTML and everything and it's
it's pretty messy you can see what it
looks like here and you know it has all
these custom tags that mean something in
the old CMS but not here so we need to
use these tags and style things the way
we want eventually we're gonna have
custom fields for all this data but
we're not gonna i think it'll take more
time to do that then it will adjust
style what we have so that's what we're
gonna do first it'll be a pain at first
to get it style but once it's styled for
one it'll be we use the same style for
all the faculty all the faculty members
so I think it'll work out we may not be
able to get exactly the style that we
want but we can probably get close and
then we can deal with with doing it
properly later on you know after the
website has to launch and this will help
us keep our deadlines
so not you know ideally I wouldn't want
to do it this way but sometimes you just
have to you have to think of creative
ways to make the deadline and this is
one way where I think we can definitely
cut a corner without having too much of
a negative impact on the end result all
right so let's check this uh-oh yet
all right I don't know how long I've
been streaming let me check okay we're
coming up on about two hours
okay harsh it says the the IP is giving
him problems using the IP address
instead of WordPress so yeah I can link
that to a domain I'll do that I'm not
gonna do it right now but maybe I'll try
to do it before I leave what time is it
okay actually you know what maybe we
should save the Styles for a different
stream I just checked the time here and
I I am there's a Christmas party for the
university that starts at 6:00 so that
means I have to make sure that I get
home and I get everything ready and then
I have enough time to go drop the kids
off somewhere probably at my in-laws
house and then make it to the party so
that means I'm actually gonna have to
leave work somewhat soon so I had hoped
we would get to the styling at this
stream but actually I'm it makes more
sense to do it another stream because
the title of this stream really had
nothing to do with styling a react
component with in this case it's gonna
be plain CSS in a separate file but so
it will probably better if I just put
this did this in the next stream under a
different title
let's see set a spam account yeah
probably so whoever just asked would is
search engine optimization if you're
legit account log on with a different
username or something and then ask a
question so I'm gonna block this account
for now and because I'm pretty sure it's
a spam account if it's not a spam
account I'm sorry but you'll have to
come back in with something more
reasonable as as the name that's not so
spammy
how the rook said well the question was
related yeah that's why I I kind of said
they come back in because the question
was about search engine optimization so
that's not entirely unrelated what we're
doing here but yeah but y'all in the
chat can see what the name was I'm not
gonna repeat it but that's not this know
who we're about here on free code camp
so okay alright so anyway just to recap
since we had a long stream and work
through a lot of issues we we did we are
now able to pull the data based on the
URL so anytime we go to in this case
we're in local host so local is three
thousand slash faculty slash and then
the Faculty's last name and first name
it will pull up the data for that
faculty member so we've transferred that
data from sequel server through the
WordPress API into a my sequel database
and then we're pulling it back out of
the my sequel database using graph QL
from the WP graph QL plugin that we've
we've installed we're pulling that into
with the help of Apollo into our react
app which was built with next jazz and
it gets put into that page that's where
we're at right now we just have a bunch
of kind of raw HTML that's unstyled so
on the next stream we're gonna style
this we also need to figure out how
we're gonna get these images working you
probably need some kind of like
automated way to add in the URL that we
want or we're gonna have to match the
file structure within our project and
just pull over all the images I don't
know that that's the best way to go
because there are quite a few images and
I don't want to I don't want to bloat
our repo with all of that so probably
most what we'll do is we'll find
somewhere else to store the images and
then
we'll just automatically put in the
first part you know that will change the
URL basically either at some point in
the process that URL will get
transformed I think that will be the
best way that will require the least
amount of manual kind of copy and paste
work all right so that's where we're at
right now thank you so much everyone for
watching and helping I know some of you
have been watching this for almost two
hours now and I really appreciate all
your patience and your help along the
way
let's see there is one more question
Martinus what's the keyboard combination
and vs code if you want to use the
terminal I don't actually don't know
Martin I want to know as well with the
keyboard combination is I never remember
I always just go up to the top to view
here and go down toggle integrated
terminal it's I don't know what these
symbols mean on a Mac what let's try it
out
No okay it's option control tea area
option control tea brings up your
terminal at least of those for me
harshest st. command + ctrl + the Martin
says that's my problem it has
instructions I don't know the symbols
I'm the same way I need to like draw the
symbols on my keyboard or something
otherwise I never know so what the
symbols are okay so let's see yeah
that's all I have for today so what's
today's Friday so Co next week should be
able to stream on Monday probably be a
little bit early stream because I have
my normal 3 p.m. Eastern Time meeting so
try to get streaming early so until then
have a great weekend</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>