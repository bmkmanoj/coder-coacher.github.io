<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Beautiful Soup and Regular Expressions with Python | Coder Coacher - Coaching Coders</title><meta content="Using Beautiful Soup and Regular Expressions with Python - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Beautiful Soup and Regular Expressions with Python</b></h2><h5 class="post__date">2013-03-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/i9G6SJLtFm0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so I'm getting back to our
scraping that we just did
let's request a different page let's go
ahead and just pull something up right
quick there's a pretty good band here
good and let's just copy this HTML
address or URL and let's go ahead and
find all of the paragraphs we're gonna
find all of the paragraphs within that
URL that we just grabbed for Bayside
then let's do another for loop over it
and so we'll say for I am body for each
paragraph element we find we'll say
outloud writes and we'll see
our files out of rights and we pull this
up we have our Wikipedia page here and
you see that it grabbed all the text and
once again it's in a sloppy format the
way we have it but you could see
aircraft all of the text so if we wanted
to give it a little bit better spacing
want to utilize that newline character
so let's go ahead and concatenate plus
newline
I thought give it two new lines a little
bit clearer to read and when we run it
we all put it and you see that the
paragraphs are properly formatted now
it's like oh we have all these
square things in here what is this
square nonsense well what we can do is
use what's called a regular expression
and it's a common it's a well used to be
used a lot more often but it's a cryptic
syntax type thing where it is able to
identify characters and word formatting
and things like that
it was initially I believe developed by
the Perl programming language and Perl
is like capacit text crunching but
Python implements their own regular
expression expression module that is
nearly as good as as pearls but in order
to use it you want to go in and import
our e which stands for regular
expression and we can say we're gonna
say we need to define our regular
expression so when we define it we're
gonna the first thing you do is you
identify you know what it is that you're
looking for so let's just say we're
gonna name a variable remove equals
and then we say re dot compile so we're
doing the compile method of the re
module and then within this we're gonna
say what it is we're looking for within
single quotes so what we're looking for
is a square there open bracket and close
bracket and regular expressions can be a
complicated bastard I'll tell you that
right now
I could develop probably an entire
series of tutorials on regular
expressions so you're gonna probably
until I actually create those tutorials
you're gonna want to look that up on
your own individually when you run into
a situation like okay how do I find the
text how do I remove the text and it
really it's just a matter of finding the
text that is an issue because regular
expressions will make you pull your hair
out at times but they're highly
effective and you know a lot of
modern-day corporate programmers know
nothing about it or if they do like you
know your hackers you know really need
to use it if you're gonna be doing a lot
of web scraping and like that you
need to know how to use it now these
square brackets have their own meaning
within the regular expression syntax so
I had touched on this in earlier videos
we need to escape those characters so
that they're treated literally for what
they are which are the square bracket
not their special meaning within the
regular expression module so in order
for it to be interpreted before its
literal meaning we need to escape it and
escape it escape both of them which
makes our look even more cryptic
and then what we're gonna do is define a
special character in Python which is /d
and /t is saying hey find a decimal or
integer digit basically it stands for
digit
so we're looking for digit so we're
looking for any sort of number within
these square brackets so do that and to
make this easier instead of compiling
we're gonna just do a simple instead of
the compile State and we're gonna say
sup so meaning substitute out this when
you identify it either into a comma and
you're gonna say replace it with in our
case nothing so we just have empty
single quotes and then we then once
again identify that there's three things
that needs and needs what are we looking
for what are we replacing it with and
what object are we even doing this on so
we're just simply doing an on the remove
object which makes no sense so
what we need to do is we're gonna say I
because we're doing a for loop for I in
the body so you know for I alright so
what this is gonna do is it's hopefully
going to remove all the square brackets
with our I and we'll see what happens
let's go ahead and run it and just a
recap where we say I which is the loop
that we have here which is text equals
already sub and then we're saying hey
find those square brackets with the
number inside replace it with nothing
within the I so let's go in and then we
output it to the file somewhere run this
you're gonna see this a common this as
expect string or buffer which is kind of
a pain in the ass but all you got to do
is just say STR for string and make sure
the eye is treated as a string so that's
all you gotta do just put the STR and
then and this within the parentheses and
running again
well because we've already turned title
into a text not text this is I dot text
turn this into a string as well all
right so now I don't even know what we
output in there so the name of the file
was Wikipedia so we go back to our
Explorer Wikipedia and you can see we've
actually removed some of these squares
correct I don't see any of the squares
that were there
all right good so you can see that the
citation things that we had in there
before it appears that we cleaned them
all up so we have all these P tags back
in there let's go ahead and figure out
what the happened here so we can
not have those in there so we go back to
our program I equals our substring I
just say I equals I don't text kind of a
complicated situation there but what we
did is um body is a list so list is not
a string but it's a list of strings
because it found all the P tags so when
we go through this for loop its is
returning I into a string as opposed to
just a list item so I is now a string so
it resolves that but bottom line just
just do what I just did and you can see
the output is the way that we want it to
be it's we wanna make sure we didn't get
rid of all these tags we got rid of all
the single we didn't do that
anything okay I might have the wrong
thing pulled up here one moment let's
pull this up all right all right so we
see that we did not get rid of the
number three these old citations that we
did not want and let's figure out what
happened
okay we're just gonna figure out what
the hell happened here one moment yeah
looking at this man I am such a dumbass
um what we had wrong here is this was
face the wrong way so it's gotta be like
that
so we're saying this is a special
character meaning digit so let's run
this again yeah you can see that it got
rid of sorry about that guys one of the
things with programming in my opinion is
that you know I deal with a lot of
different language is HTML CSS
JavaScript Python and asp.net c-sharp
whatever when you're dealing with so
much different sometimes you forget
minor syntactical differences between
the different languages so and you'll
forget how to invoke you know certain
modules like beautiful stupid things
like that I've used it before but you
know I don't have all that
memorized I mean you you learn that
stuff over time and essentially you have
like a stash of programs that you have
gotten to work and you kind of you know
pull those programs up and recall what
type of code you use to make things work
so yeah you don't have to memorize all
this stuff is my point you can have code
saved on your computer that you call and
you know and they're just kind of chump
things together so that it works so I
wanted to show you something here and
you see that it got rid of all the
digits for single digits now with
regular expressions this only said one
digit so this meant one days you know if
you want to say multiple digits so this
would only you know remove one through
nine 10 30 20
those are multiple digits so that
not work so if you want to say remove
not just single digits but all digits
you would want to use this plus
statement so if we run the program again
you can see that it actually got rid of
all the squares for you know anything
over one through nine now you look at
another thing too is in here we had
found something that said citation and
it
yeah citation needed if we wanted to
remove that we could do the same type of
thing just copy this entire line and
place to hear it but instead of doing
decimal we could just simply do word
plus which is gonna remove the entire
citation needed within that so let's do
that and when we pull this up
you see citation needed is no longer oh
it still is there you son of a bitch
until happen we have more than one sorry
about that we had two two of those
forward slashes in a row and I was
confusing it let's blow this up here and
run it and this is being a complicated
bastard and it's really starting to make
me mad make me mad man all right so what
the hell you know what
we'll just rip this bastard out by going
dot star triangle we're not trying to go
with the helmet on dot star question
mark save that what this says it says
hey take everything within these square
brackets but don't be a greedy bastard
and take more than what you need that's
what the question mark means don't be
greedy
but this means take everything so I'm
not sure why the other one wasn't
working and honest I don't care but this
should work yeah and you see citation
needed is finally gone for God's sakes
all right I'm gonna kill the video there
that's some basic programming dealing
with some headaches of some common
issues that you're going to run into and
I'm not sure what we're gonna do in the
next video but I'll figure it out all
right talk to you guys later bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>