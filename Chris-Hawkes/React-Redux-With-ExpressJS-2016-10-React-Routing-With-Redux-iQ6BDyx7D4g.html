<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React &amp; Redux With ExpressJS (2016) - 10.  React Routing With Redux | Coder Coacher - Coaching Coders</title><meta content="React &amp; Redux With ExpressJS (2016) - 10.  React Routing With Redux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React &amp; Redux With ExpressJS (2016) - 10.  React Routing With Redux</b></h2><h5 class="post__date">2016-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iQ6BDyx7D4g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome back so in
this video what I want to show you guys
is actually how to get a single page app
running so that riac can actually handle
your your actual browser implementation
you know like when you go to one page to
next because essentially a modern-day
JavaScript everything is created around
single page application so you want the
actual single page to be delivered by
whatever server you're using for this
tutorial we're using node Express and
then it just renders up the you know the
homepage and and we won't react to
handle everything from there so this
entire pages of this or this video is
going to be covering all of that so
number one here's my my web packed watch
and I'm going to go ahead and terminate
that and we've talked about this in the
previous videos but we want to install a
few things that we need to actually be
able to use routing and Express so extra
not expressed by Express react and redox
so we're going to MPM install save and
we're going to say react router Redux
and react router so we need both of
those so react router and react router
redox now reactant react router is
actually the typical way of handling
routing within a react application but
react router redox just helps maintain
browser history and things like that
when it comes to actually having a redux
application because redox has the shared
store so it basically bridges the gap
for the shared store for a redux
application anyway probably made that
sound way more confusing than it needed
to be now one thing I want to show you
that I did delete the store out of this
this directory here we used to have the
store but if you noticed in the counter
app I'm starting to counter but I'm a
nap digest we're actually creating a
store there and then attaching it to our
provider and just again to recap the
provider actually wraps the entire
application because that is a specific
thing from react redox which basically
allows the entire application that is
that exists in between you know the
provider rapping would be able to have
access to the Redux store so that's
essentially how your Redux is all about
having one centralized state and all the
components and react communicate with
that centralized state and the way that
that happens is through this provider a
rapper basically so some of the things
that we need to do to get this thing
situated this file is going to be quite
a bit of changes actually but we want to
say all right so number one let's go
ahead and we're going to import a few
things from the reactor outer redux
which I'm going to just paste in here is
that I'm going to mess it up but we're
importing sync history with store in a
router reducer another thing to that I'm
going to be importing is this combined
reducer so make sure after your create
store you also have a comma in this
combined reducer and it actually needs
to say reducer sets of typos so
producers from redux all right and
another big import that we're going to
be doing here once again want to paste
this because I want to mess it up is and
actually this should go ahead of reactor
out of redox but down here i'm going to
go ahead and say import router route
browser history and index route from
react router which you know we installed
that project earlier in this video and
now i'm going to change the store so i'm
going to use the constant keyboard
because it's that way we don't ever
change our store because we only want to
implement at one time we don't want it
to change this with the constant keyword
is in atmospheric 2015 and here inside
the parentheses we actually want to call
combine reducer combined reducers which
we import it right here and here this is
a function that takes an object and
inside the object is going to be all the
producers that we want to reference so
i'm just going to have a global and for
the purposes of this tutorial here i'm
going to use the reducer that we set up
in our counter
our counter producer so this counter app
right here has its initial state which
is just the counter that we've done in
the previous video so I'm going to
import this this function and by the way
guys in case you don't know this export
default means if I were to say import
from this reducers file this counter app
is the default import but if you had
multiple functions there can only be one
default so that's what the default is
all about but anyway I'm going to say
that the global is the counter app so it
will use the the state so it'll have
access to the counter another thing that
we want to add is routing and routing is
going to use the route reducer and this
is something that we and imported from
our react router redux so that is now
our new store which you can see it is
still being used by the provider so
that's all good another thing that we
want to do is we want to use this sink
history with store so we're going to
create another constant and say history
and this will men maintain our browser
history so let's say sink history with
store and then we pass it in browser
history which we imported up here and
then we also pass in the store that we
just created right here ok now instead
of our render we need to go ahead and
update a few things inside the provider
and the provider is always going to wrap
our entire application we're going to
reference this thing called router and
then we say history and we pass in that
history object that we just created so
inside router it's going to close this
off we're going to end in now this is
where we actually define our paths for
our single page application so we're
going to say route path equals forward
slash which is basically the other the
starting point of our application now
here's the interesting thing where we
need to change some of our our structure
we need a main component there should
always be one main component that
basically renders this dot props that
children so that way
main component can then just plug in all
the child components and and the best
way to just demonstrate this is by
example so what we're going to do is I'm
going to copy this entire page ctrl a
ctrl C for our counter react component
and we're going to create a new
component that says main component Jas
and here I'm going to paste this in but
I want to take out some stuff that we
don't need number 1 i'm going to take
out the connect and the counter actions
because we don't need to reference react
we're going to change the name of app
i'm sorry we don't need a reference
redox or react redux but we are repre-
react obviously cuz that's what this
stuff perhaps the children is all about
but anyway let's rename our class the
main component which is the name of our
file down here and we can remove the
click function and then here this is
where i was saying inside the do we're
just simply going to say this props
children because in our main app when
you request any sort of page all this
this top props that children is going to
be replaced with a component that's
being rendered for that particular page
so once again everything's a single page
out but if you were to say /o than this
top props that children would actually
populate all the you know the portions
of the example component and we'll see
that in just a moment but let's get rid
of these two constants for map dispatch
to props and actions to props and we're
going to get rid of this constant
default app we also want to export the
right name so once again we need to
export as the default the only function
that we have here which is a class of
main component so now that we've done
that let's go back over to our app and
we're going to reference this is where
we're going to say main component but in
order to use it we obviously have to
import and I actually want to close off
the route as well along here and now we
need to import main components so up
here we'll just say import main
component from
main component all right there we go so
now we're importing that now anything
that exists inside of these routes is
going to be handled by react Redux
routing so let's say I'm in here we want
to give an index route which is
basically a special command that says
what is the name of the main component
we want to render when you when you go
to the root directory of our application
and that is going to be our counter
component which is probably not the best
name we probably want to have like you
probably didn't want to have a better
name but right now we're going to use
counter and we can just close it off
shorthand like we like we've done in the
past since this is just jsx code and now
we want to go ahead and give another
nested route and this is going to be
something I want to show you guys for
faceting example we're going to call
this test and then component is going to
equal and this is where we're going to
create another component and I'm just
going to call it another component for
an example because it doesn't exist yet
and here i can do I can Coast close it
off shorthand or I can close it off like
this if we want but it doesn't matter
i'm going to do shorthand so here is our
main component which is counter and then
also this test component which is
another component so i'm going to do the
same thing that we did for our main
component except i'm going to copy this
one and then i'm going to paste it and
i'll change the name and rename this and
we'll just call this another component
okay so inside here instead of this type
props our children i want to deliver
another message will say this is another
component being rendered and our single
page app
alright so it's a very basic component
we need to change the name we're going
to say another component now copy and
replace it here alright so now that we
have that we can go ahead and we now
want to import that and we'll say
imports another component from another
component alright so now we're we're
looking pretty good here
so now obviously we've made all these
changes we need to start our web pack
watch again so that it can take all of
the changes that we've made and compile
them down to the to the one bundle
javascript file that we've seen and then
let's go ahead and go back over to the
app portion of our Express application
and I'm going to go ahead and run this
this application in the debugger so
we're firing up our node application
it's listening on port 3000 now if we go
back to port 3000 I was actually messing
with a few things here so looks like we
do have an air only see
so if I pulled the app GS I actually
have a bug I wanted to get rid of this
counter since we're referencing it in a
different way all right so that was the
problem there so now if we click you can
see the store is working just the way it
did before and this is our main index
that is actually being rendered by the
react router now one of the things
you're going to notice is if I go
forward slash and I call in the name of
the URL which is the name that we
provided here this path it should
display this another component that we
created which is here but you're going
to see why it doesn't here in just a
moment so if i press test and says
cannot get test so what's going on here
what's going on is that our server side
framework which in our case is i know'd
and express is trying to render this
test so what we need to do is we need to
tell express that for every request that
you get you need to display the index
like the home page so there is a wild
card that we can add to our Express
application so let's go pulled up a pas
of our Express app and you can see this
is the root domain but when we say
forward slash test express is looking
for a test route that doesn't exist so
we needed to say you know what for every
request I want you to use this wild card
and Express and deliver the same index
page so that way the react router can
then handle the rendering from there so
let's go ahead and restart the server
because since we made changes to it will
need to restart it
okay and if we so if we now refresh this
you can see that react router is now
handling not routing all through a
single page apps so this is another
component we go back to the the main
component you can see this another thing
too is that if we looked at react and we
looked at on the store like if you have
the react tools installed you can see
that this is our main state but this is
all the store being handled by redox so
anyway guys this is a hopefully a
helpful tutorial for you guys to try to
see how everything's coming together as
like a single page app and how you would
design things into a component based
system and then once you start building
a component based system with react then
that's where Redux comes in handy to try
to centralize that state and and
basically a purely functional way to
prevent having different components
modifying your state and stuff like that
there's one centralized state alright
guys thanks for watching make sure you
subscribe and vote up and everything so
I appreciate that take care bye hey guys
so a lot of you asked me how do I get my
foot in the door to become a programmer
and I just want to take a moment to
mention dev Mountain coding boot camp is
a 12 week intensive course that focuses
on the technologies of the here and now
for web development some of the things
that they're actually teaching in this
12 week course it's geared to get you
into the industry by focusing on things
like jQuery nodejs react angular how to
use github so a lot of the things that
you're going to need to do as a
developer as soon as you start they're
going to be teaching you in this and
this coding boot camp and the entire
goal is to be able to get you into the
industry within 12 weeks so if you guys
are interested in learning more
information about Deb mountain coding
boot camp just check out the link in the
description tab of this video thank you
for watching and have a good day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>