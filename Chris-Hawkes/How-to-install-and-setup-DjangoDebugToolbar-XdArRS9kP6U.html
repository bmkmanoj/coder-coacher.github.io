<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to install and setup Django-Debug-Toolbar | Coder Coacher - Coaching Coders</title><meta content="How to install and setup Django-Debug-Toolbar - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to install and setup Django-Debug-Toolbar</b></h2><h5 class="post__date">2015-03-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XdArRS9kP6U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up in this video I want
to show you one of the single most
important tools to use with Django that
every Django website should have and
that's the Django debug toolbar so it's
pretty easy you just want to pull up
your shelf to install it we're gonna use
pip install and I have a virtual
environment set up here that I want to
install this into it's not required but
anytime you have a sophisticated Django
project you probably want to have a
self-contained environment and that's
what virtual environment does for you so
if you've never seen how to actually get
into a virtual environment after you
have it installed and you create a
virtual environment
you just have to go into it like in my
case I named my virtual environment the
franchise environment and then I go into
bin and just say source activate and
then if you see your virtual environment
and parentheses over here it means that
you are into it so let's go ahead and go
into our project our Django project and
we're going to do a pip install a Django
debug toolbar ok so now we're going to
go into the settings file of our project
under installed apps and we want to go
ahead and add the new project that we
just installed and it's going to be
called debug toolbar we need to add
middleware for this thing to work and it
needs to go after the session middleware
which will be right here it's important
because I'm going to show you in just a
second the debug toolbar typically works
by excluding IPs that you put in there
so it doesn't show the toolbar to
anybody that visits your site because
you don't want other people to visit and
see the toolbar that's just for your
debugging purposes so in order to limit
that thing normally you can just put
your IP in there which will allow it to
go through in my case I have a
public-facing server with a proxy server
that's actually listening on port 80 and
redirecting traffic to Apache on port
some other poor don't remember but
so I have this reverse proxy so actually
adding my IP address from home to be
able to debug this thing in a production
environment it doesn't work so the
workaround is to go all the way to the
bottom of your settings file and add
this and this is why it was important
that we put the middleware after the
session because we're going to be
requesting and the request object from
the session and if that doesn't exist
then you have problems in my case I'm
going to be detecting a specific
username I'm going to allow the toolbar
to go through if that username exists
and this is for another project so I
need to actually update to the right
project so you just need to copy this
exact code if you want it to work that
way so if you want to limit the Django
debug toolbar to just a specific user
okay so that is what you do all right so
I went ahead I restarted my server so
now I also need to run so I need to run
Python managed up people i sync Tiki I
actually have an unrelated error message
that's showing up there it's actually
I'm not a big deal
but don't don't pay any attention to
that finally the last step to make this
work you're gonna have to run Python
managed up here I collect static and you
just say yes it's gonna copy over a
bunch of files and stuff on that it uses
that Django toolbar uses in order to
work so if we go ahead and we refresh
this page you can now see that the
Django toolbar toolbar is on the
right-hand side so I'm making queries
and things let's go ahead and just pull
one of these up you can see how many
static files are obtained what the
template is what's cash how many signals
logging sequel queries which is really
important so that's like a look at one
of these
so you can see chewy work we read in 7.9
seconds let's look at a bigger one here
like the zip actually queries a bunch of
stuff
well they're Joker's slow yeah those
things slow as dog crap inside the admin
man look
yeah for some reason zip city took a
crapload amount of time normally it
doesn't take that long at least I
haven't noticed it so that's very
interesting to me that obviously means
that that's it's probably a problem but
then again it's on the debug mode and
but anyway this is why it's such a good
tool because now I can go in and be like
why the hell is that taking so long I
know it doesn't take that long when I
just query the restful service but
there's probably something to do I mean
there's like 43,000 records in there so
shouldn't take that long it's not that
big of a deal but anyway that's one of
the reasons why this tool is so
important like I said at the beginning
of the video because it gives you a lot
of insight and and really the sequel
queries is really helpful because um you
can see where the bottlenecks are
occurring other than that I mean that
that is about it and you can see also
that if I log out of my site and let me
refresh the Django tool bar is not there
so normally this would show up under any
page in the site like this page would
normally show the tool bar if I was
logged in and it doesn't but I just
logged back in I'll refresh it
this thing's gonna think for a second
and then you can see the toolbar is back
and the reason why is because of what we
added to the settings file so if you
have any sort of complicated setup like
I did with reverse proxy and the IP
exclusion doesn't work then that is a
workaround that will fix the problem for
you alright guys thanks for watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>