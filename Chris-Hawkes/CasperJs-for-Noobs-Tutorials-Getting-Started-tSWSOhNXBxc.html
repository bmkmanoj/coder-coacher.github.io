<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CasperJs for Noobs Tutorials - Getting Started | Coder Coacher - Coaching Coders</title><meta content="CasperJs for Noobs Tutorials - Getting Started - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CasperJs for Noobs Tutorials - Getting Started</b></h2><h5 class="post__date">2013-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tSWSOhNXBxc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back to my Casper
tutorials and sorry it's taking me so
long to make another video but hopefully
I can knock out an entire series with
Casper I think it's a great project and
I really want to do my part to see what
I you know see what I can do to to
support this great project now in the
beginning here let's go ahead and start
off simple if you've seen any of the
other videos I kind of jump right into
what you need to do to start scraping
but I think in order to really utilize
the skills we need to start off small
and kind of incrementally work our way
up so that's going to be the purpose
behind this series so make sure you
subscribe do what you can it makes it a
little bit easier for me to actually get
motivated to actually try to make these
videos if they help anybody out is you
keep that in mind I appreciate it all
right so let's go ahead and jump right
in and and go over some basic details
alright so first things first what we
need to do is go ahead and create a new
file it's going to be a JavaScript file
so the extension will end in dot j/s and
you can name it whatever you want in
this case I'm just going to name it test
and just make sure you figure out what
folder you want to put it in so it
doesn't matter what editor you're using
I happen to be using Visual Studio but
you can use any editor you want in fact
you can even use notepad but I don't
suggest it but what I'm using right now
is Microsoft's Visual Studio and you can
actually download that for free but
whether or not it actually works with
Python you're going to want to make sure
you look into that because part of this
tutorial series I plan on doing is
actually implementing Python with Kasper
so you can see really what an awesome
combination the two can make at least in
my opinion so let's go ahead and start
our file we're going to name it test Jas
right now first things first in order
for Casper to work I have previous
videos and on how to install Casper it
requires phantom JavaScript essentially
Casper is a project built on top of
phantom JavaScript and phantom
javascript is a project I believe
written in C++ and it's got a bunch of
other projects built into it that make
it what it is so this is just another
project built on top of it making
phantom JavaScript a lot easier to work
with so that's really all Casper is now
in order for Casper to be able to use
phantom there is something that you
always have to have at the start of your
file you need to be able to tell a
phantom JavaScript where Casper is so
what we're going to do here is I need to
describe the phantom Casper path which
is important it's actually required so
let's go ahead and put that in here now
it's just a JavaScript string that's all
this is my Casper is located in my
projects directory under Casper
JavaScript or Casper Jas and that's
that's all I need here for my path right
now the next thing we need to do is we
need to be able to inject the the Casper
path into phantom so in what we're going
to do here is we're going to there's
another required field let make sure you
put phantom dot inject Jas and then
we're going to give it the phantom
Casper path that we just set plus we're
giving it the location to where it can
find the Casper batch file
now the next thing which is optional but
you might as well go ahead and add it
and get used to adding it canister comes
with a few methods that make things
there Casper specific but like there's
certain methods that Casper has built
into the project which allows you to
basically associate files together or
maybe do like a JavaScript JSON dump or
something like that there's different
methods there's probably like 20 of them
so in order for you to be able to access
those methods that are built into Casper
you need to use this utils module so we
want to go ahead and define that now and
even if you don't use it you might as
well just have it in your file in case
you do need to use it but that's what we
do right here so now whether or not like
I said we use that that's a different
story right now in the tutorial we just
want to make sure it's there in case we
ever try to reference a method that we
think should be there but it you know
it's because we didn't import our utils
module so the next important thing is
that this is what Casper does me this is
how Casper lives we need to go ahead and
fire up the Casper session so we're
going to create a Casper variable and
this is really what does all of our
magic so to do that we're going to say
require Casper and then dot create all
right so that is where everything
happens now in order to test our
application let's go ahead and just do a
simple test see if we can get the Google
web page so let's say Casper dot start
HTTP /ww google.com all right and then
everything is done within methods so
here is a Casper start method with your
parameter being the URL so it will
request that URL now since we're
requesting the URL you always probably a
good idea to put a weight on the request
so I just wait a few seconds to make
sure that the web page has enough time
to load so we're going to start another
method to do that so Casper dot wait and
then we give it how many
seconds we want to wait and this is
millisecond so 3,000 milliseconds is
three seconds then we define a function
and then just like you know any sort of
JavaScript or jQuery that you've done
you have to make sure you close off that
function and then whatever you need to
do inside is going to be you know inside
of this function so that's whatever sort
of code we want to execute after it
waits three seconds all right and just
to make sure that we can test the
application here make sure it's working
I want to go ahead and we'll just print
the actual title to the page now there's
two options that you have inside of your
function a lot of people will say this
meaning the reference is the method that
it's currently in and you can do that to
kind of help separate Kasper from you
know what's going on inside of that
Kasper function and we'll go ahead and
say this echo and then we're going to
say this dot can get title right and
then now before we can actually run the
application we actually we have to
specifically say that we do want to run
so the bottom of our script is always
going to have Casper run and we're also
going to want to close the application
as well
and when we close the application we're
going to want to put that in its own
function so let's go ahead and do that
here at the bottom and we'll say Casper
got then we're not going to need to do a
weight since we're just exiting exiting
the program so we'll just simply create
another function here and then inside of
this this is what we're going to say
Casper got exits so it'll shut down the
program otherwise if we run it it will
never shut down which I mean we could
still kill the application if we need to
by you pressing ctrl C but no need to do
that if we're just going to have a
method that turns the application off
once we're done all right let's go ahead
and run this program and see where it
gets us now when I run the application
and you'll want to make sure that you
follow along in the previous videos
where I can explain how to install
Casper but part of that installation
process is that we um we put cat we put
phantom JavaScript on our path so that
if you're using Windows Windows
operating system knows when you type
phantom Jas that you're trying to
execute a phantom program in fact and
you can see it entered into phantom and
phantom is not even located in the
directory that I'm currently in I just
happen to have my scripts right now in a
project called in a projects directory
movie directory and scripts you can put
yours wherever you want
if phantoms on your path that's all you
need to do is just type phantom so it
knows it's a phantom JavaScript program
and then the name of your script in my
case it's test Jas so let's go ahead and
run this
and you can see that the application
worked we said in our application this
echo this dock in title and this is
after we requested the Google page so we
successfully grabbed the Google page we
waited three seconds giving it time to
load and then we simply said this echo
get title now what I was explaining
before as far as this method it's
conventional to say this echo or this
dot whatever whenever you're inside of a
function you probably want to go ahead
and do that but you could also just say
Kaspar echo and it would work the same
way so you see that both methods work
the same way but just conventional to
say this so you can easily separate
what's being called from within the
method and what's being called from
outside of the method essentially or you
know to fire a new method anyway thank
you for watching the next video I want
to go ahead and show you guys how to
print screen shots to the to any sort of
directory that you're using and that is
a huge factor because when we're doing
these headless browsers we don't know
what's going on we only you know think
that we know what's going on and when it
doesn't work we don't if it's like a
five step process we might be on step
three but we think we're on step four
and the only way you're going to know is
if you start making screenshots to
figure out what the hell's going on so
thank you for watching please subscribe
and I appreciate everybody who's already
subscribed and I'll get the next video
going thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>