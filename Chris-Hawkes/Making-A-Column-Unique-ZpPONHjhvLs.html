<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Making A Column Unique | Coder Coacher - Coaching Coders</title><meta content="Making A Column Unique - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Making A Column Unique</b></h2><h5 class="post__date">2015-10-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZpPONHjhvLs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up in this video we're
gonna be picking up with the last video
left off in the last video we went ahead
and we created a primary key for our ID
and we we said that to auto increment
every time I new element was added to
the database this time what we want to
do is we want to enforce that the title
for the video is actually unique because
we don't want to have multiple titles
let's just say like if we're adding a
band or something like that you don't
want to have multiple entries of the
same band because then just your
database gets all yucky so go ahead and
to do to fix that we're gonna go ahead
and create this object under title and
we're gonna set its type to sequel a
string and then we're also gonna set the
unique flag on it and just set a boolean
to true and then just by doing that
let's go ahead and we're gonna I'm gonna
comment out this find statement here so
all we're gonna do is when the app is
created we'll go ahead and create a
record into the database and you can see
that there is no videos database so that
will be created when we restart the app
so I'm just going to do that right now
so to create the database insert the one
record in there now if we look at the
database in my sequel you'll see that
the one record is there but since we
have the unique constraint if we went
ahead and stopped the database if the
unique constraint was not there it would
actually create a duplicate entry of
this this particular record so we'd have
to no tutorials in there but now that we
have that unique constraint on there if
we go ahead and restart the app it's
going to throw an error and it says
unhandled rejection sequel eyes unique
constraint error and validation error so
you should always have your your creates
in a try in this particular case in me
it didn't kill the entire app the app is
still running but you know it is a
problem when you should try to expect
that sort of thing to happen but anyway
it's good that it does for other error
because that's what we want we don't
want the duplicate entry in the database
and if we go ahead and we query from the
database you can see that that duplicate
record was not
because it's not unique alright guys
thanks for watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>