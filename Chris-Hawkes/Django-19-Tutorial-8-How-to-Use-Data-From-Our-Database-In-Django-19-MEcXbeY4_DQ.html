<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django 1.9 Tutorial - 8.  How to Use Data From Our Database In Django 1.9 | Coder Coacher - Coaching Coders</title><meta content="Django 1.9 Tutorial - 8.  How to Use Data From Our Database In Django 1.9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django 1.9 Tutorial - 8.  How to Use Data From Our Database In Django 1.9</b></h2><h5 class="post__date">2016-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MEcXbeY4_DQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome back so I
showed you guys before we had entered
our first video and to this of this
website that we have this django website
and this data is now being persisted
meaning that it's stored in a database
it's a Postgres database and if we went
over to our pg3 admin which is the you
know GUI interface that you have for
Postgres you can see that if I went
ahead and I said like view top 100 roles
or rows I'm sorry
it'll pull back this data so you can see
it's actually being persisted and that's
what's showing up here inside the Django
admin and what we're going to touch on
in this video is actually how we query
our database so let's go ahead and do
that
databases are difficult to query there's
a lot of people that are dedicated and
DBAs meaning database administrators
that are very good at writing sequel
quote code like raw sequel select all
from blah blah where like all the stuff
in it's it's a very cryptic language
dating back to like the nineteen
probably 70s I don't know I'm guessing
off the top of my head and it will be
around probably for another twenty years
it's a pretty ugly bastard to deal with
a lot of people don't like writing raw
sequel even though it can be fast so
what we've done and the modern day in
the last at least ten or fifteen years
that I know of
we've created wrappers around those
those queries that we call object
relational mapper sore arms for short so
ORM now Django has a built-in arm that
you're going to use and it allows you to
write Python code to query your database
and it does it so that it's efficient so
you're going to write it out in a Django
specific way you know Python Django
specific way and then on the back end it
all gets transferred into a raw sequel
and it does it you know based on either
the most you know opportunistic ways so
that way you're not executing like
terrible sequel that's going to end up
causing performance issues with your
database so the Django or Miz is very is
very good there's other ORMs out there
that you can use like sequel alchemy as
a popular one with
Don if you've ever done c-sharp entity
framework is nothing but a norm so you
know ORMs are in all kinds of different
programming languages but the Django one
is it works pretty well so that's what
we're going to be looking at here so if
we go over to our views in the last
video we actually looked at how to
return raw data from the server and the
server can get data from an API from a
database from a raw text file it doesn't
matter where it is but typically you're
going to be retrieving data from a
database that's what most people do
anyway and then they send it down so
what we're going to do is we're going to
go ahead and query our database so we
need to import the actual model object
from the app that we want to query so we
only have one app and that's a video and
if we go down to the models you can see
that the class is video so what we need
to do is we need to actually import from
video models which is this models py
file and we want to import video so
let's go back to our view where we're
going to be doing the query so up at the
top we're going to say from video Dot
models import video and now that we've
actually imported it we can query using
Django's ORM warm the data from our
database by saying theta equals video
object saw and make sure you have the
open and closed parenthesis we're going
to get rid of my string here and we'll
replace data we'll call it data and that
means we also need to update our
template because it was referencing my
string and I'm going to show you
something here in a second but let's
just go ahead and reference data as a
variable it's actually not going to be a
variable it's going to be an object but
let's go ahead and take a look at what
happens
so if we went ahead and restarted the
server and we went over to the video
page you're going to see that since
we're referencing it as a variable it's
telling you what type of object it is so
it's a video object and what that
actually means it's a query set object
so it actually consists of all video
objects that we have in our database in
our case we only have one which is that
Senses Fail video that we added but we
could have a million or we can have 500
or however many you have in the database
because we said when we queried the
database using Django's query language
we said also grab all video objects now
in order to be able to reference them in
our template let's go ahead and instead
of just saying hey show this as a
variable which you would never want to
do not with a Django orme object that
has a query set in it and that's
actually referred to as a query set
meaning that it has a lot of different
individual query objects in there so in
order to do a for loop in the Django
template you're going to use the curly
brace and a percent sign and you're
going to say for and then you can just
simply say like X or whatever you want
or will just say video in data then we
need to reference this and say video dot
title I think that's what we call the
right title let's see
yeah we just called it title right so
we're just going to print the title and
anytime you have any sort of four
statement or any sort of logic in your
template you have to actually end it
explicitly so in the same type of curly
braces we're saying into four and you
might want to do some indentation there
too if it makes it easier for you to
read now if we went ahead and refresh
our page you're going to see that
instead of printing out the database
object that actually said okay let me
print out the name of the title because
that's what we told it to print out and
I could have said video description or
video date or whatever to print it all
out in any sort of way that I want but
that's actually how you display HTML
surrounding your data so like you could
actually create a structure and repeat
it a million times over and it would
just be one little block of code
repeated a million times it just saves
you a lot of hassle that's what
templating languages do and that's what
you know Django's template language
obviously does as well so in this case
we only had one video let's you know for
craps and gigs let's go ahead and add
another video just so you guys can see
that it does work with endless amounts
of videos in fact I'll even reference a
video from a Django tutorial that is
part of this series so if I went inside
add video we'll give it a title of
creating our first app and Django 1.9
blah blah blah
okay let's say Django law anyway let's
go ahead and save that if we went back
over to our video page you can see that
it's now it went through each one and
now it's printing them off in order
because of that for loop that we did
inside of our Django template now
there's all kinds of ways of querying
the data most of the time you're not
going to want to grab every object in
your database and list it like I just
showed you especially if you start
having hundreds or millions of records
and stuff like that it's just not
feasible so in the following videos we
are going to get more into the data the
database language that is the Django arm
so you can understand a little bit
better of how you're going to get
individual data out of your database and
not just everything alright guys thanks
for watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>