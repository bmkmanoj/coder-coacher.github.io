<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a website with Django and React.js Video 8: Adding React State to our Django Page | Coder Coacher - Coaching Coders</title><meta content="Building a website with Django and React.js Video 8: Adding React State to our Django Page - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a website with Django and React.js Video 8: Adding React State to our Django Page</b></h2><h5 class="post__date">2015-04-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3D-wNreON-o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back alright so in the
last video we went ahead and we rendered
our first component using react in our
Django website and it's very plain we
created a style object can we attached
it to our component in this video what I
want to talk about is how we can add a
custom event to this react object so
that we can react to a particular
mutation or event on the the the Dom so
let's go ahead and go into our react
code and I'm just going to add a button
here
and above this render function we're
going to go ahead and create a new
function and and by tradition it should
be a camel case whatever sort of
function 81 so we'll call this custom
function I'll just call it a click
function actually I'm sorry that should
be calling is a function and make sure
you have a comma here separating your
custom click function from the render
and this is just standard JavaScript
what we want to do is we want to
actually subscribe this button click to
call this custom click function that
we've defined within our component so we
just need to go ahead and do an on click
event and just like we did in the last
video since we're referencing a object
here we need to use these curly braces
so that JSX can be compiled into the
proper JavaScript in order for this to
work and since we're referencing the
component itself a function that's
defined on the component itself we need
to use the this keyword which I'm sure
you're familiar with I'm using
javascript so we're gonna call the
custom click function so if everything
goes well when we render this page and
we click this button you're gonna see
the alert you click the button
so there's our button and that's it so
react was able to take the on click
event and then it went ahead and it
fired this custom function that we
defined now what if we wanted to do
something like change the state of
something because of that button click
that's where we introduced something
called state and that's where react
really shines because react can manage
thousands of components at the same time
and update only the ones that are dirty
meaning the ones that need to be updated
because something changed that made them
need to rerender themselves so let's go
ahead and define how we're going to do
that now let's go ahead and create a
just a standard h1 tag so this this is
text before the button click OK
like you know instead of that what we're
gonna do is we're gonna say this that
state that we're just call it text and
this could be whatever you want
in fact I'll call it custom text just to
give you guys the idea that this is
going to be named whatever you want it
to be named and instead of alerting you
click the button what we're gonna do is
we're gonna change that h1 and we'll say
this dot set state and you're going to
use curly braces because this is just a
JavaScript object and we're going to say
custom text and this is where we define
what that custom text should be since
they click the button and we'll just say
you clicked a button
all right so it's great I know I'm take
a look at this when we upload it
now you're gonna see that there's a
problem here because the state is null
and the reason why is because we're
trying to reference an object that was
never defined initially and in order to
solve that problem react components have
a event which says get initial State and
that's where you if you anytime you want
to use state you want to make sure that
you're instantiating whatever sort of
state objects that might be referenced
since this is like hey find me custom
text because some text isn't even there
because we didn't even define it until
the this button was clicked so this got
rendered it through the error it broke
everything so in order to to fix that
problem we have to do the get initial
state function and this is built into
react so this is something that you're
always going to get initial function
state and then here we just want to
return
we're just gonna return an object and
since we're referencing custom text we
want to make sure that is defined and
this can just be equal to nothing all
right so if we upload this this should
work
all right and the reason why they didn't
work is because of the typo here this is
not spelled right it needs to be good
initial state that way it will not have
a null reference error
okay let's upload this
all right so you can see that it is not
throwing an error anymore and now when
we go ahead and click the button the
state of this h1 which was empty by
default has now been updated to you
click the button so react was smart
enough to know that this this state
changed because of the button click to
make things a little bit clearer what we
could have done is we could have
actually given it some standard text to
begin with like text before the quick
so here it says text before the click
you clicked a button the state has been
updated and react renders the new text
now in react there is a difference
between states and properties and
properties you typically want to use
when you know that the data doesn't need
to be constantly monitored in this case
if we know that the click event is going
to update the text and it absolutely has
to use state because we know that that
value can change and update itself if we
know that the data that we're dealing
with is not something that is going to
change then we want to use property so
if we're just grabbing data from like a
band or something we know the band name
is not going to change we wouldn't store
the band name in a state that would be
in a property so in the next video we're
gonna discuss how to use properties and
multiple react components working
together
alright guys thanks for watching please
subscribe bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>