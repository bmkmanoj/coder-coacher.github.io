<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django 1.9 Tutorial - 3. How To Setup Your Database With Django 1.9 | Coder Coacher - Coaching Coders</title><meta content="Django 1.9 Tutorial - 3. How To Setup Your Database With Django 1.9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django 1.9 Tutorial - 3. How To Setup Your Database With Django 1.9</b></h2><h5 class="post__date">2015-12-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/T_IQwhAgtjQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up so in the last video
we had created a django project in the
movies 2 directory and I'm actually
going to use a tool which is called a
integrated development environment and I
had mentioned this in the previous
videos about how you can choose any sort
of environment that you want to use in
my particular case I'm going to use
Visual Studio so it has built-in support
to be able to run the application a
little bit easier than actually doing
the manual command of run server so I
don't want have to go through all that
process of having the run server on the
command line so I'm going to do this but
this is just an optional thing but I
want to make sure you guys are aware of
what it is and I'm doing so that way
you're not label why is this directory
look different now so I can create a
blank Django project and I can put it
inside the movies 2 directory that we
had created so I'll go down here click
on movies 2 I'll give this a name and
we'll call it a movie which I believe is
what we had called it before so I'll
click OK and this will actually create a
directory structure for me and I'm going
to say put it in a virtual environment
this is also an optional feature you
don't have to do that
you
so what this thing is doing is actually
going through and it's creating a
isolated Django environment inside of
this folder so that way any sort of
packages that this application uses that
I may choose to install the packages are
just going to be in that isolated
version so they're not going to conflict
with other Django environments that I
may have and that becomes important once
you start having multiple Django
environments especially with a lot of
different you know dependencies and
libraries that they might that they
might have alright so this is going to
go ahead and it creates all the folders
and everything I need so if we look at
it should be the exact same setup that
you guys had seen before where you have
a movie app and then you have the
settings which is the main app of the
project if we look at the settings file
we're going to examine that right now
Django works with all kinds of databases
out by default so you have my sequel
sequel Lite Oracle and then Postgres and
we're going to be using Postgres for
this tutorial I have another video that
I'll link to in this video which shows
you how to install Postgres on Windows
if you haven't done that but in short we
need to go ahead and create an actual
database name that we're going to be
using here and that's where the name is
going to go so in order to create that
database let's go ahead into our PG
admin tool which comes with Postgres and
PG admin is kind of like PHP myadmin for
my sequel it just gives you a GUI which
is just really just like a software
console looking thing that allows you to
maintain your servers a little bit
easier so you can see that we have one
server this Postgres and that means
Postgres is actually running because
i've installed it so i'm going to double
click on that and you have to put in
your root password and that actually
asks you for that when you go through
the installation process and like I said
if you have any questions without
install that just see my video even if
you did a quick search on you know Chris
Hawkes and Postgres you'll find that
video that shows you how to set it up so
we're going to go under databases and
you have I have a new movies database in
here and we're going to create a movies
to database for this tutorial series so
I could just right click and say new
database and give it the name movies too
and we need to assign an owner to it so
I'm going to actually
assign the root owner that was created
when everything was installed which is
just Postgres and then we'll click OK
it'll create the database for us so now
you can see that we have a movies two
database in here
and if I go in here you can see that
there's like a schema a public and
there's really nothing in there so it's
just it's just a blank database which is
what we want so let's go ahead and let's
go back to our application here and in
order to have Postgres work with python
especially python 3.5 since we're using
the latest and greatest we need to
actually install a an extension so that
works so here's this link if you want to
copy this so I should probably include
this into the video but this educational
website actually has a lot of tools that
you need for actually for a Windows
environment because Windows needs
binaries in order for things to work
especially with some of these Python
modules that require like C and C++
modules or compilers I'm sorry I didn't
think of the word and since we're using
three five here you're actually going to
want to install this executable down
here either the 32-bit version or the
64-bit version whatever version of
Python you chosen so I chose the 32-bit
version of Python so I would click on
this one you can see CP 35 means for
Python three five so somebody's already
done the hard work if you're on a
Windows environment if you're on a Linux
environment you probably want to worry
about any of that so good for you since
we're using Postgres we need to go ahead
and we're going to copy this little
string that it tells you to do and you
want to add that after the dot here so
that way it tells Django to use a
Postgres database now we need to give it
the name of the database and that's
going to be the name that we just
assigned so it's going to be called
movies to the root user if you went
through the installation process your
root user is going to be under login
role you can create additional login
roles and use that user but I'm just
going to use Postgres which is like
basically it can be considered the root
if you've ever used my sequel so I'll
say Postgres and then you have to put in
your password and I'm you know for
security purposes obviously not going to
show you guys that on this this video
but once you put that in your host in
your port can be blanked so you can just
leave that alone don't worry about it
alright so let's go ahead and do a few
more things here with our website we're
going to enable the Django admin and
that is not enabled by default but you
can see on a commented line down here
that you have this Django contrived a
demon and we want to uncomment that in
order to enable it and we can keep all
this other stuff the way it is for right
now
yeah oh there should be just fine all
right so now that we have it let's go
ahead and open up a command prompt and
this is an optional thing that I'm doing
right now because I have to go into my
virtual environment since I chose to put
the Django installation in a virtual
environment and if you didn't go this
route you don't need to worry about this
part but I'm just activating it right
now so go into the movie directory so
you can see your managed by file and
what we want to do is we want to create
a super user in Django so let's go ahead
and this is the first thing you do
whenever you create a database for the
first time with Django so we're going to
say I'm Python manage py and then create
super user and if you're using the
latest version of Python you're probably
going to get some some messed up stuff
here as far as like oh so let's see that
it's actually missing the module that I
had pointed to that we didn't install
into the virtual environment so let's go
ahead and try to install that now and
I'm actually guessing whether or not
this is going to work but we're going to
try it
so depending on your Python version
which if you're following along with
this video you're using 3/5 but when you
use pip install it should actually use
and find the module that's associated
with your Python version that you're
using and that's why I said I'm hoping
this works but I wasn't quite sure
sometimes with Windows things are a bit
of a pain in the ass you have to like
manually install and you run into the
binary problem and that's why they
create those executable files that you
can just run on your Windows machine
alright so whenever that happens and
that's such a pain in the ass and that's
a window specific problem so what we
want to do is we're going to go ahead
and click on this download file and
you're going to download this Python
Weil file go to your download directory
where we downloaded the wheel and it's
right here and we're going to copy that
and I'm just going to cut it I have two
copies here I'm going to delete that one
and let's go ahead and put that into our
virtual environment where python is
installed and this is once again
specific to virtual environment but if
you don't have a virtual environment you
need to go where the site packages are
and I explained that in the first video
when we installed Python I showed you
where Python modules get put but in the
virtual environment they're actually
going to be put inside where wherever we
said the virtual environment should go
so it's going to be in Lib and then site
packages and that's where all your stuff
goes inside the site packages and we're
just going to play paste that wheel file
that we downloaded and now let's go
ahead and let's go into that directory
so we'll go into this side packages
directory and now we just want to run
pip install and then the name of this
file which is long this held but we're
going to go ahead and type that in
says the file is not found that must
have typed it in wrong on second
you
so I think I typed it in correctly there
okay good all right that was a pain
sorry about that but anytime you guys
have to manually install a wheel file on
a Windows environment especially if you
need like a Windows binary and you go to
the education site and you download it
that's how you Manly manually install a
wheeeeel file in python all right so now
you can see that that is now working so
if we go back to our database location
where we were before this whole thing
happened we need to go back and create
our super user and now here is a
situation that occurs when you're using
the latest and greatest in Python and
that's why you guys will hopefully be
glad that I'm doing this tutorial this
only occurs as far as I know in Python 3
5 and Django 1.9 which are the latest
versions as of right now and what this
requires is that we have to actually
manually do a migration for the sites
and the author user so let's go ahead
and see the first thing I'm going to try
to do is run migrate off so we're going
to use this built-in keyword which is
migrate and then we just want to say off
because this is the actual
authentication table that we're running
into problems with with Django here so
we run that first and now you're going
to get a new error that says Django site
does not exist and now we need to
actually run the same migrate and I
think it's called sites might be site I
don't remember okay it looks like that
did work and now we just didn't need to
simply say migrate so we're going to
basically get the off the Django off to
update itself so that way it works with
the latest version of Python the reusing
so now that we've done that we should be
able to run create super user and now
this will go through the normal process
where it's going to ask you to create an
admin account so I want my username to
be seahawk and I'll give my email
address
and then my password and this is going
to be the password on to log into your
your admin site so you can give whatever
you want all right so now that we've
finally been able to do that we should
be able to log into our admin system and
if we go over to Postgres and we click
on movies - not really click on I'm
sorry if I go over here and I expand
movies - which is the name of our
database and I go over to schema and
under public and then under let's see we
need to refresh this actually so now we
have under tables here
Django went ahead and created all kinds
of tables that it needs to be able to
handle users and permissions and stuff
like that so we have like auth group
auth group permissions off permissions
so this is all built in really
complicated stuff the Django already has
included with it and that's one of the
selling points I was telling you about
with Django like over something like
node it's just that this authentication
system is so helpful when it comes to
building your typical website so all
that stuff was created for us now it's
in the database so now if we go over to
our Django app and one of the reasons
why I wanted to use this integrated
development environment as well as
because it gives me the ability to just
be able to click Play and if everything
goes well this thing should be able to
debug and run the server for me
automatically but if you don't have an
environment like this it's it's fine you
can just run the manage dot PI and then
run server that I was telling you guys
about which does the exact same thing
that this just did it just it fires up
the app and like I said I've showed you
guys how to do that in previous videos
just a look to that for any additional
information so it looks like the admin
is not working because we didn't
actually enable it in our URLs file so
let's go ahead and do that real quick
all right so what we need to do guys is
we need to go under the movie app of our
project and go under the URLs file
because you actually have to uncomment
two lines in here to enable the admin to
work so if you look down here you can
see uncomment the next line to enable
the admin so let's go ahead and do that
and then we also want to uncomment these
lines up here so that way the admin
works all right so now that we've done
that we can go ahead and on you want to
kill your server anytime you make a
change like that and then run it again
so we'll go ahead and not run the server
again
all right now if we go forward slash
admin the app is going to link to the
new Django and this is another cool
feature of Django 1.9 as they have more
of a bootstrap look and feel to the
admin so it has the more curvature look
so that's pretty cool that's something
that I've not seen yet
since I started I actually tried to
update the Django admin site myself one
time to create a extension that people
could just download that uses bootstrap
and stuff like that but the sheer amount
of templates and work and stuff like
that that is involved in updating this
was like tremendous so definitely a
great job for the community to be able
to update this because there is a ton of
CSS and Django custom templates and all
the stuff that makes this thing work but
let's go and take a look at some of this
stuff so Django has like all this group
authentication so you can create groups
assign people to groups which gives them
specific permissions inside of your your
app you have users here's my super user
which is you can see it's a staff status
and if we have multiple users logged
into our website or registered to our
site you're going to see all them here
and you can click on them to get further
information about them and then you have
your sites right here and this is um
this is so an actual admin panel can
manage multiple Django sites and not
just one but typically most people
aren't going to really use this or your
one domain instead of example.com will
be whatever domain you have for instance
new movies.com or something along those
lines whatever your domain is so anyway
guys out that's where we're going to end
this video this was a lot of work some
of this stuff was window specific some
of it was virtual environment specific
but ultimately everything I did is
something that you would do regardless
on whatever sort of operating system you
are besides you know maybe the few
things like I said word that were you
know completely specific but ultimately
we you know we didn't stray too far down
any one particular path like with
Windows or non Windows or anything like
that so hopefully you guys were able to
follow along if you have any questions
feel free to leave those in the comments
or reach out to me through the comment
system on you too
and please subscribe and vote up the
video I appreciate that and we'll get
into more stuff in the the following
videos thanks guys have a good day bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>