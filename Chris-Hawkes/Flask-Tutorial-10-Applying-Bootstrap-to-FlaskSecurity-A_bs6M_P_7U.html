<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial - 10. Applying Bootstrap to Flask-Security | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial - 10. Applying Bootstrap to Flask-Security - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial - 10. Applying Bootstrap to Flask-Security</b></h2><h5 class="post__date">2016-01-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A_bs6M_P_7U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up so in the last video
we went ahead and we implemented our
bootstrap template and one of the things
you'll notice is since we have flash
security installed and it comes with its
own templates as far as how to sign in
and register and all that stuff which
makes things a lot easier for us if we
go to like login actually it's not
letting me log in somebody logged in so
let's say all right so I need logout
that's kind of annoying that you can't
go to these pages if you're already
logged in not sure if I like that or not
but you can see the problem that we have
here is that this isn't using our style
of our of our site so that's a problem
so in this video we're gonna look at how
we can we can fix that problem the
templates that flash security users are
actually included in the library of the
of the download itself if let me see if
I can make this makes sense like if we
go to flash movie everything that we
installed like all of our libraries and
everything they're gonna go under live
and then cite packages and then in here
this is where all the the modules that
we've had to install everything from
flash security to like the plug-in we
needed for Postgres for our database and
if we go into flash security and they
have templates here and then under
security you have all these templates so
this is actually where all that stuff is
going and that's how that magic works
now in order for us to be able to
override that we need to go into our
templates folder and we need to create a
folder called security and now what I'm
simply going to do is I'm going to go
back over to our environment
Lipsyte packages and we're going to take
all those templates that's in flash
security template security and just I'm
going to take I'm gonna take an entire
thing
we're just gonna copy it don't cut it
and now if I go back over to my folder
and their template it's going to
security I'm just gonna paste all that
stuff in here okay and now if I go over
to my project here I can now have access
to all these different templates so if I
went ahead and I looked at all these all
these are fine and good but we need to
actually use our our index template and
really we have an even bigger problem
than that because index isn't using any
sort of master page so what needs to
really happen is we need to actually
have a proper template hierarchy of
basically a master layout and then have
all those sub pages use the layout and
all the sub pages will consist of like
profile index all those security pages
that we looked at as far as logging in
and logging out and all of that other
stuff alright let's go ahead and create
a layouts folder inside of our template
so we're going to add a new folder and
call it layouts and we're gonna add a
new HTML page and we'll just call this
layout one so here's layout one and then
everything in index I actually want to
control a toccata to copy everything I'm
gonna say ctrl C to copy ctrl a then
control V will paste over all that stuff
so everything that was in our index page
is now in our layout page and then if we
wanted to in our index page we should be
able to delete all this stuff and then
what we want to do is at the top we're
gonna say extends layout one we actually
need to give it the folder where it can
be found so it's a layouts layout 1 I
believe that should work so let's go
ahead and see if index still renders
properly and it does so the difference
going on here is that index obviously
doesn't have all that content anymore
even though that's the template being
rendered but it says hey extend
the layout page which is all inside of
here so in the layout page what we're
going to end up doing is we're gonna
create little content sections that
we're gonna be able to use for code
reuse right so like for something like
this
we would have we need to we need to
create blocks and know everything in
block it's a special keyword that Jinja
the template engine uses to say okay
this you know this means that anything
inside the block that matches this name
and the template is going to be injected
here into the master template so to give
an example we're gonna have a block
title so make sure it's in these curly
braces and percent signs and then you
just simply need to end the block all
blocks need to be ended so this is very
similar to Django actually it's an exact
same thing to Django if you've ever done
that it's a block title and block and
then in our template we can say block
title and then the same thing in block
so it's it's identical to our master
page but what it does is when Jinja
renders the engine it looks for anything
inside of here and then it's going to
inject it into the master layout so this
can be our custom title and if we went
ahead and we refresh the app you can see
that up in the title bar of our browser
up here you can see our custom title is
being rendered so you can see how
important that is to make use of
template inheritance and reuse it
minimizes the amount of duplicate code
because you obviously wouldn't want to
have you know tons of different pages
that look like layout one because
there's a lot of stuff going on in here
and a lot of this stuff can be reused
from one page to the next so anything
that needs to be unique should be put
inside of a block tag that way any sort
of inheriting pages can implement that
unique behavior that you're looking for
so we obviously need a few more block
contents the layout should handle the
navigation for us and probably anything
inside this container down here well
even in here
hmm so I wonder what's inside this
header so that's the profile PNG I'm
assuming that profile PNG guys this guy
right here
yeah profile PNG okay so obviously you
wouldn't want this big old thing on
every single page so we know that that
needs to be unique so what we're going
to end up doing
so this header is actually something
that is it does belong and you know
actually it doesn't all right so what
we're gonna do is anything from the nav
down to the footer is going to be unique
for every single page so what we want to
do is cut all of this stuff out and as
you can see I've actually minimized
because my editor allows me to do that
it allows me to edit or minimize all of
this HTML into like one line so what I'm
doing is I'm actually copying all this
stuff I'm going to press control X to
cut actually I want to take the header
little content contained one second I
want to take the comment to the header
comment so I'm going to say control X so
that's going to cut that and then under
the index page we're gonna create a new
block and we're gonna call it block
content since that's like the primary
content or the page and we'll stay in
block and then we'll paste all of that
HTML right inside of there so now this
only exists inside of the the index page
all right so if we go back over to
layout since we cut all this out in
order for this to actually show up we
need to also say block content so that
way ginger will inject all that content
from our index page and in block all
right
and once again it looks like nothing's
changed everything still remains the
same which is that exactly what we want
but we've actually changed quite a bit
so if I go over the index page we want
to we want to go over to the index page
and we're going to go this extends and
now we want to actually take the block
title and she might as well take the
content too so we're going to copy all
of this from our index page because
we're going to start injecting that into
our security pages well start with one
security page first though and this
first one is going to be a login user so
let's see if we can put this up here and
we're gonna change this block title and
all this stuff we're actually gonna put
that I think we'll put that right here
and then we need to do an in block on
the content which we're gonna put all
the way down here so that'll end the
block content let's indent some of this
stuff too and we can even change the
title of this page since this is login
page and now hopefully it's a work I
have not tried this before so let's see
if let's see if we get any good results
here so if I go to login all right so
it's not exactly pretty but the results
look good actually looks really good so
let's go ahead and make some more
updates here what we need to do is since
it's bootstrap we need to actually have
a div class of a can actually probably a
row
actually probably not a row I think
we're just gonna do a div class of a
container and our div alright so what we
did was we added an open div tag and
then we close the div tag and everything
inside of here is gonna exist inside of
a container and hopefully that will
actually center the content and the
center of the screen since we're using
bootstrap and now you can see it's
centered like it should be
now our button you can see like our
button looks really ugly so we need to
find out where that is getting it's here
so now one of the things we need to
change is the the button here it's using
just a standard plain gray button that's
just being rendered by the browser and
if we look at the template for login
user that comes with flash security and
uses some this weird markup which is
actually part of another flask library
called WTF forms or really WT forms it's
really funny cuz it's WTF which can
signify a cuss word but WTF forms or w-2
forms I can't even say that right and
flask it just handles it it makes form
writing much easier when it comes to
actual like validation messages and
stuff like that and rendering you know
the right dropdowns and stuff like that
I typically don't like form libraries
too much I really don't I mean I feel
like it's not that difficult to actually
make a form but yeah some people like
them and this obviously is using it so
what you have here is render field is
actually this is what's responsible for
creating the submit button and the
submit button doesn't have any good
styling on it's definitely not using the
bootstrap style so if I want to make
that use the bootstrap style I would
actually say I would do a comma after
the submit and then I give it another
argument of class equal and this needs
to be in double quotes and I use the
name of the class and it's actually two
classes we need to use with bootstrap if
you've ever seen that there's BTN which
is the standard button style and then
you also have BTN - primary which is
like you know the primary button and
since this is the primary button that's
the class that I would want there's also
like a secondary and a few other ones
you'd have to look at the bootstrap
markup or their documentation for more
information on that but you can see now
we're actually using you know nice
bootstrap styling believe it or not
changing the styling of the check box is
actually going to be a pain in the ass
and there's all kinds of different ways
of like trying to work around how to
style the check box a lot of times you
actually do it by hiding the input
element off the screen and then using a
label and you and then using CSS to
actually create what looks like a check
box but we're not going to get into all
that complication sometimes it's best
just to be like you know what check
boxes aren't really meant
style without all these workarounds and
I don't really care but either way that
would be like a CSS trickery type of
thing with bootstrap and has nothing to
do with flash for the tutorial we're not
going to mess with that but actually
getting a checkbox to have a different
style than what the browser natively
displays is a major pain so now that we
have the proper look that we want for
our login page and all the other pages
that we'll share this let's go ahead and
we need to go in and update what we did
here all the way from content on down we
need to actually actually no I'm sorry
let's just do the extends first so for
all these pages we need to add extends
at the top for any sort of well we don't
need to do it from menu actually these
menus are partial pages messages is also
like a partial change password is a is a
full page so we need to go ahead and add
that so we'll do that and then forgot
password as a full page let's add it
there login where did that register is
definitely a full page so we need to add
that up there reset password as a full
page send confirmation I think this is a
full page send login probably a full
page all right let's go back over to the
login user because now we need to add
the block title and the content and that
needs to go under these includes or from
security messages that we have for each
one of these pages so like change
password yet from and include go under
the include and we'll paste this and say
change password is and the title of the
page and then we want to do an in block
down at the bottom like we've done
before
and then do the same thing for all these
pages so right here this is gonna be
forgot password
okay here's register
reset password
send confirmation
hopefully there's a full page I have no
idea if these are includes that's
probably gonna be an issue let's go
ahead and see what we got going on
so here's login register okay so we
still have the issue where it's hanging
off on the side so that means we need to
wrap all this and I do class container
like we did before
I'll probably just copy that line that
way down here I can just say and if you
probably want the formatting to occur
indentation to make it a little bit
easier to read so of course we have to
do that for all of these pages as well
all right we're almost there
it looks like I mean we should be pretty
good at least some you guys should
definitely get the point and for each
one of those pages you want to go ahead
and change the style of your button
again I'm just like we did with the
login user so you can just copy all this
from the comma control C and we go
inside here you would just paste that
right here for the submit button
all right we should be done now all
right so now it's much better
we still also need to add style to our
input buttons our text inputs these
looked odd because these aren't really
the typical bootstrap inputs so let's
see that would be it would be the same
way we do this so let's copy that and
here so like if I went over to register
so here's email and password and all
this stuff so if I went email this is
gonna be in the class is gonna be called
form control I think I don't remember
I'm going off a memory here class equals
form control if that's right I want to
copy that
and here's password confirm let's go
just try that as well all right so let's
refresh all right so now we have this
100% width thing that you may or may not
like there's ways that we could fix that
as well but for right now at least it
actually has a prettier style to the
input itself
I'm not a hundred percent sure why we're
getting chopped at the top it's not even
asking for the username it's actually
chopped at the top so all that stuff is
hidden up here
the crap
well I mean a hackish approach would be
that you could like put in some maybe
some be ours for right now I just want
to do something quickly - normally you'd
want to put like some sort of style in
here - actually to move it down but for
right now you know that might work it's
it's pretty hawkish - no ugly but let's
add the the style to form control for
that email address input there you go so
the BRS are always hackers you typically
don't want to do that in modern day CSS
I mean it's really just HTML - to add
space but there's you know you shouldn't
rely on HTML to do any sort of styling
for you but a simple adding a class or -
a div tag or something like that that
provides proper margin and spacing would
be the answer to do that but we're not
gonna get into that in this video I've
already kind of gone longer than I
wanted to in this video but we did quite
a bit of work as far as being able to
adapt the flask security over to the
bootstrap theme alright guys thanks for
watching please vote up please share
with your friends and subscribe if you
would I appreciate that and I let me
know if you have any questions alright
guys have a good day bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>