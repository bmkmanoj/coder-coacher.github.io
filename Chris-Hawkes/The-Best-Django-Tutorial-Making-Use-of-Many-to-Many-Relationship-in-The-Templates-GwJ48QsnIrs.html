<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Best Django Tutorial - Making Use of Many to Many Relationship in The Templates | Coder Coacher - Coaching Coders</title><meta content="The Best Django Tutorial - Making Use of Many to Many Relationship in The Templates - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Best Django Tutorial - Making Use of Many to Many Relationship in The Templates</b></h2><h5 class="post__date">2016-04-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GwJ48QsnIrs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome back this is
the fourth video this tutorial series
and and this one what we want to do is
we want to query our database get our
tutorials we're sending them to the home
page and instead of displaying this
stupid flower we wanted to actually
display the Django video that were
referencing in YouTube alright so in
order to do that we need to make use of
our model so we need to import our
models into our views file and the views
file is located inside the post where we
identified our index and everything this
is what we're going to say from post
models our way notice all right from
tutorial models imports and we're going
to say tutorial
all right so now that we've done that we
can say tutorials equals tutorial
objects and then what I can do is I'm
going to pass down and this can be any
name you want but we'll say tutorials
we'll keep it the same name and then the
value is going to be the actual object
here which is a list of Django query
objects so what this does is says grab
everything in the database and we're
just going to do that as an example for
right now and then once it does that by
doing this it sends it to the tenth to
the template and it sends it to the
template under the name on the left-hand
side and then here's the value so in the
template I would reference this value
and this could be crap you know it could
be whatever you want to want it to be
but typically I make it be the same name
so it's you know more sane to deal with
all right so here is it just as an
example we're gonna just post this at
the top and then we'll say for item in
tutorials I will say item dot title
all right so this is inside of our
Django template now let's go ahead and
see so I actually needed to restart the
server but you can see that it's now
displaying tutorial 1 and tutorial 2
which is what we thought it would do if
there was a thousand tutorials they'd
all be listed right one after another
right now it's being displayed without
any sort of styling or anything like
that and we obviously don't want that
that would look like crap so let's go
ahead and move this and
let me think here so really this whole
thing down here we're going to get rid
of all three of these and what needs to
be repeated
so let's do this real quick and then
all right so the image source since
we're using a video embed and we're
gonna say item dot title in fact the
items a bad name we're just gonna say
for tutorial
and the source needs to be an image and
we could actually we can use YouTube's
image here and these double curly braces
are where we're actually going to put
our video ID so this is we're gonna call
this tutorial and then YouTube ID
I think that's what it is I don't know
that I need I didn't need to restart to
freaking server I didn't mean to do that
alright so now what we have here is um
we're actually dr. via the reference the
image and the tutorial itself what we
need to do is have a for loop inside of
our tutorial so another for loop and we
could say for a video in tutorial and
not tutorials because remember a
tutorial can consist of many different
videos in it and we just want the first
video so really I want to say tutorial
and this needs to say tutorial dot dot
first I think the first is gonna work
I'm not sure about this guys I haven't
done this in a long time
so for video and tutorial videos first
and I think this is going to work and
instead of toriel youtube ID that
doesn't even exist we're gonna say video
youtube ID so let's see if we have any
different results here
all right so first isn't gonna work in a
mini too many
all right so instead of doing first what
we're going to do is instead we're going
to say tutorial that videos at all and
then we'll just say dot 0 so this will
be it tells of the graphics first
all right so since the video object is
not iterable and I think I'm really
going about this the wrong way because
ultimately because it's not it's not
it's not interworld because there's only
one video but if there were multiple
videos then it would be iterable but but
even that that wouldn't work in fact it
would work if I took the zero off I mean
really what should happen is I shouldn't
be worried about picking the first I
should be doing this that's what I
should be doing that way it's going
through every video in the tutorial
because it's displaying every video it's
gonna display the image of the video
that that's technically what you would
want to do that brings up a problem
though as far as like the design of the
site tutorial should probably have its
own video image and yeah I'll explain
that more in a second alright let's go
ahead and just see it and see this in
action real quick so now you can see
since both tutorial 1 and tutorial 2
only have one video and they both link
to the same video you're seeing the same
image over again and if there were
multiple videos like I'll go ahead and
add my second one here
all right so if we have the second one
here
so I'll go into the first I guess the
first tutorial and we'll update that one
and we'll also include test2 in it
so you can see and the video down below
you have both one and two being
displayed so with the carousel and all
that stuff obviously this wouldn't look
good at all I mean really what you would
want to do is you'd want to go into the
index and instead of iterating through
this entire list we would just go like
this so we're going to say loop through
all the all the tutorials and then we
can save tutorial videos all dot 0 dot
YouTube ID so basically only grab the
first video of the tutorial series and
display that
which it still gives us to probably
because they're both active what happens
if I take one of these actives off
doesn't work at all
so since it seems that bootstrap needs
to have this item active be first this
is gonna be probably a little bit hacky
here so let's just go ahead and just say
tutorials and we'll say slice and here
we're just basically saying grab the
first one
that's a typo right there so what we're
doing here is we're actually saying for
this first loop just grab the first item
in the loop and give it the style item
active there's probably a better way to
do it but just off the top of my head
I'm just doing it this way
so item active but then the second loop
we don't want it to be item active and
we also instead of saying grab the first
we want to say great grab everything but
the first and don't display it in the
active another thing to be able to
differentiate my tutorial one from two I
want to grab one and I want to get rid
of this first video so basically they'll
have different different images that are
gonna display since we're only
displaying the image for the first video
in the tutorial alright so anyway guys
um so just a quick note again slice is
actually saying with this code here just
grab the first one so basically start a
beginning and stop at the first
this one says start at the first and go
to the end so it's not going to grab the
first one and that way it'll iterate
through two lists and this should work
all right there we go
all right so I went ahead and I added
two more tutorials to the list also two
more videos in each video or each
tutorial only consists of one video but
each video is different so that way when
I say display the image from the first
video
they'll all be different so you can
clearly see that this is this is not
working so they're displaying all four
different videos so I mean it's a little
bit hackish I think having to do two
different loops if I sit there and think
about it there's probably a better way
of doing it but this this does get the
job done it's just I mean it's it's not
that bad I guess I mean it works so
anyway that is how we query the database
so the object I guess now is to build
better styles to display this image so
basically they should have better
titling and captions all this stuff and
the images really don't look all that
good so it should probably be larger
maybe or maybe not
I don't know but basically there should
definitely be some text laying on top of
the carousel making it look better so
you should play with that if if you're
following along step-by-step we also
need to add a footer add some more links
and everything to the site and I guess
I'll probably get into that in the next
video alright guys let me know what you
think sorry about any sort of confusion
hopefully I didn't lose any of you guys
so the many-to-many stuff is a little
bit more difficult than your typical
Django development but if you can get
this stuff you can get anything else
that comes along with Django alright
guys thanks for watching have a good
night bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>