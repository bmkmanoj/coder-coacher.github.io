<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React &amp; Redux With ExpressJS (2016) - 8.  mapDispatchToProps &amp; mapStateToProps | Coder Coacher - Coaching Coders</title><meta content="React &amp; Redux With ExpressJS (2016) - 8.  mapDispatchToProps &amp; mapStateToProps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React &amp; Redux With ExpressJS (2016) - 8.  mapDispatchToProps &amp; mapStateToProps</b></h2><h5 class="post__date">2016-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3MEEmJ1h0oY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome back alright so in this
video we want to go ahead and create the
first component file and we're going to
call this the counter and actually want
to create it I want to create the file
with an uppercase C because this is kind
of like this is our main react component
because right now we just have this
app.js which is doing a temporary test
type of example here but this is going
to be where we create a much more not
much more complicated a more complicated
react component using more of like the
stuff that you're gonna see a more react
development so first things first let's
go ahead an import react and then I'm
gonna put a comma here and also say
we're gonna import prop types from react
so these are both from the actual react
library we're also going to be using
something called the connect which is
part of the react Redux project from
react redux and then we need to say
import counter actions from actions and
we created the action the counter
actions in their first video so now
we're going to be using another es2015
feature which is class classes don't
actually exist in JavaScript but now
we're pretending like they two by using
class app and then we're this is gonna
be the name of an actual app and we're
gonna say it extends the react dot
component now we need to call the
constructor so just like an
object-oriented languages JavaScript
wants to be like them and they're adding
constructors and we're going to say
something called super props and this is
just going to be in the good habit of
using this because any time we need to
use props inside of our constructor you
have to call super props before you can
use them so I'm just getting you in the
habit of actually doing that right now
now we want to say render and we're
gonna say inside render when it's a
return and this is gonna be our react
component so instead of our div we'll
just do h1 that says hello Reid
close that up and then here we're gonna
implement our counter so we're gonna say
counter and let's go ahead and close
this off real quick those off are do fix
the spacing okay
now here's where things get a little bit
complicated in order to use props and
react it's it's easy you know this stop
props he passes to the component but
here's the thing react is using props
from the actual global store which is
this immutable store that you know keeps
everything all concise between
components so we need to actually use a
special built-in feature react Redux in
order for the react component to
communicate with the Redux store all
this stuff is relatively complicated
actually I have a ranting video about
how much I don't like Redux but it's not
really Redux is fault but you know this
whole boilerplate stuff is actually very
very daunting and if you think it's
confusing the way that I'm explaining it
I don't really think that's the case
because I feel like the the way I'm
explaining it the way I've done this so
far is just you know the trial and
effort of what I had to go through in
order to get all this stuff working and
I really feel like just anybody out
there is gonna run into the same
headaches and hopefully you know this
series does help them at least get
started I mean that's kind of the whole
goal of everything here but I am known
to rant on redux being in an over
complicated mess but here let's go ahead
and use this connect key word so connect
uses a couple of default arguments
called map dispatch to props as well as
map state to props dispatch is how
actions are fired state two props is how
you take the actual global state and you
map it to the react components property
types so that way you can reference them
within react components so let's go
ahead and do that real quick it's best
to just demonstrate this we're gonna say
map dispatch
two props equals dispatch and this is
going to be the new arrow syntax as the
arrow function is what it's called and
we're gonna say return and it's gonna
return an object and we're just going to
call this test click and for now it's
going to be a anonymous function arrow
function that says dispatch and dispatch
is a built-in feature of of redux and
then we'll say counter actions and then
pass in the string ad so that's actually
how the actions and get fired so this if
we say test click is a method that gets
fired it's going to say hey called
dispatch counteractions ad it's gonna go
into actions it's going to say oh you
mean ad and then it's gonna call the
reducer and it's gonna say what type you
don't know ad okay change this state now
and then like I said the store is just a
global state of the application so it's
a lot there to swallow I'm sure but it's
best to just kind of go with the flow
here because this is all redux specific
stuff now we're gonna say map state to
props and this is kind of similar but
we're gonna say state another arrow
function and then in here we're gonna
say return state so really I'm not
mutating or doing anything special I'm
just simply returning state so when we
reference this dot prop stop whatever
and in our case our state only has one
attribute which is counter or count or
something like that what do we call it
we call it counter so if I've referenced
it inside of this I could say this dot
prop stock counter because of this but
in order for these two constant
functions here to actually be to
actually work we need to tie everything
together by saying constant and I'll
just create a name here this could be
anything we want to call if I'm gonna
say default app I could just say either
way I think the phone app is
and now I'm going to use this Kinect
keyword that we we passed in from react
Redux project and then this is going to
say the first argument is map state 2
props , and then map dispatch the props
and then we also because this is a
self-executing file we need to then
reference the class that we define which
is up here so just like that it actually
ties everything from our redux or I'm
sorry react application to our Redux
store so now let's go ahead and add the
this stop props counter so I can say
this prop stop counter and by doing that
if we run our application we need to
change our API so that we can start
using this this new the new counter so
what we're gonna do at the top of this
application we're gonna go out an import
counter so we'll say import counter from
counter all right so now we can use this
instead of hello react what I want to do
is I want to import the provider from
the react redux 2 which is another
built-in helper that we have to make to
make it much less boilerplate than we're
already doing otherwise there would be a
lot more employer plate if we didn't do
this but we're gonna be importing this
provider from react redox and from with
the the main application here is going
to be provider number si store so it has
attributes that store equals and I'm
going to say store I'll get into that in
just a moment
so now I want to close off the provider
okay and then inside the provider I want
to go ahead and reference our talent or
object that we've created and then we
need a comma here all right so now this
store here you're probably wondering
okay so now I need to obviously import
or create my store but I need to be able
to do that so the create store is
actually another redux specific thing so
every redux application should only have
one store and we're gonna go ahead and
create that now so I'm gonna say import
create store from redoubts all right so
now that I've done that I can go ahead
and create my store that we're gonna
pass in to this provider so I'll say
let's store equals create store counter
app so in order for this to actually
work we need to go ahead and pass in our
actual counter app again so let's go
ahead and if we look over at our
reducers we can see this counter app
here so let's go ahead and go back to
app KS and we're gonna import that down
so we'll say import counter app from
reducers all right so now this will
actually go ahead and load our initial
State I want to refresh this real quick
and we've made so many changes I'm going
to see what kind of errors we might be
getting thrown here
alright alright the reason for those
errors is we need to go over to our
counter KS folder and we need to
actually export our default EPS
so we're going to say export I'm sorry
fault
and then default app all right so now
that we've done that let's go ahead and
refresh this and now you can see it says
hello Redux and then we have this
counter which it's actually loading the
initial counter from state so this is
actually a good success here because
we've done a lot of work and one of the
if you guys are keen on what we've done
here you're gonna notice that we kind of
duplicated some of our work because what
we did is we actually defined our store
right here and and before we created our
store over here so what we could do is
we could have just simply imported our
store and had the same same same
functionality instead of actually going
to the App dodgy ass and creating a new
store but either way you can either
import your store or you can create a
new one inside of here
but the provider that we use from react
Redux project definitely needs the store
that has the initial state and the
initial state where does that come from
it comes from the reducer that says hey
here's the written the initial state so
that's how the 0 is being displayed is
for the reducers initial state alright
guys so in the next video we're going to
get into some functionality of how do we
actually change that state through react
and redux alright guys thanks for
watching please subscribe bye hey guys
so a lot of you asked me how do I get my
foot in the door to become a programmer
and I just want to take a moment to
mention dev Mountain coding bootcamp is
a 12-week intensive course that focuses
on the technologies of the here-and-now
for web development some of the things
that they're actually teaching in this
12-week course it's geared to get you
into the industry by focusing on things
like jQuery nodejs
react angular how to use github so a lot
of the things that you're going to need
to do as a developer as soon as you
start they're going to be
and this and this coding bootcamp and
the entire goal is to be able to get you
into the industry within 12 weeks so if
you guys are interested in learning more
information about Deb mountain coding
bootcamp just check out the link in the
description tab of this video thank you
for watching and have a good day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>