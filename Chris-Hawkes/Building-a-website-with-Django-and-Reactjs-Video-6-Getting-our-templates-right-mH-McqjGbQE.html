<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a website with Django and React.js Video 6: Getting our templates right | Coder Coacher - Coaching Coders</title><meta content="Building a website with Django and React.js Video 6: Getting our templates right - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a website with Django and React.js Video 6: Getting our templates right</b></h2><h5 class="post__date">2015-04-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mH-McqjGbQE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys thanks for coming back so
now that we've installed those two tools
that we feel like are gonna really help
us out with our development process
let's go back into our Django
application we have the restful api now
working and if you're jumping in the
middle of this series i would suggest
that you go back to the beginning and
kind of learn how we got to this point
but we have our template folder and
during development I want to keep things
sane so what I want to do is I want to
go over to this index file that we have
here where it's just a standard welcome
to new music in order to keep things
sane on the Django in we need to go
ahead and create a folder which we're
going to call master pages and for right
now we're just gonna have one master
page but we need to start I'm using
template inheritance from Django in
order to keep things neat and tidy so
this is going to be master page I'll
just call it master page not very
descriptive but I'm only planning on
having one at the moment alright and for
starters let's go ahead and it's add a
few things that we're gonna need here
number one we want to add the meta tag
because our sites eventually gonna be
responsive so let's go ahead and add
that right here and this is this
viewport width device-width and just
kind of copy along some of this stuff in
fact you probably just want to your web
page may even have some of this stuff
but there's just some basic things I
want to I want to do here now under the
title we're gonna go ahead and say noob
music and I'll give it a little pipe
sign and I'm gonna create a block tag so
if you've never seen this with django
django in the phone it allows you to
find sections of code that every page
that's going to inherit from this master
page in fact I plan on having every page
inherit from this page but every page
will have the ability to insert its own
custom title that will sit next to new
music so it'll be like new music bayside
or new music silverstein or whatever it
may be could even be the title of your
blog or whatever so let's go ahead and
keep things as simple as possible for
right now in the head we need to start
bringing in some of the static folders
that we're gonna need number one let's
go over to this static file and our
static folder or CSS and we're gonna
create a new CSS file I'm gonna call
this main dot CSS so in here let's go
ahead and just create a standard style
for h1 and we're just gonna just so we
know it's work and we'll change it color
to red okay
now I want to add that main CSS file to
the application so I'm gonna say link
relation stylesheet H ref now this is
gonna be something new that we haven't
seen we're gonna say we're going to use
a static keyboard and let's see
trying to think here
for right now we're just going to have
this thing pointing to the build
and it needs to be type text/css I just
closed it off right so that would be our
main CSS file now because we're using a
static keyword we need to at the top of
the page that's the first thing we need
to say load static files
I'm just gonna go ahead move things
right along let's go say this is nearly
our block content section and just like
we did with the title we can give this
any name we want this can be your mom or
something it doesn't even matter it
could be whatever you want to be but
typically I put two content just because
it's inside the body and it's gonna be
where the content of the page that
inherits from this so let's keep things
very simple for right now just to make
sure this thing works and we're gonna
use our index page but instead of all
this we're gonna go ahead and I'm gonna
save this and I want to get rid of all
of this and we're gonna use a statement
that says load or I'm sorry extends and
this should be just a path to the master
pages and master page dot HTML and now
we can inherit that or use that block
title that we had created earlier so
block title under say we're just call it
home since this is the primary page and
every block has to have an in block and
then let's go ahead and add this h1 and
we want to put this inside the block
content section and remember both of
these sections were defined in the
master page that this thing is
inheriting from I'm gonna indent that
too so we can read it a little bit
better alright let's go ahead and work
with what we have so now that we made
all these changes I need to go ahead and
upload them
alright so I'm gonna go and upload the
new master pages folder that I have here
and what date the index
alright let's go back to our new music
page
I got a template doesn't exist so I
couldn't find a master page I don't
think I need that /i let's get rid of
that forward slash
all right so we're halfway there so you
can see this is pointing to nothing it
doesn't exist but it is pointing to the
right build folder and that's what we
actually gave we put it in the build
folder and so that's going to come back
and I probably should have just pointed
to this CSS folder which is right there
but this is easily fixed let's go ahead
and upload the CSS and if we run our
gulp command that we've done in the past
where it'll minify everything and if
everything goes well then inside the
build and the CSS folder you'll have the
main dot CSS so everything went well
there and now this is pointing the
master page is pointing to the build CSS
so now that it's there we should have
this turn red all right there we go all
right so we're now using a master page
inside of Django and then we're also
pointing to our first CSS file and we
have a separate environment between dev
and build and build is what we consider
for production so now to keep things a
little bit easier let's go ahead and add
one thing to our template and what I
want to do is I want to basically if I'm
the logged in user if I if I'm like if
I'm if I'm me my super user I want to do
a just a simple if statement inside my
template to deliver the build or the dev
version if I'm installed as me and if
not then I'll just deliver the build
version so many customers that come
along to the website they'll get the
and while I'm developing I'll get my dev
version that way I don't have to you
know keep minifying and stuff like that
for the time being so to do an if
statement in the template to deliver
this version we use the proofs in the
curly braces in the % and we can say if
request user dot username equals C hrs
Hawkes and I'll do an else
and everything has to have an end if
statement
so once again you can see the difference
here is that when I'm developing I just
want if I'm logged in as me I just want
to be able to see my development version
and anybody else is gonna get the actual
build version of the site
now it's going to copy this logic and
we're going to put this down at the
bottom of the page and very similar to
this I actually want to turn this into a
script tag
actually the location we want to point
to both on jQuery and the reactor we
install that's gonna be in Bower
components if i reset that I can see
it's jQuery so inside my Bower
components folder Bower components will
say react godmen Jas
in fact that might not be right
separately in a reactor folder let's see
if we want to point to reactive power
components react and then yeah react
Minjae s alright that's good get rid of
this and then close off the script tag
you know it since I'm gonna be using
react everywhere I don't even want that
inside the if statement because react is
gonna be needed regardless of whether or
not I'm developing or not and I'm gonna
be serving up the the minimal minimized
version however if I'm logged in as me
I'm gonna go ahead and copy this and
after the react we want to point to the
JSX file so this enemy called JSX
trans4mer and so during development this
will turn our JSX into standard
javascript okay and we're going to
create a file that doesn't exist at the
moment but we're going to call this our
it's gonna be under the jazz folder
we're just gonna call this index react
it's probably not the greatest name but
we're gonna call that four right now so
we'll create that folder in just a
moment
in fact this will be a JSX file so we're
going to say type equals text JSX and
the reason why that's needed is because
that tells the JSX transformer to turn
this JSX code in the garage javascript
but in our production environment we're
not gonna use the JSX transformer
because the thing's a beast and this
thing is gonna be build in j/s and we'll
just call it index reactant yeah so it
should be good
so hopefully this all makes sense
one other thing that I want to add above
here is we're gonna add the jQuery
jQuery and let's look at that jQuery
folder so we can make sure we're pointed
to the right location see this has a
dist folder so we wanted that to be on
so I guess distribution or somehow even
though jQuery got min so we're gonna
point to that so jQuery dist jQuery got
men so that is a lot of changes here
let's go ahead and upload the template
and to see if that's working and you can
see over here now we have home in the
title page so let's go to inspect
element number one so looks like we have
a 404 yeah index react that's that what
we talked about we didn't actually
create that yet and also it's serving up
the index react
instead of the j-s version the reason
why is because I'm not logged in so if I
logged into the website that's not it
there's another Jango site that I'm
working on right now
shit so I'm gonna go into the admin if I
could spell right so I actually am
logged in user name is so this should be
working its I don't like that let's see
page source
I'm missing something here alright so uh
it might be a setting here that Missy
let me just sum I'm gonna put this in my
template here to see what's being
returned so I can reference a variable
in my template by using two curly braces
and I just want to see what this value
is because obviously it's not returning
anything because it's rendering this
version and not the version that I want
okay so it shows up now the reason why
it doesn't show up is that in the
settings file what we need to add is um
template context processors and actually
doesn't come by default so you can't
access your authorized user they're
currently authenticated user so some of
the stuff isn't needed specifically what
you needed is this
so template context processor is
defining your settings dot PI file and
then make sure you have this context
processors I added this other stuff that
I feel like should be there for other
sites that I have so it doesn't hurt to
add in this additional stuff there as
well so now that that is actually there
I'm you can see that we're now getting
the index error for index I JSX which
doesn't exist but you can see see it's
chrrs Hawk's does exist and the if
statement trance had a equal true so it
went ahead and declared in the index
react on a text file and said the dot
J's file since it's serving up the dev
version that I wanted to serve up so I
feel like that thing that you know that
little bit of code that would be able to
keep a lot of sanity during development
in that way whatever you're developing
won't break for any sort of users that
they're viewing your site while you're
developing alright guys so I'm now in
the next video we're really going to
start getting into react now so all this
time has been leading up to that point
so I'm excited we're finally able to get
to where we're trying to go alright guys
thanks for watching and please subscribe
bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>