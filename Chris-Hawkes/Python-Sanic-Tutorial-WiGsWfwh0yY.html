<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Sanic Tutorial | Coder Coacher - Coaching Coders</title><meta content="Python Sanic Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Sanic Tutorial</b></h2><h5 class="post__date">2016-12-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WiGsWfwh0yY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up good evening good
morning wherever you're at good day so
we're gonna be looking at the sanic
Python framework which is actually a web
framework which is ridiculously fast
because it only works in Python 3.5 and
using the latest a sync io signa wave
features of python 3.5 and it even
handles JSON requests faster than nodejs
so at least that's what I've been told
from the benchmarks and it looks
extremely exciting probably one of the
most exciting looking frameworks that
I've seen in Python in recent memory for
sure so let's go ahead and create a new
folder here for my projects every time I
do a new project I need to go ahead and
say open folder actually so I can create
the folder house on a book bitch I'm
just kidding I need to open up a
different folder in one second I'm gonna
say sanic so we'll go in there select
that folder and now how many folders do
we have open okay we just have one
that's good so I got a little bit of a
cold so if I'm clearing my throat off to
it's annoying me just as much as it
annoys you sorry I apologize for that so
now that we have this folder called
sanic let's go ahead and go into that so
we're gonna look for sanic down here
there we go and I'm gonna go here and
press CMD I'm on a Windows machine so
don't make fun of me and we're gonna set
up a virtual environment and we're gonna
call it environment or env for sort and
I'm gonna set there no site packages
flag so that way it doesn't share any
sort of packages or anything across
python projects even if there is a
dependency or a duplication of
dependencies if you have no idea what I
just said don't worry about it now we
need to activate a virtual environments
unless a
USA see these ladies am vs name I called
it am I going to see scripts and say
activate your on Linux you're gonna say
something like don't remember it
doesn't matter
you're on Linux you'll figure it out I'm
sure all right so let's see now we're
gonna pip install sanic yep just called
sanic
so hopefully this will work on Windows
if not I'm just gonna well let's try to
install UV loop which appears to be
where the error came so we'll try to
install UV loop and see if we can and we
can't well me right because I'm
using Windows so it doesn't work on
Windows it's not going to work on
Windows that means I need to actually
run it directly on my linux server so
I'm just going to do that and we're
going to put this into my music and
drive I believe music there we go I'm
gonna get rid of this music and say sudo
RM RF music okay I'm sure you guys can't
really see this is fine for right now I
make this a little bigger for you guys
come on putty
all right I should be better hopefully
alright so now that done that I now have
a no music folder this is fine so I'm
going to say make their music go into
the music directory now now I'm going to
be my virtual env
but I actually wanted to specify a
specific version of Python which I want
to be Python 3.5 I hope I have that
installed it's gonna be a good question
see if this works
no it's like it's working that means I
have Python installed on there so now
I'm gonna say C space Ben yeah source
activate is what I was trying to tell
you before all right so now that we've
activated our original environment I can
now say pip install sanic I forgot the
name of the project I was even doing a
video on
you know the more I do Python
development tomorrow realize like the
next computer is either gonna be half
Windows half Linux or it's going full
Linux because I I just can't I can't
keep up with some of the latest Python
 when I'm dealing with Windows man
it's just a nightmare
but the thing is is that I'm a Python
I'm not but I'm a dotnet c-sharp
developer so I need to have Windows
working in fact I like Windows it's what
I it's really the only operating system
I really know although I've been using
you know the Linux command the Linux
shelf or on a bun too for quite a few
years now and I run all my websites in a
bun - I'm still not comfortable with it
I'm not comfortable with it like I am
with Windows I mean he'll I remember
installing stuff with ms-dos like way
back like way back in the late 80s and
stuff like that so I don't know so now
that I'm dealing with a Linux server of
Windows environment I'm gonna be
developing my Windows code within you
know this here and let's just go
ahead and we're gonna create our tests
top UI it's probably a bad name
so
yeah we'll call it test that's fun I'm
gonna say from Sanok imports anak and
I'm gonna fussing on this so you guys
can see it this needs to be capitalized
and then up here where's it from
Sanok a dot responds import JSON also a
people's Sanok and this is very similar
to no js' if you guys have ever done
nodejs yeah route and we're gonna use
the asynch and we'll say
yeah this should listen this might work
I don't know I'm guessing now
I want you think
I think I wanted to listen on port 80
alright so what I did in order to get
this working on my Linux server I had to
set up a virtual private host in order
to tell sanic to run so the application
remains the same so this and what I did
though is I went ahead and I used a
different port number instead of 18 and
I changed it to 1 3 3 7 so basically
this tells it to spin up on the
localhost but then listen the port 1 3 3
7 now in order to have a webserver
actually be able to direct to this
application and return this hello world
I needed to to set up a virtual private
host so I have nginx installed and going
over to nginx here I created a new
busicom under my sites enabling sites
and acted and you can see that I have my
url which I own by the way yep that
would domain that you own and then I
tell it to point to the root directory
of the project and then down here you
can tell you can see is listening on
localhost and then 1 3 3 7 so what it
does is says if you get this port number
1 3 through 7 when and directed over to
the the application that's running so
then the next step was that I had to I
had to spin up the server by saying
Python - M sanik test app his test that
PI was the name of the file that we had
and then I give it a host with the port
1 3 3 7 I tell it to workers because I
think I don't have two cores on my my
server so then if I go to the web site
you can see that I'm getting under new
music comm the hello world JSON data
that was returned for the root directory
now if I killed the server by pressing
control C and I stopped it then I go
back to the application you can see that
there is nothing listening there so
nginx is actually telling it to forward
it to the Python application
that is being handled by sanic so
another interesting thing I want to
point out with the sanic framework is
that if you wanted to actually get
static files to be served then you need
to go ahead and add this app dot static
and then give it a directory name of the
folder where your static content can be
situated so here I have my static folder
which is CSS images there's nothing in
there or JavaScript and and I have my
main CSS which takes h1s and it applies
the color red so what I'm doing is I
said from sanic dot response instead of
returning JSON back I'm saying HTML and
then I use that HTML right here and
actually return HTML markup which
includes inside the head the external
stylesheet and you can see it's pointing
to the static folder which we told it to
look for here and then look for the CSS
folder which is right here and it looked
for main dot CSS and go ahead and
deliver that and then here is my h1 so
by doing all that and deploying this
then you have hello world and the style
is now colored red so we have static
content being delivered by sanic in
addition to that we also we're telling
sanic hey I want you to deliver this
HTML so this is absolutely ideal for
single page applications because what I
could do is I could actually say you
know what I'm gonna have a music based
website and I always talk about my
favorite BAM Bayside but I could say you
know what I'm gonna have Bayside be a
route and then Bayside is going to
return some JSON data so then what I
would do is I would actually have a
client-side framework something like
angular 2 or react or something along
those lines that would actually be
rendered down here and then it could
actually make those additional requests
to to pass down the data that it needs
now another thing to make this cleaner
is that you would probably want to take
this HTML and extract it into its own
separate file possibly even under a
templates directory so
say templates and I'm gonna get that out
of static all right so templates and
then no we can go ahead and just say
index.html and inside here we're gonna
not what I wanted to do I want to take
all this content and put it here
all right so now we have a more
traditional HTML where you get the nice
syntax highlighting and everything like
that and instead of this I could then
just do a variable rice a template
equals open
all right so I'm jacking this off what
I'm gonna do instead I'm gonna say
import OS and then for the template
whereas a OSI get CWD +10 place
I don't see if that works any better
because I was getting an error before
where I wasn't able to find the
directory so I'm such an idiot the
reason why I wasn't working is because I
wasn't uploading the templates directory
to the server so it wasn't able to find
it but this is a cleaner way I think
anyway is just to say you know what let
me create a template variable which uses
OS get current working directory and
then we tack on the templates that end
up that HTML and then when we return the
HTML we've read it so that's gonna read
it into a string and it's going to
return it to this HTML function which is
part of sanik so that's how you return a
template all right so now what I've done
is I've actually downloaded a bootstrap
template which is a very standard
template using bootstrap and it has some
stuff in here like jQuery and JavaScript
that I need so now index has a lot more
stuff to it you can see and what we need
to do is then say forward slash static
for all these static URLs that we need
to reference so you have to go through
that painstaking process of doing that
anytime we have any sort of mention here
of static content and it looks like
there's like a couple of them so that's
good
and now that we have the Refresh if we
look at new music you can see that now
see that we have this bootstrap theme
that's being delivered by sanic just
that easily so it was relatively painful
or painless process I think and you have
the responsibly out and all that other
stuff that we need so you can really
take this and start building upon it to
build you know your own modern-day
website so now that you know the next
step and really not something I'm going
to get into in this video would be to
check out some of my tutorials that I
have on things like like web pack and
redux also have some stuff on angular
and I plan on doing some more on that
but the next step is to get a
client-side framework in place that is
just calling your your sanic API to grab
JSON data and then display it and I
would do everything and like probably a
single page app at that point because
you know obviously what we've seen so
far is a sanic you know doesn't have a
template engine or anything like that at
least not that I know of
and it's not made for that it's made for
speed like RAW processing speed for
concurrency so you know I would I would
stick to its strengths by saying I'm
gonna have just an index page deliver
down it's going to load some JavaScript
and then the JavaScript is then gonna
take over from there and it's going to
communicate with the API it's gonna post
data it's going to grab data and for
static content I mean it doesn't get any
better than this I don't think for for
Python so a lot of people are like you
know just use node because it's very
fast it's static content you know it's
great for chat apps but you know credit
applications it doesn't really sellout
but with something like this I mean this
this competes just you know just as well
we're head-to-head with uh with nodejs
in my opinion at least what I've seen so
far so I think it's pretty cool all
right guys let me know what you think
make sure you subscribe for more of this
type of content let me know if you have
any questions and make sure you share
with all your family members and also
this video sponsored by deaf Mountain
coding boot camp so they offer both
twelve and sixteen week intensive
courses that are aimed to get your foot
in the door of modern day web
development and an even app development
as well so like
new app an iOS development so you can
build Android app so Apple apps and and
the idea is that they only focus on the
technologies that you need to know in
order to get your foot in the door so a
deaf Mountain all the information is in
the description tab in this video below
and just to let you know they do have
on-site courses as well so make sure you
guys check those guys out and they did
sponsor this video so thank you and have
a good day bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>