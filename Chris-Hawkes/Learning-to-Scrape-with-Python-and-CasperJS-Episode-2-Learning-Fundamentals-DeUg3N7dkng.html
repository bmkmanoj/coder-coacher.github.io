<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning to Scrape with Python and CasperJS: Episode 2 - Learning Fundamentals | Coder Coacher - Coaching Coders</title><meta content="Learning to Scrape with Python and CasperJS: Episode 2 - Learning Fundamentals - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning to Scrape with Python and CasperJS: Episode 2 - Learning Fundamentals</b></h2><h5 class="post__date">2014-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DeUg3N7dkng" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys welcome to episode 2 of Python
and Casper JavaScript scraping and in
this particular example of video I just
want to show you how to automate a
particular feature on a website so what
my end goal here is that I'm going to
I'm going to try to like my video
automatically using Casper so it's kind
of a daunting task we already know the
URL that's gonna make things pretty easy
so let's go ahead and start by just
copying in this particular URL or any
URL that you want and we're gonna go to
our test page here and the Casper got
start I'm gonna go ahead and just put
that in there okay
and there's second one we're gonna go
worry about so we'll leave the Casper or
this dot echo this docket title so that
way we can see that we are there what we
want to do is add a XPath variable to
our Casper script so that we can use X
pounds to to help extract data alright
so in order to do that at the top of our
script here what we're gonna say is
we're gonna create a variable X for X
path and we're gonna say equals require
and then we'll say Casper died select X
path and make sure it's a capital P and
now that we have that we can now access
X paths and that makes things a lot
easier so after this start statements go
ahead and say Casper dot then and then
we'll say function open and close
parentheses open curly brace and then
after your closed curly brace and closed
parentheses a semicolon there to close
off the statement and then inside here
we're going to say Casper click
and then inside of the parentheses we're
gonna say X and then another open and
close parentheses and that stands for
the X path and now we just enter into
the second parentheses here our actual X
path it's going to close off that
statement with a semicolon to get our X
path we just go back to our video and
then I'm just simply gonna right-click
on this like it button and we see it's
an image so we're just gonna go ahead
and just right click using Chrome and
say copy X path and I'm gonna place that
X path right here into the single quotes
right and then in order to see what's
going on with the page at that point
we're just gonna say Casper dot wait
I'll give it three seconds and it's
milliseconds so it's 3,000 make sure
it's common o comma open and closed
parenthesis after the function open
curly brace keep in mind this is just
all standard JavaScript with the syntax
like the curly braces and parentheses
and such now that we've done that we
want to go ahead and take a screenshot
just to see what's going on with the
picture since we don't really know I'm
just gonna call this test dot PNG and
I'll do semicolon here and now we go
ahead and run this
all right so you see that it found my
title and everything for the webpage
let's go ahead and pull up our folder
where the project is located and it's
inside here
I think so that way here's yeah here's
the PNG test file I should have named it
something other than test but here you
can see that you're using Safari browser
on windows that will stop soon stopped
supporting hmm that kind of sucks
now you notice here that the loading
symbol is taking place it appears we did
not leave enough time for this thing to
load so what we want to do actually
let's change some things around
instead of kaspar dot and then we're
gonna say casper dot wait for its
capital F and we'll say selector and
then the first argument with that is
going to be our X passages 2x open and
close paren to see in a comma and then
inside here I want to go ahead and put
my XPath to make sure that before we try
to call upon it and click it we want to
make sure that it actually exists that
it had time to load let's see if that
actually changes any of our results
another thing I want to do is I want to
change the viewport of the Kaspar dot
start and to do that you just simply
after the start and the the parentheses
want to go ahead and say dot and then
viewport and then here is just gonna
take a number so we'll just say 1200 by
I'll say a thousand the default viewport
is actually pretty small so hopefully
that'll work on same
okay so going back over here now you can
see that it did it actually work so or
did work I'm sorry you can see that we
liked it which is cool it didn't allow
you have to do the whole sign up process
apparently oh yeah because I'm not
signed in so it's not going to be that
easy but in a different video we'll get
into that but you can see that this
actually worked appropriately we hit to
like and it said hey you're not signed
in so that is how you invoke X paths and
to Casper JavaScript and that is how you
click a button using an X path and also
how you take a screenshot and by default
just keep in mind that the file save
directory is gonna be in the directory
where your script is located and in this
video yeah we touched upon a lot of
stuff so the viewport
in the XPath the screen capture and the
click statement with XPath and the wait
for selector which is actually a very
very important thing you want to make
sure that when you're trying to interact
with the page that you're interacting
with the page our portion of the page
actually had time to load alright guys
thank you for watching please subscribe
and we're going to touch on some more
stuff in the future videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>