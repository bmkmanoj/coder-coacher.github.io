<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flask Tutorial - 6.   Dynamic URL Querying | Coder Coacher - Coaching Coders</title><meta content="Flask Tutorial - 6.   Dynamic URL Querying - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flask Tutorial - 6.   Dynamic URL Querying</b></h2><h5 class="post__date">2016-01-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WijSHvC18ro" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome back so in
the last video we looked at how to query
data how to get data out of our database
and that's gonna be important for this
next step that we want to do what we
want to do now is since we're dealing
with this user table where we're
creating users for our website that
register so we'll have the username and
the email and we can add stuff to our
user database table at a later time if
we want to before I know we're keeping
it simple but we want to do is create a
profile page where we would then pass an
argument through the URL and we would
take that argument which is going to be
the user name of the profile that we're
viewing and then we're going to use that
argument to query the database to get it
the specific user that matches that
username and then provide the users data
so that therefore we have one URL one
template and and that could be reused
for every single user in our database so
let's go ahead and do that now and we're
going to copy everything from the index
method and we're gonna change the so
just have forward slash profile and in
order to pass an argument you need to
wrap it in the greater or less than
greater than sign and whatever you put
inside of here is going to be an
argument that gets appended to the Arms
keyword was in flask so this can be
whatever you want to want to call it so
we could just say we're just going to
say username because that's what we
expect to pass and so like I said this
is just a variable name it could be
whatever you want and now instead of all
this query stuff we're gonna go ahead
and just say user and then we'll say
instead of all we want to say first
right because we only want one object so
that way if the user doesn't exist it's
going to come back as none which is also
known as null in a lot of different
languages and we can say username equal
and then username which is going to be
passed in right here
and then let's go ahead and pass that to
our template so user user and now we
want to go ahead and create a new
template so we're going to replace this
name down here we're going to say
profile so we'll have a template named
profile which means we need to go to our
templates directory and add a profile
HTML page
and now we should be able to reference
the user object that we passed down so
I'm going to say user username
and this is just standard HTML markup
and everything and then down here will
say user dot email and we'll put this
under like h2 this is I mean this isn't
very pretty but it will work about well
later on into tutorial series we're
gonna get into like bootstrap and and
using react and other stuff to try to
spice up the the UI to make it look nice
but for right now this is all just
fundamentals of Flast alright so that
looks good in fact we can give it a
title we can go and reference the user
got user name so yeah that looks good
alright guys so let's go ahead and
restart our server and we're gonna go
ahead and navigate to the profile and
then do forward slash and then put the
name of the username that you want to
use to query our user database and let's
see what kind of result we get back now
that was silly of me I actually forgot
to rename the index since we copied and
pasted this needs to say profile that's
what we want to call our our function
all right so now we're gonna go to
profile and then pass in the name test3
so this is what happens when you copy
and paste so what this is saying right
here is that the username is undefined
and the reason why it's undefined is
because this value actually needs to be
passed into the function in order to be
able to get used by the function so
that's that should solve the problem
there let's restart the server it's
always good to make mistakes you learn a
lot by making mistakes and now you can
see that we were able to pass in an
argument through the URL and this
template is able to handle it
query the database return the data if it
exists if it doesn't it's gonna be no so
if I did that you're gonna get just
empty data right you'd probably want to
redirect if if if users know or or take
some sort of action you typically
wouldn't give them an a skeleton
template that has no data but you could
if you wanted to so this is as dynamic
this is what it's considered you know
dynamic dynamic content and reuse and
stuff like that so I thought we had a
test for do we not have a test for let's
look at our data here
we don't test for but he's not getting
queried ha that's interesting if you
look at um the reason why that's
happening if we look at test four inside
the data it's because there's an extra
space on the end which clearly shouldn't
be I actually just removed that directly
in the database so that would work but
that's why that was I was like what the
heck is that but anyway guys so yeah
this is all about code reduced because
what we can do is when this thing looks
pretty and we have bootstrap and images
and all that other stuff included you'll
have one particular profile and just
plug in the data and it looks different
for every single user that you you fit
for instance if I went over to Stack
Overflow and I looked at my profile page
this is obviously a template and it's
not like they're duplicating the same
template code for every single user they
have a very complex template that they
wrote probably just one template maybe
you know a few it's probably a complex
template I'm sure but it's most likely
one maybe a couple that are combined
together using whatever sort of
templating language that they're using I
think this is MVC so they're probably
using razor for MVC net and you can see
that if I went to like a different user
John skeet right he's one of the best
c-sharp developers he's actually the
highest rated he's got the highest
rating of anybody on Stack Overflow
but you see his profile is very similar
to mine right because they just
basically said Oh John skeet probably
using the URL up here or this unique ID
and then they query their database and
it comes back with all this information
so anyway guys that's the importance of
being able to pass in arguments through
the URL like that through using
templates and and just dry basically
don't repeat yourself as a common
programming term that you hear you know
keep things dry so that's what we're
doing here by using the template alright
guys thanks for watching please
subscribe boat up share if you would and
I'll be posting all this code on github
and I try to do that every time I make a
new video usually when I do videos I'll
do like three or four two times so the
code might not go up right away but
ultimately all this code for this
website is going to be available on
github through the link in the
description alright guys thanks for
watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>