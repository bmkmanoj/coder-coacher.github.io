<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django - Building a music project video 2 | Coder Coacher - Coaching Coders</title><meta content="Django - Building a music project video 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django - Building a music project video 2</b></h2><h5 class="post__date">2014-11-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fozd0NvGC_M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome back alright
so what we want to do is we want to
assign our static URL which is going to
be done in the same way that we did it
before with identifying our project path
and then taking the path and then
appending the static file so let's go
ahead and do that now so all our static
files will sit inside this same
directory so let me go down here I'm
just gonna try to keep this together
alright and then the same way that we
did this here we want to do the same
thing so we're gonna project path plus
static alright now we need to go ahead
and create that static folder which is
going to be inside the new music
directory so it will create a directory
called static and then inside static
we'll create a directory for Jas file
civil for JavaScript another one for
images and another one for CSS and
inside our CSS folder let's go ahead and
create our first stylesheet we'll just
call this main dot CSS and just to make
sure that things are working we're just
going to style an h1 and we'll say color
is bred in our home template let's go
ahead inside the head and we're gonna
drag in our main CSS folder that didn't
work so it's gonna say a link relation
equal style sheets
hrf is the link to where it can be found
so we want to use a Django shortcut
which is going to be called static URL
and you do it inside of these brackets
and that should be a shortcut to
wherever the static URL directory
resides so then we can say CSS and then
main dot CSS and let's just go ahead and
test this out so we'll add our h1 and
hopefully it'll be read so we'll say
this is our test and the server is still
running so I should just be able to
refresh my page and I can see the h1 but
you can see that it's not actually
finding the CSS file so let's take a
look at what's going on here for a
moment
yeah it's obviously a messed up path
there alright so the way I set that up
with a static folder would actually work
if you're in production but it looks
like since I never do with these
developments locally locally in Windows
so in order to get this to work and this
is not gonna work at all for our statics
we want to keep static URL the way it is
and then we need to do a little include
inside of our home dot HTML at the top
of this document when you say load
static files hopefully this will work so
if I had okay this is um sorry this is
not something I normally deal with let
me see so it's asking it's saying that I
should use my static file directories
and identify this in my in my project
here so this is going to be a direct
path to where my project is located for
projects and new music and
I'll just go ahead and say static or the
music
all right so that pass should work
so if I go ahead and let me go back to
my page real quick I'm gonna refresh it
and the CSS file is now being found
based on this I'm just to make sure I'm
gonna go ahead and just remove this load
static file this is not something that
we should have to concern ourselves with
for right now at least I hope now we'll
find out here in a second okay so adding
that to the settings file actually
resolves things so static file
directories and then just use the OS
path and that's a temporary hack for
right now for local production to get
static files served by Django alright so
let's go ahead and get bootstrap
all right
so what if I can just drag that in here
no it's not gonna let me do that it's so
excited I got extract it to it okay so I
simply extracted the contents of the
bootstrap we need the bootstrap I want
the unverified version in case I have to
debug it and then we have CSS and I want
the unmodified CSS so you also need this
bootstrap map file otherwise it'll throw
a 404 error message and I want the
bootstrap theme just in case I need it I
may not use it and then you have the
built in fonts and I so I added that
folder to the static directory as well
we don't have anything in the images so
that's what the the folder now looks
like so let's go ahead and like we did
with our CSS folder in the home HTML we
want to go ahead and this should be
closed off by the way we want to go
ahead and add the CSS and JavaScript so
let's go ahead and say link relation
equals stylesheet H ref and again static
URL yes this is call we're gonna have
the bootstrap
I could have copied and pasted that
entire line which is what I should have
done all right now at the body at the
end of the body time we want to go ahead
and import jQuery so go over here to
Google and we're going to search for the
Google jQuery library and the reason why
we're going to use that is I'm Google
can serve the a jQuery file instead of
our server having to do that it makes
things quicker and they have like a
better uptime then then most projects
that you're going to run on your own we
want the one version of jQuery instead
of the two so I'm going to copy that
entire source and just before the
closing body tag that's where we want to
go ahead and paste that script all right
now I'm gonna copy the same line but
here I want to replace this with the
static URL call and instead of the CSS
we're gonna use JavaScript and then
we're going to look for the bootstrap
J's file
all right now another thing I want to do
inside my templates directory I want to
create a new directory which we're gonna
call base and then inside base we're
gonna call we're gonna create a new HTML
file just called base one we'll just
call it well base one's a horrible name
I'll call this music okay its standard
base I guess I I'll just call it base
actually I'm just gonna call it base
they should be fine
now let's go ahead and take all the
contents of the home directory I just
want to copy at all and we're gonna put
this inside the base and inside our body
right here
remove the h1 and we're gonna do inside
this squiggly line and then forget it's
a curly brace and % we're gonna say
block content and what we're doing is
we're creating a master template that we
can use for inheritance for every page
in our application or any page that we
want to inherit from this master page so
we don't have to continue to type this
crap over and over again so we want to
create content blocks that we can
identify in the pages that will be
inherited from it so inside these
content blocks and we're gonna just
identify the structure so the title is
bound to change so we want to have a
block title so all the unique portions
of your page are going to be block
sections what I like to do with the
before the closing head tag I like to
say block header in fact I'll just call
it block head
every block do you identify it can be
whatever names you want it to be but it
needs to have the in block % and I want
to put one down here in case I on the
pages that inherit from this I'm gonna
call this footer scripts
all right so we have all these different
contents so now we can say in our home
we can get rid of all this stuff and
inside print signs parentheses same
thing we were doing before we can say
extends and then we just give it a path
to where this thing can be the base page
can be found and it's just based on HTML
and now in the page that is inheriting
from base HTML you need to inherit from
the same block tags so you don't have to
actually inherit or use all of them but
if you want content you do have to have
them inside at least one so you can see
here I don't have block head or footer
tags from the base page I don't need to
I don't need to add all of them if I
don't want to let us say testing a new
page that inherits from a master page
all right and you can see now that we're
actually using the same the page still
works the same way except this time our
homepage is just most of its markup is
coming from its master page one thing we
do need to identify that was why the
static file is not working okay it
actually works fine the reason why it
looks like it's not working is that if
you check this out it's actually getting
its style from bootstrap which we
imported into the file
so if I wanted to override what
bootstrap is doing there I could make
sure that this stylesheet is imported
after bootstrap so that it's um its
rules get taken into account or I can
give a more hackish important tag on the
CSS and that would probably work adding
an important tag would most likely
override that yeah and it does but
that's more of a hawkish approach one of
the better things I think probably is to
in our master page let's go ahead and
make sure that main comes after the
bootstrap CSS that way if we want to
override anything that bootstrap is
doing we won't have such headaches and
I'm gonna get rid of this important tag
and make sure that it does work
okay so you can see that that has better
effects
all right guys um so now it's going to
move on to making our first app which is
gonna be part of our project we want to
go to our command prompt and go to where
the file is located we can get access to
our manage p/y file and we're gonna say
python manage dot py start app all one
word and then we're gonna do the name of
our app and it's gonna be called band
since this is a music website and this
is going to go through and build some
basic documents at every app and the
Django project needs and you can see now
that band has been added here it
includes an admin which will explain
here in just a moment a models file
tests and then a views file so one thing
that we are going to want to add to it
we want to add a Python file or URLs py
file so URLs will add that I don't know
why it doesn't and similar to this URL
let's go ahead and we want to import the
same patterns including URLs so it's
going to make sure we add that to our
bands folder here and then similar to
this markup we want to follow the same
thing
all right so now that we have a bands
app what we want to do is um add to our
URLs of our main project we want to add
the URLs to the new New Band app so to
add the URLs to our band we need to go
ahead and do a regular expression and
inside Django the virtual routes are all
just standard regular expressions which
are like little cryptic signals or
symbols that signifies something it's
just text matching it goes back to like
the 1980s or even before that so it's
been around for a long time and
definitely something you have to get
used to as a programmer if you've never
used it before but what we want to do is
we use the caret symbol which means
starting with so it means match from the
beginning you know specifically the text
that follows this so we're going to say
band and then we want /and at a comma
and then we're gonna say include and
we'll say band URLs
all right so now anytime we reference a
band it's gonna then in our URL of our
of our domain and you have our domain
name forward slash band it's gonna then
say okay you requested band it's gonna
be handled by the band URL so it'll pass
that to this band URL so a music website
is most likely going to have a lot of
bands so what we need to do inside the
bands URL is we need to identify a way
that we're gonna be able to distinguish
what band is being requested so similar
to what we did before we're saying are
for regular expression which means
actually raw regular expression and then
inside open them close parentheses we're
gonna say question mark uppercase P and
then we're gonna say band underscore ID
and then we're saying /d + which means
at any sort of numerical digit one or
more and then by adding this last
forward slash we're basically saying if
you request band number one and you
don't put the forward slash there that
Django is gonna automatically add that
forward slash it just makes the URL look
cleaner and now we simply say what what
what view is gonna handle this request
so inside single quotes we're gonna say
band views and dot bands so the name of
our method is gonna be band so if you
request our domain.com forward slash
band forward slash one all this is
really doing is it's taking the one and
sending it to band dot views band and
that's what this regular expressions
doing
just simply taking the number from the
URL and passing it to this method which
we're about to define inside our views
folder so we'll say define band and
inside I'd said before in our in the
previous video that you always pass in a
request and now we just simply want to
say band ID so that's going to be the
second argument we never passed in a
second argument before but the URL is
going to automatically do that it'll get
that number and then it'll pass that
into the band of view so let's go ahead
and for the moment we need to go ahead
and import our render actually renders
on it I never use render for some reason
I'm like old-school Django I was using
render to response which I showed you
guys in the last video I guess the more
straightforward thing to do nowadays is
just east of the render so I guess
there's a new way to do this is just
simply to say return let me say return
render I don't even know how new this is
but I mean there's multiple ways to do
it but miss with the pols app show so
I'll say band and we'll say band HTML so
for right now that's it's all we're
going to do hopefully that works I don't
know if that works or not but we'll see
so it's complaining that the band ID is
not use them and we'll get into that in
a moment however we plan on using that
all right so for starters let's go ahead
and now we're saying in the templates
directory look for a band in band HTML
so what we want to do inside of our
banned folders we actually want to go
ahead and create the template directory
and then in here we'll say
I'm just create HTML file for the band
so I've actually never done it this way
so I'm curious to see if this e is even
going to work I said it's what I
expected the template directory doesn't
exist
so one of the problems that this poses
here is um in this tutorial it's best to
just learn this thing the right way the
first time around whenever you have a
django app the idea which angle is that
it's very modular meaning that I could
be able to take this band app and I
should just be able to plug it into
another Django application in order to
do that I need to have a templates
directory that sits inside of that
particular app otherwise it's not going
to be pluggable at least some you're
gonna have headaches trying to get it
installed so it's not modular at all if
I can't confine static directory and
templates directory to the actual module
itself so I just need to look quickly on
how I can actually reference that
template in the app and not the project
oh I actually know it I'm one of the
things that completely overlooked and
retarded is that in the settings uh any
time you add a new application like we
created it we need to add it to our
installed apps which we have not done so
inside of this installed apps this tuple
here we want to go ahead and just simply
say banned since that's the name of our
of our app and in order to install that
with Django we need to go back to our
command line and we want to say Python
managed dot py and we'll say sy N Sync
or sync DB so sy ncdb
and now it's going to go through it's
actually going to install the band and
says it creates a table for us and
everything so that's one of the reasons
why the template is not being found so
now the template is actually found and
by having the templates and the static
inside your app directory it allows
Django to be very modular so if we build
a nice sophisticated band app we can you
know sell it if we wanted to we can make
it open source and allow other people to
consume it and they would be able to do
so without running into major headaches
so anyway that is what we're gonna end
this particular video and the next one
we're going to go ahead and get into
setting up our models for our band app
alright guys thanks for watching bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>