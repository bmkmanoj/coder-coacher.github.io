<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a Django Website 9 - Installing Django Social Auth | Coder Coacher - Coaching Coders</title><meta content="Building a Django Website 9 - Installing Django Social Auth - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a Django Website 9 - Installing Django Social Auth</b></h2><h5 class="post__date">2014-06-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JTzCB6pRJlU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hey guys what's up welcome back to the
building our jungle website tutorial
series and we're moving right along in
the last video we actually created
authentication not really authentication
but registration so that somebody can
sign up and in the last video I provided
a link to all the templates that we use
for people to enable their password
change their password all that stuff
we'll worry about styling it more as we
go along in the future but for right now
you should at least have those on those
links installed and everything or links
available not really links but templates
anyway so the next step here in order
for the user to be able to sign in with
Facebook or Google we want to go ahead
and install something called the Django
social off which makes dealing with that
very easy so you typically have to use
the pip install or easy install to make
sure the Django social off is installed
for your Django setup and once that's
done we need to go ahead and add that to
our installed apps in our settings file
and let's go ahead and take a look at
that so underneath the registration
let's go ahead and keep it together
we'll say social off
and after we update that we want to go
and run sync DB like we've been doing
now sync DB does require that we use
South to migrate which is on somewhat an
unusual but we've done that before in
the previous video so let's go ahead and
do that now so python managed that py
schema migration social off
I'll try initial first see if that works
so that did not work let's just try to
straight migrated then okay that seems
to work hopefully you're not going to be
problems with that I don't think you
will but just to just migrate social off
over and now that that is installed
let's go ahead and we need to add a few
things in order for this to be able to
work now there's this link here that you
have to go to for people to be able to
log into their website on their Google
account you have to actually register
with Google it's a very quick process
but you have to give some information
about your app and everything and I'll
provide the link and the email or in the
comments section or description section
so just make sure you log in and what
they do is they will give you a when you
go over to the authentication and you go
to like open ID login
one second once you're registered um
you're going to be able to log in and
your I'll provide this link as well so
that we can go ahead and create a
project let's see we call a new music
project ID
they I should probably keep that secret
I'll refresh this and pause the video
for a moment so I can't provide this but
once you get to this page what you're
going to do is you're going to create a
new client ID and you just need to give
it the name of the domain for your
website that is going to be making a
call to the Google OAuth for
authentication and then once you submit
that it's going to create a Google OAuth
2 client ID and then it's going to
create an OAuth 2 client secret and
those are two things that we need to add
to our settings that py file so I'm
going to go ahead and do that now so in
the settings that py file this is what
we're going to need for Google to work
Google OAuth 2 client ID equals and this
is going to be the client ID that Google
has given you and once again for
security purposes I can't show it online
but if you have problems but I just feel
free to send me an email let me know or
leave a comment
all right and we're also going to be
using Facebook so let's go ahead and add
what we need to do for Facebook is well
to the settings file so we'll say
Facebook app ID equals Facebook API
secret equals and once again we're going
to actually register that with Facebook
so we go to Facebook you're going to see
something here I'll provide the link in
the the comments below and what you do
is you just have to go in and follow
through with this to create an actual
app so you can get the client Facebook
app ID and the Facebook API secret code
so after you register you're going to
come to a screen like this with your app
ID and your app secret and that is what
you put into your settings now people I
file alright now once we've done that we
need to go ahead and add additional
thing for Facebook to work properly we
need to say Facebook extended
permissions equals and this is a list of
the things that you request from the
Facebook Facebook users so like it'll
say you know they're like you could
access their friends and stuff like that
but at this point I just need their
email so that's that's all we're really
after but there's more that you can get
from their Facebook account while we're
dealing with registration let's go ahead
and add something called log in log in
redirect URL and this is it works with
Django's registration the registration
that we installed on the previous video
and all it's saying is just after they
log in redirect to the the root page
that are the document root so new music
com that's what that forward slash
indicates alright so going down to the
bottom of our settings of not py file we
need to go ahead and add something
called authentication
backends and this is going to be a tuple
the first one is going to be social off
dot backends Google dot will owe to
back-end second one is going to be
social off got backends dot Facebook dot
back in and then the third one is going
to be our standard registration for the
site itself so Django can't rib dot auth
dot backends dot model back in make sure
you have that that last a comma on there
since this is a tuple alright now that
we've done that let's go back to our
registration so that we can do our login
and I'm going to undo what I had on a
previous app that was using this on and
the templates for the registration by
the way are actually in the previous
video to this in video number eight I
did have a link over to the directory of
HTML pages that you can use for all your
registration needs however it won't
include this part so make sure that you
add this part so I'm saying you know
they can register or they can actually
log in with Google or log in with
Facebook that's what I'm doing here and
then also for the registration page
itself I'm going to do the same thing so
I'm giving them the option of
registering with Google so let's go
ahead and see how that works out
so we'll upload our new templates we all
seen you update my project with all the
settings changes let's go back to the
website
and say
I want to log out so I don't know how to
do that log out maybe okay so yeah I
logged out very good
so now we can go to accounts and then
register
okay let me see here okay we did
actually forget one step we need to add
social off to our URLs file so let's go
ahead and do that right now let's go
pull back up their URLs file and here we
want to just copy one line
and just go ahead pause the video and
put this in here just say include social
off URLs we need to update project
alright now it works so we can go ahead
and now register with the Google account
so it looks like we have a little bit of
a mix-up here on how its on being
connected one moment all right well at
this point some of the errors there it's
going to be related to the actual
account that you have set up with both
Google and Facebook making sure that we
have a privacy policy and things like
that that they need in order for the
services to work so Facebook's not going
to work for that reason I believe
Google's the same way now one thing that
you do want to make sure of is that the
authorized redirect URI is this email
address here or this URL obviously with
your own domain name in there but that's
one of the reasons why we're having an
error on the Google sign up
alright so updating that to that correct
redirect and when we click on the Google
now you can see that it is working so
this app you know blah blah all that
stuff can be set up within your Google
account so you can have like a logo and
more information about why your site is
you wants access and things like that so
at least Google is working Facebook's
not working and it's most likely because
we don't have a privacy policy page and
we'll get into that in the next video
actually we'll we'll go ahead and add
that so that we can try to get Facebook
squared away but we have made progress
we did install Jango social off and we
can now log in with both Google and then
Facebook once everything else's is in
place you know the way we went about it
has definitely the correct way so it's
just a matter of making sure all your
ducks in a row on the Facebook side of
things alright guys thanks for watching
I appreciate it and please subscribe bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>