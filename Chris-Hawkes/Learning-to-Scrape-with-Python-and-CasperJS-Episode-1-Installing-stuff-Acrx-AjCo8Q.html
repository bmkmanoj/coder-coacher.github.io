<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learning to Scrape with Python and CasperJS: Episode 1 - Installing stuff | Coder Coacher - Coaching Coders</title><meta content="Learning to Scrape with Python and CasperJS: Episode 1 - Installing stuff - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learning to Scrape with Python and CasperJS: Episode 1 - Installing stuff</b></h2><h5 class="post__date">2014-03-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Acrx-AjCo8Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome to a Python
and Casper scraping tutorial I have a
basic Python project in a integrated
development environment using a visual
studio you don't have to use Visual
Studio you just need a directory where
you can house your Python project folder
or files as long as you can run your
Python file that's really all you need
so the first things first we have to go
ahead and download Casper JavaScript so
you go here we're gonna grab the latest
version it'll download make sure you
have some sort of extracting client I'm
using 7-zip and we're gonna extract it
I'm gonna put it in my sea projects and
I'll create a folder inside here
kind of Casper Jas
all right so we'll select that folder to
extract it to that it will extract now
let's go over to our File Explorer go to
where we just extracted it
actually I should have went in one
folder deeper I'm gonna copy all of its
contents and put it in here and then
delete this folder all right so now that
we have this we need to go ahead and add
Casper JavaScript to our environment
variables so if you're using Windows 8
you can just right click and do a
control panel if you're using Windows 7
just finding your control panel go to
system system again advanced system
settings environment variables have your
path highlighted and click Edit and now
make sure you have a semicolon after
what is already there and at the very
end of it we're gonna add the path to
Casper JavaScript so it's in projects
Casper Jas and I'm just gonna click OK
okay okay let's open a command prompt
okay it still didn't work one moment
okay we're gonna check out the path
let's go back to the command prompt to
go to advanced system settings not gonna
prompt at the control panel and go back
to our path here and it's actually
another forward slash after Casper Jas
and then we're gonna said Ben I think
that should work it's open up a new
command prompt my Casper can now be
found that's good if you don't have
phantom JavaScript installed you do need
to have that installed I already have it
installed but you did the same thing you
just download it and then put it in a
directory of your choosing in the exact
same way that we did Casper JavaScript
and you can see that mine is located
here phantom Jas and you just need to in
your environment variables be able to
point to this application file so if you
want to take a look at what my
environment variables look like
and we can look here pretty sure it's
somewhere in here
that's a good question to see if phantom
is actually found so let's see if it's
found phantom is found there's got to be
a path somewhere here
it's actually in here
I just saw
yeah that's right here so you can have
it in this path or this path up here it
doesn't matter which one you pick just
make sure phantom javascript is added to
your path and that you can type phantom
j/s and your command prompt and that it
pulls up anyway okay so now that we've
done that let's go back over to our
Python scraping folder this is gonna be
a Python file here so I've created a new
file called scraping dot py I'm using an
editor that just simply prints you know
I can run it from my editor you don't
have have to do that you might have to
if you have a different setup than mine
just when I hit play you're gonna end up
invoking your Python script however you
normally do it so anyway a couple of
items that we need to download into our
Python file in order to be able to run
an application we need to import OS I'm
going to do that now import OS /
operating system and then we're gonna
import something called sub process I'm
using Python 2 7 I suggest you do the
same
I don't think sub process works in an
older version beyond t7 if you're not
using t7 you probably should consider it
really I haven't made that jump into
Python 3 oh yeah but I think you know I
think in a year or two I should probably
go ahead and do that but right now I'm
using Python 2 7 and I mean I think yeah
I guess 2 6 is probably acceptable but I
don't think sub process will work and
you might want to make that jump to t7
alright so we're gonna create a few
variables here and I'm gonna go ahead
and have them capitalized variable
variables so first things first let's go
ahead and give a Kaspar variable which
is going to be the location where we can
find casper javascript so it's forward
slash projects
and then Caspar Jas I think we have to
do Ben I'm not a hundred percent sure
about to get back to that it's going to
create a script file or a variable this
is gonna be called OS path join
and then this is gonna be the location
where script is gonna be and we're just
gonna run it out of the same folder for
right now so I'm just gonna say test J
ass
I move it on we're gonna have a variable
called params for parameters and when I
say equals Kaspar plus space plus script
right and now we're gonna actually run
the application by saying print
sub-process
dot check output and then feed it params
will say shell equals true
all right it's going to create our basic
phantom javascript file so I'll say new
item you drive script file we'll just
call this test IJ yes and I want to go
ahead and use the Phantom Java scripts
are not phantom but the Casper
JavaScript example
I need to set this as my start file
actually it's already set there by
default
I didn't you an afro
my bad I need to give the brute variable
we say a prote equals OS dot path doctor
named OS type passed out real path file
and these are two underscores by the way
all right
all right guys I'm what the deal is here
is that it needs the full path to the
Casper where it's located if you look
here where Casper jeaious is installed
there's a bin folder and we have
appointed the bin but we don't actually
say Casper Jas which is the application
that we need to call upon and I'll
explain this in just a second but you
want to add Casper Jas here really I
don't even I think we might need the
forward slash actually we probably don't
let's try it without it yeah so we don't
need the forward slash on there and
let's just see what this thing does here
for a moment
okay I think went kind of slow there but
uh I'll try it with the /y a forward
slash is definitely not needed I just
want to make sure
all right so that that time it did work
it looks like the the first time we just
ran that we have the first line here in
the second page that had visited it must
have failed for some reason or another
that can happen any time you're dealing
with HTTP requests that sometimes you
get some sort of hiccup or something in
a network and the request doesn't go
through so just kind of explain what we
just did here we use OS here to get the
full directory path to where we're
currently at and then we just append
tests ijs to it because test is is
located in our app route which our app
fruit says okay where are we right now
so that's what we've done here
we built this so we said where is the
application right now what folder are we
currently in instead of actually having
to spell out projects this that and the
other thing you could move this file
anywhere on any computer and it would
work the same way because the app route
takes care of figuring out where you are
instead of having to call an absolute
path now we did have to give an absolute
path to where Casper is installed and
this is just a direct path to Casper Exe
application and the way this works is
that Python says okay I'm calling Casper
exe and then anything that I feed to it
and beyond that are command line
arguments and our command line argument
is actually the Casper script that we
wrote over here so this is actually the
first argument that we're passing to
Casper JavaScript now if you're gonna
pass arguments into a Casper JavaScript
script which we will eventually get into
that would be a third argument that you
pass in down here and your params and
then we're just printing the output of
running the program of what it would
normally print to the shell we're saying
just go ahead and print that I'm here so
sub-process check output takes the
params as its first argument and then
just outputs to the shell and then we
read the shell and the print statement
so it's a pretty good opening example I
think to how you end up invoking Casper
scripts with Python you
OS and sub-process in the next video
we're gonna into some more stuff alright
guys thank you for watching please
subscribe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>