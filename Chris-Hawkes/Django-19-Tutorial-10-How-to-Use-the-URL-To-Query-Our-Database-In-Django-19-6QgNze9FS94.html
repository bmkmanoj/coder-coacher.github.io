<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django 1.9 Tutorial - 10.  How to Use the URL To Query Our Database In Django 1.9 | Coder Coacher - Coaching Coders</title><meta content="Django 1.9 Tutorial - 10.  How to Use the URL To Query Our Database In Django 1.9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django 1.9 Tutorial - 10.  How to Use the URL To Query Our Database In Django 1.9</b></h2><h5 class="post__date">2016-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6QgNze9FS94" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what's up welcome back so in
this video what we're going to do is
we're going to finally finally finish up
on some of those things I told you in
the previous video about oh we're going
to explain this a little bit more about
like get absolute URL and referencing by
ID and all this crap so we're going to
kind of make use of all of that right
now now if we go over to the URLs of our
video page that's what we want to do
let's go ahead and say we're going to
copy this line and we're going to paste
it above right and then in our regular
expression what we're going to be doing
is using a look ahead assertion where
we're going to be looking at an actual
integer that's passed in and assign it
to a variable and we can do that and it
Python regular expression by saying it
like this and this isn't going to make
any sense but if you just copy it all
you need to do is just not a copy and
paste even in the future it doesn't
really matter I'm not like a regular
expression guru or anything like that so
just copy this thing like line by line
and what we're telling this thing to do
now in fact know what we're going to get
rid of that original line don't you
worry about it just saw let's do this
here so I'm just copy this exact part
make sure it's exactly like this okay
because all we're doing is we're saying
in fact don't say movie I do this is
actually coming from something else a
video ID since the name of our app is
video and we're going to make use of
this little reference variable that
we're passing down the D in short is an
integer and it's telling it to match
whatever integer is in the URL so this
is all going to come together for you
here in just a moment let's go over to
our views py after the request object
which every Django view has we're going
to actually reference that video ID that
we just talked about which is being
captured and all it is is an integer so
we're passing it an integer that is
retrieved from the URL so if I say video
forward slash one video ID is going to
equal one and then instead of saying one
specifically we're going to say query it
based on the ID
and that's all there is to it if we're
gonna have to restart our server because
we made changes let's go ahead and
restart the server and now we're no
longer going to be able to reference the
original video like if we go to this
video page we press ENTER that video
page doesn't exist there's no URL for it
instead we have this dynamic URL that
says hey pass me a one and now we have
this new dynamic URL so you can pass him
whatever you want and it's going to
query based on the URL that you pass in
so it's a really cool feature they
actually explained that in the Django
pull app but it's so useful you're going
to use it on prom probably any sort of
model or app that you have that you have
a lot of you know different objects
you're going to be adding so just hugely
important now if you try to query
outside of you know the videos you have
because we know if you followed along in
this tutorial we only have two videos we
have one and we have to if we try to go
three it's going to throw a 500 error
and a 500 error means that the server
crashed and the reason why is because
the video does not have a matching query
there's no ID three it doesn't exist and
what you would do in the future is you'd
actually write code to prevent that sort
of crash from happening so we can
actually fix that problem very easily
Django has a shortcut right which is um
it makes this kind of thing very easy
and they have from it's actually in
their Django shortcuts app there's a get
object or 404 and we're actually going
to make use of that now because we don't
want to be throwing a 500 error if
somebody tries to query our database for
an object that doesn't exist so let's go
ahead and make use of this and the way
we make use of it is actually different
our objects get we're going to get rid
of all of this and we'll use the
importer get object or 404 and the first
argument that is passed to this function
is the actual class object which is a
video or whatever class you're trying to
query and then the second object is
going to be the actual query whether
it's a it'll be a get you know so it's
um you're not going to get multiple
objects back
was going to be just one single object
if it exists and if not it's going to
throw a 404 instead of a 500 server
error because a 500 will crash your
entire server and that's a bad user
experience so you want to make sure that
you have some sort of 404 page available
which we don't we're going to see that
in just a moment if we go over to our
app here let's go ahead and like try to
query 5 we know it doesn't exist we're
getting a 404 instead of the 500 so if
we go to to it exists and we're just
fine so that is how we use the URL to
query our database and also to not blow
up the app in the process so this is
definitely a useful feature and all it
took for us to be able to do it was we
use this so it doesn't blow up which has
to be imported and then as far as the
views itself would make use of this
video ID which is captured from the URL
and it's sent to the Django view
function by this URL regular expression
in our URLs file and this doesn't have
to make a whole lot of sense to you
don't have to understand what that is
you just need to be able to copy it like
I said verbatim and it'll be able to do
what you want so anyway it hopefully
it's not too confusing for you guys I
know it's a little bit weird if you're
just getting started in programming or
Django and it's a cool useful feature
though so anyway guys thanks for
watching have a good night bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>