<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a Django Website 2 - Setting up the settings.py file | Coder Coacher - Coaching Coders</title><meta content="Building a Django Website 2 - Setting up the settings.py file - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Chris-Hawkes/">Chris Hawkes</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a Django Website 2 - Setting up the settings.py file</b></h2><h5 class="post__date">2014-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Txxa-NP1gXs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the
alright guys welcome back so in this
video we're gonna be moving right along
we're gonna go right into our settings
that py file and we need to go ahead and
set up some stuff you need my sequel
installed locally or on your server if
you're gonna be I'm using my sequel
there's also this Postgres pool I can't
really see it very well I've never used
it before I heard it's good sequel like
you probably want to stay away from that
it's a good small back back-end thing
but I mean we want to do the real deal
in here so I have my sequel installed we
need a name of your your actual database
and what you need is you need to be able
to log in to either your my sequel your
my sequel command prompt and by doing
that you typically on a Windows setup
you could just type like my sequel and I
don't actually have it set up so I'd
have to actually go over here and I have
like a mine sequel command thing that I
can log into but it's better if you have
PHP myadmin installed it just makes a
lot easier to deal with so I can go over
here and I can say database is created
in database and we're gonna call it
music since the websites called new noob
music.com and I'm gonna go to utf-8 bin
since that's handled and well bye-bye
django so now we have a music database
with nothing in it so that's fine that's
exactly what we want
and we go over to our settings file we
now want to give the name of the
database whatever we just named it so
the user and password is going to be the
user and password that you set up for
your my sequel installation so when you
set up my sequel if you haven't done
that yet it'll ask you to create a
username and password so that's what
that's going to be allowed domains this
is something new for django 1.5 it
basically says if you're not debugging
what what domain is actually allowed to
serve traffic to your site so we want to
say new busicom or whatever the name of
your site is
here I'm going to change this to New
York because I'm on the East Coast in
the United States in Virginia this use
use time zone I don't know that I want
that in there
I don't
you know I may try it that's a good
question I I'm gonna leave that in there
for right now but yeah I'm gonna leave
that in there for right now but I am
gonna turn off this year's Elton and I
want that set to false because that's
actually caused problems with my date
times before and let's go ahead and want
to add a date format while I'm in here
so since this is all date related let's
go ahead and put date format and this
tells Django how you expect dates to be
parsed so that if you're running
something daily or monthly or something
like that
Django knows that the dates that it
should be using is a year or so
full-year spelled out four digits month
two-digit month two-digit day okay media
route there's gonna be a directory that
goes straight to the place on your
server or hard drive where your setup is
on installed so we're gonna have
everything going to our static folder
for our media root media URL is going to
be the actual HTTP address that would go
to the web site and it needs to have a
forward slash on the end remember it'll
throw an error if you don't have that
static URL this is something that is
going to also be an HTTP address to
where it can find your static files like
your CSS and stuff like that I'm gonna
tighten noob movies a lot because I do
own that and it's just how to have it
that you know work on it a lot so that
I'm gonna out of a habit I end up doing
that now the static route this is gonna
be something that we want to import at
the top of the file OS per operating
system so import OS which is a common
Python module and then down here let's
go back to static URL and this is where
we're going to do a little bit of
dynamic beer we're gonna say OS past
join OS dot pastor name and then double
underscore file and double underscore
closed off the parentheses comma and
enforce our static admin and we'll
explain that more later and I do need a
closing off parenthesis there okay
our static file directory is gonna stay
stay empty for right now we're a
template directory this is important
this word it's gonna find all of our
templates so let's go ahead and this
will once again be a complete path to
wherever you have your templates
directory so that is in our application
under templates and you don't need to
forward slash on that one okay and for
right now I'm gonna get rid of all
logging we'll deal with that in a later
session okay since we took all of the my
project and we basically made it one
folder we just want the root URL config
so just to point to the URLs file which
is in the same directory as the settings
file so if we don't change that it would
not find it and we could throw an error
let's go ahead and add this to our name
our name here we're gonna put whatever
your name is and then a email address so
I'll provide my email I don't care - a
gmail account I get a lot of mail from
people asking questions and stuff I
don't mind it alright um it should be
about good for right now
you're gonna have your own little secret
key there don't really want to share
that
all right so we should be pretty good
right there for right now since I'm
running this project on a actual Linux
server I need to have this my project
whisky file and Windows doesn't know how
to open it I can just refresh here and
open it here but this file is going to
be pointing to the application on your
it's going to be a direct path on this
path out of pen and it needs to have a
direct path to where it can find
settings and settings exist inside my
project so it's absolutely a must that
that is a they added there now I'm gonna
add another folder here which is called
logs and I just put logs here I don't
know if I want to capitalize that
actually I just wanted to be logs then
we're gonna add a new item just want
this to be a text file this recall is
airdog and then a new one add one more
and it's gonna be called access log and
this is for Apache purposes so you
probably don't need to deal with this
but my server is set up in a way that it
needs to actually be able to find this
logs directory to be able to write error
logs pertaining to the new music
application now that I've done all that
I want to go ahead and let me refresh
everything over here and we want to take
everything we've been working on locally
we want to update that and to our
project directory
okay and now let's keep moving right
along we're gonna go into our my project
file into our URLs dot py and we want to
uncomment this first line and typically
what I like to do is I'm gonna get rid
of this middle argument here the entire
thing and I like to just simply say from
here views dot index so what this thing
is saying is that the URLs is a regular
expression so the caret sign means start
at the dollar sign means and that
anything in between there is what it's
going to match now since nothing is
there it's gonna match the root domain
so in my website's case it's new music
comm and it will route it to the views
dot index now this would throw an error
because we don't have a views file so
let's go ahead and create that now and
it's gonna be a views dot py and since
the URLs is pointing to a index we want
to go ahead and build that now so define
index and then inside here the first
argument to any method in your views
files and you're gonna get really
acclimated with views files is that it
always has a request object the request
object has things like post parameters I
give somebody posted a form it has
things like their user agents no play
that all that stuff exists inside of the
request and including their IP address
and all that other stuff so to get index
to work we need to go ahead and import
some stuff at the top of our view we're
gonna say from Django dot shortcuts
import render to response and then from
Django dot template import render to
response or render context I'm sorry
render context so now inside of our
default item here let's go ahead and
just simply say return render to we're
using this shortcut that we just
imported to response the first thing
that you're going to provide is
next out HTML
yeah just simply that and then put a
comma we're gonna have an empty
dictionary and we'll touch on that later
but just have an empty dictionary and
then the last thing is going to be
request context the last thing that we
imported there and the argument that
were going to feed it is the request
object
alright so that's not gonna make a ton
of sense right now but over time it's
just like standard boilerplate stuff
that we need to add I make sure response
okay so that is spelled correctly all
right this should be about good now this
will also throw another error message
because we don't have an index.html so
let's go over to our templates folder
and let's just create that right now
which is um we're just gonna create a
very plain HTML file we'll call it index
obviously and that creates index dot
HTML and then just so we can see if it's
work and we'll say welcome to newb
musicom all right so let's go to our
file if you're not if you're developing
on a server you have to do this
routinely you know to update your files
and stuff like that if you're doing
locally you're just dealing with one
directory and running probably the
Django and built-in web server but this
is more of a production tutorial website
of how you build a website in Django so
anyway let's go over to new music comm
and see what's going on
all right and that's actually good that
we got through and this is the only
error that we can find so it's pretty
awesome all right so it says cannot
import render context I probably spelled
that incorrectly let me see what am I
supposed oh yeah that's not right I got
that confused alright so we want this to
say request context okay update that all
right never goes so we have a working
Django application just a quick on a
Linux server public-facing in the next
video we're gonna grad n um enable our
admin set up our database a little bit
further
alright guys done thank you for watching
please subscribe please like see you in
the next video
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>