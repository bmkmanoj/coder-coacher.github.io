<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Auto-hide Floating Action Button in Ionic 3 | Coder Coacher - Coaching Coders</title><meta content="Auto-hide Floating Action Button in Ionic 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Samarth-Agarwal/">Samarth Agarwal</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Auto-hide Floating Action Button in Ionic 3</b></h2><h5 class="post__date">2017-09-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7KhEJ-OLH_I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome back to my youtube
channel I am back with another video for
you guys and in this video we are going
to learn about creating a floating
action button for ionic applications
which hides when you scroll the page
towards supportin and shows up again
when you scroll the page towards the top
this button has been used widely in many
modern applications including Facebook
and LinkedIn so if you look at the app
on your screen you can see that the
button hides as you scroll the page
towards the bottom and the button shows
up again as you scroll the page towards
the top the same functionality has been
implemented in the LinkedIn Android app
as well so as I scroll the page towards
the bottom the button hides and it shows
up again when I scroll the page towards
the top and this hiding and showing
mechanism is animated so let's build
that so here I am starting with a blank
ionic application and in this blank
ionic application I will just go
straight to my home - - tml file inside
the pages folder in my SRC folder so
this HTML file contains HTML code for my
only page so I'll just remove the code
from here that already exists and I'll
paste in a lot of HTML code so that I
have a lot of scrolling on the page so
as you can see that now that I have a
lot of content on the page I can easily
scroll the page okay now that I have all
this content all I need to do is create
the iron fab so I'll use the iron fab
component for that and inside this iron
fab I'll create a button so I'll create
a button using the button tag and
applying the iron fab adaptive inside
this iron fire button I'll put in an
icon using the iron icon component and
I'll just give it a name and the name
will be created so this will be similar
to the icon that we see in Facebook
handling
let's save the application and see how
it looks so you can see that I have got
the fab button but the position is not
good so I'll change the position to
bottom right corner and I'll also change
the icon to iOS create outline and now
you can see that the icon is just
perfect and the position of the fab
button is also like we wanted okay I
also place in a reference name here
using the hashtag so the name will be
fab and using this fab name I can
actually access this fab if I need to
I'm just doing this for now now I'll
just go ahead and create a new eye on a
directive because we want to add some
functionality to an existing component
we will create a directive so I'll just
do I on ik G directive and then the name
of the directive which is auto height so
this creates a new directive folder
inside the SRC folder and inside that
folder I have a folder called Auto hide
I also have a file inside this folder
which is called directives dot module
tortillas file which I do not need as of
now and all I need to do now is just
import this directive in my abroad
module tortillas file and pass it in the
declarations array as well so I'll just
do that save the file and close it now
all I need to do is just use this
directive in my HTML file so you can see
that the selector also hide and I'll
just use this selector on my iron
content in home to HTML and I should be
good to go so I'll just check console
log in the browser and if I see the
console log from my directive it means
that everything is good so far you can
see that I get this console log and if
you get this console log it means that
you have done everything correctly as of
now now we can proceed further so the
first thing that we will do is hook into
the scroll event which is fired
whenever the iron content on our page is
scrolled okay so the name of the event
is iron scroll and we can hook into this
event using the host property inside our
directive decorate
so I just I've been hosts and I'll pass
an adjacent object to this host property
this JSON object takes in the name of
the event which is raised so the name of
the event is iron scroll and the
function that should be called every
time this event is raised is on content
scroll we will create this function in
just a moment this function will also
get a parameter which contains the
information about the event so all I
need to do now is create this function
so just go ahead and create that I'll
also pass in a parameter let's call it E
and for now what we can do is just log e
to the console okay so now if we head
back to our application we should see
console logs as I scroll the page in the
app so I'll just resize the console a
little bit and I'll resize the app a
little bit as well and you can see that
as I scroll I get a lot of console logs
in the console each console log contains
a property called scroll table which
actually contains a number that tells us
how much the user has sold in pixels
okay so if I scroll more the value of
scroll table increases if I scroll
towards the top the value of Scone table
actually reduces to zero ultimately so
we will use the value of scroll taught
to identify if the user is scrolling
towards the top or if the user is
scrolling towards the bottom so we will
do that before doing that we need to get
a reference to our fab button well just
create an object called fab to hide and
I'll also create a number called old
scroll top and I'll default its value to
zero now I cannot do anything in my
constructor because the view is not
initialized when our constructor is
executed and we cannot get reference to
any components in our view so I'll have
to use ng on in it instead and get a
reference to my fam but n't and store it
inside our object back to hide so I'll
just type in this dot fab to hide is
equal to but here I need to import two
modules the first one is renderer and
the second one is elementary one
have imported these two modules I will
have to pass them through my constructor
well just do that real quick and now
I'll use this dot element dot native
element and here I use the function get
elements by class name which takes in
the name of the CSS class which is
applied to the component that you want
to get a reference to so I know that fab
class is applied to the fat button and
since this returns us an array I just
want to get the first element so I'll
just pass in the index 0 so this gives
me a reference to my fam button and I
have that object stored inside fab to
hide ok now I just need to find out if
the user is scrolling towards the top or
towards the bottom so to do that what I
can do is subtract the current scroll
top value from the scroll of value that
we receive when this event was fired the
last time so if the difference is
positive it means that the user is
scrolling towards the bottom but if the
difference is negative it means that the
user is scrolling towards the top so
I'll just use old scroll top number to
store the previous value of scroll top
and I'll just subtract the values and if
the difference is greater than n you can
use 0 if you want then I'll just log
down to the console otherwise I'll just
check if the difference is negative or
less than zero then I just log up to the
console and finally what I'll do is just
store the value of current scroll table
in our old scroll top number so this
will update the value of old scroll
table every time let's see if we get
these console logs now so I'll just
scroll the app page towards the bottom
and you can see that I get a console log
down which tells me that I am scrolling
down if I scroll towards the top I'm
getting console logs telling me that I'm
scrolling up okay so I'm getting these
console logs which is useful because I
want to hide and show this button based
on whether the user is scrolling up or
down so now all I need to do is use this
dot renderer dot set element style
function to show and hide this button
inside the set element style function I
can pass in the reference to my fabric
which is they start fab to hide and the
second parameter is going to be the CSS
property that I want to modify which is
opacity in this case and I'll set its
value to zero which will hide the button
and if the user is scrolling towards the
top then I just want to set opacity to 1
let's save this and see if it works I do
not need to see console anymore so I'll
just minimize this for now and increase
the size of the app so that you can see
better and now if I scroll towards the
bottom you can see that the button
Heights if I scroll towards the top the
button shows up again so scrolling down
button hides scrolling up button shows
that's what we wanted but we wanted this
to be animated so to make this
transition animated we will again use
the set element style function on our
fab to hide to specify that every
transition related to opacity should
take about one second or half a second
and the second parameter is going to be
WebKit transition which will make sure
that the transition takes some time and
the third parameter is going to be
capacity and then the time that it
should take so I'm just gonna specify
500 milliseconds so now if we scroll
towards the bottom the button takes 500
milliseconds to hide and this creates an
animation if I scroll towards the top
the button shows up and takes 500
milliseconds to show up and you can see
that the effect now looks a lot better
than before now this is not enough for
me what I want is that
the size of the button should also be
modified as the button is hidden so I
just do not want to vary the opacity I
also want to vary the size of the button
so as the button hides I want to modify
its scale as well so I can use WebKit
transform for that and the parameter is
going to be scale 3d to which I'll have
to pass in three parameters the ax value
the Y value and the street value so I'll
just pass in point 1 in all these three
parameters which will resize the button
to 10% of its original size on all three
axes when the user is fall towards the
top I'll resize its value 200% so I'll
just pass in one in all three parameters
to scale in 3d and to make this effect
animated as well I'll specify a timing
to WebKit transition as well for the
transform property and it is going to be
500 milliseconds as well make sure that
you separate these two properties
transform and opacity with a comma now
if I scroll towards the bottom the
button is hidden and the animation looks
a lot better than before and this is
actually what we wanted if I scroll
towards the bottom the button hides and
this hiding and showing animation is a
way to code this is all we wanted this
is exactly what happens in the Facebook
and LinkedIn app so this is what we want
you to create in this video I hope you
enjoyed the video if you face any
problems while doing this in your
applications make sure that you check
out the code on the github repo on this
URL and you can also download the code
and use it in your applications like
this video share it with your friends
and colleagues thanks for watching
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>