<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Auto Hiding Header on Scroll in Ionic | Coder Coacher - Coaching Coders</title><meta content="Auto Hiding Header on Scroll in Ionic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Samarth-Agarwal/">Samarth Agarwal</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Auto Hiding Header on Scroll in Ionic</b></h2><h5 class="post__date">2017-07-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/abDaZnx6tkU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to my youtube channel
I am somewhat Agarwal and Here I am back
with another exciting video about ionic
and in this video we'll be doing
something completely different from what
we have been doing in the rest of my
videos so first of all let me show you
what we are going to do in this video so
in various modern applications you must
have seen that as you scroll the page if
the page is really long when you scroll
the header on the page heíd citizens to
make more room for the content on the
page so on the right side of the screen
you can see an emulator and in that
emulator I have an app running in this
app on the top I have an iron header and
below that I have a long page with some
dummy content now as I scroll this page
after a little while the header hides if
I scroll back to the top the header
shows up this is an animated effect
which is working a little crappy on the
emulator but if you run this on a real
Android device it just works flawless so
we are going to add this functionality
to our ionic header so we will learn how
to do that in this video before we
proceed I would like to introduce you to
who ionic this is a project that I have
been working on for quite some time
and is now available for purchase on
code Canyon if you are interested in
learning how ionic through words or if
you have a WooCommerce store and want an
e-commerce application for your store
then this is the project for you all you
have to do is just download this app
consider it for your store and you are
good to go this app consists of a lot of
features that modern e-commerce
applications have and I have been adding
new features to this application almost
every week if you are interested in
learning how I build this app then check
out my course on udemy ionic 3 apps for
vu commerce build an e-commerce mobile
app where I will walk you through the
steps of building an e-commerce
application from scratch to end you will
also learn how to integrate various
payment gateways
release the app in Google Play Store
I'll leave the links in the description
so make sure that you check these out
and now let's head back to our ion ik
app that have just created this is the
blank ionic app so we will just get back
to our project and start building this
cool functionality in our application so
I have created a new ionic app it's
called scrolling header and I'll just
open this blank ionic project in Visual
Studio code so here I have the project
opened in Visual Studio code and as
usual this project comes with one page
which is called home on this home page
we have some dummy content that I am
going to replace with a lot of HTML
because I want my page to be long enough
for the scrolling effect and here is the
HTML that I have pasted in this is
nothing but just some dummy HTML content
and now what I will do is I will modify
the behavior of my iron header in order
to modify the behavior of an existing
component you can build directives so
that is what we are going to do we are
going to build a directive so first
things first let's create a directive so
I'll just type in ionic g' directive and
then the name of the directive in this
case I'm going to name this directive as
hide header I will press ENTER okay so
the directive has been created and you
can see that I have this new folder
right here called directives inside this
I have a folder called hide header which
is the name of my directive and inside
it I have a file called high header or
TS this is the file where we'll
implement the custom functionality for
our directives you can see that the
selector for this directive is hide -
header so I just copy this from here and
I will come back to my home to HTML and
I'll put this directive on my iron
content so this way I have implemented
the functionality of my directive on my
iron content but we wanted to add the
functionality on our own header right we
will do that what we will do is we can
pass in parameters to our directives as
well so we will do that so here what I
will do is just create a binding and
here I'll just create a custom parameter
let's just call this header and to this
header I will pass in a variable and
this variable will actually be a
reference to our iron head
so let's create a local variable here
like this I'll call this head and now I
can access my iron header using the name
of this local variable called head so I
have passed in head to a custom
parameter called header and this
parameter will be received by the hide
header directive in our hide header or
TS file so let's see how we can do that
before we proceed let me just make this
very clear that unlike pages in ionic we
do not have to add an entry in AB dot
module dot TS file for every directive
it is done automatically by the CLI so I
just close my AB dot module dot PS file
and now we can get to work on our hide
header so let's head back to our hide
header dirtiest file the first thing
I'll do is define that input that we are
passing in from here in a variable
called header so we will have to write
the code to receive that parameter
somewhere in our hide header dot d s
file and how do we do that
so we do that using input so what I will
do is just import a module called
input and right here inside my class I
define a new input using @ input ok this
is the way you receive inputs in
components and directives and this here
takes in the name of the parameters so
the name in our case walls header so
I'll just pass in that and then you have
to pass in the name of the variable that
you want to use in your TS file so here
I'll just call it header as well and
this will be of the type HTML element ok
so this is a building type and you can
use this type to access HTML components
from my home dot HTML I am passing in an
HTML element which is our iron header
inside this header parameters to our
hide header directive and in my
directive I am receiving that parameter
in a variable called header I can access
this variable anytime using this dot
header another thing I want to do in
this directive is hook up to the scroll
event so I want to know when the content
on our page is called
because based on the scroll event I want
to decide whether I want to hide the
header or not along with the selector
I'll define at the property which is
called host and this is a JSON object
which takes in the name of an event
which is emitted by our ion content and
the name of the function which will
handle that event in our directors TS
file we'll just paste some code here so
as you can see that I am hooking up the
ion scroll event which is emitted by our
ion content and whenever our ion content
is this cold the ion scroll event is
raised and in this directive the on
content scroll function will be called
every time scrolling is detected so just
create that function right away this
function receives a parameter called
event which basically contains all the
information about scrolling so it
contains the offset the x value the y
value how much the user has scrolled and
all that information we will make use of
this information to decide if we want to
hide the header or not now that we have
hold up the ion scroll event to a
function we need to make sure if this
function is being called or not so let's
just do a console log here first of all
and what I am going to do is just log
event to the console let's try and run
this application using ionic serve in
the browser
so as you can see the first console.log
that we see is hello Hyde headed
directive directive which is logged from
the constructor of our directive which
means that our directive is working fine
and is initialized properly now let's
try on a scroll a little bit and you can
see that as I scroll I get new console
logs in the browser this object if you
notice contains a lot of information
that can be helpful while creating the
effect that we want to implement here
the most important property is coal Tom
this is the property which contains a
number and it tells us how far the user
has scrolled so as of now you can see
that the value of scroll top is zero
because I am right at the top of my page
now let me scroll a little bit and let's
see the value of rolls of now so you see
that the value now is 119 which means
that the user has scrolled 119 pixels on
their page okay so we will use this
number to decide when exactly we want to
hide our header and if the value of a
scroll table exceeds a certain value
then we will initiate that process of
hiding our header now let's get back to
Visual Studio code so while I was
working on this directive I came across
a number of ways to do this but the
easiest of the ways that I found was
using CSS animations and that is what we
are going to do we are going to use CSS
animations to hide our header and show
our header back so how do we do that the
first thing we will need to do is import
a few things so I'll import element
wraps which is a module that helps us to
get references to the HTML components on
our page or to the Dom element another
module that I import is renderer which
helps us to modify the content on our
page so it helps us to modify the Dom of
our HTML page so we will have to pass
both these modules in our constructor as
well so I'll just do that real quick
okay so now I have created a variable
called element that I'll use to access
all the functions and properties of
element rafts and similarly I have
renderer that will help me to access all
the functions and properties from the
module renderer okay now I need to do a
few initializations before I proceed so
inside my directive I'll create a
function called
ng on in it and this is a function that
is executed when our directive is
completely initialized so the code that
you are going to type in here is the
codes that you cannot type in your
constructor because when you construct a
reputed the view might not be ready at
the sign
but when ng on init is executed the view
is already initialized and you can get
references or you can modify the content
on your Dom so in my ng on in it I'll do
a few things so the first thing I'll do
is get the height of our header in
pixels and we can do that using this
header variable right here so I'll just
type in this dot header height is equal
to this dot header dot client height
which gives us the height of the header
I need to create this header height
variable so I'll just do that real quick
next what I will do is just use renderer
we change a CSS property on my header so
I'll just define a WebKit transition on
my header and this separate transition
is actually a CSS property so here I am
telling my browser that whenever I make
a modification to the top CSS property
it should take seven hundred
milliseconds which is the actual time we
want our animation to take okay so if we
are doing this using the renders set
element style function which takes in
the element as the first parameter which
is this dot header in our case the
second parameter is the CSS property
that we want to modify and the third
parameter is the value that we need to
pass into that CSS property so this way
we have initialized our transition now
we need to decide when to modify and how
to modify the top property of our header
so we will do that inside a scroll
content function right here what I do is
just check if event dot scroll top
which contains the number of pixels the
user has scrolled and if the user has a
scrolled more than 56 pixels which is
the height of your header you can use
this dot header height I'm just going to
use 56 as of now so if the user has a
scroll more than 56 pixels in that case
what I want to do is just make sure that
our header is moved by minus 56 pixels
so I'll just paste that code right here
so what I'm doing here is just modifying
that soft property which is a CSS
property and I am passing in a value of
56 pixels so this way as soon as the
cult of value exceeds 56 pixels the top
CSS property of header will be modified
and will be said to minus 56 pixels
which means that it will not be visible
on the screen and this whole transition
will take seven hundred milliseconds
because that is what we have defined
using WebKit transition and if the value
of cult of variable is not greater than
56 pixels then we want to display the
header so I'll just reset the value of
the top property of our header and for
that as well I'll use renderers set
element style function and Here I am
passing in zero pixels instead of a
value let's save this and see how it
works as of now in the browser so here I
have my application in the browser I
will start scrolling a little bit slowly
and you can see that as soon as I reach
56 pixels on my scrolling the header is
hidden if I scroll back to the top the
header shows up again so the transition
is really smooth but we have a problem
here the header is moved by 56 pixels
that works fine but the top margin of a
scroll content which contains all the
content on our page is still 56 pixels
so we need to animate that as well so
real quick we'll go back to visual
studio code and we will grab a reference
to our scroll content to do that I am
just going to paste in some code here we
need to create this variable as well
okay so on the element I can use the
native element property and on that
property I can execute get elements
i classname and here I can pass in the
name of the CSS class which is applied
on the element that I want to get a
reference to so if you have a look at
this HTML right here
you can see that inside iron content I
have a div and on this tab I have a
class called scroll content and we need
a reference to this div so we will use
scroll content as a selector and we are
passing in that selector right here and
we are using the function get element by
class name so we will get an array in
return and out of that I just want to
grab the first element that is why I
have passed in an index of zero here
just the way I have defined a transition
on my header I'll have to define a
transition on my scroll content as well
so here we go but instead of applying a
transition to the top property we need
to modify the margin top for this scroll
content so instead of stop I have margin
top here and now we need to write the
code to modify the top margin of a
scroll content so if the scrolling
increases beyond 56 pixels in that case
we want to make sure that a margin is 0
and if we have a scroll back towards the
top then I want to reset the margin 256
pixels let's save this and see how it
looks like in the browser so I'll just
scroll a little bit and as soon as the
scrolling reaches 56 pixels the header
hides and this time the top margin of
our scroll content also changes now
let's scroll back towards the top and
you can see that the margin as well as
the position of our header also changes
so this is a cool animation that you can
use in your analytic application and
most modern ionic applications have this
features to make more room for the
content on the screen because the header
is not required at all times in the
application it is only required when a
page loads after that it just takes up
some space that we can otherwise utilize
to display more content on a page so
that was it for this video so try this
out on your own make sure you play
around with it a little bit so that you
understand what is actually happening if
you face any problems feel free to post
in the comments and I will try to get
back to you
if you like this video a thumbs up and
make sure you share this video with your
friends and police and for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>