<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Voice Search with Tkinter and Python - 7 - Try-Except for the Recognizer | Coder Coacher - Coaching Coders</title><meta content="Voice Search with Tkinter and Python - 7 - Try-Except for the Recognizer - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Cristi-Vlad/">Cristi Vlad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Voice Search with Tkinter and Python - 7 - Try-Except for the Recognizer</b></h2><h5 class="post__date">2017-03-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vCDx9h9cJsE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">today we're gonna finish off writing the
function that's invoked when pressing or
clicking the voice recognition button
that's over here so what I'm gonna do is
to try to wrap everything in a try
except conditional so let me make some
space over here okay now we take the
speech recognition microphone as source
and we try the following so with s our
microphone so the speech recognition
microphone as source we try and we're
gonna define a variable audio that's
gonna be our recognizer which is gonna
listen to our source so the recognizer
is gonna listen to the microphone and
it's gonna have a timeout of 5 seconds
and we're gonna create another variable
message that's gonna be a string of art
and we're gonna use recognize Google
here so what's gonna try to recognize is
the audio and it's gonna use my API key
which is Google API key and I as I've
already specified in a previous video
I'm not displaying my key because I want
to keep it private and I'm basically
importing it from another file as you
can see here so from keys I'm importing
everything and that includes my Google
API key as well
so when this recognition is done I want
to play a sound effect or a prompt to
let the user know that the recognition
is completed and then I'll focus my
cursor in the entry field and delete
whatever is in there if there is
anything and paste the message that I
got from the recognizer so I'm going to
use the mixer as you know from the
previous video mix your music load and
this time it's gonna load the file is
called chyme to mp3 and you'll have this
file in the description and my github in
the github of this project once the file
is loaded we'll gonna do a mixer music
play and then like I said we want to
focus our cursor in the entry field so
entry one focus then we wanted to eat
whatever is in there so entry one delete
from point zero so from the beginning to
the end and entry one insert we want to
insert the message that we got from from
the recognizer so we're going to insert
it at position zero and it will gonna
insert the message okay now that we have
the message in the field what do we do
with it well we're basically doing the
same thing that we're doing when
clicking the search button so I'm just
gonna and this is handled by the
callback so I'm just gonna copy paste
these if-else so I'm gonna paste them
over here want to make sure that I get
the indentation right
we'll see it when we tested so else pass
so over here I want to based I could
yeah I want to base whatever is inside
the I'm just gonna replace this with the
message just to be certain
so message so no function and over here
and over here and over here okay so as I
said we wrapped we try to wrap
everything in a try except conditional
so then we have our exceptions and we
need these exceptions to avoid
unexpected crashes so I'm gonna handle
an exception that comes from recognizer
which is from the recognizer which is a
unknown value error and if it encounters
this error what I'll gonna do it is to
print like Google speech recognition
could not understand audio and another
exception except as our it's gonna be a
request error so an inability to
communicate with the API and we're gonna
except we're gonna catch this as E and
what if and when this happens all gonna
print say could not request results from
Google speech recognition service okay
and else
I'm just gonna say bass okay so yes
that's just about it
and the next video we're gonna do some
final tweaks to the code and we're gonna
test how everything works out and see
how many errors we've made so if you
enjoyed this video please hit the like
button and subscribe thank you for
watching and I'll see you in the next
one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>