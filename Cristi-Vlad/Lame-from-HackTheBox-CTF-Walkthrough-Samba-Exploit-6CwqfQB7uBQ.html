<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lame from HackTheBox - CTF Walkthrough [Samba Exploit] | Coder Coacher - Coaching Coders</title><meta content="Lame from HackTheBox - CTF Walkthrough [Samba Exploit] - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Cristi-Vlad/">Cristi Vlad</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lame from HackTheBox - CTF Walkthrough [Samba Exploit]</b></h2><h5 class="post__date">2018-04-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6CwqfQB7uBQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we're gonna go through
another penetration testing of a
vulnerable machine and the one that I'm
doing now is not from volnov but from
hack the box so if you didn't know hack
the Box dot-eu so active box dot-eu
is a platform to practice your
cybersecurity or penetration testing
skills in a safe and legal environment
and what's great about it is that when
you actually want to join you have to
hack your way in so you have to take a
challenge to get your registration code
so it's not like anyone can join you can
join for free if you're able to get your
registration code so as it says here if
you believe you have what it takes to
proceed click the button below and try
to hack the invite process ok so the
machine that I'm going to do and this
video is called Lane and this is a
retired machine so a skillful
cybersecurity practitioner should be
able to obtain user and root privileges
on this machine in probably less than 10
minutes because the name this is
actually quite lame so the name is
pretty suggestive so we know the IP of
this machine once you connect to your
VPN is 10 10 10 3 so let's do let's
start with an obligatory and map
this should be done really quickly
so as I said until this is done
there are so we have Volm hub comm where
you actually download this vulnerable
machines and you run them in in a
hypervisor like VirtualBox or VMware and
you also have the hack the box where
after you login you have you download
your VPN login credentials and once you
login to the VPN you're gonna have
access to a bunch of machines some of
them are retired like right now there
are probably about 40 retired machines
and about 30 active machines but if you
join and you you'll probably know what
I'm saying
okay so and map is done we have 20 120
to 139 so whenever I see 139 and 445 the
first thing that that comes to mind is
the user map script exploit from like 10
years ago so this was actually the very
first thing that should come to mind
when when you see this so let's just
search for Samba user map script script
anyway so script
so this is actually a Metasploit module
also use a map script so we should fire
up Metasploit MSF console
maybe there is also a sea exploitable
version of this so user map script see
user my PHP let's just say exploit
could be this now it's still Metasploit
anyway so this was where was it it was
exploiting all t Samba user man script
so we use exploit multi Samba and what's
great about this and what should be not
that great if you are actually someone
who runs this vulnerable Samba service
on your server is that this exploit
grants you root privileges so it's a
remote root exploit but you'll see so
user map script and the only thing that
we have to do is to set our remote host
which is ten ten ten three and then
actually do the exploit you can either
use exploit or run and we could simply
check you ID or Who am I root let's
spawn a shell they then - - PI right so
we are root now one thing or one thing
that I have to mention is that the the
machines on hack the Box all of them so
the purpose of the machines is to the
purpose of all the machines is to get
the user flag and the root flag so let's
open up another window and let's just
touch info dot txt and then leave bad
info dot txt and then let's just say
user and
four or two flags so present working
directory or PVD let's go to home and
see the users
let's CD to user nothing here so it's
probably doing MacOS okay so this is
probably the user flag let's copy it
paste it over here then just go to root
and cut routes dot txt and this is the
root flag so to be honest I haven't
tried other ways of of exploiting this
machine but from what I just saw here
there might be other ways so maybe they
have a VNC server running so let's get
VNC the log let's see if
so we have some ports listening over
here so yeah there there might be there
might be other ways of exploiting this
machine but from what I've experienced
and the fastest and it gets you root so
my point is not to actually try to find
other ways to exploit this machine since
it's a retired machine and you don't get
any points on hack the box for for
penetrating retired machines but only
active machines but the purpose was to
actually make a walkthrough for it so I
guess this was it if you run a sample
server make sure your version is not
vulnerable to any kind of I don't know
known exploits make sure you update it
and try to stay safe from that
perspective anyway I guess that's it for
this video in future videos I'll
probably do more more walkthroughs of
fact box retired retired machines and
also other machines from bone hub that
I'm kind of building a backlog because
I've I've completed a few a couple of
few machines from from volha and I
should probably have another walkthrough
going in the following days alright so
that's it if you enjoyed this video and
you like to see more cybersecurity
related videos please hit the thumbs up
button and subscribe thank you for
watching and I'll see you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>