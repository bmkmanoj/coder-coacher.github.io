<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node JS Tutorial for Beginners #37 - Making a To-do App (part 6) | Coder Coacher - Coaching Coders</title><meta content="Node JS Tutorial for Beginners #37 - Making a To-do App (part 6) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node JS Tutorial for Beginners #37 - Making a To-do App (part 6)</b></h2><h5 class="post__date">2016-07-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yox93sB2PyQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yo or something guys welcome to your
37th no js' tutorial and in this video
we're going to carry on with our to-do
app and we're going to hook it up to the
database all right there so in the last
tutorial we hooked up our application to
the database we connected to it right
there with help of Mongoose then we
created a schema and we also created a
model or collection if you like and then
we added an item to that collection
right here we saved it now in this
tutorial what I want to do is alter
these requests right here get post and
delete so that they're interacting with
the database rather than this dummy data
we created right here so first of all
let's comment out that job what I'm
going to use that Anil secondly I'm
going to get rid of this because we
don't want a new item creating and
adding to the database every time we
start this application we don't want
that so let's get rid of that as well
I'm going to keep the schema and the
collection or model because we're going
to use that down here in the code all
right so let's work through these one at
a time
so this one right here what do we need
to do this is the get request so what we
need to do here is get data from Mongo
DB and pass it to the view okay so right
here when we say render a view we're
passing it this object and we're using
this data variable right here to pass
through to the view now that was this
thing right here but now we're not using
that now we need to get it from MongoDB
itself so how do we do that well all we
need to do is specify first of all which
model or collection we want to get from
and we created that model right here we
want it to be the to do model okay
so let's grab that and then second of
all we add on a method called find now
the find method can go out to a
collection and find either all the items
in that collection or particular items
in that collection we want all the items
in it so what we need to do is pass
through an empty object like that and
that's going to go out and it's going to
retrieve all of the items in this to do
clutch it if we wanted to
to find a specific item then we just pop
in which item we want to find so we'd
say something like item buy flowers and
that's going to find this item in this
collection if it exists okay so like say
we want to return all the items right
here everything that's stored in the
database so I'm just going to pass
through that empty object and that's
going to do it for us
okay this also takes another parameter
which is a call up function and in this
function we're going to pass through an
error and also the data that we retrieve
okay so down here what we want to do
first of all is say if there's an error
just throw on the arrow and then
underneath we're going to render this
view so I'm going to grab it from there
and pop it there and we're going to pass
through the data to that view okay so
we're getting the data right here no
longer is this the data the data is now
what is returned to us right here after
we use this find method
okay so we're finding all the items in
that collection and it's returning to us
the data right here so we're just
personally now through the view and then
the view is going to work exactly the
same as you would do if we had this
array of data okay pretty simple right
so now we've done the get one we can
move on to the put the post request and
again this is going to be pretty simple
let's just write a comment what we need
to do we need to get data from the view
and add it to Mongo dB okay so that's
what we need to do so what I'll do first
of all is create a new variable and this
is going to be called new to do I'm
going to set that equal to two do
remember this is what we did when we
created and you to do item up here and
then added it to the database will do
the same thing here alright so we create
a new to-do item so in this we're going
to get the item remember from request
body because that's where we're
personally to so I'll grab it from there
and pop it in there
and that's going to add an item to this
to do collection with this schema okay
so it's going to look something like
this item that were passing through on
the request body so we're going to pass
that through to there then we're going
to save it to the database and remember
we take a callback function here with an
error and the data and if there's an
error I'm going to throw the error and
then I'm going to say response Jason and
I'm going to pass the updated data back
to the view okay so now we no longer
need this so how simple as that easily
we just create new items and saving them
to the database okay all right so the
third one which is the ever so slightly
more complex one which is the delete
request all right another comment again
to see what we need to do we need to
just delete the requested item from
Mongo dB okay so let's come down here
and first of all say to do that's the
collection we want to find items from
we're going to sync find and we're going
to find whichever item we want to delete
and the item is stored there okay so all
I want to do is find an item which is
equal to this thing right here so I'll
say item request params
item and then I'm going to say don't
replace unthink I want to replace
they're going to be this I'll explain
this in a second G and we're replacing
it with a space okay so we're just
replacing the hyphens here with a space
and then we're going to look for this in
the to do collection we're going to find
that item okay and replacing hyphens
with a space because when it comes
through as it URL it has iPhones between
the hyphens between the words not spaces
okay so it's going to look for this item
then in this collection and once it
finds it we're just going to remove it
so we can say don't remove like that
oops no capsules
remove and then we also get another
callback function again with the error
on the data and what we're going to do
is say if there's an error we're going
to throw that error and then we're going
to say response dot JSON and pass
through that updated data let's return
to us from this collection all right so
it deletes it then passes back the
updated data so let's get rid of this
stuff now down here and that is pretty
much it now
we've hooked up all the functionality to
the database rather than just these
dummy data so if we run this now I'm
going to say node one app I'm going to
run this in a browser and first of all
what I'm going to do this is my database
currently on MongoDB and it's got those
items in buy flowers which started up
when we started which were added when we
started up this application in the last
tutorial so I'm going to delete those
first of all delete yep okay cool
now I'm going to go to this application
forward slash to do and there's nothing
in there at the minute that's because we
don't have any items in this collection
so we can add a new item I'm going to
say buy flowers I'm going to add that on
and it's added right here so now if we
refresh over here we should see that in
the database as well okay cool let's say
create and um angular js2 to add item
all right let's have a look what it does
over here cool now we've got that and we
can also delete items if I click on them
and it deletes it and if we refresh over
here should be deleted from that
collection cool alright so there we go
guys we have successfully connected up
all of our functionality to the database
and now we have a fully functioning to
up alright so that pretty much concludes
this beginners nodejs playlist I hope
it's not been a complete waste of your
time and that you have learned a few
things along the way
I'm going to be doing more nodejs
related tutorials in the future on this
channel namely I'm going to be looking
at MongoDB in a bit more depth we've
just kind of scratched the surface in
this tutorial playlist so I want to
create a whole mini-series on this next
I'm going to be creating a mean stack
app from scratch and mean is just an
acronym for a group of technologies
we're going to use to make that
application so that's MongoDB Express
angular 2 and node I'm also going to be
looking at unique testing with mocha
because unit testing is an important
kind of area when you come to deploy
your applications and also I'm going to
be looking at web sockets too which is
to do with real time interactions for
features such as into the chat messaging
and that kind of thing
so I'm going to look at all these things
in the future so this is by no means the
end of the node.js tutorials but yet I
hope this tutorial series has been of
some use to you and I'm going to see you
in a very nice one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>