<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST API Tutorial (Node, Express &amp; Mongo) #5 - Handling Requests | Coder Coacher - Coaching Coders</title><meta content="REST API Tutorial (Node, Express &amp; Mongo) #5 - Handling Requests - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST API Tutorial (Node, Express &amp; Mongo) #5 - Handling Requests</b></h2><h5 class="post__date">2017-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Bc2QE-kHbu0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're something guys welcome to your
fifth REST API tutorial and in this
video we're going to talk about how to
handle requests in Express okay so now
we've set up our Express up which is
listening for requests we can start to
set up our routes and create route
handlers so how can express allow us to
do this well it's pretty simple when we
created an app variable right there by
setting it equal to express the function
it handed over to us a load of HTTP
methods such as get post delete etc that
we can use on it to listen for such
requests so for example if I just come
down here and I type up dot get and then
I'm going to specify in quotations the
root level then this is now listening
for get requests to just forward slash
so local host port 4,000 forward slash
so it's listening out for that get
request okay but how does it respond to
that get request well we can pass in as
a second parameter for this function a
callback function right here and then
inside this callback function we can do
something so now the app is listening
for this request at the root level if
someone makes that request that get
request then it can respond in this
function so for example I could just log
a message in this once enough they
console that log get request okay so now
in our console if we make this request
we should see this right so let's just
make that request I'm going to say
localhost
in fact first of all we need to run this
so I'm just going to ctrl C to get out
of that same node index again just so
it's listening there we go and then I'll
go to localhost call on 4,000 just
follow it slash the root level and we
should get a log right now saying get
request okay so cool so now the App
Express has responded to this get
request but it's not really responding
it's just logged a message and if you
notice over here in the browser it's
still spinning around it's still waiting
for an actual
spuntz so it was not really responded to
the request we just done something we've
just log to the console so the reason
this is still spinning is because it's
waiting for that response so we need to
send it a response or at least end the
response okay that's the way it works we
send the request to a server the server
then responds to the client okay so how
do we do that
well when we use this callback function
right here we can pass along a couple of
parameters the request parameter and the
response parameter so this request
parameter is going to contain
information about the request made so if
we send something in the body and or
anything like that then this is going to
contain that information and the
response subject is going to contain
information about the response we can
set the status code or send some data to
the client that kind of thing all right
so if we want to end this response the
easiest way to do it if I saying rest
for response this object right here dot
and and now if I save this I'm just
going to come back over here and I'm
going to cancel out of this and then do
it again because we've made a change
let's say node index now if you check
this out if we refresh we still get that
message right but now it's stopped
spinning and yet it says this site can't
be reached we're not sending it anything
like a webpage or any data or anything
like that but at least we've ended the
response so it's no longer spinning
around waiting for anything to happen
make sense cool so that's how we handle
a get request and one thing to know when
we're requesting in the browser right
here I said this in an earlier tutorial
this is automatically making a get
request which is why this is responding
to it into a listening for get request
if this was listening for a post request
and we do to the same URL in here it's
not going to work right but we'll get on
to post and pull and things like that
later on so we've got our function
firing when we make a request here and
by the way if we change this to API for
example then this is only good work when
we go to /o api okay makes sense so this
is the route that we're
listening for if you like for the get
request so anyway what we would ideally
like to do in a get request handler is
send back some data right that's what
it's for if we make a get request we're
actually after something we want to
retrieve some data so how do we do that
well when we get on to creating the
project properly later what we're going
to be doing is interacting with a
database within this function so we're
going to be getting a data we need from
the database and then sending that back
but since we're not doing that in the
database you're set what we'll do we
just send back some dummy data so
instead of end right here sack on an S
in the front now you're sent so now
we're sending data to the client okay so
we'll send back an object some jason a
pretend ninja if you like so let's just
give this a name property and I'm going
to call this a Yoshi and that's all we
need to do this is just an example so
now if I save this if I go to forward
slash API this function is going to fire
and then it's going to console.log this
message then it's going to send the
response and the response is going to
send is this object right here so we
should get this in the browser
so let's now run this one more time I'm
going to say node index and navigate to
forward slash API this time and just as
a heads up if I just go to forward slash
again this is no longer going to work
it's going to say cannot get we've not
set up a handle up such as forward slash
anymore becames get right here to
forward slash api so now we need to go
to forward slash api and now we see this
object or I do you might not be could be
so small it was assuming you can see
named Yoshi
so we're receiving that object back now
right so there we go that is how we
handle a request and like I said we can
handle these different requests like
post put delete etc and the way we do it
is by just changing the verb or the
method right here so instead of get
would say post or pot etc for delete
right so when we receive a delete
request to forward slash API then we
fire this function or if we receive a
post request to forward slash API we
fire this
function right so we can separate all
these out and deal with them
independently but we're going to learn
more about post and ports and delete in
the next tutorial for now just know that
we handle our requests like this so we
have the method then we have the route
and then we have the callback function
which we teach which receives these two
object request and response then we can
send a response right here and send some
data with it okay so in the next
tutorial what we're going to do is take
a look at setting up all of our routes
for get post etc and ourselves a little
more deeply into those</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>