<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OAuth (Passport.js) Tutorial #7 - Securing Keys | Coder Coacher - Coaching Coders</title><meta content="OAuth (Passport.js) Tutorial #7 - Securing Keys - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OAuth (Passport.js) Tutorial #7 - Securing Keys</b></h2><h5 class="post__date">2017-10-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7udDtgLs0ss" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey my something guys welcome to your
seventh Oh our tutorial and in this
video I'm gonna show you how we can more
securely store our keys all right there
so in the last video we went ahead and
enabled the Google+ API online in our
account so that we could use a client
secret and a client ID inside our code
so now we can start to use this Google
API to authenticate users inside our
application now I said also in the last
video that if we're going to eventually
upload this code to github then people
are going to see these client IDs and
client secrets and we don't really want
that because then they can basically
just use your secret and ID all right in
their own projects we don't want that so
a better way to store these different
keys is to create a separate file and
then we don't commit that file to our
repository so that it's never uploaded
into github people can't see it however
what we're doing from here is we're
going to import that file so that we use
it inside here and that's all gonna make
sense in a minute so let's create a new
file in config and I'm going to call
this keys jas and inside key CAS is
where we're going to store all of our
different keys for this project so what
we're gonna do is add this file well
we're not actually going to do it two
dots get ignore and that means that this
file won't be tracked and it won't be
uploaded to get hop right so you're
gonna keep these keys a secret from
people online so the next thing we need
to do is say module two exports we're
going to export an object right here
straightaway and this object is going to
hold all the keys that we need inside
this project so first of all we've got a
couple of keys for Google's so I'm going
to do a Google property and inside this
it's going to be another object and we
have two keys we have the client ID and
I'm going to paste the client ID in
there in a second and we also have the
client secret so I'm going to paste the
client secret inside this so let's go
grab those from passport setup first of
all the client ID is right here let me
cut that from there and paste it over
here
and then the client secret as well let's
cut that paste it over hello okay so now
we have those two properties which we
can then export and we can import those
in passport setup so I'm going to say
Const Kees is going to be equal to
require and where do we want to go well
we're currently a passport setup and
Kees is in the same folder so all we
need to say is dot forward slash for the
same folder keys all right so we've now
required this file and so we have access
to this object right here right so
instead of writing the client ID and the
client secret there where people could
see them if we upload to github instead
what we're going to do is just use this
object that we export and we're now
storing in this variable so I'm gonna
say the client ID is keys Google which
is this property right here this object
then it's dot client ID and then for
client secret is the same thing it's
gonna be keys Google Docs clients secret
okay and this is gonna work exactly the
same way only this time if we upload
this file to github no one can actually
see our different client ID or secret or
different keys that were using in this
project they're all stored in this
external file which were not uploading
to get up so we're keeping those secret
and it just makes this application more
safe when you upload into something like
github alright so in the next video I
want to take a look at the redirect URI
then I talked about before and I said we
come back to so if I click on
credentials then go to my client we can
see this authorized redirect URI I want
to talk about this a little bit more and
show you how we can use that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>