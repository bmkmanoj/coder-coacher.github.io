<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node JS Tutorial for Beginners #32 - Making a To-do App (part 2) | Coder Coacher - Coaching Coders</title><meta content="Node JS Tutorial for Beginners #32 - Making a To-do App (part 2) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node JS Tutorial for Beginners #32 - Making a To-do App (part 2)</b></h2><h5 class="post__date">2016-07-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nleI7IbpGhc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're something guys welcome to your
32nd no js' tutorial and in this video
we're just going to carry on making our
to-do application alright then so in the
last tutorial we went ahead and created
this package JSON file and we also
installed the packages we're going to be
using for this project so now we can go
ahead and use these and flesh out our
application so when we run NPM in it it
asks us a few questions and one of those
questions was what is going to be the
entry file of your project and we set up
GS so let's go ahead and create that
file I'm just going to right click the
parent folder and go to a new file and
I'm going to call this F KS ok so this
is going to be an express application so
what we need to do is first of all
require that module and by the way I am
going to be moving a little bit more
quickly in these tutorials to create
this to do application because we've
already covered all the material I'm
going to be using so if you're
unfamiliar about anything feel free just
to skip back to the previous tutorials
and refresh yourself anyway
let's store Express in a variable called
Express set that equal to or require and
then just the module name which is
Express
ok cool so now we can use that I'm going
to set up the Express start by saying
val up is equal to express and fire up
function ok now we want to set our
template engine now we're going to be
using ejx to make templates in this
project so let's go ahead and set that
all I'm going to say set up template
engine and then I'll use upset and I
think we're setting is the view engine
and we're going to set that equal to e
JX ok cool so now the project knows that
we're going to use EGS for our templates
next we want to be able to serve up
static files so we're going to use the
inbuilt Express middleware called
Express static to do that so I'll say
static files and again we've covered
this in previous tutorials up use we're
going to use some middleware and in the
previous tutorial I did something like
this I mapped it to a certain route and
I said when you visit assets kind of use
this middleware and
map it to a particular folder to find
that static file and it would have
looked something like this
Express dot static and then the folder
name in this case is just going to be
the public folder right there so I'll do
dot slash public and then whenever we
visit this assets file or this assets
route rather then it's going to map it
to this and a lot for a static file in
there now what I'm going to do is take
away that route I'm not going to make it
real specific and then this is going to
be used on every route that we put into
the URL bar or request in a file so if
we give a path to a static file like
this for example let me just come down
onto the next line and it's going to be
localhost 3000 forward slash styles
they'll see a set for example then it's
going to run this middleware and it's
going to look in the public folder for
this styles dot CSS now it's not going
to find it because the styles is in the
assets folder within that so we'd have
to do something like this assets four
slash stars dot CSS okay so if it finds
that static file it's going to return it
to us if it doesn't then it doesn't
return anything to us okay cool so now
we've set up our static files the next
thing I want to do is listen to a port
so I'll just write a little comment
saying listen to ports and to do that we
just need to say app don't listen and
the port number we're gonna listen to is
three thousand and then what I'm going
to do is just log a little message to
the console down here or console dot log
just to say what port we're listening to
to remind us down here so I'll say you
are listening to port 3000 okay cool so
now we've kind of fleshed out our app.js
file and we've got our Express app
running and we're listening to a pool
now I'm not going to write all of the
code for this to-do list in this one
file and this is typically the way when
you start making applications you're
going to want to split your code up into
logical modules or files if you like to
keep things nice and neat and in one
place if you deal with everything in one
file it's going to get out of hand
really quickly now I'm just going to use
a simple MVC structure to split up our
code in this which basically just means
I'm going to split it into models views
and controllers okay
so for those of you who are unfamiliar
with MVC architecture this is just a
really quick overview stands for Model
View controller and the model is just
our data so in our case it's going to be
our to do the items on our list like go
grab some groceries make the bed that
kind of thing that's going to be our
data the list items on their to-do list
on another website it could be the users
yeah or it could be the fields on a
contact form it's just the data now the
view is what we send to the user in our
case it's going to be an ejs template
file and it's going to have some data
maybe
embedded into it that the user can see
so we might have a view folder to-do
list or we might have a view for an
account page if we're working with users
as the model and then the C in MVC
stands for controller and this is the
kind of part that bridges the two
together the model and the view
it controls certain sections of the
application for example it could control
the to do section and we'd have a to do
controller so that's going to grab the
data from the model the two dues decide
how to give that to the view and then
pass it along to it so we can display to
the user okay so any kind of data
manipulation we can do here in the
controller okay then so if we're going
to use MVC architecture for this project
then what we need to do is create a
controller for our to do list and that's
going to control that section of the
application which incidentally is going
to be the only section so what I'm going
to do is create a folder for the
controllers with a right-click over here
puts a new folder controllers and
although there's only going to be one
controller in this app in future
projects if you're making a larger scale
apps you might have three four five six
or however many controllers so you want
to keep them in one place or at least
kind of structure them in some way that
you understand so that's why I've
created this folder for the controllers
so I'll right-click go to new file and
I'm going to call this to do controller
j s so this is where the JavaScript is
going to go that is going to control the
behavior of our to-do list and kind of a
minute manipulate the data handle the
routes that kind of thing okay so the
first thing I want to do in here is say
module exports because at the end of the
this is just a module it's a JavaScript
file which in nodejs remember can become
modules which we can import into our App
J's file once we've done it so I'm going
to export something in this file and the
thing you're going to explore is going
to be a function and I'll explain this
in more detail in a minute but it's
going to be a function that takes this
parameter up and inside this function we
can do some stuff so in here we're going
to set up all of our request handlers
now I've passed in let's just get rid of
that hash I've passed in this variable
right here this app variable and that is
going to be this thing right here so
we're going to pass that in to this
controller okay so first of all let's
require this controller in here we'll
say var to do controller is equal to
require and then what we need to do is
specify the path to this controller
which is going to be dot forward slash
controllers forward slash to do
controller okay so now we've required
that and we're getting whatever's on the
module that exports stored in here and
that is just a function right so now
what I'm going to do down here is create
a little common say in fire controllers
and I'm going to fire this function
that's returned to us okay so remember
in module 2 exports here we're just
returning this function so that function
is being stored in here and now I'm
going to fire that function but remember
it takes this parameter right here this
app parameter so what we're going to
pass through is this thing right here so
we're going to pass that through and by
passing that through it is available
towards in this function and we can now
set up our routes like app get for
example ok so that's why I've done all
that so now we've successfully created
this controller where we're going to
have all of our and JavaScript code
which is going to control the to-do list
section of the application so things
like the routes or passing data to the
view yeah okay so let's make these ramps
then let's kind of make these handlers
for the different requests we're going
to get and the first request we might
get
is just a get request for the URL itself
and this is going to be for forward
slash to do okay and then we're going to
fire a function with a request object
and the response object and then inside
this function we're going to build this
out later on but we'll probably just
render a view now as well as a get
request we're going to need a handler
for a post request for when an IRA user
adds a new item to the list so we'll
probably have a little farm field where
they can add something to the list and
then press a button which is going to
fire a pull request we need to handle
that as well so let's copy this dude and
then paste the underneath change get to
post and then we're going to handle this
later on as well and then finally we're
also going to let the user delete items
off the list or strike them out if
they're completed them and for that we
need to handle a delete request
so we'll say app delete and this is just
another HTTP verb which we can handle
okay in a different way and again I'm
just going to put this two forward slash
to do and give it a function with the
request object and the response object
which is going to fire when we get a
delete request so we're going to see how
all this works later on in the tutorial
for now we're just going to kind of set
them up already for us so in this
tutorial what we've done is we've
created our app.js file which is the
entry point for our application so this
is going to fire when the application
first starts we've set up our app using
express we've set out a view engine
we've set up the static files using the
built-in middle bear in to Express
called Express dot static we've listened
to a port and load this message to the
console then we've created a controller
for our to-do list so we can handle the
routes and the rendering of views and
the passing of data to views in this
controller for the to-do list so we're
separating our code keeping it nice and
modular so it doesn't get too out of
hand and then what we're doing is we're
requiring that controller or that module
in this app KS file storing it in this
variable then worth firing the function
that is returned to us in this require
statement and stored here we're firing
it down here and passing through the app
as a parameter so it can take that there
so it can use app to get up top post and
create these different handlers okay so
in the next tutorial what we're going to
do is create a view for when someone
visits forward slash to do and then
we're going to start fleshing it out
with some data as well so any questions
so far feel free to leave those down
below otherwise guys don't forget to
share subscribe like and I'm going to
see you in the very next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>