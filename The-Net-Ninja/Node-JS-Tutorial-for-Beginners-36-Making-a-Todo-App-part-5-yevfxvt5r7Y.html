<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node JS Tutorial for Beginners #36 - Making a To-do App (part 5) | Coder Coacher - Coaching Coders</title><meta content="Node JS Tutorial for Beginners #36 - Making a To-do App (part 5) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node JS Tutorial for Beginners #36 - Making a To-do App (part 5)</b></h2><h5 class="post__date">2016-07-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yevfxvt5r7Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yo or something guys welcome to your
36th nodejs tutorial and in this video
we're going to create and connect to a
know SQL database in our application
alright then so in the previous tutorial
I said that we're going to use a package
called Mongoose to help us connect to
the database and interact with it so
let's go ahead and install that now in
this application so all we need to say
is NPM install Mongoose and then I'm
going to pass through the save flag so
that it tracks it in my package JSON
file okay so once that's all installed
we can go ahead and require that module
at the top of our to do controller
because this is where I'm going to be
using it in this tutorial so we'll go
ahead and save our mongoose is equal to
require and then the module name which
is just Mongoose and now we can use
Mongoose in this file so before we do
that I want to go ahead and create a
database for us to interact with on M
lab alright then so I'm back on M lab
comm and I've logged in now I showed you
this in the last tutorial and I've
already created this node to do test
database but I'm going to walk you
through creating a new database for this
tutorial so let's go ahead and create
new and this is going to throw up a
couple of options hopefully your
internet is faster than mine and first
of all it's going to ask us for a cloud
provider I'm going to leave this with
Amazon on the region I'm going to keep
the save as well I'm going to click
single node right here because this is
going to give us the free sandbox option
you can see right now it's free and we
get to not point five gigabytes of
storage so this is really cool for when
you're first learning MongoDB so I'm
going to scroll right to the bottom
leave everything else the same and I'm
going to give the database a name of to
do and then I'm going to create that
MongoDB database so this is just going
to spin it up for you and then relocate
to that page alright so now we have our
to do database so if I click on that
it's going to show what's in the
database and currently there is
absolutely nothing in it now we also
need to add a user so that we can fill
in these fields right here DBU de and DB
password when we connect to this
database so let's click on that tab so
I'm just going to create a database user
the username it's going to be test and
the password is also test it's confirmed
there for me so I'll just write it again
and create that user so now we can use
that user when we connect to this
database now to connect to the database
we're going to need this thing right
here this URL so I'm going to copy that
to my clipboard
because we're going to paste it in our
code in a minute all right so I'm back
in the code and now I want to connect to
that database that we created so how do
we do that well it's dead simple first
of all I'm going to write a little
comment just so we keep everything nice
and tidy I'm going to say connect to the
database and then what I'm going to say
is a mongoose doc connect and then in
those parentheses I'm going to paste
this thing right here but I'm going to
put it in quotation marks as well okay
so now it's going to go out and connect
to this database and it's asking us for
the database user which is test and
database password which is also test so
you just want to pop your username and
password and your database URL in there
and we have connected to it that is how
simple it is okay so what if you want to
start storing some data in this database
what do we need to do well we need to
take a couple of different steps the
first thing we need to do is create a
schema for some of our data and this is
just like a blueprint how our data or
objects are going to look so that
MongoDB knows what to expect from us
okay so let's put a little comment here
and say create a schema and we'll just
remind ourselves that this is like a
blue print okay like a blueprint for our
data so how do we create a schema well
I'm just going to create a variable I'm
going to call this a to do schema
because this is going to be a schema for
our to-do items and I'm going to set
that equal to a new mongoose dot schema
like so and this is going to take an
object as a parade
and in this object we're going to kind
of declare what our to-do items are
going to look like so all the to-do
items are just going to have one
property and that property name is going
to be item and that item is going to be
equal to a string okay so that is our
schema for this to-do item okay it's
like a blueprint for what Mongoose on
what MongoDB is going to expect from our
to-do data an object with just one
property which is an item and that is a
string okay so that's our to-do schema
and now what we need to do is create a
model so a to-do model and then we can
base that model on a schema and this
might seem a little bit complex when
you're first doing it but I promise you
the more you do this it gets really easy
so let's create a variable gonna give
this a capital because some model and
I'm going to call that to do I'm going
to set it equal to Mongoose dots model
and the model name is going to be to goo
okay so this is just a variable here on
nodejs this is the model name which is
going to be stored as a collection on
MongoDB make sense so that's the name of
it and we need to also say what schema
we're basing this model on and it is
this schema right here so let's paste
that in there okay so now we have
created a model type of to do which is
based on this schema so now we can
create new to-do items and then push
them to the database so let's create a
test one let's just go ahead and say MA
item 1 is equal to 2 do we don't need to
say new to do or anything like that we
just say to do ok and then we pass
through the object that we want to
provide which is based on this schema
right here so you see this schema just
has item as one property which is a
string so all we need to do is pass in
an object with item as a property and a
shrink so we'll say item and we'll just
say this is in
flowers okay or buy flowers cool so now
we have created an item okay of type to
do and if we want we can save this now
to the database so when we do this when
we say to do and pass in an object which
it expects it then returns an object to
us with a save method on it so we can
say save okay and then this save method
takes function as parameter and inside
that function we can pass through an
error if there is one so basically when
this has been saved it fires this
callback function and in this function
we can say if there's an error then it
will just throw error okay for now what
I'm going to do much error handler here
if there's an error throw an error right
otherwise what we're going to say is
console.log item saved like so okay cool
so now what's going to happen when we
start this file when we run the
application well first of all it's going
to connect to the database then it's
going to create a schema like this so
that it knows what kind of information
is going to expect okay then we're
creating this model and we say Mongoose
model to create that model name and
basing it on this schema so that MongoDB
like say knows what to expect
then we're creating an item of this
model type we're passing in this object
and we're saving it to the database and
then we get a function as a callback
which takes an error parameter if there
is one and then we're going to control
that log item saved when this item has
been saved
okay so let's save this now and first of
all I want to go down here and say no
daman app press ENTER so this is going
to run the application first of all and
you see that once it's run we get this
message straight away
item save so we didn't need to do
anything it ran this code for us we've
created a dummy item and stored it in
our database
so let's go and check out
that database on em lab all right so
here we go I'm on em lab again and we're
going to click collections and I'm going
to refresh this page just so it can
update and hopefully show us that to do
collection ok cool now we can see to
do's and it's got one document inside so
if I click on that it's going to show me
that document and hopefully it's going
to say yep buy flowers cool so what have
we doing in this tutorial well we've
successfully created a database on M lab
and we've installed Mongoose on our
application so we can use it we've used
Mongoose to connect to that database we
created using this URL the M la provided
us with with the username password then
we create the schema which is like a
blueprint for the objects that MongoDB
is going to expect then we created a new
model and we pass that model a schema
then we created a new item of type this
model and we pass that object through
and then we save that to the database
and then we've got a function as a
callback which took an error if there
was one and then logged this to the
console once the item has been saved
okay pretty cool so that's just
connected to the database in the next
tutorial what we're going to do is
change your these handlers right here
get post and delete so that they
interact with the database rather than
this W data right here so any questions
so far freedom for you to leave those
down below otherwise guys don't forget
to share subscribe and like and I'm
going to see you in the various tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>