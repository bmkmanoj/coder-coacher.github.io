<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GraphQL Tutorial #15 - More on Root Queries | Coder Coacher - Coaching Coders</title><meta content="GraphQL Tutorial #15 - More on Root Queries - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GraphQL Tutorial #15 - More on Root Queries</b></h2><h5 class="post__date">2018-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/hjctbVNve-A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright then so everything is going well
we have a couple of route queries set up
and we have the relationship between our
two different object types so now I just
want to take a look at some more require
ease because imagine we make a query
like this we request a book with an ID
of 3 that's fine it brings back that
book but what if we just want to make a
requirement which is going to bring back
not just one book but all books and
likewise for authors we don't just want
to query one author with an ID we want
to bring back all authors because a lot
of the time we'll need something like
this
now from the front-end I imagine the
query is going to look something like
this books and we want a name and a
genre from each book so that would bring
back a list of books right but at the
minute this is not going to work we
don't have that root query set up for
this list of books so that's what I want
to look at in this tutorial so I've come
down to our root query down here and
what we need to do is define now after
author some more fields so first of all
I want to define books this is going to
be a query for a list of books so like
we have up here we need to define a type
and this type is not going to be a book
type but now it's going to be a graphic
you our list of book types
so we'll say new graph QL list and then
in parentheses book type so we're saying
here that the type is a list of books
then we also need to resolve function
and this is going to take in the parents
and the arcs now really we're not going
to use any of these because we don't
need to search for any particular books
because we're just getting all of them
so all we really need to do is say
return books so that's going to return
the entire list of books to us right and
graph QL is going to take care of
exactly which properties it sends back
depending on what we've asked for for
example the name the genre the ID etc so
if I save this now and we scoot over to
the front end again if I just refresh
the page over here then we're not going
to get that squiggly line anymore
because now we know that we can do
something like this we can make
initial require it let's play this and
we get a list of all the different books
how easy was that to set up seriously so
we could say we just want the name of
these like so and we get just the name
also because we've set up that
relationship between a book and an
author we could say we want the author
of each book and the author has a name
that we want and also an age so let's
press play and now we get a list of
books the name of that book and the
author details of each book this kind of
blows my mind how easy this was to set
up from grukk email all we need is a
little bit of setup from the start to
define our types and our relationships
and then anything beyond that graph QL
does an awful lot of heavy lifting for
us alright so now we've set up a rig
query for all of our books let's do the
same thing for authors right back to the
code and below books let's do another
field called authors again this is gonna
have a type and again this is going to
be a list so we don't want to return
just an author type right here we want
to return a new graph QL list and it's
going to be of author types okay
so we also need that resolve function
oops
resolve on inside take the parent and
the args but again we're not going to
need these because all we really want to
do is return all of the authors like so
so let's give this a whirl as well I'll
save that and a head back over to
graphical and this time I want the
authors and then inside I'll take the
name of the author and if we want also
the books by the author and we'll take
the name of each book as well so let's
play this and we get back a list of the
authors and we get back the books of
each author as well that is seriously
seriously amazing so this is still
getting a squiggly line but that's
purely because we've not refreshed over
here so now graphical does understand
what this Rick query is so again we
don't
after nest books we can just get the
name of each author if we want or the
name and the age of each author this is
amazing stuff so this is really when the
power of graph QL really starts to shine</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>