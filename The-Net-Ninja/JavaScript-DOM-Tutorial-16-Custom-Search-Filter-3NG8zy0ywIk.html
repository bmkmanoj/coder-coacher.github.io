<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript DOM Tutorial #16 -  Custom Search Filter | Coder Coacher - Coaching Coders</title><meta content="JavaScript DOM Tutorial #16 -  Custom Search Filter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript DOM Tutorial #16 -  Custom Search Filter</b></h2><h5 class="post__date">2017-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3NG8zy0ywIk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on guys welcome to your
16th JavaScript in the Dom tutorial and
in this video I'm going to show you how
to create a search filter using
javascript alright and so the app is
starting to take shape we've attached a
few different events such as the delete
event we can also hide and show the
books we can add new books as well now
what I want to do is turn our attention
to this thing right here to search for
the books so that when we type something
in for example of the Wise Man's Fear
then it filters the books and only shows
this one so how are we going to do this
well we're going to do this by attaching
an event listener to this input field
right here and this event is going to be
the key of event and a key of event is
when we click a key and then we release
it that release is the key of event so
when that event occurs what we need to
do is find out the value of this input
field for example when they click a it's
gonna be a that's the first key of event
then it could be n that's the second key
of event so every time is one of these
events we're listing out for that and
reacting to it and we're grabbing the
value of the current text inside this
input field and then what we want to do
is take that text and we want to compare
it to each one of these titles in turn
now if that text appears anywhere in one
of these titles for example a n appears
here and it also appears here then what
we want to do is we want to keep those
titles in the list if it doesn't appear
in one of these book titles then we want
to hide that title from the list so
we're filtering those out makes sense so
let's get cracking with that the first
thing we need to do is grab a reference
to the search bar now if we inspect the
element we can see it's inside this ID
right here search box this form and it's
an input field of text so let's first of
all grab a reference to the form and
then find the input field within that
I'm going to create a constant first of
all and I'm going to call this search
bar and I'm going to set this equal to
documents dot forms remember we can grab
the farms in a document this way easily
then in square brackets we'll pass
through the ID of the farm we want which
search - books then within the scope of
this forum I want to perform a query so
what's a query selector and this query
is going to be for the input field so
this is going to grab us the reference
to that input search box the next thing
we want to do is attach an event
listener to this search bar we want to
attach the key of event
so we'll say search bar dot add event
listener and the event listener we want
to add is the key of event so I'll say
key op and then we'll add a callback
function we'll take in the event and
then open the function now inside this
function what do we want to do well the
first thing we want to do is grab the
search term so whatever the user has
import into this field so let's create a
constant first of all and I'm going to
call this term and I'll set it equal to
e which is the event object target now
the target element in this case is the
thing that's emitting the event and
that's going to be the input field right
here so that's why we want to grab that
because we want to grab the value of
that input field makes sense so now
we've grabbed the value what I want to
do is perform a method on it called two
lower case and that is going to turn the
whole string to lower case so for
example if I type in capitals then it's
going to turn that into lower case
because I want to compare a lower case
string to a lower case string and we're
going to convert these to lowercase
later on because if we match up this to
let's just enter wise instead if we
match up this word wise to this and they
are not going to be the same thing
because one's in capitals and one isn't
all right so we want to make sure the
both the same case so that when we
compare them it's more accurate
okay so we've now got the search term
and converted it to a lowercase the next
thing I want to do is grab all of the Li
types because we need to cycle through
each one of these attacks find the title
of the book and compare it to the search
term which we've just got so let's
create a new constant
and this constant is going to be called
books and I set that equal to list and
we have that list up here remember
document query selector book lists URL
then what we want to do is perform a
search in here to get all of the alight
acts or say get elements by tag name and
the tag we want is Li cool all right so
we have all of those Li tags the next
thing we need to do is cycle through
those Li tags and perform some kind of
evaluation to figure out if the search
term here is contained within the titles
of each book so the first thing we need
to do is turn this into an array because
this is a HTML collection and we can
perform the for each on that so let's
turn it into our number 8 by saying
array dot from and we want to create an
array from the books so now we can
attach the for each method on to it and
inside we can pass a callback function
which takes the individual book and each
iteration round we want to check this
book to see if the title of it is equal
to what we've input into the field right
here so the first thing we need to do is
grab the title of this book and the way
we can do that is by saying Const title
and set it equal to the book itself then
we want the first element child and the
first element child of this Li tag if we
just inspect one is gonna be this span
right here in with a class of name so
that is the title so we're grabbing that
element first of all then we want the
text content which is this so we'll say
dot text content and now we have the
title of the book so we have the term
here that the user is searching for and
we have the title of the book now we
want to check if this term is in the
title of the book and to do that we're
going to perform an Eve check and inside
here I'll write this first then I'll
explain itself first of all title to
lower case because remember we don't
want case to be an issue so we're
converting both the term and the title
to lower case so that that's not an
issue when we come to compare them but
then what we're going to do is use a
method called index of and pass in the
toe so this mess
right here gets the index of this term
within this drink and by the index I
mean the position in the string for
example if I type in H II then the
position of this string in this title
right here is right here so it returned
one okay if we saw here it might return
nine or something like that now if this
was a lot of garbage this doesn't appear
at all in the string so what then
happens is this method right here
returns a value of minus one so if that
method returns a value of minus one we
can be confident that this term is not
inside the title therefore we want to
hide that title we want to filter it out
make sense so we can check if this does
not equal to minus one therefore we can
be sure that this term is in the stream
because it's not equal to minus one
therefore what we want to do is make
sure that the Li is set to display as
block so we can say book which is the
individual LR element that we're
iterating on dot style dot display is
equal to block okay cool so if this is
not the case if this equals minus one
then we can be pretty sure that this
term is not in the string of the title
therefore we want to do an else
statement we can hide the book so we'll
say book dot style dot display is equal
to none all right so let's save this and
check it out in a browser refresh and
now if we type something in for example
name then it filters out all of the rest
of the elements you can see display:none
on each of these but display block on of
this one which has the name string
inside it if I delete this then I can
say something like there and all of them
have the init so they all remain but if
I say the m then only this one remains
okay so now we've created a filter which
allows us to search for books and we've
done that using the key event and
various all the different techniques
that we've learned throughout this
series</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>