<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GraphQL Tutorial #12 - Author Type | Coder Coacher - Coaching Coders</title><meta content="GraphQL Tutorial #12 - Author Type - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GraphQL Tutorial #12 - Author Type</b></h2><h5 class="post__date">2018-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Pe1MgqWFyYE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right and so now we've created our
schema we have a book type and a requir
e and we can make requests from the
front end to get the data so now I just
want to make it a little bit more
complex and introduce another type and
that is going to be the author type so
first of all let's create some dummy
data for the authors I've already copied
this and I'm going to paste it in so
just three authors Patrick Rothfuss
Brandon Sanderson and terry pratchet
they all have a name property an age and
an ID as well now then we need to create
a type first of all for this author much
like we create air created a type for
the book right here we're going to do
the same kind of thing so instead of me
writing it all out again I'm going to
copy this and paste it down below and
I'm going to change book to author and
then down below the fields first of all
the name is gonna be author then the
fields the ID is still going to be of
type graph QL ID the name is still going
to be a temp graphic above string we
don't have a genre property on this
author type instead we have an age
property so let's replace that and it's
not going to be a graph QL string this
time because it's an integer so we need
to grab a different type up here called
graph QL int so let's grab that graph QL
int like so and then down here we can
say that the age is of type graph QL int
instead of string and there we go that
is our author type so like I said before
we're going to be doing this kind of
thing over and over again where we're
making graph QL object types like so and
they're very similar to each other it's
only really the name and the fields that
change and we're also going to be making
multiple requir types so we have books
and we have authors but at the minute
we're only able to query a book so we
need to name another field author so
that we can query an author as well so
let's do that first of all I'm going to
place a comma after the closing brace
for the book and name this requiere
author
now then this is going to be of type or
the type and then underneath the arcs
that we expect to come along with this
query is again it going to be an ID
because I need to know which ID which
author ID I need to grab from up here
alright so the user when they're making
a request or a query is gonna have to
pass through the ID much like they did
with the book so this ID down here is
going to have a type property of graph
QL ID again and then finally we have the
resolve function and inside we take the
parents and the arcs alright then so
remember when a user makes a query for
an author they're going to pass through
the ID and that will become attached to
the arcs so again we have access to that
ID property in here so then what we need
to do is find the author based on the ID
that comes along with the query so again
we can say we turn and then underscore
dot find we're using a lodash method
here and then this time instead of
finding inside the books array we're
going to look inside the authors array
because that's what this thing here is
called authors write and then inside
this authors array we're going to look
for a book which has an ID property
which matches our cid the ID that comes
along with the query so we're returning
that now so that's all there is to it
we've made a book query right here we've
also made an author query and instead of
just opening up new calibration need a
little coal on there and that will do so
let's save this and I'm gonna refresh
over here and this time what I'm going
to do is first of all click on root
query type and you can see now we can
query both book and an author so if I
click on author we can see we have
access to these properties on an author
the ID the name and the age and if we go
to query it we have to use the keyword
author and pass in an
d so let's do that let's instead of
querying a book query and author will
leave the ID is 2 that's absolutely fine
we can ask for the name of the author
but we don't have a genre property on an
author but we do have an age property
and an ID property so let's ask for both
of those so click Play and we get this
author object back the name is Brandon
Sanderson age 42 ID is 2 awesome let's
try doing it without a couple of
properties so without the age that works
without the ID rather and without the
age and that works as well if we change
the ID to 3 we get terry pratchett and
if we change the ID to 1 we get patrick
rothfuss alright then so this is all
working how simple was that I mean once
we've got the basics down to create more
require ease and more object types is
very very simple indeed now remember we
said on this fields property right here
that we're going to wrap everything
inside a function now I said that was
because when we have dependencies on one
type to another then graph QL might not
recognize those dependencies because one
is defined before the other so I'm going
to explain exactly what that means when
we look at tight relations in the next
tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>