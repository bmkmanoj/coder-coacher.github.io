<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GraphQL Tutorial #34 - Book Details Component | Coder Coacher - Coaching Coders</title><meta content="GraphQL Tutorial #34 - Book Details Component - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GraphQL Tutorial #34 - Book Details Component</b></h2><h5 class="post__date">2018-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PLZNt5Ov36I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright then gang so now we're in a
position where we're adding new books to
this list and it's re-rendering when we
add a new book now when we click on a
book what I like to do is make a query
to our graph QL server and query that
single book and then show information
about that book on the page so let's
have a look at how we can do this first
of all we need to make a new component
so let's just get rid of these things
here I'm gonna create a new component
over here new file and I'm going to call
this book details
jas alright so the first thing i want to
do is just copy this up here and paste
it down here because we're going to use
those in here we don't need this really
let's just comment this out for now
we're going to import a different query
to get a single book later on but also
I'd like to just copy this as a bit of a
boilerplate for me and then we can edit
it so let's go down here and this is
going to be called book details like so
and we can get rid of this display box
function I think just keep the render
one and inside the render function we
want to return some hasty melt but
instead of a URL let's return just a
single div right here and this div is
gonna have an ID of book - details then
we'll do ap tag and this P tag is gonna
say output book details here alright so
ultimately when we make inquiry for a
single book this is where we're going to
output the details of that book when we
click on it in the list now the next
thing I want to do is make a query for
this component and bind it to this
component now this query is going to be
for a single book isn't it because when
we click on a book we're going to query
that single book so in queries
let's start to flesh this out so under
here at the bottom I'm going to make a
new query and I'm going to call this get
book query so Const get book query right
notice the different get books because
we're getting all of them gets book
because we're getting
one all right so get booked query is
going to be equal to gql then the
template strings and then underneath
we're going to say query and then
ultimately we're going to pass some
variables in here because we need to
pass in an ID into the query to say
which book we're gonna get right so
let's say the ID is going to be coming
into here as a query variable so ID like
so and that is going to be a string okay
so this query is gonna ask for a book
you sing a book and we need to pass
through the ID which is going to be
equal to the query variable ID which we
just passed in we're doing exactly the
same here as we are up here all right
we're passing through some variables
query variables into this query and then
down here what we're doing is we're
using those variables to query the
actual book so from that book I'd like
to see an ID oops not idea just ID and
then I also want to see a name I'd like
to get the genre of the book and then
also I'd like some details on the author
as well so from the author and like the
ID I'd like the name of the author I'd
like the age of the author and possibly
even get me a list of the books that
they've done so we can list all the
books by this author as well so the name
of each book and also the ID of each
book so right now what we're doing is
we're saying okay well get me a single
book with this ID we're gonna pass this
ID in later when we bind the query to
the component and then when you get that
book give me all of these properties of
the book get me some author details as
well from that book the ID the name the
age and then return me a list of all the
other books that this author has created
right so this is useful information when
we click on a book we're gonna see the
author information the book information
and all the books that that author has
written as well cool so that is our
query next we need to just export this
down here so I'll say get book query all
right and then we can import this dude
so I'll just copy it up
into our book details over here so let's
uncomment this replace get books query
with get book query that's what we're
important here then finally what we need
to do is bind this query with this
component so much like we did for the
other components we can say export
defaults then graph QL remember we have
that imported up here and in brackets
it's going to be get book query and then
we're going to bind that to this
component which is book details oops not
do details book details okay whew so
what have we done here we've created
that query over here and we're going to
pass an ID into that query later on but
we've exported it and we've imported it
into this book details component and
we're binding that query to this
component now at the minute it's not
going to work well because we don't know
the ID that we're passing into this
we've not passed that query variable
into this query okay but we'll look at
that later but essentially when we do
we're still binding this query to this
component so whenever we render that
component is going to run this query and
find that particular book so we'll we'll
have a look at that later where we pass
a variable into this query and it rear
Enders when we click on an item but for
now let's just nest this component
inside the book list component down here
so underneath this ul I'm just going to
nest the book details component and
remember in order to do this we have to
import that so I'll say components right
here and we'll import it so import and
then it's going to be book details from
and we need to say the current directory
forward slash book details alright so
this file right here ok then so we've
nested that here now so hopefully we
should see the current content which is
this thing here on the screen now so
let's save it and view this in a browser
okay so we can see that we output the
book details here now we are
getting an error and the error the
variable ID of type string is used in
position expecting type ID okay so fair
enough we can just use ID first of all
over here let me go to queries and
change this to ID okay so let's save
that and see if we get the same error
now we don't get an error now but still
when we click on something over here
we're not getting the details yet even
though we're binding a query to get a
single book here we're not getting those
details because we're not passing that
ID as a query parameter to this
component when we click it so in the
next tutorial we'll look at how we can
do that when we click a title of a book
over here pass that query variable into
this component where we're making that
query so that when we make the query it
returns the book details from that
particular book right here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>