<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Tutorial #10 - Input Refs | Coder Coacher - Coaching Coders</title><meta content="React Tutorial #10 - Input Refs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Tutorial #10 - Input Refs</b></h2><h5 class="post__date">2016-11-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bj2yyrl8L14" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're something going welcome to your
tenth react tutorial and in this video I
want to talk about input references all
right there so this is the current state
of our application we've got some items
on the list and we can delete those
items if we want so all this is very
snazzy but I want to add some additional
functionality now I want to give the
user the chance to add a new item to the
list via some kind of form down here so
the input something click Add and then
it adds it to the list so how we're
going to do this few different steps
first of all we're going to create a new
component for the form down here we'll
call that component add item or
something like that then when the user
clicks on this button to add the item
it's going to fire up an event to add
that item to this data right here in the
state of the parent component now the
way we're going to grab that data from
this input field is by using import refs
so I'm going to talk about that more as
we go through this tutorial and it's all
going to become clear later on so the
first thing we want to do is create that
component so let's create a new file in
the app directory so I got some new file
and I'm going to call this add item j/s
and we're gonna create a component the
same way we normally would first of all
we know we need to import react so I'll
say react equals require react okay cool
now let's create that component the
component name is going to be add item
set that equal to react dot create plus
and inside this class we mean at least
one function which is remember the
render function so this is a function
which is then gonna return some HTML so
let's cut out my HTML so the first thing
I want is a form and inside that form
will give it an ID Bob I don't know add
to do okay and let's close that form off
inside the form we've got a couple of
input fuels want an input field which is
of type text where the user types what
they want to add to the form to the list
sorry and we also want a submit button
input type equals text then we'll say
required then we also will not submit
button so I'll say input type equals
submit I'll give this a value of hit me
okay cool so now we've got our form
right there now remember we want to
export this components so that we can
use it inside the index dot JSP followed
so I'll come down here and let's say
module exports is equal to this thing
right here this component then we can
require it in the index dot JSP
so let's require it down here or say var
and it's add item I'll set it equal to
require then its dot forward slash to
say current directory add item ok so now
we can use that inside this component we
can nest it inside this component right
here which is what I'm going to do so
I'm going to come inside this div and
nest that component which is called add
actually like so simple save that and if
we check it out in a browser now we can
see this form right here now obviously
nothing's going to work at the minute
all we're doing is nesting some kind of
static or stateless plus if you like
inside this one right here okay so we
need to hook up the functionality now
how is this going to work
well we've seen handling events we've
said unclick do something we're going to
do something similar in this except it's
going to be on submit because the user
is going to click the submit button
right here so we're going to add an on
submit event handler to this which fires
a local function within this component
this then is going to grab the reference
the input ref off this thing right here
and it's going to pass it back up into
the main component the parent component
which is going to add that item to the
data in the state in this array make
sense
okay so let's work through this one step
at a time so let's first of all add on
the on submit event and we're going to
set that equal to this to reference the
component the component dots handle
submit so we need to add this function
right here if I copy it to this
component so pop your little comment
there after the render function then
we'll say trust Oh functions here and
we'll create this handle submit function
like so okay then this is going to do
something now remember we need to pass
up this data back up to the main
component so first of all we need to
reach in and grab this data and this is
where input refs coming to play so in
react we can just say something like ref
equals and then it give this a reference
I'm going to call this new item okay so
then we can access whatever user types
into this input field via the refs okay
the way we do that is by saying rip this
refs this dot refs and then whatever the
name of the reference is new item for
example okay so let's just walk this to
the console to see what happens we'll
say console dot log and then open up our
brackets close them save this so now if
we open up the console then we should
see when we enter something in here hit
me watch very quickly you can see it pop
up there before it kind of reloaded the
page we saw the Elven so the reloading
we need to prevent it we need to prevent
the default action of this submit button
and the way we do that is by passing the
events into that function back there so
we can do this in react when we have an
event when we handle that event in a
function we can pass through this
variable E if you like and that's going
to give us information about the event
and we can do something like this as
well II don't prevent default and then
this function right here is going to
stop the normal behavior of this submit
board so it's not going to reload the
page now so if we press
again and checking out over here this
time today on something and say hit me
then it's not gonna reload the page but
notice this it gave us this thing right
here this input field now it's not
giving us the value of it it's just
giving us the element if you like ok so
how do we get the value of it that's
simple we just say dot value instead so
if I save it now and check it out once
more if I type something in and say hit
me now I get this text awesome so now
we've reached in we've grabbed what the
user has import and we want to do
something weird with that we want to add
that to this list so like I say we want
to pass this thing right here or into
the parent component so that we can add
it to this array so how the hell are we
going to do that well again we're going
to pass down a function which is defined
here as a prop into this component here
so that we can use it and we can alter
this data so first of all let us go here
and add in that prop so we're going to
call this on at much like we call this
one on delete we're calling this one on
and that's going to be equal to this
dots on add so this is going to be a
function which is defined on this
component right here okay so let us now
define that function let's come under
this one right here put a comment
remember after your last function
because this is just a JavaScript object
and we'll say on at set it equal to a
function again we want the item that we
want to add much like we did or right
here and let's open that dude up so
again I've just got a code snippet right
here which I'm going to paste in and
walk you through so again I'm creating a
local variable called updated to dues
and I'm setting it again equal to this
dot state dr. dues which is the current
array right there in its current state
okay the current data so we've stored
that in a new variable now then we're
saying take this updated to dues and
push the JavaScript method this new item
to that array
okay so whatever item can get through
here we're pushing it to that array so
now updated to news has one extra item
in it then this thing right here okay so
then we're going to set the state we're
saying this set state we're sitting the
deduced property equal to that updated
to dues array with the extra item in it
all very simple so that's what this
function does then we're passing down
this function here as a prop saying on
ad is equal to list on ad so let's save
this now therefore in this component
which were passing it down to we can
reference that prop so let's just copy
this thing first I'll get rid of that we
don't want to log anything to the
console anymore this time we want to
save this dot props and grab that
function which we passed down which was
on bad and we're going to pass through
the item which we want to add to the
list which is this thing right here
remember we're getting a reference to
this which the user types in and then
grabbing the value of that
okay so we're passing that item through
then into this on add function which
adds an element to the array or like so
okay so let's check this dude out and
I'm just gonna say I don't know have
whatever hit me and now that gets added
to this array that is pretty awesome
right so now we can delete and add items
now I want to do one more thing which is
dead quick which is just add some CSS to
this down here so again remember we have
this gist I'll leave the link to this
down below and we have this add item dot
CSS down here we're going to grab all of
this remaining CSS and copy it and I'm
going to create a new CSS file call this
item dot CSS and paste all that in there
then all we're going to do is require
that CSS right here so we'll say require
and there we know that it's in the
current directory for slash CSS /ad item
dot CSS
awesome save that and let's check out
what it looks like now in a browser that
looks a bit more in keeping with this
application make sure it still works
I don't know blow up they believe you
can tell I have a lot of spare time
anyway it works awesome
and we can take those things off as well
so there we go guys that is how we can
use input refs like so to grab the value
of those references when I use it input
something to them and again we're using
some postal functions passing the data
back opportunity Hrant component which
is then altering the state of this
component right here this thing okay so
don't forget to share subscribe and like
and we're going to see you in the very
next lesson</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>