<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django Tutorial #28 - Checking Login Status | Coder Coacher - Coaching Coders</title><meta content="Django Tutorial #28 - Checking Login Status - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django Tutorial #28 - Checking Login Status</b></h2><h5 class="post__date">2018-01-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/P2FVeT3T_7Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright then so things are looking
pretty swanky so far we've got a lot of
the functionality sorted out we can sign
up log in post articles and all that
jazz but there's one thing bothering me
at the minute and that is I always see
this logout button at the top and that
appears there whether I'm logged in or
logged out now really we should be
showing some kind of dynamic information
there depending on whether we are logged
in or whether we're logged out so if
we're logged in we should see this
logout button and also maybe a button to
create a new article so that's if we're
logged in if we're logged out
we shouldn't see those two things and
instead we should maybe see a login
button and a signup button so in order
to do that we need a way in Django in
our templates to detect whether a user
is either logged in or logged out so
that then we can show them different
content dependent on that State so I
guess what you could say is that we need
to detect whether our user is
authenticated and we can do that pretty
easily in Django much like we can do a
lot of other things pretty easily in
Django so right now I've opened up the
root templates folder and I'm in base
layout so this is the base layout that
is shown on every single page and in
here we have the header and inside the
head of the h1 which is the logo this
thing over here that's fine that can
show to everyone and then below that we
have this now and inside the nav at the
minute we just have this one Li tag and
this Li tag is for the form to log in
now that is being shown to everyone at
the minute we don't want to show it to
everyone we only want to show it to
people who are logged in or people who
are authenticated so the way we can do
this in Django the way we can detect if
someone is authenticated and show them
different content is by doing our
template tags and then a little if
statement to check if they're
authenticated now we have access to the
user object inside our template and we
can use dot is underscore authenticated
to check whether this user is actually
authenticated and if they are then it
will output this code if they're not we
can do an else statement down here after
the code and
I'll put something else so else and then
down here we can do some other code so
if they're not locked then it shows this
right and then finally we need to end so
now if a user is authenticated it's
gonna show this code right here the
logout button if they're not
authenticated if they're not logged out
is going to show whatever's inside this
bit here so inside this bit
we'd like to output a different Li and
this Li is going to be a login button so
let's open up a egg tag and set that
equal to a URL so we'll do our template
tags and inside here will say URL is
going to be the login URL which is in
the accounts up then it's login alright
so this is going to be the login link so
I'll call it log in and close the a tag
now I'm just gonna copy that into the
next line and change this to sign up and
this to sign up as well so then if
they're not logged in we'll see these
two Li tags if they are logged in we'll
see this a live tag okay
so let's save that and see what it looks
like in a browser just refresh over here
and I'm obviously logged in because I
can see this button right here so if I
log out now it's replaced by these two
buttons login and sign up so if I log in
again then now we see the logout button
again that's pretty cool right so we're
easily detected here if a user is logged
in and showing them content dependent on
that state so if they are logged in as
well as this logout button I also want
to show them a button for creating some
kind of new article so let's do one more
Li tag down here
another egg tag as well and that is
going to be equal to our URL here and
this URL is going to go to the accounts
or not the accounts the articles up and
then it was create to create a new
article so inside here we can say create
all rather just new article
like so save that and if we view it in a
browser again now we can see this button
right here new article so if we click on
this then we get the new article page
again I'll log out and now we can't see
that new article button instead we just
see these two things pretty cool right
so this is how we can dynamically show
different things dependent on that state
one last thing I'm going to give this a
little class equal to highlight this is
just so we can style it differently from
the other buttons later on when we come
to style things up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>