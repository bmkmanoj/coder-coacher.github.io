<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OAuth (Passport.js) Tutorial #19 - Creating a Profile View | Coder Coacher - Coaching Coders</title><meta content="OAuth (Passport.js) Tutorial #19 - Creating a Profile View - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OAuth (Passport.js) Tutorial #19 - Creating a Profile View</b></h2><h5 class="post__date">2017-10-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QuXsbg-tX58" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">howdy Ganga welcome to your 19th oh f
tutorial and in this video we're going
to flesh out a very simple profile page
okay so now that we can check if a user
is logged in and we're redirecting that
user to the profile page when they are
logged in and that mean they all were
doing is sending them this stupid
message right here and that's not going
to happen on a typical website if this
was my profile on Facebook
I'd be bitterly disappointed so instead
let us create a profile view and okay
this is not still gonna be great
but it's gonna be better than this
little line right here so let us get rid
of this we don't want to send that
anymore and instead what we want to do
is render a profile view so inside here
I'm going to say profile and at the
minute it's not going to do anything
because we've not created that profile
view so let's do that now to jump in
here new file and call this profile ejs
alright so I'm not gonna code this out
from scratch cuz I'm super lazy so
instead I'm gonna copy the home view
right here and I'm going to paste this
in and this right here this is all gonna
basically stay the same right so we're
gonna have that header at the top and we
don't really want this text right here
instead we'll say welcome to your
profile okay and then in the main we
don't really need anything at the minute
either now then so what we're doing here
is we're rendering this page when a user
goes to a forward slash profile so first
of all let's try this out
let's go to profile again and now we see
welcome to your profile and underneath
it says home page we don't want that
either
okay save that view it again but it
doesn't really show whose profile this
is does it so what we can do now in the
profile routes right here when we're
rendering this profile we can send along
some data right and that's the second
argument right here to this render
function so we can send along an object
which is going to contain some kind of
data and this object can have different
parameters on it now we want to send
back the user to this profile view so
that we can render some of that data to
the user so the user knows in the view
whose profile it is all right so we can
send back here the user property and
making this property up by the way you
can call this whatever you want you can
call it melon if you want it doesn't
really matter and calling it use it
because it makes sense I just wanted you
to know that you don't have to call it
user and this property is going to be
equal to the request object user
remember we have access to the user on
this request object so we can send that
data back via this object with which is
a second parameter of the render
function okay so when we try to access
this user property inside the view now
which we can do then we're going to get
that request user object so say for
example I want to add in right here if I
want to add some dynamic code or some
data inside an ejs template I can do
that really simply and all we need to do
is open up our angle brackets then it's
the percentage sign looks a bit like PHP
and equals all right and to close this
off I'm going to use percentage sign
close now we put the equal sign in there
when were outputting some data which we
are doing if we were just doing some
simple logic we don't necessarily need
that error equal sign so we want to
output the user name so we'll say user
dot username does that make sense
because in the route handler right here
we're saying okay well this is the
object that I want to access inside the
view so inside the view I'm accessing
that user object and this user object is
equal to this thing right here
so essentially
typing user in the profile it's like
saying request dot user on the backend
right and then were accessing the
username property on that user object
because remember in the model we have
this username property right so there we
go
that's how we render some data let's
save this cross our fingers and hope it
works so let me refresh over here
welcome to your profile of the net ninja
awesome so down here later on what we
are gonna do is just maybe add in I
don't know extra information about you
and what we can do is we can either gain
this from their Google profile or when
they sign up to our website using their
Google profile we might add extra
information about them such as their
points or their score and that score can
pertain to our website nothing to do
with Google and we could display that on
their profile page does that make sense
okay so let's save this as view it one
more time make sure that's pulled
through and there we go so we have our
profile page now so if we go to the home
page log in Google+
we're redirected to our profile page and
we see the net ninja right here this is
who I am okay so this is all cool now
we've got our profile page up and
running the next thing I want to do is
show you how we can log out a user
because at the minute if we click log
out them we just see this stupid message
logging go and it doesn't do anything
passport can help us out there so I'm
going to show you how we can do that in
the very next tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>