<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB Tutorial #15 - Relational Data | Coder Coacher - Coaching Coders</title><meta content="MongoDB Tutorial #15 - Relational Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoDB Tutorial #15 - Relational Data</b></h2><h5 class="post__date">2017-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9JZJsChpwKs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">or something guys welcome to your
fifties mongodb for beginners tutorial
under this video I'm going to talk about
relational data okay so in this tutorial
I want to step away from the idea of
Mario characters and adoptions in a
little more typical of a website and
that's going to be authors and books so
we could for example have an author
database website which lists you a lot
of authors in the books they write so I
want to start looking at something like
that now so we could have our authors
with name age bolts you know information
about the authors and then we could also
have information about each book as well
such as a title number of pages genre
etc so you might think because we've got
information about authors and also and
also information about books that we're
going to need to collections in essence
a collection of authors and a collection
of books and this is typically the way
that we do it in a relational database
we perhaps have something like this a
authors table and a book table and in
the authors table we've got a list of
authors with information about them and
in the book table have got a list of
books with information about them and we
might have an author ID next to each one
of these books so we can look at the
author so that's how we do it in a
typical relational database but with
MongoDB we don't need to do that we can
just create one collection authors and
then our related data we can nest inside
his collection so for example we've got
an office collection and we have a list
of authors this is our author ID then
another author down here or Friday and
so forth down the list so we've got a
lot of different author IDs and each one
has information about the author such as
the name age and a list of books which
would be an array right so as well as
that the book which are nested inside
this property right here in this array
so each object at the image array has
its own properties as well information
about the book so in this array we have
these different objects with book IDs
and then each one of those would have a
title property for example and the
number of pages a house
so we're nesting all of this data right
here into the author's collection right
so it's directly within that offer
pretty cool right so if we just take a
look at the object kind of
representation of one of our authors
which is stored in the authors
collection it would look something like
this
named Patrick age 38 books and then we
have an array and in each of these
objects each of these book objects with
a potato and we have the number of pages
now this might not be the number of
pages it probably isn't I've just made
these up but you get the idea we've got
two different book objects in here in
this array now I want you to notice
something because when we consummate
this model and the schema we're going to
talk about it more than before if you
look at the author it has this
particular kind of structure this scheme
if you like where it's got a name to the
string and age which is a number and
book which is an array of these objects
right here and these objects right here
they also have a structure right so each
of the books has a structure and the
author itself has a structure so just
keep that in mind because when we come
to create a schema we might kind of
split these off and actually make two
schemas just one model just the oldest
model but it encompasses two schemas the
oldest schema and the book schema and
we're going to see that in a minute all
right there so we want to create this
new awesome model so let's go to models
and create new file and colleagues
authors jf so because I'm super lazy I'm
going to just copy all of this which is
in a Mario Cart Jas file because we
create a model where I'm just a pasting
so this bit at the top is going to stay
the same because we need mangu so we're
going to use a schema as well so first
of all let's change this name instead of
promise Mario cast game at let's call it
off the schema and create a schema for
the office so inside this we're going to
have a title or rather a name because
you're also going to have a name right
and that's going to be a string and
instead of weight we'll do age that's
going to be a number and then also we're
going to have this other property which
is going to be books right and we know
that's going to be an array but we're
not
start listing things our books and stuff
in here like this in an object instead
what we're going to do is create a new
schema called a book schema and we'll
come back to this in a minute so let me
just copy this which is going to create
another schema or clear a book and we're
going to call this book schema like soap
and this time it's going to have a title
the name in a book which is a string
then what I'll do is say pages which is
going to be a number the number of pages
and that will be sort of get rid of that
comment so now we've got a book schema
so when we create a new author it knows
that it should expect this kind of
structure and the books right here is
going to be an array and it's going to
be an array of book schema objects so
what we can do is just copy that and
paste it in there so then when it comes
to this it can look at the book schema
and say okay well the object was within
this array are going to be this
structure right here based on risking so
when left in this schema right within
this one pretty cool so now we've got a
skewed to earth schemas we can create
the actual model so we'll change this to
author and that's equal to Mongoose top
model and this is gonna be called off as
well
the Memphis Mongoose is going to
pluralize this when it comes to create a
collection so our collections can be
called authors okay and then this is
going to be based on the office schema
so I'll say offer schema then we'll just
export the offer at the end like so so
just a quickly run through again we've
got an author schema then within that
scheme that we've got a book property
this is an array and the array is going
to be made up of objects which follows
the book schema which we've defined
right here then we've created the model
itself we said author equals Mongoose
model this is going to be the collection
name when it's pluralized and it's based
on the author schema which is right here
then we're exported into this author
model so that in the next tutorial we
can go ahead make some tests and create
some authors and save them to the
database with some nested book data</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>