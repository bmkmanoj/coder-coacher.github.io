<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>React Tutorial #5.5 Changing State (&amp; Virtual DOM) | Coder Coacher - Coaching Coders</title><meta content="React Tutorial #5.5 Changing State (&amp; Virtual DOM) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>React Tutorial #5.5 Changing State (&amp; Virtual DOM)</b></h2><h5 class="post__date">2016-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/haT0KtaCuNU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey well something guys welcome to your
5.33 a tutorial and in this video we're
going to talk about how we can change
the state of a component and also a
little bit about the virtual Dom there
okay so actually I meant to put this in
the last tutorial but because I forgot
this is lesson five point five but oh
yes say we want to change the state of
our component so in the last tutorial we
set the state here initially and we gave
this component some data here but what
if we want to change the data on the
state how do we do that we can't just
say this dot state - duze equals a new
valium react won't let us do that we
have to use a method called set state so
that's what I'm going to show you right
now but first of all I'm going to add in
another property on this stay called age
for the sake of this tutorial I'm going
to set that equal to 30
so let's output this age here I'll just
do a little pee tag and then say this
not state dot age save it and check it
out in a blusette there we go so 30 is
output to the screen cool now we want to
change that so to do that I'm going to
do a simple set timeout statement so
I'll say var Egger and call set timeout
and this is going to take a function
which is going to fire after five
seconds so 5,000 milliseconds okay now
within here I'm going to change the
state and to do that we have to save
this dot set state okay and this takes
an object and what we do is pass in the
property from the state that we want to
change we don't have to pass them all in
just the one we want to change we want
to change age so I'll pass that in and
set it equal to 35 so now when after
five seconds this set timeout function
is called we're going to use this
property right here or this method set
state to change this to 35 now this is
currently not going to work okay
so let me save this show you in a
browser
and we'll see an error message after
five seconds right here
encore type error this set state is not
function so why is that
well that's because this right here is
not referring to the component because
we're within the set timeout function so
what we need to do is bind the value of
this to this function so it carries it
inside the function with it okay so
let's say dot bind this because outside
this set timeout function right here
this at this point refers to the
component so we're binding the value of
this at this stage here to this function
and we're carrying that in with us so we
can say this set state now make sense so
if we save this now we're going to see
this update after five seconds hopefully
there we go cool thirty five and if we
go to the react tab you're going to see
this update also in the state if I just
refresh we're going to see this update
over here as well and it's going to
flash when it updates okay so that's how
we change the state of our component now
I just want to take a minute to talk
about the virtual Dom because react uses
the virtual Dom to create this change to
update the data in the browser so this
right here is going to be a very
simplified kind of explanation of the
virtual DOM and its role in updating the
data so our website has a Dom the
document object model which is a tree of
data like this okay and say when we
first load up our application this is
the Dom which is output okay so all of
this HTML right here and there's two
components right here we've got the
person component and their to-do
proponent now in our reacted code say at
some point we change the age variable
much like we just did now we want to
update that variable in the Dom now
instead of directly re rendering the
whole Dom because that's expensive it
takes a long time to do instead of doing
that what we want to
you is use the virtual Dom so
the virtual DOM is an abstraction away
from the actual Dom it's a
representation of it okay
but when we update the virtual Dom it's
much quicker so that's what reactor is
we make a change in the age and that
recreates the virtual Dom with the new
value then it takes that virtual Dom and
it compares it to the actual DOM and it
looks where the changes are and where
those changes are in updates unlike that
portion so we're not re-rendering the
whole Dom we're just changing the
sections which have been changed in the
virtual Dom right here so in this case
the age so that is why react is so quick
because we're using this virtual Dom and
that is much better than working with
the Dom directly so there we go that is
how we change the state of a component
and how react uses the virtual Dom to
update the actual Dom and re render that
data in the browser</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>