<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial #26 - Firebase API | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial #26 - Firebase API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial #26 - Firebase API</b></h2><h5 class="post__date">2016-09-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Fb9o2uwRAk0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're something guys welcome to your 26
angular 2 tutorial and in this video I'm
going to talk about the firebase API
okay so in the last tutorial we hooked
our application up to firebase but all
we did is use the firebase endpoint for
our data right here and we use that to
retrieve the data
now we could carry on like this and we
could use this endpoint to post data to
firebase etc or we produce the firebase
API which makes it really easy so in
this tutorial I'm going to show you how
we can use that firebase API to get data
and also post data to our database okay
so in your console what you want to do
is head over to this home link and then
when you're there click on this add
firebase to your web app icon so if you
click that it's going to tell you how to
add firebase to your web application and
it asks you to copy this snippet right
here which has all the config for your
firebase copy that and pop it in your
application so we're going to do that in
a second but first of all I want to show
you this link also get started with
firebase for web apps and you click on
that it's going to give you a massive
documentation to firebase and how you
can work with it in your application now
I'm not going to go through all of this
I'm going to go through just a couple of
methods to get data and post data but if
you read through this there is tons of
information and then I'm going to do a
complete series on it as well in the
future anyway let's go on paste that
snippet in our application okay so the
first thing we want to do is head to our
index page which is down here this is
where we're going to paste that
JavaScript snippet so I'm just going to
come above the closing body tag and
paste it right there just going to scoot
it in a little bit as well ok so now we
can use firebase in our application so
in this tutorial I'm not going to put
the firebase hook up in this service
right here although in a real world
application of would do I'd keep all in
a service but I'm just for simplicity
going to keep it away from the other
service that we've created and I'm just
going to keep it all in this directory
component so what I want to do is first
of all retrieve the data from
using the API now in order to use the
API first of all we have to declare a
firebase variable so I'm going to do
that at the top right here and to do
that I'll say declare var firebase and
this is going to be of type any so we
have to do that before we use firebase
in this component so let's save it now
and come down here and create a new
method which is going to go out and grab
data using the firebase API so I'm going
to call this method FB for five days get
data and inside this function we're
going to say firebase which is that
variable we just declared dot database
and that's going to go out and get a
hook to our database but then we need to
say dot ref and dot ref provides a
reference to which point we want to
enter our database now we want to enter
at the root level since that's where all
of our data is stored we've not made up
any specific collections yet and that is
just something like that for the root
level but if we would have made up a
collection for example calling ninjas
then we would do something like that and
then we'd reach into the ninjas
collection in our database I could say
all of our data is just at the root
level so we'll stay that okay cool so
now we've reached in and we've got a
reference to our data now we can use an
event listener called on child addict's
or saved on and put child on the scroll
added right there and what this is going
to do is listen out from whenever a
child is added to this reference on the
database so whenever we add something to
it a new ninja okay so when the
application first loads up it's going to
look at the debate database and it's
going to see for child added events at
the minute because we've got four ninjas
on there and then if we add another
ninja down the line it's going to see
another child added events and it's
going to fire this function right down
as well so this takes a callback
function and I'm going to use a phat
error function again if you've not got
any idea what those are check out my
tutorial on those I'll leave the link to
that video down below so this
Erol function this callback function is
going to take a variable which is a
snapshot of what is retrieved from this
database when this child added event
happens so it returns to us a snapshot
okay and I'll show you what that is in a
minute so let's do this that our
function and first of all what I'm going
to do is just a lot of this snapshot to
the console so you can see what it is so
console that log and snapshot cool so if
I save this now and we actually also
need to call this method racket on ng on
in it so when the component stats rocket
is going to call this function because
nothing is calling it yet so I'll say FB
get data okay so let's save this and
head to a browser to see what it logs to
the console and the reason we've got an
error is because I've been stupid and
I've not said this dot FB get data so
let's refresh again okay so this time is
loaded and we see these four snapshots
logged to the console and like I said we
get four at the minute because when the
application first loads Orbach sees
those four items those four ninjas in
the firebase database that we've got and
for each one of those we fire a child
edit event so it's logging the snapshot
four times and each one of these
snapshots refers to each ninja okay now
if you try and open these and navigate
through them you you're just going to
end up in a maze of absolute gibberish
it doesn't mean a thing so how can we
extract some kind of meaningful data
from this get the ninjas themselves dead
easily all we need to say is snapshot
don't vote and it's a method so we save
that now and refresh this time instead
of seeing all this garbage we're going
to actually see something that is
meaningful so there they are those four
snapshots and the values of them and
each time you can now see it is just an
object and each object is a ninja pretty
cool right so what we're doing there is
retrieving all of that data when the
application first loads up and we can
also retrieve this data every time we
add a new ninja because remember it's
listing out for this child added event
so if down the line
I use this application to add a new
ninja tune the database this child added
event is get fire this callback function
is going to retrieve a snapshot of the
child that was added and we're going to
retrieve that object back so then we can
add it to this application right here so
instead of logging them to the console
right now why don't we add them to the
application so I'll delete that and what
I want to do is now say this dot ninjas
which is referring to this thing right
here up here and I'll say this ninjas
dot porch this is a JavaScript method
because we're going to push an object to
the ninjas of rain so dot push and we're
going to say snapshots dot Val like so
and that is just that ninja which was
added okay so if we save this now then
we want to also comment out this because
we don't want this to fetch this data
anymore so we'll comment out that save
this again and head to a browser going
to get rid of that console and now what
we're doing is we grabbing that data
from firebase and each time we get a
snapshot we're adding that snapshot to
this ninjas array at the top okay
so we're adding four in total and then
we'll output in those ninjas to this
application right here pretty cool right
so that is how we get data from firebase
using the five-eighths API I also want
to show you how to post data but for
that we're going to have to create a
form on this application itself so I'm
going to do that in the next tutorial
because we're approaching about ten
minutes now and I don't wanna make this
too long</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>