<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vue &amp; Firebase Real-time Chat (Preview) #6 - Route Guards | Coder Coacher - Coaching Coders</title><meta content="Vue &amp; Firebase Real-time Chat (Preview) #6 - Route Guards - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vue &amp; Firebase Real-time Chat (Preview) #6 - Route Guards</b></h2><h5 class="post__date">2018-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MrwjGBON3Y0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so on this welcome screen at the minute
we're forcing users to enter in their
name and we're not allowing them into a
chart if they don't enter a name if they
tried to get this error message however
if a user was to go directly to forward
slash chat then they do get into this
component now we don't really want that
because then when they're chatting they
don't have a name associated with that
chat so what we like to do is block this
component of this URL if that name
property doesn't exist now when we're
blocking a certain component or URL in
view but can use what's known as a route
guard so a route guard guards the route
we can check something before that route
is loaded in and if it's true then we
can go ahead and load that route that
component if it's false if we're not
happy with what we're seeing then we can
redirect them somewhere else so we're
going to create a route guard in this
video so that every user comes to this
component at /e chats and that name
property is non-existent then what we'll
do is redirect them to the welcome
screen so that they can never actually
get onto that chat component without
that name existing ok so how do we set
up this route guard well since this is
to do B routes we'll open up our routes
file and this is the route that we want
to attach a route guard - now the
several different types of route guard
we'll look at some different ones later
on but the one I'd like to show you in
this video is called before enter that
is before this route entered or before
this component is loaded if you like so
after this we'll place a comment and
we'll do a before enter a route guard
now this here is going to be a function
and it's an aryl function so that's
parentheses arrow and then curly braces
so this before answer function it takes
in three parameters - from and next so -
is information about the route that
we're going to the component that we're
going to from is about where we've come
from and next is a function that we're
going to use to come where we want to go
to next we'll learn about that in a
second before we actually enter
the chats routes and load the chat
component what do we want to do well we
want to see what's on the parameters
that are passed through so this thing
right here because remember inside our
welcome screen right here when we
redirect them we're putting on a
parameter which has a name property so
we want to check that that parameter
actually exists before we load up the
chat component so how do we do that
well since we're passing the parameter
or the prop to the chat component that
parameter should be present on here so
we can check if it is present on there
if it is present then we can still load
up that chat component you know it's not
present then instead we'll force them to
redirect to the welcome screen so they
do enter in the name so let's just have
a look at this first of all we'll say
console dot log and we're going to log
to dock params dot name so now if we
save this this function right here is
going to fire just before the chat
component is loaded and it's going to
look for this parameter on the to
component which is the chat component
and it's going to look for a property
call name on there and log it to the
console so now if we go here and we say
Mario and in fact I'll open up the
console ready so we can see this okay if
we press enter chat then we should see
Mario load in now it didn't actually
load up that next component the chat
component and that's because we've not
call next here but running this function
and we're never telling for you to say
okay well now next I want you to
redirect to whatever component now if we
call next on its own like that all it's
going to do is take us to the next
component which is the chat component
right so let's save it and we'll view
this again I'll try seeing Mario again
we should still see it log to the
console over here but this time it does
take us to the next component as well so
we can see Mario right here now if I was
to go to forward slash chat directly
without entering in the name then we'll
go to that and we get undefined right
here because we don't have a name
property inside this component
anymore it's not on that params object
so what we could do is in that route
guard detect whether a name exists if it
does exist yeah we'll let them into this
component if it doesn't exist like this
then we'll redirect them to the home
page or the welcome screen rather so
let's perform that check will say if and
then we want to check the two component
dot params dots name so if that exists
because if it's undefined it will be
false so if it exists then we'll say
okay go to the next component you can
see the chat screen if it doesn't exist
we want to redirect them to the home
page so again we can say next but now
we're not going to just the next
component that we've asked for we're
going to the home page so we need to
pass in an object here and say that we
want to go to the Welcome component
right here the welcome realm so we'll
say the name of the route we want to go
to is welcome like so so does that make
sense if this exists this name we're
going to the next component that we've
asked for because we've already asked
without passing forward slash chat here
if it doesn't exist then we're calling
next but we're not just going to the
next component we've asked for we're
going to this component right here that
we've passed into the next function so
if I save this now this should hopefully
redirect us if we don't add in a name so
I'll go to forward slash chats and you
notice I can't get there it
automatically redirects us here before
that chat component even loads in so we
don't even see it for a millisecond so
that's good we've guarded that chat ramp
now so make sure the name property
exists however if I do add a name here
Mario and then try to go to chat I can
see it so I can get here when a name
does exist but not what a name doesn't
that's pretty awesome</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>