<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript DOM Tutorial #10 - Event Bubbling | Coder Coacher - Coaching Coders</title><meta content="JavaScript DOM Tutorial #10 - Event Bubbling - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript DOM Tutorial #10 - Event Bubbling</b></h2><h5 class="post__date">2017-08-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SqQZ8SttQsI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello do campers welcome to your tenth
JavaScript in the Dom tutorial and in
this video I'm going to talk about
events bubbling alright then so now you
know about events how to add event
listeners to elements and then react to
those events I want to talk about a
slightly more advanced concept and that
is event bubbling so what is events
bubbling well in basic terms it's the
bubbling of event up through the Dom
tree so in the previous tutorial what we
did is attach an event listener to each
button and we're listening for the click
event right so event bubbling will occur
when we click on this button without you
necessarily know it it always occurs
unless you prevent it doing so so when
we click on this button the event is
originating right here this is the
target element the thing that we're
clicking so if we have an event listener
added to this element which we do right
here we add the event listener for a
click if we do then it will fire that a
callback function associated with that
event listener if we don't last fine as
well it doesn't matter whether there is
one associated with it or not either way
what happens next is the event bubbles
up to the parent element in this case
the LI tug now if we were to have an
event listener added to the Li tags then
the callback function for this would
fire as well so if we were to say in
here you know Li is that I'd event
listener click and then inside the
callback function alert some kind of
message when we click on this the delete
button first of all will fire at the
event for this then if the event will
bubble up to the Li and it will fire the
callback function for that which is an
alert so it'll allow something to us in
the browser so whether we have an event
listener added to this Li or not what
happens next is the event bubbles up to
be ul and the same process occurs if we
have an event listener added to the UL
that will fire and then the book list
and then the wrapper etc so the event is
bubbling up from the target element
which we click all the way up to the
furthermost parent element so we can
take advantage
of this because right now what we're
doing is attaching an event listener to
every single span with a class of delete
right here so we're attaching four in
total bought for two reasons this is not
great
the first reason is if we were to add a
book later on in fact I'll just do this
now
I'm gonna edit this as HTML and copy the
whole lot then what I'll do is edit the
URL as HTML and I'll add another Ally
onto the end so now we have five lis
right and we have the delete button
still working from the last tutorial but
what if I was to delete save this one it
works if I delete the last one which we
add it this does not work because we've
already associated the event listeners
with each of these buttons so that's one
drawback of this model right here
attaching to every single button the
other drawback is that if we have a lot
of these buttons on the page then it's
gonna be quite a big task to attach
every event listener to every button
okay it's a more expensive task if you
like it takes longer for JavaScript to
do ideally what we could do is just
attach an event listener to the UL and
that's one element we're attaching it to
then when we click on the button the
event is going to bubble up to the UL
but can find out the target which was
originally clicked which button then we
can delete that li associated with that
button sounds complex but it's easier to
do and this is much more efficient so
let's take advantage of this event
bubbling to do this the first thing I
want to do is just get rid of all this
and then I'm going to say Const list is
equal do documents but query selector
and then in the brackets I want to grab
the UL which is in the book list so book
- list you up alright so now we have
this UL and we want to attach an event
listener to it so I'll say list dot add
event listener and what are we adding an
event listener of a click event so now
we can fire a function when this happens
when someone clicks the UL and in here
we'll pass through the event so inside
this function what are we going to do
well first of all we need to find the
target which was clicked
was it the button because if someone
clicks over here or over here I don't
want to delete the element I only want
to delete if they clicked on a button so
we need to check the target element
where did the user click so we'll say if
then in bracket e target dot plus name
is equal to delete and we've got learn
about class name at the minute but this
right here will return the class name of
the element and this needs to be target
not true get so target so when we click
on the UL if the target was the button
with a class name of delete then we're
going to do something right if not then
we won't so if we click anywhere except
the button on the li nothing's going to
happen if we click on the button within
the UL then we're going to do something
right so inside this if statement what
do we want to do we want to first of all
find the Li that's associated with this
delete button so I'm going to say Const
Li and that is going to be equal to e
dot target so the bottom that we clicked
dot parent element
so if we click for example this button
right here is going to grab the Li
associated with it so this is the target
element which we click then we're seeing
grab the parent element which is this
Ally
ok so now we have the parent element
what we can do is say Li dot parent node
and that's going to grab the node above
it or it could be parent element it
doesn't in a matter which is going to be
the UL then what we're gonna do is say
dot remove child and the child is going
to be the Li which we just grabbed right
here now instead of saying Li duck
parent node what we could do is just say
list because that's the UL right that's
the parent node so I'm gonna say list
don't remove child Li so now this is
going to do exactly the same as before
let me just save it and refresh and now
if we delete then everything's still
working the same way and that's because
we have an event listener associated
with the UL when we click on the UL
we're making sure that we're clicking on
a button first of all if we are clicking
on a button then we're firing this code
we get the Li associated with it then
we're removing that Li from the list if
we don't click on the button like over
here somewhere it's not going to remove
it and this is good because now if we
were to add another Li so let's just
edit this HTML and grab an Li copy it
and then paste it as well down below if
we were to add another one now even
though the event listener was not
attached to this button if we click it
it's still going to delete because the
event is associated with the UL and
we're still clicking on that ul tag and
finding the source element okay so this
is a much better way to do it than we
did before and now we have successfully
deleted the book from the list so I'm
just going to pop a little comment up
here called delete box and we're going
to keep this in our application for now
because that bits finished and we're
going to move on through the application
and add in the other functionality as we
go along</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>