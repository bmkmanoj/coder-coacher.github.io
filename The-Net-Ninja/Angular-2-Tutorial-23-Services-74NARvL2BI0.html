<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial #23 - Services | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial #23 - Services - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial #23 - Services</b></h2><h5 class="post__date">2016-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/74NARvL2BI0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yo something guys welcome to your 23rd
angular 2 tutorial and in this video
we're going to talk a little bit about
services all right so you may have heard
of the phrase don't repeat yourself or
dry code when it comes to programming
and that basically means don't duplicate
your code where you don't have to
because it's just going to increase your
workload so for example say we have an
application with two components the
first component does sort them and it
connects to the database as well
the second component does something else
but it also connects to the database and
the code to do this is going to be the
same as the code up here as well so
we're repeating our code in two
different places now this is bad
practice because if we need to ever
update the code then we're going to have
to update in two places and maybe more
if we have different components doing
the same thing as well so services kind
of take this problem away from us so
imagine this scenario instead we have
one component which does something a
second component which does something
else and they both still want to connect
to the database but instead of writing
the code in each component we
centralized the code in a service which
is separate from these two and then any
component which wants to connect to the
database just gets this service we
inject an instance of this service into
the component which wants to use it so
that's what we're going to take a look
at in this tutorial we're just going to
create a very simple service to begin
with and then in later tutorials we're
going to create a service which goes out
and connects to a database okay so I'm
in the ninja directory for slash source
/up directory and I'm going to create a
service a dead simple one in this
tutorial now the way we do that using
the angular CLI by saying ng then G for
generate s for service and then the name
of our service I'm going to call this
logging it's going to be a logging
service so this is going to go ahead and
create this service for us in this up
directory right here and you can see now
logging service down here so don't worry
too much about this injectable stuff at
the minute I'm going to talk about that
later for now all you need to know is
that whatever code goes in this class
right here we can inject basically into
other components for
example the directory and the home
component then we can use this service
in those components now like say I'm
going to keep this dead simple so this
is just going to be a simple service
which loads a message to the console so
we'll define a method on here called log
and this method is simply going to say
consult a log and then I am the logging
service now okay this is a bit over the
top we would never have a service which
just does something as stupid as this
but this is just to demonstrate the
principles behind using services and how
we inject them then like say later on
we're going to create service which goes
out and connects to a database instead
okay cool so that's our service created
dead simple now what we want to do is
inject that service into our different
components so let's start by injecting
it into this directory component so I'm
going to get rid of this service' now
and I'm going to go into the directory
component class file and the first thing
we need to do to use it in this
component is import it right up here at
the top so let's say import and the
thing we want to import is the service
which is called blogging service and
that name comes from this thing right
here okay so where are we importing that
from well we have to go up a directory
into the app folder so I'll say dot
forward slash and then it's logging
service okay login service cool now the
second thing we need to do is tell
angular in the components how to create
an instance of this service when we need
it
and we do that using the providers
property index decorator so I'm going to
come over here and I'm going to say
providers and this is basically where
we're injecting our dependency for this
component alright so what we want to do
is specify this thing right here so now
when we require this service it knows
how to make an instance of that service
okay
now the next thing we need to do is pop
this in the constructor right here I'm
going to write it first of all
it's a private and then I'm going to
give a name for this service like a
local name that I can use within this
class I'm going to call it lager and I'm
going to do some typing to say it's a
blogging service type that we require so
that's then going to know to go out and
create an instance of this when this
component is loaded and when this class
component is initialized all right
essentially so we're creating an
instance of this and now we can use it
by referencing this logger so what I
want to do is create a method right and
this method is going to be activated by
clicking a button on the directory
component view so this method is just
going to be called log it and then what
we'll do is say this dot logger which is
this instance of the logging service and
then we have access to the logging
service methods I remember we make one
call log if we take a look
we made a call log right there so we're
going to use that method whenever this
method on this component is called so
now we need a way to call our method so
let's save this dude and head over to
the direct review and I'm just going to
do a little button down here button and
then I'll give this text st. or blog me
and this is going to have a click event
we've already seen how we've done this
in the past event binding few tutorials
back and we're just going to attach it
to a fortune on this directory component
called a log it so log it and save that
so what's going to happen it well when
we click this button it's going to call
this function on the component class
right here then that's going to say this
dot logger which is this thing right
here which angular knows is an instance
of the logging service so now we have
access to the methods on that locking
service through this variable I'm seeing
dot log and the only way we can use this
in this component is by first of all
importing it here then specifying right
here the providers ok
and then it's going to do all the work
for us so let's save that and let's a
view it in a browser
and if we go to the directory then we
should see down here the button can't
log me I've got the console up so we can
see the message here and if I click it
it says I am the login service cool
we've done it we have created a service
and injected it into this component so
what if we want to inject it into
another component well we just have to
do the same thing I'm going to copy this
and I'm going to paste it into the home
component so that's in the home
directory home component and I'm going
to paste it right here we also need to
say the providers source it providers is
the array and it's this thing the
logging service and then I tell you what
I'm going to do I'm just going to copy
and paste from the directory component
this stuff right here because it's all
going to be the same I'm going to paste
it right there ok save that and then in
the whole view we also need this button
which is going to fire off the service
save that and now this should also work
on the home view on the home component
as well as on the directory component
because we've injected it into both
components so let's give this a whirl so
first of all the directory component
that's the works then if we go to the
hole and we say log me this works as
well so cool we've now injected this
service into both of these different
components so essentially we've not had
to repeat ourselves and I know we have a
little bit to fire off this logger but
imagine if this service if we open it up
imagine this service with something much
bigger we had loads of different
connections to the database update the
database a read from it etc now if that
was the case then we'd save ourselves a
lot of time I'm not repeating all that
code and just having a little bit of
that code in each of the home component
and the directory component and then
injecting that service into both of them
pretty cool right
so this way of doing it when we've
injected it into both components this is
creating a new instance of that service
each time so this directory component is
creating an instant
of the logging service and this home
component is creating a new instance of
the logging service now say we don't
want to do that say for example we have
some kind of a reg in the service like
this so we have some dented I don't know
data equals an array of different things
right and then each time we call the
service from whether it's the whole
component or the directory component
we're going to add data to this array or
manipulate it then we don't want to
create a new instance of the service in
each different component because that's
going to result in two different arrays
we want the data to be synchronous
between the two of them so we only want
one instance of the array and we know
both components are going to use it so
instead what we can do instead of
injecting the service into both of them
individually we can inject them into
this main file here in Maine dot CF file
as a dependency right here so if we just
grab this thing a logging service and go
to the main dot es pop it in there and
first of all is from forward slash at
forward slash logging service because
we're in a different place here and then
what we want to do is also provide it
right here this is where we do our a
dependency injection if you like and
paste it right there we can save that
then we no longer need to have this
thing and we don't need it in the other
one if we go to directory we can take it
up there as well and save that and now
this will still work so this is the home
page log me this still works if we go to
the directory log me this still works
awesome so that is how we create a
service it's how we inject them into
component individually and also how to
inject them at the root level using the
bootstrap method in the main TS file
right there so that it just creates one
instance which is shared between the
components that use it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>