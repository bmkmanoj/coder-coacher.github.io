<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OAuth (Passport.js) Tutorial #3 - Settingup an Express App | Coder Coacher - Coaching Coders</title><meta content="OAuth (Passport.js) Tutorial #3 - Settingup an Express App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OAuth (Passport.js) Tutorial #3 - Settingup an Express App</b></h2><h5 class="post__date">2017-10-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7UEyJH7ak1M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on guys welcome to your
third orth with passport tutorial and in
this video we're just going to set up a
simple Express application to build our
authentication system on top of all
rather so the first thing we need to do
is create a simple Express up on nodejs
now I did say at the start of the series
that you should have a basic grasp of
node so if you find yourself falling
behind in this video then feel free to
check out my node jsy beginners playlist
on this channel the link is gonna be
down below that will really help you out
anyway for the rest of us let's get
cracking I've already opened up this
playlist folder in autumn my text editor
and it's completely empty at the minute
I've also navigated to this directory
inside commander but you can use command
prompt if you wish and we're gonna start
a new node project by typing out NPM in
it now this is going to ask us some
basic questions about the the project
but most of them I'm gonna remain as
default except entry point which I'll
change from index j st apt j s just
because i prefer it the rest i can leave
as default this is fine and now we can
see we have our package JSON file to
keep track of our dependencies now we
need to install a couple of different
dependencies for this project to begin
with I'm going to install Express
to create our Express application and
also ejs because we're going to use that
to template our template files right so
we'll say npm install ejs and Express
now if you have the new version of node
and NPM I think it's five and above then
you don't need to say - - save we can
just press enter it's automatically
going to say these two our dependencies
so I'm gonna see you once these have
installed all right so once those have
installed you can see them right down
here in your dependencies so now we can
crack on with our application so the
first thing I'm gonna do is create a new
file over here called up jeaious and
inside this app KS is where we're gonna
kick everything off now the first thing
we need to do is require Express and I'm
going to store this in a constant called
Express so require Express we need that
to create our Express application and
then underneath we're going to say
first up is equal to Express and we're
going to invoke that function so that's
going to create our Express application
right the next thing I want to do is set
up a view engine so I'll say set up the
view engine right there in a comment so
we know what's going on and we'll say
app dot set this is how we set a view
engine and in a string I'll save you
engine this is what we want to set and
the second parameter is going to be a
string as well to say we want to use ejs
which is what we just installed so now
later down the line we can create these
ejs templates that we're going to serve
up to the user
okay the next thing I want to do is
listen to a port number right so I'll
say app don't listen to do that and
we're going to listen to port number
3000 on our localhost and we're going to
fight a callback function when this has
started listening to this port and
inside here we can just log a message to
the console so we'll say console dot log
and then we'll say app now listening for
requests on ports 3000 all right pretty
simple so now we're listening for
requests on this port on localhost we
also now just want to create a simple
route for the home page so I'll say
under here create home routes and then
I'll say app don't get and we're going
to get just forward slash which means to
go to localhost colon 3000 for the port
forward slash so this is the home rail
and then we're going to use an es6 error
function to do the callback and this
function is going to take in the two
parameters the request object with
information about the request and also
the response object so all we're going
to do inside here is render a template
now we'll say response to do that dots
render and say which template we want to
render now we've not created one yet but
we're going to call it home and we're
going to create that template now so
oops let's control save that and create
a new folder over here for our views our
templates and inside here we're going to
create a template called home ejs so new
file home ejs and
let's create our HTML template in here
in utter Mac and just type in HTML and
then tab is going to create that kind of
boilerplate code for me and it will need
a title which I'm just going to call a
wealth of tutorials so I'll say oh the
tutorials and then down below here in
the body is where we want to create our
HTML template now what I'm going to do
is just copy and paste this from my
github repository because I know you
don't know need to see me type out some
HTML so we have just enough right here
first of all with a ul inside and just
one Li tag and this is a link to the
home page we can see right here we just
have forward slash which is the route
that we just created so we have that in
the nav at the top and then we have a
header underneath that which is just a
h1 and h2 tag then a main which is AP
tag probably the best of our tutorials
on the planet no line okay so there we
go there's our basic home page now if we
run this and review in a browser I'm
gonna say node Mon and by the way I've
installed note 1 if you want to do that
just say NPM install node 1 and then g
for global right that's gonna install it
globally on your computer if you have
not installed node 1 don't where you can
use node app instead I'm using no daman
which means I don't have to read keep
restarting the server node 1 op je s
this is gonna run the app dot J's file
for us you can see app now listening for
requests on port 3000 that was that
little console log message we had right
here so now if I direct myself to at
localhost 3000 we can see the home page
because it's rendering this home view
right here so node automatically knows
to look in the views folder for a
template called hole because we said
right here we want to use the view
engine ejs right so it's grabbing that
hole template right here and he's
serving it to the browser looks a bit
crappy at the minute so let's give it
some style and again what I'm going to
do is just copy and paste this from my
github repository so you don't have to
watch me typing out all this CSS stuff
because it blends a day you're not here
to learn CSS you're here to learn about
passport KS and authentication so just
some basic Styles really we've given a
font family of Arial to
badi we've colored the background of the
nav like a red color
give us a putt in then same with the UL
we've made this a max width of 960
pixels so that it sits in the middle and
the nav
li list-style:none etc etc so really
basic styles going on right here but
feel free to look through them at your
own leisure
save that and let's check this out one
more time we can see now is starting to
look just a little bit better right so
we have this home page and then this
link at the top which one we click is
obviously I'm just going to refresh the
page because it's going to just forward
slash like so right so there we go we
have this basic Express application up
and running now so that in the next
tutorial we can take this one step
further and start to look at the actual
OS process again if you feel like you've
not really understood what I've done
here in nodejs
please do check out my no js' for
beginners series that goes into depth
into everything when it comes to
creating Express applications and he's
really going to help you throughout this
course</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>