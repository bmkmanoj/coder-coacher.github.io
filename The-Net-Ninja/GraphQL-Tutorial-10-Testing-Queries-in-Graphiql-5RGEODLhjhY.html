<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GraphQL Tutorial #10 - Testing Queries in Graphiql | Coder Coacher - Coaching Coders</title><meta content="GraphQL Tutorial #10 - Testing Queries in Graphiql - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GraphQL Tutorial #10 - Testing Queries in Graphiql</b></h2><h5 class="post__date">2018-03-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5RGEODLhjhY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright then so now we have this kind of
basic schema set up we have a book type
and a root query and we're passing the
schema now as a property through to this
middleware right here
ok so we're telling Express graph QL
look you can use this schema now to kind
of map out the graph if you like and so
you know what's going to happen when
someone makes a request to this endpoint
right here so before when we went in a
browser to forward slash graph QL we got
this error message which said graph QL
middleware options must contain a schema
but now we've passed that schema through
we have it here so what we could do is
restart the server I've already done
that and if we now refresh over here
we're probably going to get another
message yep and it says must provide a
query string and basically it's saying
hey look you've gone to this endpoint
forward slash graph QL I presume you
want some kind of data or you want to
interact with this data but you've not
provided me any kind of query string you
know those things that look like this
with an open and close curly brace then
book etc you've not provided that query
string so I don't really know what to do
and that's because basically we're not
meant to interact with graph QL this way
just go to forward slash graph QL it's
an endpoint for other applications to
use to make HTTP requests and queries to
get data back essentially but what if we
just want to test out our graph cue our
server and make some of these test
queries if you like I showed you that
graphical tool earlier on which we can
use so how do we set that up because
when I went to forward slash graph QR
before we saw that little tool here that
we could make those queries with well
the way we do that is pretty simple
inside our middleware over here we just
add in another property called graphical
and it's graph equal with an I between H
and QL and we're going to set this equal
to true so we're saying here we want to
use the graphical tool when we go to
this address in a browser so now let's
save that node 1 is automatically going
to restart my server over here so I
don't need to do anything and then in
the browser if i refresh now we should
see this graphical tool awesome this is
just welcome text I'm gonna get rid of
it and we had a look at this before
where we made a query on the left and
we've got the data back on the right
what we didn't look at is this document
a documentation Explorer over here so
this thing this panel is going to tell
you about the graph QL server that
you're making queries to and it's going
to be different for every graph QL
server so if we have a look here it says
that the query is a root query type and
we can query for a book and that book
must have an ID and we can take a look
at the book object to see which
properties we can access of it an ID
name or genre so this is pretty cool
imagine if a friend or colleague made a
graph QL server and he wanted me to
flesh out the front-end so I needed to
test out the the queries for this graph
QL server I could take a look at this
documentation over here to see the
different types of queries I could make
the different types of data I could
retrieve and which properties I could
retrieve this is a really really cool
tool for developers that want to use a
graph QL server that's been made anyway
this is how we make the request for a
book we say book then the ID so let's
try that out let's say we want to make a
request for a book with an ID of 1 so
let's open up our curly braces first for
this query then the query is going to be
for a book and inside the ID is gonna be
of 1 and we need to take turn that into
ID ok and this by the way here needs to
be double quotes
it cannot be single quotes ok that won't
work it needs to be double quotes for
this to work then we'll open up our key
on the braces again to say inside which
fields we want to retrieve back from
that book we'll say we want the name of
the book we also want the genre of the
book and finally the ID of the book so
now if I press play then we're going to
send this query to our graph QL server
it's going to look at this query
remember inside this schema file over
here it's going to look at it and it's
gonna fire this thing down here and this
resolve function is
take that ID that we've passed along and
it's gonna find that book from up here
and it's going to return it to us so
let's press play and see what happens
voila we get this data object back with
a book on it the name is the name of the
wind fantasy genre and an ID of one so
this has worked and the cool thing is
remember about graph QL is that we don't
have to retrieve all of the different
properties if I take off ID and press
play it's not going to return the ID to
me we just get the name in genre and
we've not had to kind of program that
behavior that's graph QL doing all of
that heavy lifting behind the scenes you
know inside our schema over here we've
not said ok if the user just requests a
name and the genre don't send them yet
or the ID we've not done that we've just
said ok find the book and return it
graph QL you take care of the rest and
that's exactly what it's doing all right
so this is really cool ok let's try it
with a different one ID of 2 we get the
final Empire so that's working ID of 3
play we get the longer 'the sci-fi cool
if we put in an ID which doesn't exist
then we get a book with a property value
of null so this is basically saying look
this book doesn't exist likewise if we
try to pass something in here I don't
know like another property like pages to
say how many pages long it is then we're
gonna get a little red underlined
squiggly thing here which says this is
basically not a property of this object
type but either way if we try to request
it then we're going to get an error
message back here which says cannot
query field pages on type book so it's
basically saying look this thing doesn't
exist so you don't request it all right
summer friends this is how we can use
graphical to test out our graph QL
server and all these different types of
requests and we're going to be using it
extensively as we go through the rest of
this series</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>