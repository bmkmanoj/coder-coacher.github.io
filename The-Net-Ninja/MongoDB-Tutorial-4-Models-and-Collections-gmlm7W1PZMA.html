<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB Tutorial #4 - Models and Collections | Coder Coacher - Coaching Coders</title><meta content="MongoDB Tutorial #4 - Models and Collections - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>MongoDB Tutorial #4 - Models and Collections</b></h2><h5 class="post__date">2017-01-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gmlm7W1PZMA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're something guys and welcome to
your fourth mongodb for beginners
tutorial and in this video I'm gonna
show you what collections are all about
and how to create a model okay so we
already know how we can have multiple
database instances running in MongoDB
and in each database we can have
multiple collections to store our data
in so for example we could have one
project which has a database and in that
database we can store a collection of
Mario characters and a collection of
Donkey Kong characters and we could have
another database for a different project
and in that we could store a collection
of currencies on a collection of flags
okay so each logical set of data that
we're storing would be represented by a
single collection within a given
database right so we wouldn't store a
Mario character in the Donkey Kong
characters collection doesn't make sense
so a single collection can contain
multiple different records for example
we have these two collections here Mario
characters and Donkey Kong characters
and in this collection the Mario
characters we have a different records
we've got two different records here one
that has a name of marijuana has a name
of Yoshi so each of these different
characters with different property
values represents a single record in
this Mario characters collection make
sense yeah so we say the model for this
collection is called Mario character and
only records based on the Mario
character model are going to be stored
in this collection we're not going to
store a record based on a Donkey Kong
model in this Mario characters
collection that doesn't make sense
another important thing to remember
about models is that they have what's
known as a schema so if we look at one
of these records they follow a
particular pattern they have a name and
a weight and the name expects a string
and the weight expects a number so this
is what's known as the schema of this
model the schema T tells the model hey I
expect these properties which should be
of this type so every model has a
particular schema unique to that model
so
we have our database representing our
project in the database we have the
different collections and each one is
based on a particular model and in the
collections themselves we have a
collection of records and each record or
each collection of records is based on a
schema okay makes sense
so now what we're gonna do is go and
create a model and a schema for our
project so this is where we got up to in
the last tutorial we connected to
MongoDB and specifically we connected to
this database instance alright so now
what we want to do is create a new model
for Mario characters for example and
create a schema for each of the records
based on this model to be based on if
you like okay so we're telling MongoDB
how each of these records in his
collection should look like using the
schema now it sounds a bit more complex
than it actually is so the best way to
demonstrate is to create a model itself
so I'm going to go to the root folder
and create a new folder and this folder
is gonna be called models and insert
here I'm going to create a new file and
this is gonna be the model name so I'll
call it Mario Kart j/s okay so these are
going to be based on Mario characters if
you like so first thing we need to do is
say Const Mongoose equals require
Mongoose so we're requiring Mongoose
again because we're gonna use in this
file the second thing we're gonna do is
say constant schema equals Mongoose dots
schema
okay so we're requiring this because
we're going to use the schema property
or object if you like to create a new
Mario götze schema so let's create a
comment saying create schema and model
alright so we'll create the schema first
of all say Const Mario car schema and
we'll set that equal to a new schema
which is this thing right here remember
okay so that's why we required this
thing here so inside this we pass in an
object
and inside this object we're gonna give
it different properties and what we'd
expect those types to be so we're gonna
expect every Mario character to have a
name property and that would expect to
be a string right so that's always say
we want Mario characters to maybe have a
weight and that is going to be a number
in kilograms and that's all there is to
it we've created our schema now just
because we've said we expect characters
to have a way it doesn't mean we have to
have a weight it's optional so we could
create an instance of a Mario character
which doesn't have a weight it just has
a name but if it does have a weight then
it's going to expect it and it's going
to expect that weight property to be a
number make sense all right cool so now
we've created our schema we can create
our model so let's say comps mario kart
equals Mongoose dots model so we're
using this method calm model to create a
new model and this model needs a name so
we're going to call this Mario car right
so this is essentially going to be our
collection name so that is the name of
the model and then we're going to base
this model on a particular schema this
schema right here so let's copy this
dude and paste it in here
so what this is telling Mongoose is hey
lock every time this coder or whatever
creates a new Mario character okay we're
going to create it in this collection
this is going to be the model and we're
going to base it on this schema makes
sense okay one more thing you want to do
is same module exports I'm going to set
that equal to
Mario car so what exporting this now so
we can use it in other files in this
project so now what we've done is
created a schema and a model based on
that schema so in future tutorials what
we're going to be doing is something
like this we're going to be saying
something like bar my character equals
new Mario character right and then pass
it through some different properties
which match up to these things or
here so we can do this because we've
created this model and this schema okay
so that's it for this tutorial in the
next one I'm going to introduce you to
mocha because we're going to set up a
test environment where we can test
saving reading deleting and updating to
the MongoDB database</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>