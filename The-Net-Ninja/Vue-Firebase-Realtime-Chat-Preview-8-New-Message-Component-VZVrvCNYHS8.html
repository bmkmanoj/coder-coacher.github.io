<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vue &amp; Firebase Real-time Chat (Preview) #8 - New Message Component | Coder Coacher - Coaching Coders</title><meta content="Vue &amp; Firebase Real-time Chat (Preview) #8 - New Message Component - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Vue &amp; Firebase Real-time Chat (Preview) #8 - New Message Component</b></h2><h5 class="post__date">2018-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VZVrvCNYHS8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we've made this chat window
right here this component and we said
that we wanted to separate this form at
the bottom where a user adds a new
message into its own component so let's
create that new component first of all
over here and we'll call it new message
view now then we don't need to create a
route for this because obviously it's
not going to have its own page we're
just going to nest this component inside
here so we'll do that first of all we'll
import the file inside here we'll say
import and it would be new message from
and then apps forward slash components
forward slash new message okay so now we
can register it down here we'll create a
new property core components which will
be an object and inside this object will
register the new message component okay
so now instead of this input field right
here we'll nest the new message
component now in this new message
component we'll be getting the message
from the user in an input field and
sending it to the database but we also
want to get from the user the name now
we currently have access to the name
here as a prop but we can pass it also
down into this new message component as
well so we'll say name is equal to and
then we'll say name in here now this is
going to pass downn name as a literal
string so we need to do some data
binding here to bind something dynamic
in here so now it will look for this
property name over here and we can pass
it down into this component so we have
access to it okay so let's save that
first of all and then head to new
message to create this template so
template tags first of all then inside
we need a div with a class of new -
message so inside this component we just
want basically a form with an input
field and maybe a label so let's create
that form first of all we don't need the
action but we will attach a submit event
to it so at sign submit and we want to
prevent the default
action will set this equal to a function
called add message now we don't have
that created yet we'll do it in a minute
okay so inside this form we want a label
first of all and this is going to be for
the new message input field and in the
text area we'll say new message and then
I want a user to click enter to add this
because when you click enter in a form
that submits the form we don't just have
to click on a button we can click enter
inside a form and that will fire the
submit event as well so I'll just say in
brackets enter to add okay so now we
have the label we just need the input
field so import it's of type text and
it's gonna have a name property equal to
new - message alright now we'll create
our script tag down here and then come
back to this in a second so let's do I'm
a script tag where we have our data
property inside this returns an object
okay so now we need some kind of
property to store the value of this
input field um now we'll call this new
message so new message like so and to
begin with set it equal to null now what
we can do over here then is say v-model
equals new message so that whatever user
types into this field it updates this
property with so we're storing that
property now we also need to give this a
nameless component and it's new message
and remember we're receiving a prop from
the parent component so we'll say props
and that prop is the name okay so now we
have this hooked up to here so when a
user clicks enter it's gonna fire this
function right here ads message so let's
define that in our methods property
create the function called add message
and inside here what do we want to do
well ultimately we want to send this
data the message and the name and also a
timestamp of when this message was
created to the database but for now
let's just log them to the console
we'll say console.log this new message
will also log this name because that's
the proper receive it and then we'll
also log date now to create a timestamp
so when a user clicks enter it's going
to grab the now date and it's going to
tap that on here and we're going to
publish that to the database as well so
let's save this and see if it works over
here we can see this component is
embedded into the chat window if we
inspect the elements so we can get the
console over here we have some errors
there but if we refresh hopefully we
don't get those errors okay cool now
we'll enter in a name first of all mário
enter the chat and let's add a message
so we'll just say Haider press ENTER and
now we get hey there the message Mario
the name and this timestamp right here
now this is milliseconds since a certain
date so it doesn't look like a
particular time but that millisecond
value will allow us to form at a time
later on okay so we'll use this to store
in the database then when we retrieve it
back we can take that time stamp this
millisecond value and we can turn it
into a date that is logical something
like 4:00 p.m. on Thursday or something
like that okay so there we go we've
created this new message component now
and we grab the data that we need so now
we can look at how it can get this data
and send it to our fire store</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>