<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vue JS 2 Tutorial #25 - The Event Bus | Coder Coacher - Coaching Coders</title><meta content="Vue JS 2 Tutorial #25 - The Event Bus - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vue JS 2 Tutorial #25 - The Event Bus</b></h2><h5 class="post__date">2017-05-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jzh4zQcfB0o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on gang welcome to your
25th of UJS tutorial and in this video I
want to talk about something known as
the event bus all right then so in the
last tutorial we had a quick look at
events and we emitted an event from this
header component this child component up
to the route component which was listing
for that events it reacted to that event
by changing some data the title and then
past that updated title down as props to
both the footer and the header component
which then updated their templates
within the title now what we're
essentially doing here is communicating
from a header component to the photic
component indirectly using this route
component okay
now this seems a little over the top and
there is an easy way around it we can
use what's known as an event bus and
this event bus is just a view instance
and this view instance can emit events
and listen to events and react to them
so the idea is that we create this new
event books and import them into both of
these components right then we can
communicate between them without the
parent on the way we do it is by
emitting and events on the event bus in
this component then listening to that
event on the event bus in this component
therefore we don't have to go through
the route component so I'm going to show
you how we can do this in this tutorial
okay so the first thing we want to do is
create this event boss how do we do that
well like I said is just a view instance
and we're going to create it in the main
jes file so let's give this a name it's
going to be a constant and we're going
to call it boss and I'm going to set it
equal to music view and terror that is
our event boss created there is no more
to it now we're going to use this boss
in both of these components the footer
and the header so what we need to do is
export this and then import it into both
of these files so let's pop exports in
front of this save it and then import it
in the header first of all so we'll come
into the script tag and we'll say import
and it's going to be boss and it's going
to be frog and we need to go up a level
because we're currently in the
components file folder so we'll save dot
for
/ and then it's mayonnaise but we don't
need to put a s
okay so we've imported it there we also
need to import it into the other file
the cotton so let's add it there as well
cool so now we can use the event box in
both of these components now right down
here when we call this change title
method and that happens when we click on
the h1 when we call that method
currently we're emitting and events on
this component but instead what we want
to do is emit an event on the boss the
invent boss okay so let's comment this
out first of all
and let's emit an event or say boss dot
emits so instead of this time it's boss
time it and then we're going to do
exactly the same thing only this time
we're going to call this event title
changed yes and then with a passive data
much like we did above view Wizards okay
so we're now emitting that event now
we're going to listen for this event in
this footage component but we're not
listening for this event in this
component we're not going to react to it
here so we're just going to edit the
title directly here so say this title is
equal to view Wizards okay so we're
editing in this component then we're
using this event boss to emitting events
and listen to it in this other component
so we can update it there as well so
let's save that and then down here we
need to listen to that event now when do
we listen to that event well we want to
listen to it from the point that the
component is created and to do that
we're going to have to use a life cycle
hook now we're going to learn more about
lifecycle hooks in the next tutorial but
for now I'm just going to use it it's
called created and this fires when the
component is first created okay so only
thing in here is going to fire when the
component is first created now we want
to set up our event listener in here on
the boss so we can say boss which we've
imported up here dots and then dollar
signs pod and then the event name we
defined over here in the header
with title change so let's copy that and
paste it all right in here and we're
listening for that event
okay now when that happens we want to
fire some kind of callback function now
I'm going to use an es6 that's our a
function here now we're going to take
the data which is listening right here
whatever data we pass through when we
admit the event so we're going to take
that data there and we're going to use a
fat our function and this function is
going to do something and it's going to
change the title of this component so
let's say this title is equal to this
data which we pass through right here
okay because that data whereas view
Wizards so we're changing the title in
here now when this event is emitted
because we're listening for it okay so
now this is going to do exactly the same
thing as before but let's just check
let's refresh now when we click on this
changes Vista view Wizards and Vista
view Wizards okay
pretty cool right now I want to show you
one more thing quickly if we didn't do
this if we didn't change the title
directly in this component if we save it
if we click on this it's only updating
vista view wizards because we're not
listening for this event right here as
well we're only listening for this event
in here so that's why we're editing this
directly as we emit this event as well
so refresh and this should work again
cool so that is the event boss and that
is how we can use the event bus to
communicate between two kind of sibling
components or totally unrelated
components if you like to change data
between them</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>