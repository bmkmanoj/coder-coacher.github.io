<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebSockets (using Socket.io) Tutorial #2 - Creating an Express App | Coder Coacher - Coaching Coders</title><meta content="WebSockets (using Socket.io) Tutorial #2 - Creating an Express App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebSockets (using Socket.io) Tutorial #2 - Creating an Express App</b></h2><h5 class="post__date">2017-06-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ggVsXljT0MI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey or something guys welcome to your
second WebSockets tutorial and in this
video we're going to create a very
simple Express up on node to use
WebSockets with later on ok then so if
we're going to use WebSockets to
communicate between the client the
browser and the server and by the way
we're going to use the socket got IO
library to do that then we're going to
need some kind of server-side code now
I'm going to run that on node.js so
we're going to create a simple Express
up on node es to create this code now I
want to make one thing clear this is not
going to be an extensive no GS or
Express tutorial if you want to learn
more about those
I implore you to check out my node.js
for beginners playlist is on this
channel and the link is going to be
popping out on your screen right about
now so check out that if you want to
know more information for the rest of us
I'm going to move quite swiftly and
create this Express application okay so
you'll notice first of all I've already
opened Adam and I've got this for the
right here called WebSocket playlist
nothing in that whatsoever at the minute
and the first thing I want to do is
initialize this project so I'm going to
come to my command-line tool make sure
I'm in the correct directory WebSockets
playlist and then say NPM in it ok and
this is going to create a package JSON
file for us and also ask us a series of
questions about the project the name I'm
going to leave a default web sockets
playlist version 5 description give it
one if you want until later entry point
index Jes will create this file later on
this is going to be the kickoff point of
the application the test command we
don't need one no git repository no
keywords author is me and then the
license is fine is this okay you betcha
ok cool so now we've initialized this
project and created this package JSON
file forms which is going to list
information about our project and also
list our dependencies when we install
them
so speaking of dependencies we need to
install two and the first one is
expressed we're going to use that to
create our Express application so I'll
say NPM installed Express and then we're
going to save this to our dependencies
so I'll say - - save to do that okay
cool so once that's installed you're
going to notice two things first of all
in our package JSON file you'll see
these dependencies property
and it lists express as a dependency
call so it's keeping track of that
second rate you'll see this node modules
for that appear that's got everything
inside it that express it needs to run
you don't need to edit that or do
anything with it at all okay so cool
there's the first package install the
second one is going to be called node
one and this is more of a convenience
than a necessity we don't need it I'm
going to install it for convenience and
what this does basically is look out for
changes that we make to our server-side
code and then restarts the server for us
when it needs to a rather than
AHS retaken out node index GS every time
to manually restart the server
okay so to install that I'm going to say
node sorry NPM install no it's not okay
again I'm gonna save it to our
dependencies this time to our dev
dependencies because this is not a
necessity of the application just a
convenience okay cool so now we can see
that listed in our dev dependencies down
here so when we start in the server with
node 1 we just need to type node 1 index
like so just the once okay and we'll do
that later okay so now we've installed
those packages we can start creating
this application so we need that entry
file and that is indexed is so let's
right click over here create that new
file index GS and the first thing we
want to do in here is require Express
since we're making it an Express up so
let's eat var and then Express and then
set that equal to required and inside we
just need to type Express node is going
to be clever enough to look in this node
modules for the for express require in
this file so now we can use it okay so
the next thing we want to do is set up
our app so a quick comment first of all
to say app set up and underneath what we
want to do is create a variable called
app and then set it equal to Express
that's this thing we just require here
this is actually a function we're
requiring and we want to invoke that
function okay so now we've set up our
Express app simple as of that now we
also want to create a server and I'm
going to store this in a variable so we
can use it later on when we start
working with socket IO it's going to
make things easier for us so I'm going
to store this in a variable set it equal
to app
and then don't listen to listen to a
specific port number right so when we go
to a local host then the port number in
our browser is going to listen to
requests on this port number so you can
type in whatever port number you want in
here one two three four I'm going to
type in 4,000 and we're going to listen
to this port number okay so when it
starts listening to this port number we
can fire back a callback function just
to let us know and it's listening for
requests on this port number okay so
let's say console.log and we'll say
something like listening to requests on
port 4,000 alright cool so now if we
save that if we run this now I'm going
to open up this by tapping node one
index it's going to take a minute to
kick in then run it and now we can see
listening to requests on port 4000 just
missed out now so let me add that in
this is a good example of node 1 I'm
going to save this now node on is
automatically going to kind of restart
and you can see restarting due to
changes starting node index index yes
this file right here and now we see that
updated message okay so now we've set up
this application bought if we go to in a
browser then nothing much is going to
happen at the minute I'm going to
localhost 4000 which is what it's
listening for but it says cannot get
forward slash so we actually want to
serve something to the browser right so
to do that what we're going to do is use
some middleware to serve some public or
static files if you like so what I need
to do to do that is come down here dual
no comments or static files and then
we'll save a pews and we're going to say
to express just static so this is part
of Express and then we're going to
specify a folder to SERP alright and
it's going to be the public folder so
I'll explain this in a minute first of
all I'm going to create this folder
called public right and then inside I'm
going to create a file called index is
and this is what I'm going to serve to
the browser so now if we go to forward
slash index dot HTML then Express is
going to say okay it's looking for a
static file I'm going to look in the
public folder for this static file which
is right here
if I find that index dot HTML I'm going
to serve it likewise if we go to forward
slash and then Styles not CSS or any
other kind of resource which is in this
public folder it will serve it to you in
the browser ok so now we can flesh out
this index.html file so I'll just type
in HTML then a tab item does this form
it creates this kind of boilerplate keep
them on file in the title we'll just
call this WebSockets 1 1 all right cool
then I want to come down here do h1 and
we'll say room you see me all right cool
so now if I save this if I go to call on
4,000 localhost colon 4,000 then I'm
going to get serve this index dot HTML
file it looks for this automatically
okay so if I type refresh now we can see
whoo you see me okay it's serving up
that index file so this is the same as
going to forward slash index dot HTML
it's just serving up that automatically
okay so now we have our express up
serving this index dot HTML file through
the browser I want to do one more thing
and that is just add in a CSS file as
well in the public folder so we'll go to
new file and we're going to call this
styles.css now I'm going to pop some
styles in here which you're just going
to make our chat application as we go
forward look better in the browser now
since this is not CSS tutorial series
I'm just going to copy and paste this
from the github repo so just go to this
where you can't remember the link is
down below go to lesson two because
we're lesson two
then go to the public folder then start
at CSS and you just want to copy all of
this store for are all right here so I'm
going to copy all that then I'm just
going to paste this in the style.css
file and save it ok the next thing we
need to do is just link it up in this
index file so i'll do a little linked
out here link href is equal to forward
slash styles dot CSS remember it's in
the public folder so it's going to serve
that if we go to forward slash then
whatever the name of the file is and
then rel is equal to stylesheet okay so
there we go so save that now it's going
to have no effect in here
the browser at the minute because this
is not spelled it's only for when we do
our chat application but now we've
created our index file which is going to
get served to the browser when we go to
forward slash there are just local files
4000 we have our Express app controlling
that for us so in the next tutorial what
we can do is start to set up using
WebSockets</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>