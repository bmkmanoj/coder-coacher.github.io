<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GraphQL Tutorial #6 - Setting up GraphQL | Coder Coacher - Coaching Coders</title><meta content="GraphQL Tutorial #6 - Setting up GraphQL - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GraphQL Tutorial #6 - Setting up GraphQL</b></h2><h5 class="post__date">2018-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pH02J0U5OBI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright then so we're doing pretty well
we've set up our Express application now
and the next thing we need to do is
setup graph QL to work with this
application now to do that we're going
to have to install two packages the
first one is called graph QL so NPM
install graph QL and this is the main
graph QL package which is a JavaScript
implementation of graph QL and the other
package we need to install is called
Express - graph queue up and this is the
package which helps our Express up
interact and understand graph QL because
out of the box Express doesn't
understand graph QL so we're gonna
install both of those now and once
they're installed let's head back to a
PS and we're going to require the
Express - graph QL module inside this
file so we'll say Const and then this
constant is going to be called a graph
QL then in capitals HTTP and we'll set
that equal to require and then in
brackets Express - graph queue up now
this is one of those occasions where
this variable over here on this constant
the name of it doesn't equal the name of
the package now this is just kind of a
convention for Express graph ul so
anyway now we've imported that or
required that inside that file we can
use it so like I said the Express graph
to our module allows Express to
understand graph queue up and provides a
simple way to create an Express server
that runs the graph QL API but how do we
do that well the way we do it is we use
it as middleware on a single route and
this route will be like an endpoints to
interact with our graph QL data remember
in a previous tutorial how I said that
when we use graph QL we have one
supercharged endpoint to rule them all
that we send all graph QL queries - well
that is what this endpoint is going to
be so let's set up some middleware the
way we do that in Express is by saying
our up don't use then the route that
we're going to use this middle
we're on what's our gradual endpoint
well I'm gonna call this forward slash
graph QL then when someone goes to this
route Express is gonna look at it and
say okay I know what you want you want
to interact with graph QL so because I
don't understand graph QL on my own what
I'm going to do is hand off the control
of this request to this thing right here
okay because that does know how to
handle graph QL requests so I'm going to
pass that in right here and it is in
fact a function so this function is
gonna fire whenever a request to forward
slash graph QL comes in and this
function is going to handle that graph
QL request that's what it's there to do
now the function takes in some options
inside an object so let's create an
empty object right here and we'll pass
some options in later on so what's going
to happen now if we save this and run it
and try to go to forward slash graph QL
well let's have a look first of all
let's go down to our console and try and
run the file so no daman up and then
when we run that let's go over and you
can see if I go to forward slash graphic
ul after localhost colon 4,000 then I
get this error object and this error
object is basically saying that the
graph to our middleware right here that
we've used must contain a schema so we
have to pass through a schema into this
middleware for it to work and that
schema is gonna tell express graph QL
about our data and how our graph will
look so remember the diagram that I
showed you a couple of tutorials back
and this is basically a graphical
representation of our schema or a schema
that we want to create it says what data
types are on the graph and how its
structured we have the book data type
and the author type and the different
relationships between those so it's
saying how the graph can be walked
between these different data types
remember the ultimate goal of creating
our graph to our server is to allow
queries to jump into our graph
different points to retrieve data so
Express graph QL the package we just
installed and used as middleware needs
to know how to handle that and it needs
to know how our graph looks the data
types on it the properties of those data
types the relationships between those it
needs to know all of this for it to work
and it needs to take in a schema which
represents how our graph looks okay so
we need a way to programmatically create
this graph kind of schema to describe
how our graph will look and then pass it
into this function right here so that
Express graph QL knows exactly how to
deal with our data in queries so in the
next video what we're going to do is
start to create a schema so that we can
pass it inside this middleware function
right here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>