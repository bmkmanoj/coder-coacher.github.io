<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial #24 - HTTP Service | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial #24 - HTTP Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial #24 - HTTP Service</b></h2><h5 class="post__date">2016-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IOp9OmNdHy4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you're something guys welcome to your
twenty-fourth angular2 tutorial and in
this video we're going to talk about the
HTTP service
alright then go so currently in this
application what we are doing is
defining some data right here called
ninjas in the directory component then
were outputting that data in the direct
review to the screen now typically when
we make an application we're probably
not going to define our data in the
application itself like this what we're
probably going to do is have some kind
of external source where that data it's
stored and then bring it in so I'm going
to show you how we can do that in this
tutorial using the HTTP service so what
I've done is gone ahead already and
created this ninja JSON file right here
in the public folder and we're going to
go out and grab this JSON in a second
but first of all I want you to bear in
mind that what I've done is just copied
this stuff right here so everything in
here like I've copied all up and pasted
it in this file only this time what I've
done is put little exclamation marks
around the property names so that is
valid Jason I've also added this final
object name Shawn and belts obviously it
black so we're going to go out and grab
this jason in a minute so for now let's
delete all of this stuff inside here and
we'll just keep it as an empty array for
now so the first thing we want to do
when we're going out and grabbing data
from an external source is inject the
HTTP providers into our application
probably at the root level which is what
I'm going to do so I'm going to go to
the main TS file right here and I'm
going to come down here and say import
and we're going to import these HTTP
providers like so and that is going to
be from at angular forward slash HTTP we
also need to put the providers inside
the bootstrap method right here like so
so let's save that now and this
basically means we can now use the HTTP
service in our own custom service so I'm
going to create our own custom service
which is going to go out and go
this data and then inside that custom
service we're going to inject the HTTP
service okay so let us now create that
service so I'm going to say n G then G
for generate s for service and then the
name of this service is going to be the
data service so I'll just save data and
press ENTER and that's going to create
this service in the app directory right
here so in this folder so we can see now
that in this directory we have the
directory sorry the gaiter service right
here and the first thing we want to do
is import the HTTP service so that we
can use in here and we want to import
that so we can use methods like get and
we can go out and reach for this data so
we'll say import and we're going to say
HTTP and we're going to say that's from
and it's at angular forward slash HTTP
cool so now we can use this HTTP service
inside here but first of all we need to
inject it in this constructor so let's
say private and our own local version of
this which is just HTTP or lowercase
colon and set it equal to this thing
right here this type okay so now this
service knows it's going to be using
this service right here we've injected
it so now we can use it on this local
variable so we can use methods like get
which we are going to do so down here I
want to create a method which is going
to go out to fetch this data so we'll
call this method fetch data then inside
this method I want to say this dot HTTP
which is this local reference right here
and we can use the get method on it now
and the data we want to get is in the
public folder and it's the ninjas Jason
now when we put anything in the public
folder
it essentially sits on the root of the
application so we can just say forward
slash ninjas Jason
okay now what is this going to do is it
going to go out and grab that data for
us not technically it's just setting up
an observable for us and an observable
is something in which we can subscribe
to and listen for changes to okay so in
order for this to go out and actually
grab the data what we need to do is
subscribe to it so we'll say dot
subscribe like so and then in the
SUBSCRIBE method we can take a callback
function and in this case it's going to
be a phat error function now if you
don't know about phat our functions I've
done a tutorial on this I'll leave the
link to that exact tutorial down below
so you can check them out it's only a
few minutes long but essentially what we
can do is take the data now which is
returned to us use that fat arrow and
for now it's just console.log the data
like so okay so again what we're doing
here we're injecting the HTTP service so
that we can use it inside here we're
creating a function called fetch data
which says this HTTP our local version
get then this jason right here this is
going to return an observable to us we
need to subscribe to that observable in
order for it to reach out and grab this
data then when that happens when it
returns data to us because we've
subscribed to it it lets us know and we
can use the callback function in this
case a phat error function to grab that
data and then we're logging it to the
console so this is not going to log it
to the console just yet because we've
not actually done anything we've not
called this service anywhere so what I'm
going to do is actually return this
thing right here and save it and we're
going to call this function from our
directory component so let's go into
this directory component and the first
thing we need to do is import it right
here at the top the service that we need
so we'll say import and we want the data
service we just made and it is from and
it's dot dot because we go an upper
level then forward slash data dot
service cool so now we also need to
specify the providers down here
so providers and this is going to be the
data service again like so and then down
here we need to inject that data service
into our class so we'll say private and
I'll call this data service this is just
the local version of this Cola and set
it to data service like so so now we can
use that data service using this local
reference right here in this class now
I'm going to use it within the ng on
init function which basically make sure
that this component is loaded before we
use this service so I'm going to come
down here and I'm going to say this dot
data service like so dot fetch data and
that's that method on this service which
we can use now because we've injected
that service into this component okay so
when we do that it's going to look into
this service it's going to say okay well
HTTP get this data return observable
we're subscribing to it when we get the
data back and wait to log it to the
console okay so let's try this out in a
browser and see what happens I'm just
going to refresh over here and cool now
we see that data down here let me just
zoom in a little bit so you can see that
you can see the response right there and
then we've got all this data right here
cool but this form of data is not much
use for us we want to return some kind
of JSON object so we can live through it
and output it into our view and we can
do that by mapping this data so this
observable right here can be mapped to
another observable which returns us the
data in a format that we want Jason so
we can use the dot map method on an
observable to basically map it to
another observable which is what we're
doing right here a dot map and then
we're going to use another fat arrow
function here so we're taking the
response which is brought to us then a
fat arrow and then we want the response
Jason like so so this right here is
going to map
observable response to another
observable which is going to return the
data right here in Jason format instead
so let's save this again and check it
out in a browser to see what's returned
to us cool so now we get that Jason data
right here the four different objects
pretty cool right but we're just logging
this data to the console right now what
we really want to do is output this in
the view itself now to do that what I'm
going to do is remove this SUBSCRIBE
method right here I'm going to cut it
because whenever we use this certainly
to fetch data we might not always want
to log it to the console we might want
to do different things with it so by
removing that SUBSCRIBE method we can
use it in the components themselves and
subscribe to this observable right there
and then do what we want with the data
in the component rather than here so
what we want to do is output it to the
view so I'm going to come in here and
I'm going to pop the dot subscribe right
there instead okay it's doing exactly
the same thing it's just that we've
moved the SUBSCRIBE from the end of this
thing right here to the end of this
thing right here which is the same thing
so if I save this now it's still all
going to work the same I'll just save it
and show you and we'll come over here
did we do up an error and that was just
because the server needed a minute to
catch up so now this is worked and we
have those objects in the console but
instead of logging them let's output
them to the view so we know that the
ninjas right here our output in the view
and we can see that if we go to the
direct review here we can see let ninja
of ninjas and it's cycling through each
one of them and outputting them to the
view so what we want to do in the
directory component is just set what
we've returned here and what we've got
this data equal or set this ninjas are a
rather equal to what is returned to us
here so we can say this dot ninjas which
refers to this thing here equals the
data and if we save that now like magic
this is going to work so if I come I'm
just going to take away this a semicolon
if we'd come to the
browser and refresh now we see all of
that data is output to the view itself
and we've got a final one there cool so
that is how we use the HTTP service how
we create our own service which is going
out to grab the data that we want how we
can return an observable
like this and how we can subscribe to
that observable in the components
themselves and do what we want with the
data that is returned to us so any
questions leave those down below
otherwise don't forget to share
subscribe and like and I'll see you guys
in the very next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>