<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node JS Tutorial for Beginners #8 - The Node Event Emitter | Coder Coacher - Coaching Coders</title><meta content="Node JS Tutorial for Beginners #8 - The Node Event Emitter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node JS Tutorial for Beginners #8 - The Node Event Emitter</b></h2><h5 class="post__date">2016-05-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NtrnaTKqFPQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you know something guys welcome to your
eighth no js' tutorial and in this video
we're going to take a look at the invent
module or rather guys so in the last
tutorial what we did was we created a
custom module called stuff we required
that in this app.js file and called that
variable stuff and then we used it now
as well as creating custom modules
nodejs also ships with a bunch of
inbuilt core modules which we can use in
our application and we can require them
in the same way that we would require
custom modules okay now one of those
core modules in nodejs
is called the events module and that's
what we're going to take a look at so
when we are requiring an a core module
what we need to do is just pop in the
module name right here not the path to
the module or anything like that just
the module name and because it's a core
module built into nodejs node will
recognize that and it will go out and it
will fetch that module for us so this
module is called events so that's all we
need to do and then we better change the
name of this variable to something like
events as well so now whatever is
returned on the module the exports of
this module is going to be stored in
this events variable now okay now one of
the things returned on that module the
exports property in this module is the
event emitter and we can use the event
emitter in nodejs
to create custom events and then react
to those events when they are emitted so
if you've ever used jQuery we have
something similar in ours too recently
like this elements
dot on click fire a function okay this
is an event listener right so we're
saying okay well when this element fires
a click event or emits a click event
then we want to fire this callback
function and do something ok so we are
reacting to an event being emitted on
this element so we can do
similar thing in know GS we can create
our own custom elements instead of
things like clique and those sorry we
can create custom events instead of
things like clique and those events can
be whatever you want so let's get rid of
this and do a simple example so return
tours on this module to exports in the
events module like I say is the event
emitter and that is a constructor so
what we need to do is create a new
variable and I'm going to call this my
emitter and I'm going to set this equal
to a new and then I'm going to use this
variable right here events dot invent
emitter okay so now we're going to have
our own events emitter object stored
here so now we can wire up events to
this so we can say something like this
we can say my emitter sorry dots on and
then create an event and we'll just call
this event some events something
meaningless right and then when this
event occurs when it omits then we want
to do something and that's going to be
in this callback function right here and
if we want we can pass through a
parameter into this callback function
let's just say message okay so when this
event occurs when it's emitted what
we're going to do is log to the console
this message okay so now let's go ahead
and emit this event so we'll say my
emitter and we can say dot emit and then
choose which event to emit so some
events and we also pass a parameter
through to the callback function so the
first argument in this emit function is
the event we want to emit and then the
arguments thereafter or whatever we pass
through into this function so let the
message just be and the event was
emitted
okay so now if we save this and say node
up and run it then you should see the
event was emitted logged to the console
of the terminal and that's because we
listened out for this event right here
being emitted by saying Dodd some event
okay so we're listening for that event
now on this thing right here on this
object and then what we're doing is
manually emitting that event right here
and we're passing this data the string
into this function and then when this
event is emitted this function this
callback function is fired and it logs
that message to the console okay so
let's do another example something a
little bit more complicated to better
show you the powers of this event
emitter so I'm going to delete these
things right now and then to demonstrate
this next example I'm going to require
another core module in nodejs and this
other module is called util which is
shot for utilities and it's a utilities
module which allows us to do various
things one of the things that the util
module allows us to do is inherit
certain things from objects built into
nodejs or other objects okay so let's
require this and you'll see exactly what
I mean in a minute I'm going to say util
equals and then require you to okay so
we'll use that in a minute
but first of all what I'm going to do is
create a new object constructor so I'll
say var and this is going to be a person
and then I'll say this is equal to a
function and it's going to take in a
name and then inside here we're going to
say this dot name is equal to name so
whatever we create a new person we need
to pass it through a name okay so let's
go ahead now and use this util function
or util module rather so what I want to
do is inherit the events
bitter so I want any person that's
created using this to inherit the event
emitter so we can attach custom events
to people so what we'll do is we'll say
util which is this thing right here dot
inherits and then we pass through two
things into this function the first
thing we pass through is the object
constructor that we want to inherit
something and that is person so we want
person to inherit will do and the thing
we want it to inherit is the events dots
event emitter okay so now it's going to
inherit this and anything created using
this person constructor is going to be
able to have custom events attached to
it okay so let's go ahead and make some
people I'm just going to make three
people so first of all I'll say large
Ames equals new person and then we pass
through the name which is James then I'm
going to do two more so I'll just copy
this dude right now and paste it down
couple of times the second one I'll call
Mary and passing the name there as well
and the third one let's just call Ryu
and we'll pass in the name there as well
cool so now we have three people okay
James Mary and right so now what I want
to do is wire up some event listeners to
each one of these using some custom
events so I'm going to store these three
people in an array first of all and I'll
call this array people so set that equal
to an array and the first one is going
to be James second one is going to be
Mary and the third one is going to be
right so now they're all stored in an
array and now what I can do because
they're stored in an array is say people
dot for each which is just a JavaScript
method which is recycle through each one
of these right yeah and then for each
one of these we're going to fire this
callback function and it's going to take
the name of whatever person or the
person itself so that's going to be
James Mary all right you and
inside this function we're going to
attach some events or some listeners for
events okay so what I'll do is say
person dots on and then we'll have speak
so we're taking whatever person object
is currently being passed through into
this callback function so it could be
any one of these and we're attaching
this listening to it because we can do
now we've inherited the event emitter on
to any object which is created using
this constructor so we can attach custom
events to these people now so that's
what we're doing we're attaching a
custom event to each person as we go
through it in the array and then as we
attach them what we're going to do is
clear a callback function which is going
to take in a message something that they
say okay so let's go ahead and log
something earth something to the console
so we'll say console dot blog or say
person dot name which is this property
right here that we made we pass through
when we create those objects so we're
going to log the name and then we're
going to concatenate set and then we're
going to concatenate the message okay so
when we emit these speak events on each
person then it's going to fire this
callback function take through a message
then it's going to say who spoke and
then the message so let's call some
events let's say James dot emit because
that's how we emit the events and then
it's going to be a speak event and we're
going to pass through a message which is
going to be hey dudes myself okay
so let's save that now and let's run
this application so node up and then
what we're going to see is say sir James
said hey dudes
so we attach that event here remember
and then we emitted that event right
here so we can emit that event on
whichever person we make which is in
this array
which we've attached those events to
those listeners so we could say it for
bribe and we could say Rome it is going
to be a speak event and it's going to be
our recruit okay so let's run this again
and see what happens this time we get
James said hey dudes and Rio said I want
a quarry alright so this is really cool
we've got custom events now on our own
objects which we've made up and we've
attached those listeners to each object
and then we've admitted those events and
we've done that using this events module
and the events emitter and the utility
module to inherit this event in bitter
on our person constructor pretty cool so
if you have any questions about this
whatsoever
feel free to ask those down below
otherwise guys I'll see you in the next
tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>