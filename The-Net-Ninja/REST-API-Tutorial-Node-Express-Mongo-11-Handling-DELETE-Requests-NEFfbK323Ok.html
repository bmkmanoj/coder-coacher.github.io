<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST API Tutorial (Node, Express &amp; Mongo) #11 - Handling DELETE Requests | Coder Coacher - Coaching Coders</title><meta content="REST API Tutorial (Node, Express &amp; Mongo) #11 - Handling DELETE Requests - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST API Tutorial (Node, Express &amp; Mongo) #11 - Handling DELETE Requests</b></h2><h5 class="post__date">2017-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NEFfbK323Ok" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yo gang welcome to your 11th REST API
tutorial and in this video we're going
to talk about our delete requests so now
we know how to handle Punk's requests
and save data to the database I want to
turn our attention to delete requests
and how to remove data from the database
so remember we've already set up our
empty route handler for delete requests
right here at the bottom of this API GS
file and the minotaur wittingly filling
this simple response of an object with a
type property of a delete to say how
you've made a delete request really what
we want to be doing in here is
communicating with MongoDB to delete a
ninja and then grabbing that ninja and
returning it to the user on the front
end to the client so they know which
ninja has been deleted so how are we
going to do all that well let's break
this down first of all this look at the
route so it's false lash API forward
slash ninjas /ib
and this ID is preceded by this
semicolon right here which says hey this
bit is a route parameter so I'm not
actually looking for the URL or false
lash ID I want this last bit right here
to be picked up as a rat parameter so
basically whatever a user types in here
we're going to be able to access this
wrap rabitor in here so if I type in 1 2
3 4 5 then that corresponds to this
route parameter which I can access in
this function but how do I access it
well I can access it from this request
object and all I need to do is say
request that params
because this is a wrapper ammeter and
then say dot ID which corresponds to
this thing right here so if this with
ninja then this thing right here would
be ninja to access it make sense but
it's not its ID so let's just revert
those two so now if I type in forward
slash 1 2 3 4 5 then I'm going to get 1
2 3 4 5 returns me in this request up
parameter ID property so let's just log
this to the console just to test a few
different parameter you like so let's
surround this in parentheses save it and
then let's go and make this request
source a delete request and we're
putting in this as the IDS right here so
if I send it now
check this out in the console we should
see this 1 2 3 4 5 log to the console of
course so it works so if I type Yoshi
and press send again now we see it Yoshi
log to the console ok cool so we know
how to access this route parameter that
a user types in but how can we use this
to go and delete something from the
database well let's have a look in our
database so far we've got these two
different records right here and you'll
notice that each one of them has a
unique ID an object ID associated with
them right so it would be good if a user
or the client rather would type in or
send this ID as part of the route here
this unique ID so then what we can do is
access this unique ID here communicate
with MongoDB which is going to look in
the database find the object associated
with this unique ID return it towards
delete it and send it back to the user
ok so let's do that so we can do that
pretty simple it sounds complex but we
can do it in pretty much one method and
that method is called find by ID and
remove and is provided to us by Mongoose
so let's just get rid of this first of
all we don't need this anymore and
instead what I'm going to do is say
ninja dot find by ID and remove ok so
this means you remember refers to the
ninja model which we required right here
at the top ok this is a mongoose method
so what we need to do now is pass along
that unique ID here we need to pass
along an object and we're saying we want
to look for the ID
it's underscore ID and I can show you
that if you look in one of these objects
its underscore ID that's the property
name and then we're saying that is going
to be equal to whatever they provide to
us as this parameter right here so we'll
say request params dots ID so if we send
along this ID right here in this bit
here when we get to this route handler
it's going to say new divided by ID and
remove it's going to look for the ID
property and try and match it to the ID
that we pass it as
a parameter right there and then if it
finds it it's going to take some time a
return to us a promise I can say dot
then to fly a function only when this is
complete this part right here okay so
what it's done in five this function are
returned towards the minja which it has
removed so then what we can do is send a
response by saying rest dot send and
then send the minja that it has removed
and passed back to was right here so
let's delete that and if I save this now
we can test this out in a browser so not
in a browser sorry in postman so what we
want to do is get one of these unique ID
so I'm just going to right click and go
to edit document so I can copy this
unique ID right here and then I can
paste it in this request so I'm sending
this now so we get this movie back you
can see it's returned to us so what's
happened with pass sign we've said fine
by ID remove match the ID which we just
passed into the ID within Mongo remove
it then pass that ninja back and send it
as a response which we have here let's
just check in Robotron go if we refresh
over here yet we can only see one now
that ninja has been removed cool so
there we go that is how we remove
records from MongoDB in the next
tutorial what I want to do is take a
look at updating existing data using put
requests</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>