<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OAuth (Passport.js) Tutorial #5 - Pasport Initial Setup | Coder Coacher - Coaching Coders</title><meta content="OAuth (Passport.js) Tutorial #5 - Pasport Initial Setup - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OAuth (Passport.js) Tutorial #5 - Pasport Initial Setup</b></h2><h5 class="post__date">2017-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kDhYUPcDS28" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what something guys welcome to your
fifth a wealth tutorial and in this
video I'm going to show you how we can
set up passport to use it in our project
alright and so now we have our Express
up up and running and we've created kind
of all the different auth routes such as
the login route etc now I want to move
on to installing passport into our
project so that we can use that to help
us with the authentication process so
I've headed on over to passport j-dog
this is the website for passport and
it's going to tell you a bit about it so
it says right here it's a simple
unobtrusive authentication for nodejs
and down here if you looked at this
you'd think it would be just a one line
code one thing you say passport
authenticate then whatever
authentication methods you want to use
and well I've done magic but it's not
quite that simple
but by the end of this series you're
going to know exactly how to use it and
how to set up different authentication
methods like github or Facebook so to
use passport in our project we're going
to have to install two libraries first
of all the passport core library which
comes with all the functionality we're
going to need to authenticate users and
then secondly we're going to have to
install what's known as a strategy and
all over this website you're going to
see mention two different strategies
look 300 strategies now strategies so
let's click on this and strategies are
the different ways that we can log in
using third-party providers such as
Facebook or Twitter or Google or
LinkedIn or any other way of logging
into your application so we want to
login in our example using Google so
we're going to use a Google strategy and
we're going to install that as well as
the core passport library so let's
install those things now so I'm going to
just open up my terminal right here and
cancel out of the process and then we're
going to install these two different
things
now the first library we want to install
is passports or say npm install and it's
called passport just like that and we
also want to install the Google strategy
now we're going to use one called
passport - Google - Oh off to zero and
to zero looks like 20 stands for 2.0
really it's because we're using OAuth
vision to specification so we're
installing these two things right now
passport and Passport Google OAuth 2 so
click enter to install those and I'll
see you on the other side ok so once
those are installed we can now use them
in our project so let's now create a new
folder and I'm gonna call this folder
config so I say new folder and we're
gonna put all our different
configuration files in here and we're
gonna create a file right now for the
passport setup so I'll say new file and
call this passport - setup is so I mean
we don't have to put this in a config
folder we can put it in a different
folder called services or however you
like to kind of structure your different
folders inside a project and just keep
it in config to keep it simple because
we're gonna have all the files in here
later on as well so the first thing we
need to do at the top is require
passport so I say Const and we'll call
this constant passport set it equal to I
require and then passport so that's
gonna require this module for us we also
need the passport Google OAuth module so
I'm gonna say Const and we'll call this
Google strategy I'm going to do that
with a capital kind of convention of
suppose when you're using different
strategies so Google strategy set that
equal to a require once more and inside
it's called passports - Google - or to
zero ok long-winded but there we go so
now we've imported the two libraries
passport call and Google strategy
library so now we want to set this up I
don't want to tell passport that we want
to use the Google strategy for our
project so the way we do that is by
saying passport which is what we've just
imported right here and we say dots use
a bit like in nodejs re-express when we
use some middle where we say app don't
use in passport we're going to use a
strategy it by saying passport use and
this takes two parameters so the first
one is going to be the strategy that
we're going to use so I wanna say and
new Google strategy like so so what
we've just imported up there so we're
using a new Google strategy
this Google strategy is going to take in
an object and this object are going to
be the options for the strategy okay so
we're going to pass those in later on
when we configure this make flat let's
just make this a little bit more legible
so we'll do that that and scoot these
along okay so that's the first parameter
we need to pass in to this passport use
function the second parameter is going
to be a callback function so I'm going
to use an arrow function right here and
I'm not going to pass anything in it
whatsoever at the minute but there will
be something that goes in here later on
so this callback function is gonna fire
at some point during the authentication
process and we're going to talk about
all of that later on but for now we'll
just leave a comment in here which is
gonna say passports callback function
all right so what we've done in this
tutorial is we've installed these two
libraries passport and Google strategy
and we've said that for passport we want
to use a new Google strategy in our
project and we're going to set this up
in a later tutorial so now that we've
installed these two modules right here
and kind of set up passport to use a
Google strategy in the next video I want
to explore these options that we place
inside the Google strategy object</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>