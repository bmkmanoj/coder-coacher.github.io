<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Vue JS 2 Tutorial #34 - Custom Directives | Coder Coacher - Coaching Coders</title><meta content="Vue JS 2 Tutorial #34 - Custom Directives - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Vue JS 2 Tutorial #34 - Custom Directives</b></h2><h5 class="post__date">2017-05-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3-fLYMEKOU0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey what's going on gang welcome to your
city 4th of UJS tutorial and in this
video I'm going to show you how we can
create some custom directives okay then
so throughout the course of this
playlist we've already used directives
all over the show and directives are a
way for us to tell Vijay s to diesel
them to exhibit a certain behavior for
us so things that we've used so far are
V if that's a directive V on V 4 V model
all these are directives telling vue.js
to do something for us and they've all
got one thing in common they start with
this V - okay so that's typically how
you can tell a directive you start with
it v - and we add them to HTML elements
and attributes like this okay so what
I'm going to show you to do so what if
we want to do something in view J s we
want to use a directive but that
directive doesn't exist the behavior we
one isn't already included in view J s
well we can create a custom directive
which is what I'm going to show you how
to do in this tutorial so I'm going to
go to our show blogs component right
here and say for example this blog title
the output or output in ten of them
right on the page say I want each one to
be some kind of random color right so we
can make up our own directive and we
could control that functionality so if I
want to add a directive I could just say
V - then whatever the directive name is
going to be cold now we'll make one
called rainbow which is going to do this
so it's just going to choose a random
color and assign it to each H - all
right so each H - on the page is going
to be a different color so we've got
this directive right here we don't need
to set it equal to anything I mean we
can do and we'll do that later on but we
don't have to do that we could just have
a bog-standard simple directive view
rainbow which when we apply that to an
element is going to give it a random
color okay
so let's save this and let's create this
directive so we're going to create this
global this directive and I'm going to
show you how to do things locally later
on in later tutorials but for now let's
just create a directive which is going
to be global meaning any component can
use it so the way we're going to do this
first of all is going to Maine is and
then let's do a little comment saying
custom directives okay then the way we
create a directive is by saying it view
dot directive so this is much like when
we created a component we said view dot
component this time its view directive
okay and this takes a couple of
arguments first of all the name of our
directive now remember we call this V -
rainbow but this isn't the whole
directive name this P is the directive
name okay this is just something report
before the directive name so in here we
want to just call it ring bump okay then
the second parameter right here is going
to be an object and inside this object
is where we can control the
functionality of this directive now you
know like in previous tutorials I said
that components have lifecycle hooks
like created destroyed updated that kind
of thing well sort of directives and
we're going to use a lifecycle hook
called bind and basically what this does
is fire when the directive is bound to
the element so as soon as it can hooked
up if you like okay so as soon as you've
made that kind of connection we're going
to fire this bind function and inside
this function we're going to control
what it does but this bind function
right here takes three parameters help
binding and virtual node which is just V
node now this thing right here refers to
the virtual node on the dom you're not
going to need this much okay let's just
spell binding correctly okay so we don't
really need to touch that this thing
right here binding refers to information
about the connection if we pass it in a
value for example like this in here okay
things like that and we're going to take
a look at that shortly and then this L
right here refers to the element itself
so this whole thing that it's on okay so
what we can do for example for this
rainbow component is take this element
and then give it some kind of random
background color okay so the way we're
going to do that is by getting the L and
then what we can do is just get the
style property of that element okay so
this is the CSS style and then we can
decide which
property we want to style we could say :
so that is going to be equal to some
random color right so what color is it
going to be equal to well it's going to
be a random hash color so first of all
we need a hash then we're going to tack
on six random digits now how we're going
to do this well we're going to use the
math object okay then we're going to say
get us a random number then we're going
to convert that to a string to string
and then finally what we're going to do
is slice that this will say slice to
eight and that is going to get us a
random six digit number okay so now we
could save this and they preview this in
a browser then we can see that each one
of these has a random color okay and if
i refresh then we're going to get
different colors so they're not
hard-coded or anything like that they're
just completely random which is why I
called it V a rainbow so there we don't
congratulations you've made your very
old directive okay now if this bit here
is confusing here just do a quick Google
search of the math object and random and
things like that this is a math
JavaScript tutorial so I'm not going to
go into too much depth but basically all
this is doing is returning to us a six
digit random number which is going to be
attached to this pound symbol to make a
hex code but this isn't the point of the
tutorial the point is we can add a
directive and we could even do something
just like for example if I copy that out
and say read if we wanted everything to
be read we could do that save it and
everything's read okay I just wanted to
make it a random hex code because it's a
little bit more fun okay
so that is how we make a custom
directive now I said we could do other
things we could do something like this
we could say equals and then pass
through some kind of value okay so to
demonstrate this I want to create a
different custom directive so this time
the directive is going to control the
kind of like the theme of the webpage
and the theme is going to be whether
it's going to be a wide theme or a
narrow theme okay so something pretty
simple so let's attach this directive to
this div right here that surrounds all
of the blocks so we'll call this
directive
seems like the - theme right then we're
going to set that equal to something in
a minute so let's save it for now and
then inside this main dot here so let's
create this directive so we'll say again
view dot directive this is going to
register it globally because it's in
this main J's file so directive then
it's called theme then the second
parameter is an object and inside this
object again we're going to do the bind
Hulk which takes through the L binding
and a virtual node ok so now we're going
to give this div right here some kind of
theme based on whatever we pass through
here now whatever we pass through here
is going to be called a value all right
so for example if we want a wide theme
we can pass through the value of white
and then we can access this value right
here within directive we can check to
see what value is pass through so inside
here we could say something like if and
then we can say bindings this is going
to give us information about the
directive and we can get the value
property on the binding okay so we can
say if the binding value is equal to
wide which it is at the minute it gets
equal to wide that's the value then we
can do something so what we want to do
if it's wide is give it a wide theme so
we'll say L which is the element we've
attached it to this thing right here
this div so we can say L dot style dot
max width and by the way when we use two
words it's camel case like that okay we
don't say max - width or anything like
that it's just max width and we're going
to set that equal to 1200 pixels okay so
that's it it's white so if we save this
now view in a browser then refresh
nothing is showing up so I'm just going
to open up the console and see what's
gone wrong and we have a syntax error so
that's because I've stupidly said : here
instead of equals so save that and we
should get this if we refresh but we get
another error and
this is something I actually wanted to
show you so right now I've passed
through this right here wide so why is
this not working well it says right here
that wide is not defined on the instance
what is referred during render and it's
referred to as a proxy on method now
it's not a property or method each
student value were passing through here
but because it's a string we need to
pass it through in single quotations
okay this is a stream because right now
we can pass anything through here it
could pass an object we could pass an
array we just want to cut through a
string okay
so we're passing through a string which
is wide so let's save that now and see
if this works refresh and now we don't
get any errors and we get the wide theme
cool so what if we want this to be a
narrow theme well we can do the same
kind of thing we can check to see if the
binding value is narrow so underneath
this I'm going to come down and say else
if and inside here we'll say
binding double value is equal to narrow
okay and then inside here if it is we'll
say L dot style dot max width is equal
to and it's going to be 800 pixels or
rather something narrower five hundred
and sixty pixels okay so if we save this
now and go to our show blogs and change
this to an arrow
save it fill this in a browser refresh
now we get a narrow theme okay pretty
cool so that's how we use values in
these custom directives I want to show
you one more thing and that is arguments
so you know like in other directives for
example if we go to V on click this
right here colon and then they click and
this is an argument okay so this is the
value right here when it's equal to
something and this thing after the
argument so after the colon is an
argument and we can pass in custom
arguments into our custom directives so
say for example we want to pass in an
argument to this we could do a colon and
then the argument name
so let's say for example I want to put
in an argument called column okay so we
want to look this thing like some kind
of column on a page so we'll give it all
a background color like a big strip
going down then what we can do is use
this argument right here in the
directive okay so what we'll do is also
check or say if and inside the if
statement we can check the argument so
we can say if bindings dot Arg is equal
to whatever we want it to be equal to so
columns for example then we can do
something much like we did in here so we
could say something like L dot style dot
background is equal to I don't know
DDD which is like a gray color and then
also L dot style dot padding is equal to
20 pixels right so now if it has this
argument attached to it then we're going
to do this as well so if we view this in
a browser we can see this kind of column
effect now okay we've got this big
column going down so that's how we use
arguments that's also how we use values
and that's how we create our own custom
directives</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>