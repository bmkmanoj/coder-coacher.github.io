<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node JS Tutorial for Beginners #25 - Template Engines | Coder Coacher - Coaching Coders</title><meta content="Node JS Tutorial for Beginners #25 - Template Engines - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node JS Tutorial for Beginners #25 - Template Engines</b></h2><h5 class="post__date">2016-06-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oZGmHNZv7Sc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you know something guys welcome to your
25th node.js tutorial and in this video
we're going to talk about templating
engines o rather than guys so so far
we've just been sending back these
strings right here this is the home page
this is the concept page and we've sent
back yet a dynamic string here with the
parameters of the name that they pop in
the URL in it but what if we want to
send back a HTML page well we can do
that we can do that by using the send
file method and then we just pop the
absolute URL to the file in here now I
can use underscore underscore good name
to get the directory of the current file
which is in here then I can just
concatenate that with if I spell it
correctly with the file name I want to
send so it's just going to be this index
dot HTML file so for slash index dot
HTML and I could do the same thing for
the contact page I'm going to paste that
there and then change this to contact so
let's save this and run it we'll say
node mod FJs and then I'm just going to
open this up in a browser so localhost
3000 hit enter and now we're getting
that web page so this is doing it really
quickly for us it's a go now and
grabbing that file and just loading it
into the browser now if I say forward
slash contact it's going to do the same
thing and we get that page but what if
we want to inject some dynamic content
into these pages say some data from a
database for example on this route right
here we're saying forward slash profile
forward slash then whatever name of the
profile we visit we're going to display
the profile for that person now ok we
can pop the name there in a string but
what if we want to send a HTML page with
this name on and some other information
about that person so right now if I go
to forward slash profile and then
forward slash right i just get your by
viewing the profile of rain but i want
to inject some dynamic content into this
and that's where template engines come
into play
so with the JavaScript template engine
what we can do is embed data and
JavaScript code into our HTML files so
we can then inject this dynamic content
into the file which we return to the
client or browser and there's a variety
of different engines that we can use
with express which is Jade on the stash
we're going to look at one called ejs
which is a lightweight templating engine
making it really easy to get started
with and you can find more about the
templating engine ejs at embedded ejs is
that right anyway I'll leave this link
down below and you can go and read about
it but basically extend simple whenever
we want to output some data we use these
little percentage signs okay and this is
very similar to the way that ASP web
forms work so if you familiar that with
that then you're going to pick this up
no problem
otherwise it is dead simple and I'm
going to go through it step-by-step
anyway so let's use ejs in our
application now the first thing we have
to do is install ejs in our application
it is a package so let's exit out of
this process by pressing ctrl C yes we
want to terminate and then let's use the
node package manager to install ejs so
the way we do that is by saying npm
install ejs and then if you want to save
this as a dependency which I'm going to
then just do the same flag as well so if
you hit enter now that's just going to
go out and grab it and it's going to
install it into your application so this
should just take a minute or so there we
go
cool so now we can use ejs in our
application so how does this all work
well the first thing we need to do is
tell Express that we want to use ejs as
our view engine that's what it's called
a view engine right or a template engine
so the way we do that is by using this
variable right here and then using the
set method to set a view engine so let's
do that let's say upset and then we're
passing the parameter to say what we
want to set first of all and that's the
view engine
and then we say which view engine we
want to use EGS okay so now Express know
is that we want to use ejs as our view
engine and by default when we request
some views or template it's going to
look in the forward slash views folder
for them right that's the default
behavior so why don't we go ahead and
create a view folder so I'll go to new
folder call this views and then what I'm
going to do is make a new template file
so I'm saying new file and this is going
to be for the profile down here so we'll
call this profile dot and then it's not
dot html' pjs and this tells Express
that this is an ejf template alright so
now we can do exactly the same as we can
do in HTML here we can structure it just
like a HTML document but now we can
embed JavaScript and data into it so
first of all let's just grab the
contents of this dude right here just
for simplicity and paste it I'm going to
save it right there now then how do we
render this view this template when the
user visits this route well we don't use
send file we're not using send file to
send this EGS file instead we're going
to use a method called render and what
that does is render a view okay so this
is to do with views and template engines
and we don't need to you know give the
whole path name or anything like that
because it knows to look in this views
folder that's the default behavior so
what we need to do is pass through a
string to say what the name of the view
is and in this case it's profile so
we'll say render profile and that's all
there is to it so if we were to save
this now and run it through node month
so node man OKs and when this is running
a browser I'm going to the profile of a
Rio
so I'll get enter and now we get that
HTML there now this looks like the home
page but that's just because we've
copied and pasted
homepage there so what if we want to
inject some dynamic content in here
because that's the whole idea that's why
we're using the template so let's go
ahead and grab this thing that they
input on the URL again and the way we
pass data two of you is by passing an
object as a second parameter to this
render method so just an object and then
we can pass through properties to this
object which are going to contain data
so I'm going to call this first property
person okay and then I'll set that equal
to this thing right here and we know we
can get that from the request object so
I'll say that's equal to request dot
params dot name which is this property
right here so now we're passing this
data through into the profile view and
we can access that in the profile view
using this property person so let's save
this dude and head over here and now
what I want to do is output the data
round about here we'll say welcome to
the profile off and then we're going to
embed this data and we saw how to do
that on the ejs website we open our
angle brackets with your percentage sign
then when we're outputting data it's an
equal sign and the data we want to
output is just the person right because
that's what we pass through as the
property name right there so let's close
those brackets we dapper set aside and
then angle brackets then we can save
this what I'm going to do is just
restart this server just in case and
then I'm going to head to the browser
press ENTER and now we see
welcome to the profile of ragu cool so
now what we've done is we've grabbed
this data from the URL then we've passed
it into the view by using this object
right here and then we've output it
dynamically by using these ejs tags
right here how cool is that so what if
we want to output more data what we can
do we can output as much as we want
so imagine that when a user visits this
route and the type of naming then we
query a database we search for that name
and we bring back more information about
that person's which is their age or
their job and then we want to output
that to the view as well well we're not
going to query your database in this
tutorial we are going to do that in
later tutorials but what I'm going to do
is just make up some dummy data here and
show you how we can insert more data
into the view so let's create a variable
and I'm going to call this equal sorry
I'm going to call it data I'm going to
set it equal to an object and in this
object I'm just going to set a few
parameter parameters so first of all I'm
going to say age I'm going to set that
equal to 29 then I'll say job and he is
a ninja okay so now we have an object
more data we want to pass through into
this view so let's go ahead and make
another property on this object right
here remember this is just an object
that we're passing through and this is
one property on it so let's add in
another property or save data and set
that equal so this variable right here
data ok let's save that and head back to
the view and let's output this data
right here so in this PDF will delete
that junk and do a strong tag and we'll
say age and I'm going to set that equal
to some dynamic data remember we open
our tags with the angle bracket
percentage then equals because it's data
and then I'm going to pop in the data
dot age remember data is the name of the
parameter and we have the age property
on that data object so data to age let's
close that off and then I'll copy this
dude and paste it underneath this time
is going to be the job and then data dot
job save that and I'm going to restart
this by typing rx
hit enter then go into a browser again
hit enter and now we see that data that
data dynamically inserted into this
you pretty cool right so now we know how
to inject data interviews and how to
serve those views to use it so when we
start working with databases as well
we're in a good position now to start
working with all that dynamic data and
we're going to do that later on one more
thing I want to talk about in these
templates is just adding normal
JavaScript code like if statements or
things like that and I'm not going to do
it in this tutorial because I'm already
at about 12 minutes so I'm going to
leave that for the next tutorial and
I'll see you guys then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>