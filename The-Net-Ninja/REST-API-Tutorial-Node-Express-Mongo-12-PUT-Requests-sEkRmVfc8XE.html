<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>REST API Tutorial (Node, Express &amp; Mongo) #12 - PUT Requests | Coder Coacher - Coaching Coders</title><meta content="REST API Tutorial (Node, Express &amp; Mongo) #12 - PUT Requests - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-Net-Ninja/">The Net Ninja</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>REST API Tutorial (Node, Express &amp; Mongo) #12 - PUT Requests</b></h2><h5 class="post__date">2017-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sEkRmVfc8XE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">how are the camper - welcome to your
twelfth REST API tutorial and in this
video we're going to take a look at how
we can handle put requests okay and so
when do we use a put request we use it
to update existing data already in the
database so we might have a ninja stored
and we want to update the name of that
means you'll reduce a pot request to do
that so it's going to be settled quite
similar to the elite request in that
we're using the same route where we pass
along this request parameter and that
request parameter is going to be the
unique ID of the ninja that the client
wants to update right so we're going to
pass that through here then we're going
to use a function it's similar to this
find by ID and remove to find and update
that ninja so let's copy this and paste
it in this one the top request but
instead of side by ID a remove its find
by ID and update so this is going to
stay the same because we're still
looking for the ID that they pass along
as the request parameter right here so
we're going to find that then we want to
update it with something and what we
want to update it with is going to be
the second argument in this update
function right here we need to pass it
in what I'm passing in exactly well when
we perform a pull request we send some
data in the request body so say for
example I want to update the name of
something to loop okay I send that jason
in the request body and then it's going
to look for this record this ninja and
update its main property to group right
I could touching two parameters here
because passing the name and the rank
and it's going to update then both
properties name unranked so this means
you're right here okay let's change this
to something a bit better cos whoop is
pretty crappy let's change it to crystal
okay and then we need to access that
request body data and we can do that
using the request body remember we
covered this in an earlier tutorial so
we're going to find this ninja by the
ugly they passed in we're going to
update it using this request body which
is the parameters we're specifying right
here and then we want to fire a function
okay so once this is complete
we want to take that ninja which is
updated and send it back to the client
so let's grab it this thing right here
and send it to the client will send the
ninja back in here instead of that
object and then save so what do you
think is going to happen here we're
going to send this to the server in fact
before I do that I want to get the
correct unique ID so currently we have
an object with a name of Yoshi so we're
changing from Yoshi to Cristal let's
grab this union-tribune with an edit
document and I'm going to grab at this
thing right here close this off and
paste it in here I think it's the same
but just in case there we go
so if we send this now hopefully it's
going to update that ninja to the name
of Cristal and it's going to return the
updated ninjas who is right here so
let's send this and see what happens
okay
dojo sense and we still get the name of
a Yoshi sent back to us so what is going
on well if we take a look at robot Mongo
and refresh this we can see inside this
object right here the name has updated
crystals so it's worked
but it's sending us the old version so
why is that well when it performs this
method right here we get the kind of
outdated ninja the pre updated one of
your light and we're sending that back
we don't really want that so instead of
doing that what we're going to do is
delete that there and we're still going
to fire something in here what we're
going to do is find that ninja again so
once this update has been completed
we're going to go out to the database
and we're going to refined the ninja the
updated ninja and then send that back
makes sense so we can do that using and
another mongoose method called find and
one this is going to find one record in
the database and again we want to cache
through this thing because we're still
looking for the same ID then when it's
done that we're going to fire a callback
function this time taking the updated
ninja and this time we're going to
respond with this updated ninja in here
make sense
ok so let's see if this works I'm going
to save that and head over here again
this time let's change it to Ryu so
these crystal now we want to change it
to Rio and we expect to see the updated
object here with the name Ryu this time
around so let's send it again scroll
down and so now we get Rey Oh awesome
so there we go that is how we perform
put requests and how we handle put
requests in our API and let's just go to
robot Mongo and make sure this has
updated and yet we can see Ryu is the
name so in the next tutorial I'm going
to introduce you to geolocation which
we're going to use for our ninjas and I
would get requests later on</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>