<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Forms Tutorial - Validation | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Forms Tutorial - Validation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CodingTheSmartWaycom/">CodingTheSmartWay.com</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Forms Tutorial - Validation</b></h2><h5 class="post__date">2016-12-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KGfZPP36QUI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is sebastian from coating the
smart Wacom this is the second part of
the angular 2 firms
series in the first part we started
building a simple angular 2 form and
this time we are going to extend this
form to contain validation and logic so
stay tuned so just for you to remember
in the first part of the angular 2 forms
a serious we developed a form which you
can see here it's a book form and the
form consists of three input elements so
we can end up the title information of
the book we can enter the answer of the
book and we can enter a link to a web
page here where you can get more
information about the book and we have a
submit button and here in the area which
is located at the bottom you can see
that everything the user is typing in
here is directly reflected in the model
and we are printing out the model
information information in JSON format
okay here back in our project just let
me quickly go through the implementation
which is available so far so we
implemented the form by introducing a
new component in our application and
that component was called book - firm
component and you can see here all the
files belonging to that specific
component allocated in the book - form a
subfolder that's a subfolder of our app
and you can see here I've already opened
up the HTML file which is containing the
template of the component and the
template is of course mainly HTML and
then at the place where we have
implemented the template driven form by
arranging all the control
which are needed here in the HTML code
and you can see we have three input
elements arranged here the first input
element this is here is at the input
home and for the book title then we have
a second input element here it's for the
author and a third input element for the
UL and all those input elements have
been data bound to our model by using
the ng model directive here and you can
see we are using model dot title model
dot author and model dot URL okay now
the next thing which should be
implemented is validation so the forms
should check automatically if the input
of the user is doing corresponds to
certain rules and the way you can
implement those rules is to use HTML
validation attributes within your input
elements in the HTML code here for the
form and one special HTML validation
attribute is already used and that is a
required attribute you can see it here
we defined that all its refills no
that's not corrected the title and the
author should be required you can see
the input element for the URL does not
contain a required attribute and so this
attribute is defining that the user
needs to input own text here in the
first two input elements to bring the
form into a valid state and now we would
like to extend it a little bit and we
bring in to two more validation
attributes here for the first input
element
so here behind clique wire I start
typing and define a min length of let's
say five so this simply means is that
the text which is entered for the title
information of the book should be at
least five characters and together with
mini lengths you can use max lengths to
define that the text should be of a
maximum length of let's say 30 so that
is defining in this combination that the
text is between 5 and 30 characters for
the title end I'd like to bring in
another constraint and I'll define that
for the UL input field here and let's
say pattern which is another HTML
validation attribute and pattern gets
assigned a string a regular expression
string and let's say HTTP question mark
okay like so and that is simply defining
a regular expression which ensures that
the text which is entered here in the
URL input field starts with with HTTP or
which HTTP and is followed by a URL okay
now we have the validation rules in
place we have defined for every input
element what constraints should be
checked to determine if the input
element is valid or not and now that we
can respond to the state and maybe if
one element is not invalid state print
out some messages to the user so so he
knows what's the problem and how to
correct it we need to get access to the
input element
in our code and to get access we need to
define a template variable for each of
the input elements and we do it by just
extending the input element once again
and defined a variable which is called
title here for the first element and you
need to assign the spring energy model
so that we get back a reference in the
title variable to do the internal
control and we need to do the same here
for an author so let's say order and
again we are assigning ngmodel
and finally for ul and again ngmodel
okay okay next arm let's bring in the
messages section so that we have a
section with error messages being
printed out so that the user can see
which of the validation rules is not met
and we do it a field by field let's
introduce a new div section here like so
and we are using the ng-if directive to
define an expression and if this
expression is true the stiff section
which is containing the messages later
on is included in the templates output
and the expression we need here is now
using the template variable for our
first input element as it is title and
checking title errors so the errors
property becomes true if there are some
sort of errors are present for the title
field and we are not only checking if
there are errors
we are also checking if typo is in in
dirty state dirty just means that an
input was made and the value was changed
and our title touched is true this
simply means that the user has activated
the field but nothing entered and one of
these two properties touched or dirty
needs to be true just to prevent that
any of the messages we are including
here in the diff section are outputted
initially so the message should only
appear if the user has activated the
field
once and maybe made some input made some
changes not up front okay so let's say
this it should be using the class alert
and alert danger okay and now we have a
diff section okay within that section we
can now bring in our error messages and
we do that by placing each of the error
messages we would like to print out in
another nested-if section so in this
case we need to define three error
messages so I'm just saying here that we
need three more defections
okay like so and now we can include all
of the error messages we do need the
first error message is book title is
required the second error message is
title must be at least five characters
well and the last message should be
tighter cannot be more than 30
characters long so of course we do not
want to display all of these messages at
once instead we should make sure that
only that message or those messages are
displayed which are valid at the moment
and we do that by binding the hidden
attribute of each of the diffs sections
here to on the special arrow flag so for
the required constraint
it's just title arrows and required so
if this is set to true this simply means
that the required error is present that
there is no input made in that field and
then we turn it to false and if false is
assigned to the hidden right root
attribute of course the text here
becomes a wizard pool because the diff
section is not hidden and the book title
is required message is printed out to
the user so that he is informed that he
needs to enter some text here
and we basically do the same for the
other tube div sections here and need to
copy it so okay and of course this time
it's not the required arrow which should
be checked
it's the min lengths and the max lengths
arrow okay once again well same
procedure here if min Lang's is present
as an arrow so that the text which is
entered is not at least five characters
long this flag becomes true we are
turning it to false and then assigning
false to the hidden attribute which
means that this diff section is not
hidden and this text is printed out so
that the users and forms it he needs to
enter a text which is at least five
characters long
okay now let's check if the code for the
first field title is working as expected
let's switch to the browser and here you
can see the forum and you can see and
the initial state is there are no error
messages printed out and if I now start
typing some title information here in
the title input field you can see the
first error message appears informing me
about the fact that I need to enter at
least five characters and so I continue
typing and now you can see I have
reached five characters and the
errormsgs gun
okay now let's delete the text you can
see else the string is getting shorter
the error message appears at once again
saying I need at least five characters
and now I can delete everything and now
it changes to the required error message
saying book title is required
because now the required constraint is
not fulfilled and that is the first the
first rule was which is checked and so I
get the information that I need to enter
text so let's complete our form template
implementation by introducing error
messages for the other two fields and I
can simply start here with that
completed if section and endured those
this section here for the user input
field and in this case I do only need to
to print out one error messages because
we have only the required rule here
present so I can delete those two and
error messages and change the text of
the error message to also is required
and then because we have assigned the
variable named also here to that input
field I need to do a place all title
variables here we sorcerer so again here
so that is correct and I need to put
also here in as well
okay so let's copy in that section and
insert it here for the URL input field
of course now I need to say you are
because it is a template variable for
this input field and again we are
checking for required and printing out
now we are not doing a required because
you are and that case is not defined as
look white we have not used though
required
HTML validation attribute here instead
we use pattern and check for pattern
it's needed to change required to pager
with the first step and then changing
the error message in must be a valid ul
and yeah that's pretty much what we need
okay so let's check it again in the
browser now first is you also field from
initially no error message present and
now I start typing that's okay because
now text is included and if I deleted
once again the error message appears
informing me it also is a required field
and I cannot leave it empty ok let's see
how the messages for the UL field are
working as you can see here the standard
string is already containing the
beginning of a URL and I can just let's
say Google okay so it's valid the error
message is not appearing and if I now go
to delete the text so that is not
corresponding to the regular expression
which we defined in the pattern string
the error message appears informing me
that I need to enter a valid URL and if
I complete the URL once again you can
see the error message is gone okay then
there is another special angular2
feature which enables us to give
feedback to the user based on validation
rules and that are special CSS classes
which are automatically attached by the
frame
work to the form and to input elements
of the form and we can use those CSS
classes to you to configure a styling
which is then as applied to the elements
in a certain state so let's go quickly
through the CSS classes the first CSS
class you need to know is ng - touched
that class is attached to a control if
it has been visited by the user then
there is the opposite cases ng -
untouched this of course is attached to
a control if it has not yet been visited
by the user then we have ng - dirty this
just means that the control value has
been changed
pristine ng - pristine is the opposite
meaning the controls value hasn't been
changed yet and we have ng valid to
determine if the controls value is valid
at the moment and we have invalid which
means the opposite of course okay let's
make use of those CSS classes I delete
that one here and insert some CSS
styling you can see it here we are using
the ng valid class in case we are
talking about input elements which are
required and in that case we are setting
a green left border of five pixels and
that green border on the left side is
just indicating that everything is okay
to the user in the opposite case we are
using ng invalid and to limit it to be
only applied to input elements not to
the form element itself we are saying
here
was another selector not form and we are
setting in that case the border left
color again to 5 pixels solid but we are
choosing another color red so that the
user reason forms it something is not
okay with the input being made in that
element and then he can change it and if
everything again turns to valid and the
border color becomes green as you can
see here okay with that changes made
let's take a look at the form so here
you can see in the initial form you have
just at the left border of the input
elements the red color indicating that
the constraints are not met and if I now
start typing a title information in here
it's again informing me with zero
message that I need at least five
characters here in the title field and
if I continue typing and I'm meeting the
constraint so I have more than five
characters now inside that element it
turns to green because now the state is
valid and the CSS class ng valid is
attached and it turns to green here the
same is here with all so if I start
typing and have something and turns to
green okay the validation logic we've
implemented so far is specific for
single input elements of the firm and
now in the last step we are also able to
extend the logic to also take into
consideration the validation status of
the complete form and this for example
is needed if you would like to only
enable the submit button in case all the
input fields of the form are in a valid
state so in this case you do not need to
go over all input elements
piece-by-piece and check if those
elements are valid it's sufficient in
that case to check the value
the status of the forum and we can do
that by first introducing a new template
variable on forum level and we do it
here in book - form component HTML where
our template code is in and here in the
form element I'm attaching and the
following let's say we want to have a
variable which is called book form and I
need to assign a student a string which
is called ng form so that is this
variable is a reference for our internal
control instance which represents the
form and now with that variable away
we'll we can go down here to the submit
button and add something to this button
and let's say we are using the disabled
attribute and I'm binding the disabled
value to book form form valid and I turn
it to the other side here and now it's
working like the following if the form
is valid this is true and my expression
I'm using here becomes false and if
disabled gets false as a value assigned
it tells the button to be not disabled
so to be enabled and so the submit
button is can be used to submit the form
in case the forum here is valid so check
it in the browser with the changes made
let's go back and see I need to save it
first okay now I can go back to the
browser and the farmers who load it
again and here you can see initially all
my input fields are of course invalid
and it's indicated by the red left
border here and of course with three
elements being invalid the form itself
is also invalid and you can see the
submit button is not enabled it's
disabled at the moment so I can not
click on it
and if I now start typing here you can
see the first field now is valid but the
form itself stays invoked because we
have two more input elements which are
invalid and so the submit button is not
yet enabled and I'm continuing
completing the form here and for example
so putting something in now everything
is valid and the form is valid too and
the submit button now is enabled and I
can click on it and use it for example
to submit the form thank you very much
for watching this was Sebastian from
coding this mod wacom if you do like my
videos please don't forget to subscribe
to my channel here on youtube and also
check out my website at coding the smart
Wacom thanks again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>