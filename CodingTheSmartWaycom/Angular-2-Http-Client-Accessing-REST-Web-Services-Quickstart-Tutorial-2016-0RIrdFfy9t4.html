<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Http Client (Accessing REST Web Services) Quickstart Tutorial 2016 | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Http Client (Accessing REST Web Services) Quickstart Tutorial 2016 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CodingTheSmartWaycom/">CodingTheSmartWay.com</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Http Client (Accessing REST Web Services) Quickstart Tutorial 2016</b></h2><h5 class="post__date">2016-03-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0RIrdFfy9t4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is sebastian and today in
this video i give you a short
introduction to the angular 2 HTTP
client and the HTTP client is included
in the angular 2 framework and you can
use that client as it serves to access
rest back-end services and yeah what we
are going to do in this video is to set
up an angular 2 project injecting the
HTTP service setting up a rest back-end
and then connecting to that back-end and
accessing data and presenting the data
to the user
so we will use a basic angular to
project structure and as you can see
here I have already prepared a project
an empty angular tube project was a
basic structure inside and you can see
we have various configuration files
inside we have the package JSON file
containing all the dependencies all the
libraries we need we have the type
script configuration file and we have
the typing scheduling configuration file
so this is basically what we need for a
basic angular 2 project then we have
index dot HTML just an empty just an
empty on HTML file we need for our
project and then all our components are
stored in the app folder as you can see
here what is already prepared is app
component this is the main component of
the application we are going to build in
this video and we have the main TS file
which causes a bootstrap function and
starts up our application so if you
would like to get through the steps
which are needed to set up such a basic
angular project you can go through the
5-minute QuickStart tutorial on angular
I Oh
or you can switch to another video where
I'll show you all the steps you need to
set up such a project in all the details
and I will put the link into the show
notes
okay so the first thing we need to do to
be able to use the angular 2 HTTP
service is to include the HTTP library
and then loads the HTTP module and even
the HTTP module is part of the standard
angular 2 framework it's not included in
the angular core library so actually the
first thing we have to do is to go into
our index.html file and include another
script tag here just underneath the
angular library and with that script we
can include on the HTTP module and the
module is available in a library which
is called let's see it's called HTTP
left GS and that library is already
available in our project because was the
NPM package angular 2 we have loaded a
set of libraries and HTTP is included in
a set a set of libraries and so we can
access the file HTTP dev GS in the
angular 2 bundles folder within the node
modules folder so that is basically what
we need here so let's close the script
tag and so that is what we need in the
index.html and the next thing we have to
do is to configure our injectors and we
do that on the root level of the
application so let's switch to main TS
and as our library is included now we
can import something which is called
HTTP providers and we import it from
the angular2 HTTP module and so now what
is HTTP providers HTTP providers is
basically an array containing all the
injectables you need for HTTP and was it
array loaded we can now inject
everything in here and we just add the
array of dependencies as you can see
with HTTP providers so on this enables
us to use all the HTTP providers all the
injectibles including the HTTP client
across all the components in our
application
so before actually using the HTTP
service we need to complete one more
thing in our client and application and
that is that we need to create a client
data model separating a client data
model helps us later on to deal with the
datasets we want our application to
manage and to retrieve from the HTTP
back-end and yeah we need one more file
in our application and we switch to the
app directory again and create that new
file and we name it bookmark ts because
we want our application to manage a set
of bookmarks and every bookmark should
consist of two properties so what we
need here is a simple class and we
export that class as a module so that we
can include that data model class later
on and our components so let's say
export class bookmark and yeah what we
will do here is not to declare our two
properties explicitly but using the
constructor together with the private
keyword and that is a way which
typescript offers us to declare
constructor parameters and private class
members at the same time by using the
private key word right within the
constructor definition so it's private
the first property we need is title and
it's of type string and the next
property we need is the corresponding ul
and again it's it's a string
okay so and that is basically all we
need we're now able to import as a
bookmark data class in our components
and make use of this data class when it
comes to retrieving data sets from our
HTTP back-end by using the HTTP client
so the next thing we need is the rest
back-end that we have the rest services
a Weibull to be accessed by our angular
2 client application and we will set up
a rest back-end by using an open source
project which you can see here it's
called blue peg and you can find it in
the Internet at loopback IO and loopback
is a framework based on a noted GS which
lets you create REST API so very easily
on the command line and the first thing
you need to do is to install loopback
and you can do it by simply copying that
command here on the home page to your
console and in stall this framework by
using NPM after having installed
loopback there is a new command
available it's called
SLC and with that command you can set up
your back-end project very easily so
let's switch to the terminal and see how
this is going to work and the first
thing we need to do is create a new
loopback project and we do it by typing
SLC little back so here it is and the
first thing we need to answer is what's
the name of our application and I will
give the application the name app
background so it should create in your
directory okay and then it's creating
the new directory app back-end and
initializing the loopback project so
that we can directly start creating the
API
and setting up the endpoint we need okay
it takes some minutes to do set okay now
it's completed you can see the new
project the directory app back-end was a
project inside is there we can switch to
that directory and then start creating
our server model and this is done by
executing the command SLC loopback again
model okay so we are first asked to
provide a model name and corresponding
to the model class we operate on client
side we choose bookmark and we take that
option persistent model exposed bookmark
via REST API yes its default custom
plural form it's not needed here because
um CAS is used as a standard profile
form we will set up a common model and
then we are asked to provide the first
property and corresponding to our client
models the first property we need here
in our server model is the title
property and we again choose string as
the type and it should be required so
that was the first property and then we
are asked to create the next property
and the next property we'll need is URL
and again it's string it should be
required so we put in an es here and
that is all we need so just leave it
empty here and hit return and the model
is created successfully
so with a server model in place we can
now start up the server which is hosting
our back-end rest service and we do that
by staying in this project directory and
simply typing in node dot so the server
the note GS server is starting absolute
back project and giving us the
information that is accessible on port
3000 and that there is another URL
available and that is the Explorer URL
so just copy this URL and access it here
and you can see that we have a nice user
interface which is called the API
Explorer which gives us an overview of
our back-end services we are running at
the moment so here you can see here is
our bookmark service and a second
services in place it's called the user
services is a default loopback service
but our custom M Web API bookmark is
here and clicking on bookmark opens up a
list of endpoints as a bookmark services
offering and you can see we have various
endpoints here corresponding to the HTTP
works and for example we can use the
post bookmarks link here to simply test
that our service is working and create
the first bookmark data set so we put in
here as the JSON structure and say ok
let's create the service and let's
create a bookmark with a title Google
and the corresponding URL
is is Google come and then try it out
and you can see we get the response from
our API service and it basically gives
us the response code 200 which shows
that this post request was successful
and if we now switch over to the get
bookmarks endpoint and try this out you
will get the result was our web service
was with our bookmark data set in JSON
format
okay now that we have our background API
project ready and running we can switch
back to the angular project and
implement the logic which is needed to
access that web service and so as you
can see here um we will do it by first
adding a new file to the app folder in
our project and this file is called
bookmark so this TS so what we are doing
here in that file is to implement an
angular service which contains all the
logic we need to do access of the API of
the backend and that is done because
then our components do not have to deal
with any access logic directly instead
our component our main app component
where the data is needed later on will
use that service with methods we define
and not access the background service
directly okay so let's create that file
and first of all we need some import
statements I will quickly copy on past
what is needed so what what we have here
is basically we need to do injectable
component from angular 2 core we need
HTTP which is our service until the
response object which is imported from
the HTTP module then of course we need
the bookmark data model class we defined
in our project and we need the
observable object which is which you
will see later on and we need to some
more things from the RX GS library and
you will see how this is going to
when we implement the class now okay
first of all let's passed in another
class we need okay that is a class so
here's the empty class a class gets the
injectable decorator and is exported as
a module so that the bookmark service
class can be used by our components and
the first thing we need to add is a
constructor and the constructor gets one
parameter and that parameter is defining
a private class property which is called
HTTP and this is the dependency we are
injecting here to make the HTTP service
usable by the app by using this HTTP
object in our class okay
nothing more needed here under the next
thing is we need one property which is
called bookmarks well and this is just a
string and we passed in the URL where
our API web service is accessible and
then we need a method to retrieve all
our bookmark datasets we call that
method get bookmarks
okay and then we can implement that
method and it's basically very easy
because we only need to call the web
service now and then return everything
which the web service delivers so let's
say return this HTTP because this is a
the local variable where we stored our
service object and then call the get
method of the service and the get method
gets one parameter and that is you are
out to our rest service so here with
bookmarks URL we have specified our the
URL where our service can be accessed
and now we are using exactly that URL
string to pass it as a first parameter
here to set method okay and then we need
something from the our XG s library and
that is the map method because with map
method we can easily transfer the
resulting string to an array of
bookmarks and we do that by saying okay
bookmark array this is a type and then
accessing other response as in in JSON
format so and then we need one more
thing here we need the catch method and
this is only in that case is called
when we have an error so we pass in
another method handle error and that's
basically what we need to call the web
service
okay and then as a last part of our
bookmark service class we need to
implement the handle error method
because we used a set method here over
here within the catch method call and
this handle error message needs to be
implemented so that it can be called to
handle a narrow situation which might
occur when we are accessing our web
service and for example this web service
is not reachable
so I've already prepared that method to
do it very quickly here so as you can
see it's a private method because handle
error is only called here internally and
it's getting a response object which
contains the error code and the error
message and basically what it does is
printing it on the console and throwing
it as a as a return observable
so now that our bookmark service class
is already and is managing the data
access to our rest based web service we
can switch over to app component which
is a main component of our angular 2
application and bring in the bookmark
service because we want to retrieve the
data by using the service and printing
out the the bookmarks delivered by the
service within the template of app
component so okay here you can see
Alice's of the empty class app component
so nothing in the class so far and
nothing in the template the first of all
we need to to start with implementing
the class and later on we will continue
with the implementation of the
corresponding template so first thing we
need is basically a class property which
stores all the bookmarks which are
returned and that is basically an array
of type a bookmark so we call it
bookmark and putting in the type so like
so and then we need a string for storing
error messages which may appear and then
you say constructor
and this constructor gets passed in as a
dependency the bookmark service class
and we do that by saying private
bookmarks service this is a local class
property as a local object to our
service and we would like to get the
bookmark service instance here okay so
this is basically the constructor we
need and then there is one more thing to
to add because we are using dependency
injection here and wanted the injector
to be able to to retrieve the bookmark a
service aa class and creating an
instance and returning that instance to
to be used here with bookmark service we
need to configure the injector by adding
in the component decorator section the
providers array providers and this
providers it's an array so okay
and this providers array is containing
the bookmarks service token and so the
token is the same name as the class so
bookmark service is resolved with a
class bookmark service and to enable the
injector to find the bookmark service
class the next thing we should do is to
add the corresponding import statement
so importing bookmark service
from our file bookmark service and
together with bookmark service of course
we need access to the bookmark data
model class and we will add the import
statement for the bookmark class here as
well the next thing we implement in the
app component class is a method which is
called get bookmarks and this method is
basically the place where all the US
service excess is implemented and we do
that by accessing our service object and
then calling the get bookmark 'some
service method we implemented in the
bookmark service class and this method
is returning an observable object not a
promise this time and we can we can
subscribe to the results of the
observable object by simply calling a
method which is named subscribe ok and
in in subscribe we need to to handle
both cases the first case is a method we
need um when the service call and the
data access is done successfully and in
this case we want one our bookmarks
array to get all the bookmark data
objects which are retrieved and returned
from the service
so this book marks is equal to book
marks okay so the other case we need to
handle is to pass in a method and in
this case a message is handling an error
state so has error this error message
because we want to store the error
message error information in our error
message string which we declared here as
a class property
so okay this is basically what we need
here in app component to access the data
service so now we have the method in
here get bookmarks and we need to define
when this method should be called and we
are not calling this method in the
constructor but we use a lifecycle hoop
which is called ng on in it and this and
lifecycle method is automatically called
after the app component is is
initialized and ready and then we can
use that point in time to execute the
get bookmarks method okay so the last
thing we need actually to complete the
implementation of our component class is
the template we need to print the data
we get from the web service to print it
out and I've already prepared a simple
template I will pass in the code here
and you can see it's just a list which
is printed out and in this list we are
iterating over the bookmarks array with
an NG for and then for every item in
that array for every book mark returned
from the service we print out the title
information and we print out the link to
the corresponding URL here
okay now with the final implementation
of up component in place we are ready to
start the angular 2 application and see
the result in the browser so I'll switch
over to the terminal window and the
first thing is we need to make sure that
in the first terminal our rest loopback
application is still running and
accessible because now when we start up
our angular application we try to access
that service to retrieve the data and in
the second terminal window we are now in
the project folder of our angular
application and we can simply type NPM
start to startup the web server which is
hosting our application and by starting
up the server you see our the
application is automatically loaded in
the browser and as you can see here we
get the list of bookmarks retrieved from
the web server and at the moment we get
only one result and that is the link we
put in when setting up the loopback
project so to show you that we can just
add a second link we again can access as
the API Explorer here clicking on the
bookmark service then I'll selecting the
post endpoint here for bookmarks and by
just copying this model scheme here into
the data parameter we can add a second a
second data set here
this time we use Wikipedia and putting
in the corresponding ul and was try it
out we are just sending it to the web
server and you can see okay it was a
result and now just to check we try to
get bookmarks and here now we get two
results and the same result is now
to angular2 application as you can see
here so thanks a lot for watching and if
you like this video just leave me a
message on YouTube and see you the next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>