<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 5 Forms Update | Coder Coacher - Coaching Coders</title><meta content="Angular 5 Forms Update - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CodingTheSmartWaycom/">CodingTheSmartWay.com</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 5 Forms Update</b></h2><h5 class="post__date">2017-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MPjr-AEnWRg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys this is Sebastian again from
coatings of smart Wacom and today in
this new video I'd like to give you a
short introduction to angular 5 - the
new forms feature because with angular 5
which has been released in last week we
are now able to control when a form or a
certain element within a form is updated
as there are three modes available first
mode is as a change mode this is a
default mode you are already familiar
with this is updating the value of each
input control and the validity status on
every change then we can use another
mode which is called blue L and this
mode is updating the value and the
validity after an element is losing its
focus and then there is assert mod which
is called submit and this is of course
only updating the form its values and
the validity status if the user is
submitting the form
and how you can make use of those new
three change modes we are going to see
in this tutorial by following practical
examples first we will take a look at
templated Riven forms and how to apply
those change modes and second we will be
taking a look at an reactive form
example and see how you can apply that
change mode and set aside change mode in
a reactive angular 5 form so stay tuned
so to get started of course we first
need a new angular 5 project and let's
switch to the terminal and of course I'm
using as always I'm using the angular
command line interface so was ng mu
followed by our project name so let's
say
ng5 forms I can initiate a new project
so this command is creating a new folder
ng5 forms and it's downloading the
angular 5 project template installing
the dependencies as you can see here
very npm this takes a moment if you
haven't installed angular CLI yet on
your system you need to do that first of
course and if you have it installed
already please check if you have at
least version 1.5.2
installed because that version is
required to setup an angular 5 project
so it takes a second here to complete so
here we are as you can see a project has
been created successfully all
dependencies have been installed so now
we can change into that newly created
directory ng5 forms and just try it out
with ng serves as a starting observe
life reloading development web server on
port 4200 here on my local machine you
can see it here so let's switch to the
browser you can see it's running so
everything has been set up successfully
and now we can move on with extending
the project and creating our examples to
demonstrate the new forms feature first
was the template driven from then second
was a reactive form so that's the next
step okay so it stopped on this web
server here and then I'm opening up this
project in my code editor which is a
visual studio code so I can type in code
and follow peridot to opening up the
current directory so here we are you can
see I'm in Visual Studio code I've
opened up my md5
project here and now I can move on and
first of all opening up our the
integrated terminal here you can see it
here is it's the key command to open up
the terminal so let's open it up we are
so I'm directly inside my project
directory and now I can use the Engler
command-line interface once again to add
and scaffold two new components here to
my project and I would like to add to
your new components because is one
component we will be using to implement
the template driven form and the second
component we will be using to implement
the reactive form so let's use that
command here it's mg g4 generate then
component because I'd like to generate a
new component and then we need to give
the name of the new component here so
I'm naming the component form 0 1 ok you
can see it here a few files have been
added AB dot module dot ts has been
updated and the new component else
automatically included and then we need
to add a second component here which I
would like to name form 0 2 so again now
you can see as i refresh it here within
my SRC app folder i have two new
subfolders here one for form 1 and the
second for form 2 and here you can see
it's displaying all the files included
in the subfolders so for our tutorial
right now we can focus on the TS file
and
corresponding template file the HTML
file that would be sufficient okay okay
so let's first start to implement from
zero one component I'm opening up here
on the TS file so you can see it here
first of all I'm going to change the
selector here pretty close and do not
need the prefix app - so it's just form
0 1 okay and then here in the component
class I'm adding a member which is
called model and which is containing the
model of our form so the form will be
consisting of two input elements so I do
need two properties here within model
the first one is first name and
initially it's empty and the second one
is last name and it's empty an empty
string as well okay okay then I'm
changing to you the HTML file here and
removing the default content within that
file and starting again with a diff
element here and within that if I do
need a form element and here on the
level of a form element I'm using the ng
submit event and I will connect it to
the on submit method okay and I will
assign a template of arrival here which
is called form zero one so that I can
access as a form later on from was in my
code and within that from I'm starting
with another div element and I'm
assigning a bootstrap for her class here
which is called form there
group and within the first forum group I
do need a label and the label is for the
first name input element and the label
is including or containing the text
what's your first name
question mark okay so the input element
next and the input elements gets
assigned a class of form - control shook
the off type text so that is okay and
then I need to add an ID here which is
first name I'm adding the required
attribute because I'd like to declare
that this is a required field so the its
it's becoming a valid if the value is
not empty and then I'm binding my use
two-way data-binding to bind to model
property here so I'm using ng model in
the following way and then I'm binding
to model first name okay next I need to
add the name attribute and and assign
the string first name here as well then
I need to define the template of arrival
here which is called first name for that
input control and which gets assigns a
string ng model and finally now I need
and that it's a young that is a new part
here in angular 5 I need to add at the
ng model options directive
and bind it to a string and the string
is containing an object so I'm starting
with curly braces here opening and
closing and within that object I'm
assigning or I'm using a property which
is called update on and now I can set as
this property to a spring value again
which is for example change and as it is
corresponding to the behavior which was
the default well so far so on every
change on every user input the value of
this element is updated now we can use
blur as a second option here so then the
update is made when the element is
losing the focus and finally we can use
submit and we will see it later on when
we are trying out the project how those
three options are different in their
behavior but for the moment let's leave
that it change here so this is our first
input element so because we have been
using a required here let's include
another thing here was in my form group
and print out an alert if this input
element is left empty so I'm using
another difficult meant here and I'm
assigning the class alert and alert - on
danger like so and within the diff
element I'm printing out the text first
name is required and the only displays
is alert if the required information is
not entered so the field is left empty
I'm you unbinding the following
expression to you the hidden property
here so like so using brackets here
again
for the binding syntax and then I'm
saying first name dot well it and then
I'm using on the or operator here our
first name dot pristine so if it is an
initial state in those two cases if one
of those cases is met this dis section
is not being displayed only if it is not
valid and not pristine we are printing
out the message here first name is
required to inform the user that he
needs to enter well you here ok so for
the second element which is last name we
need a similar form group so I can't
copy that part here and passed it in
again and then change a few things so
the label is now for last name it's
containing the text what's your last
name ID needs to be changed last name
should be required as well the binding
is against model dot last name name is
last name as well and name of the
template of arrival is last name I'm
leaving the update on value to change
for that element as well and then the
alert part here needs to be changed last
name as well okay and the message we are
printing out in case of acquire text has
not been entered as the last name is
required okay like so so then we need to
add here right after the form group we
need to add a submit button to our form
because if we are going to demonstrate
the the update on behavior later on and
we are set
the value here to submit of course we
need a submit button to demonstrate to
the behavior in this case so let's add a
button here and we are assigning the
class
I know it's button we are assigning the
bootstrap classes PT and BTN - success
here like so so the text on the button
should be submit and the type of that
button should be set to submit as well
okay so that the form part and then
right after the closing form tag here
let's define another div element which
is used to output on the model values so
inside a bet if I'm using an h3 here and
then I'm outputting the information
Hallows and I'm including model dot
first name value and second time
including the value of the model dot
last name and I'm only printing out at
that this section here if the following
expression is valid so ng if model dot
first name and model the last name so
only if both model properties are valid
and containing value the text is printed
out here okay now to be actually able to
use all those form directives we have
been using so far here in our template
we need to go back to app dot module dot
TS and we need on something which is
called forms module and to include it
here in our project we need to edit the
following import statement first
so it's forms module and it's
imported from the add angular fonts
package and to add forms module and all
the elements which are containing which
are contained in forms module to our
project we need to add forms module here
to our imports array as well so let's
add forms module here okay then to
complete it here we can just add a
second thing here because we are now
editing this file so let's make it
complete
we can also add reactive forms module
here which is required for all the
reactive angular forms which we will be
using in our second component in in just
a moment so this is the thing we delete
here it's imported again from the add
angular - forms package and of course it
needs to be added here to the imports
array as well okay so this is what is
needed to get the angular forms
functionality working so if I not change
here - of the browser and you can see on
the app is running because I've already
started to develop and web server here
from within my integrated terminal in
Visual Studio code so you can see it
here it's running so everything is fine
but of course we do not in C the output
from our first form components so far
because we have not included the
corresponding HTML element in our main
application template which is a Weibull
here in app dot component dot HTML so
that is the year next thing we need to
do now opening up app component HTML
then we can remove everything what's
included here so this as well and now as
you remember we have changed the name of
the selector for the element to just
form zero one so I can now use formative
one or let's say okay so let's save it
and checking it back in the browser you
can now see it's printing out my form
let's add a few more things here I'd
like to add a container with class
container assigned here to the div
element let's add form zero one here
inside that container maybe give give it
a headline here as well so template
driven form example okay okay fine so
here we are now you can see the form is
printed out as expected and now I can
start entering information here and you
can see if those input elements are
filled with text you can see it's
printing out my name here I can change
it here and you can see it's updating
the values printed out here in the model
it's updating each time I'm changing the
text here so the reason why this update
is happening is because we have set the
update on property to the value change
and that is exactly what is happening if
we use with the update mode change we
were updating it every time we are
entering text here and you can see okay
if I'm removing the text completely it's
printing out the alert message
last name is required because this
element now is no longer valid okay so
now let's explore in which ways the
behavior of our form is changing if we
are going to adapt the update on values
so let's go back to our template here
our form template and you can see I have
arranged those windows side-by-side so
that we can see the effect here
immediately now first of all I'm
changing from the value change to blur
like so ok let's save it and now what's
happening I'm putting in text here again
and you can see both those input
elements are now containing text
information but the text is not printed
out here because the value has not been
updated at the value of the second
element and it's the quiet that those
elements are filled to print out at that
text area here and if I'm now removing
the focus here I'm just clicking
somewhere outside of this input element
so it's losing the focus and then the
blur event is happening and now it's
updating the value and the validity
status so this is the reason why now the
text is going to appear here so I can
remove the text here again and you can
see it's not printing out the error
message here saying that last name is
required immediately but if I now take
away the focus from the element by
clicking here is somewhere outside the
element you can see it's updating those
value and validity status and now it's
printing out the information so let's
change it again here to submit
okay let's test it out again you can see
it in here now text is entered I'm
clicking somewhere out of the element to
take away the focus no update is
happening the text is not printing out
but this time if I'm going to submit the
form now and click here on the submit
button you can see it's updated and the
string is printed out so in our examples
of how we have been setting the update
on so the update mode for each input
control separately by using the ng model
options and that is okay because by
setting it on the level of each input
element we can control it separately for
each of the elements included in the
form but if you like to set it in the
same way for all the elements available
in the form we can make it a little bit
easier here we can take away and the ng
model options attribute here from the
input elements so then the default mode
is used again which is which is change
and if we are now wanted to set it on
form level we can go to the form element
as well and include another directive
here which is called ng form options and
to set now the update on value here on
form level we are using the same syntax
basically we are assigning a spring here
which is containing an object so we are
starting with curly braces here and
closing curly braces and within that
object we are including the property
update on and we are assigning another
string here
for example blur and now this is set for
every element in the form and we only
need to include it once so we can try it
out here again
so let's include the texture you can see
no output so far and if I'm now taking
away the focus it's updating so the
update on property here is setting blur
and it's working ok ok so now we are
ready with the first part we have
implemented the template driven form
here and we have explored the behavior
of the different update modes which are
now available let's do the same for
reactive forms and let's turn to form 0
to component because that is a component
which we will be using to implement the
reactive form and the file where we are
going to start with the implementation
is again the TS file so forum 0 to
component dot TS and the first thing
again I'm changing the selector here
taking away CF - and now first thing
which is needed here I need to define a
form group because that is a way in
which we can make use of reactive forms
I do it here in the first place so we
are saying its name form and it's of
type form group ok and you can see it's
adding here at the input statement now
automatically because I'm using the
latest version of of Visual Studio code
so just hitting on the Enter key using
form group here is adding the input
statement here automatically but let's
bring in
did need a few more things here let's
remove it here it's just from the
angular forms package so that we can
import a few more things here we do need
a form control and validators here okay
so now with an mg on in it I'm able to
initialize my form group and I do this
by saying this name form equals new form
group and then I'm passing to use a
constructor an object containing my form
controls so I do need to form controls
here the first one is first name of
course because we would like to
implement the same form as we have
implemented in the template driven of
approach before so first name is new
from control and form control gets
passed into properties the first is just
an empty string here and then the second
is a configuration object where we are
able to set validators and i'd like to
use the validator validators thought
acquire required to just say that it is
a required element here as before in our
template driven approach enter then and
that is new was angular 5 now I can set
here in that configuration object the
update mode by using the update on
property here and I'm able to use the
same string values so change blur and
submit so as start was change again
okay and then add another phone control
here which is last name and of course
again new phone control in the same way
the configuration object is containing
the validators property which gets
assigned the value validators dot
required and it's containing update on
which is set to change first okay like
so so now we have defined our foreign
group and we can now continue with
implementing the corresponding template
here in the HTML file so let's opening
up from zero to component HTML and
remove the default content here so first
element of course is form element and on
this form element level we are using the
form group directive and we are binding
it to our name form and I'm using the
attribute no valid date to prevent any
HTML validation here for the form
because I'd like to fully let angular
take control of that form so this is a
reason why no validate is applied here
and within that form let's start with
another div element or was class
assigned of form - group was in that
first form group we do need the label of
course
the label should contain the same text
year so again what's your first name
second it needs to include the input
element with class form - control and we
can remove the type here we do not need
it just across element and then we are
setting form control name to you the
name of the form control within our form
group and for this element is this is
the name first name okay
then we do need a second for group okay
so this is last name so we need to
change the label here and we need to
change the value which is assigned to
form control name this time we are using
last name here okay then our form needs
a button again was class BTN and BTN -
success and the button is of type
submit' of course and the button should
contain the text submit here okay and
then finally right after our closing
form tag here we do need in to include
the death for the for the print out of
the values
so again we are using not an h2 here
we're using h3 here to print out the
text hello and then first the value from
the first name form control and this
time we need to access the value in the
following way named form dot value dot
first-name and of course last name in
the same way name from dot value dot
last name okay and we only need to print
at that if section out if a certain
condition is met so we're using again
the ng-if directive here and assigning
the expression which needs to be true to
print out the h3 here and that
expression is named form dot value dot
first-name and named form dot value dot
last name so both input fields needs to
have a value assigned to enable the
output of the text information here okay
so that's our form now we need to take
care that this new form is also
displayed here on the output so far you
can only see the template to drive
inform now let's go back to our main
application template here in add
component not HTML and then we're using
another h3 here and pay reactive form
example and I'm including the form 0 to
element here
so let's save it maybe we are going to
include just a line break here okay so
now you can see all the output is there
we have the exact same form now in
implemented with erecta form approach
and now we can try it out put some
values in just remember we have been
setting for this reactive form we have
been setting the update on property to
change first
so we can see the output is appearing
right after I have entered the text and
the person in the second field and it's
changing the output here every time I'm
going to change the value of one of
those two form control elements so to
change the update mode for the form
controls here in my reactive form
example I can go back to you the form 0
to code component on TS file and let's
change the value here of update on to
blur for both form control elements
now you can see the output is not yet
there I need to take the focus away like
in the example before and the output is
appearing so we can also change it to
you submit of course just to show you
so entering text again here taking away
the focus is not sufficient in that case
we need to hit the submit button so that
the value is updated and as the output
appears so again as we saw earlier with
the template a driven form we can take
the setting update on away from form
control and insert it on form group
level
so that you have only one setting which
applies to all form controls embedded in
this form group and to do so let's
remove the update on property here from
the configuration object which is passed
to the form control element okay like so
and to put it here on the form group
level we can now add the configuration
object as a second parameter here for
the form group so again the property
which is part of that configuration
object is called update on and we are
able to assign the value in the same way
here so let's use blur once again ok
let's save it and try it out again here
so putting in the text taking away the
focus you can see the update mode blur
is working it's now set on form group
level for all the reactive form example
here so this one at Sebastian from
coding the smart way comm thanks very
much for watching my video I hope you
enjoyed it and if you do like my videos
please don't forget to subscribe to my
channel on YouTube and don't forget to
visit my website at coding the smart way
comm can I hope very much to see you in
one of my next videos stay tuned bye
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>