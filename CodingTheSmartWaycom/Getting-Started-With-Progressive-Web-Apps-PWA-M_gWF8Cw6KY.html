<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting Started With Progressive Web Apps (PWA) | Coder Coacher - Coaching Coders</title><meta content="Getting Started With Progressive Web Apps (PWA) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CodingTheSmartWaycom/">CodingTheSmartWay.com</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting Started With Progressive Web Apps (PWA)</b></h2><h5 class="post__date">2017-08-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/M_gWF8Cw6KY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys this is Boston again from coding
this Matt Wacom and today in this new
video tutorial I'd like to talk about
progressive web applications some pwace
and pwace again more and more popularity
at the moment and it's very likely that
you already have been using a PWA
without noticing for example if you take
Twitter comm this is the there's a
website which is already using
progressive web application our
functionality and in this tutorial I
will explain what are the main building
blocks of a progressive web application
and then we will explore how we can take
an existing website and edit those
building blocks to the project and
enhance that website was features of a
progressive web application so first of
all we need a website and to make it
very easy we will just use a template
which is available here at start of
bootstrap calm and start bootstrap calm
offers you a free bootstrap based on
website themes and templates and it's
pretty much okay because we only need a
website where we can apply progressive
web app functionality to and to get that
website we will use here a template
which is called freelancer and this
template is Weibull at start bootstrap
comm slash template - over views -
freelancer of course you are free to use
any other template any other website
this is just an example that we have
something where we can start was and
adding the features we would like to
talk about so to get started here with
the template just hit a download button
here
and it's downloading a zip file here and
now we can extract it to a folder of
your choice and then start working with
project so Kay have already extracted
that zip file and here in that folder a
waa - test - the one and we can take a
look inside you can see all here are the
files of the project and that is there
is our starting point here and I'd like
to run a development web server here so
that the website is hosted here on my
machine and I'm using a live server
which is a web Latin NPM package so if
you have not used last server before you
can install it by executing 10 p.m.
install - G live - server this command
is installing live server globally on
your system
I have already installed live server and
that's the reason why the command live
server is a Weibull and if I execute
live server here within my project
directory hitting return here you can
see it's starting up a web server on my
machine port 8080 and the web site is
running here and you can see that still
the freelancer template it's just one
one site here I have a navigation menu
here I can click on the items and go
here to the different sections on that
page ok so the first building block
which I'd like to add to my application
for progressive web application gives
the web app manifest file of weapon
manifest is a file which is
written in JSON format and is containing
some information about the application
of the name the answer and so on end
what's also included are the icons of
the application because a progressive
web application is an application which
is intended to look and feel like a
native app or like desktop application
so we need an app icon here so that if
you access the page for example on your
mobile device or your tablet you are
able to add to the application to your
home screen
and so that the icon for the application
is on your home screen and that you can
later on click on that item to go back
to the page again so we need as one part
of creating the web app manifest file we
need to add the items to the JSON
structure but first of all of course we
need the icons itself and we will meet
the icons in different sizes so that we
can provide the right sizes for any
platform the user is using and their
entity I can here for our sample
application we can use the file you can
see it here I've already opened up the
project structure here in my favorite
code editor which is atom inside the IMG
folder there is a file which is called
profile dot PNG and that is the arm the
image which is displayed here right on
the start page at the very top and we
will use that image and establish that
image as the app icon and to do that we
need to add it to the web app manifest
file we are going to create and of
course we need to disarm convert that
PNG file to different
and to do that we are using a web-based
service next so the service I'd like to
use is a Weibull at five icon -
generator dark
let's website here you can see it's
presenting a simple form which we need
to fill out first we need to select the
image here and we are selecting the
profile PNG image from our project here
then the first setting we can leave it
the option general items for web Android
Microsoft and iOS apps we would like to
maintain the image dimensions and I'd
like to deactivate the option include
your fav icon dot ICO in the public
general gallery that's not needed and
with that settings here I can then click
on the button create five icon and you
can see it directly takes me to the
result page where it can find a download
link here which contains some zip or
which is pointing to it zip file which
contains my my icons in the various
sizes I do need and what's also included
here in the download section is that
code excerpt here with some HTML
elements which I need to include in my
index dot HTML but first of all let's
download the zip file here ok like so so
now I have downloaded this zip file here
into my IMG folder of my project that's
the file and now I double-click on that
file to
extracted this one can be removed here
and the extracted folder here I'm
renaming that folder to let's say icons
okay like so I can see it here in my
project structure as well and here can
see it's now showing all the PNG files
which have been generated by faff icon
generator to dark and if I click on the
files you can see the different sizes
which are now available here so the next
thing we need to do is to include the
HTML text here from the result page in
our application so let's select that
HTML code here on the website copy it
and then I'm going to index the HTML
okay here we are
and within the head section I'm
including all those elements ok like so
and now you can see we are having link
elements here for our icons and we are
having a link element here for which is
of rel manifest and which is pointing to
a file which is called manifest dot JSON
and that file is a Weibull here and here
you can see that's already a web app
manifest file you can see here that are
adjacent content but so far it's
containing only the name property which
is set to tab and it's containing the
icons property which are set to an array
containing objects and each object
describing one of the icons we have
generated ok in on in the next step we
will further adapt that money
not J's and five-year we will use this
file as our web app manifest file but
beside having the icons included here we
do need some more properties here
describing our application in a total
and that is what we're going to edit the
next step before doing so we need to
adapt the path to our icons a little bit
a little bit first of all we're doing
the adaption here in index dot HTML you
can see it's always pointing to the PNG
file directly but we have decided to put
all that stuff into IMG into the IMG
icons folder so I need to adapt it here
and say I am G slash icons like so and
that is needed here for all the path
strings I have included here in my index
dot HTML file playing like so you can
see it so it's running and the next
thing we need to do - we need to adapt
the path strings here in the
manifest.json file as well I simply need
to remove the leading slash here to make
that pass relative because all those
files are in the same location and the
same folder like the manifest file
itself ok like so so next let's X down
to manifest the dot adjacent have a
little bit first we are going to change
the name here to my PW a test F
and then I'm adding a few more
properties first of all I'm adding a
property which is called short
underscore name and I'm assigning the
string pw8 test here then I'm adding a
property which is called length which
specifies the language of the
application in this case it's er - us
okay then I need to include a property
start underscore URL let's just a slash
it because we would like to set the
start is a root of URL of our
application as a star to RL next I'm
going to specify a background color with
background underscore color and I'm
assigning a string here with a
hexadecimal value which is 2 C 3 e 500k
next scene color which is 1/8 BC 9c I
think and next I'm setting a display
mode which is standalone okay end of
course the icons array here so that
everything we need to set up a basic
manifest.json file which
is delivering all the information we
need okay so we can do a quick check to
see if our manifest.json file is
interpreted correctly and does not
contain any errors here on the web site
in Chrome I can open up the chrome
development tools okay and here on the
let's close it here on the application
tab you can see you do have the menu
item manifest and clicking on manifest
gives you the following view here on the
right side you can see the location of
our manifest.json file here then you can
see the information we have entered name
short name start URL the colors the
display mode and so on so everything is
interpreted correctly and is available
here to our application if I scroll a
little bit down you can see on our icon
definitions included into JSON file and
it's displaying the icons in the
different sizes as you can see here so
the path information is correct all
icons are available and so if you know
if you now would put map with this
application at your mobile device it
would read in the manifest and then
request if you would like to add that
progressive web application as an icon
to you home screen so after having a
completed our web app manifest file we
need to add the second main building
block of a progressive web application
and that is a serviceworker so what is a
serviceworker a serviceworker is a
JavaScript file basically which is added
to the project and registered in the
browser
all the serviceworker is clipped
unable to run in the background and
perform certain tasks so you do not need
to have the webpage open in the browser
once it has been requested and it has
been open in the browser the Service
Worker is installed and then it's
running even if you close a web page and
go to wizard other pages or even if you
close the browser and so what are the
typical tasks a service worker can
perform so you can use a service worker
for different tasks one task would be
you can recognize the network state and
display a special page if no network
connection is available or for example
you can add application pages or
application data to you the browser
cache when you are online and then when
the service worker detects it no network
connection is there you can implement
the service worker to them fulfill the
request from the cache so that the user
sees an offline version of the page but
no error page he sees actually the page
record is has been stored in the cache
before and now is available and can be
delivered from the browser cache which
is great another use case would be you
can display push notifications to the
user even if in cases when the user is
not wizarding the website right now and
delivering push notifications for
example is it's very good tool because
it brings the attention of users back to
your website you can inform about
special events about new articles new
blog posts on your website and bring up
notifications and then the user can
click on the notification and it takes
takes the user back to your website
so you can see this worker is a concept
which is very powerful and in the
following we will see how to add a
service worker to our web application
here for the purpose to install a
caching mechanism so that files are
stored into the cache and then we will
see we can close a network connection so
that no connection to the server is
there and see how our application is
delivered in an offline version from the
cache so let's get started so there are
different ways of adding a service
worker to our application of course you
can start implementing the service
worker from scratch to make it a little
bit simpler we will use again a
generator which is available here it PW
a builder comm that's at the website and
you can see if I could here on the
second step of the generator both
service worker it takes me to the
following website here which says select
the service worker functionality for you
apt and I can now choose between
different types of service worker
functionality
it starts with offline page then we have
the offline copy of pages offline copy
which back up offline page and so on so
all those service workers have a
different functionality a different
caching strategy may be included and for
example the first one here is at the
easiest on offline page this sounds
worker is simply checking the network
connection and if there is no network
connection it serves a special offline
dot HTML page as you can see here which
needs to be added of course to your
application but the type of service work
I'd like to add to our application
the offline copy of Patriot Service
Worker it stores a copy of each page
into the browser cache at the moment the
visitor is viewing that page and this
allows as you can read here wizard to to
load any previously viewed page while
they are offline because those pages are
available in our browser cache and so
the cache is able to fulfill the request
is there is no network connection so
let's select that one and then you can
see the generator is giving me the
source code I do need and there are a
two part of source code I needed to add
to my website first of all I need to
copy here the code for web site into a
script element in index.html that is the
code which is needed to register is a
serviceworker for my application in the
browser so it checks if there is already
negative service work of former website
if no it registered that serviceworker
and the next in the next quote code
sector the next source code section here
is giving me the task code which is
needed to implement the serviceworker
itself and that source code will be
inserted into a file which is called
you can see it here because that is a
file which is used for registering the
serviceworker which is called PWA
builder - SW dot j s so we need to
create that file insert that source code
here and add the code which is needed
for registration into our index.html so
let's start with the first part so here
was an index.html let's scroll down and
in
another word a script section right here
okay so let's include a command as well
so that is a part where we are doing the
service worker registration okay and we
have a script element here we're setting
the time to text slash yeah script okay
and then I'm copying the script code
here from the first section code for
website so copy it here and paste it
here okay
so like so so let's quickly go through
the code you can see it here it uses a
navigator service worker dot controller
object check if this controller is
existing if this is the case it print
out an error message because that is the
indicator which shows that an active
service worker is found for our website
so we do not need to register another
worker here is that's not the case it
uses the navigator dot service worker
dot registration method to pass at the
first string parameter of your path over
the file name which contains the year
implementation of the server worker and
then in the second parameter passing
over and configuration object which in
our case only contains the property
scope which is set to route so to the
root folder so this simply counts the
service workers that it should control
the entire application and if presid
registration has been completed
successfully it prints a message here to
the console the same service worker has
been registered for scope and then
printing out this Cobra which has been
set here so if I now check in my running
application here in the browser the
Ponzo you can see on getting back arrows
and that's quite clear because the file
which has been passed overview to the
registry method PW a builder - tells W
dot KS is not existing yet so on it
gives me an error here so our next task
is to create that file within my project
so let's say new file and then the name
is PW a
builder - swas okay here we are and now
I can go back to PW a builder calm and
then take a copy the code from the
section serviceworker code and in third
that piece of code here into my new file
okay let's save it okay so it's again
quickly go through the code basically
there are two sections in this code it's
adding two event listeners first it's
adding the install event listener and
second it's adding here below the fetch
event listener and what the service
worker is doing is that it responds to
the install event by executing this
function here in the install event is
called once the the index page is viewed
for the first time and if that is the
case you can see it's creating its
opening up a new browser cache here and
then inserting by calling cached output
and asserting that index dot HTML file
to the cache so after having executed
this function the cache is created at
the first page is inverted and then as a
service worker is responding to the
fetch event and the fetch event is
called whenever the user tries to access
a new resource for no application and
the patch on event method or function is
basically doing two things so first it
defines an inner function here update
cache and it's attaching the update
cache
a function call here was wait until to
the event queue and as the name of this
function already of suggest it updates
the cache with the assets which have
been requested here still every time the
user is sending a request for maybe
index.html or another outside here to
the server update cache makes sure that
the browser application cache is updated
with the resources next you you can see
here is with responds with attaching
another thing to the queue here the
service worker is making use of fetch
catch to respond to an error situation
so maybe if the network connection is
not there if the server is not reachable
the function which is passed into the
catch a call here is activated and then
what the service worker is doing here
basically is to see if the requested
resources are already within the
application cache so it opens up the
cache with the open method and then here
was cache dot match checks if the
resource is available from the cache and
if that is the case the reason the
response is generated with the s from
the cache if not an error page is
displayed and so that's basically how
the offline functionality is implemented
so now we can make sure that our service
worker is working at the browser is
expected and again the chrome developer
tools are helping us with that task and
in again we are here in the manifest
view and you can see here's an item
right below this is called serviceworker
here from the left-side menu and you can
select it and now you can see that the
service worker here already is addictive
and running and you can see that the PWA
builder - SW dot gif file has been
registered as our service worker here
for our web application you can register
the souls over here if you like and you
can see here down in the cache section
within cache start that the
corresponding cache storage for our
offline content has already been created
and if I click on it you can see the
first page with was added here it's
index dot HTML and if I now perform
another request here for the side and
maybe select something here from the
menu ok you can see that the content
here in the cache is updated with all
the assets which have been which have
been part of a request and now I'm able
to demonstrate well that my application
is executed in offline mode so without
any network connection and this is very
simple to do so we just need to click
here on the service workers of section
again and then set the check box here at
the option offline
okay now the assets simulated that no
network connection is Erica request the
page once again and now you can see it's
loaded again and here from the console
you can see
that the network connection of course is
not there soon
internet disconnected yes the arrow
which is given here and then our service
worker is taking over the task and it's
saying servant content from cache and
that is the message we are getting
because we are working an offline mode
so okay we can switch back of course
into online mode and now you can see if
I request it again now everything is
loaded from the server in no internet
connection error and all the assets all
the pages all the images are are added
again the new version is added to the
cache so that is everything up to date
with the latest website content so if
you start developing progressive web
apps is always kept - to have the
opportunity to make a quick check and
see if your application complies to all
the progressive web app standards and
rules and there is a tool from Google
which makes it extremely easy and I'd
like to show you White House and
lighthouse can be found here at
developers.google.com/plus web search
towards fresh lighthouse and lighthouse
is generating a report which gives you
kpi's as indications of how good your
progressive web app complies to rules
and it generates a report with with
action items that gives you the
possibility to directly deal with the
problems in your progressive web app and
to solve those problems to get a higher
rating and that house can be installed
here as
a Chrome and on I've already installed
it you can see it here that the
lighthouse icon here and if I would like
to check now our application here I
simply need to activate that tap here
the application is already Weibull here
and now I can click on that lighthouse
button and advanced a general report and
now it takes a few seconds
the lighthouse is checking the website
checking all the PWA routes and then
generating a report
so here we are as you can see that as a
result here you can see the KPI is
giving you information about the
progressive web app itself so we have a
rating of 82 which is which is good
performance it's not so good of course
we are running a server here on on
localhost accessibility is quite good
and best practices although with a
rating of 92% quite good and we have
here from the audit advanced we failed
audit so we can now work on for example
it says that we need to serve our PWA
with HTTPS of course if we are working
in a productive environment it says that
we need although an icon in the size of
512 pixels and it gives me all the
information that I have to remove here
is a property a shrink to fit which is
set to know from the meta viewport
element okay so this was passing again
from coding the smart way I hope that
you enjoyed my video if you do like my
tutorials please subscribe to my channel
on youtube please also don't forget to
visit my blog at coding the smart way
comm and I hope very much to see you in
the next video thanks and bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>