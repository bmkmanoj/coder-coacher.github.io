<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Firebase Authentication | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Firebase Authentication - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CodingTheSmartWaycom/">CodingTheSmartWay.com</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Firebase Authentication</b></h2><h5 class="post__date">2017-02-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tNCA1RdHrsM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is sebastian from coatings of
mat Wacom and today in this video
tutorial I'd like to show you how to use
the firebase authentication service in
your angular 2 application and I will
show you how to integrate that firebase
service by going through a practical
application we will build it step by
step you will learn how to configure the
firebase backend and then to make use of
the service in you angular 2 application
by using the angular fire active library
ok let's first take a look at the sample
application we are going to build in
this tutorial and you can see it here
it's a very simple application it only
consists of two pages and the first page
the user sees when I'm opening up the
application is the login page so you can
see it here if I try to access the home
page of the application I am directly
taken to the login page here because the
initial status that I'm not
authenticated to see the content of the
application I'm locked out you can see
here my current authentication status is
printed out here in the top top status
bar and now from the login page I am
able to use that button here log in with
Google and another problem window opens
showing me the Google login form and now
I can use my gmail account to sign in
here
and you can see it's working an even
two-step verification is working so now
I need to enter my code which I am
receiving on my phone that takes a
moment okay here it is now I can enter
the code so that authentication can be
executed here and now you can see I'm
logged in with my Google account here
it's saying logged in here is the new
here's my name my Google mail email
address and now I'm no longer a a seeing
the log in page I'm redirected to the
home page because now I'm authenticated
and now I can see the content here and
from the home page of the application I
can click on the button log out again so
that I've locked out and it takes me
back to the login page ok now let's
start with the implementation part and
the first thing we need to do is to make
sure that the development environment is
prepared and our application will be
built by using the angular 2 framework
and we would like to start and initiate
a new angular 2 project by using the
angular command line interface and if
you have not installed the angular CLI
on your system you first need to do so
and you can find the information here on
the angular CLI projects website is the
Weibull here at CLI dot angular dot IO
and if you have not done so before you
can install angular CLI by using NPM
just saying on the command line
NPM install - g4 installing it globally
on your system and then the package name
has changed recently now it's no longer
angular - CLI as it is stated here it's
now at sign angular
Feli so if you want to install it let's
see it here on the console you need to
say npm install - g at angular /c line
so i have already installed a new sui on
my system so it can make use of it right
right now without needing to install it
first and the first thing we want to to
accomplish here is to initiate a new
angular 2 project which we will be using
for bringing in and implementing the
functionality of our sample application
and the way in which angular COI helps
us here is in the following the command
is ng and then we need to pass the
parameter new for creating a new project
and the name of the project I would like
to use is mg FB for firebase because we
would like to use the firebase
authentication service in our
application and then off so let's hit
return and then you can see the default
in the T project setup is downloaded and
after having downloaded over here files
for the project is installing the
dependencies by using node package
manager this takes a second to finish ok
here we are you can see installation of
dependencies has been finished
successfully and the project ng FBOs
has also been plated successfully so
that this simply means that we now have
a directory we can change into with the
same name as some the project name and
GFB off ok here we are
and now I can execute the ng self
command to start up the project and just
to prove that everything is running and
configured correctly you can see it here
it's starting the development server
which is running on power
for 4,200 so let's open the browser and
see what we get
okay it says app works and that is just
giving out the proof that the innovative
project has been initiated successfully
and everything is running as expected
now the next step is we can take a look
at the project structure which is a
Weibull here in the project directory
okay here I have opened up our project
in atom which is my code editor and you
can see that the project structure here
and the main part of the implementation
goes into the soul folder here and you
can see the soul folder contains
index.html which is of course the
starting point you can see it here and
in the ex folder that the place where
all the angular 2 code can be found you
can see here is the app module
implementation and then we have one
component prepared this app component
and all those things can be found here
in toss app so the first the first thing
we would like to do here in the project
is to include the bootstrap framework
because we would like to use bootstrap
CSS classes for styling our user
interface and the easiest way to do so
is to include bootstrap from a content
delivery network and to do so just open
a file index dot HTML here and in index
dot HTML we can include on the
corresponding link and script text which
are needed and to retrieve on the code
let's change the chrome and I've already
opened up the bootstrap side
it's a waiver at get bootstrap calm and
here from the start page you can use on
the button download bootstrap to go to
the download page but we will not be
used one of the download links here
instead we are using the bootstrap CDN
section and the first thing we need to
include is the bootstrap dot min dot CSS
file with the code which is a Weibull
here so let's copy it and paste it here
in the head section okay and then we go
back once again and now we need the
bootstrap min dot J's file as well and
that's the script tag here so let's copy
that and insert it here at the in the
body section okay and bootstrap is
depending on jQuery so the last thing we
need to add here is jQuery and you can
find it here at coach jQuery calm and
here are the links to to CDN and we will
use the latest version here in a mini
file in version ok so here is the script
tag again so let's copy it go back to
Adam and include that script tag here ok
we want to have it in one line so let's
do it
in this way ok ok now boot scrap is
included and can be used in our template
code later on next thing is to consider
firebase so that later on we can make
use of the firebase authentication
service for bringing in authentication
functionality to our angular 2
application and to do so you need to go
to the firebase website which is
available here at firebase Google calm
and here you can see the website you can
get started for free so create an
account you can use your existing Google
account to do so and sign up for
firebase and if you have created an
account you can just go to the firebase
back end which is called of the firebase
console and by following the link here
and that'll open up my console and on
the first page as you can see here you
get an overview of all the a firebase
projects you have already created so you
need to create a new firebase project
here in the backend for each of your
applications you want to connect to
firebase and make use of one of the
firebase services so we want to make use
of the firebase authentication service
so we need to have firebase project
configured here in the backend and if
you have just created your account of
course your list of project is empty
here and you can use that link here
create new project you just initiate a
new project and then you will see this
dialog here and you can assign a name to
the project and then select a country or
a region where you want your project to
be hosted but I have already prepared
here the ng FBOs project so I can click
on it and it's already created here in
the backend and here you can see that
the overview page of that specific
firebase project and now you need to go
to the authentication link here from the
left side menu structure and if I click
on it you can see okay here I can see on
the tab sign-in methods I can see which
son-in providers are supported by the
firebase authentication service so for
example supporting a simple email
password authentication we can use
Google Facebook Twitter github and so on
so that the user can sign in into our
application by
using one of the accounts of those
platforms here and in our example as
already shown we want to make use of
Google as our sign-in provider so it's
needed to go here into into that
provider and set it here to enable
because there by default all of the
sannin providers here are disabled so
you need to go into that tap your engine
select this sign in provided you want to
make use of is that specific project so
make sure to put it here and enable and
then say save and then we are ready to
go so it will be able to use firebase
services like the authentication service
in our angular 2 application we have the
option of using it directly by using the
core of fire basic JavaScript library or
to make things a little bit easier and
use another library which is called
angular fire - and that is what we
wanted to do in our sample application
so you can find it here at angular fire
to calm and here to find a brief
introduction to the library however
first we need to make sure that this
library is installed and adapted to the
dependencies of our project and the
easiest way to do so is to go back to
our terminal window here and then use
NPM again to install it here to the
project folder so we need to say NPM
install firebase at the cola library
that's of course needed anyway and then
we install angular fire - and we also
say - - save this make sure that both
firebase and angular fire - are safe in
our package JSON file as dependencies so
hit return
both libraries are downloaded and editor
to the note underscore modules folder
within our project so that we can
include both libraries in our
application so now that those libraries
are installed we can go back to Adam and
now we need to include the angularfire
library in our application and the place
where we do that is in app dot module
dot TS first of all we need to deal at
the corresponding import statement here
on top so let's say import angular fire
module so it comes bundled as a module
from the angular fire cave library okay
like so and now we can include it here
in the import array but we are not able
to use directly paths in angular fire
module here instead we need to call a
factory method which is called
initialize app and that method is
expecting to get a configuration object
here which contains properties which are
specific to you our firebase project
which we earlier created in the firebase
console so we need to pass it in here
and we call it firebase config okay and
now we need of course to define that
firebase config object and we do it here
on top and we do it
the following way we are saying export
const firebase conflict okay like so and
now we need to bring in various
properties we need to specify the API
key the Astor main and the database URL
the storage bucket and the messaging
sender ID so a lot of stuff which needs
to go into the table checked and to make
it a little bit easier we can quickly
look it up in the firebase console so
here I'm back in our NGS be our project
on the overview page and here is a link
at firebase to your web app so you can
click on that link and then you can see
here you find the code which already
contains a pre-sold configuration object
and so you can see here are the
properties I just mentioned and the
corresponding values are already
assigned so we can take that piece of
code here copy it go back to Adam and
pass it in here so that we have included
all the properties which are needed and
that is the configuration we need to
then later on be able to use angularfire
in our project so in order to use
firebase authentication service within
our application it's a good idea to
create an angular 2 service class for
that purpose which encapsulate some of
the code which is needed to deal with
the fire service so let's switch back to
our terminal
and yet let's use on the Inc lossy line
again to generate a service class and
that is done by using the command in the
following way ng
generate service and then we need to
specify the name of the service and we
want the service to be in the providers
folder and the service should be on
service TS ok so now you can see T files
are added to our project structure on
the first file as ours dot
service starts back dot TS that will
test specification style but as we do
not want to focus on creating test cases
for our application in this tutorial we
can just ignore that file and the main
service implementation will be in austat
service dot TS both files are generated
and are now available here in our
project structure in the app folder here
you can see a new subfolder providers
and you will find both files inside ok
so let's open our service PS and let's
see what's inside so you can see nothing
else specially adjusted plane class
which gets attached on the decorator
injectable which is imported here from
the angular core library and now we can
bring in our code which is needed to
access them the firebase authentication
service by using angular fire and to do
so we first need to add another import
statement here on top and we need to
import a few things from the angular
fire to library that's angular fire
itself then we need to import
off providers and our masters okay and
we import all three things from angular
fire to
okay so now we can inject here into the
constructor we can inject the
angularfire object type okay and by
using the papal keyword here we are
creating at the same time the class
member RF which we can later use to
access the English higher instance
within our class so that so all what's
needed here in the constructor and now
we can implement the service methods and
basically we do need two methods we new
need a login method and logout method
and they look in method is called log in
with Google because we would like to use
Google at the authentication provider
here and we need log out okay so let's
first implement the login method and we
are returning this dot RF let's our
angular fire instance and then we are
accessing the auth object of the English
fire object and calling the login method
here and we need to pass in an object
which consists of two properties we need
to specify the type of authentication
provider we want we would like to use
and that's in our case of providers dot
Google because we would like to sign in
with Google and we need to specify the
method we would Li use for signing up
and let's often Messrs dot pop-up
because we would like to display the
form to enter the Google credentials in
a pop-up window so we need to say pull
up here and then we get a separate
pop-up window to enter the credential
information
okay so next lockout it's very easy we
need to do the same this our have pause
and then call the lock out method to
lock out with using the firebase
authentication service okay so that's
our service off service at the service
card we will later on use and the
advantage of course is we do not need to
deal with accessing the firebase
authentication service directly in our
components we can inject the auth
service into our components and then
access the login and logout
functionality by using both service
methods here so to make our angular 2
application aware of this new service
class we need to do on one more thing
we need to add this service to F dot
module so let's switch here to F dot
module dot TS and the first thing of
course we'll need to import our service
class and we did here import of service
that's the name of our class and we are
importing it from providers or dot
service ok so now we need to edit here
to the providers array which is at the
moment empty so just edit here and by
adding it here to the providers array we
make sure that off service can be
injected in all of the components which
belong to AB module at the moment you
can see it's only AB component which is
some here in the declarations array list
but in a moment we will be adding new
components to our application and those
components will be added to F dot module
dotted TS here as well they will be
added here in the declarations array and
then we can use all service in that
components by injecting all service to
the components constructor and then the
injector which is configured with with a
better list of providers here knows
about our service and create can create
an instance which is then used for in
section and that's how the angular 2
dependency injection system is working
ok so next let's switch back to the
terminal and add another component to
our application and that component is
the other log in page component so that
we can implement on the log in page I've
showed in the beginning and we do that
by using angular per month I'm interface
again
so the command is ng and followed by
generate and this time I would like to
convert a component so I say component
here and then specify the name of that
component and this should be login page
ok so execute it and now you can see 4
files are added here in a new folder the
folder is within apps it's called log in
- page and you can see we have a cc CSS
file an HTML file again a spec file for
our specifying test cases we will not
use in this tutorial
and of course the typescript file where
the implementation of that of that
component class
we'll be inserted okay okay so first
let's implement the login page
components template first so we open up
login page dot component dot HTML this
is the file where the template code code
will be inserted and we'll begin with an
empty empty file so what we need here is
a dis element and we are using a
bootstrap class of container for the
top-level div element and then let's
include another big element okay and
although we do not need that
it's just sufficient to use the h1 here
and then let's let's include a headline
for that page and it should be login to
your account
okay and of course button ok and the
button should have the class button and
button
- default and at the click event
connected to the login method we will be
implementing login later on in in the
typescript I'll and let's use the
following text for the button login with
Google
ok so this is the template we need
nothing special in here just the button
connected to the login event handler
method we will implement it the next
step
ok so let's switch over to the tax code
file
and here you can see this is a default
code for every new component which is
generated by using English II and CLI
and now we need to add various things
here first of all we need another import
statement or let's say to import
statements the first import statement we
need is the router service which is
imported from at angular slash router
play and the second import statement we
need to include here is the import of
our authentication service so that all
service ok and that of course imported
from providers playing like so
all total service ok and now here in the
login page component class we can inject
those the off service and the router
here in the constructor so that we can
use both services and we will do it like
the following pathway to our service our
service and to the second injection as
private router of type router
okay now we can implement the login
method which we connect to the click
event of the log in button on the page
and this is here so login no parameters
and if login X is executed we want you
to call our service method in the earth
service which is called log in with
Google so we can say this off service
don't log in with
Google and as this method is returning a
promise we can connect with them and
define a new function here which is
executed when the promise gets resolved
so the login is avaible and if that's
the case we can use our router service
to navigate the user we even router dot
navigate to navigate the user to the
default route which is just an empty
string here so then the user is taken to
the home page which will be implemented
in the next steps okay so that's all
what's needed here in login page
component and now we can continue with
grading our second new component at home
page component ok back to the console
and now I can use the command again ng
generate component and this time the
component is called home page ok ok now
you can see again a set of files arm has
been created a new folder home - - page
arm is added to our project so you can
see it here it's available and again we
can start implementation of home page
component in the HTML file and the first
thing what we will do is to include the
template code which is needed to
generate the output of the component ok
the default content here can be removed
first and then we are starting with this
element again and we are signed a class
of container here ok and within the
container we will use another another
div element and this time you
class of Jumbotron play within that on
this element we will use an H one saying
welcome and use another arm another
paragraph section here and in this
paragraph we are saying you should only
the read page when you're logged in okay
and another paragraph which includes a
button okay and the button should have a
class of button and button default again
and we are connecting the click event to
the event handler method locked out so
we need to implement logout in the home
page component class the next step but
first let's let's say you log out here
so that the button term has the text log
out and now the template is is ready and
we can switch over to home page that
component dot T s to implement on the
home page component class what needs to
be added here is first import statement
for a router again okay from an angular
slash router and an import statement for
our of service again
so it's providers /on service okay and
then we are able to inject those
services here in the constructor so the
same the same approach like we implement
in the login page component class okay
okay and now we can implement the log
out method which is executed when the
user clicks on the without button and
now we need to do two things we need to
use our service method logout to to log
out and then we take the user back to
the login page
okay so login that's the root which
should be on made with a bow okay okay
now we have used the router service
already to navigate to routes and our
application but we have not configured
on our application or out yet and so we
need to do it on now and basically we
are dealing with to around an hour
application with the default route which
should be connected to to our home page
component and with login route which
should be connected to login page
component okay here in app dot module
dot TS I can include the router
configuration and first of all a need T
at an import statement here again and I
need to import these things in the
router module
module and route routes okay
and the both is imported from the
angular slash router package okay now
first we need a router configuration
object and this is this is called our
route and is of type routes and we are
assigning an array here and the array is
containing objects which contains a
route configuration so one object for
one route
so let's include two objects here and
each of those objects need to have at
least two properties the first property
of the path and here for the first route
we are assigning just an empty string to
make sure that they're on this size the
default path of our application and we
would like to connect from a component
so we need to bring in the property
component here and we are assigning the
value home page component and for the
second route configuration we again
using a pass this time login and we are
connecting component login page
component okay so now with it routes
array label we can set our router
configuration to active by attaching
here or adding here in the import array
one more element and that is the router
module and again we need to use a
factory method and
for route and path in our router
configuration so route is all array and
then we get back the router module
instance which is configured for our
route setup here and this is all what's
needed to set the routing here in our
application to to work so now that the
router is configured for our application
we need to define the exact place in the
output where the content of a router
component for example home page
component or login page component should
be should be inverted and the way we are
doing this is open app go to component
HTML first let's remove the default
content here again and let's include
another div section here again we are
using the class of container and then
there's one special element and that's
called router outlet we need to bring in
here so that within our main application
component tab component the router knows
where to enter the content which is
generated by the template of our router
components so let's check out if both
routes are working so here you can see
I've I open up the application again on
local host port 4200 you can see our it
is showing the content of the home page
and if I type in login it takes me to
you our second route and shows the
content of login page component
okay if I go back you can see it's
working even if I have not been locked
in first and that is up wildly not at
the application behavior we want to have
instead we want to have a check included
that only allows me to enter that route
if I am logged in and I also want to
display the authentication status here
on top so we need to make a few more
addictions to application to you to
bring in that check and display the
authentication that is information here
on top okay so back in the code editor
let's open app component PS and first
let's add the import statement here for
first we need access to the router
service again and we need to import it
here from angular slash router package
and second we need to once again import
off service here our service class okay
so now we can include a constructor here
and component and inject both services
so it's a constructor and inject first
our service and second router table
router okay and within that constructor
we can now check for changes to you the
authentication statures and we do that
by checking
in this all service and then we have
access to the angularfire instance here
because it was public in the on service
class implementation and we do have
access to the auth object and we can
subscribe to it here because all it's
just just an observable so we can
subscribe to that servable and that's
the way we can attach a mesh method here
which is invoked if a new value is
emitted ok like so and let's say we want
to check if the authentication is
corresponding to a locked-in state and
we do that by setting if all equals now
that is an that is a state where we are
not also indicated because the on object
is not containing any information and is
not set and in the else section here
that's where we are logged in so let's
bring it in as a comment here not locked
in and that's the case locked in ok so
let's remove the title information here
we do not need to that any longer and
instead define another or declare
another class member here which shipped
as the name is locked in - of type a
boolean so that we have a flag here
where we can store the information of
the authentication status and now if we
are indicate where we are not not logged
in we are setting this information so
this is what in to false
and on the other case we are setting
this dot is logged in to true of course
and now with the router service label we
can do the following here so if we are
in not logged in authentication stage
the wheels cause want the user to be
taken to the login route and we do that
by saying this router navigate then we
need to pass in a a radio containing the
route and that's login so that the user
cannot stay on the home page if so and
in the second case here when we are
logged in we want an automatic redirect
to the default route of the application
so we are saying this router don't
navigate ok like so navigate to default
route which is connected to the home
page component ok so because we do not
only want to display the information if
user is logged in or not but we also
want to display the name of the user and
the connected email address of that
account let's define two more drop
numbers here first of all looked great
now first of all let's create a class
member which is called user underscore
display name type string and to the
second member let's name it user email
although of type string and now we can
set it here when we are logged in we can
set it to
following for the display name it's
available in the authentication object
and then it has a property called Google
and within the Google object we have a
property called display name is play
name like so and the second one is user
email and this is a Weibull on
google.com a ok we also should not
forget to reset those properties if we
are not logged in just in empty string
okay and email as well okay okay
finally let's switch back to the
template code of app component and now
we can include some more code here to
display the login information
let's first include an ass bar here also
within our container we already defined
let's use enough element here and give
it a class of last bar and Nast bar be
forward and not bar - fixed - top okay
within the nav bar section always use
another this element of and design again
a class here at this time we use the
class enough bar hell and then another
dis section here
okay and what is the header words
include
a link element to to the coding hull of
SmartWay website okay
coding mod way and let's assign the
class of nesebar plant play like so
that's the header and then in this this
section here we would like to include
the output which should be displayed to
the user if we have locked in
authentication status and we do that by
using the ng-if directive here and check
if we are logged in and this can be done
by using the is locked in class member
so if this is set to true this section
is included in the output and now what
we want to display is a paragraph
element here and let's assign some
classes here for the nut bar there
should text and then now we should get
text and then enough power - right to
pull it to the right and then display
logged in and we would like to print out
the display name here and we would like
to print out on the user email address
as well okay okay let's include another
dissection here and this this section
should be attached to the HTML output if
we are not logged in and I'm again using
the energy of directive and this time
except the other side so if is locked in
as false I'm using the exclamation mark
here to turn it to true then we are
including that output of that this
section in our page and there's this
time the output is again a paragraph
here the classes are the same we have
enough bar text and enough bar right and
then we are outputting the text we
locked out okay so let's check the final
result of the browser again you can see
I'm here already on the login page but
if I now try to access the default URL
of the application like so you can see I
am not logged in and that's the reason
why I'm automatically taken to the login
page so I cannot see any content from
from the home page and if I now use here
the button log in with Google and I'm
signed into Google you can see the state
changes now I'm logged in you can see
here my name and the connected email
address and now I'm staying here on the
login page so if I then try to log out
here by using that button you can see
status changes again and I'm redirected
to the login page again this one's about
sense encoding the smart wacom if you do
like this video don't forget to
subscribe to my channel here on youtube
and if you like more content on the
latest web and mobile development topics
also check out my website at coding the
smart way comm hope to see you in the
next video bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>