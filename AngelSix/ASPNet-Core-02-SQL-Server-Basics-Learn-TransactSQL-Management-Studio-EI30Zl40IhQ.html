<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ASP.Net Core: 02 - SQL Server Basics Learn Transact-SQL Management Studio | Coder Coacher - Coaching Coders</title><meta content="ASP.Net Core: 02 - SQL Server Basics Learn Transact-SQL Management Studio - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/AngelSix/">AngelSix</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ASP.Net Core: 02 - SQL Server Basics Learn Transact-SQL Management Studio</b></h2><h5 class="post__date">2018-01-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EI30Zl40IhQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to install
SQL Server and start looking at the SQL
Server database stuff and then working
away into entity framework so the first
thing we'll do is actually google for
SQL Server developer edition and we will
then go and download and install this so
it's free for developers obviously not
for commercial applications you can get
different versions but for our sakes you
want the developer version so just
search Google and look for you know we
should find the download link fairly
easy that's probably going to be in the
the one down here that I've just spotted
but let's see if this one takes us to it
first let's go back one I asked you out
server downloads that should definitely
be the one there we go so developer
edition just click this middle one and
that will save this downloader run the
download and install and then I'll guide
you through this setup so we can have a
basic one I think the install is a lot
easier now so let's just go with basic
accept the license install to that
location that's fine and usually the
previous installers just before this one
we're a lot more complicated it wasn't
as simple as just clicking an install
button but I think they've you know
massively improved the new installer but
this is the first time I from the latest
install order and a while so we'll we'll
see how this goes that's why I'm doing
it from scratch to you know see the
experience we get so I'll just let this
download and then we'll resume the video
in a minute once this is downloaded it
shouldn't take more than a minute I'd
say that the internet speed I've got
okay so that's downloaded even though
it's just checking the download
we should be installing okay so that was
pretty simple
in fact of it's the simplest install
I've done of SQL Server it looks like
it's just installed in about five
minutes
it's then gives these options here for I
guess the connection string it's already
installed this is telling us the
connection string now so we have a
version localhost and there's a default
database called master I'm guessing it's
Thomas where the logs will go where the
installation media is in case you want
to reuse it so I'm guessing I have a C
Drive SQL media there so that was the
downloaded files I guess if you want to
keep a 1.6 gig which I will delete in a
minute and then the version so this is
also what I was going to install next is
SQL Server management studio which you
need to actually visually interface with
the database so the computer needs a
restart to complete that's fine we'll do
an install of this first so this session
going to just take us to a download link
by the looks of it so now the server's
installed on the machine that's fine you
can close this in order to actually then
see the database you could do it in code
but obviously a much better ways to
visually be able to interface with it so
it's taking us to this link I'll put
this in the video anyway you just want
to download the SQL Server management
17.4 and then this is a slow link so
once this is downloaded we'll run the
Installer
ok that's downloaded let's just install
that I also delete that media that we
downloaded that was the install for the
other and I did click this this should
be spinning up I think it takes a while
wouldn't you double click this exe I
think it does take about 15-20 seconds
off the top of my head it's it's
extracting this 800 mag and then just up
be patient it looks like nothing's
happening but I'm sure that's all
kicking in a minute with the Installer
so we'll just
give it a second and make sure this pops
up okay so this is the installer for the
management studio and this is like the
front end to I take connect two
instances of service in this case we'll
use it to connect to this machine's SQL
Server so there's just a simple install
button and then I guess that's it I'll
just install and we can run it I will
just restart the computer before running
this though because II did mention in
the SQL Server install that the machine
requires a restart so once this is
installed I'll see if we can connect but
then also just quickly we start the
computer to make sure you know
everything's fresh and and ready to go
and then we'll carry on with the you
know interfacing with the database we'll
have a play at making some databases and
connecting to them through code and
everything else okay that's that
installed so we'll close that Installer
don't need that anymore
and still in use of the minute off give
it a second we should be able now to
find SQL management and I love how
inaccurate Windows Start menu is it can
never find what's in the menu so it's
right there so we'll just click this one
should be able to delete that now nope
okay we'll delete it when we restart so
this should spin up the SQL Server
management studio and then we'll get
into this first we have we should be
able to connect now because this is the
name of my machine and Windows
authentication is enabled by default so
it looks like we can actually connect to
the database even though you know it
says we need to restart but we'll
restart then you a now just make sure
it's fresh so let me just pin this now
to the taskbar and then I'll close us
down and just restart this machine and
then we'll carry on from there okay so
that's the computer restart so if we
open up SQL Server management studio
itself this is grainy as well see the
amount people still on the video the
whole UI looks a bit pixelated so all
these little pixels here and the text
looks a bit blurry
let's just fix that first so right click
on the shortcut right click again
properties compatibility override high
DPI scaling and leave it to application
and click OK and that should now allow
the application to scale correctly it's
negative that's all smoothed out and
hopefully the test when we open is all
smooth there we go that's nicer now so
when we've installed SQL Server if we
were to run or type services and open up
services if you're wondering where the
server itself is it's a service in
Windows so if you went to the services
and typed s you get to SQL Server it's
here as the server itself was running
and the name is ms SQL server
that's the instance name because you can
have multiple you know servers on one
machine all these other bits are you
know to help discover it and to do tasks
with it you don't need to be concerned
this is your main task that's running so
we know this is now a server that's
running you've also got a I think in the
Start menu should find it maybe SQL
Server you've got this configuration
tool as well server configuration
manager and this is if you want to
enable things like connecting remotely
and things like that so you make sure
all these were enabled which they are by
default anyway you can then enable TCP
so that you can connect to it remotely
but we won't be doing that in this video
but that's just there to be aware of so
the actual server itself is that service
and then this SQL management studio is
basically like a front end of them
saying you can connect to any database
you don't have to connect to this
machine you can type in a you know a
database name of a database that exists
anywhere in the world and it will
connect so by default when we've
installed it though it's it's on this
machine so therefore you can connect to
it with base to the name of the machine
you should also be able to connect to it
just dot there's a name and it should
point to this machine as well so either
way the name of the computer by default
or just dot to refer to this machine
there's multiple ways to connect and the
reason we've been able to login
automatically like that is because if we
were to right-click and disconnect
and click connect' is because i got
windows authentication which means use
this you know this user on this machine
which is me as the login and once we
logged in you go to security logins you
can see I'm here as a user so if we were
to double-click on this user and go to
let's see server roles you can see I own
sysadmin which means a you know control
over the whole SQL server that's why we
can do anything and that's there by
default so whoever installed the program
has the rights to the server so that's
all good but what we want now is to
enable SQL logins so with you know users
that we add the specific to SQL the not
on this machine and that's what this si
is here as well that's the SQL server
login and that's the super user but
first we need to enable that kind of
login which I'm guessing is enabled by
default so we right-click on the server
click properties
security and then there your SQL Server
and windows authentication mode so we
need to enable the ability to login to
the server with something other than the
windows user accounts so we enable this
and click OK we can now log in with both
of them it's seen we've got to restart
the server though to take effect
so to restart the server if we were to
type in services go to here as we
mentioned the SQL Server and this is the
server so if we were to then restart
this which you can right click and click
restart this one I'll stop the server
and restart the server so that should do
what we need to do then if we go to the
logins and this essay that's been
created is disabled that's what that
little crosses and we have a si user and
we don't know the password because we
haven't set this and I don't know what
it's installed it asks so I'm just going
to create the password here not a super
strong one but ok for now and then if we
went to server roles you can see this
user is also super it's the sad man so
that's what we'll leave it asks this is
meant to be the top level account this
is one you want to keep secure and then
in status we want to enable a login and
if we click OK this user should become
enabled might have to just click here
and press f5 to refresh the list and
that year you can see it's enabled so
now it's enabled if we were to
disconnect from the server and go to
connect have we now change it to SQL
Server and we type in sa as the user and
the password I just made you can see we
can now log in as sa which is shown here
so that's enabled SQL Server logins and
that's important because when we come to
do c-sharp and entity framework and
everything else you don't want to log in
as a Windows user because this is gonna
be an asp.net website you need to log in
you know as a username that you specify
so that's the superuser
but again you don't want to really
connect to super user for applications
because they've got control over
everything not just one thing so we'll
come to that in a minute and we'll
actually make a limited user so let's
just get started with some databases so
here you can see databases these two are
built in these groups that show you know
built in databases we'll just ignore
those and for now we'll create one so we
right click on databases and click new
and then we'll just call it task
database or fact I've got a test cuz we
don't need to call it database and just
click ok that's fine for now and now
we've got a database here test and you
can expand it and you can see tables
which there's nothing so this you know
all the built-in ones are empty views
remove all about for now security is the
users that can access this database if
the specific you know just to this
database otherwise then says admins can
access everything so they don't need to
be in there dbo means database owner so
if we specify a user is a database owner
of this database they can then do
anything they like but this is basically
the database now we've got a database
called test the tables if we right click
and click new table it'll open up a
table designer so let's just make say I
don't really use a table so a love an ID
or type ID
and then we've got types so in here
we'll talk about the types and most of
these we only use a handful of and I
don't see any wheedle you know there's
never really that many occasions where
ever need to do anything else so we'll
start here the first one I'd use out of
this list is B bit and that's for a
boolean encode so true or false is the
way you'd think of that
simply a single bit the next of you
using date times I'd recommend date/time
offset you should always use that now
instead of date time so if you ever
stolen dates in the database use date
time offset you've got decimal and
floats which are for high precision
while ultra high precision which is
decimal and high position floating-point
numbers you know apart from them there's
not integers so you'd use those for like
doubles floats Long's well not long you
know doubles floats decimals going down
the list next integer for whole numbers
so I'd use an int then for text I'd
always use n for car and voucher so a
variable length character and then this
in brackets means the maximum size that
it can be so for the ID in this case I'm
going to actually leave that as 50 so it
can be 50 characters long then we have
reel which is again a high precision
number I believe I rarely use that all
the rest timestamp sometimes use for
concurrency checking unique identifier
we don't actually use I tend to use and
volkov weather gooood for IDs but you
could use unique identifiers if you want
an auto incrementing ID in a database
and that's actually it they're the only
ones I use so you can go and read up on
all the different ones but for now there
is like a super brief overview of what's
what so strings characters general text
and volkov and you set the length to
whatever boolean you want as bits dates
times you want as date time offset
numbers you want to see the float
decimal or integer on some cases real
and that's literally yet there's nothing
else to store enumerators in code or
just integers they store integers so
we'll we'll set the ideas and end of our
car
which is basically a string we don't
want it to be an also uncheck this alarm
no and then we can click the next one to
make another one let's call this
username and again we will have n bar
car using a maximum 50 that can't be not
I'll say first name and again will have
50 characters 1 we don't want not to be
no last name same again so this is a
fairly boring looking database we could
say is enabled and set it as a bit which
is also non inaudible so we know the
user accounts disabled say and what else
could we have we could have created date
UTC at universal time and will do date
time upset and that's also not normal I
think it maybe helps a lust
12 in date as a date time offset and
that can be knowable because they might
not logged in so there's kind of a
really simple database or a table in a
database ctrl s to save and then it'll
ask us to give the table a name so I'll
call this users and then in here we
click tables and press f5 to refresh you
can see we've now got a table called
users and there's the columns we made
one thing we didn't do in this that's
important in databases is every table
should really have a unique primary key
which is every row with you element in
this table should then have some kind of
key that makes it unique so that you can
you know always find that specific key
so that's what this ID column is for but
if we right click up here and click set
primary key and then save it will now be
a primary key so then you get this PK
and less key next to it and what that
does in the database is it optimizes its
ability well it does multiple things one
is it optimizes it indexes based on this
ID so when you try and search for a user
with a specific ID say it's a fast
lookup and it also means it's unique
it's a primary key which means you can't
have two instances in a table with the
same ID because then it's not a unique
key
so we enable this primary key and this
should be on every table you should
always have some unique key and a table
for good database design and then I
believe in here you've got more options
we're not going to change any of those
though the other thing to consider and
again I'm not gonna dive too heavily
into database design and optimization
and things this is just really an
overview of SQL Server so that you're
familiar enough that you can start using
an entity framework and know what's
going on behind the scenes you know it's
it's a fairly high-level and basic
introduction but one thing to keep in
mind is that even though you make a
primary key this is automatically then
indexed which means it's gonna look up
faster if you know on this database
you're gonna always look up things you
know a certain column like in this case
will or find users probably by the
username not by the ID that's gonna be
just a random long string you're very
likely to look up say a user by user
name even though that's not gonna be the
primary key because they can change the
user name we want the ID to stay
consistent you do know you're gonna
search based on this username quite a
lot so what you can do is add this as a
an indexed column so if you right click
and click indexes Keys you can then
click add and I'll say indexed keys is
unique you can say yes as well because
we expect it to be unique you know you
don't want to users with two user name
and the type is indexed and that's it
then we'll just change the name to
indexed keys users user name click close
click save ctrl s and then if we refresh
that column you don't really see any
change there but you can see if we go
into keys in fact we don't see it not
keys it will be indexes you can see you
have the index here so that will just
make it faster when you're doing the
lookups in the database but again don't
overly concern yourself about you know
that type of thing we're not going to
need that because entity framework
handles all that kind of setup for us
for the most part but it's just useful
to know so now we've got a table you'd
say well where's the data and how do I
get the data how do I look
what users there are hard way out what
users there are that's fairly simple as
well click this table oh you already
have this table selected or any table
inside this database here your selected
anywhere inside this database when you
click new query it's going to
automatically be associated with this
database so we could then type in select
star which is select all
that's not very clear but have to do for
now that dark background on the blue
text so select star from and then the
name of the table which is users and you
can see it's give us a bit of
intellisense so he knows we press f5 to
run that query you can see the results
down here our ID username first name so
the star is the columns totally cut
which we've said just give them all of
us and which table with users so this is
how you can look up all the users in the
database table and you can see there's
none so before we can really make use of
that we need to add stuff to the table
so let's go ahead and add a user so if
we were to say insert into which means
you don't create a entry and the table
insert into users then the next phase is
the values so we'd open close brackets
to pull rod the columns and then he do
vowels or values and then it's in there
so insert into users and then you have
ID username so you tell me which columns
in which order first name last name is
enabled created date UTC which will be
fun because I've got to now type that in
a string command and then the last
logged in date will leave us null so
there we've told it to insert into the
users table we want to insert into these
fields and then the values now that we
do which I think I can put on a new line
without you complaining too much there
so it's visibly easier to see kind of
line them off you'd see here the ID then
is a unique string so let's just say I
know this is definitely not the unique
string would use but just so it's easier
so unique string username
Angell sex first name Luke second name
Malpass is enabled is a bit so it's a
zero or a one or a true or false I think
is a true or false so it's a true I
might be wrong in that let's just try
one and then the created date now will
also be interesting by the column name
okay let's ignore that for a minute
who is it enabled not enabled yeah and
then created date
that's just Google for a created date
string in UTC format so I'll just say sq
I'll take time offset string example
easier than trying to remember it and
that looks like we are gonna have give
me a date anywhere example come on there
it's let's just pick this random date
really don't care paste that in and then
let's see what mistakes have now made in
the string which I'm sure there's gonna
be a few so we then press f5 invalid
code name unique string okay what have I
done with I think looking ass is just I
think you do single quotes in strings
and the SQL strings I think that's the
only thing we've got wrong that's not
complaining oh it's better five oh and
there we go what's maybe work so we
should have inserted let's just cut that
so we can use it again that should have
inserted you can see it says here one
row affected so we now say select all
commuters let's see there we go -
there's our created row in this database
so we now do the exact same command
again and try and insert the same value
we should get a complaint that the
violation of primary key constraint
cannot insert duplicate keys so part of
that primary key is explaining
make sure that your ID your primary key
column is unique so let's put two when
let's also see this index key being a
unique index is actually a constraint
because there's no technical constraints
here it's let's just see if that allows
us to make two users so yes you can see
now if we were to then do select all
from users you can see this constraint
hasn't prevented that user so we can fix
that in a moment
so now we've inserted information into a
database table and we can select let's
say we want to delete this specific row
so all to do for that is to say we can
leave these in and just highlight and
press f5 so you can see each command and
I can probably chop down a newline maybe
zoom out a little bit bring that in hide
the properties I don't care about that
wheel so now if you want to remove one
you say delete from users delete from
users or as the connection delete user I
think is bytes just delete users and
then we're ID equals and we'll say
unique string two if we now select this
text so I've highlighted that text and
press f5 it'll only be one what are
highlighted you see now that said row
affected one so that means if we were on
the Select again you can see these satin
columns been deleted so this is how we
select this is how we insert this is how
we delete if we now say insert a value
of that as second one we make a third
one
and we make this one not enabled and
then we select you should see now three
users in the database so as well as just
selecting everything we can do select
everything stiller's and select all the
columns but you can also then tap where
so say we wanted only to get enabled
users you could say where as enabled
equals one no way to run this now you
can see it's only returned the two items
are enabled I know this is really small
text down here I don't know him you get
this thing to zoom in on the results one
but hopefully you can see that anyway
there's two results down here of the
enabled ones have you change it to zero
say yeah only disabled you get the
disabled user so these are basic this is
called transact I believe transact SQL
which is what we're writing here this is
how you kind of select and do things
with the database you can also use in
the same language you can actually
create databases and you can create
tables all from the same commands you
can do basically anything using the
scripting language on a database but
these are your key you know primary
things to get you started you selecting
stuff you inserting values the star here
is basically which columns you want to
select so you want to also keep in mind
that you don't just want to go and
select this is usually what they say
never to do never just select everything
from a database table because you want
to specifically select just the
information you need so if you're
looking for say when somebody signing up
to your website and you want them to see
their user name is available you don't
want to do select all from users and
then look for or even select all from
users where username equals say my
username and you were gonna say you use
this to check every date every username
exists because then you've selected all
this extra information so one way to
improve that would be just simply select
say ID or select any column IDs the
quickest one because it's a primary key
so instead of specifying star you
specify a specific column so select the
ID column
the user name is angel sex which should
say unique string so if we run that you
see you get just a single weasel back
and you can go further and optimize more
but again I don't want to go too much in
depth as when I give you the basic
overviews Soni you could say you know
select specific columns that you want
results from and you'll get just those
columns so we are selecting inserting
deleting and then this is kind of the
filtering so you can filter by strings
you can filter out values so let's say
we want to select all user names that
have yell in the name you can do the
same thing for instead of saying we're
using it equals you can see we're using
like which means simply contains this so
we then say PL and we want to select
user names where they contain he out
like I don't you have to do percent
either side just that's the saying you
know there anything before anything
after basically then you can see there
it's then kind of runner and sq our
filter searching for anything that
contains a out in the username same
thing you could say if my last name like
three which should find the user with
the last name my last three which it
does it then selects this one which if
we change it back to star shows you you
know that's the one it selected so I
think that's enough for of really brief
intro into SQL Server installation
connecting through this and and
generally looking at year your database
so if we were to close that close that
design disconnect you basically to have
a quick recap you click the connect
button you connect to your database I'll
just jump back to windows authentication
and jump in there and then you have your
database here and then you go I want to
look at the tables you can right click
and I believe do right click on there
I'm sure you can right click on a table
and select they're yours like select top
one thousands which is the one thing I
didn't mention is why you wouldn't tend
to also do
select all light as in you wouldn't just
usually remove that and select this
because of this he's got to say ten
thousand or more items this select would
select all of them and run everything so
you tend to do if you wanted to select
simply check if something exists you'd
select the top one and that had only
ever returned the first result or you'd
limit it to a set amount of the results
that you want that's what this top
command does
so there's does that as well but all
that should be like say enough to get
you going with at least creating a
database creating a table if you want to
allow a specific user to connect which
is what we'll do in a minute through
code we can first go to the I believe
you can go into the database itself and
go to security users and added a user he
has a right click new user SQL login so
we'll say no temp user login name is
Tempe user and if we go to own schemas
we want this to be the database owner so
we check that and that means it can do
anything with this specific database
database role membership own schemas DB
owner and membership will check DB owner
as well and that should be all like okay
exception okay I don't usually read them
there so let's do it the normal way
anyway create at the top level and the
the server in this login right click new
login and then as a temp user SQL
authentication will type in temp user as
the password and force password
expiration they were not bothered for
this one now you can see the default
database here we can change up to temp
DB in fact it's not empty beaches test
so we should probably change that to
test user actually test user we'll get
there in a minute test user test user
and then of you go to server roles now
it's public which means it has no access
to
you anything specific it's not a set up
and you don't want it to be in user
mapping though we then want to map this
user to the test database and we want to
make it a DB owner of this specific
database that means that this test user
if we log in will only see the test
database and can only access and do
anything with it secure walls is fine
it's all enabled so it's like okay so
that will create a new user in here
you'll see now the user gets added
automatically to the security of the
database so I guess when you go into
hearing you can add a user you're
basically going to be adding almost an
existing user that's simply gonna find
so I was seen if I could do it that way
but generally you don't you do it from
top level so let's just make one more
database new database another database
and this is just to prove the login user
can only see this database so now if we
log out because we're logged in as you
know as system admin and we connect back
to the server but now we connect with
the test user with the password test
user and you can see now we've logged in
databases we can see because we're
public what we can't access it we can't
have anything with it so even though we
can see that database we know it exists
we've got absolutely no control there's
no plus RL there's no way to do anything
with it you can't see anything about you
simply know it exists on the server and
that's due to that public permission so
it's only got permission to actually do
anything with the test database which is
what we wanted so we can still see the
users we can still select them and get
the values so now in code we could use
test user as the user name and test user
as a password and connect to this
database and do those exact same SQL
queries so where we've been doing the
queries in here this is how he'd
interact with NC sharp you know if you
weren't using an entity framework you
don't have to write and directly if you
were doing it through an SQL connection
you'll be able to now interface with
this database so let's go ahead and just
do that so you can see how it works so
I'll spin up a new instance of Visual
Studio and we'll make a dotnet call
console up for this example
and this is actually the first time I've
opened Visual Studio on this machine
I've just my fresh install so we could
do this SQL install video to make sure
it's exactly the same from scratch so
that's why it's just taking a little
while to to start up for the first time
so now if we go to console app net core
as a new project and we'll type in here
SQL connector just as a call it whatever
you want I'll just call SQL connector
and then before I forget let me just
bump up the font size so present edit
think it does go away visually DB go
away present
edit let me just tweak this size this is
what I used to bump up the font size
when I'm doing the videos and now I can
just do presents on so yeah that font
size should hopefully be legible for you
so we just got a console app but we were
to run this and put a breakpoint in
there then eventually when it does its
first build I think everything's just
slow on the very first run yeah we hit
back to breakpoints and we should see
here hello world so we have a console
app snow let's make this one connect to
that SQL database so it's built into
dotnet core the ability to connect to
SQL service so I believe we can do using
raw SQL connection because new SQL
connection I'm doing this off the top of
my head so I might as wrong SQL Server
SQL sure it's SQL connection
maybe SQL server connection I'm sure it
is s got connection positive of it but I
thought it was built into the dotnet
core by default so maybe not okay let's
go to my engineer packages browse SQL
connection probably come on to SQL
Server to be honest book that's not that
SQL interfere my guests will come back
no I know it's in
and system data it's usually their SQL
specific so it's obviously in some way
I'm after Google where this is a lot of
those girls ever come by to be used now
SQL okay I think we're gonna have to
just Google where this is maybe
Microsoft or system dot dated SQL maybe
provides the data provider SQL Server
ask your client hmm maybe so you don't
usually do it from a command line I
usually do it from we like an asp.net up
go ahead and install this one let's see
if we get it looking semi promising so
might be that's what I did think this
was baked directly into the dotnet core
without having to ever you know a nougat
package but maybe not
where did that come from there may be
right so with that installed do we have
asked your connection no really
oh yeah we do so you have to install the
system data desk your client package to
get this far so that's good for now so
now we make a connection in the
connection you'll see you want to pass
on a connection string so the next thing
is how do we connect to our database
that we've just made so simplest way is
retarted SP our connection strings you
should see a website that's called
something like connection strings calm
and then here then you don't need to
remember the might say there's no you
need to know these off the top your head
you can just quickly google it SQL
Server 2016 I believe we're on seventeen
not the connection strings changed so we
can click will go with 16 and then
standard security so way up here is the
server name which will be the dot or the
localhost or the machine name so we'll
just go with the dot databases the
database you want to connect to
that will be the test database user ID
and password as of you using the SQL
server username like test or essay that
we made which is what we'll use if you
want to choose the windows login write
your username then you specify this
trusted connection that's what this
thing means it means to use your windows
login and you don't have to provide you
know the connection details so we will
basically just copy this one here and
paste it into here and then we will
change the server to dot to mean this
machine the database to test the user to
test user and the password to test user
that should connect us to the database
then we can do away the command you know
an SQL script to execute that will be a
new SQL command which will be able to
pass in the command text let's just save
select all from users like we've done
before and pass in the connection that
we have so he knows which one to use and
I believe we might be able to do using
on that if it needs disposing there we
go
and now the command you want to run so
you can do execute now there's multiple
ways to execute execute scalar basically
returns the number of rows that were
affected or rather the first column of
the first row so it's a single item you
know so expecting to return a single
item you can use it if not and just get
the first item it doesn't matter execute
reader allows us to read multiple rows
and that's what we want to do we want to
read out each user so I'll say execute
reader and that returns as a reader so
it's a var reader equals that and again
I believe that's a disposable so I can
check whatever just simply wrap it in a
user net will tell me if it's not
disposed more anyway so there's the
connect to the database create the
command that we want to run
execute the command and now in here we
can finally read the results so we look
at the reader will have see what we have
so you can get specific values
or you can you know the known types then
you can get them and get has arose and
get read advances to the next record so
I believe execute reader will already
read the first result but will soon find
out and then you can do I believe
brackets on it to get the name of a
column you can use it like a an array so
get the value with a specified column in
the native format of the govern column
so we could say get username which we
know is a string so we could say for
username equals that then we could say
we could wrap this and in fact I think
you do have to do read maybe so will in
soon now so we do while reader dot read
which returns true or false so it's
capable of reading another line then we
get the info here so if we put a
breakpoint where we put a breakpoint now
my step through and press f5 let's first
check that this works so go to a
connection good so far make a command
execute the command
and we now fail here we've got an open
connection so obviously my memory isn't
that great we want to actually do SQL
connection dot open totally open the
connection to the database and I should
be commenting this as well I will
comment it after but this is just to
quickly show you in make sure it works
open the connection create the command
execute the command so far so good
so another reader we could hover over
let's inspect and see so we've got seven
fields got a connection that's really
all we can see so I'm presuming we have
to read first and the reads fail the
parent so we have no results so that's
interesting so it's likes all from users
we have the test database so let's check
first let's just jump into here check
I'm named everything so that's test we
know that we may need to prefix it with
dbo because we're using you know the
actual commands it's not presuming we've
got
environment setup that's prefixing dbo
for us it could also be that we've read
past there we go so we got it add the
this is the schema so because we haven't
inside SQL management studio you've
already got kind of built in schemas he
knows because we selected this database
here when we clicked new query it's
already presumed that schema and kind of
added it to our SQL command without as
needed to whereas inside c-sharp
we have no presumption we've got no
schema so we have to be very explicit
and say it's DB o users which is
technically the name of the table here
so therefore we've got that result we
got the username which is angel six we
read again I get the next username
intercepts and then we get the next
username and six three and then you
should pass over so that's now working
we're reading the content so we get an
output this to the console we could say
console dot write line and we could
output use a username and we don't need
to do our string because in this case
the natural dollar here will convert all
these to adopt two string either way so
it's a user name first name last name
and then we could say as enabled and
here you could do as enabled which is a
boolean
you should come through as a billion
let's just run that and see first and
we're gonna now also open and close
really quick because we didn't put a
breakpoint just do a console dot read so
any key pressed or close but initially
that's almost open
so we see that it opens connects and
dumps out and it's by default a boolean
anyway so it's really converted so
there's was reading the database we can
also do the opposite we can inject in
there so if we wanted to change this to
say add a record
it's obviously as simple as doing the
correct command so in fact that's the
wrong place to do it we would say take
this code here paste it and we could say
insert into users on the space dbo dot
users ID and then blah blah go write all
this out again now because I closed down
the the query from the last time I
should have kept that open first name
the last name in fact we can make this a
little bit quicker as enabled created a
beauty see is there anyone I don't like
doing but we can pull it in so we insert
into all those values and then this is
where we do the ID something else and
again that'll probably be a gooood
typically you have a we got this ID we
could do a GUI dot new gooood dr string
and if we were going to do that
typically what you do insert an actual
guiit each time then we would have the
username so we just say username one my
first name my last name because enabled
is one we're gonna enable and finally we
want the date time so I'll just cut that
code at the moment in fact let me just
check it in notepad run this again so
just want to copy the date time which i
think is actually going to output the
wrong or going to output the date time
quickly changes to creative date UTC and
hopefully it's going to output as a UTC
string which I'm betting it won't no
there we go I'll do so copy that
string for the minute paste it into our
string there cross all this back so
there we now have a command that should
insert the user with username 1 my first
name last name and then also need to do
for that is execute non query and that
just means it's gonna execute this
command and it's going to return a
number of how many rows were added so
this execute query should result in one
because you should have added one thing
so if you wanted to kind of check in
code if that was correct then you would
check that result as one so we know put
a breakpoint here and we run insert into
and then execute and the results one so
now when we finish and carry on they
should output now all the users so
there's username one that we added and
you can see it's got added there now I
know what obviously I've changed us to
created date instead of first name and
then we'd have to just comment this out
a minute so it doesn't run again with
the exact same values and if you know
that's in the database so they can see
it's there and likewise if we were to
jump into here and do select all from
users we should see that user is in here
with the unique ID and all the values so
whatever you do in here you know in a
SQL command which you pulled
transact-sql if you want to read up more
you can also do in in code here and this
is kind of how you would interact in
c-sharp with an SQL database now there's
obviously a lot of things near this is
purely demo code so you wouldn't put the
connection string and username and
password directly encode you put in a
configuration file you'd have a lot more
logic in terms of making sure it's
correct try catching any connection
errors all that lot but that's nothing
to do with
you know specifically to just seen how
you connect to SQL servers so the point
of this video is to really give you an
overview and enough to install SQL
Server openly create databases add users
insert store delete stuff you know
generally play with SQL server so that
you can get a feel for what's going on
and then in future videos so the very
next video we do will be entity
framework the reason I've done this
behind SQL Server stuff is because you
won't actually need to do any of this
when you use NC framework so also we'll
be doing is making classes in c-sharp
and then same save and it will save them
to a database it will handle all the
conversion it will handle all the unique
IDs it will make all the connections
between tables it will kind of do all
that for us but you want to have the
basic understanding that minimum the
basic understanding of SQL Server so
this is the starting point to get you
going and I'll do more videos on SQL as
the time comes and as it's needed but
like I say when we actually do entity
framework you won't need to know that
much SQL you need to know enough that
when you're doing commands in c-sharp
that effectively pull information from
the database that you don't just do
things like database dot users dot to
list which would be similar to doing
basically this select all from users
which means just select absolutely
everything and then go in dot where you
know F dot user name equals angel six
because what you've done there is then
pulled the entire database all the users
all the details and then encode in
memory filtered by this instead you'd
actually do users dot where user name
dot to list or whatever you'd want so
you'd know that then you construct in by
using entity framework this would
construct a SQL statement that would be
a lot more specific it would do that
where Clause that explicitly find just
that user and then give the information
out so you need to know the SQL in order
to then understand entity framework and
make the correct choices when you come
to write you know specific
code-in entity frame where you can't
just be completely oblivious to SQL
server and will also install SQL monitor
from Redgate to actually inspect these
transact SQL as the entity framework
generate some fires for us and then I'll
show you how and why you'd use them and
you know to make sure you're making the
right choices but hopefully this video
has been a good introduction to SQL
Server and enough to get you you know
started messing with SQL Server and then
you can make your own learning from
there if you need to before I do future
videos and then we'll jump straight into
entity framework now and you'll be able
to then visually see this happening
you'll be able to open up SQL Server
management studio and see the database
created and things getting added you'll
you'll have the knowledge now to at
least keep an eye on what's really going
on in the backend any comments or
questions as usual you leave them in the
video and I'll get back to you but
hopefully this was useful and then we'll
see you on the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>