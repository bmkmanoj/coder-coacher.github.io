<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Programming Tutorials: Beginners 06 Creating a Calculator - Manipulating String Text | Coder Coacher - Coaching Coders</title><meta content="C# Programming Tutorials: Beginners 06 Creating a Calculator - Manipulating String Text - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/AngelSix/">AngelSix</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Programming Tutorials: Beginners 06 Creating a Calculator - Manipulating String Text</b></h2><h5 class="post__date">2016-12-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/s0_IuQgVEfw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the last video we made this basic
calculator user interface by dragging
and dropping items from the toolbox onto
the form setting some properties down in
the bottom right and then
double-clicking all the buttons to add
event handlers to the forms code and
then making regions to tidy things up so
we've grouped the methods intersections
these are all the button click event
handlers in this video we're going to
start linking these up to to actually do
things so we'll get straight into that
starting with the ce-1
which is this button here when the user
clicks this button we're going to just
clear this textbox because we want to
remove any entry that we are typing so
this is called user input text down in
the bottom right here so when we click
this button so you can double click to
jump to the function we want to clear
the user input text so to clear the
textbox simply type this which is
referring to this form you don't have to
but when I access properties on a class
I tend to start with this so it's
obvious to the reader that it's part of
effectively that the place where it's in
so it's in form so this dot user input
text dot text so this is the object
itself this is the text box and then the
property inside of this called text
which says gets or set the current text
and the text box that's what we want so
text equals and we'll do string empty
which is basically a blank string you
can just do two double quotes which is
also a blank string but again for
readability this looks much nicer
well then comment this function and say
clears the I user
in context the sender an event adjust
the event parameter so we're going to
ignore those so the event sender
arguments comment a line of code as well
and then we'll just press f5 to run and
let's check this basic phone function
works so here's the basic calculator
we'll type some stuff press C E and you
can see clears the text for us now it
will be nice as well that every time
we're clicking buttons really the only
point to this calculator is to type in
here so these buttons are to assist
features but now we click here then we
start typing we're now not typing
anything really every time we click any
of these buttons we want to set focus
back to this textbox so that we can
continue to type and if we're clicking
these buttons to enter numbers we can
just carry on typing on the keyboard so
let's add that feature as well and
because that's gonna be reused for every
single button so every button that you
click it's gonna do a certain action
then we want to focus back to here now
instead of writing the code that focuses
this textbox over and over and over for
every button we'll just make a lot of
function that we call so that the code
that actually does the focus has only
ever written once in the code and that's
something that you want to be aware of
when you write in c-sharp code it's
called dry it just means do not repeat
yourself
and you want to try and keep that as
much as possible in code you want to
have as little repetitive code as
possible if it's able to be abstracted
into another function so down at the
bottom
we'll make a region called privates
helpers and that's just again a
convention I tend to use for private
methods but functions that are very
small and the the sort of self-contained
and the purpose is to help other
functions within this class so call this
a private we don't need to return
anything and we'll save focus
input.txt we don't need any parameter so
open and close the parentheses I open
and close your curly brackets give this
function comment and we'll say focus is
the user input text and now to focus
that box I believe will be this dot user
input text dot focus now sometimes
you'll find this might not work matter
to do some trickery to get this to work
because in this function when you click
the button and you let go this is
running on the UI thread which is the
thing that handles all the UI so if we
tell it in here to focus another UI
element it might not work because we're
still in the UI thread and it might need
to be released in order to to work so
we'll see how this goes anyway so we'll
just comment as function let's see if
this works top something in clear hand
let's work nicely so you can see now as
we're clicking this button focus
instantly goes back to the text box so
we can just type click type clicks
that's exactly what we wanted that's the
first from children now these will be
really quick and easy the delete will
leave will just whizz through these
because these are just inserting in fact
every one of these except for the equals
and delete is now a simple case of
adding a specific piece of text to
wherever we currently are so that's
waste through these start with the 0
it's a simple case of this dot user
input text text and we want to insert so
you don't want to do the text you'll
notice is just a string now you don't
want to do text plus equals and add say
a 0 to the end of the string because you
want to add this really expecting to add
this wherever you're focused so we run
this quickly and we were typing say 56
point 78
oh I'm gone now wanted 560 click back
here you click the 0 it's gonna add it
to the end that's not what you're
expecting
so we want to find out where this cursor
is where the user's input currently as
we want to insert the value at the start
of that so to do that we want to do I
believe on a string you can do an insert
which you can and that expects the
position within the string starting at 0
so if we have a string hello world
brackets bell there we go and this isn't
valid code by the way well let's make it
valid code actually there's a string and
if we wanted to insert say we were
focused here and we wanted to insert a
zero at that point that would be index
so starting here is index zero at the
very start index one index to index 3
and then of you press evil now that's
where index 3 would insert so what it
means by an index is the position in an
array because a string is an array of
characters so this is the first element
this is the first character second third
and because it starts as a it's called a
zero based index which means the first
character is a zero it's its and it's at
the very start it's not one it's at zero
so if we said insert at index zero
that's going to insert it before the H
if we insert at one it will be after the
first letter than two and three so the
index is the position where we want to
add this number so to get that index
well let's just start with hard coding
let's let's put one for now just so you
can see what happens so every time we
click this button it's going to enter to
zero at what should be the second
character so after the first character
every time so we type on a world and we
click the zero it should go here so if
we click open you can see something's
not right here
I and you see here so this insert
function it doesn't actually set this
text if you hover over you can see
returns a string so it's a string string
insert so remember the first value is
that we turn
type so if you hover over text you can
see the first value of string as a
return type so this function is actually
inserting this value into the text
string but then it's returning the value
when it says it returns a new string so
it's not replacing this text it's simply
returning the new text or what we need
to do is actually set the text for the
result so we just copy and paste that so
stop the code so this dot user input
text text equals and then it's the text
that we currently have with the new
value inserted so you're saying
effectively the tap needs to be
completely reset by this brand new
string that's created by inserting some
value in there so remember the thing on
the left side of an operator is set to
the value of the right side and because
this insert returns a string that's what
gets set over this side so let's run
that and see if it works as we expect
now so we type hello world doing what
with me spelling today so we should
insert after this H and there you can
see the O's gone that at the zero and
every time you click it's always going
there so now we want to replace this
fixed number one that's here with
wherever this cursor is currently
selected so to do that we replace this
value 1 and we can say this dot user
input text dot selection start and this
says get source that's the starting
point of the text selected in the text
box I believe that's the right one I
might be wrong here but let's try the
selection start f5 to run so let's type
hello really I really can't talk today
and hello so let's press the zero and it
should end at the end there we go
let's click after the e perfect so
that's now working as we expect so we
were tired being 56.7 and we realize we
wanted to put a zero in you click there
and there
so it's just a preference some people
like typing other people will like to
just click away at buttons and do this
so that's the zero done now I'm gonna be
lazy here I don't want you to be but
just for the sake of keeping the video
short I'm not going to comment all these
functions in terms of how we've
commented here just for quickness so you
should do this and I yeah I think you
should do this after the video and I
will do it we'll carry on with this on a
second video go ahead and comment
everything outside of the video but we
don't need to spend time watching me
write comments for every single function
but do not leave them out it's it's not
good practice you do want comments I'm
just leaving them out just for the
quickness of this video so to fill out
all these functions we'll just simply
copy and paste this value and now you
can also see he's another place where we
need to keep dry so this is only one
line of code but you can see it's
quieter there's not really complicated
but there is some logic in here we're
doing this dot user input tacticals they
start insert and then a selection start
and then a value now the only thing
that's going to change between clicking
0 1 2 3 4 is this value here so instead
of copying and pasting this line of code
because if something ever changed say
you wanted to change the behavior and
you don't want it to insert at the start
you would then have to go through every
single function and go ahead and change
this value over and over and over and
over again
so instead because this is an action we
want to insert the value into the
textbox and this is really the behavior
that were typing here we want to insert
it where we've got a selection and that
behavior might change it's good to move
this into another function again just
keeping everything very dry no repeating
code so let's just cut this with ctrl
axe and let's do a function and call it
insert text to prevail you and this
function doesn't exist yet we're about
to make it and we will put the number 0
now let's make this function so instead
of typing the functions like I we've
typed it here manually you can write the
function here the sudo function of e
well something that doesn't yet
exist you can click here and you can
either press control and dart control
period like that and it'll generate a
method or you can right-click and now I
never right-click so I'll have to find
it in this menu I think it's quick
actions and refactoring yeah so it's
quick actions and refactoring but I
always do I just click over there the
function or you can also just have a lot
less and you see this a little drop-down
that also gives you the option as well
so there's multiple ways you can press
control and dot or you can hover over
and then click there bulb or you can
right-click and click the bulb up there
and this is then given as the option
this is going to generate a method for
us which it's gonna call insert text
value because that's the name we get
yeah it gave it so let's go ahead and
just click that and you can sees made
the function for us and because there
was no defined name here it's give it a
default of V so sometimes this is useful
when you're making really long functions
so say we were making a function that I
accepted a load of integers and maybe a
string over here and then float which
will be and a double and then you want
it to instead of hand typing that
function with all the parameters you
could then just press control dot and
enter and it's gotta hadn't made the
whole function name with all the
variables and you can go and rename the
parameters so just an option that helps
you create a function so this one's nice
and simple so we're just going ahead and
type it at the bottom so we want a
function called insert text value that
accepts a string so scroll down to our
private helpers let's make another one
private void insert text value accepts a
string quality value and then we'll
paste our code in now all's we need to
do is replace this hard-coded value of
zero with the parameter that gets past
it so we type in value I should like a
comment on this and I said a warden but
it's it's just habit inserts the given
text onto the box I'll insert and now
you can see that looks much nicer as
well so again don't forget to comment
all of these functions just like we've
commented this one so we can now really
easily copy and paste and the reason
this is okay let's copy and paste in
this isn't violating dry this isn't
multiple pieces of code rewritten this
is simply a function name and then the
value that changes so this is now a 1 so
we've got absolutely no repeating code
here this is not repeating code this is
simply calling a function which we want
to do in each case and then the value is
different so there's no sort of
repetitive code if we were passing a
specific thing into the function that
repeats every time then potentially you
can move up into the function so anyway
let's carry on so we'll just go ahead
and copy these into each one of these
important events and then we'll go back
and change the value and so we've got
zero one two three
and that's all the numbers done the dot
a period whichever you like that's every
number done so I can now close that
region make it nice and collapsed Ida
private methods for now I've got the
operator methods again these are exactly
the same
insert value that divide is a forward
slash the x ism asterisks you might want
to change it to a x such as that but a
lot more conventionally on the computer
a calculator is a an asterisk four times
a minus so minus plus is a plus equals
now the equals isn't something we we
insert the equals is when we act we
actually calculate what's in this box
so for this we'll just create a blank
function for now call calculate equation
and we can press control dot and enter
to create that function for us we want
to move this away from this region so
just cut outside and then let's place
our newly generated function here place
a comment calculates the given way in
and out pops the answer
use a label and then we'll comment this
is an when you Auto generate a function
it adds this thrown new not implemented
exception and the reason for that is if
you accidentally create a function and
then you're running it and you're
wondering why nothing's happening when
you've got not implemented except you
know in this case when you've got
anything that throws and this is an
exception when it's doing a throw this
will crash the application so it's sort
of a hint to the developer that they've
forgot to do something
so we click equals it's gonna run this
throw and then you can see it not
implemented and it's gonna crash the
whole application so it just keeps you
know there's no way you can go it's just
gonna crash because we got the debugger
this is just gonna keep breaking into
the debugger but if you don't run it
with debugger so effectively this is run
without debugger and say this was the
cost of me using it now that doesn't
have Visual Studio and they click this
button you can see it's gonna do this
nasty crush and you can just continue or
quit but effectively that's a crash in
the application and we don't want that
so we're no we're gonna do this
functions let's just delete that for now
and we'll come back to this last so we
filled out all the numbers we filled out
all the operators we've got a link when
you click equals to calculate which we
then got to do and we've got a delete
one so the delete button is the last
thing and what I wants to do is delete
the character same as the delete button
on the keyboard if we prost place the
cursor here and we press Delete the B
should go which it does so we want to
mimic that behavior we want to remove
the character in front of the cursor so
we've already inserted something if you
remember in our private helpers we
inserted a value here in the text and we
inserted at this selection start so we
want to effectively just delete the
character in front of that position so
let's copy and paste that line because
it's going to be similar now the text
equals Ana text and then sort of insert
wanted to remove and you can see the
start index is the same so you want to
remove starting at this index and then
there's a nice simple can't
returns the the number of characters to
delete so in this case we want to delete
one now you will notice here that we'll
have to protect this function in a
minute well in fact right now let's look
at this so if we click the delete button
now there's no text so this may well now
crush because this is gonna try and
remove something that is outside of the
index that it's not we don't have that
amount of text let's see press Delete
and there you go argument out of range
exception so what we need to do is first
before we do this function of this
action rather we need to check if the
user input text as at least got one
value in front of the selection start
because that's the thing we're trying to
remove so if the selection start is zero
at the very start we need to make sure
that the text is at least one so what we
want to do is do an if Jack so if this
user input text and the length which is
the total length of the string itself
that the amount of information in there
is less than and we want it to be the
selection start because that's where
we're going to try and delete from plus
one because we're trying to delete one
character so if it's less than this
value we simply return we don't do this
action because there's nothing to delete
so what this does let's presume we have
a string and it is test and then we have
this dot so this logic is and let's say
we're selected here at the very end of
the string so we're at position 0 1 2 3
4 so we've got the length of the string
which is 4 if 4 is less than the
selection start which is 4 plus 1 is 5
so it says less than that so let's check
if we went back 1 which should be valid
so the length is 4 the index is 0 1 2 3
so as 4 is less than 3 plus 1 which is
then up to
four or four isn't less than four so
it's valid it will delete so based on a
quick check in the you know your own
head and looking at it like that this
looks like it should work fine so press
f5 and let's check if the delete now
doesn't crash so right now the string is
zero there's nothing in there if we
click the delete it should say if the
length which is zero is less than the
start selection which is also zero
because we're nowhere plus one so it's
gonna say if zero is less than one which
it is and then it should do nothing so
that's right so it's not deleting
anything because there's nothing to
delete so now let's check it actually
works when there is something to delete
so retard the word test as we did in our
quick example as first check but it
doesn't fail so now there's still
nothing to delete because the length is
four and we're at index 4 so when we
press Delete it's gonna save length of
four is less than four plus one which it
is you should still do nothing which is
right well now we've select before the
tea and fresh tea lady should get rid of
the tea but she does so that's that's
ideal so now we can delete we can delete
strings now you notice one thing we
forgot to do here and delete button now
hasn't refocused into here so remember
we said after every one we wanted to do
this focus input so let's quickly stop
that and add in fact now you can see
here if we're returning you're not gonna
then focus the but we've already clicked
and you're not going to end up focus in
the button if we return here so instead
let's just change this logic around so
we only want to do this if that's true
and then afterwards
we want to then focus the input
so let's first invert this logic because
now we want to do this action if it's
capable as opposed not so now we want to
make sure instead of the length being
less than now we want to make sure if
the length is greater than or equal to I
believe double check that logic so
that's fine that's fine and that has
worked but now you see we've selected
all the text so let's just do that again
test you collect at the end and you
should delete the T which it does is
working but you can see now we've got
this focus it's selecting all the text
for us which is not what we want
so now this is where you'll realize it
was a really good place to move this
logic as we were talking about into a
function because you imagine now we'd
place this focus input text and instead
of this function call
you actually placed this logic in here
and here and in all of these which we
need to so let's go ahead and do that
and you imagine if you even copy and
pasted the actual code this line here
into all these functions well now we
need to do something more than this
because when we're focusing the text
it's actually selecting all the text as
well so we need to change how this works
and and make sure that it doesn't go
ahead and just mass select all the text
so now we only have to change it once
inside this function if we'd have copy
and pasted the code over and over we
would have had to keep going through
each one of these and then fixing the
code over and over and this is only you
know a few buttons so you imagine if
this was a larger program or something
with way more buttons or more repeating
of this code you'd have to go and
correct your code time after time after
time after time every time and it
becomes a nightmare to maintain so it
was a perfect example of even though
this looks like a really basic thing
we're doing it was a great idea to move
it into a function because it's a it's
the thing we're trying to do focus text
and were then presuming this will do the
job
but it's not always the case so when you
have an action something you want to do
and you're just presuming that'll always
work unless you're absolutely 100% sure
that it will never not work it will
never fail it's always a good idea to
make a function for it and then place
your code in there and then if anything
goes wrong you only have to change you
know one line of code and not many so
let's place this in all of these
and then we'll do it in the calculator
equation although we still need to
finish this function I just place a
little to do note so we don't forget
this bit it's now we've added the focus
to every call let's go back and just
confirm everything works click all the
buttons and then we'll come back to this
issue about the focus also selecting the
text so let's see if it does the same
thing when we are yeah you see we'll
press five and then it's gone ahead and
selected the text point and now you can
see it's also because it selected the
text it's it's put the cursor back at
the start and I know the issue for this
now and that is because we are replacing
this text every time so the reason this
is now okay if we do this and then we
click there we insert a dot that's fine
but now the function that added that dot
so this insert text value we're
replacing the whole text when we're
doing this so because we've replaced the
whole text the default action in Windows
forms is to then just rehire light all
the text as well as resetting the stop
selection start so when we'll be placing
the text now it's going to get a little
bit more complicated we first need to
remember where we were in terms of where
the cursor was within the text then we
need to set the new text and then we
need to reset this selection start so
that the selections back where it should
be and I believe that might fix the
issue
so let's make a new variable and let's
call it selection start we'll set it to
the current selection star before we
mess with the text
remember selection start certain new
text and then here we now want to
restore the selection start I have no
idea whether this works I'm literally
doing this live so we'll see this dot
user input text our selection start and
now we may want to also remember you can
see here the selection length because if
you have selected something such as this
which will bring it on to another point
actually if we select in here and then
wanted to insert a 0 you can see it
removes the selection and inserts the
character 0 so we'll go ahead and add
that ability in a moment as well but for
now imagine you select the text there
and you insert something you you expect
that to stayed the same and something to
get inserted so well in fact now let's
just leave it so something selected like
that
we just force it to be when you've
inserted a value it's it's not selecting
there's nothing pre-selected so all you
have to do for that is selection start
equals the remembered selection start
and as we were talking about if they did
have this selected and they press 0
you're gonna have just nothing selected
after that you're gonna be in fact
there's also a point if you click here
and press 0 so you were at point let's
do this on a variable again to visualize
so if you're in hollow world and you
click say index 1 here so you're at
index 1 now then you insert the value of
0 now you've actually indexed to because
you've inserted this value so even
though we're restoring the selection
here you don't want to be restoring to
it to 1 you want to be restoring to
after the inserted value so now the new
selection started where we were but then
also force the length of the value we've
inserted so the value dot length because
if we're inserting say a value I don't
know
555
and you were at index one you insert 555
you want to be at index 1 2 3 4 so you
want to be at the start of 1 plus the
length which was 3 of 4 so we remember
the selection where we are we insert
this value and then we reset the
selection to being the original plus the
value we've inserted and then finally we
want to make sure that there isn't
anything selected like this we just want
to be at the point of where we inserted
the value so set selection lengths to 1
or 0 rather we don't want anything
selected so let's run that and see if
that's fix the issue
so if we do 5 5 never do it docked and
you can see that looks like it's working
quite nicely click in there and add a 7
do it delete now the delete isn't
working delete still selecting
everything so let's take a quick look
why did we forget to add the focus value
to the delete nope
so we have an interesting thing going on
here the delete is ah yeah you see now
we didn't do the lot we've changed the
text again here so we're not doing an
insert text value like we are here and
then doing this logic we are removing
values instead of adding them so we've
got a point now where we've got two
different things that we're doing and
effectively the the workaround or the
solution is very similar so when we're
inserting text were remembering a
selection will be set in the selection
and this logic here this this thing that
fixes that selection issue is based on
the fact that we're doing this here
within the start of the selection plus
the value
so we've got two two logics going on
because when we delete we're not
inserting we're removing so this
wouldn't work this sort of logic
couldn't work so even though this is
very similar that we want to get the
selection start to manipulate the text
and then change the selection start
we're gonna have to have another
function or in this case you know very
similar logic with just one line for the
most part being different this would be
slightly different but again this is a
case where you could go the extra mile
and you could make a single function
that asks whether you're inserting or
deleting values and asks at what
positions and things but by the time
you've done that and made a function
that's trying to handle two situations
because this code is so small it's four
lines of code and effectively two lines
are going to be different out to the
four anyway it's a case where you just
make a new function for the delete and
even though it seems like you're
repeating code it's a situation that's
okay because it's a small function the
code isn't 100% repeated yes we could
make it a single function but the
complexity of a single function trying
to handle the insert and the delete is
not going to be as nice and readable and
maintainable as just making two
functions that are similar but have a
different job so let's make a new
function because this delete didn't have
a function we just put the code here so
we want to move this logic off into a
function called delete text value and
then we go down to the bottom and we
call this delete text value update the
comment to delete the character to the
right of the watch and start the user
input text box and there is no parameter
now so we delete the commented parameter
and we also delete the parameter passed
M so we remember the selection start we
don't set the new text anymore
we delete the character to the right of
this selection and now you've got an
added benefit here as well if there is
no if we're not deleting anything we
don't need to do this below because
nothing's going to change so we can
change this logic backwards again to if
the inputs less than this return so do
nothing let's just cut this line of code
and place it at the very top because
basically if we don't have a value to
delete then we do nothing so if we don't
value delete return and we couldn't do
this before in our function up here the
delete function because we need to do
this afterwards but now the benefit of
it being in a function is we call that
function and even if that function
returns straight away here the logic
that then does the focus enos coming
after the function so it's not going to
return out of this function it's not
going to stop here once this returns
it's just going to carry on so now we've
got the benefit that we can we can just
return here instead of having to say if
this do this and in terms of when you
write if statements what you try to
always do is you want to if you're doing
like a certain logic that's basically a
check that if this is true do this
instead of doing that which is the
natural way you'd think of it so I don't
know let's say for I equals five and you
were doings of if I is five then do
something
and then say you do a bit more code and
you get further down and then you got
another check oh let's see
very similar thing so then you do if J
equals six you do something you can see
what's starting to happen here this is
called nasty divs so when you start
nesting these things inside of each
other
you can see your code gets indented and
then further indented and then you also
then have the issue of if you're writing
code here I'm trying to remember where
you are in terms of inside whatever and
then if you just come outside and do
some code here you might think that you
were inside this if if you just missed
this bracket so what you do with if
statements is you try to always have the
negative side so instead of it saying if
I is five you do this and then about J's
six you do this you want to basically
say if I isn't equal to 5 then simply
return because then below this line you
know that you're only going to get below
here every test five so you've removed
the a of indent if you're willing you're
back to being here with your code and it
keeps it nice and clean then you can go
ahead and write the other code you could
say have you have good J you again you
can say F J isn't equal to six return
and then you're still in the same line
yet you're keeping your code nice and
inline without indents so always try to
reverse it if statements to be negated
that you want to basically return or
finish with the F so that the thing
after it has the truth of the ever URL
you know what you originally wanted to
do comes afterwards so in this case the
we're checking of the length is last
there's nothing to do so we return so
then once we're here we know we have got
some tax that we can delete so this is
sort of the truth side this is yeah this
is what we wanted to do this is the
negative check that if there isn't
anything to do return so that's why we
try to always keep this every turn
that's about to this function so delete
text value first check we have something
to delete if we do remember the
selection now we want to delete the
character so same line of code same
thing and now we need to restore that
selection lap before and this time
because the delete deletes in front of
where you've got a selection so I press
delete here the S will disappear you'll
notice my index in terms of from the
start has never changed so if I start at
index 1 here and press Delete
I'm still at index 1 over and over now
I'm always at index 1 so you don't need
to actually add anything to the index
because it never changes when you're
deleting in front of the selection so we
remove that value dot length and now we
retaught restore the selection to
effectively where it was and make sure
nothing selected so that should now have
the same result as all the other buttons
let's just go back up to the delete
button add a little comment here
and press f5 to run let's do seventy
five point six divided by five let's go
now we didn't want the point let's go
back but I still eat twice to get rid of
that and that that's all looks like it's
working now we can also type so we do
five point four five fifty five foot six
divided by four and then let's go back
to here point five and space times eight
point seven so you can see everything
seems to be working nicely employer
sugar mine chicken times so all of the
buttons are now working I including the
delete button the C button to clear
everything everything seems to be nice
and functional so now we we almost have
a complete calculator here we've got
every single button working we've got
everything acting the way we expect we
can add all these things click equals
but that doesn't thing yet so hopefully
you've seen here you've got quite a nice
little bit of understanding about the
importance of using functions for code
to keep your code dry also we were
originally just inserting text like this
and then we realize we have to add this
logic around it and now with this
function we press shift and f12 you can
see everywhere that it's used you can
see here we use the function over and
over and over and over and over and over
and luckily because we've used a
function and not just pasted that code
into each position
we've only had to write this complicated
logic once and the same goes for the
delete we didn't originally have a
function and then when we needed to add
this extra logic it was time to move it
into a function so you got some private
helpers that do certain things then
you've got all of your button events
linked in you now need to just go ahead
and comment each of these classes so
I'll just go ahead and do this now and
speed the video up so you can see the
complete class
you
so there you can see everything is nice
and commented now in the whole + so that
the class itself commented the
constructors got a comment every
function has got a comment as well as
the code within its commented and as you
scroll through you'll see I simply added
a description adds the specific
character to the text of the currently
selected position and then I just copy
and pasted this and changed this value
this at the times the - the plus the
equals and again it might seem laborious
but trust me this is really really
beneficial going forward if you're a
developer that adds comments are you
much more likely to get jobs it's much
easier to understand your own code when
you go back to it in general it's just
one of the best things you can do so
many developers do not add comments to
code and that's just like selling a
really complicated piece of equipment
with absolutely no user manual this is
something that most developers don't
like doing but it's really as crucial I
can't emphasize enough how much you
should comment your code as much as
possible you can't have too much
commenting code so you can see here
we've actually got no comment on the
insert text value that's one place you
can improve again it says insert text
value but that's code so what I would
write is to say insert the value in the
user input text box I currently selected
session and that's a nice comment that
because we say insert the value which
you can see there visually so that's
good enough you can now copy and paste
this comment everywhere we need to so
you can go through and just really
quickly copy and paste the same comment
and now here equals we can actually
notice this as the wrong comment because
the equals doesn't do this so this
actually calculates the given equation
and use it input text there we go and
then the same for the numbers same
comment as before add their value and
then here we want to copy and paste this
same comment here and when I glanced
through code I always try to look for
effectively black text with no green
text above it that's a nice quick visual
way of realizing there's no comment
on code and is very you can see already
in this code that we're writing that I
don't think there's a single line of
code that doesn't have a comment if the
doors it's very rare like here and
that's really because we've set here
folks is the user import and it's a very
singular line of code so this I mean you
can really add the effects with the same
comment below but there's a few
instances like this where you don't
really need the comment here it's so
it's explained here and then when you
look in the functions nothing more to
see so it's a very very short and sweet
but other than that every single line of
code has got a comment and that's again
it's a really good thing so now the only
thing left what sir well let's just do
their see these using statements at the
top these were added automatically by
visual studio see how these ones are
gray these aren't used so you can go
ahead and just select them and delete
them and I just cleans up again further
cleans up your code keeps you nice and
organized now we can go ahead and
collapse the comments so you can press
the minus and then collapse your regions
and then we've got this one function
that's left that we haven't done yet
collapse this region and then you can
see now so a class that's already three
hundred and fifty two lines of code long
if we collapse the regions in the
comments you can nice and easily and
really quickly browse through this class
and fine things and and maintain so if
you wondered where oh the number nine
isn't working well you can glance
through your class really quickly and go
our number methods double click and then
you can steal the functions inside of
here and you can just go to the number
nine and there's your function so it
keeps it organized and when things are
organized it's much easier to work with
so in the next video we'll finish up
this calculator and we'll do this final
calculate equation so is press f5 if we
were then to type say five times four
and press equals we expect this text box
here to then have the answer so we'll
start with something really basic like
this then we can do things like five
times four plus open brackets two
divided by six point seven three closed
brackets and that's still a valid
equation then we need to get into more
complicated things such as handling
inside of brackets first and then
working out this value and then
exploding that out into the value of the
answer and then calculating the order of
priority of of these operators so by
default in math the times and divide get
done first before the plus and minus
which come last so we need to look at
the order that math equation should be
worked out in then we need to handle
brackets and then we also need to handle
things like somebody does this and it's
not a valid equation now instead of just
saying something's wrong we're gonna
actually save you type five point four
times five whoops F dot three four and
you click equals instead of just saying
nuts not valid we'll actually go ahead
and sort of select the text like this so
when the user clicks equals it's going
to actually say this part is not valid
so they can easily
see and they can even then just press
the Delete key so we're gonna have to do
some check-in that what they type in is
also a valid math equation so that's
going to be quite an intensive video and
it's going to be a lot more on coding
than visual so stay tuned</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>