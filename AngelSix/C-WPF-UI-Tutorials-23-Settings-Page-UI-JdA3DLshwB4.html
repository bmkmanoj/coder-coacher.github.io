<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# WPF UI Tutorials: 23 - Settings Page UI | Coder Coacher - Coaching Coders</title><meta content="C# WPF UI Tutorials: 23 - Settings Page UI - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/AngelSix/">AngelSix</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# WPF UI Tutorials: 23 - Settings Page UI</b></h2><h5 class="post__date">2017-07-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JdA3DLshwB4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so carry on where we left off in the
last video we've got this settings menu
to slide up with the back arrow and the
title and now we want to do this this UI
in the center we also forgot a logout
button which is one of the main purposes
I was doing this settings page so we'll
either log out put them somewhere so
let's just get to it let's first make
sure the solution still builds and that
we see what we're talking about with
this setting sliding in let's make sure
for set though words as a starter
project and then I think we'll start
with the pic chip that's a nice easy one
so we've got this page we click this
button and the settings page slides up
and slides out so that's still work into
now let's start filling it out let's
take a look at us we have a grid right
now with two rows so we have a second
row here for using with the content that
we want to use so let's go and add the
main content here where we've made a a
section for it we want to have again a
grid so we'll probably want a grid with
simply two columns and then in here
we'll have probably a stack panel so
let's just make a grid with two columns
and that wants to be in the current row
of the grid it's inside of us Row 1 and
then we want the column definitions
first width is going to be now depending
on how big the application grows let's
just make it make it a fixed size for
now and then we'll see how this looks
what I might do is almost make the whole
area and maybe not a fixed size by the
maximum width because you don't want it
growing huge so we'll see what it looks
like first
and then come back to this let's set
this it may be for 200 then the other
wet will take off the remainder of the
space now inside here will have profile
picture this will want a border what's
wrong with intellisense up we're inside
the column definitions so we'll need a
border on the profile picture in order
to have their corner radius so that may
be 8 and inside he'll have an image also
quickly add the image backgrounds and
samples and then I've got a picture of
rusty on my desktop so add that and we
should now be able to do image source
equals images samples rescue tag for
which slash there we are and we want the
size the size mode or something
blend the size now scale click old Phil
I thought it was Phil
how's that we need a background brush
not an image so we want the border dark
background to be an image brush for the
source of images samples velocity JPEG
there we go and by the default it looks
like it's at acceptor to fill anyway
just to check back let's do a height of
50 now's it's set the stretch so we want
to change that to something what it's
called
so that is um it's called stretch oh
yeah
and we want fill I think is hasn't
changed uniform to fill area and that
will revert that back to there now the
other thing is we want us to stay square
actually
so it's wrong too high binding and
actual width relative source glad this
source self and that keeps it square so
then if we were to make just this design
a high rigor you can see it's square now
we also want to fix the other issue
which is this needs to be vertically
aligned at the top so that's that and
this picture it will want a padding on
the right hand side here or a margin it
wasn't my wish just to a margin I'll try
to ten initially so it should be a right
border just take a quick look at that
visually see there should be a fixed
width now so that Scrolls in and that
looks really small actually compared to
what I thought it was going to look like
so we'll make that bigger I think we'll
also centralize this as you can imagine
when you expand you don't that's all the
way over here you want sort of a max a
max width so I think we'll just so we
can visualize it for now but in fact for
certain min and a max width maybe if not
we'll just set the entire size of this
grid so then I'll start with just set
the width of the grid to another 800 or
something and I can get rid of the
designer width and height completely and
then zoom that out of 50 so 800 looks a
bit bit stressed 700 now the other
thought is actually let's not do that
what is the minimum window minimum
window width that's the dialog main
window is 800 so the window width can
only go as low as 800 so 700 actually a
and okay number so let's just make the
wit to the 700 this thing clearly wants
to be largest let's try 300 let's see
what that looks like and this is kind of
doing there unnecessarily well it is a
fixed size the thing I always say not to
do I think in this situation it's sort
of it's going to work better because we
want it centralized so I think that's a
little bit too big now so let's just
drop that to to say 260 so they'll just
make this background red a minute
because that didn't seem to align where
I expected when I maximized it
oh yeah then the contents in your been
nice because I'm going to really large
screens this is 4k so obviously this is
oversized but that gives it a good size
and we shouldn't be able to minimize
past which is good so I think that that
work giving sort of the the settings in
the center is going to work now let me
just double check I didn't see it's
another as an issue of just noticed all
the animations are animating out at the
moment which they shouldn't be I just
notice that this was fading out and the
other thing was fading out that should
not have been happening because in the
animation we have a check that and I've
got a feeling this to do with this first
load in this five millisecond delay
before we do the animation both know
because of its first load ah yeah so
there's an issue maybe yeah that is the
issue so its first load we've got this
delay for size and then animate so we've
got this five millisecond delay but then
again that isn't the issue because when
we do the animation we'll check in here
its first load for the animate from the
left for all of them so when we first
come in and let's do the fade in it's
not the fade and it's sliding from
bottom in Reverse double check we hit
less a minute for the settings page to
move out the way and as I think you can
see there it's visible for the start
which is you know to be expected I guess
but it might be worth I thought we
explicitly set that to two collapsed
whenever we updated the value or was
that inside the do animation so first
load is true go in add slide the bottom
so zero so on to animate
to zero and fade out and begin and be
made visible so it should not really
seen there so we've actually told it to
not to animate with zero I think the
issue is even with a zero it's basically
animating so to double-check that we
change that to three we should see
slowly animating out so that's there so
let's try and fix that instead with if
we have and this will be hopefully in
the core it's in every one I'd slide the
bottom and fade out so would a quick fix
or less I'm thinking as basically if we
have zero seconds don't bother you in
any kind of storyboard just simply make
the element hidden so we can just do a
quick check here if settled except is
zero elements hidden so if we don't want
to see any animation make the element
hidden have a zero nation storyboard and
still all right out so as you see we
actually do set it to zero when we start
a storyboard when we tell it to be zero
but as we noticed
well maybe the video recording picked it
up but you can see slowly animating out
now rather fast animating out when it's
at zero so if we run this which is about
zero we know we have zero and we just
comment this out a minute let's see if
you can pick up the the red so you see
that red was there for a split second
which is not what we want so hopefully
this should fix that red from being
visible so no
okay let's just change up to three
change that back to three some
explicitly checking for a value three
just to be sure that we don't see the
animation so it's basically not it's not
working this invisible oh I know why
because we set the visibility here again
so that's why let's do a double check
here just change that to zero change
that back to zero and that like to zero
and we still see it now I'm guessing
that for the five millisecond delay so I
think what we might have to do is get
rid of this check here because we're
going to keep it hidden we do a check
that make sure make it visible only
carefully our animating because zero
seconds means no animation we'll have to
apply this to all the animations but
then we want to go to the step above
this that is doing the actual very
initial or wait here so before we do the
await we want to simply say if it's
first load I think we just simply want
to make the element mind you mag a load
of fluttering and have what animating
and do we have the animation value here
do animation
it's going to be a tricky one actually
let's just see if this gives us any kind
of visible issues just by default make
it him so we simply start the element is
hidden then we do a delay then we do the
load and then we show it if it's meant
to be visible and this should now get
rid of the glitchy so I couldn't see
anything there definitely didn't see the
red just look out for the menus yes I'm
pretty sure they're everything that was
appearing now doesn't and then hopefully
that still works yet and that still
works
yeah so that's let's fix the issue with
that slight glitch so we we hide the
element here before we have this delay
to calculate sizes otherwise it's
visible while we're calculating sizes so
we just need that line to fix and then
do we need anything else though to do
any specific thing in here now we did
one of the things actually them that was
to check this let's see if that's even
needed I don't think it is now I think
because it's I think there's just a five
millisecond delay yes oh now there we go
just show that animate out so this is
needed as well but then I and why did I
see that animate out because this is
using the same one you afraid to bottom
so we do need this check so a zero a
storyboard with zero seconds of
animation still animates which is very
interesting so bear that in mind and
let's just quickly patch up all of these
so before making it visible I want to
just cut that bit
before we make it visible we check if
we've even got any time and then every
test we make it visible otherwise you
see that tiny little animation which is
really a nine so a slight deviation off
the settings page but something that
needed fixing as soon as I noticed it we
can't just leave that in the application
so I'll just really annoyingly over time
and it's only only taking a few minutes
to debug and fix anyway
and then this is a marquee animation
that I made for one of the viewers that
wanted to do a scrolling marquee so that
is I'll leave that wallet is just a
little bit more complicated so I should
be all the animations fixed so back to
what we were doing now which is get rid
of the red background
that's a profile picture done on Harper
we want a little dot button to change
profile picture and then when they click
that they can browse for I guess browse
for a picture and upload the picture so
that'll be obviously in the future one
we've got the web server up and running
and we have somewhere to to upload that
picture to so for now I think I'll just
leave that hover off cause that's going
to be a good while away until we get
around to changing that but it's just a
simple animation and a button inside
there so it's nothing hard to our back
in the future now we want a stuff panel
here in the second column and then we'll
have or we need a yeah a stack panel is
going to be easier and then we'll want
make a style for this kind of we could
make a user control here for you know
having a name and a value but then each
one is different the password we're
going to have fading out in showing two
password boxes or three like a confirm
no old password new password confirm
password this is just going to change to
a text box so I don't think it's it's
not a large enough task to need really a
a user control I might change my mind
but we'll start off with a standard just
making it and then we might turn that
into a user control this is a profile
details
yes stuck panel on column one and it's
going to be a label text name and this
will obviously go into its own strapped
on it well yeah stack panel grid will do
grid or do we we want the whole thing to
be in a grid actually so we can do
columns now so this will be in a grid so
that whatever the biggest length here is
so change that from stack panel to grid
then live calm definitions calm
definition width equals Auto so just
take up the desired size calm definition
at WIPP this whatever is remaining and
we have the label of a few labels and
column 1 we also need to the road
definitions
the heart will be Auto for everyone and
we've got one two three four gather v
for the full length and a lot of sick
for fitting the button under here
somewhere so we got one two three four
five six last one we'll take the
remaining space then we have a name
username email password username
password then email there we have those
labels and you can either put them all
in one row like that and then values
another before you can just rearrange
the measure please because you're
explicitly setting the row so it doesn't
matter about order then over here this
is still just a text box and what's
going to happen is when the user clicks
here then it's going to change this to a
text box to add it to now change like a
plus and across let's go ahead and make
this content and text well so label
again technically but I think text block
I can't member which one I prefer to use
for the text block instead of label
actually because it's always going to be
text so text block text and no fast red
duck column is one that's now shrunk
everything down and we want all of these
to have the padding around them and the
one downside to a grid in WPF is the
luck of being able to put padding you
know cell padding and you can do it with
making a custom grid and code behind and
all kind
of things to you know have padding in a
grid and I think one way we can do this
is if we do an attached property on this
grid so let's first take a look at what
a grid is because it's a collection
obviously we want a collection object as
it's a panel and then it's a framework
element so we're going to have to go to
the panel level then in that case so we
make an attached property and we call
this panel panel child margin property I
think I've been calling them property
yeah and we name the file
and then the value changed we now notice
a panel and we want to so this is this
is the grid but we'll call it the panel
if you sure there's other types of
panels if you will but follow this
behavior just be have children so we
will get the panel which is the grid and
then for each child in there or are
there we might want to well let's be
fired once it's loaded or will it is
loading now what this will be fired
before it's loaded so we'll do panels up
loaded plus equals and we don't want to
do an automatic an actual thing we just
want to do a send events get rid of this
also generated one wait for panel to
load then we'll have power stock
children or Creek bar shy on that and
pound up children they are of what kind
UI element collection so that's going to
be what a UI element must cut to a
framework element which is basically the
lowest lowest UI element we can get to
of any practical use is var instead of
it is going to complain at me that's my
own coding standards telling me to use a
father so this explicitly cast it so
loop each child set its margins to the
given value so I'll have child as
framework element
then I guess do margin was new thickness
and we're going to expect we can do some
parse in here but I'm pretty sure we can
parse it from string somewhere and oh I
think it's a thing either with thickness
converter so when you do it in the sam'l
and you simply type in like margin like
here and if this is a string as you can
see and it just magically turned into a
thickness button code behind we don't
have that luxury
so what sam'l does is basically use a
thickness converter and the same feel
like double double things like padding
converter and well again not padding
lots of thickness but there's multiple
converters that pass in strings so you
can create a new and and you can convert
from string and we can then pass in the
value is a new value which i think is a
string and a string and that finally we
can cast the whole thing to thickness
like so so I think there's a long thing
should basically take in a string value
and converts your thickness to set the
margin so that means we can specify a
single margin to for being left right
top bottom and all for for being
individuals so that means we just loop
and set the margin so that's actually
all we should need so that's a nice
quick simple touch property and how I
expect to use this now is to do here
with a local coal on child marginal
value as say 10 making that big should
work when we compile
little they were unknown 10 have we
specified the type where is it gone
Arnold child marking so we forgot the
type here is thickness for the
perspective well actually expecting
strings because we're going to convert
you from a string to a sickness which
interesting we might be able to pass in
a margin in might automatically convert
but I don't think so
so you can actually see it's already
worked in the compile time so now we can
change this one value and you have to
compile because it compiled the thing
but we can now effectively set think of
this almost as a cell padding and you
know the cell margin and you will around
each individual cell so you can give
that a nice value now and specify there
we go like a decent padding around each
thing this was one of many ways of doing
that brothel that was a nice fairly
quick and easy way so back to where we
were I've noticed these labels now want
to be bold so if we can make a style
again but how simple that says for now
let's just get things in so font family
will set up to this red
and I'll have a quick look at that sort
of just want to visualize this in the
actual application as well oh I broke
something there's now nothing loading
what for broke is that my animation I
think my animations have broke
everything so when we did all this fix
for setting all these values to hidden
it seems to have all of a sudden broke
and I swear we tested that like this
slide in so is it because oh if it's
equal to zero oh yeah that's right now
that's wrong the whole logic I did was
back to front so if it doesn't equal to
zero you make it visible so it wants to
animate you make it visible
don't know how I overlooked that and did
it for every single one so it isn't
equal to it also begs the question why
did it work in the first place for
getting rid of the red oh I know because
then it was never shown and then when we
clicked if you've got shown so that was
why it worked so we now want to make
sure keep an eye out that the red will
change the grid back to red bright red
so it's really obvious if it's there or
not and we'll make sure we still have a
fix for that
and this is really where we want to
start adding some shared logic to this
so like almost this set of code that's
repeating we want to maybe try and add
some logic there so let's just go back
and make this grid read and I just make
sure we can't see it or a dark green all
do each other there's nothing there now
we've got the side menu so if we missed
one off animation in base property that
wasn't it so slide in from left I'm sure
this is the side menu
and seconds is doesn't look at 0 so it
stays hidden ah there we go so this is
because we want the side menu to simply
be there initially so we've also got the
case where certain animations are even
though the first load the first load
doesn't necessarily mean we don't want
them to be there like the side menu so
it gets a little bit tricky so let's go
to a quick look at that it's kind of a
half animation video and half other
video cannot create instance of settings
control why not okay another problem to
also look at quickly which is settings
control for some bizarre ease and
doesn't want to get created and I know
why because again an attached property
has been added so I'll guarantee my
touch property is what's causing the
funny issue there
clean everything build everything no can
give me any more info just create an
instance okay I do suspect it's that
property though if we move everything
from it or rather let's get back to
where it was working which is without
this grid and failing that we will yeah
so it looks like it's just grid which I
still say is this it is to do this or
this now highly suspect is this it just
doesn't seem to update accurately enough
to reflect that so it doesn't matter
then is it this
okay let's just quickly close and open
this do a complete clean and go to the
actual project close this down delete
the vs folder delete the bin and this o
do a complete clean of your project
we've done this before in previous video
what is to get rid of any free open not
now I sort of a complete clean of all
the WPF State because I suspect it's
perfectly fine it's just in a strange
state way it doesn't want to compile
Foley or clean Foley so there now it's
quite happy how there we go cannot
create instance of settings control so
as having an issue and it is with the
clearly with the grid and I still
suspect it with this so let's try and
remove that just remember like
completely bill don't see so pretend it
isn't so we do that so now it's happy
there and yet with either of them in one
or the other
it's simply complaining now so it's
definitely case it's complaining about
the profile picture only much remove
this hi finding actually close that and
remove that
and let's see if it's this binding of
heart to keep it square no image source
really so it does not like an image
source okay so maybe it's just simply
the paths that we specifies it doesn't
like yeah so something to do with this
path that doesn't like so um I've got a
feeling it simply doesn't like this
image brush somehow I think it's just
again a little glitchy bug in the samel
in creating it doesn't seem to want to
create an image brush from a part of the
design time when it's embedded in
another you know a higher level thing so
although this clearly works and if we
run it it works we're going to end up
with this annoying really annoying
complaint here I just flip around how we
do this too
the same way we get the main window so
we'll wrap this in a grid we want the
grid to have the margin slap can then
get rid of the margin the height is we
can chuck that on the grid as well to
make it square and then this background
brush let's just get rid of will not
have to do a a uniform mmm it's going to
be the other issue doing a uniform to
stretch thing again but let's just roll
with it for now she'll just board it
inside the grid
give it the corner radius and this time
we'll have that stretching to just
complain about one over there
we'll have this basically now this grid
we did a black round of Reggie to this
grid fills the whole thing so we're
going to use that as the opacity mask
and we're going to do either name to be
able to be found so callers masks and
then we'll now have another element
which is the one we originally wanted
which is now just going to be you can
technically just be the image directly
the source will now be images samples to
Rusty dot JPEG and image dot opacity
mask visual mask framework almond UI
element what's it called
maybe framework element nope a little
brush yeah little brush then it is the
actually I just searched for the word on
this visual brush and we bound it to a
container visual houses the visual is
now vining to the mask and that should
I should have just cut the borders so
maybe we have to move that outside and
chalk this in a grid then a grid pasty
mask and then of the image within that
nope oh I know why this has got a
transparent background left so we need
to set it a color there we go so now we
have an actually looks like it's filled
already basically filled there don't
like a uniform to fill by default no
it's basically gonna fill it hasn't
changed its height so let's just add the
stretch back to uniform to fill and then
change the height fifty meshuggaas after
the same behavior there we go so we've
now got exactly the same thing it's a
little bit more cumbersome but it's the
only thing that allows us to walk them
to the scene of this workshop for see
this now hopefully fingers crossed
ah really let's compile ah there we go
although we've still got the same issue
so that's got rid of the compiler to
here so that's all in we now just need
to okay something's going on with these
there's animation things really getting
annoying now I have to compile or rather
when you you're come in and out it makes
itself visible again and then I'm like
yeah you go back
come forward well I have to compile it
looks like but this is again include
some design time glitches going on with
that okay let's just finally fix this
side menu animation so what we have here
is none of medium from left of side menu
visible and that should actually animate
in so slide in from left let's just see
why that isn't animating so the value is
I made in what you should be we open up
so animate in the first load which is
fine because we want it to be visible
slide them from left and other problem
is seconds of zero because it's the
first load because it's the very first
state of you by default of you there
you're in the first state so really we
also want to pass in the true value you
know whether it's it's true or false or
let's actually fix it in the this part
here so start off hidden before we
decide how we animate if we are to be
and then click out initially so this
would be a value basically which is
there you know animate in or out so if
animate out by default okay a value
equals false position object no ok I
just do cast so basically everywhere
saying animate out by default that make
it hidden or the why show so now the
side menu could finally show there we go
let's fix the animation issues they
still work now have a settings menu or
the picture this looks a bit small but
don't go well as its small compared to
now especially okay
but this padding looks not big enough to
me compared to and then also you'll
notice when we animate when it's not in
focus so we move it to there and change
the picture to focus do we want this
fading over the top I think so it just
gives it you know that was the whole
thing we added and it looks nice there
I'm just thinking settings wise but
upselling it looks good so let's keep
that in to need more of a spacing here
and then more of a spacing there which
is internal so this is where I want more
more padding that way then two more left
and right padding them top and bottom so
this is where we'll see if our margin
attached property works for multiple
values so now I think it starts with
left and right so let's try 15 left and
rags
10 top and bottom and what's gone spacey
okay top and bottom let's stick to five
there we go let's have a look at that ah
I've just seen I swear I've just seen
that how to make out again let me see
yep I'm seeing this animator I'm going
to ignore that for the moment so spent
half the video fits in animation so that
looks like
that looks okay so now we need the
underlines we want a little bit more
space in there and then we want the
deland align to each box so we'll have
and this is where I think it will become
beneficial now to turn this into a user
control otherwise you'd have to have say
the individually adding an underscore to
to each property which we definitely
don't want so actually I'm going to
leave out the going to leave out the
under underline and in a new video
because this is dragging on a bit now
the next video will turn into a user
control each one of these so that looks
more spaced out as you fill in these
properties of it visually nicer so got
contents and sifted up row equals 1 and
Rho equals to 3 and then this user name
loop or just important example yeah
username luke password it's going to be
well that will actually just going to be
a static I was you don't want to give
away the length of anyone's password you
simply wanted to put some visual in
there so that will literally just be
this exact box like that and this will
be my email so let's see what this looks
like
so we starting get a nice appearance
here will then won't be on hover to show
a button but because that button is
going to be we don't want to start
adding too much this grid knowing that
we're now going to turn into a user
controlled per item so again we'll do
that in the next video so that each one
of these is like its own user control
and with an underline and then we just
simply stack them on top of each other
then we'll add all the view model
binding to bind to this properly so I
expected to get this whole thing done a
lot quicker than this but again we have
spent a lot of time patching up
animation things and in a book with the
designer here and but again it's good to
see what happens when you really design
instead of just skipping over and not
showing you what goes on so we've got
this so far without this nice UI
starting to match the screenshot and it
looks a bit bigger in the screenshot but
I think that's about right for size we
don't want to go too big and then once
we've added these buttons and the hover
effects you'll start seeing it come
together and when you click them you can
then change your name and click Save or
cancel and again we'll bind that fully
to a view model that's ready to
physically save those settings and get
those settings and that's where we then
have our database come in where these
settings are really stored or in terms
of when this is a web application that
would actually be you know pulled them
from the web server not directly from
just our own cache so it's again we'll
do the abaya enough to show that process
and then I think I just really want to
fix why this fingers will keep going
from a fixed animation to a broken
animation and then this is really
annoying as well why this keeps
happening so I'm just going to pause the
video on this and figure out why we're
getting these two plates you don't have
to sit and watch and then I'll simply
start the video and show you the
solution what it was but we've also got
some some issues with design time firing
events like this which is now made it
visible because it's no longer the first
I guess the elements loaded so it's no
longer the first load and then when it's
coming again it's decided to show the
element so I think I'm just going to
simply do it ignore design time on the
animation and simply you know what we
just need some more more handling of
design time visuals and then obviously
to fix the issue with why those
animations are still showing so I'll
just quickly pause the video and figure
out why and then I'll let you know what
it is okay so that took a little bit
digging took about 15 minutes figure out
what was happening is on the animate
menu the the attachment menu we were
getting two of these fired so two
unloaded events fired and it was due to
this delay here in some kind of weird
way that because one of the things you
do when you do this cell phone clickable
events it's my fault there when we added
escalate to fix another issue I put this
delay before on hooking our own event
this should always be the way work
should create the event you fire it
instantly on hoops itself otherwise
adding this delay somehow allow WPF well
we know how it allowed it because we had
a delay but basically WPF decided to
fire off two of the same event it
actually fires the unloaded more than
once so we were then getting called in
to do animation twice or four times
depending on how quick your computer
runs and then obviously in do animation
we then bubble down to if it was first
loaded whether we animate or not and
because it was the second time around or
the third it did a point three second
animation so to fix that issue I first
moved up the unloaded here to unhook
instantly and then just as an extra
failsafe because well in fact my other
failsafe won't really matter now but
what I did is while an attempt to fix
this was if the value doesn't change
we had one issue where we were comparing
a object here which should be a boolean
and an object here of a value and we
were doing a direct object to object
compare
not boolean - boolean so I had to
explicitly cast these two otherwise this
chequered fail anyway and then finally I
added this first fire event which is
just a boolean again a flag that simply
also do this check in the first place
for and this was originally first load
here is that we on very first loaded
default boolean values false so when we
set an animation by default to be false
if we did this check and they both match
and we returned we never do the
animation for animations that they want
to start off in the hidden state so this
was to fix that issue originally but the
check was never truly working and then
because we had this delay in here on the
loaded in fact we still have the delay
because we don't set the first load to
false until it's loaded so we'll keep
this fix in here because this is a true
check that do the values match or is it
the first time we've ever had this value
ie the default value being you know the
first value coming in then as soon as
we've had that we then change it to
false so the next time if we get a value
updated and they're the same value don't
bother doing anything so there's a few
checks here but basically we add a
boolean here of first fire we change
this from checking first load to
checking first fire and we set first
fire right after the check we fix this
comparison with a boolean and then
finally we unhook instantly instead of
after the delay so there's quite a few
little fixes there but now when we run
we don't see any animation of you know
the things that shouldn't animate so
everything's disappeared initially and
shows correctly which is what we wanted
so I don't want to bore you with all
that debugging of an animation because
we already did enough of it in the video
so that's the animations fully fixed now
we have the settings menu slide you note
we've got a picture we've got some
content and we're ready to move these
into a user control next and then add
the real function to be able to click
and edit so that's going to involve
creating the view models for them in the
settings view model binding the data to
them handling the click to show an edit
text box with a save and a cancel button
same flat password that will be three
password boxes will appear so again
we'll make a I'll have to make a well to
to user controls here they'll be one for
a text box when a text box appears here
and they'll be one specific to a
password though when you collect I'll
show three password boxes the original
new and confirm and then all of them
again up the save and the closed and
that I will link back to a view model as
well to do the real action so that will
be in the next video
and again sorry it was a little bit of a
slow video a lot of debugging but that's
as part of software development so I
like it to see at least some of that if
not all of it to understand how to solve
problems so again any questions let me
know next video should be hopefully in a
few days as long as I get the time and
we'll carry on and finish the settings
page</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>