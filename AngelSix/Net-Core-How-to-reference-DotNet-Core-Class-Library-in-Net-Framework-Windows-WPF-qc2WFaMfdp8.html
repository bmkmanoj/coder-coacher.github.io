<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>.Net Core - How to reference DotNet Core Class Library in .Net Framework Windows WPF | Coder Coacher - Coaching Coders</title><meta content=".Net Core - How to reference DotNet Core Class Library in .Net Framework Windows WPF - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/AngelSix/">AngelSix</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>.Net Core - How to reference DotNet Core Class Library in .Net Framework Windows WPF</b></h2><h5 class="post__date">2017-06-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qc2WFaMfdp8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is just a really quick video to
show you how to reference dotnet core
plus libraries in standard like dotnet
framework apps which is WPF apps so this
has been supported for a while but it's
it's very undocumented if you will it's
a very unclear way of how here your
reference things so we'll get started
get straight into it just make a WPF up
and we'll just do it as standard so
we're in Visual Studio 2017 which you'll
need to do this even you can work around
it but just install visual 2017 of you
on an older version then check your
solution compiles and then we just went
ahead right clicked on the solution add
a new project and we'll make a call
class library this time some reason it
doesn't put when you create another one
doesn't put it in the projects folder
puts it in the folder above so I'm going
to browse and put it in the projects
folder where the other ones are and then
this will just be a simple class with a
class one which I guess we can do public
static tests we'll just make some kind
of test function Oh cops if you actually
make it a function and then in here
let's do well let's just return a value
probably the simplest thing and then we
know it's you know we're getting the
data between the two applications and
then compile and make sure that compiles
and everybody will get to this stage and
typically the next thing you'll do is
right-click on references add references
you'll try and reference this project
then you build you can see a exclamation
here and you've also got this error
message you can't target this darknet
core so you okay then what's something
you might try is to change the class
libraries framework version here might
also try and change the WPF application
framework here I'd recommend changing it
to at least four point six point two and
if you install what's called the view
simply google for dotnet framework four
point seven developer pack and you
download and install that that will give
you this option to target four point
seven as well but four point six point
two comes a standard in dotnet in Visual
Studio 2017 so we simply select that one
and you think maybe that effectively
still doesn't now even though you can
reference it what you can't do is
reference it directly you can't
reference this project here which is
slightly annoying but what you can do is
reference a nougat package so first
let's just delete that reference and now
what you're doing the net call project
if you go to package here when I
generate a new that package on build and
this is the description you fill out
with everything you want that'll appear
in the nougat package manager so we'll
leave it as class library one for now
that's fine now we compile it'll still
build we've not got the reference of the
minis and we right-click on the project
and go open folder in and then we go to
bin-debug and you can see here this this
is your new that package so those your
output and then this is your new get
package now you see currently the output
is dotnet so net core up 1.1 well we
also need to create a package for four
point six point two so if we go to
google and we go to this page here dot
Microsoft comm yen - us nougat schema
target frameworks you'll get us target
frameworks page and this gives you this
list of these are the values that we
need in our project
so we just jumped back to visual studio
a moment if we right-click on the dotnet
core project and add a class library or
add new added your project name dot CS
proj you'll see by default you've got
target framework you changed up the
target frameworks a neighbor semicolon
we can now put multiple you can see by
default we've got net core app 1.1 if we
go back to here and we do a search net
for app you can see this is what it's
generating is generating a class library
a dotnet core class library we can
generate all these different packages
for different you know if you want to
reference a dotnet core in different
versions so we will pick the simply go
to the framework itself and then we're
referencing it as a class library so we
want to add this string here the net
4-6-2
paste that in there save reload all and
compile and now when we go to here you
can now see we've got a effectively a
dll for this that will support the
standard dotnet framework for point 6.2
and onwards so then you might think well
we finally done that coming out of
reference the class library again so
let's give that a go
and you'll see you still get the error
so at this point if you've got this far
most people just give up and get really
annoyed so it's actually not complaining
it compiling we just got an exclamation
there so we've run everything runs so
let's try and actually access this one
so we then do for a equals plus library
1 dot plus 1 with test and let's see we
got the information back
so now you can see we've effectively
managed to link a dotnet core app to a
WPF app and the only downside here is
you've got this exclamation which
doesn't really give you any information
and trying to find that information is
you know the tooltips don't seem to give
anything it's so what we can try is
simply close and reopen the whole
solution so if we go to file close
solution and we reopen the solution
let's see if that exclamations gone so
you see you've got this exclamation it's
all working and you've got a direct
reference but this is not technically
the way you'd typically rappin so this
seems to work this will probably work in
future versions like very near future
where you can simply reference at this
point and you don't need the nougat
package so you could uncheck this you
know nougat package you wouldn't
necessarily need it so then if you're
okay seeing this and you're happy to
work through it and it seems to work for
you that's fine if you want to do it the
more official way of you will you
wouldn't have a reference like that you
delete that and instead when you're
generating this nougat package here you
want to reference as nougat package
which will stay up to date all the time
because it's been built all the time the
only thing is then if you go to advisor
I've just copied this path here which is
the path to this folder and then if we
right-click on the WPF and go manage
nougat packages and then you can see
we're searching here for which source
have you clicked sackings
you can add you can see we've got
specific locations here now we can add a
location and we can simply set this
location to a class library and we'll
just call it class library one and it's
not really a nice way of doing it just
having aged
you know a direct link in here for every
project that you do for local packages
but at the moment that's how it works
and that's how you can get it working
the other option is you could have it
compiling the either compiled in the
Nuba package manager in here you can
have this compiled into a different
location or you could simply have a
build event on post build to copy this
folder or you know specifically this and
listen this to a more generic place like
I've created on my C Drive just called
local packages so you could do multiple
things to streamline that process but
for quick lesson to show you in this
video I've simply added a direct link to
this folder so that it finds closing out
but it finds the package in this folder
so now if we go to the drop down of
sources and select class library one and
say not found nothing we might have to
put it inside a subfolder so if we again
bit nasty but if we just go to one
folder up say and update that will that
work and it sometimes just needs
refreshing so it should find earlier I
was uninstalled so browse it's found
class library one so that's a double
check if that works with the default
because sometimes it can be a bit funny
on the structure of where the nougat
packages are so that's fine it's happy
just pointing down at that folder so if
I only will have a effectively a local
package of this class library that we
can install like any other nougat
package and now you can see it installed
so if we then update our plus library so
two and compile let's see if we get the
up-to-date string and we had a
breakpoint it would help
- you hover over you can see we've got
the old one and that's to be expected
because this is a new book package the
way we've referenced is more of a you
know it's a package ready to be
published and even though it's
regenerated the package it hasn't
updated because we haven't changed like
a version number so we went for the
packages it still thinks it's the same
version still thinks it's the exact same
file so we uninstall and reinstall and
run then you get the latest one so
forcefully updating obviously fixes it
what you typically do is you'd make this
class librarian whenever you've got to
change that you then want to push
because that's just how everything
typically works these days your maker
you know packages are all these are
packaged nuga packages the whole of
the.net framework is now nougat packages
so we'd make a change to our class
library and then we would right click
properties package and we would update
the package version to 1.0 point one and
what you should see then when you build
if we went to manage nougat packages you
can see now it's got an update just like
you see with all the other nougat
packages that you have and it's telling
us to update and there's also a hint
here to update so if we run it right now
we'll get the old one with the two
string again and then if we run the
update
and then run again
we've got the new string game so ensure
that's how your reference dotnet
libraries in standard applications the
the best approach is the nougat package
manager which we've done here and but
the rather the thing that works right
now I do think they will support it more
in future and I don't even know that
technically any issues is instead of
doing that so long as you have
so we uncheck that save close so long as
you right clicked on your dotnet core
application edited in change target
framework to target frameworks and then
added the dotnet 4-6-2 into there and
then in your WPF made sure your target
four six two you can then just right
click on the references add a reference
to the class library and it will allow
you to add a reference it also allow you
to build and it will also allow it to
fully work so we had a breakpoint there
miss that one we've got a fully working
up to date code that doesn't need any
kind of manual updating of references
the only thing is you get this
exclamation mark and somebody might know
the answer to that I haven't done much
research into to what that is what it's
fixing it could just be a general
complaint that you can remove I mean we
got add fake assemblies we can we can
collect that maybe that gets rid of this
a complaint nope that's just a general
tag so let's just remove whatever that's
just done so you can somebody can have a
loop axe potentially removing this
exclamation mark and just post it in the
comments if you find a way of how I just
simply haven't bothered really tryna so
you've got two options there but either
way now you can reference the class
libraries so hopefully that's showing
you a way to now reference your net cool
plus lobbies in your UI he'll front end
and hopefully that was useful again any
comments questions just leave them below
and I'll get back to you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>