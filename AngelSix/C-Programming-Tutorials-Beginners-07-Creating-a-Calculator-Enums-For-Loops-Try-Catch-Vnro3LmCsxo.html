<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C# Programming Tutorials: Beginners 07 Creating a Calculator - Enums For Loops &amp; Try Catch | Coder Coacher - Coaching Coders</title><meta content="C# Programming Tutorials: Beginners 07 Creating a Calculator - Enums For Loops &amp; Try Catch - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/AngelSix/">AngelSix</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C# Programming Tutorials: Beginners 07 Creating a Calculator - Enums For Loops &amp; Try Catch</b></h2><h5 class="post__date">2016-12-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Vnro3LmCsxo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the last video we went over creating
a basic calculator let's press f5 to
show you so we've got all the buttons
all the functions these just insert the
values the delete deletes things in
front of the cursor the seee clears
everything and I've build a button adds
the values pressing the equals runs this
function here calculate equation which
we haven't filled in yet and this is
what we're gonna do in this tutorial
there's quite a lot to go through so
we're creating our very advanced parser
something that converts this string that
you type in into a a mathematical
equation that it completely works out
resolves and outputs into this label
here so you don't need to fully
understand how the calculator works
because it's gonna be quite complicated
and over most of people's heads the
point of this is more about learning
these these skills in c-sharp so in this
tutorial or potentially split over
multiple depending on how long this
takes you're going to learn about enums
enumerators creating new classes in new
files instead of just in this file
recursive functions that's functions
that call themselves and then switch
statements so let's get straight to it
I will tackle enums first so an enum is
a type which you give a name and you can
have multiple names within it so if we
have in this case an operator and we
want to do just run the calculator we
want to do say a times R divided a -
applause we want to give those names in
code we want to give them the name ID -
divided and plus an enum is a perfect
place to
a perfect thing to use for this so start
by creating a new file so go over to the
right hand side right-click your project
add and then class at the bottom it's
not gonna be a class but a class is just
err it's just gonna create a code file
with a blank class since that's fine
let's call it I always call code files I
try to keep each code file having a
single class or a type or an interface
within it so you'll have lots of
different files but that makes it really
easy to find what you're looking for so
if you know you've got an enum we're
gonna call operation type you can look
in this right-hand pane for operation
type so let's call this operation type
and press enter and you can see it's
created this default let's create a file
over here firstly called operation type
it's added it to the namespace which by
default of you right click on your
project and click properties this
default namespace here is what gets
filled out when you create new classes
so it's added the default namespace
which your we go to the program also
matches which means we can find this
whatever's in this code file directly in
this file which is what we want as well
as in this form file it's got the same
basic calculator namespace and then it's
got a head and created a class for us
with that name which is not what we want
we want in enumerator
so first let's make this public so they
can be accessible and you type enum
instead of class and this creates an
enumerator so this is the type the name
of the enumerator and then the
enumerator inside the curly brackets can
have values separated by a comma
so we'll do add - divide and multiply
now all's an enum is is a number any
number so it can be assured a bite and
int a long basically think of it as a
whole number you can even go as far as
to define numbers to these names they
give these like equals 1 equals x equals
7 any number you want you can give them
numbers you can also then convert an
enum to a number which again will be
more useful in future videos if you
don't specify a number then by default
the first one as you can see will be 0
the next one will be 1 and 2 and it will
simply add on so default numbers for
this circumstance is fine again we'll
give this a comment type of operation
calculate that can perform and then you
can also comment each one of these
values so you can do ads
two values together sing for the rest
and there you go that's our fully
commented enumerator and that's as
simple as it gets and in enumerator as
almost always public you define it with
enum you give it a name and then you add
whatever text descriptions you want
inside separated by commas so we go back
to the form one you can see we could
then do the same as when you do a
variable like an int I equals something
or you know a string you can now use the
enum just like a type and you access it
with the name we give it so you can see
here operation type and as our
description we wrote type of operation
the calculator can perform so you can
use an enum just like a time now so
mining on then if we do equals
intellisense pops off simply press dot
and it will pre type operation type for
you and put a dot then you can see all
the values we can use now we use odd and
there's our comments again watcher you
can see how useful adding comments to
your code is ID divided minus multiplied
so that's how you define well how you
use the enum that you've created it can
also change like the VAR if you like and
that's really all the rest 10 ohms
there's nothing more simple than that so
you wanted this enum to be a number for
whatever reason you can simply cast like
so by putting a parentheses before in
the type inside this is an explicit cast
and you can see now my enum as an
integer and it will be the integer 3 so
we'll use this hopefully in this video
it might be in the next one and we'll
use this to keep track of operations so
covered enums we've also covered new
class files because by class files are
some women segregating things into
separate files into code files
we'll go ahead and create one more which
I know in advance we'll need which is an
actual operation so if we just press r5
you imagine we write a statement five
plus four divided by two times four
every time we hit this operation or this
operator here the left and the right
side is an operation in itself so you
have to perform this operation firstly
you have to do two times four which will
give you eight and then this will boil
down to five plus four T bar by eight
and then similarly this is then an
operation that needs to be performed
which is four divided by 8 which will
give 0.45 and then you've also got this
as an operation so that's three
operations we'd have to perform to work
out our entire equation so we need a
clasp to hold the information regarding
an operator so in an operation which you
can think of as it's got a left side
it's got a right side and it's gone
operation of doing something the plus
the minus they divide all the times so
let's go ahead and create another class
over here we'll call this operation this
is actually the correct name in the
correct type for once we just want to
make it public so it's a public class in
its golden operation and we'll say holds
information about a single calculator
operation this will need some public
properties so we want a string because
the what we're talking in the calculator
is purely a string it's not numbers yet
or anything known we have to pass that
into something known I will literally
call it left side Gatton set so these
are basic public properties which we've
covered in previous tutorials give a
comment
a left side of the operation now
similarly we want the right side and
then we now use our enum that we created
because we as well as the left at the
right side you need to know the
operation that we're going to be doing
so it's still a public property but this
time that I as the enum that we created
the operation type I keep typing the
word before instead of perform for some
reason the type of operation to perform
and then I'm trying to think ahead here
I believe we may or may not need an
inner operation for when we're grouping
things together when you've got like
parentheses grouping sub operations and
things so we might not use this year
that we haven't made this program yet so
I'm trying to just think ahead but we
can easily remove this after blast add
in a operation and to be honest I'm
still not sure what the comment should
be the operation to be
performed initially before this
operation
maybe but again we'll come back and
review that I'm not sure whether we'll
need that or not
we'll make a region around these to keep
you clean again we've covered regions in
the previous tutorial just a nice way of
keeping you Coakley public properties
and we'll end it down here and then we
want to create a constructor so when you
create a new operation by default we
want to set these strings to empty
strings instead of nulls I'll just help
us as we're going through the logic that
we don't have to do null checks we can
be assured that they're not no by
creating blank strings so you can create
a constructor by typing the word public
and then no return type so you don't
clap for a door into anything else and
then just the name of the class
operation open closed parentheses
because we don't want to accept any
parameters and that creates the function
now there is a shortcut doing
constructors so I still like that
simply type C tour and then tab twice
and that'll do exactly the same thing
so I always use seat or double tab to
quickly create the constructor just
minimize this region for a region around
this
then in here we want to do this top left
side Aires and empty straightening on
the star outside as an empty string
a lot of comment also comment the
constructor simply say default
constructor and that's now a new class
in a new file as you can see here then
on the right hand side it's nice and
easy to find what you're looking for you
know you're looking for the operation
class you can clearly go to here and
this class is then nice and short it's
53 lines long and it just keeps thing
got organized so it's always good to
keep code in small bite-sized chunks so
this is our class ready to use now in
operation this can basically store a
left side or right side and an operation
and we can now use that in our functions
let's go back to the form let's get rid
of this comment because we're doing this
and once the users click the calculate
the equation button we got the input and
we store it in user input now we want to
work out the result and we want to call
as call it the pass operation because
parsing is converting the string to a
full equation I'm working out and we
haven't made this function yet we're
gonna make this next so again you can go
ahead and type this method this function
here a shortcut as we've seen before
hover over click that arrow and generate
method alternatively hold ctrl and press
the period the dot and then press ENTER
and it will generate a function as best
it can so because we used var here it
doesn't know what result were expecting
what type so it defaults to an object we
want to return string as a result we
could return an actual an integer float
or a double because it's a at the end of
the day it's a mathematical equation
it's working out a number but because
ultimately we're just gonna stick this
back into a label for our strings fine
so we've now got a private method that
returns a string that accepts nothing
unless it's what we want to do all the
magic
so let's comment this function passes
the user's input and or the user's
weijin and calculates the result and now
we've got to actually do this function
so this is gonna be a really big task
there's a lot to go through here and a
lot to think about the way we're gonna
handle the failed attempts because you
can have a lot of say invalid equations
the user can type or do something wrong
you know you can type in invalid 0/0 or
we can just tap the word hello the age
can't be calculated because there's a
lot of instances in the whole operation
that can happen you know at any stage of
the operation the quickest and simplest
way to to handle that logic to escape
out of sort of your eaves analysis and
switches or whatever else you're doing
in this long operation instead of trying
to constantly say if this is invalid
then return this if that's invalid
return that we're simply gonna use
exceptions and this also helps us with
exceptions that get thrown when we
calculate things like 0/0 or you know a
number divided by zero will then throw
an exception anyway in c-sharp so by
making use of exceptions and simply
catching all exceptions which is when
something's failed we can then output a
well we can return a string a generic
message that states the exception you
know something that's gone wrong so to
do that it's called the try catch I'm
inside this try inside the curly
brackets any code that throws an
exception so we did
rhonu argument null exception
something doesn't know and then inside
this catch which comes afterwards
similar to I can give and announce wait
put if there then I'll see if the try
happens and if anything inside this
block throws an exception this catch
function is called it's looks similar to
a method of function because you have
parentheses after the word catch and you
can actually have the parameters in this
case just an exception so this is just
how a try-catch looks you have you don't
need to throw here this is where your
code goes this section here we have a
try with curly brackets your code goes
in here then you have a catch and you
open up our parentheses you put
exception and then just name the
exception give it a variable name that
you can then access in here and the way
this works is if this code runs and
nothing goes wrong this never gets wrong
however if this runs and something
throws then it jumps into here and the
exception in this case the argument null
exception will be this exception it gets
passed the inners like in an argument so
then we've run custom code here so what
we want to do is we want to try and pass
this operation if we fail we want to
output the reason for the failure the
exception message so in this case we'll
return a string so we'll do a simple
case of a return and I'll make a string
and we'll say invalid equation dot and
then we'll use the curly brackets on an
output Y X dot message so that's going
to output the message in this case here
we've passed in a message of your open
the parentheses you can see a prom name
the name of the parameter that caused
the exception so basically whenever you
create an exception usually what you
pass in becomes the message or part of
the message so well simply output
whatever the exception is the basic
message the information that describes
the current exception as interesting now
it's not complaining that oh it's
detected I was going to say this should
be comply
in the not all code paths return a value
because this might do something but
because co-ops intelligence not to see
this never will go past here because it
always throws it's not complaining so if
we did we got rid of that you'll see
what I mean
this should update there we go not all
go past return a value
so it's figured out that this function
could run this perfectly fine and then
there's nothing being returned there's
no string so for now let's just test
this actually works as passed equation
at pass operation which should do
nothing but throw an argument not
exception and return the string which
should then be stored in this result and
let's change this to output to the the
results in the UI which is the label
below the input text which we called
calculation result text and that's the
actual label and then we want to set the
text of the label so we want to set the
text of the label to the result of the
pass operation which right now should be
the text invalid equation and then
probably something like argument no
exception something is not so let's
press f5 and let's see if this works so
here's the label we're talking about
please enter an equation and that's what
this calculation result text is so we're
going to change this text to whatever
this does so we click equals to run this
function and you can see equation
invalid value cannot be null and you see
these little dots below the label that's
because it's a multi-line string so we
put a breakpoint here just after this is
wrong and we've run it again you'll see
the text has actually got a forward
slash
so backslash R backslash n which is a
new line and then it's same parameter
name something that's not so we've got a
slight issue there where the label on
the UI we open the form by
double-clicking the form this label is
not multi-line
so this is just a sort of a quick dirty
fix certainly wouldn't be used in
production you'd make this expandable in
some way or scrollable but for now let's
just expand it louder plus f5 and run
and there you can see we get a little
bit more information about there the
message that's good that means that if
something were to go wrong we're gonna
see the information here the user is
gonna be aware says click stop let's go
back and now we need to actually start
their operational need to start doing
things so now you can see the whole
operation is wrapped in a try-catch that
means if anything goes wrong that we
figure out in our code shouldn't happen
we can simply throw an exception and we
can then be assured it's gonna be output
to the user so let's get started with
this function first thing we wanted is
the input so actually you'll notice I
didn't bother passing in a string here
pass operation and this user input sort
of pointless because we can access this
inside our function anyway so let's just
cut this
let's move this and place it inside our
pass operation function so we've started
by getting the user input so let's
comment that get the users equation
input that's nice and simple now
one thing I'd suggest to do which is not
always gonna result in oh it's just
return string got empty for the moment
so I can run this press f5 so let's say
the user types five space plus space for
now that's a perfectly valid equation
there's spaces that we should just
ignore and this is also helpful when
people copy and paste things like city
where copy and pasting from the internet
they had a plus or for any other reason
we just want to remove them spaces now
we could go through an extreme and
actually figure out that say you do five
points for space
for and we're just going to remove all
spaces from the equation because nothing
in our equation needs spaces that means
that's going to remove that space and
that becomes five point four four plus
four now technically that is not valid
because that's 5.4 then a space then a
number four really it's not it might not
have been what was meant but for what
we're doing again it's not about
creating a perfect calculator or
anything like that it's just about
learning code so for our purposes we're
just going to remove all spaces just be
aware that if you put a space you know
between a number it's gonna get removed
and look like that which we're fine with
like say it's not about making a perfect
calculator it's more about the the
practice of understanding the code so
the next thing we want to do is remove
all spaces we've done this before I
believe in a previous tutorial it's a
simple case of saying the user import
well let's just call this input it's a
little bit easy at the time
input equals input dot remove like that
we place and nothing goes right yeah
replace we're gonna replace space where
than empty string and that will remove
all of the spaces now the next thing we
want to do is we'll have a single
operation so as we mentioned before say
a an equation is five plus four times
two divided by four something like that
now ultimately this is one equation this
one operation it's just that this is
where the anyway in operations
potentially come in useful so this
operation as a single top-level
operation would be say the left side
would be five the right side would be
plus so the operation would be plus the
right side would be potentially an inner
operation and then boils down to being
the right side again I'm not sure yet we
haven't made it but that's the thought
pattern so first we want a operation
variable which is just a new operation
again like say don't worry too much
about actually understanding all this
operation and parsing and calculation
stuff it's mainly about understanding
the enums the classes and then when we
get to this stage recursive functions
and switches these are the two things
you now just want to understand so
you're working through this it's great
if you understand it but honestly the
only thing you're trying to take from
this lesson is to learn these two things
here we cook what I've recursive
function is and what I switch to us it's
just that it's good to do it in a
real-world example so you'll see how
this calculator really works and then
you you're seen exactly how it's used
you're not being told you know this is a
recursive function and this is what it
does and here's a pointless example yet
you're learning real code at the same
time you seen where it's actually used
so as comment this
you know top-level operation now again
I'm making this up as a go but I believe
we'll need like say a flag a boolean
that keeps track of whether we are on
the left side or the right side of the
current operation as we're working our
way through a string of again let's say
five plus four or something like that
those are we start this side which again
we may want to go backwards but we'll
start this side you're on the left side
by default you haven't hit any operator
yet so you're gonna sort of figure this
information out so a five point two
three you're gonna start here you're
gonna figure this information out you're
gonna start here and work out that this
is a you know a number that's a five
then a dot than a three than a four then
you're gonna hit this plus and you're
gonna say right that's the operator
that's inside this operation there's a
plus and then you're gonna change this
left side to false because you know on
the right side of the operator you're
then going to try and figure out the
next number and then you're gonna hit
this times say and you're now going to
at this stage you're going to want to
work out this previous equation because
you're now got the left side and the
right side on the operator you can go
ahead and resolve this equation and add
these two together and then this becomes
the new left side of the operation and
then the x is then the new operator on
the right side you start to you know
pass through again don't worry about all
that as such that's just generally what
we're going to be doing so you can try
and follow along a little bit until be
honest we probably won't get to the
point of making this a complete
functional calculator that handles you
know order priority and parenthesis and
all the other types of things because it
is fairly complicated and it's sort of
pointless at this stage but we'll take
it far enough that you can see and
understand recursive functions and
switch
and at least the calculator doing
something useful so as mentioned we're
going to work away through the strings
the input from left to right and parse
it character by character so they're
actually going to be learning for
functions as well for loops rather so a
for loop is as the name sort of suggests
I should really just leave this on the
screen instead of key type in a random
equation if we do a form so this is how
a for operation looks our for and then
you've got three parts to it
so you have to define a value first so
for int and typically for loops have a
variable called I it's just convention
it's been there for decades and it's
just you know the the name you usually
give inside a for loop is just a single
letter I and then if you do another loop
inside you usually put J and K and
things like that don't ask me why it
just goes back to me years and years ago
when I remember doing this in c and c++
he just is the convention and so the
first part of the for loop is where you
start so you have a variable called I
and it starts at 0 then you do a
semicolon to separate the three sections
of the for loop the next thing is the
conditional check the thing that says if
this part's true it's gonna carry on and
keep looping so it's similar to a while
loop this thing is gonna keep looping so
you want to say I is less than the input
string that we're going to be working
through dot length so the length of the
string semicolon again and the third
thing is what happens after each loop
it's going to deal I plus plus which is
short for I equals I plus 1 to basically
up the number so the number starts at 0
and then while the number is less than
the length of the string it's gonna
first
we run this function what's inside here
then it's gonna come to this third bit
and add so this for loop you're
basically going to hit whatever code we
put inside of here so if we do just so
you can visually see
let's do message box shell let's just do
I you probably got it cut that to a
string so we're gonna just run this now
and you're gonna do as you can output a
message box to the screen with the
number that I currently is so what it
will do is the input dot length say this
was the input the length of that is one
two three four five six sever many
characters long it's gonna start at zero
it's currently less than the input
length which is greater than zero that's
fine so then it's gonna run this code so
it should output zero then it's gonna
jump to here it's gonna add I up so it's
now gonna be one it's gonna do this
check that were still less than there
and then it's gonna run this again and
then it's gonna run this then it's gonna
run this so basically it starts at zero
it runs this check if that's fine it
runs this then it goes here then it runs
the check again then it goes here so
it's basically like a loop that says
while this variable or rather just while
in general this statement is true run
this function and then once you finish
once you get to the bottom do this so an
equivalent way of writing that well
let's first show you what it does
what this should do is output 0 then 1
then 2 then 3 and it should do it for as
the the length of the string so as press
f5 and that's just run you see we get
nothing because the first check is if I
as less than the input dot link for the
input that length is 0 because we
haven't ended anything so it never runs
so we just put a space in so it's now 1
character long we press equals I've got
something wrong here so
ah I know why here because we've put the
input is the input dot replace we've
removed the spaces so this is still 0
length because we removed the spaces
let's just put a number so the number 3
that's now you know one character long
so this input dot length is 1 we press
ENTER and you can see it's a zero so
it's ran once so we put one one one it
runs once twice three times you can see
the output number is also the index of
the string the point at which we want to
look at the string so at index 0 which
is the first character than 1 then 2 so
that's what a for loops doing it's
basically looping over and over and over
and running this code so what we can do
inside here now is we can basically
query this character and then process
something than this then process
something than this until we've reached
the end of the equation to try and
understand the fall of batter you can
write this exact same thing without the
for loop so you can do something like
it's quality J just because we're using
I here so you can visibly see that if
you do into I that's right in J equals 0
now you could do a while loop which
we've done before so you do a while J
and basically you're doing this exact
thing here well J is less than input
length and then you could do this the
message box dutch shell j and then we
mentioned it that once it's finished
running this it then runs this so we
just do that ourselves here J plus plus
and now this we just comment this out
this code now is identical to that for
loop and it might be a little easier for
you to understand so what it does is
create a variable starts at 0 so that's
this bet that runs before the 4 and then
it says while this is less than input
length so while this bit is true
this code which is then run here and
then he jumps back up and does that so
we do that there
so this while loop should give us the
exact same result so let's press f5 1 1
1 and and you can see down here 0 just
gonna keep jump into the middle so you
know 1 2 still I came down here 0 1 2 so
you can see it works exactly the same so
you can use either it's just very rather
yet there's no point doing this because
it gives you you can see you have to
create a variable in line then you've
got a while then you've got to put this
inside your code you know your main code
loop it's just a little bit uglier than
using a for loop so a for loop just
think of it as this bit runs then this
is sort of a while this statement is
true it does this and then it does this
and a for loop is almost exclusively
used for looping through an array it's
it's the most common use of a for loop
is you have an array of characters here
you have a string and you want to loop
through them one at a time you want to
go there they're there as you go through
so that's quite to update this message
box and let's output the character one
at a time so that would just be input
and then a square bracket and then the
left the I number which is the position
and these square brackets are array
accesses so this means because the
string is an array of characters you
open a square bracket and you're
presented with a function basically it's
not a function but you can think of it
as similar it's going to return a
character and it's going to accept an
index which we've been through in the
previous tutorial on strings that this
wants to know what position inside the
string we want to get so we want to get
position 0 initially which is say we
enter this it will be 5 and then it'll
loop again in the next position would be
this which would be a dot now we've got
this error because we can't output the
message boxes expecting a string and
we've got a single character so fix that
with an explicit cast bug to a strange
honest no you can't do that let's just
do a dot to string at the end which is a
nice helper that just creates a new
string for my character nice I've run
that again with f5 and this time we
should see that it outputs what we
actually type so we tack 5.4 loss 3 now
our code should run get this string
remove the spaces so these should go and
we shouldn't see them in the output and
then it should output 5.4 plus 3 one
after the other
again any 5.40 wondered what I've done
that must have clicked behind 5.4 plus 3
let's do that again
I've point 4 plus 3 so you can see we've
now got a loop a full loop that's going
to loop each character of what we've
entered in that text box that's for
loops for you there's again not much
more to learn
you just you'll just realize where you
use them and why the more you go so just
for a comment here loop through each
character of the input
starting from the left working to the
right let's get rid of this temporary
message box and let's just put a quick
note that I mentioned again we probably
won't go very far with this calculator
but let's just make a note in code it's
good practice that we're not gonna
handle order priority so we'll just say
to do because it's something you might
want to do in future handle order
priority and then we'll give an example
of what we mean there because it makes
sense now but won't in future when you
come back to look out there so we did 5
4 plus 5 times 3 so it can be anything
this is just a comment
and in this case should calculate 5
times 3 first then 4 plus the result so
4 plus 15 so that's how math works there
as I mentioned before there the x and
the divide take priority over the plus
and the minus if there's no parentheses
around so by default if you see 3 you
know a set of on parentheses equations
then the operators go in a certain order
and the the x and the divide are higher
priority than the plus and the minus
again makes no difference if you
understand that it's nothing to do with
code it's purely math but we've bottle
on note here in case you want to
continue and finish this calculator and
make it completely you know usable and
finish it you can potentially come back
to this once you learn more code and
you're comfortable doing this and this
can be sort of your final challenge to
try and get this calculator fully
functional so the next thing we want to
do as I mentioned you basically trying
to extract numbers for the most part so
in an equation you're trying to get the
left side and the right side and the
operator to do an equation and by
default you start at the left side you
haven't gone operator at the very start
you're basically expecting a number to
again with so you want to find out if
the current character so at the start
it'll be there so the current character
is a number or a period because you
could have a fractal number so what you
need to do is you need to check if the
character is 0 1 2 3 4 5 6 7 8 9 or dot
now there's multiple ways of doing this
one you could say if and we mentioned
before to get the current character its
input I like that so you could say if
the current character equals the
character 0 then you could do all the
input equals 1 and you can carry this on
you can do it B equals 2 3 4 will do
this 2 3 4 5 6 7 8 9 you you can see how
long that if statements gonna get I mean
that's basically what you need to do you
know you need to check if this character
is this or this or this or this or this
so if it's a number so the comment is
check everything
it's a number now there's a much better
way of doing this so you can't do this
there's nothing wrong with doing this
obviously you change this to two and
this two three and four and five
there's a much more efficient way of
doing this if statement and it does
exactly the same thing these are the
values we want to check 0 1 2 3 4 5 6 7
8 9 and . put them into a string make
them a string like that and then you
want to use a link so this is again we
don't go too much in depth just to what
we'll link is right now it's just nice
that you can see how to use it and
there's a function called an e that's
working on a string so we've defined the
string then we just simply used it
directly we've done daft to access this
extension function and we want to say if
any and then I'll show you how it looks
you open parenthesis and you have this
sort of inline function and again just
take note of what it looks like so we'll
close the f off and then this an e is
going to loop through every character in
this array so it's going to loop through
this as 0 then 1 then 2 so this first
thing you specify you specify a name
this can be anything he could be the
word test be the word character can be
whatever you want I tend to use just a
single letter so this is think of this
is like a parameter you pass into a
function we've given it the name see
this see you then du equals and then an
arrow which is sort of just like it's
not actually don't think of as an equals
equation or a greater than this is
purely a-- it's meant to look like a you
know this equals this function in front
type of appearance so this C will be a
character because it's it's basically
going to iterate through every single
one of these and then it's going to run
whatever we type here in this little
section and it's like a boolean
statement so it literally means they
have any of whatever we return here are
true then it equals true
let's do the equation first and it might
help to explain it so we want to say if
see if the character equals or in this
case let's write it as round of the
current input so the current character
we're we're looking at equals C then we
do something so let's look at it this
way
this is a string so let's move this out
for now just so you can see it easier my
string equals this there's a string and
then on that string I'm gonna do my
string dot ne and this is a helper
function that comes from system dot
collections dot generic which is part of
a link function we're going to call this
method of you all this function and the
function accepts just like any other it
accepts a parameter now this parameter
is this special type of func if you
remember I mentioned this a while ago
again we'll go into this separately in
more detail but for now you just want to
use it and see how it's used and not
completely understand the round now but
at least you'll see how it's used
so this funk is basically it's it's
short for function it provides a
character to the actual function that we
run and it's expecting us to return a
true or false or boolean so the last
thing in the thunk is the thing that
it's expecting me to and so what it
means is you're gonna do a dot any on
this string and this is just how it
looks so you have the name that you give
a name so we call it C for character you
then always put this equals in an arrow
and then whatever comes after is
basically a statement that is expected
to return a boolean so this is an if
statement if you will just without that
if so we've done input I which means the
current character that were checking
equals the character that will currently
at inside this loop so what it's gonna
do is it's gonna go mastering got any so
it's going to first go to here it's
going to
this character it's gonna fill with see
with that character it's then gonna run
this check so it's gonna say the input
which is say if it was this equation at
before if four equals C which C is
currently 0 so it's false so then it's
gonna move to the next one to one which
is false to 2 to 3 when it hits this for
this Annie's gonna have 4 in this C and
this input is 4 from here so this is
gonna become true now because this is
returned true this any function just
stops there and the whole function
itself this entire function here returns
true so what that means then this if
statement now looking at it as worried
doors and not how it does it it checks
every one of these and it says if the
current number or the current character
rather out to the string that were
looking at if it's contained within this
group of characters anywhere then it's
going to be true so it basically says if
the input is this or this or this or
this or this so it's exactly the same as
this if statement we wrote here
so if input equals 0 or 1 or 2 or 3 or 4
it's just a much nicer shorter way of
writing it so if we move that back in
and you'll see oh the more we code and
the more you get used to these things I
like making sort of one-liners nice
short simple things because then it's
easy to read as well when you understand
them and you're not confused by all
these equals and arrows and brackets and
things you'll soon get used to those the
more you use them then look how nice
this looks compared to the other
function you've got a nice typed in
definition of characters you want to
find and used literally say if that dot
any effectively ever any of them are
equal to this so it's a really clean way
of checking so all we've done there is
as we mentioned in the comment we check
to the current character which is this
there's a number or in this case that
you know a number or a period so this
check now checks if the first character
or the current character is a number or
part of something that could be a number
and then we come into here so let's do
that now initially we're gonna be on the
left side but as this loop goes through
because this is gonna do a loop
obviously this 4 is gonna keep looping
so at some pointers were stepping
through this we're gonna jump to the
right side like here so this will change
so we need to check firstly or from the
left or the right side so ever on the
left side and then now we want to set
the operation left side equals and now
he's gotta just set the left side
directly because say we set the side so
there's number four point four and we
set the left side to the current
character you're gonna be four initially
then it's gonna be dot then it's gonna
be four you need to keep adding this
that you know the each character to the
left side so you wants to be four then
it wants to be four dark then he wants
to be four point four you could just do
the left side plus equals and then the
input but we want to do a bit of smart
check in here because we're checking if
there's a dot in so this check would say
if it's a number at to the left side
that means we'd be allowed to do if a
number like four point four point four
point four because it's contained in
this section so instead of just adding
directly to this left side we're going
to call a function that does basically a
check that there's no other periods in
so we'll just make a function that sets
it and we'll call it ID number part
something
it's gonna need the current value which
in this case will be their current
operation left side and it's gonna need
the current character as well to work on
let's create this function that we
haven't made yet so control dot enter
and it creates is this function called
add part number which we haven't done
yet
this is Covenant number have you weld a
coin string of the number and this is
one character I want to give this a
comment which as we mentioned this sort
of combines the two two numbers together
so we want to we want to first check
thoroughly so it's finished common first
so say attempt to add a new character to
be currently number definitely for
Valley something like that the parameter
code number airs the current number
string and the current character
particle is a new character
is you have to append the string and
then in this function we want to
basically also doing here is checking
for multiple periods that's the only
thing we really need to check for so
check if there is already a dot and sure
we want to do new character is a dot
firstly the current number and then
we'll use a link again which is a nice
function called contains which is nice
and easy to understand it's literally
saying does the current number contain a
dot a character
so we're saying if the new character is
a dot and the current number hood
contains a dart then there's an issue so
as we mentioned before we're just going
to work our way through this logic so we
try to add the number but now we've hit
a point where something's gonna go wrong
now instead of trying to figure out how
to get out of here and then how to
handle it outside of here we can just
throw and then this'll let's try then
we'll catch the throw that we did in
here and jump straight to this function
so because this is a case where
something's gone wrong we can now throw
in new and want to say invalid operation
exception something like that and the
message will create a string and just
say number and then show them the
current number like we're up to so far
already contains a dot
cannot be added so there's the check we
needed to make sure we can't put
multiple dots in and then otherwise we
simply return the current number plus
the new character so we're just
literally appending it's basically like
saying the left side plus equals input I
so this add number part you could
comment it out if we're effectively
doing this for the most part where we
simply add into this string each time
we're just attached in like this and
then this then this then this
but we're initially checking that
there's no period already in the string
so we do a check and then otherwise we
return the number we passed in which is
the operation left side plus the
character so we say in the left side is
the left side plus this so long as
there's not already a period in there so
we can check that basic operation right
now because by default we're gonna be
we're gonna start off on the left side
because this is true so this will always
be true and then we're just going to
look to the whole thing and it's gonna
check just for numbers every time if
it's not a number it's just going to
ignore it right now because we haven't
done the else so press f5 and let's just
do say for there shouldn't be an issue
do four points there shouldn't be an
issue for point four shouldn't be an
issue we put another point in so it's
now gonna find four point for point you
can see that we've got the exception
invalid equation number four point four
already contains the dots it's nice and
explanatory it's gonna help us I'll help
the user understand what they've done
wrong so they can quite easily see then
I'll four point four although it's as
others an extra dot so that's now
working nicely showing how we use in
this Theroux and you notice this is in a
function and we've thrown here while
this just bubbles up to whatever called
the function that's the row so because
this called it let's throw bubbles out
to here
and then it keeps going up and up and up
and up and it hits this try so a thrill
sort of escapes it bubbles outwards and
keeps stepping up the application until
it hits a try and if it doesn't have to
try then it hits the global exception
handler which is that nasty debug
message we saw in the previous tutorial
acquittal sure Lila if we run this ad
part number outside of the try and let's
just pass it in something that will make
it crash so we're passing in 4.4 and
we're trying to add another dot to it
and we're not inside this try so this is
just called manually that's so not my
new it's just called directly without to
try this is gonna crush the application
so press f5 and just press equals
because it's just gonna run this code
here it's NC we get this isn't because
we're debugging the application it's
jumped in and told us there's a throw
and when it does this when it highlights
it in yellow and does a exclamation it
means your application hasn't called the
exception it's you know it's crashing
and you can look at the call stack here
at the bottom you'll see call stack and
you can go step backwards through code
to see what called wha so you can this
is a cool little thing we'll go over
another tutorial so at the very top you
can see starting at main and then we
call the equation equals button click
which called calculate equation which
called path operations this is a cool
little thing anyway the point is that's
thrown and because we're debugging
that's gonna keep just going in a loop
but to see what that does unlike an end
user device that doesn't have visual
studio like say you released this as an
application and somebody just ran it we
start without debugging and click you'll
see this nasty unhandled exception every
message you can still see our attacks
but this is not a nice way to you don't
want this in an application that you
using you don't expect a nasty box like
this she wants it to be handled
correctly like we do so by putting this
odd part number
inside a try-catch we're catching the
exception here and then doing something
nice we're returning a string that then
gets set to the label box instead so
instead of having that crash dialog you
get a nicer you know entry here it's
like the application understands what's
going on and is handling it properly so
there's how you use the ROS and we've
done this function we've done a basic
part here I think we'll stop this video
here just to try and keep them nice and
chunked and separated and we'll carry on
you know in another video and it's just
confirmed we haven't done these two yet
so you've done enums we've done new
classes you've done four loops what else
have we done enemas new classes for
loops we don't know a little bit of link
but we won't mention that I've sort of
done these try caches and these are what
we've now got to go over in the next
video so again don't worry too much
about understanding you know why we're
doing things here just just pick up
these these little parts the enums which
we saw here which is just a number but
it's a nice it's a text name that we can
use in code that helps also the coder
has a developer to understand what we're
doing but this is nothing more than a
number just a way to define a specific
type we don't new class files so again
you try to keep here each file nice and
small so it's got a single plus in
then we've done a full loop which we
explained doing the full look this way
as well as doing it as a while so you
can understand what's going on
nice and easy and then this try-catch
again this this is a brief overview
we'll do a dedicated video on try-catch
but you can think of the try catch as
whenever there's a throw so whether the
dotnet framework throws things like if
you divide by 0 or whether we explicitly
do a throat here if you do a throw it's
gonna step backwards up what's called
the call stack it's gonna go whoever
called this which is here it's gonna
come back up and then who called this so
it's gonna jump back up to here then
it's gonna find this try and if you're
you've got a try and the code inside the
try that I was thrown something instead
of like carrying on up the chain if you
will keep going up and eventually crash
the application it instead comes into
this catch function and runs this code
then you can see why we've done it in
this in a real world application because
we're doing this is only the very start
of parsing the information and working
with it and if we had to instead of
saying you know add part add number part
here instead of we had to do well if
left side is this and if the number
doesn't contain this then do the add
else throw well else return number
already contains it you know that the
whole way that we'd have to write this
code to become much larger because
instead of just been able to presume oh
let's just try and do this and if it
fails it goes to here instead you'd
after handle every scenario where
something could go wrong like directly
here and you'd have to change it to a
big if Allisyn return statement and that
add soon get even larger so using a
try-catch in this instance and just
catching any exception and output in
what went wrong works nicely so that's
again a use of just a short use but at
least you're getting to see what a try
catches so we'll stop that video there
and we'll carry on the next video and
cover this recursive function and switch
statements and get some actual
passing done where we can't calculate at
least things like four point five or
four point two plus five point seven and
you know get some actual calculator
functions going</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>