<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB Tutorial for Beginners - 13 - Aggregation | Coder Coacher - Coaching Coders</title><meta content="MongoDB Tutorial for Beginners - 13 - Aggregation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoDB Tutorial for Beginners - 13 - Aggregation</b></h2><h5 class="post__date">2015-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zcN-rM3hgrw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys in this video let us have a
look at aggregate functions I'm get
functions allow you to group to get
group together the documents and perform
some computation on them so that a
single result can be returned now in our
example an employee's collection we have
8 documents and let's work with examples
of aggregation now the first one in each
document we have a field called gender
which say either male or female
so let's group to get the documents to
find out how many male or female members
are there in the employees collection
now in the first window I have connected
to the mangu the instance and in the
second window I have connected to Mongo
shell so the query or the command would
be TB dot employees dot aggregate so
aggregate we are going to be making user
and then brackets brackets brackets now
the first thing you want to pass as the
group keyword so dollar group this means
that we are going to be grouping the
document now based on what condition so
the condition would be specified by
underscore ID so we're going to be
grouping based on the gender so dollar
gender and then once we have grouped on
gender we want a total and the male and
female category so we're going to be
using total or whatever you want to type
it can be anything need not be total it
can be some or anything so total of
total would be dollar this sum which is
set to one or true now when we go ahead
and run this we're going to be returned
with the number of female employees
total as three and the number of male
employees total is five so out of eight
documents three or four female and five
or four male now we can also do maximum
and minimum for example we want to find
the maximum age amongst the male and
female so what you want to do is change
the stoical to maximum age change
dollars some $2 max and change true to
the field that you actually want to
perform the maximum operation on so in
this case dollar h let me go ahead and
run this query it says so female the
maximum age is 33 and for males the
maximum age is 45 similarly if you
change dollar max to dollar men and just
say minimum age and press enter sex the
minimum age is 26 for females and the
minimum age in males or the youngest is
27 years old so this is how we perform
aggregation you also have a dollar
average function but since I have used a
string value for every field to make it
as simple as possible
the dollar the average aggregation
function won't work on the string values
so if you want to do if you want to make
use of dollar average just change for
example salary to just remove the double
codes and use 80,000 as a number as its
itself and you can perform an average
function on the salary now that's it for
aggregation thank you for watching don't
forget to hit the subscribe button now
see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>