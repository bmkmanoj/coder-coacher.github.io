<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mean Stack Tutorial - 23 - Update Video in Database | Coder Coacher - Coaching Coders</title><meta content="Mean Stack Tutorial - 23 - Update Video in Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mean Stack Tutorial - 23 - Update Video in Database</b></h2><h5 class="post__date">2017-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AuZOAlSvNQ4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right now that we have learned how
to fetch and insert videos into the
database in this video let us see how to
update a video in the database so let's
start off by creating a new method to
update a video in media dot service dot
TS
so first the put request URL so private
put URL slash API slash video and then
don't forget this forward slash
now similar to the add video method we
are going to have an update video method
so let me copy paste and if you notice
the update video method is very similar
to the add video method we have the
headers application slash station this
on then we have the options where we set
the headers and then we make a quick
request instead of the post request but
this time the URL is going to be the
foot URL followed by the video ID so we
pass in the video that has to be updated
inside the database but this time we
pass in the video ID as part of the URL
and then of course we pass in the video
that has to be updated and then we map
the response to JSON now let's go back
to the HTML and add the UI that calls
this particular method so in video
centre sorry in video detail component
so ctrl P video detail component HTML
we're going to add a button so still
within the form tag we're going to add a
button so there's going to be a type
button and when we click on this we are
going to have a handler update video and
then this is just going to have the text
update so let's go ahead and define this
update video method so in the typescript
files the video dot detail dot with your
detail component type script file we are
going to add the method
now remember the video detail is only
responsible for displaying the details
so the update video method is going to
raise an event that will get captured in
the video center component and in the
video center component we will call the
service to update the database we are
not going to do it directly from the
video detail component so over here in
video detail subscribe that there is
output so output sorry and you're going
to call the event update video event now
we are going to then define an event
emitter instance so here
update video and then import the event
emitter instance then we of course have
to define the method that is assigned to
the click event of the button so update
video this is going to emit this dot
video so whatever the video details that
we are currently viewing and we click on
the Update button that particular video
is going to be sent out well in video
center HTML let's capture this event so
let's go back to video center component
HTML and over here the video detail is
going to raise an event so let's capture
that so update video let me just format
this a bit so when we capture this
update video event
let us call another method on update
video event and pattern dollar event
which gives us access to the particular
video so now let's go to video centre
type script file click control p video
center component PS and over here just
like on submit add video we have on
update video event this takes in a video
and then this method called the update
video method of the video service so we
pass in the video and then again
remember when we update a video we are
going to get back
the values of the newly updated video so
we subscribe to that we get that updated
video and then we assign it to this
particular video now once the update is
done you are going to set selected video
is equal to null so that the detail
detailed view clears out all right so
let's build this and test it out so in G
build now let's go back to the browser
I'm going to refresh this I'm going to
click on the moment is going to open a
detailed view of this and let me change
this to demo updated right so I'm going
to update this so the videos detailed
view clears out and when I go back to
demo I should have the updated value so
that is how you update a video let me go
over the flow one more time in video
detail component HTML we have a button
when we click on this button it is going
to update a video so let's go back to
video detail component but as you see in
the video detail type script file the
update video method only raises an event
that is going to get captured in video
center HTML hey video Center it is not
my responsibility to update a video so
I'm going to let you know when to update
a video and I'm going to pass you the
details of that particular video you do
you go ahead and do it so when there is
an update video event from the video
detail component you are going to call
this method so on update video command
so what does this on update video event
do in the video service is going to call
the update video method with the video
so in the video service file when we
call this particular method passing in
the video you are actually going to make
an update in the database and similarly
the UI also gets updated at the same
time right so that is how you update a
videos in the database now one last
operation so the delete operation let's
see how to do that in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>