<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial - 24 - Badges | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial - 24 - Badges - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial - 24 - Badges</b></h2><h5 class="post__date">2016-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RjlJDy_68sQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we are almost done with our extension
except for one last thing now instead of
the user having to open our extension
every single time to view the total
spendings what would be better is if we
could display that right over here on
the icon in the toolbar so every time
they open the browser the total span
links is shown right here for that we
make use of something known as badges
and this badge needs to get updated
every time that total changes so if the
total is 0 it needs to display 0 if it
gets updated 200 needs to display
hundred and when the user resets the
total back to 0 it needs to change back
to 0 so for that we have an API that
lets us know whenever something in the
chrome storage changes or in our case
whenever the total changes so we're here
in in our event page they're going to
use chrome dot storage dot on changed
dot add listener and this is going to
take a function and this function in
turn ok I think I messed it up add
listener and this is going to take a
function and this function in turn is
going to have two arguments changes and
the storage name now the storage name
you're not bothered about right now but
this changes we are so over here to set
a badge we use another API so chrome dot
browser action
dot set badge text now this we are going
to be setting it with the help of an
object so the property is text and the
value is so this changes object right
here contains all the variables that
changed in the storage so in our case of
the total changes or the limit changes
so changes dot total because we need to
listen when the total changed now
whenever a total changes we have two
values again the old value and the new
value so let's say if the total was
initially zero
and change 200 the new new value is 100
the old value is zero since we need to
update it to whatever was the value
changed we need the new value so dot new
value and then finally we convert that
to string so now our extension should be
done so let's save this and reload okay
let me enter something let's 50 and
there you go we have the badge
displaying this total of 168 and now let
me open the options page so let's go to
options and reset the total the total
has been reset and it changed to zero so
let's have a look at our budget manager
extension one last time so initially we
can send we can set a limit of our total
spendings and over here we can add the
spendings so let's say 50 and when we
add when we cross this limit or equal to
the limit it is going to send us a
notification and at the same time the
badge gets updated with the current
total now we can also reset the total
back to zero and from the webpage we can
select an integer value and click on
spend money and again this badge gets
updated with whatever the total spending
was so we can also send a notification
when we exceed the limit while spending
from this context menu item so there we
go our Budget Manager extension already</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>