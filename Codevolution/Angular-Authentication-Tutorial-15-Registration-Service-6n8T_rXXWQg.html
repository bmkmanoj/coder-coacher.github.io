<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular Authentication Tutorial - 15 - Registration Service | Coder Coacher - Coaching Coders</title><meta content="Angular Authentication Tutorial - 15 - Registration Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular Authentication Tutorial - 15 - Registration Service</b></h2><h5 class="post__date">2018-03-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6n8T_rXXWQg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video we are going to connect
the front and forum with the back end
API so we will be able to use the UI to
register a user in MongoDB
we begin by generating a new service
that is responsible for making HTTP
calls to the backend but when we work
with HTTP we need to make use of the
HTTP client module so go to AB dot
module dot ES and import the module and
then add it to the imports array so
scroll down over here I'm going to add
HTTP client module next let's generate
the service so open the terminal again
subview integrated terminal add a new
terminal navigate inside the ng app
folder and run the command ng G for
generate s for service and then the name
of the service we're going to call this
odd service the odd service will contain
the methods related to login and
registration
now in the service we need to make HTTP
requests so import the HTTP client
module and then in the constructor
injected next create a property that
stores the back-end API URL so this is
going to be a new property called
private register URL and this is going
to be equal to the back-end API URL for
registration so HTTP localhost colon
3000 slash API slash register finally
let's define a register user method
which accepts a user object which would
be the email and the password and within
the body we make the HTTP request
registration is a post request so this
dot HTTP dot host now to this the first
argument is the URL so this dot
underscore register URL and the second
argument is the user object say user and
finally we add type any to get rid of
the red squiggly and make sure to return
the observable from this HTTP call so at
the beginning at the return keyword in
simple words the register user method
accepts a user object and returns the
response that the backend API sends
whenever it is available in our case the
backend API responds with either and
ever or the registered user all right
now let's connect the service to the
component so back in register dot
component Diaz let's first import the
odd service and inject it imported and
then injected and then in the register
user method call the service passing the
user data so instead of logging to the
console this dot underscore auth which
is the odd service dot register user now
this is going to accept this dot
register user data so that is the
user data that we want to register in
MongoDB now calling this method is not
enough as we need to subscribe to the
observable that is returned so the next
line dot subscribe and when we subscribe
to this observable we either get the
response or an error for now let's just
log them to the console so when we get a
response we're going to log to the
console response if you do get an error
we're going to log to the console ever
all right our connection is now complete
before we test it out let's quickly add
the authentication service to the
providers array so in AB dot module
tortillas in the providers array I'm
going to add odd service and don't
forget to import odd service so now
let's go back to the browser I'm going
to navigate to the registered component
I'm going to open the console just to
make sure we don't have any errors so
that is working fine I'm going to add an
email address so B at V comm and then
the password is B and I'm going to click
on register now right away you can see
that we have an error fail to load
response to pre-flight requests there is
no access control although origin header
so this is a course error and the error
is because the front-end is running on a
different port compared to the backend
front-end is running on 4200 and
back-end is running on port 3000 to fix
this we need to add course middleware so
go back to visual studio code open the
integrated terminal navigate inside the
server folder this time so go back then
CD server now run the command NPM
install - - save course
next open server.js filed so server
Dodgers
first required course here so const
course is equal to require course and
then after creating an instance of
express we're going to say app dot use
course alright save this and let's
restart the server so go back to the
first terminal and then restart node
server alright now that the server is
restarted let's go back to the browser
i'm going to clear the console and then
i'm going to click on register so you
can see that we have a user object or to
be more precise the registered user
object returned as the response so we
have the email me at me calm and then
the password is b if i go to em laugh
and then refresh the collection right
now you can see that we just have a at
a.com and now we have B at be calm so
the user registration is now complete
now if this was overwhelming
let me explain have the request and
response cycle words they begin with the
front-end register component so the
register component in the HTML we have a
button that calls the register user
method and in the register user method
we call the register user service
passing in the register user data the
register user service makes an HTTP POST
request to the backend API URL to slash
API slash register passing in the user
details now the back end is going to
register the user in MongoDB
and return the details of the registered
user as a response so that will be
returned as an observable so we need to
subscribe to that observable now it
could be a positive scenario in which
case we get the response data which is
the registered user data and we are
logging that to the console if there was
an error we're going to get back an
error which we are again log into the
console user login is
very similar so let's take a look at
that in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>