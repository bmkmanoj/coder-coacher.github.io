<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB PHP Tutorial - 2 - Database and Collection | Coder Coacher - Coaching Coders</title><meta content="MongoDB PHP Tutorial - 2 - Database and Collection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoDB PHP Tutorial - 2 - Database and Collection</b></h2><h5 class="post__date">2016-06-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6mCgckvPScI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome back guys now in this video
let us have a look at some of the DB
operations possible with the PHP library
so the first thing we need to do is run
our Mongo D server so navigate to your
bin directory open command window over
here and type Mongo D okay what this
Mongo D and this is going to start our
Mongo Lisa we're on port two seven zero
one seven now I'm also going to start
the Apache server so that we can start
working with PHP okay so if you
recollect from the previous video I had
a folder called PHP MongoDB and what I
have done is create a new file called
demo dot PHP and included just one line
of code which is going to require Auto
dot PHP for and this is basically for
the working of PHP library so just go
ahead and include that and also I would
like to say that I'm going to be having
all the files related to this series on
my github page and I'm also going to
drop a link to the github page or in the
description below okay now what we need
right now is a MongoDB client that
connects to our MongoDB server so this
gland is going to give us the access to
all the databases and the collections
within them and for this purpose we have
a MongoDB client class and this class
will be the entry point to the PHP
library so let's go ahead and create a
new instance of this client so dollar
client is what I'm going to call my
variable is equal to new MongoDB back
slash client
I hope this also takes a URI and it's
going to be equal to
MongoDB colon localhost on for two seven
zero one seven now this is the URI that
it takes by default so we don't have to
specify it so I'm just gonna use new
MongoDB client and then put a semi
okay now with this client we can work
with the databases and the collections
within the databases so we can perform
three major operations with the database
the first thing as create a new database
the second thing is we can list all the
databases and finally we can delete a
database so let's go ahead and see how
to do that now we are going to create
another variable called
dollar company DB to represent the
database so this dollar company is going
to be equal to dollar client which is
our MongoDB client instance and we are
going to use the object operator and say
company DB now this company DB is what
is going to recite on our mongery server
and this right here is just the PHP
variable that we are assigning it to
okay so now that we have created a
database we can work with collections
now again with collections we can create
a new collection we can list all the
collections within the database and we
can delete a collection so let's go with
creating a new collection first I'm
going to create another variable called
result one and this is going to show the
result of the create collection operate
operation so what is the database that
we need to create a collection in it as
company DB so dollar company DB excuse
me so dollar company DB and we are going
to use the object operator and then
create collection and we also need to
specify the collection name let me call
this employee collection okay
now we can use we're wire dump to know
the result variable so the result one
let's save this now let's go back to
localhost demo dot PHP okay so it says
the creation was successful okay now we
can also verify this by going back to
our bin directory open the command
window here type Mongo to open the Mongo
shell and then show DB's and if you see
right here we have company DB and let's
use company DB and then show collections
now we have employee collection over
here then system dot indexes in the
indexes which is the default one so
there you go we have created a database
and we have created a collection within
the database now let's go ahead and
create another collection let's call
this my collection save this and let's
run our script so again we have created
another collection the show collections
we have employee collection and my
collection so now what we can do is
since we have multiple collections in
the database we can list them out so
over here I'm just going to comment out
over here and then let's work with
listing the collections now we use the
for each loop to iterate over the list
of collections that we retrieve and
we're going to be working with the
company DB so please select the company
DB and then the object operator and then
the function we use is list collections
now when we retrieve each collection
from the list we are going to assign it
to a variable called collection so this
right here as the dollar collection so
every iteration it is going to assign
the collection to this variable
we can use a variable underscore dump
and dollar collection okay now let's
save this and refresh and let me hit on
control you and over here you can see we
have my collection listed out system dot
indexes which is the default one and
then the employee collection so that's
how you list out the collections okay so
let me comment this again and let's go
down a bit okay so we have created a
collection we have listed the
collections now it's time to delete a
collection so that let's create another
variable result two which is the result
of the operation is equal to again the
database which we are going to be using
so company DB and the method is drop
collection and we need to specify the
name of the collection so it's going to
be my collection now let's also variable
dump and the dollar result too and let's
save this and we refresh it and this
okay was successful and if we go over
here and say show collections we see
that we just have employee collection
and system dot indexes so that's pretty
much it about collections we created a
collection we listed the collections and
we deleted a collection now let's do the
same with database so let's create a new
database called new DB and let me insert
a collection so dollar result to okay
we're gonna have it a settees and create
collection and let's create sure we can
hook your new collection let's go with
new collection so let me save that and
refresh it okay we have created
successfully okay and now we can use the
client variable to list all
collections on the server list all the
databases on the server
I have a pretty bad cold okay so where
were we
so we have created a collection so we
can use okay let me comment out over
here okay now our client is what gives
us access to the databases so again we
are going to use the for each loop and
this time we are going to use an
instance of the client class one will be
client class $1 client and then the
object operator and then the operation
is going to be list databases so we can
have each database listed as dollar DB
and this is going to help us in variable
and let's go down over here and this we
can specify dollar DB now let's save
this and let's refresh and let's say
control you and over here we have our
company DB which is the first database
we created we have the local DB which is
the default database and we have the new
TB which we have just created so that is
help you list databases now the final
thing is to drop a database so again we
are going to be using dollar client is
equal to okay sorry I'm going to be
using a result variable so let's call it
result three is equal to dollar client
of and what we need to use here is the
drop database method so drop database
specify new DB which is the database we
want to drop okay now let's save this
okay let me also turn that out so
worried about don't save this
refresh it okay so we have dropped the
new database so if we go ahead and
comment out this but not our for each
you save this and refresh okay we have
an ever online 36 okay
yeah sorry about that I also need to
comment over here
okay well now when we refresh it we have
deleted it okay we have our company DB
and we have a local DB so that's pretty
much it for this video six main points
to take away how to create a database
how to drop a database how to list the
database how to create a collection how
do you drop a collection and how to list
collections so in the next video let us
see how to work with documents so thank
you guys for watching don't forget
subscribe and I'll see you guys in the
next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>