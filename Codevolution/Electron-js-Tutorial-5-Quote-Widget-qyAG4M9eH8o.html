<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Electron js Tutorial - 5 - Quote Widget | Coder Coacher - Coaching Coders</title><meta content="Electron js Tutorial - 5 - Quote Widget - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Electron js Tutorial - 5 - Quote Widget</b></h2><h5 class="post__date">2017-08-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qyAG4M9eH8o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright welcome back guys in this video
we are going to use what we have learned
so far and put together a simple desktop
application it's going to be more like a
desktop widget and what the widget does
is it is going to generate a random
inspirational quote at regular intervals
so let's see how to get that done now as
before I have the basic hello world
application copied into a new folder and
a main dead quote rigid now we have the
package.json file the main digest and
also the index dot HTML in package.json
have changed the main support widget in
index dot HTML I change the titles to
quote visit and have removed the h1 tags
inside the body tag so if we run the app
mouth we just get a browser window so
NPM start we just give us this basic
browser window let's start by altering
the appearance of this browser window it
has to look like a widget so go to main
Dodgers and over here in the browser
window we are going to specify some
options the first one is hide now this
height is going to be 150 we have a
width which is going to be 500 and then
we are going to have a frameless window
so frame set to false
all right let's quickly run this and
have a look at the widget now all right
the Sai seems appropriate let's add some
styling and also remove the developer
tools so I'm going to remove this line
and I'm going to add a new file and name
it Stiles dot CSS
inside sub CSS we are going to add the
style and remember it's the HTML that is
loaded in the window so we add the style
here to the body tag now I'm going to
copy/paste some code and explain to you
what it does so we have a background
color for the browser window and then we
have a pond color we also have a font
family the height of our body tag and
then overflows said to hidden so that we
don't get a scrollbar we also add a
border radius of 5 pixels now back in an
index dot HTML let's add this reference
so we use the link tag relp is equal to
your style sheet we don't need a type
and then each rest is going to be styled
dot CSS alright let's save this and run
it npm start there you go alright that
looks decent so let's continue with the
code let's close this now over here in
index of HTML I'm going to add a div tag
and this distich is where the code will
be displayed now I'm going to give this
an ID ID is equal to code then just
because the closing body tag I'm going
to add a script and over here I'm going
to require a file and let's name this
file index dot Jia now this index Tegea
is going to run in the renderer process
that's it stick to the browser window
and this file is where we are going to
fetch our code and assign it to our HTML
the code ID div tag so create a new file
and name this index dot Jia now if you
get a random code we are going to make
use of a free API if you visit the site
code on design codes on design calm you
can read more about the API but here you
can see the API is that we can use
now if I open this link in a new tab we
basically get back a response and this
response is nothing but the information
about a quote so we have an ID we have a
title for this quote and we get the
actual content so this is basically no
masterpiece was ever created by a lazy
artist so this is the quote that we want
to display in our HTML so the main idea
here is to hit this API endpoint at
regular intervals let's say one minute
or one R and get the response extract
that content and update our HTML in our
application now to make a get request to
this API we are going to make use of the
request module you can use jQuery dollar
get but this is really not complicated
at all so I recommend using the request
module so in the terminals run the
command npm install request - - save
and if you have looked at package.json
we must have an entry as a dependency
for request module now that request is
installed we can use it so index OGS
let's request is equal to require
request and then we are going to use
request and this request takes in two
arguments the first one is the URL
basically the API endpoint and the
second one is a callback function now
the callback function has three
arguments errors response and the body
now what is the URI this right over here
so I'm just going to copy this and paste
it and then in our callback function we
are going to parse our body and then get
toys of the content so let's body JSON
is equal to json dot parse of body so we
are parsing our body string into a JSON
object and then let random code is equal
to body JSON we get hold of the first
element in the array and then we need
the content of that particular code now
let me just explain how we are
retrieving it so if you have a look the
API returns an array of codes and we are
just actually asking for just one code
so this is an array so we are accessing
the first element in that array which
gives us the very first code now this
first quote actually gives us a lot of
information such as ID title and so on
and we just need the content which gives
us that particular code so in the JSON
array so in the code array we just want
the first element and in that first
element we just need this content so
this gives us a random code and then we
can send document dot get element by ID
now we have a div tag that has an ID of
code and then
it's innerhtml to this random code
alright let's take this and run NPM
start so we have our browser window the
color changes the background color and
then it says or it gives us the random
code don't make me think so if I close
this application now if I run the
application again
NPM start we must get a different code
so the only way to be creative over time
to not be undone by our expertise and so
on so this is the random code so our
code is working perfectly fine now to
improve on this we want to refresh our
code at regular intervals now this
interval could be one hour or two hours
or so on but for our demo purpose let's
consider the intervals to be 5 seconds
so that we can actually see the code
changing within this tutorial video so
close this and make use of the set
interval function so set interval is
going to have a function and then we
specify the intervals and I'm going to
suffice 5,000 or 5 seconds so within the
function we can just add this code right
here now I'm not going to refactor it
into a function so that we can reuse it
I'm just going to copy it paste the
exact same code so every 5 seconds make
a request to this API and then update
the HTML of the div tag so let's take
this and run NPM start so NPM start so
we get a random code and I'm going to
count down maybe three to one the
simplest way to achieve simplicity is to
thoughtful reduction three to one
so as you see the code changes every
five seconds and that is because we have
specified 5,000 milliseconds but you can
maybe change it to one every R or so on
so if you notice every 5 seconds the
code changes on its own and that's it so
when the application is started a code
gets displaced and after that every
five seconds another random code gets
displayed now everything works great
except for two things first the window
because it is frameless is not draggable
so I cannot drag this so we need to add
in our styles for the body to be
draggable so let's close this
application go back to size of CSS over
here to the body tag I'm going to add
WebKit app region drag so this allows us
to drag around the window on our screen
the second thing is when the application
loads we first see a white background
and then the dark background and then
the code so we don't want this bad
visual effect so if I run NPM start you
can notice that initial white screen and
then the background fills and then the
code gets generated so we don't want
that so instead what we are going to do
is I'm going to set on the browser
window show to false and then I'm going
to show the window only when it is ready
to show so we make use of the ready to
show event and then when that gets fired
we are going to display our browser
window so now when I run NPM start we
should not see that white screen so we
have the dark background right away and
then the code gets filled in so there
you go your very own random code
generating desktop widget let me just go
over what we have done once so that you
get a better understanding of this
application so our main dot J's file is
basically responsible for creating the
UI window so we have a browser window we
specify a height or width we also
specify that it is frameless and then we
don't show it initially we learn index
of HTML into that browser window now
index dot HTML has a div tag with ID
code and then we also require this
JavaScript and size dot CSS so size your
CSS is basically for the appearance of
that which
we specify a background color upon
family and so on and in our index
Dodgers we make use of the request
module to make a request to this API
that gives us information about a random
code we extract that quote and assign it
to our HTML div tag which is identified
by ID is equal to code and when we do
this every 5 seconds a random code
appears on the ridgid every 5 seconds
and finally in our main dot JS file we
specify that we are going to show the
window only when it is ready to show so
that we don't observe the flickering
effect from white screen to the dark
blue screen all right that's pretty much
it for this application thank you guys
for watching your video subscribe click
on the like button and I'll see you guys
in the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>