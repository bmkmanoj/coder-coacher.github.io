<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mean Stack Tutorial - 12 - Post data to Mongodb | Coder Coacher - Coaching Coders</title><meta content="Mean Stack Tutorial - 12 - Post data to Mongodb - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mean Stack Tutorial - 12 - Post data to Mongodb</b></h2><h5 class="post__date">2017-04-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_uWsdntbGOA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay guys now that you are familiar with
fetching the videos from the database
let me show you how to insert a new
video into the database so in the API
dot J's file I'm going to continue with
a post request and here it goes the
syntax router dot post because this is
the post request and we are going to
make a post request to localhost 3000
slash API slash
video now the second argument is a
function that gives us access to the
request and the response now we little
pair of curly braces we are going to
first console dot log host a video and
then we are going to create a new video
using the video model so what new video
this week will - new video and then we
are going to fetch all the information
from the request object body so new
video dot title is equal to request dot
body dot title in then similarly new
video dot URL is equal to request dot
body dot URL finally we also have the
description so new video dot description
is equal to request dot body dot
description and then Mongoose provides a
save method so new video dot save and
this is going to insert this new video
into the database so this again is going
to have a function this function is
going to have an error and the inserted
video so it basically gives us the error
if there is if there was one or the
inserted video if
the record in fact got inserted so if
ever console dot log error saving video
else response dot JSON inserted video
alright let me explain the syntax once
more so when a post request comes to the
+3000 flash API slash video first we're
going to log the console post a video
this is just for our benefit and then
what we are going to do is we have a
video model so the video model has the
video schema meaning it has a title a
URL and a description so we are going to
just create a new variable or new object
new video of type video model and this
new video is going to have a title URL
and description because it is going to
represent this video model a title URL
in the description now to this new
object we are going to save the title
URL and description that was posted from
the browser so for example you are going
to fill in a form of the video and then
click on submit and that is going to be
present in the request dot body object
to the request object body property and
then title similarly URL and description
save everything into a new video and
then just call the save method on this
view video which is going to get saved
into manga database if there was an
error it is going to display in the
console error or if it were successful
it is going to give back the inserted
video along with the IDPs
that man was created so let's go ahead
and test this in postman now before
testing this enforcement make sure you
restart your server so ctrl C and then
note server now
Whisman click on the new tab and the
first thing you want to do is set get to
post and then local host local host 3000
slash API slash video and then over here
we are going to set select the body and
then dubbed up the forum URL encoded now
over here we are going to insert key
value pairs that represent a new video
so a video is going to have a title and
we are going to just call this postman
title and then we are going to have the
new URL again postman URL just for
testing purpose of course and then a
description postman description now when
I click on send it should insert the new
video and return the same video with the
ID so description URL title along with
this ID so if I go back to the first
request and remove this ID and make a
get request for all the videos and if I
scroll down all the way to the bottom if
you see here first man so this video
that we just inserted was retrieved so
that is how you create or insert a new
video into the database this is the API
alright in the next video let's see how
to update a video in the database so
thank you guys for watching and your
favorite subscribe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>