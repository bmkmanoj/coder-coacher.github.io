<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial - 30 - Content Scripts and Messages | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial - 30 - Content Scripts and Messages - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial - 30 - Content Scripts and Messages</b></h2><h5 class="post__date">2016-09-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l2yYv4nF-eU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">content scripts are a very important
concept in Chrome extensions because you
can do a lot using content scripts so
what are they content scripts are
basically files that run in the context
of the web page so they have the
capability to make changes to the Dom on
any particular web page for example you
can change the font color of all h1 tags
you can add a hyperlink to all the
anchor tags or you can even rearranged
the entire nodes in the dom tree so it
is really up to you what you intend to
do with content scripts but there is a
limitation though content scripts cannot
use most of the chrome api's so to fully
utilize the potential of content scripts
we need to exchange messages between
content scripts and the background
scripts or pop-up scripts so let's try
to understand this better and also how
we will be using content scripts for our
page font style extension so basically
our extension is going to have a Content
script an event page and pop-up script
now the content script cannot show or
highlight the page action icon but it
knows that the event page can highlight
the page action icon so what it does is
the content script says hey event page I
know you can highlight the page action
icon but I can't so I'm going to send a
message asking you to show or highlight
the page action icon can you do that for
me and then the event page goes like
sure I know content scripts run in the
exact webpage where the extension needs
it to so when I do get a message from
you to show the page action icon I'm
going to show it and similarly for popup
scripts for our extension the user is
going to specify a color in the pop-up
dot HTML but the pop-up script knows
that it cannot change the font style of
any particular web page but it does know
that content scripts run in the context
of the web page and
can change the font style so the pop-up
script tells content scripts hit content
script I know you can change the page
font style and I can't so I'm going to
send you a message asking you to change
the font style and I'll also send the
color to which you have to change the
font color do can you do that for me and
then the content script goes like sure
pop-up script I know I can change the
font style just let me know I'm going to
listen to your message and when I get
that message I'm going to change the
font style so this is the basic
functionality of content scripts and
messages and you will better understand
once we write the code regarding this
and the final thing that I want to talk
about is the execution environment of
content scripts so content scripts
execute in a special environment called
isolated world so they have access to
the Dom of the webpage but not any
variable or function created by that
particular webpage and the reverse holds
good as well so the JavaScript running
on a particular webpage cannot access
any variable or function that is defined
in our content script so let's say a
button has a click event that is going
to display an alert message and this
elect message is defined both in the
JavaScript of the web page as well as
our content script
so in that case both the alerts get
called there's no conflict all right
with this understanding let's create our
content script</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>