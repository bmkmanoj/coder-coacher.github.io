<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial - 31 - Content js | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial - 31 - Content js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial - 31 - Content js</b></h2><h5 class="post__date">2016-09-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OTHtx4Z13ok" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay now let us use the content script
to highlight our page page action
extension icon only on the specific page
so we need to start off from the
manifest
over here under background I'm going to
specify that we are going to be using
content scripts so content underscore
scripts and this is going to be an array
because we can specify multiple content
scripts for multiple URLs so this turn
is going to be an object we first
specify the matches property and this
basically where we want our content
script to run so I'm going to go over
here and we want this to run on
developer.chrome.com/apps this
particular URL and we need to specify
the java scripts that run on this
particular urls so chess
and this again going to be an array
we're going to have content GS which is
what we're going to be creating and
we're also going to have the jQuery so
jQuery 3 point 1.0 dot min dot cheers
and it's always a good idea to include
your own jQuery with the extension
rather than relying on the web page to
provide it for you all right now we can
ask permission for this particular URL
so over this and I'm going to just go
and copy this all right now let's create
a new file and this is going to be
content dot GS which is the content
script so now we have the content yes
which is the JavaScript that runs on
this particular URL and it is only on
this specific URL we need to highlight
the extension icon now because content
scripts cannot use the chrome API to
highlight the icon we are going to send
a message to the event page
which is then going to receive the
message and highlight the icon for us so
in a continent script right now all we
need is to send a message to the event
page to show the icon or highlight the
icon so the APL for that is chrome dot
runtime dot send message and over here
we can specify what the message is all
about so this is going to be an object
now I'm going to name the property as to
do because for readability and I'm going
to have the value as show page action so
basically what we are doing is asking
the content script or the content script
is sending a message to do something
what is it asking to do it is asking to
show the page action so we have sent a
message from the content script and we
need to listen to that message in the
event page so we need to handle this
message over here
I'm going to type Chrome dot runtime dot
on message dot ad listener so basically
we need to be listening to all the
messages during runtime so now this
takes in a function a callback function
and that has a request a sender and
ascend response as the arguments so to
understand more about the sender and
send response I recommend you to go
through the developer.chrome.com/apps ID
but for us for now all you're concerned
with is this request parameter so
basically this request is all the
incoming requests for this event page so
over here we have got a request to show
a page icon so if you remember over here
the request is to do something which is
to show the page action action page
action icon so now we can write if
request dot to do equals show page
action so if we got a request in the
event page to show the page action icon
then we just execute this over here
right I'm just gonna format this okay
now we can have a look at this one more
time so that we can get a good hang of
it so basically we start off with
defining the content scripts in the
manifest
so we specified the URLs where the need
to run using this matches property and
we specify the area of Java scripts that
need to run using this J's property and
we also request permission for the URL
where we run our content scripts and
then from our content script we just
send a message to the event page to show
the page action so in in the event page
we listen to all the messages and if
there is a request to show the page
action then we call this Chrome page
action show method to show the
particular page action so let's load
this and have a look for ourselves so
I'm going to reload this and we reload
this you see that this page action is
now not highlighted anymore but over
here let me reload this page and there
you go the icon is now highlighted
because it matches this
developer.chrome.com/apps an icon only
on the pages that you wish to and will
continue in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>