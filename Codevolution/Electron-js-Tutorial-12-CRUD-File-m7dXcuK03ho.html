<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Electron js Tutorial - 12 - CRUD File | Coder Coacher - Coaching Coders</title><meta content="Electron js Tutorial - 12 - CRUD File - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Electron js Tutorial - 12 - CRUD File</b></h2><h5 class="post__date">2017-09-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/m7dXcuK03ho" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys in this video I will show
you how to create read update and delete
files from your filesystem
using an electron application now to
save time I've already set up the HTML
and the CSS for this application so let
me walk you through that setup again I
have started with the hello world
application so let's talk about the CSS
first I'm using photon kit which is kind
of like a CSS framework but for electron
so how do you add this to your
application go to photon cube comm
scroll a bit below and click on download
and when you download you get a zipped
file extract it and navigate inside the
distributable folder or disk folder and
then the CSS folder and then copy the
minified CSS into your project folder so
the file name is going to be photon dot
min dot CSS so copy that and paste it in
your project folder once you've done
that go to your index dot HTML and add a
link to photon min dot CSS so link rel
equals timesheet href is equal to photon
dot min dot CSS now next comes our HTML
now we have a div tag with a class main
wrapper and this class we have style
start CSS we just have a margin of 25
pixels so this is just to add margin on
all four sides now within this div tag
we have an h1 tag and also a form tag
and within the form tag we have to form
groups and again these are classes from
photon CSS so we have an input tag for
the file name so label file name and
then input with an ID or file name and a
text area for the file contents so the
label is contents and then a text area
with ID file contents and then the
number of rows set to 5 now after this
form
we have three buttons want to create a
file want to read an existing file
content and the last one to delete the
file now we don't have an update button
because creating a file with the same
file name is the same as updating a file
and this will make more sense once we
have the code in place so don't worry
alright so that is our HTML and CSS for
CSS make sure you have photon mndot CSS
and also style start CSS with this main
wrapper class and in index dot HTML we
have an h1 tag we have a form tag with
an input for filename and a text area
for file contents and three buttons to
create read and delete file from our
file system so if I run our application
now you should have a better picture so
NPM start and there you go
we have our h1 tag so crud file we have
a label file name and then an input box
to enter our file name we have the label
content and then a text area that shows
the file contents and then we of course
have three buttons to create read and
delete alright now that you have a
better understanding of how HTML it's
time for JavaScript so exit the
application
now if you notice we have a script tag
and we have required index dot yes let's
go ahead and create index dot J us
you work with file IO we make use of the
file system module in node so Const FS
is equal to require FS and to build that
we are going to require the path module
so Const tab is equal to require tap
next let's get a hold of all the
elements in our HTML so I'm just going
to copy/paste some code so we have
button create button read button delete
file name in file contents and we are
going to document dot get element by ID
and on all of these HTML elements so in
our index our
you can notice that we have ID equals
file name ID equals five Content ID
equals button create button read and
button delete so we have button create
button read button delete and then file
name and then file contents now let's
create a folder in our project and name
it files so over here I'm going to
create a new folder and I'm going to
call this files and this folder is where
we will perform the correct operations
let's add a variable to hold the path to
this particular folder so let tab name
is equal to pad dot join double
underscore directory name followed by
the name of the folder which is files
next we start implementing the button
click handlers one by one so first let's
handle the create button so button
create dot add eventlistener we're going
to handle the click event and then we
are going to execute a function on click
so first we are going to get the file
name so let file is equal to tab dot
joint pad name which is the path to the
folder and then the mean that the user
has provided in the input so the input
has an ID file name and we need its
value so file name dot value so this
gives us the complete path to the
particular file that the user wants to
create next we need to grab all the
contents so let contents is equal to
file contents so this is the ID to the
text area and then we're going to say
value so we have the file name and we
have the file contents next we are going
to use the file system module and then
call write file
now this write file takes in the file
name which is file then the file
contents which is contents and then a
callback function and this callback
function can have an error so if the
we're going to return console dot log
ever if there is no error we're just
going to console dot log the file was
created all right so basically what we
are doing is extracting the file name
and the contents from our form that the
user is going to fill in and then we
call in right file which is going to
write this particular file with these
contents so let's run our application
and test it out
so NPM start and let me open that
particular folder so in our application
I have the files folder right now it is
empty and let me go back to our
application I'm gonna give the file name
as create file dot txt and then the file
contents is txt for file creation so now
I'm gonna click on the create button and
if I toggle developer tools it says the
file was created and you can see that
the file was actually created so if I
double click on create file dot txt you
can see the contents so text for file
creation this is exactly what we have
over here file name is create file dot
txt and the contents is txt for file
creation this right here so we have
created a file using our electron
application alright so now that we have
implemented our create button the next
operation is to read the contents from a
particular existing file so I'm gonna
exit this application let's go back to
our code and then we are going to add
event listener to button read now
because the code is quite similar let me
just copy paste the code and explain
what each line does so we're going to
say button read dot add event listener
so on the read button add an event
listener on the click event now within
this function first we are going to need
the file name from which we need to read
the contents so let file is equal to pad
dog joint pad thing
and then file name dot value so file
name dot value is basically the name of
the file that the user is going to enter
in the input field and then to read a
file we are going to use the read file
method from the FS module so FS dot read
file and the argument the first one is
the name of the file this right here
file and then we are good to have a
callback function now in this callback
function we are going to have two
arguments error and the data if there
was an error we are going to log that to
the console if there is no error we are
going to read the file contents and then
assign it to the text area so file
contents is the ID of our text area so
file contents dot value is equal to the
data now this data is nothing but the
file contents of the particular input
file and then we can log to the console
the file was read so I'm going to
restart our application so NPM start
and right now our input file name is
empty so we created create file txt just
a few minutes ago so let's try to read
the contents of that particular file so
create file dot txt so now when I click
on read you can see that the contents is
now updated text file so sorry text for
file creation so this is the content in
this particular file name and this read
button is going to read that particular
content and display it in the text area
now the next operation is updating an
existing file but we don't need a
separate handler for that we can use
read and create so let me try to explain
it so we have a file create five dot txt
and the content is text for file
creation now if I want to update this
particular file all I have to do is
change the content it's a text for file
update and then I can click on the
create button again so now now what
happens is it is going to create a file
with the exact same name but the content
is going to be different so text for
file update so this is the updated
content basically an update operation so
that is why we don't need a separate
update button or update functionality in
our code all right finally the delete
button handler so let me go back to
visual studio code and again let me copy
paste the code because it is very
similar so we have button delete dot add
eventlistener
click and then a function so we get a
hold of the file name select file is
equal to path dot joint path name file
name dot value basically the main that
the user enters and then to remove a
file we're going to call unlink method
on the file system audio so FS dot
unlink animate and then we specify the
name of the file so file and then a
callback function so when there is an
error we're going to log in to that
console if there was no error we are
good to em
see the file name we are going to empty
the file contents and then we are going
to log to the console the file was
deleted
so let's restart our application and
test this out so NPM start so initially
this is empty let me try to read create
file dot txt I'm going to click on read
file and then you can see that text for
file update and if you have a look at
the developer tools it should also say
that the file was read so now when I
click on the delete button it is going
to remove create file dot txt from our
file system so I'm going to click on
delete so you can see that the file was
deleted the file name is being emptied
out and so are the contents and if I go
to our project folder and within that
files folder you can see that it is
empty so you can create a file so test
dot txt with some contents test created
it is fight is going to be created you
can see that and if I remove this and
click on read you can see that the file
was read and if I click on delete you
can see that the file was deleted and
removed from our file system so that is
about crud on files using electrons now
in our application we are just logging
to the console the different messages
and our path is fixed so it always
writes to the same files folder so what
I want you guys to try is learn the
usage of system dialogues in electron
and apply them in this application to
allow the user to select their own path
every single time and also show that
dialogue boxes when a file was
successfully created or deleted or if
there was an error message so instead of
logging you can actually have system
dialogues alright so let me know if you
guys are able to implement that anyway
thank you guys for watching don't forget
to subscribe and I'll see you guys next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>