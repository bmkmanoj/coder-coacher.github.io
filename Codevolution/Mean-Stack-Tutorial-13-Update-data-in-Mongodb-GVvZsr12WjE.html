<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mean Stack Tutorial - 13 - Update data in Mongodb | Coder Coacher - Coaching Coders</title><meta content="Mean Stack Tutorial - 13 - Update data in Mongodb - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mean Stack Tutorial - 13 - Update data in Mongodb</b></h2><h5 class="post__date">2017-04-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GVvZsr12WjE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay guys now that you know how to get
and post videos the next operation is to
update a video in the database and to
update a put request has to be used and
the syntax is slightly more complicated
than the previous requests so anyway
here in API jess i'm going to continue
with the code so we are going to say
router dot put because put request is to
update the video and then the path is
going to be slash video slash : ID so we
are going to update a video by its ID
and then we are going to have a function
that gives us access to the cult to the
request and the response object so
request and response now within the pair
of curly braces first we are going to
lock the console update update a video
and then Mongoose provides a method on
the video model which is find by ID and
update now this takes in four arguments
and the first one is the ID of the video
that we want to update so request dot
parents dot ID if this ID is the same ID
that we are testing here as part of the
URL the second one is an object so
within a pair of curly braces we are
going to say dollar set : and then again
an object so the title is going to be
request dot body dot title for the comma
the URL is going to be request dot body
dot URL again a comma and then the
description similarly is going to be
request dot body dot description
now I will explain the syntax in just a
bit but now that's the second argument
the third argument is again an object
it's going to be new set to true and
then finally the fourth argument
function over here and then this is
actually going to close after this so
there you go then let's see what else I
think I missed this one and a comma all
right now the function is going to have
either the ever or the updated video so
updated video within the curly braces we
are going to say if there is an error
response dot send error updating video
all right and then if there is no error
then we are going to return response to
our JSON so send back the updated video
all right so that should be the end of
the API let me explain to you what each
individual line does so when we make a
request to when we make a put request to
be more precise to local hood 3000 slash
API slash video followed by the video ID
we are going to first log to the console
updating a video and then we are going
to get hold of the video model and then
Mongoose provides find by ID and update
method to update a video based on its ID
so the first argument is the ID of the
video that we want to update and this of
course we are going to retrieve from the
request the second argument is the set
of new or updated values for the video
that was fetched using the ID so if
there was a video with ID is equal to 1
and we send in 1
here its title is going to get updated
with the new title URL with the new URL
and description with the new description
now how would you normally send these so
there's basically there is going to be a
forum with three input fields for title
URL and description when you submit it
they're going to be captured in request
dot body dot titles dot URL and our
description so that's the second
argument what are the values that need
to be said for the existing object the
third argument or parameter is new set
to true now what this does is if this is
true this method returns the updated
video that is the video with the new set
of values if this was false it is it was
going to return the original video that
is the video before the values were
updated so you can get both the original
video and the updated video based on
this parameter now that's the end of the
API let's go ahead and test this in
postman now again before testing you
need to restart the server so node
server right let's go back to postman
and if you have a look we have the
postman video that was created in the
last video and we are going to update
that in this video so the first thing
you want to do is change get to put and
over here we are going to enter
localhost 3,000 slash API slash video
followed by the video ID so this one so
now we are going to set the body so set
form URL encoded we have the title and
value is going to be updated title URL
updated URL and description updated
description I'm going to click on send
so there you go we have the same ID that
we have passed over here but this time
excuse me this time the description URL
and title have been updated with the
values that we have sent so that is how
you update a video using Mongoose and by
now you should have a good understanding
of how postman is helpful so instead of
creating the HTML code with a form and
input fields to submit this data just to
test this API we can do it using postman
anyway that's pretty much for this
that's pretty much it for this video
thank you guys for watching and don't
forget to subscribe I'll see you guys in
the next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>