<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ES6 and Typescript Tutorial - 31 - WeakSets | Coder Coacher - Coaching Coders</title><meta content="ES6 and Typescript Tutorial - 31 - WeakSets - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ES6 and Typescript Tutorial - 31 - WeakSets</b></h2><h5 class="post__date">2016-08-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-t-aMzm3ngo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay guys in the last video we learned
about the set type but you can also be
called as a strong set because of the
way in which it stores object references
so let's try to understand what I mean
by that with an example let us first
create and you said so let my set s
equal to new set and I'm also going to
have an object so let ki is equal to a
pair of curly braces and let's try to
add that so my said dot add key now when
I log the set size it's going to be my
set dot size and when we head over to
the browser it's going to be 1 now I'm
going to set ki is equal to null and
then log the size again so my set dot
size so when we run this on a browser
it's still 1 so what we can infer from
the example is that even though the key
was set to null a reference to the key
object still existed in our set and we
can just as easily retrieve it by saying
ki is equal to the spread operator on my
set and we can have of 0 so this is
going to give us that object back and
what sometimes to aid with garbage
collection and avoid memory leaks we
would prefer that the reference in a
said to disappear when all other
references disappear and for this
purpose es2015 introduced weak sets now
a weak set is very much like a strong
set it has the add method it has the has
method and also the delete method but
two main differences are it can store
only object references and not primitive
values and the object references are
weak so if all other references like
this are removed then a week set allows
for garbage collection
now to create a week set we can say
let's set is equal to new week set I
think it needs to be a smaller one week
set now we can have let ki is equal to
this and set dot add key and once we do
this we can log set dot has key and when
we save this week set is not defined let
me change this to it capital save this
and there you go true so key is a value
in this set now when we have key is
equal to null and when we run this code
the reference to key in the week set is
no longer accessible and the funny thing
is it is not even possible to verify if
the reference is removed because we need
at least one reference to this object to
pass to the hash method so we just have
to put our faith in the JavaScript
engine now the only advantage of week
set over a strong set is memory is
handled properly with weak sets so let's
say if we need to track so if we have to
only track the references the object and
nothing more than that
then a weak set should be preferred over
a strong set so that's pretty much it
about weak set thank you guys for
watching and I'll see you guys in the
next one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>