<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mean Stack Tutorial - 10 - Setting up Mongoose | Coder Coacher - Coaching Coders</title><meta content="Mean Stack Tutorial - 10 - Setting up Mongoose - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mean Stack Tutorial - 10 - Setting up Mongoose</b></h2><h5 class="post__date">2017-04-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CX9hdwfnlco" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">just to reiterate what we've learned so
far we have created our angular
application using angular CLI we also
created our Express server and connected
our Express server with the angular
application and in the previous section
we also created our Mongo database so
next we are going to create the REST API
s whenever a user makes a request to the
server we it get post put or delete the
server needs to interact with MongoDB to
perform the required operation for this
interaction we make use of Mongoose now
mongoose is just another NPM package
that provides MongoDB object mapping or
in simpler words mongoose translates
data in the database to a javascript
object for use in our application now
there are alternatives like Mongo JS and
native Mongo clad but mongoose is quite
simple once you understand how it works
now to install mongoose package type NPM
install - - save space mongoose in your
project folder so open command prompt in
the ng app folder and the command is npm
install - - save Mongoose alright that's
the installation now I did just say that
data or a document in MongoDB is
represented as a JavaScript object so
first we need to have a blueprint or a
schema of the object in the database so
go back to visual studio code and in the
server folder you are going to create
another folder and name it models within
the models folder create a file and name
it video dot Jas now over here first we
are going to require Mongoose that was
just installed so Const Mongoose is
equal to require Mongoose
next I'm going to get an instance of
manga schema so cons schema is equal to
Mongoose dot schema and then we are
going to create a new schema for the
video data in MongoDB so using video
schema or Const video schema is equal to
a new schema which is nothing but the
Mongo schema and this schema is going to
contain a title a URL and description
basically this is the blueprint of the
object in our Mongo database next create
a model from the schema so we are going
to say module dot exports Mongoose dot
model video with your schema and videos
now Mongoose dot model is used to create
a model and the name of the model is
video it is going to represent the video
schema basically a video model is going
to have a title a URL and description
the third argument to mom with dot model
is the name of the collection in the
Mongo database so we did create a videos
collection in the previous section so I
have mentioned it over here and finally
we assign this to module dot experts
because this model is going to be used
elsewhere so now I have a mongoose model
that can be used to create read update
and delete documents in the database
the only remaining task is to connect to
the database that has been created now
all database requests are going to be
managed in the API route so the database
connection happens in API dot G as well
so in the server folder the routes
folder we have API GS over here first we
are going to request Mongoose so Const
Mongoose is equal to require Mongoose
next we need the URL to the Mongo
database so if you go back to M lab and
click on the video player database mmm
lab is going to say the string that has
to be used to connect to this particular
database so over here if you have a look
one will be provided by DB user DB
password
and so on so go back to visual studio
code and over here create Const DB is
equal to the string and replace user
name with the username and password with
the password for the user that has
access to the database so user Vishwas
and PW which was next I'm going to
create something called a promise type
so Mongo star promise is equal to global
dot promise and this is just to avoid
any warnings that Mongoose is going to
throw at us and finally we are going to
connect to the database using Mongoose
connect and pass the DB string now if
there is an error we are going to log to
the console what the error is if there
is no error then the connection was
successful so now I can make a request
to localhost 3000 slash API so localhost
3000 slash API now if I go to the
console I don't have an error in the
console which means to say that the
connection was successful
now that the connection has been
established to the database I will show
you how to code the restful api is to
create read update and delete documents
from the database and also
simultaneously test using something
called postman</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>