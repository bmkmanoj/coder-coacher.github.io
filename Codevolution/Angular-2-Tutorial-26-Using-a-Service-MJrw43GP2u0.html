<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial - 26 - Using a Service | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial - 26 - Using a Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial - 26 - Using a Service</b></h2><h5 class="post__date">2016-11-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MJrw43GP2u0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys in the last video I
mentioned that there are three steps to
make use of the dependency injection
framework and implement services in
angular 2 the first step is to create
the service the second step is to
register the service with angular's
built-in injector and finally we list
the service as a dependency where it is
required so let's start with the very
first step which is creating the service
so I'm going to go back to visual studio
code and within the app folder I'm going
to create a new file employee dot
service dot TS and this is the naming
convention for the service now if you
remember I mentioned that a service is
nothing but a class with a specific
purpose so we are going to create a
class called employee service and we
need to export this class so that we can
import it elsewhere
now this service basically has one job
to provide data to the confident that
asks for it so we are going to have a
method called get employees and it is
just going to return an array of
employees so let's go back to employee
list component and just move this
hard-coded data into the service so over
here it is going to return an area of
service now let's go back to your
Employee List component and make sure
that employees is initialized with an
empty array let's save that and head
over back to employee service now as a
good programming practice it is
recommended that any time you create a
service you decorate it with injectable
so we are going to add a decorator
called injectable with the parentheses
and we have the red squiggly because we
need to import it so let's import
injectable and this we are going to find
it in angular slash core now I'm going
to talk about this injectable decorator
in a separate video but for now just
remember that any time you create a
service you need to include injectable
decorator all right so now we are done
with our very first step we have created
a service that returns employee data but
for angular this is just going to be any
other class so we need to register this
with angular's injector so that it knows
about it so for our second step we head
back to our AB component TS and here we
are going to add new metadata called
providers so underneath template I'm
going to say providers and this is going
to be an array and employee service is
what we are going to mention and we have
the red squiggly because we need to
import the employee service so import
employee service and where do we have
employee service we have it in the
current folder employee dot service dot
TS now we don't have to include the
tiers of course so basically what we are
saying is that hey angular's injector I
have this employee service I'm going to
register this with you provide it to
anyone who asks for it so this is how
you register a service and the place
where you register a service is really
really important because the injection
is hierarchical so let's understand that
for a moment now we have our app
component and we have our Employee List
component and employee detail component
now we have registered at the app
component so if you register with the
app component the employee service is
available to the app component and all
of its children so the employee list
component gets the employee service and
so does employee detail component and if
employee list component gets it so does
its children so it's hierarchical so
another example let's say we have a pond
we have employee component and a
customer component now we have to say
employee service and a customer service
now we know that the employee service is
going to be used only for employee
components and its children so in such a
scenario what is recommended is that you
register employee service at this
employee component level so that all of
its children get access to it as well I
don't need this employee service in the
customer components and the similar
thing with customer service so if you
have a customer service register it at
the root component for customer level
and that is going to be available to it
all its children but there are also
services something like HTTP which you
would need in every component in your
application so that is going to be
registered at the module level so if I
register HTTP at the app module level I
can get access to it an employee
component as well as comfort customer
component and all of its children so the
place where you register your services
is going to be really really important
keep that in mind
all right now let's get back to our code
all right so where were we right so we
have completed our first two steps we
have created the service and we have
registered the service the final step is
to declare the service and if we and if
you remember from our last videos the
dependency is going to be in the
constructor of the particular component
so I'm going to go to employee list
component and over here I'm going to
declare I'm going to have the
constructor and within the constructor
I'm going to use typescript short hat
shorthand syntax to make use of the
dependency so I'm going to have
underscore let's go let's give this a
local name so I'm going to say employee
service and this is going to be of type
employee service and of course we need
to import this employee service so I'm
going to import employee employee
service to have it yep
from the current directory employee dot
service so now I have a local variable
that gives me an instance of this
employee service now the code where we
are going to fetch the data from the
service is going to be in the ng on in
it
lifecycle hook now I know we haven't
talked about lifecycle hooks yet but
let's go ahead and add on in it and this
employee list component is going to
implement on in it and when we implement
it we need to define the ng on init
method and over here we're going to say
this dot underscore employee all right I
need to specify the access modifier so
private so now let's give it a try this
dot employee service all right I need I
have this employees over here so I'm
going to say this dot employees is going
to be equal to this dot employee service
dot get employees so we have a service
called employee service and we are
referring to that employee service using
this local variable so this dot employee
service is has a method called get
employees and this is going to return an
arrow if employees and that adding of
employees we are going to assign it to
the employees variable so pretty simple
right let's save this now let's go back
to our QuickStart application let's
refresh this and there you go we still
have the data and if you notice we don't
have it hard-coded over here anymore so
let's go back to our employee detail
component and let's do the same so I'm
going to just copy/paste it because most
of the things are going to remain the
same so let me copy this let's go back
to detail and add it over here and let
me go back to alright I need to
add on in it this is going to implement
on in it and it's going to do the exact
same same thing over here so let's go
back to list component and I'm going to
copy and I'm going to paste it now we
haven't included our employee detail
anywhere so let me copy this let's go
back to our app component where is it
over here and underneath employee list
I'm going to add employee detail
alright let's save this now when I save
or when we refresh our QuickStart
application so we have our employee list
and we have our employee details of
course they would be in their own views
and you would use routing so that you
can navigate between employee lists and
employee details but I just wanted to
focus on services individually and then
we can talk about routing later on so
there you go we have made use of service
to provide the employee data both the
both to the employee list component and
to the employee details component now
let's take a moment to understand how we
have benefitted from using services the
very first thing is we don't have
hard-coded employee data in each of the
individual components the second thing
is that the single responsibility
principle is not violated because we are
using the components only for the view
logic so we're just using this for the
view logic the third one is that there
is separation of concerns since the data
fetch logic is separated into a service
so over here the fourth one is we have
actually got reusable code so any app
any component that requires the employee
data we can go ahead and serve it the
fifth point is that we are able to mock
the data for testing right now we are
returning for employee data employer at
the data for for info
I can make it ten employees I can make
it just an empty array anything to mock
the data for testing the sixth benefit
is that the data chain is going to
happen in just one place so anytime you
wish to change this data you just have
to change it in the service not
individually in each of the components
that make use of the data so that's
pretty much the basics of services and
how to implement a service using di now
let's talk about HTTP in the next video
but thank you guys for watching in don't
really subscribe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>