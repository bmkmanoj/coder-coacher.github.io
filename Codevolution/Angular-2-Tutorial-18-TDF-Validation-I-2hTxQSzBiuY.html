<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial - 18 - TDF Validation I | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial - 18 - TDF Validation I - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial - 18 - TDF Validation I</b></h2><h5 class="post__date">2016-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2hTxQSzBiuY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right before we perform some basic
validations on the template driven forms
we need to understand how angular helps
us with validation by tracking the state
of the form controls and applying
appropriate class to the form controls
so I pull this table of angular dogs
which clearly indicates the class that
angular will apply to a form control
based on the state of the form control
now at any point of time angular is
going to apply three classes to a form
control based on its state now the first
state is if the control has been visited
or not
now when you load your page for the very
first time the control has not yet been
visited so angular is going to apply the
class ng untouched but if you click your
mouse on the form control and then
navigate away angular is going to change
that class to ng touched now similarly
when the form is loaded the controls
value has not yet changed so the class
that angular applies is ng pristine and
if the controls value has changed for
example you have entered something the
class is going to be ng dirty and
finally it also checks whether the
controls value is valid or not so if the
form control is in a valid State it is
going to apply the class ng valid and if
is if it is an invalid state it is going
to apply ng invalid so basically what
angular does is that it's going to tell
you hey I'm going to take care of all
the form validation and tracking the
state of the form controls and I'm going
to give you three classes so all you
have to do is apply some style to these
three classes to inform the user whether
the form state is valid or invalid so
let's have a look at this with an
example and try to understand this so
I'm going to go back to AB dot component
HTML and let's perform some basic
validation on this name so for the name
field I'm going to add the required HTM
attribute so this means that a blank
value for the name is invalid and the
user has to enter a name so next we are
going to add a reference variable to
this name input so pound and then let's
call this name reference variable so I
can now just underneath input tag let's
use a bold tag and then use
interpolation to say name ref dot class
name so this is going to print out the
class that is applied to this input tag
at any point of time so now when I save
this and head over to the browser you
can see that all the classes that are
applied to this form control are listed
now the form control is the bootstrap
class that we have added apart from this
there are three classes that angular has
attached that reflect the state of this
form control now let's have a look at
the table and compare how these classes
are applied based on the state so the
first one the control has been visited
well I have not okay okay let me reload
the page so that I can point it out
better so the control has been visited
now when the page real page loads the
control has not yet been visited so it
is false and ng untouched class must be
applied so if you have a look here ng
untouched the second one has the
controls value changed no it is false
the controls value has not yet changed
so ng pristine so if you have a look
here ng pristine and finally controls
value is valid or not now we have
indicated that required attribute to the
name field that means that a blank value
is not allowed so is the controls value
valid is it true or false false and
therefore in the invalid class is
attached so ng invalid so now let's try
to change this one by one now when I
click over here and then move away ng
untouched has been changed
- ng touched so the control has now been
visited so energy touched classes of
light now let me change a value so I'm
going to add a SD okay so now the
controls value has changed so if it is
true angular applies a class ng dirty so
we're here ng dirty and is the controls
value now valid yes it is valid because
it's not a blank value we have some
value so the class has been changed to
ng valid
so we have done a simple mandatory field
validation but we need to visually
represent this to the user who is
filling the form and that is where these
classes or these classes that are
applied to the form control come in
handy so let's see how to do that so
let's go back to our app component es
and add the Styles configuration so
comma and then styles
now the styles is going to be an array
and then the first one we are going to
say that on any input element if there
is ng invalid class applied then the
style is going to be border left so
border left and we are going to apply
five pixel solid red and similarly if
you're going to say dot on any input
element if there is a valid class so in
to invalid which means to say that form
control is valid then we are going to
apply border left five pixel solid green
so basically we need some visual
representation to indicate to the user
that whether the form control is valid
or invalid so when I save this and head
over to the browser you can have a look
named currently is invalid because it is
required and there is a blank value but
the rest of the fields there is no
validation
that has been applied so all of them are
in the valid condition so this four are
fine but there is something we need to
do with this name field so when I fill
in some value so ASD it automatically
changes from red border to green border
now this is good but we also need to
indicate to the user with an appropriate
message as to why the form control is
invalid so let's say it is blank and it
changes to red but I should also know
that why it is red so for that let's go
back to our HTML file and let's hide the
left bar and over here I'm going to
remove this class because we don't need
this anymore and to this reference
variable we are going to assign ng model
so ng model and this gives us access to
this particular input control so now I
can say a div tag and this div tag is
going to be hidden so hidden but when is
this div tag going to be hidden this is
going to be hidden when this input so
named ref because we are using this
reference variable so name ref dot Val
'add so anytime the form control is in a
valid state we don't want to display
this error message so we can also apply
a class so I'm going to apply a
bootstrap class which is going to be
alert alert danger and we're going to
say please enter a name so now let's
save this and check out all right there
you go
we have the name and then we also get
the indication that please enter a name
and this is going to be fine but what is
not a good user experience is that even
before I have entered anything it is
displaying an error message so let's
change that by saying that if the name
dot reference is valid or name reference
is in the pristine condition
so name ref dot pristine so this is the
class that angular applies when the user
has not yet interacted with the form
so basically we are telling that if it
is a page load and the user has not
interacted with the form or if the form
control is valid don't show this error
message so when I save this there you go
we don't have the error message anymore
but now I'm going to type in something
so it changes to green but now since I
have interacted with the form and when I
make it blank it is going to indicate
that error message please enter a name
so when I type in something it is going
to go away all right this is the basic
idea behind validating template driven
forms we use html5 form validation
attributes for example the required
attribute and then angular is going to
apply certain classes based on those
attributes so it is going to understand
that required is something that it needs
to validate so this required attribute
it is going to validate it is going to
interpret internally and then apply the
classes we then leverage those classes
and apply CSS to give a good let's say
UI to the user now let's continue with
some more points on validation in the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>