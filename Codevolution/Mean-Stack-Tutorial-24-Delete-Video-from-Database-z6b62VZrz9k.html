<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mean Stack Tutorial - 24 - Delete Video from Database | Coder Coacher - Coaching Coders</title><meta content="Mean Stack Tutorial - 24 - Delete Video from Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mean Stack Tutorial - 24 - Delete Video from Database</b></h2><h5 class="post__date">2017-04-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/z6b62VZrz9k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright guys the last step is to delete
a video from the database now this is
going to be very similar to what we saw
in the last video to update a video so
let's start with the video dot service
dot type screen path so just like put
URL we are going to have a delete URL so
I'm going to paste that and this again
is going to be a slash API slash video
followed by a slash again because we
need to provide the ID now just like we
have the update video method we also are
going to have a delete video method now
but this delete video method is going to
call the HTTP delete it passing the
delete URL followed by the ID of the
video that has to be deleted now when we
delete a video we are going to get back
a response of the video that was deleted
so that is what happens in the delete
video method now let's move on to the
you are so similar to the update button
in video detail component HTML you're
also going to have a delete button so
again I'm just going to copy paste the
code for this particular button so
button type is equal to button click if
they call instead of update video we are
now deleting a video and then a
bootstrap class to make it appear red
and then the text delete now in the tape
strip file let's go ahead and define
this delete video method so over here
now again remember the delete sorry the
detail component is only responsible for
displaying the detailed view just like
update how it sends out an event the
delete video also has to send out an
event to the video central component so
over here we are going to specify
another output event so over here we are
going to paste delete video event and
just like private video event new
emitter you're also going to have
private delete video event so delete
video event as a new instance of event a
middle class now let's go ahead and
define this delete video
just below update video we are going to
call delete video now what does this do
delete video event dot omit the video
that has to be deleted alright so this
dot delete video event is nothing but
the event emitter instance we called
omit method and then this start video so
now let's go ahead and capture this in
video center HTML so just like update
video event we are going to have a
delete video event and assign a handler
so over here I'm going to shoot again
let me tap out and paste this so when
there is a below delete video event
raised by the detail component we are
going to execute on delete video event
passing in dollar event which gives us
access to the video that has to be
deleted now let's define this particular
method now if the message is slightly
more complex complicated so let me paste
the code and explain what it does so
let's go back to video Center type
script file so video Center component
here and over here just a little on
update video event on the lead with your
event now here's how this works we get
access to the video that has to be
deleted now we create an array video
array and this is going to be equal to
the list of videos that was fetched from
the database now using the video service
instance we are going to call the delete
with your method that we just defined
now this is going to delete a video and
then send back the response of the
deleted video we are going to subscribe
to that we get a response of the deleted
video and within this video array we are
going to iterate over every video until
we find this particular ID match alright
so I have 5 videos all 5 of them have an
ID property I also have an ID of the
video that I want to delete so if I find
that particular ID I'm going to splice
that from the air
so what this does is let's say we have
five videos it is going to be trade and
let's say we dedicate the third video so
I is going to be equal to 2 because N
minus 1 we are starting from 0 so we are
going to remove that from the array so
this is totally or this is solely to
update the UI the Domitian from the
database has already happened during
this video service call this particular
piece of code is to update the UI when
we delete a video that video has to be
deleted from the list as well to give a
better user experience so this
particular piece of code is going to
delete the video corresponding to the
video that you deleted I think I've
repeated that in a number of times you
should now have understood what it does
and then finally because we have deleted
the video we are going to set selected
video is equal to null all right let's
go ahead the lit one final time and then
test it out so ng bills let's go back to
the browser I'm going to refresh this
I'm going to click on this particular
KSD video and now if you see just next
to update we also have the delete button
I'm going to click on delete this is
going to delete the video from the
database and it's going to update the UI
so it's going to splice that particular
video from this list and then the
selected video is set to null so that
the video detail component doesn't show
the details of the currently deleted
video so let me go over the slow one
last time you saw well you get a better
hang of this in video detail component
we have the button to delete a video
when we click on this the delete video
method is going to be fired what does
this method do it sends out an event
with the deleted video to the video
Center component so in the video Center
component they're going to listen to
this particular event and when that
event is fired
we are going to capture that video using
its ID so we have that particular video
using its ID so video dot ID we are
going to find the video in
the video list component and then we are
going to delete it
from that particular video list so that
the UI gets updated and finally we said
the selected video is equal to now and
all this of course happens after with
your service dog ts sends out a response
so from the server we are deleting in
the database the particular video
alright with this we complete the mean
stack series so you should now be in a
position to build your own means tag
application from scratch
alright thank you guys for watching
please like comment and subscribe it's
going to help out a lot I'm also going
to upload the source code to my github
repo pretty soon anyway thank you guys
for watching and until next time take
care</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>