<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome Extension Tutorial - 23 - Context Menu Functionality | Coder Coacher - Coaching Coders</title><meta content="Chrome Extension Tutorial - 23 - Context Menu Functionality - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome Extension Tutorial - 23 - Context Menu Functionality</b></h2><h5 class="post__date">2016-09-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DH7QVll30XQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we need to implement the
functionality where when we select some
text and click on our context menu item
we must be able to add the amount to our
total and for that we make use of
another chrome API so what we basically
do is listen to the clicked event on
this context menu item so let's go back
to our event page Cheers and we're going
to say chrome dot context menus dot on
clicked add listener
so we're basically listening to the
click event on the context menu so now
this is going to take a callback
function so function and it is going to
have an object I'm going to name this as
click data but you can name this
anything you want to all right so once
we have the click data we first need to
check if what the user clicked on is our
menu item so click data dot menu item ID
equals our ID over here so spend money
and we also need to check that there is
some selection text after all so click
data dot selection text so if the user
clicks clicked on our menu item ID and
he has selected something then we need
to do something what is that we first
need to check if the user has selected
an integer value now there are several
functions that check if something is an
integer and I'm just using one of those
so I'm just copy pasted this function is
int and when you pass a value it is
going to return true or false based on
whether the value is integer or not so
if I'm going to use the function is end
and I'm going to say click data dot
selection text so if the selected text
is an integer
then we're going to basically do what we
did with the pop-up yes so chrome dot
storage dot sync dot get now this is
going to return an array the first one
we need a total and we also need the
limit so once we have this we can have a
callback function so function the
callback function will have budget as
the argument and now we can initialize a
new total so new total equals zero then
we try to get the existing total so if
budget dot total then we are going to
add that to the new total so new total
plus equals parse int because we need an
integer value so parse int budget dot
total and then we can go ahead and add
our selected text to the new total so
new total plus equals parse and click
data dot selection text so basically
what we are doing is initializing a new
total to zero
and then if there is an existing total
for our extension we are going to
retrieve that and add it to new total
and then whatever the user selected the
integer value we are adding that to the
new total so once we have the new total
we can go ahead and set that back in
chrome storage so chrome dot storage dot
sink dot said what are we setting we are
setting the total and we're setting that
to new total and then remember we had
the notification if it exceeds the limit
so we're going to have a callback
function and we're going to say if new
total is greater than or equal to watch
it dot total
sorry budget dot limit then I'm
basically going to copy this apart from
pop-up dodges
I need this notification right here okay
so now we should be good to go let's
save this and let's select something
okay let's check let's check the total
it is zero right now and I'm gonna spend
the money on 28 and okay let me let me
let me reload it just to be let's let's
see let's see oh okay
28 spent money it's going to be 28 and
now when I click on 75 or when I spend
75 we are going to be exceeding the
limit of 100 so we should be getting
that notification so 75 spend and there
you go limit reads so now we are able to
add or spend money from the webpage and
directly add the total to our extension
so that is it about context menus</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>