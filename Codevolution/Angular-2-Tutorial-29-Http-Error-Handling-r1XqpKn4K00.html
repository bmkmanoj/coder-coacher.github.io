<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular 2 Tutorial - 29 - Http Error Handling | Coder Coacher - Coaching Coders</title><meta content="Angular 2 Tutorial - 29 - Http Error Handling - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular 2 Tutorial - 29 - Http Error Handling</b></h2><h5 class="post__date">2016-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/r1XqpKn4K00" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay guys whenever we write code
especially HTTP calls we need to make
sure that we handle any possible
exceptions that may occur so in this
video let us handle the HTTP errors and
exceptions in our angular application
now just like the map operator that can
be used to convert data to the desired
format we can also have a catch operator
that works on an observable and that is
used to handle exceptions so first thing
just like how we import map operator
let's import the catch operator
so from rxjs add operator catch now we
can go ahead and add the catch operator
on the observable so like dot map we're
going to say dot catch now the argument
to this catch operator is a method and
I'm going to call this method as error
handler so basically this is a method
that gets executed when there is an
error or an exception now I have the
catch operator defined let's go ahead
and define the error handler method so
underscore error handler now this error
handler takes in the response object as
its argument now this gets executed only
when there is an error so I'm going to
call the response object as error so we
have error of type response now what do
we want to do with the error now of
course you would have something like a
logging service which is going to log
all the exceptions for you it may be in
a file and then you can visit the file
later on to check what the exceptions
were but for now we're just going to log
to the console what the error is and I
want I want the error message in red
font so instead of console dot log I'm
going to use console dot error and I'm
going to pass the error and then now if
you notice our service doesn't have any
view so there is no HTML but when there
is
exception we need to inform to the user
that something has gone wrong with the
application or else they might just
think that the data loading is taking a
lot of time so from a good user
experience point of view we need to
display an appropriate message in the
view so what we need to do is throw this
exception on to the components so that
we can handle it there so for that I'm
going to say return observable dot throw
and then what are we throwing if the
error is not known we throw the error if
it is null we're just going to say
server error now we have the red
squiggly because we need to import it
so first is import observable and this
we are going to import from our XJS /
observable and then fourth row we need
to import our XJS / add / observable /
throw alright so it's going to say did
you mean instance this dot yep I did
mean this dot all right so now we are
handling the exception in our service
and we are throwing it on to employee
list and employee detail so let's go
ahead and handle it over there so I'm
going to go to employee list component
and if you notice here we have
subscribed now the SUBSCRIBE method the
first argument gets executed when valid
data is returned from the observable so
if I get some data I'm going to call
that as response employee data and then
I'm assigning to employees now similarly
if it is not valid data that got
returned instead it was error then the
second argument gets executed and the
second argument is an arrow function as
well so let's call this response
employee error and then we are just
going to assign this to a way
variable so I'm going to create a
message or I'm going to create a
variable pretty soon I'm going to call
this this dot error message is equal to
response an employee error now we need
to define this error message so I'm
going to say error message of type
string all right so let's save this and
now we have whatever the error message
was we have assigned it to this variable
and we need to display it in the view so
I'm going to use an h3 tag and I'm going
to use interpolation to bind that value
to the view so error message and then
close the h3 tag so now let's go ahead
and do the same an employee detail
component so I'm going to copy this
let's go over to employee detail and
then I'm going to put a comma and then
say response employ error and then also
going to define this error message and
let's go ahead and display over here as
well in the view so h3 h3 and over here
we are going to bind error message so
let's save this and we do have an error
declaration of statement all right so
I'm going to have to close this yep yeah
so that should work now let's save this
and have a look at our browser and it's
working fine yep it's working fine and
what I'm going to do is to create an
exception I'm going to go ahead and
change this URL now right now we have
this employee data JSON with the five
employee data but I'm going to change
the URL such that this is employee data
1 dot JSON
so I'm going to save this and let's see
what happens now the get request failed
and the error message was response with
status for not for not found for URL
HTTP low close 2000 API data slash
employee data 1 dot JSON now of course
this was the exception that was returned
but you can go ahead and send in any
error message that you want to depending
on the exception so let me quickly
summarize this the first thing we need
to do is over here we need to catch any
possible exception so catch operator is
imported and then attach to the
observable now the catch operator takes
in a method which is nothing but an
error handling method as its argument
now the error handler gets executed it
takes in an error or the response object
as its argument now what we are doing is
we are logging to the console the error
and then we are throwing the error so
that the components can catch them and
displayed in the view so in the in the
different components the first argument
to the SUBSCRIBE method is any data or
any valid data that was returned the
second function gets executed when there
was an error in the observable so what
happens here now of course you can name
this anything you want to but just to
make it logically sensible I have named
it response and boy error and then I
assign it to error message and then I
display it in the view so now we have
that error message in the view and if I
open the console there we go failed to
load load resource the server responded
with a status of four not four and it
gives us more information on this error
object so that's pretty much how you
handle errors and exceptions with HTTP
and that should cover services and HTTP
in angular next let's have a look at
routing so thank you guys for watching
don't forget to subscribe follow me on
github and I'll see you guys in the next
video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>