<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular Authentication Tutorial - 17 - Login Service | Coder Coacher - Coaching Coders</title><meta content="Angular Authentication Tutorial - 17 - Login Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Codevolution/">Codevolution</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular Authentication Tutorial - 17 - Login Service</b></h2><h5 class="post__date">2018-04-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4cO-3UFyfkY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right in this video we are going to
connect the front-end login form with
the backend login API so open ODOT
service dot TS file and over here first
let's create a property that point to
the backend login URL so private
underscore login URL is equal to HTTP
localhost port 3000 slash API slash
login next let's define a login user
method that makes the actual HTTP call
and this method again accepts a user
object which would be email and password
then we make the HTTP request this dot
HTTP dot post login is a post request
now again the arguments the first one is
the URL so this dot underscore login URL
and then the second argument is the user
object and we add type any to be able to
return the observable without any errors
and at the beginning of the statement
let's add the return keyword so in
simple words the login user method
accepts a user object which contains an
email and a password and returns the
response that the backend API sends
whenever it is available in our case the
backend API responds with either an
error or the details of the user all
right now that we have the service let's
connect the service to the component so
back in the login component first import
the odd service and then injected import
and then in the constructor injected
next in the login user method we are
going to call the service passing the
user data which is the login user data
so instead of logging to the console
we're going to say this dot underscore
auth dot log in user and we pass in this
dot login user data now calling is not
enough as we need to subscribe to the
observable that is returned so dot
subscribe when we subscribe we either
get the response data or an error for
now let's just load them to the console
response console dot log response if we
get an error
let's log that to the console as well
all right our connection is now complete
let's go back to the browser and test it
out fill in the details and click on
login now if we test with invalid
credentials we get back a 401 error with
valid credentials though so a at a calm
and password of a if you click on login
you should see the details of the user
so if I expand this email is a at a calm
and password is a alright so the user
login is now complete let's go over the
login flow to make sure we understand
this right we begin with the front end
login component the login button called
the login user method in the login user
method we call the login user service
passing in the user data now the service
makes an HTTP call to the backend API
the back in API returns the logged in
user details as the response this
response is then sent asynchronously to
the method calling the service so in the
component we subscribe to the service
and then get the response and we log
that to the console so you might wonder
wait is that it how do we know if the
user is logged in on subsequent requests
now before we come to that let's quickly
finish up the UI for regular and special
events</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>