<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Installing Python Packages with pip and virtualenv / venv | Coder Coacher - Coaching Coders</title><meta content="Installing Python Packages with pip and virtualenv / venv - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Python-Training-by-Dan-Bader/">Python Training by Dan Bader</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Installing Python Packages with pip and virtualenv / venv</b></h2><h5 class="post__date">2017-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UqkT2Ml9beg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey folks how's it going so this is Dan
with another Python trick and today I'm
going to talk about Python virtual
environments so python actually includes
a really powerful packaging system to
manage the dependencies of your program
so other modules that your program would
use that are not part of the standard
library and that you didn't write
yourself and I probably already used
that to install some packages or
third-party packages through the PIP
command one REE confusing aspect about
installing packages with the PIP command
is that by default it tries to install
them into your global environment the
good thing is that this makes any new
packages available globally in your
system which is great for convenience
but it also turns into a nightmare if
you're working with two different
projects or more they actually require
different versions of the same package
right so let's say you have one app that
you're building it requires Jango 110
and then the other one requires Jango 10
8 and if you only have a single global
environment for your Python packages and
that's not gonna work you're gonna run
into version conflicts and now even
worse the same thing could happen if
you're working on some programs that
require Python 2 and some that require
Python 3 where would you install the
stuff now by default python 2 and 3
actually use different environments but
what if you were working on a program
that actually was running on python 3.3
and then now you were starting a new
program and it would require a python
3.6 how would you actually install those
in parallel so the solution to all these
problems is so-called virtual
environments because they allow you to
keep all of your dependencies separated
by project including different versions
of the Python interpreter so a virtual
environment is an isolated Python
environment and it physically just lives
inside a folder that contains all of the
packages and other dependencies like
native code libraries that a Python
project would need now to show you how
these virtual environments work or also
virtual ends how they're called for
short I'm going to give you a quick
example of that and then we're gonna
install a third party package into it so
first of all we're gonna take a look
at where the global environment
currently lives and we can do that with
the which command so in this case I'm
going to be using Python 3 which means
that I'm gonna add this suffix like 3
suffix to all of my commands here pip 3
Python 3 and so on
alright so the first thing that we're
gonna do is we're gonna take a look at
where the global environment currently
lives right and I'm gonna do that with
the witch
command which tells me the path to a to
a file or to an executable and in this
case I'm looking up the PIP 3 command
because I'm using Python 3 here so if I
run this it tells me that my Python
install lives inside user local bin or
my pip install lives inside user local
bin this is typical if you install that
through homebrew on Mac OS for example
now I'm going to pretend I'll be working
on a new Python project here so I'm
gonna create a new directory for this
project and then I'm gonna change into
this project directory and what I'm
gonna do now is I'm gonna create a
virtual environment inside this folder
here so what I'm gonna do here I'm going
to use the magic incantation Python 3 -
m vnf which stands for virtual
environment and I'm just gonna tell it
to create a virtual environment inside
this my Python project folder and I want
it to create that in inside a new
subdirectory called VNV it's which is
just you know a naming convention that I
like to use and this is gonna set up a
new virtual environment so this should
finish any minute now
all right so we just created the new
virtual environment and now in a look at
the contents off my project folder
previously was empty and I've got this
VN folder in there and when we look
inside it you can see there's a bunch
more directories and pretty much like a
full Python install and we can drill
down further just to show you that you
know there's a bunch of stuff in this
folder here so when we just list a
directory tree here you can see that
we've got this bin folder this include
folder the library the Lib folder this
is where all fire Python third-party
packages are gonna live and they were
seeded with some basic stuff like a very
basic Python install right and that's
what a virtual environment does now
we've pretty much got this tiny
self-contained virtual environment a
Python environment install inside our
project folder now if we run the which
pip 3 command you can still see that
while we set up the virtual environment
we're still like running pip 3 would
still execute inside the global
environment so what you need to do here
is you need to load a script
inside the VN folder and this is again
this is just by convention right words
called VN slash bin slash activate I'm
gonna run that inside your shell on
windows that would just be a little
executable so you wouldn't use the
source which is kind of run this
activate command and what you can see
now it actually changed my prompt here
because now this particular VN is
activated and it tells me so by by
adding this little notice here to my
prompt right and so if I go ahead and
run which pip3 again you can see now
that it actually points to different
paths inside the virtual environment and
this is great because that means now
when I install stuff it will go inside
the virtual environment rather than the
global environment right so I can also
use the pip3
list command and that's gonna show me
what's installed here and you can see
here this is just a very basic stuff
right so this is a very basic Python
installed with all the standard library
and in pip and setup tools which again
are now part of the standard libraries
so this is a brand-new Python
environment and now I can go ahead and
say let's install a module here and this
is gonna download and install this
package now when I do a list then you
can see here that we just installed
schedule inside here actually from this
point on once I'm inside the virtual
environment I can just go and use pip
instead of pic 3 because it what
enabling or activating a virtual
environment will do is it will actually
link up the pip just to point to the
right version of pip and the same is
true with python right so if i go python
I'm gonna run Python 3 6 out of this
virtual environment so what I'm gonna do
here just to show you that we actually
install this module correctly I'm just
gonna import the schedule library and
then just do a derp on that and then you
can see here you know we're able to
install this package and we were able to
surf inspect it and made sure that it
was imported correctly which is great
because this is really what we wanted
here
all right so now you know what a virtual
environment is how you create one how
you activate one now the question is
okay how do I get back to the global
environment it's pretty easy to do so
when you're inside a virtual environment
you can just use the deactivate command
which is part of any enabled there were
any active virtual end so when I run
this command it's gonna take me back to
the global environment and now when I go
which pic three it's gonna point to the
global environment here again and then I
could also do you know if I wanted to go
back into the virtual environment I
would do the same thing and it would
turn it back on all right now I'm back
in
and now we're back out cool so again you
know a very simple tool actually once
you kind of understand how to use it how
the basic use cases for it work but
these virtual environments are super
helpful because they help you keep your
project dependencies in separate places
they're good for security I mean it's
obviously not perfect because you're
still running a bunch of code under your
local username but it's better than
running it as root when you install
packages and they help you avoid version
conflicts and as a best practice in
general all of your Python projects
should use virtual environments to store
the dependencies so that you can avoid
conflicting versions and all of these
headaches so I hope this helped you out
if you want to learn more about tricks
like that and sort of intermediate and
advanced level usage of Python then you
should check out my book it's called
Python tricks and the links in the
description thanks so much in talk to
you soon</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>