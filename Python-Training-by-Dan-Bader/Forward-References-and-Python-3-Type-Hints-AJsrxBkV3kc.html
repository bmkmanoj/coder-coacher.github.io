<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Forward References and Python 3 Type Hints | Coder Coacher - Coaching Coders</title><meta content="Forward References and Python 3 Type Hints - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Python-Training-by-Dan-Bader/">Python Training by Dan Bader</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Forward References and Python 3 Type Hints</b></h2><h5 class="post__date">2016-07-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AJsrxBkV3kc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right welcome my name is Daniel
Bader and I'm gonna give you quick how
to and how to deal with forward
references in Python 3 type hints so the
problem that we're running into today or
that we're going to talk about today is
how would you type int a piece of Python
code that looks like this so we have a
single class that we're defining here
it's called my class and has a single
method on it that is supposed to return
an instance off the actual class right
it's just going to return the self
object and this is just sort of a toy
example you could imagine that this
would really be sort of a more
full-fledged factoring method so maybe
that would be a class method but in the
end what you wanted to do is you wanted
to return an instance of myclass
while you actually haven't fully defined
my class yet so if you think about a way
to add type hints to this class or to
this get instance method sort of the
first thing that will come to mind is
that you would just add a regular type
int for the return value just tell it
hey this returns an instance of myclass
this actually works fine if you run it
through a type checker like mypie just
gonna pass all the checks you're not
gonna get any warnings or errors however
if you try to run this in the Python
interpreter what's gonna happen is it's
gonna blow up and you're gonna get a
name error that says my class is not
defined and it really isn't right the
class is still being constructed or is
still being parsed out by the
interpreter and it doesn't know yet what
my class actually refers to so how are
we gonna deal with this right what's
happening here the one keyword that you
need to know about to help yourself out
here is for word references is exactly
what's happening here we're referring to
a type that hasn't been fully defined
yet at the point in time where we refer
to it and when you look at the actual
pep dad adds type hints to Python 3 or
kind of documents how they're supposed
to work there's actually a whole section
on
Ford references with more code examples
and kind of doing a deep dive on this
stuff so you might want to check this
out the gist of it however is that to
fix this name error issue all you need
to do really is instead of passing in a
type reference for the return value
we're just gonna give we're just gonna
surround that type reference with quotes
to turn it into a string literal and by
convention a type checker like my PI is
gonna know that we're not actually
referring to some random string but it's
just a workaround to to identify these
forward references sins gonna know what
to do with it so the great news is that
this actually passes validation in my
pipe the type checker and it is actually
also valid Python code now which is
really something that we obviously care
a lot about all right I hope this helped
you out take care and have fun reading
more Python bye now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>