<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Functional Programming in Python: The &quot;filter()&quot; Function | Coder Coacher - Coaching Coders</title><meta content="Functional Programming in Python: The &quot;filter()&quot; Function - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Python-Training-by-Dan-Bader/">Python Training by Dan Bader</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Functional Programming in Python: The &quot;filter()&quot; Function</b></h2><h5 class="post__date">2017-09-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fkjjqyfN51c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there and welcome to the next video
in my functional programming in Python
series if you missed the first video
where I talked about what is functional
programming anyway and how can you
represent data in immutable data
structures for use in your functional
programs then you might want to check
out the first part of this series before
you watch this video so in this video
we're gonna take the next step and we're
gonna work with this immutable list of
scientists that we created in the
previous installment and we're gonna do
some interesting transformations on the
scientists in that list or just on a
dataset by working with the filter
function in Python so the filter
function is one of the functional
programming primitives that you can use
in your Python programs it's built into
Python so here I'm on Python 3 but this
would also work on Python 2 the filter
function is built-in and it has maybe a
slightly complicated doc string so it
says here the filter function returns an
iterator yielding those items of
interval for which function of item is
true if function is none return the
items that are true okay what what does
that mean right that's pretty intense so
I'm well we're just gonna play with it
and then you can see how we can use the
filter function to to play with this
data set and to apply some filtering
what I want to do now is I want to write
a filter function a filter expression
that gives me all of the scientists in
this in this list or actually gives me a
new list of scientists that have won the
Nobel price or the opposite right like
we're one a filter this data set by
whether or not that person won the Nobel
price at some point and so okay let's
take this step by step right so I've got
the filter function here looks like this
takes a another function object and if
you want to define a function object in
line you can use the built-in lambda
expression so here I'm gonna say lambda
X so this is the object that will be
passed in so lambda of X I want this to
return true or false depending on
whether or not the Nobel flag is set to
true or false so I can go here and I can
say X dot Nobel is true so if you're
wondering how a lambda works it's
basically like a one-line function like
a shortcut for defining a function in
Python so you can put arguments and then
you have one expression that gets
evaluated so you don't have to do return
or anything that's automatic and it will
just evaluate this expression and return
it back out of the function how does the
lambda function so in this case I'm just
comparing nobel to true
I could have shortened that and just
said X dot Nobel but honestly I think
this is some this is nicer because it
actually makes sure we're turning a
boolean and I think that's the better
way to do it so in this case I would say
alright we're checking here and we're
passing in an iterable which is the list
of scientists here okay so what do you
think is gonna happen when I run this ok
so depending on whether you you're
running this on Python 2 or 3 you're
gonna see a different result here so in
Python 2 this will have created a list
object containing all of these filtered
filtered scientists that are the
scientists that passed this test here so
this is like a test function and on
Python 3 this actually returns a filter
object which is an iterable and or and
yeah it's an iterable it's and it works
like like an iterator so we need to
extract the the next item from it and
well actually why don't we do that let's
call this FS for filtered scientists and
then we can just say next FS you know
and that's gonna give me all of these
filtered scientists and you can see here
this only contains scientists that had
no Bell set to true and now we're
hitting a stop iteration exception and
we're at the end of that so if you're
wondering how how iterators work in
python i have a tutorial on my website
on a debater org that i'm also
a link in the description and you can go
there and you can kind of dive into that
topic if you're if you're interested so
what I want to do now is actually turn
this into into what I what I promised
you earlier I want to turn this into
another list or I guess a tuple to make
it immutable off these filtered down
scientists so what I can do here is we
could say okay like basically what I'm
gonna do here I'm gonna bring back this
filter instruction or this filter
function call and I'm gonna call tuple
on it and that will take all of the
elements generated by this iterator and
it will put them inside a tuple that we
can then refer to right so you know if I
wanted to make this prettier I could do
this and then P print FS and then you
would see that it's filtered down to
only include Nobel Prize scientists so
the filter function is pretty cool
because it allows you to apply a a
function over a whole list of things or
an iterable of things and then every
item in this list or in this interval
gets passed to the function in this case
will be X and then we can make a
decision and return true or false and if
we return true this item will be
included in the resulting list in a
filtered list and if we return false it
will not be included so maybe to show
you how that works again so I'm gonna
make this slightly crazy expression here
right so here I just want to type out a
skeleton here scientists okay so what
I'm doing here is I I defined this
expression here that would actually
convert it to a tuple and and print it
out so it looks nice and clean and I
didn't yet at the filter function we're
gonna do now so in this case you know I
could just always return true so if the
filter function would always return true
then we were just gonna return the whole
list right and you can you can filter on
anything you want right I could say okay
if X dot field equals physics we're only
gonna get people that well worked in
physics and if I can I can go extra
fields field equals physics and X dot
Nobel it's actually used a short version
this time X dot Nobel then I get a tuple
of length one because that's the only
person Marie Curie here is the only
person that this filter expression
matched on and why why do it this way
right like why why should you write code
like that why why not do it differently
like why not do 4x in scientists and
then if you have X dot Nobel is true you
know then print X it's the same result
why not why not do a for loop
well what's kind of nice here is that
you can chain these things very well and
you can apply these transformations you
know in a purely functional way so you
know when you look at this expression
here this is just calling a bunch of
functions like we're not we're not
modeled like we're not iterating over a
list we're not we're not having these
side effects or printing stuff out and
in some ways of course it seems more
complicated in having this simple loop
here but what's really nice is how
declaratory
will take this list of scientists apply
this filter function whatever it is make
sure we have a list at the end of it and
print it out so it's like this long
chain of function calls and that allows
us to do this transformation in you know
in a single line here and it's not
really about like the number of lines of
code but you know we're doing this with
these like very very simple composable
things here you know we're using the P
print function reusing the tuple
function we're using this filter
function it could
reused and these are all little building
blocks that I could just reuse in
different contexts right if if you
imagine I I did this let's call this
noble filter it takes an X and then it
returns X dot Nobel is true all right so
now I've got this Nobel filter and now
we can go in and we can say okay filter
on this Nobel filter and then again we
want the tuple and just for you know
clarity sake we also want to print and
now I have a reusable piece right I have
a reusable piece I have this noble
filter I could define a bunch of other
filters that that can just be applied
without me having to rewrite this code
or copy and pasting a bunch of code so
now everything we use here is it's just
a series of function applications and it
becomes clearer when I do it this way
then with the lambda I guess because the
lambda is kind of ugly and you know a
lot of people in Python they don't
really like it and by the way you know
before people leave angry comments I'm
not necessarily encouraging this style
of programming because it's not not
really what Python was meant to do you
know arguably this would be a better way
to do it but it can be fun to think
about how you can use a functional
programming style that relies on
function application or evaluating
functions rather than you know writing
stuff like this or and that mainly
relies on immutable data structures how
that can sort of change your mindset a
little bit and it can make things a lot
easier if you're working in parallel
programming for example because you know
I could filter I could apply this filter
in parallel and it would be very easy to
parallelize that across
several threats or processes like
actually you know it could be an
interesting exercise maybe I get to down
as part of this these tutorials to
actually show you how to do that and if
you if you write your code in a in a
more functional programming style you
can take advantage of these things right
so I hope that gave you a good idea of
how the filter function works now I
can't really stop this part of the
tutorial here without talking about list
comprehensions or I guess in this case
we would would create a tuple alright so
in this tutorial we mainly worked on
defining this filter expression here
this filter function call that filtered
scientists by Nobel price or not you
know whether or not they won the Nobel
Prize
now Python has a wonderful thing called
list comprehensions where I could say
alright give me all the X's where X is
in scientists but only if X Nobel is
true so that is actually the pythonic
version of this filter expression here
that is what a lot of the Python core
developers recommend as a replacement
for the filter function and you know you
can see here this is slightly different
to do what we had before but you know we
can can change the formatting alright
it's pretty close now the only
difference is that we're creating a list
here and previously we're creating a
tuple so what I can do here I can say
we're gonna create a tuple and then this
is already pretty good but we can do one
better so now these two actually
equivalent right I have the output here
from this list comprehension and from
the filter expression they're now
actually completely equivalent but
there's one change I can make and that
is I can get rid off the list
comprehension and actually turn this
piece here into a generator generator
expression which will have the same
result but it's not creating a list
object as an
your product here so you know previously
this would create actually bucket I want
to show you that this has the same
result right so previously what I did
I pretty much did this one two three I'm
creating a tuple out of a list and you
can actually do this one better I serve
by by doing this I mean this doesn't
really work but this is kind of in the
spirit of what would this generator
expression here it did right so you can
you can pass something like that like a
list comprehension you can pass it
directly to to the tuple function here
or any other function and then if you
don't have this wrapped in these square
brackets it will actually be a generator
expression which kind of it defines an
ad hoc iterator that then produces these
values for us without first creating a
list and then creating a tuple from that
list and destroying the list again so
it's more memory efficient but you know
that's kind of going down a rabbit hole
of Python specifics specifics here which
can be fun but it's not really the point
of this so I you know I just I just want
to make sure that I'm covering some of
the side tracks here because I know it's
questions that come up when we're
covering the concepts like that and I'm
showing examples like that all right so
now you should have a decent idea of how
the filter function can be used in
Python how it relates to a functional
programming style and maybe you now also
have a better idea of how list
comprehensions work so I know you know
the stuff we covered here at the end it
was a bit of a mouthful and maybe it's
something you want to review a little
bit slower and actually type it out and
if you want to do that I would encourage
you to do it because there's really a
lot of cool things you can learn here
all right and if you have anything
interesting to add or have a question
about this stuff then please leave a
comment and really appreciate it if you
want to see the next installment in a
series so in the next piece or in the
next part of this tutorial we're going
to talk about the map function and
that's another functional primitive in
Python and if you want to make sure you
don't miss that next episode in the
series and then click this
subscribe button I'd be happy to have
you on board right I'll see you in the
next video and happy Python II</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>