<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;For Each&quot; Loops in Python with enumerate() and range() | Coder Coacher - Coaching Coders</title><meta content="&quot;For Each&quot; Loops in Python with enumerate() and range() - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Python-Training-by-Dan-Bader/">Python Training by Dan Bader</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;For Each&quot; Loops in Python with enumerate() and range()</b></h2><h5 class="post__date">2017-03-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/URxQGA9f_AA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there this is Dan Bader and today I
want to talk about how you can make your
loops more pythonic so I know a lot of
people are migrating to Python from
different language backgrounds and one
of the things that makes it very easy to
spot someone with a background in let's
say a C style language you know like C
C++ Java C sharp it will makes it very
easy to spot is how they write their
loops so in this case here I've got this
list with three items and I want to
iterate over that so I can print out
each item so this is the end result we
want to get here and if you see someone
writing a loop like this in Python let's
say during an interview situation or
when you're reviewing someone's code it
becomes very clear that this person is
not super familiar with how a loop like
that would be written in Python so it's
really it looks like a C style Java
style loop right we're keeping track off
this index variable here and we're
taking the length off that list to
iterate over it and then we're also
accessing each element based on the
index and of course we need to keep
track of our loop variable here so not
very pythonic so what I'm going to do in
this video is I'm going to go over this
loop and I'm going to refactor it I'm
going to go over all of these items that
I just called out and I'm going to make
sure we're going to make this loop as
pythonic as possible and really make
this seem like a loop that a native
Python developer would have written so
the first thing I'm going to change here
is how this loop was keeping track off
the loop index manually so we're
incrementing this little counter
variable called I and that's not very
pythonic so thankfully there's a way in
Python to do that automatically using
the range build in so in this case I'm
going to call the range function with
the length of my container which is not
ideal just kind of foreshadowing some
things but we're going to change that
right after so if I call this what I get
back is a range object now a range
object is a gener
Raider in Python so it's going to be
generating these individual indexes from
0 all the way to 2 because it's not
going to include the right-hand side
element and actually if you want to see
what this looks like
I can call list on this range object and
that's going to kind of go through the
whole generator and it's going to give
me a list with the elements generated by
at the generator so as you can see here
this range object would go from 0 all
the way to 3 minus 1 which is 2 and what
I can do now is I can refactor that loop
using the built in range function and
that allows me to get rid of the index
tracking and again this is going to work
exactly the same when you can see here
now we're using this range object to
generate these loop indexes one by one
now by the way if you're in Python 2 you
want to use the X range built-in to
actually get a generator because if
you're using range in Python 2 it will
pre create the whole range as an actual
list which is going to be bad for memory
usage so if you're going to create you
know a huge range in Python 2 this would
actually pre create all of those
elements which is probably not what you
want so on Python 2 you want to use the
X range built-in it does exactly the
same as range but the key difference is
that it actually returns a generator
versus returning the actual list now if
you took this refactored loop and you
showed it to a Python programmer they
would probably cringe a little bit
because this is really not ideal yet so
this could be simplified further I mean
we're a little bit better because we got
rid of this manual index tracking but
there's more we can do so actually a key
thing to realize is that for loops in
Python are really more like for each
loops in other languages so you can use
them to iterate over items from a
container or sequence directly and you
don't have to look up each individual
item by index so I can take this loop
and simplify it even further by taking
advantage of that so this is what it
would look like I would just go for item
in my items which is nice because now
we're actually giving a real name to
this variable here calling it item we
completely got rid of the eye and the
index
in here and this is going to work just
the same so this implementation is much
more pythonic and got rid of the need to
actually use the range built-in we're
not having to call Len to get the length
of that list but instead we're just
going to iterate over that container and
the container itself is going to take
care of handing out these elements so we
can process them so if the container is
ordered like in the list the resulting
elements that were iterating over are
also going to be ordered and if the
container is not ordered then it will
return the elements kind of in an
arbitrary order so this is going to give
us all the elements but there's no
guarantees how we're iterating over them
depending on the container that you use
but these two examples here because
we're dealing with a list they are
exactly the same like we're getting
exactly the same resulting printout here
now maybe you're wondering what should I
do if I need the item index right you
might not always be able to rewrite your
loops that way with the with a for each
loop if you actually need the item index
and thankfully there's a pythonic way to
keep that running index that allows us
to avoid this kind of odd-looking range
of length of something construct and for
that we have the built in enumerate
function so as you can see here I've
changed this for loop a little bit so
now I'm calling enumerate on this list
here and enumerate is another generator
and what it's going to do is it's going
to return a running index and then also
the actual element and you can see that
here so it's returning the index first
and then the actual item in that
container so it's well enumerate in the
container and I can take advantage of
that if I ever need the actual index I
can use enumerate and that will be the
pythonic way to deal with this situation
versus keeping track of that index
manually let's take a look at what this
does when we actually run it all right
so this iterated over the whole
container and it was keeping track of a
running index and it was also printing
each item individually so again
enumerate is very handy for those kinds
of situations so I really want to make
everyone happy with this video about
writing more pythonic
and I know that a common question is hey
so what if I absolutely have to write a
C style loop like what if I have this
and I need to convert that to Python in
some way maybe because you know I'm
using a different step size here like
how how would I do this just you know
just assuming I would have to do this
how can I do this and for that we're
going to come back to the range function
so what you would do here is you would
use the range function in a way that
actually Maps pretty closely to the C
style loop here range can take several
more parameters so you can pass the
initial value to it which I called a
here and you can pass it the well number
like the right hand side value in that
range or if the number of elements that
you're iterating over that I called n
here and you can see how that maps and
then you can also pass a third parameter
that is going to be the step size so
with that S parameter you can influence
how big of a step the range is going to
take between elements you know so if you
want to iterate over every tenth element
in a list you will just use a step size
of ten and then instead of iterating
over each element individually you would
jump ahead ten elements at a time and
that would allow you to pretty much
adapt any kind of C style for loop that
is using this indexing stuff and you
would be able to take that and turn it
into a sort of pythonic loop now to wrap
this up I just want to reiterate some of
the key points in this video so first of
all writing C style loops and python is
considered unpack it snot very natural
it's not a very natural way to do that
in Python and so if possible you should
try and avoid managing loop index sees
in these stop conditions manually the
other thing is that pythons for loops
are really for each loops so they can
iterate over items from a container or a
sequence directly and just kind of
consume items from that container and
then hand them to you and you should
really take advantage of that if you're
writing Python code because then you
don't need to
manage all of these index ease index
Luka lookups and keeping track of that
manually you don't have to do that
Python will do it for you and that way
you can reduce the amount of code you
need to write the amount of code you
need to manage and that's a great way
for you to simplify your programs and
using these Python style loops also
makes it harder to introduce bugs right
you can't really be off by one or you
can be running past the end of a
container if you're using a for each
style loop so I would really encourage
you to use them and actually I wrote a
whole blog post about this so if you're
interested in that then just check out
the link in the description and you can
read the whole thing and kind of recap
some of the takeaways here in this video
cool well best of luck and happy Python
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>