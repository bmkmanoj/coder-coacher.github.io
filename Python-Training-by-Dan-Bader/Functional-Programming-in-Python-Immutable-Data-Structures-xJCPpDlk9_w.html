<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Functional Programming in Python: Immutable Data Structures | Coder Coacher - Coaching Coders</title><meta content="Functional Programming in Python: Immutable Data Structures - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Python-Training-by-Dan-Bader/">Python Training by Dan Bader</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Functional Programming in Python: Immutable Data Structures</b></h2><h5 class="post__date">2017-08-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xJCPpDlk9_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys it's Dan and in this video
we're gonna talk about the basics of
functional programming in Python so this
video is going to be part of a series
where I'm gonna cover some of the basics
of functional programming so we're going
to talk about immutable data structures
and how you would typically represent
your data if you're using a more
functional programming style and very
importantly we're also going to talk
about what this functional programming
stuff is anyway and what that term means
in the course of these tutorials I'm
gonna take you through a few examples or
you'll learn how to work with the filter
map and the reduce functions in Python
so these are some of the core building
blocks of a more functional programming
style and it's generally a good thing to
know about these right like if you're
wondering okay why should I watch this
video it's potentially like a mind
expanding exercise for you where you can
learn about a different programming
style that isn't it's not necessarily
better than other programming Styles
like object-oriented programming or
procedural programming but it's just
something it's another tool in your
toolbox that you should really know
about so why don't we jump in here all
right so in this first part of the
tutorial I want to talk a little bit
about what functional programming is and
then we're also gonna talk about how we
can represent different data sets in
using a functional programming style
using immutable data structures and why
that would be a good idea and the
benefits you can get from that so
functional programming what is that well
it's a programming technique that avoids
side-effects in your programs by
performing computation mainly through
the evaluation of functions and it'll
rely heavily on immutable data
structures as well so I know that was a
mouthful and I hope in the course of
this tutorial
things will become a little bit more
clear but basically functional
programming is
a programming style just like
object-oriented programming that has the
potential benefit that it can reduce the
likelihood of bugs in your programs and
it can potentially make them more
maintainable as a result so admittedly
the whole concept is a little bit
difficult to pin down because when we
talk about functional programming
languages a lot of times you know a
modern functional programming language
would maybe be Haskell and it's a little
bit hard to pin down what are really you
know what what really makes a
programming language functional or not
or a coding style functional or not
versus some of these additional features
that these modern functional programming
languages support so the definition I'm
personally I'm gonna stick to in these
tutorials is that well functional
programming is a programming paradigm or
a style of programming where we mainly
use immutable data structures and we try
to avoid side effects by doing all of
our computation using the evaluation of
mathematical functions and that's some
that's based on the definition that
Wikipedia uses which i think is pretty
general and I think that's good because
it leaves out all of the extra stuff
that you would maybe think is part of
functional programming like the advanced
typing systems in languages like Haskell
so you know just to give you an idea of
what we're gonna be focusing on in these
tutorials if you feel like well what's
this guy talking about I need to see
some code then we're gonna get to that
in a minute because really I think this
is the best way to learn this stuff
anyway it's usually not much help to
just you know try and understand these
concepts from an abstract perspective
just by reading about them but you need
some stuff to play with at least that's
how I learn these things you know I
always want something that that I can
engage with and that I can work with all
right so to illustrate some of these
concepts and to teach you about some of
the core functional programming
principles in how you can apply them
with Python I was thinking of
a little data set that I wanted to use
and so the data said I want to use in
these examples is this list here of
scientists that worked in different
fields they all have a name and to hear
Ada Lovelace a me note they worked in
different fields math physics all right
physics right they were born in
different years and in some of them they
won Nobel prizes so it's just a simple
list here with some interesting
properties that we can work with just so
we have something you know some data set
that we can look at and that we can then
work with in a functional programming
style well I have this beautiful table
here's actually a markdown syntax so
this would render nicely if I wasn't
viewing it inside my editor but of
course the question is okay I have this
list of things you know this is maybe
something that I extracted somewhere
somebody typed that into an excel sheet
for me how do I get this into my Python
program and how do I represent this
exact same data inside my Python program
so this is what we're gonna focus on
next so when I started thinking about
this tutorial my first hunch was okay if
I want to bring this into Python I
probably you know have a list of
dictionaries so I could say ok
scientists equals and then I would just
have a list of dictionary objects
probably indent that and I would put
different keys like name and I would put
you know the respective field for the
person and I would put the year they
were born and then I would have some
kind of flag that tells me whether or
not they won the Nobel Prize do
something like that right and then just
have a list of those and you can imagine
there would be some more here so let me
just copy and paste that a little bit
quicker so be more data here and
eventually
close that list and now we have this
data inside Python and we can work with
that
so looks kind of nice right we have
individual items here they're
represented by dictionaries which is
kind of neat the only thing that I don't
really like about this is that a we've
got a mutable data structure here so we
have a list of these dictionaries and by
mutable I mean that I can just reach in
here and I can say okay we're gonna grab
the first scientist here I'm just gonna
reach inside this data structure and I'm
gonna rename Ada give her a different
name right and now when I print this out
we actually modified the name of the
scientist and it kind of screws up the
data in in the beginning I said you know
one of the core tenets of functional
programming is actually that you mainly
work or ideally always work with
immutable data structure so you want a
data structure that can't be modified
that way because if you have if you
represent your data using immutable data
structures that has some really
interesting properties for example if
you wanted to do if you wanted to have a
multi-threaded programming a
multi-threaded program wanted to do some
parallel processing there you wouldn't
have to worry about locking the data
structure because it was no way to
update it you know all of these reads
can happen in parallel and we'd never
have to worry about changing the state
of this data structure while another
threat is accessing it so that would be
one advantage of not allowing mutability
here and what it leads to if you use
immutable data structures that cannot be
modified like this so this example here
this was an embed this was a mutable
data structure that I could modify at
will you know at any time with an
immutable data structure I couldn't do
that and dad a lot of times leads
- just a cleaner conceptual model I'm
forced to do my calculations in a
different way and it's very easy also to
come up with a history of the
calculations that I do you know because
I can't just reach in and modify this
existing object but instead what I'd
have to do
I'd have to create a full copy of this
data structure that I can modify and so
now there exists two copies that that I
that I could that I can use in some kind
of history and I could trace back you
know I made these changes here and of
course all of that you know takes up
more memory at least if you do it in
Python and other programming languages
they have sort of better immutable data
structures but the gist of it is that in
a more functional programming style you
you're trying to go after the more after
immutable data structures and then make
them like the core parts of your program
now the other thing that I didn't quite
like about using dictionaries here for
this functional programming example is
that as you can see I'm repeating a lot
of the key names here and that isn't
perfect because I what if I make a typo
right what if I have a typo here instead
of calling this field name I call it
nine and I would you know just introduce
a typo here and in all the other fields
you know maybe they're there okay and I
didn't do anything wrong here and I
would define another item but I just
made this typo there's no validation I
can just do that right I can just create
this object here there's no one
double-checking my typing and I could
just add that to this list and there
would be no guarantees that this list
would have every item on this list would
have the same same property so that's
why I decided to go down a different
route so what we'll do instead is we're
gonna import the collections module and
then we're gonna define a scientist
object or I guess it's a class using the
collections named tuple func
so here whoops we're gonna give this
thing a name so this is gonna be part of
the doc string and it's gonna be the
type name so you just want to duplicate
that here just by convention because you
know this name top will function can't
actually access the name you gave to the
return value here so we just need to
duplicate this this thing here and then
we're going to define a list of
properties and so here I would say okay
we need a name
we need the field we need the birth date
and we need a flag for whether or not
that person wanted a Nobel price and
then we can close that that function
call so this is a factory function that
will create a new name tuple class and
now we have this thing here called
scientist and it has a bunch of fields
on it and you can see here these are
exactly the fields that we're looking
for earlier and now I can create new
scientist instances so here I could say
name equals Ada love less I can say
field equals and you can already tell
here that these are not just dictionary
keys but these are actually keyword
arguments that I'm passing to this
function so can't really type and talk
at the same time but bear with me so I'm
assigning these to the values I want
here and now we're going to create our
first scientist object right so you can
see here this sort of kind of prints
like one of these dictionary objects but
now it's a real scientist object so we
can say ADA equals the scientist object
and then we can access the field so we
can reach in here it's a dot name aid
dot field and so on and the great thing
is a named tuple instance is actually
immutable so I can't go in I cannot go
in now
and say hey we're gonna name a de to
Edie it doesn't work like that you can't
set an attribute on a name tuple so now
that means we have a way to represent
these individual items and to create to
represent this data set in an in a
immutable data structure so let's do
that
so what I'm gonna do here is I'm gonna
say scientists equals and then a list
and some of you might be going always
using a list here we can talk about that
in a minute so because now so far we
solved one part of the problem right so
I have to find the scientists list here
you can see here it prints kind of
nicely we can improve that a little bit
with the the P print module so I'm gonna
import P print module and then that is
like a pretty printing module and just
gives us the better aligned items here
you know so that's a little bit easier
to read okay so now we've got the
scientists list and while I can't really
go in and say you know do this what I
did earlier I guess now I have to
restructure it a little bit because now
this isn't a key it was actually filled
I can't do that anymore
but what I can still do is I can do do
this and delete the first scientist all
right and now poor Amy is all by herself
and that's a problem because when you
look at what I did there
well I was trying to define this mute
immutable data structure but what I
actually did is I defined these
immutable items and then stored them all
in a list which is a mutable data
structure in Python so I think the best
way to handle this is instead of making
a list
we're going to create a tuple because a
tuple is a immutable data structure in
Python it's basically like an immutable
list so you can't add items to it or you
can't remove items to it and the way I
would represent this data said is sort
of like this like I would do it like
this right so now when you look at
scientists here okay
look kind of good pretty good and if we
print it out then it also formats really
well and what I have now is I have a
tuple of scientist objects previously I
had a list of dictionary objects and so
now we've solved this um this
immutability problem I think because now
with this list of scientists I have now
I cannot go in there
I can't delete anything I can't modify
this list right I can't add new stuff to
it I can I I can't do it right but I can
still access everything by index here
and that's pretty great so this would be
an example of a immutable data structure
this whole thing here like that would be
an immutable array of these scientist
objects that are immutable themselves so
the whole thing is immutable and this is
in a perfect world this is where you
want to be if you're doing any kind of
functional programming in Python you
want to start with a solid data
structure that ideally is immutable I
mean you know you're gonna see in the
examples that we'll work through in the
following videos that you could do
totally do the same thing with
dictionaries that are immutable or you
know lists but I think there's a big
benefit for thinking about how you can
keep your data structures immutable if
you're trying to work with a functional
programming style and I hope you can
start to see why this is useful it's
gonna become more obvious as we work
through
other examples but this is kind of the
lead-in to the other things that we're
going to cover next so what we're going
to look at next is a couple of
functional programming primitives like
the filter function the map function and
the reduce function and how those
correspond to some other things that are
actually built into Python like list
comprehensions and so if this won't be
like a full-on oh this is how you should
all of your programs from now on in
Python but it'll more be like a fun dive
into functional programming so you can
you know get some inspiration and maybe
see how you can apply that style in your
own programs so stay tuned for the next
video if you wanna make sure you don't
miss it then click the subscribe button
and you will see it when you go to
YouTube the next time all right I'll see
you there happy pi thinning</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>