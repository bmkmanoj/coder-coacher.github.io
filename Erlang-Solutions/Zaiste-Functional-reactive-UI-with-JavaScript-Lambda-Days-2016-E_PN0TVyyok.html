<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Zaiste - Functional reactive UI with JavaScript (Lambda Days 2016) | Coder Coacher - Coaching Coders</title><meta content="Zaiste - Functional reactive UI with JavaScript (Lambda Days 2016) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Zaiste - Functional reactive UI with JavaScript (Lambda Days 2016)</b></h2><h5 class="post__date">2016-03-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E_PN0TVyyok" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so indeed I will be talking about
functional and reactive you is the only
problem is I'm not really expert in any
of this so I'm very sorry and in fact
I'm not really expert at anything like
my adventure with programming started
pretty early but doing this saga will
talk i will tell you i will describe how
it all like combined into what what i
will present today and the idea is to
here to share my excitement about a
specific technology and how ideas flow
through for time so before before i
start i would like to make a short
survey could you tell me who invented
the term object-oriented programming any
guess sorry yeah exactly okay and do you
know the definition of what is
object-oriented programming anyone what
no exactly exactly it's about message
passing so this is the definition object
is communicated by a synchronous message
passing and could you based on this
definition give me an example of
object-oriented programming language
okay that's a good one exactly small
talk any other because I don't know any
other object oriented programming
languages according to this definition
it's pretty interesting how like terms
change and and they don't mean what they
would we think that they mean so i'm i'm
jason and i ran a company a small
company based in Paris called Nakumatt
I'm also running a conference called
Polly conf I highly invite you to
participate to join us we opened our cfb
and as i said i will be talking about my
story am I adventure for programming
through very specific angle
but before I start I would like to thank
you me how here a good friend of mine
who is running this conference for the
invitation and I would like we give a
round of applause for for this wonderful
conference lambda days okay so
everything started in 2005 in my case so
up to this year i was doing mostly java
like java java i was doing I was
programming in a framework called struts
stress one do you know this this remark
is very old one and and in 2005 I moved
to Paris and I was working in a
laboratory it's a laboratory which does
things related to artificial
intelligence I called limp seen and I
was doing mostly Python mm-hmm I didn't
really know knew a lot about functional
programming and this was the year I got
exposed to this the hard way so when we
think about functional programming it's
like a lot of things the definition is
very it's hard to set to give an exact
definition of functional programming for
sure we could say that functional
programming is about functions so
functions are like first-class citizens
in functional programming languages we
can use them we can pass them around we
can use them as data type they can be
returned etc but functional programming
is more it's also something like
laziness add something like referential
transparency pure functions we can also
say that immutable data structures could
be part of the definition of a
functional programming so my adventure
started in 2005 with a language called
alcamo and I had a pleasure to to be
like tutored by a guy who contributed to
development of this of this language
marked with a and this was very hard I
didn't really understood anything it was
like the worst period of my life I
couldn't understand anything in Occam
but eventually i returned to this
with with much of the pleasure so all
Campbell is is a part of this language
is part of the family of em'll languages
it's one of the all it's what this are
like like the oldest languages family of
the oldest language is that that exists
and it was developed in 1970 by Robin
Milner so ml has a lot of influence
today still so for example Haskell or L
recently they all like take from this
heritage we could say when we think
about you is now what is what is really
a UI how we can think about this so why
is a way for humans to interact with
computers and we can think about this as
a as a way where both sides like humans
and computers they are mutually observed
they observe each other and they react
to each other they are they are some
approaches how we could formalize this
this thing so for example in 1970 again
very old stuff there is this guy trigga
who coined who invented the term who
like proposed the architecture called
MVC we all know and we still use it this
thing was introduced into a language
called small talk 76 when he visited XOX
Park facility so what is really MVC so
MVC is a way to bridge the gap between
digital model and mental model it's a
way to interact with the Machine and and
for the machine to show us to inter
interact with us so NBC is something
like this we have a user and we have
those three entities free things risking
controller which interacts with the
model but may also interact with the
with the view there is a model which
interacts with the view and the view
which like shows the thanks to the user
but when you think about MVC and user
interfaces programming we usually think
about programming which resource to
which is about callback callbacks
attaching callbacks attaching functions
to to events and this way of programming
is is not optimal there are some flaws
that there are some problems with this
for example the the control flow is
scattered it's not really centralized
there are things like shared state we
don't really know how to manage the side
effects and on top of that it's not
coordinated the problem is coordination
in this case so this sounds like
functional programming could help here
so what functional programming could
offer for you is the first thing recent
thing comes to what which comes to the
mind which comes Midas react this
rendering engine is rendering library
and I think we could agree that reacts
made functional programming more popular
in the mainstream reactors is a very
simple idea it's declarative which means
that we can build a simple and
straightforward you is we definitely
define how you our UI looks like and
then we change it entirely so we can
think about you is as some sort of
function function of the of the data of
the state and this is the functional
foundation for building you is very
simple idea so let's imagine that we
have a function which operates on a data
on the on the state and this generates a
view
the data changes and we have another
view so how we could manage those
different renderings of the view we
could say that we are only interested in
the difference between those those twos
views and this is another ID this is
another thing which is very common
somewhere else for example when you
think about source code management we
have get and get assaults about managing
the difference so we just carry about
the changes and we could say that we
have data our like central point which
with when the changes happen and this is
propagated through some intermediary
layer which is called virtual Dom and
then once we know what we want to change
we apply this to the external world to
the mmm our dumb but this quickly
becomes very complicated right because
we think reacts but we reacted library
library for rendering things we would
like to also do other stuff so we need
to introduce some kind of architecture
we could use redux we could use other
flags architecture but this is something
maybe not new but direct it they are a
lot of new concepts here for example we
started with rendering we started with
simple declarative approach but here
suddenly we have something like actions
action creators dispatcher store this is
not very familiar right we all like I
believe most of us comes from MVC world
and then we have new concepts introduced
to us so this is some kind of difficulty
and visual layer of abstractions that's
good which is being repeated and
repeated and repeated so reactive
programming to the rescue so what is
reactive programming reactive
programming is a programming when we
think about
when we think about interactions in
terms of data streams a synchronous data
streams and we have functions which
allows us to combine those data streams
into another data streams I think most
of us got exposed to reactive
programming pretty early I think it was
probably the first way of programming
like one of the first one and it's
through a spreadsheet so who used
spreadsheet in his life yeah I think
more than everyone probably it was
proceed we could think about a
spreadsheet as a reactive programming
tool so let's imagine our let's take a
cell right we have a cell and this
seller presents values that can change
over time and what's interesting in this
model is that we can take a formula okay
and we could put this formula into
another cell and we don't worry about
how we this is propagated for the
spreadsheet we know that when we combine
to other cells into like 11 cell with
the formula it will work work and this
is basically reactive programming we we
have things like cells which we can
observe right so we could say they are
without any formal definition these are
things that are observable because we
observe them and then we have a neural
cells like with formulas and we can
observe observe them as well and and
things happen when we when we change the
formula or when we when you change the
the cell with the data everything gets
proper back propagated but let's stop
maybe for a moment and this thing about
like how things can depend one on
another so let's imagine we have two
entities okay with entity a and entity
be and
there is kind of dependency between
between those those two entities and
let's examine like two possible ways the
first one is passive way of like passive
dependency which means that this a thing
when is responsible for changing
something inside be so this is passive
because b is not really responsible for
itself right it's let's place maybe take
an example we have a network requests
happening a is responsible for all like
doing our requests like EXO requests and
there is B which should react to this
there should be changed inside the be so
the first thing passive way would be
that it's a when the request happens a
changes be but there's another way which
is reactive which means that we can
observe a and when something happens in
a we will change itself so what's what's
the what's the advantage here the
advantages it's a better separation of
concerns a and B are only responsible
for themselves so I change myself
because something happened externally
there is no one who changes me another
thing is that it's it leads to a better
encapsulation so we don't have to
provide a way be doesn't have to show or
make its API public we don't have to be
they don't have to provide a way for the
interaction it can like manage its own
state on his own so when we think about
reactive thing it means that we have
entities which are independent and self
contained so now let's like extend this
abstraction a little bit further and
let's not only talk about
method calling between entities but
let's say we have values that change
over time and we have mechanism to like
retrieving the data and transforming the
data streams and we have also mechanism
to be notified about changes so when we
think about this values over over time
and we'd like to make it like first
class concept we could say this is
observable so something which can be
observed and that changes over the time
over time so observable is a very simple
abstraction and it's a like putting
together to design patterns the first
one is about observing things so we get
notified about when something changes
but the other one is about iterating so
we have functions that allows us to
transform those sequences into another
sequences and another thing is that if
we make this a first class concept we
don't have to worry about like low-level
details like synchronization fred's
concurrent data structures it's not our
problem like with the spreadsheet we
just think in terms of values that
changes over time so this is marble
diagram it's a way to represent an
observable I want dwelt imagine it on
this but usually when you start with
reactive programming it's a nice way to
get to visualize things so this model
observable model allows us to treat
streams synchronously and on top of that
we can compose things so an observable
is a lazy event stream which can have
zero or more events and it's also an
abstraction which allows
to tell us is it does it fit it does it
finish or not advantage of this approach
is that it allows us for a better a
synchronicity we can do a synchronous
things more easily so let's imagine we
have a bunch of tasks and then we are in
the there is a Nava vironment which
allows us to treat them in in parallel
so the the advantage here is that when
we combine those things it will take as
long as the longest task because if we
take this assumption that everything
happens in parallel so this abstraction
observable abstraction its declarative
because it tells us its response to the
question what and not how because we
don't worry about the implementation
details we don't worry how it's being
transmitted like with the spreadsheet we
only define how it should look like
another thing is that it allows a simple
composition so we have one observable
and another one we can combine them and
we can have another as an input output
of like my combining one to observe
rules can be input to other observables
etc etc this is also a nice unification
so in in JavaScript for example we have
a lot of concepts like promises we have
callbacks web workers web sockets and
all that is it sit like a different API
we have to interact with that we're
using observable we can combine it into
like simple unified package so when we
talk about implementation there is this
reactive extension extensions projects
and it's a way it's a collection of
libraries for different programming
languages so we're xjs is a
implementation for java sea
let's take a look at the an example very
simple example and this example allows
us to detect if there they are double
clicks on our web page and nice thing
about this is very sick very concise
expression I challenge you to like write
it into like regular JavaScript and I
think it will be much longer second as
you can see only four lines we use
things like map and awful and filter so
let me start from the beginning so first
we just take clicks and then we buffer
them so we like compose clicks into like
sub arrays and and we say that the
window like they will afraid that window
for this clicks to form an an array
should happen after 250 milliseconds and
then we just map over those arrays and
we just detect if they are two clicks
it's very simple as well declarative
okay so we went through a functional
programming building you eyes and then
we talked about directive programming
and well we could maybe combine this all
this into something like a nice package
which which will allow us to build you
eyes using javascript with reactive
programming with this functional
approach and this is why I would like to
as I said sure my excitement my small
excitement it's a library called cycle
jas which does exactly this so this is a
functional and reactive framework UI
framework which allows us to build
interesting application the first thing
is very concise both the framework and
the applications we build with this it
is extremely simple API it's only one
method and this is how it works so at
the beginning we talked about human
computer interaction
and this is like improved over this
slight improvement over this slide so we
could say that between computer and and
ass like humans for example we have
screens we have input devices such as
Mouse and we have senses we can for
example see the screen or we can click
click mouse or type on the on the
keyboard and this is some sort of cycle
so for example when I click on the mouse
computer can like take this information
and change the display so I can see it
so there is a cycle coming coming in and
we could think about about this we could
think about this as a as a function
right we have input from the external
world and then a computer generates the
output and this is some sort of dialogue
and another thing is that this function
this computer function looks like a pure
function okay we take input devices we
do some sort of changes and then we we
produce the output things so let's take
let's like imagine that human is also a
function okay so he has a census or she
has a census and she for example can do
some things click on the mouse this
Cossack could be treated as a function
may be pure one so you guys could be we
could imagine you guys are cycles and it
seems this is very natural way to click
expressing this so in cycle jas this
computer function is called main and
this is pure function and it looked like
this we take and observable which are
which is a stream of user events and
then we could like extract from this
what we want we could filter thanks and
then we could transform this into some
sort of
you I what do you think when you talk
about pure functions and the input for
this function would be sources so we
could for example take Dom events as a
source or other figs and so sources is
its input for our main function our
computer function and it's a these are
read effects from the external world and
then there's another concept and the
cycle j s called sinks so sinks are is
the output so for example we do
something on on the web page and we
expect that the view will be rendered
and this is this is think this is the
output of of it's a right effect to the
external world so between between us and
the computer there is a driver and a
driver is a way to push side effects to
the external world we push the side
effects through a driver to the external
world but we we stay pure well while
while building our UI and there is this
like pattern or maybe a small
architecture introducing this in the
cycle jas called model the intent where
we think about like were things
happening in Maine we have the main
function and it could be splitted into
into three major parts so the first part
at the beginning is the intent so it's
like processing the input from the user
what's intent what he what she wants to
do the under part and the main function
is the model this is where we manage our
state and then we have the view so it's
view reacts to the changes in the model
and generates donates a new new view
this is very composable as functions are
computer functions are we can not only
use we don't have to use one function we
can split this one main function in
parts like several parts which one could
be also divided into intent model and in
view okay so let's check a small demo so
this is the first example it's very
simple a function which takes an
observable which generates events each
second person a new event and we map
those to a node into our Dom so
basically how it looks like is if I just
end so this is what it does so I let's
go back maybe to the example okay i lost
my mouse it's extremely simple i
challenge you again to do the same with
your favorite programming language yeah
yes I'm losing both i'm using a reactive
extension and i'm using psycho MJS
exactly it's so let's maybe take a look
another example this example are takes
the input so we just we have our sources
so this is a like the things that happen
and our dumb and we just select freedom
you just say I'm only interested in
those happening like for specific things
and then I map those events and I only
am extracting the value I'm starting my
stream with a simple with of empty empty
string then I map each Fink's it thing
to another piece in my dorm and as a
result i have i have this where's the
mouse I have to
so again it's a extremely simple let me
go back to we have only I now 89 lies
and we can reproduce a pretty
interesting behavior so to sum up we
have we built our UI using pure function
it's a differentially transparent
function of our observable observables
we take inputs from the external world
we do some processing and then we
produce an output and all side effects
are pushed outside of this function
through drivers and our approach is
reactive so when we splitted this main
function into three parts instant model
and view we could say that intent
observes the user right because we it
waits for her interactions then we have
a model which which observes the intent
the view observes the model and finally
the user observes the view there are
some limitations as well this is very of
this approach I recommend you to check
them out and I think that would be all
thank
so many questions yes is not correct now
because you're undoubtedly neglecting
the model yeah which one which light it
was a tea and you had a function the
output is a model of the input now it
was in the in the form of this one no
maybe this one yeah you're neglecting
here you're neglecting the data yeah but
normally you have the output of courses
is dependent on the state yeah on the
model yes yes exactly but my state is in
well in the input I mean only the input
which is generated by the user right
input in this case it's like all
interactions made with which we take up
if we take the web pages it's about
interactions with the Dom right I'm not
sure if it is response to the question
but you have such a function so that it
has to use an input and produce the
output but normally the output is
dependent also on the model on the data
yeah we are yes exactly the peso yes
exact ever yeah exactly so this is not
correct it's not the function of the
input of the output that is a function
of the input this date and put uses the
output yes that's correct this is some
sort of like short yes yes so I i well
did my state is in the main function and
as you said it's a combination i take
the i produce the output based on the
input but also on the state which I
happen together through observe rules
and your question yes
now that angular 2 is thoroughly
adopting our xjs what do you see as
being this sort of that the future for
cycle interesting question I know I run
this conference called polyglots poly
cough and I the one of the reasons is
that I believe that there is room for
everything it's not that you know we
will all use angular right and I think
it's interesting to always look outside
outside of our domain okay well domain
of expertise outside and take ideas and
get inspired by them so I think there's
room for both obviously the past
immigration path from angular 1 2002 is
like large corporations now use angular
1 so they will probably be great tour
towards angular 2 but this is
interesting in the sense that for many
people this may be a new way of thinking
about the UI and i will like it so as I
said this is some kind of excitement I
wanted to share with you and so there's
room for both in my opinion another
question yeah
and I've you compare the cycle Jess and
elm excellent questions so L and cycle
j's are very close but what I like about
well I like both I think I'll miss
excellent excellent tool excellent
programming language but what I like
here in cycle JS it's it's JavaScript
right so it's already something we we
all know and the migration path or like
adoption path is simpler here but we can
use out if you're yeah yeah because I I
just gotta Elm a few months ago with a
friend who group of us in he showed us
how to use elm and I actually I actually
softest all psychologists a while ago
and I so I played a bit of Eric's and i
found out that Elm is much easier to
understand who if you wish you coming
from a JavaScript background is much
easier to start with Erics and
understand how streams works and then
try elm it will be much much you will
get it almost instantly because you
already know the streams an observable
part so it can be like a learning curve
thing if you comfortable with JavaScript
I think it can be a good first step yeah
I agree hmm other questions okay so you
can catch me later if you have more
questions thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>