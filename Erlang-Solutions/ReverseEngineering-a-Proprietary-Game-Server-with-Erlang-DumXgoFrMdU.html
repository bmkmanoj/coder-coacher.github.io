<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Reverse-Engineering a Proprietary Game Server with Erlang | Coder Coacher - Coaching Coders</title><meta content="Reverse-Engineering a Proprietary Game Server with Erlang - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Reverse-Engineering a Proprietary Game Server with Erlang</b></h2><h5 class="post__date">2013-03-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DumXgoFrMdU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we start with a bit of background
because the gaming industry is a bit
different so what I'm doing is not very
accepted
so why trust there's many reasons the
first one is curiosity it's one that
people so it's not any singing bird is
just what I couldn't but yeah
so yeah curiosity is the first and main
driving force to reverse engineer
against okay any game you can have
research with which is tight but it's
more for people who like filling out
with is with informations this of course
you can use only decent permission to go
into our server what you would you do
this
maybe you can pay for the game that's it
we got a budget usually it's because the
game is going to be shut down
so like I said it's a big difference in
the gaming industry Carissa tees
opportunity we want so even data mining
is considered cheating I say this money
is cheating you can suffice
you can forget them they don't expect
you to and they do everything they can
to protect and of course we've got some
genuine is also cheating looking and the
protocol to die and everything else they
want it to be a complete network and you
just playing it but of course there are
people like us to make going into sales
and even if you don't make use of that
knowledge they will still sing
and you can convince them you can't you
can't even convince them that they
shouldn't have to hide everything
because people will find them so to
protect their games there's a few
digital technology has revised its code
and this gave us the game world which is
actually very powerful it's a good seed
of but by many security companies like
away from the famous because it open to
throw in with us and when you install it
it doesn't fix it it stayed there it's
practical and this doesn't actually do
anything you can always buy it's today
still you can softly when you in 64
bytes and game with not depicted because
it only works with 32 bits that's pretty
useless when he wasted it to need so the
beginning because it keeps scanning the
memory and something missing so yeah
it's another about your country most
people people I guess is that much games
so you need to be dressed in stern for
most of them mostly because things like
game known as
it's very quickly even slow it wasn't
chitinous because taking values and it
was a disaster especially when you and
continued studied us with the protected
by Umbro even and Pakistani us what to
say it was it a lot of teachers
we ourselves ways so the Bucharest room
went very tight at the beginning and
then problem because in charge of
shooting and then it stayed so the first
thing you want to do isn't actuaries
it's looking at the trend of executive
but that's not the Battle of dawn and
that's not I'm skipping this step so
what I did first was blogging packets
it wasn't actually the white pill John's
not tying because when I did they see
two children so we have which solutions
and I did maybe not do this but
something that's worked so and so I did
my name is Damita actually I didn't do
it myself
someone found TM certificate and I saw a
used it quite predictive to the saga
niveau and the major key of connect to
epoxy on my machine and then that
perceived connect to the server and
decoding and encoding SSL in between
I assume there's a way to make sure we
will come to that position but hailey so
at this point we have readable I guess
and that's going on so the next step is
something saving this package we take
the cookie and that function then yeah
this is like because once you have that
you can some any packets you can fit up
against for example I could not sign I
guess the the several that my character
was hit so he was invincible that says
yeah I didn't do it because I wasn't
interested in that piece you need very
complex on the chip technology on the
server because once you get to the and
so you can send any packets at any times
for you so paranoid losers don't know
that I peeked it could become which so
of course you need to know to do this
until the release we need to analyse it
first we have to go out to framing that
is it boundaries which is here
sighs at the beginning so to do this we
need a text editor yeah
this packet birthday you can start will
do this right but you don't want to
master Georgie you want to know what the
values in the repellent and to do this
first which it is convenient because you
can pass your blog face and say for
which type of commands
make the difference CSV file and then
open it in a spreadsheet miss aggregate
functions I'm Sophie use what you work
here so that's where that's where we
find we had these types so it's quite
easy I did not put it you know that
when you look again you bake it you know
this one in this game and so since we
aggregated the data because easy to find
which one is which
but it's not truthful for the values and
the hard part is figuring out how the
server works without looking at it and
that's fine
you need to figure out what the few of
the variance of against are because they
tell you exactly Hotel server is a
journey jr. behind and here we don't
have many actually we have player ID
which was actually displayed in games
don't pay it
we had our IDs this habitual because
they do but we have four ideas it'll
strain and then the hardest one that
took maybe a year to figure out is the
target ID if you don't face your fear
not in the map but in the zone so here
we are a system that has quests that are
broken down into zones which are
suppression of class and the game for
much things don't use the I need they
make every sink basin so when you pay
you know there's a bunch of PS into the
receive your ID not just in your map so
even if they don't see you they receive
their form and also for example if you
it was a bit real Truman to see this but
if you shop at PC we actually had the
rain for some to everyone in system even
if there wasn't a shopping visit so it
was a bit confusing but once you deduce
that they do everything based on it
water
David is softly too
tell three musicians well you can help
quests with many of the same maps with
different objects it doesn't work if you
simply have used Omak by you but yeah it
was a bit well so over those things is
looking at the files because must get
now our scripts it oxides of objects in
the URLs and you don't make Passover
without moving this moment because today
our games become too complicated so do
some pretty much ruins everything know
how to do this we simply extract the
fields few of them must be twists and
the problem is that you don't know what
they represent you need to add packets
wrong before telling you this pile of
junk is this map to it oxide define it's
quite challenging it takes a lot of time
to pop the question
so of course you can you get a good SSD
and then you need to analyze the facts
so it's a bit of the similar problem as
the protocol except you you can also use
trail files we have
they share three formats but not
everything we have to yield the chance
to have enough light which is pretty
much the same as the only one except it
doesn't and sometimes
so the points
we need to remove gamble let's actually
go easy also you just need the debugger
still have the right okay to the
executive memories they become defined
piercings and it works and then you can
note that executive or use your fuel
debugger and wait until the very
strategic point just before I give you
anything
so here we have a loading screen and
then login screen we just make great
Wegmans and every steps that go define
and wait for the next spider and then
you have the alias and you just need to
translate it so yeah so most of the game
called the feisty when they were
conflicted conquests and there was all
those things that are we didn't
purposely to dismiss challenge very
smoothly and put it back so you have to
look at the objective and then the are
going to
completely hungry
so same programming here we have to look
at the ASM we did it
so this part is the part that doesn't
choose coming after we got it's really
depressing but then once we have this we
can user to control the extract or
device and that's my CPUs and even then
it takes about ten minutes that means
with what how we but of course you want
to extract everything that this because
many of mistakes and that's don't be
where you have to test that what you are
doing is right and to verify that
performance you deduced because you will
have to we defined modified you need to
distance so then we yeah we continue
with the files inside the records and
it's look it's a bit of the same method
except this time I had our three
ultimate rest strokes from memory 3205
with a few hunters modified it's very
real and then when they were to occur
questioning him every chance to the
hotels and use them directly so I think
that it is two times it's not that that
would because it wasn't and we need
again a division but then when we have
information to pass on the place we pass
them work again and that's what for
various types of guys think about five
to ten twenty takes about ten minutes
so I think it's pretty good it's
acceptable every time I do a change I
can check and the Challenger is right
that's of course you can also confirm
you are some chance by using pattern
matching to check that your values
having to write and type that's also
important because sometimes you think
you have fun under different subscripts
city can take they can find the new one
and equation so this way you always know
the most you can about the game because
you don't really find it as well and the
next step is the most interesting after
what is how much it was really rewarding
to to get to disturb and we give dr.
great some of course we need to know
for today we looked at Toria is right
except either talking to the actor
server which is done today except the
Japanese world about this one I don't
serve as many change and the other ways
to make the client well that's probably
the best because you can then make
people contribute like trains again this
is how it looks like we have these ones
use this to save for connection and we
use pretty much the same was how game
stops but it's so India this project
actually I suppose us no that's actually
how I came today because please press
HTTP for the website but yeah so we
start we do something we will rich then
we try to find out in which other types
because if we just send everything then
the game to we price using wing of them
there are so we need to figure out it's
pretty much looking at loans checking
against the game that it doesn't so this
is must be clear there's no way to do it
I try asking
so every time we try to make sure we
understood propagate we need to test it
it's very very tedious but there are
methods to get started that make it
easier to others so when we get in game
it's actually very easy because you can
just
use try a few things to a typing some
text move your character and taking some
zeros of against follies and you figure
out a lot of departments but what you
don't know is what you will have to
reply to make sure to getting receives
what it asks for of course we have the
logs and we can find more or less what
we do and then it's just again so we
just go get a get with a modification of
minimal modification for radiology and
then we change values we see where
changes and so on and then we write the
function the proper function to do it in
the voiceover and then we can also write
it it doesn't always work but for some
humans just our concern we can simply
use the shell it's it does not work most
of the time because the game in your
watch was indeed it is one but you can
for example I will show it in a bit
change of position in the details think
figuring out the few pockets because we
don't have to use the language we can
just send commands so it is figuring
making sure you
and wealthy changing areas is very good
because sometimes when you have a menu
again we wait indefinitely after its
time out the same but it will wait for
the superbly brain so initially you will
always get stuck it's very very
versatile for the very early stage we
had videos waiting to change our ways
and they would get stuck in the stairs
and the cartel just kept working it was
very funny but not so much so don't hang
out sometimes wait for the server to
make sure we are providing fast enough
to complete the survival trait we need
very small very quick because if the try
not get disconnected or Porsches little
servants we need to open it again
luckily it takes you a minute for this
and then you need to get back to what
you are testing it can take a lot of
time especially what we need so we need
a process this process uses code we're
learning mostly we can use disoriented
you to testicle do okay
but that's not funny we need a so - yeah
we can we're underground like I said we
don't we need to not question to me new
- up just to get always when I
and that's secretary not that easily
it's actually the
crushing and versus something wizard
that understood
they might say but the thing what we
want to do is simply make sure knowing
her she's super pictures and print out
any other for any error as soon as the
game does something we want to do but
it's actually a lot of information but
we can delete them return and of course
once the game server we have been
finished we can remove the protection
and just crush the game when something
goes wrong because it's probably okay
offering to cheat and of course it's
still trial and error but input so I
will show you
this is the cell we're bringing doesn't
work so much it oh boy application oh
okay so let's start the game
so okay this is the rancher who stops
okay so this is the little screen let's
go in okay so right now I don't have a
glance but I did I exited this is what
happens when you do this you have
dependency and then contacting the login
server with information say something at
who will put to create and send this
message okay next okay next
he touched for the game server and then
we will connect with Cooper let's do it
some smaller pool and asks for the
counter so I already have one it's and
we can log into the game so here what
you already sleep is packets that aren't
on there yet so interest with friends
the name of the packet would be between
index and this actually happen we're out
for you
okay so this is everything that is
worked as it was and what I was seeing
okay so this is what you do okay
this packet is passed but there's no so
this is good because we hope the forget
is passed poetry and we just need to
write the logic behind it we don't have
we we didn't yet so we just crash
but don't disconnect that's very
important because
there's one eye you don't touch okay so
yeah there's a question because of many
famous didn't intervene so let's let's
fix it I'm sure your abilities but it's
nice to see in again
so this one is this one is a very hard
time to play with god that is so this is
the first word and this is okay so we
just change it with ricotta
okay and it's favorited so this is
actually how much she waves and what do
these that we don't know and that's also
true for everything wind is breaking
that's interesting because sometimes I
will look at this bucket and there's one
for you I can figure out and I can
simply are you try again directly this
is very very interesting because you
always have the ones where you subscribe
as for them okay so that was it
do you have any question
one question yes how much state is kept
on the server and the whole world in
scale but you know almost everything the
thing is that the kind of does is enemy
movements which are synchronized maybe
so but it's actually just because it's
able to chart it by yeah like I said you
have the West which
yeah so this because actually but this
actually is the reason this is here it
sort of I don't have to but this is what
people loves missions which are
instanced so this will give us this
direct so this 1 0 is reserved
like I said earlier this is what factory
device they are in two hours and then
the tree here is a map under the one is
on treatment so to show you something so
this is just about this is not too so
what is interesting also when you
believe it's dance which you get stuck
okay so this is very interesting because
for two reasons from getting unstuck
when you do something you are also too
we go but then don't swirl your question
we also have this this is when the
universe
the same summers they did to us after
Eagles integrate Israel it's very
possible and if you change
so if you change your this is this one
beauty comes to bacon so the project is
actually called EG s yeah that's all
they put PR see two different servers so
this serves up they just yeah
you just have to get the best executive
earn and this bonus was the moment in
keys we need the interconnects and then
the person
some say we're saying is
nobody is my business I'm not sure we'll
finish this I hope that it takes a lot
of time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>