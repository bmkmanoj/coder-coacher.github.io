<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Stuart Bailey - Keynote: Erlang, Open Networking, and the Future of Computing | Coder Coacher - Coaching Coders</title><meta content="Stuart Bailey - Keynote: Erlang, Open Networking, and the Future of Computing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Stuart Bailey - Keynote: Erlang, Open Networking, and the Future of Computing</b></h2><h5 class="post__date">2014-06-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zT08TFzpPsM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay erling open networking and the
future of computing um who hears heard
of the open networking movement okay who
here likes Erlang ok who hears
interested in the future of computing
it's a crowd-pleaser okay so it is a
broad talk um but that's okay I hope to
hit on major themes that should interest
at least some of you but my goal is
really to excite the whole community
Erlang community about opportunities
that really are right in front of us and
I got to tell you for me i'm the founder
and CTO of Infoblox if you've not heard
of us I'm not surprised we're a company
that does network control and automation
primarily for bigger companies we've
been around for 14 years we're a public
company now um you know and it's pretty
pretty industrial so if you haven't
heard of us i'm not surprised at all um
so it really begs the question of why
I'm here and if you figure that out let
me know because others back at home want
to know that too and 11 answer is um
stockholm in summer this is pretty nice
I'm really have fallen in love with
Stockholm and I'm sure I'll be back but
probably not in the winter that's that's
my goal to avoid that um and you know I
really am very very excited to be here
at Erlang this is at the early news
conference it's my first Erlang users
conference so what is Katie in the
audience okay so from our keynote from
yesterday you know I am a relative
newcomer I heard about Erlang for the
first time in 2006 and this is the very
first time I've actually been at
erlang user conference itself it's an
amazing place already right this is I
think the only conference where I can
see I can hear about Erlang in the
context of a movement and see internet
cats right in our keynote yesterday and
then go to a talk about distributed
computing from Matthias I think that's
how you pronounce your name and here at
in-depth analysis of the battle of
stalingrad in World War two that's
amazing it's amazing amazing
juxtaposition there um and I think it's
representative actually I think it's
representative of the kinds of currents
in technology that are really mixing
around the Erlang community today and
and that's you know I want I hopefully
by the end of this talk you'll have some
idea about why I'm here why would I
other than being an erling enthusiast
which I am what attracted me to this
conference today and I think what got me
here is something that's going on
fundamentally in the industry which I
hope the Erlang community at large can
embrace so to start with I'm a CTO the T
I think stands for talking chief talking
officer uh one of my one of my job
functions is however to ask questions so
I have some idea of what I should
probably be talking about so I'm going
to go through three questions that have
come up in the course of our business
and I think these are three questions
that I've heard resonate through the
different talks i SAT through yesterday
and the talks I see on the track today
on but you'll have to tell me at the end
of the day the first Quint and and this
is these are networking questions the
first question in our business is what
is the business view of the network
that's like a that's a problem that we
have is a business to try to find that
out and you know
I think if any of you have been around
kind of large-scale enterprise networks
or telecommunication networks it's
actually pretty disconnected from the
business processes in general right so
that so one question is is there some
view of the network that is somehow more
attached to the business so that's like
a business question and that's a
question you might not have but I have
to answer because of the business we
happen to be in now another question
which seems um maybe a little broader
and relates again to our business um but
I think is is much more is is at least a
little bit broader which is how do we
actually program what is this Internet
of Things and how do we program it right
so if the Internet of Things is about
lots of things maybe sensors in health
care that are on you know your family
members and health care situations that
have to get dated the right place at the
right time otherwise the right kind of
health care isn't going to be provided
or you know optimization for oil and gas
you know digital oil fields across all
these industry retail optimizing the
store shelves these are distributed
applications the question is and how do
i connect all these things but really
how do i program a collection of these
things to do something fundamental to
the organization and so I would even
challenge whether this is really what
we're talking about is an Internet of
Things at all right it's really an
interactive network of things and I
didn't coin that term IDC coin determine
a report that they put out at interop
2012 I believe in 2013 where they said
they think 20 billion devices will be
connected by 2020 so that so this is
fundamental question how can we program
this thing and then it's actually
related and may be of interest to
several views how do we program a a
million corpse so I the privilege yes
to see Richard crouchers talk called go
bake one of the great things about this
series of conferences is that you can
watch all the talks I believe on video
shortly after the conference I if you're
interested in this problem I recommend
that you taught you you watch Richards
talk because it really goes into kind of
the history of high performance
computing and how we've thought about
these things you know kind of
historically and here's somebody is
richer you in the audience yeah okay so
so Richard you know has a very long and
deep experience solving problems of
distributed computing at scale and he's
here like why is he here why am I here I
mean again I don't think it's just
because of the weather right there seems
to be maybe maybe something fundamental
here that's starting to attract certain
people interested in these kinds of
questions in general now when you have
that kind of scale right there's a funny
thing right in all of these questions
there's this underlying assumption now
that you just have a lot of stuff so
statistically stuffs just failing you
know so in the enterprise case stuff
maybe being replaced a lot it might not
actually be failing may be very dynamic
you know you have cloud workloads and
mobile workloads in the Internet of
Things again dynamism but also stuff
just you know doesn't work as much so
how do we somewhere I heard this term
maybe it's jose term i think it is right
once one run forever right I think
that's a you know this kind of non-stop
so how do we do this and again a
respectful to I think Katie's message
yesterday was really really important
which is to answer these questions many
of you sitting in chairs today
absolutely already know the answer right
of course early
of course what other system even comes
close to having the properties unless
you built it somehow by hand or with a
lot of people but for kind of anyone 5
10 of you to think about fundamentally
being able to program an Internet of
Things program a million cores or find
out very deeply what's happening on
large network I don't know of any other
system that comes close but not everyone
knows that that is still the Erlang
community secret I encourage you to
embrace Katie's message and you know
double this room next year right and
work on some of the hard problems now
there's a subtle prob like so again I
you know I almost want to just have
Richard come up and give his talk it's
just a great talk because he really
articulated my experience was just as
kind of hype cycle on Erlang right I've
had a long time doing distributed
systems and when I got first explode and
in fact if I had been exposed to erling
before starting Infoblox it's very
likely that our core technologies would
be based on Erlang they're not I was
exposed to early in 2006 none of the
things I'm going to talk to you about
here have to do with our you know core
technology that we sell today maybe that
will change I hope it will kind of
depends on you but I had this visceral
experience which is I had a set of
problems in my mind that I had that you
know as the organization we had solved
at some degree for the kinds of things
we're trying to do and when I got
exposed too early in 2006 i just said
wow you know this has the right
properties man I just wish I and I
really started to get over that learning
curve on the language and I had been you
know only briefly exposed to functional
programming so I had to do all that
stuff ricos book and time and time again
I was like well I'm sure that they've
done this
and then it wasn't quite there or I'm
sure that you know it'll scale 2,000
notes right that should be I mean it's
like 2006 right you know 230 nodes 100
know that's like 1996 it's 2006 10 years
later I'm sure they've gotten an order
magnitude more but no and so that's okay
but over and over again this idea of the
network keeps coming up and we saw it in
talks yesterday as well so my first my
team's first reaction in my first
reaction on you know having a high
performance computing background was
well there's always an answer to
networking problems when you have lots
and lots of things especially if they're
relatively close together and that's
infinite beta right and if you're not
familiar with this that basically says
eventually for distributed applications
where they have to collaborate you have
to take out tcp/ip and so maybe it's
infinite man maybe it's miran that maybe
it's a host of other technologies but
there is a problem which is unless
you're doing hpc which has a very high
performance computing which is a very
kind of special shape as an industry it
grows about three percent a year and it
you know tremendous amounts of dollars
are put to a few number of solutions so
this is kind of it's pretty expensive
now it doesn't mean that it's
necessarily expensive today because
prices are going down but kind of
overall it's hard to find people who
understand how to do this um but
something tremendous has happened in the
last 20 years and that's Ethernet so the
story of networking over the last 20
years is not the internet that's very
exciting no question about it we
wouldn't be here but there's this other
story that ethernet one ninety percent
of the ports that Cisco ship our
Ethernet right it's everywhere who knows
what a raspberry pi is yeah wow that's
awesome see that's why I like coming
that erling user conference because most
groups when
asset in the circles I tend to be in
don't don't know yet what this is but
right hundred mega Ethernet it's just
everywhere um and so one way to view the
world if you think about those pictures
is the world is today already installed
an Ethernet fabric and that's something
that I think this community can leverage
tremendously but the network today is
structured with little boxes that do
things and I don't know about you but if
you've been doing Erlang or distributed
systems somewhere along the line you
start thinking about your distributed
app and then and then there's this
network and then you have to get the
network people you have to learn about
networking so if you're in the audience
you don't know anything about networking
and you have a sense that you're trying
to do distributed computing so maybe you
should know about networking this is a
amazing time in history and maybe one
thing you'll take away from this talk is
you actually don't need to know much
about the way we've been doing
networking there's an opportunity to do
networking in a different way going
forward the way we will have been doing
it is that we have these dedicated
function boxes firewalls routers load
balancers other dedicated functions and
you kind of their specialists in all
those and we put those together and
that's how we think about the network
and somehow that's underneath these big
scalable distributed systems and there's
kind of an impedance mismatch there it's
kind of a tension there there's a
tension they're culturally sometimes in
the networking community versus the kind
of computing community and then it's
even broader in the distributed
computing community versus the network
and compute community so imagine if you
will instead of those dedicated
functions with specific protocols you
actually had a programmable fabric who
hears heard of open flow Wow
okay yeah so that's good so one way to
think about open flow is if all of those
dedicated function boxes became
programmable Ethernet junctions meaning
just places where if there's a flow sis
ova yeah a flow here going through all
these boxes this is maybe a cell phone
here in a data center here this is a
sensor here and some other sensor there
they're collaborating or somehow
calibrating themselves somehow for
instance that this is just a bunch of
ethernet ports and then a CPU NP you
something that's programmable this is a
the same thing that's the same thing and
then from somewhere else remotely this
could be in the cloud something like
that you can actually program each one
of these junctions to inspect the
packets load-balanced firewall route do
something else you know without any
preconceived notion about what those
things mean and most importantly they
could be closed functions can be
controlled by the application themselves
so you can really have a network that's
really exactly the way you want it if
you're a distributed application
developer you can have a network exactly
what you want it and then one then in
that kind of light open flow looks like
an instruction set for remotely
programming Ethernet so that's that's a
very interesting model and this is what
sparked my attention circa about
2010-2011 I'm sorry and I got very
involved in the organization that owns
this particular standard which is the
open networking foundation which is
driven by Google on facebook Deutsche
Telekom I believe Microsoft Azure so
folks like Richard who really viscerally
understand what the network is going to
need in terms of responsiveness to
distribute applications I have no idea
whether open flow is going to be
successful in the long run but I'm quite
convinced that this model has tremendous
merit and that's what I'm going to talk
to you about is our kind of exploration
into this model I'm not making any
claims if you take one thing away is
this is the time to deeply investigate
this model and whether it's appropriate
maybe it is maybe it isn't no one
actually knows if you know and have
proof see me after the talk right but
I've talked to just about everybody i
can find who has a message or a story
about programmable network
software-defined networks you know you
know high density data center dynamic
networks and i can tell you no one knows
exactly but pretty much everybody agrees
that that old hardware defined network
model is not sustainable in a growing
class of applications doesn't mean it's
going to take over everything but it's
not sustainable it's it's very similar
some some people think well hey isn't
this like virtualization in the
computing world but really no
virtualization the introduction of
hypervisor into a mass market had to to
kind of things that had to happen first
the x86 had to become a ubiquitous
microprocessor platform be installed
everywhere like Ethernet installed
everywhere and there had to be an
independent software market in computing
and then you had something like the
hypervisor this looks a lot more like
the transition of hardware focused
computing in the 70s to a software or
focus computing in the 80s and beyond in
the networking industry the structure of
the networking industry not the
technology the structure the industry
it's all organized around hardware so
it's tremendously disruptive to the
whole industry in the same way kind of
the electric car like Tesla with 36
moving parts right is disrupted and it's
like an iPad on wheels right is is
disruptive to the whole industry
structure of the automotive industry
because you don't with 36 moving parts
you don't need the same number of
mechanics right if the car's not
organized around the combustion engine
the entire industry structure is
affected by that so that's what's
happening here so why is that important
to you maybe there'll be a sense of that
by the end of the talk but just know
this this community is very very um has
a right actually for lots of historical
reasons to participate in that
disruption fundamentally because of the
the history of Erlang as a
telecommunications a platform which is
just kind of amazing and crazy so if you
want to learn more about this kind of
stuff and be participate we are have
been doing a open source community for a
couple years now called flow 14 org
check it out i'm going to highlight some
of the things that we've we're talking
about there in this talk but um you know
come and participate that's the main
thing so what have we been doing it for
40 net org so first of all we said ok
all this stuff's happening I'm the chief
talking officer right it should be my
responsibility to understand whether all
this Software Defined Networking
programmable network is you know you
know a fraud a fad or fundamental and so
the project that flow foreign org was
all about trying to answer that question
could we build up the technology from
the ground without you know in a kind of
clean room situation so we could
understand viscerally whether there is
something fundamental going on or
whether there's this kind of noise in
the marketplace it is my conviction
today that there's something absolutely
fundamental going on and that's quite
exciting we actually I'm probably the
worst Erlang programmer in the room
so I'm I'm you know so we it would be
bad if I was a person to do the actual
stuff I did you know mess around a
little bit but we hired Erlang solutions
cloud dozer eep am and we have a growing
so if you're like in the programming
Erlang we think we have a whole host of
problems that we're interested in and
that we think the community at large is
interested in we started with Erlang
solutions to develop a switch one of
these programmable data planes in
software to run on CPUs we call it
linked on then we released a kind of
proof of concept of a what's a control
plane that blue thing and an actual
sample application on then we hired a
cloud dozer and we'll hear about that a
little bit to make link even faster on
commodity cpus so we could understand
whether with a cpu could you actually
look at inspect every single Ethernet
frame right and we're giving it all away
for free this is not something we're
trying to monetize because our interest
is in answering the fundamental
questions is this something going on
that's going to affect the whole
industry so it's really great place to
participate so you know is it any good I
don't know but it would be great if you
tried it out made it better so in the
end of the day I can say this was really
worthwhile because I'll tell you I do
get a lot of flack especially in the
networking community which i think is
somewhat ironic but I do get a lot of
flack for embracing Erlang so you can
help me with that I would be very
appreciative if at the end of the day
this was super successful largely
because you made it so ok so one thing
that instead of kind of starting at the
bottom and figuring out okay you know
here are the here the kind of bits and
bytes and then immediately getting into
arguments like well you know can you
drive Giggy can you drive 10 gige can
you do this can you do that what about
small packets vs big packets right it's
very much like
in the computing industry talking about
linpack another thing we wanted to make
an application that somehow didn't do
necessarily anything really important
but that it touched on all three major
themes programmability of invisibility
into enterprise networks big data you
know a big data problem that might
require million cores eventually to
solve right and an Internet of Things
very widely distributed network devices
so the way to think about tapestry is
where who here Haskell people Haskell
okay so I look I hurt so this is Haskell
talking not me I I can't remember who
exactly was said you know Haskell
because of its very narrow focus on the
touring machine and exploring that was
kind of a you know designed to be
relatively worthless but you know
explored this one kind of this one kind
of thing very deeply and so tapestry is
kind of like that right I'm not claiming
that there's any huge value in this but
I think it touches on all three major
themes so it's worth while investigating
and so it touched on Sdn big data and
IOT internet of things all at once that
seems like a big claim any of these
claims you should just like download the
code and try it and then you'll be like
that's crazy but I think this highlights
what we're trying to do here which is it
has the datapath element which is the
switches the things that actually touch
the packets inspect it ethernet packets
control plane which imagine if you had
you know 10,000 programmable Ethernet
processors and you needed to control
them to do different things with boughs
of Ethernet that's what the control
plane does we call it loom this is
called link and then this application
which is a telnet work telemetry
application that gathers telemetry from
all of these switches while it these
switches are processing normal
enterprise traffic collects it and then
computes a number this is a big data
computational problem
so I'll talk a little bit about that but
that the the output here is that we have
an entire stack right a bit that has a
big data component a software-defined
networking component in an Internet
entire stack a hundred percent in Erlang
a hundred percent you can ride this
whole thing on x86 boxes so every single
part of the stack is on are doing and it
doesn't have to be all put together if
you don't want to I'm actually leaving
the conference after this talk
unfortunately because I would really
like to stay here next year I like that
stays longer and I'm going to Tokyo
where we're running tapestry which is
the big data component at the in the
Tokyo interop show floor and in that
case we're not actually using these
switches we actually get the data to do
the computation from a different source
but it's a big data so it also needs
kind of SDM properties in it in the
middle so you can kind of pick and
choose these layers or you can use them
all at once and we've deployed this the
whole stack for instance internally at
Infoblox it's very exciting it's very
exciting to see you know a whole thing
happening just on early at least is
exciting for me as a knurling person
okay so one of the earliest criticism
you know if you're like okay hot you
know you gotta have in your mind like
there's no way right there's the network
you can't do it right it won't be fast
enough and and I just remind some of you
that's exactly the arguments people were
saying about the x86 Linux in the
computing paradigm and here it is it's
fast enough and so sure enough our first
try at this switch was not fast enough
so we put a fast version and I will talk
more about that in this talk but that
was very very exciting and so I'm not
going to get into this but there's the
main takeaway here is there something in
this for everybody if you're interested
in large-scale kind of apple on
data-intensive applications of your
did it how do you control tens of
thousands of programmable switches if
you're interested in wire speed data a
packet processing on x86 or other micro
processor architectures there's kind of
a piece for everybody the switch piece
can this is this is a diagram from the
OpenFlow spec so I'm not going to go
into this i thought i'd spend like an
hour detailing every box no I promise
but you know if you're interested in
this the links which the first one is
not fast but it actually matches this
architecture so if you want to learn
about open flow and you are fluent in
Erlang then you can actually read the
links which in its kind of pedagogical
tool and then that may help you when you
look at the link X switch and see how
fast that is erling solutions did a
great job in architecting this I won't
go into this but essentially each one of
these boxes this is the architecture of
the links which are libraries there
erling libraries in fact yesterday mark
sugiyama here has a talk so you can
watch it on video that goes into many of
these boxes and and and specifically how
to make a controller out of it right but
these same libraries also going to what
we call the slow path of the switch this
is very kind of nice architecture put
together by our Lange solutions so you
know this exciting right i mean you can
get all the stuff but again we are kept
nag nag nag nagging about performance
and so in the fall of last year in
november we ran across maxim and his
crew and I actually invited him to come
here and talk during this talk but he
couldn't make it for a variety reasons
so I met him at the open networking
foundations plugfest this spring where
we were testing link X the fast version
for the first time ever and we and we we
compiled this video so go ahead and roll
those processes to reclaim library
periodically and we are not using a
garbage collection at all for for
certain way certain packet processing
Beckett roasting process that's a tells
back garbage collection again hello
everybody let me introduce myself i'm
maxeen crack shanker found of closer the
company behind early on then i'll also
will be talking about a project that we
did and continue doing with the Infoblox
the project is called link x it's a the
next generation of Link's which so the
initial scope of this project was to
first we needed to demonstrate that our
plate from ling we call it link which is
did not not to be confused with link
this is absolutely different thing but
you would you could say that link runs
on link so what we needed to demonstrate
is that lean is compatible enough to run
a serious software like a link switch
it's an most less environment so
definitely cannot replicate the Earl an
OTP completely but it is compatible
enough to run in a link switch from that
time on we also took on that on a desk
of making link switch run faster first
of all we checked how they standard the
standard to the old code works on our
platform and the measures that we did it
showed that the processing delay the
time just between the moment then the
packet enters the switch until it goes
out it was about 200 microseconds
so we were specifically targeting
decreasing this number so what we did we
replace a portion of link switch we call
this portion fast paced so this is the
potion which really shouts packets the
high rate and our efforts were not
completely useless so we were able to
decrease the process in the way to
orders many quote by two others
magnitudes it's now like one or two
microseconds
yeah but because i was i was going to
get that thing on it was me but i
decided because it's got because I've
using serial interface like normal no
operating system so we've got wires and
poops like you know like improvised so
how would we did it hu that first of all
we used the standard pattern matching of
early at a glance the Berlin looks like
like an absolutely ideal thing
implementation of a software switch all
is binary file matching English
nobody else can do that almost no other
programming environment can go there but
the problem is so that you can hear that
the flow tables they may change
dynamically we decided to use another
standard and unique feature of Erlang
which is the dynamic code loading so
what what we do is that then the flow
tables updated we compile it into
earlene code and then reload the flow
tables dynamically and it just runs
really fast because of that
also the another thing you should watch
and we were trying to achieve his do is
avoid garbage collection at all costs we
did just that we use the non standard
option which which suppresses the
garbage collection for a given process
we restart those processes periodically
to recline memory in terms of processing
delay and in terms of packet rate and in
terms of data rate they were all
confirmed using standard industry
standard techniques and it showed that
the link X can process about 450,000
packets per second and 44 very what kind
of hardware yeah for this tests we were
using absolutely standard standard
server standard x86 server so no no
special tweaks no the 444 better network
processing just just just regular plain
vanilla x86 server rush down def jam we
need a house
also for four variable size packets we
easily achieve we easily saturate one
gigabit ethernet interfaces in the full
duplex mode so there is a two gigabit
traffic going through the switch in both
directions this number stake Institute
two orders of magnitude increase terms
of data rate then compared to the old to
the old code and it means that link
switch on the index is kind of join a
different breed of all software switches
very latest we started to compete with
with the west and the fastest on their
only market
but you use multiple multiple cores you
just need to spawn more instances of the
virtual machine and then you may design
for instance several several boards to
one instance and another another couple
of course to another instance you may
have linear phones increased then you
then you made in more parts these are
not tested and this is this is our
future direction the this will require
quite quite a bit of effort because of
the coordination between this individual
and switches but this is the this is
will allow us to to achieve even more
font size so we eliminated operating
system from inside inside the virtual
machine but we also want to eliminate
the operating system when it comes to
managing the carbo interfaces we want to
try to talk directly to Hardware network
interfaces this may shave and also
microsecond halitosis in the way and we
may
you may really get something like a net
generation of for software swish which
will compete not just with a
software-based things but also with
things with hardware accelerators but
these are all really another half a year
well intervention
alright another half a year you heard it
right there so you know next year we
should show even more um okay I just
need the slide deck back there we go ok
so if just a just a recap a little bit
of what Maksym said very very quickly is
we now can run software switches
directly which are written in Erlang so
this is 100 Center laying this link X
which I'm directly on xen hypervisor and
then therefore very close to the
physical hardware and then it doesn't
even use the dom0 Linux today it
actually does use some of the bridging
but that's a future work and this uses
the link which is this port of the the
beam to Zen so you know that's that's
quite exciting and then to highlight a
couple of things you said which is ok
wow I mean I've heard all these things
about Erlang and concurrency and
everything but here is something that
Erlang does better than any other system
in the world that i know of this open
source which is this pattern matching
compiling right and what they what we're
doing here is this is a controller that
wants to program this link switch to
inspect these ethernet packets and then
do something with them replicate them
load balance of them change them in some
way drop them on the floor send them
somewhere else right and in order to
inspect every single packet and match
against maybe a hundred maybe a thousand
maybe a million rules right you could
have this kind of table based approach
which is what happens in Hardware
switches with t camps and other things
but there's this amazing thing which is
if we translate this is a remote if
there's an standard instruction set
called open flow and it's translated to
the Erlang structure then the Erlang
compiler can generate an optimal match
engine loaded in the switch dynamically
right and lets you process every packet
while matching against some large number
of rules um at
you know near wire speed did I folks no
one else can do this that I know of no
one when you're when you're talking
about Erlang talk about that my
suggestion is talk about all the great
things but highlight some of the very
very unique properties so this is one of
them very excited about that um maxim
mentioned the future if you're
interested in this stuff on cod dozer
has open source sling and this is all
open source and this is all open source
and i'll just say one last thing is that
i'm very involved in an open networking
foundation right where they're focused
on what is this right instruction set
here right OpenFlow this and start and
and the reality is well clearly it's the
Erlang bit syntax that's the right
instruction set for programming ethernet
matching right why would you need a
standard it's there right with compact
with the parsers and compilers and
everything so you know it's pretty clear
to me now of course a TKE a more
Hardware can't do everything that an
erlang based switch can do so that may
limit things there may have to be a
standard subset but you know I'm trying
to promote that which is another very
very unique property of the earliness
language this bit pattern matching
syntax is amazing why the networking
community hasn't picked up on that
sooner I have no idea if you do let me
know um I suspect it's it's structural
okay so I have to blaze along here so
let's put it all together right today
the state of the art in distributed
platforms is not the state of the art uh
it's it's it's it can be a bit
depressing in terms of how much force is
needed to stand up a very large say
Hadoop cluster it's possible the
question is how easy it is it but
there's a cut so one way to think about
it is today there's certainly these
pretty amazing platforms I could Hadoop
apache spark you can imagine sensor net
applications but there's so much stuff
in the middle layer today so many layers
of complexity and abstraction and
you know knowledge and very specific
ways of looking at the abstractions it's
it's the complexity of this red layer
can easily overwhelm the value of the
application from an operational optics
perspective from a programming
perspective all this complexity but
there's hope because not unlike when
virtualization happened on the computing
industry there are these fundamental
foundational abstractions which are
absolutely ubiquitous right that the
microprocessors today are essentially
ubiquitous and the various hypervisors
make an abstraction that's like Zen
right there's only a few that is you
know means that that abstraction is
ubiquitous the ethernet frame is
ubiquitous so whether the network from a
layer 2 perspective is 4G or Wi-Fi or
even infinite man or whatever from a
software perspective at most software
stacks fully recognize the ethernet
frame and it's very well-documented easy
to think about and if you are familiar
with the Erlang bit pattern matching
then it's easy to actually write parsing
for the ethernet frames so we have these
very very ubiquitous fundamental
abstractions um and that is new the fact
that these fundamental abstractions are
everywhere in the world already
installed they're already there is
something that's new in 2014 and wasn't
true in 2005 or two or 1995 so one way
to think about it is this is a very very
special time in computing if you ever
felt a little bit jealous that you
weren't there like during the PC
revolution where it would you know
because the computing industry in the
70s was extremely kind of stable right
and there was this very very exciting
thing that some of us only read about
how how that transformed that's the kind
of situation we're in today absolutely
at the brink of a new frontier in
computing based on the fact that there
is this ubiquitous ether
it and multi-core kind of architecture
already installed in the world and there
are visionaries if we look back in time
this is a picture of a guy named John
gage who very prophetic alee stated that
the network is the computer and so now
we're at a time that the biz that worthy
the world is has problems for this
machine and is now searching and seeking
for system-level and programming level
solutions for this machine that's
already installed out there and that's
why I'm here and that's why I would
guess that Richards here and other views
are here there is this magnetism to this
community because it's possible by no
means prov I no means guaranteed but it
is possible that this community could
very uniquely because of the head start
and the kinds of things I said solve
many of the problems going forward so
one way to think about as we just need a
better distributed system right if all
the talks that I went to yesterday and
the ones I see today touch on these
major themes if we could make specific
distributed apps if we had scalable
analytic libraries if we had scalable
system abstractions not the red thing I
showed but things like software-defined
networking things like graph databases
functional languages all the things that
allow us to really build these blue
systems at scale all based on this very
solid foundation it seems now for the
first time ever in my opinion having
looked at distributed systems now and
being focused on in my entire 20-year
career this is the first time that many
of these problems seem actually
tractable at scale that mainstream
applications can be distributed data
intensive in general and I would state
that this is absolutely not a theory in
the sense that we started to really make
proof of concepts and prototypes around
this with what we've done with tapestry
openflow Zen it's just the beginning I'm
not again not making any claims
the idea is hopefully to interest some
segments of this community to really
push this farther and see how far we can
get um ok so that's great sounds fun but
really still that's a lot of work it's
going to cry a lot of rain parts of big
big big project what's the app what's
the real app right and i think that's
that is another exciting thing about the
time we're in what I'm describing to you
is the need that the world seems to have
and a growing number of distributed
applications right that are underserved
by technology that's the opportunity but
no one really knows what they are and
that's exactly the situation of the pc
and say the mid to late 70s right it was
very clear there was something
fundamental going on but you couldn't
really predict it was going to be the
word processor that was the killer first
app right and it was you know IDC in
1976 has a report that the dedicated
word processor market of which there
were like 30 come companies making
dedicated word processors was going to
go from a 600 million dollar market to a
1.2 billion dollar market by 1981 it
never happened the pc absolutely changed
that so we're at that kind of thing but
nobody knows i think that you know
success stories like whatsapp have
really started to bring attention to the
ER line community a very very positive
way right and i hope this community can
leverage off that because i think that's
great um okay so i'm not going to get
into i don't think i have all the time
i'm too much of this so we spent a lot
of time on kind of system level stuff ok
if you're in a system stuff and i'm
guessing some number of you are into
that system stuff that's great but i'm
guessing some other you are into more
computational things or higher level
things right and so I'll go into a
little bit what tapestry is and how
again this community is so amazingly um
position tapestry is a network
complexity analyzer I'm not going to go
into all the foundations you can read
the paper but essentially what it does
tries to capture with one number how
complex a whole organizations network is
in a meaningful quantifiable way now by
network we don't mean the jumbles of
wires and boxes and stuff we mean the
number of endpoints that are interacting
right the logical network this highly
dynamic logical network of connectivity
what business processes are actually or
organizational processes are actually
right interconnected and writing and one
way to think yeah yes you're right okay
I'll fix it um yeah and it does it
converges to 42 so it's on its way you
see it's red it's on it's on its way
it's a convergence problem so um so the
amazing so what does it do so it
actually it's a big data problem that's
the point of this so if you're
interested in big data problems inside
of tapestry we have to find communities
of things automatically right that
happens me on my old job I was a
technically for the National Center for
data mining for six years before i
started Infoblox so you know it's fun to
get back to that kind of thing it's very
very interesting and erling is very very
well suited for algorithms in this area
um and it's a endpoint metadata problem
I won't go into all these slides but
essentially we're extracting from the
network because now we have a wire speed
processor in the network right we can do
any kind of pattern matching we want so
we can extract from the network metadata
like um where various endpoints are
trying to to to go based on just looking
at DNS traffic for instance so the
domain name service is this kind of
signaling protocol and networking and
with tapestry we can with open force
which we can actually grab that
telemetry data and then we know these
triples like okay this IP address is
trying to go to this IP address at this
time so this is just like triples time
IP address IP address and you can just
imagine all I'm not so much metadata
that you might want to do for something
that's very useful and then these this
metadata has to be organized so it's
kind of like in this particular case
like a call record so if you you don't
know what the endpoints are saying to
each other but you know
who's talking to who right that's
actually I'm looking at DNS telemetry
data you can do that and then you feed
that into a machine which does this a
magic thing because everything looks
like a graph right a graph in the
mathematical sense like oh this these
pretty pictures and then you feed that
in this machine and then you do an
automatic algorithm called community
detection we picked one it's called
label propagation which came out of the
physics community right that's open
source written in Erlang it's like I
wrote the first version so you know
that's a testament to Erling right there
was a pretty easy algorithm to read in
the paper and I was able to pretty
easily translated it because of the
functional programming language aspect
of our line and you know I'm a really
terrible programmer so you know Erlang
is not just for the experts it's for the
people who have this problem and
actually have a less impedance mismatch
between the programming language and
something like a mathematical formula
which was just great and if you're
interested in that stuff there's like
this is a whole community detection as a
whole field of itself so if there any
machine learning community detection
people out there you know we'd love to
see you know 20 other algorithms
installed in tapestry so we can pick and
choose and decide which one is the right
one Erlang is a great way to do that and
we could even dynamically load a new
algorithm at runtime in a tapestry
instance which you can't do in very many
other examples as well and then what
does it actually do so again so this is
for more of the analytics set it just
finds communities this is like a invert
like kind of upside kind of sideways
like this histogram it just finds all
the communities like here's an activity
of endpoints maybe that's a big like
like that's everybody going to Google
and then you know that's everyone going
to Facebook and then like that's a yacht
that's like a Hadoop cluster and that's
like you know three people experimenting
with like RabbitMQ and something like
that right and and you just order these
um this this is the output of the
commune
any detection and then you just order
these by size so this is like oh this
head you know this is google so it's
like everyone we looked at in the
network so it's like you know 10,000 and
then this was facebook that was like
five thousand this is like three so you
just order these by size and then this
is not a daunting formula actually to
Katie's point yesterday it just very
easily says well if X if this is the
index J so this is activity one Bubba
Bubba that's Jay and X of j is just the
size right so it's this value here this
just says find the max J where x of j is
greater than equal to j so you just walk
up this stack and you say if it's an
eight that means they're um they're at
least eight big activities that are
bigger than eight but there's not nine
activities bigger than nine right so
it's the balance point this is this kind
of cool kind of property for large
things you can see it has this kind of
statistically robust it kind of filters
out these big things and like if you had
a million little things or something
that was a million it would be filtered
out so that's like one example of a kind
of property that you can compute on some
very large network okay I'm guessing as
we together go through a journey of
making very large distributed systems
will want to compute lots of properties
like this I'm not claiming this property
is particularly useful um you know we
think it is for certain applications but
this kind of computation I think will be
extremely useful for distributed system
designers over time um it's definitely a
widely distributed problem some of our
customers large enterprise retailers
have over 15,000 recursive DNS servers
right and you have a DNS server is the
thing that your laptop or iPad or
whatever contacts before it goes and
talks at Google to find out the IP
address at Google goes and if you don't
gather to the telemetry at the recursive
layer you lose the endpoint data because
the way DNS is structured if you try to
just capture DNS traffic at the egress
points in the internet then it would
just show these DNS servers that
wouldn't show the endpoints right so to
just
this data you got to go way out into the
network everywhere right but that's easy
to do now because if this is a recursive
DNS server somewhere in Timbuktu or
where's that place Richard Feynman was I
was trying to get to anyways someone
will know in this audience then you can
put a little just x86 box right in front
of it and it'd be fully controlled
through the remote control protocol like
open flow and you can gather look at all
the packets and gathered Clemmie tree
and then send it back to some data
center somewhere that's doing this big
data computation right so this is a very
wide wide area telemetry application all
using the same stack all using that same
stack um and you know the one of you get
why is to have all these creepy weird
pictures right like they're not nice
engineering diagrams that we normally
think well one of the reasons is and
this is an example kind of a blown-up
example like here's a data center in the
background that has like a bunch of
machines computing tapestry and running
the Loom code here's a link switch that
maxim described here's some dns
recursive server here's some routing
services that are legacy because you
should be able to intermix with those
easily right the point here is that it's
all logical right so the complexity of
network systems in themselves become
mind-blowing very very quickly so the
kind of way to think about nicely
organized network is done you can't do
this anymore but again this community
has been dealing with very complex
logical structures for a long time is
perfectly suited for that so again a
unique opportunity so coming to the end
look if you can buy network here and
it's the same stuff inside except
there's a lot more interfaces or could
have wireless interfaces or 4G or
whatever could have five or whatever but
it's the same stuff inside CPUs not not
a six not NP use but CPUs same stuff as
the server's right then really really we
do have a new machine right this picture
gage again and I think we're going past
the cloud now this is a new era of
distributed computing that we're
entering an erlang and the OTP are
absolutely i think demonstrably now i'm
not claiming victory but we hope that
we've just touched enough to the pieces
with real code that you can actually
touch and use its demonstrable that
erling is very specially suited in this
new world and you should explore it on
your own right this is a this is a
little Intel Atom for port for port
server right just a intel atom server
running Zen you can actually runs n on
it running link X so you can run link X
on it I just bought it from port welkom
they have a whole host of x86 and other
things I have lots of network interfaces
on them these kind of things they called
communication appliances but they're
just x86 boxes with ethernet and the
ethernet just you know appears to the
links so you can buy this this has cost
me about 300 bucks like a year ago the
price is dropping and then one of these
wires goes to my entire internet at hump
like my internal network at home which I
have three kids like 12 8 and 4 they
watch a lot of street like Netflix and
Amazon all the time and one goes to the
internet connection so it's inspecting
at every single Ethernet packet and
matching that against like a hundred
openflow rules right in real time and I
was so confident this would work this is
an intel atom I put it in like three and
a half weeks ago and I went on a week
and half business trip Wow I was
sweating it I really was because there
was no way like for me to easily you
know reboot it or tell the family how to
fix it and I thought oh man if this
thing goes out I am really sunk I'll
tell you did it worked like a champ I
came home when the kids got out of
school however on this platform on their
friends came over and the amount of
streaming video in my house went up
right and this thing started to choke
then so
the solution is you just put a bigger
processor in there right so now we can
think about networking problems in the
same way we think about computing
problems we don't have to change the
software in this case we just put a
better processor in there which is great
um so I encourage you to look at that
closely okay very quickly I think I've
like a minute left you know for the
theorist so I've kind of talk about
applications people for the system's
people for the theorists um look this is
a this is your time to shine right
there's so many abstractions that we
have to think and not only the theorists
put the kind of language people for
example right language design people huh
what are we going to do we got to fix
this right for the theorists right is
you know the haskell people claim iOS a
side effect is that true all right I
don't know you tell me maybe
communication is somehow fundamental
right we don't have any theory for this
so those of you that conditions out
there let's go a tent you know I
strongly suggest you attack this problem
may be Joe's contract checkers are
important I don't understand them well
enough to know yet right but this is the
kind of thing that we should explore
together so here are some grand
challenges right if Erlin is going to
step forward into its natural right into
distributed systems as a community we
need to attack these problems I won't go
through all of them everything from
security too you know if I have a
million match rules I need to now
compile those so can we need to add more
scalable things and you know think about
different ways to deal with the mailbox
and things like that packaging and code
come on just can someone just find out
whoever wrote maven and bring them over
here do it you know they're just they're
just things that have to be done and I'm
guessing just looking in this room right
everyone this is distributed problem
right if one of these grant you know
this is like gooey not like I'm going to
make a web page but like how do I
actually visualize the system with a
million things in it right in some
meaningful way the diagnostic tools so
pick your choice whatever is your
passion but we need to collectively do
that I propose hey next year let's this
conference have a one hundred percent
Erlang based network right right here
right let's do it right so that all of
your packets are
processed by erling as they go out to
the internet and we can have a hackathon
bring all your weird Internet of Things
stuff and we'll see what we can do right
let's do that we can do that in a year
so let's make it happen so in closing I
just want to say oh and one other thing
with the theorists if if you don't know
this this is the book called the
connection machine which is a 1985 ACM
distinguished dissertation for Danny
Hillis who went on to build the thinking
machines corporation and make the
connection machine series on if you're
brand new to all this stuff right this
is a great actually entry point again
we're at a we had a really special time
where I'm widely distributed computing
with programmable networks is now
mainstream you don't need a million two
million five million dollars to build a
machine like this you can build a
machine with a few thousand dollars but
some of the fundamental research was
done a long time ago just like an object
having problems so go do some research
that's fun stuff ok so I'm between you
and break I want to thank you but I need
to do one more thing can we take these
lights down in the high slides up I have
this problem i live in san jose in
Silicon Valley it's hard to bump into
Erlang people in general like
statistically if I just go I can't find
any so my wife is always quoting I'm
like I'm going to see like 400 Erlang
developer she's like now that doesn't
exist so I need to take a picture of you
guys I'll take a video and then if you
could all stand up that would be helpful
and then just like Haiti said just like
look really friendly like maybe you know
like like really friendly and then wave
and just say maybe on the count of three
just say erling one two three oh come on
you can do better than that come on
we're at the brink of a whole movement
here okay really loud this time ok ready
1 2 3 yes all right thank you very much
have a great conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>