<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CodeMesh 2014 - Mandi Walls -Building Testable Infrastructure with Chef, Test Kitchen, and Docker | Coder Coacher - Coaching Coders</title><meta content="CodeMesh 2014 - Mandi Walls -Building Testable Infrastructure with Chef, Test Kitchen, and Docker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CodeMesh 2014 - Mandi Walls -Building Testable Infrastructure with Chef, Test Kitchen, and Docker</b></h2><h5 class="post__date">2014-11-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v2Z31ZDDBvs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so without further ado cold mush for
everybody all right thanks I realize I
have to give this talk from like behind
the standee and be the voice of the
wizard and that would be that would be
kind of amazing okay so yeah good
morning thanks for coming I am Andy
walls I work in the professional
services team at chef I'm in kind of in
transition from the US team to our new
office here in London so hopefully I'll
see more of you around in the future i
am at ln x CH k on pretty much
everything github twitter pinterest if
you're into that whatever no one ever
takes my username a little bit about
chef and what it is that we do chef is
automation platform it helps you create
dependable view of your network state so
all the things that you need software
wise configuration wise on to all of
your infrastructure whatever our
patients you're running over kind of
stacked that you have how our complex or
simple it might be but allows you to
find dependencies between different
parts of your infrastructure whether
it's as simple as a database login or
accessing another cluster storage or
something like that it helps you help
you be fault tolerance and secure and
keep all this things sort of manage
together if you're not familiar with
configuration management in that sort of
new context I we start of play in that
space we also support multiple platforms
so the things that I'm going to talk
about while there's work gear towards
dr. and Linux clean containers we
support other platforms as well and will
we'll have plans to support some really
new things that Microsoft is announced
for containers all that kind of stuff as
well so if you were in the keynote
yesterday morning the speakers gave a
really good talk about the complexity
that ends up being inside of systems and
how it's not necessarily in the coded
all the time there are other parts of
what it needs to be complex right so
dealing with not just lines of code but
also rushed for time to market and
external pressures on software
development from the business complexity
of the other parts of the ecosystem
whether you're dependent on third
parties for external services or other
things that you're interested in as well
as just coping with the number of
systems and the number of staff that
might be required to maintain some of
the modern pieces that were now building
ten years ago I was something on the
scale of an application like Facebook
wasn't really in existence yet so the
idea that these platforms and the pieces
that we're building and the things that
we're creating that have value are a lot
more complex and all larger than they
were even a few years ago chef's please
in space we call infrastructure as code
where we're looking to programmatically
provision in configured components most
of you probably from a development
background used to bring a cool it into
a text file it does things check it in
and can manage it that way we treat your
chef code like any other code base the
idea at the end of your infrastructure
creation is that you could reconstruct
whatever your business is doing from
your code repository which would include
your infrastructure
as well as your application code any of
your data backups that you might need
and whatever compute resources you might
need to get hold of so over the past
couple of years we've seen some natural
disaster we've seen some outages and
infrastructure providers where the folks
who are most flexible and most creative
or moving and applications around end up
having the most success and there was
sort of long-term up time with the
applications they they are producing
chef allows you to create policy so are
my policies and I run apache and I
define what that looks like and it goes
into my infrastructure in a way that is
programmatic and declare and then we
ensure that all of our nodes need with
this policy and it could be anything it
doesn't necessarily have to be packages
that are installed it can be security
features to compete login information
for external services all those things
so our goals we're looking for a way to
share the same configuration components
with everyone on the team again in the
keynote yesterday you the idea that not
everyone on the team has to be an expert
in every single component of a complex
system and chef is another mechanism for
allowing you to sort of disseminate
information or disseminate skills across
the entire team but also then share them
back into the shared infrastructure so
there are components to chef like we
further our infrastructure components in
cookbooks so one person on the team can
be responsible for the cookbook that
they happen to know about
you happen to be the team's rioc expert
then you can maintain the reactor book
for your team we also want to minimize
surprises at deploys on whether you have
a very rigorous step-by-step testing
process or you're maybe not as request
in how you do your testing we want to
take advantage of the predictability of
having seen code deploy the same
components every time so that your when
it comes time to deploy into you a tea
or reduction things go as you expect
them to go we're also going to test the
application against the real
configuration if you've worked in
software development for any number of
time an idea that it works on my machine
or worked in development and then it
blows up in production is a very
well-known mean and I come from
operations background and have had more
than my fair share of late nights trying
to figure out why something that worked
so well in development just did not go
in production we want to minimize the
churn on that those sort of experiences
we also test the configuration with the
application code depending on the
platforms that you're working in things
like heat space or number of threads or
other configuration options are a key to
the code itself working correctly you
want to make sure that all of those
config pieces travel with the code so
infrastructure X coats or works in with
all of those things a little bit about
where chef is coming from with these
code pieces chef is built on Ruby we use
a custom DSL it's basically a bunch of
objects that then refer
employees of the system within test chef
code with tools out of the Ruby
community we leverage our spec with
other true to a cop a couple of other
things there there's been some stuff
that's been built explicitly for this
generation of configuration management
tools when we're going to talk about
today is called test kitchen which is a
product that or an open source project
that runs not just with chef but with
other other components servers back
which was independently built for
testing systems after they've been after
they can live and then there's tools
like food critic which is rules based
testing specifically for chef so we have
a combination of traditional tools out
of the rubric community and things that
have been built specifically for this
idea of having code to in publisher
infrastructure the tools that I'm
working with right here for the things
I'm going to walk through today my arc
station here is a three year old macbook
air it doesn't have a lot of RAM on it
so I'm not doing a lot of heavy local
testing if you're using things like
vagrant the terms going to talk about
today also integrate with vagrant but I
are going to use a cloud machine as I
don't have enough space on here dear
anything else I'm also even get nothing
crazy their regular did help depository
we have a development kit called chef DK
which encompasses all of the other tools
that I'm going to work with as a user
and it's one download and it just goes
on my workstation I have a cloud box
then I'm going to run my daughter
containers on I'm using some toss
there's no restriction there chef
with multiple versions of Linux I have
docker iOS all from Apple not from
whatever peel was autocorrected there
there's also shepton came over my
daughter box the only thing that I then
had to add kitchen docker which is
another gem that supports soccer kitchen
itself won't talk about it has a whole
bunch of other support with it so the
workflow that i am using for this is
very much a closed-cycle test and i edit
my recipe code on my machine I have my
knives editor settings but I have a lot
of RAM so I'm running local tests here
for just for syntax for style a little
bit of things in memory I'm not going to
instantiate another guest on my machine
I check it in to get after all my local
tests pass and upload to my regular
repository all my tests box then I'm
just doing a get pool and running my
test kitchen tests so I'm using both of
these boxes sort of together to do fast
with current on syntax checking locally
and then do more rigorous testing on the
remote system just as the basic example
I am installing apache just because it's
there right we sort of called this the
Holy Trinity of configuration management
the ability to install software I'm
raising system packages for that managed
services in this case just the Apache
system itself and then put some kind of
file or configuration online and I'm
just going to use a basic HTML file so
we use this test kitchen because bill
explicitly to test infrastructure as
code so it allows us to hook into a lot
of different material there we can
execute code on one or more platforms I
can have drivers for in this case and
when you sent us I can also use
on to other images that I have available
living there in my maybe the mr cluster
are having here on my finger or there in
a cloud somewhere all those sorts of
things available it has a driver plug-in
so that i can use not just dopper like
we're going to see here the agreement
which is built in but a number of other
infrastructure providers wherever I may
have things that look like what's going
to be in production if my production
systems are going to run an easy Q and I
should have the ability to test pretty
easily with systems that aren't easy to
if they're digital ocean is there a
google compute wherever they might be
there's also support for other testing
frameworks we'll look at a couple
there's also others that tend to emerge
in our sort of platform specific test
kitchen has one primary config fun and
it's called it's a kitchen me llamo file
this travels with every chef cookbook so
chef cookbook that encompasses a single
component of software whether it's my
web server or it's my container server
or it's a database server or whatever it
is my kitchen yahoo file allows me to
create a custom environment to test that
code against so that if i'm loading up
the new schema in my database i can have
a kitchen by enamel to test that i have
a driver that specifies my
virtualization platform or a cloud
provider wherever i'm going to load the
system up to test i'm a provision error
that allows me to use in this case chef
but there are other provisioners
available my target platforms i can
target a single platform single version
or i can have Test Kitchen instantiate
lots of different systems at the same
time so if I have a requirement that I
need multiple versions of sentox or if I
need to be
want to run this on santa ana fun too I
can watch all those things and test
against them at the same time so it
really shortens that cycle and lenelli
the suites are how to specify what
actual software goes on these test
systems my case I'm only going to run
something very simple today so you see
what if it ends up looking like my
driver in this case is da / so I have a
machine it has darker services running
and ready to go so I can instantiate a
new container but a Test Kitchen is
going to take care of all the details
for me i'm using my provisioner chef in
this case chef 0 and there's more
information about that on our
documentation the platform I've chosen
here centos 6.4 just because it was
there right the driver can think i'm
going to do some port forwarding very
simple to allow me to test against the
service that's going to be running in
the container and then finally I only go
to launch one single recipe for my
apache web server these can be fairly
complex in the driver section if I were
to use an infrastructure as a service
provider I can put in all the keys and
my authentication bits I can choose
specific a mrs if anthony on amazon or
images or regions and another provider
so that i can be very very explicit
about what i'm expecting to test against
so that my outcomes matched what i'm
expecting to have in production so i'm
going to create a driver detainer it's
going to have sent a 6.4 I didn't
specify anything there so it's going to
pull things out of the central
come for those things going on testing a
web app so I'm going to forward port 80
and I'm just going to load up this web
server that happens to meet my team's
configuration for Apache one of the
things about using something like chef
TK the way that Chef ecosystem works I
can rely on things that have already
been produced by my team so there's
dependency management built in so that
if someone else in my team the dbas has
specified here's our approved version of
loading up my sequel on a database
server and I can well I can make use of
that material as well so kissing create
goes through it abstracts out all of the
dirty business of cream container and
making sure that it's running okay and
doing on the portfolio and configuration
and instantiates that piece here if I
was using another provider for
infrastructure as a service or even for
vagrant it would do the same thing go
out to the provider talk to the API with
my credentials instantiate the system as
I required in my in my system if I'm
using vagrant I can specify what box to
use what image that I need those sorts
of things and it would do all that for
me I've daughter running so I the
container it's leveraging the regular
doc you see a lot of tools so there's
nothing special about a kitchen docker
container versus a regular docker
container so I can interact with the
containers the same way here's this like
a theater I need the image that was
built off of here's the command that's
running we do one just kitchen runs run
sshd on so I
log into that container maybe not what
you do if you're wearing to change them
environments but it helps me more
testing I have then my port forwarding
so I know what's going on there kitchen
converge is the next step so once I have
the system up and running and different
providers maybe take different amount of
time so if I'm waiting for a system to
be instantiated in the cloud it may take
a couple of minutes using docker pretty
quick right it just kind of comes up in
30 seconds later so it's ready to go the
next step is to convergent and that is
chef taking the system as it stands now
versus what's been specified in my
recipe policy and making the system
match so in this case I've asked it to
install an HTTP v package so it starts
the service enables it at through time
and then writes in my page that I wanted
so all those things happen automatically
once I've convert that I can ask kitchen
what's going on the systems that it
knows about if I have more than one
system that I'm test against they'll be
here a list so if I had to test against
a bunt too or something else I could
have another one here if they had
different drivers who let me know and
this is I have one system I know that
it's ready to go it's been converged so
my system has taken the Beast image and
built the container off of it and then
taking my policy that I've specified in
my patty recipe and applied it to that
container now i have my container with
my code on it that I I know at least it
runs through the chef room I can test it
so I've been port forwarding here so I
can act
she asked the web server hey show me
this page that I got a placed on the
system so i know that it works if i were
putting on something more interesting
right so other code or whatever i could
ask the same sort of thing here so
that's the sort of getting started I
have now configure that I know will run
to completion and I can start working
with that the other plugins the kitchen
has available you see a lot of different
I as providers vagrant is included so if
you are on there cleaning 38,000 feet
you can run the test kitchen on your
local local system and get your work
done personnel and airplanes I like to
try and sleep but you might always like
to work I think they're crazy so we are
working against reliable configuration
right or provision you're under
platforms that hopefully latch
production as close as possible if we
have the ability to do so in our local
system or we rely on a cloud provider
all better get as close to production as
we can we write recipes once for
everyone and then share them because it
is code right I can check it into the
central repository everybody has access
to it they can pull it they can fork it
they can make changes to it if they need
to and they can also share it back
through especially if you're using
something like it with a centralized get
server we can help then move that local
deployment work we can build test
systems off of all of these themed
configurations and finally the same
configuration as seeing methodologies
are applied in productions or minimizing
all of that risk that comes in with
development being different from
production and looking kind of customize
our environments as necessary there's a
lot of different ways in chef to specify
different settings for development
versus
way vs uat vs production those sort of
things so you can be very very
sophisticated and very very predictive
about what you need in all those
environments so building on what we can
do a test kitchen the short leveling up
there is to go for what we are calling
testerman infrastructure so for folks
who have done tdd and those sort of
things in the past is a much more
natural fit for those of us who came
from operations and we're still learning
how to use version control it's a little
bit of a foreign language so I have a
couple of things that we do a couple of
different classes or categories of
testing you can do with your
infrastructure so pre-testing so before
I have a host running there are things
that I can do and these aren't
necessarily all sort of a one-to-one map
of unit tests but it's a similar variety
things that I do without a running host
to test against I check for my style and
syntax so only have bar b bar rubicon
from the Ruby community for doing
silence and tax we have shifts back
which is building our spec is very chef
specific and very chef knowledgeable and
then there's food critic which has a
bunch of different logic and style rules
that have sort of emerged out of our
community and come out of bloody
religious battles over people's
preferences and what they actually like
once I have a running host once my
whatever i'm running the test kitchen is
I've been going I have good I can rely
on server spec and there's also this
little thing called bats which is the
batch automated testing system which if
you're using a unix environment is
actually really nice
you can do command line testing of
different tools so robocop is very
opinionated little bugger it has it's
very specific about what it thinks you
should be doing with your Ruby and yeah
vs readability you know it's it's not a
hole right so silence and tax is always
a bit of opinionated I guess you could
say so in my case I had spaces in my
brackets and we use double quotes where
thinks I should use single quotes and
all these things that if you're working
with a large team and especially if
you're working with folks who aren't
necessarily native programmers that
they're coming in from operations or
from infrastructure and they're just
learning how to program being really
prescriptive about these sort of style
things helps them know what's important
and what's not so following a style
guide is actually not a bad thing to do
when you have a large team like that so
I can fix my things dick spaces out get
rid of those double quotes whether I
needed and rural caucus not happy with
me I can do this locally and I can do it
as a pre-check and hook our pre-commit
hope and get if I want to I can be very
very explicit about how my team should
work on this code so that my gets into
the central repository everything is
clean just like you ones your
application code after you're doing it
with what's actually going to create
your infrastructure the next level of
the chef's back helps you test the
intention of your code it spilled on
horseback and specific to chef so it's
something that is very chef
knowledgeable understands how the layout
goes of of Chef components you can do
TDD with this right so you could write
the tests first make sure that they
prove yourself that they fail then write
the code then prove that the tests pass
so you can be very prescriptive with
this sort of the sort of
tool for folks with more of an
operations but it's very good for
testing regressions making sure that the
things that you're adding to the system
or if I'm upgrading from cintas 62 sent
us seven or whatever I'm doing that the
effect on the infrastructure is okay and
that I know that things aren't still
going to work so I can continue to write
these tests that way so I can go back
into code I already have add the tests
do it and then continue to do it to work
forward when allows you to give all
these these configurations to your
entire team so just back a little bit of
pomp and circumstance around you know
getting set up if you've worked with
something like our spec before it's very
familiar right so I'm loading in the
library for chefs back I'm defining a
new runner to test against and it's
going to run this in memory every
building shaft resource has some kind of
test that I can take a look at so we've
looked in this example I package and
service and then a file there's also
things for users and groups and making
sure that the security settings on a
specific file are correcting doing other
manipulations on the system I can also
test against a specific platform if I
need to if you're familiar with the
differences between something like even
sometimes in a bun to package names are
different files are in different places
the users that run services have
different names you can test for all
those things so that you get into
production you're not making the wrong
assumptions about what user is going to
be running your application I running
against my my units I have one test that
I ran everything is good to go so I know
that when I check this conan is at least
going to pass the back manner the server
site is a another tested so this one is
posted Samson
so I have a host it was put together by
I don't actually know his name is a
Japanese man and he watched at least
announced it a couple years ago with the
velocity conference so the very
interesting component of certain occur
testing workflow in that you can make
requests against services on their
learning system to test that they're
doing things that you want to we'll run
it from Test Kitchen at the end of a
kitchen prefers so my in this case I
have my daughter container it has my
Apache service on it and that I can test
against it it's not necessarily
dependent on chef so if you're not
usually configuration management system
yet you can still actually use service
back by itself and there's a couple of
pretty good tutorials online for doing
that so that especially if you're still
getting yourself set up to speed with
monitoring and how you check your
systems in production you didn't start
with something like so respect sir and
give you an idea of how your systems are
going to respond to your official
testing or other requests mr. respect
while very similar to the ship's deck
faucets they're both sort of built on
the spec methodology r-spec methodology
I have requirements for my Apache
package so here's my package to be
installed I have an expectation that my
service is going to be running and then
I'm going to expect that it's going to
be listening on port 80 finally I came
down here and this is sort of a
continuation of style I want to actually
run up commands to test that convergence
so when I was running the spiky and
around my first I do curl little post
for my command line I'm getting the same
thing for my testing environment right
so that this seemed cold that I knew
gage meaning response and I wanted I can
automate into my
service back testing so if I was going
to put this into automated build system
with our music jenkins or something else
then I get the good return back from
service back saying hey it matched
everything that you asked for now I'm
not doing that manually and this could
be a more robust I can be looking for
200 turncoat I can be looking for
specific thing than the actual cool to
get children to the page whatever else
there if I have to be writing a web
service I had this to my system and I
remember to my doctor host in the cloud
nice i right running the kitchen verify
so I have a dolphin container weapon
running already has my service in it
this is the command to ask it to verify
run all the tests against that library
system if our community gets a car
machine same sort of idea have the
instance already up and are verified
it's the services so tells me what's
going on I have my Apache service
installed running listening on the
correct port and displays my homepage
and I passed all of my tests so I know
that the code that i have is ready to go
as the lease met these requirements
kitchen verify runs the tests on the
instance it's already running so i do
the create i do a first version i can be
verified and as I'm making changes i can
continue to do that converge and
verified loop so i have maybe i have
deployed any piece of code or a new
version of my epi i can use that loop
over and over again to continue to test
against super helpful if it takes a long
time for the instance that you're using
to build my merits on your own internal
hosts or one
infrastructure provider kitchen tax is
from the very beginning it starts out
with a brand new instance so if there's
one running it keeps it down builds a
new instance re converges it and then
runs all your tests and then tears it
down so that you can actually use this
on a test environment for something like
Jenkins it comes back with a good return
you know that the tests all past no one
had to get in there and provision any of
the hosts all that was done by Test
Kitchen automatically and you can do
that again against any of the other
infrastructure providers it's nice rivet
of different workflow right so your
users watching task soon after
development is still using the scene set
of tests the same tools that you can use
then they are on in integration builds
and other things from a test system with
doctor this is super super fast is the
way so other resources we have other
work that we are doing with containers
so chef and docker there's sort of an
emerging workflow with how to work with
containers what you expect them to sort
of do them whether or not you would
actually run containers and production
those sorts of things chef container
allows you to specify containers build
them maintain your sort of container
farm right so as the longer the life of
the container like any other image there
comes a time when you're going to go
into it and update systems for bug fixes
or security fixes or any of those sorts
of things and rebuild the layers that
might be
goodbye something like Google or heart
bleed or whatever so something like chef
container could help you create and
deploy those images as you need to it
interacts with the doctor services and
all those sorts of things the rest of
the information about all the testing
tools some of the LCR ours and some of
them are sort of external again food
critic hi i miss the food critic for URL
that's if you do a Google search like
all good tools bats is impossible find
but it is there in github there's
morning chef TK so if you are so
familiar with chef and have a chef
workflow or have been working with Chef
a little bit we had a food fight show
with our engineering team to sort of go
through what we're doing a chef TK to
add in all the tools and create a more
robust ecosystem there there's more on
this workflow believe bins are iterating
on this this was our the first version
of this was an early version of the
Doppler integration we did as a training
in April with mixed results right this
is super early for a lot of the tools
but it's also and i'll post these slides
and tweet it out there to see if you
want the urls they'll be there more
about us if you're interested in chef we
are dead chef calm we also have
tutorials online at Iron Chef back home
our documentation is up we have a
commutative sharing site called the
supermarket so if you happen to be new
to chef then you want to know how to run
react or go do for my sequel of clothes
graphs with chef there's folks on our
community
have been nice enough to publish open
source all those components we have lots
of videos and webinars and things on our
youtube channel we also hang out in
freedom and pouch a pouch of hacking and
we're on twitter there is a meetup if
you happen to be here in London there's
a chef users meetup was last night
that's fine we do it every month or so
and we're starting other meetups in many
cities in Europe if you happen to not be
based here so open it up to whatever you
want to ask how did you check we go up
it's jumping
we went our life so you know no you know
what was seeing I think in everyone what
puppet have seen as well is that as
infrastructure's get more complex the
requirements for the assumption or
configuration are more and more intense
and we literally did you a rewrite so we
went through the same process a couple
of years ago all of our chef server
components were in Rudy and it was not
getting us the performance that we
needed and it took us a significant
investment we rewrote the server
components of early similar goal I think
to what hope it has is that the
centralized puppet master is has
performance constraints and in order to
really address these more complex in
larger environments that have to be more
performant and that's what they're after
you sympathize this is a little work we
just finished our rewrite and we can
crush me starting with couchdb as our
back-end because the the system holds
information about all the nodes in a
JSON document couch JSON datastore
seemed like a good idea at the time
wasn't meeting our needs so did a
bake-off datastores different databases
and then sequel whatever ended up
launching on to postgres and that has
another significant
that we just finish performance boost
again for that so ya think we're all
really in the same boat they're just
trying to get more eyes anything about
oh
mentioned Carmen specific operations I'm
a sort of you obviously as you go
environments
or a second recipe
yeah they have a couple ways to do that
let chef Anna Lee has the idea of an
environment so an environment itself and
we're moving towards something a little
bit more robust called policy file but
the current versions the environment
actually is encapsulation of a bit of
data and you can constrain cookbook
versions there but you can also push
pieces of configuration so if in
development I want my engineers to be
able to restart the web service so I put
it on a high port so they don't have
hurt so the web service runs on port
8080 and development I can specify that
as we call attribute for the development
environment and then when i get to
production production environment I'm
support 80 or whatever part on my load
balancer and all that's very
configurable for as many environments as
I need whether I have just a death q a
broad or I have multiple levels testing
or have different environments for
different infrastructure providers that
I'm using whatever I need to do that so
it's very well encapsulated
externalizing puppies
so that's so if you can you can manage
same way we also have the idea of a sort
of global data called data by and the
data bags are interesting in that they
also have the ability to be encrypted so
that you have another secret sharing
model there that only the nodes in the
environment that have to have that
particular secret are able to decode you
decrypt that piece of data so while it
lives on the shift server in the central
area so everybody could potentially pull
it down only certain nodes are able to
then unencrypted it and actually the
tooling for that some of the nicer stuff
is a business or project in nordstrom so
department store in the US who happens
to use shuffle as well and allows you to
use there's already keys in place every
known as a key if your person has a key
it makes use of those keys there it's
called chef bolt it's actually very nice
there's local data global data sort of
encapsulated so these notice of the keys
out of the day today
the process yeah you can do it a couple
of ways you can put your chef
configuration in the image that you're
using and then the first time the
machines come up around chef they ask
for new key so the new key pair gets
created there's also a more manual
process for each job where I as a human
being as an administrator on the system
tell the new box to go install chef and
it takes part of my configuration and
puts it out there so that is authorized
to make any requests so it's very
lockdown there's one global
authorization key for every organization
and that's the one main secret to end up
your passions so if you're embarrassing
or and chef we do have a training coming
up clear in November here in London
right the 25th or 26th are you teaching
that maybe this is alex in the front
window he's here base year of london one
of our technical folks here and we will
have a training the end of the month if
you're interested in more traffic cool
thank you very much money</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>