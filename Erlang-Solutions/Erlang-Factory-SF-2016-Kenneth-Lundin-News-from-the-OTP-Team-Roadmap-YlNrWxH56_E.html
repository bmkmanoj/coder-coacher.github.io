<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Erlang Factory SF 2016  - Kenneth Lundin - News from the OTP Team - Roadmap | Coder Coacher - Coaching Coders</title><meta content="Erlang Factory SF 2016  - Kenneth Lundin - News from the OTP Team - Roadmap - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Erlang Factory SF 2016  - Kenneth Lundin - News from the OTP Team - Roadmap</b></h2><h5 class="post__date">2016-03-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YlNrWxH56_E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we start okay i'm carolyn dean from eric
zone and this is it the traditional
speak about our roadmap what we are
thinking planning i will show you
something like this how we interact with
the community and try to improve that
the plan releases and some details about
Theresa's and a long term what we are
thinking after the nearest releases we
can start with the community done we are
working together with the industrial
online user group to try to improve the
community into work and one thing is the
issue tracker and now it's in place I
will talk more about it later and we try
to include a packet manager in OTP it's
one thing and an open back Logan that is
not in place yet but hope it will happen
this year when it then comes to the
issue tracker bugs dot a line not argue
its lives in Socktober last year and it
replaces the Allen bugs mailing list for
reporting bugs the mailing list is still
still active but it will be phased out
someday so we encourage you to report
bugs in this issue tracker and we have
got around the 100 bug reports so far
and the one thing that's good actually
what's good with the allen bugs mailing
list was that reported bugs was
commented or sold by by community users
not only by us
so we encourage you to comment on the
issues in this issue tracker as well so
maybe we get the solutions from the
users I mean we haven't promised to
solve everything faster and better just
because we have another type of issue
tracker but now we get some kind of no
one order about the issues so it's
easier to track them and we can
reference to the issue when we have
solved it in the new release in the
release notes another thing that we were
working on is the packet manager and we
think that if the packet manager would
be included or integrated in in OTP it
would be easier for for users to fetch
other a line packages and we think rebar
3 is a good solution for this so we
intend to cooperate with the rebar
maintain us to develop that further and
integrate it further into OTP and
rebirth is also integrated with the hex
package manager which can host
information about packages from both
Alexei and a line so the first step here
is that we remove rebar 3 into the
a-line organization of github but still
the same maintainer the separate reform
and then coming steps then that we work
on how to integrate it at the wit are
going to be and how to offer it to when
you fetch a Lego TP and this third step
is to actually use it inside a line out
to pee if we do when we divide a Lakota
T into several packages
then we come to the plan releases I mean
our strategy with release is that we
have about a one major release per year
and we have three planned so-called
correction packages which mostly contain
bug fixes but some smaller functionality
and that we have emergency packages
which are released as needed when some
customer probably Erikson is needing an
emergency patch in there or or it could
be also some supported customer outside
Ericsson paying customer but the open
source community to get the patches in
the same minute as they are released
and in the maint branch in in gift at
github we have the current major release
and updates on that and in the master
branch we have code for the upcoming
next major so you can see here that the
coming releases they are 18.3 next week
and then we have the next major in June
but an important date is the release
candidate that we plan to release in May
and i encourage you to test this one as
soon as possible and come back with
feedback if something unexpected happens
I mean the major releases they I mean we
allow us to be slightly incompatible in
the major races but not not in the
correction package exceptions exist but
that's the general ID if we have
something major new or something
slightly incompatible we we have to put
it in the major release
so now then some details about the next
correction package to 18.3 next week is
most mostly bug fixes with some new
things for example this new statistics
in the airline statistics function you
can having through four different new
properties to ask about runnable and
active processes in porch we have a
customer case where they needed this for
as a basis for decisions about overload
protection you can see how the
schedulers what kind of jobs they have
and so on if they are uneven load about
schedulers and things then we have the
next thing here time warp it was a lot
news about time presented here last year
I think and time warp is we allow the
operating system to have jumps in time
and you can still handle it in a line
but it was somewhat incomplete in the
implementations so if you insert you can
run this allen system in in three
different modes regarding time warp and
then you also have to to be able to use
this when you get time stamps for
tracing so that they will be accurate
this one heart heart is a monitoring
program which monitors the a long vm if
if you activate it and it sends a
message to darling vm and a process
inside will send back something and if
it doesn't get it back in time it will
think that the allen vm is dead and you
could kill it and restart it now there
is a call back here where the a-line
user can do whatever shakes he wants
before returning to heart so we can do
some sanity checks I mean it has proven
that it wasn't enough to just get this
message back it can actually be problems
in the system anyway some hanging
schedulers for example
so there is actually the default test
that's implemented as well that we're
which checks that all schedulers are ok
then we have a module called overload in
the sasal application we have decided to
remove it first we have to deprecate it
to follow our own robes so we deprecate
it now and then we plan to remove it in
the nineteen release because as far as
we know no one is using this and I don't
think it works particularly well so it's
about cleaning up and here's some
statistics I think we have got or merged
in about 90 contributions since the last
release here and that's both for for
this and for the nineteen thirties so
now we come to the nineteen release and
as I said we can have some potential
incompatibilities in a major release so
we start with removing the test server
because that has never been documented
as an official application the modules
needed from test server is moved into
the common test application
we have something called a code path
cash which was intended to speed up the
code loading at start it has never been
a success and it is as we know not much
used so we have decided to take it the
way because it comes it makes the code
more complex during code loading as well
so I think we can solve this oh I mean
foster starch and loading in other ways
here we have something quite complicated
to describe in a short slide but it has
to do with type if you have you notice
this syntax a record where you have a
type declaration for for dialyzer of the
field but you don't have any initializer
or default value for this field so today
it is so that it's automatically
inserted that undefined which is the
default default value is also allowed in
this type declaration but this prevents
actually prevents dialyzer to find all
interesting bugs
so now this is will not be automatically
inserted if you want that you have to do
with yourself so if you have code today
you will might experience that you get
more warnings from dialyzer if you don't
change this in certain places okay then
we have the ssl application with the
support for TLS it's a continuous work
in this the security business that you
have to remove things that are
considered being insecure so so this is
one of these cases that we remove deaths
from the default super suits you can
still turn it on but you have to do it
you have to have it in the option list
so that you want it but this might
result in that you failed to connect
with certain service or clients that you
could work with before random will now
be deprecated and there is already
around module which has better random
values
and this means that it will not be
removed here but it's intended to be
removed this random in release number 20
okay now some more interesting new
features perhaps preprocessor mattress
for finding out in which function you
are I know that some systems has a
Porsche transform for this that's not
necessary anymore okay we are working on
a new state machine behavior superseding
the yen fsm which is not really that
high tech this is a pope we have
submitted this as a pull request so
there has been a lot of discussions
about this one but we think we can
release it in in 90 we have the Mesa
next it's a plug-in architecture where
you can plug in external storage
solutions Tunisia I think wolf here is
has worked with that and Lorna has
worked with that and it will also be I
think leveldb plug-in for this release
this open-source soon
Krypto we have changed crippled to use
the EVP ap ice of openssl and that will
give you more speed when it comes to
encryption with and without hardware
acceleration but it can take advantage
of hardware acceleration but that
depends on open SSL and how that is
built and I think it works for an open
SSL one dot 0 dot one or something like
that and then we have it some crypto
algorithm okay here we have other things
we have open port it's where you execute
external programs from a line from
inside a line very common in E scripts I
suppose this is now made three to five
times faster and we have got rid of the
I mean previously we had to do it v fork
or a fork inside the Allen v and to be
able to do this and it could potentially
be unsafe if the program to be executed
was in an NFS file system it could hang
the hope vm it could also have problems
with memory consumption during this
thing so now we have a separate program
which is doing the forks for us so we
communicate the separate program
and this is also impact on the OS
command which uses the open ports porn
so it closely Foster and it will be more
scalable over several schedulers tracing
we have done a lot about tracing you
will be able to tre have match pics on
messages you can for example use it to
filter your only tracing on external
messages from an era knowed it will also
be more scalable over many cores and
Lucas will have a speech about this all
the details about this in lost speech in
today I think
dirty schedulers has been around for a
while but we have not it's regarded
excremental but we are working on it now
and in temp to make it robust and less
experimental I don't promise that we
take away all of the experimental but
the intention is that the experimental
in that case is just that we are not
hand up and sure about the api's but you
should be robust
this one configurable message queue
handling / process it is intended to
solve problems where if an a-line
process get a huge or large message
queue you can get into trouble for
example the garbage collection can be
very slow and have a huge amount of data
to work gone all the time so now it's
possible to configure this so that the
messages they are not being included
into the heat during garbage collection
layers they stay outside until they are
received and you you configure this with
the option to respond function or as
process flag inside the process
the last thing here we have implemented
for new functions where large list of
modules can be used as inputs you can
load them super fast all these modules
previously was one module at the time
and it was a synchronization point in
the allen vm after each so now we take
that synchronization after the whole
bunch of audio system
some other optimizations in the ssh
application where we have the optimized
binary split sharing preserve bring
copying in internal messages and exit
signals we have tested this on an
ericsson product in didn't have any
impact and I think it is because I mean
having these shared data structures in
an island term I think it's more common
for tools than a telecom system the
telecom system usually don't have that
large airline terms that is sending and
not so complicated
and with curve counter is a new function
it gives access to the lineup score
counters for example or similar
efficient ways of finding various things
the garbage collection info is a new
information you can get from process
info it can be used to find out how much
Corbett's you're creating in a function
for example if you if you take this info
before and after execution of a function
you can already today get this same
information from the tracing or garbage
collection but I mean this is easier to
use if you want to find out what's
happening in your function or because of
your function
and then the future long-term things we
are working on yet he often time
compilation you can see it as a research
project it's not for sure that it would
be a product or when is based on llvm
and we are currently struggling with
problems of llvm actually distribution
we get more and more requirements on
having many nodes together like hundred
im mean if we can handle hundred we can
handle more as well but that's the limit
that has been mentioned I don't think we
are going for many thousands I don't
think that's necessary bit and also hit
your eNOS different protocols to
different nodes we are working with a
distributed hash table as an alternative
to global or as a general-purpose thing
we are thinking of splitting OTP into
several repositories
we just got the rebar repository inside
but okay that's that's the first step in
that direction dtls is something we are
working on and we have cooperation with
users about that we have contributions
in that area build support I think
mainly this is about how you build a
long vm itself and how you handle cross
compilation of exacta documentation it's
about how to to make it more fancy look
and feel why sand surf and we have I
think we have cooperation with users
about that to a virtual estate
virtualization is about I mean we need
to be there must not be any hindrance
for using a lie in containers and cloud
applications I think like that I don't
have any concrete examples of what we
need to do but we find out we have
already done things regarding this
because some system calls are really
expensive in a virtualized environment
compared to native for example regarding
time so we are addressed that in the
previous series
okay that that was all for me and I I
was i forgot to mention that you can
also listen about all the details about
three bar three today by twisting
slaughter and it was a new release I
think yesterday also any questions or
you can ask me outside</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>