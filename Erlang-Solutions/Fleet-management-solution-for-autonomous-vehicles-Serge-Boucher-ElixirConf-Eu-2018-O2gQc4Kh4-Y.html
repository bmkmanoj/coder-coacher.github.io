<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fleet management solution for autonomous vehicles - Serge Boucher - ElixirConf Eu 2018 | Coder Coacher - Coaching Coders</title><meta content="Fleet management solution for autonomous vehicles - Serge Boucher - ElixirConf Eu 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Fleet management solution for autonomous vehicles - Serge Boucher - ElixirConf Eu 2018</b></h2><h5 class="post__date">2018-05-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/O2gQc4Kh4-Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I work for a company called easy mile
which basically is a software company
that targets driverless vehicles I'm
seeing vehicles in general because it's
we talk about about driverless cars but
we're interested in driverless anything
so we work with both manufacturers of
forklift manufacturers tow trucks even
washing machines eventually common
features and help them which these are
companies that usually build driver full
vehicle and we help them essentially
make driverless versions of them we give
them specs for the sensors that they
should install for the we have our
software that can be installed on
computers that we maintain a nun support
and and then they make it product or or
don't own you continue during guarantee
with us alone
so we mainly a software company because
Alan caffeine famously said people who
are really serious about software should
make their own hardware so there is one
thing that we sell directly and that we
execute exclusive suppliers of and is
the EZ 10 driverless shuttle bus it's it
it's a fully electric driverless from
the start small mini bus with room for
12 people we've been building them since
since the start of the company the whole
company is four years old by the way
starting 2014 and we've been building
them with leisure which is a French
manufacturer and in late 2015 we had a
first public product product ization of
it I would say this is in Singapore in
gardens by the way we opened we opened
offered weevil partners their driverless
shuttle in the
amusement park in Singapore that has
been in continuous operation since and
is we believe the first publicly
available driverless shuttle transport
in the world so we pretty happy about
that we've done a few more since then by
the way we have about 40 of these
vehicles currently on the ground
everywhere in the world from Australia
to stand in Asia and North America we
were featured last week in forbes.com by
the way and the title this is not a joke
ugly but useful which I think it's kind
of amazing that the text of the article
is very positive that's the title that's
what they focus on which i think is
quite awesome because it's a bus I mean
verses are not generally known for being
especially attractive but if you put a
bunch of technology in it and do a
demonstration and seem high-tech it
really you you'll get journalists to go
I don't know what this means but I
wouldn't have chosen those colors so
internally the demo is going great by
the way
it's in Stockholm I believe so of course
internally we were to talk a little
about this we made a few unofficial
logos for the the product and also
product placement things
as as I said my communication director
is going to kill me
but jokes aside we are we this is quite
serious business we're dealing with with
partnering with basically the rule of
transportation companies and transport
operators in in four continents and it's
generally going pretty well so the robot
itself the the sensor and artificial
intentions is is pretty challenging but
what I I was hired to do and what I'm
going to talk to you about is everything
that's going outside of the robot so the
robot of the car that kind of thing
because some of the decisions can be
made by the by the vehicle itself but
some of them are global so on doable to
an entire site so if you have five or
ten or twenty vehicles going on on a
site and you have one passenger wants to
have a ride from there to there what we
have we have to plan the whole thing you
need a centralized architecture above
that which is in generating the cloud
which really talk to traffic light who
talk to different application will offer
monitoring for convention and those
things and we had a few proof of
concepts from the from the get-go but I
thought none of them we weren't very
happy about any of them and about two
years ago we decided to start from
scratch and build it in a new build a
new solution from the ground up we
looked at a few technologies and
eventually settled on it Excel which
which was a bit risky at the time that
it would be now because it was a few
years ago the ecosystem was a bit less
well known the first book at books had
just come out and also at that time we
had about one full time equivalent guy
working of this which was helped me and
have one of my colleagues at the time
but we just went for it and we put this
we we grew the team
and we put this in production late last
October it's been transitioned and it
was it's been fairly successful and it's
no the solution that we built is used to
control all of those 40 vehicles
currently operating around the world and
hopefully if you doesn't know we hope to
sell it in the coming year the team has
grown a bit too this is us last Friday
for the yoga Kotori Friday evening beer
and this is not all this is not all of
us there are two same we have two very
important team mates in Singapore but we
couldn't fight them over just to have a
beer and take photo but yeah that's
basically what basically we built a
product that no one really that never
really existed because there are no
integrated fleet management for
autonomous vehicles and that process is
very specific challenges in about a bit
less than two years while while scaling
up both deployment and team size tenfold
so I won't say that this was perfectly
smooth and easy and things but it worked
out in the end it worked out pretty well
and I want to share the the what we've
learned with doing this and essentially
we have set up this talk has a sort of a
letter to myself and thought about ten
things I really wish I knew two years
ago so just just of out of curiosity how
many of you are using
Aleksei in your data with actual clients
that's a lot more than last year it's
also and so our switch and how many how
many of you have been using it except
for more than two years much that's more
than one year okay okay that's good so
just to be clear so some of this is
going to be it's sort of all levels talk
some of this is going to be fairly
well known stuff for half of you if I
count well some of this will be fairly I
think they're useful some of this I hope
is going to be wrong and you'll come up
you come see me after the talk and say
you're doing this completely wrong this
is how you should do it this problem has
been solved one year ago by thinking and
I love really love for that to happen so
please don't hesitate just to be clear
what we're going to talk about is
everything that's in that blue cloud and
in the middle so this is a fairly low
resolution pictures of one of our
interfaces which you know displays a map
and has controls for all the vehicles
and all the traffic lights and
infrastructure and going on in the
ground at that moment but it's not just
that interface that is important it's
the fact that it communicates the the
underlying backends communicate with
traffic operations like it could be the
wall cell public transportation it could
be Google Maps it could be a large a
large and multimodal
organisators organization tools planning
tools it could be aptly we have a couple
of applications for both operators those
operators passengers themselves and you
know sort of static static displays that
show the upcoming estimated time of
arrival for the next shuttle we have
applications that allow people to ask
for on-demand
buses and we also do fall prevention
data mining
so we upgrade we upload all of the about
200 telemetry parameters to a E&amp;amp;K
database that is going to be out of
scope for this presentations I'm talking
about the whole bluto of the window in
the middle and it has a lot of micro
services and stuff and tag but the the
overall technology stack is probably not
surprising it's not very surprising to
any of you the protocol we use to
communicate with the vehicle was burned
completely from the ground up because
nothing existing could
it had what what we wanted when no one
ever tried at that point to to design a
protocol to control autonomous a fleet
of autonomous vehicle it's same realized
as prote above for performance reason
and we transported for the moment in
tcp/ip we have prototypes on MQTT and we
we're switching to mqtt in the coming
months everything in everything that's
it in the cloud is running Alexia is
implemented kinetics and we use Phoenix
for the part that it's very good at so
mostly as a waste as a westerner api
server and the front-end that we use our
pretty standard react Redux stuff we use
es6 branches or build we have flow for
time checking the test storybooks in
about twelve more libraries you know how
from 10 project are and deployments is
handled by communities and oh cloud
provider is mostly AWS does anyone so
Amazon is anyone does anyone who doesn't
know what kubernetes is just okay who
has heard the name it isn't really
familiar with it okay fair enough
just just for the for the couple of you
kubernetes is docker Orchestrator so
it's a thing that allows you to describe
a service by saying that it's to provide
for example fleet management solution
you need one web server that is this
doctor container that will serve the
front end and one fleet management
server server that is inside that this
is a container that you have to open
those ports and inside there's an ADC a
server that ends of it and a couple more
thing like where artists serving in five
of these servers
I want one new one in Singapore now and
I want you to make sure that these
continuously working and if any one of
them takes two men too much memory or is
stopped responding as a health health
check stops people responding it just
restarted so that's what we are that
that's what we use for deployment and I
defer department and monitoring so the
first of my ten points is varied as I
said will be very straightforward for
for some of you but it's a mistake that
every single one would join the team and
every single one person I've talked to
started ACM made at some point which is
that Jen servers confusing Jen servers
in the nedick's architecture because
it's an architecture to build that and
to make an example of this when you're
looking at the high level architecture
for pilots and for commanding vehicles
it's going to look very much like
something like this an objective we have
a few objectives where an objective is
something to the human beings once the
buses to do very high-level like I want
to versus to do this line we go to
station ADC and DAC back to a and sort
of there forever and there are a number
of vehicles and on the other hand and
these vehicles that understand commands
which are very direct atomic things like
open your doors go through that track
you know turn left 90 for those who know
logo and then you have to build
something a bit more complex like a
mission that will be the succession of
commands that will bring the vehicle to
station B to open its doors and it can
be go to that intersection way to make
sure that this intersection is something
that you have that we thought for you
then go through then open your door so
it's a fine thing and then you have a
plan that is something that is actually
essentially a process this is tricky
process or an algorithm to generate
missions so for example generate the
patient
to be and then use mission courtesy and
then to mission that go through a and
then we pick forever so all of those
things you can we've done this exercise
with a lot of a lot in in job interviews
and everyone sort of converge to
something like this with different names
and that's good it really works the
thing is that everyone was starting at
exhale then says okay I'm gonna make a
chainsaw out of each of these things and
have them discussing past messages and I
have them subscribed to information
coming from the outside like the state
of the vehicle of the weather you but
the the front end is saying and if you
do that you get to a solution where
first all of your code is looks like
this like all of your all of your
functions inside each of your genitals
does about there's very little it just
takes the thing and forward the message
to its former partners like when when
the plan knows that it has to stop it
has to tell its objective it's not
working anymore it has to about the
current mission and has to clean of
activity which isn't something again
something else and you'll see that
there's a very little business logic in
there there's there's very little
actually directly happening you just
phoning messages around and hoping that
things but I think the reason people do
that is that you get when you read books
and blog post about Alexia or along or a
scale by the way it's it's the whole
thing with the whole a small category of
language you get the idea that a
concurrent and distribute systems are
really easy now because this everything
every problem you can have is solved and
as some of you are nodding actively this
is not true at all
what what parents what wrong does is get
rid of one specific class problem which
is shared memory
shed memory access and distributed
systems but concurrency and distributed
and distributed state are still going to
be useful are still going are still
going to be all for a second and they're
still going to be really error-prone
because you have no idea you have no
idea in this specific situation in what
order the different actors will receive
the the order to about them above the
current mission change what they're
already doing and we well we did that at
some time so I'm a bit ashamed to say
and everybody everybody does you have to
be really careful to do that in reality
after a lot of soul-searching and trying
to debug the 400 different sequence
sequencing of events that we sort of
built false also no reason we came to
the sort of pool of fund that you really
need to transfer when and an independent
concurrent process when you have
something outside your system that has
definite that has a definite lifecycle
and you have no other way no other
existing process that can handle it
so vehicle is definitely a transfer they
have one way one vehicle will be that
point of contact with the network
interface of that of that vehicle and
that would be engine server and maybe
conceivably objective in this case it
depends how much you doing but
everything else should be in modules and
functions and pure pure functions again
sorry this sounds obvious I took what I
had to teach this to a lot of different
people and took a while to really
express what's the what's problem with
it the what sort of goes with this is
that all your business logic everything
clever you that you're doing and complex
should go into pure functions and partly
because you have less processes but also
mostly because that makes them testable
if you look at the
if you look at that code before and you
try to put it into X unit and have
something attend sure that everything is
happening as you want it's going to be
really really really difficult to do
because I have to mirror a whole new
position tree with your different thing
with your different actors and then
assert their state every time you do
something and you have to wait for it to
happen it can be done it can absolutely
be done but it's but it's a it's a lot
of work and it leads to very brittle - a
very brittle test because whenever you
try to change anything inside that you
have to change your entire your entire
test because it's not really testing the
whole process it's the whole algorithm
it's testing parts of it and the way you
think lamented it however if you have
one pure function that says if you get
this new vehicle states and the current
plans say this and the current mission
says this and the current objective is
this then you can just answer that the
result is what you'd expect and it's all
in one place it's all in one precise
place and as soon as you realize this if
you discover a great life is continuing
in this in this matter
it it sounds obvious but X unit is
actually a tool for unit testing I know
that that would seem self-evident but
it's not necessarily because it's the
same because it's one tool the one
library for testing this common a
ubiquitous neelix here we tried for a
long time to do what would be
integration testing and you know trying
not test the whole system that try to
combine different actors and make sure
that we had the behavior we wanted and
we we had to do that we were obliged to
do that big
of the architecture with which we needed
multiple actors to do to actually do
anything interesting and well it's not
very good at that next unit is a very
good is a great library for for testing
pure functions or accenting things about
a single actor but if you try to do a
little more complex integration thing
you quickly run into flaky test three
because the isolation of the different
tests is and what you'd get for example
in Java or most languages that you
usually have you usually have or you can
have a sense to defaults it's an
environment for each test suite and
edits it doesn't do this and it's stupid
it's super confusing the good news
though is that extremely it is very good
for very straightforward pure unit
testing and you don't actually need
medium tests you don't actually need
tests with three or four actors that
collaborate we try to do it follow for a
long time that actually why the usual
you know that sort of matching folder
testing pyramid assume that you have a
lot of unit tests because they're really
fast and you have a few integration test
that tests a little sub modules then you
have just one or two your itís because
of full N is very difficult to to test
and very slow well that wasn't our
experience we we ended up doing just
unit just unit tests for the business
logic and pure functional style and then
we built on really end-to-end tests
where we just paint the vehicle and fake
the front end and just push on the API
and see what goes out the other hand and
to make sure that would be a pure black
boxes test and we wouldn't be tempted to
assert things about the implementation
we will tell all of that in Python so
you can directly communicate with the XA
thing and it's a bit of an adult
solution I guess this is one of those
things you know as much the first three
will be distributing that we did at the
end that I hope someone will not do
they've been to this talk this is
something I'm a little less sure and I'd
love your feedback if this did if
there's this architecture seems fine oh
you have comments about this but our
experience in sense this is that with a
relatively fast integration intuition
acceptance test suite which runs in
about two or three minutes we get rid of
80% of regressions and we have its pure
black box so we can change everything in
the architecture of the elixir side
while being sure that we we still
compliant for those things so that has
been working really great for us I hope
and we continue that the fifth one is
that model life is not a bad word we had
this especially since we're doing
kubernetes and we have all these darker
things and we can have micro services
everywhere we started doing micro
services everywhere you'll have this
implement in independent things and what
used to be that blue cloud I showed you
at the beginning was actually a stack of
different stuff we had a gateway which
was in a gateway Chas in Eric's an actor
base we also had that just download the
vehicle to connect and then forwarded to
other different services which would
push to blk and do other things
the main one was something we call the
fleet manager which did the whole
objective mission plan things that I
described in the first point and then
that would but in a very sort of
abstract sense and we moved from user
interaction and then we had a control
center that was essentially Phoenix in
practice that would convert things from
the front end in breasts to things that
that fleet manager could understand and
then the front end which was obviously
JavaScript but those three things were
essentially three services internet
Excel in each one deployed in a
different VM in different
contain and we treat the deployment and
we iterated a bit on how these different
things communicate together the Gateway
and fleet manager use the protocol a TCP
IP protocol very similar to the one the
vehicles used and the fleet management
control center used distributed among
actually observe over distributed around
and we know how to do distributed along
over kubernetes
which is a great thing and it's almost
magical in quotes and so there's a bit
of of tweaking to do but it's quite
amazing or what it worked when you sort
it out and we experimented with
different types of libraries to do that
and then at some point someone just
raised in hand his hand at a meeting and
when guys why are we doing any of this I
mean we have different services that are
all implemented in the same language
that want to talk to each other why
don't we just put everything together
and you know the the response was I
don't know service-oriented architecture
and separation of stuff but we should
try we should try it just putting them
together in a single in a single VM and
see of things work it turns out it works
really well and simpler that way and
it's not at least simpler that even
though so what we have is that
everything that is it everything that's
in index here it's now in one single in
one single VM from the other side and
the basic the silver lessons learned is
that when you look at drak Orchestrator
and the micro service architecture and
we look when you look at gen servers and
act oriented architecture inside VM they
look kind of the same they're both the
same and alexei itself well along the I
should say beam is actually pretty good
at isolating difference so this has
written different services and making
sure you restart them as when some of
them
those crashes or does something crazy
and message passing between them is kind
of the same thing as rest api is between
micro-service but it's actually much
much faster a you know doctor is pretty
quick at restarting but it's orders of
magnitude slower than the advance about
crashing that would restart and as you
can envision tree creating itself also
it's a lot easier in this case to move
code around which means that if you
somehow miss misspelled your problem in
your architecture from the start and you
want to move some of those concerns and
responsibilities from one part of the
Alexa code to another
it's much much easier than doing this
across across
microservices and so you do it and so
pretty soon your teacher who will
actually be even though it's monolithic
much more separated than which multiple
self-contained element so well do that a
sixth one is one way I would like to
whine a little bit there's a lot of
there's a lot of tutorials and examples
and books which sort of assumes that
you're going to depot to Heroku because
you're doing a web app and your vehicle
when you're doing it charge or something
and you're awesome and you're gonna be
the next Facebook and that's fair
that that's nice but I've used a worker
in the past it's a great service but
sadly we can do that and many people can
do that we need we have different
clients we need we need specific
versions of them we have kinds of the
the software we have clients we need who
absolutely need or software to run on
their own server that is isolated from
the internet we have to be able to take
version the version 17.9 for with be for
this client that we had a while ago and
since no in production and have it run
on the local machine to do some testing
and see if it would work with the new
version of the software the vehicle for
example
and when you do that when you have to do
that you have to go into distillery and
conform and so do runtime configuration
and I was I had a lot of things to say
about that and then I watched the talk
from Albert sac yesterday about can't
deliver your code while it's out about
continuous delivery with with Alexia and
I most of what I wanted to say was was
going to be redundant so I cut it but
the short the short version of the G I
hope you'll be able to those who missed
this talk will be able to see it very
soon the short version is we don't
really have a lot of accepted clear
version of doing runtime configuration
that works with most libraries that that
every library that you want to use and
that's well I'm that's something we're
trying to contribute to and improve from
from our side I have high hopes for the
next versions of this theory that it's
something you have to be aware that it's
something that will heat a little at
your time as you as you're trying to
deploy and deal with these things the
flip side of this is if you can have one
single version in production and you can
use our code and do it it's simple seven
things a little whining as well you
often hear that Erlang gets 30 years old
and you'll get good libraries for
everything you need this is not true
you'll get very good libraries for most
of what you need but probably not
everything if you have if you have
fairly wide need regime in most
situations at least in our experience so
we ended up writing around protobuf
encoding and decoding library and we've
open sourced it some github on a DC mais
github website not because the libraries
didn't exist but because they didn't we
didn't match on specific need on
regarding performance and type checking
it's just a specific combination that
donor addressed before
there are other things where we would
like libraries to exist and it's too
much work for us to do them sadly one
example is we have a tool that allows to
create new deployments and monitor
deployments and it basically calls the
kubernetes api and calls helm api for
those who know about this and there are
no existing it accelerate along
solutions to do that and implementing
them because helm is something at Google
developed and it's a bit it's a bit
involved would require a solid
implementation of various features of
HTTP 2 and GPR C so Google the GRDC
Google remote procedure call so yeah
that would like to do it we don't really
have the bandwidth to address those
things now so we build that to the tool
that we have right now is an etic
schedule that just calls the Elm and
cube city of binaries from the cell and
call I think from the southern ethics
here's some things you brie generally
don't want to do this generally not a
happy experience so in retrospect that -
that that specific tool should really
have been written something a little
different from Alexei I think go long is
the obvious one because it has hold all
the libraries it's something you have to
be aware aware of and you have to be
careful about and you know this is like
4% of our code base not a huge deal if
focusing of your code bases and
headaches in the behavior we to be aware
those kind of thing and try to divest
them as you go along in a fining the the
cumene the the coming age sacrament is
really great and sorry for pandering
that it's it's it's true we asked a lot
of questions on the alexey forums and on
slack and there are generals are really
fast we try and know that we have
learned a few things and the other that
more experienced we try to give back and
answer the questions to be fair though
well the sort of the flip side of this
is many other questions which are about
about configuration and distillery and
obscure obscure needs about conform and
still we just couldn't be answered
because it's a problem that nobody
really had before it's a combination of
problems nobody really had before so
it's the communique is no some with all
trying to learn together but you know
sometimes sometimes don't
and hurry enough the ninth point is that
it excels fast enough that's part of the
reason part of the reason we had sort of
the micro services things plate across
many thing was that we thought we had
many we had graphed results to do an
optimization and you're sort of
travelers to travelers problem so we
thought we really quickly will need to
offload some of this stuff to something
returned in C++ or NGO or something like
that and actually we never needed to do
that and we have a lot of headroom right
now and we don't have any performance
problem that couldn't be solved by just
throwing more code at it and performing
more chords at it and an optimum is
amazing a little so compared to previous
experience in wales and python the
difference is quite spectacular
and that's again don't be afraid of
performance issues and unless you have a
really high high computing mean and then
you know do some testing yeah you may be
pleasantly surprised the tenth point is
something it's more than anecdotes that
I want to I want to say being able to
log in on a production server and just
doing do inspection and see what's
happening and white code live
is it's quite amazing it's useful in
it's very useful in debugging it's also
very useful in it's also very useful in
real production needs so we have that's
also something I probably shouldn't be
talking about that we had a demo
recently that we did on a really small
really small cluster kubernetes cluster
well there was also an e lk provided
burning and that that DL cane database
got a bit overwhelmed so or essentially
publishing node that was pushing to to
LK God it's it's its message you started
to go and usually we let that happen
you let that happen because you're
absolutely don't want to lose a message
and if you were ever done with program
graph other ways to attempt other ways
to identify this and scale ahead of time
here it was you know it was a new
version of the software it hasn't been
fully tested that we were still
demonstrating some of it to two clients
and we just loved them through the
system and saw that this was happening
and you just wrote a bit of code to live
- in real time just cut that message
queue and drop that message queue as as
we go along so I wouldn't recommend
doing this generally I certainly
wouldn't recommend planning on doing
this to software phone's program because
that's not it I'm just saying that if
you do this for a while and you have to
demo experimental version to real people
one day you're going to do something
like that I would be really happy for
the really glad for the possibility that
and the language that supports this I'm
running a little ahead of schedule
driver so I have bonus five bonus points
that I would like to to add my
experience has been that compiling in
Excel takes a bit of a time especially
if your dependencies on
and stuff and if you write also if you
write codes with quite a bit of macros
it can it can add up and because of the
way because the way configuration can
affect virtually any of the dependencies
you have to recompile very often and I
understand the trade-off
I mean having computation time
configuration is awesome but but when
you'll be compiling your web server like
COBOL for the 12 times in the same day
it can get bit it gets a bit frustrating
so I'm mostly asking I I'm I'm mostly
saying I miss Java files a little which
is you know a blob of compiled thing
that you know you can just import and
use and will always be in the same
situation and I'm curious about what you
guys feel about this and if you have a
solution or just in the way you deal
with it we've tried a little sort of
move bean pies around and it doesn't
really work so if it's just if we just
lazy and impatient or if that's a real
problem and some other site is on how to
solve it
another one I don't know this would be
well-received or not depending on who is
in the room that Allen programmers are
also men you need one in one one side of
it is that darling programs can be very
annoying I don't want to stereotype it
that they really are that will tell you
that they will tell you that you know
alex is just syntactic sugar and
something it's just something out of it
doesn't really change much and like that
it has the macro system is awesome and
it really has more concise and no nobody
needs it stuff you know language design
clearly peaked in 1986
but they do have kind of a point which
is most of the problems you have with
architecture and runtime configuration
production things are going to be
problems and challenges that they've
been working on for decades and
essentially solved so if you can find a
godown and programmers with years of
experience you want one on your team in
completely unrelated note rehiring and
and the last thing is a penalty I
availability is built in which is a bit
of a bit of a tough claim but actually
as this talk is called building a high
availability platform using it exhale
while I was reviewing the slide was we
are realizing that I'm not addressing it
very much as I feel it yes you usually
do and that's because my experience is
that when you don't do anything stupid
when you avoid the different events that
have tried to point out and you
essentially trust the along I am and yet
extend the access system to do the right
thing you get I enough availability for
all purposes correctly so you have you
have things dropping and restarting but
they we start scripting or they we start
quickly enough that from the point of
view of your users and your and the even
the vehicles and then the robots things
are fine we had we had plans for a long
time to do true of to replicate the
service to have the whole fleet
management like be ready in three
different instance and just load balance
from one to the other and it's
completely used as such we don't do that
if you have your supervision treats set
up correctly and recovery procedures
that are fine
and the client site on the other side
which is kind of aware of what happens
when something goes wrong and the system
restarts none of this is trivial at all
but if you do that correctly and trust
your you know super you know your super
interesting tree and super vision
strategy then it will probably at least
for all news cases it completely fails
so that's most of what I had to say I
just want to come back with one last
quote not for my computer scientists but
former from the financier a colleague of
Warren Buffett and I just love this
quote it's it's remarkable or much
long-term advantage people like us have
gotten by trying to be consistently not
stupid instead of trying to be very
intelligent so I don't think there's any
bit I would say of these last 40 minutes
that has been exceptionally intelligent
but I do hope that it helped will help
at least some of us be consistently less
stupid and avoid pitfalls and if I did
that well it would certainly worth my
time and I hope it was worth yours so
thanks again to all my colleagues and
okay we have we have five minutes for
questions
hi thanks for the talk first of all when
you were talking about mystic libraries
so one thing you mentioned is protobuf
and since we were using protobufs since
I don't know 2015 and also in production
without issues on the using the export
above library I wonder to what issues
you encountered that made you actually
write your own Oh
so the question was what was the
specific needs a specific need we that
led us to write alone for the buff
library the more the clearest one was we
didn't have strict the the two libraries
that existed at that time were well not
especially
fast and alone is about three times
faster encoding and decoding if I'm not
wrong and and also they liked types they
liked strict type checking which means
the product of what we do what products
or library does is that it decodes every
minute defines of Alex a struct for each
mass product event bottle of messages
and it just appeared it just appears as
Alex here in in as as an editor struct
which has a specific type and get can be
used can be used in pattern matching and
stuff more more incident we thought more
user-friendly ish well developer
friendly ish then the solution that
existed and especially exportable which
was the big pattern parts of parts of it
as personal taste
you know export of a food at world we
believe on solution was better for
specific me
was it I firstly thank you very much for
an inspiring talk it's refreshing to
hear somebody using Alexian production
for a long time and he actually very
stable we need that confidence for
somebody new to your ex here to me
like me I have a question here so the
point 13 not all talk alluded to the
fact that I think you're not using
Erlang cluster at all right and you're
only using having one instant of
production server and you essentially
bet in the code to which I again if the
production server doesn't reply in a
certain amount of time and then work for
the 4q Bonetti to weave do we start it
is a correct yes that's of that that's
essentially correct the the reason we
confident with it is that it's it's now
been used on as I said on many many
sites all around the world and we have
very good for the very good performance
metrics and monitoring on these and we
can anticipate most problems but yes
it's it's not gonna be at this stage
it's not gonna be on nine nine ten nine
twelve ninth things that that you for
this you would need you would need of
course redundant along VMs and stuff we
don't need that much right now and we
have you know we alive the data that
shows that it's it's enough for the
needs we have okay last question and
then we'll have to wrap here yeah I mean
for me I wanted to ask how do you
actually control the cars like is this
are they're not outside AMA so they're
like control past server and that's why
you have mentioned all site using
general service for anything passing
messages
just interest why don't talk more about
talk more about what the driving
driverless car things all done the
commands but yeah just just interesting
how you actually control because they
use yeah we have so each of them goes
well first they can be completely
autonomous we have we can take some of
the the fleet management part especially
for vehicles which are alone on on a
single well-defined sites we try to we
try to avoid it because we like the
telemetry mostly but that they can be
completely they can be they can be
completely autonomous it's just that if
they're completely autonomous they will
just have a set line and never deep dive
out from that they will all st. have
what the remote management tells us to
do is to react dynamically to a customer
passenger request like somebody would
say I need some I need a car right now
there and it will just divert one of the
other data currently you're doing what
line so that and is it needed because
they are not many personal desire and
just goes right at this point event
answer if you want more about the
technical
really sense sensing and location
technology I can talk a little about
that offline it's not my it's not my
field of expertise but you know I've
been hanging out with very smart people
so
okay so one last round of applause for
search
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>