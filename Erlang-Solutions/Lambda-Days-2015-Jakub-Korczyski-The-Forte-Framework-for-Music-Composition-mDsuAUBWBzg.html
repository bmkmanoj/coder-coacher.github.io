<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lambda Days 2015 - Jakub Korczyński -  The Forte Framework for Music Composition | Coder Coacher - Coaching Coders</title><meta content="Lambda Days 2015 - Jakub Korczyński -  The Forte Framework for Music Composition - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Lambda Days 2015 - Jakub Korczyński -  The Forte Framework for Music Composition</b></h2><h5 class="post__date">2015-05-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mDsuAUBWBzg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">audience booing able to search this
wanted to distress that you have broken
ya Yin is enabling the party supporting
imagine you got to take the sugar which
is awesome whereas if you transfer to
the other store why there are two
different interesting things Percy's we
don't try to make personal stuff we just
try to let people take that enough time
don't fail yes that's the way the same
they do is they just did you try to
supply us with everything they just try
to see focusing their some techniques we
hope to the certainly do
the
podesta that's the bar so much Rostov ah
it's okay what they toss the ball yeah
happy okay what that us something
the new tacoma beautiful pictures the
panel right this is one we are about to
begin I should say it's very very loud
so that I have the ball outside the next
stop will be given by coaching ski and
it will be about the fourth the
framework for music composition please
welcome our speaker okay thank you very
much I'm very pleased to give this talk
for you today because i'll be speaking
not only about functional programming
about Haskell embedded dsl's but also
about music one of my passions and i
hope you thanks to this talk you
understand more about music and maybe
you also become fascinated by it like me
and so I would like to start with this
quote from igor stravinsky who is a
renowned composer who was a renowned
composer from the 20th century famous
for example for his valet rite of spring
and he had this statement that art is
the contrary of chaos and what this
means what I think this means my
interpretation of this quote is that
especially nowadays in modern art modern
music where everything is allowed you
can do just about anything it's not like
in medieval times that you have had the
church impose certain rules on what you
can do what you cannot do what notes you
can use what sounds you can use now you
can do anything anything is possible and
in this world where anything possible
how can you communicate with your
listener if you can just put some random
notes that are
incoherent and how can you and
communicate with your audience if they
can't understand your language so I
think this is what Stravinsky meant when
he said this that it is very important
that you impose certain rules certain
frameworks and systematics on art that
you are performing it's me it can be
music it can be painting it can be
anything okay so the first thing i would
like to start with is the definition of
the problem here we have our national
pride chopin playing the piano and here
was a virtual piano player and in my
opinion the problem well not only in my
opinion but many people throughout the
ages have tried to grasp music and try
to analyze it try to understand it more
fully than just at the level of emotion
well we have a little sound problems but
this is the a minor a cube by Chopin and
i'll try to show you how we can map this
piece of music that is really just a
sound wave two numbers so that we can
further analyze it through mathematics
and like I said before people are trying
to do try to do this for ages trying to
better understand musical styles and art
itself not only in music and when it
comes to my favorite domain there's a
marshal solution for this and that's
notation and that piece that we've heard
a moment ago that for some less
musically inclined may be very even
abstract can be noted like this in
classical classical romantic notation
but in my opinion this is only a partial
solution because at first glance we
don't see the patterns if somebody is
trained in musical analyst then he can
just just by looking at just a short
glimpse he can already have some
conclusions about this piece but for
most of us it's not that obvious what we
can do is we can take the notation you
saw earlier and map it onto numbers like
this and I'll explain how we do that
later on but we can do even better
because you can take it to the next step
next level further normalize these
patterns and we start to see various
patterns emerging here and I also tell
you how we can do this and going even
further we come to this
and it turns out that that piece of
music that may sound to some of you very
complicated very virtuous okay no plane
is just simply the chromatic scale and
some minor major chords in the car hard
so what this really is about is taking
the sound wave taking art transform to
some no notation and then further on
through numbers and applying mathematics
we can see that in essence this can be
reduced to this up there and now to some
somehow aid composers and musical
analysis in their quest for learning
about music for composing I propose a
framework a framework and a set of tools
to languages that enable you to do this
process efficiency it's called a 40
framework and the whole framework
consists of two embedded domain-specific
languages the first of which its task is
to manipulate on the pictures we saw
earlier in the notation we can take
those pitches and the whole part of the
dsl is to transform those pitches into
numbers so we can have this mapping and
can later on process those numbers the
thinking in mathematical terms and not
in musical abstract musical notation and
that's the whole point of the first of
these languages and the name comes from
the surname of our Forte he was
musicologist that took together the
writings of Babylon
and proposed what we came later known as
for the theory of musical analyst and
like I said earlier all we do here is
map musical notes two numbers and how is
this done if we take into account let's
say the classical and music notation but
everything we have in pop music rock
music jazz music all the popular music
classical music most most of the things
we hear and i'm not talking about very
experimental modern music right now we
have just 12 pitches because we have
something like octave equivalence
meaning that every time away doubles in
frequency we hear it is almost the same
pitch that's why we can basically reduce
our analysis to only 12 pitches so what
we can do with those witches we can just
label them as numbers and when when we
have those numbers that's and that when
mathematics comes in and we can further
analyze those numbers based on
mathematical dependencies between them
so in essence for thurs theory maps
those pitches of any musical piece to
what he called pitch classes he does the
same with intervals intervals are the
relationships between individual
individual pitches and later he groups
those pitch clashes into what he calls
which class sets bitch class says like
the name suggests are just sets of pitch
classes and it occurs
of course a Senate number of them and
what fort I did he propose a
classification of all those which path
says so in the end we have a nice
structure eyes and mathematically based
a classification of various musical
structures and possible interval
combinations which is very I think it's
a very cool thing because we let me try
to later analyzed a piece we can really
find out what it it's intervallic
content is and its essence and how it
should sound so the process and what it
basically does if we take a piece of
music like this claude debussy I think
this piece was also the first part of
Twilight if I didn't bury watch that
this is just another example we take
this piece and we see that in essence
it's only these two pitch classes so
again this is a pitch class we have
individual bitches starving from sea and
these are their labels and we have them
grouped in a set so you see that in a
piece like this we have two structures
one that has three pitch classes one
that has four and we seen the structure
and the relationships between the notes
thanks to this mapping and so summing up
when it comes to for taste dsl the for
the dsl part what I've done is I
systemize the theory there are some
minor mathematical let's say
inconsistencies in the whole theory and
I
I proposed some techniques for the
abstraction of the domain but I won't go
into detail now because I would have to
take more time into explaining the whole
concept of how the domain can be
abstracted advisors levels to like it
stated here avoid a much boilerplate and
allow for interpretation swapping so I'd
like to now cover and the second of the
languages and it's a language focus on
grass and both of these languages in the
framework are really independent of each
other and I will let her tell you why
then but in when they when they come
together you can use them for musical
analysts and composition so you know we
have to grab the cell which is going to
be a language for f manipulation but it
will also allow us to grasp the
construction of a musical piece and I'll
now show you three fundamental concept
of any musical piece and how we can map
those concepts on Telegraph ok so the
first thing you want to do like i said
is modeling music as a graph and we have
three things you have to deal with first
is time and a graph is good for in my
opinion for modeling music because we
can if you have a directed we have a
back a directed acyclic graph we can
treat the depth of the graph as other
point in time so i'm going deeper into
the graph we progress in time and that's
the first thing the second thing is the
vertical planes and
so if somebody a musician tell is
talking about harmony and for example
what he hears is in court in a given
point of time that will be the vertical
plane so if we then go through the take
the whole whole one level of the graph
and check all those structures all those
notes on that level and we arrived with
the harmony at a given point of time and
the third thing is our horizontal planes
and musical path by this I mean and in
for example if you take classical music
it's the harmony is there's like you can
say one harmonic plane it's quite simple
in more advanced modern music you have
many harmonic planes they can be
independent of each other you can for
example have some my inner major harmony
at the top some moral harmony at the
bottom some jazz harmonics in the in the
base and you have to have a way of
modeling that and in the moment i'll
show you on real notation how this looks
so to give you an example when when
using this graph dsl finally we get this
graph that's a picture of our musical
piece and in the note what we have here
our pitch class set so this is form for
thur theory but like i said languages
are independent i could for example have
your just some tabular notation or some
other Western Eastern music notation or
anything else watch it together you can
use them for forte analysis okay so
once again the first concept to show you
an example so the musical time window if
we have a graph like this we can
interpret it in time in various ways and
this is a proposal because this is this
is the Chopin piece we heard at the
beginning of the top and for example we
can treat four levels of our graph as a
whole bar of music and so we get to each
level as a quarter note but of course in
modern music we have the notation out of
quarter notes and me a whole note but we
have for example we can put a specific
time frames like three seconds that some
musics has to last 10 seconds 5 seconds
so we can treat this as any time
interval we really wish to so this is
this graph model in Hawaii abstracts
from concrete time we can later as
composers set the time as we wish to so
we're mapping it onto this piece by
chopin the attitude and a minor we have
those quarter notes and those bars and
it's quite an obvious mapping but what
what's also important why do we have to
have these levels and these are our like
I said earlier vertical planes so if we
take this you can think of this as the
music we hear in our point of time
because music is a very specific art
where time passes and it
it all happens in relation to time so
this is very important analysis that we
can stop frame and and see what what's
really going on at a given moment of
time and this is the same like in
notation we have that quarter note and
also the horizontal plane I mentioned
earlier we can divide our analysis into
for example two parts like in in case of
Chopin we have the melody and the
harmony very very classical setting and
you can see it on the notation it's a
harmonic analogic at the top ok and I
won't have much time to go into details
of the code but I want to show you a
real example okay so just to get a feel
of how the dsl final looks like if you
if you want me to tell you more about it
later you can catch me in the corridors
and i'll gladly explain and this is how
it looks like but in a few words what
we're doing here is we're applying
transformations on our structures this
for example is transposition very simple
and fundamental musical operation where
we take a piece of music and transpose
it so we add frequency and but we take
the whole structure and add frequency to
all the components at the same time and
when we have something like this which
happens to be this
we can map those time values I talked
about to receive this and we can find
some very good kind of player you can
receive sound so in the end we have our
countries okay so thank you if you have
any questions feel free to ask me after
time still have some time for questions
yes very well this is supposed to be an
article in the journal here but I'm
still I'm still working on it but I have
a thesis yes it's quite long a lot of if
you link an email i can send it to you
did you bother using wavelets for your
problems or that's yes for for
representing music some kind of notation
okay so my focus was more on the higher
level not operating on signal if that's
what you mean I rather focused on in
this project on pitches but you can also
easily extend this project to for
example rhythmic values and so on but
it's it's not about low level sound
synthesis but rather on like I would say
a typical composers approach more on the
higher level just come on questions and
comments focus your framework well as I
understand you that was the purpose for
which the framework was developed to you
develop that framework because you won't
prevent another way to understand the
music yes understand but also to reverse
the process and be able to compose music
thinking the other way around not just
that we find some piece of music and
look at its structure and find
dependencies should go well maybe 10
years ago well I well do an element with
the years you can nearly chopped
musicologist and while the first
observation is that when you freeze us
want to differentiate between let's say
Japan music or Chinese music and well
Hulk European
music on the most important things are
what just some small pieces of music not
the music as the hall but some different
and specific for different types of
music intro parts if you wanted for
instance use your free work for on break
a dramatic recognizing music you
probably to focus on various parts of
melody or music not on well the classes
or phrases in a mallet or music well
just well one comment then it
accompanies I'm not sure whether you are
aware of another languages that was made
or developed for the purpose of music
analeigh analyzes or are well used to
understanding one of them is as a
software ethic language as a kiss an
abbreviation Australian member of essen
or associative codes it was developed by
fully France carries a german researcher
and well this one which as a language is
used for musicologist to write down vulc
music from different parts of the world
in europe in particular and analyze and
find the differences between different
types of faulty musics so if you are
interesting in that kind of well
software or databases will let me know I
well I comics for people who could deal
with stuff ok that's ok
sure so you can represent quite complex
uzak with some simple data I'm wondering
if you try to fit your advert or some
random data and then sell music okay
well I didn't do this in this project I
for example try to generate music out of
fractals just take fractals and map them
in some way to two pitches and rhythm
and sometimes the pieces sound like
they're cool well it depends on a little
bit of the lock of course and the map
and you provide but in this project I
want to focus less on like algorithmic
generation of music it's more for really
for composers so that before they start
for for example writing a symphony or
something they can first lay out the
whole structure and the form of the
graph I showed you so at least the basic
harmony is is visible to them because
the problem modern music is that you
don't have the safety of the major minor
system or any other system at your
disposal it's rather that the composer
has to think of some some of his own
stuff it has to be yes Jeff is
individual system composing system
composing method harmony and so on so if
it's an eight to those composers because
they can easily plan the whole piece
using this graph structure they can
think of some harmony some structures
they like and they can construct the
piece from scratch without the aid of
any fixed system that already exists
they can create their own systems with
ease right thank you very much the
center speaker once more
just ministry okay all right so we know
just detectable break one of two minutes
okay so much i love confession is nice
let's email read answer top of the
diplomat in san francisco novel
we are almost ready so let's start this
resistor mr. Roth us to eat ski will
toss it is it possible to run her Lankan
32 kilobytes can you hear me so before
we start I have a very important warning
for you does this presentation contains
the Internet of Things buzzer so if you
think that you're allergic to it you're
attending at your own risk formalities
continued well in this very short
presentation I'm going to ask the
question that you have already seen on
the first slide so is it actually
possible to run airline virtual machine
using just 32 kilobytes around I'm going
to explain why I asked this question
about 18 months ago and I will obviously
try to answer it somehow so besides
being a speaker right now here who
actually am I I have recently graduated
from this university although not this
particular faculty for some time now i
also have been working as an airline
developer at airline submissions
spending most of of most of my time
developing stuff related to the mongoose
IM xmpp server and also as you could
have read on
the lambda days website um I call myself
I wouldn't be embedded hacker and by
this I mean that well I have no actually
no theoretical knowledge I just like to
play with cables and stuff so that's the
infamous IOT flights so the current
research shows that right now there are
almost 7 billion connected devices
around the world and this number will be
even bigger by 2020 and it will reach
about 50 billion so if you think that I
made up these numbers or I also attach
the source you think that I made up the
source as well well there's one thing
that we cannot deny and that's something
that I call a something like embedded
bubble which started like about two and
a half years ago when the first version
of Raspberry Pi was released and every
high level language program we started
to build its own embedded stuff on top
of Raspberry Pi and similar boards so I
was not an exception and since because
of this I call myself I wanna be
embedded hacker well at the same time
actually I was thinking of my master of
science project topic so well I thought
what if I actually can write some
embedded cell using airline well
obviously it would have some pros and
cons well pros like I can very easily
prototype stuff and I don't need to
worry about memory management
concurrency so on obviously it would be
very slow because of the overhead
garbage collection and yeah so obviously
since this is a research frag I had to
do some research what has been done
before in the in this field well
obviously the beam virtual machine that
will Iran when you type arrow in the
comment line was somehow develop for
embedded stuff for 18 pitches originally
but well it uses
Oh almost 30 megabytes of RAM if you
started just if you started with OTP
loaded and a little bit less almost
eight megabytes when you just load the
necessary modules that was too much for
me I wanted to run it on bare metal so
the raspberry pi like boards also were
not a choice since they're using a
full-fledged OS like Linux or UNIX yes
at the same time there was a work an
effort to build any iOS ciertas port for
being virtual machine and well I thought
that was really nice unfortunately the
always itself is a proprietary one
although the bean version of 40 se but
ose is mmm it's an open source so I
thought that it's not using the footage
of s just a microkernel so I thought
that this is a good way so I choose
another one that is not a proprietary
it's an open-source microkernel so i
actually have chosen freertos
microkernel and I basically decided to
write the Erlang vm from scratch well I
thought that it's pretty nice using just
235 around when you started and the five
to 10 kilobytes of flash if depending on
which modules do you chase and also
provide some useful attractions at least
in terms of implementing and airline vm
from scratch like scheduler or memory
management and I at that time I also
owned this little ping an LPC 70-69
microcontroller with 50gb irm cortex-m
free cpu on onboard and that was the
only a RM that i also i chose this one
so it has got 512 kilobytes of flash and
32 kilobytes of RAM ok let me tell you
you on a journey through how my MA she
was actually developed but this is a
every textbook every airline textbook
example of a single module that I bet
most of you can implement it test it and
compile it and test it in like two or
three minutes or even less a simple
factorial calculator function that
calculates factorial value however what
I wanted to do was to simply compile an
airline module on my laptop like this
one and execute it on an embedded
machine so well the code that you have
seen on the previous slide is not
something that the airline game
understands well it won't into more
similar to this it's a human readable
version of byte code</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>