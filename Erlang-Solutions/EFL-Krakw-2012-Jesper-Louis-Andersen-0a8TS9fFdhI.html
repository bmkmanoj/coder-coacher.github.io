<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>EFL Kraków 2012 - Jesper Louis Andersen | Coder Coacher - Coaching Coders</title><meta content="EFL Kraków 2012 - Jesper Louis Andersen - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>EFL Kraków 2012 - Jesper Louis Andersen</b></h2><h5 class="post__date">2012-05-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0a8TS9fFdhI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this one was about rain 11 games with
her and his 8y projects
which I've been working on for ya a
couple months now and this is basically
very presentational what I'm doing for
for the ISA these two months and they
are suppose to rain 1v1 games which is
basically things like chess like go with
you starcraft yours quick like you also
stuff like that all these kind of games
are one clear place gets another player
and we want great so ranking here means
that we want to try belief and that
belief is what is the skill of this
player and we want to do it based on
historical dates that's basically we
want to do it back in time and predict
how group this play out that this player
is in the future that's the essential
idea we want to use it for two things
basically we want to use it for figuring
out what players the best player for
some or make sure of that and we want to
use matchmaking basic basically we want
to find good matches we want to find an
opponent that is equal skill as the
agreement we have right here such that
we get a good match that's another
important thing because it's not funny
just to get BMO and we are going to use
one recent measure we're not going to
look at games we're not going to look
inside the game
for Star Trek team looks at actions per
minute and stuff like that we are
basically going to say did he win digit
I use this con rating system called
arrow an arrow is pretty simple system
it was they made by a Hungarian and and
you can see see that yellow is used for
a lot of this ranking it was the basic
ranking system for chess and students
it's used by many games so when people
create games they usually employ and a
low rating system the way it works is
basically that you you put in a rating
for these players to say they see me
work interesting so now you'll see so
basically you have thinking clearly
right and who might have 1500 rating
this play out here you might have some
worry into the speed say and now what
you're looking at is that if he wins
away that's my Leslie thing we expect
because he has already made so much
higher rating money so what the duels
will move your de lune rating will Lady
Lucinda liberating them then that's the
new dating right it is the opposite so
they claim we expected to do some delays
when moving but we're moving from will
actually do them up I founded this
when we buy down by a pretty large bid
again because now we are setting the
system alone as a specific weakness
which is for not weakness it's made for
me easy to calculate by hand so one of
the simplifications of the system is
that you assume that reaches base there
is known to see you around the two
players which basically says that we
think is the reign of the fear but it
might actually be here just for the
smaller probability that's the basic
idea so this kind of kind of the
weakness of if we have a player that has
32 matches played on a therapy that has
157 matches played should we have the
same belief in these two players know
the confidence in the deepest would be
much higher people have many more games
for that players we know more about him
and another thing is if create is
regularity place where you just came
back from say a 4 months I asked us
where he wasn't there should they have
the same rating probably not we don't
have as much confidence and play heavy
and then the final thing is that way my
consistently be beating place of his
rating which means that player is not
setting up the system which is basically
chilling cheating a hold rating system
that might also be a problem so linked
to is a trellis rating system made by
named Markie click man and and this
system tries to cope with some of the
problems of pillow is actually and what
it does is that are try to not one two
three burgers wings burgers address bar
which is current rating a locator
interacts a variance in rd and it tracks
able to measure so so the rd rating is
essentially the idea that here the
various the space but what you might
want is if you know
might actually know that its various
like this because you have a much larger
competence or that you've got the right
kind of raining on the other hand you
might have actually had the variances
from this the country very little
confidence in that particular player so
we track that as well and then we track
this volatility measure which is
measured basic measures how much this
player discreet the system of tricking
the system it is costs consistently
eating mayor's office scale this
probably not right which I had to move
and this volatility very sick man makes
the pseudonym able to cope with FX
changing player Flair that improves more
quickly than what the system can can
actually work with so I said most of
this we have a player weary for him as
it all not his rating but the an
internal ground-based with this variant
we start players out at some very
standup values and then we have a 95
personal confidence rating in the range
and that range means that a nuclear will
have somewhere between nine hundred and
two thousand two hundred points but we
do not know where there has ghost play
games we should hopefully see that ready
to get adjusted to a
when his variants the variants that
table to go down because of crankiness
and then if your schooling system will
increase the signal aggregate meaning
that the next waiting this is the basic
idea of this ecosystem made by different
so quick ly is this modern update of a
quick free engine and it's a game of
white high school there's a high ceiling
so from the worst players of the various
that's very very fun perhaps as fast
inches the game can best be described as
just plus hand-eye coordination sense
that you have to have a you have to
react quickly you have to have good
coordination but there's a lot of things
which are not about this thing for
instance your decision making your
position levels what items you peacock
what weapons you pick up where is
respawn at certain time in the game so
you have to be back there and pick them
up again so there's a lot of things
where we have to keep friend here time
things in this the game has many many
Polish players actually it's the third
biggest nation of Quakers and which is
my quite fitting being here than talking
about anything and so the thing I do
we'll start by saying implementing this
plea go to system is rather easy it's a
it's well described it's fully
functional it has seven steps there's a
correlation example so for each step you
can verify that you got the right value
but funnily enough there is a man
converging group in the original thing
the 22nd februari and the reason is that
that Cleveland used a new traction and
conversion scheme there and then they
were converges for some input values my
father is if you have used quicker than
that just putting random inputs would
have found that I tried yesterday for
funny and it finds it around 800,000
test cases then it goes into an infinite
loop then the data that is popping in
the sense that you can get data matches
from these great games on the web but
they are a hdb thing is you have to dig
them out so what you do is you write the
script up and you right straight up
based on regular expressions the
standard htpc client is idling at gsx
because a lot of these days I'm Jason
and over formats will just be potent and
you're like cross-reference to provide
the stable storage because you'll never
grow this database about Cindy device it
doesn't matter to use stories that are
bigger and prosperous is just to
this and the idea is that we refresh
player every five days that gives us new
set of matches that they have played and
then we fit fit these matches and then
we analyze this match this is basic it's
gratings very much craving and the
system does not care if we suddenly
decide to swarm like 3,000 get requests
at Ferrari or we will see how to fix
that later on basically if this redox
reactions to the fest with four very
fast processes in each process for phase
1 match that's not works the database
built so that is idempotent so we can
basically all right things without
changing stuff and that means weekly
restart the system at any point which is
nice feature and then we use the job
so this is a job definition what it says
is that I have bucket and the vargut
hell's a size of 300 elements it
furthermore you only allowed to be 30
seconds in that part so the first part
they are the max I'm max eyes tells us
exactly how how fool about may get the
second part the regulator section
defines the limits in this part so we
define two minutes we say you'll never
get you through the spark you're never
allowed 82 more than two things from
crying that's the convoluted and the
second limit is that we may have hole in
the bottom of the box we have it
dripping leaky bucket algorithm and we
say great human by which will execute
things out of the bargain is one per
second because the great lives I can
cope with me going with free thought
processes although I can easily do it
didn't rely there are into PHP stuff
Gotye stop I don't know it doesn't so to
fix that you're doing this you are
cutting and you say it's one of our
processes just with this blog filled
refilled every minute and then to get
these regulators control the actual
outflow from the vault that's a really
really neat easier line that you can
just form things off and then this limit
i actually didn't you down to the level
and this is a dynamically country
the whole thing which is which is really
nice so this is the code that we usually
eat better what it says is asked jobs on
the jewel fit you may be run and we get
a new oh we were just stopped because
they're influencing stop means that
we've got just get this job with you
getting and your hardness if that goes
through we ask your system which I'll
describe in this slide without run
actually if we get a yes pretentious
office that plane we're going to know we
just stop so you're looking is because
they intend to be ordered so space that
I have a two-state finite state machine
that basically the operating mode and
when we seem so ladies at the side
basically move to state where we are not
doing anything from the file if it means
so this is kind of a be nice with the
guys and do not get clock into the
fireworks and so the basic thing here is
that the face coat is not at all caring
about annotation related jobs in qatar
our attention week we outsource this
choice two jobs and then you could
everything into the same queue so it
does matter what kind of thing run
facial to pitch it's still the same fuel
that is going to be useful that and we
basically just make sure that the queue
is filled once in a while such that
there's always yours to the back do it
and I'm always too sure if you are there
we're not meeting your job we do not how
about it we put everything
11 supervisor and we send that to the
press walking so hot something goes
wrong and that basically how that works
and we're entrance tournaments is a 1 1
beat of matches we can start what I call
the better breath so the better breath
is basically that you have a vertex for
each player and then immediately so say
you have a plague year and a figure
there and if SB you have an inch between
from each that's essentially how it
works and then it means that I can
easily go in and ask what games this
player play what kind of yeah stuff if
we go and it's it's basically just so we
can ask what message did did this play
when what message did this their dues
and that together who do you use to
because we need to know that the player
he lost to in order to get is right now
database it stopped raining here needle
is limited by jobs as well so we just
scorned and golf ranking processes each
get a chunk 4 30 matches and then we
just sell UFO but you are never thought
of those episode time so there is in
still a little bug we have we've done
and we can joke about that number we go
to a large ice cream machine with holes
right so basically jobs your hands of
the parallelism and so the current
performance limit is not that you're
going to visit the database because
finishing our data
that's totally my heart wasn't doing it
wrong way I should load everything into
memory then do memories rather than
building disk so that's factored
thousands with everything there's no
life and also with a look native code
execution and and furthermore this t2
thing is an obvious candidate for for
that because it's growing on operations
all the way than high efficient building
operations so currently we are given to
course we rank and one way to ending
around four cents and I want to get that
down there's a reason for that because
this is right now you'd like i'm only
running this at the end of every week
and 30 seconds is nothing there that's
the point results are plotted with GUI
and GG car works like a paper slain
officer basic you say i wanna plot and
they knew their stuff and talked about
basically it's just painting stuff on
top of it of the the clock already made
so these pluses here actually songs of
different structures I'm layering on top
of a spot and let me show you how it
works when one does it so i hope i hope
it like to be short pretty and I oh but
that's pretty minute visit perhaps I can
let's see yeah I can zoom so what a
klutz here is players where you have
over here in happy over here you have
the name of the play and here
they're crap reading the data moon
little here the Blue Dog is the current
rating often the interval here is the
variance and I'm actually ranking them
based on a conservative estimate so i
take the low point of their variances
that is that current rating and this is
for like four four weeks of data
gathering and basically all the good
players on the top 50 which is pretty
good for four weeks raining so it is it
begins to get an accurate at the moment
or time the good players will get even
further out and get more points so it
looks it looks pretty nice and there is
a measure down here let me see a
rectifier does this measure volatility
which is covered in this this plot so
the volatile players are call out more
read and let's see if we can find one
that must be one this guy here for
instance is the Spanish player and he is
better than what we're used currently
but it has very low variance so normally
you would have to play a lot of matches
in order to improve and get operating
but because the system is figure out
this players actually fooling the system
we give my apologies for human struggle
he'll have an opportunity to actually
get through in rating quicker that means
that the system is faster at getting
good prediction for players and that i
have this one's will which i probably is
going to ensure which is the is a part
of rating versus the volatility so what
you have is that most players down here
with the very low quality this is who
they are wordless where we expect them
to be
moving around slowly and then you have
few layers here which these eyes are
single clear that companies even though
that's 200 hour basically those are the
case on move in the system players
pulling the suit invalid so the idea is
that so so what I'm going to do things
and you're not because this is more is
where is that I need to do start with us
because jobs need maturity there's a lot
of things in jobs that I st danvers and
sandwich doesn't work correctly and I
found some and the other hand I think
it's ready to go I think having such a
scheduler framework like jobs way just
throw a specification and get an answer
or use that specification outsource all
the scheduling thing this is very
important I mean it is very very
important when you're talking about
which shows that has to prove billion go
so this is a classic problem and I think
that the new GF skies will get something
in a couple of months or years where
they were realized this is actually
involved the way why would you your
schedule stuff in your system is
important to getting good lenses thus
there's a lot of things there you cannot
just cue everything fee for work for
instance you have to sometimes do it be
four work and then I say okay those that
were down the bottom of the stack sorry
they're just going to be lost but all
the others we can give a good experience
whereas if you do in the fifo or you
might actually
very bad experience start like that so
I'm planning on doing things with
Johnson trying to add start to that and
improve it so that's the first part and
the second part is that I'm not
detecting any players I should and then
I want to tune the rating system because
this is initial signal value which can
be tuned you can choose it and the sitar
value which is a measure of how much the
Sigma value will change you can tune
that will no one really knows the
optimal values for reply so what I'm
going to do is I'm going to take three
months of games use two and a half month
to train the system with a specific
Sigma and tau and then use the last half
month as the print data and see how good
the system is a predicting and i think
i'm also going to do the how much better
yellow and I with a system at work and
then the plan is drugs-related a meeting
on in order to get which is that rocks
playstation network using awareness to
get really true to get your groove
matters it doesn't have to be the
optimal rooms would just have to be good
values and in order to do that I need to
be able to rank these sales at a very
fast rate that is the reason why so
worried about phones it is and I won't
want to make it faster because I
envisioned I have to run like 30,000
simulated anything once to get a good
answer and that means that if i should
be able to do it at night something then
I need then I need that time down of
course will paralyze us because it's
embarrassingly parallel but still I need
to do that and right now I have a right
to work 25,000 matter scanned and it's
about 5,000 edges day that comes in so I
have a very good day sir and the time
isn't three months I don't have
something like that and then I just see
you
that's about it so so that's the really
good question the question is does this
work team games and the answer is no it
doesn't work continues if you want to do
it'll team game to the other rating
system does one and I Microsoft being
true skill which they use an xbox a liar
and that is clear the way to do it it
was basically that every player who is a
little bit of this rating into the pool
floaties and then you steal the winners
team steals a bit from the new 64 and
then you redistribute the pool bachelor
players but based on the performance
they had in this game that means that
the reducing players team connector I
have a player again straight so there
was originally a nuclear accent to find
up in that more search at work the
problems that that algorithm the tubular
have been used there might not converge
winkles but my equipment made a change
to the elgar go to the system right now
so it uses the United aced bracketing
every as that will always converge and i
know it will always be worse because i
have a million quick runs that shows
that it always converges that's probably
going to always convert and it also the
interesting thing here is that even
though I cannot shake the correctness of
the output side still there's a movement
there I can still shake the termination
that's a minimum of the neck will check
for also some of the parts in this
rating system i actually isomorphic so
there's a scaled-down scale of
operations if you change their those who
get light upd enemies so there you have
a treasure property of the system right
away and so yeah that's that's the way
to make sure that it always converges
you implement a better algorithm and you
then you just threw a quick check at it
until you're satisfied and again I la so
half how are thinking because you do
this means i kinda offline right all the
games right ah i think the real bad
could be online right right because also
because of the bottom of the hair on you
guys might learn real fast hella st wait
times for you later I like to round
managed to find magic it's wendi quite a
big mouth I'm really thinking so are you
making more of it not just but yes I
think that it would be
be willing to use it for formats meaning
as well and I think I would go for a
heuristic where you're looking digging
into it with a heuristic and also you
can chill another feedback looking into
it so matchmaking system could influence
the offline r rating system that's
always a possibility it is it wasn't
going because nobody can bury where the
comments let's go in the interest of all
time is it the commercial purpose or
going to open sourcing and right now
also so I plan on talking to people
hopefully the other code I'm a bit more
hesitant to all sorts because it's very
easy to use that go to destroy all quick
life the car then it's very easy you
just have two more numbers me and I'm
afraid that he will not really not
really know what they're doing here
because I think a lot of you want these
data for some kind of so that's the
reason why I meet a certain go about
solving that part that but at all of the
other parts like empowering kind of
stuff like that sure it's just what was
that at the point good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>