<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Kenneth Lundin -  Latest News from the OTP Team - Erlang User Conference 2015 | Coder Coacher - Coaching Coders</title><meta content="Kenneth Lundin -  Latest News from the OTP Team - Erlang User Conference 2015 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Kenneth Lundin -  Latest News from the OTP Team - Erlang User Conference 2015</b></h2><h5 class="post__date">2015-07-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3ZUGgC8l1SU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now it's time for the traditional news
from the OTP team we start here with a
community as you know there is an
industrial user group and they want to
take care of the community we want to
grow the community and we from erickson
also want that so the industrious group
with the number of members which we want
to increase they have instantiated this
community manager they are driving
license change they are trying to get an
issue tracker up and running and it will
soon happen actually i would not promise
exactly which day but within a month i
suppose the packet manager has been a
discussion it was mentioned during the
day early in the morning perhaps and it
can be a good good way of welcoming new
new beginners into the language so we
will strive for working with that until
the next major release so that we or
earlier so that we can have a packet
manage client inside l2p distribution so
that the Allen central is also driven by
the Allen industries group and that's up
and running now about what we are
focusing on at erics on for Allen OTP we
are focusing on general system
characteristics we get new requirements
from our customers all the time it's
generally about performance scalability
and memory footprint some examples of
what we will continue working on for the
next release is done
trapa beliefs that is if you feed a beef
with megabytes or gigabytes of input you
must drop this beef in steps so we
cannot run to completion in advance
because time you will block the
schedulers we have done that with the
many important bits but we have some
left to do garbage collection can always
be improved and we have some ideas about
that multiple Paul sets it's a way of
making I you more parallel taking
advantage of the scheduler treads in a
better way we are driving a project
together with the Swedish Institute for
computer science with just-in-time
compilation for Alan and virtualization
running on a hypervisor it gives some
surprises when it comes to
characteristics sometimes it doesn't go
as well as you could expect some some
system functions are much more expensive
in that environment so that we have to
maybe find other solutions in the rmv
and sometimes for example the time but I
would talking more about that tracing
and also another area where we will work
after this coming release it's important
to have good ways of identifying
bottlenecks in both in our own code and
in the applications regarding the
releases we have today we have the OTP
17 track and we usually plan one release
/
quarter but occasionally the we have to
do patch releases earlier than planned
and do you see the naming scheme here 7
dot 07 dot one I mean this lost number
here it indicates that you have some
kind of functional lift in this release
still compatible but but if you have the
third like the lost line here which is
the last patch we have given out seven
Dean dot five Don six then it's just a
bug with when we step to 3rd let's
figure here but we have awesome now we
have started to announce this properly
at the open source list so you get to
know about these patches as well but I
mean they are properly described
dispatches for example it could concern
only just one application so you have no
reason to step up maybe to that one if
you're not using that application that
we are patched and it can be so that if
we are planned 1717 dot one would have
to give out the patch before that it we
might have to take that name for a patch
and then the plan release will be named
seventy dot to just you understand how
we reason here but now the next release
is planned for within two weeks 18
and some highlights here is the finally
than the license change which the
purpose of this is to make it easier to
use a line in certain companies were
which have very rigid rules about what
licenses can be used otherwise it's
about the same level of permissions in
these licenses and we have already
released to release candidates in in
this EP 18 so so you have had the
opportunity to try it out and we have
got very valuable feedback as well so
now we are just working on the final
small Corrections hopefully small other
things in this release is the time
system in our line and this has been
rewritten for many reasons one was the
scalability in fertilized environments
where they where it's much more
expensive to ask for time or it can be
at least in some of them another thing
is that when you start a line and you
haven't got contact with a time sink for
example in ntp server you start with a
very bad time maybe 1970 something and
then a line adjusts its time slowly
slowly so it will take years until we
come up to the right time but if you do
it faster than the time outs will
be inaccurate so now we have invented
something called time warp modes where
we can allow this time adjustment to get
the hope in time and we fix it later
than the first startup you have to read
about these three modes time warp modes
there are new scalable time ap ice and a
line now is deprecated there's also new
lock three reference creation the last
line here and the background of that is
that as we have it now in 17 a line now
it is documented to return a unique new
time and because of that we have to
synchronize between all the scheduled
threats before we can return deliver
this time we have to to check that we
haven't delivered this time and step it
up with one microsecond advice this is
not very good and usually you don't you
just want the time and you don't care
about this uniqueness so then we have
the a-line timestamp in 18 is then where
you can get the time in the same format
as an ally now but without uniqueness
guarantees if you want uniqueness you
have to to use the allen unique integer
function instead
other features maps now we have support
for big maps meaning hundreds thousands
tens of thousands of keys key value
pairs previously it was didn't it was
possible to a man if it didn't scale we
can also have variables as keys it was
not possible before and from this
release we don't regard maps as
experimental anymore and that means that
we have to keep the interface is
compatible and I hope that will hold yes
other small things in this release
non-blocking standard i/o this could
otherwise block the whole airline vm if
you try to print something on standard
i/o and standard i/o is not working or
blocking which it could be sometimes if
you do it through a pipe or something
Atta dialyzer you can suppress warnings
I mean we strive to that you can use
dialyzer and get zero warnings but
sometimes you have warnings in some
modules that you okay I know I know this
but I will not change because I don't
think it's an error where I will not
change it now I accept these warnings
now then you can change by providing an
attribute inside the the module you can
suppress warnings for certain functions
or certain types of warnings to put it
inside the module and then you get a
silent empty list of warnings from
violence hopefully new ETS table ETS
functions and these two they are
actually user-contributed it's at stake
where you delete all entries
corresponding to certain key and all
these entries are also returned in a
list these objects another one is at the
update counter where you can have a
default value so if this key which you
try to update doesn't exist you can
create a default value and you can have
this default value as macular literal
doesn't matter what key this it will get
the right key yes and others are their
small bug fixes quite a lot of other
things new features and bug fixes and
many of them are contributions from
users then we have coming releases and
we continue with this goal of having
about one release per quarter and major
releases once a year so this is the very
preliminary plan with 19 in about this
year
and what are we working on them for this
as I mentioned before we have certain
focuses and I repeat some of them here
virtualization if we run into problems
with our customers we have to find
solutions there I mean a line runs very
well in a verte alized environment but
could be some characteristics that is
isn't the best tracing there is
something called ltd mg line looks
traced to next generation it's only for
Linux but it corresponds to 2d trace to
say but as line looks is one of the most
common target systems it's quite
interesting to to use this and it's an
open source component this too and we
have actually collaboration with the
team making it so we're trying to get in
adoptions for our line they support I
mean the basic is to support c
programming but they support certain
interfaces with java as well and now we
try to have support for for general
support for dynamic languages and if you
have that integration you can turn on
tracing for forum in the whole system
consisting of both C programs java
programs our line programs and you get
all the traces in the same log if you
want
and the use of trace doesn't know that
it's our line he is tracing distribution
is another thing to work with we we need
to be good at handling 100 nodes or more
and today we are not you run into
certain problems with the full
connectivity between nodes sometimes I
could also look at heterogenous
distribution where weather could be
different protocols between some nodes
done to other nodes error logging is
another thing to look into today it's
quite common that the error logging
mechanism can't can put down the whole
system because you get over flooded of
memory consumption or the performance
goes down because of too heavy logging
so you have to find solutions for how to
log faster how to truncate things if it
gets too big and we know that there are
other components out there in the open
source world for logging for example
logger but it gets in the problem that
it is not this the standard part coming
without the p or not good enough sub say
it could also be that the file system
you are trying to log to is temporarily
unavailable that can of course not
stopped the node from running
but today you have a risk there we will
look also at build support for for
embedded and cross environments that is
not really the same as packet management
its most you are built building C code
crypto in openssl there is not a
alternative API which is more efficient
than the one we are using today that we
try to interface and we will also
address the documentation how we do it
how it looks like so on I will not
promise that everything here is done but
it's on our agenda then we have the
long-term plans continue with this Alan
just-in-time compilation will do
something about style and IO service
because they are sometimes not so
efficient and related to the packet
management is to think about how we can
divide OTP into different parts maybe
one basic package and additional
packages which are optional subside
yes that's what we are thinking about
any questions the plan for LT TNG is 19
years you can actually interface it
quite easily right now also with by
writing an if if you call that nif you
can get the trace out in LT TNG and it's
used like that I stay at Eric's on right
now in the product that understa scribe
for example in the other room okay is
there a plan to include defines for the
different versions I noticed that was I
don't know it's done in 1760 it wasn't
so there was quite a heck if you had to
build for two different versions you had
to define it on some other level for
example a river script it would be
really nice if the Erlang would come
with a defiant for which words it is so
you could say okay if it was an 18 to
this it's working 72 that ok we have I
wouldn't say that we have any explicit
plans but we maybe could get plans if
you convince us I'll get my stick do you
mean like having the compiler pre
defining a macro that you can if the
wrong we must have a are 17 dot one
macro that you can use to say okay this
is at least 70 no one could be I won't
promise it right now with
a good idea perhaps I was the plan for a
dirty scheduling which has been
introduced recently yes that one is a
tricky one it's not implemented by us so
the current plan is that we keep it
alive so it uses useful at the same
level as today but I'm not sure that we
plan any deep work on this from our side
right now it remains experimental yes
yes
okay always starting with the next point
in the agenda now then</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>