<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ElixirConf EU 2017 | Lightning Talks | Coder Coacher - Coaching Coders</title><meta content="ElixirConf EU 2017 | Lightning Talks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ElixirConf EU 2017 | Lightning Talks</b></h2><h5 class="post__date">2017-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/engXVCCk9bg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone
I'll be giving a lending talk about e^x
locket which is a logger backhanded and
help you to debug well great a log we
were a quick introduction my name is
Roshan you can't see my about page that
rather link I'm a software engineer at
CCP games working on EVE Online I
currently work in Iceland this is a
picture of me standing in a crazy ice
and wind I go by the handle aqua head on
github Twitter flag aware of
so we developed EVE Online I talked a
little bit about the game it is a player
driven sci-fi sandbox
it's a MMORPG we have been operating the
game for 14 years and it's still
counting we have some amazing
achievements we have the most peak
players in a single battle which is more
than like five thousand people in a
single battlefield battlefield we have
the most costly pen whoever so in a
single battle which lasts around 22
hours we destroyed about 300 thousand
dollars so a real real money so that's
about the game if you're interested we
will be very happy if you join us but
today I'll be talking about the
development of EVE Online Ivana has a
very huge codebase and we write it
mostly in a very legacy Python because
when we started there is enticing Python
1.0 even so we have our own like
important mechanism all sorts of crazy
stuff
so we've regrouped game features into
services it's kind of like micro service
style but although they are not very
micro so as you know like a lot of a lot
of events happen during a game so when
developments in all the features we have
also for debug information and even more
when you really start up
sober because you have all the services
combined so we need a better way to
search filter and read all the logs
generated from all the services that's
why we come up with the eve log light
this is an open source GUI log viewer
it's actually our cert generation of the
qsl quillber it looks like this so you
see all the message message here and
then you can feel a search by whatever
you want I also have some fancy features
like filters by channels and whatever
but basically it's just a real logs you
know GUI and because I advantage over
develop EVE Online and I use yoga a lot
so I was thinking about how can we use
it in elixir 12 as well so that's why I
come up with the X log light which is a
logger back-end or a blog or vlog right
and it's also a package on hex hex so
you can use it directly and I'll just
give you a live demo of how it works so
without a QA log we were when we start
up application especially if we enable
the SATA logs you can see there are a
lot of logs generated even we I didn't
do anything so if like imagine if one
this is the arrow you have to scroll up
all the way and try to find what is the
arrow so that's why we need a QA log we
were to help you find and the filter all
the logs
it's very easy you just import the
dependencies in parties package in your
mix you configure the logger uh this is
all standard Alexa config and then if
you now if you run the application again
you will see all the logs will be in the
QA log viewer and click on any of them
you can see the message in the bottom so
this is all the actual log message in
that log and also it has some sensitive
features I can see the page of the
process you are sending and other stuff
so basically this is a DX wallet and
stuff yeah that's my lightning talks
Thanks
yeah I also wrote a blog post which I
described what I learned about PET
imaging and been rebuilding when I
developed with the Excel web so you can
check it out if you want my name is too
low and the guy who presented last year
they multiplied your massive online
minesweeper with Phoenix you have been
on github I'm going to present you today
another game i've done for for this
conference a mine company I used to work
with another company called blue top and
we do borrowing stuff for banks and
telcos and those working things with
computers but I but we love making games
and with the fretless it's a musical
game where you play a we add visual
instrument which were well an instrument
it's amazing playing it because you can
move your brows and well that's my promo
and now I'm talking about cue wars
that's a given
I've done I'd released it this morning
on Google yeah and absurd coming soon
sorry for the Apple people and you can
try the game here you can go there and
there is a link to the better to the
better App Store page because it's
nothing provision at the moment then
it's very simple
yes awkward you have a board and you
have to swipe your finger to find that
word when you finish it goes and then
you have another board what they have to
do with Alex's well making it
multiplayer so two guys place the same
word and on the same board that was them
are playing same and the first who
finish the word gets a point so you see
everything the other guys doing the
other guy sees you and them well i won
well why using alex therefore for this
part of the of the game yeah concurrency
of course due to the natural the of
processes being being sequential
it's also a lot of problems for free
supposed to guys going to a lottery to
play and you have to give one match
there's a guy at the lobby and then they
come to other guys so there can be a
problem with concurrency and it solves
you to tube to the sequentially of
messages OTP of course are fused
application servers agents everything
scalability distribution well I want to
get rich quick rich with this and I need
a lot of people playing let me show you
really the map of processes this summing
application called queue words engine
there is a lobby a lot of dictionaries
to play with and games as you can see
there is an application again server
supervisors and we need an interface to
communicate with this there's an
application called few words in keyboard
interface and we have a COBOL server and
WebSocket claims what happens when when
someone goes who's here to play there
goes through the server to a WebSocket
there's a WebSockets per client it goes
to the lobby and say hello I'm here I'm
speaking Spanish for example and then
when other guy comes there is a match
the lava creates a game and then the
process is the WebSocket processes
connects themselves through the game and
the game broadcast messages from
messages to to the to the clients let me
show you that lines of code screenshot
as you can see there are more lines of
style sheets the length of Alex ear it's
very easy to doing a lecture discount
stuff so that's why I've done this
single X here and this is Q words that's
me thank you very much
okay you can put your timer way of
conveniently put one on the top top
corner for you I just need to wait this
to load
kinda like a nightmare bina I don't even
have a Mac it's the picture so Wow okay
pigs are loaded so let's talk about
writing an HTTP adapter for Phoenix
channels HP to shore overview that's it
- of textual it's multiplex there's one
connection and multiple streams over the
connection the connections persistent as
well and it can be bi-directional and
it's these last two properties that make
it appropriate for writing a Phoenix
transport so in our length is some
support for HTTP - we have cowboy -
which on the master branch release
candidate books for cowboy to add voice
for HP - and they have graceful fallback
as well so if the client doesn't s'more
eh - then it will fall back to HTTP 1.1
and also WebSockets of sporting cowboy
as opposed the other example which is
chatterbox which is HTTP - only and as
like a big state machine that handles
all the connection and it uses it for
both the server and the client in elixir
will with cowboy - it works at plug
there was a fork by Andrew Nesbit whose
potato salad and github and I pretty
much ripped off his code and moved into
a library which is available there so
you can use that with Phoenix and it
works and it's just got some changes -
to support the cowboy - API and because
it works that also works the Phoenix
we're going to use a custom handler so
in your Phoenix config you can specify
the handler you're using and if you use
the custom handler then the web sockets
or work as well with Phoenix a transport
is like the bi-directional communication
mechanism the Phoenix users for Phoenix
pub/sub and by default we have web
sockets and long polling and implement
transports of behavior with - well one
function it used to be - but now you
just need to implement default config so
if you look at some code I've only
included this this is the entry point
and the important part is this line here
which tells cowboy there's a screaming
reply so it doesn't reply straight away
it well you know keep open until you
tell to close so if you look at the
actual transfer itself now we have this
module Phoenix plans for ec2 and the way
it works is you connect first off with
this transport connect function
and I don't include the code for the
success case because the rest of all
error handling that isn't super relevant
and if there's an ID on the socket we
connect to the users channel so we can
submit just straight to the user and
then we have to enter a loop the
interesting thing about the state here
is that both the channels and channels
inverse are stored so this is optimized
for lookup in either direction and if we
look at the loop all this code is pretty
much just to make a unique rest so you
can get a message for cowboy and the bit
where we actually communicate with
Cowboys here we send a message saying
that we want to read the body and we
send the rest that we want to use the
last argument here is the timeout so it
says 30 seconds 60 by default so we need
something lower than that and then we
enter a receive loop and there are two
forms of request body which the messages
that come from cowboy there's the thin
and no fin versions if it's a no fin
then we continue to loop but in the
other both cases we just handle the
messages come in so the message is
coming from the client to the server and
they're in the other direction got a
message that comes from Phoenix pub/sub
which is a socket push message and in
this case you want to format a reply and
send it back down to over the connection
and in any other case we continue in the
loop so when we receive a message we
want to check what the message is and
then we use transfer to dispatch to get
the result and it handles everything
internally and there are four things
that can happen either it's a no reply
in which case you should turn the state
it's a reply in which case you want a
serialize data and send it down to the
client it's adjoined we do seems the
above but there's this put here that
will add the channel to the state so
that's the user subscribing and there's
an error in which if you want to tell
the user there's been some error and
yeah if when we send the message back
down we use KO request stream body with
no fin because we haven't finished yet
and that will send the data to the
client so if we look at a demo here I
don't have a live demo because I'm not
that brave but here's an animated gif
that you can look at we I'll talk
through it the next time it loops you
can watch it's nice
so we start appeared we start a stream
and then we join a channel and then we
get some output which is saying you
joined and then we send a message we
look in the browser you'll see a message
to come from HP to I'll give you one
more loop so if you blink you might miss
it so here is there right there so if
you're paying attention you'll notice
that the top line wasn't wasn't a
browser to work in the browser know what
of time to explains I wasted those 15
seconds at the star in the loading
animation hi okay so so taka may is a
lair for elixir applications as a web
layer I mean we have one of those
already but I'm going to tell you about
this one instead so the goals of taka
may are simplicity and to be more than
MPC in reality this means it's focusing
on the web layer only so it's perhaps it
like the Sinatra for elixir would be a
very crude way to think about it
so goals of simplicity so this is what
the server looks like to my mind you get
a request you want to make a response
and that's done by a server so the code
in taka made for that would look like
okay have a request in the state and you
get a response so in this case simple
means pure those pluses there's
negatives to this we definitely don't
have time to delve into them right now
but there are there is a blog I've
written on why I've investigated this
further so more than MVC so we support
all of these are these model layers
because we support none of them you're
on your own it is your application which
it's a web layer it doesn't give you
this so this is a think sort of the
future of well some of these I think of
the future of elixir applications
because some of them are better suited
to leveraging some of the superpowers we
have on the beam my personal favorite is
memory image look that up Martin Fowler
has an article on that I think that's
very cool so yeah so it's bring your own
model so it's a two view controller
framework if you want so it's concise so
this is an entire application so you can
have a single file application it's um
this still works in the structure of a
mix project but you have so yeah so at
the top you have a root so that's the
index root roots are defined as a
segments in the path for a gap request
to that root we return hello world with
an okay
once the second bit the star makes it a
makes an application so this this will
start up this is everything you need you
know if that's the simple as your
application needs to be then that's as
simple as it should be to write it so
yeah so the cowboy adapter available 8th
in the thing here is a web server I've
been working on you don't need to use
that it meshes into more sort of
established a much more established web
server so modular that's another thing
we want so use Takamiya which we heard
at the top of the app here is equivalent
to using all of these things below so
this is everything's implemented as
middleware and then there's a few extra
helpers for stuff like flash and
redirection OTP friendly so this is a
another thing it doesn't it doesn't
change the structure of a mix project so
if you have a super vision tree here you
start you know three applications you've
got a web front-end an API an admin they
can all start in the same supervision
tree if that's what you want and you
know one by one you can move them out
and migrate on to microservices as you
wish site you can do Micra services in
the beam or microsomes outside of the
beam and you know it all works just as
simply so helpful obviously if it wasn't
helpful it's probably not worth
recommending so this is just to view
some of the helpers so roots can have
names you can then generate a path from
those names routes can also have
parameters so you can match on a user's
ID etc like that it's got flash
messaging it's incredibly simple
so that makes testing incredibly easy
though there's nothing there's no setup
here there's no helpers testing you
create a request if you want to check
that the get request to the index is
that you just check those two bits put
it in and check the response nothing
more the routing DSL goes a bit further
so yeah here's a few more examples so it
matches on past and then I'll methods
its opinionated that's an opinion I
added there you have a second argument
if you need information to configuration
so you can you can do to potentially
dependency injection or the equivalent
of so error handling is another feature
that it's just groups errors together so
if you return instead of a response and
error you can handle that in one place
you
if you're doing nested controllers or
nested routing just have one 404 page
and sink as well oh I hope that's the
last slide so this is where you can find
it on hex Docs hex Docs are amazing so
go straight there it's better than the
readme like the modules are brilliant I
focus on documentation
I'm crowded on the internet so that
github and Twitter that's me yeah my
name is Matt Woodman
so I started a project to help get
integration and acceptance testing
working in an elixir cuz it's something
that I found actually to be a pretty
significant need there is another
project that kind of started it before
me if you've used it before it's called
white bread so the main problem with
that I found with this project was
simply that they tried to basically
reinvent a testing framework all on its
own
and so whenever I needed to like do
something before or after the test they
would have to adapt to use the hooks
that he provided and so that became
really difficult to actually like do
things like I just want to run this one
integration test or trying to debug
something or or whatnot
and so like all these PRS and issues
were keep getting opened up and it just
came to be really really really quite
problematic so I actually submitted PR
for him to kind of change some of the
DSL but he actually decided like he
didn't want it he's rather I started my
own project so that's what I did and
what I did is I built on top of X unit a
project that will basically read your
feature files and translate them into X
unit tests for you so that you can have
kind of the best of both worlds because
we like the X unit test but you know
some may be testers or other people who
are less technical prefer the feature
files so basically what it does is you
have your future file and you just tell
it we're
the file is and then you can use all
your regular xq8 stuff setup and whatnot
to do whatever it is that you need you
define your Givens and swings etc and
then you can take out of the regular
expressions here you can take variables
out and then you have your state over
here you can pattern match on oh sorry
of that sorry there we go so so
basically you define those things that
match you know lines in your in your
future and your scenarios and it just
generates the test for you which is
basically equivalent to something like
like this which is how we would prefer
to to write our integration test for
most part it's still kind of in some
development there's still a couple
features that are missing and I'm
actually looking for help if anybody's
looking at getting interested in a in a
small project looking for anyone who
wants to help out with it it's for most
part functional but has a limited set of
features so that's it good afternoon
everyone I'm John wobba I work at a
company called twitch we do live
streaming it's a lot of fun stuff there
but so I'm going to talk about elixir
streams and video one thing that I've
read about in a lot of blog posts is
that elixir is not great for things that
are very data-intensive like say video
of transcoding so let's just use that as
MPEG for that but in fact what I used to
do is we had basically two Damons to
manage streaming videos directly to
twitch that were stored locally or on s3
one of the demons were in Ruby because
it's pleasant to write business logic in
Ruby and the other day daemon was a go
Lang one because it was pleasant to
write concurrent logic in go lank notice
that the pleasantness doesn't go across
language boundaries so now what I do is
I do the same thing except write both in
elixir so a couple challenges
you can't just load everything into
memory because the videos are often over
10 gigabytes so you really want to make
sure that you're streaming things and
you can't know everything that will play
ahead of time because some of the videos
don't exist yet one of the parts of the
twitch platform for example is users can
clip videos in the middle of the stream
and we want to be able to inject those
in later just to give them a shout-out
in attribution and finally don't go down
because reinvesting is painful and you
don't want that to happen and dead air
is bad so let's talk about a playlist
it's just a basic agent that's a cue we
have right now the standard video of the
bunny TS just set it up so that we have
a normal video there that'll be a nice
sample video to play into finally we
have a cue that we just pop and push
from let's talk about the stream runner
itself here we just instantiate a link
to that obviously please supervise your
processes and then we call stream dot
repeatedly which allows us to just
constantly call on a basically a
generator function that allows us to
create a to pull up the next video and
in our case we will pull from the agent
if it has something otherwise it will
put a be right back screen and add
something to the playlist over here in
playlist push finally you'll notice
porcelain over here porcelain is a very
nice wrapper that I highly recommend for
erlang ports it makes things more elixir
ish in a lot of ways so and then at the
at the very end if you if you if you can
notice there's just streams throughout
the whole thing
so we take we take four things from the
queue just just because we don't want to
be here forever and we can catenate them
and also we truncate the file because
again just for the purposes of the demo
so let's run the demo pull that up and
then
so it's right now getting the videos and
then it'll open it up and play five
seconds of the classic bunny video
followed by be right back stream
simulating some sort of weird 404 that
we didn't find the file that we needed
and then we'll do another round of that
just to show that we've renewed
everything so as you can tell maybe not
not entirely all in elixir for
transcoding but definitely very useful
for orchestration and solves the problem
of being very concurrent which is handy
for things like this and also being
pleasant to write business logic in also
just for fun here's how to stream to
twitch from ffmpeg you can copy those
flags down for later use a couple of to
do it in the demo I didn't do this but
what you should instead of streaming
from a local file you'd probably want to
use HD view always in or HDV potion to
take s3 signed URL and stream that
directly into the stream flow and
finally if you are trying to stream to
multiple channels or multiple rtmp
endpoints at once you could use the
genophage broadcast dispatcher to help
support that
sort of on the fly thanks that's my
github we okay good
don't sing a while Kerry okay so not use
this um so I'm Lee I talk just for a
short thing we'll be on interrupts
between other Erlang based languages or
allowing VM based languages and kind of
my experiences over the last years with
kind of cultural shifts between the
various languages and how to go about it
so just as a race of just random hands
how many of you came to elixir through
early Oh more than usual okay cool um so
you guys can take a nap everybody else
just some behaviors and stuff that I've
noticed
so who's seen this phrase before this is
good but nobody on pull requests okay
Jose tends to say this when you pitch a
bad idea and it's a very pleasant way
because he explains why you know this is
a great thing it's not but the value
that you get out of that is you learn
where the folks in your logic are and
sometimes there's a back-and-forth and
you end up with a much better solution
and there's this kind of concept that I
don't even know what to call it the bean
community which is basically languages
built on top of the Erlang B M so elixir
is an obvious one Erlang is an obvious
one there's also LFE and in my opinion
they're they are very separate languages
with different behaviors that while
you're coding your business logic you
look at your business logic in very
different ways but they all exposed the
VM in a unique way
Erlang is not the correct way of
exposing the VM to you it is elway
elixir is actually a direct response to
that with knowledge from the web NLF e
is a list interpretation of how to
interact with the VM and we all know
what the capabilities of EMR but our day
to day is to express that in some form
of language and what is not always
parent is not all Erlang libraries are
on hex they just aren't like a lot of
our langurs don't need it like just they
just add it to the repo and they're
often running or LFE is actually very
hex friendly but we tend not to look or
at least not as frequently outside of
our safe space to solve our problems
and over time I increasingly
increasingly have to work with
interrupts for the various things I work
on and I'm this is just how to frame the
dialogue of that so in when I'm working
on interrupts
I might have to I can't just go on hex
and be like
rabbit adapter you'll get three of them
I think and one will be the official
rabbit adapter then there is a couple
wrapper layers in a mixer but there's
actually quite a few early adapters out
there if you find Martin where I don't
know where he is but he works a shop gun
they were at a very nice one called
turtle but that's not on hex at all it's
just on github so part of your search
process when you're looking at Erlang is
you kind of have to search around like
possibly IRC mailing list football to
see what libraries are out there because
every library has some value from being
out in production and you've learned
lessons and in some libraries they're
not very elixir or LFE friendly because
they're not using it they're like you're
especially if they're not on hex or
anything so you know it might not come
rebar might not be configured in a way
that's friendly for you to compile and
all that and you can even tilt that the
stupid thing because it's maddening and
frustrating because it's not outside of
how you normally communicate about code
so what a funny image because it's
required so what I found that was doing
that is kind of Joe's a solution this is
good but and you send an email out and
usually even like the Erlang OTP team
will you know during business hours send
an email back and you can have a very
friendly dialogue on what is problematic
about elixir and you come to a mobile
solution and both sides win on that and
I just think we need to do more of that
it's just a community now mind you I've
been sitting this is kind of a sounding
chamber for elixir things but just i how
do i word this it would be I just have
framing the dialogue in all of our
solutions or separate solutions in the
Erlang VM are valid but we want to work
together rather than this is how we
would solve it in a lick sir this is how
we solve it in LFE or anything to that
effect and there's a good library to
look at for that purpose so if you go to
http poison it's built on top of Hackney
but if you go to
Eduardo who's the man who writes it file
he also writes it was on the team that
write acne him in Benoit and if you look
at HCV poison you'll see where a lick
sir starts adding value than just using
raw hackneyed but you can also see if
you look at Hackney where there's some
value there for just access point in
Erlang straight we're going okay
so anyway that's a great library to look
at I'm kind of running low on time
because I got a little up but that's
fine so this is usually the resolution
of it's good but when Jose merges your
polar book and just some rule things to
think about just talk to the developers
of various other languages to interrupt
with them don't rewrite their code or
just don't take like some Lisp code and
shove it in the licks ER with your own
list like process I try to build
wrappers so that we communicate as a
larger community because we all will
feed different things and that's all
really and I work with I want my name I
tagline for today is giving community
space where domain registrar and we do
things in which our Lang and a variety
of other languages and Amida thank you
okay hello I'm going to talk about
sequel dusk my name is Paul Engle I'm a
developer at Betty blogs Dutch startup I
write code in Ruby JavaScript and elixir
I'm also no stranger to a sequel and
I've written a lot of open source
libraries during the years so Betty Bob
blocks it's a platform in which we can
build web applications without coding so
it's a drag-and-drop interface
currently we are gradually migrating
from Ruby to elixir the platform itself
requires a lot of meta pro pro
programming
because well it's everything is dynamic
that the database structure so models
properties you can also add actions
which are some sort of procedures which
you can drag and drop within an
interface we have created a certain
packages such as the compiler cache in
order to evoke cash generated ASD and
then run it whenever request comes in
also for query querying data the
requirements are while loading data
based on a variable database schema
which and the user of the platform can
well decide for itself
what kind of tables and columns yes so
we have to support selecting and
filtering and nested data and also those
filters needs to be combined so at first
we looked at active fragments
well our elixir experience wasn't that
great so at first generating complex
queries was pretty hard
due to the DSL you have to pin variables
joining tables also cumbersome and
because you always have to specify how
to join a certain table so it didn't
seem pretty possible to to use echo
fragments for betty blocks so we
introduced sequel dust we stop thinking
about table aliases but thinking in
paths associations based on a base model
so and also we don't have to instruct
how to join the table every time we need
it in within our query so
at default psycho dust uses the standard
naming conventions for belongs to when a
Association is in singular form then it
bow assumes that you have a belongs to
Association when it's in plural then
it's in has many form and I'm going to
show you about the difference between
fragments and cinco dust at first this
is a simple query with active fragments
the psycho dust equivalent is this one
which is pretty much the same going to
the second query this is a little bit
more complex you see that you'll have to
use well aliases for the tables of
course and you have to specify how to
join the comments well the posts
Association and this is this sequel dust
variant so within here you say well I
want would like to have comments where
the the post ID post dot ID is well a
certain variable value and in here you
see that you don't have to specify your
join of the table this is another bit
more complex example with the sequel
dust hello equivalent in here you have a
again you don't have to specify how to
join the table you just have to say well
I wanted to group concat the comments
dot commenters and based on the echo
model you have already defined what the
relation is between those models sequel
does just both reach the
the definition and then it determines
how to join the row the tables as I
don't have much time I think I'm going
to show you how to how to looks like
when it generates the code yeah okay so
I don't have a screen in front of me so
okay so this is the as you can see here
you have a generated query generated
based on a sequel dust
I didn't define the join those words
same examples which I showed you just in
the keynote but this is the resulting
query and you know I don't have much
time so yeah maybe
let me show so if you are interested
interested in sequel dust please to go
to github.com
under the betty blocks count and then
well you can look further or you can
contact me this my handle thank you
hello so i'm t-bo from france and i have
no idea what I'm doing with this so
beware I wanted to get a feel how alec
here or three loading works and so I did
a bit of experimentation I'm going to go
quite quickly on the code because my
time is limited but everything is on the
github repository with a YouTube
screencast as well okay so I wondered
how to understand what out the the
simplest bit of elixir code which allows
to reload at at runtime like not on
holic a whole application but really a
small tiny bit of code so I wanted to
get a feel of
how it works and as well I try to make
it interesting so I I try to figure out
a subject and I came out with a live
sound generation which means basically I
wanted to be able to edit the code which
generates the MIDI events to produce
some sound so it's going to be it sounds
awful but I want you you to have faith
in the future and imagine that we can do
something pretty with it so first how to
generate one note there is a you can
take a proper music production system
which supports MIDI events then you have
a seed library call it pot MIDI which
luckily we can bind with a big here
because someone did the hard work so we
can talk to RINO's or another music
production system - well the network
here library and look like that so you
just connect your device via its name it
gives you an elixir bit because it's a
process and then you send message to the
music process and then it sends the
events to the midi driver okay and if we
want to send a note we use a certain
message with the excel decimal code 90
and if you want to stop it it's a 80 and
you pass the velocity and the note so
that's for the music generation part now
how you build a music loop you can
leverage gen server to build a loop and
create a timer which will click every 50
milliseconds
okay so I'll goes I'll go quickly on
that but I open the device and I create
a loop which will start itself again by
recursion completely leveraging gen
server okay and then in that loop we can
send event to the device that we open it
just before okay and we can implement
some logic like which note should I send
now etc based on the current tick of the
music
now how do I reload that because I want
to be able to save and restart during
runtime so I found code eval file and a
really valid gen server and I had that
watching the file system - with a x FS
watch
so I reload the code dynamically each
time the file change right so it's a bit
fast and I add a ha moment which is that
the gentle reloading keeps its state
across reload when the code change so
the current Acuff the music is kept so
the state is kept but the version of the
code change which means that I can edit
the code which generates a music event
and it will pick exactly where it was in
the past
okay so in short we load the Volm code
preserve it state and I send it to a
MIDI device and renoise and now I'm
going to make a demo that won't work
right that might work
ok plug in the audio here and see if it
works
yeah I think you'd have to we have to
turn on the mirroring displays here so
if you go into York City yeah and click
on arrangement and click on mirror
and then you fade out because uh is dull
thank you
I would like to debunk one myth that
previous speaker talked we told to told
you about that airlock developers are
not sharing the libraries on hex PM I
would like to show you a tool that we
build together with my colleagues in
ugly scale it's called X pros basically
a trading tool that helps you identify
performance issue it's a visual profiler
based on tracing we are using it in
production for huge airline gap with a
huge offload and basically it's safe to
use we guarantee that it was useful if
you would like to if you would like to
use that teaching feel free to go to the
hex PM recently read release the type of
1.2 version which has a leak 0 the first
class citizen what does it mean to have
elixir of the first-class citizen we are
basically having the support for hex
p.m. but also we are having elixir
flavored much back syntax so we are able
to use elixir syntax to actually do
tracing inside the UI it will be hard to
do because I cannot I completely see it
but that's the data t2 and I will try to
type in blindly right now it detected
that I'm using a research project that
show the prompt and basically I've got
it in background a Phoenix app that is
running and I'm trying to end I am
sending requests to that in order to
have some data here so let's do a
tracing and see the grass
so I'm basically searching for my create
inside the registry this method is
basically a post both HTTP call that is
executed as a gen server call and you
are seeing graphs right now which is the
leaf 99th percentile counts min and min
ya mean and minimum value you can enable
other percentiles and a median and I
will do a quick switch and enable
another benchmark to show that actually
we've got a performance issue inside our
code it's not a problem with application
is not a problem with the business logic
it's just me being dumped and I inserted
asleep inside the handle code just to
visualize actually the problems and how
you can use the tool to trace errors and
problem and for performance issues also
there is an additional additional
feature which allows you to capture the
traces individual ones which are for
example above a centered certain
threshold so you can specify amount of
milliseconds and for example 10 traces
after that it will catch them and print
responses and corresponding bits
arguments and call time as I said it's
pretty much battle tested and verified
in production so we can guarantee that
is it will not break your app if you add
it to a release and actually that's why
that's how we are using it basically we
are including it into our production
releases so basically you are packaging
it with your app and then starting it as
an application if you will go to the
localhost 7 7 8 9 0 it basically shows
you the UI if you have any
Diaz improvements we are more than happy
to cooperate with you and accept the
pull requests or feedback so we would
love to have more people using X Pro fun
trace actually thank you very much hello
everyone a it's great to hear with you I
am sponsored by genders I'm working at
Zendesk today I will show you how we can
handle errors in alixus firstly I will
talk about error handling techniques in
addition and I will give a tip about
bank operator and I will take your
questions so there are a couple of ways
of handling errors in elixirs the first
one is the Van Daan I think the let it
crash and then we can use the rescue and
after blocks we can use dry cache blocks
we can trap exit signers and we can use
information tablets with conditioners
and we can use a very reactive
programming using bit clause it comes
with least 1.2 and we can use pattern
matching in function level firstly it
should be that it gradually
should we call that this kind of expert
decision and in 1996 during 5 flight
really crash like this because of a
software bug so then we should let it
crash the purpose of the did crash is a
freshly start so sometimes we need to
restart our computers
why because sometimes memory loads
sometimes we some put our computer
freezes this kind of things for stuff to
restart our computer the similar station
is in the elixir and Erland so if we
need a fresh start
generally we shouldn't save the state
and reload application you can consider
it like a restart in our computer
sometimes we need to say data sometimes
we don't need to say data and we should
ask this question to yourself it's
restarting our first
this helps us to solve our problem or
not I can give a sample but it depends
on your requirements sometimes if we get
a DB connection errors and we can crush
it on in function we can I start it so I
have a pattern if something is very
agreeable we can crush it
so in elixir we can write errors then
catch these errors or rescued zeros
there are a couple of ways to write an
error a simple one is the right keyword
we can use that keyword and then put
some message into it as an argument and
then write an error we can specify the
type of our error and put our message or
you can create your own arrow type and
then applies it so after we write zeros
we can SQ them using a rescue block and
then in rescue block we are able to a
pattern match the arrow type for example
in this example in keyword a method
fetch method if it Rison it will give an
kiki error and then we can match the
zero also in 5-liter or we can get file
error on our some sample model we can
create our own a tall type and then we
can write an rescue in the pattern
matching and there is also an after
keyword we can use if you want to
execute on bot all conditions like if
you want to if if it doesn't crash we
can also use after keyword if it crash
also we can use the after cleaver so
this means that this after block will
run in both cases to roll cage is not a
common approach but you can even catch
the exit sign as you are using using try
catch blocks a in fly cage you can get
the value of the top one
and in Georgian servers we can trap exit
signers to do this we need to implement
in function and then paste is a block
process flag slab exit through and
inside your model you should catch the
exit sign up and then implement the
terminate state and the last way of the
handling errors is error tuples so we
can return error tapas to handle errors
simply what we can do is if our function
returns the error topic we can match it
using the if conditional case called
condition but a four simple checks this
is good but in Aleks if there is no
return statement so if you want to
deeply nested if statements that will
not gonna be a good coding experiment so
for simple things we can do FS or case
count but for nested things it will
gonna be an ugly code at the end so what
we can do is we can use a relay oriented
programming what does this mean is a for
example we want to login a user and we
want to make sure that a couple of
requirements like this user exists and
password with connect email confirmation
and one-time password is valid and
inserting assertion to the database any
of them gives an error we should result
with an error to the user what we can do
is we can check the email exists then
move it to the result immediately and
show this data to the user how we can do
this so there are two ways of doing this
analysis we can use bit closes is very
easy it pattern matches with result of
the function if it matches it executes
sex block if it gives an error it moves
to a s block so in an example
firstly we want to fetch the user by an
email if this one returns an okay and
use it and then we are executing the
next block so the next block is pass
password match we can use the
data from the first block you use the
element and then we can test through the
next one if any of these functions gives
an error top of it automatically goes to
the earth block and the other way is a
pattern matching on function level and
pipes let's see so what we can do is
this for the similar situation we can
firstly well get email exists like this
clean code and then but in this case we
need to implement an error type of every
function so have these verbs for example
if the first function returns an error
and options the next one automatically
mesh the error in options and delete on
the run options so at the end we will
get an error in options and we can show
this the user so the bank operator it's
another rule but what I can see from the
elixir cost on the get up in elixir
general functions has two forms without
bank and mid bank so if you are using
function with Bank this means that you
should a part is not a root I am just
saying you should write an error but if
you are not using a bank function you
just returning a top of okay result or
error or something so we can use a
simple library called Bank to implement
disease easily for example if we have a
model called other model and then it has
a function do something if you want to
wrap this function and add a extra rice
function into it we can use bank
description to handle this I have a blog
post about this maybe some of you read
and I can recommend you to go to
tutorial a error handling from a
logistical also watch the drops talk
about functional programming and a
variant eight programming in F sharp is
a similar concept but is in Asia
thank you if you question</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>