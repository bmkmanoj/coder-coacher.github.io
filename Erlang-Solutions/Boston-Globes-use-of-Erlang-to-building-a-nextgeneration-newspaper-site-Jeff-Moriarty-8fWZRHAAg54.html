<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Boston Globe's use of Erlang to building a next-generation newspaper site: Jeff Moriarty | Coder Coacher - Coaching Coders</title><meta content="Boston Globe's use of Erlang to building a next-generation newspaper site: Jeff Moriarty - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Boston Globe's use of Erlang to building a next-generation newspaper site: Jeff Moriarty</b></h2><h5 class="post__date">2012-05-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8fWZRHAAg54" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if you can tell that we're much smaller
than a lot of the applications that
the sessions this morning everybody's
talking about a hundred million users I
was like okay this is going to be a
little bit different than what we're
doing but you can tell by the crowd that
it is so we just a little bit of context
on what what we're doing at the globe
which has a bit to do with her lang but
also is you has been a new approach to
developing a news platform so I want to
just talk a little bit about that and
why we why we did what we did and then
how we used Erlang to help us accomplish
it so you know the globe has been around
since 1872 so it's been we like to think
about it it's been innovating since
since then so all the way back to 1872
1873 when it really was the template for
what became the modern newspaper so
Charles Taylor started that trend back
in eighteen seventy three by adding
certain types of content to the paper
really turning turning the globe around
in 1995 actually not 1997 we started
Boston com which has become the largest
regional website in the country and and
so we see about seven million unique
users to boston.com and it's always been
one of the biggest newspaper websites
out there and then this past year we
launched bostonglobe.com and in some of
the tweets we got we got a fair amount
of praise for some of the work we did
using responsive design and some other
techniques to build bostonglobe.com and
and I think actually some of the use of
Erlang and and the my saved feature the
offline reading capabilities actually
were a part of that innovation that
really got recognized for our launch so
just a little bit little bit of
background we had Boston com since 1995
and then we decided in at the end of
2010 and into 2011 to launch
bostonglobe.com so we the reason we did
that was to capture two different types
of audiences so the Boston Globe we want
it to be more authoritative more about
journalism or long-form journalistic
content and Boston com is a site where
we're continuing to build out its more
around community more about sort of
real-time more personal more fun more
practical so we now have these two sites
that are very different to each other
trying to trying to reach our markets in
in two different ways so the difference
between the two is that the globe is a
subscription oriented site so you have
to be a subscriber to the newspaper or
pay for digital access so we're we're
sort of at the beginning of this trend
of paying for news content and
bostonglobe.com is our real step in that
direction so well we what we decided
ultimately to do was was was break off
the globe's content make it exclusive to
bostonglobe.com and charge charge users
for that so we charged about fifteen
dollars a month unless you also get the
print product which which you get the
digital content for free so we at the
same time have added a lot of new
features we've tried to design a site
that's that's very clean very
uncluttered relatively ad free and
that's part of the value you get as a
bostonglobe.com user and part of what
you what you're paying for so the
experience and the functionality is as
much of the value to the reader as as
the content and then boston.com will
continue to develop as an ad-supported
free site it will always be our largest
scale website at and you know with its 7
million users will you no will will
always be about sports and fun and
community and interactions between our
journalists and our users but we'll
continue to expand out a lot along those
lines the challenge that we that we had
was we had a short window of time to
launch bostonglobe.com and what we
really came to was that you know we
believe that as a news organization and
as a newspaper our future is in mobile
so our future is on devices it sits on
tablets so we wanted to build a platform
and build a news site that was ready for
that future where where more people
would ultimately be accessing us on
mobile devices than they would on
desktops so the the approach we took
from the beginning was it was was
believing that that's where that where
our future was we we decided instead of
building a whole bunch of different apps
for different platforms we instead built
the site using technique called
responsive design which was at the time
had been tested in a few few areas but
had never really been fully implemented
on a large scale so the idea of
responsive design is the user comes in
the the system detects their screen
screen width so it serves going to
appropriate design as you see we design
six different versions of the site so
that so the site itself then sort of
adapts to
your screen size and also to your
capabilities so if you have touch
capabilities or offline storage
capabilities that the site will will
detect that and deliver you through the
browser you know some app like
functionality and features so the idea
was 11 code base in the browser that
that you know where users had the
capabilities that we would give them app
like functionality and that was partly a
business decision you know because as a
subscription site if you're in the apple
store you have to pay give them 30
percent so that wasn't that wasn't too
appealing to us and also you know we
really believed in html5 and where
that's going and as a new site we you
know believe that in a few years I'm
apps will probably be unnecessary or
maybe unnecessary for sites like ours to
just do you know the basics of news
delivery and content and information one
of the big innovations and kaz sitting
over here in the Hat is our lead
engineer on the project was we really
wanted to begin to allow users to
experience our content and the site
offline so the the my saved feature was
something that we came up through some
research and focus groups with users who
we saw would would often go to the globe
site and open up a whole bunch of
stories in different browser windows and
then go through and each read each
browser window and close them out so we
sort of looked at that and turn that
into a feature in the beginning which
which became my save we tried to think
of a simple and direct a name for that
as possible which allows you to on each
story hover over and save a story to a
plate almost like a playlist for your
stories so you can save it to this
little area and go back and read read
through it all at once at the same time
that functionality is then available
offline so if you if you're online and
you have offline capabilities through
your device and through your browser
then that then any and you lose your
connection you're able to go read those
stories offline so they were taking that
element of a nap and in building it in
it into the website and that was where
we use that was where we used Erlang to
to help us and I'll um I'll show you
just a quick overview of the globe site
and and then I'll talk about how it's
gone
and the use of Erlang
you
demise
alright great music so so that so that
gives you a little bit of an overview of
the site and how we marketed it and
really came out with a browser-based
site that worked across across all
platforms so the my saved feature was
was was unique was our first step as I
said into really letting users
experience the site offline and and
calves really really drove that effort
in trying to find a solution that that
would allow us to do that you know we
have scale in at least an hour in our
world so we had about six million users
on boston.com and we added another 1.3
million users to when we added
bostonglobe.com so it's by no means the
the level of scale that I've heard
talked about today but you know in our
world it's still it still is pretty big
so we needed a solution that would allow
the page to load and for it you know
every time the page loads it checks for
every story to see if the user has saved
that story so that that state is either
it says saved or and you can save and
unsaved so so there's a communication
back and forth from each individual item
on the page to the my saved system so
that you can see which stories on the
page you've already saved and not and
and so that that was one of the primary
reasons that that we used Erlang to to
build that was to you know to handle
that scale so you know how how did Cavs
convince one hundred and forty year old
newspaper to use Erlang to build a
website is kind of you know that the
theme of this I think and some of the
reasons were you know we had a content
management system that's that does a lot
of caching on the on the front end so
this we didn't really have it didn't
have elements of real time and and we
needed that in order to do what we
wanted with with my saved or else you
know it would have been mess so we
wanted to create we wanted to create a
system that some that would tie into our
registration system and Erlang allowed
us to plug into that without having to
rebuild it so it could tie into some of
our legacy systems that were already
compliant with PCI and other security
standards and then we have plans down
the road and you know where we see our
sites and both sides actually evolving
is towards a much more real-time
an environment for you know news and
updating asynchronously into the page
comments you know you're letting users
comment and real-time see updates of
people talking about the story so we
just see the pace of updating and the
pace of content flowing from pay it from
our pages and into our page is
accelerating so so we wanted to have a
system like this in place that that
would allow us to build new features
that and then be able to handle it so
Cavs pulled this this chart for me which
I can understand to a certain extent but
I'm probably least technical person on
these two floors so this shows you that
the Erlang servers and it's actually
sending more information to the servers
per second then and then it's getting
back so you can see how you know it's
sending about 800 k per second to the my
save server and it's getting about 300k
back which is just a yes or no this user
has this story saved and that's coming
you know coming back really quickly and
and you know it has it has handled the
load of of our million users you know
exceptionally well so that's that's how
that's another thing that that we really
liked about it some of the the reasons
we used it was that it was something
that allowed us to plug in other tools
and other technologies that that we
already had and as caz sort of pitched
us it's you know it has had a long
history of development unlike some of
the other languages and techniques we
use we consider like like node Jas and
it was a really fast development
environment for us to build in and you
know we had I don't know maybe a month
or so to build this feature out so it
was a very very fast process to build
this out and I think that you know
without without something like Earl and
we would never have gotten it done there
was some of the some of the error
messaging was was convenient to our to
our developers and there has been a
growing community of Erlang usage in
Boston thanks to tobacco and others so
there there had there were people who
knew about this in the Boston area being
you know we're around MIT and all the
universities that that would make sense
and we're fell labs used to be that
would make sense so it's kind of a
growing community but you know still
still relatively small but but there
there was expertise and in our case that
was really one person who who said you
know this is you know that this is how
we should build it and that is sort of
you know proliferated throughout our
development team and now we have more
and more people who have learned and
gotten to you gotten to use the language
and the platform some of the challenges
and really Cavs helped me put this
together but there may not there aren't
as many libraries available for things
like text text processing geospatial
data which would be important to a
Content site like ours so Erlang wasn't
necessarily i guess developed with these
things in mind and there are less less
less modules already out there to pick
and choose from and to just plug in and
you know it is harder to find people who
know this system and you know being you
know we are a news company first and
we're sort of a software development
company in a web development company
second now so we do have to think about
what systems we put in and our ability
to support those you know in the future
so you know one of the considerations
was you know will we be able to always
have staff who understands the system
and and is able to work with it so we
haven't and to that point I think you
know we've had developers really quickly
come up to speed and learn and learn
Erlang and of you know build things out
in it so so far it hasn't really been a
hurdle for us and we all felt
comfortable that it will be something we
could could could continue to support so
moving moving forward you know I think
like I said early it's it's really about
it's really allowed us to think about
how our site is going to evolve into
much more of a real-time system and how
we you know how we update content on the
page much more aggressively than we do
now we think that'll also help us with
the next generation of our news apps so
I an offline reading so being able to to
better show people what they've read
what they haven't read save things and
do a lot more through the browser we
thumb with with their local storage and
you we haven't had to implement a lot of
hardware in order to support these
systems so that's obviously a huge huge
advantage and we've had you know we've
just needed a few people to really
implement this system and so people can
get up quickly and you know I think
ultimately from you know someone like me
who's who's a business guy and really is
you know in charge of just making sure
that we build the right things on time
and that they make money and do all the
right things you know I mean happy
developers or equal a happy vp so that's
you know that's good that's a good
reason to use Erlang so if gas is happy
we're happy so yeah but also serious
seriously we you know it is I think
something that people have enjoyed being
able to experiment with with Erlang in a
new environment like like news and and
it's I think one of the one of the one
of the things we got a little bit of
credit for when we launched
bostonglobe.com the responsive design
sort of overshadowed everything because
it had never been done to that to that
level but this is a this is a gem
sitting in within our platform now that
will allow the globe and and our future
and Boston com2 to really shine moving
forward as you know the websites and and
web apps and apps just you know really
kind of become one in the same in our
world so so we're really excited about
where this could take us and that's it
that's all I really have if there are
any questions I'd love to love to take
them
so so we're running it's called methode
it's from a company called I dos an
Italian company that is varied publisher
specific so it's the Wall Street Journal
uses that the Washington Post uses it
and it has a web portal which serves out
all the pages and it's the same system
that our reporters are using to enter
and write stories at the beginning of
the process so it's this end-to-end
publishing solution so things like
real-time real-time publishing aren't
really built into it right now right
yeah so you have one system that both
prints the papers you can lay it out and
you can lay out you know it's sort of a
platform agnostic CMS so the people the
content contributor kind of the
reporters the editors are writing and
you know story could start out as a
tweet it could evolve into a blog post
it could then be sent to Boston com to
be sent to Boston Globe com at some
point in me go to print so it's sort of
at the beginning of the the system that
the content is platform agnostic and it
could end up you know in any number of
places across all of our properties and
that that's a huge step for for
newspapers that have had systems in
house that you know from the 80s and
used to always be that the web was the
last thing to get the content from from
the newsroom now it's the first thing so
we've really really changed flip that
around so yes
how does the I'm sorry the content so
it's it's really a right now the print
component of the system is being
implemented so we started with 300
reporters and editors using the system
to write and edit content and then
pushed it to bostonglobe.com and then
the step we're in right now is we're
implementing the print components so
that so the papers laid out using the
same system so it flows right into the
printed product so if there's a change
in print it flows back to the original
source so that so so there's one there's
one giant database of content and print
is just one component of that how do you
know cause I I stay away from that part
of it I think it I think it does use
InDesign I believe and so it is
integrating into a layout system that
already is pre-existing I don't think
they've totally created their own so I
know that there was we had we'd use the
other system for print layout and so
there was a there was a switch involved
in moving to the system but few huge
benefits obviously to having it all in
one place yes
it's a great question not not currently
actually one things we didn't have a lot
of time to do was build a lot of
dashboards for for reporting so we know
that they're about 80,000 stories saved
right now but we're not actually using
that in any real time way but we have
talked about using it as a as a most
popular gauge so I'm so most saved or
something like that we're actually
moving all of our most popular most
viewed into probably a combination of
signal so those would be most shared you
know so Facebook Twitter and probably
will create an algorithm that combines
all those things to say sort of a most
you know I don't know most shared mosa
the most popular and kind of condensed
it all into one so my save could be a
one signal into that or it could be its
own own own little widget on the site
that shows what people are saving we are
so we use a third party for commenting
right now which it was has been
problematic so we're plugging that into
the site using an API I believe so so
you can comment on stories on boston.com
same thing so we're actually revamping
that entire system this year to be more
of a more of a platform for
user-generated content not just a
commenting system and actually Kaz has
been working on a prototype in Erlang to
power that entire commenting system so
that you know it can be more real-time
and can be a really quick and fast
reacting system so we see both you know
those elements of both sides just just
continuing to grow
it in yeah in our world that absolutely
i mean with that we see a lot of
opportunity here here with that and in
our world that was part of the reason we
separated the two sites so boston.com in
boston globe calm the boston globe is
going to be more editor driven and
journalists down whereas Boston calm
will much be much more user up so a lot
of those technologies will use on Boston
calm as well so amnesia I'll let cavs
answer that
have a bunch of web heads that are the
web servers that are taking in requests
and they each have in memory
backups that have this copy as well
very very fast
makes for very nice
story
basically
because weirdest oaring the the
reference to the story right so we're
not saving the actual story and
everyone's you know in the database
we're just saving you know the fact that
this user has saved this this URL so
it's a pretty light amount of
information being stored on you know
right now on each individual user that
may change as we look at user-generated
content and other another plot of their
systems but for at least for my safe
it's relatively light
did
yeah was it was another reason to speed
you know it was it was a factor for sure
and our dba's were busy doing other
things but do you think we'll use that
database where the commenting platform
anything else
great well thank you everyone</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>