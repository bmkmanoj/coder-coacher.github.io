<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Elixir &amp; DNSimple - Anthony Eden | Coder Coacher - Coaching Coders</title><meta content="Elixir &amp; DNSimple - Anthony Eden - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Elixir &amp; DNSimple - Anthony Eden</b></h2><h5 class="post__date">2016-10-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DQ2_zbOulYk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm Anthony denying the founder of Dan's
simple purveyor of internet duct tape
and what I'm going to talk to you about
today is the elixir client that we've
actually recently released for our API
and I'm going to do that by showing you
a little project that i created
yesterday in a couple hours as a
demonstration so this little CLI tool i
wanted to do two things 1i wanted to
exercise our API a little bit with this
new elixir library and two I wanted to
see what it would be like to write a
little command line tool in elixir so
most of the magic comes from just this
East ripped configuration hear you tell
it where the main module is and that's
pretty much all you need to do in the
mix configuration and then when you want
to build it you just do mix a script
build and what it expects is it expects
a module with a main function right and
that main function takes arguments and
then it's pretty straightforward in my
mind what it does was so what I did is I
want to parse the arguments so if I need
to pass along an option you'll see in
just a second how that works I need to
actually do a little configuration so i
make sure i use the right context and
then i need to process the parse args
just uses the option parser and you'll
see i only have a single environment
that i can pass in configuration just
pulls that from a settings directory and
then i have various commands so what I'm
going to do now is you'd see there's Who
am I contacts list stuff like that I'm
going to actually exercise one of those
commands here so I've already compiled
it so if i do right here i'm going to
say din simple CLI and I'm haces Who am
I so right now this is going to our
state our sandbox environment and that's
actually doing a network hall I have my
phone hooked up here if I change and I'd
say in environment production then
you're going to see that it's going to
instead go out to our production system
yes I do have user ID one because I
legitimately get say i created the app
and so then i'm going to do something
else that I'm just going to real quick
show you what that looks like so in the
implementation the call actually
delegates over to this Who am I function
that's over here takes in the client and
this is right here what a call to our
system looks like it says okay I'm going
to just figure out who we are get a
response back but there's an error that
show the air if not print the response
that's pretty straightforward so let's
take a look now at domains so I'm going
to go over here
and I'm going to do this a little
differently i'm going to stay in
production just for shits and giggles
and I'm going to say okay domains list
so right now it's going out to our
production system there's a whole bunch
of domains that I have in our production
system all right and that's actually all
in my account on our production system
my kids name stuff like that all right
so I'm going to take this one step
further I'm going to actually check for
the availability of a domain right now
and i'm going to i think if we can do it
register it right now through the API so
first I'm going to the registrar and I'm
going to use the check command and I'm
going to pass the name that I want to
check I think there's a big future in
elixir parties so I'm going to check for
the availability of a lick sir party
okay now assuming I've done this right
it's actually oh it is available awesome
all right you know what I'm going to do
now I'm going to go ahead and try to
register it so I need to do one thing
real quick I'm going to go contacts list
environment production what I do is I
need to get some sort of a contact i do
look number one works that's fine so
then i'm going to go back up here i'm
going to use the ID number one and
instead of check i'm going to do
register and right now if everything's
right and if it's actually not a reserve
name then it's going to go out and it's
actually going to register it right now
so it's attempting to do that at this
moment takes a minute to register a
domain had to tweak the timeouts a
little bit so that works right had to
fix our client little do this but let's
just see what it does here come on
internet hot damn i have a lick sir
party proof that this works I'm out here
on my domains here i'm going to reload
this page here these are my domains i'm
going to type in elixir party there it
is that's in my production account and i
have just registered a lick sir party so
pretty cool and again back to the code
pretty straightforward i can list
domains here again it's just a simple
function that calls out to all domains
which actually automate automatically
pet pageant eats through our API pulls
down the list of domains and if I want
to look at like the registrar one I can
look at that so there is the check okay
great it says registrar check domain
with the account ID and then register
just say takes the registrant's in
there's no extended attributes all
this is up online I put up documentation
so danceable calm is where the main site
is v2 is where our developer API is and
then you have the DN simple elixir
client which has all the functionality
of all of other clients and also the CLI
that I just wrote open source for you so
enjoy have a good day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>