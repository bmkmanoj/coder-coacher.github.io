<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Brian Troutwine - Monitoring Complex Systems(...) - Berlin Erlang Factory Lite | Coder Coacher - Coaching Coders</title><meta content="Brian Troutwine - Monitoring Complex Systems(...) - Berlin Erlang Factory Lite - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Brian Troutwine - Monitoring Complex Systems(...) - Berlin Erlang Factory Lite</b></h2><h5 class="post__date">2014-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3LcED3KrGbI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right now I work at a company called a
blow so Admiral is an advertising
company you probably haven't heard us
but you've definitely seen our work we
bid on all these little ads that you see
on web pages unless you're planning to
add Walker so the advertising industry
has changed so it used to be that you
would take a big chunk of money and you
would hand it to an agency and these
agency people would think real hard and
they would make something that was
relatively been element would sell a lot
in the Midwest so advertising is now
less this we've hand over a giant chunk
of money to people and it's more this
where you hand over small chunks of
money to mathematicians and computer
scientists and then they figure out how
to manipulate people using their own
data to buy your stuff
so in cary plus mathematics equal that
you're welcome everybody loves a
diminutive so I work on a product in
particular Colt really it's it's a
problem domain called real-time bidding
it's it's a pretty interesting problem
doing so it's low latency so when you go
to one of these web pages you've got
basically a tenth of a second before the
human eye notices that you've gone from
completely blank space to add space so
you've got less than a tenth of a second
to say to the exchange I will pay this
amount of money to show this ad for
roller skates that hook to this user
that means that your computer system has
to make these sophisticated decisions
about how much money to pay it's a firm
real-time system so for those of you
that know real-time systems a soft
real-time system is one which you go
past the post and your computations too
has value of heart design systems one of
which go past the post and things catch
fire people die a firm real-time system
is one which you go past the post
nothing catastrophic happens but your
computation has no value if we take 10
minutes to say to the exchange by the
way five dollars they don't care we've
gone past the deadline in our system at
our scale we're highly concurrent we do
basically two million transactions a
second at peak this is actually higher
now that it's Thanksgiving and Christmas
and I honestly have no idea what it is
at the moment because I'm on vacation
but we do about 90 billion transactions
a day spread all around the globe and
we're global 24-7 so real-time bidding
is really really similar to
high-frequency trading except we have an
auction deadline and we don't shut down
at the end of the bargain day because
the market day doesn't stop so in short
I build complex systems they have these
these interesting features they have non
linear feedback so the errors that
manifest in a complex system feed back
into itself and cause even worse
problems they're tightly coupled to the
external system so if the external
system has old you actually have to
handle it or you risk failing terribly
and they're difficult model and they're
difficult to understand so you might
think that because you you put this
thing together you actually understand
it but you don't understand it because
you have this feedback loop with this
system that you don't control driving
you crazy also you have this feedback
loop with other people in your team who
you don't control but that's another
issue complex systems and complex
organizations are an interesting field
of study bad things happen when complex
systems fail so generally you built one
of these things because you have some
sort of systemic problem or systemic
interest and when you have successfully
put one together you've taken all of the
simple problems the ones where you stub
your toe on the edge of a coffee table
and you turn it into something where you
blow your foot off of the shotgun just
because you've solved all of the easy
things so the things that go wrong
really wrong Carlos bueno who works for
facebook wrote a really great book
called mature optimization handbook and
he's mostly talking about when you would
figure out to when you would try to
choose how to optimize performance of a
system but he has this thing in it where
he says that humans are bad at
predicting the performance of complex
systems our ability to create large and
complex systems fools us into believing
that we're at I
to understand them so substitute
performance were just basic behavior and
it's a really really interesting insight
just because we can knock something
better does not mean that we can
understand it and it does not mean that
we can maintain it and like I said
complex systems often create worse
problems than those they solve so in
case you don't notice or in case you
don't recognize this photograph these
are heavily irradiated so heavily
irradiated Soviet military people's
after the Chernobyl cleanup you have a
reactor it makes electricity it blows up
and now you were radiating a good chunk
of the Ukraine whoops so the key
challenge is sustaining a complex system
is to maintain our understanding of it
which is sort of a pessimistic thing you
know you've knocked this thing together
and now you're sort of trapped by it in
trying to maintain it so what can we
actually do to maintain our
understanding of it so there there's a
lot of currents of thought one current
of thought is to have compile time
coyotes so you have compilers that give
sophisticated warnings variables that
could on use if you step brothers all
they push that really far where they say
well this memory access moves into this
new memory access area is that you can't
use it anymore and those are great they
solve a certain class of problem but
they don't solve all problems even
though you can't scrimp on them
compile-time guarantees are not
sufficient to make a completely save a
complex system or even a simple system
ahead of time verification so these are
things like testing or Quality Assurance
ahead of time being ahead of the time we
put it into production in people climb
these are also not sufficient you know
your test cases can have holes in it
because in York University minor decide
that you can understand all the edge
cases in the system but you can't you
simply can't think of everything your
Quality Assurance people also simply
can't
everything so even though this is not
sufficient don't scrimp on these either
you know compile-time guarantees and
ahead of time verification super super
valuable but to actually maintain our
understanding what we need is insight
into the running system we have to
understand the system on its terms I
mean you have to be able to interact
with it as it is proceeding so with
regard to building airline systems which
is my primary professional focus what we
look for so all the time people say what
what should we look for in a system so
look for the vm killers so any of you
who have any experience with airline
have probably allocated 2.2 million
atoms and then gone tehe as the node
crashed this is actually a problem on
some production systems if you
dynamically create atoms so check for
that EDS table limit process count
limits something like 130 million which
can happen if you've got enough RAM
ports limits all of these limits kill
your via so you need to look out for the
application performance regressions so
these are squarely in your domain these
are things where you've done goofed and
your system has gotten too slow to
actually service all the traffic there
now sending it abnormal application
behavior so you might have perfect
performance but your application might
be doing things that you didn't expect
or that are bad for the user and it
might not necessarily be enough to
violate the contract that you have with
your user but it's not a good behavior
and you also want to look out for
surprises so this is a sort of catch-all
category but surprises are bad you want
systematic boring behavior in an
important system it should bore you to
tears and if it bores you to tears it is
doing its job instrumentation is how we
sort of get this insight into the
running system so the great thing about
working in airline is the beam was put
together by very practical people so
it's just studded full of information
that you can use to understand how the
the VM and your application
is running or your system is running so
there are three primary functions that
are available in the standard library
all in the airline module that you need
to know about airline memory 1 and
airline memory 00 just gives you a giant
dump memory one is the interesting one
because not all memory 0 is super
valuable the things that you
particularly need to feed into memory
are s which gives you the memory
allocation of heads tables binary you
know all I'm sure you can guess what all
things do adam is you've never really
since Adams our system integers they
they never really allocate a lot of
memory but if you get too close to the
limit it's a real problem so airline
statistics this is another one where 0
comes out an incredible amount of
information and not all of it is
valuable or understandable on a an
automated fashion so the three things
that you particularly need to look out
for with 161 are run queue run queue
gives you a measure of the processes
that are waiting to be executed by
scheduler threads so if you basically
account of how backed up your system is
if you look at a completely idle airline
p.m. statistics run q1 with i mumble
that but I'm not a compiler will give
you 0 there's nothing like if you have a
very loaded system where latency jitter
is very high I guarantee you'll have a
very high run key garbage collection how
much garbage is your system allocated
and then destroying often it's not a
problem but if you are destroying
gigabytes of stuff a second and you
don't intend to be that's something we
need to look into io is another one of
those things where maybe it's a problem
with me maybe it's not but you need to
watch it because as soon as it starts to
spike you actually have a problem and
the last one is airline system info
airline system in thought was pretty
incredible and that it tells you almost
everything else you need to know about
this is
to make sure that it's still running two
things to feed into it our port count
because you have a hard limit on the
number of ports and process count
process count is only interesting not
because there is a hard limit although
there is kind of kind of one but because
it's so easy to make processes sometimes
you'll make millions of processes you
didn't intend to make and then there are
a lot of underscore limit arguments that
can be fed into system info which is
valuable because you want to make sure
that you don't get near the hard cap
limit there so for count limit process
limit things look up so the inter lvm
and the vm is not the whole story like
the vm is the basic understanding the PM
is the road underneath the tipped over
gene i suppose but what about our own
work how do we track admirable
application behavior performance
regressions in our own applications
there are a lot of libraries for doing
this and some are better and there's one
that I like quite a lot it's called exa
meter so XO meter is a really really
fantastic library but it has sort of a
complex understanding of how you measure
things and it's important to understand
XO meter on its own terms so a metric is
just a measurement this could be CPU and
a turn at a certain moment it could be
the latency of certain requests it is
just a value in time an entry is a
receiver and an aggregator of metrics so
this could be a histogram so you take
say the latency request and you start to
put it in a histogram so you can build a
histogram of the lazy of requests a
reporter is something that periodically
samples entries so periodically lives in
the histogram and then ships them
system so if you have say a remote
monitoring tool it periodically take a
snapshot of that histogram and ships
that over the network so you can learn
and a subscription is the definition of
the regular interval that a reporter
goes to the entry so a subscription for
say the stats d reporter of 15 seconds
means that every 15 seconds the reporter
will go out look at the history damn
ship it across the network and then you
have a monitoring tool and the learning
tool to do all the important work on the
other side so excavator is fantastic
because the upstream is incredibly
responsive I honestly don't know a
full-figure ever sleeps because I know I
email a man in my day which is nine
hours in the past and he's still up and
doing things metric collection
aggregation reporting her to couples so
this ends up being hugely important if
you ever want to send any of these in
opposite directions I think I moved out
of the mic in directions that vary so if
you have a histogram needs to go to
three places you don't need three
histograms you just need three reporters
and three subscriptions there's static
configuration so you know there are
certain metrics that you're going to use
you can have them reflected in the
configuration but if you decided run
times oops I goofed and I need new
things you can create them or if you're
going to dynamic the create metrics you
can also do that and that role we do a
combination of both because it can be
incredibly cumbersome to have almost
1000 metrics statically declared and it
has very low very predictable runtime
overhead so this gets back to your
system should be incredibly boring
excellent leaders incredibly boring once
you've got it all set up it basically
does exactly what it should do and you
never think of it again so defining
entries so these are this is the static
configuration so if you hopefully you
can see that yeah so if you'll recall i
discussed airline memory one and the
interesting thing here is excellent here
has the ability to call invoke a
function as as an entry and pull the the
value out of it so in particular here
i'm going to have XO meter call
memory with the values eps and binary
and we'll pull the value out of that so
XM eater now has an understanding of
what the airline memory return is on a
regular polling period airline GC which
is a function that I didn't didn't
discuss earlier or airline statistics
excuse me is it time to marry they
discuss earlier and it's called airline
GC XM eater has this match facility so
if the function returns a complex to
pole or a record XO meter can pull that
apart for you so you see that down below
where total coal or total collected and
received word and the third argument we
don't care about so now xmtr has an
understanding of garbage collection
statistics and excavator has various
types there's a simple counter which is
just a monotonic increase encounter but
there are spirals so if you have as I do
say a million metrics going into
something you don't want to keep
aggregating aggregating that a memory a
spiral is the thing that has a fixed
window by default 60 seconds so you
collect only 60 seconds of value
histograms do something similar so a
reporter there are a set of built-in
reporters graph I TTYL if you want to
print something out testing stats d in
in this particular case for setting up
the stats d reporter and what it's going
to do is refer to the thing by name so
on the previous slides we start naming
the output of heirloom statistics
airline GC and we have total call and
receive border and those now become
metric names and what we're saying is to
the stats d reporter take these metrics
and ship them over the network to the
local stats d damon and report them as a
histogram so if you don't know stats
Steve stats teen also has its own set of
aggregate materials some report fart
reporters don't they just have ship it
as it is ship it as it is is often
actually what you want because you don't
have as much control in the Far reporter
so
say stats d as you actually have an
exome eater so here where we have Buddha
free cap or frequency cap I should say
Buddha is the name of the system that I
work on and we have a frequency cap so
frequency cap is the cap at which we
show you an that so if we happen to
decide one day that you really like
bubblegum loli show you a bubble gum at
10 times its customer wants it so you
can sort of violate a frequency cap so
we actually check how often we do that
and that's what this metric reports but
because that metric is so important we
don't want stats t modifying it for us
so we want our system to be the source
of truth and we ship it across the
network is gauge which just basically
says the stats d don't do anything with
this just ship it across the network and
you'll find that you create a lot of
gauges and the subscription if you'll
recall is just the regular period which
you pull and all we're saying here is
hey airline set for eczema meters dad's
d look at this thing and report on it
every second and again you refer to
things by name and you ship them out
over the network on a regular period so
it's a little a little goofy maybe to
get started but it's super valuable the
other thing that you have to know is XO
meter if you don't want to ship all of
the attributes of a an entry so if you
only care about the 99th percentile of
histogram you can do that or spiral
which has two different attributes one
is count which is the total number of
increasing spiral and then the other is
one which is the current aggregate some
of the spiral I don't know why it's
called one but it is so in this
particular case we're only shipping ones
out of this fire so we don't actually
care about how many values are gonna
leave everything and it's also possible
to do that dynamically so if you happen
to log into your system ago oops like
poof they just released this thing
figuration for it this is me setting up
a good chunk of what i just showed in
step configuration having static
configuration is super valuable for team
communication it's also super valuable
for having boxes that don't matter and
it's incredibly valuable to have boxes
that don't matter because you can just
destroy them the the really brilliant
thing is that all of these are loosely
coupled at runtime so if I decide at run
time that this histogram now needs to
report to a new system I just set it up
there's no single pipeline that combines
them all one in one shot so you have to
duplicate and that's incredibly valuable
when you have these high transaction
systems because you need to minimize the
amount of information that you're
storing that isn't directly related to
that isn't directly related to servicing
transactions because actually
instrumenting your system is a cost it
doesn't help you in the moment serve
traffic it helps you in the long term
serv traffic and we're all the business
building long-term systems we're all in
an airline conference and the
configuration is static which you can
adapt it on the fly and that the that's
very valuable to do I mean we've all
logged into running airline systems and
bugged it and this is basically the same
thing so the reporters are the things
that pic pick up injuries and move them
over the network it's actually
incredibly easy to create your own the
stats d reporter is something that I
contributed to XM meter in an afternoon
just because I needed it it's very very
clear how to do it and that's pretty
great because you'll find if you want
proprietary reporters reporters for your
own internal data pipeline and you just
throw them one in and you refer to
reporters by their module names of
airline or XO meter will search for that
particular module and it just has to
obey certain call back and the upstream
answers are incredibly responsive as I
can't stress enough how important that
is so XO meter but why not say folsom
which is common and used by batch oh why
not stats man or vmstat so wholesome
it doesn't have the decoupling that I
find so important it's incredibly
important to have everything to couple
at the time where I experimented with
Folsom I also found it much slower the
next time Peter the counties are fast
because it does a particular edge trip
which I've talked to some of you about
but the other aggregate types were not
as fast time and I understand that
they've changed that subsequently stat
man is also not completely decoupled and
it's very difficult to add new reporters
into stabbed man I figured out how to do
it but it took three or four days and it
wasn't as convenient as I hoped it would
be and vmstat is mostly just shaken but
if the end staff does what you want
that's what Iam staff does but it's not
extensible you can't add new things new
entries new reporters anything like that
which is not incredibly valuable because
as soon as you start adding more
instrumentation of the system you gain
more insight into the running system and
you think oh well actually need this now
and if you can't add that you can't gain
more insight into the system so we have
this instrumentation and we spent all
this time and money so great map now
what we do with it we monitor and
unfortunately this is actually the hard
part of this sort of work so monitoring
is basically three separate subfields of
computer science all crammed together
you have visualization turning a stream
of abstract data into a pretty graph
that our visual cortex can parse and
allow us to make decisions on you have
alerting which is to say all these
pretty graphs are doing this thing and
this is actually bad things to do
something about a human please and then
you have analysis which is deciding that
all of these alerts are actually
valuable and you can do something about
it so visualization tells you how things
look but not why so that sure looks bad
but what's actually going on so a great
example of this from our system is peer
out a bit timeouts so I said we have a
hard limit or equivalent of 100
milliseconds right so this is a measure
of how often our system is actually
timing
a measure of how often is failing to
meet that time limit and it's spiky
which is really odd so we decided to
look at system load and system low is
not spiking so something goofy is going
on a system Lotus by or not spiking but
our timeouts are spiking so we started
looking at various things you know
what's going on does the system have a
periodic tasks that kicks on in the vm
current name did not but it is
correlated with network traffic so we
noticed that network traffic going out
was correlated the spike so somewhere in
the system we were creating traffic out
and that was causing the p.m. despite
which is odd because the BN was not
adding more traffic out of the network
and then we looked at the run queue and
the run queue was also correlated with
spikes so it means that the the vm was
actually backing up somewhere processes
were being told to wait on the schedule
or threads so we have this clear idea
that the system the computer as a whole
sending more network traffic out the vm
is backing out because it's not able to
process the request and the run queues
are climbing so what happened it turns
out the schedule of threads were locked
two cpus so you can set that in the vm
and we had a box with 16 cpus but we had
a background process that comes on every
20 minutes which is the exact period of
that spike and it consumed a lot of cpu
time this g zipping logs basically that
was shipped today to science and we had
enough cpu shield set up in the box so
the vm was allocated 16 processors and
the linux kernel would say hey I have
this high priority CPU task OOP get off
so one of the schedule says would be
knocked up at Seaview and all the tasks
have been allocated to that cpu would
not back up which is bad because we want
the system to not back up we have this
firm time limit so we just allocated 14
processors to the vm and we kept kept on
running so now we have two processes
that are capable of servicing traffic
for background processes and 14 for
actual customer traffic we actually kick
the colonel off just to see what would
happen it was terrible don't kick
wow it makes context switching
incredibly expensive alerting tells you
that something happened but not like so
you gets alert that says anything is
broken but you don't have any insight
into why that is the case so this is a
graph of more traffic and this is a
normal day this is a good day so humans
go to sleep traffic tips humans wake up
they searched the internet it actually
peaks around 11 the United States so a
lot of people serve facebook at work so
so this is a normal day this is us
making money and it's great this is a
bad day so in particular if you look at
that cliff of doom there that means
we're no longer making money because we
no longer have requests and we can no
longer bid on them if you zoom in a bit
you actually see that it's some
incredible cliff it's not that we goofed
and we're being throttled by the
exchange is actually that something
terrible is gone gone wrong so we
started looking around and our time outs
look good our time outlooks our time
outs look so good in fact that when the
clip happens our time has dropped to
zero and we track the number of error
messages that go through lager and the
errors logo que tu in fact they look so
good that they drop their traffic stops
20 there's a peek afterward and we never
really investigated is sitting in gear
probably it's just a bunch of things
coming on and saying hey I haven't seen
this much traffic in a while what's
going on but it was a non-fatal things
there was no alert forward so what
happened here so we actually spent for
engineers spent an hour digging into
this and going oh crap I don't know
what's going on we're screwed and then
one of our project manager than another
team turned to us and they said hey guys
you know facebook is down right
facebook we didn't know so we had an
alert couple artery everything is
burning but that alert does and also say
everything is burning because everything
is burning in facebook so analysis gives
you why but only if you know how to ask
for what so we track it obsessively we
track the memory usage of a bitter and
this is the memory usage of a bitter
over a several week period so you see
the up and down because humans go up and
down so they better memory allocation
goes up and down so this is normal this
is not normal so every so often we
deploy a system that we think is pretty
high risk and we let it run for quite a
while and in this case we found that the
allocation of memory in the purple line
bitter there kept climbing you see that
it drops off on the far right-hand side
it drops off because it killed itself so
this is really bad so we started
breaking this down it's not as tables we
allocate a lot of ed's memory it's
actually all in binaries so somewhere we
have something allocating binary binary
memory and then bring it so we start
looking at the usual culprits is it
processes no it's not processes so
purple line is the system that kills
itself blue line is a normal good system
okay is internet because we have
gigabytes worth of binaries and ads nope
in fact they track almost perfectly so
that subsystem is unchanged and
unfortunately these are the two culprits
so a big head scratch like where where
could all this have actually gone what
happened so Marion panjaa my coworker
spent almost three weeks tracking this
down and she had this brilliant idea to
make a few hundred releases that
bisected all of the code possibilities
being in the cloud is nice it turns out
it was a jiffy bug so a bite here a bite
there eventually you're talking real
memory so jiffy had this bug we're able
to lose a bike a binary memory
for so often it turns out you're doing
90 billion transactions a day a bite
every so often adds up real fast six
days so okay great we have monitoring
and we have instrumentation now all of
our problems are solved right like we're
able to understand these complex systems
and were able to just keep jamming long
that's that's not quite true
unfortunately so instrumentation makes
up for our lack of insight into the
world around us but and while monitoring
makes up for our frailty as humans
because we can't be awake all the time
looking at our instruments no solution
is perfect so nothing nothing will quite
solve every problem so your instruments
may be misleading your insurance might
be telling you the wrong thing they
might say that the value of a certain
and portrait important metric is one
when in fact reality it's 10 just
because you introduced a bug in the
thing that reports into that we did have
a production issue once where r spend
which is a key metric of the system
dropped to zero I turned out the bitter
is actually spending money we just
stopped pumping that value into XO meter
so it drops 0 melody alarms went off but
it's our fault not today the instruments
may be overwhelming so you might
actually have too much information
coming out you might have alarms going
all the time thats a system status
normal system status normal and you get
instrumentation blindness might not look
at it anymore so your instruments may be
inaccurate so even if it's not totally
wrong or if it's not totally misleading
it might not be quite right so if you're
doing a certain statistical measure that
has an error margin and the actual value
you need can be completely employed by
the error margin but you're not aware of
that value of that aggregate you're in
for a bad time so you kind of have to
understand statistics really well when
you do this and instrumentation may be
ignored you might have the perfect
regime for figuring out the behavior of
your system but you might just have
people own duties that don't care
might be playing World of Warcraft which
happens so what can you do about this
well a little paranoid I've never hurt
anyone if you think real hard about
every alarm that goes off and says is
this actually the behavior of the system
especially if it violates your implicit
understanding of it you might actually
find a bug in how you report so don't
necessarily take every alarm as the
source of truth use glass displays so
every one of your engineers is going to
have a vastly different understanding of
how the system works and that's okay
everyone has a an implicit mental bias
or how they understand things and when
you build dashboards out of your
instruments don't force everyone into
the same dashboard because it will
violate all of your implicit biases just
let everyone channel in our own thing
train refund disasters if you can
especially for new people have them go
through and try and figure out what
happened from historical data which
implies that you're keeping this data
keep sight of the main goal so our our
bidding system exists to serve you add
if we get real excited about serving ads
in a tenth of a second that violates
what we're really trying to do which is
a bid well so that the ads that you see
are actually valuable to you so
sometimes we take longer we actually
hurt performance because it increases
the value had and even though it's more
exciting to be like I made this thing so
incredibly fast no one cares no one no
one cares so long as it serves its main
goal and recognize that even simple
systems can go wrong so every system has
within it the seeds of its own
destruction and something that looks
like it's so simple that it could never
fail will inevitably fail on you and if
you aren't prepared to deal with that
you'll be blind when you're diagnosing
issues will just go okay yeah fine that
could never fail
that thing and finally if you can manage
it have resources that you're willing to
sacrifice it's incredibly valuable to be
able to say oh yeah time computers fail
and I don't know why that's okay if you
have an extra 10 computers you can't
always do that but sometimes you can and
Kirk never dies he's the important one
thanks
I am standing we have time for one
question who's the lucky dog yes setting
car alarms to histograms so if you have
level of spikes of chocolates that the
day for example you don't bother them
for example you have just fifty percent
of users yeah how would you think that
there's something really unusual yeah
the question yeah so the question was
how do we set up alarms especially when
there's a spiky behavior in the various
time series we found that for our
particular team the most valuable thing
is to set caps just say that anything
above this value is erroneous so we need
to investigate it there are some
sophisticated products and increasingly
we're getting data science inside of a
troll or bored with this where they will
do recommendations on well this by Felix
fishy but these spikes look fine I don't
understand how that would work but
mathematicians or magicians but I I
particularly like the flat cap anything
about this is erroneous because it's
very easy to understand and it's very
easy to communicate to new team members
and recommendations of this bike is
fishy concerning because I like simple
things brutally simple things and
recommendation engines are not all right
thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>