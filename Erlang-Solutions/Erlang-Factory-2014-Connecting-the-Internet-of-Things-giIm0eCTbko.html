<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Erlang Factory 2014 --  Connecting the Internet of Things | Coder Coacher - Coaching Coders</title><meta content="Erlang Factory 2014 --  Connecting the Internet of Things - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Erlang Factory 2014 --  Connecting the Internet of Things</b></h2><h5 class="post__date">2014-03-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/giIm0eCTbko" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I so my name is Brian so thank you guys
for all coming to my talk so one of the
things I want to accomplish in this talk
is exactly what is the Internet of
Things and there's a lot of articles out
about being published a lot of people
taking positions kind of means a lot to
a lot of people and I kind of want to
talk a little bit about some of the like
connected cities connected roads and
then actually dive into why Erlang is
actually really well-suited for building
these type of platforms and some of the
real challenges so when you read a lot
of these articles you kind of start to
get a sense that there's some
pontification going on because they
don't really dive down into some of the
serious problems and some of these
problems remain unsolved so so as you
said I'm CTO and co-founder of go
factory where an early stage startup
we've developed a platform for
connecting things together and we have a
consumer-grade app out on the app store
called itunes for helping connect people
together to go do things but we're also
working on some industrial class
projects one with a fortune 500 company
to Cloud Connect 15,000 of their fleet
trucks both light medium and heavy duty
and then eventually move that into
actually cloud connecting assets
everything from heavy equipment to tools
we're also working with another partner
to Cloud Connect wearable sensors so
health and fits n sirs and then as well
as looking into working on some early
connected city projects so it's kind of
a little bit about who we are so
what exactly is the Internet of Things
well so you've heard of it it's called
the industrial internet machine the
machine and the internet of everything I
tend to like general electric's
industrial internet but I tend to like
their quote a little bit more which is a
convergence of machines intelligent data
to create brilliant machines so that is
really appeals to me so what exactly is
the Internet of Things and kind of
what's all the hype about so we kind of
like look at the internet of things we
say well this is just the internet right
and it really is but the problem is is
that by 2020 it's predicted to have over
50 billion things connected to the
internet that's six years from now so
six years you'll have 50 billion things
eight billion people 1 billion sites
that's quite a few things on the
internet considering that the population
will only be eight billion so so I
thought maybe there would be a good
place to start real quick would be kind
of remind every fresh air we didn't talk
about kind of the brief history we're
all working there we all work in the
industry we're all very familiar with
this but sometimes it's kind of very
eye-opening when you kind of realize the
Internet has only been around since
nineteen sixty one so and that was
actually the idea of the internet right
so in 1961 there is a paper that was
published the paper was by Lawrence
Klein rock right and he was it was
called the information flow of large
communication networks so 1961 to 1968
oops sorry 1968 was a bunch of people
working on how do they how do we build
the internet I'm basically the global
connected Network so in the summer of
nineteen sixty eight there was a network
working a group that met with a Stanford
Research Institute to discuss several
issues relating around hosts
communication and host communicating
with each other so 1969 the ARPANET
basically arrives so this is kind of
like the pivotal time
in the history which is the first
network switch very first networks which
is delivered to UCLA on sep tember
second the very first piece of data
moves across that switch and the most
the best part was on October 29th 1969
at ten-thirty the first the first
internet message was sent and it was
basically an l 0 which was for a login
and system crashed so that's really kind
of interesting to know for an act like
the very first thing that the internet
did was crashed so they then resolved
the problem and was able to actually
carry out the login so so you know that
kind of the harbinger of things to come
I you know I think so I kind of wanted
to go through the rest of the the
internet actually this timeline I want
to tell you a little bit about so this
big tall part up here on the left is the
number of connected devices as it
correlates to the human population so
obviously in 1961 there was zero devices
on the internet by 19 by the end of
nineteen sixty-nine in 1970 there was
334 things on the internet so it's kind
of interesting to take a look at this
correlation so by 1973 TCP is invented
as well as Ethernet and then these are
very pivotal as we start to look at how
the Internet of Things is going to go
forward in the future 1974 we see the
first commercial version of ARPANET
which is telling it and it's considered
the first internet service provider 1974
1978 TCP splits into tcp/ip and then
also you see the birthday of UDP and
this is does this is specifically to
support real-time traffic so again 1978
not very far into our past nineteen
ninety one is actually a very pivotal
point where the world wide web is is
brought as made public and this is today
what most people view as the Internet
basically it's the World Wide Web it's
the web of things its pages and links
and things I can read
right so what's interesting is is that
in 2014 there's a actually jump ahead a
little bit there's a pivotable point
which is this year alone 61.5 percent of
the internet traffic was non-human so we
have non-human BOTS reading more of the
internet than humans are so that's
another interesting milestone let's go
back so 1997 802 11 shows up another key
piece of technology as we start to look
at the internet of things moving forward
by 1991 so by 1991 there are two hundred
and twenty-five thousand things on the
internet not very many so you can then
start to see x 1998 the number of things
on the internet is starting to pass the
number of humans on the face of the
earth so I can scums around in 1998 and
then obviously 2001 is the infamous
bubble bursting but what's really
interesting here too is that we see the
birth of internet worms so you have code
code one code red one code red 2 and
Nimba and they basically debilitate the
internet they bring it down it's kind of
the first time this has happened where
people are exploiting things on the
internet so 2007 what we can say the
iphone it arrives and it changes
everything android comes shortly after
obviously what's the other one known at
blackberry they were around but they
failed its sad statement right they
failed to really kind of take off need
to make make it into a real device like
iphone did so it became a consumer
product right they were able to take
this thing's connect a device connected
person and turned it into a consumer
product 2010's another very important
time in the development which is the
development of bluetooth LE where it
actually enters the Bluetooth standard
bluetooth LE is upon every single mobile
device out there 1.5 billion devices in
the world have bluetooth LE or have
bluetooth
on them so this is another important
thing as the as we add and bring this
into the consumer world you know what
survives is what's available to the
consumer so we start to look at the
future and like I said in 2014 61.5
percent of the traffic becomes non-human
some very interesting numbers that's
projected that by 2017 there'll be 90
million people living in smart homes by
2018 250 million connected cars and that
gets us to 200 2020 which is about 50
billion connected devices eight billion
people and 1 billion sites so 59 billion
things it's kind of a large number so
that's kind of the brief history that I
wanted to go through so some fun facts
this is facts for today you have eighty
percent of doctors using mobile devices
today that are now starting to use them
to do remote monitoring of patients so
nearly sixty percent of all consumers
use their smartphones to shop now
alright and then this is also kind of
Awesome 80 things per second are
connecting to the internet today that's
that numbers from Cisco they're
projecting it out to be I think 150
things per second over the next few
years so we're talking a lot of things
connecting to the internet so I kind of
wanted to then talk about real quick
before we kind of get into the
challenges of building a platform for
the internet of things to kind of talk
about well what is the internet of
things right once you start to get it
through the hype you start to realize
it's the connected home it was one of
the was one of the more obvious and it's
actually more one of the more present
things that we're actually seeing today
what's interesting is in the connected
home by 2017 there's going to be eight
hundred million Smart TVs that are going
to be on the internet so that's that's
kind of that's only two years three
years away from us right now what's
interesting as as of the beginning of
this year nest had estimated 250,000
smart thermostats that they
it shipped and that was enough for
Google to spend 3.2 billion dollars to
acquire them so impressive numbers so
what is really the connected home right
the connected home is a smart home and
you see it everywhere and people are
rushing we actually talked to a lot of
device manufacturers there's here in the
Bay Area and nest has caused this this
rush where everybody is trying to
connect anything in the home right the
connected toothbrush the connected
coffeemaker the connected refrigerator
so people are actually rushing out there
and the device manufacturers that we're
talking to or actually working with so
these startups like how do you connect
your coffee pot so the connected home
really is a vast collection of sensors
and devices right and so what's really
interesting is when you start to look at
how do i connect a home it's all going
to need to leverage the in-home Wi-Fi
right so how do i connect my
refrigerator to my TV to my curtains and
how do I know that the curtains should
be drawn automatically so there's
actually a very interesting technology
out there called all join it's by
qualcomm it's a peer-to-peer technology
that's designed to allow
interconnectivity between these
household devices so if if you're
looking at building some of these
in-home connected things that need to
talk to Samsung you should probably be
looking at all join so I'll join our
Qualcomm moved all join in to the open
source world under the Linux Foundation
just this last year and they now have
the backing of like Samsung LG and
several of those other appliance
manufacturers that they're starting to
look at putting in this peer-to-peer
technology so that the appliances can
talk to each other so one of the
challenges though with all joined is
that still doesn't add answer the
question of how do I Cloud Connect this
local network right it also doesn't
answer it doesn't really deal with the
challenge of there's a lot of sensors
like motion sensors heat sensors that
don't have the ability to have a full
stack so I can't run the all joint demon
on it or Damon on it so I there
a lot of issues out there of how do I
start to take these emerging
technologies assemble them into a nice
solution for the connected home so we
move from the connected home into the
connected city and this is where things
really start to get interesting so with
the connected city we can start to look
at opportunities within the city to
create mesh networks one of the upcoming
opportunities is street lights so street
lights can then be converted to using
LED put sensors on them start to look at
creating mesh networks across the street
lights what what this does is that while
this is low energy it's also low
bandwidth so you're not going to be
using this mesh for obviously watching
streaming your television along with
every other inhabitant in the city but
you can be using this mesh for having
your car talk to the parking meter
underneath the streetlight you can be
using this mesh with the sensors to
detect whether or not people are nearby
and I need to brighten up the light or
dim down the lights so the other
interesting component is the connected
car right so honda has already got an
app store in the makings their embedding
Android devices as their their console
and you can actually go on and download
apps for your car so it's kind of
getting kind of awesome there I don't
think a lot of people are aware that
there are now app stores for their cars
but it's becoming more and more
prevalent so when you start to look at
connected cars well how do you deal with
the car is connecting to the things
around them like our pulls into a
parking spot and connects with the
parking meter this information needs to
we need to solve how to aggregate this
information in real time providing low
latency and what this does is when you
do solve this you create opportunities
where the city can offer routing
alternatives so the city becomes aware
of congestion where cars are as they
report to the city their surroundings so
it's takes ways one step further right
where the car itself is actually talking
about the stuff and it allows the city
to start offering a routing alternatives
to start
optimized traffic patterns so we kind of
like look at 2018 and as I said by 2018
there's estimated to be 250 million
connected cars on the road and there's a
lot of articles that I won't necessarily
dig down what that means where the car
talks to the car in front of it so that
they don't crash right so there's some
really exciting opportunities that are
happening there one really interesting
piece of our fact which is the BBC is
reporting that as early as 2016 Britain
runs the risk of running out of
generating electrical generation
capacity that's that's a pretty scary
point in time for Britain they're
currently operating at fourteen percent
spare capacity and they're believed over
the next three years to be down to as
low as four percent by with the with the
worsening winners that Britain's
encountering they're looking at rolling
blackouts in rolling brownouts so the
british isle no longer has the ability
to add more electrical capacity so this
is a really serious problem so how do
you solve this problem well the
connected city is the solution so I
start to outfit the city with with
modern equipment from lights to all
sorts of devices where I can now start
using low energy low power I can have
lights turn off if there's no movement
around I can have them turn on when
there are people nearby me so the other
important thing is as we look at the
connected world in the connected city is
how this connects to the power grid
right so utilities utilities would like
to be connected to the connected home
for many reasons because utilities now
are struggling with meeting power
demands smart grids coordinate the needs
and capacity of generators operators and
users but as we all know even living
here in California sometimes those are
brown outs so how do you deal with
situations well with a connected home
that's not only connecting to the home
but all the electrical appliances you
can now feedback information to the
homeowner to say well maybe you don't
really want to have that load of laundry
going right now
right because it's at peak time you're
going to be paying peak dollars for that
energy so being able to take the
information coming and feed it back into
the user into the home to change their
behavior is another key element of the
Internet of Things so we kind of move
forward from the connected city to the
connected industry and this is kind of
an awesome little factoid which is a
there's a Dutch company called a sparked
that has created implants for connected
cows so they actually have herds of
cattle that have implants and these
implants are actually monitoring vital
signs of the cattle and the data is
being transmitted to a server so that
farmers can see the health of their
stock whether or not they're pregnant
whether or not the environment is
affecting them negatively where they are
all sorts of really cool information so
we are now dealing with the connected
farm the connected cattle so another
really important connected industry
which is asset tracking of goods on the
move so there are 1.2 million trucking
companies operating 15.5 million trucks
on the road but more importantly having
insight into where everything is at all
times is a problem so one of our one of
our fortune 500 companies that we're
working with so they have 15,000
vehicles out there going to different
job sites needing to carry different
types of equipment they have no insight
into where anything is the current fleet
management software doesn't really work
the current current ERP solutions don't
really work because they don't give you
real-time insight they don't give you
real-time location of everything so now
with as we move into the connected
internet and the Internet of Things you
have a driver who has an app on their
phone they get into the cab of the truck
the truck has an industrial GPS unit
that's using UDP to talk of the sprint
network to the cloud we now know that
the right drivers in the right truck the
truck pulls up to a tractor or a trailer
and that trailer has a Bluetooth le
sensor on it so now the driver pairs
with or the truck pairs with the trailer
we now know
that the right truck is with the right
the right drivers in the right truck
with the right trailer now all of the
heavy equipment you know $15,000
equipment has a fifteen dollar Bluetooth
le sensor we now know that all the right
equipments on the right truck with the
right driver and now 15 trucks are being
dispatched to a job site we now know
that all 15 trucks have all the right
things going to the job site so asset
tracking seeing how assets are
performing out in the real world is huge
huge opportunities and also a huge
challenge in part two also because many
of the assets are not cloud connected so
another interesting is single and
intelligent engine generates a wind
terabyte of data in a five hour flight
how do you get that into the cloud when
it's flying over the clouds alright so
that's that's an interesting little
thing so there are ton more use cases
out there right obviously the machine to
machine machine to infrastructure
connected to vents is a huge huge area
the mobile infantry right that's a huge
opportunity connected schools also huge
opportunities especially when the
schools extend out to third-world or
developing nations right so before I get
kind of into again how we're going to
build it one of the things like took
pause on as I read a lot of these
articles on what exactly is the Internet
of Things you see that there's a lot of
people rushing into it and this is
actually from Forrester so they did a
survey of a lot of enterprises and they
basically asked them when are you most
likely to implement the Internet of
Things solution well nobody really knows
what the Internet of Things really is
there's a lot of different discussions
so how can you really be asking this
question and you find that people say
well we already have an IOT solution and
fifteen percent of them believe they
have an Internet of Things solution in
the next 12 months twenty-eight percent
believe that they're going to have it so
I would actually argue that perhaps they
don't quite understand what the Internet
of Things really means and they probably
just have a nice little
solution for connecting their mobile
phones right maybe so so let's start
getting it to what I need to do to build
a platform that scales a platform that
can handle connecting not just one not
just a thousand not just a hundred
thousand but a hundred million things I
let alone 59 billion of them right so
the first thing is I need to have my
devices or things they need to be able
to discover each other right so one of
the challenges is that we look out and
in the 2010 architecture you know the
address of the thing that you need to
talk to you right if you look at some of
the m2m solutions out there they have to
figure out how to provision or onboard
their inventory of devices based on
either a mac address or an IM imei some
kind of you know notable thing well 59
billion things out in the world you're
not going to onboard them into an
address book so how do I discover things
also how do I then communicate with each
other another big problem and then
device data so device data needs to be
collected and the key thing is how do I
keep it synchronized right so if I have
10 or 15 things that are working in
concert to do something how do I make
sure that they're staying synchronized
and then within the cloud we need we
need to look out we have to say okay
we'll need to build actors right and
these actors in the cloud will need to
operate on the data that's coming in
through all of these devices and start
to take this in and give us operational
and situational insight basically turn
this vast wealth of information coming
in to incite right because it really
doesn't do any good to have fifty nine
billion things feeding and information
there's actually a number that where
I've read where I believe by 2016 the
amount of m2m data coming in to the
Internet is expected to be around 562
petabytes per month so that's a lot of
data coming in big data right how do you
turn big data into actionable stuff
alright so here's where we start to kind
of get interesting in what would what
are some of the technologies and
protocol
that we need to be looking at when we
want to build one of these platforms so
the first one and foremost is Bluetooth
le so Bluetooth le like I said is on 1.5
million devices out in the world another
protocol which is zigbee zigbee is based
upon the 802 dot 15 standard so mesh
low-energy Wi-Fi standard but nothing
supports zigbee you know my iphone
doesn't have zigbee my android doesn't
have zigbee so it's a problem you're
just you're excluding 1.5 billion
sensors already out in the world that
could be talking to something with
zigbee dds so dds is actually a defence
grade protocol it's extremely fast it's
really ideally suited for a device to
device so when we start to look at this
kind of slide we can kind of break it up
into protocols that need to deal with
device to device conversation protocols
that need to deal with device to cloud
and then protocols that need to deal
with server to server within the cloud
so MQTT a good protocol to be looking
into if you're building this stuff for
device to cloud XMPP is another good one
although latency on extend PP is around
one second or more so you have to kind
of be looking into do you want to have
ultra-low latency or do you want to have
you know is one second okay from the
server cloud to cloud or server to
server amqp this is obviously a protocol
that you want to be investigating and
this is actually what's what's on here
that's not like the others protocol
buffers so I didn't really have any
place to put this so I put it here
protocol buffers if you're not using
them you should if you don't love them
you need to so protocol buffers are
basically they're developed by google
and i know there are some competing
standards out there but it's a way of
encoding structured data in a very
efficient and flexible flexible manner
and it basically condenses it down to a
wire type that is very efficient so you
have variable int you have as long as
you kind of follow the good practice of
protocol
extremely extents extensible and it's
the way to be talking from devices to
the server and interoperability between
the server so protocol buffers can't say
enough about them so what are the real
challenges of building the Internet of
Things so kind of getting into the meat
of things so one of the first things is
identity so this is a serious problem
and you never really see any discussion
of this so devices are not people even
though I'm a person using my iPhone it's
this is not a person and as we found
from the statistic of 60 1.5% non-human
traffic people aren't all those people
either so how do you identify things
today they're 1.5 billion smart devices
in the world and over the course of the
last two releases of their OS Apple
androids following windows have made it
impossible to uniquely identify these
devices right they've created a huge
headache for ad ad people right there is
some support but it doesn't survive the
phone how do I I need to be able to
survive identity identifying the phone
if I really want to create a reasonable
fabric where I have 59 million things
because otherwise this thing could
present itself a thousand times by a 59
billion things presenting themselves a
thousand times i have a very unwieldy
problem so so this is this is really a
problem right and we face it every day
we you know you can have the server
generate a unique ID send it to the
device but what if whatever that device
changes what if i reset the device right
i need something that's stable and
survives it so the next big challenge is
discovery so right now i have an address
book of my friends i send them a text
message or an email and i invite them to
join something i'm doing sure i know
them well the reality is as i get 50
billion things out in the world i'm not
going to have an address book of 50
billion things I mean it's just not
really feasible it's not really possible
so the World of Tomorrow is really about
evering discovering what's nearby me
discovering what's around me so this
means mash or some sort of fine-grained
proximity detection so and there's
actually a lot of work being done on the
proximity detection using a variety of
technologies so this also brings into
what about privacy right and then
obviously you have a conflicting thing
of how do I discover things while
maintaining privacy you know the
previous slide of identity so the last
thing is the best part is without
security have you ever thought that
you'd ask yourselves can I trust that
light pole right I mean and that's
really what we're facing with as I have
a city and I have every light bulb every
20 feet that's cloud-connected enabled
can I trust it can I trust the parking
meter it also introduces amazing
problems can you imagine a botnet attack
where you actually employ every single
parking meter in the city to attack a
site I mean there are some awesome
challenges that we're facing how you
know what happens if i have a denial of
service attack against that parking
meter because i don't want to pay my
parking fines right so so there's a lot
of challenges that nobody has talked
about nobody has really even touched
upon and so you so you look at the
peer-to-peer model you say okay well we
can do advertising right well how do i
advertise what I need or what I'm
looking for 250 billion other things in
real time how do I find them right cuz
internet is really a single giant blob
there's no there's no you know it's
around the other side of the globe right
it's all in the same space at the same
time all right there's no distance
there's no proximity so the other
challenge is connecting so how do i
connect things together things are not
created equal so first we have wearable
sensors and I brought one to show you
this is a nice little wearable sensor
that we work with one of our partners it
gives you its accelerometer gyroscope a
magnetometer very a lot of amazing
information coming in off of this little
tiny thing right these things are down
you can get them down to about fifty
dollars in math production so if you're
starting to look at building some sort
of wearable right you can
can actually do you can do an end run
from design through production retail
ready for about seventy five dollars
depending and you can get it down
problem is how do you Cloud Connect this
right why would I want a cloud connect a
wearable well I could take this wearable
that gives me force acceleration it
gives me location I can put these on my
football team right so I had these
things on my football team I now can see
them out on the field right because I
can get proximity location from the
Bluetooth information coming off of this
and now I can feed this back through the
cloud to the coach he has an ipad he's
looking at his players I now have a
history of every time a player has
executed that play on the field they go
to execute that play I'm now able to
correlate that in real time watch all of
these players of these team members on
the field as they execute each play I
can then see that my linebacker isn't
doing a very good job they're not
performing like they've done every
single time that they've done prior so
as the coach I can then change up my
place because I know I have a weakness
with my linebacker this thing makes it
possible cloud connecting this makes
that possible so little wearable sensors
so and on top of that you know this is
bluetooth this is bluetooth so who wins
bluetooth wins right so what does this
mean well I need a proxy right this is
not there's no way you can cloud connect
this all right putting Wi-Fi on this
would be just you need a battery like
this big right so so it doesn't work so
it needs a proxy to something that can
work right so how do you solve those
problems and then another one is that
the world is still filled with devices
from from 2001 to 2010 that are actually
network attached there's we're working
with these vendors to vendors that
produce to the major GPS industrial
units for trucks right they speak UDP
their cloud connected but they're dumb
right how do I actually turn these into
first class citizens that live in the
cloud that can then do something right
and then smart device is obviously our
first class
citizens so the next challenge is
collecting collaborating and
communicating so these things run out of
battery very fast right so if I'm using
a cellular network which a lot of
devices will be using more and more like
cars driving down the road or people
working you know my force are my field
service agents out in the field using a
device like this I need to deal with the
fact that the battery how do I keep the
battery from a running down cellular
networks are fragile right you have this
promise of always connected the reality
is always trying to connect if you ever
were to look at the actual output from
your device you would see that you're
disconnecting you know you could be
disconnecting for 250 milliseconds every
500 milliseconds right this makes it
really challenging to have stable
communication so these are all
challenges that you have to deal with
and then when you have a variety of
classes of devices that need to group
together to get out and do something how
do you deal with synchronizing right
this is a very advanced device this is
not you or excuse me the GPS unit
there's no way I can store information
onto it right so these are all some
challenging problems and more important
is not all devices can afford tcp/ip
right so the company that we're working
with they have a data plan with sprint
15,000 trucks each truck is only allowed
one megabyte of data per month how do
you create a sensor network with that
right it's very hard so people kind of
pontificate about this always connected
world but the reality is it's not always
affordable right now I have to deal with
one megabyte per month or two megabytes
per month I have to deal with UDP so
continuing on then how do i how do I
take advantage of this information and
analyze visualize and operate on it
right so I have all this information
coming in from all these devices so what
right I need to be able to take it in
and do something with it right so this
is known as situational awareness to
situational intelligence and ultimately
situational optimization it's where I
take this information from the
things around me I'm able to start to
make decisions on what's going on
alright building intelligent systems and
then ultimately be able to optimize the
behavior where I take this information
coming in i'm running analytics and
predictive models and i'm able to then
push the information back out to the
device so I 59 billion things out in the
world how do I make sure that piece of
information routes back to that one
device to tell it Oh throttle down your
engine or you know you're off track or
change your behavior right so these are
some of the big problems of building the
Internet of Things so obviously we'll
get to the main crux which is why Erlang
so the Internet of Things is as you
probably already all know is
fundamentally a network routing problem
how do i how do i connect and route
between all of these smart things it's
also not all network attached things are
smart how do i turn them into first
class citizens and how do i then deal
with things that are proxying through
another device right and the monolithic
enterprise block architecture is dead
long live distributed lightweight
processes so what do I mean by this so
you've probably seen this picture a
million times over this is kind of your
traditional j2ee stack right it's great
if you have 50,000 employees right it's
not so great if you have 50 million it's
not so great if you have 50 billion
right so you have an OS your database
relational database your PHP Perl Apache
your jboss container how do i scale this
overnight when I have a hundred thousand
people today and 1 million people
tomorrow good example whatsapp we all
know whats app right so they have 450
million users they're running on a very
advanced kind of modified a jabber
architecture 32 engineers supporting 450
million users scaling overnight by
millions at a time right I need a
technology that's going to do this this
doesn't do this
right not only this this is a very
monolithic approach I have a monolith
that is my message broker I have a
monolith that's my database I have a
monolith that's you know my jboss
container so what does the IOT stack
really look like well it's an erlang and
you have one box which is your IOT
platform and then your persistence
because you obviously need to persist
your messages so we're talking a message
queue architecture but we're talking one
that's built in early so we use react
react is awesome if you haven't used it
you should look into it react is a
distributed low latency no sequel
database it's operationally very simple
to use our technology has actually uses
react core to achieve its distribution
but fundamentally your IOT platform will
have protocol codecs right I need to
support the Moray a GPS industrial unit
I need to support calamp GPS industrial
unit I need to support HTTP I need to
support UDP so I have all these
different products a pro two protocols
and codecs that I need to roll in and so
I need to have these codecs kind of
living agents how do i turn that GPS
industrial GPS unit into something that
can do something well I do that by
creating an agent that then takes on the
behavior of the GPS unit and then turns
that GPS unit into a first class citizen
I could text with it I can text with my
dog an agent with a dog collar can turn
the dog into a first class citizen right
so services how do i implement services
in the cloud when I have a distributed
architecture services like maybe I want
to do chat maybe I want to do
location-aware stuff maybe I want to do
task management so when we kind of look
at Erlang its process based I love
Erlang i love the process based model
all right why because everything is a
process right the Erlang excels when
it's short-lived processes right you
want to get away from this mentality of
this old G to stack of like creating
these long running
that just kind of eat up memory and
become sad right what I really want to
do is I want to have a process spin up
deal with what needs to be done and then
goes away right Erlang just excels at
this this type of okay so I have
protocol processes I have agent
processes and I have service processes
all living in my node right you should
start to see from this picture that
things are very homogenized there's
nothing specialized anywhere here right
so I kind of come out and my clusters
basically a cluster of nodes which is a
cluster of process he's running my node
goes down those processes simply
relocate to different nodes in the
cluster right Erlang makes this possible
and it's important to approach these
distributed problems if you can in a
fine-grain process-oriented banner right
if you're trying to create something
that has to spin span nodes I would
argue that may or suggest that maybe you
should rethink what you're doing right I
would try to look at taking and
leveraging Erlang's architecture so that
I actually have fine grain things
running in the node and then I just have
more notes more processes to deal with
the load so this is your architecture in
Erlang this is your stack right whether
the node is a IOT platform node or a
react node right I have a react cluster
of n number of nodes an IOT platform of
a number of nodes I need more capacity I
add another node it's all it happens so
early why Erling hopefully I kind of
started covering this and maybe some of
you already knew all this or maybe
something you got some insight the other
interesting thing is is that Erlang is
really really excellent at doing binary
the bit string syntax and pattern
matching so implementing protocols
you're porting a variety protocols in
Erlang is dead simple it's actually call
trivial right and do dealing with the
interchange of binary data is as is a
very as a strength of our line the other
thing about erling and when you start to
look at the agents is
that not all of these connected devices
can actually run computationally complex
operations so sure this is a very
advanced device but maybe there's a sum
function that this thing will click the
data send it to the cloud let the cloud
do it and then send back the results
this holds true with a variety of
devices you can have in our dwie no
border you can have a BeagleBone board
or any of these things that have enough
processing capacity to be a first-class
citizen but not enough processing
capacity to actually do something with
it so Erlang allows you to leverage
putting services in the cloud that moves
the logic into the cloud so in closing
and then we'll just take some questions
afterwards I kind of wanted to show you
an example codec so this is a codec that
we use the support device by a company
called Maury so they have industrial GPS
units that fit in trucks all over the
world and it's 150 lines it's all it
took took just a couple of hours to
write and you can see it's a little
blurry but the main processing is just
simply a bit syntax pattern matching
right Erlang justjust is a wonderful
wonderful technology for doing this now
Moray happens to support very much like
a protocol buffer where self-describing
messages which is really great for early
so here you see basically you just have
an iteration where I cross it each each
parcel iment and now I've transformed
the protocol the message coming from
this GPS unit into something I can do
with right and then the encoder right so
you can't have a decoder without an
encoder so I can talk back to the unit
150 lines this you'd never be able to do
this with Java write Java would be
probably like 10 times this so I used to
do Java yes I've sinced drank early and
kool-aid so this is the Internet of
Things I I hope I gave you some
interesting information the challenges
that we face and these are actually very
real challenges and the challenges that
are out there so
with that said I'd like to thank you and
take any questions you might have so
thank you yes yes it'll be public I'm
sorry okay
so you wanted to know a little bit about
how humans are involved in with
dependable systems and letting it crash
okay well well so you I would actually
argue that you do want it to crash so so
the idea of like having for example
trucks at getting information you don't
wanna be doing exception processing you
want it the information you want it to
crash and restart as fast as possible so
Erlang has a supervisor you know model
so as the individual process you start
to crash you want that to be handled
quickly and restarted another great
thing that I'd failed to talk about was
Erlang's hot upgrade so so this actually
allows you to deal with faulting systems
and upgrade them in real time without
actually turning off the system and
there's actually a demo Francesco's
talked about it which is that there's a
group that's done a quadcopter right and
so they actually have erling embedded on
the quadcopter you've seen you know
these little little toy quadcopters and
they have this one where it's got a bug
in it and the quadcopter is kind of you
know doing this imagine if you're
actually in it you know and what they do
is they do a hot code upload into the
quadcopter and you can see it doing this
kind of thing on suddenly it's fixed and
it's flying straight so letting it crash
letting it fail is actually a very
important paradigm in building real time
distributed systems you just don't want
to let it fail so it fails and doesn't
do anything else obviously and that's
obviously a logic problem but failing
fast and then restarting and then also
hot you know being able to do a hot code
lab grade those are very key to real
time systems
yes yes and I'm not necessarily talking
about like the truck itself being a
embedded Erlang so part of this
conversation was how do i connect the
embedded system to the internet so that
would be another different discussion
which I not let me get over here
yeah that's a challenge and really our
approach does not to try to convince
them our approach is to solve how to how
to adapt you know create a proxy to
adapt that whatever their protocol is
into something a little bit more
consumable and that's what our art codec
does so the consumer of that kodak code
transforms it into a protocol buffer so
it comes to the edge of the cloud right
we don't we're not in the position right
now we're a small company to go and tell
everybody to change their hardware that
they've been building it now for the
last 15 20 years you know so what we do
is instead was we wait till it hits the
edge of the cloud and then that's when
we take the opportunity we parse it we
transport we encode the information and
then we transform it into a protocol
buffer and then it's shipped around the
cloud in as a protocol buffer so uh you
had a question
so that something crashes like a child
that's very true so let's see other
aspect about early is that when there's
a crash if the system itself is crashing
as a whole where you have a bigger
problem with the embedded system itself
but if for example the GPS component of
its crashing other processes are alive
and running right so so it's decoupled
right it's isolated and so that is very
key in building a Erlang system so we
see that all the time in our system
we're even we'll have a message queue
crash there's only ten things on that
message crew but all 10,000 other cues
are operating nobody else notices
anything so that's why you get back to
the fine-grained process actor model
writes that thing dies that's the only
thing affected thank you
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>