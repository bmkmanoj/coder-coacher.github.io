<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intro to Webpack and Code-splitting for Phoenix - Svilen Gospodinov | Coder Coacher - Coaching Coders</title><meta content="Intro to Webpack and Code-splitting for Phoenix - Svilen Gospodinov - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intro to Webpack and Code-splitting for Phoenix - Svilen Gospodinov</b></h2><h5 class="post__date">2016-10-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mK_D_LMXzVQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone and I'm very happy to be
opening the first one of the Lightning
talks as you can see on the screen I'm
going to talk about web pack and one of
its best features the thing which is
called splitting and it's also it was
meant for Phoenix but because I have
only 5 minutes I had to cut some of the
Phoenix examples sorry about that so I'm
going to post I'm going to eat some more
detailed examples which are going to be
much more helpful to your thing so this
is going to be more like a quick quick
start up my name is spillin i'm the
co-founder and CTO of a company called
heresy we're using alex here in phoenix
internally and we're looking for
engineers so come and work for us that
was the end of the shameless job advert
right there when I thought about just
talking about talking about webpack and
Phoenix this particular tweet came to my
mind and I thought its kind of it's kind
of sad and funny at the same time as you
know brunch is the default choice for
Phoenix how many of how many of you are
happy brunch users through Phoenix one
two three you're there as well and
they're also quite a lot of webpack
users mostly front-end engineers who are
just doing front-end or coming from
other frameworks and stuff quite a lot
of them around who are not quite happy
with brunch and they're a little bit
disappointed when they are coming to
Phoenix and discovering that branch is
the default one which was done by the
generator so this is there's kind of an
ongoing discussion why brunch is a
difficult choice in my opinion there is
nothing wrong about that you can easily
swap between brunch and another bill to
could be webpack could be row up jas or
something else you can create your own
if you are brave enough with cope and
grunt and all that stuff and yeah a lot
of people who are using successfully
phoenix and web pack and brilliant none
is better than the other in in the
defense of the Phoenix team I completely
understand why branch is the default
choice it's really easy to use with just
a couple of lines of code you can
quickly get up and running if you don't
have a large font an application it's
just very easy to set up and you don't
need to read through you know hundreds
of lines of configuration
code wetback on the other side it kind
of appeals to applications with to users
who are having to have to deal with more
frontin heavy applications usually
single page apps and it really enables
you to enable you to fine grained whole
module bundling process so all these all
these configuration options and this
ability to really tweak the final bundle
obviously comes with a price which means
all the things to configure lots of
documentation to it and so on as I said
none is better than the other and really
depends on your particular use case code
splitting is again in my opinion one of
the if not the best feature of web
backend and that's what really sets web
pack apart from all the other bonding
tools the majority of the web
application just sent one big blob of
JavaScript to the client which I guess
it might be okay for some users but the
reality is that we all have
sometimes connectivity issues a lot of
people are mobile users and downloading
a bunch of megabytes on a perm on a poor
connection or a poor mobile connection
is very not that great and can result in
a very bad and poor user experience this
is a very this is an example of an
application which is which was fairly
small it just has two hundred and eighty
kilobytes of JavaScript and in reality
it can quickly jump up to a few
megabytes of JavaScript Instagram is
famous for having around 15 megabytes
before they started using webpack and
started using code splitting to reduce
the final bundles so let's jump right
into the code the particular plugin web
pack comes with a variety of programs
the particular plugin which is providing
the cause between functionalities called
a common shanks program and again just
like anything with web pack there are
multiple ways that you can configure
every single plugin and this is kind of
the configuration that worked for me you
can read read and dogs about the
parameters and options that you can pass
what a thing to essentially means that
you are telling web pact was
synchronously world all the dependencies
that you need to get to run a particular
part of the code in this very silly
example I have two routes one is
dashboard &amp;amp; 1 is the count
and required required dot ensure is the
syntax that webpack gives you to request
kind of in a dependency injection style
to request certain modules to be
available in that part of the code and
what web part is doing is that is going
to statically analyze your dependency
tree is going to find this requiring
short statements and is going to create
a bundles for you so all that is done
automatically for you and when you
reward webpack you're going to end up
with not just one but a couple of a
couple of trunks objects being the entry
one and the others one will be just
magically created by web pack so the
next time when you visit the application
you're just going to get an entry file
and the rest of the files there will be
a synchronously audit on demand over the
network just when you need them so we'll
just manage to greatly reduce the whole
application the whole application window
and just major application just feels
much snappier and quicker and you also
save some bandwidth as well what's even
more is that as you know there is a
there's a dis thing with with Phoenix
there's a long discussion on github
about it it has question mark vs n
equals D to all the static assets that
Phoenix is actually serving which
prevents caching which is not really
great especially when you have large
bundles of affront and assets when
you're synchronously
load or your or your function code
separately because it's loaded over the
network separately it actually doesn't
have the query parameter at the end so
this code splitted chunks of JavaScript
they are actually properly cache so the
next time if you look at the lower
screenshot the next time when you open
the application is true or false or the
cache and the application what's super
quickly as I mentioned I'm going to post
more detail examples which are more
specific to Phoenix and a proper web app
web pack configuration file which you
can look at how to just copy paste and
files tweak it and you'll be able to get
everything up and running very quickly
thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>