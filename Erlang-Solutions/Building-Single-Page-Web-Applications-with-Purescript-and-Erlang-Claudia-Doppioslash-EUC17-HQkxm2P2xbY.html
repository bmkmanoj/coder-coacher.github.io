<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building Single Page Web Applications with Purescript and Erlang - Claudia Doppioslash - EUC17 | Coder Coacher - Coaching Coders</title><meta content="Building Single Page Web Applications with Purescript and Erlang - Claudia Doppioslash - EUC17 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building Single Page Web Applications with Purescript and Erlang - Claudia Doppioslash - EUC17</b></h2><h5 class="post__date">2017-07-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HQkxm2P2xbY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what do you be getting in this talk
is the choices that you ask about
functional languages a target JavaScript
an introduction to pure script an
overview of the framework choices that
you got in pure script and my thoughts
about bolting our project from elm pure
script solar project is this a visual
IDE for a PLC language IEC whatever the
number is and PLC is a programmable
logic controller is basically a parallel
evolution about that's used in
industrial automation for programming
and it's a visual language and on the
left side you should see the function
block on the top there are events and on
the bottom that are variables and on the
other side is you see visual some ideas
for that but we wanted to make something
better than that something more
interesting and we were inspired by the
talk by BetVictor inventing on principle
where he expands about visualizing the
bugging helps a lot and it is taken from
that talk as you see these either for
showing for making circuits is showing
the history of the values in time and we
ended up doing something quite similar
this is a project so are you seeing it
okay or is it too small
so basically these are all project
actually running this is arm so you have
the function block on one side and you
have the variables changing and if I
click on the variables changing I can
see the history with them and bear with
me because there is a traffic light so
there is a green arrived and a yellow
but the colors of the plot don't match
so on top of the green and as you can
see it never matches with the red you
can see it from the label but the yellow
at the bottom overlaps both of them so
you can believe in debug your traffic
lights application straight from this
and this is a subset of the application
running in pure script I still have to
write some rendering code but visit that
is done in pure script
so the deployment of our application is
quite interesting so yes there are
clients that writing these PLC language
their applications the user compiler the
compiler Lang the beam files in these
files are deployed on the bare metal
running beam that also runs cowboy and
cowboy stands to ID information that we
can debug with so the structure more in
detail is like this you have to been
running on that keyboard the PLC program
cowboy they talk to each other and then
they send WebSockets information to a
PLC ad in the browser so we had a bunch
of requirements for this application and
the main one was we needed to support
all PC operating systems and also the
iPad pro the performance needed to be
decently interactive not any game
development sort of performance or 30
frames per second would be fine so we
didn't end up writing a renderer for
WebGL which it would tell that you'd
like to do but so our frontage choice is
web technologies because who wants to
remake the same application three or
four times for the native ones with the
need to so don't mean normally
JavaScript CSS and SVG but you know
JavaScript does not do that
so some possible choices are backhoe
script closure script CoffeeScript
reason pure script and typescript fable
and also many more we are breeding like
rabbits so we have all these choices and
we must choose wisely or we'll have to
port again to another language later on
so our first choice was out which
basically say please adopt me I won't
mention mana I'm a really nice language
you would be very happy with me and it
was yeah that was pretty good and three
years on some L no one two people okay
so line is mainly known for helpful type
errors and also being a fairly
opinionated language and those are pure
and typed language which is also simple
which is pretty rare in general so L
achieves the simplicity through afraid
of so it's
doesn't get all the most powerful types
that you get for example in Haskell it
stops at some points but that gets it a
smooth blending curves and they're very
helpful error messages and also it gets
it some boilerplate there is a fair bit
of boilerplate now if you're developing
a fairly complicated application and
also this component story they don't
really have components but worse for us
they abandon the functional reactive
programming and that's where we put our
foot down nor is because we use
functional reactive programming in Elm a
lot so we needed a second choice and a
pure script is a they don't they don't
try to make type simpler really they say
okay here the types you can get types of
the powers or your brain will melt one
of the two is going to be the end result
of this so pure script is a purely
functional string that strongly typed
you can evaluate the language that
comprise the JavaScript and that is
exactly like Havanese but differently
for mal it has advanced types such as
type classes and higher kind and types
it also has Oscar like syntax and you
know the squiggles that people in a
scale like to have like starship
operators and all those tough cookies as
those and doesn't and it doesn't have a
runtime which is nice in various ways
because it generates fairly readable
Java JavaScript some people I think
actually bright just get code within our
JavaScript language and just commit
JavaScript project and just commit the
generated JavaScript code so it's very
readable
after the community is very nice it's
open and it's got a bit of a roadmap
which is always good so the pros of jobs
they were pure script from versus
JavaScript the main one is if it
compiles it works at least ninety
percent of the time possibly more and
you can be fairly confident you're
factoring
B because the fights will tell you when
where to fix things so you can refactor
it's better if you do it in small steps
because you don't want your type errors
to get too complicated but at least you
know the ones is stop complaining at you
it will work
generally it's also a clean language and
there's much fruit needs much fewer
lines of code
compared to JavaScript and it has
certain messages which is better than
you know undefined it's not a function
or whatever and also it has some pros
compared well the first one is pursuit
which is a library of search engines of
all the libraries that are in pure
script and you can search by type or you
can search by operator or anything
really so and it is very handy when you
have those quills the starship operator
if you look it up here you will tell you
all about it and I've got something like
this but it's an official and it's
fairly recent I should probably make it
official because it's really convenient
and also it's got a clear direction as
in it's got like my stones on github so
you can keep track of what they're going
to end up and surprisingly you can work
a lot with the wrapper in this language
which is not common for subtly typed
languages but since it doesn't have a
runtime you can just build your language
in the red poll which is very nice and
just have it work also it's got
interesting new ideas about workflow for
example tight holes so this is an
implementation of fit bugs and there we
don't know what that function should be
we we don't know what the type is so we
just have to the compiler we put a pipe
hole in there and it has a it should be
this type let's type in feelings doing
that and then it suggests us all out of
all the libraries that you have in your
project there are these functions that
fit with that size hole and so it
suggests you what it should use and it
is fairly convenient and then you can
use many higher abstractions that you
can't use in al but that can also be
account because it takes time to learn
them it's not quite snappy also type
errors are not results for them but it
can't really be because the type system
is that much more complicated so you
might be thinking and this is too hard
and now you're going to say Oh Amanat is
just a mono in the category of vendor
functors and I'm gonna just going to go
to run outside of this room but now I'm
not going to do that
yeah Haskell and pure script can be hard
but you don't have to know everything to
start you can just run little bit and go
on at your own pace for example if you
come from Elm or maybe like something
like f sharp you only need to learn to
use a few minutes and then you get need
to get somewhat familiar with type
classes and then you can start writing
productive pure script you know you
don't I
there are a lot of researchers doing our
research in a skill and you're venting
new things all the time but you don't
have to learn on all of them right now
you can just go at your own pace and the
highest fashion will still be dead
tomorrow waiting for you so why pure
script after all so I like the type
system now and the five season Elm is at
the simple size of a type continuum so
you can have really advanced types like
Oscar and sort of medium towards
advanced like pure scripts or really
simple like are so I thought well why
not try to have more powerful types and
see how that goes
and also if you done some Elm or
something similar you might get restless
with on boilerplate because it tends to
accumulate very bit of boilerplate so if
you are tied with that you're quite
motivated and ready to learn how to
abstract it away and also it's similar
enough that porting code can be quite
straightforward and also and also a
biscuit a general-purpose elm is not
general purpose so M only targets the
web browser not even nodes so you can
only write web application web client
applications while you someone is even
rewritten and implemented them as a
library in pure script and 0.16 and that
is that your script al so its general
purpose you can do pretty much anything
with it and also I think it benefits
from following a scale from a distance
so the apt all that research in Haskell
and then you could implement it when
this researchers produced something
interesting that also fits with the type
system that's already in pure script
and the user experience is better for
that so there are philosophies
differences in Allen pretty striking
ones because Elm
only gives you one possible program
structure there is an BLM architecture
end of it while biscuit gives you many
many different options and you can make
your own as well
everything is fair and then al is made
to be simple above anything else that's
their priority and the learning curve
should be very smooth so you might be
able to learn them in a few weeks while
in pure skip you have a lot of the power
that you have in a scale so the learning
curve is longer though to get stuff that
you can get started in a few weeks so I
might inflict on you my reflections on
Allen Pierce Keaton Oscar so Allen is
the simplest language out of these three
statically typed pure languages it's
very focused on user experience and as
only one way to do things and they are
very ruthless about removing historical
baggage so if some feature is not used
enough to just remove it the deleted in
fix operators I think in the last
version and I think that makes it a
great entry level language also if you
want to make a prototype or you want to
try out statically typed pure functional
programming definitely try out but it
only targets web browsers so if you want
to do anything else you're out of luck
on the other extreme and you got rascal
of Calise our search language as we said
it has got all that search going to its
new things appearing every day so it's
the most powerful but you know when
you're researching something the first
interface you come up with is generally
not the best so the user experience tend
to be not as good as your directions it
also tends to have quite a bit of
historical baggage because it is hard to
change things when it's being around so
long you can just make everyone's code
just not work while pure script is
stands in the middle it's sensible
language they make sensible choices and
user experience is good especially in
the tools they have very nice ideas like
the titles and the ID library is very
nice
so it's got a lot of power but it's
eagerly evaluating so you don't have to
learn laziness to use pure script which
is one less thing to learn though for
general purpose and it has got many
backends including another language so
you can actually write few scripts and
compile to the beam and then we go to
the frameworks overview so assuming you
want to start something in pure script
there are two big categories I would say
one is wrapping react and the other one
is pure pure script and I put them here
on the side complexity continuum so
start from easy - there are three models
here
so on the inside that are Flair and bugs
and there are some way that you chop
lenses which are termite an optic you
eyes and then halogen at the extreme end
of type complexity so flare is a really
nice little library to make interactive
graphs like that one
so it's limited to a specific use case
but you can start with it from from the
very beginning you don't need to learn
much more to use flare you only probably
need for the send applicative functor
syntax which looks terrible but it's
actually fairly understandable once you
sit down and just do all the steps and
then this is the code for that little
graph you can see that's pretty compact
it doesn't even have to get a factor
into syntax and then we have bugs tax is
very similar to the Elm architecture the
one from Elm 0.16 and for our case it
has SVG support already included which
is good also as and you can use the
interactive reactor burger with it and
probably is the simple spirit framework
that still lets you do some proper web
applications it might not want to do it
because you know react appendixes how
painful is to install react it's very
painful for me at least but not all is
lost because now they changed
dependencies so it doesn't depend on pre
acts on react anymore it depends on pre
act which is better and this is pack
structure so there is a model which is
called state
and then the reaction you can do on this
model and then there is an update
function and a view function and you can
send inputs to your application or and
you have the app monitor to deal with
effects and as you can see it's very
similar to the Elm architecture
structure it's basically the same just
model is called state and effects I've
got the wrong models instead of just
being called effects and this is the
code for a counter so we have two
buttons one implements the counter and
one bickerman the counter so there you
have the action increment and decrement
and then you have the state this is just
an int you have the update function that
takes an action in the state and returns
the next state so you button match if
it's increments all gonna add one if I
decrement and run a decrease one and
then we have the rendering function when
you wrap all of that in some HTML and
that's all that's it you have a counter
with that code moving on we have the
lenses ones I ever really gotten around
to learn lenses so and just can give you
a very simple overview of them so
termite wraps react and is written by
Phil Freeman which is Pisgah daughter
and optic UI Institute pure pure pure
script instead and I don't think it's
been updated in a while to be honest and
then last but not least halogen halogen
doesn't depend on react it's used in
productions by a company called slam
data and they have an application which
is a MongoDB analytics application which
is fairly complicated that they sell and
they're still in business
so them must be going well and it's an
open source project and with more than
one person working on it so they keep it
updated and working quite nicely
I still got a nice HTML DSL as bugs
before
and finally version 1.0 is alive so they
shouldn't change the interface anymore
and you might not want to use it because
the types in origin can get quite
complicated I mean it's all good until
you get them wrong and then maybe the
fibers are quite hard to follow
and this is the slam data application so
it's all open source for if you don't
know what
do something you can just look up their
code and see how they're doing it in a
real app and this is the allergen
structure comparing with the pack
structure you still at the states the
action is now broken down in action and
request and it's called query leave a
component type which is useful and the
update function is called evil and the
view function is called render and this
is one application with allergen it's
just a button that toggles a boolean so
you have the state which is a boolean
and then you have the query and there is
both an action which is toggle States in
the request which asks from the
component below what this value is
basically and then you have the
components wiring the whys all together
you have the render function and you
have even that button matches on the
query so it's pretty much similar to the
concept that parks has so thinking about
supporting something from the pure
script we have a bunch of choices to
make one is which tools another one is
which frameworks and we're going to use
so about the tools pivot has got more
than one package managers basically they
use Bower
Abner's up until now the views power but
power is a JavaScript package managers
so we has absolutely no clue about pure
script so after a new release in your
script appears bubble breaks everything
because we have a bunch of libraries
that are not latest version a bunch of
libraries that are the latest version of
pure script and Bower just mix them all
so it's fire and trouble but the
solution is easy enough you just have to
tell bar where the version you want so
that's easy enough to fix
just annoying but there are also another
two options there is PC package that
sees our package manager that the pistil
community is building to get rid of our
basically and it is also purify so if
you are into a scale stack that should
work in the same way so we chose bad
just because of convenience and because
it works with bulk
is the producer top tool for pure script
about beckon communication you know we
had two options really one is Jason and
the other one is Burt we implemented the
first one with Jason what we want upon
we are putting it Burt and we're doing
that because our server as we said runs
an embedded so we want to make the
computation as much as possible being on
the client side and Burt is apparently
one order of magnitude faster compared
to JSX so this is our little table so
Burt is 10 times faster than jiffy and
put it to eat and faster than gsx and
why would you not use birth is because
Murtaza support Erlang market which is
not a problem for us because our server
for the embedded is still on Erlang 16
but you might be a problem for you and
there's less of an ecosystem that Jason
because you don't have as many libraries
and the framework we ended up going with
allergens of creating pipelines so we
have a bunch of things that happen when
you start using pure script in anger
coming from them really so effects and
now within am on it and you have to deal
with the monitor instead in Elm you just
return a couple one is as your space and
the other the other element as your
effects so that gets you have to deal
with it in pipes now and also you can
have component which I couldn't every
noun and the components can even have
state which well it is a bit of a
controversial topic I guess because for
example in L they say one source of
truth is better and many other I think
JavaScript libraries like that concept
but for for our application we really
wanted to have our own state in the
different components so this is better
and then you have to think about how to
break this down into components and I
think this is fairly similar to working
with an 0.16 up to a point so as we said
the elegance structure and we saw before
but it's got some more concepts it's got
input values compared to one so the
parents can send information to the
children
it's got the messages components can
send information to the parents and it's
got requests as we saw so you a
component can ask information from the
children so there's a bunch lot more
communication that you can ask with less
hassle and it is pretty much the life
cycle of a halogen component so you have
the component it gets a query so you get
the query and the state and you send it
to your update function that gets you
one other states and you stayed if you
want you can raise a message to your
parent to your parent component and then
this new state gets sent gets sent to
the rendering function and then from the
browser you can get more input that will
translate to more queries and back again
to the component and this is it
basically this goes on forever so when
this actually runs the concept is very
simple about my porting experience so
stuff that up is while porting an
application made in and pure script one
thing is copy pasting some PI's work at
least partially for example here is the
HTML syntax on one side Annelle on the
other side in pure script and as you can
see that's very much the same concept it
just changes a bit how you actually do
that so you can just like copy paste
your HTML code and fix it that we work
in some other bits I like that so you
don't have to rewrite character by
character everything which is nice also
your types will tend to get naturally
more abstracted since you now have
higher kind of types you will start to
use them just organically without even
thinking about it much and you will have
to spend a bunch of time worrying about
what your models are doing well how do
you translate from one to the other
and the kind of stuff and also pipe
arrows can get cryptic so it's best if
you work in small chunks and try to have
as much as possible a building state so
it this compiler doesn't send you off to
someplace where there isn't really so
the conclusion for pure script is that
it's a powerful language that has no
limits on the instructions you can have
and also it will take time to learn so
if you know you have to set some time
without widgets and just be patient
but if you know elm or order strongly
typed functional program you get a head
start like F sharp that's what I think
and you don't have to know any
everything from that just start with
what you have and try to learn what you
need it's much better than trying to
understand categories other cell
category theory straight away and then
which you just drive you mad probably so
don't do that and also they're not
obsessed about language user experience
which they are you know I'm really but a
still good is still quite decent with
very nice tools and if you are curious
about higher structions you can try some
of them in Erlang with the London or in
Malek's here elixir I've got two
libraries for that one is algae and the
other is witchcraft so if you are
interested but you don't really want to
start using pews if they should probably
take a look at those and see if you like
them and if you do want to get started
with pure scripts
you should get fuse kit from p.m. or 4
PS VM with this which is pure kit
version manager I suggest a second one
because then you can have multiple
versions and it's much more convenient
and also you should start reading to
skate by example and it is a free book
written by pure scripts autofill Freeman
and it's quite nice you might want to
complement it with the asker book
because the languages are similar enough
that it makes sense and also because
this tend to be quite quick in some
places and the oscar bookings that goes
to everything so you probably want to
use both if you don't already have an
idea how this works and if you come from
them you should probably read this kit
uncomfort which is a library that
implements a lot of alum in pure script
and it just shows you some base which we
have when you thought you're like well
how do you do is do this in pure script
and you can find it at all so first you
should probably try out flag excites
really quite fun and it's probably the
thing you can do or
and with box you can already make
planted applications and you should
definitely meet the community it's very
nice it's everywhere there's an IRC
channel there's a black channel there's
a Geeta channel and there are video meet
up online video meter from and there are
people from a million in the world
participating and that is all actually
one more thing I feel i interested in
embedded Erlang we have a board an
embedded board and you can win one of
those we can win one of three by signing
up on this website
bye until the end of the conference and
that is actually all left us plenty of
time for questions so once I have the
first one question you experienced lamb
I have a question related did you try
Haskell Bay the web framework exact
that's all yes I tried Reda price FRP /
flex pay flex yes yeah go I was doing
about years old yes I know I didn't try
yes it yes well probably front and side
as well I don't know we have another
longer by the system so we can't have
anything ask early on the service side I
think gives us some services right I'm
not an expert on just just asking ok I
think it does well I tried reflex if I
get it right FRP
which was nice but it was pretty
complicated to compile it because it
requires nix and it applies GH CJ yes
and yes you can do it but I wouldn't
really propose it so the rest of the
company because if they see how you
compile it they're going to throw me out
so no but it's nice it's nice if you can
if you can do that thank you
more question
you're pure script experiences it's kind
of fish this nice type languages it how
kind of more productive do you feel
using this compared to what you probably
did before writing JavaScript a lot not
really a lot you give a sector of it or
is it just like alright which other
workers do they work or how about it we
ate about that well the frameworks are
much more powerful in my opinion well I
know there are people who really like
some flavor of functional driver script
but I think if you're bothering doing
functional JavaScript you might as well
use a functional language and just
compile to it it makes no sense to do
that without adding something the echo
system helping you out because you're
going to use put a lot of effort into
keeping everything functional that
something is going to sabotage you and
it's just much easier if use a
functional language so functional in
general is already easier and I think
functionally and functional and tight
it's also fairly nice as well of course
this is a matter of opinion but I think
I see the advantage of doing it mainly
in not having to the bug so much
afterwards or no more questions and
let's thank the speaker again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>