<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Berlin Erlang Factory Lite - Lightning Talks | Coder Coacher - Coaching Coders</title><meta content="Berlin Erlang Factory Lite - Lightning Talks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Berlin Erlang Factory Lite - Lightning Talks</b></h2><h5 class="post__date">2015-12-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X-jdDz4VXe4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Michael I come from old
fashioned hear a horse or software house
we are Ruby programmers we love to write
nice looking code which I know some of
you don't like or some reason but these
niggas looks nice but these days Ruby
isn't enough to write a whole full
experience of interface for users so we
need to learn JavaScript to make the
experience fluid on the front end for
desert for the users and that's not all
our needs are now going even even higher
than that so we don't only need to do
Ruby in JavaScript we need more because
our company builds even the smallest
front of web sites and goes to bigger
enterprise application that's why we'll
learn technologies all the time we have
hackathons every sometime we have two
days when we just hack and learn new
stuff and you can go there with anyone
from any chemical company and we had an
idea for an application during the
packet on that heavily used web sockets
because of that because rails handles it
pretty badly we decided to go for
Phoenix high for Phoenix was big at at
that time and it was similar to Ruby
because of the elixir syntax and
everything so we decided to do it and
now we are also alex your programmers
because it was really easy to start and
I likes your application in phenix to
just implement the whole thing we wanted
to do so our application is called
spring spring kaka Rio and I'll just
give a quiz down
it looks like just you can go to sprint
poker I oh and here we go we can add a
new session a demo session I'll start
this session yep it works but for the
sake of the demo and I already have our
session set up with two of my friends I
just gave them the link from the number
and now I can add some tickets because
it's just an online poker application so
I add some time ethical tickets don't
look at the ring of fire don't fear my
language here whoops fear fine teen just
as the toxin and don't let the next
rocket fall yeah it's pretty important
okay so let's start volleying as you can
see don't get the ring of fire for me
it's pretty easy I'll do it too ok why
wouldn't vote it now we can review
points is everybody think it's pretty
it's harder so we big 39 let's go to the
next ticket don't fear my language yeah
that's easy for me is it ok let's review
the points yeah it's easy ok as you can
see that it's automatic look it if
you're my team yeah ok they worked with
me yeah so let's go
and uh yep oh yeah I don't know what
happened yeah it's still a vega let's
let's go ok and the last think it is
don't let the next rocket fault yes it's
hard ok let's review the point ok so
let's go in five and and something wrong
happy but anyway usually it's it's
pretty ok so thank you than sprint
Parker and the most important thing
about it yes yep it's open source so we
can go there ok so my name is ok and I
suffer from nothing Pettitte here
syndrome mine is pretty bad I brought a
model database but unfortunately it
works very well and it's a pretty stable
so it has a pretty good list of features
it uses raft consensus algorithm it uses
sqlite is an SQL engine and it uses el
MTP as storage engine it supports my
squirrel I'm sorry protocol and also
with so you don't really need any
special drivers there is one for her
life that's just because like a nice
interface it is horizontally scalable so
what is activity be actually it's
basically a database for software as a
service and if you think about the list
of these examples all their database
queries are user specific so if gmail
for instance you open your gmail account
every database query that
execute is only for you so what emails I
have has nothing to do it what email
some other user has so if you are wish
to skip your database to a large number
of users a lot of companies like Dropbox
sacrifice everything that makes a
relational database good throw relations
out to window all you have no choice
yeah you have no foreign tables they
basically turn it into a key value store
which makes it rains a lot of problems
so what activity does is well turboxs
you theoretically gmail or Dropbox can
sharp their database down to a single
user so that is one activity bees it is
a SQL database that is Charlotte by
default it works like this it has many
SQLite instances on top of a single atom
dtp file burnout and you can have any
number of nodes and we use ln to be
because you can't really run thousands
of desperate instances at the same time
if they're all writing to disk in their
own individual file so we managed to
integrate it with sqlite by throwing
away the right ahead lock code so when
our bride comes in to ask for a light it
generates a list of pages we stores
pages into l ND b and because we kind of
a very nice interface between the two we
can just stop like compressed every page
so all that is compressed and usually
pressure radio is like ratios like
thirty fifty percent which means it's a
big good payoff
you can't really scale raft to one
hundred dollars but you can't so this is
why activity P divides an activity set
up including clusters you have clusters
of 13 or five dollars and ref runs
within that cluster so when I request to
write to an actor comes in from behind
side that name is hashed which
determines which cluster detector was
living so it sends that prey to that
cluster and you can have any number of
clusters because every actor or every a
scoreline instances instance is
completely independent from any other so
it's very concurrent much like our link
this is how a simple query looks like so
we added to SQL the first line which is
actor you specify type you can have many
different types and every time has
almost KEMA then you say name of the
actor and you can put in have a list of
flags but right now we're only using
creating this means that if the actor
doesn't exist creative and we just
insert value to perform a very is the
same my type my actor and select I can
also have multi multi actor transactions
these are distributed ACH transactions
so it fails a one actor it will fail on
all of them and activity basically just
read the first line and sends off the
rest rest of the SQL statements to every
every actor in every ditch Britt system
you have a problem with how to generate
unique IDs so this is
actually provides this option so when
you receive this request it will scan
the string and replace every any unique
ID tag with unique integer that is only
unique across themed our database we
also have key value store which is
basically a Charlotte table across all
of your notes it has a user-defined
schema so you have multiple columns and
have sub tables so it's a key value
store which has incremental updates if
we can just which many other key value
stores only have all the right data you
can have incremental updates so it is a
very powerful and also performs very
well so that's it thank you it's almost
also check it out couple of years now
most for a without homes platforms with
Phil and Dennis who even talk about our
party system today I would like to show
you the application or providing for
airline that I wrote recently to say so
our performance problem so why yet
another planning application well i
think you know that's a in early work we
don't have a lot of tools for profiling
there's a probe there are other tools
but so we found we find
they're not always the perfect tool for
the job and we often in our application
and the latency is very crucial for for
us so we have a bottleneck we see on the
graphs that song requests take longer
than expected and we always have like we
ask ourselves what is going on why this
request takes longer and why we are
wasting CPU and usually it's because we
have an optimal code that is triggered
by some very specific requests very
specific day so and also usually when we
had such problems we were writing your
own custom code using dbg that was
monitoring some functions and say me and
time measurements and then don't go this
magic for every case when we were trying
to spy bottom leg we were writing the
same stuff again so I thought that it
would be cool to have like tool that
does it for you this is jeanie dbg and
has nice graphic graphic interface and
so I created the next block it's already
in the github I will try to show you
today how we fit use it
so ideas simple you
so basically idea is that you put a
codependency to a project and you
basically like extra start and it starts
the web server on your airline node and
you can go to the website Chris little
bit much so on the website you can see
that you have one button for turning on
and off tracing because sometimes racing
too much functions and functions that
accelerate our program is going to be
installed on your system so we really
wanted this tool to be safe to use on
production on here you have the function
browser which if you sort I think you
can see the intellisense showing you all
the functions that you can trace this is
using just information of all the loaded
modules and there's some tricks to get
the information from so let's take a
look at the short example
anyway that's a very simple module and
basically the function that I want to
show as soon what's going on is calling
timer study with a random value so you
know different cost of a extensive fun
will you know take from 180 seconds
total one second right so this is one of
this show ok so now now the early game
spoiling our processes that are
basically this function so every second
the expensive phone is called beta
preferences and no execution of of this
function takes to run 100 seconds to do
one second and what you can see in the
graph here is that first of all there is
a green line shown you for many times
since function is called
violet line here shows you one
misdemeanor execution time and twenties
red bud is showing the person tell
others percentile and person x so this
slide here shows what was the minimum
execution time of expensive fun and the
top line or server the max and here's
for example 75% x values show so you
have all the information about the
distribution of the execution time of
that particular function what is more
when we find out that some requests for
taking long and we cs5 here we would
like to see one or the arguments to this
function as triggered in performance and
said and I'll make her life to execute
this function a very long time so here
we can catch a such functional and so
here we can give for example the value
of notice the execution time above which
we want to catch the arguments the
result from fun attractions so let's say
that we want to see the arguments that
were passed to the function that took
more than 120 in a second and we want to
stop printing this function since with
you I after catching two examples so
here you can see that we have dinner for
examples of this process you know
executing this one
showing his cook Estill Co 113th seconds
and the arguments passed as function was
just a mess 144 140 tow it so that's
that's basic ated you can find it on the
gift code oh my account and once I was
running in your harrowing applications
where you put it as a dependency and you
started this starts the convoy web
server so f profits explicitly one
opponent website so on running system is
not expensive well if you run after for
example we were tracing all the
processes for example by exe just did
you say run these pics but anybody web
server that picks up resources from the
other side no yes yes no single day I
didn't see any actually impact on our
system we are using big machines but I
didn't don't didn't see in any footprint
of hopefulness the biggest football has
tracing out if you enable racing on a
function for example Delta and you know
it's using accumulator and you're
getting an interesting award list then
you'll see the big impact of our GM for
being this organizer
show function column that has much more
inviting 11k a cowboy so I follow couple
really wish I wish I'd been told before
us that too before I learn about the
Ring of Fire so let's take a walk let's
talk about vicious you only see Miss
pictionary and yeah we have some
directing record we have some HP is very
nice turkey whatever it is planets or
change into some partitions and the main
point here is that partition is you have
the closet of them and it's the only if
you need to move data from one machine
to another is the only thing the only
unit of something they can be moved we
thought what sections exceptional power
exercised and if you want to add
replication you just need to pick
another partition then to actually run
this somewhere you need to assign those
organs to some notes and execute a spawn
Reno's there this is like ideal state of
the cluster and for each video which we
not have some off that altar and this
called primaries what happens when
something goes wrong then we have first
misconception that I thought for a long
time that will be helped by some other
partition that's not true to be handled
by
partition and by the same same maybe not
but it just will be executed on
different level so when and when
priority goes back we'll have some
transition between actual state of the
cluster and Tyga state of the pasta and
for this time all those northview
coexist and yeah enough can happen in
three different cases either you had not
going offline or network speed and then
they cluster rejoined and you got a
fallback realizing that primaries there
or you change the target set of the
faster by adding more notes or you
wanted to add to split your partitions
and the opportunity of the resize this
is managed by dosing system and this is
well known but which it we should what
is less known and actually another
gotcha is that react used to allow to
manage the state of dream by any knob
but every now it's only one reassigned
polish keyring that can actually modify
the number of physical walls in the
pasta and it's called time money and if
you walk into your quality proteins
after all this so it's not what request
what's going on when you send the
request okay you have some 80 I know you
have some coordinating point that gets
information about who to talk to from
rick manager or cash or whatever and it
says that you be not right now there is
a real proxy why it's there first of all
it's the reason of having like each
index on each you know it's possible
index on issues of physical law because
if you want to do this trick with the
whole eggs then you probably want to be
able to address everything even if it's
not get there and when request comes to
the not that doesn't have any not you
know for this index get it will be owned
by proxy and important thing that we
don't concede ask is that it
performs my treasure is this like big
red thing let's assume it's a back
pressure police you know and actually
when it happens or when you have some
feather then you can end up in this
situation when yo you know actually
doesn't have some data or that was
written in the to your replicas during
some beggar or then how can you get this
date because if you end up is just this
not are responding to your eats then you
just won't get any data how you can
converge that you can use repair or you
can use active entry I can't revive and
here is not a good shot really pair
maybe not but one because it means that
for each people probably will need to
execute a right and active content will
be unless you use Gregg Katie it's not
there for you listen reg Regular Air
Corps but there is bracket education
cash trees they are not documented by
the but if you look into this module you
will find reputation for them use them
if you use record and there is nothing
we it's awesome in it and basically we
have cluster right a very storage or
configuration it's nice to have and also
you have coverage request so you can
also there this is absolutely not
documented as personal but you can ask
react or to distribute your request
efficiently across set of moss and
covering your desert and also you can
ask you know what for just one key but
for the Ranger keys and you can mix and
match and draw a lot more way more
things to use a reactor core which are
not recommended so you actually should
ring through the source
okay so hi everybody just complete list
myself a craftsman must walk over the
web doing most of my work to the sauce
can't find my key tub NYC and walking
down on another language static menu so
today we talk about the power which was
named couch and stop the default of
custody but we decided since the
beginning of the air filter browser and
barbuda the rest of the world and she
still at that mentality database which
means we are doing which was the
document is just furniture meter data
that was to also most historic gisin in
barber pole school was also you say your
things that can campbell 8th edition
statements as a revision three we are
shipping this to your documents must see
for consistency so which means like in
wikipedia when you want to have
Testaments you need to pass the revision
you want to a dance and he there is a
conflict we get the coffees back or you
can force uninstall the coffee
experiments and when to 2050 TT twins
are nodes in both weight and pure boosh
to the north then we are all the story
of the document and make the decision
which conflicts you you want to solve
which story even in the good one its
direct store torrent things with kasia p
and x rays of change each suit each
change in your UV you are able to get
each entry to the bed and use a chance
peace to vindicate 12 elephant is
basically your own you has used and
casually call that matt simon radio so
you are
the speech is to overview on you that up
and pass a function of documents and
index it intex and crematory i mostly
see that not as much reduced but as a
way to build virtual views above ver GE
and way to sharks depending on different
parameters to realistic and this is very
important in biochem to just get so
overall the future that you can find
custody you have also a huge change so
it is like the change feed on the face
with these are change over to index
which is quite interesting welcome but
if you want to build a vehicle database
you are going to make a few an index of
that bed and get all the change and then
replicated change these view other than
best whether the notes or to another
database you have Burkett which works is
partially and coached by the eyes on
mobile I shallows you to fetch me cheap
documents at the same time actually the
functional being stolen important in
custody and resulted and then we were
also released history because it is
suffer some Caribbean Lee it's also some
peace need to be replaced and a lot of
already bouquets in bar but now in the
storage there's a new apt turn on gene
that we launched this week and you gon
change to make things faster there is an
involvement anal cavity API basically
mercy for their applications and
way to import back and forth from kashi
pc baron von weizsäcker to be well as
every there won't be no more egg curry
on jeans and Barra is not marketing
efforts we don't do we don't want to be
like in his order the debate I think
there are already a lot of databases
that can we use that and the goal of
Paris mostly to to allow you to move
that up very fast and very quickly next
to your user so very dancing need
location that education and that
investments so we are more interest we
find ways to provide you the waist match
the does that correspond to be divided
we user or another today's in another
equation the Baron is free HP so the
distribution of parents that is that is
him is coming is mostly changeable
reputation so it means that you've been
able to change repeatedly got my notes
in any way i am from different location
without a new mexico por favor on even
without any directions so you have
contracts between nodes and because that
has I data as
is concerned we find that that I total
new blogs this is also an application in
education is a soft data and KGB you
have the couch at on which are four
floors and value of the replicated apps
so we solve ax that can we do that
allows you to run of them or something
and to anyone so we invite you to check
out parade on TV for when I'm any work
done thank you ok that one's up today
thank you very much for coming hope
you've enjoyed yourself I haven't I want
to thank our sponsors again so AOL
especially platinum sponsor house and
bash Oh call the silver as well for
today and all you for coming I think we
rounded people came up with something
like this so it's been it's been a very
very nice man</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>