<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>EDTS Tool Suite - Making Your Life Easier - Thomas Järvstrand | Coder Coacher - Coaching Coders</title><meta content="EDTS Tool Suite - Making Your Life Easier - Thomas Järvstrand - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>EDTS Tool Suite - Making Your Life Easier - Thomas Järvstrand</b></h2><h5 class="post__date">2013-10-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TaGrIJGhrGQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I don't know if Emacs will ever become
mainstream but we can always hope so yes
I'm going to talk a little bit about the
early development tool suite which is
basically a set of tools to make your
Emacs life slightly easier with our lang
Who am I
my name is Thomas I work at Clara I was
born and raised here in Stockholm
studied in a motor science here at the
Royal Institute of Technology kth and I
joined Clara in August of 2010 I've been
working with our language since I had
never ever seen it before so like most
people that come from University I guess
these days with all you're used to full
screen well I guess that clutter your
screen we'll all kinds of stuff so
getting into the Erlang world initially
was quite a horrific experience for me
really I mean it has a lot of nice
things about it but unfortunately the
tooling support is not one of them so if
you look at the tools that we have today
we have our line mode so these are just
this is this entire talk is going to be
this Emacs centric and if you're not
using Emacs you should start so we have
our line node which is quite nice
although limited just oh also pretty
nice and it has a lot of nice features
pretty powerful but it's unfortunately
pretty difficult to set up especially
for a newbie like I was and it also
lacks some very important some features
are very important if you worked with
our lines pretty professionally such as
working with several projects at the
same time and things like that our
several branches at the same time and
fly make which granted I haven't tried
in a very long time but the last time I
tried to use it it regularly crashed my
entire Emacs session so that's also I
think that also falls under the into the
difficult to set up category
Wrangler very nice but more of a science
project really then I mean a tool I
would say I mean well it's a great tool
actually but it's a little bit limited
unfortunately so basically this whole
project came out of my own frustration
because I felt that I wasn't being
productive enough I was missing so many
things like it started with just being
able to run have distal connect with
several notes at the same time and then
I wanted auto completion and other
things so I mean to me there's I mean
EDPs is it's I like it a lot but it's
not really anything to be excited about
it's more about like achieving some kind
of hygiene hygiene level for your
development environment where you have I
mean these are tools that developers in
pretty much any other programming
language just take for granted so what
is it it's basically a bunch of
different ela SPAC atures and that i've
put together and written some customized
plug-ins for them and a bunch of glue
code in a lisp and our language both to
tie everything together and to add some
additional functionality and the way
that it works is basically that once you
have configured your project I'll show
you how to do that a little bit later
it's in the standard case it's very very
simple sometimes you if you working with
a simple single application you won't
usually even have to make do any any
setup at all but you after you configure
your project and you open your first
module inside the project ETTs will fire
up a primary ETTs node that email
communicates with over a rest interface
and that will then communicate with a
project know that you fire up one per
project where you have an open module so
this is an example of this is like an
advanced configuration basically so this
is in case you can't live with the
defaults this is you just create a dot
ETTs file inside your project where you
specify some things if
in this case you have an additional
directory where you have some source
code you want to have a specific name
for your project you want to name the
the node that your project is running on
and you don't want to use you have a
specific specific location where your
OTP is installed so that's very useful
for us electronics and we're working
with multiple OTP releases at the same
time for different projects so basically
what happens when you open a module
inside this project is that Emacs or DTS
the Emacs ITV DTS will fire up to Erlang
notes and communicate with the main the
primary TTS node over rest and then use
normal Erlang distribution to
communicate with your project node you
can also start your project outside if
you prefer so you don't actually have to
have your your node running inside of
emails you can start your actual system
outside in the terminal and unittest
will just recognize that and communicate
with that node instead using Erlang and
distributed Arline so what do you get
you get some lightweight project
management mostly useful for the
developer if you want to want to extend
if you like doing some scripting in Lisp
there's there's some convenience a lot
of convenience functions for working
with files in the same project you get
very some very convenient highlighting
some again like basic functionality that
just improves your life so much you can
also edit all occurrences of a variable
or a symbol at the same time very easily
auto completion a nice shell wrapper
with syntax highlighting in again Auto
completion and in the buffer every time
you save you will compile show errors in
the buffer run unit tests may do extra
checks you can do a dialyzer analysis
very easily I've disabled that by
default when you say because on older
OTP releases it takes quite a long time
unfortunately and and you get very
convenient access to documentation which
I will also show you how to setup in a
minute so this is more of a demo really
than a talk actually I'm not gonna I'm
just going to show you
how easy it is to set up and the
different things that you that you get
when you install it so that's what I'm
gonna do now so I have a little bogus
project here I hope everyone yeah that
should be good
big enough for everyone to read it's
basically a bogus project here with all
the code and the Lib directory two
different applications
Noel files but that's I don't know ETTs
doesn't work I move the app files
currently on anyway so I'll just open
one of these
so you have it I don't currently DTS is
not enabled at all so I just have syntax
highlighting basically and I will go to
my max configuration so you have to
excuse me by the way guys I'm the worst
typist in the world as soon as anyone is
looking on my screen at my screen so
I'll probably make a lot of mistakes
yeah and let's see so basically you you
pretty much you only have to add two
lines to grammatical configuration once
add ETTs to the load path and one to
require it and actually load it there we
go
that's all you need so if I now go to
one and I revert this buffer you can see
that it fires up the note so you see
here that I have one primary ETTs node
and one node that's for the project so
now I think I forgot to delete a file
here unfortunately so now yeah I have my
project configuration file here but you
can see that oops it's actually empty
and still
ETTs recognizes that this is a project
and it actually sets up the code code
path and everything
woops yeah like I said I'm a horrible
type so many people as well
hmm yeah the demo devil is killing me
I think let's do this again still like
this
all right
so well you can see that we get at least
you get right away some variable
highlighting you see all the occurrences
of this variable for instance you can
edit either all the occurrences of it in
the same in the entire file or just in
the same Erlang function so you get that
pretty easily you right away also get
auto completion for example and see and
also you can see compilation errors
right away
so these two are actually not
compilation errors but extra of errors
because it can't find the module there's
something wrong with the path
I don't know why this happens every time
you're supposed to show something
that's there
ah no okay yeah that was intentional
actually right so because you're calling
this one is calling a function that
doesn't actually exist so if you go to 1
2 dot RL this one is actually already
one where in other words it should be
already see I orbit should not be but
the other function is calling an early
zero one so if we change this we'll get
an extra term here or here but you can
see that the extra fare here was fixed
no well it doesn't automatically
automatically when you save it will
compile it and load it on your project
node will no make flat well it will so
we're in order for this work entirely
correctly from the start your project
should be compiled preferably when you
open the when you open the modules and
then you can specify some you can
specify include locations if you need
some special include locations in the
project configurations but in probably
in the project configuration but
otherwise ETTs will just take the
compiler directives that you've given it
previously will read that from the beam
file and apply those when it does the
compilation again yes exactly
do yep did I answer your question oh
cool
and we can do
a dialyzer analysis which will take some
time to get back with the result but it
should happen eventually here we go so
you can see here function one has no
local return for example and you also
you should also get right away you get
code jumping same as distal but slightly
more powerful you can jump to macros you
can jump to you can jump to records and
you can jump to include files yep
so documentation like no unfortunately
not
no no then you would have to find out
all the all the beam files that include
this file yes yes I have a plan to to
what basically I mean you just reload
whenever you work with files et test it
does a lot of reloading so in general a
DTS tries to try to figure out what you
want to do and does I mean this will not
necessarily correspond to what your what
your build process does so you should
always like make sure that you have a
proper build using your normal build
procedures because yes used just a lot
of work to figure out what like how
you're built procedure will actually
work yes
once you know well there is no I don't
pull the files and check if they're
updated I pull which which files exist
and once if you if you're working with
it then it will pick it up so it once
you if you if you open the file it will
it will reload it will reload it on the
server so you you might have to rip if
you compile it from the outside you
might have to revert the buffer inside
Emacs today to for a chance to pick up
the changes or you exactly yeah but you
have to for you use you have to force a
detail well you have to force the the
project node to actually reload the beam
file after it has been compiled and
that's not so far done automatically
it's something that I would like to do
but I'm kind of struggling with like the
idea of whether to be like yeah I would
just kill the project but for a project
know what and revert it so if you just
killed the project know then and River
restart it and it will everything you
should work no no it's it's so it's
enough to just reload them X the extra
state won't be updated until you
actually save anything but once that
happens which me yeah
okay yeah that sounds sounds like a neat
idea it does it pull the file system
okay hmm that works actually I don't
know how to well that scales though if
you have a large project but I've been
looking into the inotify and and other
other things but I'm sort of struggling
I don't know if whether to try to
maintain like cross prep cross-platform
portability or if I should just do this
for for Linux which is the only thing
that really matters to me
oops and so you see that there is an
extra error here where you can't find
two because basically two is in another
right now it because you couldn't find
the project configuration it considers
one to be the project that's like hey
this looks like this looks like an
application I will create a temporary
project for this application and launch
a project node for that so that's why
you can see that this is this buffers is
called one and the node is called one
because that's the name of the
application so if we just kill these and
create project configuration file at the
top of the project and revert this
buffer you should see that we instead
get something here called it's called
demo because that's what the project is
called basically it's where I decided
that the root of the project should be
and now if everything works the way that
it should I should be able to save this
buffer and it should find the to fun and
it get an internal server I probably
have to kill this buffer as well
okay so this is of a development branch
that will hopefully get merged into
master very soon but still not perfect
yeah so if I now save this buffer I
still can't find that annoying so this
is at least how it should work I've done
this so many times when it's it's right
there in the code path but it can't find
it so there's there's a bug somewhere
that's right there
now it's gone uh I had to save them so
okay yeah there was there's a bug
apparently in how I update the extra of
stuff state I will have to fix but now
it works so now I can just jump into
this function without any any trouble so
this this should only really be a
problem when you go from one project
type well from a temporary project in to
using a project configuration so once
you've done that correctly and it should
all be fine and that's I think that's
well know you have this as well so if
you go to this we can easily see who
calls this function and jump to them
that was itself
so yep and that's pretty much it not
perfect not a perfect demonstration but
these things is very these things are
very much in development they've been
they've been for a while and if you if
you're missing anything or if you have
any problems just please open an issue
on github or anything
oh yeah sure I'll show you how to get it
as well it does completion on macros not
on the arguments of the mattress but yes
so so you exactly it's right there
and also it completes records as well so
you get that as well the the the auto
completion is something that can always
get better you can always make it better
and some people will be annoyed some
people will think it's awesome so I'm
kind of kind of working on that on the
entire time and tweaking it a little bit
yes
it's currently not working that well but
you're supposed to oh yeah I forgot to
show you the documentation actually so
if you want to install the Orlan
documentation you just call the DTS man
setup it will add a customized variable
to your Emacs configuration
oh yeah the network is so slow
oh that's sad well once you have the
documentation installed that's a
completely automated procedure it just
does it automatically and when you're
done you will get you'll get pop-ups
here you get it there I already have it
installed so you you'll see for the from
the documentation but it's actually is
basically so this is probably directly
from the source code I think and it
should it should fetch the doc strings
from your from your from your own source
code or the documentation from the LTP
documentation if you have that installed
so for your own for your own code you'll
get the doc string and the spec and
further before they go TP stuff you'll
get the documentation yes
okay the question is if you spell
something bad and you save it is it
compiled and where do you see the
compile messages warnings and stuff so
if you do something like this and you
will get an error message there and you
just if you just put the cursor over it
you will see the error message in the
message area and you can jump between
issues with keyboard shortcuts okay
thanks so let's see
that's pretty much it for the future I
intend to fix all the bugs
there's also ongoing work although it's
been a little bit dormant for a while
but I'm trying to pick it up again and
to create build an interface to the
debugger similar to the one that's
present in disto but with less hassle
around it so I want in buffer running on
common tests you come on tests tests so
when you like improve working with us a
little bit and I want to find some sort
of integrating or being compatible with
the factoring tool because that's a
something that's really important I
think so so far I've been looking at
Wrangler a little bit but also a factor
L seems to be a very good alternative
there
so after look into that a little bit
more in the future
yep you is it on ok we you're working
with maths confessed yeah I'm just to
make him happy
yeah so I plan on actually oh that's
also something I should probably put in
here just including eeper with ETTs so
you just compile compile and and load
eeper on your project notes so you just
always have it available it's something
something that I do I always have it in
my daughter lying to a deeper to the
code path so I'm going to always have it
but I don't think everyone actually does
that so if you want to check it out you
can find it on github that's my email if
you have any questions otherwise I mean
I try to respond as quickly as possible
on the github as well and any feedback
and or poll requests are very welcome
thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>