<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CodeMesh 2014 - Joe Armstrong - Connecting Things Together(..) | Coder Coacher - Coaching Coders</title><meta content="CodeMesh 2014 - Joe Armstrong - Connecting Things Together(..) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CodeMesh 2014 - Joe Armstrong - Connecting Things Together(..)</b></h2><h5 class="post__date">2014-11-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FqlewYgUcZU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">after standing I get blinded by this
yeah
connecting things together that's
actually all we do program this program
is just about connecting gigs together
there are things that pre-exists
software hardware and it's programmed in
a certain way and when we do things we
take software that already exists and we
do it together in some sense in it to
make it work and that is often far more
difficult than it should be
I'm struck by how the contrast between
the difficulty that it actually is to
glue things together and how easy it
could be and so I'm going to talk about
that and you need some examples so I'm
gonna show ways of gluing things
together that I think we're all very
easy and I'm going to look at a bit of a
history of that okay so like I hope I
managed to do it in an hour because I
robbed too many slides so the first bit
it's just going to talk about ways of
gluing things you haven't I kind of
visit monads and pipes and little men
and things and I couldn't define all
those things mean so the first thing is
kind of two ways to connect things
together you can link them together in
memory or you can connect them to a
message passing channel and of course
when you link things together in memory
they have to be on the same machine so
you couldn't connect things together
you couldn't connect something like
Sweden or something London to something
Australia they're not in the same memory
can't use the first method for
connecting things together if they're on
different continents on different sheets
it forced to use message policy whether
you like it or not okay and the way of
linking things together in memory that
that's kind of shared them if you can't
see especially if these things are
linked together I'm not static things if
they're things to do in talking about
concurrency so in link them together in
memory you're talking about shared
memory you can see when you link them
together through message passing you're
talking about missus classic you can see
those talk about these quite a bit and
before we link before we completely
concurrent things together we're going
to look at how we connect sequential
things together and then we'll go on to
how working out good common things
together so shared memory has the
property that is efficient that's a
positive property and they've got a
loaded and non positive things - moving
their negative things you need locks
it's not the errors propagate if you
link two minutes
two things in the same memory space one
of them could overwrite the memory and
second thing then you probably don't
really matter if your application
correct at somebody else's application
could come on crashing that's good
you've got no concurrency control it's
not scalable in sort of tangled things
up so they're not separated so you
cannot really see what's going on
like that they haven't talked all about
version nightmares with the end
message-passing it's got a load of
positive property exists the isolates
faults it's scalable you can you can if
you do like binding you send a message
to something to tell you to do something
the software on the receiving machine
doesn't have to be there for time when
you send the message it just has to be
there at the time you receive the
message they can say today deployment
two things you can change things and you
can achieve virtually if you like and
you can use things like all contracts
that would tell you about contracts
later that their ways of ensuring that
Martin servers agree on what they're
doing and you get back to the core case
it was all about messaging so the
sequential code computation is all about
composing computations so rows make
reusable things that could be reused in
all contexts I'm going to just give up a
quickly sent well it's not that quick
actually I was going to show you how we
can compute sine 2x and that takes
thirty six slides importantly so it's
not it's it's quite a few injury
if I think it's easy but we'll be
visiting no Madison pipes and exactly 10
you feel as Excel and then we'll go into
the purgatory heaven hell at the moment
we are kind in I'd say when Chloe and I
were not quite we're not quite in hell
hell was we might be able to get to
heaven but so let's cook in 5 2 times X
and do some debugging ok anybody think
that's easy
Oh Dakota
ok so it's so here's so here's how you
might write sign - you've got the sine
function and square visa okay sign is
one of these pre-built things that it's
given to us by God to go up notes out if
we don't have to sign it as a
congregation please hidden in the hard
way and a square we can write that
ourselves so we can say sine squared X
is sine squared X easy so one tip up to
composable if if you can write the
vector G of X what we want to do is just
take these things have gotta be able to
take our sine function and a half double
function and composer now I have been
always the first function
and they know vocals very nice sir
Pascal you can't but let you says it's a
type error if you can person this what
you do way around will get type scraped
at the same time Haskell Java Sea you
can't compile with the track system
compliance so it so that some why can't
you why can you sometimes with those
things another time not convinced I'm
going to try not debugging and show you
that hidden state the tracks and
side-effects prevents composability
right so what is hidden state well
hidden Satan is optically printed it's
not this hidden stage is called instance
variable to go in with something
changeling even second you can come out
this is in functional programming the
forced to carry the state round with the
state comes into it function also comes
out again and so half of the tricks in
Moultonborough just hiding this s firm
you're must see it in your code it
doesn't hide it so you can't see it
right and an object I think they make
some religion that you have two social
evils that when things like secret
philosophy Java can walk naturally the
coil with horror because I get a pork
wrap we weren't allowed to do that in
Fortran right okay so they're gonna like
this what so no no
in fact a program a moment is a
structure that represents compensation
defined as a sequence of steps the type
of the moment structure to find water
and then to chain operational nestled on
primitive life together it allows a
programmer to build pipelines of
presentation in steps okay so the
programmable semi cool
so what's it what's the what's the key
word in that paragraph I think that's
the key word in that sentence about the
pipeline things together that's a very
old idea so let's see how we can what it
can't fight mighty well that's let's um
let's add debugging to sign or is it
square sine of square of X okay so a
nice way to define the sine squared X is
not well now I define it by this you can
define a function components of F of G
of X it just returns a function which is
an effort G of X in Haskell in Aspen if
you want to just compose these functions
usually writes on this very site input
of one function so at the Apple one that
have becomes the input of the next so
this is this pipe operate giving two
ways a compositional piping just pipe it
output also I need to square so here we
are that's that's function composition
with composing design and square right
so let's have debugging well in a
functional language you're not allowed
to have side-effects
so both want to print out okay so sign
got called would sign gets called the
square or called
when it's very cool so we would change
the definition of sign to include to
have to root in that's not only the sign
of the function but screaming saying
that they
you got cold okay so if you define sign
within bugginess and macro and Cybex
comma sign called the square so returns
to things its value and distributing or
printing out that the string is a
debugging the thing oh the common person
anymore
oh dear we've broken composition it's
terrible secret I knew that we'd all
compose function doesn't work so we
broke the composition by adding
debugging compositionality that's
terrible
for what we do about that well with
something parameter we want the inputs
of everything to be the same type as the
output because if the inputs of things
are the same time as the output so we
can pipe them through a chain of things
we just don't need to care about the
ordering and that means that if the
outputs of the thing or a value in the
string then we won't be in vogue for the
thing to be a value in the stream as
well so that so that it's got the same
type because they've got the same time
for integers
banging together through the pipeline
and so forth we make higher-order
function that given a function of length
one argument returns two arguments one
of which is straight also a theater it
takes a function of for example the
integer to an integer in the spring to a
function and you see of Y at X out you
give it that you pick a punch with that
type and it returns a function that with
an additional thing argument okay so
that's don't you thing we want to do
that and just piping through this
pipeline and the thing flowing across
the boundary should at the same time and
then we'll be able composing right so
it's and what's flowing across these
boundaries a number of the stream will
come out as a number of
we'll come after them from the strength
result and then we can use two thumbs
bind which takes a function of a value
in the string applies the function to it
returns the view function either
and now we've got the possibility back
again we can say bind if this function
and once I found it we can compose it
we're in different domain now mainly to
put things together
so under this effect to get out at the
end and so normally what we're doing is
we're in one domain where composition we
can't propose anything it's a find
operation of nificent remember we can
compose things that's form X to Y and
then we've got the result we come back
into this domain within this and that's
a very familiar idea okay
thanks to be a physicist so if you were
if you were transforming sound exactly
the drum I can say bitch a bird it's at
the drum and if you want to do music
photo remove some harmonics from this
this is a time against amplitude you
take the discrete Fourier transform of
that and then you get a power spectrum
and now it is not time again frequencies
its frequency in its power you truncate
this spectrum removing the high
frequency components or the low
frequency components and the
transforming back into the time domain
so we're very familiar with this idea of
really so we can't solve this problem in
this domain we transform it into another
de neighbor we can solve it and
and with countless examples in the in
cryptography we will use this Delavan
energy effort to pass its domain for
doing integer arithmetic or even use the
go to this domain we can solve the
problem solve it in that domain and then
transfer it back into problem to then
what we have two ways of composing
things we can do normal some key
compositions like this G of X and that's
for what I've got small set of
computations but we can use pipes for
big steps and the pipes in this sense we
can actually implement it as processors
we send messages through a chain of
processes to do things and this is very
nice way to think about concurrency
people think that good job driving is
difficult but it's largely difficult
because we have bad notations and we
have thinking about it so you know I
usually do things could program is
different
yes but who thinks that is a fine start
a little papa me these are for ketone
processes that's not difficult that's
very easy
so what's making concurrency difficult
it's the fact that here we don't these
things are running in different memory
spaces in particular problem in this
there is a problem in the shared memory
concurrency which is a message blossom
concurrent function composition usually
doesn't have to be done in memory by
linking same thing at the same members
now if you wanted to pipe things
together you're doing like this so like
me you didn't matter
do some a square of double of X in
processes because they're small set
computations but if you wanted to you
could write it like this you could send
a number to our squaring process signing
process will be working inside just take
pass it down the chain you're next to do
this because these are small set of
computations small set computation if I
taught it in place you'd give the big
set of computations the nice thing about
this is that if you wanted to add
debugging you could spy on what's coming
in and out of the person you'd ever need
to change the code in any way whatsoever
it's already there this is like this is
like using wireshark you can look at
these because it's how long they're
structured terms you can just put a
spike hold on sitting them you're not
changing the code in any way so this is
the the equivalent of what we were doing
in the sequential case only now we've
got two ways of looking at the program
we can we can look independently at the
inputs and outputs of the program and we
can look at the what's going on in the
program itself now this is very family
you see one of the I think this is the
to me this is C most important principle
in southern GA design it's this notion
of softer others observational
equivalence it says that two black boxes
are equivalent if you can't distinguish
them from a input-output behavior so if
you observe this thing and every time
you send it in something on it
a channel you see something on its
output channel 2 things are all
professionally equivalent they're the
same we're not gonna have to look inside
the black box I think this gives us two
ways of thinking about programs we can
think about what's going on inside the
black box and that involves knowledge of
programming languages involve knowledge
of C Pascal thousands of programming
languages here well the other way of
thinking about it is sister forget about
what's going on inside and look about
what's happening outside of that box
serving what happens on the
communication channels now this is a
much higher level of abstraction we
don't need to know how that works if we
can assure ourselves that its behavior
is correct by observing it simple type
of behavior okay that's a very valuable
principle to have we make use of that
well remember small sets function calls
big steps processes write and function
running parallel presidential Isabela
president pariksit got a nice way to
think about parallel burns pipes yeah
they come from this is a dennis ritchie
which is boss wrote a memo to them this
is this is some history of unix website
we should have some way coupling
programs like a garden hose screwing
another snake with women becomes
necessary to massage data in another way
so you can see if UNIX pipes into our
programs to work together we've never
not to do each other right
mrs. Douglas until I know coming into
Richie and they say Douglas have been
explicit in saying no mean earrings been
mathematically nearly experienced
manager or control partisan
you know think they do point one's
garden hose connection analogy though is
the one that ultimately whacked us on
the head to best effect so I like I like
this this is for more computer science I
like the language whacked or something
to get things you know this is proper
computer science that's that's the
mathematical formulation of what a pipe
is this is another lecture if you look
at the pipes you'll find a lot about
software engineering by looking up
plumbers websites evoke will plumbers
content plumbing articles pipes the pipe
flow keishon in your home is important
for proper maintenance and water flow
many pipes are located in walls floors
and ceilings and are hard to detect if
you now I think we're a leak is coming
from the core professional plumber will
have the equipment to locate your pipes
in your walls floors and ceilings right
so how many of you know run it a little
how many know which cable comes through
the wall into the booter that you have
to turn off if you're if you're Lee but
your system they were flowing are you
reuters are overflowing with data which
one which cable is it coming in where's
the off switch
do you know where it is that's what the
plumber says afternoon over itself if
your pipes are overflowing
you have to stop you nuts okay so that's
pretty
thing when you move into a new house or
property right imitate the main stopcock
and turn the water supply off do not
wait until you have a major how many how
many banking places computer places
online shops do not do that right so
when they're going to denial of service
attack or something like that or when
their system is overloaded they don't
know where the major stop copies that
you have to buy the stuff coming in
right fit service valves all your pipes
this will allow you to look in the
bathroom sink for instance without
affecting the water supply okay or the
shower of the toilet you know can you
turn off the things in your network
without affecting everything else messy
parts tidy your room so this was oh I
like this picture because it's it's
yelling basically
talks about how do they replace software
as its operational well you don't defy
plumbers to do it actually so this is
these are the pipes that are carrying
the data it just gets water in it and
this is a this is a boiler and what it
is can be replaced without operate
without sort of fundamentally stop have
you eaten so this bought a replacement
okay so come in and you should be some
stopcock seeing you stopped at the stop
 here so the water stops coming
into the thing and then and then you get
12 anything you cut off all these pipes
and then you miss the boiler out and put
a new boiler in you well be up together
you turn the taps on again exactly the
same language
you take welding on and you sort of go
through the pipes and stop everything
but the new being connected or well you
turn it on again
that's exactly how I'm doing that rocket
science that mental that middlemen now
we do the time you remind me the
middleman creates the illusion that the
outside world the scenario it creates
the illusion that the outside world is
actual learning objects so if we've got
actually TP or something like that we'll
have HD to be coming here middleman here
outcomes there I'm John so it's like
that real world isn't all there alone
once we put these middlemen into place
it will think that everything in the
outside world is all we're like and
that's why the moment I think saying
that all these types are the same in our
case it all type of term so so we will
be able to compose so the middleman
creates the illusion that it's done all
those processes
why is it a good idea why is it a good
idea to you what's not good is city idea
but a lot of I only use xml j cena to
communicate between things and one sense
it's a good idea because it's a
universal language another sense is very
bad because it's text it should be
binary the reason it is good has to do
was deflected it because suppose we had
four different languages
English Spanish Japanese the complexity
about getting all these things talking
to each other is evaporating swear NSC
never offended but if we convert them
for common language they all think the
complexity of that problem reduces to
order M so with everybody applause
Swedish middlemen in English that's what
we do is we choose the middleman
language to be something like XML or
Jason and then everything wouldn't up
into work and then we would have gone
from complexity N squared or n enormous
game in fact shouldn't go to that simple
case we should go to some binary format
because why the hell do you buy the
palace of bloody stuff once you've got a
pass through one end you might as well
send it after the other what's he done
this we have conceptually interpreting
in the system because everything is
talking a universal language so they the
middleman you see bring an order it
imposes the rule with everything
process and it's sick Higgs bosons
expensive water it actually exposes
discovered right so how we describe
interactions so now now we say well
things are going to interact how can we
describe that oh
api's we've been using air cameras for
years but but they don't work they don't
capture what's going on and so this is a
very notion of an angle you could be any
difficulty see if you have some sort of
API and some sort of type language that
describes it so that's my trigger file
we can do three things on we can open a
file it's some kind of mode so because I
open the file it's some kind of mode I
think it succeeds we get ok a handle
back we use its handle in a region
setting often when we read a file and
say okay thank you okay
I win okay get some dates oh really yeah
media handle and a number like 200 bytes
and say yeah
and we can close the pocket now that's
what I gather typical sort of you think
same user see in many languages but
obvious it's useless right so what's
wrong with it
I've been sitting on yeah well it
doesn't tell us that a program like this
is stupid
if you program ok so I'll open a file
close it and read it but the types it
doesn't sell it doesn't tell it to do is
type correct stupidity right and that's
a problem if you read if you really
thought that way I've been programming
the apple core Audio API it is a listing
of all the things but it doesn't tell me
which order you have to do things in
order to achieve something and so you
have to try very different orders until
it works googling the weeks searching
kind of a reading code on github
segments they get that one person and
that one that oxide that do it properly
okay so why don't we had we can add a
state to the type so this if this is
going to form our session types okay so
here the things the state is added in
red so the ain't going on with
stiffnesses spec it says if we're in the
same start then we can do open and if
that succeeds we'll get ok handle will
be in the same ready and all get every
reason it will be the same cleansed okay
and when they're ready we can close the
file and when we're ready we can read
the file if we close the file we'll go
into the state closed so given that
we've annotated this
simple finite state machine we could now
try to check the program sitting program
and say hey this is nonsense
because you can't there's no is that way
that you follow these rules so a legal
path through that is a valid program
okay right so let's talk about session
type contrast okay so I'm in a simple
example
syntax seem very abstract but we can
make them uniform work match use of
things so that's what a website login
printable so they apply an observer
they're talking to each other
and something in the middle which is a
contract checker we're going to put a
contract into the contract checker and
it will check that all the things that
are going backwards and forth are
according to the session type contract
contract such a pipe same thing okay so
what do we put how do they write our
contract and make a simple English
Verizon Comcast I said contracts a
4-tuple
it's an input state message going to an
output state and a new message is it
isn't just a minor section and let's
describe a website login with a 44 -
thank you I'll do it
these are applicable to any program it
does have to be hassled and so you could
be yes a finite state machine that
described to starting a query to say
these are states and read back to the
messages so unweaned other states in a
sec sort and the client tenders have log
in them we were challenged and if we're
this remote this is the states of the
contract checker so I'm safe to the part
of the service the state of a thing in
the middle they're putting the snake wet
challenge and the server sends us a
challenge then we're in the second spot
I've done that as a diagram let's have a
look
I think it's almost clear is about this
a message sequence diagram here is the
stage of the
fact checker and we get a logging
message from the client and we're in the
textile it's at the login message to the
server and they change a state awake
challenge it expects a challenge from
the server and it sent a challenge so
this is a correct walk through the
finite state machine okay
and anything that is not possible it's
not a path through the finest entry is
illegal the purpose of the contract
checker is to forbid bad messages have
been propagated downstream so these
messages will never be sent to the
server if they're incorrect the server
will never ever see increasing facism
edges and we will immediately go to the
portion blame if either party is not
obeying a contract that's very much the
purpose of contact is reporting blame
when things go wrong
that's what content that's we'll all
contacts about contacts are never used
if both parties are happy that's why you
have legal contracts and things like
that way for portion blame and things
you're wrong Mac you buy things you need
to know who is gone wrong and it's
especially important when we connect
lots of things together right so here's
another way of doing it if they're all
the same the finite state machine in the
sequence diagram bubbled on you know
you've some people like drawing from
each other so here's a fine I think
again I'll remind you these are states
so you could represent them as straight
your job to represent the streams are
integers
these are messages well actually there
are actually types they're abstract
types which have a need to have a
concrete representation on wire so we
could make another language of that
again in JavaScript to define more
technique so we could say the type of
locking is the truth music now a
JavaScript where the adjacent region
found it okay so that's person this type
login is actually a Java the tuple
containing those so we can dynamically
check
and ascertain that this message that has
them it's decidable easy to type blog it
yeah because it's got this tag court
name in this room it's a valid type and
so we can step our finite state machine
okay so this then we need to say okay so
so where do I get the name of the type
or I add an end and meta theater so to
say something like this a message log in
with name Joe is an instance of type
login and message login thoughts are
doing is not an instance really easy but
so now you could put a contract check of
a finger client of a server so now we're
going to get to a point where we might
that's another thing so this is thirteen
held and this is how the internet
started in version health so we have
service in the protocol oh sorry nice
it's not versioning or anything like
that so that's
Postell a little walk and implementation
should be conservative in its ending
this is post else making matters worse
okay so if the client sent you the wrong
stuff you just try and be consider you
try to eat it up and accept it you carry
on is it not you surely do that
crash immediately because this does
matter and didn't make matters worse
than loss levels around because it was
only one protocol right so this is I
think it's almost a bunch of illegal oh
it's 1982 RFC eight to one was the
simple mail transfer protocol and it
defined the behavior of sequences of
message that the seen on TCP port 25 so
it is a version murmured near the
practical name because the port number
to tell you what was going on on that
channel so on port 25 was email what
nothing else so it's some of the open
spot 25 and 70 HTTP messages we do well
either say hello which members email
support for the first time in history
the theory of reply countenance which in
1982 was revolutionary
so the server would reply 1yx for
positive preliminary or r2y extra pasta
confidently reply and for i for
transitive negative completion you know
for 45 not found in HTTP this is where
it comes from the first time and it was
a whole section in the RFC where it was
called magnificently reply the name of
the protocol was in third from the port
number
version numbers right so let's see what
happened to that well this is from our
city what was it - maja opening section
three point five everything closing at
the time the transmission channel is
opened there is an exchange to ensure
the whole community was as they think
they are right so how did the exchange
work we just sent this message below the
exchange that the house for
communication very good so here we are
so here two examples in the RFC an
example of a successful communication
using the theory of reply codes so the
socket except to 200 ppm UNIX anything
didn't like you right rx T - H - one in
April 2001 it's change the text has
changed for the same number and SMT
position is an SMP server may include
identification may have to hey a
practice it's more efficient isolation
and repair of any problems not though
they said made and enforce it
I mean the wording in our essence is may
and must must what
so know what kind of as hell he'll have
no Hershey members purgatory which is
halfway between heaven and hell has
version numbers so here's okay so was a
hello one so when it isn't there well
maybe I haven't studied all we are sees
this exactly limited but we said you
know that in HTTP not 2.9 which was the
one line protocol now just think I
cheated me in a third version actually
think that one commanding which is
rapidly get but there was no version
number so open and again we're using
ports to identify the protocol so what
eighteen was the HTTP port and using to
get notified but that was the point nine
well that was the first implemented
version you can go to that website and
have a look and read about it by the
time it became the standard they could
realize that it might be a good idea to
put a version number right
so this HTTP not many 1996 the version
of actually keeping recipes indicated by
an engine conversion feel in the first
line of the messaging protocol is not
specified must
so it says I don't know this is the
first I haven't looked at all the
intermediate RFC's but it must be the
case of by 1996 which is actually a very
long time ago protocol design has it got
the idea it might be right so it took 14
years to get the idea that version
numbers in protocol might idea and now
in poetry right so what's the 10 minutes
right so what kind of this isn't have
implemented phase of this just for fun
so version numbers seemed to be a good
idea and if you say this is version 1.1
of the software it might be bad idea if
that was an immutable data structure
that you would never change but you can
change it so there could be two people
even one software you change in get we
have we introduced the notion of a
Content hash the sha-1 checksum or the
content okay so it's been an exchanging
a version number what we should actually
do is exchange the sha-1 checksum or the
contract that we're talking about okay
so we could actually have a hello
protocol this hello understand EF six
one seven one where this thing is
yes actually one checksum of the
contract and the reply is hello and we
actually lockstep agreed that we are
using it's not only the same version but
the bits might be over what can you have
to believe that too far at the same
Jensen is there different which we
Weebly religious people but we have God
has made itself and that's pretty good
so so we're kind of getting you toward
contact heaven because what we do is we
take the contact checker that I showed
you this is a formal bit of code here
it's a specification management
specifies what's going on in there we
take its sha launch Excel and we use it
to automatically generate the controls
often in the middle and then we exchange
contracts and the contracting in the
middle goes and gets a contract it
formally checks that everything is
according to the contract
well you might while we're at it why
don't we prove it slightly and we have
two things for this and then then I
think we might be in heaven but since it
took 14 years to carry from the idea of
a new version number reality of having
version number it might take another 14
years to get to the idea of what maybe
we should actually have a checksum in
them but I don't know and then it might
take another 30 40 years we church
thought that our cat was in 1934 Johnson
last years
right so one-third two things no
security in addressing becoming
increasingly important lastly people who
did nasty things to the Internet so we
have to address security was to take it
wrong citizens so there's a guy called
um David the series vocally very nicely
people downloading readers it's very
readable so he about on page one and he
makes something called certifying car
systems the bridge taking ideas in that
a subset by file system a reference it
something looks like this it's not HTTP
s the best here's the name of assignment
is an especially won't check some
resource name this is a kind of long and
complicated straining that's the matter
because it's hidden in another father
what you see in the web browser the name
you give to people it's just nice named
upon the nice thing you you don't see
this key point about this design is it
requires no centralized scheme Authority
so what do we do with this address we do
something very simple so here's the SMS
algorithm I are still divided a little
bit so step one is well we know we know
this is the host if WWWE
sorry say or any kind of public private
key cryptography system so you say okay
so have I got the public key of the
website that claims www
if you have got it you take the sha-1
checksum of the topic and you say what
is it the same as they say you wanted if
it is you know that you have got the
public key of the web server if it is
not if you don't have okay you send in a
message and the first thing in the
handshake you send me your public key
okay so send you
okay you compute its s actually one
checksum and is it the same as the thing
with the URL yeah it's just it and that
is immune to a man-in-the-middle attack
okay because you check the contract once
you've got it it doesn't make no need to
use HTTPS or anything like that you
don't need to worry about people
spoofing you or or doing anything nasty
at all because in check it what you've
got it doesn't matter no need to change
it nobody takes a public key on route
because we get someone match they don't
need anything more security now so once
you've got that you do the next step you
generally set free
you generate a temporary keep their
temper eking public/private key and you
get our accession people are called k1
you send it to the server you encrypt
this to k1 and your public key you can
be publicly you equipped with the public
key of the server you know this secret
that you send it a certainty concepts
that could recover cable if a public it
makes a new session key K 2 and you can
clip it with the public in the public
private key this is it that's one
problem that's a private key of the
server sorry I only need these slides
when I was sitting in the lecture pry
that and then so the clock and recover
k2
that's very nice why do you make the
temporary session kitty that's to avoid
a replay attack and it makes the
difficulty of cracking it doubles so
difficult because to do this you've got
to crack to public in system not one
okay that's my night and now both sides
about k1 k2 you now do crossing them
keep crossing
well this kid wanna continue to draw
arrows like that to take half of c1 and
c2 is made from k1 okay to buy half in
the Chiemsee take laughs to form city
one you take half of k1 and the other
second you know take left half of k1 and
the right-hand side okay - and to get c2
you do the opposite now the reason for
that is that in order to recover those
keys you have to broken both of the
password system is perfectly
cryptosystems basic model to crack and
you use k1 and k2 a screaming question
screaming krypton keys to encrypt the
content so now if you do that we've got
contracts and we've got security so how
do we find
let's change something else we see
there's a problem in this book we need a
web address if you give somebody a hash
like it huh sorry get hash
here's to get hash of my project they
cannot retrieve that content they don't
know where it is you have to tell them
something else to tell them it's on
github in this account we have to tell
them where it is so can we can we do
away with that telling them where it is
yeah yeah so let's change it yet again
I'm going to change it to this here's a
hash
now I've knew that just remove the
website name so what's this of this is
the hash of a public key right where we
find it well we look up f4 - okay one
hit in a distributed hash table okay
cata media or something like that your
entire Balian the views set up nice nice
distributed hash table
not many machines in they never die so
we eject an IP address with that key
into the distribution actually we look
it up at Keaveney videos and we can
catch the value if we want then we go
and ask that machine you have you got
this public key and if they have been
checking against attack you know it's a
right public key and so nobody could
spoof that and nobody you can get in
between and nobody can put a
man-in-the-middle little attack you okay
so you can do once you've got this back
you know the public key is correct you
know the website is correct if you can
get the public key of the website do the
SMS handshake you exchange the contract
and then you're in this I'm not
expecting you if you want to follow up
some of this stuff I can only recommend
this paper I gave its I think it was in
about 2004 it so very well I thought an
easy to read you wanna early I'm very
surprised that it's not widely
implemented because the idea is in it or
keep it I mean it is it is made a as a
name itself certifying it doesn't
require an external certification
Authority I don't want to pay very low
or something money together Kim they're
both given to the NSA
the idea is a contract that you come
from from yeah this is like this is like
XML this contract only is much better
this was a bit of Darkness I did a few
years ago I thought at the time when
everybody was starting using this but my
method of publicizing by writing
publishing a paper and putting one
posting to a lot of this stuff to it so
casually over time some people actually
use this stuff they put these contacts
in between them and say oh man was like
ones aren't difficult enough to need
because there are exchanging messages
but it is using some complex for
everyone people swear of it it's a very
good and these contacts actually a very
much inspired by CS two years in finance
a punitive be an alternative notation
for describing the state and combining
and get BitTorrent Li yeah it gets torn
that's great right now
jazzy a certain registered the domain
name of Omega keeps torrent it's
actually taught on the web time to kids
and several projects well it seems to be
most advanced was one thing and he said
a very readable paper nice paper if you
go to the website and find paper here
and the website says combines good ideas
from get BitTorrent can be here
what this is very nice because it's
taking all these good ideas it's taken
can media which is a DHT it's taken
Victoria which is a very nice way of
distributing content and it's taken its
good file system which is a a very nice
way of enjoying security it's kind of
wrapping it a little outside so I met
it's not the only this yes it's not when
you get me dummies so that's it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>