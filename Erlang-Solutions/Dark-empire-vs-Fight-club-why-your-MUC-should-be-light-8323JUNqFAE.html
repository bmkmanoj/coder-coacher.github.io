<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dark empire vs Fight club - why your MUC should be light? | Coder Coacher - Coaching Coders</title><meta content="Dark empire vs Fight club - why your MUC should be light? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dark empire vs Fight club - why your MUC should be light?</b></h2><h5 class="post__date">2016-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8323JUNqFAE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay the second big feature com proof
Mongoose I'm 200 is Mac right what is
Mike right it's lighter version of mark
so what is Mark markets open standard
and this is about multi-user tat if you
go to the extension page you can see
that it's quite a big it has more than
six and how thousands of lines I would
call it even a big Empire in the X EPP
work anyway it's about chanting in a
room so let's assume that you have
created a room you have invited your
friends and you've talked with them for
a while even though you are subscribed
to a room every time you want to enter
it once again you have to send packet
which is called presence to our room and
every time you want to leave it you have
to send presence with type and available
to arrow so every time you want to enter
room send pocket every time you live you
have to send packet scabbing been
subscribed it's not enough you can say
okay I can send as many pockets as you
wish because I have infinity bank wire
connection my home internet and 5
Reuters etc it's not problem for my
desktop application it might be problem
for your mobile application because
having a mobile we constantly lose our
connection for example you go for a walk
to a tunnel or you visit your favorite
elevator etc fly you constantly lose
connection and then it means server will
send the presence with type unavailable
to every occupant of the room so that
they know that you have left the room if
you want to joint once again you have to
send presence once again lots of
applications don't have bookmarks and
outer joins mechanism so this is one of
the problem this empire strikes again
when we talk about presence broadcasting
you sent presence to our room when you
joined this pocket will be broadcasted
to every member of the room and in
response you will have presence of every
member of the room so this is quite a
big bandwidth consumption and we call it
noise pollution once I did quick map
an example we have 1000 members in the
room that I measured the size of the
presence presence it's more than 300
bites and having in mind that every
occupants leaves the room and joined
once per 10 minutes it seems that users
will receive more than five and half
megabytes per hour and this is just
leaving and entering room so it's not
even cutting the first thing about
legacy implementation is its complexity
we have roles so you can be moderator or
visitor there are reserved locked and
anonymous rooms I haven't used up there
are direct and mediated invitations so
you can send invitation directly to
someone or ask the room to invite you
have private messages so you have group
chat while have private message is also
etc so the conclusion is that we had to
invent something new so gentlemen
welcome to the maglite the first rule of
the maglite is you do not talk about
presences the second tool of the mark
light is you do not talk about presences
because we completely got rid of the
presences we don't beat them the third
rule someone's dis bumps disturb and
noise the chat is over you can simply
block him with built-in blocking feature
the fourth rule only two types of
affiliations member and owner the
feveral one chat at a time so there are
no private messages 6 no rules no nicks
the 7th floor the room will go on as
long as it has to when some one win one
of the nose dice the room will still
exist I will explain in a minute the
eighth and final rule if this is your
first time in the room you have to be
invited you can't just join it on your
own so here is a little bit practice of
a rank and we have old legacy
implementation in MOOC and mook light
compared our our connections of users
are represented by processes in high
rank as everything aeronca and room are
also represented by processes when
someone sent message to room the use
processed and message the room and then
it's broadcasted to other connections of
users in our MOOC light implementation
we got rid of the room process and
messages are sent in context of user
process so i have two graphs here one of
four mook light and the second for a
tear gas implementation we store our
configuration of users and participants
in mini via its distributed database
over all nodes in old legacy
implementation we stored neurons as a
processes as I explained before and this
whole processes were stored on node so
in the case if one of the notes dies we
lose their room processes and legacy
implementation staff and it's not so
easy to restore the process and invite
the people who the room this is not
problem from look like because when it
start in the database the configuration
will be still existing in the note 1 and
2 also of course we have support for
client-side we contributed to smack
library for Android and iOS example /
framework so we represent you the server
and client site for Mac light</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>