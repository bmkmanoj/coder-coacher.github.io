<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;Erlang in Gambling/Online Betting*&quot; - webinar | Coder Coacher - Coaching Coders</title><meta content="&quot;Erlang in Gambling/Online Betting*&quot; - webinar - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;Erlang in Gambling/Online Betting*&quot; - webinar</b></h2><h5 class="post__date">2014-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X7ZDqhlfru4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon hello will welcome ladies
and gentlemen to this webinar from
Erlang solutions on Erlang in gambling
I'll be talking today my name's Steven
gold me about some of the challenges
faced by firms in this market the
catalysts and the things that act as
brakes and also about Erlang and how
it's been able to help in certain
circumstances I'll be followed by Dan
Macklin who's the R&amp;amp;D manager at bet365
he'll be talking about why they chose
and use early the talk should last
something about 50 minutes 40 50 minutes
and with time for questions at the end
and if you'd like to ask questions
please use the panel at the right side
of the screen to enter things in so that
we've got some record of what the
questions are hopefully we'll be able to
deal with them all in time where is that
we don't get time for we'll deal with as
written answers as best we can I should
also say that because of the nature of
some of the not necessary the content
but the the business is very much
focused on I feel like cutting aid so
there may be some questions that we
simply are unable to answer just because
a lot of it is actually I suppose in da
in terms of private and up to the
benefit of the particular company anyway
we like to hear from you so please ask
the questions so firstly this is a very
large topic and Creole each other gaming
online gambling casino slot machines
games or even multiple online games
sports betting an inline sports
streaming and whatever else so that the
suppliers would care to dream up but in
this instance we're going to try and
limit ourselves to probably sports
betting just because of the time
limitations
now my original image of the book maker
or high street gambling shop was
something akin to the adult bookshop
it's not probably not quite the same now
as I can verify having cued up on grand
national day behind Lord Lytton troubled
in the net worth Offices of William Hill
shop here all the cries of shame from
the bet365 contingent and it's but a
bright and airy establishment with lots
of ways to invest your money but I can
confirm that with subsequent discussions
with lord kabul that we both invested
pretty unwisely on that occasion but it
really is probably giving us an
indication it's more of a lifestyle and
an entertainment industry it's changed
drastically from the time that it was a
province for the guys in the shabby
coats and cigarettes there are now new
ways to gamble especially over the
Internet obviously not just in the shop
and is probably Dan will say later
bet365 for example have no shops there a
purely internet organization but there
are some things that are slowing down
this creative otherwise growth and I
suppose the primary one being
legislation and in England we have a
phrase that is very simply different
strokes for different folks and I guess
as the supplier of the service or the
electronic book maker pretty much you
have to align to whatever each
government in whichever country you wish
to trade once and in basic sense they
probably want money in the form of taxes
and levies but they also want to the
popularity in the kudos of being seen to
control what is something of quite a
foremost in stream in the leisure market
for that country and another potential
source for limiting growth is
surprisingly virtual technology itself
if you're running one of these systems
they're not things that you
stop pretty simply there's little or no
concept of I suppose real greenfield
development because things grow pretty
much incrementally and oddly something
more Moore's law still applies in terms
of cost and power and size but it's just
not easy to string together some sort of
a solution from own choices that you
made a couple of years ago it's not easy
to suddenly change the direction and
scale out as the term is in terms of new
and additional functions and the other
side of that is that the technology or
the ubiquity of the technology and it's
free availability through things like
iPhones Androids and other sites as
smart handsets just feeds that demand
making it easier to attract new users
which unfortunately just exacerbates the
problem or in terms of in terms of the
supplier the opportunity and downs got
some interesting statistics on this in
short it's an industry that's in
constant change and trying to keep up
with the demands coming from the
customer base and also in innovative
ways in trying to create new demands so
how can I Lange help in this now we've
all suffered that will meant support
advice sir like whatsapp if you've got
rather a lot of users out there in the
ether that's not really an option for
any central system whatever the
technical flavor of that system hence
the attraction of the the hot code swap
for upgrades whilst running which is now
proving also attractive in this area
outside of the normal telephone exchange
paradigm gaming and betting services are
all good candidates for this type of
function or I suppose you could consider
how your money gets in out of your bank
accounts another one of our clients vote
think there's probably some folk out
there listening from that customer now
live of an erlang based money transfer
switch in Singapore which will know our
live earlier on this month now from a
simplistic view point in terms of
concurrency there's no there's no need
for any of the developers to have any
access to specific knowledge all of the
concurrency and single threading
problems that are faced by normal
developers is all a given I don't need a
knowledge of that at all and in the same
way there's no shared memory between any
of the applications because of the basic
stateless nature of all of the
applications nodes and the virtual
machine will the Earl and virtual
machine can make use of full use of all
of the cores available and this is
putting it again why would somebody like
whatsapp could use pretty standard
multi-core hardware with new
applications spinning up as demand
dictated the final point on there is
really just to show that as well as
being industry tested there are a lot of
continuing developments and innovative
applications being built to actually
operate in and around the Erlang virtual
machine so what do we do as Erling
solutions what we bring to the table
pretty much as you see with many
different clients working to use the
appropriate skill sets that we we have
but each client presents different
business issues so there's not really a
one-size-fits-all pretty much we end up
being active in both architecture design
confirmation proof of concepts for areas
where new technology is being introduced
new messaging infrastructure the
provision of react a key value store in
a new SQL arena and its implementation
server design and creation
and obviously training because in many
instances the people that we we come and
talk to you don't have much knowledge of
Erlang in the first instance so we're
able to train them so that they can
become self-sufficient and looking after
their own projects as time progresses
pretty much as you'd expect from any
professional services in rural ization
really so the people that we're working
with are potentially gaming companies
advertising provision and brokerage
companies simple messaging firms payment
companies travel companies as well as
gambling companies so our expertise has
grown along with the use of erling over
the past years really so let's say
something from Dan about the path that
through spec 365 have taken in adopting
early over to you then thank you and
that thanks for letting me have a talk
to you today i show my screen start
seeing my slides so to start with i'm
going to give you a bit of background
about bet365 the company which i think
is fairly obligatory for these things
then I'm going to spend a bit of time
describing why we as a company felt we
needed to change then I'm going to go
through some of the things that we found
when we started using the other leg some
of the results we got and how we got the
business to a doctor land as a
mainstream platform and I'd like start
by saying we're pretty excited I'm
pretty passionate about their line and
the title of this talk of aging with the
machines basically sums up that passion
in that bet365 we want to be the best
and we we want to use technology to its
fullest to satisfy and make sure that
our customers have the best user
experience and leave this summary of
this talk is about how earl and
potentially helped us get there so if i
start off by describing a bit about us
so bet365 was founded in a portacabin in
stoke-on-trent in two thousand and it's
a privately owned business and basically
the coats family only a share capsule of
the business
um last financial year I'm coming
towards the end of the financial year
now over 20 billion pounds in sports bet
will wagered on our side to think X is
about the biggest online bookmaker some
people might disagree with how I think
that's the case we employ 2500 plus
employees and we have our own software
development team which is about 300
strong we also have our own IT
infrastructure team as well last
financial year we spent more than 60
million pounds a year on our IT budget
and we have about 2 million plus
concurrent users while logged onto our
site on a busy Saturday or in a busy
event is running the main thing is it
which is good for my place and good for
us as a business is that despite this
growth since 2000 we are still growing
rapidly so how did we do that in 13
years well the answer is bet365 is all
about being innovative we were the first
company to do in play betting so that is
betting on the partner who wins the next
goal he works cause the next corner so
it's betting on how the match is
actually going and we were the first to
push our data changes to client rather
than using polling technology and we
were the first company to do in place
streaming which is basically you can
watch your event as on the site as you
over as you're seeing the odds and all
the data are changing we were the first
to do something called match live which
is like a a mini version of a game
running in the corner of your web
browser so you can see who's doing the
most attacks and how the game is going
without watching your live stream or
being there and you might have seen our
ray winstone TV ads we were the first
people to put a live Odds inside of TV
adverts and from a commercial
perspective we were the first company to
the best odds guaranteed so what's the
technical challenge at our bet365 when
you know what are what is special about
us well oh my boss kind of some
summarized it as a busy day for like us
for us is like Black Friday amazon but
amazon don't change their prices if we
second so our job really is to to trade
events of fast moving data and
get that information out as fast as we
possibly can with as low as latency as
we possibly can to our customers so that
they can place a bet on it and by the
time that they place that bet that
information is still valid as I'm it's
still actionable so innovation and scale
how we done that up till now have we
grown from a company you know in a
portacabin up to that the size that we
we are now well historically we've been
very pragmatic and we very much focused
on our customers and what I mean by that
is we haven't really up until this point
in time needed to use any exotic
platforms or anything like that we've
we've been a pretty traditional
development house at we're lucky enough
to employ some really great people
because we're privately-owned we get to
make good decisions but most importantly
get made quickly as I just said we
tended to use mature development
platforms java.net sequel server we
obviously I spend a lot money buying the
best kit and we've always done if we
think ourselves so basically we on our
own data centers we develop our own
software if there's anything to be done
we pride ourselves and doing ourselves
and most importantly as well we've
prepared to learn from our mistakes when
you want to get something out there
first it's unlikely going to get it
right first time and the business has a
very forgiving attitude to a certain
level about about making mistakes and
learning from them and building better
software because of it so the question
might will be asking that sounds
fantastic you know amazing if also
brilliant why are you bothering to
change anything you know it sounds like
you've got it made well the answer is
multi caught in that we're starting to
go beyond what's possible using
traditional tools and techniques and
we're starting to run into this thing I
call the innovation scale dilemma which
is is that once you get start getting a
certain number of customers all over a
certain number of customers you lose the
ability to innovate quickly because
you're constantly rewriting your
software so that it runs part of scale
needed to run the business the flip side
of that is anytime that you have a new
innovation you spend so long trying to
get it to scale that
can't get that innovation out of the
door and that's the most important thing
for us is about being first to market
and we've got such a big user base we
want technologies that help us break
this innovation scale dinama so because
so you might notice this talk was about
raid against machine we started to ask
bigger questions of our platforms and in
the polite as possible way they started
to say no won't do what you tell me so
we had to do something about this so I'm
about two years ago the senior
management set up a R&amp;amp;D team which I
manage and they attempted to get out and
succeeded so free thinking people from
David backgrounds to join the team they
put us outside of the day-to-day
concerns of software development and
they basically testers we're seeking out
testing and provide proving and
evangelizing relevant kind of disruptive
or sustained technology basically
anything that'll make a really big
difference which isn't something that's
proven where there's a high risk of
failure they basically had put it our
way so at once the team was formed we
were given a task and probably the most
important system in bet365 is about
getting data to customers quickly so the
biggest problem that we have was finding
paid better way to solve it simply
pushing data out to customers customers
problem so what does us in play what in
play is effectively the mother of all
pub sub problems so what we've got is
we've got our trading teams are trading
teams runner tools those tools are work
on markets those markets are constantly
changing and what our job is to to
basically push that information out to
many that offer push that information
out for many thousands of events too
many millions of customers as quickly as
we possibly can so the legacy or
historic in place system that we were
we're running was a high concurrent
distributed system running over hundreds
of servers and basically as I've said
before it pushes updates to customers
rather than then having to a poll for
data when something changes we think
it's straight over to them and it's
support or
supported tcp/ip and long pole clients
and it was originally based on a
proprietary Java solution so why did we
change well we wanted to break from the
pack and what I mean by that is is that
we really live in a copycat economy
these days when some one person comes up
with a good idea the rest of the
industry tends to follow pretty quickly
and we started to see that happening so
what we wanted to do is that we wanted
to build an infrastructure that allowed
us to be really innovative so that we
could break away from the competition
once more and start wearing our
customers by offering you know really
great new innovative products as part of
this we started to note that because of
the scale innovation dilemma our
innovation was slowing we were spending
a lot of time constantly engineering
stuff and we saw limited scalability
select options inside of our Java
solution and tuning each systems just
taking forever testing the system was
becoming a nightmare as well because
rather for each time that we wanted to
scale system out it ended up getting
more complex as we started using more
esoteric kind of multi-threading
techniques and stuff like that and
reliability and with a java-based system
it didn't go wrong very often but when
it does go wrong you really want to get
it back up alive as fast as you can
because if in this game time really is
money the longer something isn't working
for the less people are able to work to
bet on it so what if we do so we
basically sat down and we defined the
attribute's that we wanted for our new
push platform so the short list of these
where we wanted a different approach
concurrency you know no matter which way
you dress it up multi-threaded
programming is very very difficult so we
started thinking about the actor model
and you know that looked interesting and
obviously you know this look how kind of
immutability thing we wanted whatever
platform we have to be a basis for
innovation so a bet365 we want to do
things well we want to do things quickly
we want to do them first and we want to
do these things at great scale thus we
also wanted to be reliable so you know
when you run a scalar that you've got to
accept that things will fail
you want to be able to recover quickly
preferably so quickly that no one ever
noticed that something had gone wrong in
the first place so we also had some
other attributes we really wanted to try
you some proven technology so whilst as
a company we are very willing out to
take risks about getting new stuff out
there with the fur technology with
pedigree ideally we want something open
source because one of the weird wait
we've got to where we are is by having a
very very deep understanding of how
everything in our technology stack works
if we've got an open source solution and
something's broke we can get in there
fix it and then you know tell the
community about it and complexity we
wanted to drive innovation by solving
complicated problems in a simple way so
we want to keep everything as simple as
we possibly can and plus a big business
we've got a massive operations team out
there you know we want to be able to be
upgrade stuff quickly once have good
monitoring we want to be able to scale
out when one of our new products is
really really successful we want to be
able to scale out really quickly so once
we define attributes we then started
looking at our current system to
understand it and went to the market to
see what we could find so it's all good
research teams we went on to google and
we asked you to go to find me a simple
scalable reliable multi-core platform
and because we really throw up we also
tried being the results for that came
back that way maybe we should start
looking at this functional programming
now back in my university days at Aston
University I I did a bit of Miranda and
I can't basically say that I remembered
a lot of it so I kind of knew a little
bit about functional programming but you
know when we started looking at it I was
kind like him oh this looks a it looks a
bit difficult and so I'll stay for one
else on the team was anyone else done
any functional programming and despite
the fact that we were three thinking
people from varied backgrounds no one
else had done any functional programming
in that in depth so started looking at
it and it started to look like a
different way of thinking and some of
the syntax in so
these languages or ways of doing stuff
you know started looking a bit scary and
then I heard people say well it's a bit
like excel in the back of my mind gonna
write you I absolutely hate excel so
then we looked at a bit more and we
found that we're actually functional
programming is it's more about
transforming data than writing
procedural code and you describe what
you want to do rather than how to do it
and when we started writing a couple of
programs we notice they tended to be
smaller simpler once you've got your
head around the syntax the what an
erlang especially as i'll go into a bit
we found it much easier in our own code
to reason about concurrency and also
with functional programming as well it
tends to be easier to control side
effects and if you can control side
effects but ultimately your software's
easier to test which which again is that
it's obviously a good thing so we also
then started thinking okay well what are
the alternatives and if functional was
like a disruptive technology to ask how
can we leverage existing technologies
that we're more kind of used to to solve
these problems it's a really quick look
at know Jas and go we have to look at
further sharding out our infrastructure
or we use sequel server quite a bit here
so we had to look at Microsoft
technology called heckert on and we
thought well why don't we use some
concurrency libraries like a CO aurora
or tasks or TPL but it came to the
conclusion that you know to carry on
with lead to more complexity each cycle
of trying to make it more scalable added
more complexity and the more complexity
get more likely you are to fail in our
opinion so basically going to go to the
matrix we saw the imperative as take the
blue pill carry on with what you're
doing and try and make incremental
changes to make it better or we'd start
looking at the function approach would
take the red pill and dive into a new
world that we don't fully understand yet
but we all try and do something radical
two were to change the status quo so
again why do we do this well it's my
belief as an R&amp;amp;D team it's our job to
spend time looking at what we don't know
in rather than what we do and the
functional side of it was something we
definitely didn't know so work so that
piqued our interest so once we decided
looking at functional programming we had
to decide which functional programming
language was like for us so we started
to pull back the veneer outlook for the
hype so to speak and find out what the
source of all these good ideas in
functional programming were and bet365 a
very important for us to try to use the
right tools for the job so we wanted to
identify those right tools so fairly
quickly we came across a four different
things that we were going to look at a
quick short list over Scala if sharp
Haskell and Earl and now before I go on
talking about what my views are was to
what these different technologies I'm
very much in the belief that you can do
amazing things in any of them and it's
more about the the people that you have
and how they use that technology than
the technology itself but because I've
been asked i'm going to give my views on
the different technologies anyway so
scarlett that we took a look at it and
I've got to admit when I first started
learning Erlang when I was sat in center
parcs when my wife was my daughter doing
some bike riding or making a birdhouse
or something sat down with fur learning
Summerland website and really
complicated in fact because I wasn't
actually programming every time it's so
complicated I started learning skyla
instead because i thought well my java
programmer a scar will be relatively
easy to get my head round but then i
started reading about it and starting a
general-purpose multi-paradigm object
orientated functional language with
concurrent elements sounded to me well
sounds like trying to do an awful lot on
that platform it sounds like there's
going to be lots and lots and lots of
different ways of doing the same thing
and so I went to a couple of conferences
and I heard people talking about the
amazing things they've done in Scala and
indeed and I've only seen to be saying
quo you know there's a lot of different
ways of doing the same thing now in bed
365 world we want to do things in the
best way and we want to do them quickly
and get things out simply sitting around
the corner having long debates about how
we're going to get this out of what is
the best way of doing it is probably
something that you know we want to try
to avoid if possible because Scala is a
brita language as far as I'm concerned
we didn't think was a true functional
programming language so you could still
you know program in a non functional way
and I've already said that it lets you
do lots of things in lots of different
ways and you know we thought it was
quite complex and
you know lovin got small brain it made
my head hurt so then we started looking
at em sharp which you know at a top
level we believe was microsoft's version
of scholar and you know so i don't bore
you it seemed to have many of the same
attributes as as what I yeah I just
discussed then we looked at Haskell now
for either rightly or wrongly we kind of
thought Haskell was a bit kind of
academic and you know didn't have that
then for pedigree although in the
commercial space to for us to work to
really want to spend much time adopting
it so so we kind of saw that as the
beard choice offer a functional
programming so we had a quick pitches at
it and then moved on to her leg so I'll
angry took a look at it and as I said
back in sin sparks hmm yeah if you're
not used to it the syntax can be a bit
interesting but it's got this very
mature virtual machine that's a
functional primary language yet the
developers of it we're trying to solve
real problems so they were prophetic
they put things in like process ditching
these and and binaries where when they
go over a certain size you know you have
reference points to them things like
that it supported this actor style can
come and see that we've heard so much
about it seemed to be one of the first
platforms to adopt that and actually use
it in in great depth it's got this
concept of lightweight processes which
effectively means that you can spin a
process really really quickly so you
know you can have programs running on
relatively moderate WebKit which have
you know millions of processes running
had this kind of let it crash at kind of
mentality so what it means by that is is
that you write your program so that they
fail and then once they failed you get
them to recover as fast as you can also
had this library called OTP which was a
really good rapper round a kind of like
the actor model that is basically the
default way of solving can come on
Oliver stateful problems in sign of
Erlang also looked a bit more and it had
this simple garbage collecting and back
from the Java world you spend an awful
lot of your time working with garbage
collection so to have something with
relatively simple garbage collection was
that was good now really importantly
Erlang is not new now you might have
noticed said earlier that we'd like
technologies with pedigree Erlang has
been battle tested within the very
demanding telco space since the 90s so
in fact if you look back on it and if
you look at the job that a telephone
switch has to do you know the engineer's
Erickson who were building this were
dealing with the very same kind of
concurrency and high availability
problems back in the 90s that we are
looking at now so you know this is a a
technology that's been out there for a
long period of time has been very
successful in that space we found the
Erlang did pioneering harden a lot of
the ideas used elsewhere we were very
encouraged to find that there's a lively
Erlang community out there there's lots
of websites there's lots of forms
there's lots of people to ask there's
lots of github projects bringing up
around Erlang and it had the best movie
with by far the best hair so a Erlang
the movie you can google it it's out
there it's it's fascinating you know you
can trust the computer scientist who
looks like that it looks like Joe
Armstrong did there and that and the
other guy so you know it really one on
the on the beard slasher interesting
hairdo front so given these facts we
decided to try a lang and the question
that we were trying to ask ourselves is
could we believe the believe the hype so
we basically set out to to test
ourselves so we selected a major part of
our apush prep our push platform and we
decided to to reengineer it in Erlang
and get it to a standard where we could
get into production so up to this point
with a couple of test pocs but this was
a a really serious one where we had
something that was measurable and we
could compare it to something else that
was that was out loud and I'm a big fan
much the consternation of mostly periods
of giving project stupid name so given
that it was a push project we decided to
call it real good after the salt and
pepper push it real good song and it was
a direct replacement for a Java
component so as I said we could measure
it and that Java component had you know
it could handle about 25k connected
using one of our servers running at full
production load so we had a target out
there that we we wanted to
beat and we wanted to prove this Java
system processor then about 200,000
incoming messages per second to process
them to distribute to those 25 thousand
users per server so you know we went
away and we weave offand and we sweated
and we learnt Erlang and we learnt the
internal systems and after about two
months we found that my team of six were
pretty comfortable with that with her
leg they do you know they really liked
it and you know we were able to work
although we implementing system isn't
the same as discovering it from scratch
that always takes that takes a lot
longer you know the powers that be were
pretty impressed that we managed to
implement pay a much more scalable much
more scalable version of the system
inside of two months and so the results
from that was that we were able you know
without an awful lot performance tuning
get 125 thousand connectors used
connected users into our system at four
times production load and if we were
able to run at existing production load
we're able to handle half a million so
that means in two months were able to
take a system and we were able to scale
up to five times the user connection
scale and four times the rate of of data
change and the most important thing and
the thing we really really what I really
really liked about her is that in our
Java based solutions we'd have these you
know 32 core you know big boxes and we'd
run HT up on them and stuff like that
and no matter what we did had only be
using you know seven or eight of the
course and it was really really hard to
drive better core usage of our of our
software Erlang wasn't like that we were
able to drive and work those existing
box is far far far far harder which we
thought was a really really really good
thing so after two months the R&amp;amp;D team
you know where we're pretty much much
much sold but then came there really big
problem because if you've got a business
and you want to change the way that it
works you've got to engage you've got to
get the rest of a business to come with
you we've got to get other people
excited about what you found them how
many good POC is only part of a problem
getting a whole team of develop
those two to adopt something you learn
something new and you know it is a fair
tacit this is really how we went about
it so in order to get people are we
engaged and so we are predominantly
focused on our java programmers and we
needed to convince them that Erlang was
in their futures so how do we go about
this well first of all I tried being
nice to them but you know they're clever
guys they saw through that pretty
quickly you know if they were fairly
impressed by the movie you know the
facial hair and Rob averting and all
that and a Joe Armstrong messing around
you know that that made him go we tried
begging pleading Brydon didn't work so
we basically set out to prove something
about erling so the things that you know
we want to do as a company is that we
want to inspire our programmers to do
the best that they can so we're looking
to make programming fun we're looking to
a reduced frustration or having to
constantly reengineer the same code over
and over again we wanted to prove that
erling skills to them as reliable we
wanted to prove Berlin has enough depth
to be interesting and you know that is
quite a problem with technical people in
that you know when they used to dealing
with multi-threaded problems and they're
dealing with always concurrency like
this is a lot of depth to that and
you've got to know psychologically the
programmers have to find depth in
something and have to be interested in
it too in my opinion do a good job but
the koi to that is is that we've got
some really difficult problems to solve
and we want to do it in a simple way so
we want to prove ehrin has both dead but
coupled with that you can do a lot of
stuff simply and we wanted to prove to
them in the ER line utilizes hardware
resources effectively and the key going
back to it we wanted to solve this
innovation scale dilemma we want to be
able to get our software out to our
customers as fast as we possibly can and
we want to lead the marketplace so we
decided to use our proof of concept to
engage with the other teams and fairly
soon we found that the production teams
soon started to appreciate the benefits
of Erlang they quickly developed their
own or co-invented that own
implementation POC which has actually
been light now for about a
year now I've got an interesting thing
about a technology adoption most of the
programmers don't want to go back to
Java and I see Erlang adoption a bit
like Stockholm Syndrome you sure two
people at first I are really hopeless
which is the same as kind of being being
abducted by in a strange way eventually
they get into it they start to love
their captor and by the end that
completely and utterly in a glove it to
two pieces and so given that airline
comes from Stockholm up in that sir
we're laughing that's very funny anyway
but um but yet most of our developers
once they get to grips Berlin do not
want to go back to Java now we did our
implementation of our POC within the van
about two months or so but the the
actual production teams got their
solution time live in record time and
since going life to my knowledge we've
had no major problems the main thing is
is asking their guys as well since then
they do in fact spend a lot less time be
working for scale so you know it all in
all pretty successful so I can
engagement summary before my before my
pre summary so to speak once programmers
get going on Erlang they tend to her to
love it programming in Erlang is fun and
you know dare I say early addictive
Ellen does make effective use of
hardware resources and I was also farsh
over her language reliable we were able
to replace a key piece of our
infrastructure in record time and get it
live and you know we found out very much
as you can believe the hype only small
caveat that I would put on it is that
when people really get into our land
they think that can solve all the
world's problems in one go and so
sometimes you have to you go in there
and enforce a little bit of realism
because people get pretty carried away
and that and they can tend to be worked
and to go off on but other than that and
that's a management problem and you know
platform is pretty sound so last slide
you'll be be pleased to learn don't know
how I'm doing on there on time we think
that airline helps developers rage with
the machines rather than against them so
in our old world we've spent lots of
time forcing our machines all of his
service to do things that they didn't
really
to do and we found that Erlang is
against that it basically allows us to
work with concurrency to work with the
hardware and infrastructures that we
have and so basically Airlines about
innovation it's about multi-core that
leads to happy customers and continued
great success and if your analytic
program where you'll understand the
syntax there and the the next thing that
we're looking at as part of our R&amp;amp;D
effort is elixir which is a language
that runs on top of the Ln p.m. so i
don't know if I've gone ahead of time
but that's my my slides over so wha so
basically onto the onto the questions
well thanks very much for that Dan it's
very interesting we have had some
questions come in most of which look
reasonably answerable I have to say so
first off but it was to do with I think
it's forgive me if I get the names wrong
my display if who's asking the questions
is his in about four characters
vertically so it's not exactly in its
more intuitive than factual anyway from
a gentleman called John he's asking did
you look at something called flow based
processing in conjunction with
functional programming does that ring
any bells with you I flowed based
processing does he mean a complex event
processing or does he basically need
message passing if you mean too complex
event processing is an area i'm quite
fascinated with and I've written a
land-based CP system outside of work
myself we do tend to use a CEP quite a
lot for a number of different things in
internally and I see that as going
forward that we we will but with regards
to looking at any of the other
technologies other than in superficial
depth then I've got to me know we were
quite lucky in that we started looking
at erlang and then we fell in love with
it fairly fairly quickly so k if I kind
of answers the question um but yeah you
know grammar yeah I guess so I mean
there's
I think there's another person of
association with that saying did you did
you compare or how did that compare in
terms with when looking at a specific
native scheduling or was that something
that ever came to life yeah well I Java
teen basically um you know a cure is
basically a Java kind of threading
library and again I would love to say
that we SAT there and we did great
in-depth analysis and implemented the
first type in that in many different
ways and no we didn't as I said earlier
I think that there is always many many
many different ways of solving so on the
same problem and but we just lucked out
I supposed to a certain extent and the
Erlang one was so much better than our
Java one that we haven't really looked
elsewhere and it so much better in terms
of the yes it's just the the simplicity
of the the end implementation was so
good and the results were so good that
when we went presents them back to the
to the CTO he just said go for it rather
than that rather than reimplement a
another prototype in that using a cup
but I can see that you know that pack
use the same message passing semantics
so it's a it's a perfectly plausible way
of doing it I suppose you've just got to
watch that you're running on the Virtual
Machine and so it takes a little bit
longer I supposed to spin up different
processes and you may have some garbage
collection issues but again that's just
me speaking on how much is rather than
from any positional real knowledge okay
no thanks for that on you know there are
a number of questions from I think from
Alan and another John relating to
persistent storage they're saying what
sort of database choices have you made
if you've made any choices as a moment I
mean you I'm only talking about the
actual the actual language that you're
writing the applications in so I've you
basically uh yeah traditionally we've
been a sequel server house you know we
think that there are many different no
sequel or new sequel technologies out
there and you know we would look to use
the best tool for that for the best job
but the predominant one at the moment
that we're using for the use cases for
our systems in this area
react and and we're pretty happy with
react sipi because hey its
implementation simple it's open source
it seems to do what it says on the tin
and we've proved a pretty good
horizontal scalability for the use cases
that we that we have so answering an
earl and as well so once you get good at
erlanger you can a look at some of the
code and see how it works and and dig
deep down into the into the solution and
we found fasho to be to be quite a good
company to work with also for the
projects that really a react would be
would be the main one but you know we've
i've looked at kind of couchbase and you
know chain replication all kinds of
weird one for stuff but i think react
has the most traction okay there's a
question from michele which is a bit
perhaps more sensitive in terms of it's
quite a simple question but it may not
be whether you're comfortable with it or
not it's just asking what were the
machines shakes that were handling the
500 k 3 foot and all our state about is
they weren't anything really special so
you know they were commodity kind of
kind of hardware it wasn't any kind of
weird wonderful ty liver or anything
like that it was it was you know pretty
commodity stuff okay okay um question
from I think it's Eugene in South Africa
I suppose you've answered this is Leslie
is just questioning how easy or was it
easy to train the non Erlang developers
with Erlang I think you've met probably
Robinette but yeah and basically um it's
a case of getting back into the mindset
of where you were when you tried to to
try to teach them so so we've built at
an internal and training course which
covers the basics in around about two
days we fund as long as you get people
typing and solving problems in it
quickly then you know you tend to pick
it up pretty pretty quickly I think the
mistake a lot of people make is that
they sit there and read all the books
and a lot of it there are some very good
works OTP in actions
stuff like that but someone can be a
little bit dry and if you're not used to
the whole paradigm of functional
programming you spend a lot of time
system ago why do I need an atom why do
I need two pools why do I need this that
and the other whereas if you just dive
into it and recommend to anyone to learn
you some Erlang website is it's pretty
good but dive into it and and yet you
know you've just got to give people a
little bit of time we tend to find that
after I've had about two weeks intensive
using her line most people have got the
got the basics I think when you look at
some of that I'm from the outside you
think it's really complicated a bit of a
nightmare to start with but once you get
past that initial hurdle you get to see
it's actually quite simple under the
hood and you know it really does mean
get used to it I like to break down your
logic into very very small components
which are very easy to test and very
easy to reason about so yeah there's
there's a little bit of upfront world
this is a this is a bit different but as
soon as you can get people past that by
actually doing some programming we found
and you know with your guys online
solution support as well there in the
background we we haven't really had any
you know we got the initial oh I don't
want to do that but you know one week
two weeks past when people actually got
past the mental hurdle of learning
something new we really have no problems
with her okay thanks for that there's a
question I think from either live is
asking besides the paradigm change which
is or was the most single difficult
issue in Erlang for a mainstream
developer you know and what did that
make sense yeah I think I know he's
asking what's the hardest thing to get
your head vamp I still struggle with
supervisors because either the kind of
thing you set up and then supervisors
are the thing in Ireland that restart
your processes or started processes when
something crashes and I've got me I
always get the syntax of longer and I
always forget how to how to do them and
I forever going back onto the web and
forever recompiling my stuff and
scratching my head so I would say
supervisors I'd say that some of the
deeper parts of the open Taylor
telecom platform which is OTP which is
is basically the one of essential
libraries and one of the things if
you're programming in Earl and you
really really really want to get your
head round so you have this concept
called Jenna server and inside that gen
server you pass it messages in and you
basically have a state object that sits
there and again when you first do that
and using supervisor to start them you
will get it wrong many more times often
than that then when you get it right and
the people are interested in an elixir I
find the simplifications that they've
done in the elixir language make it much
easier to deal with supervisor again
it's just one of these things that you
know you've got your first project you
get your supervisor hierarchy set up
right now your supervisor hierarchy is
something that you really want to spend
a lot of time planning because that
gives you your quality of service inside
of your application then and give you
your reliability but that's the bit I
found hardest them that that's the bit I
think my fellow people in arvin d find
hardest because every time we come back
to doing you on we've kind of forgotten
how to how to do it again the OTP and
action to learn your summer line books
will you know will give you everything
that you need to go to get a robust
first implementation that you can I
recommend using this template you can
use the template to get you going and in
customizing I should reject this point
and thoroughly recommend even so I'm
also Francesco says really my technical
director of learning Erlang for fear of
being sex you're not being mean or
anything Oh or not quite right there is
another question here I think from
Richard and this may be a bit more
tricky saying his question is what
Erlang components did you use in terms
of trying to produce the the push module
to push the data to the web browsers
well obviously we used OTP and we didn't
use any databases or anything like that
and I'll be honest with you I can't go
to the unit too much exactly giving too
much weight but we didn't do anything
all that clever it's all nice adequate
as in you know no custom mods though you
know we didn't do anything overly
special
and there is a blizzard there's actually
a couple of questions around this but
one of the obvious ones because it
really is a suppose it's a bit like a
messaging paradigm there's a question is
are you using RabbitMQ for any of this
not for this project at the moment no
okay why suppose rods the logical
question do you use RabbitMQ for
anything ah I can't really say right
okay sorry did this influence your
choice right I will say so that we I you
know I have privately played with fat
with rabid rabbits also within an erlang
I do think it's a very good technology
yep okay um I think you already
explained how you actually train the
team that's not the questions have
appeared subsequently but I think you've
already been through that one question
that all all add is that there is a lot
of talk about Alexia and I think of blur
watched a presentation from jose raining
very interesting concept but as you as
the user or as the person who's faced
with the problem why would you use
elixir in one instance and Erlang in
another what's the differentiator what
Alexia basically is a different
syntactic layer that compiles back to
coral and I think and runs on Neil and
virtual machine I think if you came from
fewer we are where they've got net Java
mostly dotnet a java house if you were a
ruby based house and you probably find
it a little bit easier to pick up elixir
basically formalized an awful lot of
their api's and standardized them and
they have added some of the some kind of
place to go to it in a way as and
they've got this kind of protocol thing
going one of the good or very bad things
about Alexia in in my personal bit is
that allows you to write macros and so
just like Erlang can be used if you want
to get into lexan yak and all that kind
of stuff to build their cells it is
easier to build that kind of stuff in
the elixir um basically in a little it
looks a little bit more likely be as
I've said
and when you create functions and stuff
like that you know you've got your def
you don't have to export stuff they've
got some libraries in there that add
that basically make supervisors and a
lot easier to to deal with and I think
it really comes down to a choice of
syntax and you know the syntactic
elements of the lixia are more up to
date than Erlang but you know which is
best you know just as well and licks her
there's some unicode optimizations i
think there's some performance
optimizations under the hood i have used
both of them extensively midgut would
say that if i started a new project it
would be 5050 for me which one when I
would I would physically take I think
what God would say that if you learn to
lixia and you didn't learn perl and you
would definitely be missing out on
something but um you know both of them
both of those tools can be used to wear
to achieve the same same thing I would
just be very very wary of macros because
you you can give it a carried away them
and you where you think that the best
thing since sliced bread and before you
know it you you think you've implemented
a bit of a monster but alex is
definitely that's a that pipe syntax I
showed there one of the things in
airline is when you change phone shins
together you tend to do them back to
front so you call a function which then
the arguments are another function which
the argument or another function and so
you code can sometimes look a bit back
to front and that you have to go down
the stack to see see what's going on but
Alexa has things like this pipe operator
that basically allow you to say I'm
going to do this and then I'm going to
pass a result into that and so you can
chain your function so that it looks
like they're running in the right way so
yeah I think some very I think it's a
very exciting space i think the alexa
people have done a very good job and i
think it's something that we may adopt
more as time goes on okay thanks for
that that's a question here relating to
the IDE is it and this is again I don't
think it should be too contentious I
mean do you use Emacs or in IntelliJ we
use a variety to be honest I am a vine
man with with no syntax highlighting or
anything at all because I really old
and with emacs are too many keyboard
shortcuts that I forget but we s we like
the IntelliJ airline plug-in and we've
also used the Eclipse plug-in inside of
the Erlanger eclipse plugin but so yeah
the different teams who are specializing
different things the company will
basically pick their weapon of choice so
to speak but I use by I don't know
probably just ruin my life out and
internet but I'm the ryman okay there's
a question here you may be comfortable
you may not on amateur it so the
question is pretty much what's the
operating system that I guess the other
line virtual machine is running on all
assesses standard a linux distribution
fine and the other question associated
with that was did you have to do any I
suppose lower level hacking within that
soliciting system especially get better
performance there the more like what you
have to understand the basic
architecture and so we spent a bit of
time looking at Numa our new
architectures and you know how we are
and how basically you can because a lot
of things when you're dealing with lots
of tcp/ip stuff you get a lot of
background work and you have to peg
costs or something so we looked at me
but did we write any esoteric code
deserve what's that guy has a
presentation out on now on YouTube
somewhere where you know they're talking
about them instrumenting the vm inviting
all kinds of see drivers and stuff like
that you know we didn't really need to
do any of that yeah well I suppose it's
easier if you're optimizing for one
specific function really then you not
want to really put loads of other stuff
in danger that you you're not really
concerned about it it was an all west
level config kind of stuff rather than
Alex see that Moore's configuration and
hacking yeah okay um another question
here it's just generic you aware of any
of your gambling competitors using early
I think that probably are right I
couldn't possibly comment I mean in a
generic sense we do have
we have several customers who are in the
gambling space this is Erlang solutions
and we do help them with both Erlang
type developments and indeed other
technology stacks as well but I'm also
aware that there are several
institutions that do have Earl n bass
solutions they may have some components
running in Erlang but they're not really
our customers they've pretty much rode
their own boats and gone off and done
all this stuff themselves anyway so yeah
they probably are there's probably more
than you think it's like financial
trading this there's more institutions
using Erlang probably control playing
level than is immediately apparent most
people always associated Rican see
trading with you know some vastly
complex and fast stuff written pretty
much directly there until the chipset
but something overall and there are
several institutions here in the UK and
the u.s. that use Erlang is a means of
trying to control all that stuff and
making sure that it's all working to
whatever optimum criteria they set
anyway let's see if we can enough of the
adverts look at her see if we can find
another one what about there's a
question here about analytics reports
etc for risks and other departments is
that is that still the province of SQL
that's at issue over math yeah and yeah
what basic time you don't anything you
only want to you want to try and sell
one problem at a time yeah so for now
okay I think so yes well ok then there's
another comment here about is the
pattern matching in Erlang any use in
fraud detection from yeah well from a
previous life yeah well I love pattern
matching her it's one of the central
food you should have mentioned it was
one of the central concept of Earl
Anthony it's what I think allows you to
build lots of small functions it's one
of the most powerful powerful thing
because in matching Don binaries as they
fly by so having a classic example that
happen on the internet is decoding
frames and an mpeg-4 video using binary
two matching I can't stress enough at
matching is incredibly powerful for
writing network level protocols and for
structuring your code inside or failure
and then an application oh you know it's
one of these things that's just really
really good okay there's a question here
from Alan do you have any specific tools
to interpret Erlang crash logs ah no no
I continent but there's an open source
project I think it's called recon that
the guy who wrote they learn summer line
course you know which we're not using in
production but it certainly looks that
looks interesting yet one of the first
things when you do start using your leg
is is using some of the crash log it
takes a bit of getting your head round
basically i'm not aware that anyone
inside comes using any special a special
tool and we just use our custom
enterprise logging frameworks to where
to look stuff out to our data collection
kind of stuff and and we use that i'm
not sure that we we've done anything
special in terms of looking at the logs
but when you first see one and you're
used to a java stack trace it does make
you make your head hurt a bit but
eventually you get to to use them i
think we tend to use the vervets not
crash early twenties lager which is a
bash o library for for all of our login
okay another question more to do is
something i raised earlier on I guess in
that somebody's asking do you at bet365
actually used the hot code hot code
swapping facility with inner line and we
might do yeah yeah basically if you want
to keep systems I would you know we're
bet365 not bet 36.4 or whatever and so
consequently availability of systems is
is paramount to us um ideally you want
to be able to structure your system so
you don't necessarily have to do hot
code uploads and stuff like that but um
I don't think I'd be given the game with
I said that we have done that yeah
there's a question here about also
specially be related to that in terms of
an earlier one do you have any specific
tools to visually monitor the next ron
really the health of the OTP system
which i guess that means and then nose
and things like that we tend to use the
standard OS level kind of you know were
tools for actual monitoring our software
and then the folsom library which is
meant by company called boundary i
believe which is an open source project
again is quite good for that for stats
collection and then we tend to just
basically put those stats into a format
which is web web readable and then we
import that into work into our other
enterprise systems so you'll be looking
forward to using one but oam then I've
heard about that and I've read the read
the PDF but we're having too much
further than that I know that Francisco
was wanting me to were to look at that
I'll be honest I've being a bit lacks an
area but yes that kind of the kind of
infrastructure sounds that sounds very
interesting yeah okay all right well I'm
conscious of the fact that we've already
run over the hours time it looks as if
we have quite a number more questions to
answer and I don't think we're going to
suddenly get through them within a
reasonably short time thank you very
much for your time then and for the
insights not only about what what course
bet365 took to get to exactly where you
are but also for the answers I think the
answers themselves really just as
interesting in terms of it sheds a lot
more light in in terms of knowledge in
the judgments and criteria and stuff
like that st you know why you did
something so thanks again for that and
we have we try to run these seminars
every six weeks or so I webinars i
should say every six weeks or so we do
have we think we have another were
organized for later on towards the end
of april however we haven't got a
confirmation from the purse
concerned at the present time so I'm not
really a mistake who that is I would ask
you all those who are still patiently
listening that if you've got any ideas
that you like it webinar on that would
help us to format that in terms of a
specific topic then would be very happy
to listen to them or if you have a topic
regarding a Lang that you think it might
prove interesting to others please let
us know the slide that we've got up has
got malad ins name on maybe you can send
anything to the webinar at solutions as
it says they're mad and unfortunately or
fortunately for him was on holiday for
today so he normally does this job and
I'm a mere deputy for the men but anyway
thank you all very much for your time
and listening and any comments please
send them in we're always happy to hear
from you and as I say we will try and
answer the questions that we haven't
gone through on air get written written
answers back to all those people who
pose the questions the webinar itself
should be online through our site
sometime later on tomorrow so those
would like to listen again please do so
and thank you very much for all your
time and good blankie</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>