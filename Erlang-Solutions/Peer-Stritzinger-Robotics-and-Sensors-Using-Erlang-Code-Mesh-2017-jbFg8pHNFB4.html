<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Peer Stritzinger - Robotics and Sensors Using Erlang - Code Mesh 2017 | Coder Coacher - Coaching Coders</title><meta content="Peer Stritzinger - Robotics and Sensors Using Erlang - Code Mesh 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Peer Stritzinger - Robotics and Sensors Using Erlang - Code Mesh 2017</b></h2><h5 class="post__date">2017-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jbFg8pHNFB4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello nice to be on code Michigan as a
speaker I have been here for a while
today we not talking about embedded
systems and how you could do them with
was a functional language like Ellen and
what we actually did in this space to
make it easier to do this so my name is
Pierre Street singer so I have it
pronounced once correctly
I'm the owner in front of the of the
company who was actually doing this and
the slides also by Adam Lindberg so I
stole half of his slides and so I didn't
want to keep him unmentioned so the
whole thing started basically that's
that's where I started I always show
these all slides because that's that's
how we started getting into oh they're
reformatted again there probably is I
don't use his white screen and I had my
slides on for third and so the lining is
a little bit off now its design it has
to be so so a few years ago or actually
many years ago we started building these
boxes which for the automotive space to
reflash automotive ECU's when they are
still in stock so you need lots of lots
of channels and you need to actually
have implemented all the automotive
protocols and for the second version
actually that that's the third version
we are now at point five version I was
kind of bored writing all this stuff and
see all these protocols and all this
configuration file reading and it's also
it's all a lot of work and so I tried
out along and it was 2007 and there was
no going back that's how I started there
like that this box started it and this
box uses Allen to implement all these
automotive protocols but for the
low-level stuff we we can't use Allen
there so we have basically a main word
where long runs on FreeBSD and then we
have custom-made gateways which have all
the hardware for the automotive
protocols and we run our terms you will
about items a little bit more later on
these little boards and a little boards
are written in C and the main
application it's basically just dumb Q's
getting getting the packets from you
speed shoving them on the canvas for
example so as minimal as as possible
which obviously didn't work because you
have lots of latency issues there so you
implement more and more and more in the
gateways for performance reasons because
like the time it takes the flash is kind
of the only thing that's important to
our customers does it work and how long
does it take so since we kind of want to
get out of C programming I only want to
do C programming to do more Ln
programming we need to get a line closer
to the hardware to get rid of these
latency things I'm talking about about
hardware this time about components you
can plug into the hardware about the
software and about the future so Griz is
actually a software stack but nowadays
we made a bar to actually support this
software stack and to make it easy to
get started quickly because if you have
a new embedded board you have to write
lots of drivers to actually get it out
of reset and adopt all the things and we
could have used the existing board like
big bone or anything and then we had to
write exactly the same amount of drivers
maybe even more to do so because much
larger CPU what we decided to have our
own Hardware because then me then we can
decide when we have to rewrite the
drivers and not somebody else is
deciding yeah make a new version oh my
old oh man I was so broken so that was
the initial thought about why why do own
Hardware so this is hardware you see
also one born on this little cotton in
the front I will explain the parts of
the hardware size of the board you can
see about here it's made so it's as easy
as possible to actually do embedded
stuff or cyber-physical stuff or what
passwords Internet of Things stuff did I
cover all the bus mats
industry-first zero yeah as it gets
started as easy as possible and
basically stay on the along side as much
as possible so most people can actually
do things with the board without
touching with that without ever writing
a line of C and if you also add a little
bit of C then you can do much much more
even so the thing is an embedded
wireless device it has Wi-Fi on so we
decided if it was kind of boring let's
put Wi-Fi on I can tell you we pay
dearly for that this is the main cause
for the one-year delay is the Wi-Fi
thing and actually not the antenna that
was only a few weeks but usb on the on
the on the main chip was broken and so
we had to kind of work around that and
yeah we basically should have announced
that we are selling the board soon a
year ago so we are kind of late
it runs normally a lot a reduced vm it's
just the beam the beam as you know it
with the same features and it runs and
it runs on real bare metal so what what
this means exactly I will explain later
but as close as possible as you can get
they are angry em to the hardware
without an operating system going in
between and holding up things and
delaying things increasing latency and
getting less real time nests it has a
lot of connectors I will explain the
connectors later also to plug in sensors
and actuators and we used a standard
which I also will tell about it later
the CPU we used is a kind of medium
sized CPU the reason we didn't get put
on a large CPU but because some some
people mainly just like ask like yeah I
can get a Raspberry Pi bits 1.2
gigahertz for such-and-such hero why
should why would I spend more money to
give a smaller CPU well it's a
prototyping board it's actually not
about it sort of server and the
Raspberry Pi little server or a little
desk computer the reason we got this
medium-sized think so it's very easy to
get a yelling application on it's not
like constrained from the size or from
the from the
power but it's also not so fast that you
can't run it from a battery for a long
time I mean these batteries run forever
basically with the grass Porter normal
USB batteries we have 60 megabyte of RAM
which is actually plenty the reason why
we have so much as I actually can't buy
smaller ones if I take SDRAM we have
Wi-Fi on as I already mentioned and
basically the disk is a micro SD card so
micro SD card is for for playing around
Tom it's very good so we can quickly
switch the card and have different demos
for example on the talk we have a
version of the hardware basically for
for industrial use where we don't use
micro SD cards because they fall out and
they have all kinds of issues where we
actually have a NAND flash on a board
using the same software stack but then
you need a flash file system and for the
flash file system you need a license and
they are dual license and if I do a
commercial product that's fine because
then I just paid to get get rid of the
GPL three four or five whatever they
have but we didn't want to basically in
bother this on the users and if you use
SD cards you get the flash file system
or the flash mapping thing for free and
you can just run a fat file system on
top of it for easy access so let's look
at the parts of the board we have a CPU
that's the thing here second-largest
thing here the other thing I think there
would not be an exercise this large
thing is the USB controller we needed to
add because you need an external USB
controller because the Don CPU USB was
broken it did not work and admin
admitted this if you use external memory
the USB key doesn't work and we don't
know how to make it work do that was
basically the main reason for the
one-year delay otherwise the CPU is
quite good
it's an arm cortex-m seven which is
basically the lot the lot and the end
line of arm is for mobile for smaller
things and less energy things and seven
is the largest one of the of this line
if I remember correctly there might be a
new one but I so it's from a tomato we
it can run up to 300 megahertz you can
run in slower if you want to conserve
energy of course and it has some it
hasn't built in the FPU which is kind
kind of convenient since Aaron kind of
expects that this and if you which is
not I mean not every embedded processor
has an FP or lots of very small ones
don't have any few so you have to use
software FP and then better don't do too
much calculation because software feels
very very slow and it has some digital
signal processing in extensions which we
plan eventually to actually map to the
alongside with sniff so you can actually
use them for like little signal
processing things or calculations for
control loops or whatever
it has also internal memory it has a 2
megabyte nor flash basically which you
can boot from and it has a 300 484
little bit of SRAM so this is too small
to actually run along there the whole
Aaron VM in but actually we can't the
next thing we are looking at our
controllers which have enough flash and
RAM inside where you can actually then
run along on the system on a chip
so watch the space in the next years
maybe because we have use cases for this
there flash is used to actually for the
bootloader so we have a little
bootloader which also uses the same
operating system with quotes as the
actual software so the bootloader is
Paris and the bootloader basically just
looks at the SD card has an SD card
driver looks for for any file on the SD
card
and then does whatever you tell it in
the any file which then usually is put
your beam into the other memory into the
other arm because it's real and 48
kilobyte SRAM
it's also a little bit little for people
but this SRAM has an advantage it's
unused at the moment it's free it's open
so we can do things with it and of
course it's also very fast because it's
inside the CPU so there is no white
cycles so we will probably map the inner
loop of the el and PM into this SRAM on
chip and make the whole VM run faster
and but for that it's actually kind of
largest already the external RAM I
already mentioned the thing on the side
here and the micro SD I also mentioned
so external RAM is to say again 64
megabytes SDRAM we also have 2 kilobyte
EEPROM for like storing the serial
number or some configuration which you
want to stop her board for example so we
saw our logistics stuff but the user can
also store configuration things in
inside and we basically support normal
micro SD cards the Wi-Fi is the little
module here in the corner and that's the
antenna so by now we have actually
decent rangerous antenna against an
access point
I also added for special uses the
possibility to solve on a blog instead
of the antenna basically so you have to
be very you have to be good in soldering
then to solve on these antenna plugs and
and then you can plug in a larger
antenna and get whatever you want
not whatever age you want but much more
range so we support 8 802 802 tot 11 n
2.4 gigahertz only up to 150 megabits
per second up to we can actually copy
that fast obviously with the CPU so
there I don't have measurements because
the current performance the real
performance we caught will be we got me
were happy we got it running the the
performance will improve in the future
because there's room room for
improvement in the USB Driver can be
used more more buffer descriptors to
actually copy more and
so but we already have a driver that
does DMA and kind of just a decent thing
it just needs a little bit of tweaking
to get actually more out of it but if
for the most applications you don't need
that much bandwidth otherwise you maybe
if you'd want to do camera things but
that's actually not the board to
actually hook a camera to I mean it
would work but that's not my main
application I thought about you can save
power so there it's an embedded CPU
though so it had all kinds of power
saving modes you can switch off parts of
the CPU you can also switch off the
Wi-Fi chip because that's the big power
drain which is kind of constant so you
can you can sleep your CPU all day if
your Wi-Fi is on that doesn't help at
all so there's a basically a portal a
switch where you can actually switch off
the power of the of the of the Wi-Fi so
let's talk a little bit about these
black connectors are around the top and
part of the right border we have these
plugs are actually according to a
standard which were a bit of a stock
talk later so you can get basically
ready-made sensors for these plugs but
you can also use the wires by yourself
you can just poke in these little patch
patch cables and wire to your breadboard
and do whatever you want so the first
part is the GPIO port the second one is
also GPIO port you can't have enough
GPIO s GPIO ha means general purpose i/o
so you basically have a few lines which
you can switch on and off and you can
switch them like open so floating you
can configure them in all kinds of ways
you can usually on the on all these
lines you can basically say yeah I want
this to be an interrupt so wake me up
when something happens on this line and
by the way all the all the the
connectors can be cheap a also if you
don't need the other ones and need a lot
GPIO you can configure them and then
just the writing on the connector
doesn't it's not correct anymore because
then it's not an SPI better than GPIO so
every pin on the CPU basically can be
GPIO also Wyatt depends on the GPU we
have
RGB let's - let's I mean to indicate so
you see one green here that basically
means my application is booted or you
can do blinking lights and whatever
things you also want to have maybe a few
configuration switches or input switches
to play around or to actually start the
server - I could have I didn't implement
that could have used that for the robots
basically say okay now now stop moving
sleep five switches you have a reset
button which is always very convenient
during development reset very much
nice-sized black plug because if your
unplug plug then your serial line goes
often that's not good so reset button
the trend there GPIO will get drivers I
say will get because it's not done yet
cause with modulation drivers and
probably also Delta Sigma Delta things
for actually controlling the speed of a
motor or the servo motors which take
pulse width modulation as a signal
basically to say where it actually needs
to go long pulse goes well there are
short pulse goes over there because the
the pulse width modulation is kind of
time-sensitive and needs to be pretty
quick it's not good to do this in the
air line on the other level not yet
there's one plug which is called UART
which is a three point three you are so
it's not like the normal serial
connector we had in on the PC like eight
years ago or you can have still has a
USB serial but you can plug in a
converter that makes it to have two
normal because the normal thing is plus
minus 12 volts
signal strengths and there's also
standards for industrial things so you
can go to all kinds of converters here
and there are a few peanuts where you
don't go all the way to 12 volts but you
directly plug it in and the PIA mater
also talks
3.3 volt for example the ultrasonic
sensor on the
front of the robot that's that's one of
those plugs it's hooked in so there you
can see it here something today the you
are plug and the motors are wired to the
GPIO the new it's actually more flexible
because it's an actually unused art
which means you can configure it in all
kinds of ways you can implement all
kinds of other protocols your protocols
there's actually a little serial
protocol engine on the end on the CPU so
you can actually do bit streams which
are configurable you can do hdl-c or
whatever spi I will explain what SPI is
serial peripheral interface for the SPI
we have two SPI is a synchronous
protocol which is very very very
primitive so it's very easy to actually
put on a chip and it's actually easier
to put SPI on a chip than a lot of pins
because SPI set sense the bits for the
the pins that you normally would have
thoroughly and with a clock and you have
basically a lot of chips that you can
hook directly to an SPI so there's a lot
of peanuts that actually use SPI and
it's also pretty pretty fast you can
actually clock it up to a twenty make up
make up its bits per second not bytes
megabits per second after that it kind
of breaks down it's a master slave
protocol so that CPU is over the master
so basically telling telling the the
peripheral but what to do and you have
one chip select or telling the
peripheral yeah I'm talking to you by
the way
one clock line which is basically this
is here are the bits and two lines they
are one out one in very easy and then
you can configure like on what clock
phase the bits get shifted and stuff
like this which makes it complicated
again by the way because in the in the
chips you get all four combinations of
like first edge second edge
phase-shifted polarity and power and
ground I mean every every P mode
connector has power and ground so you
have a 3.3 volt power on the connect
actually the icrc is actually in the
middle of the board here and they're in
this little circle because I Square C is
a boss and normally you have these
ribbon cables where you can have
multiplier things on one I square C and
you plug them in a chain I Square C is
similar to SPI but different it has only
one data line and the clock line stays
the same
it's addressable so we don't need the
chip select line and because it's
addressable and it's a little bit more
complicated protocol you actually need
only you want a towline because you
basically send a read address and then
the chip basically sends the answer back
after after you are you're finished
however it's my so that bunches
addressable so you can have much more
IOT's on one board the disadvantage is
it's lower it's it's limited to fear for
on a kilobit per second there's also a
connector on this for one wire one wire
is actually similar to I square C but
for longer wires you can say and for
more addresses because in longer wires
you could have it actually more block
more plugs because I see only as a byte
this address and many chips or have
fixed addresses built in or a group of
fixed addresses so you can actually
tweak a few bits of the address and the
rest is fixed and so you get
occasionally you get conditions on the I
square C and then you have to actually
see how to manage that at the different
hardware
unless one wire is actually a lie
because it's not one like one wire up
and because you obviously the ground
layer but it's ground plus one wire and
marketing made one right out of it
probably so you have only two wires and
you have you have your power over these
wires and the data so you can have like
simple sensors like temperature sensors
or something you can actually power from
the line so you just just wire them and
it's also a bus it's it's called a
trestle Mike Roland was the other word
the marketing of telescopic then you can
have lots of I think seventy sensors on
one wire and the sense
which was the actual new technology back
then have a 64-bit unique ID burned into
the sensor so you always know every
sensor is different and what you
normally do you hook them one by one and
then see who shows up because you can
search for new IDs who shows up here and
then you can actually say yeah this is
like top most low almost there are all
kinds of things you can get sensors for
this you also get security devices for
this it's an it's kind of a side
business of Telus because they made
access control devices out of worldwide
blocks which are actually still in use I
think the Turkish subway system still
uses our one wire plug so you can
actually make a door opener with it and
and and they're there there's lots of
like encrypted memory memory you can
only only store keys in and basically
have to decrypt primitives on the on the
memory so you mean we could also think
about like making a little board on top
of the one wire to to store let's say
your web server certificates should be
possible I thought about it at least
there's a micro USB on one side but the
micro USB is only client so we're not
host the the micro HP is used for three
things the power comes over it
so we power people just power through
USB if you have if you don't have a
totally wimpy laptop was very wimpy USB
plugs you can just plug it into your
laptop and it gets powered some laptops
are little bit weak on the USB
especially with the voltage goes down
and everything so if you do Wi-Fi and a
lot of peripherals you might want to use
a hub so on my laptop just works without
hub on the USB there's there's two USB
serial connectors basically or units and
one is for the console it's always nice
to have a consoles who can actually
watch things booting and if the Wi-Fi
doesn't work you can actually try to
configure it I mean you have to get into
the thing for once and you want to
actually see what's wrong when it's not
pudding so every console is always nice
and there's also a chat tech debugger
on the device so jtech is a is a kind of
standard where to actually test chips
but you can you can't run a debugger
with it so you can you can single step
and break
and this the actual CPU so you can from
reset debug the first steps of the CPU
with jtech and we built a high tech
debugger interface on the board so you
only need is a USB cable and a piece of
open-source software which is called
optimal CD and then you can flash the
bootloader also and do all kinds of
things there's also a real jet tech
connector there because the the OPA
knows the DJI tech is kind of limited
and if you ever if you have a real
chetak debugger plug which costs about
2k if you have a good one then you can
do much more things even you can
configure all kinds of things and it's
much more much smart and you have a
back-trace in the debugger and you can
actually see after the crash actually
how did we get here which is very very
useful sometimes so that's basically the
parts of the the hardware then a little
digression we basically the actual
software stack or the actual idea to run
along on the hardware was actually done
for this device it's for Bosch Rexroth
they actually paid for the first a LAN
port on autumn's so the actual computer
is only this part that's only cables
here so cabling always takes a lot of
place here because there's lots of
connectors in here so the CPU is only in
this that's like this size and that's
that's the thing that's actually used
and it's used for in the prototype for
industrial transport systems which is
the the things that move around so this
is all controlled by 50 nylon nodes
which you can see if you see their green
cables here they say they plug into the
naked ports here that this was very very
early oh we have sounds yeah yeah I
didn't I didn't do a real film I just
had we had some test footage and I just
kind of like come together and speed it
up a little bit
finally we have our fatty antenna on the
systems and that's the main thing to
control them is the motion and the RFID
now so a little bit more about P mods so
we saw the connectors that exist and the
P mods are these little modules which
you can plug into this connector you can
get about P mode as a standard from
digital and who also does does boards
like fpga board so you can plug them in
so you can actually get actual I own 2
into a FPGA board for testing very
easily
there about what different p modes you
can buy in a peanut costs about like
between ten and twenty five dollar so
they are not that expensive a little bit
more expensive than other sensors but
usually it's a little bit better sensor
so it's more professional three months
and as I said it's like this size it's
very small it's also very easy to make
your own P mode so if you have any
sensor and there's also P modes for
bread boarding where you can actually
solve your sensor and then and it's very
easy it's very easy first hardware
project if you want to just to trust the
P mode it's a very small board and it
does not have much requirements for
hardware much less than a CPU so just as
an example of the hundreds of the
hundreds of three modes this is a Pima
to connect actually for several motors
which can so you can control for excess
of some model or something to one pin to
one connector to GPIO in this case
that's a very nice one which is new or
pretty new P mode enough it has 3 X 6
and 0 meter 3-axis gyroscope three axes
magnetic compass and a pressure sensor
all on one P mode and a temperature
sensors also in there too because you
need to calibrate the other sensors but
you can also have used the temperature
sensor so here actually 11 degrees of
freedom sensor thing in one on one
payment that's another one which just
has a good gyro which is also the P mode
nap so we actually I wouldn't I wouldn't
get a gyro anymore I just do payment
enough and we already have to dry
it's very nice you can measure all kinds
of things that's also all the one
accelerometer where so that that's where
it started and now they actually
integrate more and more on 1p mode
that's an H bridge and that's another H
bridge and H processor thing to control
a motor so you can actually by
controlling two bits you can say
forward-backward start/stop and it's
very bad if you have start on and switch
from forward to backward because you get
better for a very short time you get a
short circuit between things so it's we
have a driver to actually take care of
this which stops the thing before you
actually switch the direction and you
can get like larger things like a GPS
for example that's a GPS it's also what
P P mode you'd plug it in you have a GPS
so time for demo so for the amount we
mounted uh let me show you there so we
basically got of ready-made robot kit
which is also available Fanta tooling by
the way so we have these two wheels in
understand and I mean this these are the
two H purchase here to control the
motors so that's the H P 5 P mode that
you just saw and here we have the grease
board on top of it and I have two
batteries on for just for good measure
one six volt just no more batteries for
the motors and I use P battery for
powering the grass board so battery is
still full that's good I put the motors
on an extra one so I the motor sucked
down the battery pretty quickly and it's
kind of sucks when you have any current
program because if it better is empty
but you could power it from bos it's not
a problem so and for the demo I have to
pick up my other gray spot which I hit
below here so this is another great spot
so I bought here whoops
and it has a P mode enough on and we use
the accelerometer that's also also just
the battery use the accelerometer and
both surprised by the way connected to
this little Wi-Fi pack here well by the
way anybody has no internet he is
connected to my Wi-Fi there are several
people here
it's not connected to anything except
these two boards it's boring
just get out so when I tilt this thing
the robot is supposed to move so I can
go forward and I can't go backward and
if I tilt it like this it turns and in
the other direction actually turns the
wrong way around I have to flip it up
does it work like this
- no no need to drive backwards and by
the way all this is done through Allen
distribution so I just have Aaron
distribution between these two boards
over the Wi-Fi and then you can play
play with things so the plan is if you
want to do several things you just put
the board somewhere oh stop okay you
just put the board somewhere and don't
run away I just put a board here in the
board here board there and then have
half the network I'm actually having to
change the SD card here to put the next
demo while we are talking
so where's my little SD card so that was
the one demo the next thing we will just
put and get through a few slides so
actually how much time do I have
okay so we'll skip we skip to queue now
you answer all your question the talks I
want to talk a little bit about how this
actually is made about the software and
everything we put this
so I talked a little bit about autumn so
we can actually skip through this
the important thing is autumns is not
really an operating system where you
have kernel mode and and user mode and
you have to go through kernel mode and
it preempts you and all kinds of things
it's just a library which you link
together with your application which is
beam in this case and then you basically
all we get from with these threads in
the network stick that's what we use
you can configure it it can get very
very small if you leaf or whether there
are ticks get smaller and smaller so you
can run it on very small hardware but
Danny along doesn't fit anymore and I've
been told this is called a unicorn
nowadays but it's from the 80s actually
but it was not called unicron back then
it has a POSIX API which made porting
along much more easier of course because
kind of everything is there that you
expect not all the functions work so
it's just stopped sometimes so that's a
little work we didn't need a little work
was a little work it was quite a bunch
of work to get the first port on it I
just forgot about it because years ago
it's very performant it can very very
quickly switch threads so if you do a
thread switch it's basically probably
even faster than then then a toast which
inulin
or at least as fast
it supports SMP which is kind of neat
for a small operating system so we are
actually looking forward to to use a one
of the larger embedded controllers which
has SMP you can get them like you can
get embedded controllers with 24 very
powerful course and lots of network
I almost for example and I'm actually
going to play around with that with the
island and running ellinon real SMP
course and would also be nice to show it
off of course it doesn't have normal
processes it only has threads so it's
basically it looks like one operating
system process like a Linux process
running on the real hardware that's
that's the programming model of the
operating system so everybody everybody
shares memory with everybody there's no
protection at all if you overwrite
anything then it just crashes what does
even worse
it has the networks like from previously
a pretty current one which is kind of
nice because it's very powerful Network
stack it's actually pluggable you can
also use the smaller one which is then
not as nice of course
bemis compiled together by the autumn so
you get one image so when it actually
when actually loads a file called beam
point in pin dot pin while booting
that's basically atoms and their whole
beam and and then it just jumps on the
beginning and and and and runs through
so that's a little overview it's like
yeah beam application OTP Grist runtime
runs on top of autumns
autumn sits between the hardware and
beam but actually that's not totally
draw because you canvas NIF's you can
bypass autumns since all the hardware
registers are visible you don't have to
use drivers actually you can if there
are drivers but if they've new hardware
usually don't have a driver and what I'm
doing in this case I don't write an
item's driver which I then call from an
airline driver I just write an airline
driver or an if and talk directly to the
hardware because it has all the features
that you would want talk directly to the
order and only have a little threat to
actually catch interrupts and send a
message to Ellen and said hey there was
an interrupt and then write as much as
possible of the driver Ellen already
because it's much more fun they're
actually the crisp run time which is the
thing that we run on the Ellen side
basically which is optional but very
useful which should provide a hardware
abstraction for all the drivers and the
P modes and all the things it's slowly
evolving but we're actually pretty happy
with the current state already it
provides low level drivers the C level
drivers if necessary and and the high
level drivers for for a long and
basically a way to load the drivers and
register them as an example you can do
it like programmatically to just edit
edit driver but you can have just a
config files
Allen config file where you say yeah ok
my devices on SPI one I have a P mode
enough and on the word a blog I have a P
mode max oh no that's this owner
thing and that's all you need to do then
you get a supervisor with the drivers
running and you can just talk to the
driver API and that actually works what
you see here these are two drivers we
actually have no I actually wanted to
skip these there's no time and it's
probably also not the right conference
here but they play I am sorry for
stealing the logo so tooling we have a
repo plug-in which does all the building
and it also has templates so you can
actually do a rebar rebar three new
grasp up and and it basically sets up
the normal structure for a grass but it
has some extras where you put your C
files because if you have a seat driver
in your application that actually needs
to be linked together or compiled
together with with OTP and linked
together and they're in the into the bin
file because we cannot dynamic load
drivers we can only statically link all
things together that's why we have rebar
three grass build which basically pulls
the source code of OTP patches all your
drivers in and then build OTP from rebar
and then it uses this OTP to build your
stuff or to actually build your and it
any pixel together in a release if you
do a reverse free crisp deploy does this
and you can have actually plugins wet
where you can actually say yeah my path
to my SD card is here and before you
know copying to the SD card erase the SD
card and after it ejected so you just to
rebirth redeploy and then you pull out
your SD card and shove it in and it just
works that's probably no time for demo
demoing this actually doesn't work on my
laptop because I'm kind of screwed up my
laptop yesterday I'm not usually working
on the laptop it only goes to
conferences what does this light do here
I don't know this light doesn't belong
here second demo we still have time for
demo ten minutes of plenty of time for
them
- hi-ho Tim so let me focus nah that's
the wrong connector ih do you know
what's wrong way around here do you see
anything
you
is it readable no that's wrong so who is
with the sky let's see how many do we
have now no time
so I'm it blinks so it's ready I'm I'm
doing this is a remote shell to the to
the actual grasp node so this shell is
on this on this other on the robot and
the other we know I want to have a face
my net load window so I start another
Ellen Note 2 and I connected to the
okay we are connected and so I also want
to actually because I tweaked the demo
for the for the carpet here I do a quick
load over the network
so I'm now basically loading the beam
file from this laptop while while their
software is already running so we can
tweak it afterwards not much time for
this and then I just started here so
follow me Oh actually I can't show you
other things yeah follow me and so I
wrote a little little function like
forward for 200 milliseconds and it
drives forward for 200 milliseconds and
of course we can also drive backward and
you see it behaves weirdly on the carpet
yeah come in come in front if you want
to we have the video now from from front
so done and we can we can turn and we
can turn also to the right and also have
a little algorithm running so now it's
looking for me and I have to go there so
otherwise it finds the table or
something and when you found me comes it
comes towards me and follows me around
so there you see the distance so here on
the Bema you see the distance the
ultrasonic sensor is basically seeing in
interest by the way that's how the the
sensor works
and and literally we coupled this
together on Monday before we prefer a
flow out this like when when a driver
was working I had one more and so it
it's very easy to so I will leave it
let's see what it does so the final
remarks final remarks hello Pima what
you doing Gary help hunting me down no
please
I want to show my last slides just a few
ah there we are so just just a few
slides on the future where are we going
the immediate future I'm very happy to
announce like with one-year delay we
will ship in the middle of November and
we will have software 1.0 the software
is already on github so you could have
watched it how it's developing all the
time so development model is totally
open we have all our issues of litter up
also in terms oh he actually watches
work and also helped us pretty soon you
can get the board's so yeah hard
airships very soon I heard that the
hardware should be arriving at our
hardware developers today or tomorrow
and we would get the hardware next week
and then we will ship the pre-orders as
fast as possible next step is we which
is already in the pipeline or that's
actually not next step that's 1.0 we
will have VPI a tool because kinds of
sucks that they have these open access
points to actually play with it but it
was a lot of work to get all these VPS
applicant thing running on autumn's and
unfortunately it's not crack attack
proof all in the first version but I
promise you version 1.1 later this year
will be crack attack proof because we're
actually moving to the latest FreeBSD
version of VPS applicant but for that we
need to move to other move other things
we currently have along 19.3 and we have
all the basic sea level drivers for all
the the P modes and 1-wire those already
work so actually knows no C required
anymore and we we are busy writing
drivers for the higher-level P mode so
the most important ones etc etc the
board is also used in the light-cone new
project for edge computing and Internet
of Things applications which I need to
mention here actually sorry about the
missing new flag not really it's
mandatory actually I just remember that
the road map along 20 soonish 120 is
like we also go to multi-threaded modem
because currently we are using single
threaded but since it's not the default
one for allen 20 we basically want to go
with the stream and also I want to play
with this SPE embedded controllers
so along 20 soonish more drivers of
course and we have one project starting
to actually have the possibility to
write hard real-time processes in Allen
and if you want to know how this works
or how this might work you can talk to
me afterwards and there's also raffles
if you're not on the mailing list yet
and get on the mailing list during the
conference you can win a great sport one
of three it's getting less and less with
the every conference but we have it on
the roll up so every time I bring the
roll up I have to give away future
sports otherwise I'm lying and also to
actually boost up to actually because
lots of people pre-order the board and
have been waiting for a while now so I'm
very sorry about that
- actually this is readable yeah so
basically every board order in the past
up to December 6 we will actually raffle
10p mod nufs one of 10 of course and one
robot kit like one kit where you can
build this out of but it will be
actually probably another one with
several motors which actually is better
because then you can control them more
easily because this is moving too
quickly yeah questions no time for
questions ask me afterwards outside
sorry about today</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>