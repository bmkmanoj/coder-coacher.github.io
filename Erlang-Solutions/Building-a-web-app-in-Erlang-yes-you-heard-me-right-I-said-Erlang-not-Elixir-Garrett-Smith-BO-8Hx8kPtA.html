<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a web app in Erlang - yes you heard me right I said Erlang not Elixir - Garrett Smith | Coder Coacher - Coaching Coders</title><meta content="Building a web app in Erlang - yes you heard me right I said Erlang not Elixir - Garrett Smith - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a web app in Erlang - yes you heard me right I said Erlang not Elixir - Garrett Smith</b></h2><h5 class="post__date">2017-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BO-8Hx8kPtA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well thank you for that so thanks for
attending this feels like it's super
loud I'm just going to move it down I
feel like I'm deafening myself there's a
small room I hope that's better yeah
okay so this is going to be a kind of a
talk that this can be a lot of
improvisational components to this
because I'm trying to get a number of
things in here and I think at the
cross-section of Erlang and elixir
within this particular conference the
web is really kind of become a thing
again and I say that I say that and I
have to correct myself because it's
always been a thing it's always been
very very important to software
developers and erling is a bit weak in
this area and what I'm going to show you
will actually confirm that this is
almost a presentation on some of the
weaknesses of Erlang and the approach
I'm about to take that said I think I
also think it's a strength so I'm going
to I'm going to try to I'm going to try
to be completely neurotic in the best
possible way I can
in both criticizing myself and
complimenting myself because I think
that there are strengths and weaknesses
to what I'm about to go so we're going
to point those out what I'm about to go
through is a different approach to web
development from what you typically go
through it is not without precedence
what I'm about to talk about and sort of
the patterns here incidentally I lose
track of time so when am I supposed to
stop here I should always check this
just to make sure because I'll go over
if I don't to check they put the ability
55 okay no problem
okay this approach to web development
was very much inspired by yen dicking of
Python community Fame and this is a
number a number of years ago people did
need web apps for a while so this is not
sort of a new territory this is not new
content but I feel like it feels like a
fresh idea and so you'll see what it is
a second kind of
this is a big setup here and Ian gave a
talk in Chicago when he lived there the
Python user group meeting called
building your own web framework and this
is at a time when rails had sort of
established itself and Django which is a
Python framework similar ilk it large
sort of you drop it in and get a lot of
functionality out of the box had also
landed and it had gotten a lot of
traction in response to that the Python
community developed a web standard
interface that allowed an ecosystem of
web component resurvey and clients in
middle there to emerge that's they're
installed whisky I'm not going to get
into whisky but I'm going to get into
what is a viable Erlang counterpoint or
not a counterpoint alternative and sort
of mapping whisky concepts into Erlang
and that still has not taken off it's
still even even really I mean which is
very very successful but this idea of
taking nothing starting from literally
nothing and building up a web app from
components is still very much a minority
point of view and that kind of surprises
me so I think that there's probably
problems there but I do personally
believe that this is by far and away a
better approach and this is this is an
opinion but I hope to put some meat on
on and back back opinion up with with
some data here so you can judge and see
there's there's definitely issues here
this approach does not give you
instantaneous satisfaction within like a
20 minute time frame I think it gives
you good satisfaction within the 60
minute time frame but unfortunately I
don't really have 60 minutes so I'm
probably not going to get through
everything and you're going to look at
this and say this is just not a polished
demo this is not and and what I'm going
to show you is not polished at all it is
sort of a low-level visceral kind of you
know underground approach to building
web apps but I think there's some
advantages despite the lack of polish
and lack of polish by the ways our
function simply not polishing I've been
extremely negligent in not documenting
and getting this polished and as a
motivation I was going through this I'm
like this is terrible
I can't I can't legitimately get up and
talk about this but I will and as a as
sort of a punishment maybe punishment
now I'm going to go I'm going to go and
document this and I'm going to make it
great getting started guide I'm going to
kind of step up to the play on the
documentation side but you're not going
to see that today you're going to see
concepts you're going to see muddling
through source code and literally
muddling and hopefully there will be
some principles that come out of that
I'll try to highlight does so as
additional set up here what I want to do
is is contrast between a framework and a
library and generally this is a fairly
there's a consensus around these
definitions I think a framework is
typically is sort of a higher level
abstraction that provides callbacks that
you fulfill or contractual terms that
you fulfill you plug into it so it sort
of wraps around some people will call a
control inversion where you sort of cede
control to some higher level workflow or
abstraction and then you fulfill certain
terms of contract by providing
definitions or implementations and you
plug into that system so framework based
development tends to look like this and
if you what's Phoenix as an exempt to
the premier example within this
community of a front of a overarching
framework that looks like this you
typically install the framework and it's
dependencies you can go on to look at
the QuickStart guides and you'll see
you'll see these you typically generate
a skeleton that gets you started sort of
stubs out the different the different
aspects of the contracts that you need
to fulfill and then you go ahead and
define you start to fill things in and
that's that that is a very comfortable
workflow and I think psychologically
especially if you a you haven't done it
before
it's fantastic is that it gives you a
rubber room literally just just go and
I'm just going to do this and do this
and do this and now it's working it also
if you're familiar with the tool and you
like the tool you've experienced with it
it you're very productive in it this is
the counterpoint or they look sort of
the other side of this is what I'm
calling library based web developer
know if this is a viable descriptor for
this and you'll see this here you'll see
I'm going to be focusing on more the
library side of things so you won't see
a framework you generate an application
or system skill team this is in Erlang
so I'm using some some terms that are
Erlang specific here so you generate an
application slash system skeleton you'll
see what that is in a second you run an
HTTP server under super supervision tree
supervisory tree and by HTTP server I
literally mean something listening on a
socket it's the HTTP server it is not
the web server or the web app it is
fulfilling the HTTP protocol contract on
a TCP socket and you get a response and
it decodes it and you fulfill something
and you providers rickly to get a
request you do something and provide a
response you'll take a look at that this
is a very low-level component very
important in a web app though and then
you implement your application features
and so this is what you're going to see
here the control exists within the
programmer I control this process I will
use libraries as I see fit I don't want
a framework that will tell me what to do
even though that might be the right
thing to do and I will highlight why it
is a SM I'm a complete control freak to
start with but there's also an actual
actual advantages of Merit taking
control from day one rather than ceding
control and then resting control away
from the framework as you need to make
improvements optimizations and other
changes to your application another very
simple all those words could be
translated into top-down bottom-up quite
quite literally framework is very much a
top-down approach you start at a
high-level abstraction and then you
start to fill in the detail and what I'm
going to be talking about is a bottom-up
right we start with nothing and we add
incrementally so but what we add
incrementally and how we do that is the
luster Devon because there's not going
to be I'm just going to randomly code
things I'm going to be looking at very
specific abstractions and libraries and
solving specific problems what are those
well in a framework you tend to see
things like this so just again because
people are
we very much used out of curiosity who
here is sort of web developer you say
what the host okay fine web developer
and so when I sort of say that sort of
back in like a liquor
okay so webs Alden in elixir real high I
can say the exact people is the same
thing web developed web development in
Erlang okay there's a few okay all right
okay good so so the frameworks generally
are going to look like this you can have
some sort of routing layer and there's
going to be some interface to that could
be some functional decorators it could
be a configuration file but the routing
and we'll see very specifically what
that is is how you get a particular
request over to a particular handler you
have controllers and models and views
and somehow we've decided that MVC is is
a is a is a good model to apply to web
apps I personally don't think it is I
think it's not helpful the fact that
there's a model there is very very
leading you into the into the use of a
Norman and warm friendly backends you
get a lot you get a lot of a lot of
baggage with MVC but you nonetheless
they provide very I think reasonable for
a reasonable framework to think about
how to how to build things I'm not going
to describe what these are because I'm
going to focus on the other stuff and
now what I call generally middleware
configuration which is sort of all the
other stuff that you could deal with in
bed sit in between a client request and
the response coming back and it's placed
throughout these different layers the
library functions are just lower-level
it's in it provide a language to talk
about how to build a web app we have an
HTTP server very important a web app if
we have a request handler interface and
this is going to get and I'll show you
what I'm talking about here but whiskey
which stands for web services gateway
interface web services a way interface
is a direct mapping of CGI common
gateway interface which was a command
line interface basically the witch math
web requests to POSIX style processes
with environments and standard i/o it's
a direct mapping of that in
into Python what you're going to see is
a direct mapping of that interface into
Erlang
okay so that's the that's what I mean by
the request name of the interface and
then request handler utilities kind of
it some application configuration
probably don't need to include that
there okay so what I'm going to do here
is start with an app skeleton so I'm not
going to go and say so rebar has some
nice templating features similar to the
way I think it's Mick Nicks now that
generates things for you skeletons what
I did is I just I did this earlier and
let's make sure I'm in the right
directory here so most of this is going
to be a live coding exercise I have a
pure version make sure everyone can see
this this maximized and do that that's
good got reasonable if I could see that
view which could shift it up higher but
okay so what are we looking at here
this is I want to keep the bill let me
let me filter this out so we got to look
at that otherwise I'm gonna have to go
on the internet and that goes oops
exactly what I didn't want okay so I'm
using rebar lately I used to use Loic
some Erlang MK inner Lane K basically a
make file include which is pretty
hardcore and really really austere a
build tool there I've advanced to rebar
three and I've been using that largely
I'm pretty fond of it there's a lot of
work that's gone into it so I've used
rebar to generate this thing but the
interesting part of this is is this and
I'm not going to spend a lot of time on
canonical Erlang but you have your app
and this is this is I use a tool up so
this is Nauti - this is canonical orling
OTP this is under app really just a kind
of a quick shim around the supervisor
which will show me what my particular
app is
the type of a supervisor specifies
what's going to get started when you
start the application and and this is
the metadata the dot app file which is
copied over and then I have a couple of
I'd only issue you even need those two
two in there but whatever okay so let's
take a look at the supervisor and this
is a skeleton I basically just took the
standard rebar generated app and deleted
some comments and then I filled in some
things here what I want this app to do
when I started is simply to start a web
server that's all I want and I'm going
to be using this library called psycho
and this is actually predates TOTP
there's no relationship at all it's just
maybe started with if he there's no
relationship with it's totally random
but this is the thing psycho is the
library that codifies that that
interface that I'm going to talk to talk
in a moment and we're going to do is
start an instance of a server and that's
kind of it and we're going to start with
that and look at this thing called HTTP
so that's my starting point again not
the 20 minute startup demo why I want to
get down into the actual HTTP interface
because a it it's really helpful to do
that I think as a web web developer you
ought to do that you ought to be
familiar with it
not a matter of having a badge on your
lapel or whatever it's a matter of
simply being able to get into the
details when you need to and really at
the end of the day it's a very
straightforward protocol so we're going
to get into that and then build up from
there I guarantee you I'm not going to
finish anywhere near time but I want to
get this conversation started now I will
highlight the high points and so you're
gonna have to use a little bit of
imagination and then I will I will show
you the payoff I'll show you a payoff
payoff that I happen to believe in and
it's why I continue to go back to this
model time and time again
okay so this is the supervisor that's
going to start up and again canonical
Erlang there is no sort of overarching
notion here I'm just plugging into what
Erlang every single OTP application ever
ever does in this case I'm going to
start a server and so let's take a look
at that so my amp my convention I will
add the HTTP suffix to anything that
deals with the HTTP interface it's sort
of a signal that this thing speaks HTTP
or sort of a front-end interface okay
so not a lot of code here if you're
unfamiliar with Erlang roll with it you
can kind of think of it as a more
compact elixir and has you know it's
stripped down quite a bit here but this
is going to call a start link and this
is actually not a behavior module this
is not you know obviously there's no
callbacks
I'm simply passing through to an OTP
compliant process here so that's really
all the start link is doing and this app
here is very sort of evokes a hint at
what I'm going to talk about I get into
what this interface is we want to do is
just is just compile this hopefully it
compiles I know what happened here every
time I'm on the Internet
Emacs goes crazy it's just a phone
alright so let's do this again like
that's why you shouldn't use Emacs you
shouldn't it does it doesn't handle the
internet somehow how that yeah I'm sure
I just should switch to them now I have
the prelude I have all sorts of crazy
stuff installed on here I've lost I
completely lost control over my editor
it tells me what to do these days all
right
okay that works okay so I compiled it
and I have to make when I make file I
you know I don't know I just I can't get
away from it it just a simple tool so I
have a make file target that simply runs
the app and the it runs this app in a
shell
sorry it starts a shell in which I can
run the app so I don't think I need this
window up I don't know what that is okay
oh that's my presentation I do need that
window I do need that window let me
wow that was terrible okay hang my even
have I even use make for my presentation
I actually do that's real
okay so I'm back alright okay poof
that would've been awkward okay so in in
Erlang you have applications and so
right now this is just a standard out of
the box rippled shell environment with
the two core required apps started so
I'm going to start my app which is
called my app okay and now I'm going to
let's see here oh don't look at that
that's that's that's the payoff that'll
happen in two hours yeah we won't get to
that but that's okay
okay so so here is the dramatic okay
after 20 minutes you can get the hello
off it's great this is an amazing way to
build software this is really yeah it's
not that but here this is what's
interesting and I'm going to talk about
this probably for five minutes and then
we'll be out of time so this is the
interface is anyone here familiar with
whisky WSGI okay a little bit Raik is
another I think an ecosystem within the
Ruby community I think there's a similar
interface I'm not familiar with that
certainly CGI is very famous I mean this
is you know sort of you know early web
days where you could build a perfectly
compliant web so you can still use CGI
today it's still perfectly viable
platform but basically the whole idea
the whole premise behind these
interfaces is to take HTTP
request/response
semantics and map them into a particular
language environment so CGA CGI Maps
them into a oh s process environment
WSGI or whiskey maps them into Python
what I'm going to show you here Maps
that same thing into into airline so
so I'm ripping off whiskey Philip V's
original spec here and it's an app and
the app is responsible for providing a
function that takes an environment
environment has the stuff of the request
in it so hdl-c winter edition to be
request is in a moment but just roll
with this request response request as a
payload respond to the payload request
has some metadata some information
headers maybe a body some other things
so to the response they're very very
similar and that's basically how the web
works that's how HTTP works so this
interface reflects that so you have a
handler which is an amp and right here
it's described as a function it takes an
environment and it provides a response
that is a mapping to HTTP and a lot of
other protocols so if this interface
that is defined you can provide altering
alternative and this is literally Python
type syntax so this is not this is kind
of weird this is basically my syntax
maybe this is legal I don't know but
this is saying there's a module with a
with a and a function and exported
function named app so if you provide a
single module it will assume psycho and
the protocol assumes that app is
exported app with a narrative1 so it
takes one argument you may alternatively
specify an app as a module and a
function function of everyone or MFA in
which case the arguments are appended to
the Timothy environment so this is very
very standard pattern in Erlang for
specifying function with perhaps this
exception so I would I would concede
that that is slightly controversial but
it's a behavior so it's not actually
controversial the environment is
basically a list of environment values
the environment values look like this
and again if you go to whisky spec it
just comes right it I lifted this
verbatim that was a stated goal because
by and large wood is an unbelievably
successful project within Python
quite inspirational okay so we've got
the HTTP headers which are just the
literal headers that come off of the
HTTP request we have the method very
important
the path very important and the way of
the protocol also important but maybe
less important most people don't care
about that the headers are simply string
string key value pairs the response the
response is very simple consists of a
status list of headers which can comply
with that string string the name values
and a body body is we'll see what these
are
there are some alternative form
supported I would say that these are
largely edge cases I mean receiving body
and form data are not so edgy but
they're certainly not as common as
simply status header and body you can
omit the body and then you there's a
couple of some somewhat monadic pattern
here of saying I want you to go give me
the body of the request or the body of
the request decoded in form data so this
is when somebody is submitting something
that's you know in the body of the
request you want to get that payload you
would return this and then you'd get a
call back from this framework and it's a
sort of a functional pattern this would
be very very strange to do in Python but
I wanted to avoid side effects we're
reading directly from sockets in this
interface and this is really should be
subject to an RFC and discussion and
this is just my sort of proposal that
I'm never formally proposed but here it
is the status is simply an integer for
the response code and the string that's
right out of the protocol the HTTP
protocol and body is an i/o list it's
that this is really very very simple and
every single web request response fits
into this every single one I'm leaving
WebSockets out I'm leaving HTTP HTTP 2.0
out this talks about HTTP 1.1 1.1 but
that covers a lot of ground I would be
very surprised with wetting of the
WebSockets aside if people are doing
things that fall outside of this of this
boundary ok so let's look at our app for
a moment ok so what we have here is not
a really great model here because it's a
you're creating a anonymous function
here
and you're passing it what I want to do
is kind of turn this into an official
handler so I'm just going to I'm just
going to take the standard which is the
default so I'm just going to say I'm
going to define my app which will be an
end and what I'm going to do so my app
when I start it will simply look like
this so I'm going to say start okay my
app is going to be module this is a
macro that will refer to the module name
and so what I want to do is very simply
return what I got I'm going to do io Lib
format this is this is Erlang and and
here and here I'm going to fulfill the
terms of of this I'm now going to
provide my response where's where's my
right here so I'm now so I'm going to
handle my environment call and I going
to provide a response and my response
needs to conform to this so I'm going to
pick this one so I'm going to say what
my status is my headers and the body
okay so now some folks are looking at
this going now not for me no not
interested in this too low level I want
something to get me started quickly so
let me make a point to this I am
deliberately going down to a lower level
there is nothing to say that this
couldn't be a function to make that that
go away in fact let's just go do that
why don't I just so this is the response
actually before I before I refactor this
let's just see if it works we can do
that okay I have a reload or running the
background but because I changed
something that isn't going to change
because I had a closure there I have to
I have to forcibly stop my app which is
not something you typically do in a
production system but we're not in the
production system we're developing so
what I did is I stopped the app and then
I restarted it and because the module
definition was reloaded I get all this
new this new behavior so what I'm going
to do here is who here is familiar with
this thing
you've heard of that this is nothing
more delightful in my opinion then
interacting with a server that can you
can simply use plain text in there a
cappella net it's so satisfying so I'm
going to do that let's see what was the
port I used eight two zero zero one okay
what's that
okay local this should know what I want
okay
we're in telnet where basically we have
a TCP socket connection to the server
and I'm going to I'm going to go I'm
going to go hardcore here I'm just going
to go this is it so this is HTTP so we
have a request HTTP okay so this is my
method that's my path I'm asking for the
route just I could be anything to be you
know flu and that's the protocol that
I'm going to use and I'm not going to
have any headers so I'm going to have a
blank line there and that's my server my
server got back to me with this thing
now some of you like absolutely not I'm
not getting down to this level I don't
care about this I don't want it anything
to do this I'm showing this to you
because there's nothing else going on in
this exchange this is literally as low
level as it is meaningful to get it
doesn't I don't even can't imagine what
else I mean even at the TCP socket
they're still you're reading these care
having coded this as an Erlang term I've
printed this out but this is still this
is these are still just bytes being
vendor on a from the response
straight straight up these are chunks
you know signals here because I'm using
chunked encoding but that's a you know
small detail no you don't need to know
this but again the point is we've gone
to the bottom this is the this is the
what these would be electrons here of
this transaction and that's it okay so
we know it works I'm going to do a quick
refactor here and this would be the
example of I'm going to create my own
framework so this is a nod to Ian and
it's like oh I'm going to create a
framework right now here's here's here's
how it's going to work I want something
okay and it's going to be text and
here's the body and that's it and this
is it so I want okay text and the reason
I'm saying text here
show you in a moment but I could you
know I could do anything I want I'm in
control of the situation and content
type and and it'll be the same thing so
if I went to go and view this that's
that's the response as the web browser
sees it which is kind of cool
why didn't I get risk what's up oh I put
the environment in there all right let's
move on to some bigger and bolder ideas
okay so where am I at ten minutes no way
am I going to get through this okay so
oh I know what I'll do I know it'll do I
know it'll do
yeah okay no problem no problem I've
come prepared okay so I believe I
believe now I have it written every I
haven't written I've written a lot I've
written a fair number of web apps in the
last say five or six years and with with
a few exceptions they've all been in
this framework I am not unhappy with it
I really really enjoy this and and and
these will easily these are the things
that I deal with this is the vocabulary
the patterns that I deal with and it's
the same thing that you would see in a
framework they just happen to be on the
control of my fingers and I don't really
see a complexity difference it's just in
a matter of control here the elements
routing I'll show you what all of these
are static content dynamic content and
then a data interface and I say for
example rest it's so much fun to get
into debates on what rest actually means
and how to be restful and I just I love
the pedantry that is surrounding this
term let's just just call it a data
interface meaning it's some way to get
data in out of the
that is not necessarily for humans human
consumption that's kind of it except
there are a few of the things that I'll
mention for the sake of it and I put
these into the general categories
middleware so by middleware I mean
things that you inject into a request
response pipeline so you get a request
and the request is sort of naively I
want this thing and there's somebody on
the other end of the request who's going
to respond and and give give provide
that thing but the author the programmer
says I want some additional things in
between there and that's what I call
middle bear and he also calls it
middleware an example would be it was
weird authentication so you know in
addition to oh you want to get this
thing who are you are you entitled to
get this thing so in this model you can
insert some middleware into the request
response in order to in order to provide
authentication so somebody says you know
here's the client request here's the
response you inject an authentication
layer and plus authorization in the
middle of this thing you go and and you
can do you know password challenges or
redirects to login pages every in this
reverse if the downstream recipient
never sees any of that stuff until if
somebody's authenticated and authorized
and then that request goes back to the
handler that can all be done for
middleware similarly logging and
profiling right that's kind of it that's
kind of it I'm really struggling to
think of other things that fall outside
of this so what's up what what well so
that I have a data interface here and I
say I say data interface so Joe
mentioned the database you know what you
know you may need a database yeah yeah
well I mean so the way I approach this
is and this is kind where if something
is in a good install something and say
you know you know it's prerequisite you
know we recommend that you install
Postgres or my sequel or Mongo or
anything I'm just like you know what I'm
going to have to just move on here I
really I literally want to build an
application I literally start with no
database at all I don't start with a
database
start by faking data out you know I put
data in my code like I hard code the
values into my program well that's crazy
that's not going to scale obviously not
at the point it's not where you're going
to actually scales really really well I
mean if you can get your data in your
code that's the most scalable place you
can put it really but but I can do a lot
of damage without thinking about the
database and I do in a good way and then
my next iteration might be you know I
don't really know what I need so maybe
I'm just going to store this in deaths
and deaths is a it has been mentioned
here and nisha have been talked about
but that's really is the sort of go-to
easy store if you just want to drop some
erling on to a disk someplace and key
value pairs it's a nice little tool and
that will get you you know a fair ways
down the road or there's something
called SQL lice equal light SQL light
there's pretty good bindings for that
and it's like just iterate and migrate
through so I say data interface here
just as a general catch-all I don't
really care about the backend okay
alright so let me show you what I would
have taken about 45 additional minutes
to walk through in a live coding session
all right why it's good to be prepared
so I have this so 0 and then there's a
finished one okay it's really not that
different
I mean I'll walk through it and then
we'll have some time for questions here
ok so this is the this is the thing that
I would have iteratively gradually built
up and I'll just walk through that and
I'm going to go back to this part here
because really everything that you're
going to see and honestly I could even I
could even jump into a much more
advanced application but you'd see
exactly the same thing and in the
process that I would take if I had the
time you'd see that the iterative
process is very natural and it's not to
say that every project starts that way
you know actually I do that I'll do
hello and then I'll start to layer
things on it just it takes an hour or
two
to kind of go through these things but
it sort of gets my head in the game it's
kind of like a warm-up exercise and then
it sits there forever the application
could be you know 10 years old it's
always just going to sit there it's
about this much code you'll see it right
here
this with this much code okay so when I
start my link here when I start my
process is really a pass through to the
server I have a couple I have one
additional things that aren't reflected
and Zico has a support for static
content and if I run this particular
version you'll see the app that was that
was rendering
well should you do that for fun I think
I have I think I have the time so a lot
of that so this is the one that was this
is the baked cake make serve make shell
and I'll start my app on the end of
course this is not how you start your
app right this is a third illustration
you have a simple make target or command
or something else that you you can you
can write it's it's straightforward this
is my app I like to live in the shell
you'll see that I mean when I want to
develop I have a shell running and then
I'll compile is a reloader and I live
there I'll live there all day long I
won't i won't take a shell down there's
no reason to you can do everything you
need to within this isn't this operating
system environment it's real fun to work
with just told Erlang okay so this is
some I just went to the web and just
pull down some silly template yes I love
food agreed no I literally just plucked
it out don't look at it don't look at
the stylesheet and judge a framework by
that that's the style sheet that has
nothing to do with the framework you can
make really really beautiful web apps in
her lang I'm going to run right out of
time let me just show you one really
quickly because I think it's cool this
is actually what I've been working on
lately of this race fast guild examples
and there's two you version two
this is a this is in that framework I
mean it's kind of silly because you can
really once you have a request/response
model you can do things this is all
front-end work I mean this is all like
web components and stuff in the backend
is quite complex as well but don't for a
moment think that Earling is somehow
weak in web application development I
will happily show you some fantastic
complex manageable
you know ease easy to write and maintain
applications in Erlang that are 100% web
ok so let's go through this last module
and then I'll have literally no time for
questions ok ok so this won't take long
so again the app is that interface
that's really sort of the main storyline
with psyche with this whiskey equivalent
in Erlang so I'm going to create the app
and the app here is is going to involve
routes we talked about routes or routes
so here is how this works and this is
kind of starting to look like a
framework so if you wanted to you know
stuff out a skeleton for this it's not
going to be that probably any more code
than a framework configuration so and
this was just built up through libraries
- deliberate selection of calls and
invocation that I did it of course
represents a set of a framework II thing
but that's that was that was Ian's point
you build your own framework as you go
as you see fit you just do what you need
to do and all of a sudden wallah you
have you of custom framework for a year
for your app your business your
organization so we're going to handle
our our assets with a static app I have
a stub here for handling data everything
else get everything else this is a
catch-all is handled through this app
and this is this is an elaboration or
extension of this other simple version
that I showed you earlier which is here
so this just this just continued to
evolve and evolved and evolved and it
really doesn't take that long so I'm
handling the index with handle index
here it's very very clear I think I mean
how much clearer could have possibly get
handling get I can say not found if it's
a gat
if it's any other method it's a bad
request which is the right sort of web
semantics there I think there's some
dynamic content this is being used in to
generate here this stuff here so this
was using the the early DTL template
which is a fantastic library in Erlang
for temporal generation some-some
template code and we're at the end of
the fund where as literally literally
this much this much code it's that much
code now this is obviously on a
full-fledged web app but to go from this
is something you know sort of non
trivially interesting would go from this
much at this code to like that much code
and you would just do it incrementally
and you would do it with a control and
knowledge of the web app components and
that's the difference I think between
serving the framework and kind of
plugging into the abstractions and the
concepts that have been given to you
which is it's certainly valid and
certainly every I wasn't the percentage
of people that use this method it's very
low I think even within the Python
ecosystem which is a web ecosystem of
largely or has a huge web ecosystem
component still this kind of role you
know
ian's web and and building things up
with components using with the interface
like this is still I think a rare model
so anyway I'm proposing and I'm throwing
it out there so you can see it
I promise you I'll give you a commitment
that I will clean up ciclo so that this
becomes something you can actually use
this hub talk is not sufficient I
understand that doc documentation will
be solid there and people can give it a
try and it will be all Erlang it's just
to sort of show that I think you know
Erling is a very very viable language
that platform not just viable it's truly
fantastic and I think we need to sort of
make stronger arguments for it and build
build both better libraries and document
the living daylights out of them so
people can use them so with that I have
negative one minutes thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>