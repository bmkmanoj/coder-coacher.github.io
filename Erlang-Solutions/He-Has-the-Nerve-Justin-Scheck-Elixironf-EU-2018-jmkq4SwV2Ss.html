<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>He Has the Nerve - Justin Scheck - Elixironf EU 2018 | Coder Coacher - Coaching Coders</title><meta content="He Has the Nerve - Justin Scheck - Elixironf EU 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>He Has the Nerve - Justin Scheck - Elixironf EU 2018</b></h2><h5 class="post__date">2018-05-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jmkq4SwV2Ss" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">imagine you live in an era of
near-infinite inventive possibility and
during this time we have things that are
smaller hardware that's smaller and
easier to be able to develop using new
languages have emerged onto the market
that get make it more powerful for us to
be able to build devices and start
programming in and yet we're left with
web technology in this realm where it's
kind of weird I don't know if you guys
remember bulletin boards there's a lot
of fun back then well stuff started
exploding in the web market during this
time we sort of felt like we're in the
middle of hardware development and web
development but the web started to take
off with the with AOL I have a billion
of these things and from there a lot of
the effort has been focused mainly on
driving that component people have seen
the capability of being able to just
make SAS software available online and
build development teams that can just
very easily spin up these services and
so we started to like focus less on
hardware and focus more on software and
now the new web is really paving a way
to be able to do some interesting things
thanks to Phoenix Phoenix has a really
interesting component to it that really
makes the embedded development ideas
come to life again and that is the idea
of channels channels we give us the
capability of doing real-time
connections with browsers and desktop
computers mobile devices and tablets but
in addition we can do some interesting
things with channels to be able to also
bring into the sense of tiny little
sensors and devices this kind of stuff
that's starting to like break forward
into this new realm so what does that
landscape look like well back in the day
we were talking about we would build
hardware products that's what developers
were when Erlang came out we were they
were originally built for running
telephone switches and running on
hardware and then like I said we started
then becoming application developers but
then the application developers became
heavy web developer centric and we're
just kind of fine
herself back into this realm now where
we're like where'd all the hardware
developers go we've got this great set
of languages and features that give us
the capability of reaching out and
making these dare I say it
IOT Internet of Things devices but we're
at a lack of people I mean everybody
that's out in the community it just
seems like they're stuck in a time where
it's all the embedded space is a C and
C++ it's just difficult to be able to
get something up and running there so
that's what we try to do we run the
nerves project we as in a community of
developers and people my name's Justin
sneck and today I'm gonna talk to you a
little bit about nerves so like what is
nerves exactly some of you may know some
of you may not know well nerves is a
great platform that gives you the
ability to package up together embedded
firmware using elixir and any
dependencies in the elixir eco space
that you want to be able to include you
can also include sea and other things as
well but we'll get into that a little
bit more primarily nerves helps bring
your hardware dreams to life so you can
produce wonderful products like the
smart hair brush but seriously there's a
lot of great development that you can do
out there with this to boil it down to
its basics nerves is essentially a
marriage of between the Linux kernel and
the Erlang virtual machine we believe
that Erlang is the Erlang the beam the
VM is actually a great place to be able
to call home if you were to consider it
your OS so with nerves we we build this
firmware bundle and the intention of it
is to boot Linux directly to Erlang cut
out all the stuff in between now how do
we do that well we give you the we
basically take your elixir project and
your dependencies and we build an OTP
release out of it on a separate track we
also take Linux and C libraries in the
Erlang runtime and we put that into a
series of what we call nerves
these are sort of the base OS systems
that you would use to be able to deploy
to different targets in this case this
is showing the raspberry pi zero system
that we have and that's this tiny little
development board here I think I have
some more information on that as well
and so let's look at this in a different
perspective it gives you the capability
of flexibly taking any kind of
dependencies that you want all of your
packages and Linux and then putting them
into this structure and then out on the
other end comes this firmware that we
call it so let's look at the firmware a
little bit and see what that's that
looks like on a NURBS device since these
are for building embedded primarily for
building embedded devices when
something's in the field the case that
you want to be able to prevent the most
is getting your device into a brick
state because it's worth noting then at
that point and it's really difficult to
be able to manage so we have two
locations where we'll write what that
firmware - that's on that essentially
that's the space we have an a slot in
the B slot and what that allows you to
do is it allows you to stream an update
to the to the let's say the inactive
partition in this case the B firmware B
slot is inactive and so we're gonna say
okay I'm running I'm receiving an update
I'm gonna stream the update into my
firmware B slot and then you can sort of
activate it and reboot and then run some
tests and if the tests fail you can
essentially revert back to a known good
working state before the update so that
you can prevent those brick locations
the important part about this graphic is
also the read-only aspect of it the RO
means read-only and we make the drive
sort of you consider the the
the OS the file system that your
application and Linux is running under
directly we make that read only because
immutability in this case is really
interesting to be able to extend past
the language of it elixir and Erlang and
into the OS and firmware images that
your excuse me that you're delivering
that way you'll know that when you
deliver that product it's always going
to come up the same way we understand
that you're gonna need to persist some
data and so there's also flexibility in
the system that allows you to be able to
declare additional partitions that are
going to be on there to be able to store
things files cache things like that
so right now we have a series of nerve
systems that that we officially support
and officially supported list of
hardware here we support all the
Raspberry Pi computers including the
compute modules the zero the zero W we
also support the BeagleBone black and
BeagleBone green platform and a really
fun one the Lego ev3 if you haven't had
a chance to check it out it's pretty
cool there's some videos online I
believe of some people who built using
the Lego ev3 platform color sorting
robot that runs all on nerves as well
so why look sir and nerves for embedded
wide nerves why is it great for embedded
devices well primarily it's because of
elixir and when when in the past I would
I would actually build things using like
arduino z' or smaller microcontrollers
the moment that i wanted to be able to
do anything more extensive or heavier
computing or connectivity wise it was a
would fall short but first of all
getting access to these higher-level
languages and dependencies lets us
program in a way that feels more natural
to us as
elixir Phoenix web developers and the
first thing that we get out of this is
the fault tolerance preventing that
brick state is rare is very important
and doing everything that we can from
the outside to prevent it as equally as
important as it is to try to do
everything on the inside of your
application to prevent it as well so
fault tolerance as you know gives us the
supervision trees where we can reach out
and talk to the the see libraries with
ports we also have our processes and
building on top of that you can see the
fault tolerance and supervision trees
gives us a great way to be able to
recover internally so that we can keep
running as well another beautiful thing
that elixir gives us is pattern matching
this is a the binary parsing when you're
doing embedded devices you're typically
connecting with a lot of sensors or
things like that
and it's important that you company
become familiar with these sort of
binary pattern matching syntaxes pretty
quickly because you might you would
definitely use them to be able to start
chunking the data in from like a sensor
or like a temperature probe or something
like that but most importantly I feel is
that it gives us a great story for
connectivity as I mentioned original
projects that I've developed were done
under like rasberry no devices and those
devices make it very difficult if you
ever want to be able to speak to the
outside world or start connecting to web
servers with nerves and elixir it's
really great because you can just kind
of pretend like it works the way that
you work on things right now you can
just reach out to the outside world
using Phoenix or just HTTP requests
communicating what the outside world is
is quite simple so who's it for well
first we sort of split into two
different categories here and the first
one is that it's for makers at the
conference last year I believe we've had
some some people put together some stuff
here's a look
who put the Ella copter platform
together this one is really cool because
I personally like to fly and build
drones and what he's done is he's 3d
printed his own drones that actually run
a Raspberry Pi using nerves he's gone so
far as to build the base station for it
as well that's very slick and cool I
really like this project a lot mainly
because it's it's just funny how it
works I've spent a lot of time building
nerves and I don't get a whole lot of
time to be able to build stuff with
nerds and this was one of those one
things I was like I really want to do
this and I'm like somebody else to it
we also have Jeff Smith he did a talk
last year at alex ikonn for us he's been
using nerves to be able to build a
project that uses software-defined
radios to do airline traffic tracking
here's a screenshot of some of his
software where he's been able to use
this this radio beacon to be able to
intercept a DB a DSP ATSB signals from
air traffic and being able to like
render them and overlay them on this map
you can even do like heat maps with it
as well and this is an example of being
able to build the device that can expose
a server that's written using Phoenix
that can render these web pages for you
James Smith he also did talk recently at
the US conference he's doing vehicle
tracking in a similar fashion moon fest
were there he built a device prototype
of device pretty quickly with some
off-the-shelf parts that he could put
into the back of his vehicle to be able
to actually build out a project for a
client to be able to track schedules for
transit systems and one of my favorite
ones as well this is Tim Macklin Tim
Beckham
a sort of a natural-born maker in this
case Tim his wife has diabetes and so he
wanted a way to be able to try to be
able to do closed-loop glucose
monitoring that it would just give you
that dosage when they needed to and so
he actually took a lot of the work
towards building a device that would
communicate with a diabetic pump that
would be able to do all the calculations
and figure out how to be able to come up
the right dosage his project I believe
is also available online I'm not sure if
I had the access to the link yet but I
really think Tim is interesting in this
case because I've always had this
fascination with hardware personally but
when it came to like the fascination
that I had was that you could write code
that could actually like control or
manipulate physical things in the world
it was just awesome I mean it all starts
with blinking an LED light that's the
hello world that was as we call it of
nerves and just that capability of
knowing that now your code can have a
physical effect on things is important
Tim went so far as to like during his
development cycles he needed data and
the data that he needed to get he could
get it from his wife but he went so far
as to commit to actually getting it
installed in himself even though he
doesn't have diabetes personally he went
through all the pain and practice on
working with his hardware to be able to
gain access to that data so that's
pretty pretty neat now nerves isn't just
for makers though nerves is also being
used in production prominently around
the world for production cases one of
the first one that I have is 'la tote
litotes a company that I work for and
sponsored my travel here
the tote ATLA tote what we do is we do
warehouse management with nerves we
build kiosk stations to be able to track
items throughout the warehouse
we've also open sourced a lot of our
projects and bases so you can check out
our github page and see this stuff this
is a RFID reader that we use from ting
magic you can also purchase these off
the shelves so if you're interested in
doing
RFID work
nerves for yourself or professionally
the library that we run this on is also
open sources as well so you can very
quickly and easily get up and running
with that another example in production
is Rose Point navigation this is a
company out of Seattle and they build a
device that does heavy lifting on on the
network protocols pretty much there's a
I believe they build devices for boats
and there's a lot of sensors and things
on on these boats that speak all kinds
of different protocols or lower level
protocols can bus stuff like that and
they wanted a way to be able to capture
all of that data and sort of accumulate
it in a way that they could visualize it
on their systems and so this is a device
that basically hooks into all the
sensors and just does all kinds of
binary parsing nurbs really worked out
well for them because Erlang in this
case was very fast at doing all of the
binary pattern metric but in addition if
it were to become overwhelmed it handled
the stress properly and wasn't able to
be easily ddosed if in a sense of like
too much data coming in it had enough
overhead to be able to relax properly
another example is the National
Association of real leaders in the
States they use nerves to be able to
build smart home devices that can
monitor temperature and environment and
they use this data to be able to try to
to inform buyers of houses on the energy
efficiencies or just to provide an extra
layer of information that they would
need for whether or not they want to
purchase a house in this area this area
or that area and what the normal
specification sort of should be one of
my other favorites is farmbot farmbot
these guys are cool they do they build
the device that does farming automated
farming for you essentially it's sort of
a 3d printer
robot in a way that will automatically
seed and water and monitor all of your
crops that are that are in the that
space it's got computer vision to be
able to determine whether there's weeds
and it does weed suppression as well I
really want to get one of these
installed in my house you'd be so much
fun
and more recently too we've seen a lot
of people pop up but one of the great
ones too a smart rent and smart rent has
built a system for allowing rental
property managers giving them a way to
be able to build a home automation
system so that they can allow customers
to sort of set up times to see
properties and they can just show up and
the doors will unlock for them and go in
and check it out and everything - so
this is all great but you know how do we
get started with this stuff right
because building hardware is fun we
should be able to let's see how we can
get up and running the first place is to
be able to check out our documentation
we have it hosted on hex Docs as of
right now I apologize for the length
eNOS of the the URL in that case nerves
is currently in a release candidate for
our one o release which should be coming
out shortly and so this is going to get
you to the more latest of the latest
documentation by following along with
that there's some prerequisites that we
require to be installed including for
your system extra tools that NURBS needs
to be able to build firmware but once
you've installed your hosts requirements
it's pretty much as easy as installing
our new project generator in this case
you can use the shortcut for mix archive
that installed from hex the nerves
bootstrap dependency and once again a
little bit of fun trickery because we
have to learn our release candidate you
have to specify the version for the
OneNote stuff so you can actually get a
hold of that and start using it so what
are we really like how do we make things
different
well the mix file is really where a lot
of the magic happens for any project and
ours is no different we expand out a
sort of mindset in the case of the mix
file that you can do multi target
so out of the box when you say mixed
nerves new it's gonna generate a project
that's gonna support the ability of
running on any of the supported hardware
that we offer and we declare out all of
these different different systems with
the dependencies for them as well
and in this case then it'll allow you to
be able to set the environment variable
mix target to one of those different
strings our PI or PI 0 or okay to our
pi/3 depending on what board you're
using and then you you can just say mix
firmware and it'll create a firmware
bundle for that and we'll see more about
that in a minute as well now the easiest
way to be able to get started playing
with nerves is to be able to do some of
just to toy around with a piece of
hardware and the easiest piece of
hardware that we have for messing around
with by far is the Raspberry Pi zero and
the reason for this is because we get a
lot out of it
often like with with nerves devices a
network connection is important because
we can use things like remote shell or
even observer to be able to inspect in
and poke around with a remote node as
well so the fun thing about the
Raspberry Pi zero is that this middle
this is this middle port here that we
have it's known as the gadget port we
haven't configured that at all from the
USB connection to your laptop it'll not
only provide power to the board but
it'll also open up a virtual Ethernet
and serial port as well so you can gain
a console into the the device and also
it'll have network connection across to
your computer as well so you can do
things like push more firmware and
things like that so this is my favorite
slide let's see some stuff work maybe
alright so
I'm gonna hold down the side in case I
need it
so what I'm gonna do first so we have
the new project generator so let's say
mix nerves dot new and I'll say demo one
because I already have got my cooking
recipe backup ready to go and when you
use our new project generator it's gonna
ask you some traditional questions you
might be used to if you're going to
install dependencies and things like
that now out of the box
nerves runs in like I said a multiple
multiple different ways there's ways to
be able to run it and and the the
biggest thing to think of is this idea
of mixed targets we have some
documentation that dumps out here that
talks about mixed target now if you
don't set mixed target if you if you
have an unset or it's not set to
anything it's it's running on what's
known as host mode which means it's not
going to do any cross component
compilation it's not going to compile
things for like the other processor it's
meant to be able to run on your computer
in that case and this mode is
interesting because it allows you to be
able to set up aspects of your project
that you can still use mix tests with so
you can test your logic but not
necessarily run the tests on the board
so what we're gonna do first let's go
into our demo project here and we're
going to export mix target equals RPI
zero and the next thing we do now that
we have our mix target set is we have to
fetch our dependencies for that target
on the latest version of nerves the
dependency fetching will also resolve
there's a section at the end where it
resolves artifacts building a NURBS
system from scratch can take quite a
long time
our traditional supported systems
especially for the raspberry pi zero
take upwards of about 30 to 40 minutes
to compile the system from scratch and
so what we do is we pre digest that
compilation time for you and serve the
artifacts that can be then fetched
during the time of fetching your
dependencies in this case it's noticing
that on my machine I already have those
already cached so it's just going to use
them and tie them together and then
really at this point I can just call mix
firmware and what it'll do is it's going
to cross compile all the code for arm
for the ARM processor that's on this
then it goes in to be able to build an
OTP release it then will marry together
and your OTP release any extra files you
might have we call that a root
filesystem overlay and then produce this
firmware file so if I expand this out
you'll see it it made this image demo
one FW and then we can use that file to
be able to burn it to an SD card by
saying nix
firmware a dot dot burn and if I plug my
SD card reader in and burn it it would
do that 22 good let's have some fun
never enough USB ports when you need
them so just by having the SD card
plugged into your machine when you hit
mix firmware dot burn it'll recognize
that card and say yes that's the one I
want and it'll require some elevated
privileges let me just have an password
one two three four five same combination
of my luggage and there you have it it
burns the image now I'm gonna boot this
up but in the meantime I'd like to point
out the size twenty eight two point one
six megabytes that is the Linux kernel
Erlang runtime everything we need to be
able to start and boot our application
in the tiny little package space so we
can create very minimal application
images that can be distributed over the
air quite easily and so as I mentioned
here this port also acts as a serial
console one of the great features to to
do matching text size yeah
so I'll plug my board in here and this
is going to boot up and recapture and
within a matter of I think this board
boots in a matter of about three seconds
we are at our re ex prompt and this is
this is where you can get started with
things then the very first thing we do
is we do some formatting but you'll also
notice that we're getting these aren't
necessarily errors but info and error
these these are actually kernel messages
coming from the Linux kernel one of the
helpers that we use with nerves is we
also we take any Linux land log messages
that come through and we bring them into
a lick sir logger so that you can choose
to use whatever logger back-end you want
to be able to offload our triage any of
your logs and that's including both the
Linux log messages and any of the elixir
ones as well one of my favorite new
features since I have a little bit of
time to be able to show you this I'm
actually I'm gonna do it let's let's
have some fun quick this might be a
little tiny for everybody but this
certainly won't be I'm gonna add a new
dependency we're actually going to be
we're considering adding this as part of
our base systems called ring logger one
of the things that we found difficult
with nerves is oftentimes you'll find
yourself connecting over remote shell to
be able to like see what's going on with
a node and over remote shell you lose
access to log messages because the
consoles being displayed on the group
leader which is like on the console
that's on the device which is not very
easy to get to most of the time since
you're connecting over a remote shell
you don't get that benefit with ring
logger we can do some fun things like
for example it's kind of
big logger backends to just be the ring
logger and what makes new firmware now
I'm taking the long road here because I
don't have enough time to be able to
show the next step of things which is
not pulling the SD card out and having
the SD card swap every time we have a
package called mix form or SSH that
using the built-in network connection
that I spoke about allows you to be able
to just push the new firmware update
over to it so you don't have to the very
first time you bootstrap it with your SD
card you shouldn't have to pull it out
after that you can just keep sending new
firmware to it so now that we have our
new firmware around here running with
string logger and only ring logger
because I turn the console logger off we
should be able to go over here and clear
our our state and when we come back up
we shouldn't see any new log messages
because they're no longer going to the
console and we'll just sort of get to an
IX prompt so weird all my log messages
go good question ring logger is cool
because of many reasons for one we can
attach to it which means now our process
is going to be monitoring logs so if I
if I require logger
and I do a debug message we'll see that
that actually comes through now because
we're attached we can also detach and
send a log message and we won't get it
but now this is the fun part about nurse
devices you always show up after the bad
thing happened and you're like how do I
get that information ring logger is a
circular ring buffer that allows you to
be able to get access to all of the log
messages that was the tale function
since the time that the board booted so
we hit tail and we can see here the
kernel starts coming up and we can we
finally get into Erlang right around
here I believe just on just about over
two and a half seconds under wait that's
too early it comes up right about here
or Linette so just about two seconds or
so the portal Budhan that's going
through linux and everything
so bring logger is a lot of fun you got
it you got to try it out
I personally actually even think that
it's it's a I liked it even as a better
replacement to the console logger that's
already included because it will it will
also you know when you're an IX and you
have log messages coming through and
you're trying to type at the same time
and it just keeps blowing away the line
you're like and by the way control l I
found that out like it comes back that
brings the line back with ring logger
when you attach to it your IX line is
always accessible at the bottom of the
window and all the i/o comes in
streaming above it so you're never in
that situation anymore where you get
lost in trying to figure out what you're
typing it's actually quite useful even
for non NURBS projects all right so
that's my demo part let's go back to the
awkwardness of trying to dance between
mirroring and not great so what else can
we do with it well nerves is starting to
really open up and what we can produce
with these devices one of which is
touchscreen interfaces this is a
Raspberry Pi 7 inch touchscreen display
supports multi-touch runs on usually a
PI 3 the B+ runs really nice and fast on
it and this for litotes we build these
kiosks as we call them and put them out
in our warehouse to be able to allow
users workers to be able to interact
with the rest of the warehouse systems
we build one for Raspberry Pi 3 but we
also build one for x86 so you can
actually take off-the-shelf hardware
like
all-in-one computers that run on Intel
and take this system and actually just
burn nerves a firmware to them the
absurdity of this I can't get over they
have usually have like 1 terabyte
internal drives that we use like I don't
know 90 megabytes of it's really fun you
can check those out on the top team
github page to get started with them
there's also a great readme on there you
can use to be able to see how to run
them as well
if you're looking for other fun stuff to
do we have a lot of example projects so
you can just out-of-the-box check out
pull down and try and build up these
include blinky and getting familiar with
GPIO like how can you start playing with
GPIO pins to be able to like control
things in the world it also has an
example project on how to be able to
build in phoenix web server so that you
can start like like as if you have like
a home router you're building a home
router and you open up your Chrome or
Firefox or your web browser and you
point it to the address of it and it'll
serve you the web page and that's where
you can configure the device it's a
really nice way and convenient way to be
able to like take your nervs device and
expose like a user interface so that you
can you know make configuration changes
and so one of the most exciting pieces
of this actually is so much fun to play
with is there as the phoenix channels
phoenix channels with Dierks devices are
so great because there's a lot of
support for them and various libraries
for various other devices for example
iPhones and iPads or mobile devices
Android also has a phoenix channels
library and so very easily you can just
run a phoenix server on your nervs
device that can expose channels and
allow you to be able to have your phone
use that as a communication protocol so
you can do real-time data streaming
between the two devices and so here's an
example of what of a device that I built
a labyrinth game very easy thing we took
two servo motors for the X and the y
you'd normally you know turn the knobs
and we connected it to a nerves device
that would then map the gyroscope of the
phone using Phoenix channels streaming
at 50 Hertz very responsive to play the
game I think this is a video yeah so you
just tilt the phone to play the game see
the marble moving and went down a hole
so that's not BeagleBone black down
there it's just to servo motors very
simple project to put together but
nerves really is it's starting to take
off now it's it's got a lot of great
contributors and that's that's we really
get a lot of thanks from the community
on people that put towards an effort
this is probably out of date at this
point but it's a contribution graph of
most of the people that are contributing
code but we also have contributions from
other locations the tote sponsors a lot
of my time to be able to build nerves
smart ran as well for Frankenmuth and a
lot of other people that are backing us
including cultivate even - they're huge
fans and nerves for them and all kinds
of other people if I haven't mentioned
your name directly I'm sorry but thank
you so much for your contribution so now
all this great stuff imagine you're in
an era of near-infinite inventive
possibility and that you have new
hardware to be able to play with to be
able to build whatever you want to build
and there's new languages and frameworks
that are available to be able to make it
easier than ever to get up and running
and building whatever Internet of Things
devices you want to be able to build
Thanks
Thank You Justin so I asked to mate we
have about ten minutes for questions
that's probably about ten questions so
go for it
who's first
hi thanks for the talk thank you we've
got nerves of production running in it's
brilliant and we've got a couple of
channels and stuff and it works like a
charm seeing that you've got an image of
for my target for x86 64 is there a plan
to have like nerves be a generic
deployment platform so everybody can get
rid of docker sure great question
actually I've toyed with getting it to
run on docker many times just for even
simplicity and development purposes
nerves can really be ported to
essentially run on mostly anything I say
mostly to you know capture those edge
cases that it might be more difficult
but essentially the way I like to think
about it is that we're worked at it
we're really good at two things cross
compiling stuff for the target and sort
of packaging it in a unit kernel like
way and so with those two pieces as the
foundation even though we like to target
creating a more simplistic simple
experience in developing embedded
hardware you can actually use nerves to
be able to package any elixir II thing
that you want and run it on a target so
yeah you can we can certainly create
more generic nervous systems that can
run in places like AWS or other cloud
providers or docker or we also have ones
I didn't mention as well I don't think I
had it on my slide but we have qualms
ooh
which is a requirement of virtual
machine we have systems that will run on
there as well so that you can have a
simulated development environment that
can run on your desktop
any more questions
it's been a while since I lost works of
nerves but that I think you mentioned at
some point it would be easier at one
time to like adds add stuff to the root
filesystem at some point like packaging
external libraries etc so um I'm just
wondering like is there any improvement
in that area
sure well one aspect of it is that our
brand-new new project generator
automatically expands out this folder as
part of your project called route FS
overlay and anything you put underneath
this project will map one-to-one to the
directory paths that are will exist in
on the target and so we can see here
this is Annette's IX that the XS and so
if I go to our running node here and I
just take a look at that directory
you'll see that it also contains our ixi
the XS file and so yeah you can add
additional raw file contents to the
read-only system using this method you
can also add any additional C code you
want and use elixir make and under the
hood we'll we have examples on how to be
able to connect that so that it can
cross it can use leverage or cross
compilers properly which means you can
bring in any extra C C++ code that you
want and
very recently we also put in support
that we're going to be allowing
cross-compiled go and rust to be able to
be easily added to the systems as well
so you can take a look out for that as
also and then from there you can use
like the firmware push mechanisms to be
able to synchronize the contents there
was a talk I did a while back about
something called the nerves reactor it's
still under development we we found that
we needed to be able to do some
additional work necessary to be able to
connect that environment that way but
very very shortly after one o we're
going to be continuing and finishing
that portion of it and what that'll do
is it'll connect it'll over the network
basically do hot code reloading and
final content synchronization between
the nurbs device in development and your
laptop making the experience a lot like
developing using phoenix live load and
then get one in the back there
hello thank you for your talk I have a
question
most of the raspberrypi come with the
Bluetooth is there any plan to use the
Bluetooth and would be LTE not ble it is
low energy great question our official
systems do not turn on bluetooth by
default only because it requires
bringing in blue Z which is Linux the
Linux Bluetooth dependency it's very big
and the reason we don't do it is because
most of the time everybody's usually
only interested in the Bluetooth le
portion of things and blue Z brings in a
lot of the old classic baggage there's
not there hasn't been a public project
that anybody's come forward with yet
that they've directly required bluetooth
to push forward our support our easier
support for it but there are several C
libraries out there that package just
the alley portion that we're interested
in trying to be able to play with but
there's nothing stopping you from
yourself Fleur King one of our
officially supported systems and turning
on blue Z for your own support
hi is there any way to access the gpio
during development from my computer over
the rest period I sure yeah actually on
the Raspberry Pi I'm on this console of
it right now the GPIO is actually sis FS
exposes a lot of that so we can say sis
class GPIO and the location you can see
here there's a lot of different things
you can do you can actually go and
trigger individual components however to
work with GPIO easier there's a project
called elixir ale that Frank on left
wrote and that's just basically an
elixir API that allows you access to
those GPIO pins to set them high set of
low anything you want you can actually
it'll also support some protocols like
SPI I Square C so if you have SPI RI
square C chips or devices that are
connected to those pins you can set
those the documentation that we have on
the Raspberry Pi I believe is up-to-date
and robust that it'll even demonstrate
to show you how to be able to apply
custom overlays to the raspberry PI's
GPIO set up so that you can do things
like ice core C and stuff like that I
have to be alright but I have to be
always on the Raspberry Pi itself to
test it out yeah so the the testing
strategy for that because GPIO is a very
hardware centric thing we usually in
that case recommend people to fall back
to replaying data or stubs or mocks to
actually test those API interface
portions however there are there is code
out there that we have available on our
website that is all open source that
shows how our hard we have a hardware
test form that we have for nerves at any
time anybody in the project commits code
to modify one of the systems it'll pack
it it'll go through the whole thing a
packaging for
and it'll it'll add there's a phoenix
server that hooks into our continuous
integration it runs it but it it shows
an example on how to be able to package
X unit tests on a device and then ask
them to run so you can in development
set aside a set of boards that are in
test mode that know how to be able to
receive firmware that packages with it X
unit tests and then execute them on the
board and report results back somewhere
else okay thank you okay that's about it
let's give just in a final sort of code
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>