<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What can be done with Java but should better be done with Erlang:  Pavlo Baron | Coder Coacher - Coaching Coders</title><meta content="What can be done with Java but should better be done with Erlang:  Pavlo Baron - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What can be done with Java but should better be done with Erlang:  Pavlo Baron</b></h2><h5 class="post__date">2012-06-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_z1jaubIB2g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so uh thank you very much for attending
because I thought that I'll be the only
person here and I would go over to the
Costas talks off so the talk is called
what can be with what can be done with
Java but should be better done with
erling and it's about my experiences
I've did a lot of work traveling from
one Java user group to not in Germany
presenting a link to people you know
doing life hacking there and well
collecting information how i can
describe what is the difference between
those two where could erling better fit
in and how it can help to solve
different problems that are common in
the Java world and well briefly about me
I'm Pablo baron and working for code
centric here here and it's a German
consultancy we are doing scalable
solutions big data and whatever bus you
have and so I'm I have a weird hobby I'm
writing books and yes so I actually
wrote this one and it's German erling
OTP book it's about two days now today's
a market so just go get it it's well
eighty percent elling and the rest is
German okay so so when you ask somebody
what sort of application should be
optimally implemented using his language
his preferred language or his preferred
platform so dotnet dude would say
everything which is windows actually the
best works with dotnet bathon dude would
say well everything which is kind of
scientific must be done in Python
so well yeah yeah so yes everything that
is cool must be done in Ruby there is a
well there is a bunch of people on the
JVM doing marginal languages like
closure and crew viens color some of
them real real rock but well they fail
the market know yet and they will say
that they can do everything that Java
can do as well but in the mass that away
this I'm just kidding so the Java dude
would say we can do everything and
that's the problem that I'm facing in
project you know I'm doing consultancy
for people who are only able to
implement things in Java and it's not
always the optimal way they do it it's
all about enterprise Java and enterprise
Java is a world for itself it's
different from anything else okay in
erling I would say that if it has
somebody who would say well if it fits
in yes this will be done in early if it
doesn't well I guess it will not it
shouldn't be so go could get yourself
another language personally me I'm into
this for now over 20 years in this
business and time I'm very come very
picky on my way I tried to to use Java
after years of C++ C before that and the
assembly and all that so well I've seen
some on my way I did some on
my way and I'm still doing some on
my way so let's assume that I just need
pictures you know you need to talk in
pictures let's assume that Joey's hammer
erling as I saw yeah so let's start with
one example how would you implement a
functional map well a map function in
Java
that's the way to do it I mean the the
target audience was according to the
program was Java people is there anybody
who's doing Java around 12 30 cook well
everybody does java somehow is does
anybody do enterprise Java okay does
anybody actually like enterprise Java
okay nice so feel free to throw bottles
on me so yes this is one way to
implement map in Java it's just you know
well the other way you can you can do
sue the functional stuff with guava for
example and well just count the lines of
code it's very eloquent it's not that
impressive so it becomes worse with
filter and fault and all that stuff you
know from functional languages so in the
earlier you would do it like that so
everybody here is also doing erlang
right I don't need to dig into it
because it's very difficult to to do
this stuff in from in front of people
who have never seen early so the syntax
must be explained and all that yeah so
that's the way this is a lot a one-liner
so Java dude would say so what I mean if
it has to be a one-liner it will be one
liner and well of course your colleagues
will love it as soon as you committed
and what the way you fight the eloquence
of your language of chava language in
this enterprise Java brawl to use an ID
with generators accelerators and all
that so you can say so what I just I
mean I click once and goat just you know
falls out of something yes that works
but I mean you work around your language
you work around you play
form so the other thing is that the
standard way to do parallelism on the
Java platform with Java is to
synchronize things and well you have
threatened you have synchronization on
different levels and all that and the ER
link concept is just you know single
assignment with pattern matching here
afterwards so you know this syntax were
very well so i can save save time and
this just you know actually there are
locks when you when you dig into the
source code of the platform of course
there are locks in different situations
but there are there are no explicit
locks you would do so when the Java Java
guys where I tell this to the Java guy
it will say so what I mean there is a
bunch of tutorials on the web describing
how to do this same thing in Java like
you know the simplest ways to avoid
problems with concurrency actually it's
the text from a very popular tutorial on
Java to avoid problems with concurrency
is to share only mutable data between
threads and so on and so forth you can
you can do this final and class
declaring final a private stuff and all
that but yes that works but it once
again that's not the standard way to do
it so just I mean you work around the
platform once again is it readable for
everybody okay so it's it's not
necessary to dig into details I just
can't explain it you have one well you
do em please recursion here on the Java
platform just endlessly with Java and
there is no base case in this recursion
so you get a stack overflow exception
error that's because Java leaks
basically tcot ro and all that it's not
the way to implement it you know
iterations in Java using recursion not
the standard way so so well I mean when
you do it in early some some weird stuff
which is completely unusable
we just keep calling yourself and hours
later you will break it somehow because
you know yeah I need to go on I had to
do my slides so the Java dude would say
so what once again this is a piece of
code from urging this is something that
that Carson generates that I've used to
contribute something to this platform to
this experiment and well the the way you
do it you just replace recursion with a
loop you know and you have on the stake
you have only one reference to the
object outside this is the object is
somewhere in heap and you can overwrite
those attributes that as well so that's
the way to do it of course networks and
I mean that's name that's a hack that's
a tweak this is not standard but it's a
standard way to do it on the Java
platform so the other thing is for
example you have well it's a strongly
typed met a language of course sent and
you have do it with an integer do it
with a string and I just you know print
what it is and in erling you would do it
using pattern matching on functions so
that's the way to differentiate between
different incarnations of functions
different bodies and all that so I don't
need to explain this code and once again
the Java dude would say so what I mean
what i can do is i write a a generic to
it method taking an object and having a
lot of if and else statements there
where I tried to find out what it is and
and you know print it out so I can
simulate sort of pattern matching here
but of course we all know you can do
much more with this button matching that
the reason is that you can button mash
even ranges and values and all that so
that's the way the best way to you know
to define a contract of a function
so the contract and Java would look like
if else if if if if and not all there
it's for me personally it's not that
well readable so the next thing is well
reloading classes the standard way in
Java to reload classes is well you have
a class loader hierarchy and you know
you need a class loader another class
loader to reload your classes and all
that and when you do so i have a bunch
of checked exceptions that a pretty nice
thing in Java which is very popular I'm
sarcastic so you have to check this all
somehow and the problem with this
approach is that excessive class
reloading using those class loaders is
expensive and it leads to so-called
instance fatigue it's something like I
mean you reload classes 10 times in
production and then your your jboss
starts I mean did you ever try it yeah
it doesn't growth than anymore so that's
the problem whatever happens that's why
it's strongly recommended to do hot
deployment in production on application
servers in the Java world not
and I mean in Erling you have well it's
it's you you might say it's not perfect
but it to the it does a job very well
you have this hot swap thing you know
it's just it has its rules and however
you call these functions and all that
and it's just necessary to recompile the
thing and you get it in you get a new
version there it's not simple I don't
say it's simple but it's it's been
designed to you know to run somewhere
under the earth for years and not being
touched directly some hour so you can
push code behrendt and reload it and it
still works and you even can do in the
OTP world you can even react on changes
because the biggest problem with
redeployment with hot deployment of
things is state that's the biggest
problem you have state it's somehow here
for example a user session or something
and whenever you put a new coat in there
this code might modify the struction
this is the structure of your state and
you need to deal with this situation
somehow so in early you would do
immigration of the state if you can and
try to save this data for you know after
the reload so the Java dude would say so
what again I mean ok I can use jvm
hot-swap or things like osgi so did
anybody use always joy ok are you happy
with those chai ok great i have i've
have not to expect bottles i hope so
flying into my face it's this my normal
problem that's my typical fear you know
the JVM hot-swap is limited to method
buddies you cannot implement new methods
you cannot bring them in and and here
you cannot modify our classes and fields
and all that it just have to reload this
one thing the osgi itself is invasive
you need to modify your application you
need to do lots of dependency stuff and
that really sucks for me I'm sorry and
it's absolutely state unaware so you
just reload and well it does nothing
with the state
you have to deal with it but you have no
call backs or something so once again my
java friend would say so what i have j
rebel live rebel is the other product
you know this stuff so it's just for
tweaking on the JVM in a running process
just tweaking something so you can
reload code actually binary code in the
memory and well it works but I mean if
you start up I'm not working for
startups in I mean doing consultancy
that's the problem maybe in a start-up
you do it all on yourself in a big
company you have ops and you have
management and you have well they are
getting paid for a stability and all
that so the platform have have to the
platforms have to run or you have for
example situation like if it's not
described in your job description that
this tool is included there the guy
would say hey come on I need two weeks
training and and a vacation after that
somehow before I do it so that's why
Europe's will love it as well this thing
from my experience is very difficult to
bring to banks and all that of course
those things work but again once again
they work around problems and compared
to that erling platform was designed to
meet you know to face this stuff somehow
so the other thing is when you just I
mean in Java I just divide by zero here
and it crashes but what is interesting
about Java it leaves you all alone with
the situation you have well you need to
develop stuff on yourself to react on
all that and we all know that that
supervision in darling is a real great
thing that you can just react on
processes crashing and bring them up
it's just an example here from the shell
and somehow magically for people who
know who don't know how it works how it
works it's like you know the state has
been extend
license and brought in again to the
neury reincarnation of this process
that's the way that's the standard way
so the Java dude would say against a
while I can do this like that I mean I
just prevent things from happening I can
catch everything I can catch for example
that let's let's go with integers in
there and check once again if those are
real integers then check a special
situation and that B is not zero then
you do a huge try catch cumbria and
you're catching arithmetic exception
which will never happen because actually
this is this has been pretty caught here
then something like wrong Stella
constellation exception moving the Stars
away and wrong some position exception
we move after the star angle 45 degree
to Horizon something around for your
life and it's still not enough you will
find the catch exception there in any
code base even in mine so it's just just
for the case that something goes wrong
and still it's not enough because real
weird thing can happen so we have a
catch throwable there so whatever it is
I mean yes that works but actually it's
not possible to to you know to foresee
every possible situation where it
crashes and so so the principle here in
the Erlang world just let it crash and
bring it up okay so let's check out the
size of objects did you ever actively
measure the size of your object and all
that I mean if you're loading a real
huge graph into memory and you're
realizing that well you did I sort of
abstraction here with a map mapping
integer to string and you have one
single method here and you do at just
three objects there you end up having
608 bite
of memory used for this thing and it's
nothing it doesn't even have a failure
so early in early is his close to the
Machine it's close to see and so for
example it's just an example you with a
bit size if you say that my number must
fit in 25 bit so this will be 5 bits of
course this example is not that well
because it will have to be aligned
somehow 28 internally but if you imagine
a a huge amount of them so it pays off
java dude would say so what I mean I can
do this I just rewrite my coat I'm not
having any maps anymore I'm just you
know having two parallel arrays one hour
integers the second one is a
multi-dimensional by Terry where I just
simulate mapping from of integers two
strings and all that I don't even use
strings I knew I use binary and all that
so so I reduce the amount of memory used
for this thing to 192 bite but still it
does nothing yet and of course this
works but I mean just look at this code
it's well it's supposed to be C with
some garbage collection actually so it's
it has nothing to do with the object
orientation anymore object graphs in
something so the way you would implement
message passing in in Java in a way I
mean there is there are emerging ways to
do so but the standard ways GMS of
course so it's well it's a lot of code
for nothing here just sending a message
intend you no waiting for one response
of course hurling was built to have well
natively integrated or provided message
passing we know this and it's a great
feature it's the feature well I mean
this is the basic of everything with the
and well you can actually theoretically
you can have plenty of parallel actors
running in the in the operating system
process and well as soon as they start
using memory it will somehow be not that
funny with this number but ok you can
have to theoretically to to the 27
processes in parallel in one instance so
what would say the Java guy I can use
something like kill em it's also
something that Christ and utilizes in
his urging so it's an a it's a actor
library or actor framework for Java and
it's well for for a geek it's a pretty
neat thing because well it does
continuation passing style simulation
you know and you have to throw a
possible exception and it has a weaver
which modifies your code before it gets
loaded well actually when it's compiled
when it's getting compiled and then then
still you have that many lines of code
just to bring up a mailbox and you know
right stuff compared to the Erlang
syntax however weird it might be I'm
sarcastic again yeah it's still much
more it's it's much more weird for me
than the other way around so your ops
actually will love this too because this
is something that well it's not that
well predictable for guys who are well
who want to minimize the impact of tools
being used again I'm working more in the
sector where where we are dealing with
big customers and all that yes that
works actually but it's a tweak it's a
nice big actually the numbers are
impressive what they can do on the JVM
it's like not using threats it's just
you know just say freezing variables and
reactivating them later the way you
would distributed stuff distributed
message passing is the same way you
would do you would use something like
JMS and well we know that with a little
modification
here you can do it in the Erlang very
comfortably the job ugh i would say so
why of course i have great gain for
example a great gain actually is also a
nice thing for a distribution and and
distribution of tasks and all that you
can do much more you can even do
MapReduce if you like and the problem
with with this approach is that again
it's not predictable it's not the
typical situation that you want to have
as a a a operations guy you know in a
bank doing java stuff as few as possible
libraries as few as possible framework
sent and you know you need to to be able
to run stuff from scratch and those
kinky things are not allowed and garbage
collection is the other example well
just to compare you have garbage
collection / or operating system process
in Java half of course pretty complex
generation management and different
juices GC strategies which are not known
by everybody and you have possibility
for this stop the world situations
compared to this you have been hurling
well a spray it forward garbage
collector 444 processes with some
exceptions and all that and stop the
world situations are unlikely just to
compare this so what would say the Java
guy just throw more memory in it I mean
memory costs nothing so let's throw
memory on it of course I can yeah I can
do this to a point before it starts
hitting me back and so what what is the
message I mean when I've been talking to
Java guys and they are asking me so what
do you mean would you use our link for
everything i'm not i told you i'm picky
maybe I'm well too picky with that I
wouldn't actually use a link for
everything so yeah you can of course
implement
up applications classic web applications
with a link to you can also do this with
with assembly and you can also open
bottles wine bottles with shoes this
also works just check out the video on
YouTube how the deuce does this but I
mean the Java guy with with millions of
different frameworks I mean everything
will just laugh about it and well the
guy who loves much more about it's the
Ruby on Rails guy of course because he
says hey I'm inventing the web yeah so
the early well the one other thing is
business applications classical business
applications where you might have a
situation where well you we have to deal
with millions of different calendar
formats somehow so you you would do
something on yourself here on your own
in darling because well its foot for
another proposes purposes this this
platform it's not for typical business
enterprise applications at all so in
this case Java dude will laugh about it
and for example well the third thing
that comes into my mind is number
cruncher because you need you do time
sharing on the Erlang platform typically
you don't want you know long runs to
block the schedule and all that and the
job ugh i would say hey yeah my platform
is great for number crunching you know
but the sea guy will say the same and
personally I would prefer doing this
stuff and see because of you know I
don't want another abstraction there so
that's it thank you very much questions
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>