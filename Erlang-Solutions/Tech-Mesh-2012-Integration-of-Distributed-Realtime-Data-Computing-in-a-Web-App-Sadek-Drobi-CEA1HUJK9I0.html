<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tech Mesh 2012 - Integration of Distributed Real-time Data Computing in a Web App - Sadek Drobi | Coder Coacher - Coaching Coders</title><meta content="Tech Mesh 2012 - Integration of Distributed Real-time Data Computing in a Web App - Sadek Drobi - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tech Mesh 2012 - Integration of Distributed Real-time Data Computing in a Web App - Sadek Drobi</b></h2><h5 class="post__date">2013-08-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CEA1HUJK9I0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">with a microphone and everything cool ok
again sorry well sorry again for British
latency I was so sure that it was at two
o'clock and and let's go anyway so and
often i would i would alright so most
talks this talk is completely different
from the talks i usually do when i talk
about life framework because mostly it's
about too much play itself and not
talking about any particular scope or
scenario and now I'm like trying to see
the problem from complete different view
which is like what what is truck is
about data data and big data analysis
analysis and these kind of things so at
my company we do these kind of apps
there are some we do these kind of apps
and we used to play for that and i saw i
thought about sharing this experience
about how we use these kind of tools
basically how can we not only analyze
data but then have all these and push
them back to the client because that
also matters for for an application so
I'm here with Eric Cassadine so I am I
work at the neck city as well as Earl I
do I I'm taking the technology of the
chief technology officer I work with
Earl on different projects on the
different strategic project projects
most of them are I can't really talk
about but we will try like to get some
some context out of these projects all
right so so the first question we were I
would like to ask like where we are now
where are we now like what's what's
happening right now it's really exciting
time to be in to mean islands of
software the industrial right today
because a lot of things happening we're
hearing about like clouds having
different machines computing different
machines getting back data reading about
data we're talking a lot about data for
Dada and bigger than even big data and
we're talking about functional
programming become talking about to
infinite that and all these things is
really interesting it software
development be becoming interesting no
it's not so before we had before in
in this kind of industry I'm talking out
enterprise industry and this kind of
environment we used to have this kind of
object entity oriented programming let's
say object oriented programming and
muscular people understand when we talk
about this is having this entity that
will be representing something that
exists in the database mostly all the
time relational database and this entity
is just this thing that has getters and
setters for java developers who knows
about these and why would it by setting
something here it will set it back in
the database and it's kind of that's
that's it you know that's over the
programming it was about a lot of
entities entities will be reflecting
something in the database and I will be
like commanding the database through
that entity that's basically what people
in the son of object-oriented
programming in this kind of industry and
it's like it's enough to learn about
active record or I'm hibernate whatever
the tool you call to to start doing
these kind of apps where you're just
representing data phone database and
that's kind of first is boring and the
second thing we're not doing any problem
solving right we're not really doing the
programming that we would like to do and
that's that's what we were doing and
suddenly and that would looked like
something like this right our little
thingy like we kind of money play things
and it lives or dies and we can have few
of it that was that was the fact that
was software a problem you know
programming and web programming in
general and now what happened is that we
got a lot of data and people started
like businesses advertising like wow
it's actually value is in data and
functionality isn't that everything is
in data let's look in data I like the
streams of that are coming to me like
wow what can I do with that okay I can
use my tools i got like this thing that
I got and I can start like floating on
top of these data and try to sue this
something about it but actually it sinks
it doesn't work right it doesn't work
because it's not the right there I to
for that it's complete different thing
now we're talking about transformation
data and then these tools didn't work
why we can have several of these right
and I have the same too
a lot of these kind of tools and try to
use that and then I not only sing but I
think within my own tools right I get
like this complexity of these tools that
aren't completely not fit to this what
I'm trying to tell and I get this kind
of thing right and that's why we see
like world we need to change paradigm we
need to have tools that are adapted to
our new challenges that's these exciting
challenges which need to be talking
about this in a different manner not in
this kind of time kind of manner but
rather in serious manner now we want to
be analyzing big sets of data that's
obvious we need to be using different
machines for doing this analysis and
also we need to be integrating different
sets different sets of data coming from
from different places in different
formats right the transformation we need
to start transforming data and in the
same time having a lot of user requests
because you live in will live in on the
internet and Internet has suddenly we
will be faced to these kind of issues
right completely different set of
requirement and challenges that what we
used to have before and that's the
exciting part about it like we're now
we're now we're doing problem solving
now we're back to problem solving and
data now now i do what i do what i did
in the last two years I I was working
this framework web framework that runs
on the gvm cosplay framework and I got
into the next city and I got that last
releases of play one framework I did
some last release of that I mean I help
doing that and also i started i started
with gear on this play to framework i
was played to what why did we start this
framework it was exactly for these
challenges that we were talking about we
wanted to handle these challenges for
web apps but really from scratch
thinking about the problem i we got this
problems how can we solve these problems
okay how can we solve these different
problems if we can start a for apply a
web framework from scratch okay so it's
basically a plane framework runs a
player as a framework that makes
web development easy on top of the gvm
for Java and Scala programming language
it's lightweight its stateless it has
this property that makes it scalable and
you know the also the art you know this
architecture makes highly scalable and
its benefit for real-time something we
will talk about later and it has this
reactive mode something not big I mean I
will not focus a lot about it but it's
it's it's a different kind of model
where you're kind of notified and
composing these notifications we will
talk a little bit more about that but
that's not the focus of the top and it's
I again it was designed to be living in
the cloud and creating different
services and we will see more about this
or can you do a say yes to too late to
have some understanding of what play how
does it look like well that would be
hard actually that you hold the
microphone I can hold it at the
microphone okay I guess one of the comic
relief demo guy hopefully it's not too
bad but ok I'm show you very excited to
see another right web framework demo but
i'm going to show you the basics just to
give us some context for what's coming
in the next section ok so if you if you
don't care just bear with me so let's
start
here's a part of the Play Framework page
as as set exceed with we're looking at
like a lightweight stateless web
framework has all the things you kind of
expect in in a web framework it's super
easy it's super good if you're a web
developer it's excellent fun it's a good
is a good fun framework but like I said
we expect that from web applications
that's nothing special but just to get
you started go if anyone wants to try to
head to the page grab it you get a zip
file unzip it get it in your classpath
and then you will have access to the
play console let's see here once you
read the console once you've got your
console then you can get this beautiful
little helper here that tells you this
is my Play application so to start a new
web app we just go play can anyone see
that or not oh yeah I'm concerned like
recording the screen because I guess we
will need that no quick time I'll do it
later well it's very funny very much I
out there just wait we need oh just
second it will take a second see how
easy it is ah why is this thing give
have any file new screen recording and
that's it all right okay cool playing
you and you give it a name for your next
big social instagram sharing flipper
flipper application to share your dogs
pictures and it will ask you some very
difficult questions what is the
application and we've already said this
what would you like to write it in
Schuyler or Java or nothing and jittery
things we want scholar of course and
that's it we've got our applications
being created it's created a structure
for a simple for MVC project play isn't
MVC like it's not baked in its built on
top of play but
it's very useful so that's first so
basically you're not doing any decision
that you commit in front of your life
you're saying skala because play wills
will just start generating some some you
know sample comp controllers for you to
start from you can mix Java and scan in
the same framework that's no problem you
can have some controllers in Java and
controllers in Scala calling in between
each other there's absolutely no problem
both work together now we're starting
the app download in the internet and
it's running on for 9,000 screen
recording things in the way and when you
run it you can minimize well does some
fixed us some more thinking doesn't
compiling and that's that's interesting
here because you saw you started up the
application it didn't compile anything
and then when you hit the page it starts
compiling and that's one for one of the
interesting thing things in play we need
you to like to have two focuses one is a
browser where you're seeing the result
and one is what's behind your code is
your what your coding so each time like
you you run the app each time you you
modify your code you go to the browser
you refresh it will go compile your code
and show any any errors that you got in
there and on the browser and there's a
few things that sets up sets up some
routes and some basic it's got a
controller and welcome message you can
replace the Welcome message with we're
passing a message through in the from
the controller already get rid of the
how you do everything page does a little
bit more thinking sorry I had to restart
it and your new application is ready
which is getting passed out of here and
one of the coolest things when you're
developing is if you've made a mistake
and I put my strength unclosed here and
refreshments is odo
include mineral on online nine and Gary
I guess this quite correct anyway that's
a quick overview of how this works it's
really fun to develop in but I still
think it's not it's got everything you
need in a web framework but it's got
more and that's where we'll talk about
today so basically like just to get the
idea that's how how the thing works it
has like me and some MVC kind of
structure it's very close to
architecture and to WebP architecture
that's why I will say we'll talk it be
talking about okay starters we both are
talking about not fun on all these
things will be talking about in
explicitly because we want to to know
what's going on behind below now you got
very ok so now why did we do that's this
framework because like that it started
with this kind of architecture we had
like one machine it's a single box thing
okay where we have the web framework and
the database both in the same machine
they talk to each other and that's it
and all the whole architecture was done
for this kind of thing for this kind of
argot architecture but now everything
has changed right now we have different
servers different data stores different
things we want to interact with and a
lot of connections and we need to handle
these kind of things this is what we
talked about with a cloud and Katsuji
computation we're talking about new new
era with new challenges now we thought
about like okay data we need to handle a
lot a lot of data and that's what
functional program is very good about
and that's why we in today we went there
and integrated Scala there's color
programming languages functional
programming language that allows with
functions and higher-order functions
collection library it allows you to to
hunt to this to do this manipulation of
that I very easily but that's not the
focus of the talk but that's one of the
aspects why we integrated the scallop
programming language we are sure that
you need to be able to move more easily
about data and that's what functional
programming is good lava and you don't
you want so that is the second that will
be mostly focusing on is using several
machines for computing analyzing data
and then you got also integrating
different sets of data that are like
saucers API
and that's also what functional
programming is good about we got the
power of some parcels there you can pass
different formats we provide our own
transformers 4 j zone for xml and other
types of data but that's very easy part
you know and we'll provide some some
transformers but also as well it's not
the focus of this talk and it's also
about handling a lot of lots of users
with a stateless reactive architecture
and that's one one thing that we do an
in play so now which focus in our own is
is you use distributed computing which
means like I want to I have something to
do i want to send it to several machines
I want to aggregate this data back and
push it to the client but this is what
the web framework which will would it be
doing right you'll be starting these
things and getting the results pushing
it back to the client so the problem
here is that you could do it I mean with
different different fragments can do it
different in different ways but we need
a programming model we want to do this
kind of tasks much easier right we know
we want to do like expressing this kind
of composition of computation much
easier now we thought about like how how
how can you represent a computation how
can we talk about this kind of
computation that's happening somewhere
that eventually I'll get its result okay
so basically this is the idea it's a
computation which eventually I will get
a result okay and how can I many play
them so we get in Scala it was
integrated recently and we had it I say
our own implementation but when we
migrated to the Scala futures right this
concept of future who knows what future
is okay so future actually is a
structure that will be representing a
value that's happening sometime in the
future okay just saying this how does it
say that well it has a kind of call back
mechanism inside the future you can say
like let me know when well exhibit this
function whenever you have this value T
and it will be running your code that
way okay so basically that's it it's a
delayed it's something that's happening
in somewhat Sun sometime in the future
you get this representation it can be a
future of n-3 future of straying future
of list of things whatever it is right
it's just an abstraction
that will present something that is
happening in the future okay but that's
not it that's not all so basically
future of T is T that is happening in
the future we've scheduled on different
machine whatever it is now a future is
also also has some sort of present the
value that will be available in the
future or maybe failure okay the same
thing you'll have both aspects of that
and provides a way to be notified
whenever this happens okay that we know
about okay some kind of go back
mechanics but that's not interesting we
don't want to be doing the nut the
callback things that that's not good
programming right on coal bag and call
back on coal wagon you get nested
structures we don't want but that's
that's inside the future that's one
possibility that's a possibility that
allows us to compose these but just just
that's not how will we will be using
them what we focus on when we were
interested in is some composition
properties that we got on these futures
so one or one interesting thing with
futures is that a future of the future
of a is a future of a and that's kind of
obvious right if we are get the future
that will leave me a future which will
give me a value of type a I could say
like it's a future to give me a value of
type a right obvious no problem but
that's a very nice property to have
actually and we see why in it I am in a
minute also one of the other thing if I
get a list of law a lot of features that
will be given values can I imagine it
can't I imagine like a future of giving
list of values right so list getting
inside the future instead of handling a
lot of things happening in the future I
have only one thing that is happening in
the future and give me all these results
and that's also an interesting property
right and it's obvious right when you
say like a lot of events have in the
future where there's one future and a
lot of things happening in it and also
another property is that I get the
future of a and I have some way of
telling how to go from A to B it means I
can have a future of be right and as the
map function and that's also an
interesting property we get on these
futures and with these property and some
others
we can do very nice API that can help us
talk about composing these computations
that happen that will be providing
results in the future okay these
properties and then we can have API
suchlike map flatmap filter I get the
future I oh I'm only interested in
certain value otherwise I want to
failure I can do that can collect some
some kind of thing I can recover from
errors and provide other kind of values
and so on its own i can say like I got
two futures and I want just the first
that happens that the one that happens
first or the way or the one that doesn't
fail and all these kind of things I can
and now i'm talking about a programming
model right i'm talking about things in
the declarative manner I'm saying like I
want to have the first that happens I
got 10 features I want the first that
happens if it the first that redeems or
happens and that's interesting to be
able to express it that matter instead
of doing that or the concurrency or the
synchronization locks for whatever you
happen to do it well you got some you
got it in the model in the programming
model and that's also like already much
easier to deal with and now like we want
to use these features when we
distributing computation right we have
this we distribute computation like we
try to imagine these computations are as
futures of things that will happen if
you own the things I will happen in the
future I want to compose these and push
them to to the to the user right very
very straightforward now we got this the
app that we were working on is something
that is a tool that is no productivity
tool that used for it's used for to read
some financial data and provide a lot of
visualization to help the user of that
tool decide about some things so it's
rather exploring a lot of visualizations
and saying like okay this makes sense or
maybe this doesn't make sense ro and
then continue to track interacting with
this thing and what's important since
it's a Productivity tool you need to
have it very fast actually you're
distributing you commutations on a lot
of machines but you want then to
aggregate that as soon as possible as
soon as they happen
and push them to the client all right so
basically what we got here will be the
browser all right so we got the browser
with a some some kind of back end this
web the web framework that we will
dealing with that will be calling to
services okay one service is the
distributed computation that will be the
first one that will be getting some data
from a big data but for specific
specific context and then it will be
getting this data and with these data it
will be like calling the other service
that will be drawing some graphs give me
back the graph give it to the browser
okay simple scenario I think to furnish
in there let's see how can you can can
can you show us error again how can we
do that okay so just a bit more context
on the project which will not let talk
about it's it's meant to be it's for
financial services so it's it's using a
lot of financial data and the charts
that is providing based on big big
amounts of data but the application
itself is a ipad made to be consumed on
an ipad in a sort of it as a discovery
Tory do is supposed to sit there flip
through this pool habits like makeup
hypotheses hypothesis and then using the
parent parameters of these hypotheses
we're generating hundreds of charts that
it so we can use yeah that matches or
confirms organized this very quickly
very quickly the process happens already
now they actually doing this but it's
slow and manual and instead of computers
they have some overpaid guys we said on
PowerPoint so it's a good uh it's a good
scenario for this kind of thing the way
that I'm going to show today is not in a
super sexy iPad app it's going to be in
a simple of simpler form and just make
sure
still running this one you can go away
this is it here thanks to the help
twitter-bootstrap this is kind of an
example of some of the charts that we
need to generate an ascetic showed you
in the architecture diagram we're
getting data the data is terabytes and
terabytes of data we have to go through
to clearing that and get it back takes
time and you get it back then we have
sent it off to our renderers but i'm a
bunch of things sitting there rendering
these chats they have to do it quickly
otherwise it's not a useful tool so
things have to happen quickly and have
to happen you know as fast as we can we
need to scale it out if we have more
users that's a lot more of the same
stuff as hostile okay actually I'll just
chuck it in here this is this is the
super simplified version of it in the at
the moment it's running off doing these
calculations and this is how it can work
on the ipad now and that this data might
have been oh they're all just came back
and it's good we've got a bunch of these
categories they will come back at
different times and the older data if
it's not the most current data will be
great and fading the new data as it
comes in like this to do that with the
futures I'm just going to switch over to
some code here's that here's the service
here's a big data it's a list of into
couple of incident of in so it's very
beautiful it's a service here's our
render a service which is calling some
of our other on a visualization API and
he's the main thing we want to talk
about right now so
first of all the process happen press
comes the users there they selecting a
bunch of charts that they want around it
and it's hundreds of charts and we get
these fists of things that they want new
versions of this goes off to our data
API and we end up come back with a list
of these futures of the data that we
need to them so we get a whole bunch of
these lists of the future once it all
comes back once the once that's redeemed
we then come into our chats where send
it off to our chart renderer okay and
this is also a list of features we end
up back from here but we've passed them
through to our chart rendering service
okay once that comes once we get these
back and they've all come back it's got
a list of futures but ascetic said
before with one of the properties of
futures is what's more interesting to us
is to transform them into our future of
our data like just one list of done one
list that we can then send them to our
requesting a guy says okay we've got
these traps but the data we've got it
rendered form you can display it and
this can be sent off to as many machines
as we need to do it so basically is that
an interesting thing also as well that
we don't we're not showing here but it's
in the controller side if that play
accepts the future of something and it
will be serving it whenever it happens
to the to the user right so you with
play you can either return the plane
result which is like just okay not fun
whatever it happens or in a synchronous
result which happens to be a future
offer a result that will be this way we
cooked what we just prepared in that API
and also the interesting thing is that
we started with the first service we
send a lot of requests we can list of
futures now if you're each of the
futures now we request another another
service that itself will be returning a
future now for each of these features
that we got we got now a future of
future or something right the
this is the future inside the future I
said okay for the value inside the
future i'm going to get the chart URL
and it gives me a future now i get a
future future but since we have this
properties with with the future the
future of future is the future so a
future of the future of the URL is the
future of URL now i got just a list of
futures of URL which is fine and now
with the sequence method or function i
can turn that into into a future of list
of values that I can go send back to the
browser and that's exactly what happens
when we go can you show like again the
example of the yeah so that's exactly
what happens when you enter here now all
these is another having their being
computed and when it whenever everything
is done every single chart here is done
then the result would be pushed back to
the client and the client will be
showing it okay request might last for
longer you know but but that's not
another problem because players in block
any resources while the future is
happening and that's one good part of
you know good property of the ply framer
all right and we can send off a bunch of
requests to your chance that are
relative to where they looking at the
moment back to you
so that's that's kind of nice we could
do this kind of thing represent each
computation at the future or represent
each think at the future and then we
wait for all of them and send them back
to the thing but the good thing in that
in the future API there are a lot of
other interesting functions as I said
you can say like wait any for instance
you can suck like a lot of features and
whenever you got like 10 of them you say
like okay I'm at that's good for me
that's enough or I'm waiting for the
first response that happens to have the
result or whatever other other kind of
things you can compose you can even
compose some kind of workflows where you
say I'm starting these 10 things and
whenever they have results I'm starting
the other other other other computations
and so on and so on until you get back
your results this API this programming
model of composite of futures allows you
to do that in a very simple manner all
right we move on now we just said about
our context is that what we focus on is
productivity and discovery right be able
to discover things and Scarlets
visualizations are they happen so the
user can take some decisions can even
completely change his what he's doing
and if you discuss some some
visualizations that don't fit his theory
right it's our luck with this is my
theory I got some graphs ah that's not
right that I idealist me let me change
it but what we do in here and that's
that might be a perfect fit for a lot of
context but for our context here we're
not showing any graph until every single
graph is rendered which is not really
cool because some grass happened right
away some happen afterwards and if i can
start pushing these things to the user
as they happen maybe the user will have
this isn't much more much much before
that the last one is happening right
maybe and also it's annoying to see
interface that is waiting for so long
it's nothing happened nothing happens
Anning boom everything is happening we
got the opportunity here because these
machines are independent maybe some
machine is loaded the
is not loaded whatever it happens to be
the context we will be having things in
different speeds so what we need to do
actually in here is start streaming the
results to the client whenever they
happen right we don't wait for all all
to happen we just whenever something
happens we push it to the client okay
now to be able to do that we need
several of things the first thing we
need to have a protocol with a browser
where we can send things in a kind of
chunked way in it and not not one report
response but I be able to be pushing
several messages and that's I need I
need to be able to talk with a browser
that way okay there's a first thing and
also in the server side I want to be
able to talk about streams of data right
not not a future not something having in
the future but a lot of things that
happening in the future it's a stream of
data right and how can we transform this
list of computations list of futures
into a stream right because this these
things are happening concurrently any of
them can happen in a day at any time how
can they like push all this in one
stream that is pushing messages whenever
they happen these are the question that
I need to answer in my in my
architecture right now how can I do that
well first thing in the browser the
browser happens to have this like new
especially new browsers they have the
technology necessary for being too for
having this kind of communication we
start by with comet which is a some kind
of hack on top of HTTP 11 passing by
server set event which is a proper
protocol for a server to client kind of
communication it's a very simple
protocol wicket we can push messages
into any browser especially I mean
talking here about modern browsers from
the chrome firefox safari and even IE so
and we got also web sockets now
WebSockets is it's kind of a problem if
its own their proxies on all these
things but I can I mean I service and
events will work with any kind of proxy
so I don't have to worry about that okay
so we got the protocol to talk with the
browser with which we can talk about the
browser now what I need is at the server
side a way to talk about stream with
which one
and talk about streams now whenever I
talk about this and we see all modern
frameworks out there like we talked
about like real time and all of these
things you see them doing something like
this like our dot right message now is
it a proper way of talking about streams
we're not talking about streams we're
talking about the method whenever you
call it and give it a message there is
an effect that is sending sending
something into a socket now is it I
don't guess this is a way will be issues
we should be talking about stream we
need to have this kind of compositional
interesting I pay either the same that
we have would list the same we had with
the future we need to add something like
that we need a programming model with
nice properties and its composite it
should be compositional all right now in
Java and the Java Ward and the GBM we
got this input output stream well input
output output stream their kind of nice
they can predict and I kind of to
provide an obstruction in top of
something like getting in and getting
out which is kind of nice right the only
problem they got all they got they got
two problems first they have they like
any composition functions or properties
okay they're good they're you could kind
of the right path but they don't have
this composition properties and also
that you're blocking which is not good
for our case we don't want to block any
resources if someone is trying to
consume a message that is not there yet
okay so read to be we have also
non-blocking properties so that was that
was designed like 15 or more years ago
and now today we come in with these new
things where we say like we should out
the tribe so it seems that we move in
backward it with technology now let's
see and play we integrate integrate this
concept it's called ET arathi that comes
from the haskell boredom son tried to be
strong so we got it right ease in play
now who knows what authorities are who
heard of or any of its Reggie's okay few
more so any trotty is kind of we often
call it a finest fancy fold basically
it's very very simple
is it's a kind of an immutable state
machine okay so it righty has one of
three states okay something that has one
of three states done continue or error
okay and whenever it has the continuous
state you can give it some input and it
will give you back a new state of that
of it righty okay so basically other
state we can see what state it has and
whenever if it has continued I can give
it or even more chunks that's basically
the hrg so that the way i read this is
an iterator it's something that will
consume chunks of type II whatever it
happens to be and eventually whenever
whenever is done consuming chunks it
will return me something of type r okay
so it righty is something that will be
providing computing and are those chunks
of type II that pass to into it okay as
simple as that and it's very similar to
the fold function we got in most of the
functional programming languages except
that it has this property of being like
progressive you can stop put a given
input give more input stop again pause
do a lot a lot of interesting thing
because of this structure that is kind
of inside out okay so we said like it's
an immutable state machine it got er dun
dun will give you a result and whatever
left of chunks that it didn't consume
and that's interesting for composition
it continued with with it with a
function where you can push more input
and give you a new state of a strategy
and error okay now a niche righty has
also nice properties we can if we have
an iterative of authority of something
well just it's an iterative something
right we can imagine it that way and
that works right this is nice property
that it has and also is very its
relative rated with this future concept
because if I have a future of some it
arathi well okay i can i can have a
knitter aati because anyway eventually
it will give me a result if there is a
future
on top of that I can flatten it inside
it and again get an iterative and that's
also interesting when we do in dealing
with computations okay and also I got
this map function where I got the
destroyer of ER and a function from R to
you then I can get to a variety of EU
okay nothing fancy here the same kind of
property they look very much like the
properties we got with the futures right
okay so that it arathi represents that
the consuming part of the stream it's
the sink it's where input will go right
so it might be then computing something
by the end but it will be consuming
input input will be pushed into it as a
charity all right now all that scenario
i was talking about where someone will
be looking at state deciding what to do
about it i was playing the enumerator
row so a numerator is just something
that will take an iterative with certain
state and will turn an iterative with
another state after pushing maybe some
input into it right so basically
numerator it will all what would it be
doing is saying okay what state you got
that right it was alarm and continue
okay here's some chunks now what state
you got that's something else and so on
and so on either the enumerator will
have no more chunks to push or they
track you will say I'm done and then
that's that's over and we get eaten
authority with with a new state okay
very simple enumerator now innovator as
well has some nice properties well
enumerator of e basically means i'm
going to enumerate chunks of type ii ok
whatever happens to be three strings in
stays on whatever it is okay and the
nice properties on top of a numerator is
it's kind of the same properties right
enumerator of a numerator of e so
something is capable of enumerated an
enumerator of a well it's just in the
rating is right we can flatten out this
this kind of structure easily right and
if we say like a future of enumerator
well we can say it's an enumerator
because anyway eventually it will be
given the hid so I can flatten that out
as well and some functions like map for
for transforming input flat map
interleave
and get like a list of enumerators and
concurrently entry and to leave these to
push in the same authority and that's
interesting if got a lot like a lot of
different streams coming from different
places I can select if we won enumerator
that is represented enumerators but in
an interleaved concurrent way and that's
kind of like that's one of the muslim
one very interesting properties of
enumerators and you can compose to
enumerators like in light of this this
happens first this happened after and
you can get this kind of their much more
message that you got an enumerated but
just I I put just a few now getting back
to our application now that the problem
here we said is that we're talking so
the browser is opening it was all these
charts to be rendered what we won't
actually is whenever any chart is we got
to that and we rendered it is to push it
directly to those to the browser okay
and that we will do that using the
socket the server sent event thing that
we got between the browser can you show
them so I'm sure you're excited now I'm
gonna go straight to the end result
because how can you provide maybe the
code first now because uh I'm sure
you've guessed I mean that the end
result so we'll go straight there but
it's as things of returning we can
display them directly in the browser and
it can happen whenever things are coming
back from the data service and coming
back from the graph service and advantix
on the page in this is one of these
great properties of what's that it's
just been talking about in using
iterators to be able to combine and and
and even even the whole user experience
here if you look at this thing all user
experience is much different because we
I'm starting to have some input and with
some visual tricks the user would not
even know that things are happening
rhyming will not even notice that there
is any latency because they're all like
always results happening to the browser
and I can can even make decisions before
all all the charts are loaded right
because there are hundreds of them maybe
you will see something and it's alive
I was a wrong decision I stop here and I
start another kind of visualization and
that's the interesting part of it we
could address that problem at the
interface because we got in the back end
what allows us to do to be able to do
this kind of very real time kind of
composition and streams okay I think we
ran out of time are we but what would
what so so I'm going to just quickly go
through and say two minutes and I when
does it end actually it's plus 4 so the
the cool thing about the program model
that's provided to us is that the code
to do the second part which is our
streaming aspects are very similar we
don't have to change a lot to get these
cool properties in fact we're still
going to the still going to the chart
service we're still going to the renders
data service render service and we're
still getting back these lists of
futures but we can then because of God's
Erich house that a good thing we can
convert that to so each Ichiro so each
each chunk we got we got a future of a
right okay a future of a is a future of
enumerator of only one value that is a
but we said future of a numerator is an
enumerator which means i got an
enumerator of a that is given me a
single value of a which means i got a
list of enumerators of a wow that's good
that's interesting i get a lot of
enumerators that each of them will be
innovating only one value whenever it
happens that a that it has now a list of
enumerators we can interleave them and
get only one enumerator that will be our
stream that will be pushed into the user
so that's pretty cool get everything
smash it all together bang we've got
this stream we can just push and thanks
to the client-side technology he's
pushed them straight to the ways and
service and events because it's just a
one-way thing pushes it out it's very
cool it lets us it this is just one tiny
example there's so many things that that
you can use this for it it's so cool
when you start thinking in string
and start thinking about how you can
compose how you can transform things on
the fly smash things together this was
just one we also did the I don't know if
this will work for internet here the
type safe control safe console which is
for monitoring your occur applications
or sucker to fit in my screen here but
this is pulling stuff from the acha acha
monitoring api's in as it comes out of
the Mongo database and it's really cool
because it's getting a lot of data it's
pushing it as things change and it's
also got a cool property that if there's
other people viewing pages at the same
time then we can broadcast these streams
out over to as many people who are
connected at the time without having to
do separate requests so that anybody
listening to this dream whoever wants to
listen to the stream can listen to the
stream we can pull put stuff in it and
also one interesting of this thing that
we can compose these streams in a very
very very easy manner because we can get
streams of node streams of actors and
then the URL you'll be this describing
whatever you want and we will be
composing in the interface and that's
exactly what the URL is saying here I
saying like on the left i want all nodes
on the right I want all dispatchers and
that's in inside node node 1 and that's
we get some strange we compose them on
on demand and we push them to the user
and that's that's not only big data
that's that's infinite data that that
has ever entered stream of data so we
need to like the whole idea of the talk
is to say like not only we want to
distribute computation we want to
distribute competition in in real time
to provide functionalities that like
these that are not possible without this
kind of interaction between the machines
that we got the server and the client
and we need to provide this kind of easy
integration with these kind of parties
well that's that's all I guess we can
fit could fit in a talk a lot of samples
come with play you can play with them
you can see there are examples also over
the web of services that use this kind
of technology so it doesn't replace a
distributed stream processing but it's
rather for integrating these into a web
app and pushing it into the client
easily and
finally okay well that's it well thank
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>