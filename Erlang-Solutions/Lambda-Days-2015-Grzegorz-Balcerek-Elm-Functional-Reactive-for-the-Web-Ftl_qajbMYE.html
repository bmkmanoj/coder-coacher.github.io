<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lambda Days 2015 -  Grzegorz Balcerek -  Elm. Functional, Reactive, for the Web | Coder Coacher - Coaching Coders</title><meta content="Lambda Days 2015 -  Grzegorz Balcerek -  Elm. Functional, Reactive, for the Web - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lambda Days 2015 -  Grzegorz Balcerek -  Elm. Functional, Reactive, for the Web</b></h2><h5 class="post__date">2015-05-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ftl_qajbMYE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome everyone so yes i will be
talking today about a relatively young
programming language called l and i
started by showing it from three
different perspectives namely as a
functional programming language as a
language for web programming and other
reactive language or a language that
tries to put into practice the idea
functional reactive programming so let's
start what kind of functional
programming language is it let me
statically typed if it has a compiler
that compiles the type checks and
compares them to standard web
technologies javascript HTML and CSS it
has a syntax that is similar to the
syntax of Haskell although there are
differences it is strict meaning
expressions are evaluated eagerly and it
has the basic features that you may
expect from functional languages such as
it treats functions are values or it
provides immutable data structures let's
see an example and I will not be
original this is a function that
calculates a list of Fibonacci numbers
it starts with module declaration which
is strictly speaking optional and
programs but most non-trivial programs
will probably have it then you have an
import statement we are importing
several lists several functions from the
standard library module called list I
will skip the module declarations and
the import statement in most of the
examples later and then we have the
function it begins with a signature it
is also optional but I will be including
signatures and this signature tells us
the dick function is called phpbb that
it takes an integer number and it
returns a list of integers and then we
have the function body
which is which consists of a let
expression which let us define local
values or functions in this case I'm
defining three local functions the first
one or second is a composition of the
tail and head functions the operator in
between is a is one of the function
composition operators we're in this case
tail is executed first this next
function calculates the first to the sum
of the first two elements of a list and
you can even notice that function
application is written as the function
name and space and the argument with no
additional inter punk inter function we
have another function that is using the
conditional expression it's calling
itself recursively this operator is a
con so great or it depends a value too
good to do to a list obviously returning
a new list and finally after the ink you
keyboard key words we have the result of
the whole let expression in this case we
are calling the fib ' and then the
result of that call is passed as
argument to the reverse function so this
operator is a flipped function
application operator it it evaluates the
expression on the left and passes the
result the function on the right alright
we have a function we can test it in a
wrap and provides a wrap like many other
languages so here is an example session
import the function we executed and exit
that was a short example now let's move
to the next perspective that I want to
to show and it's also a language for web
programming and this brings us to the
hello world example so after the module
Declaration and the imports we have just
one function called main the function
main is the function that defines the
meaning of programs in this case the
result type is called element an element
is the data type that basically
represents something that can be
rendered on the screen and that has
defined dimensions we create the element
by using the plain text function that
takes a string and returns an element
and once we compile this program we get
na we get an HTML page that we can see
in the browser I also have the browser I
hope stop working right this is the
hello example all right the next example
I will show will be doing will be
drawing the fields circles so the result
will look like this and I will this one
will be composed of several functions
the first function is called color it it
takes a number and it turns a color from
a predefined list is basically using the
number as then index to the to the list
modulo the length of the list next thing
I'm I'm defining a type alyas so a top
double a tuple with an integer on the
Left which would represent the radius
and to pull on the right which will
represent the position of the center of
the screen is called I I I give it an
area called circle description and now i
have a function that takes a circle
description and it
the form which is another data type from
the start and standard library in a
moment I will show a list of forms will
be transformed into an element in this
case I'm creating the circular shape and
filling it with a color and moving it to
the right position finally I have a
function that takes a list of serpent
descriptions and the dimensions of the
element to be created as as a tuple and
it's using the standard function collage
flesh which takes the dimensions and the
list of forms and it gives us an element
and you may notice also how this is a
function with two arguments like in
Haskell and use the card curried form so
it's strictly speaking a function of one
argument that returns another function
of an argument and let the other
function returns a value but I will call
it a two arguments function here i'm
using on my function to giving it the
descriptions of four circles i'm also
creating another element representing
the square now i have two elements but i
need one there are several wise ways to
combine them would I need in this case
in this I put them like one in front of
the other and that's why is the function
layers and that that completes our
program I have only scratched the
surface of web programming but hopefully
you can see that I'll provides a way to
structure the code and compose your view
from pieces and you have the whole power
of a functional language to kind of
organize of your code all right let's
move to the directive part because our
web page was static let's do something
that will move and when talking about
the reactive part I need to start
talking
about a notion of a signal which is a
very important notion in elm and
formerly a signal is kind of like a that
changes through time there are certain
moments of in the center moments when
the value may change of the signaling
that those moments can be detected and
reacted reacted too so you can also view
the signal ask of the stream of events
that you react to and do something when
they happen or as a value that the
changes in time an example of this is a
signal that represents the mouse
position so the depositor the mouse
pointer can move the its position can
change so it's represented as a signal
with the time signal has two integer
values such a value cannot be directly
rendered 15 but what we can render and
do this what we can assign to remain as
a signal of element so we need a way to
transform a signal of integer tuples
into a signal of elements and there is a
function for that old map and the
function that we are mapping this taking
a value and stern turns the value the
value into an element the result program
looks like this
all right I'm moving the mouse and
depositions change great it's kind of
reacting very slowly okay I have
screenshots just in case but yeah ok now
another example I have two signals here
that represent the same information
mouse dot X and mouse thought why how
can I show two signals is not one I have
a function that combines two integers
into an element using the plain text
function this operator is a function so
it instead of putting the whole thing in
the parentheses I can use this operator
and it will calculate the whole value of
this expression and pivot us and I
argument to the function so I have a map
to function I have a function of two
arguments and I have to fund and I have
two signals that like both values x
values from both signals are combined
together and can be shout let's go back
to and of not working well ok basically
similar think I move the mouse and the
position is updated also notice that the
position when I move the mouse towards
the left upper corner the position is
that the coordinates are closer to 0
because the coordinate system is using
the system that the origin is in the
left top left corner and the corn grow
to the right
to the bottom I will change it in the in
one of the examples later here is
another version of this program so
instead of using the map to function I
can use an operator that looks like this
the function is the same this one so i
put a function of two arguments i put
this little arrow the first signal and
the tilled and another signal if you
know what applicati functors are and the
applicative operations these are those
operations specialized signals I could
put the function of two three four
arguments and then put more signals here
just separating them with the tilt
character ok the result of this program
is the same as the previous one now what
I want to do is I want to change the
coordinate system of of the mouth so
instead of having origin in the top left
corner I want to have it in the center
and I want the coordinates to grow to
the right and to the top in order to do
that I need to know the dimensions of
the screen which are also changing
changing because I can change the
Desai's of the browser so they are also
represented as a signal the signal is
called window dimensions and I can
adjust this this is the calculation it
adjusts the coordinates and I'm using
the function and the two signals the
result will be
this one so when now now when I'm in the
middle or close to the middle the
coordinates are close to zero when they
go to the right and to the top deck they
will grow right two more examples I this
is the main function where I use the
mouse position signal and turn it into a
signal of elements I will not introduce
time element so I want to have a signal
where the mouse bhajan position is
delayed by an amount of time the
function to do it is this from the
standard library is called delay the
union that I use is one-tenth of the
second so 10 units will be one second
and I give a signal i delayed by by an
amount and i'm also adding the time
information to the result so instead of
a signal of it just a tuple I get a
signal of to pull with the delay and the
actual position on the right on the
right hand side this is in an anonymous
function in L so let's see and then I I
make a programmer when I get where I
deal I the mouse position by one second
solid I will now move the I will now
move the mouse so I'm moving the mouse
nothing happens and then after one
second is to change I'm moving again it
changed after one second alright one
more example with signals let me maybe
show you first the result that I want a
tree
now what I want to have I want to have
this signal of mouse coordinate shot
multiple times with different delays the
first one will will change immediately
the second one will change after a
second and the third one after two and a
half second see how can this be done so
I do it in steps first I will take a
signal I will take a list of of delays
and i will return to lift a list of
signals i'm using a repeat operation
just from the standard pleased operation
which takes a number and the value and
and returns a list with that value
repeated several times and I use my
previous function mapping it through the
list of delays so I get a list of alike
signals but what I want is not the rest
of signals I want a signal with a list
of delights in sight how do I ok there
is a well-known operation in functional
programming usually called sequence this
is its definition specialized for lease
turn signals the exact body is not very
important just remember that it just
takes a list of signals and returns a
signal with a list inside and you may
know from other languages
could be defined in terms of certain
obstructions such as applicative and
reversible this is not currently
possible in L because and does not have
the features that like fire kinda tight
that supports such writing such general
operators it may be possible in the
future I know that don't exclude that
but it's not a promise just remember I'm
talking here on my own behalf on not
representing anyone and certainly sir so
certainly not the language graders so I
can only speculate however the language
is still evolving features are added so
maybe new features will be added as well
that will allow writing such more
general operations now I
sig a list of delays and fear as an
example I use the 3d lies 0 10 and 25 so
I was trying to show you Adam from the
functional perspective as a also web
programming language another active
language but the power of n comes also
from the it's one language and
you can combine combine all those
features together so let's see what
happens when you combine the three
examples before into one program I have
a program here that uses the draw
circles function that I shall be for
that function took a list of circle
descriptions and was returning an
element representing the circles I have
the FIB function which returns a list of
Fibonacci numbers and I delayed position
function which takes a list of delays
and returns a signal with those mouse
causes issues positions delight can you
figure out what this program that I will
in a moment thing anyone can guess move
the shoot awesome yeah let's see
so I have my circles and they are
following the mouse kind of not working
very smoothly for some reason so I think
it's nice that we can do this in a
completely functional way there's one
more thing that I want to show and that
is how we can maintain steak maybe i'll
show you the result now I want to add
one more feature when the screen will
freeze the program remembers the current
positions that leak again the circles
move again so in order to do that I will
need to maintain state I we need to
remember whether we are in the frozen or
unfrozen state and I will need to
remember first let's state i'm using a
record type here and I giving it I'm
giving it as an alias so my time full
state it has two values the frozen is a
flag that remembers whether we are in
the frozen unfrozen state and the
circulus easily
those circle descriptions I did that
remembers the current position of the
circles I will meet the initial so this
is a function that creates the initial
state I don't need from the mouth
positions
I will also need two different sources
independent artists of England so one of
them is the mouth positions that are
delight but still kind of coming from
the position of the mouse and the other
one is the sequence of mouse clicks that
I need to handle their kind of
independent so let's create a data type
to represent those two types of input
this is a union type it has to kind of
two alternatives the cliq value
represents an event of clicking a mouse
and the circles represents our positions
of all the circles I will now need to
transform the input signals into a
signal of events this signal mouse
clicks is a signal from the standard
library it's actually a signal that has
always the same value you need but it
has those moments in time that can be
detected and reacted to I'm changing to
do it to a signal of clicks but by using
a constant function so always is a
function that takes a value and that is
a function that takes n click always and
I'm mapping this Punk signal I get a
signal of clicks so the signal would
have the same value click but we will be
able to detect the events the other
signal is the signal that I used before
I'm also i'm on the ram ingot in the the
surface type post constructor I have no
two signals of events
and I get a signal of events that have
kind of represent those two sources of
of data of input data so I my state I
have input the signal take the next or
the incoming event take your current
state and use the next state I call this
one step next event steak and returns
the new state i'm using the case
function and I'm pattern matching on
clock and the incoming event I need
three cases here the first place is when
there is a mouse click so there is a
mouse lead to negate the state from
frozen and frozen on or vice versa this
is the syntax to take a record
and update one of the awesomest record
with anybody
this is obviously
underscored just means that I don't care
about the value
the second situation that I want to
handle is when we are in unfrozen state
in this case I want to take the new
positions and I want to update the state
with the new positions and finally the
third situation is when I want when we
are in the frozen state
I won't just do not I want to ignore the
the incoming the new position all that
about it because I remember the position
that i remembered before
when I have three elements that I need
to combine I have the state I have a
kind of a representation of my sight I
have a signal of input events and i have
a function that is taking the current
event in the current state and returns
the new state the the one missing piece
is
is the fault p function which should be
interpreted as fault in the past
and it takes three
argument the step function that is
combining event let's take producing the
new state the initial state start with
and the signal of events what it returns
is a signal of states
and now there's one missing piece that I
need to do
from a signal of states I want to
extract
actually from the state I want to
extract one of the members on the signal
of states I want to get a signal of
circle positions I'll do it by mapping
function that is caught dot called dot
and the member name so every records
type in and test kind of built in a
function that is called dot in the name
of the member and the function is just
taking the record and extracting the
value from the returning the value of
the member the record man so by using
this I get a signal of risk of circle
descriptions
this is the complete program instead of
using the signal that was I had before
i'm using the new signal the rest is the
same
alright that was actually the last
example if you want to know more this is
the website official website of the
length of the end language I have also
written a tutorial and it's on the
internet it's available here and the
this address I will probably be updating
it and that's it I can take our
questions let me show you how can I see
the source option
basically it's mainly JavaScript there's
just a wrapper actually when you compile
and called I have given the option to
generate an HTML an HTML file I could
skip this option and I could judge just
JavaScript file also take this
JavaScript code and instead of inviting
it kind of us the whole page you can
make an application traditionally in
HTML you can have a deep for example and
put your own code your own program in
this div so the minute the so the answer
is it's mainly javascript in this case I
told you about elements directly for
data types data that can be returned as
or assigned as as the return type of
Maine an element and the second time
that is recently it was added as as an
option was is called HTML so you can
also kind of structure your quote using
this syntax but in kind of HTML way I
didn't really take a look at this so I
don't know exactly and the two other
options are signals of elements and
signals of HTML as far as i know that
HTML is using something called virtual
Dom library I think and I'm not really
actually I don't know exactly the other
to be honest because I'm not good kind
of under the hood how it's done the
point is also that this can change
because it's an implementation detail
from the point of view of of you as a
programmer writing L so you can write
the program and wait for a new release
maybe it will be implemented differently
and we'll work faster yes yes I think
people are using it there is also a kind
of way of interfacing with JavaScript so
you can also write your JavaScript and
kind of interface with elm and I think
people are using it for writing Ajax
call and i don't think i have tried so
yeah i'm not sure i know you can use
markup oh sorry mark down as a kind of
Thursday's syntax called markdown which
which is can be transformed into HTML
and this syntax is supported in n
programs so you can use this I'm not
sure if you could embed just plain HTML
syntax with the braces
I don't know I way to do this to be
honest yes I are just having comparison
between this since I see us read so pure
stripped I don't know it very well but I
would say to like as a short answer I
would say that I showed you this three
perspectives functional web and reactive
i would say that pure script is doing
the functional part may be better
because it focuses on this part only so
it has those most advanced language
language features enemies may be less
advanced in kind of in the basic
language function facilities like dogs
high-five and types it doesn't have type
classes like your script right i think
your could have type classes right if i
define so mm doesn't have it but an has
those other things i think there was
someone writing a signal library for
your script which was based kind of are
inspired by by the signals now i'm
teaching alicious useless on the
lebanese you i don't be suitable or 13
14 year old get into a bunch of em next
year set a good way to you I
I'm not sure I understand is the
question is whether Adam is good for
teaching you are teaching you I yeah in
my opinion yes obviously it's an opinion
and it gives you did it's using a
certain paradigm the functional reactive
programming paradigm so it's different
from the traditional way of building
pages so it depends on what you want to
teach them but as a general of the way
of teaching programming and functional
programming I think it's great because
you can kind of easily show something
and see the result of what you're doing
just one more thing I may add just
remember that this is a language that is
thing being developed it didn't reach
the version 1 dot 0 breaking so if you
want to use it you will be a pioneer
more than it's definitely not yet than
mainstream language right
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>