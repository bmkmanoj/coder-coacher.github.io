<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;Learn to Touch Type&quot; Glove - Tetiana Dushenkivska | Coder Coacher - Coaching Coders</title><meta content="&quot;Learn to Touch Type&quot; Glove - Tetiana Dushenkivska - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;Learn to Touch Type&quot; Glove - Tetiana Dushenkivska</b></h2><h5 class="post__date">2016-10-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/E_9qIC4apMY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this video is from a touch typing
competition and the guy called sean has
won the competition by typing 124 words
per minute raise your hands if you can
touch-type keep you hand raised if when
you attach typing you're pressing the
keys with the correct finger if I could
say like that I have a friend and when
he is touched typing up noticed that his
right hand is one roll of said to the
right so whenever he needs to press the
keys why H&amp;amp;N he has to move his hand and
type those keys and then he move it back
and this is the way he types and I
thought well when I was learning how to
touch type i didn't like i was learning
how to do it with correct way and i was
wondering like if there is a way not to
learn how to press the correct keys but
also i have a feedback when you're
learning whether you're pressing those
keys with the correct finger if I could
say like that my name is the calendars
and get scanned I'm here today to share
my journey on building attached typing
system to build a system there are a few
steps you should go through so you need
to have a text type also you need to
record the key press events which are
coming from a keyboard recording think
events so you could tell with which
finger you're pressing the keys then you
have to get it all together otherwise it
and return the result okay let's build
it let's talk about architecture and
what the parts of the system could be
and what we are going to use to build it
to display the text i'm going to use the
browser because i know how to do that to
record key press events from a keyboard
that's easy javascript okay now it's
more interesting to record think you
went so here is when it gets nice we
have so I'm using Arduino C and a bunch
of sensors but i'll come back to this on
the way to stage and to analyze the ones
what could it be well this is an elixir
conference so of course it's going to be
in the leaks here but when this project
started it was on a hug day and I had my
elixir part which was doing all of the
analyzing them getting the events
together it was all built as a one
massive application which had Phoenix
all the logics everything together it
worked but when I got submitted to it so
I thought okay this is not quite right
and I was lucky to join informatics this
is the company i'm working for full-time
with the liquor very excited informatics
I specializes in combining monitoring
modeling and control of water supply
networks with embedded computing and
data management resulting in integrated
solutions for resilient adaptive and
come networks what that means put it
simply we help water companies prevent
bursts and extend the life of the water
network and when I joined this company
I've seen that the way their structure
in the code is that they have in order
from bro applications and each embryo
application responsible for its own
piece of work to do so I thought this is
a good idea and I should do that because
it sounds sounds good so I have stretch
structured my application into three
umbro applications it was to start a
little bit hard to choose what how many
applications am I going to have what's
going on which application and what's
going to be responsible for what so
and I had a key key ones okay so to
register them and pass it through I
could use a Phoenix this is good so then
I had to read somehow interact her from
with our Dina and I use zero for that
and this is its own responsibility and
then the logic part is responsible for
getting those events and analyzing them
together if you noticed the Phoenix saga
who work nice day it wasn't like that to
start it when I was first in the CAF I
drawn this architecture and preparing
for the talk and thinking what's the
part this is how the Phoenix vulgar
looked like you may recognize me because
keith has printed those stickers and
been given them away but this is come up
from that draw drawing / architecture in
the cafe so therefore architecture looks
like that we wouldn't stop here for on
time let's better move on to
implementation so we need to have our
project and be creating a new project
with which contain contains some bro
applications visit inside the project
create our first on bro application in
this case it's going to use Phoenix we
call a type hero web I was very
surprised and happy to see that in
Orlando chris has mentioned that Phoenix
now is changing the structure and
they're going to call the application
which contains Phoenix web so Phoenix
web type hero web I thought this is this
is good I'm on track then you fetch the
dependencies you it's running good and
now let's talk about the messages of the
data for so once we render the brows
that we have to send the message to the
Phoenix channel to join and we return on
ok
and then as the result just to show our
user that the game is loaded and ready
to be worked with interact with we just
show in render start button which looks
just like that so this is we you
probably have seen this code so on a
JavaScript we define socket will connect
to the socket we connect to the channel
notice that the name of the channel
games will be then we join it and then
when we have our the result back then we
start our game okay we are connecting to
the webby channel but we don't have it
yet what's let's created games will be
this is the message via passing so
you're making sure that this is the
message we are also part in march on and
once we send a joint message we returned
ok and the socket and this is how it
work so at the moment it just log into
the console ok so when I press so when
we join the channel we get our start
button and then the next step would be
to when we press the start button then
we are in the game ready to play so
let's do those steps with a clicking on
the start button and and getting into
the game so when we click the start
button it sends a message to a Phoenix
channel start game which is passing it
through to the core and the call is my
logic piece so what Phoenix is
responsible for is just to collect the
events and pass it through it's not
doing anything with the events so it
pass it through to the code to the logic
piece and the logic piece is then going
to decide what to do with that
the logic piece would know about the
text to render so it asked what it
should be returning the text and then as
the result we Brenda a text on the
screen this is how the JavaScript may
look like so when when we get the event
the stop displaying our start but and
then we push the message to the channel
and our channel is listening to that
message and once it gets this message
then it's going to call our logic copies
to get to get the text passing in the
socket because well it could be done
differently but the way I did it here I
needed a way to Phoenix to communicate
with another umbrella applications and I
could send messages to corelogic
applications application but it was I
needed a way to to talk back somehow for
this co-op l'occasion to send messages
back if it needed so to communicate it
needed to know how so providing the
socket you allow this communication to
happen so we get the text back the our
logic pieces in a number of applications
so we need to generate it another
application initialize it which is just
going to return a text it's hard coded
here by could be fetched from actor oh
okay from somewhere else if you noticed
here the socket is empty because as a
when the application starts it doesn't
know anything about socket but it will
on the way to stage when we do our first
code to this application and then we
start game so we are listening to this
matching message on our logic part
we get to text and we now have a socket
so we just save it to the state so we
could communicate on the right stage for
one application to be able to
communicate to another we need to add it
as a dependency so we add in our co-op
l'occasion dependency and then we just
run the text to the screen with the
JavaScript okay so this is that power
down so we could show up the text on the
screen now that we could collect the key
events the what happens is when someone
presses the key we get a message from
fazer with the key and ID Phoenix get
this message oh it's doing is just
passing it through to the complication
and the complication passes through to
the event handler and one hand Allah is
the guy who is correcting all of the
messages which are coming from from the
Arduino with the pink events and from
there keyboard and the it's going to
tell us as the result whether it matches
not watches so just send the key you
want we just push the took the key with
ID to the key channel to the channel
with the key message and then we
listening to that message and we get the
key and ID event and soak it well we're
not passing through we just have it in
the state and then we call our key press
function which lives in the budget part
and that key press function is
responsible for passing the key and ID
to the event handler ok so with this in
place we
say that we could send the key events to
the logic part and this is part of our
key texture is implemented and we could
move on to the next part the next part
sending finger event so to be able to do
that I needed to look at the ways how
it's possible so i looked at leap motion
I've looked at the different way of
trying to record your finger movements
but it was very hard to track whether
you actually press the key like you
could see that the hand is moving is
great but you can't really tell whether
it's pressing the key or not so then I
go to a little bit simple solution which
was having a sensor on each finger which
is going if you if you touch it then it
becomes conductive and then it could
send the signal saying that you have
pressed that this sensor to have a sense
on each finger it makes sense to have it
in the glove I always it's a little bit
hard to get it on your fingers and all
the sensors they are connected to our
doing a port and they sent send the
signal let's talk about building the
sensor it involves a few parts well stud
which becomes conductive when you apply
pressure on it conductive material I I
didn't know much about the wearable
electronics like llego but then we went
to a hug hug day which was about
wearables and there were so many
interesting things we conductive
materials threads and things you could
you don't even need to learn how to
solder you just sew things together plug
them in they are doing and it works
which I thought is quite cool thing so
to be able to censor you have to put
this
a start which is this black thing thing
between two conductive materials and you
should make sure that the very start
between those two conductive materials a
big enough so the conductive material is
not touching each other because if they
do them you would have a corrupted
signal which you don't want and you can
see it could build it pretty small so we
just put this sensor next to my finger
it's got tiny so you put it together and
the next thing is this guy so you need
to connect it to our dinner to be able
to read the data from those sensors this
is not too hard all you need to do is
connect one end of the sensor to one of
the port sensors usually are sending
analog signals so if you connect it to
analog port that you send the correct
data there are some components which are
sending digital signals but make sure
that with the senses it usually there be
sending on a walk one so pick up the one
of the analog ports on our dinner and
another part of the sensor at the end it
each it should go to their power and
well you have the connection with them
which goes to the analog port it should
also go to the ground if you forget the
ground it's not quite good it doesn't
work ok and to terror Dina that it's
supposed to be reading those their data
which is coming from sense of you
rightly or program which is saying that
ok i'm using the unlock pain a zero in
my case if I could be any and then you
just read the value coming in so it's
going in this case if you see the
serial.print it's just going to print
whatever value comes in
and this is how it works so here I'm
just trying to press this sensor so
whenever if whenever I am not touching
the sensor if the value is around 10 and
then whenever I apply pressure it's
around what is it 600 and also the
values are increasing more you apply the
pressure okay the problem with that
program is that if you keep holding the
pressure then it will keep sending the
values but if you want to just register
the event ones you need to make sure
that you have some condition checking
that whenever someone triggered or press
the key just just register it once and
then register it again when they take it
off and press it again so you don't have
the events coming constantly you don't
need that and with that one pressure you
have to build 55 tools sensors put them
on the graph or add a little bit more of
C code so you have add the code for each
finger each sensor and with that in
place you could then test it and see if
it's working now this is my leo test I'm
trying to press the keys and this is the
values i get so it's just sending the
the number one or two dependent with
which finger I'm pressing which which
senses sending the the value okay and
this is the the part which which
registering their finger events done at
this point it's quite satisfying that
you could actually get it in
nvidia allows you to it brings you more
energy to carry on and see it all
working together so then you moving on
to the part which I was really wanted to
to work with the Alexia part so once all
of the JavaScript and well sensors work
site in a cake with JavaScript our
senses and Alexia part so Before we jump
into Alexia part let's talk about the
terminology i'm using so we could follow
through the code snippet so when I say
finger I mean the finger number which
comes from their dinner so be just
numbers like 1 2 3 depending on the
finger and depend on how you count it so
in in Ukraine via counting 1 2 3 but in
England people counting from these
fingers suits be confusing then the key
the key is the event which comes from
the keyboard this is the key pressed in
the keyboard and the latter but it is
them the current to attain attacks which
you supposed to be pressing so all of
the much in logic is going to be against
the current item ok let's talk how we
get those events to our event handler so
let's pretty straightforward we have our
ordina then there is a library which
allows us to interact with our dinner
and we are getting with the help of the
library v we get the event from our dina
then we pass it through to the core and
this is in this part we also log in the
event number 0 ID so we know the number
of events which coming through so then
we whenever we get two events together
having ID from one event and another one
we can then do our match so we get this
to the call and pass it through to the
event handler and then even handle is
going to do all of the hard core staff
trying to say whether
much as a lot okay the OP we are missing
so we need this another umbrella
application which echoed type hero
cereal and I have a serial library as a
dependency the when I implemented that
with the cereal library it's good it's
working but now it's outdated and you
have to be using nerves URT library but
in this talk I'm still using cereal
library and if you if you google cereal
library and you open up the readme page
it has a link to the new your tu library
which is helpful not before the talk but
helpful in general then we need to add
our complications as a dependency so we
could talk to it and then our cereal and
brew application could talk to our
dinner and get the values coming in from
it it's important to see that the the
port you are using this is the one you
using to connect their Dima if this one
is not the right value then it's not
going to work so just make sure you
could see it in our denied EU which one
you use and just check that it matches
and you using run the right one here and
so then you you connected the next step
is to actually get the events there is a
function helper which is going to just
take the data the white comes in and
pass it into the decor allergic part I
had too much on the number because they
had the coming in sometimes so I kind of
wine characters or empty lines so I had
to make sure that
imagine on this with the regular
expression and then I'm passing the only
the number of the finger to the
complication ok and now is the last
piece but the important piece the
umbrella que compre application so we
get event from the serial that finger
events get them to call from cool we get
them to handle and then within a handler
what we're going to do is we are going
to have a look whether we have the event
with this idea already or not if we do
then we're going to do some march much
if we don't then we just store it so
when we have similar way happens from
the key band so we have the day event
common name and then goes to the handler
and then we doing the the logic parts
and where they eat much not much to talk
more in detail about that and so I'd say
we have some text to type and we press
the the latter with a finger and the
signal came first from the finger and
it's going to there is a condition there
which is going to see whether we have
this this key for the ID which including
the finger in the mop so if we do then
we could pick it up and see if it
matches or not if we don't that we don't
need to do anything just store it into
the map and and wait till we get the
same event with this ID comment so we
could proceed so in this case we have
two events coming from our Dino with the
finger number and we don't have the same
event
for the key events with the same ID so
all the dune is just storing it into the
map okay what happens next we get the
event from the key and we are going to
see if the relevant event from the thing
with this idea exists so we get in here
id0 so we can do we have the event
finger event with id0 okay yeah they do
so let's pick it up and then pass it to
process and say if it matches or not so
we take it out from the mob it's not the
easiest thing to walk through well I'll
try to do my best to explain so we are
picking up the finger from them up and
then we are going to say if this finger
marches to the to the letter we supposed
to be pressing ok if yes then we still
do them the next much we just remember
that the result of it doesn't march to
the the key were much to the current
water Gabe let's remember the result and
then depending on all of those
conditions will have a different types
of the result it should be that you
pressed the the light is supposed to be
present with the correct key correct
finger or you just press some random
things on the keyboard which is no much
which is a easy to understand and then
the one will share a bit more trick is
that you could have pressed a pic with
wrong finger but correct key or it could
be the oppressed with the right finger
but wrong key so this is all comes to
the result the results four of them
okay so there are few functions which
help to do that so I don't have here the
actual costume co-op action taken
because it's something we could skip but
what happens he is that once we get our
key event we pass it to the handler and
then when we have our finicky event we
also pass to the handler and the hand
way is the one who is going to do the
decision about much so there is an event
struct which is going to add the key
events if when they come in and the
finger vents when they come in if ID
doesn't exist then we initialize it just
with the empty map struct and then when
we have the event we try to get the look
if we get the key event we try to see if
we have relevant to that thing event the
result of this could be either knew if
the the key does not exist or an actual
event so if we have so then we passed
the event all knew the result of this to
the process key function and in the
process key function via part in
matching on the result so if we don't
have the if we don't have that event in
the map then we just add it to the map
so it's there if we do have an event
then we have to do our much so we call
much whole function and what my chonk
shun does is just collect all of the
things it needs to merchants oh it's
giving guide estate and pass it to our
well there is a module Machar which is
doing it all of the match and
we also the current item we are getting
from our higher level so we have to go
to it to get the current weather so we
could pass it to the matter so with
those three will get a result what
happens in the match module let's go
through this so we have our much
function which is accepting kievan gain
letter and the match key is going to say
whether Kiki over too much so it's true
true false and similar for the finger
it's going to say true false the thing
is with the finger how would it know
whether the whether this finger is
mapped to this key so there is a map
with finger numbers which are just
created myself but ideally you could if
you want to learn a different way out
and you know that the keys are placed a
little bit differently you could
construct this map yourself if you want
to learn a different way out but ever
used qwerty one so then we get the the
key from the map and then we're going to
tell the day or not much though it's
going to return true false and the
result of total much is going to be one
of the items which is no much know much
or some of it much so then it returns
the result at the moment we just
inspecting it but we'll come back to it
and you have to after you done the
processing you have to make sure that
you cling to your map so you don't have
those events that and well if you if
your mob grows then it's not going to be
easy for you to fetch the events in the
future so you try to keep it small so
you clear it up with the events you've
processed
so you delete day one this is pretty
straightforward you just pass to delete
to the mob okay and then you just
written remember to return no reply
because this is a handle cast okay this
is good so the next step would be to
notify the you I've the result the way
it happens is that one you get the
result you pass it to the core then from
there you pass it to the Phoenix channel
Phoenix channel then pass it to the face
and phaser renders the result the
browser so we called we call even hundra
handler result our call function person
in that the result which is not on and
the ID and we are listening to that
message in our higher level module and
here we have to remember that if if a
person has pressed the correct key
correct finger than we have to remove
this current water from the text if he
has made a mistake then we should keep
the text as it is so here we just check
in and making sure that we removing it
we just take it out from the from the
text if if it's correct okay and then we
get the result and we broadcast it to
the socket we have sockets in ours in
our state so we use that and then be
render it to the UI okay let's see how
it's all working together
so I'm highlighting green the whitest
which I get correct and then here is the
one which made the mistake but pressed
the wrong key or finger and if
everything is wrong I highlighted red
like that
okay and that says this is the end of
the talk what's the word summarize it so
when people talk about lixia they often
say that alex is functional faltaron
distributed and I think they're missing
one objective which is inspiring before
Alexia I didn't really have too many
side projects but once I start playing
with the leagues ahead what's up ID and
been really fun if you get to play with
hardware especially when you plug in
together software and hardware and
becomes really fun and if you feel like
you want to have some fun hacking on
things hard ways is pretty
rewarding another thing is whenever you
structure you application goes into your
system think about the umbrella
applications and think about the parts
you can pull apart into its our logical
pieces and think how they may interact
and to think how they may interact it
helps to draw those data for diagrams I
was struggling when I separated the
umbrella you didn't define what each
Umbra application is doing I was
struggling to define the API for each
application and what it's going to pass
but drawing those diagrams help toward
and lets it thank you very much this
project is available on github and i'm
on twitter thank
ok
hi I'm cool talk and lovely project I
was wondering did you then define
whether you were getting the key events
or the finger events first and whether
they kept swapping around or I was just
wondering is it faster coming from
javascript / days faster coming through
the serial it depended sometimes it came
from the JavaScript that I had like a
few ones and sometimes the finger vents
will do I and but another time had the
other way around so I couldn't really
say it was just like randomly coming
how did you deal with uppercase letters
because you have to think do finger
events and one key event yeah that's a
good question so I took like that I
don't deal with those things and I don't
deal with things like when they're the
key ones coming become some synchronized
for some reason so it was just a happy
case project</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>