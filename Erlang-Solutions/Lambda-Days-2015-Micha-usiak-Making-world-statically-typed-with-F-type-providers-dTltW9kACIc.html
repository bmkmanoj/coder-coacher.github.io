<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lambda Days 2015 - Michał Łusiak - Making world statically typed with F# type providers | Coder Coacher - Coaching Coders</title><meta content="Lambda Days 2015 - Michał Łusiak - Making world statically typed with F# type providers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Lambda Days 2015 - Michał Łusiak - Making world statically typed with F# type providers</b></h2><h5 class="post__date">2015-04-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dTltW9kACIc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi how are you all right so the main
page of the lambda days there was a
breach and I were like bridges I put
pictures of bridges on this presentation
too I picked this one for the start this
is very like lambda like look at some
more back at bridgend Devlin's one of my
favorite bridges in the world so I also
like this picture because it shows off
of my homes right now we're somewhere
around here of the of the picture i
originally come from here in northern
Poland and now live in southern Sweden
and I work for these guys usually
writing see sure code for a web
application on the back end for a during
night I turn into vampire and the right
half shrub coat and drink java
developers blood and when I'm not doing
any programming the crazy stuff like
flying gliders it's my weekend two weeks
ago so yeah f sharp the language I see
the audience I could ask who knows the f
sure but probably most of you who
doesn't do anything good actually all
right good good also we're going to do a
very short intro what's the language
about what it's that and why and it's
not a brush its action so every was
created in 2005 but the Microsoft
Research can breach don't sign was like
the main person behind it I just a few
official agrees in thousand ten i think
we've visual studio 2010 you have to
install it to it and it's spike in
individuals to do since 2012 it's a
statically typed language but when you
look at the code you don't really see
that at the first point the first time
because it is very strong mechanism type
type
inference and in very many cases you
don't have to specifically say what type
of users it will figure it out by device
you're putting their it's a functional
first language what they mean by that
it's not pure functional language they
decided to drop some functional rules to
make it actually useful but you can also
write object-oriented code with F sharp
but it's not the main idea it's
completely open source and it's now the
code is now like in the community there
is f sharp foundation that they occur up
the code and everything's around it you
can became member and it's cool it's
also dotnet language why this is
important is that you can start using a
trip with your existing dotnet coat like
written in C sharp old or vb.net and you
don't have to rewrite all the stuff from
scratch you can just start writing some
me up models and after two to include
into your organization I have to go very
deep with it and its first US citizen in
visual studio and also some are in
studio it works very well on mana we had
questions over on the conference
actually in my opinion it has much
better support in somewhere in studio in
terms of tooling because submarine has
much shorter release cycles and they use
what community produces and a shark
community is very productive in terms of
to link and other stuff so I'm saying
that it won't work and model is not
really true and one of the most
impressive features web shirt that I
really like our type providers and their
it's really hard to explain what that
but I'm just citing the the research
paper written on by microsoft research
that you can treat them like compile
time component that injects type into
compiler
and it's it's made without code
generation it's not like with some tools
that give you like tooltips by
intelligence by creating code it's it's
more about compiler plugin that gives
you access to external world and when
you write type providers you have to
provide both signature and
implementation for accessing external
data source the fact that you get
signature allows you to use things like
intelligence and you can do what we all
dotnet developers like like dots driven
development we don't read documentation
we just pressed out and figure out
what's going to be next and one of the
ways you can write take providers that
they can provide knives on demand so you
don't loud load everything into memory
but you have like some lazy loading so
every time you press dot it loads some
more data from internet or external
source or memory or something like that
so I'm not going to do more talking
we're gonna do some demo and also apart
from bridges I like planes so this is
gonna be very aviation-related demo and
we'll prob we are all programmers so
probably a we all dream of creating
startup sorry I have to turn it off go
to visual studio and everybody who does
startups go to San Francisco right I
want to be smart about it so we're gonna
use HTML type provider to search for
cheap flights San Francisco we just
slowed the references to make sure it's
going to work so what the way I like to
work with a shop is using F sharp
interactive it's not nothing you not
nothing new for people using functional
languages and generally programming
languages that are that have rebel but
when I speak about it and show it at
like generic data
conferences polite but you probably know
how I blackboards I just can run random
pieces of code in the wrap it can
execute it without doing any program
classes anything I can just run code and
I can do the same by just highlighting
code and physical enter in visual studio
so what I'm doing here I'm just
acquiring a Norwegian website of the
like airline and this is actually not
the HTML type provider but it's part of
HTML type provider it's a parser of HTML
documents so you can go to like all td's
that are in the website or go to all
list elements or tables and that stuff
and fight some information I I knew how
the exact information looks so I wrote
some code to access those and then I'm
just writing stuff for a flight I'm
looking this is flights from krakow to a
pole plant which is close to san
francisco and i can have them for this
price this is the flight departure and
arrival so yeah we can parse HTML but
this is not the most impressive part
because yeah yeah it's very dirty cop
now as I mentioned I didn't really lose
type provider this is just packaged I
provider I'm going to go next to the
actual type provider so every time you
use type providers they usually create
it like that this HTML and those
triangle how we call them English good
yeah angle bracket so for this one I'm
using every time you lose most time
providers need some example two parts so
I am I I saved one of the results pages
to get like HTML structure to so now
when I'm loud loading this type provider
or induce the lines it will give type
provider information about structure of
this website so now I can do something
like that and now we're going to press
that the dot I can get some elements
from the from the website so this can
like in a smart way parse things like
lists tables and some other structures
so I see that I have some lists here and
they usually get somewhere why we were
naming if they're not named in the HTML
this is called least three this is some
values so I get least what values that
will be held in this list sorry yeah and
when I call it I get some information
that we've been on the booking sites
like which plane we're playing and how
many stops we were having that's cool so
it's even more it works even better on a
website those were like properly
structured because Norwegian website is
not very nice properly structured HTML
but uh but I needed some real-life
example so
that's it so the stuff we get it from
here that we're going to fly the boeing
787 dreamliner which doesn't have a good
like press opinion people seems to not
be very happy about so I'm wondering if
they if they fly at all if this is safe
to fly displaying so first thing I want
to do I have my own like database of
flight I've done before so I first we'll
look in the flight I've done before if
if I fly this plane it was I feel safe
in it so i used for this HTML tag
provider I have my own database where I
keep my my planes so I'm going to love
it the way we used SQL a provider is we
also initiate with angled brackets but
for now we use like usual Dobbs net
connection string for a for data so for
sorry for SQL it's looks like that so
I'm going to try to load it and hope for
the best yeah I have something so now I
can from my coat just travel through
scheme of database I have on a bit not
something didn't quite work that's right
on top to error
I don't need to have a drawing I think
it should why isn't working I'm not
happy about this anyway ok and now not
really ok well let's do this you'll
succeed it ok we'll have to assume it
works because it worked before maybe so
what you can do and I can show you can
go through all tables you have and you
can just travel through them using just
from cold which is pretty cool so the
strange quotation you say you can use
when you have like special characters
that are not like character is good for
a program like spaces so inaccurate we
have like with triple tix notation that
allows you to use characters that are
like space and other stuff
yeah yeah exactly so you can like run
normal queries on the using this
basically using clink you and do stuff
through it if it works so I'm going to
just spoil it that I I never flew 787 so
I have to check another way to figure
out if this plane is safe to fly and
there is this website flight roller 22
friend for but show you leaves traffic
of flights everywhere and they claim
that they don't have api and you cannot
access the data but we programmers right
and and we can press f12 and then we can
see something like that this is
interesting this looks like jason so so
we're going to use Jason type provider
but the true fact is they even couldn't
really cool off real Jason it doesn't
really work so i have to write some code
store to transform it to real Jason so I
just going to quickly run it and I hope
it's gonna work I put it here if Adrian
doesn't work so uh just so you know it's
nothing interesting right now because
internet works yeah yeah I'm just the
code i'm clicking crowd nice that's very
important so oh yeah so you're going to
use Jason type provider so again Jason
died providers like every other type
ravari you need to give it some example
of code so i just put it one line from
jason with fields i'm going to use like
position heading altitude speed and few
other things and
yeah and we're going to create the type
and parse the actual JSON taken from the
flightradar24 right and now and now we
can do stuff like querying truely's like
let's let's just try to get first
element from the sequence if we get
anything at all yeah seems like we get
something like we can see which aircraft
is this so this is some weird name for
aircraft so I don't know what's that but
uh yeah we can sit and then like
altitude went flying and it's it's
fifty-four thousand feet it's very high
for airplane so by chance it can be some
military airplanes because sometimes
they forget to turn off the a dsb you
know transponder which then get caught
by flight rather than before so
basically i use it mostly for tracking
military planes on sky because i just
filter out all the airliners and boring
stuff and look for interesting stuff
yeah so for example we can look for a
i'm just going to filter or all Boeing
787 and and just write them so yeah
should get some nice list let's expand
here yeah there's quite a lot of them
seems that they're not falling from the
skies like flies it's good it's good so
let's just for sure check if there is no
Weejun right so I'm checked by flight
numbers and I know that Norwegian starts
a flight numbers with dy oh that's I'm
doing this filtering and yeah that's not
good news because there is no anything
fine but um then maybe there are
actually on the ground or something
yeah I'm feeling quite confident right
now that I can fly this plane so that's
good so I went to San Francisco long
story short we made millions on our F
sharp project and startup and I got
bored flying airliners I figure out I
can buy my own plane right now and now
to do some research I can go to a free
base type providers three bases are like
big database of things their diet a
structured in many ways it has many data
from Wikipedia all that scraps so uh
there's many many things in freebase so
I'm gonna just fired up and show you
what kind of categories is all right yep
thank you alright so let's dig dig into
freebase what we can actually see here
so sorry this is what small phone but
you can you have categories like arts
and entertainment Commons Science and
Technology society special interest it's
like all data so we can look like sport
ah cricket I have no idea about cricket
let's explore cricket cricket leagues
okay individuals okay interesting and we
have like national cricket league with
Christine what Connie deck from that all
right that's interesting so there are
some cricket lakes good maybe something
else like ice hockey ice hockey is very
good ice hockey players
I spoke at conferences let's see sorry
ice hockey ice hockey conferences yeah
okay but i don't c lambda days here so
we probably won't play hockey here
alright so we can for example access
like database of aircraft and this data
is actually taken from a from wikipedia
so let's take it and i know for a fact
there is 9500 90 kilometers on a bike
straight line from krakow to san
francisco so we're going to look for
some airplanes who can fly it without
like you're not refueling so i wrote
quite a ugly piece of F sharp to query
planes that have a range over 10,000
kilometers just to have some backup so
let's run it and I could quite a big
list of planes that includes like
Russian strategic bombers and like Air
Force One so I guess I probably want to
be able to buy them on a free market it
can we open it quickly
so let's narrow down the results to get
only business jets and I got to it's
like bombardier global express in
gulfstream g550 xpress I paired more of
them because interestingly this query
sometimes turns our different
information that's because how this this
works is like its cash is some
information and it's not fold of the
type provider is the way that freebase
works it just doesn't provide consistent
results that's that will be queered but
um yeah so I pick a global Express just
I don't know I like the name or
something and yeah so I can for example
sea cruise speed how far can I go it
says 251 in meters per second it gives
me float with a unique one of the cool
things about observe it and you can have
like more complicated types you can get
a other units of measures information to
the to the float or integers so problem
you can like be saved from comparing
males miles two meters all this kind of
stuff this is not talk about feelings of
matters just interesting so yeah I think
I'm going to buy this plane I like it
it's fast and cool but now it gives me
another problem to solve because I know
for a fact that this play needs around
6,000 feet of air strip due to start or
land so we have to find some airports
for that for that we're going to CSV
type providers because I found like huge
CSV file with database of on airports
and air strips so we can get some data
from there
oh yeah again I wrote some boilerplate
code for just counting distance of stuff
it's not necessary for us to dwell into
it but now i'm just writing some query
for this a csv file so the csv file
looks like oh yes oh this is like
websites our airports dot-com or
something like that yes yes all legal so
this looks ugly I couldn't really get
anything from here right it's like
avelina showed yesterday it's really
hard to get with csv files so i'm gonna
do some parsing on it i'm just going to
look for a airports near practical data
that have sweet table rain runways and
by that I defined few things that it
cannot be closed runway we want to be
able to land illegally accessible air
strips also I set up I will be longer
than 7,000 feet and yeah let's run it
all right something's not here dragon oh
yes cool
so uh yeah I found like four airports
it's like coming shlonsky I have no idea
where is that there is katowice
International Airport ostrava and prayer
of air base this would be good if I
bought a strategic bomber but it
probably not good for ad for a business
jet yeah interesting there is no crack
of airport I would actually expect here
but uh yeah if I look for a ver data
like in the u.s. that the reports have
more information about surface so we
don't by accident pika like grass
airstrip but it's not that the database
doesn't continuous data for European
airports for some reason so so I
couldn't do that but uh yeah that looks
good we have a we have an hour business
jet in the airport to store it I
probably could be cut a victim because
why not yeah so that was the plan for a
fort I provided for today but then like
two days ago Andrew I told me about
squirrel dart providers so not one
squirrel but uh this is ty provider but
those written by a I don't remember who
do remember Andrea Costa yes so Rose
McKinley ik roz max squirrel so uh I
just build this type provider today and
just put it here as a reference oh no
something oh yeah yes like that and now
i have like squirrel and when I
compressed off I can squier leaf I so so
let's queerly by SP reapply more and
then
Rhodes unica and if I screw up on more
it were droughts and and this is one of
the examples of like infinite that
providers so it can go and go and go
another one that's interesting is like
don't sign facts when you can get facts
about the dunce I'm the outer of
language so yeah so so you can see
actually that it's possible to write
type providers and if people do them for
something like that it cannot be hard I
can actually show the code for this one
because because why not it's squarely
fly
so the coat looks like that around two
thousand lines of codes but most of this
code you don't have to write by yourself
because there is something like Thai
providers started back that creates most
of the boilerplate we need another like
you don't need most of it like you don't
have to write most of it because it's
already there in the starter pack but
it's a lot of code and it's not like
super obvious how it works I have to
have some knowledge in a type system tre
and it's funny it's funny that Thomas
Patrick laughing at me so yeah that
we're type of horizontal show and we're
gonna get back to presentation too I
don't know show you some more slides
yeah and there are other type providers
there's like word Bank type providers
which is very similar in an idea to a
freebase tight providers it's a lot of
data but it's more like statistical and
socially social logical data on many
countries people and history and stuff
very very interesting source of data
there's XML I provided that allows you
to parse XML Oh data things to access Oh
data compatible endpoints Hadoop are
that was shown by Evelyn yesterday wsdl
that allows you to call like wsdl and
WCF services and like explore them I've
scripts and many many more
so you can like run type script is on
the inside of F sharp like typescript
code using typescript I provider yeah
yeah let's do some learning resources so
these are some links that's like useful
for learning either F sharp and
generally type providers try the shirt
is a is a page that you can basically
run effort on the page and learn some
things that shopkins is a set of failing
unit tests that you have to fix and by
this you can get grasp some basics of F
sharp syntax action for fun and profit
is very very good website but for like
reading stuff on on a script it's
written by Scott washing and that's ads
very awesome source of knowledge there's
a shop software foundation that has a
lot of other learning services so it's
also very good I also included the link
for a type provided white paper that
it's like 20-something white paper
explaining how it works internally I
read it like four times and still don't
understand it fully but at some point I
will understand and there are some blog
posts and of course you you look at a
hashtag effort on Twitter there are many
nice people there and a very nice way to
ask question and get to know new stuff
some dogs I suggest watching if you want
to get into F sharp or type providers
one of them is by atomic battery tech
really nice talk
and thank you and I'll take questions if
you have yes Charlotte more general
internet on link and Marcus rescue me
sisters so do is what i use it is
belching into making because lot of
people going on and what's the most
recent table with so uh for for aunty
recently it was just just mono but for
some time manos in very close
cooperation with microsoft's wait so
they weren't dragging behind like a few
years back ago so manos quite good but i
think like last month microsoft and also
dotnet core that they will they will
open open sources and it runs on linux
and i didn't really experience how it
works but from i hear it works pretty
well yeah yes sure this works that's
what it should work it on extra because
it's like it compiled to the code that
runs on the platform so if this is your
keyboard OMG interested in the
we like a really good i know male
sterile and everything but i just bought
the roping for microsoft wish to stop oh
sure well no the glass or releasing
chocolate especially for Vinod that's
basically wearing it with it is going to
be one block away yes the action
aggression what's at stake I know I
don't ever see you soon bwca I mean this
is really after so many F sharp sessions
on this country
you still have doubts I mean you can
pick airline cool thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>