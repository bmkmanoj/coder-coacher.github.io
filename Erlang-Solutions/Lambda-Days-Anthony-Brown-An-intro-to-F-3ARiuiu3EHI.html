<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lambda Days - Anthony Brown - An intro to F# | Coder Coacher - Coaching Coders</title><meta content="Lambda Days - Anthony Brown - An intro to F# - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Erlang-Solutions/">Erlang Solutions</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lambda Days - Anthony Brown - An intro to F#</b></h2><h5 class="post__date">2014-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3ARiuiu3EHI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone I'm anti Brown just the
obligatory about me section I'm a
student at the University of Southampton
I do electronics I also really games a
nap things under the name blukic studios
right main event f shop so how many of
you written a shop or write f shop
that's good I guess in one way so right
f sharp is a strongly typed statically
typed multi-paradigm functional first
programming language which runs low net
framework it's done by Microsoft but
it's entirely open source so it's not
the evil side of Microsoft so you're
fine yeah and it's got you know
functional languages has really got this
mindset with people of it's a functional
language so yeah I can't handle this but
from having use their sharp up a sharp
is more like functional program for the
rest of us you know you might you don't
need to know and have a PhD in maths or
whatever and be this genius at math to
be able to understand it but I'm not
going to just stand here and show you
slides demo time so I mean yeah nice bit
of ascii art to separate them because
that's slides um well first thing is i
guess functions were pretty important
part of it and really lightweight crate
so there we go add a be okay and it in
first types on everything look at that
reckons it's an integer which I'd say is
about right we've also got blunders and
well we can partially apply functions as
you'd expect
we can even define our own sort of
operators so there you go forward pipe
XF because FX set means we can create
more readable expressions to me that's
pretty understandable procedurally step
through the code and I can you know
easily see what's going on there we can
also great yeah additional functions to
compose functions once again really
makes you sort of bind together all
these little aspects that just make your
code more readable and easier to
understand and you can start to combine
these things so we're all good software
developers here so we all write tests ah
and if you've ever done any oo code
you've probably had tests something like
that at the top and just that title of a
test just does not appeal to me at all
but a shot function names can be
anything you like yeah so there you go
function names got spaces in and things
like fold pipe operator mean that my
tests are actually pretty readable and I
can instantly understand what's going on
that five plus seven should equal 12 and
I hope it does types so as I said it's
statically typed strongly typed and
we've got plenty of types like loads of
types getting basic record types and we
can get type inference on functions like
that as well it seems that we're taking
the user type and well it's exactly what
I wanted it to use we've also got
discriminated unions so enums on
steroids and if you've ever done any o
camel you'll probably notice that a lot
of this is similar and F sharp can even
output directly to a camel if you want
it to
or it outputs a subset of that shop toy
camel two pools are another really easy
thing to make an f-sharp if you've ever
done c sharp or any other language on
the.net framework pretty much tuples are
horrendously bad to make and
horrendously bad to consume but a sharp
just you know brackets around what you
want simple option types as well mean
that pretty much got rid of no reference
exceptions entirely in a sharp for me
I've not had a single crash from no
reference exceptions ever I think Pat
and match all the things big thing in a
show up and you can pattern match on
pretty much anything so two pools yep
multiple parameters yep we compared to
match on discriminated unions we can
pattern match on record types we can
pattern match on lists and in kinda
crazy ways as well so we can detect like
four members or we could substitute the
X for a seven and in the case that
matches w 7 Y Z we can match on that as
well and then we've got the classic head
tail approach as well but we can start
to extend pattern matching through
something called active patents so here
we go just got even in a nod and then
when we use it in a pattern matching in
the event that we were to have it
commented out we'd get a nice little
warming from the compiler saying you've
not got any matches on this so you know
you pretty much get rid of that kind of
opportunity for bugs to fall into your
code from doing your minor little chat
but because you know types are really
easy to create in a shop it makes it a
brilliant choice for domain driven
design so you probably had things like
types or you've probably had cases where
you know you have a username that your
username can only be lowercase now
normally you might add an attribute to
it or whatever whereas you know with a
shop it's a single line to generate our
type and we can't you know then lead to
or we can't get problems from this so
here we go in the event that you say
allow users to set up accounts and you
want and your users can only have lower
case user names for some obscure reason
if we try and use a regular string it'll
fail so we can start to you know hide
away our actual domain logic or our
domain logic and our means of creating
you know our instances of that logic so
we're not sort of combining all of your
models and your actual code which is yo
hiding all of your extra bits that you
don't need now how many times have you
been sat in Mission Control watching the
rocket go up and it explodes in midair
no just me and you look into why it
turns out that somebody passed
kilometers to something that should have
taken miles you know something which
your test should cover that sometimes
they don't it to be really nice to be
able to get these kind of things at
compile time winning it you know get rid
of that kind of run time
is it going to work is it going to fail
so in a shop we can create things called
units of measure and it's just an
attribute add it to a type so now we can
create something which is say 10 meters
and we have a function called add 5
meters it assumes that X is going to be
of some type meter so if we were to try
and pass it a regular old integer it's
going to fail at compile time and say
look you should have done something
different here yep it's just an
attribute yeah so f sharp or NC shop
usually attributes is square brackets in
a shop you just have to add the greater
than less than and as well but I said
it's multi-paradigm so we can get
object-oriented constructs in there as
well and it's not very much code to do
it either so there you go two lines to
define a basic interface and then four
lines to define a class which also
implements that interface there's no
fluff of brackets or anything like that
around as well so you can really start
to cut down the amount of code that
we've got used and we can also generate
anonymous types which implement
interfaces which can be quite useful at
times ah and yeah like I say it's just a
lot less code than what you'd write in
any other language that runs on the cell
are and we can also decide to cross the
streams so you can write our constructs
with functional constructs as well you
know so we can take our code types and
we can take them with interfaces if we
want to we can take discriminated unions
take them with interfaces so in the
event that we've got message processing
systems you know we could have a general
I message and there you go we've got an
error that it's a teapot for 18 which is
an actual HTTP status code I might add
and then we can just pattern match on
types as well see ya like I said pattern
match all the things a sink support is
also included straight out of the box ah
and it's just done in the form of a nice
little monad where once again really
easy very little difference in how you'd
write your async code over how you'd
write your regular a shop now this is
the big one so this is one of the things
that I found that F sharp has got over
the top of pretty much most other
languages tight providers so you might
be in a situation where you've got some
some string and it turns out that string
is Jason now you've usually got two
methods of getting that data you can
either query it a bit like a dictionary
and just put random strings in there and
hope you've got the right strings or you
can have a code generation step and so
it till you know generate all of your
API level code and all your models for
that API from adjacent string but then
if that changes you've got to do the
entire code generation step again to be
nice if that was automated within the
language well F sharp lets us use
typewriters to do just this kind of
thing so here we go I've got two strings
of Jason here
and we're creating types from the Jason
and loading N and now we get fully typed
access to it so yeah here we go sample
one dot age value or the actual value
and the name which maps directly onto
here but we also get types on those as
well so the Jason provider is there
inferred based on the context that the
age property is going to be an integer
yep a compile-time feature so yeah so in
this case if I was to change my API here
and say it returns na instead of name
and I now hit the dot it's automatically
updated and it now says you've got this
property and a rather than name so if
I'd got you know name in there it could
give me an error and say look it doesn't
exist and so I can then go and check
that at the compile time stage and you
know this type providers available
pretty much everything now you've got
things like the sequel type provider so
you can jump in and you know access
sequel databases whether it's my sequel
sequel server postgres pretty much
anything you've also got type providers
for things like Excel so you can load in
an Excel spreadsheet and get typed
access to everything that's on there
you've got tight providers for HTML so
it will look through your HTML find all
of your forms and then provide strongly
typed access
to the data within those forms but you
know I'm going on to that right now so
type providers yay it's pretty easy to
make how many of you are familiar with
the language brain yeah how many of
you got legacy brainfuck applications
yes yeah and it can be a bit of a pain
to switch over from him contact you know
in the case that you've got all these
you know record processing systems
written in brain you just don't
want the hassle at converting them to
something easier to read like you know
at sharp or scholar so I recently made a
brainfuck type provider you know they're
not difficult to make and this one took
about 30 minutes so we can just here's
an example vo which is reference the dll
we give it a string it's a lot of code
just to do hello world isn't it so now
you know we can run it in the
interactive window and yeah we've got
access to the types there so we can then
do t dot console output and there's what
the program would have generated we can
also do things like we can access the
memory directly as to what its generated
on in the program and I've had quite a
few suggestions of you know how to
improve it further which working off a
minute I that you know type providers
don't have to be useful I know people
have been using type providers to do
things like
taking a YouTube video you convert the
video to ask you out and then use the
intellisense comments in Visual Studio
to play the ASCII art of the video
people have been doing other things as
well so here we go the choose your own
adventure type provider you know you're
familiar with the choose your own
adventure books we can do a dot intro
there we go we get a nice little story
through the intellisense comment and go
through it tells us a story based on my
selections of the code as we go through
visual studio there are you know useful
type providers as well so here we go
we've got the World Bank brought you
know provides an API and here in a shop
we've got strongly typed a fesse to it
so data dot countries dot strongly typed
access to all the countries that are
available on that API and we get
intellisense and this is as you can see
just running in a web browser and then
you know you can start to plot cheery
things like the maternal mortal
mortality ratio next thing well yeah ty
providers as you can see incredibly
useful and just save you so much time
and hassle when somebody decides that
they're going to suddenly change part of
their API and you don't know until some
user somewhere comes to you and says
this crashed here and you spend ages
looking into it and find out that
somebody has changed their API here you
know you'd compile it should fail at
compile time
next thing computation expressions so
the async stuff that was computation
expression there's also things for like
sequences so there we go we can yield
strings and we get a sequence of strings
we can also add our own computation
expressions into the language you know
so we can start to do things like create
custom domain specific languages within
the language so here we go few lines of
code just to do basic logging and now
whenever a variable is assigned and
bound with the let ! you get a nice
little log message output to the console
as well but you know we can extend these
further as well and you can start to add
your own custom operators in and these
custom operators then get visual studio
intellisense and also syntax
highlighting as well so he see the let
and the return highlighted in blue any
custom operators you made would also be
highlighted in blue and I predict I've
started using these as I said at the
start you know I tend to make games and
stuff but as a game developer don't
really have much of the artistic prowess
so to say so you can start to like make
domain-specific languages for artists
for AI and stuff you know so you can say
find the player then do this then do
this it means you get rid of all that
mess of switch statements and you know I
showed that example to somebody at a
youth group and he said I wish I'd like
that you know 20 years ago when I was
making games and he had something like a
10,000 case switch statement written in
C
and then we've also got things like
quotations which are a means of
extending the compiler pretty much are
there typically used as how you create
the typewriter and what it returns and
you can start to work with the
quotations here so it's kind of like cow
that it's essentially access to the AST
and adding stuff into the f-sharp
compile stage right so you've probably
all been SAT there thinking yes yes you
stuff to play with so if you want more
and you want to go further there's a lot
of a shop user group starting to spring
up I mean unfortunately we've got an
area missing here but I'm sure some of
you if you were to pick it up would very
much so like to change that I it's got
you know a lot to take off around major
financial points so New York and London
a huge and this a shot org which is the
F sharp Software Foundation where all
the resources you could want try F
shop.org to have F sharp examples in
your browser that's where i use the
world bank 1 and f shop for fun and
profit calm is a brilliant sort of sight
for the whole idea of getting f shop
into business and its applications
within business thank
yep um well it's only started to really
you know have the major differences
lately f sharp runs on dotnet framework
so you get all of the ones on the tail
I'll so you've got all of the dotnet
framework available to you um and also
you start to get things like thai
providers and the more advanced features
of F sharp which aren't available in our
camel yes I guess and the f shop like I
say the actual compiler does have an
option where you can say output o camel
code and you know or it checks for o
camel compatibility once more</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>