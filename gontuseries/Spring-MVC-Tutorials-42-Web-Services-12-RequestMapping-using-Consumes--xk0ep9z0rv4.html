<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spring MVC Tutorials 42 - Web Services 12 ( @RequestMapping using Consumes ) | Coder Coacher - Coaching Coders</title><meta content="Spring MVC Tutorials 42 - Web Services 12 ( @RequestMapping using Consumes ) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/gontuseries/">gontuseries</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spring MVC Tutorials 42 - Web Services 12 ( @RequestMapping using Consumes )</b></h2><h5 class="post__date">2017-04-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xk0ep9z0rv4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">guys my name is Hamish Gaurav and I'm
agree to come to Ceres in the previous
tutorial you learned how to test this
REST API in other words we learned how
to test this REST API controller method
so now what we did we made a put request
on this REST API and then we specified
along with the request the message in
the JSON format with which we wanted to
update John's record which is present at
the server and along with this we also
specified content type header value as
application slash JSON and why we
specified its value as application slash
a certain because this message whatever
we have included along with the request
is actually present in each is own
format so now when I am going to test
send what is going to happen this
request body annotation is simply going
to check the value of content type
header when it's going to find its value
as application slash JSON it's simply
going to make use of JSON little charge
which we have a put on the class path of
this project to convert this JSON
message into its equalent Java object
that is student object and when I am
going to specify here this whole message
in the XML format then I have to choose
here content tags value as application
of slash XML so now when I am going to
press send what is going to happen well
in this case the Chris body annotation
is going to check the value of content
type header and it's going to find its
value as application slash XML it's
going to use XML related charge which we
have put on the glass part of this
project to convert this XML message into
its equivalent Java object that is this
student object and all that whatever
I've just described in a very brief
I explained in detail in the last
tutorial now let's proceed further and
try to learn some kind of advanced
concepts related to request body
annotation and it's working because if
you observe this whole spring MVC
project supports two formats excellent
as well as JSON format and right
supports these two formats because we
have put related charge for these
formats on to the class part of this
project so these jars we improve it for
supporting JSON format
this char we included to support XML
format so the idea is whatever formats
this spring MVC application supports
this REST API controller method also
supports all those formats what
application supports and that's a reason
here client is able to specify this
method in the XML or in the JSON format
or whatever format this application
supports now what if we have a very
specific requirement that we want this
REST API controller method to support
only one format means here we want to
restrict decline to specify this method
in only one format and not more than one
formats so to do that let's say we want
this REST API controller method to work
in only those cases when the client is
specifying this message in XML format
only and not in any other format so how
to do that well that can be achieved by
making use of consumes argument with
request mapping annotation so how it
works let's understand that we got two
right here consumes and its value as
major type dot whatever format you want
this REST API controller method to
support because you want to restrict it
to support only XML formats so we would
choose its values application
underscore X underscore value so now
what's going to happen because of this
consumes argument we have restricted
this 50p controller method to work for
only those requests where client has
specified the message in only XML format
if this is going to find out that a
message has come in any other format
other than excimer then it's going to
simply throw an error it's not going to
work so this is the kind of restriction
we have imposed using consumes argument
but requests mapping annotation so let's
very quickly check this out so now
because we have specified its value
consumes value as application and this
quick sermon underscore value so when
I'm going to here specify message in XML
content types value as application slash
XML it's going to work properly see here
I'm getting the response properly so it
successfully converted XML message into
a sequence of object but here if I
specify here the message in JSON format
and change here the value from XML to
JSON what's going to happen well what we
expect after this change now what we
expected this REST API controller method
should throw an error and should not
send us a valid response see it's
working it has thrown an error what it
says is this ref TPA controller method
doesn't support content types value as
application slash JSON because it
supports only application slash XML
because of this consumes argument right
now here if I want to support only JSON
well in that can see steps we have to
follow you have to write application
underscore JSON underscore values so now
this supports only JSON so here if I
choose JSON then it's going to work
properly see here I am getting the valid
response but now if I choose here a
message in the XML format and change its
value to XML what's going to happen then
what we expect what we expect is this is
now supporting only JSON and what we are
sending is x1 so it is not going to
process this and it's going to throw an
error in this case so let's very quickly
verify this see it has to own an error
so the whole idea is overall application
is supporting more than one formats but
this left API controller method is
restricted to support only one format or
whatever you are going to specify as the
value for consumes key so in this
tutorial we just learned how to restrict
our sta-bil controller method to support
only one kind of format to be used by
clients while making the request in the
next tutorial we are going to talk about
response entity annotation paint again
alright guys a big thank you for
learning restate your concepts using
spring MVC framework with me if you have
any feedback or any constructive comment
please provide them give the video or
simply write to me on this email id for
all of your queries visit the like
button if you really like this video and
don't forget to subscribe to my youtube
channel go on to CBS and I'm going to
catch you in the next part of this
tutorial</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>