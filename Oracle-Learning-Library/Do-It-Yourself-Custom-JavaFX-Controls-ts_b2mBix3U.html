<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Do It Yourself: Custom JavaFX Controls | Coder Coacher - Coaching Coders</title><meta content="Do It Yourself: Custom JavaFX Controls - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Do It Yourself: Custom JavaFX Controls</b></h2><h5 class="post__date">2013-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ts_b2mBix3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">first of all I would like to say that I
don't know if you know everybody knows
that there will be a second talk today
about custom controls which won't be
about custom controls directly so it's
only a QA session with this guy coming
over there so feel free to join us at
three o'clock I think it's the same room
oh yeah a Obi again or about custom
controls and JavaFX and this will be a
QA session so that means we will really
do it just a very short QA in this
session and if you have any questions
you should attend the other session at 3
o'clock because this will be focused on
QA so there will be more time to answer
your questions okay you know I will also
be there so if you have some questions
now you can make some notes and just let
me know ok yeah unfortunately I was not
aware that the screen resolution is a
little bit different here then I was
expected to be so it might be that the
slides are a little bit shrink so I hope
everything is on the slides because this
is the presentation will be this is
mated with JavaFX as you can see there
are some custom controls on this
presentation slide already so the clock
and on the bottom of the slide control
so it might happen that something
happens right so we will see first of
all yeah my name is Gary Cobalt I'm
working for canoe engineering in
Switzerland and I'm mainly doing custom
controls in Java swing html5 and of
course JavaFX
and from these three drive effects is my
favorite definitely
so I'm blogging at harmonic code Autopia
it's not visible here and my twitter
hash as han Solo
underscore and I will try to tweet as
much as possible about JavaFX when I
can't
so this is the agenda for today I will
shortly go over what is the controller
what is the custom control what
separates it from a standard control
then how is it built so how what are the
ingredients of a custom control and you
can build custom controls in different
ways I just focus on one way and there
are other ways too I will shortly
explain what it is then I will show you
different ways on how to visualize a
custom control because this is for me
I'll have to do more graphical stuff and
that was the the biggest issue to figure
out what is the best best way to do what
right then I will show you very shortly
my workflow and just two slides about
what is a spring custom control and
JavaFX custom control and whereas the
difference and then this might be the
interesting part some tips and tricks
because this is the stuff I came across
when I was learning how to write custom
controls and drive effects and it might
be helpful for you too okay
ways to create custom controls there are
different ways you can customize an
existing control which is the easy part
right to take tour or you take a text
editor and edit a CSS file and apply it
to a button it's a custom button BAM
custom control that's easy then you can
do a composition of existing controls
together with some other notes shapes
panes whatever and create out of this
composition the custom control it's also
absolutely okay and I would recommend
this way for starting with custom
controls because it's easy and you don't
have to dig deep into the API you can
really just stick things together and
see what happens which is really nice
then you can subclass existing controls
of course and add additional features
this is possible for some of them you
can also subclass containers and handle
the layout and the behavior by yourself
but this is the way I will talk about
today how to create custom controls
because this is the as far as our now
recommended way to create custom
controls if you would like to use it in
a library for example and usually you do
not can create only one control but you
have a bunch of them so that's the
reason why we choose this approach and
this is also the way there are controls
in the JavaFX api are designed in this
scheme so something about a control
that's a standard control right it's
nice it's clean it works but what is the
difference to a custom control maybe
this one right it has the same
functionality but it has some additional
properties like you can measure the
temperature or it has something on top
to keep it warm so this is also a
standard control right it works it's
simple and this one could be the custom
controller so it's a little bit more
fancy so that means the difference here
it is not the difference in its behavior
but the difference is the design so a
custom control could also be something
that looks different that's net it's
also possible the custom control right
so that means we we have different
possibilities to define a custom control
but in the end it comes down to
properties design and behavior that
separates a custom control from a
standard control and this stuff is
represented by the control class skin
and behavior class in the industry
JavaFX control so if we take a look at
the control itself it extends control
which you would find in the API and this
is how it looks if you create my control
for example right you extend it from
control you create some property in this
case its value and then you see
something like defined style class so
this is
the CSS style class that will be used to
style your control and in the next its
here how can you see it yeah
and here you had this style class to the
control itself so what this means I will
come to that later then we have all the
getters and setters and properties of
course this is all the stuff that you
would find in the control class and down
at the bottom here you see the hint
where should the control search for the
CSS Styles in this file it's here the my
control CSS file how this works I will
explain in a couple of minutes so then
we have the stylesheet
the my control CSS which could look like
this is just an example and whoever you
are familiar with CSS whew okay that's
good because yesterday I talked to some
guys that deeply into html5 and first
thing they said
that's no CSS okay it's a little bit
different it has but it has a lot of
stuff in common with the CSS because
it's based on the CSS spec I think it's
2.2 well to that out something like that
so it's not under 3.0 spec but it
doesn't matter so if you are a little
bit familiar with CSS you really can do
that stuff very easy so and this is the
reason why the control class has to know
where to find the CSS style first of all
it has to know what is the CSS file and
then the style head I there was
something a string which was default
style whatever in the control class and
it's exactly this this class here and if
now how it works I would come to that
I'm too fast sorry for that so on
because it's cascading you can define
now for my control for example another
class dot shape which you can use after
all to style different things in your in
your skin also to this I will come later
the skin accent skin base and at the
moment skin base is private API that
might change I heard of it but at the
moment it's it's private
hi okay so great so if you get the
latest Java FX 8 which is part of JDK 8
the dev preview right is it's alright
so ok then it's public now and in the
skin base it extends skin base and in
the skin it will be initialized with the
control and the skin itself will then
initialize the behavior with the
controller and in this skin you find
different things I don't go to all this
code because this is more if you if you
would like to know how it really works
you need a computer and you need this
stuff and then we have to play around
with it and if you get the the slides
after all you can then take a look at
this at the code directly and if you now
have questions just feel free to ask at
any time or in the other talk later on
but what it in principle does is you can
register listeners to the properties you
know I define the value property in my
control and here I can register change
listener to this value property which
will then be called in this method
handle control property and here's okay
if it's value then you can do something
whatever right in this case just request
layout that means if the value change
the layout will be relay out it so okay
what else it has a method get skin where
you can get the control and this is very
important if you create your own skin
you should always be aware of this prep
with height
with manhattan max with mac side because
this stuff is if you have a standard
rectangular control everything is fine
but if the control has to have a
different aspect ratio for example then
you have to override these methods
definitely and have to check or if the
control should always be at a certain
size make sure you do something here
right and this is the method that is
similar to paint component in the swing
control this is layout children and this
will be caught if you call request
layout and it will call this method and
in this method all the magic happens but
so here you can draw your control I
usually call a method here but also it's
also okay to put all the code in here to
construct your controller this is that
if flag it's it was a hint from Jonathan
thanks to that too to avoid too many
layouts of the control this is a
performance in so that means you have to
set because all the time it could also
happen that other controls request
layout of this control and that means we
layout everything but if it's not needed
because nothing changed so by relay
outing it so that's the reason why there
is dirty Fleck so you can decide by
yourself right
yeah
we will see a better example at the end
of this I tried to fix it before this
store but I wasn't able in the short
time because I did exactly that I missed
it so and you can see it then what
happens so this is now a method that I
caught right it was draw control and in
this stuff I just create a shape it's a
circle and then I add this style and
this is the style that I defined in the
CSS right you saw that dot my control
dot shape and this is now exactly the
style that will be applied to this shape
and it was a linear gradient so that
means in the end the circle will have a
linear gradient fill and then you have
to clear the children's and add all the
stuff that you would like to add to this
container so then the next step is the
behavior and the behavior class is at
the moment it's private API and is it
also public in v8 ok ok ok great good
job so uh at the moment right so at this
moment this is private API and it's in
Java FX 2.2 if you create controls for
this you need a behavior base and the
behavior base extended from behavior
base story and the behavior is
responsible you sit here to react on
something right if you have mouse
lessness then you can handle the event
staff here and the behavior so you have
a clean separation between all that
stuff right you define your control with
its properties in the control class you
style it and create the how to say that
the visualization happens in the skin it
takes the start from the CSS and in the
end the behaviors handled in the
behavior class that's the idea and I
think these are all most listeners that
are in there right now
there's nothing more unfortunately so if
you have to if you need more you have to
add them by yourself but this stuff you
see the overrides this is already in
there so yeah so we have the Gang of
Four we have controlled skin behavior
and CSS
and how will they be initialized so the
initialization works like this so you
have to control the control looks up the
CSS file and it knows its default style
then it looks up the style the skin
class here in the this is the style
class and here's the skin and you need
the whole package information so that
means the control looks up the CSS looks
up the FX skin variable and then it
checks ok where is my skin loads the
skin class and in the skin class it
calls super and then creates a new
behavior and then it is the in this case
custom behavior class and that's the the
procedure how these four things will be
called at initialization this is not so
important but it I thought it might be
interesting to know how it works because
in the beginning when I was coming from
swing it takes me days to understand how
it works really with the CSS and I was
not able to keep it get it running I
don't know for a week and suddenly it
worked and then my god I got it so that
was the reason why I put it on the
slides because really it for me it I
didn't get it really how it works in the
beginning but it it's it's quite ok it's
easy so it's part of the choice here
because if you create visual stuff in
swing for example you have paint
component and you have your API you draw
something fine everything is easy in
Java FX is a little bit different
because you heard of all the
technologies all we have CSS to start
something great we can do it in code
great we have X FML ethics and we're all
great so what should I choose now what
should I do
should i mix it up should I use one or
the other so this was also something I
have to learn because when I came from
swing it was everything was code that's
easy you have full control and then the
guys from Java vaccine told me how you
should you CSS it's much better so I
thought ok CSS but it strings in another
far
okay I understand that and the
differences in principle is one is in
the skin and the others in the CSS so
that means the code is in the skin and
the CSS styles in the CSS and you had
different possibilities how to use this
so as an example I would use the LED and
I don't know some I saw some people that
attend yesterday the hol session where
we had this control that's a really
simple control but it's good enough to
explain some of these examples so it
exists of I think four circles the first
one is a frame it's the background it's
a circle with a linear gradient I
explained this here because we will see
the difference later on we have the off
state of the LED it is again a linear
gradient it's it's quite dark and it has
also an inner shadow the highlight is
nearly not visible and this is the state
if it's glowing and then this is
something special
and this is where I have to complain
against CSS at the moment I hope it will
change in the future because if you
would like to do two effects then this
is not possible in CSS on one shape and
this is something that I really need all
the time because if you look at real
stuff then you have often an inner
shadow and you have a glow or a drop
shadow and it's on the same shape so
this is not possible and CSS in code you
can change effects but in CSS you can
only apply one effect her shape there
are workarounds to do that but I would
love to see that if there's something
like with the background color where you
can just chain them up the effects that
would be great and that holds me back
from using only CSS but we will come to
that if you if I come combine this four
shapes then it will get to this right
this is the off state it's really easy
that's just three circles but it looks
nice
and if it's on it looks like this it's
just that exchange one of the
shapes and now let's do this stuff in
pure CSS without nearly no code so what
should we do to do that we have a CSS
file and first of all this is the class
this is the led class and this is the
skin that it's needed for that and then
I define a color this is in principle
the color that of the LED and the end is
its FX color it's red in this case and
then I define another class for the
background where I say okay this is the
background color this is a definition in
the CSS there's a whole website that
explains all the JavaFX CSS styles and
and how it works which is quite nice
it's really they really did a good job
in document a documentation so it's much
better than in the spring days so you
can really find a very well documented
API and also for the CSS it's really
nice and you get great tutorials on the
Oracle page so kudos really nice so if
you have questions you it's really easy
to find answers there okay so this is
the linear gradient of the frame then
you have to define the stroke which is
also something that I don't like because
if you don't do that the stroke is
always black and this is the same for
failure so if you define a shape and you
apply something some style and you miss
to apply a filler then it's black that
was also something in the beginning that
I didn't know because I thought okay if
I don't apply a fill to it so it should
be transparent right because if it has
no fill it has no fill but the default
is black I'm sure there's a reason for
that but you have to know that otherwise
you can convert your stuff and you first
time you started you wonder why some
things are black or have black borders
and you have no idea why you have to set
it to transparent and that's also
something I'm not sure about because if
you have code you can set fill to null
and that means it won't be in
I think it won't be touched fried so if
it's not nothing will happen but how to
do that in CSS there's nothing like now
so we have to always set it to some
color transparent is in principle just a
color opacity zero so I'm not sure if
there's a difference in rendering or if
if it no okay because I asked that last
year and nobody was really sure how it's
handled now but yeah so because you can
of course in code you can also set a
field to transparent so what's best the
difference if you say to not Auto
transparent I don't know these are
things you have to know well that's now
the interesting thing is it's this here
and that's really amazing and if you are
familiar with SVG you directly see this
is a SVG path and you can just put it in
as - FX - shape and this is the circle
that we saw for the frame so it's
completely defined in the CSS no code
for that the same goes for the offstage
and these the the background here the
background in sets is define because we
have the frame it's like this size and
we have the inside which is the LED
offstage right and then we will see
another which is the B highlight so but
in principle it's the same I said an
inner shadow we have FX effect in CSS
and that's what I mean you can only
apply one effect for this shape so it
can only have an inner shadow but it
can't blow and have an inner shadow so
and here we have the on stage and this
is a drop shadow which represents in
this case a glow because in principle
this is the same just with the color and
this is now the FX color that I defined
at the beginning that I dare define the
color red and this is now the the color
that is use there and again this is
always this shape and this is the
highlight this little one
so and this is now the skin class that
you need for this CSS file and that's
really interesting because you just
define your stack panes and what it when
it comes down to drawing that's all you
have to do and that's really nice that's
really the complete code is in the CSS
file this this is just okay take this
style and apply to this to this deck
pain no circle nothing it's just a pain
which will get the style from the CSS
and that means we define the shapes and
CSS we define the fill and the stroke
and CSS and also single effects and CSS
and it leads to this so we have the led
we have the frame have been apart and
you have the glow and if you take a look
if it's off you see an inner shadow and
anybody it's on you don't see it and
that's the reason you have only one
effect right yes
sorry I didn't get the rest yeah this is
really just you just you define the the
stack paints on top somewhere and then
you just apply the styles to this pain
and then it will be started with the CSS
style and in the in the CSS style
there was this SBG part and that will be
used to visualize it and that's nice so
if you are familiar with CSS and coming
from the web site from the web - side
not from the web page then this might be
a good way to go
okay so let's see if I do the same thing
just using code instead of CSS what
would look like so the CSS file boils
down to this
that's all I need because I just say
okay take a look at this skin and in
this skin we will find groups instead of
steak pants in this case could be
something else I use groups and now you
see here I have I draw all that stuff
now in code alright so what I do is let
me see
so first I define here some this is the
glow on it this is the the thing when it
glows and I think it's not the whole
code because that would be too much and
okay yes okay this is just for the
public bellowing in our soccer that's a
code I create the circle I create a
paint which is in principle the same
linear gradient that we saw in in the
CSS and I said the the fill which is
this one and then I set the stroke for
not okay
and then this is now the interesting
thing which is possible in code I define
an inner shadow and I define a drop
shadow the drop shadow is in principle
the glow and the nice thing about this
effect stuff in Java access that you can
apply input to an F - and in fact that
means you can change effects take the
first one and then you find the second
one and take the first one as input for
it for the second and so on and so on so
you can really
chain-up effects and that's really nice
because if you would like to create
realistic looking things you need this
these things because it's it's really
rare that you only have one effect on
one shape so in that that's the the
magic that you can do in code that means
we have shapes and code we are filling
stroking code we have effect chaining in
code and that leads to this one and you
see even if it's on you see the inner
shadow here and that looks better
because it has more volume
somehow right so that's the reason why I
recommend I do not recommend but I I
prefer using code because I have two
full control but I will also come to
that later it depends really on the
control that you create sometimes it
makes sense to use only code then
sometimes it makes sense to use only CSS
it really depends there is no general
rule which makes it not very easy
sometimes all right you can also mix it
up and that's what I also do because I
would like to use CSS and where it's not
possible I switch back to code and yeah
it's it's not very nice but sometimes
needed so let us have a look how this
looks then again we define skin and then
we have the color for the LED defined in
the CSS file and we've defined the
background gradient for the frame and
the LED offstage so in principle this is
the same CSS file as for the pure CSS
version alright so I don't go through
all the details now and in the skin
class now we define the shapes
right and apply then the style and the
difference is that if you would like it
you could have controls where you have
to change the shape right
especially with JavaFX we have effects
like transitions animations so sometimes
you would like to do something special
this is easier than to do it in code so
then it's good to have the notice for
example the circle or whatever the part
in code and style it with CSS right so
before I just used just stack panes and
this makes sense if you use a path for
example and he would like to animate
certain points of this path so that this
you could only do in the in code and not
in CSS and there's one thing more I
would like to this this line here you
should forget about this line because I
learned that this is not very good for
performance but if you do it like this
you need a way to set something in the
CSS file to change the style and I was
not able to figure out how to do that so
there's no easy way to do that and so I
created just a string and set this this
color here which is possible and then it
will change the color of the LED but
it's it's not the right way to do that
right so I have to talk to Jonathan
later on how to do that really right
because I have no idea and if you would
like to mix it I think this is really
important to do that in code okay so
let's see what we do we created the
shapes and code the fill and Stroke he
then code on CSS we have single effects
on CSS and we have effect chaining code
so you can hear you can really use every
possibility the problem is you mix it up
and there's something which is for
supporting it afterwards it's not so so
nice right because then you never know
and that's also the reason why I don't
know should I use code or CSS but I
would like to stick to one of these
because otherwise if you mix it
you have to okay uh-huh this is too
fancy right now and this is in code so
where's the problem so this would be the
result it looks in principle the same as
the CSS only version because it we only
use we have again no inner shadow
when it's on and in principle you see
and this is something that might lead to
trouble when you create your own
controller because you have no idea okay
should I use code sure you CSS so the
Java axiom recommends using CSS if
possible and I can just say the same it
makes sense to you CSS but sometimes
it's also good to have code because if
you do very complex stuff it's it's much
easier you have more control in code
right so you might think it's hard and
you might want to have it more easy so
then let me show you one possible
workflow which is mine but this only
applies for graphical stuff and not for
standard controls because standard
controls I will come to that it they are
just different if you would like to
create a control like this led and I can
show you the way how I do it so I use a
software which is called fireworks it's
from Adobe you can also use illustrator
and there I create this this graphics I
draw it and you here you see the layers
which is highlight and in the on LED of
the frame and also I can you find
properties and that thing and in this in
this drawing program and the reason why
I chose that because I always got the
question why do you use Adobe by not
Inkscape I agree
developers use Inkscape because they
don't have Adobe products but designers
use illustrator or fireworks or
Photoshop and JavaFX is really good for
the interaction between designers and
developers so that was for me the reason
to stick to tools like this because then
I understand
what designers are doing and for me it's
much easier to draw something in a real
drawing program instead of drawing with
my keyboards with some numbers which
leads to terrible things sometimes so
okay I draw that Sofia and with this
products you have they have exchange
format called ethics G which is in
principle something like SVG it's a
flesh exchange graphics I think it's an
XML format that Adobe uses to exchange
graphics between their products like
illustrator fireworks Photoshop and flex
so they can do exactly the same thing
they you draw something with the
designers they give the stuff to the
developers and they convert the drawing
which is an ethics tree to a control and
I've wrote the same in principle the
same thing I brought a little app which
is based on groovy and on swing and that
imports the XML data and then you can
convert it to a Java 2d controller
JavaFX control html5 canvas and also F
XML therefore I used the FX American
converter from Jasper ports but I
modified it a little bit because Adobe
fireworks has a little bit different
ethics tree format than illustrator and
then if you do this you can really drag
the fxg file to the converter then it
shows you a preview which is swaying in
this case and then you can press convert
you can define your package down here
and then the result is this it really
creates a complete JavaFX - controller
so you get in control class which is led
you get the behavior class the skin
class it will create a CSS and we
created a build up build a class for
that control which is something I really
could recommend to keep the user
experience or the developer experience
the same you should always learn from
the from the Masters right and this is
in this case this is the job of X team
and they create builders for all that
stuff and if you're getting used to it
then I just asked you to do builders for
your controls too because then it's
really easy for
for the developer because it's oh it's
just another control and you might think
dot oh there's the Builder oh that's
great
all right so then you can really do the
same things that you can do with
standard controls so create build us
right so my tool will do all that
because I was really was not so nice to
type all that things so now it's really
easy to create a standard control this
led it takes me two minutes and then I
have the basic thing running and then I
can just work on the logic if you're
interested in this fxg converter here's
the result this is now JavaFX control
then you can just drop me a mail or it's
it's open source and it's also available
over my blog so you can there's a Web
Start version but I think the most of
the times you have the problem that you
don't have ethics G files right so okay
swing controls compared to Java FX
controls it might be interesting because
many people coming from the swing world
and would like to learn something about
Java FX and this is different so a swing
control uses graphics object and I name
it dead bitmaps in the end because
usually you'll just create something you
created once and you drop it on this in
this paint component class and then it's
gone right if you would like to change
this repaint it creating new and that's
why I call it dead bitmaps you often
work with buffered images and that stuff
then we have the model and the UI
delegate and we have the very nice look
and feel for styling I'm sure everybody
loves it and we have simple properties
with getters and setters okay everybody
know that and JavaFX we have the scene
graph which is really really nice
because you have life access to the
notes you create them once you lay out
their months and then you can really
access this stuff and change it so this
is really living notes it's not dead so
if you create a shape you can react on
on this shape
and you don't have to recreate it all
the time so that's really nice then
there's a separation between controlled
skin and behavior we have a CSS for
styling and we have this is enhanced
properties with get has set us and the
property method and this is really I
don't know
did somebody already create some Java
effects controls in the audience some of
this guy did some few fewer controls
yeah it's you should really do that it's
so much fun I just can tell you because
in the beginning when I saw it last year
with the properties I thought oh man
just another method and that means just
more typing instead of just get said
that's it now you need another method
with what I have a property name and
then at the end began property but with
the binding this is awesome you can do
so much things if you use that that's
it's much easier than in swing because
there you have to create all this
property change listeners here and there
and all that that's terrible you have to
fire the events all the time in this
case you can just bind to the properties
and that's it and then just attach a
listener to it and you are ready to go
so the difference is again in swing you
have pain component and most of the
times you use that for custom controls
and Java affects your play our children
and prÃ­ncipe this is the same thing but
in layout children works a little bit
different and then if the visualization
is different between this dead bitmaps
stuff in the scene graph you have
properties bindings you have the strict
separation between logic and UI and then
you have genera fie the event handlers
this is something new in Java effects
and it's a little bit different in the
beginning you have all the generics all
over the place so it's a little strange
but it's great because you just have one
event and then you say ok this is a very
event of action event right so oh this
is a mouse event or a key event or
whatever so it's always a change
listener you don't have some special
listeners for special events so this is
really nice
and we have the possibility of
composition of layouts which which is
also new or at least it was new for me
and that's also nice and now this is
this is interesting the other thing is
so theoretical this is really stuff I
came across when I try to create custom
controls so number one use the cache
really important but be sure you use it
in the right place right so if you catch
something that you change all the time
it doesn't make sense you have to be
aware of that but use it I really make
some tests and it makes a huge
difference sometimes sometimes it's good
and sometimes not like I said if you
have a for example you have a note and
you change something in that note all
the time the size or whatever so it
doesn't make sense to cache it right but
if you have something that you create
once and then you use it all over the
place and just cache that stuff and then
it's really fast internally it will
create a bitmap and use this thing now
you can also define the cache hint that
means you have to read the the
documentation there was not enough space
will explain it but these are hints that
makes it easier for the for the JavaFX
engine to to handle the cached image so
for example if it's rotated is it okay
if I rotate the cached image or should
that we created then something like that
so this is really important just it's
not a good idea to set always set cache
true but you have to keep it in mind
that it's there and you have to use it
especially if it comes to animations and
that stuff so it's really useful number
two yeah this that was something that
really hurts me effect you know you have
all these nice effects you have drop
shadows directly there inner shadows you
have light so you create something like
this you create a light and then a
lighting and a drop shadow and now you
would like to apply this drop shadow
let's say
to the pointer of a clock right then do
it like this you just take your shape
which should be the pointer and said set
a fake cello so it's great you'll rotate
the shape and you will see the shadow
will rotate with the shape and then you
ask yourself wait I defined the light
why is the shadow now rotating shadow
should always be in the same direction
and I tried so many things until I
figure out okay
so you have to put you create another
group and apply the shadow to this group
right instead of the shape itself and
then it works that means if you do this
it will lead to this effect and if you
encapsulate it you just say cancer
whatever the name is of your group new
group of this group right of this one
and then set the effect to the group
then it works nice then it's perfect but
you have to know that stuff it's really
I was fiddling around with this with my
all my controls and I had no idea where
to look for and then I was looking in
the ensemble up I think there is a
stopwatch from Jasper and then I saw
that Dennis there's no documentation
about that so you have to know that or
maybe I'm too stupid to understand it
someone knows that stuff I think so
right you know if the the lost series is
in the on-tv this this characters are
moving towards the screen and they are
very blurred and then they get sharp and
then they get blurred again so I tried
that effect just to show you what
happens if you do it wrong so this is
now the first try I have this text and I
apply a blur and then I scale it and
what happens is the blur will scale with
it so it's it's just blurred
that's strange right so and that's what
happened if you don't do that do it
right so these are this kind of effects
you just think okay I apply this I play
that and make an animation nice should
work and then I thought huh that looks
terrible if you just put it in another
group and this happens ah
the blur is now applied to the
surrounding group and then it works
right the scaling of the text and the
blur will always apply it on the
surrounding group and this is that's
something that was hard to figure out
how to do because yeah you have to know
it maybe you need some internal
knowledge I don't know but yeah for me
it was really it took some time and even
today sometimes you do something you
make an animation and then you you see
okay but now I know how to handle that
and in the beginning so don't give up
there will be a solution I'm pretty sure
so number three what's that oh yeah now
this is something this is my idea of
using the the different kinds of
visualization so if you can create a
control like this one which I created
this our only
stack paints everything here and I
started completely with CSS and that's
nice
perfect it's very clean code because you
just the style is completely in the CSS
file and then in your skin method you
just apply the styles to some stack
paints and that's it perfect but you see
it's really not graphically intense
right and that's what I understand as a
standard control like a button a text
here something easy you CSS for that
it's it's really great to do that and it
separates really the style from your
code if you go for something that I call
the Living complex animated graphics
like stuff like this it's a little bit
more complicated so you are free to use
groups of pain or canvas together with
the JavaFX api which means code right
this stuff are usually doing code
because they're I have more control over
it if
we have more abilities in the CSS maybe
I will go to that but I don't like to
mix it up then that's really something I
hate to do and in the end if you have
really debt which means you've created
once and then never again complex
animated stuff use canvas right the
canvas noticed something in that is in
Java fix since 2.2 I think yeah and it's
very very similar to html5 canvas in
principle the API is nearly the same so
because I also did some canvas stuff I
can just take code copy it and paste it
and really you just I think the
difference is in setting the strokes and
the fields because they're they use the
JavaFX api files instead of the html5
stuff which is good because html5 it's
okay but it's not the same trust me
so it's good that they make the decision
to use the java textiles till its end
and strokes in itself and of course the
image view which is some secret weapon
if you have images use images because
scaling is so easy in java fix and if
it's if you are just don't use 16 by 16
pixel images and scale them to the whole
screen right you get pixelation but if
you just have to scale it a little bit
use images perfect it's fast and its
really awesome but canvas gives you
other possibilities like this stuff down
here for example you can draw something
and then you use this thing which is
just one node instead of a couple of
nodes so it keeps this the scene graph
slim so the fourth thing yeah also
something I figured out too late
it was there are also read-only
properties
and they help you having control over
your ABI because if you do something
like that this is a normal trav affects
property you have magetta
yep and you now say okay I would just
let the people get that values and
that's it but I would also like to
listen to Mitch alright so I just have
this size property stuff and you do only
that it's still possible to set the
values of course because the property
itself has always the method set and get
so now that means that helps you nothing
here not providing a setter because it's
there
instead you should do this one read-only
double property and this one doesn't
have a set I didn't know that from the
beginning and when I bought all that
stuff from swing just forget it and then
I figured out oh okay here we go
read-only properties are also there so
sometimes it helps to read the API
before you start coding so number five
yes this is something this is so awesome
and it's called scenic view and one of
the creators of their tools over there
and it's this is one of the best tools
ever if you work with JavaFX so you
create something for example of control
and you test it and you see something
strange happens how would you figure out
what happened there's nothing right you
just can look at the code and try to
figure out where turns and this is hard
but this tool helps you a lot you just
start your application then you start
this tool and it hooks up to the running
JavaFX application and shows you all the
stuff in there and if you change
something it will show you what changed
you can listen to events you can filter
for events it's it's awesome this is the
tool to go to debug your controls
definitely it's really it's great it
helped me so often to fix little tiny
bugs because I just I can't figure out
in the code and then suddenly I saw hero
when that's another pain where does it
come from and then I I took
look at the coat and then I found the
position right so it's a it's available
on what is FX extra FX experience calm
and it's free and I hope it stays free
right yeah and it's yeah use this
awesome
and another one it's this you know if
you are not familiar with CSS like I was
it's hard to get it all right and this
tool was created by Jasper Potts and
it's also available from the same page
FX experienced calm and here you have a
CSS a Caspian styler that means that
does work for the default controls but
most of the times you start with
something like okay I have this
application I would like to have a
different look and fear how do I do that
okay I should adjust the CSS and then
you take a look and dig into the Caspian
CSS file and then you close it again
forget about it and say oh it looks okay
to the standard because the Caspian CSS
it's like the size it's huge and so
forget about it you can use it as a
reference and see how it works but if
you really would like to change
something use this tool alright
use it and you can adjust all the
parameters that are available then you
can create a statute out of it and apply
this statute to your application and bam
it looks like you would like to have it
it's much easier so don't start fiddling
around with the text editor and the
Caspian file that that's really not the
way to go so I would recommend using
this it helps a lot and even if you
create a custom control where you need
to need to know okay how do they do that
you can use this one just create the
style that you need copy the CSS and
take a look at it and then you know okay
because you see visual what happened and
then you know this visualization is this
CSS and then you can use it in for your
control tool of course and there are
also other things that are really
for here one more read the sauce that
helps me the most so the staff is open
sauce and you can get it it's a
mercurial repository mm-hmm just put it
on your drive and just if you have time
take a look at it it's so helpful to see
how they do it right how it works if you
have no idea if you have a problem just
take a look at the sauce it's really
important to do that do we still have
time I'm not sure or something it's okay
that's great
so you think JavaFX rocks yes let's
cross you want to be part of the party
yeah then we want you at Java jfx trust
which is this is a side project where we
collect custom controls and this is some
kind of a lab project that means if we
have something and you would like to
share it put it in there right
feel free there's nobody would set
earlier what's that it's awesome well
that's for ugly just do it in put it in
the JFX trust project and who knows what
happens I know that some guys from the
JavaFX team looking sometimes at this
project so and even it just to have some
point to share that stuff right so it's
on jf extras org we have also an
ensemble up which is stolen from the
original one it looks very very similar
and it contains all these controls that
we created and to show you some of that
stuff that we did I just prepared some
examples it's just just a few it's this
stuff that I created these gauges and
LCD controls and you see last year I
showed that stuff in swing and at this
point it was not possible to do all
these effects but most of them but now
the graphical stuff is there so it's no
reason to not start coding JavaFX right
last year I would say okay
still missing something but this year
it's so much better so they really did a
good job
and push things forward so then we have
stuff like this right maybe you know
somebody if you have an iPad iOS 6 on it
take a look at the word look it's this
clock alright so I just copy it from
from design-wise so it's really the same
as on the iPad so the stuff like that
it's really easy to do it tooks me just
I don't know
1 2 hours to create that it's not not
hard so I remember the in times of swing
it took two days to get it right but the
JavaFX it's so much easier what else do
we have
oh yeah this is one of my favorites I
showed it also yesterday mmm
this is this is just completely built
from controls that are in the JFX trust
project so um I don't know if there's a
real application where it might be
useful but it looks like alright so yeah
you really start should start playing
around with that and just try what's
possible right this is the same clock it
just has a different design and this
stuff is every character is one control
and this is one control and the LED is
one control and I just put everything
together to that stuff
alright so now it changes and there's
going up like a real split flat board
okay you have one more egg last week I
created this one which is this is
capable for touch too so it's a it's
coming from a touch device I saw it on
an on an iPad and but this was really
just it took me one and a half hours
maybe to create that so it's really easy
you can end without any using graphical
stuff or drawing programs it's most just
coding so what I would like to say it's
it's not that hard right so and keep
coding this is the most important thing
I have to say so any questions
so this is the thing what I mean this is
there make it from and make it wrong and
see it sometimes it's stuck raining a
little bit this is because here for
every bubble it will use the request
layout and I just saw it shortly before
the the session had I have a new version
of that which is much better but in this
it's the old approach and that's the
reason and you get this the whole thing
big B starts to stack up oh what's that
so yeah we I think we have just four
minutes any questions or should we do it
in the other session you can feel free
to ask
I had a visit that that starts up with a
radio-control did this say your three
menus in and you want to just get to it
again what I'm suggesting a hot corner
up there
good for sure yeah yeah it's yeah I have
no idea what is the best so it really
depends also on the application right so
maybe we can discuss that later
yeah okay
yeah so to be honest yeah I'm not really
honest because I'm not working for
Oracle I can say that I hate XML
so I hate FX and math and not really
hate but it for me it's a machine
exchange format and not nothing I would
like to quote in even if there's this
really nice scene builder I have to say
I love it but I would only use it for
layouts but never for control because
it's it's XML right so it's it's nothing
for me I need code I don't want a heck
in tag here and this is what I agree of
course this is absolutely possible and
correct way to create stuff you can use
em XML right it's just not for me so I'm
not very familiar with it Peter
oh that's made by myself it's a it's
just one class it's a this the images I
create in keynote and then I just wrap
it in in a demo class that could contain
code or images and they're not just this
two image views stepping all the time
yeah
yeah so at the moment my controls are
not out of resizable because it depends
on the control but usually you don't
want to resize your control if the
container resizes you don't want the
button getting bigger just because the
pain is getting bigger so that's the
reason why I just I use groups which are
not auto size if you use stick paints
for example then you can do that you can
create stuff that resizes automatically
I just check it in these methods that I
showed in the code where I really just
shake because there's a value coming in
and then I check what is it and what to
do with it and then I react on that yeah
I read just a handless that will be
called when they change their size or
prep with provide something like that
anything else yes
no you can result li so then they do
something wrong it's definitely possible
and this is something that and it's
fairly is it's easy to do because you
have this binding stuff and because if
you have a pain for example you can bind
on the width and height so that means if
the paint changes you just have to take
care about that you have to take care
okay oh it's changing size so I have to
resize yeah I have the same problem
because I thought it's a different
resolution when I came this morning as
the oh damn it's not not the one I
thought so yeah but this stuff for
example it uses the whole screen right
yeah it did exactly that I just use I
find my stuff to the to the it's full
screen mode now in this case it's full
screen and if it's full screen that
means the container were resized to full
screen and I just use the full screen
you see the bubbles and they start
coming so this is possible that's not a
problem anything else nothing thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>