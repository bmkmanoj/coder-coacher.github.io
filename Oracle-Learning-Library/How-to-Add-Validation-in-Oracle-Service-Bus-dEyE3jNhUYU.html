<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Add Validation in Oracle Service Bus | Coder Coacher - Coaching Coders</title><meta content="How to Add Validation in Oracle Service Bus - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Add Validation in Oracle Service Bus</b></h2><h5 class="post__date">2012-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dEyE3jNhUYU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello my name is Mary Peake and I'm a
curriculum developer here at Oracle in
this demonstration I'll show you how to
add validation in Oracle service bus
validating messages is important as the
client application may not format
incoming messages correctly Oracle
service bus can validate message
elements selected by an XPath expression
against an XML schema or a wisdom
resource so you can ensure messages
being passed in an enterprise
environment of valid in this
demonstration we'll add validation logic
to a service bus order management proxy
service if the incoming message is
invalid we'll raise an error so let's
get started here we are in the oracle
service bus console and project explorer
and first we'll create a new session to
keep track of our changes in this proxy
services folder there's an audit
management proxy service and let's edit
its message flow you can see that this
proxy service has an operational branch
with two operations and a default branch
we're going to edit this get orders for
customer branch and here you see one
route node which simply routes to the
order management business service this
little icon indicates it also contains
an error handler will add the validation
to this route node so let's edit it we
want to make sure that the incoming
message matches the correct schema so
under request actions we'll add an
action and select message processing
validate now we'll specify the XML
element we want to validate note that
you can validate global elements
only service bus doesn't support
validation against local elements so
we'll enter the XPath by clicking this
XPath link and this opens the XPath
expression editor we'll click this
variable structures link and then the
Select structure drop-down we'll select
body that is the message body is the
structure and we'll expand the request
for this get orders for customer
operation and select customer this is
what we want to validate so now you can
see the XPath down in the property
inspector let's copy that and paste it
into the XPath text area and we'll save
our changes for the variable that holds
the element to be validated will enter
body and for the resource we're going to
validate against we'll use a wizard or
let's move this over and the one we'll
use is the order management service Wiz
door and the type is customer let's
submit that now you can either save the
result in a variable or you can raise an
error in this case we'll leave it at the
default to raise an error on validation
failure so that's it now we'll save
everything and will activate the session
we'll enter a description and then
submit the changes now let's run a test
and make sure the validation is working
correctly let's bring up the test
console for the order management service
proxy and let's move this window a
little bit
and from the available operations will
select get orders for customer and you
see this XML schema for customer has
three elements first name ID and last
name
let's invalidate the schema by removing
one of these elements we'll take out
first name and execute it you can see
that the response document correctly
indicates an error now if we scroll down
let's view the invocation trees we'll
expand this route error handler and
scroll down and here we see this era
with the reason OSB validate action
failed validation and if we look at the
detail below we see that the validation
expected first name in the content but
it didn't find it so it raised an error
so the validation action is working
correctly so that's it for using
validation and Oracle service bus thanks
for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>