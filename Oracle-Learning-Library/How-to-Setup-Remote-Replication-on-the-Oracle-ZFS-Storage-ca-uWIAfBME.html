<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Setup Remote Replication on the Oracle ZFS Storage | Coder Coacher - Coaching Coders</title><meta content="How to Setup Remote Replication on the Oracle ZFS Storage - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Setup Remote Replication on the Oracle ZFS Storage</b></h2><h5 class="post__date">2014-10-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ca-uWIAfBME" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Darius zegenei tonight I'm
going to spend some time showing you how
to set up remote replication between two
ZFS appliances the first thing I want to
point out is that there's a pretty
detailed document guide inside the
online help so if you're on a box you
just click help and you can come in to
the search box type replication and you
just click the very first one you see
title and there's a very good article
that talks in detail about replication
Oh everything could do how to set it up
both in the gooey buoy as well as the
command line but today I'm going to show
you quickly how to do it in the system
it's pretty simple you can replicate
from appliance to itself to its cluster
peer or to another appliance across the
world there's no limits on that you can
replicate from any to any you can
replicate from many machines to one or
one to many as well so today I'm going
to set up a replication from this older
7310 to fairly newer 7120 and so the
first thing I'll do is set up the
replication relationship this is done by
going into the configuration tab under
data services and then to remote
replication and we are going to set up a
target for this machine to replicate to
so you can see here I have multiple
targets that people have set up at
different times I'm going to go in and
it's asking for a name of the machine
and the name of the machine I'm going to
replicate from I'm gonna call the 7120 B
and you can put the hostname or an IP
address that's gonna use the IP address
and then the root password for that box
and click the Add button so now that
target is set up the next step we need
to do is go to the shares and choose a
project or share we want to replicate
and I'm going to choose a project look
at the project level which will
replicate all the shares in the project
and there's one right here that's about
five hundred fifty two megabytes of
space so I will go into that project
call it POC review I click the
replication tab and I can create an
action I'll click the plus on that and
then I choose which of the three targets
I have set up on this machine the 7120
we just created if I had multiple pools
on that machine it would show me those I
don't have one so I'll pick pool one I
can limit the bandwidth if I desire I
can turn SSL up and on I'll turn it off
for now because there's no need for it
including snapshots will include any
snapshots that are on this file system
or this project this POC review project
so I'm going to include those and then I
can either choose scheduled mode or
continuous I'm gonna choose continuous
to keep it up to date as quick as
possible
click Add and what you will see is
immediately it is starting the
replication over to the machine and what
it does initially is it takes the
snapshot of this file of this project
PLC reviews if I go into snapshots I'll
see a brand new snapshot whenever you
see a snapshot with this RR that means
it's a replication snapshot so took a
snapshot and now it's sending all 552
megabytes
over to the other machine so that'll
take a minute or two for that to happen
and there it's finished finished
replicating PFC review so that 550
makes spits it over so I can go over
this other machine and the way we know
it's over here that's a little more
viewable if you click shares and then
you go into this projects side panel and
you'll see three different
words at the top all local or replica by
default it's always set to local I'm
gonna click replica it's gonna show me
all the projects have been replicated
from another machine and then it shows
you by the machine name and then the
name of the project so the one I just
did was from this machine OSC Senate
Shen a into which is its actual host
name and that PLC review so I can click
on that and now I can see another
machine I have the file systems I have
the entire project over here something
else interesting about this is these
these are just over here ready to go if
I click over here on snapshots I'll
actually see the first snap should Saul
ready won't buy it because I'm in
continuous mode it will continue to take
a snapshot in cinah deltas so that's
this number 3 and number 4 so we're
already on our fourth update essentially
we're not changing any data so it's
gonna happen really quick but it will
keep up to just fast as it can and I'll
just continue to change but if you click
on the the general tab in here the first
thing you'll notice is these shares are
not exported so these replicators over
the other other hosts if for some reason
you wanted to read these shares you
could just simply export all the shares
or an individual share and then you
could mount these shares over on the
other host in a read-only fashion so
it's constantly seen it just finished an
update in a minute it'll start another
one so I could export those and use them
in a read-only fashion I could also go
into the replication package and I can
create a clone of it that would allow me
to create readwrite copies of the data
so if this was a test dev environment
you know the other way the export I
could use it for a remote backup to back
up to tape I wanted to do that at a
remote site that would give me an option
to do that so that's essentially how you
set up replication thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>