<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Managing Skewed Data | Coder Coacher - Coaching Coders</title><meta content="Managing Skewed Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Managing Skewed Data</b></h2><h5 class="post__date">2011-05-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/y0VgsIqor7g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello we are going to demonstrate here
how skewed data in range partition
tables may impact performance on
parallel execution that we are going to
run for statements two statements one in
parallel and one in serial mode on a
very large partition in a range
partition table and two statements one
is in parallel and one in serial mode on
a very small partition of the table
before running the four statements we
are going to check how many rows there
are in the partitions of the table so
the table path borders is divided into
three partitions the first one p10
contains five rows the partition p9
contains a lot of rows as you can see
and the third partition for the moment
doesn't contain any rows so let's start
executing the first statement in
parallel on the biggest of the partition
and we will see how long it lasts we see
that it lasted only 32 seconds now let's
see how it will last while running in
serial mode
it lasted 48 seconds so 1/3 more than
when running parallel now let's go to
enterprise manager in the monitored
sequel executions and we can see the two
executions here the one in parallel with
the top of two and the one in Siriano
flex expelled the paralyzed execution to
see how the query server spent at their
time so we can see here to slave sets
the producers in blue performing the
retrieval of the blocks from the part
orders partition and the slave set which
is in red one which is the consumer one
which performs the hash coupon so let's
go to the parallel time to see how it a
parallel query server spend their time
so two parallel 2000 slave sets with top
of two so each side sect having to query
service the producers in blue here
consuming their time and most of the
time of the statement execution in IO
request awaiting on user are you direct
parts the query server the query
coordinator had splitted the total
amount of work 1000 and 908 I request on
the to query service now the safe set in
red the consumers had not much to do as
they spent very little time on the hash
group by operation for us the first
slave said the producers had to spend
time on reading the data now let's go
back to the execution in serial mode so
the one that
was executing within 48 seconds
and we see that most of the time was
also spent on IO request on the same
amount of blocks to be read by the
single process Sam server what can we
deduce the to query servers spent the
same amount of time on reading half of
the blocks of the partition as the
partition was large it was interesting
to split the work on several query
servants in serial mode there is only
one server process that has to read all
the blocks it takes more time as it
reads chronologically now let's from the
same kind of queries but on the other
partition where there are very few rows
only 5 rows so you see that the first
execution in parallel with the top of 2
executed in 0 second 20 and the serial
mode executed faster not that much fun
not that much faster but even though
faster let's see in enterprise manager
what were the time spent by our query
service during the parallel execution so
the execution that executed in parallel
with the top of 2 let's expand it and it
is very interesting to see that now it
only used one slave set so the producers
still in blue produced the blocks that
have to be read by the to query servers
and the hash group by now is performed
by the query coordinator so let's go to
the tab parallel expand the slave set
one which has to query servers and we
can see that they spend their time on
reading very very few blocks as the
partition to be read had only five rows
so was it really worth to paralyze this
request as there was
so you have blood to read now go back to
the serial execution and let's expand
the serial execution and as before we
have only one process server which had
to read the blocks of this partition
which is very small as it contains only
five rows so it's bent not that much
time to read all the five rows of this
partition what can we deduce the to
query servers spend the same amount of
time on reading half of the block of the
partition as the partition was very
small it was not interesting at all to
split the work on several query servers
even worse as the query coordinator had
to wait for them to complete to do his
home job in serial mode there is only
one server process that has to read the
few blocks
it takes less time as it performs all
operations by himself thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>