<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Setup Fibre Channel for VMware Environment | Coder Coacher - Coaching Coders</title><meta content="How to Setup Fibre Channel for VMware Environment - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Setup Fibre Channel for VMware Environment</b></h2><h5 class="post__date">2014-10-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9WyPF6VjJ68" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now I'm going to spend some time
focusing on connecting fiber channel
storage off the ZFS storage appliance to
VMware first thing you do when you want
to configure Fiber Channel as you click
on configuration go to the sand tab this
is a clustered array all your Fiber
Channel ports show up here you can see I
have a couple different is actually the
initiators here's my two ports have a
single card this is a clustered box and
so over on the other controller if I
click over there I can see I have two
cards here I have two ports they're
single card in the two ports here a
gigabit per second and what I do is I
put both of those into what's called a
target group in this case it's called
target zero you can name it whatever you
want you could have multiple cards and
multiple target groups if you wanted to
segregate storage being exported out
over fibre channel so here you can see
here's these two ports so PCIe nine port
1 and port 2 and then over on the other
controller Hayduke node be the snow-day
he has PCI 9 422 as well so those are
both in there so that allows us to do
Lua or multipathing and standby all that
kind of good stuff that you want so you
have high availability if you were to
lose control array and everything would
be failed over to the other controller
and the lens will continue to work over
there so that's the first thing you do
once you do that you would then want to
Zone in the ports for each all four of
these in a zone on your switch along
with whatever the ports are of the ESX
server so when you do that it actually
shows up here it'll say all right we see
four ports so here's the four ports from
my two ESX servers I have two virtual
NICs on each one so let me show you that
so here's one of my ESX servers has two
HBAs there's his worldwide port numbers
here's my other ESX server and he has
the same two
HBAs so we come back over here we have
those I can put in some aliases so they
make a little bit more sense I know
exactly what they are is do that once
and those are set up then I can click on
the initiators and all those show up
here I then drag the initiators into an
initiator group the initiative group is
how I do my LUN masking so I want all
the SX HBAs to all see all the ports to
all see in my kids have four ports two
servers and I want them all to see the
same exact lens at that point I can
click here and I can easily add a LUN if
I want to here or I can go over to the
shares tab and you can see here I can
click on ones and there's already one
one in here a 200 gig which if we go
over to the SX servers you can see right
here it sees that there I click on pass
it automatically sees the 4 pass so to
active on the controllers on it also
sees a to standby pass on the secondary
controller so to add additional storage
additional ones I would just click the
plus then we'll call it demo FC one
let's make it a one hundred and fifty
gigabytes then provisioned let's just
call it 64 K and then we'll pick what
target group we want to be export out of
and also what initiator group so those
are the two different groups we'll hit
apply that one is created and now if I
go back over here to my ESX servers and
I just say rescan all
and so now take a minute and there it is
it shows up the other disk hundred fifty
gigabytes I could do the same thing on
the other is X server rescan all and
there it is so now at this point I can
go into either the SX servers and I can
go in and create a new datastore disk
and choose which one of these ones I
want so there's the fibre channel disk
and want to create a new one that's
available the other ones already a pool
so I could go in here and create a new
data store based on this guy it's all
set the other thing I could do is go
into the existing FC data store which is
already using the 200 gig fibre channel
disk so I could add to this guy by
clicking the increase button and there
you see it shows me the fibre channel
disk next I can add it into that group
as well so that's another option you
have you can also grow the lens
themselves pretty easily so I could go
into the ZFS array go to this 200 gig
one and I'm going to make it 300
gigabytes and apply go back over here to
my storage adapters let's rescan these
guys
sure enough it shows of a 300 gig I will
do the same thing on this one
I now see that is 300 gigabytes then I
can go into the actual data store itself
and we'll choose the 300 gig disk as we
grew that one we want to use the same
one and it's going to use all the
existing space will maximize it all
hundred cakes of the other gig available
hey close and now our new fibre channel
based data stores now 300 gigabytes so
that is how you set up fibre channel in
a VMware environment with the ZFS
storage appliance thank you so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>