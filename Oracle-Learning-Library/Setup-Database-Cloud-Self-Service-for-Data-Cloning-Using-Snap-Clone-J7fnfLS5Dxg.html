<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setup Database Cloud Self Service for Data Cloning Using Snap Clone | Coder Coacher - Coaching Coders</title><meta content="Setup Database Cloud Self Service for Data Cloning Using Snap Clone - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setup Database Cloud Self Service for Data Cloning Using Snap Clone</b></h2><h5 class="post__date">2013-03-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/J7fnfLS5Dxg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
you
in this video will demonstrate the steps
required to configure snap long now snap
clone is the latest feature available
via the enterprise manager database as a
service portal snap clone enables rapid
cloning of databases using the storage
copy and right technology this
technology will enable your self service
users to log into the portal and request
multiple copies of your production
databases within a matter of minutes and
without consuming any significant
storage in the first iteration of this
feature we have added support for nas
storage which is the the Oracle Sun ZFS
storage appliance and the netapp storage
and in subsequent releases more storage
vendors and sand storage will be
certified now where Enterprise Manager
really shines is the integrated
lifecycle management so the copy and
right technology really offers agile
provisioning very independent of the
size of the database the time to
provision is is almost constant and the
storage savings of significant so you
could clone a one terabyte databases and
only consume a few kilobytes of space
for a read-only database now what
Enterprise Manager does is it bridges
the coordination that is required
between the storage administrator and
the dbas which has been a constant
challenge in any data center so
enterprise manager offers role based
access so your storage administrators
can log in and access parts of the
product that only they have visibility
into and once they have done once they
are done with their storage setup they
can hand off control to the dba's and
then DBS can take it forward so the
prerequisites for using snap clone is
one of course you need access to storage
2 is the existence of a test monster and
death master is a sanitized version of
your production database so you could
subset the data in a production
environment or you could mask it if
there is if there are any sensitive
values and once you have created this
test master you register the test master
with enterprise manager and functional
copies can be created going forward
using the self-service portal so let's
see the steps involved in setting up
snapped alone now we are looking at the
Enterprise Manager product the first
step to setting up snap loan is to
register the storage to do this you need
to either have the cloud administration
roll with the storage administration
privilege or you could be a super
administrator so we go to setup
provisioning patching and storage
registration on this page we see
different storage appliances registered
so currently we support net app and ZFS
so to register storage you can choose
the relevant type and click in this case
let's look at one of the storage systems
now to register storage you need to
provide the name registered in the in
the DNS of course the vendor the
protocol to connect to provide the
credentials to the storage all of the
interaction with the storage is done
using this user so specific privileges
are needed for the storage user as well
and this is documented in our cloud
administration guide the next thing you
provide is a bunch of agents that you
want to use to manage the storage so you
can define more than one agent for sake
of redundancy and you provide the agent
name and the credentials required to run
certain scripts or actions on the
at this time you you can only use agents
that are on Linux 64 platform so this is
a prerequisite for the communication or
to enable communication with the storage
the last thing you specify is a
frequency for synchronization based on
the frequency define the the product
will reach out to the storage system and
gather all the details whether they are
aggregates or shares or the volumes and
various of the storage artifacts so we
come back to the screen and let's look
at some of the other details provided on
this page so the moment you click on the
storage registered storage appliance you
see two tabs one is contents which is
more of a storage centric view and it
will show you a list of all the
advocates and the flex volumes and you
know the size and other details now
let's say your storage has a lot of
space say 10 terabytes a bit for cloning
purposes you only want to allocate let's
say half of it so you can do that using
the Edit storage ceilings option using
this option you can limit the amount of
storage that is allocated for snap clone
purposes and this is set on a per
aggregate basis the other step that
happens automatically is the detection
of databases so since Enterprise Manager
gathers all the storage artifacts using
the synchronized function and it already
has a list of all the databases that are
currently being managed in your in your
data center so we put this to
information together and find a list of
all databases that have some portion of
their files database files on this
storage now this is done automatically
and no additional steps are required
either by the storage admin or the
ABA and now we see a database called
reference and if you click on show files
so it will show you the list of files
and the volumes on which these files
live now for the sake of this demo this
database will be our death master and
now to nominate this database as a test
master and use it for for taking snapped
loans you're required to enable this
database to be snapped long ready this
can be done using the flag enable in
this case this has already been enabled
and you see the last column has a
checkmark the other interesting bit is
we automatically do a bunch of
validations to confirm that all the
volumes that are that are used by this
database are truly flex clone enable so
this is all about the storage
registration next we configure zones to
do this go to enterprise cloud
middleware and database home app zones
can be used to organize your cloud
resources either by geography there is
east coast or west coast or by function
which is product management sales
finance or could be by product life
cycle which is development stage
production etc click on the number
against the bars infrastructure zones
label this will show you a list of all
the zones that exist in the system let's
look at an existing song
since zones are exposed to the cell
service user it is important to give it
a meaningful name and description you
also define placement policy constraints
at the zone lab placement policy
constraints are maximum ceilings that
are applied to any member or any host
that is part of the zone currently we
support maximum CP utilization and
maximum memory allocation so databases
will only be provision to this zone if
the hosts or nodes that are there are
members of the zone do not violate any
of the constraints that have been
defined next we actually select hosts
that would be part of this zone the
right credentials that will operate
across all the members or all the hosts
that are part of the zone the visibility
of this zone can be limited to certain
class of users is done using roles for
example we have defined a developer role
similarly you could have sales finance
etc finally review the settings and
click Submit the remaining part of the
setup is performed by another user which
is the database as a service
administrator now we are logged in as
dbas underscore admin this user has the
role emss a administrator assigned to it
for remaining setup we will go to setup
cloud database
this page lists all the remaining steps
that are required to enable snap tool
first up we create database pools a
database pool is a collection of servers
or nodes that have the database software
pre-installed to create a new pool click
on the create button and choose for
database in this case let's look at an
existing database pool provide a
meaningful name and description for the
pool next up we we add a bunch of Oracle
homes that will be used for database
provisioning now every member of a
database pool is required to be
homogeneous in nature homogeneity is
controlled by the database configuration
which could be single instance or rack
the platform and the version of the
database offering homogeneity ensures
provisioning consistency we also provide
credentials for both the Oracle home and
crude credentials to perform certain
privileged operations finally an
additional placement constraint can be
said for the members of this pool this
is the number of database instances that
are allowed click Submit to complete
next we configure the request settings
there are three request settings first
future reservation which is how far in
advance a user can make a request
request archive retention which is the
duration for which requests or archived
and finally the duration which is how
long can the user make a request next we
configure Gordo's now quota is allocated
to each and every cell service user and
it controls the amount of resources they
have access to kodys are assigned to a
role and the users
inherit the cota values from that role
so let's look at one of the kora
settings this is for the role developer
and we have allocated 100 gigs of memory
one terabyte of storage we have allowed
20 database requests and 10 schema
requests finally we look at profiles and
service templates it service template is
a standardized service definition for a
database configuration that is offered
to the cell service users so collection
of service template forms your service
catalogue a service template will
provision database with or without see
data to capture an ideal configuration
the easiest thing to do would be to
point at an existing database and and
fetch any interesting artifact about
this database now this is done using a
profile so profile essentially used to
capture information about the source
database that can be used for
provisioning to create a profile click
on the create button and select the
source database in this case we will
choose the reference now in this case we
are not just interested in seed data but
an actual clone of the database and so
the first step is to capture a snapshot
of all the volumes that form the
database to do this we choose data
content and select the option stored
snapshots this option is enabled only
when the enable snap clone option
enabled on the storage registration page
example the option to capture the Oracle
home next up we provide the credentials
for both the Oracle home and the
reference database click next
provide a meaningful name for the
profile and also the location this will
be helpful when creating a service
template click Next review the summary
note that all the storage details which
is the files and the volume that make up
the database is already available with
Enterprise Manager clicking on submit
will connect to the storage and take
snapshots of the volume in this case we
will use an existing profile for rest of
the demo we'll make use of the profile
call thin provisioning profile for
reference TB now let's create a service
template to create a new service
template click on the button create and
choose for database in this case we look
at an existing service template service
templates are again part of the service
catalog and are exposed to the self
service users so provide a meaningful
name and description the first step
towards creating a service template is
to choose a profile we will choose the
profile thin provisioning profile for
reference DB this profile contains
information of all the snapshots that
make up this database in rest of the
wizard will provide information of the
database that you wish to create using
this service template provide inputs
like the type of database which is
single instance or rack in case of RAC
you can specify the number of nodes
identification details like Sid prefix
and domain name and the listener port
since a cloning operation only creates a
read-only copy we need to give it some
right space this can be done here click
on the edit button and provide the
amount point prefix and the right
writable space that you wish to allocate
for functional copies of data base often
QA engineer or testers need to probe
make some changes to the database this
writable space can be used for such
changes the users of this database can
be allowed to take further snapshots
this can be used as a mechanism to
rollback changes that are not desired
you can limit the number of snapshots
users of these databases contain next we
provide the credentials for the
administrative accounts which justice
system and DB SNMP for all the other
non-administrative schemas in the
database you can either choose to leave
them asses or reset all of them with a
common password you can modify certain
init parameters for example memory to
create small medium large variance of
this database
custom scripts can be provided as part
of the pre creation or the post creation
step this can be very useful if you need
to register say or databases with 0 ID
or certain actions that are specific to
your organization finally you associate
at the service template with the zone
and a pool this ensures that the service
template can actually work on the group
of resources that you've identified and
you can limit the visibility of this
service template using roles finally we
review the summary and click Submit the
last step is to configure chargeback
this will be configured in a different
video with this we conclude the setup
required to enable snap clone thank you
for watching
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>