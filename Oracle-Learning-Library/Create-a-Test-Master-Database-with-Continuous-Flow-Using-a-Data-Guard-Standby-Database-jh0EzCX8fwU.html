<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create a Test Master Database with Continuous Flow Using  a Data Guard Standby Database | Coder Coacher - Coaching Coders</title><meta content="Create a Test Master Database with Continuous Flow Using  a Data Guard Standby Database - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create a Test Master Database with Continuous Flow Using  a Data Guard Standby Database</b></h2><h5 class="post__date">2015-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jh0EzCX8fwU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi I'm peach I'm and a product manager
with the Enterprise Manager team in this
tutorial I'll show you how to create a
test master database with a continuous
data flow using a data guard standby
database when you are deploying a test
master database there were two ways of
refreshing the data between the source
and the test master database firstly you
can have what we call continuous
replication where data refresh takes
place automatically and instantaneously
using technology such as Oracle data
guard masking and sub setting is not
possible when using continuous
replication as it relies on shipping of
redo records immediately they are
written to the source database
alternatively you can have discrete
replication where data is refreshed
manually or at scheduled intervals using
technologies such as Oracle's recovery
manager product when using discrete
replication masking can take place at
the test master database in this screen
watch I'll show you how private snap
clone instances can keep their data in
sync reproduction using a continuously
replicated test master database firstly
I need to select the database to be
cloned from the database homepage in
this case I'm using one called prod one
let's have a look at this database you
can see prod one is an 11 204 database
and in this particular case because it's
a production database it has a data
guard instance associated with it for
protection we can verify that by looking
at the data guard administration page
where you can see the prod one st v
standby database is associated with prod
one we can also look at how well the
data guard performances running by
viewing the data guide performance page
this particular standby is not a simple
standby in the sense that the files for
the standby reside on a registered filer
so let's confirm that by viewing the
storage registration page here you can
see our netapp Fowler and if I click on
that you can see down here we have the
prod one st b database and i can show
the files that make up that database
all residing on a netapp filer since
your standby resides in a netapp Fowler
I can create a thin clone from it for
now I'm just going into the database
cloud and drill in to look at test
master databases now I can add the prod
one st b is a test master simply by
clicking the Add button and selecting it
from the list
as you can see the enterprise manager is
automatically determined that prod one
st b is a standby database associated
with the prod one database and it's of
type live data the next step in this
process is to create various snapshots
from this particular stand by to do this
I start the wizard by clicking on the
create button the first thing I need to
do is select the reference target so I
click on the magnifying glass and select
the prod one xev database next I need to
tell the wizard to create storage
snapshots and I need to provide some
credentials
I don't want to change any of the
profile information other than the
profile name so let me change that but I
want to set the schedule to run every
day I'm going to set the snapshots to
end in a few days just to save on a bit
of space and i'll set the purge policy
to purge after five snapshots i get the
chance to review the information i
provided and once I've submitted I am
taken to the procedure activity page
here I like to do a view expand all and
set the refresh to every 30 seconds so
they don't actually have to refresh the
page manually it's going to take some
time to complete this procedure so I'm
going to pause a video recording gear
and come back to it I've created a
single snapshot so now to expose that
for the self-service user I need to
create a service catalog entry to do
that I'm going to the database cloud
setup page and start the service temple
to Swizz it first I need to give this
template a meaningful name
and I want to base this off a profile i
had already created so i'll select that
and I'll allow the user to select the
profile version they want to use I can
also specify a CID prefix here if i want
to or allow the user to specify that
said themselves and they created in my
case I think it's useful to be able to
easily identify these databases as being
based off the CRM database so I Linda's
CRM for the CID prefix since the service
template can be configured to provision
databases in more than one pool I need
to add the zone and then assign the pool
on the next step of the wizard I need to
provide the mount point prefix and the
amount of storage I'm going to allow the
user to take five snapshots
and I need to tell it the port number
for the relevant listener I also need to
provide some passwords on the next step
you can see something brand-new we've
added here you can set database sizes
that you want the service temple to
support now small medium and large I'm
going to select all three and said small
as a default I could also change
initialization parameters here but I'll
leave those alone for now now I can
specify some custom scripts which can be
run before and after the service
instance is created or deleted I don't
want to do that right now but I will set
the lifecycle status to production
and set it to be required I'm going to
allow self service users with the
developer role to use this template so
I'm going to add that here finally I can
review all the settings I've chosen and
then create the service template I've
come back to the data sources page after
five days and you can see we now have a
snapshot for each day so that's a
self-service admin part now I want to
login as a self service user and show
you what they can do so i'm going to log
out as john smith and log back in again
as Jane Doe you can see when I do that
that Jane has a preference is set to
automatically go to the database
self-service portal the self-service
portal part comes automatically from her
privilege as a self-service user but
she's chosen the database self-service
portal up here under preferences
now the first thing I'm going to do here
is Jane is request a database so I'm
going to request a new service and in
this case I'll choose the thin clone of
CRM application going to give you this
request a name I'll leave the zone as it
is and set the service to something more
recognizable this service is what you'll
need to provide to the users of the
database so they can connect to it
notice that here it's picked up the
default database size as small as i said
earlier but i can change that if I like
for now i'll leave that as it is notice
i can set both the start date which
defaults to now and adoration after
which the database will be automatically
destroyed that's very useful for things
like proofs of concept that might be
very short-lived I need to provide an
administrative user name and password
that I'm going to use to administer the
database I can also specify some
instance properties for the service such
as a contact name and line of business
in this case the self-service admin has
predefined a value for life cycle status
which is mandatory but I could overwrite
that if I want with a different life
cycle status I'm going to leave the
instance properties as is on the right
hand side I can specify which snapshots
I want to use to create this database
from i'm going to choose this one back
on the database self-service portal
there are now two requests added for me
one to create the database I want to
delete it because I said it to delete
after a few days I can watch this
progress here or I can click into the
detail by clicking the request name I'm
going to set the refresh period to every
30 seconds so I can see things
progressing
it takes a few minutes for the databases
to build depending on the performance of
your relevant hosts and so on so let's
skip over that to see what the result is
we can see now that the request is
completed that my new service is now
listed so I'm going to drill into that
there are a couple of things to take
note of here firstly you can see a
refresh button this is used to refresh
this thing clone from the test master
database secondly in the summary region
you can see the full connect string this
is what you'll need to provide to the
users of the database so they can
connect to it thirdly i can see roughly
how much storage i've used in the
storage utilization region and at the
moment you'll see there's not a lot
years because it is sitting on
copy-on-write technology and i haven't
made any changes to the database I can
also see the last synchronization date
for febri first 2015 finally I can
create more snapshots off this version
by clicking the create link in the
snapshot and restore region so let's do
that I need to provide it with a name
and the snapshot creation request has
been submitted you can see now I have a
private snapshot of my database I can
create as many of these as I want so
I'll create a couple more as well while
the snapshot is being built in the
background you'll see a status for the
snapshot of incomplete let's say this
database is being used by developers for
testing new code once that status of
incomplete clears the snapshot is ready
and I could now make database changes to
my original database such as adding new
tables or columns and test out the
changes I can then use the second
snapshot I've just taken to restore the
database as it was before the database
changes has been made by clicking the
restore button once I've told the system
to restore to the second snapshot I can
go back to the self-service portal and
what's the progress of the restore now
let's go back to the database homepage I
can see the database has been restored
because snapshot 03 that I've taken more
recently that then snapshot 02 there's
now gone so what happens when a database
has been created using a snapshot to
thin expires does it automatically get
deleted when the snapshot expires let's
log back in as John Smith and see what
happens in that situation
here I can see that the snapshot was due
to expire six days ago however it can't
be removed automatically because Jane
still has a database using that snapshot
I can see who owns that database by
looking at this link in the years by
column and indeed it shows me the Jane
Doe owns this particular database I can
now call Jane and tell her she needs to
refresh your database because the data
is quite old let's swap back to James
view of the database cloud self-service
portal where I can refresh that database
when I select the service name it takes
me back to the database homepage for
that service from here is simply a
matter of clicking the refresh button
selecting a more recent snapshot and
clicking refresh again I get prompted to
make sure I want to refresh the database
to the snapshot I selected and notice
again that the private snapshots I had
created will be purged I then to see the
Refresh database request has been
submitted successfully and I can go back
to the database cloud self-service
portal to watch the progress of the
Refresh
once a refresh is completed you'll see
the synchronized on time has been
updated to reflect the time the refresh
I'm be chairman thanks so much for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>