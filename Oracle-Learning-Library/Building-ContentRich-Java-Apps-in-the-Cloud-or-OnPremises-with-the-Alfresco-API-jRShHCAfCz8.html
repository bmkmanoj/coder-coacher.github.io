<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building Content-Rich Java Apps in the Cloud or On-Premises with the Alfresco API | Coder Coacher - Coaching Coders</title><meta content="Building Content-Rich Java Apps in the Cloud or On-Premises with the Alfresco API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building Content-Rich Java Apps in the Cloud or On-Premises with the Alfresco API</b></h2><h5 class="post__date">2013-01-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jRShHCAfCz8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright well good morning everyone
thanks for coming out and it is quite
early so I commend you for being here at
this hour and also for the fact that it
does have a vendors name on the session
so you never know what you're going to
get when you come to a vendor talk at
one of these conferences so hopefully
rather than a sales pitch this is really
tools that you guys can use on your on
your project so I hope this is very
useful for you everything I'm showing
today is completely free so there's no
no no reason to get out your checkbooks
no matter how compelling my content
might be just just relax you can use it
all free of charge so so I guess for
starters just to introduce myself I'm
Jeff pots I lead up the the alfresco
community and I'm also a lead up a
little project on a patchy chemistry
called CMAs libe and we'll mention that
probably later but I worked for alfresco
and it's al fresco is something that
I've been working with since 2005 or
2006 right when al fresco got started
and I just want to spend some time
talking about what is al fresco because
not everyone in the room may know so I
give a brief overview of that and then
I'll go right into why you shouldn't
roll your own content repository or and
which al fresco is a Content repository
and so i'll be presenting you know the
case for using something like al fresco
or al fresco specifically instead of
instead of going your own way or a
restoring content in your content
applications then this morning we are
announcing the public al fresco API so i
will show you how to get started with
the API how to sign up for an API key
how to hit our API with a rest client
and add some Java code then I'll do a
small brief sidebar into the CM is
standard content management
interoperability services because I
think that's an important standard that
even if you take nothing else away from
this talk and you decide I'll fresco
isn't going to be a good fit for you you
should at least be looking at CM is for
your content application projects and
then I'll give you a few guidelines and
tips and then hopefully at the end I'll
leave some room for questions okay so
what is al fresco al fresco is an open
source content repository we're in we're
an ECM platform we're available on
premise so you can install us on your
own servers we can be installed in your
cloud infrastructure so if you have
cloud infrastructure on whatever cloud
that is you can install us there or if
you would just rather us run the servers
we have a multi-tenant SAS offering
about fresco it's the same software in
all those cases and so if you want to
just sign up and use alfresco in the
cloud you can do that now and so it's
one platform running in lots of
different places wherever you feel like
you want to run it and then one API for
for your applications to leverage so you
don't have to learn a bunch of different
api's you can learn one API and what's
really cool is that it's CMAs based so
it's based on an industry standard and
we'll talk more about that here in a
little bit now one of the things that
we're seeing is that obviously people
are rolling out tablets like crazy
across their organizations and so we
really feel like alfresco can be a
Content hub for those tablets so tablets
aren't much use if you don't have great
content on them and alfresco can be used
to control that content and deliver it
out to all of your devices whether it's
desktops laptops or mobile devices now
we're a commercial open source company
and so we have 2200 enterprise customers
this is for the on-premise version of
our software 2200 enterprise customers
those are across 66 countries millions
of users and billions of documents being
managed I always kind of laugh at this
line it's like the McDonald's used to
have the exact number of hamburger
results like every time we make the
slide we have to increase it and then
finally at some point we'll just give up
and we'll just say billions of documents
it's a lot of documents so benefits so
for end users I already mentioned this
your end users can get to their content
on any device with any content any
content tool anywhere that they happen
to be so if someone's sitting in a call
with a customer and they need the latest
sales presentation they can get that and
you can be assured that that is the
latest and greatest sales presentation
as just an example for an organization
like an IT organization or just the
organization as a whole you can manage
and control your content make sure it's
secured make customizations you can
integrate that content with workflow I
mean I think this is what sort of sets
us apart from things like Dropbox and
other sort of consumer grade file
sharing tools where I think all of us
have probably seen our content sort of
slipping out of the borders of our of
our companies because they're being
shared on these consumer consumer tools
and I know some of you your
organization's have probably blocked
those tools but in a lot of cases people
are taking critical content and putting
them out there on those tools and it may
be exposing you to to risk and then for
developers it's one standards-based API
which I've already I've already
mentioned but I think it's important
because as you know I'm a former content
management consultant so you know every
time I would walk into a client and do a
do a project I would come across another
content management system and in fact
according to aim which is an ECM
industry association seventy-two percent
I think of large organizations have
three or more content repositories in
their organization I see some heads
nodding I mean I think a lot of people
in here you know you probably have
documentum and you have sharepoint and
you know maybe some of you have al
fresco and you know just it just keeps
going on and on you have a lot of
different repositories so as a developer
it's a drag right having to write all
these one-off integrations every time
someone wants the similar app to
integrate with another
repository so having one standards-based
API that you can learn and right against
is important so how do we deliver this
first off open source so all of our
source code one hundred percent
available to you as a developer again as
a former consultant who's you know run
into problems with software there can be
bugs from time to time and the software
and your client doesn't really care
right the customer doesn't really care
they want you to fix the problem so what
do you do when you're running a document
amor a sharepoint how do you debug the
vendor software code you can't do it I
mean you can decompile their code and
things like that but it's a it's drag so
for me when I made the switch to open
source that was a huge thing just being
able to step through alfresco skoda line
by line and looking for those problems
and fixing those problems was a was a
major productivity boost for me open
standards we'll talk more about CM is in
a bit but I just think it's important to
have a Content repository that plays
well with others that you know actually
leverages these open standards that
exist choice some people it's okay to
them that they have to run on a
Microsoft operating system that they
have to use a Microsoft database that
they have to use a Microsoft Application
Server that they have to use a Microsoft
browser some people that's fine to me
that drives me nuts I want to have
choice up and down the stack I want to
run on Linux right I want to run against
mysql i want to use Chrome or I want to
use firefox in the browser I want to run
on tomcat so that's al fresco is all
about choice and freedom so that you can
deploy the way that makes sense for you
okay a few random examples like so I
think you're getting the fact that we're
an open source content management
repository how are people using alfresco
these are truly a grab bag of just
random use cases you know contract
creation people want to create a
contract they might want to reuse
clauses from old contracts that have
been successful in the past or something
like that so I want to search across
those and find those press requests so I
did a little project for a video game
company in the area who
a press company calls them up and says
hey we want some screenshots of that
video game well I my naive head I was
thinking well someone probably just
takes a quick screenshot and sends it
off to the person that asked for it
actually what happens is there's this
huge workflow a business process that
happens within the video game publisher
where the request goes to marketing and
it goes to court you know communications
and it goes to the art department and it
goes to the engineers and finally
there's a set of screenshots that get
produced that's specifically made for
that publication and those get delivered
back to the publication and you can do
something like that easily with with
alfresco boardroom collaboration so this
might be b2b collaboration we have some
content we need to work with other
companies that we're partnering with and
we want to share share content field
sales I already mentioned customer file
sharing so maybe you're in professional
services you've got power points you've
got architecture diagrams you've got
prototypes mock-up screenshots invoices
things like that that you need to share
with your customers so alfresco can be
used to do that even a university course
guide publishing so I went down to
Johannesburg and met with a university
down there and all of their packets
they're like in my day you had to go get
a packet from kinkos for a class and it
was like that you went got a bunch of
copies that were like this thick and now
you go in and all that stuff is ebooks
basically and that's all gets compiled
by the teachers and turned into an
e-book and in some cases it gets printed
but that all happens throughout fresco
for this particular University so this
obviously is not a complete list the
fact is that anytime you have content
lots of files that you're dealing with
you need something like a Content
repository to be able to deal with those
files people want to know what is the
latest and greatest file they don't want
to see the the file name that says pots
contract final signed v3 in review draft
you've you see you guys have all done
that probably where you're just people
are using the file name to try to store
metadata about the file it's like crazy
you know or where is the expense report
that I submitted you know what is the
process and where is that it's falling
into a black hole how come I can't get
reimbursed for the awesome dinner that
Joe and I had it that fish place last
night that was great so we're why can't
that be approved and so a Content
repository can help you answer those
questions latest and greatest what
version of the document is this is this
in a business process and if so what
step is it in now we're all developers a
common response to this problem when a
customer comes to you and says I need to
work with this content in a more sane
way a common response is like Ryan
Gosling here hey let's grab a framework
let's grab a relational database let's
knock this baby out we'll have a nice
custom map it work exactly the way we
want to and I'm just saying you know not
so fast Ryan there's a few things to
think about before you go off and try to
write one of these yourself and I have
to always look at the slide cuz I always
want to call them james gosling that's a
different guy entirely might be actually
funnier to put his face up there instead
of Ryan Gosling but anyway so Do It
Yourself content repositories relational
not a good idea why relational is great
for text and numbers but when you start
putting binary data into a relational
database you're liable to have problems
like size limits you cannot put
massively huge files into a database
most databases have limits to that
random seek so maybe you have videos
that you want to stream out of your
repository and its really tough to do
that out of a database they're not just
they're just not built to do that or
search so not all databases can actually
full text index the blobs that are in
the database you need something like a
Content repository to be able to do that
so there may be small applications where
it makes sense to stick your content
into the database but in most cases it
actually doesn't make sense and you
might be curious to know I mean I'm sure
there are a lot of people in here that
SharePoint in their organization
sharepoint actually does stick their
content into the database and that's why
in a lot of cases share
is can be limited in extremely large
rollouts all right so let's say that you
say all right Jeff we get it we're not
gonna put our files on database let's
move on all right well once you do that
you have to think about some of these
other features or function points that
are going to be in your content centric
applications so a security framework
search is I already mentioned a workflow
engine doing transformation so going
from like a word document to a PDF or
going from a gift to a PNG or different
types of transformations or even looking
at that data those files and extracting
data out of those files as they're added
to the repository webdav sifs even the
SharePoint protocol which we've
implemented so that you can actually use
the nice office integration that has a
SharePoint but then tell it hey i'm
using SharePoint wink wink and you're
really using alfresco behind the scenes
and then that office integration
continues to work so you know the this
what I'm trying to tell you is that your
applications that you write that deal
with a lot of files may not use all of
these may not have a need for all these
features but I bet that it there are a
lot of these features up here that you
will need to use and are there open
source components out there in the in
the wild that do some of these things
actually there are if you want to go do
metadata extraction there's a great
library called Apache tika which you can
go grab and that'll extract metadata out
of all kinds of the binary files and
that's awesome if you want to do
scheduled jobs in your application
there's quartz quartz is a great library
but when you want to do all of these
things you have to go grab all those
pull them together and you have to ask
yourself at some point what have we just
done what have we done we have created
this badass vehicle that can float in
the lake and it can drive down the road
but when I take this down to ntb or you
know the mechanic and try to get a try
to get some work done they're going to
look at me like I'm crazy like what I
don't even know where to find the hood
on this thing like think even though so
people are doing this today with content
repositories they're building their own
content repository
x over a period of years and then
they're looking back on it and going
okay we sort of built a car boat here
and actually the people that originally
built the car boat don't even work here
anymore and now this code is expensive
to maintain it's breaking left and right
and no one knows how to work on it it's
not standard so this is the solution as
you probably already figured out that I
may propose is to use alfresco use
alfresco as a content platform we're
open source it's free just go grab it
and start using it you kind of have to
be crazy not to be rolling your own car
boat when you can get our car boat ours
isn't a car boat it's its standard but
you can come get our platform and start
using it in your in your own application
so so let's talk a little bit more about
this and then we'll get to the API so
basically I've already shown that you
can use alfresco on your web browser in
your mobile devices and then what you're
doing is you're sitting on top of a
repository that repository is either
running it on premise in your data
center or it's running in the alfresco
cloud or there's you know could be
running in your own cloud but we'll just
consider that on premise for the
purposes of this diagram and then in the
middle you've got an alfresco API so
you've got these applications they're
hitting the alfresco API and those are
hitting on premise or cloud all right
we've also recently announced a
synchronization so i'll just briefly say
that if you have content on premise and
you want to carve off a piece of that
content and share it with people outside
the firewall one option is you call up
IT and you say hey can I get a VPN
connection and can you add my partners
into the LDAP directory and can you make
sure they can get in securely and
they're going to be like yeah yeah three
four months or I'm going to tell you
know if I'll you know or it's not going
to happen so what you can do is you set
up an alfresco cloud instance you take
that folder and in your repository and
you say hey let's share this with our
partners boom you replicate that stuff
out to the cloud and then you invite
them to the cloud and now you can
collaborate on that content in a secure
way but that's not what I'm here to talk
about what I want to talk about is is
the repository
the services that wraparound that
repository and then the API will get
some some code examples running here in
a second so the repository what is that
thing it's a collection of typed nodes
it's a hierarchical collection of type
nodes so what's a node a node is like a
folder or document or it could be a
business specific type like a contract
or a resume those are all node types and
these nodes may have content associated
with them right so a Content stream so
if I have a resume this resume object is
sitting in the repository and that
actual PDF or word doc that represent is
the resume is sort of attached to that
node now as I mentioned earlier we don't
put the files in the database we put the
files on the file system so that means
there's no limit as to the the size of
those files the only limit is the
underlying limits of your file system
then the metadata that we store with
these nodes goes into a database and
then you as a developer just say hey
give me an object and we hand you the
object and it has the metadata on it you
can say hey object give me your content
stream boom here comes the content
stream and that's the that's the actual
binary file that's associated with it so
we have nodes we have metadata
associated with those nodes everything
is secured so you can secure it down to
the user and group level and everything
is searchable so if we can read that
content somehow we will index that
content we use lusine under the covers
in alfresco for we can now use solar so
if you'd rather have split out your
index and sort of scale that out
separately you can do that with solar so
that's the repository now here are some
of the services that wrap around that
because you can go out and grab a
repository that's not a database right
there are repositories out there but the
services are really add value to that
and really I think distinguish alfresco
so first off workflow it's not often
that you're just creating files for the
heck of it right those files that you're
creating and collaborating on go through
some sort of process they're
collaborated on with people around your
organization and that business process
can often be
codified into a into a workflow that
runs within a state engine basically
activity is an open source workflow
engine that you can actually use in your
non alfresco related or non content
related projects so if you have a java
application and you need to manage
business processes and manage state you
should go look at activity organ and
check that out it's a BPM in which is a
business process standard it's a BPM in
to point out compliant workflow engine
that's completely open source so we've
taken that and embedded it within
alfresco so if you need to route your
documents through a workflow you can do
that using activity we've got
transformation so I've already mentioned
earlier some transformations office
documents images videos and so on rules
these are triggers that you can set so
that when your end users can actually
configure these rules so that when some
condition is current is met then
something happens maybe we want to set
up a rule that says anything that goes
into this folder is always going to have
a PDF rendition created or anytime
someone deletes something out of that
folder I want to copy it over to my
archive or something like that so these
are little rules that our end users can
create and you can add your own actions
as a developer you can just write some
Java code to create those actions you
can sort of create a library of actions
that your end users can then sort of
compose into to meet their own needs and
they don't have to get you involved
every time they want to do something
similar to that all right api options so
if you are customizing alfresco then you
will likely be using java our foundation
api is java we deploys a war file into
any servlet container tomcat is the most
common one that we see but others are
supported we also have server-side
JavaScript going on in a lot of our
things so you know that is that can be
an API option is server-side JavaScript
then if you're talking to alfresco
remotely so you're not running in the
same process then you need a remote API
and there's one called cmas which is an
industry standard and that uses
Adam rest or soap so there's two
different bindings there it's up to you
whether you want to interact with it in
a restful way or using web services so
that's one option and then the other
option is something that we call web
scripts web scripts is a simple model
view controller implementation and
basically you just define your own URLs
and you associate that with some
controller logic that controller is
written either in Java or JavaScript
server-side JavaScript and then you have
some views that are written in
freemarker but what I want to talk about
today is the alfresco cloud API we're
launching this today it's a public API
which allows you to use cmas and
alfresco rest to work with alfresco in
the cloud so if you're riding mobile
apps if you're writing cloud apps
desktop apps any kind of apps where you
want to help users work with the content
that they've stored out in the cloud you
can do that with the alfresco cloud API
and we've launched that this morning and
everyone can go get signed up as a
developer and I'll show you how to do
that momentarily so what are we
announcing it's a public API for
alfresco in the cloud it's based on CMAs
so if you are already familiar with CM
is you're already going to know how to
use the alfresco public API so that's
pretty awesome then we are also
announcing the availability of alfresco
alfresco Mobile SDK we have a native iOS
application it's also open source so if
you want to do some iOS development to
help people work with their content
either in alfresco cloud or on the
repository can go grab our our mobile
app from bitbucket and go to town but
what this is is a set of SDKs that help
you work with the alfresco API and they
basically just wrap the cloud API so you
could start today doing mobile apps in
fact I'll show you a screen in a minute
of some of our launch partners who have
done just that but if you wait until
probably should be no later than the end
of October will have the SDK for both
iOS and Android to just help you do that
kind of development all right so
oh really this is just what I was just
saying but in a picture instead of words
so half of the API is CM is so you're
going to have Adam pub XML going back
and forth and half of the API is
alfresco rest which you'll have JSON
going back and forth now this is you
know I would rather have JSON across the
board here and coming in the next
version of CM is they have a browser
binding which is JSON and so once that
happens then this will be better to deal
with but right now what happens when you
use the alfresco API when you're working
with documents folders and access
control lists and other things that the
cmas spec covers you'll be using adam
pub xml and when you're using things
that seem this doesn't cover you'll be
using rest and I'll show an example of
this in a second it's not as confusing
as it sounds but it's just that you have
to realize that you're that's one API
but but to sort of phases to that API ok
so we're launching today and we have a
few folks who had early access to the
API and so they are working to integrate
their applications with our API as we
speak so probably rather than showing
you kind of who they are I'll kind of
show you what they do so you can get a
feel for sort of the some use cases so
on the left is an application called PDF
pin and this application helps you
annotate pdfs on your mobile device and
so in this case why they're integrating
with us is because people have a lot of
pdfs that are sitting in the alfresco
cloud and so this application helps you
work with those pdfs here is an
application from mo prize mo prize helps
you be more productive in meetings so
basically you go grab a collection of
documents out of the up fresco cloud and
you say let's have a meeting about these
documents and then it gives you a user
interface to to work with those and then
on the bottom is o tick so I think
that's how you say it and they basically
just help you organize and gather up all
the files that you have stored in
different cloud services alfresco cloud
being one of them
and so I just it has a baby on and I
couldn't resist for for no other reason
I just had to put put the slide up there
cuz it's a cute slide alright well
enough sort of convincing you that this
is an awesome idea let's just see how
this works so the first thing is i want
to show you just a snapshot of the
alfresco cloud AP ice or the cloud user
interface so you can see what this looks
like so I would go to if you don't have
an alfresco cloud account you can go to
cloud alfresco com you can sign up for
an account I'm going to go to my
alfresco com which is where I'll go to
as you actually log in and I'll just log
in to my real cloud account here so we
use we use our own stuff like organizing
our developer conference and this has
been perfect for getting speaker slides
and things like that from all my
speakers that don't work for alfresco so
when I log in this is what I see I can
see a list of the content that I'm
currently working on I can see a list of
the sites that I belong to a site is
really just a collection of folders that
sort of have a logical meaning like the
developer conference might be a site in
my case alfresco API demo is a site and
then I can see an activity stream so i
can see what people are doing what
documents they've commented on documents
they've modified etc and if i have any
tasks that are waiting on me a little
work flows that are running than those
tasks will be shown here so let's go
into the alfresco API demo site and go
into the document library here and we
can see that it's a set of folders and
within these folders i can have
documents and what we'll do is we'll use
the API to stick some some documents
into the into the folders here I always
like looking at my browser to see what
I've been searching for recently does
anyone else have to constantly look up
the git push syntax does anyone here use
get like I'm an svn person so every time
I want to push something so anyway I
just caught my eye had to call it out so
let's let's go in here and and do some
run some Java code so I've pumped up the
font so I hope that in the back it's
readable all this code that i'm showing
I've already uploaded to Google code so
i don't have a link to it at the end and
the slides will be on SlideShare and
oracle be putting them somewhere so you
can get a link to all this also the
demos that i'm showing i've already
recorded a screencast and put those on
youtube so if you want to see the demos
again you can just get them on on
YouTube I also did that as a backup in
case there was a problem with the
network so it's a good idea to have
build suspenders so anyway I'm
digressing and I'm I have a tendency to
do that so let's let's look at a simple
example which will hit the alfresco API
to find my home network a network means
when you join al fresco cloud you sort
of claim your domain as your network so
al fresco calm is my network because
that's what I've joined the a fresco
cloud as if you have you know furry
kitten scom when you join the cloud
furry kittens will be your network and
all the people other people that work at
furry kittens will be part of the furry
kittens network and then you can invite
others to collaborate with you but
that's what a network is so let's run a
call to find my home network and then
find the sites that i can see that are
in my network I'm using the Google OAuth
2 client in fact I think it might be an
older version of the oauth2 client but
we use OAuth 2 for authentication
against the alfresco cloud you can use
whatever Oh off client you want to it
doesn't matter to us I just went and
grabbed one so I'm going to not show you
the details of that I'll tell you in a
minute how of2 works but I'm going to
avoid the details and just show you what
these calls are like so I'm grabbing a
URL API al fresco calm and we are going
to build a get request out of that and
then we're going to parse what comes
back the JSON that comes back and I have
just some poggio set up to represent the
objects that come back and then we're
going to dump those out to sis out
because i was too lazy to use a real
logging framework alright so let's run
this and the first thing
that's going to happen is this is a
command-line example but that
application is starting up a little
jetty server and so that I can have a
callback URL because OAuth requires a
callback URL so I'm just have a little
callback URL that's it's in this little
jetty server so what's happening is I've
asked alfresco for authentication and
alfresco is coming back and saying hey
Jeff this application Java one demo is
trying to access your your cloud account
and is that okay well yeah I mean it
would be a pretty short demo if I didn't
grant that access so let me just grant
that access alright cool so access is be
granted let's pop back over here into
Eclipse and now we can see that we we
grabbed an access token we found a
network my home network is al fresco
calm and then it dumped out 10 sites
that i can see in my alfresco network
now you might be wondering with that
with that JSON that comes back looks
like so I'm going to grab this access
token and I'm going to pop into chrome
because chrome you know I'm sure there
are some with firefox but I just happen
to come across this dev HTTP client
which kind of has a nice look and feel
so I'm going to add the bearer token
into my authorization header and then
I'm going to issue a get against that
API alfresco calm and what we can see
now is the raw JSON that comes back so
you this is a good way to test and work
with the alfresco rest api is to just go
grab an HTTP client and just start
putting the urls up there and make sure
that you've got a bearer token from the
OAuth response and then you can see the
you can see the JSON that comes back so
in this case I'm getting networks back
so it gives me a pagination object that
tells me how many how many objects were
there whether I have more so I can page
through them and then gives me the
entries in my case there's just one
entry alfresco com and if I scroll down
to the bottom I can see that the home
network is set to true
see when it was created whether it's a
paid network my network subscription
level and stuff like that so that is a
simple case of hitting the hitting the
rest api so i showed you a little bit
about the cloud api i'm not going to
show mobile today in the interest of
time if you want to see our mobile app
just come by the booth and we can give
you a demo of that so what do you do if
you want to go ahead and start and sign
up and start playing with this API it's
easy to sign up and it's completely free
so you can go to developer alfresco calm
and click register as a developer can do
this even right now if you want to give
a first name a last name an email
address a password read the terms and
conditions in great detail then click I
accept the terms and conditions and
click register now you'll get an email
you confirm the confirm your account and
then you'll be in so let me show you
what that looks like so i'm going to log
in using my credentials and let me go to
my application list so you can have as
many applications as you want these i
have three apps set up right now i have
a java app a Python App and a grails app
and what you do is you can just click
Add application and give it a name tell
us whether you're using Java Python or
something else it doesn't matter to us
it's just get information for us to have
and then you click over to off here i'll
do a
oh yeah you have to tell it that you're
using the alfresco public API we may add
more api's to that over time and then
you have to give it a callback URL so in
my case I'm using the loopback IP
address and then / call back and and
that's all there is to it so now once I
save this there's my app now I can go in
here and grab the secret the key the
auth key and the secret and then I just
put those wherever my o off client
expects to them so in my case using the
Google OAuth client I have a little
class here called oh off to client
credentials and so my client ID and my
secret just go right in there as as
constants I think in the newer version
of the OAuth client you put it in a JSON
file but it's the effectively the same
thing and so that's all there is to it
to running the to running the hitting
the alfresco API okay so how many people
are already doing Oh off to sort of
interactions with their apps they're
writing anyone in in here no okay it's
actually once you find a library that
you like it's actually pretty easy but
basically what's going on is you I just
showed you how to sign up for four key
you're going to get a key and a secret
you'll then put those in your app you'll
invoke our authorized URL this will
cause the application to ask the user to
grant permission to your to your to use
your app the user sees that grant they
they grant you permission this then
redirects back to your callback URL your
application catches that redirect and in
that redirect there's a little code that
comes back you grab that code then you
exchange the code for an access token
and you'll get back and access token
with an expiration now once you have
that you can you're off to the races you
can issue as many API calls as you want
to eventually what happens is that
access token expires
and so you then have to just refresh the
token so that's just a call again a call
to alfresco to refresh the token and you
continue on as you as you normally would
so these details are actually hidden
from you when you use something like
Google's oooff client you really just
have to know where do I put where do I
put my API key where do I put my secret
and what what is the authorization URL
and what is the token URL if you have
those things it's no big deal I already
showed you how to hit the rest api and
that will work with any rest client and
again all you need is you have to have
that token that comes back from all that
Oh auth interchange you have to put that
in the header which is what the OAuth
client is doing for you on your behalf
all right so what is so I mentioned that
the API is consists of two parts the
rest api and the cmas api so the rest
api is used for sites so if you want to
get a list of a user sites if you want
to find out who the members of that site
are if you want to find out what
favorite sites a member has you can do
all that with the rest api networks we
talked about you can get the details of
that person's account or peoples peoples
account you can find the containers a
container is just a folder so what are
the folders that are in a given site you
can get the Activity Stream you can find
and create ratings on folders and
comments you can create comments on
documents and you can tag things so
those are the things that get covered by
the REST API now that's the initial
thing that the API covers will expand
this over time so for example we were
talking about Earth workflows earlier
today you cannot from the API trigger a
workflow in the alfresco cloud and
that's something that will likely see
changed in the next in the next version
you can't trigger those transformations
that happen you can do those with rules
in the alfresco cloud but you can't do
those from the API just yet so workflow
and transformations are two things that
I think we will see added to the
I fairly quickly all right so i talked
about cmis earlier and I told you that
was important even if you don't want to
use alfresco so let me give you a few
bullets on that because I do think it's
an important standard and it'll help you
use the alfresco API if you decide to do
that so it stands for content management
interoperability services it is a
language-independent vendor-neutral api
to manage by oasis so oasis is a
standards body and they own the CMAs
standard and basically it helps you
create read query update delete nodes in
a repository like alfresco now you might
be thinking well is this out now fresco
only thing because if it is you know is
that really can we call that an industry
standard well see Miss is backed by
alfresco documentum Microsoft IBM so
filenet actually both flavors of filenet
I can't I don't know iBM has like 10
different content management systems but
two flavors of file netsupport see my
ass sharepoint supports cm is so i even
i'm not sure what Oracle's status is on
CM is but I don't if someone in the room
knows they could educate me but
basically the big heavy hitters and
content management have cm is
implementations so it's not just an OP
resco thing so it's creating nodes it's
doing check-ins and check out setting up
relationships between nodes managing the
access control lists doing queries
traversing the repository so the nice
thing again going back to the sort of
frustrated content management consultant
story is that you can you can choose the
front end that works for you you don't
have to use your vendors proprietary you
know SDK for building user interfaces on
top of their repository choose what
works for you and then right against the
cmas API because you know that that will
work for any cmas repository alfresco
there's a jackrabbit bridge to see Miss
SharePoint whatever so this is a big
deal because you know
it's like the it's like sequel was in 92
for relational developers because before
that happened people had to write to a
specific database because everyone had
their own flavor of sequel then sequel
was standardized and as developers we
could write an app once and be
relatively assured that it would work
against you know multiple relational
databases and so this is sort of a
moment for most people but in the
content management space being able to
write an app one time and have that app
work regardless of where someone chooses
to persist their data is actually a
really cool deal so all the all the CMS
geeks are you know excited about about
cm is now there's a reference
implementation for the standard and
that's housed in the Apache chemistry
project so if you're doing anything with
CM is you should go to chemistry to
pachi org and there you can find a bunch
of related seemed is project so if your
java developer which i assume you know
if not you know news flash with the
round conference but if you're a Java
developer there's open cmis or open cmas
and so you can grab a client there you
can also grab a reference server so if
you want to just grab a little in-memory
cmas server and run that on your laptop
and check it out then you can do that if
you're a Python fam like I am then you
can grab CMAs live and you can do Python
stuff and there for all those other
languages that we prefer not named those
are there are libraries for those as
well a shameless plug I'm writing a book
with two other guys one from IBM and one
from sa p on cmas and apache chemistry
so if you want to learn how to write
applications with CM is you can grab
this book from manning it's available in
meat which is like the early access
program so you can go grab the book and
have the chapters as they're written so
we're about a third of the way through
the book right so see Miss I just talked
about it why don't I show you how to how
it works so let's go jump back over to
eclipse and let's run a little
ample that will find a folder find the
container so that requires a rest call
and then create a folder in that folder
so that's the cmas call and then do a
like on that folder so now that's a
that's back to the rest side and then
create a document so that's the cmas
call and then create a comment on that
document so that's a rest call so
remember that I said that the API is two
parts alfresco rest and CMS and so this
this example is going to sort of
interleave calls to each of those to
show you kind of how that works so let's
run it first and then we can look at the
code if we're if we're interested so
let's go ahead and fire this off now
notice that it's asking me to grant
permission again even though this is the
exact same application when you when
your OAuth client returns a credential
if you persist that credential that
won't happen you can just once someone's
granted app access to your app and you
store that credential you can just keep
letting them hit your app so I just
haven't persisted the credential
anywhere so every time I run my example
it's going to ask me that again all
right so access token we created a
folder here's the object ID of the
folder we did a like on that folder we
created a document there's the object ID
of that document and then we then we
commented on that document so if I pop
over to Firefox and go into the document
library and refresh this so now we're
back we're in alfresco running in the
cloud here's the test folder i just
created you can see it's got a like on
it and if i open up this test folder
then there's the PDF that i just checked
into the repository and if i pop open
this PDF it'll it'll preview it it's not
a very exciting PDF but if it were a
large PDF you can see the that it would
be nice to allow people to page through
that PDF without having to download it
we can preview all kinds of media that's
just a PDF example and I didn't I have
an example that sets metadata mine
didn't really set
any set any metadata to speak up here
but then here is the here's a comment
that we've placed on the document so
these are simple examples I know but
these are the building blocks for
building some of those apps that i
showed you earlier the PDF annotation
app or the cute babies that i have
pictures of app or whatever app it is
you can build those apps using these
simple these simple concepts if we if we
go back over here we can see how to like
let's look at a create folder example
i'll just pop into that so we are
grabbing a folder object so i guess i
should back up and say that what comes
in to this method is a parent folder ID
so where do you want me to create this
new folder and then I do a I ask cmas to
get me an object using that object ID
and then we're going to try to create
the folder so I increase my font I have
some indention issues here so ignore
those so I am trying to get the folder
and if the folder exists I'll just
return that folder if I can't find the
folder that means we need to create the
folder so to create the folder we just
need a hashmap of properties and so we
will tell it that it's type is see Miss
folder so this cmas folder is kind of
the lowest level a folder you could
create and in the on-premise version of
alfresco you could extend that to be
your own types of folders in the cloud
right now you have to live with the
metadata that we have the content model
in the cloud but at some point will
allow you to extend that so if you
wanted to have a folder that's you know
annual report folder or something then
you'd put your type there then I'm
setting the name and then I'm just
calling create folder and I'm passing
the passing the props in so I create the
folder get the folder back and then I
looks like am echoing back the folder ID
and then returning the folder so I mean
that's a simple example this uses open
cmas available available from apache
camus
three combined with the Google OAuth
client and you can do this in the cloud
the interesting thing is that because
this is cmas and because al fresco on
premise is also see miss this same code
minus the OAuth stuff will work against
against al fresco on premise so you know
it's nice to have one API to to to worry
about ok I want to get through the few
of my slides towards the end here and
then and then let you ask questions if
you have questions so a few things to
consider first off we're going to rate
limit the request to the alfresco API so
we have two plans a developer plan in a
production plan they're both free it's
just a way to tell us when you're moving
into production so we get a heads-up so
the developer plan is five requests a
second 10,000 requests a day and the
production plan is 50 requests a second
and a hundred thousand requests per day
we are not limiting you on the number of
applications that you create you need to
create the application and then you'll
probably deploy that application
somewhere and you want to keep the
secret and the off-key secret you don't
want to like put that on google code or
something if you do compromise the
secrets you can always refresh them in
our developer portal which I'll do after
this demo since I've shown my secret my
key to everybody here the alfresco cloud
users own their own content so unlike
some file sharing services that are out
there that assert ownership over things
that get put into their service we don't
assert that ownership I think that's a
nice thing that we do for our users and
just as a reminder to you as a developer
you don't own that content either so if
you write an application that helps
users create and modify content that
lives in the cloud you're helping them
modify their content you're not helping
them modify your content so our users
own own their own content open cmas 080
snapshot is what I used in my demo so if
you want to do what I just did you need
to go grab the the daily snapshot build
of open CMAs we're working on a stable
build I would imagine where a week or
two or two weeks out from having an oh
80 stable out and then similarly on the
Python side
051 dev basically a snapshot build is
what you need that just that's just
because of the OAuth headers those had
to be modified to accept that all right
where should you get help we have an
alfresco API forum forums da fresco com
we some of us hang out in IRC when we're
working so in pound alfresco on freenode
IRC we have an alfresco technical
discussion google group so you can send
questions there here are the links to
the code that I showed we didn't do any
Python here just because I didn't think
anyone would be interested and you can
also come by the booth of with questions
so alfresco open source enterprise
content management it's a repository
services that wrap the repository and
then an API that that wraps that the API
standards based its CMAs plus alfresco
rest and you can go to developer
alfresco com to register as a developer
so definitely go sign up for a cloud
account free tin gigabyte cloud account
to use as you see fit if you need to
have more users or more data you can
upgrade and pay us a subscription to do
that then register your application at
developer offer us go calm and then
participate in our community I lead up
the community I want everyone in here to
feel welcome in our community to be able
to ask questions to be able to use our
examples and our tools and to help each
other and also just a thing to remind
you that we're having a developer
conference in san jose know from
november fourteenth and fifteen so if
you want to come to that conference and
talk to our engineers talk to other
people that are developing alfresco apps
then you can you're more than welcome to
join us in San Jose we have a number of
local meetups that happen around the
world there is a pretty active Bay Area
a meetup group so if you want to just go
to meetup com and search and you can
probably find an alfresco meet up in
your area if you don't find one then you
should start one and let me know and I
can help you do that so these are some
links all
leave here for for you guys to get when
you look at the slides so I think we
have a few minutes left for questions
does anyone have any questions or
comments yes yep so Drupal is we see a
lot of people combining Drupal and
alfresco and in fact all of our almost
all of our public-facing web sites or
Drupal based so we love Drupal and when
CM is first came out I was I worked with
some people to implement a module in
Drupal called cmas API and that's there
now whether that module will work with
alfresco in the cloud it can work it
just may not work at the moment so we
would just need to modify it in the same
way that we've modified those other
libraries to work with OAuth we just
need to modify that but because it's
CMAs based and because the cloud apic
myspace theoretically that should work
so that would be a really cool thing to
show and we can if you're interested in
participating and making that work than
we could use the help but so it should
work is the answer anyone else yes yeah
yeah it's a valid concern so you have to
obviously you have to back that up and
you have to when you're running on
premise it's important to dump the
database then tore up the the content
store and keep those in sync so it is
you have a valid concern which is that
if your database gets out of sync with
your file system then you have a corrupt
repository so people address that by by
doing
backup procedures like the one I
described or they do full machine
snapshots or you know they can do other
things to sort of to work with that but
but you're absolutely right it has to it
has to be kept in sync or it's a problem
yeah exactly if you go look at where the
files are stored on your file system
when you install alfresco you'll see
that we do the same thing our file
system is not meant to be public it's a
it's a hash to hash directory structure
and then the the attachments are all
some gooey dot bin is the name of the
attachment and so we don't expect anyone
to hit that directly we want you always
come through alfresco to get to those
files now we we expose alfresco you can
map alfresco as a sips share and so it
looks it appears to be a window share to
end users but really you're coming in
through the API you're never your net
never hitting those files directly
anyone else yeah yep so it's I mean
we're there we're in production so
alfresco 40 was the first time we were
using activity in production and so
that's there so now when you install
alfresco for and hire using the binary
installer we default you to activity
jbpm is still there so if you decide for
whatever reason you you want to use jbpm
instead of activity you can just
configure it and say i'm not using
activity i'm using a ppm or you can use
both so it's completely there we have a
workflow service that from an api
perspective there's a workflow service
that sits in front of jbpm and activity
so a lot of the sort of API level stuff
that you do is sort of abstract it into
that workflow service but but yeah it's
fully integrated and when you go look at
the user interface and you start a
workflow on something that's that's
activity in fact I didn't even mention
it but you can download if you would
rather run this on premise you can go to
alfresco calm and you'll see a community
lee
and you can download alfresco community
it's el gplv3 and so you can install
that and and use it as you see fit and
then we're hoping that at some point
you'll want commercial support and
that's where we make revenue anyone else
okay well thanks for your time this
morning and your attention and feel free
to catch Joe or myself in the hallway we
can answer questions or join us at the
booth anytime for the rest of the week
and we can show you some more more
details I've got a couple more alfresco
API examples I could show and other than
that thanks for coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>