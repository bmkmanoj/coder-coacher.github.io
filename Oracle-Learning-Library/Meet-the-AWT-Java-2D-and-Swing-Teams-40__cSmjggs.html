<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meet the AWT, Java 2D, and Swing Teams | Coder Coacher - Coaching Coders</title><meta content="Meet the AWT, Java 2D, and Swing Teams - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meet the AWT, Java 2D, and Swing Teams</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/40__cSmjggs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">430 I don't actually have any slides for
this I'll say right off because I want
it to be a QA hopefully things work out
I'll introduce who's here my name is
Phil Phil race I work in the 2d team and
you know it this is meet the aid of the
East Wing and 2d teams one of the
catches for us is actually most of them
are instant Petersburg and we don't mean
the one in Florida so we have some
representatives here these teams who can
move you know we're untouched on some of
these areas and we'll try to answer
things as best as we can here I have
Scott Kovich who is the who actually
worked for a couple of companies of
interest before we came here but he was
working on a stability and things like
that please now the lead for our mac OS
jdk on mac OS efforts which is actually
been a big thing first over the last
year in a bit and Alexis Sam enoch who
works on swing and javafx
interoperability as i'm sure you all
understand you know javafx is arm where
we're putting an awful lot of
development but also swing and a TBT and
the existing stack aware people have an
awful lot of investment so I'll just
start by sort of saying a few things
just was if we help us remember what
what's been going on recently in jdk 7
right we we ship the last year we didn't
really have a whole lot of updates what
we're basically trying to do with the
main stack is maintained it updated for
new platforms and I think pretty much
the same thing is going to happen around
for JDK 8 so JDK will bundle the FX
stack right in fact seventh jdk 7 is
already bundling the FX back and
eventually it'll become more tightly
integrated with that stack but you know
swing and is not going anywhere it's
there right but you know hope is it
eventually over time people will migrate
and using the interop capabilities
between swing and FX help to get them
that but you know we are we're not going
to let it wither in the sense of the
existing stack continue to be supported
and as new
operating system platforms come along
like windows 8 was coming in well this
month actually I think you know we will
be working to add necessary support for
windows 8 onto into the stack and I
think that that something likes 7 update
12 and problem well got some repining
going on but released early next year
we'll probably officially support
Windows Windows 8 and then you know
they'll be the usual kind of thing for
JT Kate would also support it Mac OS as
I touched on has actually been a pretty
significant effort for us APPL we've
been working with Apple for quite a
while I'm trying to get them to
contribute their code over years things
I mean quietly going on and eventually
it came to a head where we had to
officially start to be the jdk 7 Apple
we're not going to provide a jdk 7 so we
had to take that up and we work very
closely with apple and there were a lot
of different areas across the JDK that
had to be updated but definitely a DVT
and Java 2d were the two areas that
really took a significant significant
brunt of the work there but and that
that's in and I think 7 update for we
officially had support for desktop
applications and then 7 update snakes
added additional support for for web
applicant for applications running his
applets in in the browser and I would
like to say to that work is you know a
hundred percent complete we we're pretty
much a priority there's some subtle
things I think they're only just getting
fixed around what was the last there was
at least one what was the thing that we
missed was at least one parity feature
that was missing has forgotten what it
was now sorry
I thought it might have been something
in drag and drop that wasn't wasn't
working properly but all that will get
there there is still certainly a
significant number of outstanding bugs
in the in the platform and the quality
isn't yet where it is we've got to learn
a few things about you know well the way
we'd always had to do this we're now
taking the pain that apple took where
they kind of have a different model for
that platform and the things that we
done for for Windows and Linux and other
kind of UNIX is like they're like
Solaris no didn't necessarily fit the
Apple model so you know we'll get there
with the quality there too so with that
I'd like to actually just sort of asked
if you guys have I mean I want to open
up its meet the teams I don't I know
you're coming into it pretty kool i'll
try and warm you up as best we can but
want to find out what what's concerning
you what questions you have and you know
we'll we'll try to answer them so if
anyone has any questions
um Scott you have any idea of that how
bad that is let's see
mouse events are yeah it's a pain
because we've got this to process system
you know we we basically rely on safari
to send us an event when you go into
this oh okay let's be let's let's be
specific because if a mouse event as you
move into the applet area is that what
you're talking about or
is its clicks I think you can't get
clicks or moves out which one
they're not working over the applet we
have basically worked around this
problem in a horrible way by creating a
window which we put over top of the
applet that when you mouse into the
applet just move for being off screens
being over top mmm and then when you
move off screen we paint the current
state of the thing as a background on
the outlet so that I mean it's Wow yeah
because literally I november's moves or
bits clicks but one of the major
announcements just does not work inside
the Attic Bob okay and so in safari in
firefox it was fine so they it's a
safari agreement the Apple folks for a
while said that was ahead to do with way
that
was at the end
NPAPI yeah yeah was working or really
not working
right so now you guys on it well the
NPAPI is owned by the browser right
right yeah well ok so the browser
serializes an event sends it into the
plug-in which we then dispatch off to
you the client so the way it should go
mouse down mouse clicks mouse out the
best well best thing I can say is heavy
if you got a simple sample we can turn
into a bug and because of the act that
that specific part is what I work on is
is sending events from the browser to
the client but it so so is it over you
know if I mean this must work over like
a text field that you put in your applet
is it over specific parts of the apalach
is the applet background you're trying
to get the clip oh ok so this fight has
something to do with the focus of ok
yeah I've worked with the Dmitry sheriff
on and off on the tree yep yeah so
there's there's something going on with
the focus of the applet because people
you have to fake a window basically with
an applet and what's what we would tends
to happen is that the applet the browser
window becomes app active but the applet
doesn't realize that it's now active as
well so an event should go to sorry you
want to take it so the event should
be the event should go to the applet
window but the applet window doesn't
think it's active so it doesn't take it
so
exactly seed now yeah that that that
that's that shouldn't be necessary can
we work around it in some way it's worth
a shot it's worth a shot because we
because that's roughly where the that's
basically where the problem is is is
getting the applet hosts the window
hosting the applet to think of its
active
all right okay but are we going to be
able to fix that ourselves yeah it's
it's a it's a it's a bug in in the in
the plugin basically okay okay and
actually it's more specifically like see
embedded window or one of those things
yeah so so one of the things that
changed is we had to go to well the old
the old in process plugin basically was
dying and we have to go to the outlet
process plugin model so the plug-in is
and the whole plug-in is completely new
for us in jdk 7 on on apple in fact that
as i mentioned earlier we had to rewrite
like the most the entire graphics
rendering stack so there was a there's
been a thing called the OpenGL pipeline
in languishing in jdk first since maybe
one dot five and evolving but never
turned on but arm and because generally
speaking drivers weren't stable enough
here and there and you know in FX we
have the same sort of problem that when
we try to use opengl often particular on
linux drivers unstable but came to Mac
and really this is now this is now the
default pipeline this is really the only
pipeline we have so we're we're using
OpenGL rendering throughout and you know
and we have to go to this and there are
also these things where we have to use
these extinct sort of exported Apple
interfaces specifically for the use of
the JVM and all it's not some of the
things that we need to do to correctly
render aqua and other things are not
exposed by standard apple api's so the
whole thing is um you know there's a
it's a massive change from jdk six and
it's massively different than our own
code base for windows so the whole thing
is that's what it's kind of getting at
you know if if there are you know some
pains here at this point we'll get to
them but you know I you know you know
you know people will sign off and say
good it's with shipping but you know in
our heart of hearts we know that it's
not at the same level yet
we managed to get two on on Windows
tuning and fine-tuning that stack this
is just one is 10 years old and robust
the other is brand here yeah
trying specific character specific
location
Oh
fractional letters
ah I um and free and available on the
web and i don't think i have a terrific
answer there i don't i think that was
mostly happens is for this kind of thing
is that that s QR us we write this
couple of we let the right tests right
which create golden images right those
images then gets essentially verified
right now there's a couple of different
ways you can then do the rest of it one
of which is that they then run a they
store that image and then they they they
come back and they run some later build
or release and they and they want to
compare the two images right and the
other approach is that they basically
once they said that in once the captured
image the first time they don't
necessarily capture the image right what
they do is they they remember that that
build worked right and they would run
that build and then you build on another
on a system today you know the latest
build and say do the to generate the
same image in this environment i
actually like that one a bit better
because you don't have to have so much
storage and because it's sort of less um
it's it's less vulnerable to things like
we're supposing you try to run on you
are running on apple's 10 Walter's tick
well stick windows it's go to windows
say say the font that something rapey I
reports on XP is to Homer reports say go
you I on windows 7 right and we call
that API if they just thought a golden
image which was baking into homer and go
to running on seven although you broken
it you broken it it's different well no
it's just it you know so but it that's
that's the best I think that we do in
terms of anything that's automation for
this with regard you know otherwise you
you know the exact knowing exactly where
the pixels are going to go for a
particular font
you you know even if you know where the
you know where the image is going to get
you know the bounding box area where
within that bounding box that the
particular pixels are touched is very
hard and then you know if you're
depending on whether using black and
white or grayscale or sub-pixel
rendering they look different that's a
real tricky one so if you can't if you
don't know you know and you know any any
tests like that has got to be one that's
very to have even a chance it's got to
be something that's really specific
where you're nailing down the rendering
characteristics you nail down i think
i'm going to use to homer and you check
that it was to home but before you
assume that something else went wrong
i'm going to use 14 pixels you don't
kind of gig call some api to give me the
default font and you check that it was
to houma in case they took to homer off
windows 8 which i don't think they do
but you know and and you know you
carefully control the environment and I
would draw it to like the most safest
thing possible bufferedimage or
something and then you could do
something like one thing that might work
as you could try to get the the bounds
you could try you could ask for the
visual bounds or the pixel bounds right
and ensure that they were armed and and
then and then you could within the pixel
bounds you could then you know compare
the images I suppose a pixel for pixel
yeah that might help a little bit but
other tests so the sqe tests that do
that kind of thing are in some sqe test
suite which I don't even know where is
well I say that but you know I means I
every time they send something I have to
go find it but it there so this so
OpenJDK we have a lot of our standard
regression tests and that are in the
open but there's a bunch that are
enclosed then we try to move things from
closed to open when we can but the under
the test harness to run those is also
available somewhere on the web you can
get the test honest but not the sqe
tests or a different kettle of fish they
aren't they aren't available but the
automated the regression tests there are
a fair number of them that are automated
and they don't do precisely that but
they will hand it precisely that case
but there are a bunch of them where we
basically draw stuff into an image and
then we go look at the image and try to
figure out if if it's what we expected
so it's you know just created off-screen
software bufferedimage and do it that
way
I don't think well I mean modulo there
was some one or two components that got
added in jdk 7 but i don't know of any
new swing features that are proposed for
JDK 8 offhand so pretty much you can you
can expect it to be a trickle there
might be some specific things but you
generally got the right idea that you
know the investment and the effort and
the future is basic direction is to is
javafx and you know it it in swinger
will be updated is necessary to continue
to work at least as well as it does
today but in terms of you know some new
features like you know supporting
gestures or you know directly or adding
some new big news swing component those
things are much less likely without a
really compelling case yeah so well I
mean you know i'm not the marketing guy
but yeah that's what they are preaching
yes and and but you know there are
migration paths right so there's whether
you're using nestabilities or swing
there are ways to actually embed FX in
your in these applications right there
we ship that capability with FX there's
a gfx panel which you can use to
basically embed FX in a swing
application so i mean i think everybody
understands that you know swings been
around for 12 14 years maybe 15 yeah 15
years or something and those so that you
know there's been a lot of investment
and adoption of it and you know big
companies like oracle are in the
business of offering support for things
for a long time so and it's part of the
standard platform it's not suddenly
going to be taken out we've never done
that like that so I didn't worry about
the investment in that but if you're
creating it definitely if you're trying
to write something new you you should be
looking at
at FX at this point not least because
it's got a lot of the capabilities that
swing was never really going to be able
to deliver if you just go look at
something like the the not the the the
if you go to the download site for FX
you could download the separately as a
separate download bundle for samples and
you can just run through those and see
all the capabilities but you can you can
play back you know h.264 media you cou
there's an embedded web browser there's
more kamor components than swing had
there's support for animation and
transitions and all sorts of flashy
effects that are just you know designed
in so you don't really need to sort of
figure out how to graph that on after
it's been in a non natural way
when you say migrate to java x you're
not talking about language exists
swing them
well you know I don't know that there's
a simple translate between the API is
because there's you know code I mean I
think when we when we migrated from
script to Java for FX and you know we
were able to basically translate a lot
of the stuff because the whole model is
the same but I don't know some I'm not
aware of any tools that actually help
you you know automatically translate
from one to the yellow which isn't to
say somebody couldn't come out with a
nice you know expensive product which
would get you enough of the way there
there might be worth buying it depending
on how much investment you've got but
but but I think that you know the
probably you know it says it's one of
these things where you would sit down
and reimagine as they say your user
interface because you might go wow you
know I can do a lot of really cool
things and we because FX is generally
speaking a graphics accelerated by a
direct three-year opengl we can do a lot
of things that are that look expensive
but are actually not really adding any
you know it may be it may be less load
on your cpu than a swing up in some ways
you know if you're doing that which
isn't today we don't use d3d in in jdk
as well and OpenGL and so forth on on
Mac in particular but um the you know so
we can run arm quite nice looking javafx
you is if you go to the demo grounds
there's a couple of little demos of it
running on tiny little embedded boards
and some of the kiosks that you see out
sorry that's running on a SD with the FX
stack on top so you know if you can do
that on a little embedded 800 megahertz
arm or something I think actually maybe
the 1.6 on those big kiosk driving the
big screen right then you know you
should be able to create a really
compelling UI which uses all of these
transitions and features and does you
know makes your app look a lot more
modern that the guy with the beard was
first
and
system tree did you sentry simple system
tray oh ah um hmm I don't know what the
specific any specific intention around
the system for a but um what yeah okay
right hmm i don't know if i have a
comprehensive answer to that except to
say that you know providing out whether
some native functionality that makes
sense like you know you know I'm you
know the Apple menu bar and so forth you
know we want to make the applications
look sort of native and behave natively
I mean we added all that tray support to
to se like a roundabout jdk six or
something and I think it makes sense
that we would add you know as much as we
can in as many we can sensible ways to
to to FX arm you know so so when we have
things like file dialogues and
eventually print dialogues I think we
expect it will show you the native one
right so it's an interesting thing you
know we've got all this sort of stuff
that's completely cross-platform I can
cross platform controls that you know
and all the rest of it but you know some
of those touch points on the windowing
system and an integration with the
desktop I think that that I think that
they will surface I don't know I mean
something like the system tray we
managed to do quite adequately in in jdk
so i imagine that one would certainly be
one that will be added but providing
access to things that make you seem like
you're running on an enterprise native
desktop kind of application you know is
one of the goals so i just don't know
about specific plans for specific
features like
I yeah yeah yeah so when I worked on the
SWT this is one of the philosophies that
I try to push their which basically says
like up till now anyway aw tease
philosophy is take the union of or take
the intersection of all these interfaces
and that's what we should provide and my
philosophy is no that's actually the
worst thing you can do you should
probably a union of all these features
and if there's something that only makes
sense on the mac well you know write an
API that basically does the right smart
thing on an on Mac platform and likewise
for Windows and Linux I don't know what
those are but that's something I've been
trying to push with rich richer bear for
the for FX particularly in the menus
because we I think we did we came up
with a pretty clever system for doing it
in SWT for handling the system menu for
example on a Mac there's no reason we
can't do that in FX as well it's so this
is one of those things where ya as RIT
as phil mentioned you know FX's tends to
be focused on well ok any of these
cross-platform toolkits tends to be
focused on the bound what's inside the
bounds of a window and hopefully now
that I'm here I can actually try to get
some interest in let's let's try to
actually make applications instead of
pretty windows because otherwise at a
certain point if you don't do those sort
of things I think you're wasting your
time and cross-platform development you
should just stop and adopt you know
learn how to port programming on the
platform you're on because otherwise you
know what's the point so that's why I
opinion there was something of a reset
in the goals of FX between 1 and F X 1
and F x2 is originally sort of targeted
more as being you know for the web and
for like you know some sense like a
flashed kind of competitor
and I think the two da version which
isn't a scripting language which is
based on Java you know we want to be
able to do enterprise desktop
applications that as well or primarily
even I think that but even though we're
also now going back and down into mobile
and embedded and all the rest of it I
mean yeah
stop
so my understanding right is that
running in desktop mode so so for I
guess most about everybody here knows
what Windows 8 looks like when you boot
it up no okay well if you've seen
windows seven phone it looks like that
it's a bunch of square tiles on a green
background and so to get to these under
the Start menu that everybody got so
used to is gone and so they're like
becoming third-party add-ons to recreate
a start menu and and there's all the
noise on the web well these you know
Microsoft got it all wrong in this way
well no you just don't understand what
they're doing but it's a very very
radical change in the UI which I mean I
guess people will eventually get adapted
to or Microsoft will take feedback and
adapt but to get to what looks like a
traditional Windows desktop you have to
you know you don't you you know doesn't
boot up into that your applications that
need it will go into that mode and in
that mode so and then the note the board
you boot up into is called metro or
rather they call it windows you I
because some German company was fighting
to sue them or something sorry modern UI
thank you yes that's it yeah and so the
Metro mode is it still known by most
people FX will be updated to support
that but I'm I don't think JDK 8 will be
updated to to in to operate in Metro
mode now quite what that means you know
it will not be a metro app if it when
you try to start it from that mode it'll
you'll just windows just like any app
will flip you into the desktop mode but
once you get into the desktop mode I
understand that we will basically have
essentially a you know an update to the
look and feel so it looks like a native
app but I'm not under percent sure on
that
so I I think during jdk 7 we were there
was a plan to add to touch and gesture
support to jdk but that was dropped even
in jdk 7 so the chances of it coming
back in jdk 8 are pretty low it's not on
any plan yeah so I mean that's you know
some of you know part of the the
rationale for this is basically that you
know we know we need to sort of you know
some things behind us and put the
investment in the future and you know
those things are need to be maintained
but it doesn't necessarily need to be
where we put the major new investment
that's going into FX that's the
direction that is basically been set but
swing as it is swing will be updated to
work in Windows 8 desktop mode but I and
I and I think that you'll see them I
don't know how what the adoption of
Windows it'll be like because you'll see
a lot of you know applications that have
things essentially the same issue
he asked yet the question
how long do I expect swing to be
maintained for
should we
should we expect what I'm OSX my mac OS
x menu menu
let's see that the application menu okay
probably not going to see it in sin
swing or a WT I know it would be more
likely to see that in FX if I knew okay
swing arms far as I know forever I mean
as looks you know for the definition of
forever that is you know that is what
client properties are still
the mÃ¤kelÃ¤ sex look and feel because
that's how you've got the your stuff and
graded the menu bar and shot you know
small size but yeah right so that's
Brett when you recline property that's
what I think of like button sighs and
things like that oh you eat a new screen
menu right yeah that should be there
that particular one and that particular
one should be there now for client
properties I honestly don't know what's
going on there and I should because
there's no reason not to support them
one so I guess that's the answer it's
like I don't I don't have an answer
where they are what's going on with them
but there's no reason we shouldn't be
supporting them so I don't have a better
answer than that you know I thought in
general we was sporting all Apple
extensions and the like if unless there
was some yeah well there's a vawt in the
e i o ok that that was brought over and
that that's all supported but that well
ok that's a different thing that I was
going to say that don't expect to see
those api's in that same form in FX hmm
but yeah but they did pull over from
apple for for the 480 18 swing but you
have as far as client properties goes I
don't know
if the code to read them is there and
the code to act on them that well yeah I
I'm trying to think of a way to get back
get feed back into the system that says
you know we need to produce a list of
these things and say yes we are going to
support this or no we aren't yes right
but I don't know who to take that too
but well we could just go find it and
then get handed off to ask you ENC we'll
ask them to see if anything actually
works first mm-hmm so you try this and
it didn't work okay
that you know you're not the first print
yes you're not the first person asked me
that this week and I i I'm aware of the
problem I think it's just a high level
thing is we tried to sort of you know
make make it so you can migrate from
Apple jdk six dodge IDK seven without
you know lots of things not working yeah
oh yeah absolutely yeah yeah yeah no
problem with that I I think at one point
I said that if you find something that
worked in six but is not working in
seven assuming competence or ignorance
don't don't assume that somebody
deliberately said don't assume somebody
said oh no we're not supporting that so
if you see something missing let us know
but if we're incompetent ignorant
there's no point reporting it anyway
other was the you again they yeah that
guy
right right Mike swingler gave us some
information or hints as to how to do a
better job with high DPI unfortunately
it is not that some work needs to be
done and from some folks in st.
Petersburg really need to get a I DPI
system that they can do the
implementation on but I I know that
their we're aware of the problem I can't
give you a time or a timetable for when
we can fix it probably will probably be
an eight at this point if it if it did
happen yeah so question what he say we
are planning to support it oh I would
assume so I would assume yes yes I mean
you know that's basically going to be
the way that all the Apple displays are
going to go I bench I think so you what
else can you do but right now there's
only the latest macbook pro and does
anybody here you have one even has any
got one yet yep okay okay Jen yeah Oh
what is its own yes okay all right so we
don't have one yet we just got I mean I
got a new macbook like about a couple of
months before they shipped the retina
ones and so well I'm out of luck you
know I'm sorry
do you already know how bad it looks
overnight I've heard I've had people
explain it to me got one handy i'll take
a look okay well you could um you could
actually uh you know feel free to send
in the images and we can attach them to
the bug report to get the priority
upgraded you know yeah but um or you
could just tell Apple you're not going
to buy a new macbook on till they make
it easier to anyway them that'll work
here okay those who was yeah this guy
false
great institutions
Oh
Lexie well from the performance point of
view here are two cases the first is if
FPS rate so for embedded FX content it's
the degradation is but it's not that big
so it's about 10 or 15 persons and the
cpu load is really high so well this is
the price that you have to graphical
tool kits swing and a fixed running in
the same application so these results
into into some extensive cpu usage as
for the pitfalls i think that i don't
remember any specific bug reports saying
that sin when used in embedded mode it's
rendered something wrong in the wrong
way so hope answer your questions
yeah okay see
notice
mm-hmm
the fill for a pie chart you know yeah
okay
staz yeah there's a few differences so
there are a number of significant
differences between OpenJDK and oracle
jdk because we had licensed the body
code over time actually when it real
over time it was all license back in
like nineteen ninety-seven okay and it
got baked in overtime the the three well
there's none some proprietary fonts we
license from a company called big oil
and homes which is one thing but with
regards to the rendering that I can
think of off the top of my head and I
think there's a couple of other things
but there was a color management system
that's not relevant to what you're
talking about here but there's a good
chance that in jdk 8 we will throw away
the proprietary one and replace it with
the open one which is called little CMS
that hasn't been committed yet but it's
something I've been trying to push first
to get done so that will knock down one
difference the other two arm are that in
with regard to like the PI Phil JDK
Oracle JDK had used this library called
ductus which is a software rasterizer
it's very high-performing certainly for
the time and it still holds up well
today but he Jim isn't here he snuck in
and then he snuck out again he's our but
this got replaced with arm a library
that had been developed for use on by
you know mostly by emmy cold pisces
which is then there was like java
version and a native version and aside
from the fact that it was quite slow arm
compared to ductus such that some demos
could run many times slower it also did
have quite a number of
bugs deviations from what you know we're
not just our expected behavior but a
standardized behavior right and there
was actually quite a you know useful set
of exchanges between Jim and some guy
who was working at the time for red hat
who basically I think spent some months
trying to fix up and improve the
performance and the correctness of
Pisces so I don't know what we will do
there but we're actually using Pisces in
FX right and that may well also be a
good candidate at some point to you know
art well I think we ain't you know the
comfort the conversation occasionally
comes up you know can we you know get
rid of doctors right so that might
happen you know but the main the kind of
thing that you're staying may have been
fixed in jdk 8 I don't know that any of
the that the fixes from Dennis Lila red
hat made it into a 7 update I do not
remember but you may want to sort of
just run it on a jdk 8 building get from
open j was it called I forget you
java.net anyway and just see if it's any
better but you know we're looking at not
just the correctness but also looking at
the performance and I think on most
things it's getting significantly closer
the final one you're getting at with is
that we use a internal font rasterizer
sorry a proprietary font rasterizer that
we licensed a long time ago called t2k
in the oracle jdk and oak openjdk uses
freetype which is used by a lot of open
source projects there really wasn't an
alternative for providing a free
open-source rasterizer in the OpenJDK I
mean that's three types basically all
there is they're out there the you know
and applications have historically been
well application writers you know
companies whatever have been
historically really really really hard
on us when when text rendering changes
or metrics changes because they they lay
out their applications to the pixel and
you know you know there was one senior
fellow buckets on it was just a scowl at
us when about one particular
incompatibility that would introduce
that got some feedback from a large
company where we actually fixed up
incorrectness bug but it rubbed our
application so and also a low it expired
around about the same time we were using
hinting in there were some licenses
around and patterns around hinting
reforms which we couldn't we couldn't
actually use that capability when we
used free type so we still have we're
still using in the Oracle JDK this thing
called t2k and in free type in the
OpenJDK that one is going to be the sort
of most problematic one which will
require a lot of careful examination as
to where we flip over you know but so
there's going to be a strong likelihood
of differences between the two you know
in the thing is is it on you know in
basic black and white rendering mode
there's probably the case where you get
fewest differences because you know it's
pretty well defined as the other
everything should work but but
unfortunate lapse the mode that nobody
cares about anymore oh yeah I wouldn't
be too surprised to see differences but
if you see things that are um you know
so obvious is to be like well this has
got to be a bow right you know then then
you know you can go and complain but
sometimes it can be literally just you
know that they're free you know hinting
is one of the things we will generally
hint free type it depends whether it's
been built with the flag to do the
entering the Destroyers defer to the
generally refer to Lee to the freetype
that they installed on their system and
they may
well in you know it can be affected by
configuration options on the users
desktop and some of that can be kind of
me account for the differences but so
you know I you know I've and sometimes
we've actually right now you know it I
think we do a better job of trying to
use the very specific font that that the
in the swing look and feels that the you
would use arm in a native desktop
application but that wouldn't explain
differences between the two between the
two rasterize is there so if you see
something that looks really bad you know
I couldn't tell you just offhand whether
it's like a jdk was not doing it right
and sees you guys not doing it right or
free type but you know if you see
something that's bad you just want to
file a small test cases of bug saying
difference you know we can then examine
that sorry you could fix it it's if you
want to fix it I'm all for that yeah you
look the troll with the this close
source of courses that you can't fix
that okay any other questions hope one
over here
one day were forced to do is to select
files
I
um
so the problems well is the problem it
is a problem so the it when your sandbox
in OS 10 you get a completely new
implementation of the native file
chooser when you win it's used in the
sandbox mode and there is no way to
simulate that in Java unfortunately and
the reason you have to do this is
because it's this special implementation
of the file dialog that allows the user
to pick something not in in the
container and I don't know that it would
be possible for J file chooser for
example to replicate that as you know
file chooser basically J file chooser
basically fails because it it tries to
get a list of files and tries to display
it that's just not going to work what we
have heard that so far is that people
want to be able to put like a an
accessory view almost on the native file
dialog that generally speaking Apple
frowns on in general even a native code
but it's something we'd have to think up
a new API for because because I don't
think there's not really any provision
right now in any of the current either
jfilechooser or fx2 to have something
like that I have to take a look and see
if that is possible but that knots good
feedback though I i know that i've also
heard that from others like they want to
use they want the file chooser
functionality but they want to be able
to hang a custom component on the side
or yell at me like a preview kind of
thing or something like that but yeah
it's good feedback we can look into it I
can't make any promises though right now
so it's something I probably I'd end up
having to take back to Apple basically
saying is there somewhere we can do this
no because it's a completely separate
model the the native San boxing and Java
sandboxing quote unquote it it's the
same word be used but if but for a
completely different implementation so
so I was like I think I was some books
and we sing we don't trust the
application and apples saying we don't
trust java yeah well we don't trust
something that was downloaded download
yeah yeah yeah okay any last questions
I'm we're close to the end if yeah it's
525 okay okay thank you very much
everyone for the questions I hope it was
useful</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>