<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Evolution of JSR 177 | Coder Coacher - Coaching Coders</title><meta content="Evolution of JSR 177 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Evolution of JSR 177</b></h2><h5 class="post__date">2013-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mFKr_hWWzus" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">anyway so welcome to this session and
this is regarding the evolution of JSL
177 which was the original release of
the gsl was in 2004 we started working
on it at sun in 2003 took about a year
to get this GSR at the door the main
aspects of the GSR were basically
communication with the secure element
communication with the secure element to
provide signature services pki services
and some crypto services so that's why
it was also called security and Trust
services API mainly the feature that has
been mostly used since then since we
have some statistics now is the APD you
package or EP new framework that we
provided which allowed users to
communicate with in with a secure
element using the APD you interface that
we provided to them so this is the
general disclaimer this is the general
product direction it's not meant to be
is for information purposes only and it
may not be incorporated into any
contract or anything like that so so as
for the presentation is a rather short
one it's not a very long one because
what we are talking about our features
that are we are proposing for the next
revision of the GSR which is I mean
being talked about but not as yet
planned as it is so we're talking about
evolution of it because it's been almost
ten years or eight nine years since the
since the first release of the jsr and
you know there's a lot of updates that
can go in there so I'm going to go over
some background why we came up with this
GSR first in the first place and then
give a review of the GSR itself what
what it allows you to do right now the
industry needs how we are going about
you know how we analyze the industry
needs what the industry needs right now
that we think you know needs to be
catered to and then the proposed changes
for the next revision in the qat qat so
smart cards have been present in the in
the mobile industry for a long time
especially with the GSM networks come
into play the the same card was
basically you know a device which was a
smart card which was embedded into I'm
not a better need to insert it into your
mobile phones and allow allow you
allowed you to roam about and use
different features allowed encryption of
communications and things like that and
authentication of the user with the cell
towers that was all part of the mobile
technology gsm technology that was
enabled through the same card then there
could be other security elements or
secure elements in a mobile device such
as for example now you could have a
secure SD card or something like that
which could provide use secure access to
your files on an SD card before the GSR
177 came out Java ME applications had no
direct way of talking width and within
with the secure element or applications
on a secure element the only way of
talking with these applications or
accessing the file system on a on a
secure element would be to go through
native ap is provided by the phone
provider so those were really
proprietary api's which were not
standardized if you wanted to port your
application from one platform to another
you had big problems there because you
had to go through
they need a we interface again and try
to figure out how to how to communicate
with me with the applications on the SE
so jess are 177 provided and provided a
way to a standardized way through AP is
to talk to applications using a pd use
using envelopes for talking to sim
toolkit and also using Java card rmi
which was a special form of RM I
designed specially for Java card it was
basically a trimmed-down version of the
actual jar are my so the and other than
that just it was not just the
communication framework that was
provided through this GSR the other
aspects of the GSR was to provide
security services such as credential
management digital signature support
since the secure element in a mobile
device that you know the smart card is
considered the most secure element in
anywhere because it's got inherent
security qualities in it built into the
hardware as well as software which make
it much more secure than the overall
Emmy environment or any other operating
environment out there so which is why it
was also it's also used for storing of
credentials such as your private keys or
certificates or anything like that and
it's also used for secure cryptography
purposes you know for cryptography and
it's since starting the keys over there
and the keys do not leave the card you
do the encryption on the card itself
things like that so the pki package that
was introduced in the in the GSR allowed
you to use these services to provide
credential management signatures support
digital signature support and then the
crypto package will provide a basic
cryptography operations to support
message digest signature verification
encryption and decryption services
so in essence there are four packages in
the GSR there is the APD you package a
pdu stands for application protocol data
unit that's the standard way of
specified in ISO 7816 dash for to
communicate with the smart card
applications or smart card software
basically so if you could access file
system through the apt you you could
access applications if the Java if it's
a Java card you could communicate with
the applications on the card also using
the apd package then the next one is the
GCR mij CRM I is Java card rmi it was
introduced in Java version 2.2 of Java
card it allows you to so if you're
familiar with the apdu interface that I
talked about earlier it's a it's a bite
oriented protocol or block during inter
protocol you have to program all your
bits and bytes that are going into the
card yourself and it's very error-prone
if you're not I mean if you're new to
java card development is going to be
difficult for you to get used to sending
in dpd used to cater to requests so in
two in Java card 2.2 we come came up
with a GC rmi approach to communicating
with a card which hides all of the apdu
details underneath the covers so you're
basically talking with objects using
remote objects just like you would use
local objects to communicate and the
other packages were basically the pki
package and the sets a crypto package so
the communication framework that we have
in the GSR basically going back to the
apt you package it'll it lets you open
up a connection with a with an
application on the card so specifically
keeping Java card in mind that you could
have an application written in Java a
Java card applet which is available on
the card
and you could if you have the identifier
for that application and you're opening
so this is true generic connection
framework so using a generic connected
framework you provide a string which is
the URL to that application and a URL
which is basically an a ID or
application identifier for the
application and then the car the the GSR
framework actually goes in and tries to
select that application on a particular
communication channel with the with the
smart card or a secure element and then
it once this the connection has been
established it sends you back a
connection object which you can use to
send in a PD use afterwards so the
exchange apdu is the main main method in
this interface which allowed you to send
in if you use there were some
restrictions there are some restrictions
on this apdu for example you cannot send
in a select a pdu by yourself because we
control access to applications you
willy-nilly cannot go and select any
application that you want so you have to
go through a connect open generate
connection framework to open up a
connection and then use that connection
willing to communicate with the
applications the next thing is the get
attr method which allows you to get
information so ETR can contain
information about you know the card
features things like that but it's not
standardized I mean it's the standard is
very open you can have all all different
kinds of information in a TR then there
are specific operations pinned related
operations that you could do through
this interface again since the APD use
for pin are also restricted we do not
want anyone to have free access to
changing pin or anything like that any
malicious application could come in get
downloaded into your mobile device and
play around with this thing if you
didn't have the restrictions in place so
all of these methods different methods
the unblock method the disabled method
the enable pain and changement methods
are all restricted EAP is which are only
allowed for
trusted applications the next one is the
Java flat card are my package as I
mentioned earlier this is this allows
you to communicate with the Java card
applications using remote objects and
just like you would use local objects so
again in this one you will see that we
have very specific pain related
operations since they are again
restricted so we have pain related
operations which are controlled but
through this API then the gate initial
reference basically gets you the first
object from the card so just like in a
and an a pdu connection framework you
basically get a connection to an
application but it's not a very it's not
a it's not a connection or anything like
that it basically gives you ability to
send a PD use to the card it's not to
within with an object itself on the card
itself the applet gets the APD you and
then passes on that APD you to whatever
you know an entity on a or whatever
method needs to process that APD you in
the application itself but this kid get
initial reference basically the way that
model works is that get it gets you an
initial reference to an object which you
can use to communicate with the
application on the card itself so then
you can access other objects through
this particular reference object so get
it I mean the the initial reference that
you get back is a type of remote
reference object which lets you call
these methods on on this that you if you
want to invoke particular of particular
operation on a method on an object or
something like that or do it equals or
anything like that so this provides you
that kind of personality
the next one is the SATs a pki package
we talked about briefly in the beginning
that allows you to fortran ential
management allows credential management
basically in your Java ME application so
you're basically there are three methods
in there which are add credentials which
allows you to store x509 encoded
certificates onto the card itself and
then they generate csr which generates a
certificate signing request for you to
send to a signing Authority and then
remove credential which is basically
removing encouraged from the card itself
the crypto package basically allows you
to do an authentic eight on a message
itself and sign a message then I as I
mentioned the since the card is
considered to be a very secure device
there the access to the card really
needs to be controlled once you once you
open up a card for example you don't
want any application to just come in and
send any kind of AP to use to the card
itself so you basically want to restrict
that access and the way the access was
restricted was basically that the the
current access control that is in there
it basically stores an access control
file which has an access control list
into a specified location in the pkc s15
based file system on the card itself so
you you and the Java ME knows about that
location when the card is inserted it
gets that access control file from the
from this particular location parses the
access control list and then enforces
those access control mechanisms on any
application that is going to access the
card so for example if you are trying to
select an application there could be
restriction on you to be it based on
what security domain are you in in a in
a mobile device you could be allowed to
access that application or denied access
to the
application so you provide an ape a ID
to the application and the Emmy
framework is able to to control access
to it similarly the APD use that are
being sent in are basically controlled
through two masks basically so you
figured that you know you could have a
certain mask of 50 we check again
against a particular mask and see if it
compares and then allow access based on
that that you know you're able to send
this particular AP Duan or not as I
mentioned the Java and me on the Java
I'm inside all of these restrictions are
based on your security domain so based
on your signer we put you in different
security domains and you're allowed
different accesses to the card so this
was the overall background of the of the
current GSR as it is out there as I
mentioned earlier the jsr came out in
2003 we started working on in 2003 it
was actually released I think in some of
somewhere around 2004 and since then the
standards that we used have been have
been evolving and you know we need to
make changes to the CSR to to be more
aligned with the related standards then
the application is available in the
target devices are also more advanced
and we need to be able to allow the
applications running on the Emmy
platform to make use of those particular
features
so since the initial release that the GS
are the types of secure elements that
are out there have also evolved so at
that time we're working with one same
card probably in a mobile device and
then an insert a SIM card or an inserted
device inserted secure element on the
side which would be some like a secure
SD or something like that well now we
have and maybe not in US but in Europe
in South Africa South America and even
in South Asia since i'm from there i
mean so we have phones which have
multiple stems in them so you could be
on one phone you could be using multiple
providers so those kind of facilities
were not available in 2003 so we have to
cater to those also that you could have
multiple sims in there then you can have
a same which is connected to an NFC
modem which allows you to make NFC
payments or anything like that allows
you to do different aniseed related
stuff then you could have an embedded SC
also which I mean we did cater to it a
little bit but an embedded SE would be
something which is not insertable or
removable it's embedded or soldered into
the car into the mobile device itself
and then you could have now you could
also have the secure SD cards which
could have NFC which could be NFC
enabled so we want to allow applications
to make use of these two NFC services
and there could be multiple interfaces
communication interfaces so you could
have a high-speed USB kind of an
interface you could have a single wire
protocol you could have different kinds
of interfaces that we need to all kit or
two then so the changes that we
basically are proposing are related to
general spec maintenance there are some
bugs which were file that need to be
fixed and the spec itself does so far
have been fixed through frequently asked
questions or faq
then the secure element feature
discovery so for example is a secure
element is is you know advertising its
features we should be able to find out
what features are supported by the
secure element and make them available
to the Emmy applications or embedded
applications then we do not have
currently support for secure removable
secure element so that that needs to be
added and then we have a use case
interesting use case of turning on or
off a secure element also so we want to
enable Java ME applications to be able
to turn on or off a secure element
itself so I'll go into details of these
in the coming slides then there are
things in this meal in the secure
elements which allow you to allow the
secure element applications to create
events and we want the AMIA application
to respond to those events and take
actions accordingly then you we could
have multiple SIM cards as I explained
earlier that we need to cater to and
then the access control mechanism that I
just explained is very GSR 177 specific
it's it's not even it's a recommended
access control it's not specified as ISM
specified as a must-have so there is a
access control defined by the GSM
Association which is more Java card
centric and allows easy integration so
that is also something that we are
planning on incorporating in this juicer
then you could have an application in
Java card basically the applications if
an application is selected on a card it
can send back information related to you
know information regarding services
provided by the card itself or by the
application or any other initialization
information that could be tangible that
could be usable by the application on
the on the mobile device or the terminal
application now that the current
mechanism of selection of applications
is tightly controlled by the GS by the
177th framework it does not allow you to
get back responses to the Select command
so we need a way to provide this
information back to the applications it
could be status information of the
applet which could be providing some
important information to the terminal
application so as I mentioned the global
platform based access control it's
defined by the GSM Association and we
are proposing that we use this
particular access control which is
widely supported in the in the in the
mobile world since its proposed by the
GSM Association it's not based on the
file system like I mentioned that the
file system based access control that we
have that we have a file location
located in a specific because he has 15
file location and the Emmy platform is
is supposed to get that file from there
and then implement that access control
this has a broader spectrum it does not
only work with the with the embedded
with the mobile platform it is
is adopted by the sim alliance open
access AP is our access from te global
platform te e based applications to the
outlets in the secure element so that
those are also considered to be areas
which need to be catered to
then the spec maintenance aspect of it
is important also that you know it since
the GSR was released in 2003 the related
standards have moved on when we were
working on the GSR at that time we had
Java car 22 out now we have Java car 20
dot 4 so we have to we have to align
with this back then there are newer
version of Etsy specs now which we need
to align with also and then you have the
global platform which was two dot one
dot one at that time and now it's two
dot to dot one and the XC and secure
element access control is specified in
that so that's a particular topic that
we're looking at then you have a feature
for the secure element feature discovery
so the the feature set that is exposed
by a secure element there currently
there is no way on other than a
proprietary apdu command or something
like that through which an application
and amina application can get
information regarding services provided
by by the by an application on SC so
this could provide information such as
you know is this is the SE contactless
enabled or not it is is the tcp/ip
enabled or not then does it provide USB
high-speed interface or anything like
that is it removable or embedded as I
mentioned they're based on removal or
embedded you can take different kinds of
actions for example if an SC is is
removable you could be communicated with
the application one time so you need and
the s and the applique and the secure
element is removed from the device
itself so you need some sort of a
transaction management or something like
that in place also for their purposes
for those purposes then the type of se
is also important so for example if
you're communicating with the same card
you cannot directly access applications
on the same itself you always have to go
through the same toolkit so the
mechanism through which you communicate
with the secure element changes
the type of this here element then if
the NFC is enabled or not if the and
does this se has its own NFC interface
or advanced interfaces so the secure SD
cards have become you know increasingly
popular we have especially with the NFC
enabled SD cards which allow applicated
which allow a device to make payments
and things like that we provide
value-added services some of them also
come with the Wi-Fi interfaces which
allow you to be on a Wi-Fi network so
you could be in an application for
example in SE application could be
talking over the network who they're up
with other they could be some
interesting use cases over here for
example you could be using Amazon could
have its own smart card or something
like that I'm this is just off the top
of my head that you could have a smart
card which directly communicates with
the way the merchant and you do not have
to enter your card information or
anything like that everything everything
is authenticated with the merchant
itself and the your transaction is
secure and it's it's basically
transparent to the user itself so
features such as TCP IP based at
communication stack in Java card
connected now allow you to communicate
directly with the websites or any
anything available on the web now or a
tcp/ip enable network in order to allow
these services
it's amazing
so the other interesting aspect that we
are catering to is allowing an S II
allowing an application to control
features turning on or off features on a
on a secure element so for example if
NFC in it is enabled and for some reason
h ome application decides that you know
at this point i want to disable this NFC
features it could it should be allowed
to do that now there could be multiple
use cases regarding that for example you
could be you want to control your
communication on NFC you don't want any
unauthorized enter keys I mean I'm sure
all these are already controlled but
just enabling an application makes more
sense over here to be able to allow you
the application to to switch on or off
certain se features
then the application generated events on
the SE so for example you have a you go
to close to a payment terminal and the
payment terminal communicates with the
with your application on an on a secure
element and that secure element is
basically wants you to authorize once
the user to authorize a payment to that
to that external device so what will
happen is that the application would
generate an event for the terminal
applications so all of those registered
applications on the terminal site will
get that event and based on the event
they can do different things for example
you show a user some user interface some
some GUI or something like that to ask
for authorization for a payment so
because the smart card applications do
not come with a user interface they have
to rely on the Java ME applications for
the user interface if they are going to
have any because most of the time
they're working in a hidden world you
there underneath the covers they do not
need a UI and the UI based applications
are mostly in the environment so in this
case to provide an authorization to the
car to front to get an authorization
from the user you basically need to talk
to an application on the terminal side
and ask it to open up a user interface
so that can only be enabled if the
application of the terminal side is
aware that a certain event can be
generated by an application SC and it
needs to cater to that event so that's
something which has been defined in the
HCI specifications HC its CI
specifications which Allah which is
basically a logical protocol between the
sim and the NFC that you have NFC modem
talking to the SIM card and the same
card application generating events and
then you have applications on the ne
side responding to those events
think of Oregon over this then discovery
of multiple SIM cards so in 2003 as I
mentioned earlier we were only catering
to a single sim card so we assumed in
the GSR itself that only a sim card slot
would be slot number zero on on a device
itself so that needs to be changed based
on the device abilities and things like
that or device discovery we should have
we should be allowed we should allow the
Emmy applications to discover multiple
same cards on the on the phone itself so
there are multiple use cases regarding
that also I mean so for example as I
mentioned earlier in order to talk to a
sim application you cannot directly
invoke any application on sim card you
always have to go through the sim
toolkit and that interface is controlled
by the by the GSR framework as well but
the way it is controlled is again
through the URI of the application that
is going to be involved so if you are
invoking an application on a on the same
card basically you cannot specify an
application identifier you can only say
that I'm talking to a sim toolkit and
then once you have that interface enable
then you can request sim toolkit to give
you information that you can use to
communicate with that particular
application of the card now this is only
working for applications in the for the
sim card in slot 0 on the device itself
so the first slot if there are multiple
slots available which could have
multiple sims in them then this feature
needs to be enhanced to allow you to
talk to different sense at the same time
where as it is right now it'll only
restricted to set and slot number 0
then discovery of dynamic features that
are that are available protocols
different kinds of protocols that can be
used that are supported by the secure
element and there could be multiple
logical interfaces such as a pdu HTTP as
I mentioned for example if you have a
Java card connected in there then you'll
have tcp HTTP based protocol enable also
also enabled in that secure element too
so the applications and the terminal
side is important for them to to find
out what particular services or features
are provided by the secure element so I
think I've also already mentioned this
thing a number times it contactless
features there is another jsr 257 which
allows you to access services on a smart
car also but it is not providing all of
those services provided by GSR 177 it
can provide the 177 can provided enhance
link to the contact that functionality
in the same card itself
so as I mentioned earlier the Select
command response to the Select command
can be important you can contain in for
important information for the for the
application on the terminal side and we
need to be able to retrieve that
information store that information and
make it available to the any application
that is pretty much it as I mentioned it
was a rather short appt presentation any
questions all right thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>