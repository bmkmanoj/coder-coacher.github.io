<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Real-Life Load Testing: Up to Your Knees in Mud | Coder Coacher - Coaching Coders</title><meta content="Real-Life Load Testing: Up to Your Knees in Mud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Real-Life Load Testing: Up to Your Knees in Mud</b></h2><h5 class="post__date">2013-02-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/S8Bcr80FhL8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Karen Costa I'm a Java
developer by trade I'm married I've got
two kids I live in beautiful Delft in
that in the Netherlands and a ride
motorcycle and a run happened to run
Java monitor calm which is a free online
monitoring service for java applications
and real brief introduction that's the
URL to the live demo we've got and it's
collect statistics from your jvm
collects them in the central place and
gives you drafts and an overview of what
your serves are doing and if they're
healthy or not you can share it with
your friends and you can get an email or
SMS message in case your server goes
down all free you can use it today
should take you no more than five
minutes to get started but you guys came
here for the load testing talk how many
of you guys have done load testing in
the past oh you already know all of this
good all right I always run out of time
so there won't be any questions at the
end so you're going to have to master in
between yeah so please interrupt me with
questions that's the fun part usually
all right what we're going to do today
is this I'm going to give you a
checklist on how to do a good low test
everything you need to know everything
you do one no okay so what do you do
we're going to prepare for the load test
and then you're going to do the load
test right preparation consists of
understanding the goal writing a report
almost the first thing you do do some
math and testing you mean you need to
set up at the actual test collect data
get your work done and maybe you need
some form of methodology to test so that
you test the right things and you get
the right results so this is what we
will discuss today and this is the
actual checklist that I want to get send
you guys home with right so this is the
final slide of the slide show today all
right about load testing what's the
purpose of blow testing
what do you guys think right what do you
guys think of this one this is sort of
an interactive part yeah well you guys
say something i'm responding okay what
do you think I see people doing this
yeah yeah part of it part of it okay to
learn how much load the system can
handle okay oh that's useful get an
extra monitor how about this what do you
guys think yeah okay that's 12 cool
right how about this
I'm an independent here I'm an
independent consulted hired to do low
tests and it's always this somebody's
worried words for something so this is
my starting point this is the starting
point for you as well when you start
doing load testing people don't do low
tests because they're like doing low
tests there's always a reason behind it
and it's up to you to find that reason
because without knowing that you won't
be able to get the right results or the
expected results so your first question
is who is worried what is he worried
about and what's its budget very
important right so from there you'd pick
up what what if the load test is already
the result is already known right I get
hired the system will go live doesn't
matter what I say it will go live right
or do I get higher because somebody
wants to stop a system from going live
interesting question and you get a
different low test result depending on
what the expected outcome is so this is
something you can ask you can just go
ask the person who hired you say look
what do you expect what is going to have
what do you think I'll be reporting and
he'll tell you and based on that you can
start writing your report are you guys
laughs but this is actually true what I
do is I start writing your report the
management summary of it yeah not the
actual report but the management summary
of it and then you go to the person who
hired you and you talk about that
management management summary and you're
going to say look I'm probably going to
do something like this and it's going to
look like this so is this something you
expect it's like making a specification
for the load test right
how many of you guys do this right to
report before hand there to see one hand
carefully to write you need to talk
about the person who hired you about
expectations about what people expect
from the load test you need talks about
to the technical people about the same
thing so that's what you use the
management summary for and you can from
day one you can talk about the low test
results and feel what you're getting
back what are people feeding you back
did you get angry are you happy with the
results and it come up to you and you go
like oh we're going to go life and it's
all going to die sometimes to worry is
literal I mean they're literally worried
at the table about what's going to
happen so you need a quote you these
numbers about the traffic that they were
going to see and you've never even heard
of the site do you think I don't know
but you can also there's no way for you
to check yeah I mean this could be right
it couldn't be right you don't know so
how do you deal with this how do you
deal with insane figures because you can
tell them or it's going to be wrong it's
going to be half of that but some you
know social media guru has just told him
this figure so he's going to believe
them rather than you what I applied to
that is manager math I don't know you
guys how many guys use mathematics
learning in school use it today it's all
wrong it's useless because it's the
precise math right managers don't you
how many managers do we have here all
right don't tell anyone all right
managers don't use math the way we do as
developers yeah they use what we call
manipulative math all right I'll give
you an example imagine you're buying a
laptop you know you're working for this
company my machine look at it 2008 it's
still running I need a new one so i go
to my manager so look I need a laptop
and he's going to go how much is it i'm
going to say well three thousand euro
it's going to three thousand euro notice
yeah three thousand euro okay no way you
know next year to phrase it better
you'll say things like oh of course
we'll put in the budget for next year
then two days after two weeks after he
comes in with his brand new macbook pro
a like wow how much was he is like Oh 3k
right small figure and it's even true I
mean my manner said when I had one could
he could sign up to five thousand euro
now manager math is not just about the
length it's also about rounding the
actual numbers don't matter right it's
just the number the order of magnitude
right so if you take three thousand euro
you round it up to the nearest powers 10
which is ten thousand euro which is
above his budget so he can never say he
can't sign for it he's not even lying
how about his laptop though that was 3 k
which is essentially a thousand euro
which you know in the grand scheme of
things this petty cash so might as well
be nil so no problem there okay so let's
apply this to load testing and we're
talking the managers language here we're
taking the 200 million hits or whatever
here and you know this is a small site
if they start up so he's going to dinner
going to see any traffic let's get even
monthly traffic like 20k or something
you know so but you know you're not
hired to do that so what we're going to
do is going to take the 20 million
anyway and then you're going to work
from there and bring it back to figures
that actually make sense on a machine
right so you're going to say okay 20
million 20 million how much does that
well that's probably over a month ok so
you / 30 and it ends up 1 million a day
right don't go divide it precisely it's
not math it's manager Matt right so II
and you'll notice that as I do this I
take margins right so I cut it not by
not to half a million I might have done
that but 2 1,000,000 and I get a little
extra margin alright so we put all the
traffic in the first week ok 5 million
whatever and then so many seconds in a
day we're getting into real mathematics
now probably people actually I had to
look this up but other people can just
calculate
in the head so you get about 100 is per
second right and then I mean I don't
know I've never been able to do a load
test on a production like machine so you
always have sort of the production to to
test ratio that you have to keep in mind
so you get this old box that used to be
the production machine 10 years ago and
from there you have to decide okay so
how big is it factor of 10 is good in
this case if you know anything about the
machine maybe you'll get you know the
cluster is for you get only one you can
justify it you can multiply by 4 what
you do is you take a number that feels
good to you and the important thing is
that you look at these figures you
communicate this with absolute certainty
right you stand behind these even if you
know the walls fell away that's
important because you know the person is
worried what do you have to do with
people are worried you put their minds
at ease vice being very very certain
about your case you can say okay we can
do 100 if we can do 100 QPS queries per
second on the test server production is
going to be fine and they you're
actually hired if you look back at at
the low testicle you're actually hired
to say something like this so that he
can go back and say look that guy that I
hired said it was okay so if it dies now
there's no my fault that's his fault
right that's what you're hired for
that's one way of dealing with it where
you take the numbers and you just boil
them down take a little margin here and
there in what feels good to you and then
you arrive at figures you can actually
test and measure and then you pin them
on those numbers so you're going to say
all right just going to worry about this
and if that if we can make it production
will be fine he'll go yes good by the
balls that means that if you write in
your report we can do this on a test
server we can make the two hundred
thousand million heads that he expects
and you can say yes another way of
dealing with this is taking the numbers
and bringing in reality that works
really well against the social media
types so we got you know the form
ancient number of heads and ends well
it's a Dutch site well we only have 16
million people in Holland you can't
generate you know 20 million hits with
16 million people's there's babies in
there some of them aren't born right it
doesn't work like that so it's for
school kids okay boys all right so we've
got 1 million people left and then it's
an email service email is like a fax to
them you know it's what you use to
communicate with the old dinosaurs is
what you have because your dad doesn't
understand facebook my daughter she's
three I don't think she'll ever send an
email in our life so stuff like this you
could bring in you can just use to bring
the figures back to reality if it's
about flights how many flight movements
are there bring it bring that real
figure this some of that is just known
and you can just look it up on the web
if it's if the traffic's coming from /
to outduel the two and a half million
registered users that sliced up you know
how many people are going to click on
your site right alright so now you've
got a goal and you managed to get some
figures that you can actually measure
and now it's time to look around you in
the company where you are this is what
most companies look like but you've got
a manager his guy like IT ops and DBA
and then you've got the people actually
do to work influenced goes up and budget
Amanda's go down it's the same thing
budget demanded essentially it means
that if if I'm higher up I can order you
to do stuff and if you are higher up I
can ask you to do stuff or I can lick
various body parts to get it done right
you have to understand where you sit but
reality isn't like that reality is you
know IT manager is a dork and nobody
respects them so the the upper
management just passes him by goes to
the IT directly ops is understaffed I
mean who won system administrators
involves anyway the DBA
a different floor they might as well be
invisible nobody talks to them so then
you come in where do you sit the best
place obviously is to be as high up as
possible yeah because here you can
actually do a former load test get some
results son right second best places
with ops I mean they're understaffed but
at least they've got to respect right so
you can influence upper management and
through upper management get 2i t get
them to do stuff foil all right if
you're hired by the dork you're doomed
and if you're a part of the DBA group
cool notice you're in a different floor
so knowing this where you sit and this
is specific to each job I mean every
time it's different then you start
shopping around because you're going to
need stuff you're going to need to be
able to make versions of the code and
change code around depending on the goal
jump it any further if you aim it at me
okay you need the system configuration
you need that to be versioned and I
don't think there are many companies
that do this but you actually need to be
able to make cheetah see people going
wrong you need to be able to make
changes to the machine configuration
that you can roll back to a known state
good luck with that in most companies
all right you need automated deployment
unless you are we doing everything on
your laptop you're going to be able to
you're going to have to have a very very
strict procedure of getting things to
production getting things to the machine
take your running up and we start
shopping for all of this it's vitally
important that you measure commitment to
this in man-hours so if you get a
commitment from somebody who says yeah
yeah we should do this that means jack
or what if what you what means something
is safe to say all right we're going to
assign that person he's going to have
twenty percent of his time to do version
for you for the code yes that's
commitment right anything that isn't
expressed in dollars ie man hours is
nothing promises will not work so you
have to shop until you get commitment in
writing in man-hours otherwise it's all
influencing and I don't think you can do
a good life test with that all right and
it also means that if you don't get this
you really need to consider am I going
to be able to meet my goal you have to
go back to the goal and check with the
commitment or the lack thereof can I
meet this goal so you need to go back to
your management summary look at it and
say everything that's on here can I make
that true and if you can't you scratch
it off the management summary and you go
back and say look I changed it because I
don't have any commitment it's just
still okay and you got to say no you're
going to say well about that commitment
in man-hours how much was that well
still nil okay so i'll change that and
then it's them done deal already going
to be wait wait wait no no I'll give you
one man one hour what its commitment all
right so then with this you now have
commitment you've got figures you can
measure you've got come you know where
you're standing organization you have
your shop police and from there you can
actually start doing the load test
preparation consists of getting test
data ideally this is all over the place
I've seen companies where they have
Lotus these systems in place with data
and everything I've seen systems where
it is clone production where you can
just put load on I've seen systems where
there's nothing and you end up being
handed a laptop to say well this is the
development version so you have to
figure out where you sit on that scale
from copy of production to abandon
laptop and you've got to figure out how
you can make the test data work for you
and you got to look at the test site and
say all right how much does this say for
my goal can I fill in everything in the
management summary you're not going to
go do load test for example I did
system with key Earth's what they do is
they read something off the screen a
number that somebody wrote on a card and
then they key in the actual number in a
digital form you don't want to do a load
test with 40 people you know they need
coffee breaks they want to go smoke
cigarettes they're not there when you
need them right they may be heaven
forbid but maybe they do have to do
actual work so then you're stuck against
humans and their a huge bottleneck so
what you want to do is you want to fake
humans and the problem is you need to
fake humans good at this particular
system when I worked on we fake to
humans but they were too fast so one
system would just chew all the work away
and it would cause really strange
balance because the the processes that
were behind the human processes would be
loaded very very hard and in reality
well those are the trickle processes
that sometimes get work so you need to
fake them in a way that they look human
to the system with all the delays and
jitter and everything and it takes some
scripting and in some systems that's
really hard without this though you're
going to have to think about how am I
going to make the load test
representative if you can't fake to
humans maybe you can do to load tests
one before the humans and one off to the
humans that's an alternative and when
you do so don't try to replicate
production sorry about the spelling
error you can't replicate production it
just doesn't work there's so much about
production you don't have what you can
do is say alright what i'm doing here is
the subset is not production but it
represents production if you think of it
this way if you keep in mind that and
then you get a list of disclaimers again
that's nice in your report and for your
management summary and you need to get
commitment on the disclaimer saying all
right we're going to do this is that
acceptable yes good that means we don't
do this yes good write it down email
that's interesting
out and for the test to live ratio you
need to kick taking the card what
hardware do you have I said earlier if
you've got a fork for machine clustering
production you do load tests on one
machine maybe there's a one to four
relationship maybe not you need to
figure it out how big is the data set if
I test with 100 records and I go for the
in production with a million how does
that translate is that a linear
relationship is an exponential
relationship it's probably exponential
because it's difficult then it always
turns exponential so you need to keep
that in mind when you're doing this
ratio thing and manager math will help
you write this is really the tool here
just go really broad lines and don't try
to apply the developer math or the
school map that we used to doesn't
really help all right so after all this
you've reached a point where you can
actually sit down and do the actual test
so no you're not done yet you need to
monitor your system you need to be able
to look at the system see what it's
doing and with system this is a really
broad term here just deliberate because
you need to look at the hardware at the
machines you need to look at the network
you need to look at the application you
need to look at the functionality of the
application you're going to have to need
you're going to need eyes everywhere so
this is really an exercise in how good
am i with the operations guys to get
statistics from the servers right do
they have monitoring tools in place if
not maybe they can help you put them in
place maybe you need to implement them
yourself does the application give up
statistics or not do you have access to
those how do you present those remember
colors are important this is a something
that you'll report to management so it
needs to be colorful green for good read
for not good right don't make it more
difficult than that I've tried that it
doesn't work you don't get hired back
right Green is good red is not good
don't forget that if you're generating
load with separate systems those need to
be monitored as well so I was doing his
load test I was bloating
open it my machine was just bored really
my server and I just I just couldn't
understand why I couldn't get more
traffic through and then i looked at the
load generators and they were stressed
out of their minds because i used the
old machines at lowes generator so then
i turn it around old machine as the
actual application server new machine
has the load generator and then I
started finding bottlenecks but it was
only after i looked at the monitoring of
the load generator so don't forget those
all right now you're at the point where
you've got everything monitored you're
actually doing the low test so how do
you do that what do you do to sit down
how do you find problems in your system
well how do you find a person in a phone
book you all learned it at school yeah
this is a simple one binary search yes
somebody said it who was it all right I
don't have t-shirts so you're going to
have to do with that so binary search
binary search works in a lot of
circumstances it also works in systems
so what I do is if I have a large system
that consists of multiple components I
do this in my head I draw this as nice
little boxes that's the advantage of
doing architecture yeah on this level
it's all simple and then you start
measuring on the dividing lines between
those boxes and you measure traffic
volume error volume and response times
that's all you measure and you don't
need more because what it does it tells
you if a system before you is
problematic or after you if you see good
response times and good volume whatever
is behind that measurement point is fine
and doing good so if you see a problem
at the user it's obviously beefy between
your measurement and the user somewhere
right and this works in all parts of the
application maybe that's the network the
first block the second block is the
application server third one is your
database it's a very typical setup if I
had a battery in here I could
right so if my database is he in good
volumes good response times obviously is
either the application server or the
network that's causing problems if the
network is fine i measured on the
application server it's probably the
code that's rotten okay so this is what
I do I I cut the system in half and in
half in and half until I reached a point
where only one person is there to fix it
another way of looking at this is what I
do is I measure at the edges of
organizational units so if I've got four
components three of which are maintained
by developers one is the database I
usually measure between the developers
and the dbas notice I measure between
the people because they'll be fighting
whose responsibility it is to fix and
then you can step in and say look I'm
measuring this notice the certainty
right here i am i'm measuring this so
therefore is your fault and not yours
I've had to call dba's during a crisis
and I said look I'm sorry guys but it's
not your fault and I could literally
hear and fall off his chair at the other
end of the phone because it never heard
that before I'm measuring your system
and it's fine and he was like but but he
literally didn't know what to do all
right so now load testing I like low
slicing and and in some form it's a bit
like sex Messi is good to some extent
yeah so this is messy doesn't want to
see a lot when people start doing load
tested to go all right now we put more
memory to put a cash-in and we change
the code I mean and they sort of wander
around in the woods until they reach the
point where the code is perfect and then
they commit and then that goes life
assuming they know what they did along
the way
so you want to practice safe sex you
want to say okay I'm going with a fresh
deployment I'm going to make changes to
it and I'm not going to follow
procedures unchanged this sorry guys I'm
just going to make the damn changes and
then I'm going to decide whether I keep
the change or colder change keep Raquel
and if I keep the change I document it I
committed to the repository and then no
matter what I decide I do a fresh deploy
always a fresh deploy fully automated if
somebody touches it firing if that's you
what so then when you make a change to
the code and you have to roll it back it
doesn't really matter because you just
drop whatever local branch you had
dumped the servers reinstall everything
and you're fine everything works again
and you can fix JavaScript on a running
server no problem it literally is no
problem you can just experiment and see
what the perfect setup is and then you
commit you don't have to go full
development cycle for everything you can
just do quick spot checks as long as you
go fresh deployment fresh deployment
fresh deployment and now you see why you
need a commitment from everybody because
that takes time and it means that
everything has to be easy so this is the
shopping list that you have to get
commitment on earlier now you need it
now you need to branched the ability to
Cole branches now you need the ability
to automatically deploy all your servers
and that brings us back nicely in time
to define a slide that you already know
of are there any questions yes
I'm going to ignore that question yes of
course they're going to be online any
serious question how best to fake humans
okay it's the question that really
depends what they're doing so in the
case of the document processing system i
told you about what we did is we faked
them by replacing the application the
humans were using and we took the
service interface it was using a script
against that in another system we used
selenium to automate the human process
and the only promise that it was very
predictable then but we could make a lot
of it so that was the trade-off me done
so what you do is you look at what the
humans are doing with tools they are
using which ones you can automate
naturally like selenium and a browser
and which ones you have to code against
maybe your service interfaces and maybe
the service interface isn't clean so you
can't take off one client put a new one
on so maybe there needs to be a
refactoring before you can do this but
yeah essentially where possible you
replace them with code
the question is do I news jmeter grinder
I use all of those what I do is I sit
down I do this I literally do this and
then I look at the system all right how
am I going to load it up you know I've
done load test with X MVP so they use
tomb java applications grind or jmeter
whatever what have you it also depends
on what tools are available i mean if
you come to a dev shop they have tools
so you probably want to hook up with the
tools day half because you're not going
to be the last person using them one of
the things I like to do is make myself
replaceable right so I want to do it in
such a way that one of the devs cuz I
don't like doing things twice so you
want to do it with one of the dev so you
use their tools but yeah you can use any
of those the the actual load test the
way you generate load doesn't really
matter if you look at the output of a
low test the quality is more determined
by how well you prepare using this list
or one like it and what methodology used
to find the problem so how do you zoom
in on the problem because the faster you
can do this the more problems you can
identify and the better chance you have
of being hired back all right yes all
right so the question is what tools do i
use to monitor client-side and
server-side stuff actually the dacoit
the answer is the same as to the
gentleman with a hat you first what I do
is a look at the monitoring tools that
the sermons are using and the devs are
using in place and I try it's not always
possible I try to hook up with those
tools if I am free I take I like simple
tools like for example I just gave a
presentation on the Java instrumentation
API two hours ago I used munion because
it's really simple I like using Java
monitor that I but I'm biased so you
take whatever tool at that point feels
good and what what people around you
know because you're in the process of
also teaching them how to do the two
how to do the monitoring and
interestingly what the one of the
results one of the accidental results of
a monitoring sorry of a of a load test
is that after that you have a monitoring
system sometimes you come into a
customer and date they don't even know
what the cpu load is over the past month
so then you install a monitoring system
and then suddenly they can see a we can
do capacity planning with this you like
yeah and then you can say why I'm going
to use it for the Lotus but then
afterwards you can take it into
production I don't know if I answered
your question sorry I never charge extra
I'm paid very hour so I do whatever is
necessary does that answer your question
though mostly yeah I don't like giving
precise answer because the tools are so
you know oh good question kind of
monitoring tool add load that depends on
how you do it but yeah you can end up in
a situation if you for example run a
load test against the profile system
that you're you're getting more load
because of the profiler in place and the
way to deal with that is very simple
because it that's just something you
need to factor into your life to test
ratio applying manager math because you
really don't know oh I did I set up and
you have any other questions yes how do
I come up with the test of production
ratio this is a very important tool
right what I do is I try to do it as
precisely as possible and I take margin
and then I present it with a lot of
self-confidence that helps but seriously
that the example I've given twice is you
know for production machines versus one
test machine that's an easy one or more
ram or and then you start doing things
like okay so more RAM that's going to
say maybe twenty percent you know so
then you it's not a ratio / save is
twenty percent extra and it especially a
date
sizes are tricky because they tend to be
exponential I have an exponential effect
on time and resource consumption so you
try to get as close as possible to
reality and the rest honestly you just
guess make margins to to buffer the
effect of the gas okay how do I know
something is going to steal linearly or
not well at the end of the day
everything scales in the hockey stick
right so it scales linearly until it
does not so the question is where is the
hockey stick elbow if you will right and
that's something you can actually just
make if you were really not certain you
can say in a test that you will
demonstrate this so then one of the load
test result is where is the hockey stick
elbow for this particular application
and then you're going to load up with
you know hundred user thousand users
10,000 views million users and you're
going to draw a line study the direct
answer to your question is you've got no
clue but this is how you deal with it
you had a question
could you take an existing production
app moving to the test system and
compared that way assuming that the
hardware is comparable yes but if you
got one tenth of the disk space on your
test system versus production you can't
put the full production size on your
test machine right yeah but it is ratio
and data and that tends to be
exponential so that's a particular one
is tricky so yes but the ideal situation
is where you get a clone of production
but then it means the clone with
everything and I don't know how many of
you guys have a test system and a
production system both with an f5 big-ip
because there's 30k each you know so
I've got one more two more question I
think
right so those so the comment is you're
going to you're not going to be able to
have production data yes one of the ways
you can deal with this is for you to set
the load test up on a separate system
and then have them perform the loader so
you're doing more training consultancy
type game and then you you just focus on
a methodology that they use there are
actually more fun gigs because they're
doing a difficult part yes question
alright
okay so what do you do in the situation
where the manager doesn't use manager
math and you've got hard figures that's
actually you presented as if it's a bad
thing but I think that's a good thing if
a manual cometh comes up to me and says
you need to be able to do seven thousand
queries per second on the database now
the only thing I can do is say yes I
will demonstrate whether or not the
system can do this because you know that
that's the only thing you can do at that
point and if he says well you've got the
load test until it does then you're
going to say good then I need commitment
from you on capacity for the database
administrators how many man-hours do I
get from that from you and then it's a
game that's his game then you say oh
look I can reach that number but I need
four guys full time and he's going to
say no or though and say well if you tie
my hands what do you expect sorry that's
why you need well if you're the
developer then you're in the situation
where you need to communicate with your
manager I don't know of all developers
if they're really good at this but
you've got to think like they do you've
got to make it a budget game okay two
more questions I'd I'll get kicked out
of room so we'll just go on till we get
kike I'll start at the back and then
work forward
good question right so what do you do if
your your hardware for example if I may
paraphrase the hardware shares the load
test and a production environment well
then you need commitment from management
and that's okay and then you're going to
say and you're going to say no it's okay
it's okay good can I have a copy of the
system then just said well we don't have
the budget well what do you want me to
do you know it's either/or and then they
decide what you can do is say look if
there's no way of partitioning this
saying okay of the production cluster we
take two machines out there going to run
the load test then you're just going to
have to find off hours slow low tests or
you know just load up production real
careful and see where it breaks but yeah
again it's the same curse the answer I
gave you you've got to make it a budget
game and then you can see them you can
say all right I want this yes
do I use a company in a new star
no I haven't no so the question is do I
use external load testing tools that
yeah companies that do this no people
hire me because they don't use that
right but interesting thought I might
consider it yeah thanks I think there
was another question on the road yeah
good the first one is not getting
commitment right so you end up doing a
load test in a void more series on the
application side what tends to be the
biggest problem is the inability of Java
developers with all respect to
understand what a database does a
relational database does and thinking
all just throw in a cache it'll be okay
so the the what you need to get what you
what you what I find myself doing is
impressing on a developer's that they
are actually responsible at least in
part for what happens on a database and
that idea that there there's a fence
they should cross that's like it doesn't
fit for some reason so that's too what
else the ability to actually do a load
test you know because because of the
share because of data size because so
you end up doing a load test on a system
that in no way you can extrapolate to a
production system so what I do in those
cases is that I tell this to decline is
they look you know this there's no way I
can make a test of production ratio so
what I'm going to do instead is it going
to advise you to make real good
production monitoring tools and based on
that you can do whatever you like you
can launch however you like you're going
to be able to tell how you died after
the launch and then you can fix this
right does that answer your question ok
any other yeah
one of the most common
not
alright so so you say it's not so much
not tuning query so really the question
is is the problem not tuning queries
between developers and and the database
the problem is that at the end of the
day a Java developer doesn't get
relational databases exceptions there
but ninety-nine percent of the guys I've
met they don't understand they think
that hibernate offers a reasonable
interface to a database yeah and they
think that because hibernate made the
queries they're there for good which is
a puzzler to me but so yeah the problem
is that they think they do get it they
understand how to use database when
really they not so you end up with
systems that are you know as you know II
our systems are relational they're set
based so you need to go operations that
are real quick on as many records at the
same times as possible and java
developers can't get out of this i take
this one thing and do one thing with it
and then i save that one thing they
don't feel that ok i'm going to take
everything that matches this criterium
i'm going to do that with it and then oh
it's already saved because it's asked
you up that it doesn't fit in their
heads and then you end up with slow
systems unfortunately yes
all the reports to file you have to say
so you you've written your report and
then there's all the data in there and
you put the management summary in front
and they're going to say our this is not
the right report then i'm going to say
look I talked to you with you about this
management summary from day one why
didn't you talk to me about that earlier
right why do you tell me now that's one
of the things when I say get commitment
I mean get commitment talk to them until
the point that it cannot deny what's in
your report and it's also a way I mean
if they expect everything to be perfect
and you know it's not going to be it's a
way to take you know the three weeks the
month the year that you have for the low
test to massage them into the idea that
maybe their idea was wrong and if you
manage to if you get to the point where
you say no this can't be right that
means that you didn't do that process
right or there's heavy political
pressure from someone that you didn't
expect what do you do
alright well thank you very much for
your attention hope you find it useful
happy load</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>