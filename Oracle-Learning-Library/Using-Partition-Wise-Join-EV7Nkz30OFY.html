<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Partition Wise Join | Coder Coacher - Coaching Coders</title><meta content="Using Partition Wise Join - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Partition Wise Join</b></h2><h5 class="post__date">2011-05-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EV7Nkz30OFY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to this demonstration
the goal is to show you one of the main
benefits of using partition wise joint
which reduce query response time by
minimizing the amount of data exchanged
among parallel execution servers when
joins execute in parallel this
significantly reduces response time and
improves the use of both CPU and memory
resources in a rack environment
partition wise join also avoid or at
least limit the data traffic over the
interconnect which is key to achieve
good scalability for massive joint
operations for this demonstration we are
running our queries on a real database
machine and we are going to use these
two sessions the first one under sequel
plans to execute the queries and the
second one and their Enterprise Manager
and especially sequel manitol to look at
the execution plans ok first connect to
sequel plus using the SOA user and then
we modify some of the initialization
parameter for this session the first one
is a cell of load processing and which
is a special optimization for Exadata so
we want to turn it off here to make sure
we just show you the benefits of the
partition wise joint in itself without
using another or an additional feature
on top of that then we also turn on the
timing for this session so that you can
look at the execution time for each of
the query we are going to read let's run
the first query here it's a join between
two tables that we want to run in
parallel however the two tables are not
a creep partitioned which means that
partition wise join cannot be used in
this case so this is the first example
and let's execute it now
so the statement starts his execution
and he takes a wife or enterprise
manager to catch it in sequel money tour
so it runs for more than a minute so
here we accelerate the time if you will
and after one minute and 18 seconds the
execution is done so you can look at the
number of rows and now we are going to
look at the execution plan itself so it
takes a while to load and there you go
so one important thing here is as you
are going to see is that we are using
two sets of parallel servers to execute
that query so which is the important
difference and shows that we were not
using partition wise join ok so now
let's go back to the sequel monitor main
screen where we can see all the
monitored sequel statements and let's
run another query very similar to the
one we just ran but with the main
difference is that in this case the
orders and the order items tables are
equi partitions which basically allow
the possibility to use partition wise
joint
okay so let's execute the statement and
you can see that it is caught by the
monitoring feature in Enterprise Manager
so it takes a while to complete but here
you're gonna see that it takes much less
time so 17 second compared to one minute
and 18 seconds in the previous example
so this is very important to look at the
difference because you know the two
queries are very similar and you're
gonna see that the plan is also very
similar however the number of rows in
the first case is three times of three
and a half time less than the second
query in this case so which means that
something different happened although we
used parallelism in both cases something
very different happened
and this is what we are going to look at
in the execution plan so let's go back
to the main sequence or page we select
the sequel ID and then the plan is
loading and we scroll down here to look
at the details you can see it's almost
exactly the same we are doing a hash
join however the main difference is that
here we are using only one set of
parallel servers and this is exactly the
the main difference with the previous
plan one set of servers instead of two
removing all the communications between
them so that is why it was much faster
in this case okay so now let's go back
to the main sequel monitor view and
let's run the same statement but this
time without using parallelism so if you
are were not convinced by the power of
parallelism and in this case partition
wise join let's have a look at what it
gives now without using parallelism at
all
so you can see that it takes a while to
complete and once it is complete then
we're gonna check the time it took so
exactly the same number of rows at the
result of the execution obviously but
this time it took more than three
minutes to complete
compared to the previous run which was
17 seconds these concludes the
demonstration where you saw the
importance of having tables
equipartition so you can use partition
wise join in this case so thank you very
much for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>