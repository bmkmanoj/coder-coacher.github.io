<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Implementing Asynchronous Notifications to Heterogeneous External Interfaces | Coder Coacher - Coaching Coders</title><meta content="Implementing Asynchronous Notifications to Heterogeneous External Interfaces - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Implementing Asynchronous Notifications to Heterogeneous External Interfaces</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6n4A_Dzx5IQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for first of all I wanted to say
welcome everyone looks like we have a
great great group of people here today I
know a lot of sessions javaone today and
tomorrow all the week and a lot of them
are really really interesting and I
really like to thank you guys for for
taking the time in coming coming here
today so so i'm not a big fat not a
small thank you but big thank you to
everyone who thanks thanks for being
here so I'm first of all I wanted to
kind of introduce myself I'm from Verona
SH Russia and this is this is what it
looks like it's very it's very beautiful
city and if have anyone been to Russia
here all right we got we got a few
people very very cool so I guess from
Russia or I lloret just visited from
Russia okay perfect cool so um people
also ask where where it is gives you
know baronies Russia I mean it's you
know it's a Russian name so so here
here's what it is on the map okay Moscow
is right there but 300 miles south but
our flight it's very hard landish so
it's basically a kind of like a Midwest
over here in America so a lot about your
culture is very Russian
so I work for a capgemini i'm a
consultant senior consultant I work in
custom development I specialize in java
and j2ee technologies and I work for
capgemini for about seven seven years
over seven years now so so I know I I
probably have a lot similar background
as a lot of hello people over here as
well and so I think we'll find a finding
common como language so but the
interesting thing is right now i'm not
i'm done i'm not a custom development
like a developer role currently i'm
actually doing the application
management support and this is kind of a
core idea i wanted to bring today kind
of a fusion of the application
development with application management
and support you know where where the
boundary is but it I will talk about a
little later annual you'll get where I'm
where I'm coming from so my colleague
over here is surely nurse Wayne so
thanks for coming I'm cylindrica my
swing I am from a place called Odisha
it's in India who love temples and you
can know I don't have to introduce
myself you can know it from my accent
this is how it is located on the east
coast of the india i have got 10 years
of custom development experience mostly
using JT technologies so my colleague
will explain know what this topic is all
about and then we have last two slides
will compare like what is the difference
we get if you go for custom build over
buying a of the cell product and will
not take must a few times you are a
little tired all right so I'm here's a
here's a big question right i mean why
are we here like why why is this topic
important why why is it worthwhile to
talk about it so
I wanted to kind of make this session a
little bit more interactive I know a lot
of people you know use a lot of bullet
points or whatever so but I wanted to
bring the bring you guys as part of the
discussion and can you can someone tell
can someone here kind of give me idea of
you know why why it matters why you guys
are here if you guys can raise your hand
and kind of give me the curious yourself
so you okay
uh-huh
okay fair enough okay so okay it could
be it could be pretty straightforward
right but ok that's a good question okay
anyone else okay okay so okay the
distributed environment and how the
notification happens and distributed
anyone anyone else I please okay uh-huh
little messaging between systems okay to
implement okay please
okay how to how to do it could you could
just pick up actually I okay mm-hmm okay
good question this position is about
like let's say you have a system where
you are doing like for ordering system
right you book order then you can modify
you can cancel right if you do a
multithreading in that case let's say
you put messages in the queue a topic
right if you do multithreading widely up
and you will end up consuming the
modified message first then book next
right so how do you address all these
issues yep yep perfect all right so well
those are all great great great ideas so
why we hear what we're talking about
this so first of all I wanted to tie a
tie it in until being developer to being
a part of application management right
so as developers a lot of times we think
here's our world right i mean there's
always there's a design develop test and
launch right there are there could be
other things happen you know there's
could be business requirements gathering
and there's application support so
there's business business requirements
on the left side and applications put in
the right but a lot of times with
developers we kind of we just want to
build build bit right we want to
introduce new functionality and a lot of
times we enter the time pressure to to
build it as quickly as possible right
and and this is where this is where I I
was maybe until about two years ago so I
was really focused on very concentrated
delivery and building building features
been you can be building the
functionality so now but when you launch
right like what happens right you launch
something and then
and then magically it's it's going to is
going to be live i guess i don't know
somebody some people going to use it but
the question is it's not just about the
users right it's also about how easy it
is to maintain the application right
because there's going to be first of all
the availability of the application is
crucial right majority of the majority
of the company's right the one that 24-7
availability of their systems right so
we can't really just expect it to
randomly go down but but we have to also
take into consideration that there are
people who actually make sure that the
system is up and running those 24 7
right so the people has have to
constantly babysit it and constantly
have to make sure that they're you know
there are no problems in the system so
what happens a lot of times you know we
introduced you know it's not a
monolithic system and enterprise system
right there are a lot of components so
there's it's not just one application
there are multiple applications involved
in that in the regular you know in the
business transaction right so as we
introduce more and more application as
you see in this in the slide the
complexity of the system grows the more
and more interfaces there are there
higher and higher probability that
something will you know not work as it
supposed to something will go down so
what will happen in the case of
synchronous or so even the easiest way
would be all you know what we'll just
make sure everything is real-time make
everything happens at the same time and
that's the first urge right but the
question is is it is it a right solution
I mean and as you can see here if one of
the system will go down it will
significantly affect everything right I
mean if everything is real time and one
of the components is down then then the
whole the whole flow fails so there are
significant problems with real time as I
said
the real first of all real times real
time cost external systems slow very
they could be very slow because
sometimes it could be a new system
sometimes could be a legacy system right
and the older the system the more
complex it is the high chance that that
the calls will be not not performant
then there's also high probability that
any of the system will go down it's it's
just it's just a given that something
will go wrong so what will happen in
this case right something goes down
somebody will get a call at you know at
four o'clock in the morning to try and
take a look at it right so that's that's
not me in the picture but I've been in
that situation quite quite a few times
so so here I them so anything that can
go wrong will will go wrong right you're
you know you've all probably seen this
but but the cool thing is i love this is
that Murphy was an optimist right
because you know you know he given us
this word of warning right i mean we
have to prepare for the worst so that's
why i feel like the second quarters very
very actual here so now of course we
instead of debugging problems you know
connectivity interface issues at 4am
would rather will be at the beach so so
what can what can really be done right i
mean we really have to think think
strategically and look at the enterprise
system holistically right and look at
all the different parts that involve
this in the business transactions this
is basically what do you face every day
day in day out as a developer so this is
basically to get you feel like what we
are experiencing throughout so first of
all what can we really do um obviously
if it's it's just we need to simplify
when we look at it we need to figure out
what part of the business process can
happen later we can we can club
everything in one place we need to
really divide and conquer
and only have the crucial transaction
happen real time and then everything
else should be offloaded to later the
good news is that a lot of times the
synchronous processes in a larger
business flows there are parts that
synchronous and they're already parts
that could be natural being made on
synchronous right so think about getting
a coffee at Starbucks right would you do
right you walk up to a brewery you work
up to the cashier you pay for it and
they write down your your drink that you
want to get right and then send it off
with the barista right so the
transaction is done in barista then
tries to manage the load and there may
be something some drink maybe may take
faster or slower right but it's up to
the barista to uh to do it so what are
the different integration approaches in
this case if you want to really offload
things to later right what are the
different ways we can go so some of
those will could be a batch batch
process right or batch in the file
transfer to to an external system so we
integrate the system by using using the
downloaded data to it a little bit later
right not real time but down down in the
future say nightly your hourly or
however it may be the second will be
shared database right so you know there
could be there in a database that could
be different people accessing the same
data or there could be some kind of a
synchronization process that runs in
between the the database schemas right
that syncs up the information between
the two but what what really we want to
talk about today is the it's a messaging
right out of this tree there's
definitely advantage of this an inch of
each but I think messaging is generally
accepted as to be one of the newer ways
to integrate systems so it is really the
topic of discussion today so I'll
concentrate on this so now we saw the
synchronous for a we saw what happens if
you know everything is in
you know in one transaction now if you
simplify the process and take the
systems out out of the main business
transaction main business flow and and
put some kind of a messaging component
between you can see how how it actually
simplifies how it makes it more reliable
right so same same exact picture as
before but you can see there's a topic
in the middle right what happens so that
so main transaction just pushes a
message right and it forgets so it
continues doing whatever it's been doing
it published it finish their business
flow and boom now all those external
systems they are there and they need to
subscribe right to the topic a register
to be able to consume those masters so
really they the each external system
goes and subscribes and registers to
receive an event now if one of the
external systems is down as we saw I
mean it's it's it's a given right it's
not a big deal because the main
transaction flow will still be there I
mean it it's going to be working as it
was and all the other external systems
will still be functional and getting the
updates but the external system once it
goes down you know with if it comes back
up in a few hours it's not a big deal it
will still get the messages so compare
this synchronous with that synchronous
flow so now so we talked about this
simplifying and looking at you know how
the business transactions could be
simplified and split up into the
synchronous and asynchronous components
so what we really once we once we done
that once we gone through that process
we want to also look at the technical
requirements okay we want we know that
we need to split it up right like how
how we do it like what should we be
looking for right and also we also want
to look at the business practice
is the best practices that are out there
available for us as as developers or as
software architects or Enterprise
architects so for example this is one of
the technical requirements that that
we've talked about so no we don't want
to impact any other flows if system that
goes down so second one is guaranteed
delivery those are different examples I
mean this is not the complete list but
to give an idea what is guaranteed
delivery right if something is down we
don't want to miss miss a beat right if
something happened while the system is
done we still want for it to receive the
notification right and update a message
so that that can happen on that actually
there could be two parts of that
guaranteed delivery sometimes the legacy
systems can completely and making
completely go wrong right the database
could go corrupt and there could be
significant problems so guaranteed
delivery may not even be purely from to
say that the messages will still there
will still be there in the messaging
system but there may be also requirement
to provide some kind of a reload
mechanism where you know all the message
that I'd missed even if it got the
messages at the end it will still want
to receive those one more time so then
another requirement is support a
multi-threaded processing so we do want
the system to be as quick as possible
even if it's a synchronous right so we
can't we can't wait for message to be
there in the queue for hours or four
days right we want to for it to be
processed as quickly as possible so we
need to be able to introduce multiple
threads reading off of the same same
queue of the same topic to be able to
process those as first comfort you know
in the queue as quickly as we can
but the interesting thing is that it
once we introduced the synchronization
Oh multi trading right there always you
know the light bulb goes off right okay
what about this synchronization right
I've been actually a couple sessions
today about the multi trading and they
talked about all the race conditions and
the Philosopher's dining philosophers
problem and it was it was pretty it was
pretty good and so we need to find a way
to synchronize if you have multiple
threads reading off the same queue we
need to be able to find a way to
synchronize them because if if something
say if order is placed right and order
is placed and suddenly you change your
mind right you want to cancel it right
you can't have a cancel be processed
before the the actual orders placed
right so those kind of things and if
there are multiple threads the reading
of the queue there's a good chance that
one could be processed before the other
right so you need to be able to
synchronize it somehow another point
systems especially legacy ones they
don't they don't natively support same
mq integration right a lot of them maybe
TCP IP interface or or they could be web
service based right so you can just plug
and play you can put a so you can you
can add an external system and expect it
to integrate immediately so you need to
have an ability to have an adapter to be
able to build an adapter to integrate
the external system into the whole
messaging flow so need for adapters and
the last but not least on we all know
that that the systems usually change
they never stationary so there's always
there is something in flux and there is
a very high chance that their new system
need to be introduced so the system
needs to be at the technical requirement
this case will be the flexibility of
introduction additional extra
all systems over time right we need to
be flexible enough to do that so now so
those are some of the technical
requirements okay what are the best
practices also we there are quite a lot
of good books out there and obviously
everybody seen the gang of four patterns
right but what one excellent book I
found is called enterprise integration
patterns and actually a lot of it is a
lot of the patterns there are described
in that book are based on the gang of
four patterns and it's a it's a very
phenomenal book as to it explains really
from the grounds up I me what are the
messages and only guaranteed delivery
and how you know you build the message
in message channels together right how
do you how do you start with the
smallest components and then build on
them to to create a bigger bigger system
so I wanted to kind of give an idea of
what is in that book so and also kind of
bring the the topic that we talked about
today with the patterns that I described
in the book so one interesting one is
the notification notification of the
external system okay how is it done a
lot of times notification happens using
the event message event messaging
mechanism so in this case the systems
register and when event the main
application triggers event and then only
the systems that really register for the
event will will receive the message so
then building on that we need to be able
to integrate the this system which
doesn't support the messaging out of the
box with with a messaging system so how
do we do that we we add the channel
adapter which which then sits in front
of the actual system and talks to it and
at the same time it provides the nitty
gritty detail of integration to the X to
the messaging system to the MQ so in
this case you can see some of the
systems may may actually already be able
to integrate out of the box while others
need that need the channel adapters
which are sitting in front of them so
again the channel the adapter is really
just it's a the pattern builds on top of
the gang of four channel adapter pattern
then another good another really
interesting one which which which I
would say very useful is the message
router right so we we adding the
complexity right so we had the observer
systems which are listening for the
events then we added the channel
adapters in front of them and then we
added the additional third component in
the middle which is a message router
right because not all the systems may be
main want to know about something right
we only want to send the events to
certain systems which which are which
really need to know so it's kind of when
I need to know basis right
so how do we do that we need to
introduce that this middle component
called message router and that component
actually looks at the message it doesn't
do anything with it it just forwards it
to the appropriate system and I would
like to add a few points there the
router that we are talking about it has
some intelligence the intelligence is
basically you can call it content based
routing it will prove the message you
will see what kind of message it is
getting and you can have some
configuration up database configuration
their router can go to database and find
out who is the intended recipients for
that mrs. so that routing logic should
be in bill in in the router in the mess
router so in this case any of the
observer systems or subscribers that
don't really have any knowledge right
they just care whatever comes to us
we're going to process the message
router just looks at say xpath if it's
an XML XML event right it could look at
some an XPath pat you know some content
of the message and then figure out where
where it needs to go right and obviously
internally it may have some database
configuration and something that they
will tell her how to route the Masters
correctly and then finally we talked
about the smaller subset and there's
also kind of like a bigger picture
pattern that's called the message
message bus and and some of the e is
being or inter press service bus
products out there in the market that
actually implement this pattern is just
the way to integrate all the
applications kind of have a flexibility
of adding in messaging between different
applications without them really knowing
about each other okay so so now we
talked about the requirements the best
practices now once we've defined those
we we have we have all the knowledge
right to help us decide
what you know what to do at the end
right we need to figure out what what
what to do either do the custom build or
select tools so sure Linda will will
actually talk walk us through the arm
this this this section yeah this is
basically a brief comparison between
custom solution and the products that
are available out there in the market
you can call enterprise service bus
service family of specifications like
web solution notification service
reliable messaging security all those
things why you are talking about all
these things we can go out and choose a
product and you we just need to know how
to use that product why you are talking
about all these design pattern and all
so basically there are a few points this
is just an honest compassion that we get
from you can go online and find that out
so initial cost so when you go for
custom solution the initial cost will be
higher compared to the vendor product
initial cost is I have but you if you
consider the maintenance cost over a
period of time but here the custom
solution is going to win every time we
get a upgrade are you move to like if
you need a like high availability
solution annuity duplicate your
deployment right if you go for a USB
solution then the deployment that needs
to be duplicated across multiple
machines so in that case you need to buy
a license for deploying the application
on another buck says documentation
generally I hear what you are trying to
appoint out is not all custom solutions
are poorly documented but it is just
overlooked so the developer ID scored
maybe he knows that the code is readable
so no need to put any comments or things
like that alright and for marketing
purpose vendor don't have any option
they have to go for a bit or
documentation otherwise nobody will buy
it it is going to be a black back black
box for the users skill set available if
you go
custom solution you don't have any skill
set what you need to do is you need to
train your developer you need to come up
with the design and the solution
detailed then you need to train your
developer to come up to that level so
that they will be able to contribute to
development and testing of the product
for vendor solution there are already
skilled developers available in the
market you can go have them choose a
product for that you need to do a lots
of ground or act like there are tons of
products available USB product open
source product so you need to like do
some initial analysis again you will be
investing something in that then choose
the bit of product and have the
developers and implement the solution
flexibility custom solution we know what
we are building it is very easy for us
to modify our own code rather than what
you think somebody else code right
vendor lock-in sometimes what happens if
you buy somebody else product then they
will say okay you need to use our
hardware because the way the product is
build is basically it will perform
better than if you use our earlier if
you use somebody else third petty haria
did not perform up to that level so
that's we under luck in the other thing
is you don't have a choice to duplicate
as I said you like if you want a high
availability solution in that case you
don't have a choice but again you need
to pay for the license single point of
failure it's custom solution it's again
similar to a I like high availability
light if you can have active active
solution or active passive solution so
that that's up to you how you implement
how system is designed to work like we
discussed in the previous slide you have
a queue let's say you have a queue you
are going to duplicate your deployment
right you will have two applications
consuming messages from Q right to
application I mean and the duplicate of
we are duplicating the application die
you will end up consuming same message
from the Q 2 times correct so you don't
have a choice there you cannot go for
duplicating the deployment in case of
endor product but if you go for some
custom solution that we have already
implemented for some of our customers
you can go for that solution
synchronization all those things you can
build java is focusing very much on that
area like we got multithreading in java
five then again jaa 6 that they are we
having that api to have a better
solution for multi-threading again
multi-threaded processing multi-threaded
processing basically if it is custom
solution you can figure out the areas
where you can implement parallel
processing since it is your own code you
know how to implement multi-threading in
there if it is vendor solution then you
have to reach out to the wind up to
figure out the different areas where you
can multi threat the business logic it
can be interaction with your any other
external systems legacy system might
have adapters custom solution is
basically adjustable range it can be
used for any sizes of not unbolts and
the wind up gives you some facility
especially when you are dealing with the
lots of legacy systems so vendor might
not have a solution for that you have to
go ahead and build it for yourself
changing business needs we are all
experiencing all these problems day not
day out every day we get some
requirement like business user will say
i want this requirement in this week I
want this requirement ASAP so if you did
a vendor solution then you need to do
lots of ground works are you have to
figure out how to implement that
particular requirement if it is a custom
solution in that case you know what you
have written there how your design your
system so you can engage couple of
developers designers then you can get it
done in like few weeks are a few days
impact on the system down this again
what do we explain asynchronous
messaging are those things we can
implement in custom solution which is
like may or may not be supported by the
way in that solution so this is all
about compassion if you have you guys
have any questions you can yeah we can
so move on to the next slide yep so we
wanted to open it up for our discussions
to make it more interactive of today
let's say you have a small business
right I will go out and buy the USB
product there are lots of a conserve csb
are lots of framework you name it done
you have it let's say yes to be product
like I can talk about few GSB then from
Apache we have a few CSVs from a
position there are other solutions are
active m2 from Apache also that can be
used for developing the only yes be
there is a pudgy servicemix also thats
exactly does our DSP add us today any
vendor solution it's actually cost under
maintenance see if you go for endure
solution over a period of time if you
compare the cost you will be spending
more well I think you have to consider
the requirements that you have and and
maybe the the ESB may be overkill right
it may be easier to just use activemq or
whatever right right right i think he is
visa its it builds on top of the mq
right so it's it's a lot more it's it's
a higher level abstraction right there
could be a lot more functionality in the
SB product versus just the pure activemq
right so as i showed in some of the
slides right i try to take the smaller
like the simplest pattern right and kind
of build on it right you add the
adapters you had the messaging router
then you take that and and where you can
have an ESB which is totally you know
high level very high abstract system
that you know just integrates the two
different applications without even them
knowing about each other sufficiently
you should not go for years we know you
have a small interval
doing like what business is vs have
pretty costly nowadays any SB solution
we do never named the winner but you can
go out and find out loud to yourself a
penny anybody else I think we have we
had some questions I earlier about input
some people something about implementing
some solution down in the future pretty
shortly if you have specific problem you
want to talk about then we can discuss
that here yeah so definitely yeah so
yeah feel free to stop by and do
one-on-one or just more at the next
light so we ever you know beards five
o'clock finally so we're probably going
to go down to the the bar at the Hilton
what's a cold a need to figure it out
the urban tavern if you guys want to
join and talk over beer I mean you're
welcome to okay thanks everybody and so
on</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>