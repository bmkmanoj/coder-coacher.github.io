<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Getting Started with EMCLI in Script Mode | Coder Coacher - Coaching Coders</title><meta content="Getting Started with EMCLI in Script Mode - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Getting Started with EMCLI in Script Mode</b></h2><h5 class="post__date">2013-09-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HvQY8yAVPho" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is the Oracle Enterprise Manager
cloud control 12c demo series in this
demo we will be getting started with emc
li in script mode in this demo I assume
that we have already downloaded the emc
li advanced kit with scripting option
and are familiar with the basics of
interactive mode in this demo we will
look at three scripts the first is a
simple get target so that we can review
the response object the second script
changes the lifecycle status for a set
of databases and the third script
changes the DB SNMP password on the
repository and on the database target
first set of databases the first thing
we do is perform a sink to the OMS that
we're going to connect to provide the
password synchronization successful
let's view the first script so the first
script we will run is here on the left
hand side every script can effectively
be broken down into two parts the
setting of properties and the logging in
to the OMS and the second part is
getting and manipulation of information
so the part of first part of this script
we are setting the OMS URL property and
the second property we are setting as
the MCL I trust of which the trusts all
certificates the minimum level of
security for any script and then we're
performing a login to the OMS then we
are performing to get target's command
for all oracle underscore database type
targets we are returning that
information into the are es object then
we are going to do a print on that
information every procedure returns a
response object which comprises of four
parts the actual data res dot out the
res error the exit code which tells us
the procedure ran correctly it is zero
if it ran correct
and if it did not run correctly the
errors will be in the errors response
object and we are only interested in it
if the exit code was anything other than
zero the is JSON tells us if the output
of the data was stored in JSON format
which is an array of name value pairs
and it allows for easier parsing and
script in this window we are going to
use M CLI in script mode so we use the @
sign and we give the path and the
filename in my case it's demo 1 dot py
and as we saw over here we are going to
pass it the username argument I'll be
prompted for the password and I'll put
the information we can see number of
targets that are oracle underscore
database type is 124 there are no errors
because the exit code was 0 the
information is in JSON format and the
logout was successful let's move on to
the second script in the second script
we changed the life cycle status for a
set of databases as we mentioned every
script can effectively be broken down
into two blocks the setting of the OMS
URL that we will connect to for the
information on the level of trust
certificate that it will use to
communicate between the e/m CLI and the
OMS and the login into repository and
the second block is the getting and
manipulation of the information from the
OMS setting the informations about
halfway down we're setting the to
minimum settings iam CLI OMS URL and the
e/m CLI Trust of equal to true and then
we have the login in which again is an
argument being passed to the script we
are setting a few variables then we are
doing a get target with properties
looking for all the database versions
equal to 12 point one and the get
targets with properties is an internal
definition within our script which is
doing a sequel statement with elect
target named target type property name
property value from management dollar
target underscore problem
property name and the property value
that was passed in down below DP version
and 12.1 then for every piece of
information we can see we're putting it
into a response object called obj and
the list verb which is putting it into
the JSON format which is an array of
name value pairs for easier parsing so
in the script we see a for loop so we're
going to iterate through each piece of
information that is returned from the
sequel statement and we are going to
look for the lifecycle status property
or more is added to test so let's
execute the script
it's displaying print messages from the
considerating through all the
information it received from the sequel
statement and Isetta lifecycle property
to test
so if you move out here to the console
there we do a search on lifecycle status
because the life like of that is that
the test
let's move on to the third script here
we change the DB SNMP password for the
English databases
let's scroll down to the setting of the
client properties word so it's the
second half you can see we're setting
our client properties or OMS URL we're
setting our trust certificate to accept
all then we log in then in our second
block of code we shall set some
variables one is the group name and the
other is the array of database name and
type they're going to create a group and
we add members to that group which is
database name and the database type from
the above array printing information to
the screen as we do so here we prompt
the user to enter information so that we
can progress through our script
further down in the script for easier
manipulation we see that we have FET CBS
a Tempe old password and new password
then we're going to iterate through and
update the DB password for the group
which is defined up here getting group
members and looping through each member
of that group and performing an update
DB password for targets so let's go over
here to this window and run the script
now let's change the password for the
group I'm secret one to secret to
changing the password job completed
successfully now it's on to the next
task changing the password for when Sid
DB one type Oracle database job
completed successfully
for more information please refer to the
Enterprise Manager command line
interface guide on the Oracle technology
Network accessible from the Oracle home
page thank you and that concludes our
demo with getting started with
Enterprise Manager command-line
interface in script mode</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>